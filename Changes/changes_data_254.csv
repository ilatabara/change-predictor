id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-helm-infra~master~I298bf5a28a2b85ba68f8fe3ac834cfe445eee019,openstack/openstack-helm-infra,master,I298bf5a28a2b85ba68f8fe3ac834cfe445eee019,Add enhancement to mariadb backup,ABANDONED,2019-07-29 14:27:42.000000000,2020-07-15 20:42:50.000000000,,"[{'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28743}, {'_account_id': 28875}]","[{'number': 1, 'created': '2019-07-29 14:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d755bf806ec0dff830cfe671c4f0c6d10a3fe5d6', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 2, 'created': '2019-07-29 15:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9da459a3f48252ac1f7104ba72027801107d6c36', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 3, 'created': '2019-07-29 17:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84c70c5e3ac0df6e17f1334c180e69b9ad053924', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 4, 'created': '2019-07-29 21:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c67270469f6ca3c7c8750045e54a65bc07ef7466', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 5, 'created': '2019-07-30 14:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b78e503c8d513678d261acedb43d9928c0babc32', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 6, 'created': '2019-07-30 17:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/971f91841f5c4e00c841fd7f6df935ac55392aad', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 7, 'created': '2019-07-30 18:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a18ee8760ff6012a31382e06e954132bab7e77c', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 8, 'created': '2019-07-30 19:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/273e7d7700e14c521c83f60acb76c064fc07220f', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 9, 'created': '2019-07-31 04:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a0ba4fe680e88754aef8d1bf11ae562069b1bed', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 10, 'created': '2019-07-31 15:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1f300fbdaa47cedaf158ca3d4a94e4dd93a7a4ac', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 11, 'created': '2019-07-31 16:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3fa65275ec207f60fe55dd83f7e00f097b0467f7', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 12, 'created': '2019-07-31 17:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e339270c099d84041498ad1dade055f97689db5d', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 13, 'created': '2019-07-31 19:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc468addc828d15f59d85459c3696a11997861c1', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 14, 'created': '2019-08-01 17:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60240083bcdf888b1bb2ba28b12a30595522ca09', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 15, 'created': '2019-08-01 19:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/534bf6c7ead2b0e52bc0cc8a41b4de6b7e198fd8', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/5\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 16, 'created': '2019-08-05 18:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4a3ab6443c5079ad9e1f770395c1d8017dc75b54', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/12\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 17, 'created': '2019-08-19 16:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/28f1de553c4e386223cdd1eaecb0562593cac7c5', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/12\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 18, 'created': '2019-08-19 18:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c12eaad502479cacb023e0ea914daf5a03bb0f5a', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/12\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 19, 'created': '2019-08-19 19:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b0b4020494d42a309572d0e0a14fdb4438bd6bb', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/12\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 20, 'created': '2019-08-19 20:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/888d47f087cdc9df6aac8891e4c307305369a10c', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/12\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 21, 'created': '2019-08-19 20:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96845acf6ba465a66d5493090d35750e909dcb7a', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/12\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}, {'number': 22, 'created': '2019-08-20 17:40:44.000000000', 'files': ['mariadb/templates/bin/_remote_retrieve_mariadb.sh.tpl', 'mariadb/templates/bin/_common_backup_restore.sh.tpl', 'mariadb/templates/secret-mariadb-backup-ks.yaml', 'tools/deployment/openstack-support/100-ceph-radosgateway.sh', 'mariadb/values.yaml', 'tools/deployment/backup-restore/mariadb-backup-remote-test.sh', 'tools/deployment/multinode/045-mariadb.sh', 'mariadb/templates/bin/_restore_mariadb.sh.tpl', 'mariadb/templates/bin/_remote_store_mariadb.sh.tpl', 'tools/deployment/osh-infra-monitoring/045-mariadb.sh', 'tools/deployment/keystone-auth/070-keystone.sh', 'mariadb/templates/bin/_backup_mariadb.sh.tpl', 'mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/configmap-bin.yaml', 'tools/deployment/backup-restore/wait-for-pods.sh', 'zuul.d/project.yaml', 'tools/deployment/keystone-auth/060-mariadb.sh', 'mariadb/templates/secrets-os-backup.yaml', 'tools/deployment/backup-restore/mariadb-backup-pvc-test.sh', 'zuul.d/jobs.yaml', 'mariadb/templates/job-ks-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ab5e7e0f559375ca9d4eb840e5649ec57371a54', 'message': 'Add enhancement to mariadb backup\n\n  * Enabling swift remote capability to the backup script\n  * Enabling swift remote capability to the restore script\n  * Add second container to the cronjob for remote upload of the backup archive\n  * Add test job for remote swift\n  * Add test job for PVC\n\nDepends-On: https://review.opendev.org/#/c/672738/12\nChange-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019\n'}]",32,673299,5ab5e7e0f559375ca9d4eb840e5649ec57371a54,62,8,22,28875,,,0,"Add enhancement to mariadb backup

  * Enabling swift remote capability to the backup script
  * Enabling swift remote capability to the restore script
  * Add second container to the cronjob for remote upload of the backup archive
  * Add test job for remote swift
  * Add test job for PVC

Depends-On: https://review.opendev.org/#/c/672738/12
Change-Id: I298bf5a28a2b85ba68f8fe3ac834cfe445eee019
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/673299/7 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/bin/_remote_retrieve_mariadb.sh.tpl', 'mariadb/templates/bin/_common_backup_restore.sh.tpl', 'mariadb/templates/secret-mariadb-backup-ks.yaml', 'mariadb/values.yaml', 'tools/deployment/backup-restore/080-setup-client.sh', 'tools/deployment/backup-restore/100-ceph-radosgateway.sh', 'mariadb/templates/bin/_restore_mariadb.sh.tpl', 'tools/deployment/backup-restore/mariadb-backup-test.sh', 'mariadb/templates/bin/_remote_store_mariadb.sh.tpl', 'mariadb/templates/bin/_backup_mariadb.sh.tpl', 'mariadb/templates/cron-job-backup-mariadb.yaml', 'tools/deployment/backup-restore/070-mariadb.sh', 'mariadb/templates/configmap-bin.yaml', 'tools/deployment/backup-restore/wait-for-pods.sh', 'zuul.d/project.yaml', 'tools/deployment/backup-restore/090-keystone.sh', 'mariadb/templates/secrets-os-backup.yaml', 'zuul.d/jobs.yaml', 'mariadb/templates/job-ks-user.yaml']",19,d755bf806ec0dff830cfe671c4f0c6d10a3fe5d6,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.job_ks_user }} {{- $ksUserJob := dict ""envAll"" . ""serviceName"" ""mariadb"" ""backoffLimit"" .Values.jobs.ks_user.backoffLimit ""activeDeadlineSeconds"" .Values.jobs.ks_user.activeDeadlineSeconds -}} {{ $ksUserJob | include ""helm-toolkit.manifests.job_ks_user"" }} {{- end }} ",,1266,87
openstack%2Fopenstack-helm-infra~master~I832d02636a4830787491249b50c73ee5712419bc,openstack/openstack-helm-infra,master,I832d02636a4830787491249b50c73ee5712419bc,RabbitMQ: Add ability to change io thread pool size,ABANDONED,2019-08-20 08:01:33.000000000,2020-07-15 20:42:43.000000000,,"[{'_account_id': 8768}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-08-20 08:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff980f2f777f5442ef190c5bda5a59fa48f6516d', 'message': 'RabbitMQ: Add ability to change io thread pool size\n\nThe default io thread pool size is calculated based on system CPU number.\nIt might not suitable on some systems which have CPUs reserved for specific\nusage.\n\nThis PS adds the ability to change the io thread pool size.\n\nChange-Id: I832d02636a4830787491249b50c73ee5712419bc\nSigned-off-by: Bin Yang <bin.yang@intel.com>\n'}, {'number': 2, 'created': '2019-08-23 01:28:52.000000000', 'files': ['rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/32e7a0cace2bf4e291a992b8c9b7eb4a2a4dc86f', 'message': 'RabbitMQ: Add ability to change io thread pool size\n\nThe default io thread pool size is calculated based on system CPU number.\nIt might not suitable on some systems which have CPUs reserved for specific\nusage.\n\nThis PS adds the ability to change the io thread pool size.\n\nChange-Id: I832d02636a4830787491249b50c73ee5712419bc\nSigned-off-by: Bin Yang <bin.yang@intel.com>\n'}]",2,677425,32e7a0cace2bf4e291a992b8c9b7eb4a2a4dc86f,7,5,2,30261,,,0,"RabbitMQ: Add ability to change io thread pool size

The default io thread pool size is calculated based on system CPU number.
It might not suitable on some systems which have CPUs reserved for specific
usage.

This PS adds the ability to change the io thread pool size.

Change-Id: I832d02636a4830787491249b50c73ee5712419bc
Signed-off-by: Bin Yang <bin.yang@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/677425/2 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml']",2,ff980f2f777f5442ef190c5bda5a59fa48f6516d,,{{- if not $envAll.Values.io_thread_pool.enabled }} - name: RABBITMQ_IO_THREAD_POOL_SIZE value: {{ $envAll.Values.io_thread_pool.size }} {{- end }}{{- if not $envAll.Values.io_thread_pool.enabled }} - name: RABBITMQ_IO_THREAD_POOL_SIZE value: {{ $envAll.Values.io_thread_pool.size }} {{- end }},,12,0
openstack%2Fopenstack-helm-infra~master~I017c8b438d67a6d09e78c8dcb1255c3a65091684,openstack/openstack-helm-infra,master,I017c8b438d67a6d09e78c8dcb1255c3a65091684,Added file to implement lasermetrics node_exporter [782],ABANDONED,2019-05-14 15:48:49.000000000,2020-07-15 20:42:20.000000000,,"[{'_account_id': 8898}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-14 15:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/beae4b44a34bfd07cebc01ede2d2397432579429', 'message': 'Added file to implement lasermetrics node_exporter [782]\n\nChange-Id: I017c8b438d67a6d09e78c8dcb1255c3a65091684\n'}, {'number': 2, 'created': '2019-05-14 19:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34c1e710ee80c7081ee6a7f176d737f943304962', 'message': 'Added file to implement lasermetrics node_exporter [782]\n\nChange-Id: I017c8b438d67a6d09e78c8dcb1255c3a65091684\n'}, {'number': 3, 'created': '2019-06-19 14:19:15.000000000', 'files': ['grafana/lasermetrics-grafana.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ad0e6c62d8b4133e66ceaeb511562e856193174', 'message': 'Added file to implement lasermetrics node_exporter [782]\n\nChange-Id: I017c8b438d67a6d09e78c8dcb1255c3a65091684\n'}]",4,659107,9ad0e6c62d8b4133e66ceaeb511562e856193174,9,6,3,30120,,,0,"Added file to implement lasermetrics node_exporter [782]

Change-Id: I017c8b438d67a6d09e78c8dcb1255c3a65091684
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/659107/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/lasermetrics-grafana.yaml'],1,beae4b44a34bfd07cebc01ede2d2397432579429,,"--- annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: ~ graphTooltip: 0 id: 2 links: ~ panels: - aliasColors: ~ bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 13 w: 24 x: 0 ? ""y"" : 0 id: 2 legend: alignAsTable: true avg: true current: true max: true min: true rightSide: false show: true total: true values: true lines: true linewidth: 1 links: ~ nullPointMode: ~ percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: ~ spaceLength: 10 stack: true steppedLine: true targets: - expr: ""node_textfile_mtime{file=\""laser-metrics.prom\""}"" format: time_series intervalFactor: 1 refId: A thresholds: ~ timeFrom: ~ timeRegions: ~ timeShift: ~ title: ""Laser Strength Metric"" tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: ~ mode: time name: ~ show: true values: ~ yaxes: - decimals: ~ format: dBm label: """" logBase: 1 max: ~ min: ~ show: true - format: short label: ~ logBase: 1 max: ~ min: ~ show: true yaxis: align: false alignLevel: ~ schemaVersion: 18 style: dark tags: ~ templating: list: ~ time: from: now-6h to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: ""Laser Strength"" uid: dW0mnbRZz version: 3 ",,127,0
openstack%2Fopenstack-helm-images~master~Id6e586f3cc234383dedfcd8402245bed7fe85dba,openstack/openstack-helm-images,master,Id6e586f3cc234383dedfcd8402245bed7fe85dba,Build Xenial OVS images,ABANDONED,2019-07-09 09:54:54.000000000,2020-07-15 20:41:58.000000000,,"[{'_account_id': 12281}, {'_account_id': 16353}, {'_account_id': 16881}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29668}, {'_account_id': 30220}, {'_account_id': 30232}]","[{'number': 1, 'created': '2019-07-09 09:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a98f6c696a082f74d5fcad88d3cb57d98d56d820', 'message': 'Support for Xenial images\n\nloci images still support xenial alongwith bionic adding\nthe same support here as well\n\nChange-Id: Id6e586f3cc234383dedfcd8402245bed7fe85dba\n'}, {'number': 2, 'created': '2019-07-09 14:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e5d16c670b00f78ac7544965f2af267c10e07055', 'message': 'Build Xenial OVS images\n\nAnother patch introduced the Bionic image building, but\nforgot the Xenial image building.\nThis adds support of Xenial using the same Dockerfile as\nBionic, for re-use.\n\nChange-Id: Id6e586f3cc234383dedfcd8402245bed7fe85dba\n'}, {'number': 3, 'created': '2019-07-11 05:19:32.000000000', 'files': ['openvswitch/Dockerfile.ubuntu-dpdk', 'openvswitch/Dockerfile.ubuntu', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/cfead8d1bfde0b0e6908236d7307798a666b269a', 'message': 'Build Xenial OVS images\n\nAnother patch introduced the Bionic image building, but\nforgot the Xenial image building.\nThis adds support of Xenial using the same Dockerfile as\nBionic, for re-use.\n\nChange-Id: Id6e586f3cc234383dedfcd8402245bed7fe85dba\n'}]",3,669833,cfead8d1bfde0b0e6908236d7307798a666b269a,17,10,3,30662,,,0,"Build Xenial OVS images

Another patch introduced the Bionic image building, but
forgot the Xenial image building.
This adds support of Xenial using the same Dockerfile as
Bionic, for re-use.

Change-Id: Id6e586f3cc234383dedfcd8402245bed7fe85dba
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/33/669833/1 && git format-patch -1 --stdout FETCH_HEAD,"['openvswitch/Dockerfile.ubuntu-dpdk', 'openvswitch/Dockerfile.ubuntu', 'zuul.d/openvswitch.yaml']",3,a98f6c696a082f74d5fcad88d3cb57d98d56d820,," build_args: - ""FROM='docker.io/ubuntu:bionic'"" dockerfile: Dockerfile.ubuntu build_args: - ""FROM='docker.io/ubuntu:bionic'"" dockerfile: Dockerfile.ubuntu-dpdk - context: openvswitch repository: openstackhelm/openvswitch build_args: - ""FROM='docker.io/ubuntu:xenial'"" dockerfile: Dockerfile.ubuntu tags: - latest-ubuntu_xenial - context: openvswitch repository: openstackhelm/openvswitch build_args: - ""FROM='docker.io/ubuntu:xenial'"" dockerfile: Dockerfile.ubuntu-dpdk tags: - latest-ubuntu_xenial-dpdk", dockerfile: Dockerfile.ubuntu_bionic dockerfile: Dockerfile.ubuntu_bionic-dpdk,24,4
openstack%2Fopenstack-helm-infra~master~Idc405a723b98ac62285d7dfad1c5ddc8482e6344,openstack/openstack-helm-infra,master,Idc405a723b98ac62285d7dfad1c5ddc8482e6344,DNM: POC argo chart,ABANDONED,2019-01-22 15:32:58.000000000,2020-07-15 20:41:55.000000000,,"[{'_account_id': 7321}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27715}, {'_account_id': 28869}]","[{'number': 1, 'created': '2019-01-22 15:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/350016bd88a6a5c607e4c3f7452130870350c75a', 'message': 'DNM: POC argo chart\n\nChange-Id: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-02-25 19:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8189209da542f635f6aea937937a37c195250c5d', 'message': 'DNM: POC argo chart\n\nChange-Id: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-03-15 05:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e62ac2ca325317c2017fd91a0438d13d8066cb16', 'message': 'DNM: POC argo chart\n\nChange-Id: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-04-05 13:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9b84eee9a76c2208e865f2483b3b842b85e77901', 'message': 'DNM: POC argo chart\n\nChange-Id: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-04-22 16:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3809d0fb087026b0f2f0d5386ab62bca44127b37', 'message': 'DNM: POC argo chart\n\nChange-Id: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-04-23 12:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e688e8feb4bb1e58ff484209811da5c60705d94', 'message': 'DNM: POC argo chart\n\nChange-Id: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-04-25 20:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/88a42d47873cbaf97c19c89427be9d0ff340a100', 'message': 'DNM: POC argo chart\n\nChange-Id: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2019-07-09 18:31:57.000000000', 'files': ['argo/values.yaml', 'argo/templates/configmap-workflow-controller-configmap.yaml', 'argo/templates/service-argo-ui.yaml', 'argo/templates/cluster-role-argo-aggregate-to-edit.yaml', 'argo/templates/deployment-argo-ui.yaml', 'argo/templates/deployment-workflow-controller.yaml', 'argo/templates/cluster-role-argo-aggregate-to-admin.yaml', 'argo/templates/custom-resource-definition.yaml', 'argo/requirements.yaml', 'argo/Chart.yaml', 'argo/templates/cluster-role-argo-aggregate-to-view.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/113dc73096d765d79ce50247942ca33a0bda57e8', 'message': 'DNM: POC argo chart\n\nChange-Id: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,632487,113dc73096d765d79ce50247942ca33a0bda57e8,20,5,8,23928,,,0,"DNM: POC argo chart

Change-Id: Idc405a723b98ac62285d7dfad1c5ddc8482e6344
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/87/632487/3 && git format-patch -1 --stdout FETCH_HEAD,"['argo/templates/configmap-workflow-controller-configmap.yaml', 'argo/values.yaml', 'argo/templates/service-argo-ui.yaml', 'argo/templates/cluster-role-argo-aggregate-to-edit.yaml', 'argo/templates/deployment-argo-ui.yaml', 'argo/templates/deployment-workflow-controller.yaml', 'argo/templates/cluster-role-argo-aggregate-to-admin.yaml', 'argo/templates/custom-resource-definition.yaml', 'argo/requirements.yaml', 'argo/Chart.yaml', 'argo/templates/cluster-role-argo-aggregate-to-view.yaml']",11,350016bd88a6a5c607e4c3f7452130870350c75a,feat/argo,"{{- if .Values.manifests.cluster_role_argo_aggreate_to_view }} apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: labels: rbac.authorization.k8s.io/aggregate-to-view: ""true"" name: argo-aggregate-to-view rules: - apiGroups: - argoproj.io resources: - workflows - workflows/finalizers verbs: - get - list - watch {{- end }} ",,385,0
openstack%2Fopenstack-helm~master~If57ee607f98bc3181575fb494bd744109a43d52b,openstack/openstack-helm,master,If57ee607f98bc3181575fb494bd744109a43d52b,WIP: Nova: allow control of probes,ABANDONED,2019-07-06 14:03:05.000000000,2020-07-15 20:41:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-06 14:03:05.000000000', 'files': ['nova/templates/deployment-spiceproxy.yaml', 'nova/templates/deployment-conductor.yaml', 'nova/templates/deployment-api-osapi.yaml', 'nova/templates/deployment-consoleauth.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/deployment-placement.yaml', 'nova/templates/deployment-api-metadata.yaml', 'nova/templates/deployment-novncproxy.yaml', 'nova/templates/deployment-scheduler.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bba42e8e5b6c32363b49431c8da609485d7f49e8', 'message': 'WIP: Nova: allow control of probes\n\nThis PS allows the probes in containers/pods to be tuned via values\noverrides.\n\nChange-Id: If57ee607f98bc3181575fb494bd744109a43d52b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,669548,bba42e8e5b6c32363b49431c8da609485d7f49e8,3,1,1,23928,,,0,"WIP: Nova: allow control of probes

This PS allows the probes in containers/pods to be tuned via values
overrides.

Change-Id: If57ee607f98bc3181575fb494bd744109a43d52b
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/669548/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/deployment-spiceproxy.yaml', 'nova/templates/deployment-conductor.yaml', 'nova/templates/deployment-api-osapi.yaml', 'nova/templates/deployment-consoleauth.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/deployment-api-metadata.yaml', 'nova/templates/deployment-placement.yaml', 'nova/templates/deployment-novncproxy.yaml', 'nova/templates/deployment-scheduler.yaml']",9,bba42e8e5b6c32363b49431c8da609485d7f49e8,nova-probes,"{{- define ""schedulerReadinessProbeTemplate"" }} exec: command: - python - /tmp/health-probe.py - --config-file - /etc/nova/nova.conf - --service-queue-name - scheduler - --check-all-pids {{- end }} {{- define ""schedulerLivenessProbeTemplate"" }} exec: command: - python - /tmp/health-probe.py - --config-file - /etc/nova/nova.conf - --service-queue-name - scheduler - --liveness-probe - --check-all-pids {{- end }} {{ dict ""envAll"" $envAll ""component"" ""scheduler"" ""container"" ""scheduler"" ""type"" ""readiness"" ""probeTemplate"" (include ""schedulerReadinessProbeTemplate"" $envAll | fromYaml) | include ""helm-toolkit.snippets.kubernetes_probe"" | indent 10 }} {{ dict ""envAll"" $envAll ""component"" ""scheduler"" ""container"" ""scheduler"" ""type"" ""liveness"" ""probeTemplate"" (include ""schedulerLivenessProbeTemplate"" $envAll | fromYaml) | include ""helm-toolkit.snippets.kubernetes_probe"" | indent 10 }}", readinessProbe: exec: command: - python - /tmp/health-probe.py - --config-file - /etc/nova/nova.conf - --service-queue-name - scheduler - --check-all-pids initialDelaySeconds: 80 periodSeconds: 90 timeoutSeconds: 70 livenessProbe: exec: command: - python - /tmp/health-probe.py - --config-file - /etc/nova/nova.conf - --service-queue-name - scheduler - --liveness-probe - --check-all-pids initialDelaySeconds: 120 periodSeconds: 90 timeoutSeconds: 70,154,143
openstack%2Fopenstack-helm~master~I6e6aadf5d7f9a0d88d5c25781b73762baeb115d4,openstack/openstack-helm,master,I6e6aadf5d7f9a0d88d5c25781b73762baeb115d4,Fix experimental multinode tempest job,ABANDONED,2019-05-07 16:35:24.000000000,2020-07-15 20:41:48.000000000,,"[{'_account_id': 12281}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-07 16:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/59b9e096336822a326f1f0363c285b520469b3eb', 'message': '[DNM] test experimental multinode tempest job\n\n - Fix naming of the ansible play to be in sync with the parent job\n - Mark release as rocky, as tempest is broken before that\n - Sync playbook with the parent to allow passing more vars to the deploy scripts\n - Increase the timeout for the compute-kit 900->1200\n\nChange-Id: I6e6aadf5d7f9a0d88d5c25781b73762baeb115d4\n'}, {'number': 2, 'created': '2019-05-07 19:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba79a0ab0f9891b22846d378724beb8e939808f9', 'message': 'Fix experimental multinode tempest job\n\n - Fix naming of the ansible play to be in sync with the parent job\n - Mark release as rocky, as tempest is broken before that\n - Sync playbook with the parent to allow passing more vars to the deploy scripts\n - Increase the timeout for the compute-kit 900->1200\n\nChange-Id: I6e6aadf5d7f9a0d88d5c25781b73762baeb115d4\n'}, {'number': 3, 'created': '2019-05-10 12:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff433dc3c454cde4224438f4fe810895e793e5ba', 'message': 'Fix experimental multinode tempest job\n\n - Fix naming of the ansible play to be in sync with the parent job\n - Mark release as rocky, as tempest is broken before that\n - Sync playbook with the parent to allow passing more vars to the deploy scripts\n - Increase the timeout for the compute-kit 900->1200\n\nChange-Id: I6e6aadf5d7f9a0d88d5c25781b73762baeb115d4\n'}, {'number': 4, 'created': '2019-06-04 13:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f9cc7099af7accd370cfc276a399db8d213b3d7', 'message': 'Fix experimental multinode tempest job\n\n - Fix naming of the ansible play to be in sync with the parent job\n - Mark release as rocky, as tempest is broken before that\n - Sync playbook with the parent to allow passing more vars to the deploy scripts\n - Increase the timeout for the compute-kit 900->1200\n\nChange-Id: I6e6aadf5d7f9a0d88d5c25781b73762baeb115d4\n'}, {'number': 5, 'created': '2019-07-04 08:10:52.000000000', 'files': ['tools/gate/playbooks/multinode-deploy-tempest.yaml', 'tools/deployment/multinode/140-compute-kit.sh', 'tools/gate/playbooks/multinode-tempest-deploy.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2df659b4024db0ee5825dc958e91d54e4f2af64e', 'message': 'Fix experimental multinode tempest job\n\n - Fix naming of the ansible play to be in sync with the parent job\n - Mark release as rocky, as tempest is broken before that\n - Sync playbook with the parent to allow passing more vars to the deploy scripts\n - Increase the timeout for the compute-kit 900->1200\n\nChange-Id: I6e6aadf5d7f9a0d88d5c25781b73762baeb115d4\n'}]",0,657641,2df659b4024db0ee5825dc958e91d54e4f2af64e,26,2,5,12281,,,0,"Fix experimental multinode tempest job

 - Fix naming of the ansible play to be in sync with the parent job
 - Mark release as rocky, as tempest is broken before that
 - Sync playbook with the parent to allow passing more vars to the deploy scripts
 - Increase the timeout for the compute-kit 900->1200

Change-Id: I6e6aadf5d7f9a0d88d5c25781b73762baeb115d4
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/41/657641/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/multinode-deploy-tempest.yaml', 'tools/deployment/multinode/140-compute-kit.sh', 'tools/gate/playbooks/multinode-tempest-deploy.yaml', 'zuul.d/jobs-openstack-helm.yaml']",4,59b9e096336822a326f1f0363c285b520469b3eb,test_tempest_multinode_job, run: tools/gate/playbooks/multinode-deploy-tempest.yaml vars: osh_openstack_release: rocky zuul_osh_infra_relative_path: ../openstack-helm-infra/, run: tools/gate/playbooks/multinode-tempest-deploy.yaml,197,114
openstack%2Fopenstack-helm-infra~master~I0c4dc05de4f8496a4a34831fccd817e3b385eb20,openstack/openstack-helm-infra,master,I0c4dc05de4f8496a4a34831fccd817e3b385eb20,Mariadb Image: Disable shell for mysql user,ABANDONED,2019-02-08 17:08:28.000000000,2020-07-15 20:41:40.000000000,,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-02-08 17:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f66662a6845c3b307a8cf53b726fbb701bc83b5a', 'message': 'Mariadb Image: Disable sell for mysql user\n\nDisable the shell for user mysql in accordance with the OpenStack Security Guide:\nhttps://docs.openstack.org/security-guide/databases/database-backend-considerations.html\n\nChange-Id: I0c4dc05de4f8496a4a34831fccd817e3b385eb20\n'}, {'number': 2, 'created': '2019-02-08 17:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/da870e684bfd30d27c7767577085afb8ecf99312', 'message': 'Mariadb Image: Disable sell for mysql user\n\nDisable the shell for user mysql in accordance with the \nOpenStack Security Guide:\n\nhttps://docs.openstack.org/security-guide/databases/database-backend-considerations.html\n\nChange-Id: I0c4dc05de4f8496a4a34831fccd817e3b385eb20\n'}, {'number': 3, 'created': '2019-02-08 22:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e2c4bcca3f788435a636e8c223b26fd01ee6e12d', 'message': 'Mariadb Image: Disable shell for mysql user\n\nDisable the shell for user mysql in accordance with the\nOpenStack Security Guide:\n\nhttps://docs.openstack.org/security-guide/databases/database-backend-considerations.html\n\nChange-Id: I0c4dc05de4f8496a4a34831fccd817e3b385eb20\n'}, {'number': 4, 'created': '2019-04-19 13:23:28.000000000', 'files': ['tools/images/mariadb/Dockerfile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d67764bf2090d70427de1f81f565b4ff1d5496e6', 'message': 'Mariadb Image: Disable shell for mysql user\n\nDisable the shell for user mysql in accordance with the\nOpenStack Security Guide:\n\nhttps://docs.openstack.org/security-guide/databases/database-backend-considerations.html\n\nChange-Id: I0c4dc05de4f8496a4a34831fccd817e3b385eb20\n'}]",4,635889,d67764bf2090d70427de1f81f565b4ff1d5496e6,16,7,4,24780,,,0,"Mariadb Image: Disable shell for mysql user

Disable the shell for user mysql in accordance with the
OpenStack Security Guide:

https://docs.openstack.org/security-guide/databases/database-backend-considerations.html

Change-Id: I0c4dc05de4f8496a4a34831fccd817e3b385eb20
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/635889/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/images/mariadb/Dockerfile'],1,f66662a6845c3b307a8cf53b726fbb701bc83b5a,, /var/tmp/* ;\ usermod -s /bin/false mysql, /var/tmp/*,2,1
openstack%2Fopenstack-helm-infra~master~I94a33ccfa351f8595dafb53cf53ef2a29aa2a5ff,openstack/openstack-helm-infra,master,I94a33ccfa351f8595dafb53cf53ef2a29aa2a5ff,Add checks for testing,ABANDONED,2019-06-27 15:15:21.000000000,2020-07-15 20:40:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-27 15:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57788666061d3942e6365bbc4beda71bf7a66367', 'message': 'Add checks for testing\n\nChange-Id: I94a33ccfa351f8595dafb53cf53ef2a29aa2a5ff\n'}, {'number': 2, 'created': '2019-06-27 16:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e2d20e59a1ffa9b5293b794f0e523c655ed6602', 'message': 'Add checks for testing\n\nChange-Id: I94a33ccfa351f8595dafb53cf53ef2a29aa2a5ff\n'}, {'number': 3, 'created': '2019-06-27 17:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/07659b45c1431d4712699ab3b47bbe9adbf2ae4e', 'message': 'Add checks for testing\n\nChange-Id: I94a33ccfa351f8595dafb53cf53ef2a29aa2a5ff\n'}, {'number': 4, 'created': '2019-06-27 20:00:13.000000000', 'files': ['calico/values.yaml', 'tools/deployment/common/005-deploy-k8s.sh', 'tools/deployment/common/090-process-exporter.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3ccb3e40b40ed1bf6a84c7fd491fc4c30e62380c', 'message': 'Add checks for testing\n\nChange-Id: I94a33ccfa351f8595dafb53cf53ef2a29aa2a5ff\n'}]",0,667958,3ccb3e40b40ed1bf6a84c7fd491fc4c30e62380c,8,1,4,29254,,,0,"Add checks for testing

Change-Id: I94a33ccfa351f8595dafb53cf53ef2a29aa2a5ff
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/58/667958/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/005-deploy-k8s.sh', 'tools/deployment/common/090-process-exporter.sh']",2,57788666061d3942e6365bbc4beda71bf7a66367,test-ip-branch,"echo ""---------------------------MINIKUBE CLUSTERIP--------------------------------"" echo ""$MINIKUBE_CLUSTER_IP"" echo ""---------------------------END------------------------------------"" ",,6,0
openstack%2Fopenstack-helm-images~master~I03ab481a8466dde5b1c26af17d6a6576317305e3,openstack/openstack-helm-images,master,I03ab481a8466dde5b1c26af17d6a6576317305e3,WIP: Build image for ncct tool,ABANDONED,2019-06-25 19:40:57.000000000,2020-07-15 20:40:32.000000000,,"[{'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 19:40:57.000000000', 'files': ['ncct-utility/Dockerfile.alpine', 'ncct-utility/build.sh', 'ncct-utility/ncct/Dockerfile.build', 'ncct-utility/ncct/Dockerfile.alpine'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ea4ead3e637eaa0dc705ce669f3336df19e82220', 'message': 'WIP: Build image for ncct tool\n\nChange-Id: I03ab481a8466dde5b1c26af17d6a6576317305e3\n'}]",1,667449,ea4ead3e637eaa0dc705ce669f3336df19e82220,5,3,1,14029,,,0,"WIP: Build image for ncct tool

Change-Id: I03ab481a8466dde5b1c26af17d6a6576317305e3
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/49/667449/1 && git format-patch -1 --stdout FETCH_HEAD,"['ncct-utility/Dockerfile.alpine', 'ncct-utility/build.sh', 'ncct-utility/ncct/Dockerfile.build', 'ncct-utility/ncct/Dockerfile.alpine']",4,ea4ead3e637eaa0dc705ce669f3336df19e82220,,"# Put controller and agent binaries in alpine based image FROM alpine:latest WORKDIR / COPY app . COPY ncct_agent /tmp ENTRYPOINT [""/bin/sh"", ""-c"", ""sleep 3600""] ",,112,0
openstack%2Fopenstack-helm-infra~master~I1790e528e7809b30627e2d3fab78c2aa994c1878,openstack/openstack-helm-infra,master,I1790e528e7809b30627e2d3fab78c2aa994c1878,WIP/RFC: Support SS as well as DS for mon,ABANDONED,2019-06-21 16:36:06.000000000,2020-07-15 20:40:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 29937}]","[{'number': 1, 'created': '2019-06-21 16:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a67d5445e65d9e004a1d83fd90a51fe887632567', 'message': ""WIP/RFC: Support SS as well as DS for mon\n\nThis PS proposes to restore suuport for deploying mons as\nstatefulsets in addtion to daemonsets. The rationale here is thus:\nWe can gain some limited portability of mons in 4 rack deployments\nwere we want to try and maintain three mons at all times, including\nwhen rack outages occur. This does come with some risk though, in\nthat node labels will need to be carefully managed to limit the\nrange of movement possible, as if all mons were to migrate to\n'fresh' nodes - we would loose the entire cluster.\n\nChange-Id: I1790e528e7809b30627e2d3fab78c2aa994c1878\nSigned-off-by: Pete Birley <pete@port.direct>\n""}, {'number': 2, 'created': '2019-06-21 16:37:49.000000000', 'files': ['ceph-mon/templates/daemonset-mon.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/712e66341d0353d0927785a332a40bf900f06c87', 'message': ""WIP/RFC: Support SS as well as DS for mon\n\nThis PS proposes to restore suuport for deploying mons as\nstatefulsets in addtion to daemonsets[1]. The rationale here is thus:\nWe can gain some limited portability of mons in 4 rack deployments\nwere we want to try and maintain three mons at all times, including\nwhen rack outages occur. This does come with some risk though, in\nthat node labels will need to be carefully managed to limit the\nrange of movement possible, as if all mons were to migrate to\n'fresh' nodes - we would loose the entire cluster.\n\n1) https://github.com/portdirect/ceph-helm/blob/master/ceph/templates/mon/statefulset.yaml\n\nChange-Id: I1790e528e7809b30627e2d3fab78c2aa994c1878\nSigned-off-by: Pete Birley <pete@port.direct>\n""}]",0,666888,712e66341d0353d0927785a332a40bf900f06c87,4,2,2,23928,,,0,"WIP/RFC: Support SS as well as DS for mon

This PS proposes to restore suuport for deploying mons as
statefulsets in addtion to daemonsets[1]. The rationale here is thus:
We can gain some limited portability of mons in 4 rack deployments
were we want to try and maintain three mons at all times, including
when rack outages occur. This does come with some risk though, in
that node labels will need to be carefully managed to limit the
range of movement possible, as if all mons were to migrate to
'fresh' nodes - we would loose the entire cluster.

1) https://github.com/portdirect/ceph-helm/blob/master/ceph/templates/mon/statefulset.yaml

Change-Id: I1790e528e7809b30627e2d3fab78c2aa994c1878
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/666888/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-mon/templates/daemonset-mon.yaml'],1,a67d5445e65d9e004a1d83fd90a51fe887632567,ceph-mon-ss,"kind: StatefulSet serviceName: {{ tuple ""ceph_mon"" ""discovery"" . | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }} replicas: 3",kind: DaemonSet,3,1
openstack%2Fopenstack-helm~master~Ia3238431657ea7e0cc0f16b2ff1d92cc89faad79,openstack/openstack-helm,master,Ia3238431657ea7e0cc0f16b2ff1d92cc89faad79,Add readiness/liveness for cinder services,ABANDONED,2019-06-21 04:57:51.000000000,2020-07-15 20:40:11.000000000,,"[{'_account_id': 8181}, {'_account_id': 21830}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-21 04:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e1549a9c1beaed62ffecd5e6a24eec4d8b3efd5f', 'message': 'Add liveness for cinder-volume\n\nWhen creating / deleting volumes, many file descriptors are created\nand destroyed in the cinder-volume container. However, when\ndeleting a very large number (several hundreds) of volumes, it\ntakes a long time for the FD to disappear, and when the number is\nincreased and exceeds the limit, the cinder-volume is in a running\nstate but stops without performing any other operation. The solution\nis to restart the cinder-volume. This patch periodically checks the\nstatus of the cinder-volume and supports the liveness option to\nrestart if something goes wrong.\n\n- check state of cinder-volume service\n- if service is down, cinder-volume pod will be restart\n\nChange-Id: Ia3238431657ea7e0cc0f16b2ff1d92cc89faad79\n'}, {'number': 2, 'created': '2019-06-25 08:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab649e9a0f06d677efc4c1c90edd01c1d0acd342', 'message': 'Add liveness for cinder-volume\n\nWhen creating / deleting volumes, many file descriptors are created\nand destroyed in the cinder-volume container. However, when\ndeleting a very large number (several hundreds) of volumes, it\ntakes a long time for the FD to disappear, and when the number is\nincreased and exceeds the limit, the cinder-volume is in a running\nstate but stops without performing any other operation. The solution\nis to restart the cinder-volume. This patch add liveness/readiness for\ncinder services to restart if something goes wrong.\n\n- check state of cinder service through rpc communication\n- if service is down, pod will be restart\n\nChange-Id: Ia3238431657ea7e0cc0f16b2ff1d92cc89faad79\n'}, {'number': 3, 'created': '2019-06-25 08:24:23.000000000', 'files': ['cinder/templates/deployment-volume.yaml', 'cinder/templates/configmap-bin.yaml', 'cinder/templates/bin/_health-probe.py.tpl', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/deployment-scheduler.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d8590d5631716f710f18277cce4ba1929d6af53f', 'message': 'Add readiness/liveness for cinder services\n\nWhen creating / deleting volumes, many file descriptors are created\nand destroyed in the cinder-volume container. However, when\ndeleting a very large number (several hundreds) of volumes, it\ntakes a long time for the FD to disappear, and when the number is\nincreased and exceeds the limit, the cinder-volume is in a running\nstate but stops without performing any other operation. The solution\nis to restart the cinder-volume. This patch add liveness/readiness for\ncinder services to restart if something goes wrong.\n\n- check state of cinder service through rpc communication\n- if service is down, pod will be restart\n\nChange-Id: Ia3238431657ea7e0cc0f16b2ff1d92cc89faad79\n'}]",3,666771,d8590d5631716f710f18277cce4ba1929d6af53f,15,4,3,21830,,,0,"Add readiness/liveness for cinder services

When creating / deleting volumes, many file descriptors are created
and destroyed in the cinder-volume container. However, when
deleting a very large number (several hundreds) of volumes, it
takes a long time for the FD to disappear, and when the number is
increased and exceeds the limit, the cinder-volume is in a running
state but stops without performing any other operation. The solution
is to restart the cinder-volume. This patch add liveness/readiness for
cinder services to restart if something goes wrong.

- check state of cinder service through rpc communication
- if service is down, pod will be restart

Change-Id: Ia3238431657ea7e0cc0f16b2ff1d92cc89faad79
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/666771/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/deployment-volume.yaml', 'cinder/templates/configmap-bin.yaml', 'cinder/values.yaml', 'cinder/templates/bin/_cinder-volume_state.sh.tpl']",4,e1549a9c1beaed62ffecd5e6a24eec4d8b3efd5f,liveness-for-cinder-volume,"#!/bin/bash {{/* Copyright 2019 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} set -ex state=$(openstack volume service list --service cinder-volume -c State -f value) if [[ $state == *'down'* ]] then exit 1 else exit 0 fi ",,51,0
openstack%2Fopenstack-helm-infra~master~I17b7bc7900b52e0d2265f31b418b20a18da8218d,openstack/openstack-helm-infra,master,I17b7bc7900b52e0d2265f31b418b20a18da8218d,Added file to implement megaraid node_exporter [668],ABANDONED,2019-05-14 15:44:51.000000000,2020-07-15 20:40:00.000000000,,"[{'_account_id': 8898}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-14 15:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78b5574a7f2dbf7087e828de546ad6760c9bdc21', 'message': 'Added file to implement megaraid node_exporter [668]\n\nChange-Id: I17b7bc7900b52e0d2265f31b418b20a18da8218d\n'}, {'number': 2, 'created': '2019-05-14 19:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eea6f362a86fdc5211b620b3a9e4eda8072f3c73', 'message': 'Added file to implement megaraid node_exporter [668]\n\nChange-Id: I17b7bc7900b52e0d2265f31b418b20a18da8218d\n'}, {'number': 3, 'created': '2019-06-19 14:18:19.000000000', 'files': ['grafana/megaraid-grafana.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7fd7671c2b49682048bf54472d74171869cc3a9', 'message': 'Added file to implement megaraid node_exporter [668]\n\nChange-Id: I17b7bc7900b52e0d2265f31b418b20a18da8218d\n'}]",3,659106,e7fd7671c2b49682048bf54472d74171869cc3a9,8,5,3,30120,,,0,"Added file to implement megaraid node_exporter [668]

Change-Id: I17b7bc7900b52e0d2265f31b418b20a18da8218d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/06/659106/3 && git format-patch -1 --stdout FETCH_HEAD,['grafana/megaraid-grafana.yaml'],1,78b5574a7f2dbf7087e828de546ad6760c9bdc21,," ""fluent.conf"": ""\n\u003csource\u003e\n bind 0.0.0.0\n port 24220\n @type monitor_agent\n\u003c/source\u003e\n\n\u003csource\u003e\n bind 0.0.0.0\n port \""#{ENV['FLUENTD_PORT']}\""\n @type forward\n\u003c/source\u003e\n\n\u003cmatch fluent.*\u003e\n @type null\n\u003c/match\u003e\n\n\u003cfilter kube.**\u003e\n enable_ruby true\n \u003crecord\u003e\n container_name ${record[\""kubernetes\""][\""container_name\""]}\n \u003c/record\u003e\n @type record_transformer\n\u003c/filter\u003e\n\n\u003cfilter kube.**\u003e\n \u003cexclude\u003e\n key container_name\n pattern ^(cinder-api|cinder-scheduler|cinder-volume|cinder-backup|glance-api|glance-registry|heat-api|heat-cfn|heat-engine|keystone-api|neutron-dhcp-agent|neutron-l3-agent|neutron-server|nova-osapi|nova-api|nova-compute|nova-conductor|nova-consoleauth|nova-novncproxy|nova-scheduler)$\n \u003c/exclude\u003e\n @type grep\n\u003c/filter\u003e\n\n\u003cmatch kube.var.log.containers.**.log\u003e\n \u003crule\u003e\n key log\n pattern /info/i\n tag info.${tag}\n \u003c/rule\u003e\n \u003crule\u003e\n key log\n pattern /warn/i\n tag warn.${tag}\n \u003c/rule\u003e\n \u003crule\u003e\n key log\n pattern /error/i\n tag error.${tag}\n \u003c/rule\u003e\n \u003crule\u003e\n key log\n pattern /critical/i\n tag critical.${tag}\n \u003c/rule\u003e\n \u003crule\u003e\n key log\n pattern (.+)\n tag info.${tag}\n \u003c/rule\u003e\n @type rewrite_tag_filter\n\u003c/match\u003e\n\n\u003cfilter **.kube.var.log.containers.**.log\u003e\n enable_ruby true\n \u003crecord\u003e\n application ${record[\""kubernetes\""][\""labels\""][\""application\""]}\n level ${tag_parts[0]}\n \u003c/record\u003e\n @type record_transformer\n\u003c/filter\u003e\n\n\u003cfilter openstack.**\u003e\n \u003crecord\u003e\n application ${tag_parts[1]}\n \u003c/record\u003e\n @type record_transformer\n\u003c/filter\u003e\n\n\u003cmatch openstack.**\u003e\n \u003crule\u003e\n key level\n pattern INFO\n tag info.${tag}\n \u003c/rule\u003e\n \u003crule\u003e\n key level\n pattern WARN\n tag warn.${tag}\n \u003c/rule\u003e\n \u003crule\u003e\n key level\n pattern ERROR\n tag error.${tag}\n \u003c/rule\u003e\n \u003crule\u003e\n key level\n pattern CRITICAL\n tag critical.${tag}\n \u003c/rule\u003e\n @type rewrite_tag_filter\n\u003c/match\u003e\n\n\u003cmatch journal.**\u003e\n buffer_chunk_limit 10M\n buffer_queue_limit 512\n disable_retry_limit \n flush_interval 10s\n host \""#{ENV['ELASTICSEARCH_HOST']}\""\n include_tag_key true\n logstash_format true\n logstash_prefix journal\n max_retry_wait 300\n password \""#{ENV['ELASTICSEARCH_PASSWORD']}\""\n port \""#{ENV['ELASTICSEARCH_PORT']}\""\n @type elasticsearch\n user \""#{ENV['ELASTICSEARCH_USERNAME']}\""\n\u003c/match\u003e\n\n\u003cmatch kernel\u003e\n buffer_chunk_limit 10M\n buffer_queue_limit 512\n disable_retry_limit \n flush_interval 10s\n host \--- annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: ~ graphTooltip: 0 id: 1 links: ~ panels: - aliasColors: ~ bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 6 w: 24 x: 0 ? ""y"" : 0 id: 37 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: ~ maxValue: 100 minValue: 0 nullPointMode: ~ options: ~ showThresholdLabels: false showThresholdMarkers: true thresholds: ~ - color: ""#7EB26D"" index: 0 percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: ~ spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_reconrate format: time_series intervalFactor: 1 refId: A thresholds: ~ timeFrom: ~ timeRegions: ~ timeShift: ~ title: ""RAID controller health status (Degraded in case any Disk is down in RAID configuration) (megaraid_degraded)"" tooltip: shared: true sort: 0 value_type: individual type: graph value: ~ valueMappings: valueOptions: decimals: ~ prefix: """" stat: avg suffix: """" unit: none xaxis: buckets: ~ mode: time name: ~ show: true values: ~ yaxes: - format: short label: ~ logBase: 1 max: ~ min: ~ show: true - format: short label: ~ logBase: 1 max: ~ min: ~ show: true yaxis: align: false alignLevel: ~ - aliasColors: ~ bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 6 w: 24 x: 0 ? ""y"" : 6 id: 14 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: ~ maxValue: 100 minValue: 0 nullPointMode: ~ options: ~ showThresholdLabels: false showThresholdMarkers: true thresholds: ~ - color: ""#7EB26D"" index: 0 percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: ~ spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_consistencycheck format: time_series intervalFactor: 1 refId: A thresholds: ~ timeFrom: ~ timeRegions: ~ timeShift: ~ title: ""Virtual Disk (RAID degraded status)- (megaraid_virtual_drives)"" tooltip: shared: true sort: 0 value_type: individual type: graph value: ~ valueMappings: valueOptions: decimals: ~ prefix: """" stat: avg suffix: """" unit: none xaxis: buckets: ~ mode: time name: ~ show: true values: ~ yaxes: - format: short label: ~ logBase: 1 max: ~ min: ~ show: true - format: short label: ~ logBase: 1 max: ~ min: ~ show: true yaxis: align: false alignLevel: ~ - aliasColors: ~ bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 6 w: 24 x: 0 ? ""y"" : 12 id: 24 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: ~ maxValue: 100 minValue: 0 nullPointMode: ~ options: ~ showThresholdLabels: false showThresholdMarkers: true thresholds: ~ - color: ""#7EB26D"" index: 0 percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: ~ spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_smartpollinterval format: time_series intervalFactor: 1 refId: A thresholds: ~ timeFrom: ~ timeRegions: ~ timeShift: ~ title: ""RAID controller status "" tooltip: shared: true sort: 0 value_type: individual type: graph value: ~ valueMappings: valueOptions: decimals: ~ prefix: """" stat: avg suffix: """" unit: none xaxis: buckets: ~ mode: time name: ~ show: true values: ~ yaxes: - format: short label: ~ logBase: 1 max: ~ min: ~ show: true - format: short label: ~ logBase: 1 max: ~ min: ~ show: true yaxis: align: false alignLevel: ~ - aliasColors: ~ bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 6 w: 24 x: 0 ? ""y"" : 18 id: 19 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: ~ maxValue: 100 minValue: 0 nullPointMode: ~ options: ~ showThresholdLabels: false showThresholdMarkers: true thresholds: ~ - color: ""#7EB26D"" index: 0 percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: ~ spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_batterywarning format: time_series intervalFactor: 1 refId: A thresholds: ~ timeFrom: ~ timeRegions: ~ timeShift: ~ title: ""RAID controller battery status"" tooltip: shared: true sort: 0 value_type: individual type: graph value: ~ valueMappings: valueOptions: decimals: ~ prefix: """" stat: avg suffix: """" unit: none xaxis: buckets: ~ mode: time name: ~ show: true values: ~ yaxes: - format: short label: ~ logBase: 1 max: ~ min: ~ show: true - format: short label: ~ logBase: 1 max: ~ min: ~ show: true yaxis: align: false alignLevel: ~ - aliasColors: ~ bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 7 w: 24 x: 0 ? ""y"" : 24 id: 27 inValue: 0 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: ~ maxValue: 100 nullPointMode: ~ options: ~ showThresholdLabels: false showThresholdMarkers: true thresholds: ~ - color: ""#7EB26D"" index: 0 percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: ~ spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_prrate format: time_series intervalFactor: 1 refId: A thresholds: ~ timeFrom: ~ timeRegions: ~ timeShift: ~ title: ""RAID Controller Health"" tooltip: shared: true sort: 0 value_type: individual type: graph value: ~ valueMappings: valueOptions: decimals: ~ prefix: """" stat: avg suffix: """" unit: none xaxis: buckets: ~ mode: time name: ~ show: true values: ~ yaxes: - format: short label: ~ logBase: 1 max: ~ min: ~ show: true - format: short label: ~ logBase: 1 max: ~ min: ~ show: true yaxis: align: false alignLevel: ~ schemaVersion: 18 style: dark tags: ~ templating: list: ~ time: from: now-6h to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: Megaraid uid: PCG9083ik version: 7 ",,506,0
openstack%2Fopenstack-helm~master~I3b981686f36c73d1d537749cee45d4ca05b305d9,openstack/openstack-helm,master,I3b981686f36c73d1d537749cee45d4ca05b305d9,WIP: Update keystone middleware params,ABANDONED,2019-06-18 18:56:48.000000000,2020-07-15 20:39:56.000000000,,"[{'_account_id': 9963}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-18 18:56:48.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'panko/templates/configmap-etc.yaml', 'nova/templates/configmap-etc.yaml', 'congress/templates/configmap-etc.yaml', 'mistral/templates/configmap-etc.yaml', 'aodh/templates/configmap-etc.yaml', 'glance/templates/configmap-etc.yaml', 'rally/templates/configmap-etc.yaml', 'magnum/templates/configmap-etc.yaml', 'ironic/templates/configmap-etc.yaml', 'senlin/templates/configmap-etc.yaml', 'heat/templates/configmap-etc.yaml', 'ceilometer/templates/configmap-etc.yaml', 'barbican/templates/configmap-etc.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5534a57c0f5bac00cc43e47f36ac6fa6e48aba29', 'message': 'WIP: Update keystone middleware params\n\n* https://github.com/openstack/keystonemiddleware/commit/409b482253dec248ed828e92e52b09d4c02e51dd\n\nChange-Id: I3b981686f36c73d1d537749cee45d4ca05b305d9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,666150,5534a57c0f5bac00cc43e47f36ac6fa6e48aba29,5,3,1,23928,,,0,"WIP: Update keystone middleware params

* https://github.com/openstack/keystonemiddleware/commit/409b482253dec248ed828e92e52b09d4c02e51dd

Change-Id: I3b981686f36c73d1d537749cee45d4ca05b305d9
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/666150/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/configmap-etc.yaml', 'panko/templates/configmap-etc.yaml', 'nova/templates/configmap-etc.yaml', 'congress/templates/configmap-etc.yaml', 'mistral/templates/configmap-etc.yaml', 'aodh/templates/configmap-etc.yaml', 'glance/templates/configmap-etc.yaml', 'rally/templates/configmap-etc.yaml', 'magnum/templates/configmap-etc.yaml', 'ironic/templates/configmap-etc.yaml', 'senlin/templates/configmap-etc.yaml', 'heat/templates/configmap-etc.yaml', 'ceilometer/templates/configmap-etc.yaml', 'barbican/templates/configmap-etc.yaml', 'neutron/templates/configmap-etc.yaml']",15,5534a57c0f5bac00cc43e47f36ac6fa6e48aba29,identity_uri,"{{- if empty $envAll.Values.conf.neutron.keystone_authtoken.www_authenticate_uri -}} {{- $_ := tuple ""identity"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup""| set $envAll.Values.conf.neutron.keystone_authtoken ""www_authenticate_uri"" -}}","{{- if empty $envAll.Values.conf.neutron.keystone_authtoken.auth_uri -}} {{- $_ := tuple ""identity"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup""| set $envAll.Values.conf.neutron.keystone_authtoken ""auth_uri"" -}}",32,32
openstack%2Fopenstack-helm~master~I047d96773c7d6c72004b45fd872a253b15cdc417,openstack/openstack-helm,master,I047d96773c7d6c72004b45fd872a253b15cdc417,[DNM] Updating weight value from 10 to 100,ABANDONED,2019-05-28 11:34:46.000000000,2020-07-15 20:38:31.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30505}]","[{'number': 1, 'created': '2019-05-28 11:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/733af8e521e22fe5de9b56d24004ceabc12cf63c', 'message': '[DNM] Updating weight value from 10 to 100\n\nChange-Id: I047d96773c7d6c72004b45fd872a253b15cdc417\n'}, {'number': 2, 'created': '2019-05-29 09:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2dfb8f1a49e110760f7bd905b44f9a8e7e24cae9', 'message': '[DNM] Updating weight value from 10 to 100\n\nChange-Id: I047d96773c7d6c72004b45fd872a253b15cdc417\n'}, {'number': 3, 'created': '2019-06-06 13:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1f1c8807b4b9e4f59f50fdf8c20e2c4cef432a6c', 'message': '[DNM] Updating weight value from 10 to 100\n\nChange-Id: I047d96773c7d6c72004b45fd872a253b15cdc417\n'}, {'number': 4, 'created': '2019-06-06 16:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b549cf5a09c5178e914cec6d23748c0dd1f5e31d', 'message': '[DNM] Updating weight value from 10 to 100\n\nChange-Id: I047d96773c7d6c72004b45fd872a253b15cdc417\n'}, {'number': 5, 'created': '2019-06-06 16:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3c6169473a463ee604790c24e6e95135d8908a1f', 'message': '[DNM] Updating weight value from 10 to 100\n\nChange-Id: I047d96773c7d6c72004b45fd872a253b15cdc417\n'}, {'number': 6, 'created': '2019-06-06 18:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eba64a8f783fe9d03cfd26a5e31345e5e876e93f', 'message': '[DNM] Updating weight value from 10 to 100\n\nChange-Id: I047d96773c7d6c72004b45fd872a253b15cdc417\n'}, {'number': 7, 'created': '2019-06-07 11:56:22.000000000', 'files': ['tools/deployment/multinode/150-heat.sh', 'heat/values.yaml', 'nova/values.yaml', 'tools/deployment/multinode/140-compute-kit.sh', 'keystone/values.yaml', 'zuul.d/project.yaml', 'tools/deployment/multinode/080-keystone.sh', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/580c08b24294366cfea49acd84cc23b459ca45a3', 'message': '[DNM] Updating weight value from 10 to 100\n\nChange-Id: I047d96773c7d6c72004b45fd872a253b15cdc417\n'}]",0,661730,580c08b24294366cfea49acd84cc23b459ca45a3,18,4,7,30505,,,0,"[DNM] Updating weight value from 10 to 100

Change-Id: I047d96773c7d6c72004b45fd872a253b15cdc417
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/30/661730/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/values.yaml', 'nova/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml']",4,733af8e521e22fe5de9b56d24004ceabc12cf63c,, default: 100, default: 10,4,4
openstack%2Fopenstack-helm-infra~master~I15e1f53df930a7d1fd8948fb857f8c1f6536e19b,openstack/openstack-helm-infra,master,I15e1f53df930a7d1fd8948fb857f8c1f6536e19b,WIP: MariaDB: Only expose service when min number of active nodes,ABANDONED,2019-04-03 19:47:46.000000000,2020-07-15 20:38:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-03 19:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5019ffa69a22754cd8fcb2ca416b1bd3c7e0cfd3', 'message': 'WIP: MariaDB: Only expose service when min number of active nodes\n\nChange-Id: I15e1f53df930a7d1fd8948fb857f8c1f6536e19b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-18 21:50:54.000000000', 'files': ['mariadb/files/nginx.tmpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba72df769dd0d55b9f13cdb1aa22dd72725feae3', 'message': 'WIP: MariaDB: Only expose service when min number of active nodes\n\nChange-Id: I15e1f53df930a7d1fd8948fb857f8c1f6536e19b\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,649711,ba72df769dd0d55b9f13cdb1aa22dd72725feae3,5,1,2,23928,,,0,"WIP: MariaDB: Only expose service when min number of active nodes

Change-Id: I15e1f53df930a7d1fd8948fb857f8c1f6536e19b
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/649711/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/files/nginx.tmpl'],1,5019ffa69a22754cd8fcb2ca416b1bd3c7e0cfd3,, # active endpoints: {{ $tcpServer.Endpoints | len }} {{ if gt ($tcpServer.Endpoints | len) 1 }} {{ else }} # not enough active endpoints to serve requests {{ end }},,7,0
openstack%2Fopenstack-helm~master~I1b5de5fa7110c66d483d84b883df63a77b732a89,openstack/openstack-helm,master,I1b5de5fa7110c66d483d84b883df63a77b732a89,Add volumes mount variables in the nova-cell-setup job,ABANDONED,2019-05-20 01:45:35.000000000,2020-07-15 20:38:10.000000000,,"[{'_account_id': 21830}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-20 01:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2bd6ed9225a363ee3a0f496df8bf236b263c68f9', 'message': 'Add volumes mount variables in the nova-cell-setup job\n\nThis patch adds the volume mount variables in the nova_cell_setup\nPOD like other nova pods.\n\nChange-Id: I1b5de5fa7110c66d483d84b883df63a77b732a89\n'}, {'number': 2, 'created': '2019-05-30 05:15:02.000000000', 'files': ['nova/values.yaml', 'nova/templates/cron-job-cell-setup.yaml', 'nova/templates/job-cell-setup.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b589286eee91b5b10afdb57da4778ca585443a67', 'message': 'Add volumes mount variables in the nova-cell-setup job\n\nThis patch adds the volume mount variables in the nova_cell_setup\nPOD like other nova pods.\n\nChange-Id: I1b5de5fa7110c66d483d84b883df63a77b732a89\n'}]",0,659993,b589286eee91b5b10afdb57da4778ca585443a67,10,4,2,1523,,,0,"Add volumes mount variables in the nova-cell-setup job

This patch adds the volume mount variables in the nova_cell_setup
POD like other nova pods.

Change-Id: I1b5de5fa7110c66d483d84b883df63a77b732a89
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/93/659993/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/templates/cron-job-cell-setup.yaml', 'nova/templates/job-cell-setup.yaml']",3,2bd6ed9225a363ee3a0f496df8bf236b263c68f9,feature/add-volume-mounts-to-nova_cell_setup, {{- $mounts_nova_cell_setup := .Values.pod.mounts.nova_cell_setup.nova_cell_setup }}{{ if $mounts_nova_cell_setup.volumeMounts }}{{ toYaml $mounts_nova_cell_setup.volumeMounts | indent 12 }}{{ end }}{{ if $mounts_nova_cell_setup.volumes }}{{ toYaml $mounts_nova_cell_setup.volumes | indent 8 }}{{ end }},,12,0
openstack%2Fopenstack-helm~master~Ic5947344bfd608a3abeb197c981fff521e47d26b,openstack/openstack-helm,master,Ic5947344bfd608a3abeb197c981fff521e47d26b,Change to releases.openstack.org,ABANDONED,2019-06-12 03:36:17.000000000,2020-07-15 20:38:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-12 03:36:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9e158722f27a5db0063ec3de10274870e834c813', 'message': 'Change to releases.openstack.org\n\nChange-Id: Ic5947344bfd608a3abeb197c981fff521e47d26b\n'}]",0,664775,9e158722f27a5db0063ec3de10274870e834c813,3,1,1,28613,,,0,"Change to releases.openstack.org

Change-Id: Ic5947344bfd608a3abeb197c981fff521e47d26b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/75/664775/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9e158722f27a5db0063ec3de10274870e834c813,openstack-helm-tox,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fopenstack-helm-images~master~I154a08f7ad44f904871ce19a857b75b5f76e6541,openstack/openstack-helm-images,master,I154a08f7ad44f904871ce19a857b75b5f76e6541,queens: add openstackclient for nova image,ABANDONED,2019-04-11 14:20:38.000000000,2020-07-15 20:38:00.000000000,,"[{'_account_id': 8749}, {'_account_id': 10068}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28507}, {'_account_id': 30252}, {'_account_id': 30430}]","[{'number': 1, 'created': '2019-04-11 14:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/19b6be614c52524ae86e0a0d749e1e81b28cb6a0', 'message': 'queens: add openstackclient for nova image\n\nWithout openstackclient, nova-cell-setup fails to start\n\nChange-Id: I154a08f7ad44f904871ce19a857b75b5f76e6541\n'}, {'number': 2, 'created': '2019-05-31 12:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/525b04d5f72381412cec54e21a04d6490d5d7233', 'message': 'queens: add openstackclient for nova image\n\nWithout openstackclient, nova-cell-setup fails to start\n\nChange-Id: I154a08f7ad44f904871ce19a857b75b5f76e6541\n'}, {'number': 3, 'created': '2019-06-07 08:57:18.000000000', 'files': ['openstack/loci/build-queens.sh', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f26d172e5e3ecd01438f33624470f1ca669a9cbf', 'message': 'queens: add openstackclient for nova image\n\nWithout openstackclient, nova-cell-setup fails to start\n\nChange-Id: I154a08f7ad44f904871ce19a857b75b5f76e6541\n'}]",1,651791,f26d172e5e3ecd01438f33624470f1ca669a9cbf,18,8,3,30252,,,0,"queens: add openstackclient for nova image

Without openstackclient, nova-cell-setup fails to start

Change-Id: I154a08f7ad44f904871ce19a857b75b5f76e6541
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/91/651791/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/loci/build-queens.sh'],1,19b6be614c52524ae86e0a0d749e1e81b28cb6a0,,"nova_pip_packages=${nova_pip_packages:-""'python-openstackclient'""}",,1,0
openstack%2Fopenstack-helm~master~Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140,openstack/openstack-helm,master,Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140,[DNM] Testing purpose only,ABANDONED,2019-06-07 13:12:42.000000000,2020-07-15 20:37:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-06-07 13:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6cf57dc3da08eeb22291b5ffda0e792536dd353', 'message': '[DNM] Testing purpose only\n\nChange-Id: Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140\n'}, {'number': 2, 'created': '2019-06-07 13:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3f6391573a8cea646ab070b13565b2bb933ac695', 'message': '[DNM] Testing purpose only\n\nChange-Id: Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140\n'}, {'number': 3, 'created': '2019-06-07 13:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4591bea6a958fb6ef8a333b87cdac1a9fb54a218', 'message': '[DNM] Testing purpose only\n\nChange-Id: Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140\n'}, {'number': 4, 'created': '2019-06-07 13:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/62d74db407be2b907e89e795c3600809e05ad504', 'message': '[DNM] Testing purpose only\n\nChange-Id: Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140\n'}, {'number': 5, 'created': '2019-06-07 16:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b364cf2299603213dc8e6f35ce8a9d69d1b0c07', 'message': '[DNM] Testing purpose only\n\nChange-Id: Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140\n'}, {'number': 6, 'created': '2019-06-07 16:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86feabea1190eedd8c0a75dc5603d8c736004449', 'message': '[DNM] Testing purpose only\n\nChange-Id: Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140\n'}, {'number': 7, 'created': '2019-06-07 16:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/80894fac17fb78e8ddde570f99e83040bb283ff7', 'message': '[DNM] Testing purpose only\n\nChange-Id: Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140\n'}, {'number': 8, 'created': '2019-06-10 18:26:23.000000000', 'files': ['nova/values.yaml', 'tools/gate/playbooks/multinode-deploy.yaml', 'tools/deployment/multinode/140-compute-kit.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a29da2eeda77fd107435e36952ea33fdf0c97ec2', 'message': '[DNM] Testing purpose only\n\nChange-Id: Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140\n'}]",0,663938,a29da2eeda77fd107435e36952ea33fdf0c97ec2,14,2,8,24780,,,0,"[DNM] Testing purpose only

Change-Id: Ic8bf1f1a07d8294ccf5fa2fcee3a283b46c4b140
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/663938/8 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/multinode-deploy.yaml', 'keystone/values.yaml', 'zuul.d/project.yaml']",3,c6cf57dc3da08eeb22291b5ffda0e792536dd353,, - openstack-helm-multinode-temp-ubuntu, - openstack-helm-lint - openstack-helm-bandit - openstack-helm-keystone - openstack-helm-keystone-rocky-opensuse_15: voting: false - openstack-helm-keystone-ldap - openstack-helm-glance - openstack-helm-glance-rocky-opensuse_15: voting: false - openstack-helm-heat - openstack-helm-heat-rocky-opensuse_15: voting: false - openstack-helm-cinder - openstack-helm-cinder-rocky-opensuse_15: voting: false - openstack-helm-compute-kit - openstack-helm-compute-kit-rocky-opensuse_15: voting: false - openstack-helm-horizon - openstack-helm-apparmor: voting: false,58,200
openstack%2Fopenstack-helm~master~Ib231653c5964243b1de4141ab38ce92fcf27cce0,openstack/openstack-helm,master,Ib231653c5964243b1de4141ab38ce92fcf27cce0,Octavia for OpenStack Helm,ABANDONED,2018-06-26 09:45:42.000000000,2020-07-15 20:37:53.000000000,,"[{'_account_id': 136}, {'_account_id': 8386}, {'_account_id': 8898}, {'_account_id': 11628}, {'_account_id': 17591}, {'_account_id': 21892}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24046}, {'_account_id': 25653}, {'_account_id': 27743}, {'_account_id': 30413}]","[{'number': 1, 'created': '2018-06-26 09:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/637a3a0788d35cb281db531e2fea4f7b2207140b', 'message': 'Octavia for OpenStack Helm\n\nOctavia helm for OpenStack Helm\n\nChange-Id: Ib231653c5964243b1de4141ab38ce92fcf27cce0\nTask:2002692\nStory:22519\n'}, {'number': 2, 'created': '2018-07-06 13:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e98efc9e203e0c05e3f410c3d5dc4373748e63b', 'message': 'Octavia for OpenStack Helm\n\nOctavia helm for OpenStack Helm\n\nChange-Id: Ib231653c5964243b1de4141ab38ce92fcf27cce0\nTask:2002692\nStory:22519\n'}, {'number': 3, 'created': '2018-07-06 15:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8f9e41bd8daf930553446093ed0574fb1b6d0350', 'message': 'Octavia for OpenStack Helm\n\nOctavia helm for OpenStack Helm\n\nChange-Id: Ib231653c5964243b1de4141ab38ce92fcf27cce0\nTask:2002692\nStory:22519\n'}, {'number': 4, 'created': '2018-08-21 15:00:09.000000000', 'files': ['octavia/templates/_helpers.tpl', 'octavia/templates/ingress-helm.yaml', 'octavia/values.yaml', 'octavia/templates/NOTES.txt', 'octavia/templates/service-api-helm.yaml', 'octavia/templates/octavia-health-manager-helm.yaml', 'octavia/Chart.yaml', 'octavia/templates/octavia-worker-helm.yaml', 'octavia/templates/octavia-api-helm.yaml', 'octavia/templates/octavia-configmap.yaml', 'octavia/templates/octavia-certificate-caclient.yaml', 'octavia/requirements.yaml', 'octavia/templates/octavia-certificate-ca-01.yaml', 'octavia/templates/octavia-certificate-cakey.yaml', 'octavia/templates/octavia-housekeeping-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d13ab8fcdeae3ff395708b3f72bf5378d598159c', 'message': 'Octavia for OpenStack Helm\n\nOctavia helm for OpenStack Helm\n\nChange-Id: Ib231653c5964243b1de4141ab38ce92fcf27cce0\nTask:2002692\nStory:22519\n'}]",0,578051,d13ab8fcdeae3ff395708b3f72bf5378d598159c,17,12,4,27743,,,0,"Octavia for OpenStack Helm

Octavia helm for OpenStack Helm

Change-Id: Ib231653c5964243b1de4141ab38ce92fcf27cce0
Task:2002692
Story:22519
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/51/578051/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/templates/_helpers.tpl', 'octavia/templates/ingress-helm.yaml', 'octavia/values.yaml', 'octavia/templates/NOTES.txt', 'octavia/templates/service-api-helm.yaml', 'octavia/templates/octavia-health-manager-helm.yaml', 'octavia/Chart.yaml', 'octavia/templates/octavia-worker-helm.yaml', 'octavia/templates/octavia-api-helm.yaml', 'octavia/templates/octavia-configmap.yaml', 'octavia/requirements.yaml', 'octavia/templates/octavia-housekeeping-helm.yaml']",12,637a3a0788d35cb281db531e2fea4f7b2207140b,bp/octavia-helm,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} apiVersion: apps/v1 kind: Deployment metadata: name: octavia-housekeeping labels: app: {{ template ""octavia.name"" . }} chart: {{ template ""octavia.chart"" . }} release: {{ .Release.Name }} heritage: {{ .Release.Service }} spec: replicas: {{ .Values.replicaCount }} selector: matchLabels: app: {{ template ""octavia.name"" . }} release: {{ .Release.Name }} template: metadata: labels: app: {{ template ""octavia.name"" . }} release: {{ .Release.Name }} spec: containers: - name: {{ .Chart.Name }} image: ""{{ .Values.image.repository }}:{{ .Values.image.tag }}"" command: [""/var/lib/openstack/bin/octavia-housekeeping""] ports: - containerPort: 9876 volumeMounts: - name: {{ .Values.configfile.name }} mountPath: {{ .Values.volumeMounts.mountPath }} subPath: {{ .Values.volumeMounts.subPath }} volumes: - name: {{ .Values.configfile.name }} configMap: name: {{ .Values.configfile.name }} items: - key: {{ .Values.volumeMounts.subPath }} path: {{ .Values.volumeMounts.subPath }} ",,538,0
openstack%2Fopenstack-helm-infra~master~I98d2c562f4bf4980a6e5bcf9fb3f5bf5df664b36,openstack/openstack-helm-infra,master,I98d2c562f4bf4980a6e5bcf9fb3f5bf5df664b36,Migrate migrate  Ubuntu jobs from xenial to Bionic,ABANDONED,2019-04-03 18:58:47.000000000,2020-07-15 20:37:49.000000000,,"[{'_account_id': 12281}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-03 18:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/12d8bdfc5486870f3622a0b6f07f75267dcfc070', 'message': 'Migrate migrate  Ubuntu jobs from xenial to Bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nThis commit migrates the Ubuntu jobs to run on bionic.\n\nMore Details:\n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\n\nChange-Id: I98d2c562f4bf4980a6e5bcf9fb3f5bf5df664b36\n'}, {'number': 2, 'created': '2019-04-04 04:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86df7ff28f0562da09f38256767928d574989b96', 'message': 'Migrate migrate  Ubuntu jobs from xenial to Bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nThis commit migrates the Ubuntu jobs to run on bionic.\n\nMore Details:\n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\n\nChange-Id: I98d2c562f4bf4980a6e5bcf9fb3f5bf5df664b36\n'}, {'number': 3, 'created': '2019-04-06 04:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8652c41664a5b2d7fad4e8909174347041abb92c', 'message': 'Migrate migrate  Ubuntu jobs from xenial to Bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nThis commit migrates the Ubuntu jobs to run on bionic.\n\nMore Details:\n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\n\nChange-Id: I98d2c562f4bf4980a6e5bcf9fb3f5bf5df664b36\n'}, {'number': 4, 'created': '2019-04-14 04:54:12.000000000', 'files': ['zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4305c121bbaa5178d80916331e4584cbb9fcba07', 'message': 'Migrate migrate  Ubuntu jobs from xenial to Bionic\n\nWe have migrated the zuulv3 job to Bionic during Dec/Jan month.\n - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html\n - https://etherpad.openstack.org/p/devstack-bionic\nBut that effort does not move all gate job to Bionic as there are\nlarge amount of jobs are still legacy jobs. All the legacy jobs still\nuse Xenial as nodeset.\n\nAs per the decided runtime for Stein, we need to test everything on openstack\nCI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html\n\nThis commit migrates the Ubuntu jobs to run on bionic.\n\nMore Details:\n- https://etherpad.openstack.org/p/legacy-job-bionic\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html\n\nChange-Id: I98d2c562f4bf4980a6e5bcf9fb3f5bf5df664b36\n'}]",0,649698,4305c121bbaa5178d80916331e4584cbb9fcba07,13,2,4,8556,,,0,"Migrate migrate  Ubuntu jobs from xenial to Bionic

We have migrated the zuulv3 job to Bionic during Dec/Jan month.
 - http://lists.openstack.org/pipermail/openstack-discuss/2018-December/000837.html
 - https://etherpad.openstack.org/p/devstack-bionic
But that effort does not move all gate job to Bionic as there are
large amount of jobs are still legacy jobs. All the legacy jobs still
use Xenial as nodeset.

As per the decided runtime for Stein, we need to test everything on openstack
CI/CD on Bionic - https://governance.openstack.org/tc/reference/runtimes/stein.html

This commit migrates the Ubuntu jobs to run on bionic.

More Details:
- https://etherpad.openstack.org/p/legacy-job-bionic
- http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003614.html

Change-Id: I98d2c562f4bf4980a6e5bcf9fb3f5bf5df664b36
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/649698/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",2,12d8bdfc5486870f3622a0b6f07f75267dcfc070,, nodeset: ubuntu-bionic, nodeset: ubuntu-xenial,10,10
openstack%2Fopenstack-helm~master~I05834d55dfa5d3287e22db958030adce49c1ad04,openstack/openstack-helm,master,I05834d55dfa5d3287e22db958030adce49c1ad04,[DNM] FOR TESTING PURPOSE ONLY,ABANDONED,2019-05-31 12:56:01.000000000,2020-07-15 20:37:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-05-31 12:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8056829d19dd1a67237cb8011ab2d9bb180601c1', 'message': '[DNM] FOR TESTING PURPOSE ONLY\n\nThis PS is for testing purpose only. DO NOT REVIEW OR MERGE.\n\nChange-Id: I05834d55dfa5d3287e22db958030adce49c1ad04\n'}, {'number': 2, 'created': '2019-05-31 14:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3879b681a5da70070291aa7f444f4d54364e1645', 'message': '[DNM] FOR TESTING PURPOSE ONLY\n\nThis PS is for testing purpose only. DO NOT REVIEW OR MERGE.\n\nChange-Id: I05834d55dfa5d3287e22db958030adce49c1ad04\n'}, {'number': 3, 'created': '2019-06-03 15:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/621a1cd3874d5b36621c9b997de4a0d5d07abd3b', 'message': '[DNM] FOR TESTING PURPOSE ONLY\n\nThis PS is for testing purpose only. DO NOT REVIEW OR MERGE.\n\nChange-Id: I05834d55dfa5d3287e22db958030adce49c1ad04\n'}, {'number': 4, 'created': '2019-06-04 12:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d8a205937ff25693cc09adbdaefa7d579c0a65f', 'message': '[DNM] FOR TESTING PURPOSE ONLY\n\nThis PS is for testing purpose only. DO NOT REVIEW OR MERGE.\n\nDepends-On: https://review.opendev.org/662822\nChange-Id: I05834d55dfa5d3287e22db958030adce49c1ad04\n'}, {'number': 5, 'created': '2019-06-04 16:04:36.000000000', 'files': ['tools/deployment/multinode/100-glance.sh', 'tools/deployment/multinode/150-heat.sh', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'tools/deployment/multinode/140-compute-kit.sh', 'glance/values.yaml', 'horizon/values.yaml', 'nova/values.yaml', 'tools/deployment/multinode/110-cinder.sh', 'zuul.d/project.yaml', 'tools/deployment/multinode/060-rabbitmq.sh', 'tools/deployment/multinode/050-mariadb.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d0480d1f39f1150ec3ca8a4c267c8167434f40e8', 'message': '[DNM] FOR TESTING PURPOSE ONLY\n\nThis PS is for testing purpose only. DO NOT REVIEW OR MERGE.\n\nDepends-On: https://review.opendev.org/662822\nChange-Id: I05834d55dfa5d3287e22db958030adce49c1ad04\n'}]",0,662454,d0480d1f39f1150ec3ca8a4c267c8167434f40e8,12,2,5,24780,,,0,"[DNM] FOR TESTING PURPOSE ONLY

This PS is for testing purpose only. DO NOT REVIEW OR MERGE.

Depends-On: https://review.opendev.org/662822
Change-Id: I05834d55dfa5d3287e22db958030adce49c1ad04
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/54/662454/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/values.yaml', 'cinder/values.yaml', 'nova/values.yaml', 'zuul.d/project.yaml', 'glance/values.yaml', 'horizon/values.yaml']",6,8056829d19dd1a67237cb8011ab2d9bb180601c1,, server: requiredDuringSchedulingIgnoredDuringExecution,,14,0
openstack%2Fopenstack-helm-infra~master~Idfcecc593ad0b5e8a3da4db1b04bc38841a269e6,openstack/openstack-helm-infra,master,Idfcecc593ad0b5e8a3da4db1b04bc38841a269e6,[DNM] FOR TESTING PURPOSE ONLY,ABANDONED,2019-06-03 18:57:20.000000000,2020-07-15 20:37:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-06-03 18:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb78e71d62e6d05345ea3c9060fcb56f7a7cc958', 'message': '[DNM] FOR TESTING PURPOSE ONLY\n\nThis PS is for testing purpose only. DO NOT REVIEW OR MERGE\n\nChange-Id: Idfcecc593ad0b5e8a3da4db1b04bc38841a269e6\n'}, {'number': 2, 'created': '2019-06-04 16:03:52.000000000', 'files': ['mariadb/values.yaml', 'rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a55dc77361d5d005d57bb455b21b2c50ed0b373c', 'message': '[DNM] FOR TESTING PURPOSE ONLY\n\nThis PS is for testing purpose only. DO NOT REVIEW OR MERGE\n\nChange-Id: Idfcecc593ad0b5e8a3da4db1b04bc38841a269e6\n'}]",0,662822,a55dc77361d5d005d57bb455b21b2c50ed0b373c,9,2,2,24780,,,0,"[DNM] FOR TESTING PURPOSE ONLY

This PS is for testing purpose only. DO NOT REVIEW OR MERGE

Change-Id: Idfcecc593ad0b5e8a3da4db1b04bc38841a269e6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/22/662822/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/values.yaml', 'rabbitmq/values.yaml']",2,eb78e71d62e6d05345ea3c9060fcb56f7a7cc958,, server: requiredDuringSchedulingIgnoredDuringExecution,,5,1
openstack%2Fopenstack-helm-infra~master~I18820981da8d1dcd71f654211ecabc58b699c3a5,openstack/openstack-helm-infra,master,I18820981da8d1dcd71f654211ecabc58b699c3a5,helm-toolkit: fix k8s rolebinding bad SA ref,ABANDONED,2019-05-16 13:01:07.000000000,2020-07-15 20:31:08.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28101}, {'_account_id': 30385}]","[{'number': 1, 'created': '2019-05-16 13:01:07.000000000', 'files': ['helm-toolkit/templates/snippets/_kubernetes_pod_rbac_serviceaccount.tpl', 'helm-toolkit/templates/snippets/_kubernetes_pod_rbac_roles.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e056d0d3ed6e26f1e8e526a11cb77480da09e88', 'message': 'helm-toolkit: fix k8s rolebinding bad SA ref\n\nthe service account(SA) is created in the release namespace\nwhile the rolebinding references a SA in possibly the wrong\nnamespace according to the computed `allNamespace` set\n\nChange-Id: I18820981da8d1dcd71f654211ecabc58b699c3a5\nCloses-Bug: #1829358\nSigned-off-by: ydegat <yann@2kmail.net>\n'}]",0,659556,9e056d0d3ed6e26f1e8e526a11cb77480da09e88,6,11,1,30385,,,0,"helm-toolkit: fix k8s rolebinding bad SA ref

the service account(SA) is created in the release namespace
while the rolebinding references a SA in possibly the wrong
namespace according to the computed `allNamespace` set

Change-Id: I18820981da8d1dcd71f654211ecabc58b699c3a5
Closes-Bug: #1829358
Signed-off-by: ydegat <yann@2kmail.net>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/56/659556/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/snippets/_kubernetes_pod_rbac_serviceaccount.tpl', 'helm-toolkit/templates/snippets/_kubernetes_pod_rbac_roles.tpl']",2,9e056d0d3ed6e26f1e8e526a11cb77480da09e88,bug/1829358,{{- $ns := index . 4 -}} namespace: {{ $ns }} namespace: {{ $ns }}{{- end -}}, namespace: {{ $saNamespace }} namespace: {{ $saNamespace }}{{- end -}} ,5,4
openstack%2Fmanila-tempest-plugin~master~If9b57f0f78c43d5f17738f13cc86b0594d3d2994,openstack/manila-tempest-plugin,master,If9b57f0f78c43d5f17738f13cc86b0594d3d2994,Fix usage of tenant_id in tests,MERGED,2020-07-15 04:34:44.000000000,2020-07-15 20:30:59.000000000,2020-07-15 20:30:59.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 19262}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-07-15 04:34:44.000000000', 'files': ['manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/tests/api/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/38544589c4a5c39e78f5399fbb2f4ccf92fb7b91', 'message': ""Fix usage of tenant_id in tests\n\nSome tests assume that the base test classes\nset a tenant_id parameter at the class level.\nThis is not the case because base test classes\nmost often are capable of dealing with multiple\ntenants via tempest's test credential framework.\n\nChange-Id: If9b57f0f78c43d5f17738f13cc86b0594d3d2994\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,741083,38544589c4a5c39e78f5399fbb2f4ccf92fb7b91,9,7,1,16643,,,0,"Fix usage of tenant_id in tests

Some tests assume that the base test classes
set a tenant_id parameter at the class level.
This is not the case because base test classes
most often are capable of dealing with multiple
tenants via tempest's test credential framework.

Change-Id: If9b57f0f78c43d5f17738f13cc86b0594d3d2994
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/83/741083/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/tests/api/test_quotas.py']",2,38544589c4a5c39e78f5399fbb2f4ccf92fb7b91,fix-tenant-id, cls.user_id = cls.shares_v2_client.user_id cls.tenant_id = cls.shares_v2_client.tenant_id, cls.user_id = cls.shares_v2_client.user_id or cls.user_id cls.tenant_id = cls.shares_v2_client.tenant_id or cls.tenant_id,3,3
openstack%2Fopenstack-helm-infra~master~I508e285ee6a467728a764d9d1c11a4195e3c4989,openstack/openstack-helm-infra,master,I508e285ee6a467728a764d9d1c11a4195e3c4989,rabbitmq: switch statefulset podmgmtpolicy to OrderedReady,ABANDONED,2019-05-07 09:50:08.000000000,2020-07-15 20:30:26.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28101}, {'_account_id': 30385}]","[{'number': 1, 'created': '2019-05-07 09:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a2db41eb94f7dc6b37cc3885b5d65b70b96b9de8', 'message': 'Closes-Bug: #1828008\n\nChange-Id: I508e285ee6a467728a764d9d1c11a4195e3c4989\n'}, {'number': 2, 'created': '2019-05-07 09:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/354e97a9df92531f26f1e54018507a0f7e9f0ddd', 'message': 'rabbitmq: switch statefulset podmgmtpolicy to OrderedReady\n\nCloses-Bug: #1828008\n\nChange-Id: I508e285ee6a467728a764d9d1c11a4195e3c4989\n'}, {'number': 3, 'created': '2019-05-07 10:06:11.000000000', 'files': ['rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd0b42e4a03c31f05bd3d0b22fa40a60c511a45b', 'message': 'rabbitmq: switch statefulset podmgmtpolicy to OrderedReady\n\nPodManagementPolicy set to ""Parallel"" can lead to race condition issues.\nEspecially in the rabbitmq case where, as nodes are launched in parallel\nand may haven\'t reached a certain state, they can\'t discover each other\nand fail to form a cluster.\n\nAs this ""cluster forming"" step isn\'t retried, each pod node then run in\nstandalone mode.\n\nSwitching back explicitly to the default ""OrderedReady"" value of\npodManagementPolicy solved the issue as the second  & following\nnodes start only once the first one is up & ready.\n\n(see doc:  https://www.rabbitmq.com/cluster-formation.html#peer-discovery-k8s)\n\nCloses-Bug: #1828008\n\nChange-Id: I508e285ee6a467728a764d9d1c11a4195e3c4989\n'}]",0,657561,dd0b42e4a03c31f05bd3d0b22fa40a60c511a45b,10,12,3,30385,,,0,"rabbitmq: switch statefulset podmgmtpolicy to OrderedReady

PodManagementPolicy set to ""Parallel"" can lead to race condition issues.
Especially in the rabbitmq case where, as nodes are launched in parallel
and may haven't reached a certain state, they can't discover each other
and fail to form a cluster.

As this ""cluster forming"" step isn't retried, each pod node then run in
standalone mode.

Switching back explicitly to the default ""OrderedReady"" value of
podManagementPolicy solved the issue as the second  & following
nodes start only once the first one is up & ready.

(see doc:  https://www.rabbitmq.com/cluster-formation.html#peer-discovery-k8s)

Closes-Bug: #1828008

Change-Id: I508e285ee6a467728a764d9d1c11a4195e3c4989
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/657561/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/statefulset.yaml'],1,a2db41eb94f7dc6b37cc3885b5d65b70b96b9de8,bug/1828008," podManagementPolicy: ""OrderedReady"""," podManagementPolicy: ""Parallel""",1,1
openstack%2Fopenstack-helm-images~master~I149f51a501f0941b2e335662b75f9c9a2d62ebce,openstack/openstack-helm-images,master,I149f51a501f0941b2e335662b75f9c9a2d62ebce,"Adding EXTRA_CFLAGS=""-Ofast"" for DPDK and OpenvSwitch comnpilation",ABANDONED,2019-05-31 05:29:21.000000000,2020-07-15 20:30:21.000000000,,"[{'_account_id': 16353}, {'_account_id': 16881}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25850}]","[{'number': 1, 'created': '2019-05-31 05:29:21.000000000', 'files': ['openvswitch/Dockerfile.debian-dpdk'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/cdc26dd9b0e1b35c1319bcb304744ca526ed1824', 'message': 'Adding EXTRA_CFLAGS=""-Ofast"" for DPDK and OpenvSwitch comnpilation\n\nAs suggested by Intel to improve the performance , the DPDK\nAnd openvswitch should be compiled with EXTRA_CFLAGS=""-Ofast""\n\nChange-Id: I149f51a501f0941b2e335662b75f9c9a2d62ebce\n'}]",1,662384,cdc26dd9b0e1b35c1319bcb304744ca526ed1824,6,6,1,30329,,,0,"Adding EXTRA_CFLAGS=""-Ofast"" for DPDK and OpenvSwitch comnpilation

As suggested by Intel to improve the performance , the DPDK
And openvswitch should be compiled with EXTRA_CFLAGS=""-Ofast""

Change-Id: I149f51a501f0941b2e335662b75f9c9a2d62ebce
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/84/662384/1 && git format-patch -1 --stdout FETCH_HEAD,['openvswitch/Dockerfile.debian-dpdk'],1,cdc26dd9b0e1b35c1319bcb304744ca526ed1824,," cd ${DPDK_TARGET} ;\ EXTRA_CFLAGS=""-Ofast"" make -j3 ;\ make CFLAGS=""-Ofast -march=native"" -j3 ;\", make ;\,3,1
openstack%2Fopenstack-helm~master~I4ca2993a9ad81eb74e3735413b588b9588c1cfd2,openstack/openstack-helm,master,I4ca2993a9ad81eb74e3735413b588b9588c1cfd2,Integrating tungstenfabric plugin to osh,ABANDONED,2018-12-04 19:24:11.000000000,2020-07-15 20:30:17.000000000,,"[{'_account_id': 7769}, {'_account_id': 10234}, {'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29665}]","[{'number': 1, 'created': '2018-12-04 19:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/93a6e437a3dfb5b818506698f2f5dc5d8583acbc', 'message': 'Integrating tungstenfabric plugin to osh [WIP]\n\nChange-Id: I4ca2993a9ad81eb74e3735413b588b9588c1cfd2\n'}, {'number': 2, 'created': '2019-03-21 21:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f82d6bc6355406195774126db9cb00835929f507', 'message': 'Integrating tungstenfabric plugin to osh\n\nChange-Id: I4ca2993a9ad81eb74e3735413b588b9588c1cfd2\n'}, {'number': 3, 'created': '2019-05-01 22:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b3b2f49c013d623e5fcff2969048215b3924550', 'message': 'Integrating tungstenfabric plugin to osh\n\nChange-Id: I4ca2993a9ad81eb74e3735413b588b9588c1cfd2\n'}, {'number': 4, 'created': '2019-05-02 00:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79dcad45f9c861532dab9db1be0590aa648c07a6', 'message': 'Integrating tungstenfabric plugin to osh\n\nChange-Id: I4ca2993a9ad81eb74e3735413b588b9588c1cfd2\n'}, {'number': 5, 'created': '2019-05-02 19:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ce728b8dc3f7d8c08dd6a7bc4d3eee3bf4557c60', 'message': 'Integrating tungstenfabric plugin to osh\n\nChange-Id: I4ca2993a9ad81eb74e3735413b588b9588c1cfd2\n'}, {'number': 6, 'created': '2019-05-03 21:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/938b81af1bd623f97e0fcda02e1a5fe20b493ebc', 'message': 'Integrating tungstenfabric plugin to osh\n\nChange-Id: I4ca2993a9ad81eb74e3735413b588b9588c1cfd2\n'}, {'number': 7, 'created': '2019-05-10 16:21:03.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'tools/deployment/multinode/143-compute-kit-tungstenfabric-test.sh', 'tools/overrides/backends/networking/tungstenfabric/neutron.yaml', 'tools/overrides/backends/networking/tungstenfabric/heat.yaml', 'tools/deployment/multinode/144-sriov-compute-kit-tungstenfabric.sh', 'tools/deployment/developer/nfs/161-compute-kit-tungstenfabric.sh', 'tools/deployment/multinode/151-heat-tungstenfabric.sh', 'tools/overrides/backends/networking/tungstenfabric/libvirt.yaml', 'tools/overrides/backends/networking/tungstenfabric/nova.yaml', 'tools/deployment/component/compute-kit/161-compute-kit-tungstenfabric.sh', 'tools/deployment/developer/common/031-ingress-tungstenfabric.sh', 'heat/templates/configmap-etc.yaml', 'tools/deployment/developer/ceph/161-compute-kit-tungstenfabric.sh', 'tools/deployment/developer/nfs/901-use-it-tungstenfabric.sh', 'tools/deployment/developer/common/001-install-packages-tungstenfabric.sh', 'neutron/templates/configmap-etc.yaml', 'heat/templates/deployment-engine.yaml', 'tools/deployment/developer/common/162-neutron-rbac-tungstenfabric.sh', 'tools/deployment/developer/ceph/151-libvirt-tungstenfabric.sh', 'tools/overrides/backends/networking/tungstenfabric/nova-ocata.yaml', 'tools/deployment/multinode/131-libvirt-tungstenfabric.sh', 'heat/values.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'tools/deployment/developer/nfs/151-libvirt-tungstenfabric.sh', 'tools/deployment/component/compute-kit/151-libvirt-tungstenfabric.sh', 'tools/deployment/developer/nfs/163-sriov-compute-kit-tungstenfabric.sh', 'tools/overrides/backends/networking/tungstenfabric/neutron-rbac.yaml', 'neutron/templates/configmap-bin.yaml', 'tools/deployment/developer/common/091-heat-tungstenfabric.sh', 'tools/deployment/multinode/141-compute-kit-tungstenfabric.sh', 'heat/templates/configmap-bin.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'tools/overrides/backends/networking/tungstenfabric/libvirt-ocata.yaml', 'tools/pull-tungstenfabric-images.sh', 'nova/templates/configmap-bin.yaml', 'tools/deployment/multinode/021-ingress-tungstenfabric.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7aab4b1f46475bf057203fc6dfd7d04fc7f12a31', 'message': 'Integrating tungstenfabric plugin to osh\n\nChange-Id: I4ca2993a9ad81eb74e3735413b588b9588c1cfd2\n'}]",2,622573,7aab4b1f46475bf057203fc6dfd7d04fc7f12a31,21,6,7,27000,,,0,"Integrating tungstenfabric plugin to osh

Change-Id: I4ca2993a9ad81eb74e3735413b588b9588c1cfd2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/622573/5 && git format-patch -1 --stdout FETCH_HEAD,"['heat/templates/deployment-engine.yaml', 'neutron/templates/deployment-server.yaml', 'heat/values.yaml', 'tools/overrides/backends/networking/tungstenfabric/neutron.yaml', 'tools/overrides/backends/networking/tungstenfabric/heat.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'tools/overrides/backends/networking/tungstenfabric/nova.yaml', 'neutron/templates/configmap-bin.yaml', 'heat/templates/configmap-etc.yaml', 'heat/templates/configmap-bin.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'neutron/templates/configmap-etc.yaml', 'nova/templates/configmap-bin.yaml']",14,93a6e437a3dfb5b818506698f2f5dc5d8583acbc,tungsten-fabric, tf-plugin.pth: | /opt/plugin/site-packages,,310,0
openstack%2Fopenstack-helm-infra~master~I2b05d1bd85aaa4907cda7682d650b498212b29cc,openstack/openstack-helm-infra,master,I2b05d1bd85aaa4907cda7682d650b498212b29cc,[DNM] updating weight value from 10 to 100,ABANDONED,2019-05-29 10:28:54.000000000,2020-07-15 20:30:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 30505}]","[{'number': 1, 'created': '2019-05-29 10:28:54.000000000', 'files': ['elasticsearch/values.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/51e4f6deef459c33b184349d0fa95774d38df41d', 'message': '[DNM] updating weight value from 10 to 100\n\nChange-Id: I2b05d1bd85aaa4907cda7682d650b498212b29cc\n'}]",0,661935,51e4f6deef459c33b184349d0fa95774d38df41d,5,2,1,30505,,,0,"[DNM] updating weight value from 10 to 100

Change-Id: I2b05d1bd85aaa4907cda7682d650b498212b29cc
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/35/661935/1 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/values.yaml', 'zuul.d/project.yaml']",2,51e4f6deef459c33b184349d0fa95774d38df41d,, - openstack-helm-multinode-temp-ubuntu - openstack-helm-infra-armada-update-passwords , - openstack-helm-lint - openstack-helm-infra-aio-logging - openstack-helm-infra-aio-monitoring - openstack-helm-infra-aio-network-policy: voting: false - openstack-helm-infra-openstack-support - openstack-helm-infra-kubernetes-keystone-auth # some testing performed here to check for any break of host/label # override functionality - openstack-helm-infra-airship-divingbell: voting: false - openstack-helm-infra-aio-podsecuritypolicy: voting: false - openstack-helm-infra-apparmor: voting: false - openstack-helm-infra-armada-update-passwords,3,17
openstack%2Fopenstack-helm-infra~master~I60dd5dffec55b807c93edd58544c0a79608f57d6,openstack/openstack-helm-infra,master,I60dd5dffec55b807c93edd58544c0a79608f57d6,"Rabbitmq readiness, liveness Probe inputs",ABANDONED,2019-05-03 13:25:59.000000000,2020-07-15 20:30:09.000000000,,"[{'_account_id': 2062}, {'_account_id': 9963}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29106}]","[{'number': 1, 'created': '2019-05-03 13:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/106d142a9eaf3dae3a365fc11c2275c9ee2105de', 'message': 'rabbitmq readiness, liveness inputs\n\nChange-Id: I60dd5dffec55b807c93edd58544c0a79608f57d6\n'}, {'number': 2, 'created': '2019-05-03 14:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/93a594c25e322e84afa43f529e3c1326a68de93f', 'message': 'Rabbitmq readiness, liveness Probe inputs\n\nCurrently rabbitmq statefulset liveness and\nreadiness Probe values are static configured\nin templates. We need to pass them through\n.Values\n\nChange-Id: I60dd5dffec55b807c93edd58544c0a79608f57d6\nStory: rabbitmq probe inputs\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nSigned-off-by: kranthikirang <kranthi.guttikonda@att.com>\n'}, {'number': 3, 'created': '2019-05-24 14:11:53.000000000', 'files': ['rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c893119234481cd48d47d88346736ef49deb850c', 'message': 'Rabbitmq readiness, liveness Probe inputs\n\nCurrently rabbitmq statefulset liveness and\nreadiness Probe values are static configured\nin templates. We need to pass them through\n.Values\n\nChange-Id: I60dd5dffec55b807c93edd58544c0a79608f57d6\nStory: rabbitmq probe inputs\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nSigned-off-by: kranthikirang <kranthi.guttikonda@att.com>\n'}]",3,656948,c893119234481cd48d47d88346736ef49deb850c,15,7,3,29106,,,0,"Rabbitmq readiness, liveness Probe inputs

Currently rabbitmq statefulset liveness and
readiness Probe values are static configured
in templates. We need to pass them through
.Values

Change-Id: I60dd5dffec55b807c93edd58544c0a79608f57d6
Story: rabbitmq probe inputs
Signed-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>
Signed-off-by: kranthikirang <kranthi.guttikonda@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/656948/1 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml']",2,106d142a9eaf3dae3a365fc11c2275c9ee2105de,, initialDelaySeconds: {{ .Values.pod.readiness.initialDelaySeconds }} timeoutSeconds: {{ .Values.pod.readiness.timeoutSeconds }} initialDelaySeconds: {{ .Values.pod.liveness.initialDelaySeconds }} timeoutSeconds: {{ .Values.pod.liveness.timeoutSeconds }}, initialDelaySeconds: 10 timeoutSeconds: 10 initialDelaySeconds: 30 timeoutSeconds: 10,10,4
openstack%2Fopenstack-helm-infra~master~I2b510b08aac5a71225f31e8bdc3f27e45f2b059a,openstack/openstack-helm-infra,master,I2b510b08aac5a71225f31e8bdc3f27e45f2b059a,mariadb readinessProbe .Values,ABANDONED,2019-05-01 21:38:18.000000000,2020-07-15 20:29:52.000000000,,"[{'_account_id': 2062}, {'_account_id': 9963}, {'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29106}]","[{'number': 1, 'created': '2019-05-01 21:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ca82ade6293da6a14d6d4609f453ba39399da9d', 'message': 'mariadb readinessProbe .Values\n\nCurrently mariadb statefulsets readinessProbe\nvalues are static and need to pass via .Values\n\nChange-Id: I2b510b08aac5a71225f31e8bdc3f27e45f2b059a\nStory: mariadb redinessProbe values\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nSigned-off-by: kranthikirang <kranthi.guttikonda@att.com>\n'}, {'number': 2, 'created': '2019-05-24 14:21:28.000000000', 'files': ['mariadb/values.yaml', 'mariadb/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d448ae35005e5fbae60899364f7b5dfe97479a3', 'message': 'mariadb readinessProbe .Values\n\nCurrently mariadb statefulsets readinessProbe\nvalues are static and need to pass via .Values\n\nChange-Id: I2b510b08aac5a71225f31e8bdc3f27e45f2b059a\nStory: mariadb redinessProbe values\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nSigned-off-by: kranthikirang <kranthi.guttikonda@att.com>\n'}]",0,656711,0d448ae35005e5fbae60899364f7b5dfe97479a3,11,6,2,29106,,,0,"mariadb readinessProbe .Values

Currently mariadb statefulsets readinessProbe
values are static and need to pass via .Values

Change-Id: I2b510b08aac5a71225f31e8bdc3f27e45f2b059a
Story: mariadb redinessProbe values
Signed-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>
Signed-off-by: kranthikirang <kranthi.guttikonda@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/656711/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/values.yaml', 'mariadb/templates/statefulset.yaml']",2,8ca82ade6293da6a14d6d4609f453ba39399da9d,, initialDelaySeconds: {{ .Values.pod.readiness.initialDelaySeconds }} periodSeconds: {{ .Values.pod.readiness.periodSeconds }} timeoutSeconds: {{ .Values.pod.readiness.timeoutSeconds }}, initialDelaySeconds: 30 periodSeconds: 30 timeoutSeconds: 3,7,3
openstack%2Fopenstack-helm-infra~master~I9a4853dff9973a72be3b2b1a2c1148ea77640c36,openstack/openstack-helm-infra,master,I9a4853dff9973a72be3b2b1a2c1148ea77640c36,Ceph chart probe values,ABANDONED,2019-05-03 15:59:31.000000000,2020-07-15 20:29:48.000000000,,"[{'_account_id': 2062}, {'_account_id': 9963}, {'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28372}, {'_account_id': 29106}, {'_account_id': 29132}]","[{'number': 1, 'created': '2019-05-03 15:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19d3c47db0551e6faf4346875caaf2c398267014', 'message': 'Ceph chart probe values\n\nCurrently ceph-mon, ceph-osd and ceph-client\ndeployment, daemonset Probe values configured\nstatic. We need to pass them through .Values\n\nChange-Id: I9a4853dff9973a72be3b2b1a2c1148ea77640c36\nStory: ceph-probe-values\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nSigned-off-by: kranthikirang <kranthi.guttikonda@att.com>\n'}, {'number': 2, 'created': '2019-05-23 20:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b75b0817a90c0375adc88c6addb4246edb815a50', 'message': 'Ceph chart probe values\n\nCurrently ceph-mon, ceph-osd and ceph-client\ndeployment, daemonset Probe values configured\nstatic. We need to pass them through .Values\n\nChange-Id: I9a4853dff9973a72be3b2b1a2c1148ea77640c36\nStory: ceph-probe-values\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nSigned-off-by: kranthikirang <kranthi.guttikonda@att.com>\n'}, {'number': 3, 'created': '2019-05-24 14:36:09.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/values.yaml', 'ceph-client/values.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e65a58cde5a9bd7b1cf878e09d30eed36c4f419', 'message': 'Ceph chart probe values\n\nCurrently ceph-mon, ceph-osd and ceph-client\ndeployment, daemonset Probe values configured\nstatic. We need to pass them through .Values\n\nChange-Id: I9a4853dff9973a72be3b2b1a2c1148ea77640c36\nStory: ceph-probe-values\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nSigned-off-by: kranthikirang <kranthi.guttikonda@att.com>\n'}]",1,656973,4e65a58cde5a9bd7b1cf878e09d30eed36c4f419,12,9,3,29106,,,0,"Ceph chart probe values

Currently ceph-mon, ceph-osd and ceph-client
deployment, daemonset Probe values configured
static. We need to pass them through .Values

Change-Id: I9a4853dff9973a72be3b2b1a2c1148ea77640c36
Story: ceph-probe-values
Signed-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>
Signed-off-by: kranthikirang <kranthi.guttikonda@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/73/656973/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/values.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-client/values.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-mon/values.yaml']",7,19d3c47db0551e6faf4346875caaf2c398267014,656973, liveness: initialDelaySeconds: 360 periodSeconds: 180 readiness: initialDelaySeconds: 60 periodSeconds: 60,,42,15
openstack%2Fopenstack-helm-infra~master~I4d006a49b73237e98f1f1ce8c9899ef0bce51999,openstack/openstack-helm-infra,master,I4d006a49b73237e98f1f1ce8c9899ef0bce51999,fix typo mistakes,ABANDONED,2018-12-16 07:35:56.000000000,2020-07-15 20:29:44.000000000,,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27549}, {'_account_id': 28701}, {'_account_id': 29558}]","[{'number': 1, 'created': '2018-12-16 07:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd45cdd5c20e24c2187fcaadd7b7e5aad28c6d7c', 'message': 'fix typo mistakes\n\nChange-Id: I4d006a49b73237e98f1f1ce8c9899ef0bce51999\n'}, {'number': 2, 'created': '2019-05-20 21:26:59.000000000', 'files': ['calico/values.yaml', 'fluent-logging/README.rst', 'doc/source/testing/ceph-resiliency/failure-domain.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6d6790fd67a805c0ddaf40b045a0fb0bdeae347', 'message': 'fix typo mistakes\n\nChange-Id: I4d006a49b73237e98f1f1ce8c9899ef0bce51999\n'}]",1,625415,b6d6790fd67a805c0ddaf40b045a0fb0bdeae347,12,11,2,27507,,,0,"fix typo mistakes

Change-Id: I4d006a49b73237e98f1f1ce8c9899ef0bce51999
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/15/625415/1 && git format-patch -1 --stdout FETCH_HEAD,"['calico/values.yaml', 'fluent-logging/README.rst', 'doc/source/testing/ceph-resiliency/failure-domain.rst']",3,cd45cdd5c20e24c2187fcaadd7b7e5aad28c6d7c,fix-docs,An example of a lab environment had the following paramters set for the ceph yaml override file to apply a rack level failure domain within CRUSH.,An example of a lab enviroment had the following paramters set for the ceph yaml override file to apply a rack level failure domain within CRUSH.,3,3
openstack%2Fopenstack-helm-images~master~I91c95cf1f5ae2748677fe147e7ac48831f7f1419,openstack/openstack-helm-images,master,I91c95cf1f5ae2748677fe147e7ac48831f7f1419,Rename Leap Dockerfiles to correctly reflect the distribution,ABANDONED,2019-04-11 13:44:37.000000000,2020-07-15 20:29:40.000000000,,"[{'_account_id': 1091}, {'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 8749}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23253}]","[{'number': 1, 'created': '2019-04-11 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b0711974957d88a92ab11a3bb965557060c5e73a', 'message': ""Rename Leap Dockerfiles to correctly reflect the distribution\n\nAlso adapt maintainer email to point to the SUSE's Cloud team.\n\nChange-Id: I91c95cf1f5ae2748677fe147e7ac48831f7f1419\n""}, {'number': 2, 'created': '2019-05-02 07:05:49.000000000', 'files': ['gate-utils/Dockerfile.opensuse_leap_15', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'zuul.d/libvirt.yaml', 'openvswitch/Dockerfile.opensuse_leap_15', 'vbmc/Dockerfile.opensuse_leap_15', 'zuul.d/ceph-config-helper.yaml', 'tempest/Dockerfile.opensuse_leap_15', 'zuul.d/vbmc.yaml', 'ceph-config-helper/Dockerfile.opensuse_leap_15', 'libvirt/Dockerfile.opensuse_leap_15', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d3b06f78b0f3d65b3df8ad707a9ce0db0056034e', 'message': ""Rename Leap Dockerfiles to correctly reflect the distribution\n\nAlso adapt maintainer email to point to the SUSE's Cloud team.\n\nChange-Id: I91c95cf1f5ae2748677fe147e7ac48831f7f1419\n""}]",5,651787,d3b06f78b0f3d65b3df8ad707a9ce0db0056034e,27,9,2,9963,,,0,"Rename Leap Dockerfiles to correctly reflect the distribution

Also adapt maintainer email to point to the SUSE's Cloud team.

Change-Id: I91c95cf1f5ae2748677fe147e7ac48831f7f1419
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/87/651787/2 && git format-patch -1 --stdout FETCH_HEAD,"['gate-utils/Dockerfile.opensuse_leap_15', 'ceph-config-helper/Dockerfile.opensuse_leap_15', 'zuul.d/gate-utils.yaml', 'zuul.d/libvirt.yaml', 'libvirt/Dockerfile.opensuse_leap_15', 'openvswitch/Dockerfile.opensuse_leap_15', 'vbmc/Dockerfile.opensuse_leap_15', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/openvswitch.yaml', 'zuul.d/vbmc.yaml']",10,b0711974957d88a92ab11a3bb965557060c5e73a,opensuse-dockerfiles, dockerfile: Dockerfile.opensuse_leap_15, dockerfile: Dockerfile.suse_15,11,10
openstack%2Fopenstack-helm-infra~master~I9805ddc8390df65f878fa803ac8ad74ad6507994,openstack/openstack-helm-infra,master,I9805ddc8390df65f878fa803ac8ad74ad6507994,Transform jobs into argo workflow steps,ABANDONED,2019-04-18 05:23:32.000000000,2020-07-15 20:29:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28869}]","[{'number': 1, 'created': '2019-04-18 05:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3ac5fb8f81d9ac25d37ed39904d94fe7ae1e9da3', 'message': 'Transform jobs into argo workflow steps\n\nChange-Id: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 2, 'created': '2019-04-18 05:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0da49bc58db20f2cf4ca62e928d2178cf85df852', 'message': 'Transform jobs into argo workflow steps\n\nChange-Id: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 3, 'created': '2019-04-18 18:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13a01860170f481abcfcce1455b1d3997bf13caa', 'message': 'Transform jobs into argo workflow steps\n\nChange-Id: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 4, 'created': '2019-04-18 18:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1027360def7d54cf51336761dd6f6a0258c63aac', 'message': 'Transform jobs into argo workflow steps\n\n1. Created the lifecycle subdirectory\n2. For each manifests/_job_xxx.tpl create the correspoding\n   lifecycle/steps/_xxx.tpl object\n3. Each xxx.tpl contains two sections: container and volumes.\n   The corresponding includes can be used in an argo workflow object\n4. Add a mockservice to validate the proper template instanciation\n   and indentation\n\nChange-Id: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 5, 'created': '2019-04-18 19:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6139e29394b51fcc15e12903e2ff04d010d187d', 'message': 'Transform jobs into argo workflow steps\n\n1. Created the lifecycle subdirectory\n2. For each manifests/_job_xxx.tpl create the correspoding\n   lifecycle/steps/_xxx.tpl object\n3. Each xxx.tpl contains two sections: container and volumes.\n   The corresponding includes can be used in an argo workflow object\n4. Add a mockservice to validate the proper template instanciation\n   and indentation\n\nChange-Id: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 6, 'created': '2019-04-18 20:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/17bbd303a4f77773df0c2898a653c457ddc5d247', 'message': 'Transform jobs into argo workflow steps\n\n1. Created the lifecycle subdirectory\n2. For each manifests/_job_xxx.tpl create the correspoding\n   lifecycle/steps/_xxx.tpl object\n3. Each xxx.tpl contains two sections: container and volumes.\n   The corresponding includes can be used in an argo workflow object\n4. Add a mockservice to validate the proper template instanciation\n   and indentation\n\nChange-Id: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 7, 'created': '2019-04-23 14:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9554a4c8e4e3d9453cfb9e2b4f343237010b6068', 'message': 'Transform jobs into argo workflow steps\n\n1. Created the lifecycle subdirectory\n2. For each manifests/_job_xxx.tpl create the correspoding\n   lifecycle/steps/_xxx.tpl object\n3. Each xxx.tpl contains two sections: container and volumes.\n   The corresponding includes can be used in an argo workflow object\n4. Add a mockservice to validate the proper template instanciation\n   and indentation\n\nChange-Id: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 8, 'created': '2019-05-21 14:46:52.000000000', 'files': ['helm-toolkit/mockservice/README.md', 'helm-toolkit/mockservice/lifecycle-mockservice.yaml', 'helm-toolkit/templates/lifecycle/snippets/_argo_wf_rbac_roles.tpl', 'helm-toolkit/templates/lifecycle/steps/_ks-user.yaml.tpl', 'helm-toolkit/templates/lifecycle/steps/_ks-endpoints.tpl', 'helm-toolkit/templates/lifecycle/_wf_service_templates.tpl', 'helm-toolkit/templates/lifecycle/steps/_db-drop-mysql.tpl', 'helm-toolkit/mockservice/values-mockservice.yaml', 'helm-toolkit/templates/lifecycle/steps/_bootstrap.tpl', 'helm-toolkit/templates/lifecycle/steps/_s3-user.yaml.tpl', 'helm-toolkit/templates/lifecycle/steps/_db-init-mysql.tpl', 'helm-toolkit/templates/lifecycle/steps/_s3-bucket.yaml.tpl', 'helm-toolkit/templates/lifecycle/steps/_image_repo_sync.tpl', 'helm-toolkit/templates/lifecycle/steps/_ks-service.tpl', 'helm-toolkit/templates/lifecycle/steps/_db-sync.tpl', 'helm-toolkit/.helmignore', 'helm-toolkit/templates/lifecycle/steps/_rabbit-init.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5eae5b227ff4ffffdab0d799ab8501945889de22', 'message': 'Transform jobs into argo workflow steps\n\n1. Created the lifecycle subdirectory\n2. For each manifests/_job_xxx.tpl create the correspoding\n   lifecycle/steps/_xxx.tpl object\n3. Each xxx.tpl contains two sections: container and volumes.\n   The corresponding includes can be used in an argo workflow object\n4. Add a mockservice to validate the proper template instanciation\n   and indentation\n\nChange-Id: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}]",0,653659,5eae5b227ff4ffffdab0d799ab8501945889de22,15,3,8,28436,,,0,"Transform jobs into argo workflow steps

1. Created the lifecycle subdirectory
2. For each manifests/_job_xxx.tpl create the correspoding
   lifecycle/steps/_xxx.tpl object
3. Each xxx.tpl contains two sections: container and volumes.
   The corresponding includes can be used in an argo workflow object
4. Add a mockservice to validate the proper template instanciation
   and indentation

Change-Id: I9805ddc8390df65f878fa803ac8ad74ad6507994
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/653659/8 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/lifecycle-events/steps/_db-drop-mysql.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_rabbit-init.yaml.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_s3-user.yaml.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_image_repo_sync.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_ks-user.yaml.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_s3-bucket.yaml.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_db-sync.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_ks-service.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_db-init-mysql.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_bootstrap.tpl', 'helm-toolkit/templates/lifecycle-events/steps/_ks-endpoints.tpl']",11,3ac5fb8f81d9ac25d37ed39904d94fe7ae1e9da3,feat/argo,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} # This function creates a manifest for keystone service management. # It can be used in charts dict created similar to the following: # {- $ksEndpointJob := dict ""envAll"" . ""serviceName"" ""senlin"" ""serviceTypes"" ( tuple ""clustering"" ) -} # { $ksEndpointJob | include ""helm-toolkit.manifests.job_ks_endpoints"" } {{- define ""helm-toolkit.lifecycle-events.steps._ks_endpoints.container"" -}} {{- $envAll := index . ""envAll"" -}} {{- $serviceName := index . ""serviceName"" -}} {{- $serviceTypes := index . ""serviceTypes"" -}} {{- $nodeSelector := index . ""nodeSelector"" | default ( dict $envAll.Values.labels.job.node_selector_key $envAll.Values.labels.job.node_selector_value ) -}} {{- $configMapBin := index . ""configMapBin"" | default (printf ""%s-%s"" $serviceName ""bin"" ) -}} {{- $serviceNamePretty := $serviceName | replace ""_"" ""-"" -}} {{- range $key1, $osServiceType := $serviceTypes }} {{- range $key2, $osServiceEndPoint := tuple ""admin"" ""internal"" ""public"" }} - name: {{ printf ""%s-%s-%s"" $osServiceType ""ks-endpoints"" $osServiceEndPoint | quote }} image: {{ $envAll.Values.images.tags.ks_endpoints }} imagePullPolicy: {{ $envAll.Values.images.pull_policy }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.ks_endpoints | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - /tmp/ks-endpoints.sh volumeMounts: - name: ks-endpoints-sh mountPath: /tmp/ks-endpoints.sh subPath: ks-endpoints.sh readOnly: true env: {{- with $env := dict ""ksUserSecret"" $envAll.Values.secrets.identity.admin }} {{- include ""helm-toolkit.snippets.keystone_openrc_env_vars"" $env | indent 12 }} {{- end }} - name: OS_SVC_ENDPOINT value: {{ $osServiceEndPoint | quote }} - name: OS_SERVICE_NAME value: {{ tuple $osServiceType $envAll | include ""helm-toolkit.endpoints.keystone_endpoint_name_lookup"" }} - name: OS_SERVICE_TYPE value: {{ $osServiceType | quote }} - name: OS_SERVICE_ENDPOINT value: {{ tuple $osServiceType $osServiceEndPoint ""api"" $envAll | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" | quote }} {{- end }} {{- end }} {{- end }} {{- define ""helm-toolkit.lifecycle-events.steps._ks_endpoints.volumes"" -}} {{- $envAll := index . ""envAll"" -}} {{- $serviceName := index . ""serviceName"" -}} {{- $configMapBin := index . ""configMapBin"" | default (printf ""%s-%s"" $serviceName ""bin"" ) -}} - name: ks-endpoints-sh configMap: name: {{ $configMapBin | quote }} defaultMode: 0555 {{- end }} ",,920,0
openstack%2Fopenstack-helm-infra~master~Ie582679beb3d8e2dbfcdee730326be2e09db87c6,openstack/openstack-helm-infra,master,Ie582679beb3d8e2dbfcdee730326be2e09db87c6,Supporting the local time zone,ABANDONED,2018-12-18 06:39:58.000000000,2020-07-15 20:29:32.000000000,,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 16513}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26931}]","[{'number': 1, 'created': '2018-12-18 06:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2ae308b6acc1066929310d4a71c1c8de6bd78af', 'message': 'Supporting the local time zone\n\nThe pod runs by default in the UTC time zone.\nTo change the time zone to local time, you can change the value of\n""pod >> mounts >> timezone >> volumes >> hostPath >> path"" to your local area.\n\nChange-Id: Ie582679beb3d8e2dbfcdee730326be2e09db87c6\n'}, {'number': 2, 'created': '2018-12-19 10:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac389a673866bf229ac5422ddad57bf57d356782', 'message': 'Supporting the local time zone\n\nThe pod runs by default in the UTC time zone.\nTo change the time zone to local time, you can change the value of\n""pod >> mounts >> timezone >> volumes >> hostPath >> path"" to your local area.\n\nChange-Id: Ie582679beb3d8e2dbfcdee730326be2e09db87c6\n'}, {'number': 3, 'created': '2019-01-04 06:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6704abc233e6b850021539a20a80f3818379ccab', 'message': 'Supporting the local time zone\n\nThe pod runs by default in the UTC time zone.\nTo change the time zone to local time, you can change the value of\n""pod >> mounts >> timezone >> volumes >> hostPath >> path"" to your local area.\n\nChange-Id: Ie582679beb3d8e2dbfcdee730326be2e09db87c6\n'}, {'number': 4, 'created': '2019-01-09 01:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/923ec81960cf1219eb7d1a7694e3c1ee10706270', 'message': 'Supporting the local time zone\n\nThe pod runs by default in the UTC time zone.\nTo change the time zone to local time, you can change the value of\n""pod >> mounts >> timezone >> volumes >> hostPath >> path"" to your local area.\n\nChange-Id: Ie582679beb3d8e2dbfcdee730326be2e09db87c6\n'}, {'number': 5, 'created': '2019-01-10 09:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b74cb68061e9f9e87f11da9935d369e274814040', 'message': 'Supporting the local time zone\n\nThe pod runs by default in the UTC time zone.\nTo change the time zone to local time, you can change the value of\n""pod >> mounts >> timezone >> volumes >> hostPath >> path"" to your local area.\n\nChange-Id: Ie582679beb3d8e2dbfcdee730326be2e09db87c6\n'}, {'number': 6, 'created': '2019-01-10 10:49:57.000000000', 'files': ['ldap/templates/statefulset.yaml', 'ingress/templates/deployment-ingress.yaml', 'mongodb/values.yaml', 'libvirt/values.yaml', 'fluent-logging/values.yaml', 'gnocchi/templates/deployment-api.yaml', 'mariadb/templates/deployment-ingress.yaml', 'redis/templates/deployment.yaml', 'memcached/templates/deployment.yaml', 'falco/templates/daemonset.yaml', 'calico/templates/daemonset-calico-node.yaml', 'elastic-filebeat/values.yaml', 'prometheus/templates/statefulset.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'prometheus-process-exporter/templates/daemonset.yaml', 'elastic-apm-server/templates/deployment.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml', 'fluent-logging/templates/daemonset-fluent-bit.yaml', 'calico/templates/daemonset-calico-etcd.yaml', 'fluent-logging/templates/monitoring/prometheus/exporter-deployment.yaml', 'ceph-client/templates/deployment-checkdns.yaml', 'prometheus/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'flannel/templates/daemonset-kube-flannel-ds.yaml', 'ingress/templates/deployment-error.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'mariadb/templates/deployment-error.yaml', 'rabbitmq/templates/statefulset.yaml', 'helm-toolkit/templates/snippets/_kubernetes_pod_timezones.tpl', 'elasticsearch/templates/deployment-master.yaml', 'prometheus-process-exporter/values.yaml', 'grafana/templates/deployment.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'gnocchi/templates/daemonset-metricd.yaml', 'tiller/templates/deployment-tiller.yaml', 'elastic-apm-server/values.yaml', 'flannel/values.yaml', 'kubernetes-keystone-webhook/values.yaml', 'registry/templates/deployment-registry.yaml', 'elastic-filebeat/templates/daemonset.yaml', 'elastic-metricbeat/templates/deployment-modules.yaml', 'grafana/values.yaml', 'nagios/values.yaml', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'redis/values.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'ceph-provisioners/values.yaml', 'kube-dns/templates/deployment-kube-dns.yaml', 'prometheus-node-exporter/values.yaml', 'elasticsearch/templates/deployment-client.yaml', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml', 'elastic-metricbeat/templates/daemonset-node-metrics.yaml', 'mongodb/templates/statefulset.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml', 'kubernetes-keystone-webhook/templates/deployment.yaml', 'elastic-packetbeat/values.yaml', 'elasticsearch/values.yaml', 'registry/templates/daemonset-registry-proxy.yaml', 'postgresql/templates/monitoring/prometheus/exporter-deployment.yaml', 'gnocchi/templates/daemonset-statsd.yaml', 'fluent-logging/templates/deployment-fluentd.yaml', 'ldap/values.yaml', 'prometheus-alertmanager/values.yaml', 'elastic-metricbeat/values.yaml', 'kibana/templates/deployment.yaml', 'openvswitch/values.yaml', 'nagios/templates/deployment.yaml', 'ceph-client/values.yaml', 'calico/values.yaml', 'elastic-packetbeat/templates/daemonset.yaml', 'falco/values.yaml', 'tiller/values.yaml', 'releasenotes/notes/bp/change_timezone-ee4865997bcf4eb8.yaml', 'ceph-mon/templates/cronjob-checkPGs.yaml', 'prometheus-openstack-exporter/values.yaml', 'ceph-osd/values.yaml', 'nfs-provisioner/templates/deployment.yaml', 'ceph-rgw/values.yaml', 'openvswitch/templates/daemonset-ovs-db.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'etcd/values.yaml', 'ceph-client/templates/deployment-mds.yaml', 'gnocchi/values.yaml', 'etcd/templates/deployment.yaml', 'prometheus-node-exporter/templates/daemonset.yaml', 'rabbitmq/values.yaml', 'ceph-mon/values.yaml', 'libvirt/templates/daemonset-libvirt.yaml', 'memcached/values.yaml', 'registry/values.yaml', 'mariadb/values.yaml', 'nfs-provisioner/values.yaml', 'mariadb/templates/statefulset.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ingress/values.yaml', 'kibana/values.yaml', 'ceph-client/templates/deployment-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/edbd3c218690e3f403078d1173c81496427959db', 'message': 'Supporting the local time zone\n\nThe pod runs by default in the UTC time zone.\nTo change the time zone to local time, you can change the value of\n""pod >> mounts >> timezone >> volumes >> hostPath >> path"" to your local area.\n\nChange-Id: Ie582679beb3d8e2dbfcdee730326be2e09db87c6\n'}]",3,625803,edbd3c218690e3f403078d1173c81496427959db,25,7,6,16513,,,0,"Supporting the local time zone

The pod runs by default in the UTC time zone.
To change the time zone to local time, you can change the value of
""pod >> mounts >> timezone >> volumes >> hostPath >> path"" to your local area.

Change-Id: Ie582679beb3d8e2dbfcdee730326be2e09db87c6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/03/625803/1 && git format-patch -1 --stdout FETCH_HEAD,"['ldap/templates/statefulset.yaml', 'ingress/templates/deployment-ingress.yaml', 'mongodb/values.yaml', 'libvirt/values.yaml', 'fluent-logging/values.yaml', 'gnocchi/templates/deployment-api.yaml', 'mariadb/templates/deployment-ingress.yaml', 'redis/templates/deployment.yaml', 'memcached/templates/deployment.yaml', 'falco/templates/daemonset.yaml', 'calico/templates/daemonset-calico-node.yaml', 'elastic-filebeat/values.yaml', 'prometheus/templates/statefulset.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'prometheus-process-exporter/templates/daemonset.yaml', 'elastic-apm-server/templates/deployment.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml', 'fluent-logging/templates/daemonset-fluent-bit.yaml', 'calico/templates/daemonset-calico-etcd.yaml', 'fluent-logging/templates/monitoring/prometheus/exporter-deployment.yaml', 'ceph-client/templates/deployment-checkdns.yaml', 'prometheus/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'flannel/templates/daemonset-kube-flannel-ds.yaml', 'ingress/templates/deployment-error.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'mariadb/templates/deployment-error.yaml', 'rabbitmq/templates/statefulset.yaml', 'elasticsearch/templates/deployment-master.yaml', 'prometheus-process-exporter/values.yaml', 'grafana/templates/deployment.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'gnocchi/templates/daemonset-metricd.yaml', 'tiller/templates/deployment-tiller.yaml', 'elastic-apm-server/values.yaml', 'flannel/values.yaml', 'kubernetes-keystone-webhook/values.yaml', 'registry/templates/deployment-registry.yaml', 'elastic-filebeat/templates/daemonset.yaml', 'elastic-metricbeat/templates/deployment-modules.yaml', 'grafana/values.yaml', 'nagios/values.yaml', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'redis/values.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'ceph-provisioners/values.yaml', 'kube-dns/templates/deployment-kube-dns.yaml', 'prometheus-node-exporter/values.yaml', 'elasticsearch/templates/deployment-client.yaml', 'mariadb/templates/monitoring/prometheus/exporter-deployment.yaml', 'elastic-metricbeat/templates/daemonset-node-metrics.yaml', 'mongodb/templates/statefulset.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml', 'kubernetes-keystone-webhook/templates/deployment.yaml', 'elastic-packetbeat/values.yaml', 'elasticsearch/values.yaml', 'registry/templates/daemonset-registry-proxy.yaml', 'postgresql/templates/monitoring/prometheus/exporter-deployment.yaml', 'gnocchi/templates/daemonset-statsd.yaml', 'fluent-logging/templates/deployment-fluentd.yaml', 'ldap/values.yaml', 'prometheus-alertmanager/values.yaml', 'elastic-metricbeat/values.yaml', 'kibana/templates/deployment.yaml', 'openvswitch/values.yaml', 'nagios/templates/deployment.yaml', 'ceph-client/values.yaml', 'calico/values.yaml', 'elastic-packetbeat/templates/daemonset.yaml', 'falco/values.yaml', 'tiller/values.yaml', 'ceph-mon/templates/cronjob-checkPGs.yaml', 'prometheus-openstack-exporter/values.yaml', 'ceph-osd/values.yaml', 'nfs-provisioner/templates/deployment.yaml', 'ceph-rgw/values.yaml', 'openvswitch/templates/daemonset-ovs-db.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'etcd/values.yaml', 'ceph-client/templates/deployment-mds.yaml', 'gnocchi/values.yaml', 'etcd/templates/deployment.yaml', 'prometheus-node-exporter/templates/daemonset.yaml', 'rabbitmq/values.yaml', 'ceph-mon/values.yaml', 'libvirt/templates/daemonset-libvirt.yaml', 'memcached/values.yaml', 'registry/values.yaml', 'mariadb/values.yaml', 'nfs-provisioner/values.yaml', 'mariadb/templates/statefulset.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ingress/values.yaml', 'kibana/values.yaml', 'ceph-client/templates/deployment-mgr.yaml']",101,d2ae308b6acc1066929310d4a71c1c8de6bd78af,bp/change_timezone,{{- $mounts_timezone := .Values.pod.mounts.timezone }}{{ if $mounts_timezone.volumeMounts }}{{ toYaml $mounts_timezone.volumeMounts | indent 12 }}{{ end }}{{ if $mounts_timezone.volumes }}{{ toYaml $mounts_timezone.volumes | indent 8 }}{{ end }},,699,5
openstack%2Fopenstack-helm-infra~master~I6377d3e19558a84b75cfc262afdd651942d9b137,openstack/openstack-helm-infra,master,I6377d3e19558a84b75cfc262afdd651942d9b137,fix incorrect ingress name,ABANDONED,2019-03-20 09:16:52.000000000,2020-07-15 20:29:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 25062}, {'_account_id': 25764}, {'_account_id': 26931}]","[{'number': 1, 'created': '2019-03-20 09:16:52.000000000', 'files': ['helm-toolkit/templates/endpoints/_hostname_short_endpoint_lookup.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2bc8d51c474fb9120495f021683119081db4aef0', 'message': ""fix incorrect ingress name\n\nThis PS is to change ingress name from type name to endpoint name.\n\nNow when I use ip address for public endpoint, ingress name\nis generated using 'type' for example, when I fix public endpoint\nfor keystone to ip address, ingress name for keystone is changed\nto 'identity' NOT 'keystone'.\n\nBecause ingress name is from endpoint type. This PS makes it come\nfrom endpoint name NOT type.\n\nChange-Id: I6377d3e19558a84b75cfc262afdd651942d9b137\n""}]",0,644798,2bc8d51c474fb9120495f021683119081db4aef0,5,4,1,25764,,,0,"fix incorrect ingress name

This PS is to change ingress name from type name to endpoint name.

Now when I use ip address for public endpoint, ingress name
is generated using 'type' for example, when I fix public endpoint
for keystone to ip address, ingress name for keystone is changed
to 'identity' NOT 'keystone'.

Because ingress name is from endpoint type. This PS makes it come
from endpoint name NOT type.

Change-Id: I6377d3e19558a84b75cfc262afdd651942d9b137
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/644798/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/endpoints/_hostname_short_endpoint_lookup.tpl'],1,2bc8d51c474fb9120495f021683119081db4aef0,fix/incorrect-ingress-name,"{{- printf ""%s"" $endpointMap.name -}}","{{- printf ""%s"" $type -}}",1,1
openstack%2Fopenstack-helm~master~I17a2cb183c02d07f31166fca73f916a6a503798c,openstack/openstack-helm,master,I17a2cb183c02d07f31166fca73f916a6a503798c,Add helm chart for designate,ABANDONED,2019-05-02 20:58:43.000000000,2020-07-15 20:29:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-02 20:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e813078a585e4a2534b4da834e620789c3d1b9c4', 'message': '[WIP] Add helm chart for designate\n\nThis patch implement the integration of infoblox, powerdns, bind9 and\nmsdns for designate.\n\nChange-Id: I17a2cb183c02d07f31166fca73f916a6a503798c\nAuthored-By: Damon Li <damonl@vmware.com>\n'}, {'number': 2, 'created': '2019-05-19 08:03:16.000000000', 'files': ['designate/templates/deployment-sink.yaml', 'designate/templates/job-db-sync.yaml', 'designate/templates/job-db-init.yaml', 'designate/templates/configmap-bin.yaml', 'designate/templates/pdb-producer.yaml', 'designate/templates/service-ingress-api.yaml', 'designate/templates/etc/_djbdns.filters.tpl', 'designate/templates/bin/_designate-pools.sh.tpl', 'designate/templates/bin/_db-sync.sh.tpl', 'designate/templates/deployment-central.yaml', 'designate/templates/bin/_bootstrap.sh.tpl', 'designate/templates/deployment-mdns.yaml', 'designate/templates/job-ks-user.yaml', 'designate/templates/pdb-poolmanager.yaml', 'designate/templates/deployment-producer.yaml', 'designate/templates/secret-keystone.yaml', 'designate/Chart.yaml', 'designate/templates/pdb-central.yaml', 'designate/templates/deployment-poolmanager.yaml', 'designate/templates/deployment-worker.yaml', 'designate/templates/service-mdns.yaml', 'designate/templates/bin/_designate-poolmanager.sh.tpl', 'designate/templates/job-ks-service.yaml', 'designate/templates/job-bootstrap.yaml', 'designate/values.yaml', 'designate/templates/configmap-etc.yaml', 'designate/templates/job-image-repo-sync.yaml', 'designate/templates/bin/_designate-producer.sh.tpl', 'designate/templates/job-rabbit-init.yaml', 'designate/templates/etc/_bind9.filters.tpl', 'designate/templates/job-ks-endpoints.yaml', 'designate/templates/etc/_knot2.filters.tpl', 'designate/templates/bin/_designate-sink.sh.tpl', 'designate/requirements.yaml', 'designate/templates/bin/_designate-central.sh.tpl', 'designate/templates/job-db-drop.yaml', 'designate/templates/pdb-mdns.yaml', 'designate/templates/etc/_pools.yaml.tpl', 'designate/templates/bin/_designate-worker.sh.tpl', 'designate/templates/pdb-api.yaml', 'designate/templates/deployment-zonemanager.yaml', 'designate/templates/job-pool-update.yaml', 'designate/templates/bin/_designate-api.sh.tpl', 'designate/templates/pdb-zonemanager.yaml', 'designate/templates/ingress-api.yaml', 'designate/templates/pdb-sink.yaml', 'designate/templates/secret-db.yaml', 'designate/templates/secret_rabbitmq.yaml', 'designate/templates/service-api.yaml', 'designate/templates/bin/_designate-zonemanager.sh.tpl', 'designate/templates/pdb-worker.yaml', 'designate/templates/deployment-api.yaml', 'designate/templates/bin/_designate-mdns.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48fccc9c79365c25cf7461bfc66c14ee6baf2f73', 'message': 'Add helm chart for designate\n\nThis patch implement the integration of infoblox, powerdns, bind9 and\nmsdns for designate.\n\nChange-Id: I17a2cb183c02d07f31166fca73f916a6a503798c\nAuthored-By: Damon Li <damonl@vmware.com>\n'}]",0,656869,48fccc9c79365c25cf7461bfc66c14ee6baf2f73,5,1,2,1653,,,0,"Add helm chart for designate

This patch implement the integration of infoblox, powerdns, bind9 and
msdns for designate.

Change-Id: I17a2cb183c02d07f31166fca73f916a6a503798c
Authored-By: Damon Li <damonl@vmware.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/69/656869/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/templates/deployment-sink.yaml', 'designate/templates/job-db-sync.yaml', 'designate/templates/job-db-init.yaml', 'designate/templates/configmap-bin.yaml', 'designate/templates/pdb-producer.yaml', 'designate/templates/service-ingress-api.yaml', 'designate/templates/etc/_djbdns.filters.tpl', 'designate/templates/bin/_designate-pools.sh.tpl', 'designate/templates/bin/_db-sync.sh.tpl', 'designate/templates/deployment-central.yaml', 'designate/templates/bin/_bootstrap.sh.tpl', 'designate/templates/deployment-mdns.yaml', 'designate/templates/job-ks-user.yaml', 'designate/templates/pdb-poolmanager.yaml', 'designate/templates/deployment-producer.yaml', 'designate/templates/secret-keystone.yaml', 'designate/Chart.yaml', 'designate/templates/pdb-central.yaml', 'designate/templates/deployment-poolmanager.yaml', 'designate/templates/deployment-worker.yaml', 'designate/templates/service-mdns.yaml', 'designate/templates/bin/_designate-poolmanager.sh.tpl', 'designate/templates/job-ks-service.yaml', 'designate/templates/job-bootstrap.yaml', 'designate/values.yaml', 'designate/templates/configmap-etc.yaml', 'designate/templates/job-image-repo-sync.yaml', 'designate/templates/bin/_designate-producer.sh.tpl', 'designate/templates/job-rabbit-init.yaml', 'designate/templates/etc/_bind9.filters.tpl', 'designate/templates/job-ks-endpoints.yaml', 'designate/templates/etc/_knot2.filters.tpl', 'designate/templates/bin/_designate-sink.sh.tpl', 'designate/requirements.yaml', 'designate/templates/bin/_designate-central.sh.tpl', 'designate/templates/job-db-drop.yaml', 'designate/templates/pdb-mdns.yaml', 'designate/templates/etc/_pools.yaml.tpl', 'designate/templates/bin/_designate-worker.sh.tpl', 'designate/templates/pdb-api.yaml', 'designate/templates/deployment-zonemanager.yaml', 'designate/templates/job-pool-update.yaml', 'designate/templates/bin/_designate-api.sh.tpl', 'designate/templates/pdb-zonemanager.yaml', 'designate/templates/ingress-api.yaml', 'designate/templates/pdb-sink.yaml', 'designate/templates/secret-db.yaml', 'designate/templates/secret_rabbitmq.yaml', 'designate/templates/service-api.yaml', 'designate/templates/bin/_designate-zonemanager.sh.tpl', 'designate/templates/pdb-worker.yaml', 'designate/templates/deployment-api.yaml', 'designate/templates/bin/_designate-mdns.sh.tpl']",53,e813078a585e4a2534b4da834e620789c3d1b9c4,designate,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. set -ex COMMAND=""${@:-start}"" function start () { designate-mdns \ --config-file /etc/designate/designate.conf } function stop () { kill -TERM 1 } $COMMAND ",,3056,0
openstack%2Fopenstack-helm-infra~master~I1854fd060fd09eef04fa04fdfbc984d8d9438743,openstack/openstack-helm-infra,master,I1854fd060fd09eef04fa04fdfbc984d8d9438743,Added these new files to implement the megaraid prometheus file exporter,ABANDONED,2019-04-18 14:51:02.000000000,2020-07-15 20:24:17.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30166}]","[{'number': 1, 'created': '2019-04-18 14:51:02.000000000', 'files': ['prometheus-node-exporter/megaraid-files/install-megaraid', 'prometheus-node-exporter/megaraid-files/perccli.py', 'prometheus-node-exporter/megaraid-files/perccli_1.11.03-2_all.deb', 'prometheus-node-exporter/megaraid-install.yaml', 'prometheus-node-exporter/megaraid-files/README-install-node_exporter-perccli.txt', 'prometheus-node-exporter/megaraid-files/node_exporter.service'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ff2d3e4100ada96070d61fc4fce1b0b97ac2502', 'message': 'Added these new files to implement the megaraid prometheus file exporter\n\nChange-Id: I1854fd060fd09eef04fa04fdfbc984d8d9438743\n'}]",11,653750,8ff2d3e4100ada96070d61fc4fce1b0b97ac2502,7,4,1,30120,,,0,"Added these new files to implement the megaraid prometheus file exporter

Change-Id: I1854fd060fd09eef04fa04fdfbc984d8d9438743
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/653750/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/megaraid-files/install-megaraid', 'prometheus-node-exporter/megaraid-files/perccli.py', 'prometheus-node-exporter/megaraid-files/perccli_1.11.03-2_all.deb', 'prometheus-node-exporter/megaraid-install.yaml', 'prometheus-node-exporter/megaraid-files/README-install-node_exporter-perccli.txt', 'prometheus-node-exporter/megaraid-files/node_exporter.service']",6,8ff2d3e4100ada96070d61fc4fce1b0b97ac2502,,[Unit] Description=Node Exporter [Service] User=root ExecStart=/opt/node_exporter/node_exporter --collector.systemd --collector.textfile.directory=/var/lib/node_exporter/textfile_collector [Install] WantedBy=default.target ,,460,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib3309cbbd6f2ca300ec205528402a3836a6f34df,openstack/tripleo-heat-templates,stable/train,Ib3309cbbd6f2ca300ec205528402a3836a6f34df,"Revert ""[train/backport] Prevent nftables to interfere with tripleo firewall""",MERGED,2020-07-08 12:02:43.000000000,2020-07-15 20:22:32.000000000,2020-07-15 20:22:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-08 12:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e85e358b0bb194d50b44b98cae385776c53c3bf', 'message': '[DNM] enable just iptables not nftables\n\nChange-Id: Ib3309cbbd6f2ca300ec205528402a3836a6f34df\n'}, {'number': 2, 'created': '2020-07-08 13:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0fbd1a4da04c6d7bf88a0187964ce824e76d85f', 'message': '[DNM] enable just iptables not nftables\n\nChange-Id: Ib3309cbbd6f2ca300ec205528402a3836a6f34df\n'}, {'number': 3, 'created': '2020-07-08 14:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4ebdae3e99a1e36e051f9aa18e0fce453839709', 'message': '[DNM] enable just iptables not nftables\n\nDepends-On: https://review.opendev.org/#/c/739994/\nChange-Id: Ib3309cbbd6f2ca300ec205528402a3836a6f34df\n'}, {'number': 4, 'created': '2020-07-09 11:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b21cae944e9efcf94891aef33ea42a01a9a433a9', 'message': '[DNM] enable just iptables not nftables\n\niptables rules set in nodepool images for ports\nlike 22, 19885 are deleted and causing issues in jobs.\n\nThis is caused as /etc/sysconfig/iptables is emptied\nin tripleo-bootstrap [1] and then nft flush ruleset\nremoves in memory iptables rules.\n\nTesting by removing nft flush command. Issue is seen\nin CentOS8 only.\n\n[1] https://github.com/openstack/tripleo-ansible/blob/stable/train/tripleo_ansible/roles/tripleo-bootstrap/tasks/main.yml#L81-L89\n\nChange-Id: Ib3309cbbd6f2ca300ec205528402a3836a6f34df\n'}, {'number': 5, 'created': '2020-07-10 06:01:25.000000000', 'files': ['deployment/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9db0d36614c5abdb0ccb02ff6b300bc0d277f672', 'message': 'Revert ""[train/backport] Prevent nftables to interfere with tripleo firewall""\n\nThis reverts commit c3b24599d7055c4dead110d25d7479eca7a557fe.\n\nRevert ""Do not fail if /usr/sbin/nft is not present""\n\nThis reverts commit eedb679db95b281b2be0199d48876b8af64ea3a0.\n\nThe nftables rules are not enabled now after [1] so reverting\nthe original changes which are not needed.\n\n[1] https://git.centos.org/rpms/nftables/c/3730f48\n\nRelated-Bug: #1870095\nRelated-Bug: #1869166\nCloses-Bug: #1887112\nChange-Id: Ib3309cbbd6f2ca300ec205528402a3836a6f34df\n'}]",0,739963,9db0d36614c5abdb0ccb02ff6b300bc0d277f672,36,8,5,13861,,,0,"Revert ""[train/backport] Prevent nftables to interfere with tripleo firewall""

This reverts commit c3b24599d7055c4dead110d25d7479eca7a557fe.

Revert ""Do not fail if /usr/sbin/nft is not present""

This reverts commit eedb679db95b281b2be0199d48876b8af64ea3a0.

The nftables rules are not enabled now after [1] so reverting
the original changes which are not needed.

[1] https://git.centos.org/rpms/nftables/c/3730f48

Related-Bug: #1870095
Related-Bug: #1869166
Closes-Bug: #1887112
Change-Id: Ib3309cbbd6f2ca300ec205528402a3836a6f34df
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/739963/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml', 'zuul.d/layout.yaml']",2,1e85e358b0bb194d50b44b98cae385776c53c3bf,bug/1870095, check: jobs: [], templates: - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - check-requirements - release-notes-jobs-python3 - openstack-python-jobs - tripleo-standalone-scenarios-full - openstack-python3-train-jobs - tripleo-standalone-multinode-ipa check: jobs: - openstack-tox-pep8 - openstack-tox-lower-constraints - tripleo-ci-centos-7-containers-multinode: dependencies: &deps_unit_lint - openstack-tox-pep8 - tripleo-ci-centos-7-undercloud-containers: dependencies: *deps_unit_lint - tripleo-ci-centos-7-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-standalone-upgrade-stein: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: voting: true dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: dependencies: *deps_unit_lint files: - common/.*$ - ci/environments/scenario000-multinode-containers.yaml - ^ci/common/.*$ - ^deployed-server/.*$ - ^deployment/container-image-prepare/.*$ - ^(deployment|docker|puppet)/.*ca-certs.*$ - ^(deployment|docker|puppet)/.*clustercheck.*$ - ^(deployment|docker|puppet)/.*docker.*$ - ^(deployment|docker|puppet)/.*haproxy.*$ - ^(deployment|docker|puppet)/.*kernel.*$ - ^(deployment|docker|puppet)/.*keystone.*$ - ^(deployment|docker|puppet)/.*memcached.*$ - ^(deployment|docker|puppet)/.*mysql.*$ - ^(deployment|docker|puppet)/.*ntp.*$ - ^(deployment|docker|puppet)/.*pacemaker.*$ - ^(deployment|docker|puppet)/.*rabbitmq.*$ - ^(deployment|docker|puppet)/.*snmp.*$ - ^(deployment|docker|puppet)/.*timezone.*$ - ^(deployment|docker|puppet)/.*tripleo-packages.*$ - ^(deployment|docker|puppet)/.*tripleo-firewall.*$ - ^(deployment|docker|puppet)/.*sshd.*$ - ^environments\/.*.yaml - ^network/endpoints/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario007-multinode-oooq-container: dependencies: *deps_unit_lint files: - ci/environments/scenario007-multinode-containers.yaml - ^(deployment|docker|puppet)/neutron-plugin-ml2.yaml #LP1765975 - ^(deployment|docker|puppet)/.*.*ovn.*$ - ^(deployment|docker|puppet)/.*tacker.*$ - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario010-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^(deployment|docker|puppet)/.*octavia.*$ - ^deployment/ceph-ansible.*$ - ^deployment/octavia/*$ - ci/environments/scenario010-multinode-containers.yaml - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-standalone-upgrade: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario001-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario002-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario003-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario004-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario012-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-containerized-undercloud-upgrades: voting: false dependencies: *deps_unit_lint gate: queue: tripleo jobs: - openstack-tox-lower-constraints - openstack-tox-pep8 - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: files: - common/.*$ - ci/environments/scenario000-multinode-containers.yaml - ^ci/common/.*$ - ^deployed-server/.*$ - ^deployment/container-image-prepare/.*$ - ^(deployment|docker|puppet)/.*ca-certs.*$ - ^(deployment|docker|puppet)/.*clustercheck.*$ - ^(deployment|docker|puppet)/.*docker.*$ - ^(deployment|docker|puppet)/.*haproxy.*$ - ^(deployment|docker|puppet)/.*kernel.*$ - ^(deployment|docker|puppet)/.*keystone.*$ - ^(deployment|docker|puppet)/.*memcached.*$ - ^(deployment|docker|puppet)/.*mysql.*$ - ^(deployment|docker|puppet)/.*ntp.*$ - ^(deployment|docker|puppet)/.*pacemaker.*$ - ^(deployment|docker|puppet)/.*rabbitmq.*$ - ^(deployment|docker|puppet)/.*snmp.*$ - ^(deployment|docker|puppet)/.*timezone.*$ - ^(deployment|docker|puppet)/.*tripleo-packages.*$ - ^(deployment|docker|puppet)/.*tripleo-firewall.*$ - ^(deployment|docker|puppet)/.*sshd.*$ - ^environments\/.*.yaml - ^network/endpoints/.*$ - zuul.d/* experimental: jobs: - tripleo-ci-centos-7-scenario011-multinode-oooq-container: files: - ci/environments/scenario011-multinode-containers.yaml - ^(deployment|docker|puppet)/.*ironic.*$ - ^environments\/.*ironic.*$ - tripleo-ci-centos-7-scenario006-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^ci/common/.*$ - ^coe/kubernetes.*$ - ^environments/kubernetes.*$ - ^deployment/.*kubernetes/.*$ - ci/environments/scenario006-multinode.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/*,3,142
openstack%2Fopenstack-helm~master~Ic1095acb80fd36604a5012bc877e675c022e18b8,openstack/openstack-helm,master,Ic1095acb80fd36604a5012bc877e675c022e18b8,Usage of rally.conf for services with rally test for debugging,ABANDONED,2019-05-03 13:19:01.000000000,2020-07-15 20:16:40.000000000,,"[{'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24580}]","[{'number': 1, 'created': '2019-05-03 13:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8731f6142e24cf653e6f2212a90aa2846823e8b', 'message': 'Usage of rally.conf for services with rally test for debugging\n\nFor services with rally test, sometimes its useful to have debug\nlogging available on client (rally test pod) to traige a failure.\n\nAdding rally.conf as read-only volume mount for rally test pods.\nBy default debug setting is kept false so no change in existing\nbehavior of rally test pods.\n\nChange-Id: Ic1095acb80fd36604a5012bc877e675c022e18b8\n'}, {'number': 2, 'created': '2019-05-03 15:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/498f19851dec697ab581e18270da9a601167d5ec', 'message': 'Usage of rally.conf for services with rally test for debugging\n\nFor services with rally test, sometimes its useful to have debug\nlogging available on client (rally test pod) to triage a failure.\n\nAdding rally.conf as read-only volume mount for rally test pods.\nBy default debug setting is kept false so no there is change in\nexisting behavior of rally test pods.\n\nChange-Id: Ic1095acb80fd36604a5012bc877e675c022e18b8\n'}, {'number': 3, 'created': '2019-05-07 15:42:00.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'keystone/templates/configmap-etc.yaml', 'nova/templates/configmap-etc.yaml', 'glance/templates/pod-rally-test.yaml', 'panko/templates/pod-rally-test.yaml', 'keystone/templates/pod-rally-test.yaml', 'glance/values.yaml', 'ceilometer/values.yaml', 'ceilometer/templates/pod-rally-test.yaml', 'heat/templates/configmap-etc.yaml', 'keystone/values.yaml', 'neutron/templates/configmap-etc.yaml', 'mistral/values.yaml', 'panko/templates/configmap-etc.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'mistral/templates/configmap-etc.yaml', 'nova/templates/pod-rally-test.yaml', 'glance/templates/configmap-etc.yaml', 'mistral/templates/pod-rally-test.yaml', 'cinder/templates/pod-rally-test.yaml', 'neutron/templates/pod-rally-test.yaml', 'heat/templates/pod-rally-test.yaml', 'nova/values.yaml', 'ceilometer/templates/configmap-etc.yaml', 'neutron/values.yaml', 'panko/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/07af0032522f3b0e04cd5227d416388b81095487', 'message': 'Usage of rally.conf for services with rally test for debugging\n\nFor services with rally test, sometimes its useful to have debug\nlogging available on client (rally test pod) to triage a failure.\n\nAdding rally.conf as read-only volume mount for rally test pods.\nBy default debug setting is kept false so no there is change in\nexisting behavior of rally test pods.\n\nChange-Id: Ic1095acb80fd36604a5012bc877e675c022e18b8\n'}]",0,656947,07af0032522f3b0e04cd5227d416388b81095487,8,6,3,1091,,,0,"Usage of rally.conf for services with rally test for debugging

For services with rally test, sometimes its useful to have debug
logging available on client (rally test pod) to triage a failure.

Adding rally.conf as read-only volume mount for rally test pods.
By default debug setting is kept false so no there is change in
existing behavior of rally test pods.

Change-Id: Ic1095acb80fd36604a5012bc877e675c022e18b8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/47/656947/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/configmap-etc.yaml', 'keystone/templates/configmap-etc.yaml', 'nova/templates/configmap-etc.yaml', 'glance/templates/pod-rally-test.yaml', 'panko/templates/pod-rally-test.yaml', 'keystone/templates/pod-rally-test.yaml', 'glance/values.yaml', 'ceilometer/values.yaml', 'ceilometer/templates/pod-rally-test.yaml', 'heat/templates/configmap-etc.yaml', 'keystone/values.yaml', 'neutron/templates/configmap-etc.yaml', 'mistral/values.yaml', 'panko/templates/configmap-etc.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'mistral/templates/configmap-etc.yaml', 'nova/templates/pod-rally-test.yaml', 'glance/templates/configmap-etc.yaml', 'mistral/templates/pod-rally-test.yaml', 'cinder/templates/pod-rally-test.yaml', 'neutron/templates/pod-rally-test.yaml', 'heat/templates/pod-rally-test.yaml', 'nova/values.yaml', 'ceilometer/templates/configmap-etc.yaml', 'neutron/values.yaml', 'panko/values.yaml']",27,c8731f6142e24cf653e6f2212a90aa2846823e8b,rally_debug_support, rally: DEFAULT: debug: false rally_debug: false,,81,1
openstack%2Fopenstack-helm-infra~master~Ic4be8a95176e369141a96d3afaecce5e7e46ad02,openstack/openstack-helm-infra,master,Ic4be8a95176e369141a96d3afaecce5e7e46ad02,Added file for Grafana dashboards for Lasermetrics [782],ABANDONED,2019-05-10 22:36:38.000000000,2020-07-15 20:16:36.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 22:36:38.000000000', 'files': ['grafana/templates/lasermetrics-grafana.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf64ee525a730999b5cbd9a8b621219b0b1ea3f8', 'message': 'Added file for Grafana dashboards for Lasermetrics [782]\n\nChange-Id: Ic4be8a95176e369141a96d3afaecce5e7e46ad02\n'}]",1,658497,cf64ee525a730999b5cbd9a8b621219b0b1ea3f8,4,2,1,30120,,,0,"Added file for Grafana dashboards for Lasermetrics [782]

Change-Id: Ic4be8a95176e369141a96d3afaecce5e7e46ad02
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/658497/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/templates/lasermetrics-grafana.yaml'],1,cf64ee525a730999b5cbd9a8b621219b0b1ea3f8,,"annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: null graphTooltip: 0 id: 2 links: panels: - aliasColors: bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 13 w: 24 x: 0 y: 0 id: 2 legend: alignAsTable: true avg: true current: true max: true min: true rightSide: false show: true total: true values: true lines: true linewidth: 1 links: nullPointMode: null percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: true steppedLine: true targets: - expr: ""node_textfile_mtime{file=\""laser-metrics.prom\""}"" format: time_series intervalFactor: 1 refId: A thresholds: timeFrom: null timeRegions: timeShift: null title: ""Laser Strength Metric"" tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - decimals: null format: dBm label: """" logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: true yaxis: align: false alignLevel: null schemaVersion: 18 style: dark tags: templating: list: time: from: ""now-6h"" to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: ""Laser Strength"" uid: dW0mnbRZz version: 3",,144,0
openstack%2Fopenstack-helm-infra~master~Ibf47a6c1b085eec63227426c6a2976c3ac8393fe,openstack/openstack-helm-infra,master,Ibf47a6c1b085eec63227426c6a2976c3ac8393fe,Add Holder for Custom Sidebar,ABANDONED,2018-12-18 17:55:37.000000000,2020-07-15 20:16:33.000000000,,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26686}, {'_account_id': 28622}, {'_account_id': 30413}]","[{'number': 1, 'created': '2018-12-18 17:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82e76f5539fbc2439cc7ad4d71331dba51b22fb9', 'message': 'Add Holder for Custom Sidebar\n\nChange-Id: Ibf47a6c1b085eec63227426c6a2976c3ac8393fe\n'}, {'number': 2, 'created': '2018-12-18 18:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4647587d62b1d98c8e92af3c752fed6e593593e4', 'message': 'Add Holder for Custom Sidebar\n\nChange-Id: Ibf47a6c1b085eec63227426c6a2976c3ac8393fe\n'}, {'number': 3, 'created': '2019-01-09 06:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e144319426fbf36fbb8a52f20b8b265246149fc9', 'message': 'Add Holder for Custom Sidebar\n\nTo enable custom sidebar messages to be added downstream.\n\nChange-Id: Ibf47a6c1b085eec63227426c6a2976c3ac8393fe\n'}, {'number': 4, 'created': '2019-03-18 21:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9b5682e275d61cdbf14ddf019edfed3a5d4ea49', 'message': 'Add Holder for Custom Sidebar\n\nTo enable custom sidebar messages to be added downstream.\n\nChange-Id: Ibf47a6c1b085eec63227426c6a2976c3ac8393fe\n'}, {'number': 5, 'created': '2019-04-02 20:27:16.000000000', 'files': ['nagios/templates/deployment.yaml', 'nagios/templates/configmap-etc.yaml', 'nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/713834ec3ddd9e3c88aeb16635dc8ad2b46b304b', 'message': 'Add Holder for Custom Sidebar\n\nTo enable custom sidebar messages to be added downstream.\n\nChange-Id: Ibf47a6c1b085eec63227426c6a2976c3ac8393fe\n'}]",3,625980,713834ec3ddd9e3c88aeb16635dc8ad2b46b304b,16,8,5,27995,,,0,"Add Holder for Custom Sidebar

To enable custom sidebar messages to be added downstream.

Change-Id: Ibf47a6c1b085eec63227426c6a2976c3ac8393fe
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/625980/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/configmap-etc.yaml', 'nagios/templates/deployment.yaml', 'nagios/values.yaml']",3,82e76f5539fbc2439cc7ad4d71331dba51b22fb9,," custom_dashboard_sidebar: enabled: false sidebar.php: ""null""",,13,1
openstack%2Fopenstack-helm-infra~master~I770a155e9e569d585b09b41df2fc8ec54b78032c,openstack/openstack-helm-infra,master,I770a155e9e569d585b09b41df2fc8ec54b78032c,Add Grafana Home Dashbaord,ABANDONED,2018-12-31 15:25:29.000000000,2020-07-15 20:16:29.000000000,,"[{'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 27995}, {'_account_id': 28622}]","[{'number': 1, 'created': '2018-12-31 15:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c63e9b86fd3afc98dfe7c9ddbefc1b3ca5b4e31', 'message': 'Add Grafana Home Dashbaord\n\nChange-Id: I770a155e9e569d585b09b41df2fc8ec54b78032c\n'}, {'number': 2, 'created': '2018-12-31 15:29:57.000000000', 'files': ['grafana/values.yaml', 'grafana/templates/bin/_add_home_dashboard.sh.tpl', 'grafana/templates/job-add-home-dashboard.yaml', 'grafana/templates/bin/_helm-tests.sh.tpl', 'grafana/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cbeae26bf0d5eba97cf8b2963baf00304872caea', 'message': 'Add Grafana Home Dashbaord\n\nChange-Id: I770a155e9e569d585b09b41df2fc8ec54b78032c\n'}]",0,627873,cbeae26bf0d5eba97cf8b2963baf00304872caea,7,5,2,27995,,,0,"Add Grafana Home Dashbaord

Change-Id: I770a155e9e569d585b09b41df2fc8ec54b78032c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/73/627873/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'grafana/templates/bin/_add_home_dashboard.sh.tpl', 'grafana/templates/job-add-home-dashboard.yaml', 'grafana/templates/bin/_helm-tests.sh.tpl', 'grafana/templates/configmap-bin.yaml']",5,0c63e9b86fd3afc98dfe7c9ddbefc1b3ca5b4e31,," add_home_dashboard.sh: | {{ tuple ""bin/_add_home_dashboard.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,134,0
openstack%2Fopenstack-helm~master~I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5,openstack/openstack-helm,master,I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5,WIP/DNM Implement argo workflows into the keystone chart,ABANDONED,2019-02-12 14:59:25.000000000,2020-07-15 20:16:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 28869}]","[{'number': 1, 'created': '2019-02-12 14:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae98cd33180078e195a8f0472158d02febcc7256', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\n'}, {'number': 2, 'created': '2019-02-12 19:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6ce48339bae07c90f454f2b30ac7b11117c897d', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\n'}, {'number': 3, 'created': '2019-02-13 18:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa81b105c89faf53bc05480a2ff949334d997ce2', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\n'}, {'number': 4, 'created': '2019-02-13 19:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/37189b6578d98af1d1c38e05f3e47254f4265739', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\n'}, {'number': 5, 'created': '2019-02-18 14:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b8a04ac50816e9a5805aa5fa0a7063955bacac6', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\n'}, {'number': 6, 'created': '2019-02-18 15:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1b54bf38bfd035df7900a8c9e58c38b082c952e', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: 634037\n'}, {'number': 7, 'created': '2019-02-18 15:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a83a6405acd8a3619de5fbbb0556451b10fb4a2e', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 8, 'created': '2019-02-19 21:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee4eda70e9d7bc9323ee05da822c14b3a534b89d', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 9, 'created': '2019-02-20 17:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/55e22aff47fc649224a8ea72463bc84e70f8c1d4', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 10, 'created': '2019-02-21 20:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e228afcd6475f66ef7cc4d9f493b98cecf6fa82e', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 11, 'created': '2019-02-21 21:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6fe6956524ac25e6445bd69d3eb6dafddaa09dcb', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 12, 'created': '2019-02-22 17:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e07902b1f6483d130e70cee363b4d0bd1045f4c', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 13, 'created': '2019-04-02 13:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7626f8d823ac490cd1fd749c44fa206bc38379aa', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 14, 'created': '2019-04-04 19:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4779bebd4630cc99c5de51344a3997beb072e25', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS is _very_ early in development, and is still missing many of the\nfeatures and settings of the original. Further, this PS only minimally\nuses the helm-toolkit, and much of the deployment is ""hard-coded""\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 15, 'created': '2019-04-17 20:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee75d6f24e1049219a13fc8b46af2d5227c0375d', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 16, 'created': '2019-04-18 15:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d221352965d123e40522d666d9d711aa724f2b1c', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 17, 'created': '2019-04-18 15:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7b2c66f1f8a6c644e13aaffce5674ad4a46bfde1', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 18, 'created': '2019-04-18 15:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0ea6d01f1919d444970fcb11bd453e8a02f17bf', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 19, 'created': '2019-04-19 14:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1e8192b76cf7d34d5117bda402ddae1669307fe8', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 20, 'created': '2019-04-19 14:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cbc0270e431bfb1c1ae13c73952e3fcf376a37cb', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 21, 'created': '2019-04-19 15:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/368e9eefd0aaae22d9338af27267cbcf1ac68fd2', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 22, 'created': '2019-04-20 03:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/63cc37a131cff943bf7f7c35760ecc4a93f0e91b', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 23, 'created': '2019-04-21 13:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1faef16360cc0306af948a08a5a715acacb53f1e', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 24, 'created': '2019-04-21 13:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/66200445b6befc8f750c0fc316c396bcb31bc8af', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 25, 'created': '2019-04-21 13:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28ae9e1b4394ee20bdfa385d27ba04714f46ddd7', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 26, 'created': '2019-04-22 16:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f285a0250951b2f593525262d9f4d4d9d7b0f20a', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: If4166749085522ee0f10fa673d9fa36094091baa\n'}, {'number': 27, 'created': '2019-04-23 12:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/397f36fa0a13096426a3235de1efc7cae5ab330c', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 28, 'created': '2019-04-24 13:07:24.000000000', 'files': ['keystone/templates/steps/_db-backup.yaml', 'keystone/templates/steps/_domain-manage.yaml', 'keystone/templates/job-db-sync.yaml', 'keystone/templates/bin/_db-backup.sh.tpl', 'keystone/templates/steps/_rabbit-init.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/secret-db.yaml', 'keystone/templates/job-image-repo-sync.yaml', 'keystone/templates/keystone-db-backup-volume.yaml', 'keystone/templates/wf-keystone-bootstrap.yaml', 'keystone/templates/configmap-bin.yaml', 'keystone/templates/job-bootstrap.yaml', 'keystone/values.yaml', 'keystone/templates/steps/_db-sync.yaml', 'keystone/templates/steps/_credential-setup.yaml', 'tools/deployment/component/keystone/keystone.sh', 'keystone/templates/steps/_db-drop.yaml', 'keystone/templates/steps/_db-init.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/steps/_image-repo-sync.yaml', 'keystone/templates/job-rabbit-init.yaml', 'tools/deployment/developer/common/080-keystone.sh', 'keystone/templates/keystone-db-backup-claim.yaml', 'keystone/templates/steps/_fernet-setup.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/job-db-init.yaml', 'keystone/templates/wf-roles.yaml', 'tools/deployment/component/keystone/keystone-ldap.sh', 'keystone/templates/job-db-drop.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/templates/steps/_bootstrap.yaml', 'keystone/templates/wf-keystone-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5e8793c4ed60802d0eee1bfeb8167dbb2a806f17', 'message': 'WIP/DNM Implement argo workflows into the keystone chart\n\nThis PS guts out all of the jobs used to deploy keystone and replaces\nthem with an argo DAG. This dramatically simplifies dependency control\nand flow through the deployment, as well as providing the control\nstructures from the argo toolkit.\n\nThis PS also adds the backup path through a keystone deployment. In\nother words, if a database exists for keystone prior to a deployment\n(i.e. in the case of an upgrade), that database will be backed up before\nthe installation. If no such database exists, the backup step is\nskipped.\n\nNote that this PS only minimally uses the helm-toolkit, and much of the\ndeployment is ""hard-coded"". The helm-toolkit usage will be reintroduced\nwhen it is deemed necessary.\n\nFinally, this PS depends on a new docker image for the\nkubernetes-entrypoint tool. It therefore also depends on some changes to\nthe helm-toolkit. Those changes can be found here:\nhttps://review.openstack.org/#/c/634037/\n\nChange-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,636346,5e8793c4ed60802d0eee1bfeb8167dbb2a806f17,55,2,28,28869,,,0,"WIP/DNM Implement argo workflows into the keystone chart

This PS guts out all of the jobs used to deploy keystone and replaces
them with an argo DAG. This dramatically simplifies dependency control
and flow through the deployment, as well as providing the control
structures from the argo toolkit.

This PS also adds the backup path through a keystone deployment. In
other words, if a database exists for keystone prior to a deployment
(i.e. in the case of an upgrade), that database will be backed up before
the installation. If no such database exists, the backup step is
skipped.

Note that this PS only minimally uses the helm-toolkit, and much of the
deployment is ""hard-coded"". The helm-toolkit usage will be reintroduced
when it is deemed necessary.

Finally, this PS depends on a new docker image for the
kubernetes-entrypoint tool. It therefore also depends on some changes to
the helm-toolkit. Those changes can be found here:
https://review.openstack.org/#/c/634037/

Change-Id: I41703abee3cb2fc4dd2eaa5b2f90a48d32b2c5e5
Depends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/636346/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/steps/_credential-setup.yaml', 'keystone/templates/steps/_db-drop.yaml', 'keystone/templates/steps/_domain-manage.yaml', 'keystone/templates/job-db-sync.yaml', 'keystone/templates/steps/_db-init.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/steps/_image-repo-sync.yaml', 'keystone/templates/steps/_rabbit-init.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/job-image-repo-sync.yaml', 'keystone/templates/job-rabbit-init.yaml', 'keystone/templates/steps/_fernet-setup.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/job-bootstrap.yaml', 'keystone/templates/job-db-init.yaml', 'keystone/templates/wf-roles.yaml', 'keystone/values.yaml', 'keystone/templates/job-db-drop.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/templates/steps/_bootstrap.yaml', 'keystone/templates/steps/_db-sync.yaml', 'keystone/templates/wf-keystone-api.yaml']",22,ae98cd33180078e195a8f0472158d02febcc7256,feat/argo,"{{- $serviceAccountName := ""wf-keystone-sa"" }} {{ tuple . ""wf-keystone"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- # The workflow checks that all the jobs and services required for # keystone-api to start are here. apiVersion: argoproj.io/v1alpha1 kind: Workflow metadata: name: wf-keystone-api spec: entrypoint: wf-keystone-api serviceAccountName: wf-keystone-sa volumes: {{- include ""keystone.templates.steps._bootstrap.volumes"" . | nindent 2 }} {{- include ""keystone.templates.steps._credential_setup.volumes"" . | nindent 2}} {{- include ""keystone.templates.steps._db_init.volumes"" . | nindent 2}} {{- include ""keystone.templates.steps._db_sync.volumes"" . | nindent 2}} {{- include ""keystone.templates.steps._domain_manage.volumes"" . | nindent 2}} {{- include ""keystone.templates.steps._fernet_setup.volumes"" . | nindent 2}} {{- include ""keystone.templates.steps._rabbit_init.volumes"" . | nindent 2}} templates: - name: wf-keystone-api dag: tasks: - name: svc-memcached template: svc-memcached - name: svc-mariadb template: svc-mariadb - name: svc-rabbitmq template: svc-rabbitmq - name: job-keystone-db-init template: job-keystone-db-init dependencies: - svc-mariadb - name: job-keystone-rabbit-init template: job-keystone-rabbit-init dependencies: - svc-rabbitmq - name: job-keystone-db-sync template: job-keystone-db-sync dependencies: - job-keystone-db-init - job-keystone-rabbit-init - job-keystone-credential-setup - job-keystone-fernet-setup - name: job-keystone-credential-setup template: job-keystone-credential-setup - name: job-keystone-fernet-setup template: job-keystone-fernet-setup - name: svc-keystone-api template: svc-keystone-api dependencies: - job-keystone-db-sync - svc-memcached - name: svc-memcached resource: action: get # Really boggus. Doesn't check if service actually operational successCondition: metadata.name == memcached manifest: | apiVersion: v1 kind: Service metadata: name: memcached - name: svc-mariadb resource: action: get # Really boggus. Doesn't check if service actually operational successCondition: metadata.name == mariadb manifest: | apiVersion: v1 kind: Service metadata: name: mariadb - name: svc-rabbitmq resource: action: get # Really boggus. Doesn't check if service actually operational successCondition: metadata.name == rabbitmq manifest: | apiVersion: v1 kind: Service metadata: name: rabbitmq - name: svc-keystone-api resource: action: get # Really boggus. Doesn't check if service actually operational successCondition: metadata.name == keystone-api manifest: | apiVersion: v1 kind: Service metadata: name: keystone-api - name: job-keystone-db-sync container: {{- include ""keystone.templates.steps._db_sync.container"" . | nindent 6 }} - name: job-keystone-db-init container: {{- include ""keystone.templates.steps._db_init.container"" . | nindent 6 }} - name: job-keystone-credential-setup container: {{- include ""keystone.templates.steps._credential_setup.container"" . | nindent 6 }} - name: job-keystone-fernet-setup container: {{- include ""keystone.templates.steps._fernet_setup.container"" . | nindent 6 }} - name: job-keystone-rabbit-init container: {{- include ""keystone.templates.steps._rabbit_init.container"" . | nindent 6 }} ",,1701,559
openstack%2Fopenstack-helm-infra~master~I3d228a9b3d2c8919628ff4f22b319545c1932b5e,openstack/openstack-helm-infra,master,I3d228a9b3d2c8919628ff4f22b319545c1932b5e,Add dnsmasq chart,ABANDONED,2019-03-20 15:14:14.000000000,2020-07-15 20:16:09.000000000,,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 9542}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 23928}, {'_account_id': 28025}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-03-20 15:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a42703804126e319d9012f8c1d2e492044a7916d', 'message': '[WIP] Add dnsmasq chart\n\nthis mainly targets to be the DHCP provider for standalone ironic\nfor now.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 2, 'created': '2019-03-21 11:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/38d78ec39b6f461861cc9ddba8c733e90b70588b', 'message': '[WIP] Add dnsmasq chart\n\nthis mainly targets to be the DHCP provider for standalone ironic\nfor now.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 3, 'created': '2019-03-21 19:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/42e646ccf7341c28630e4d499c3e12204473924c', 'message': '[WIP] Add dnsmasq chart\n\nthis mainly targets to be the DHCP provider for standalone ironic\nfor now.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 4, 'created': '2019-03-22 14:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86e6b1e51842282b2c8e13cedb98fde07a971885', 'message': '[WIP] Add dnsmasq chart\n\nthis mainly targets to be the DHCP provider for standalone ironic\nfor now.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 5, 'created': '2019-04-01 13:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/58e7ab47fabef5efc654539971758a5c1610d3d5', 'message': '[WIP] Add dnsmasq chart\n\nthis mainly targets to be the DHCP provider for standalone ironic\nfor now.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 6, 'created': '2019-04-01 14:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a48ba1fbbe19a2c6eed1be9bc03f0d77880a57e2', 'message': '[WIP] Add dnsmasq chart\n\nthis mainly targets to be the DHCP provider for standalone ironic\nfor now.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 7, 'created': '2019-04-02 15:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/025948ffe8b6378e2a24ea0cb03a69e1088504b4', 'message': '[WIP] Add dnsmasq chart\n\nthis mainly targets to be the DHCP provider for standalone ironic\nfor now.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 8, 'created': '2019-04-03 14:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed0934f4bcb86a5e70caf955ad436ea360180c83', 'message': '[WIP] Add dnsmasq chart\n\nthis mainly targets to be the DHCP provider for standalone ironic\nfor now.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 9, 'created': '2019-04-10 07:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cae2ecf04bcd760590a221e719978368d38188a1', 'message': 'Add dnsmasq chart\n\ncan be used as a standalone DHCP service.\n\nIn particular is useful for standalone ironic.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 10, 'created': '2019-04-11 14:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afc8fccdf398ff3e66b379e4f1252f412c61d3d0', 'message': 'Add dnsmasq chart\n\ncan be used as a standalone DHCP service.\n\nIn particular is useful for standalone ironic.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 11, 'created': '2019-04-12 14:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba4fae0c1bdeb75053bac24833d07ca1e607d79d', 'message': 'Add dnsmasq chart\n\ncan be used as a standalone DHCP service.\n\nIn particular is useful for standalone ironic.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 12, 'created': '2019-04-15 15:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dae159017ad0d24dcbaa511fd6cafcd0e9386034', 'message': 'Add dnsmasq chart\n\ncan be used as a standalone DHCP service.\n\nIn particular is useful for standalone ironic.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 13, 'created': '2019-04-15 15:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f7d0436faa02e129dee1c03315ede9fd28eccb27', 'message': 'Add dnsmasq chart\n\ncan be used as a standalone DHCP service.\n\nIn particular is useful for standalone ironic.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}, {'number': 14, 'created': '2019-05-03 12:26:40.000000000', 'files': ['dnsmasq/Chart.yaml', 'dnsmasq/values.yaml', 'dnsmasq/templates/bin/_dnsmasq-config-init.sh.tpl', 'dnsmasq/templates/utils/_to_dnsmasq_conf.tpl', 'dnsmasq/templates/configmap-etc.yaml', 'dnsmasq/README.rst', 'dnsmasq/requirements.yaml', 'dnsmasq/templates/network_policy.yaml', 'dnsmasq/templates/job-image-repo-sync.yaml', 'dnsmasq/templates/bin/_dnsmasq.sh.tpl', 'dnsmasq/templates/service.yaml', 'dnsmasq/templates/deployment.yaml', 'dnsmasq/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c4117e790bfcc86cbdbf56fdea51c5dd8daaace', 'message': 'Add dnsmasq chart\n\ncan be used as a standalone DHCP service.\n\nIn particular is useful for standalone ironic.\n\nChange-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e\nCo-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>\n'}]",36,644897,6c4117e790bfcc86cbdbf56fdea51c5dd8daaace,56,9,14,9542,,,0,"Add dnsmasq chart

can be used as a standalone DHCP service.

In particular is useful for standalone ironic.

Change-Id: I3d228a9b3d2c8919628ff4f22b319545c1932b5e
Co-Authored-By: Oleh Hryhorov <ohryhorov@mirantis.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/644897/11 && git format-patch -1 --stdout FETCH_HEAD,"['dnsmasq/Chart.yaml', 'dnsmasq/templates/job-image-repo-sync.yaml', 'dnsmasq/values.yaml', 'dnsmasq/templates/configmap-etc.yaml', 'dnsmasq/templates/service.yaml', 'dnsmasq/README.rst', 'dnsmasq/requirements.yaml', 'dnsmasq/templates/deployment.yaml', 'dnsmasq/templates/network_policy.yaml']",9,a42703804126e319d9012f8c1d2e492044a7916d,dnsmasq,"{{/* Copyright 2018 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.network_policy -}} {{- $netpol_opts := dict ""envAll"" . ""name"" ""application"" ""label"" ""dnsmasq"" -}} {{ $netpol_opts | include ""helm-toolkit.manifests.kubernetes_network_policy"" }} {{- end -}} ",,342,0
openstack%2Fopenstack-helm-infra~master~Id0cd1dd4ee21ba42636a7718d2097bf746dc30d1,openstack/openstack-helm-infra,master,Id0cd1dd4ee21ba42636a7718d2097bf746dc30d1,Added file for dashboard for displaying Megaraid metrics [668],ABANDONED,2019-05-10 22:34:14.000000000,2020-07-15 20:16:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-10 22:34:14.000000000', 'files': ['grafana/templates/megaraid-grafana.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20b4a85cf362ae1ced4fb825ebde5d73bd4342c2', 'message': 'Added file for dashboard for displaying Megaraid metrics [668]\n\nChange-Id: Id0cd1dd4ee21ba42636a7718d2097bf746dc30d1\n'}]",0,658496,20b4a85cf362ae1ced4fb825ebde5d73bd4342c2,3,1,1,30120,,,0,"Added file for dashboard for displaying Megaraid metrics [668]

Change-Id: Id0cd1dd4ee21ba42636a7718d2097bf746dc30d1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/658496/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/templates/megaraid-grafana.yaml'],1,20b4a85cf362ae1ced4fb825ebde5d73bd4342c2,,"annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: null graphTooltip: 0 id: 1 links: panels: - aliasColors: bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 6 w: 24 x: 0 y: 0 id: 37 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: nullPointMode: null options: maxValue: 100 minValue: 0 showThresholdLabels: false showThresholdMarkers: true thresholds: - color: ""#7EB26D"" index: 0 value: null valueMappings: valueOptions: decimals: null prefix: """" stat: avg suffix: """" unit: none percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_reconrate format: time_series intervalFactor: 1 refId: A thresholds: timeFrom: null timeRegions: timeShift: null title: ""RAID controller health status (Degraded in case any Disk is down in RAID configuration) (megaraid_degraded)"" tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: short label: null logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: true yaxis: align: false alignLevel: null - aliasColors: bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 6 w: 24 x: 0 y: 6 id: 14 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: nullPointMode: null options: maxValue: 100 minValue: 0 showThresholdLabels: false showThresholdMarkers: true thresholds: - color: ""#7EB26D"" index: 0 value: null valueMappings: valueOptions: decimals: null prefix: """" stat: avg suffix: """" unit: none percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_consistencycheck format: time_series intervalFactor: 1 refId: A thresholds: timeFrom: null timeRegions: timeShift: null title: ""Virtual Disk (RAID degraded status)- (megaraid_virtual_drives)"" tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: short label: null logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: true yaxis: align: false alignLevel: null - aliasColors: bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 6 w: 24 x: 0 y: 12 id: 24 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: nullPointMode: null options: maxValue: 100 minValue: 0 showThresholdLabels: false showThresholdMarkers: true thresholds: - color: ""#7EB26D"" index: 0 value: null valueMappings: valueOptions: decimals: null prefix: """" stat: avg suffix: """" unit: none percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_smartpollinterval format: time_series intervalFactor: 1 refId: A thresholds: timeFrom: null timeRegions: timeShift: null title: ""RAID controller status "" tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: short label: null logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: true yaxis: align: false alignLevel: null - aliasColors: bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 6 w: 24 x: 0 y: 18 id: 19 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: nullPointMode: null options: maxValue: 100 minValue: 0 showThresholdLabels: false showThresholdMarkers: true thresholds: - color: ""#7EB26D"" index: 0 value: null valueMappings: valueOptions: decimals: null prefix: """" stat: avg suffix: """" unit: none percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_batterywarning format: time_series intervalFactor: 1 refId: A thresholds: timeFrom: null timeRegions: timeShift: null title: ""RAID controller battery status"" tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: short label: null logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: true yaxis: align: false alignLevel: null - aliasColors: bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 7 w: 24 x: 0 y: 24 id: 27 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: true values: true lines: true linewidth: 1 links: nullPointMode: null options: maxValue: 100 minValue: 0 showThresholdLabels: false showThresholdMarkers: true thresholds: - color: ""#7EB26D"" index: 0 value: null valueMappings: valueOptions: decimals: null prefix: """" stat: avg suffix: """" unit: none percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: true steppedLine: true targets: - expr: megaraid_prrate format: time_series intervalFactor: 1 refId: A thresholds: timeFrom: null timeRegions: timeShift: null title: ""RAID Controller Health"" tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: short label: null logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: true yaxis: align: false alignLevel: null schemaVersion: 18 style: dark tags: templating: list: time: from: ""now-6h"" to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: Megaraid uid: PCG9083ik version: 7",,519,0
openstack%2Fopenstack-helm~master~I2479e056a7cb2d441acf0613dbb0cd1e0138cea8,openstack/openstack-helm,master,I2479e056a7cb2d441acf0613dbb0cd1e0138cea8,enable nova+neutron tempest tests for gate check,ABANDONED,2019-05-07 19:31:39.000000000,2020-07-15 20:16:01.000000000,,"[{'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-07 19:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6481e7f7c9090dfe0d9ac8d84875f19c1b79ba5', 'message': 'enable nova+neutron tempest tests\n\nAs we are using updated images lets enable them by default\n\nChange-Id: I2479e056a7cb2d441acf0613dbb0cd1e0138cea8\n'}, {'number': 2, 'created': '2019-05-09 10:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/02fa15a1c8725247ec35be7defdc164b4d3ceae0', 'message': 'enable nova+neutron tempest tests\n\nAs we are using updated images lets enable them by default\n\nChange-Id: I2479e056a7cb2d441acf0613dbb0cd1e0138cea8\n'}, {'number': 3, 'created': '2019-05-09 14:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1dfdd6ee15f98a136e82a0595990d28bc0393b47', 'message': 'enable nova+neutron tempest tests for gate check\n\nChange-Id: I2479e056a7cb2d441acf0613dbb0cd1e0138cea8\n'}, {'number': 4, 'created': '2019-05-09 15:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a55512ea1b267d2c74bb1a899d4e169952c8c1c', 'message': 'enable nova+neutron tempest tests for gate check\n\nChange-Id: I2479e056a7cb2d441acf0613dbb0cd1e0138cea8\n'}, {'number': 5, 'created': '2019-05-10 11:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94c59a9e17a760da4a2b21b0d9c9a5d07744b04a', 'message': 'enable nova+neutron tempest tests for gate check\n\nChange-Id: I2479e056a7cb2d441acf0613dbb0cd1e0138cea8\n'}, {'number': 6, 'created': '2019-05-10 11:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a41380f065451a7b1c8e516f806399560bd73af3', 'message': 'enable nova+neutron tempest tests for gate check\n\nChange-Id: I2479e056a7cb2d441acf0613dbb0cd1e0138cea8\n'}, {'number': 7, 'created': '2019-05-10 12:05:59.000000000', 'files': ['tools/gate/playbooks/osh-gate-runner.yaml', 'tempest/values.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d1c74473f2f195c1d5a66bd2c2855c32b9932e3', 'message': 'enable nova+neutron tempest tests for gate check\n\nChange-Id: I2479e056a7cb2d441acf0613dbb0cd1e0138cea8\n'}]",1,657670,5d1c74473f2f195c1d5a66bd2c2855c32b9932e3,26,3,7,12281,,,0,"enable nova+neutron tempest tests for gate check

Change-Id: I2479e056a7cb2d441acf0613dbb0cd1e0138cea8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/70/657670/7 && git format-patch -1 --stdout FETCH_HEAD,['tempest/values.yaml'],1,a6481e7f7c9090dfe0d9ac8d84875f19c1b79ba5,tempest_enable_nova_neutron, neutron: true nova: true # Swift is disabled by default as the swift chart isn't complete, # The following services are marked as unavailable by default. The default # tempest image used includes a bug resulting in failed network tests that # wasn't fixed in newton. Swift is disabled by default as the swift chart # isn't complete neutron: false nova: false,3,6
openstack%2Fopenstack-helm-infra~master~If15ea36e8c6a34d98929856d3bd7deb2222d7968,openstack/openstack-helm-infra,master,If15ea36e8c6a34d98929856d3bd7deb2222d7968,Add Holder for Custom Kibana Notification Banner,ABANDONED,2018-12-31 11:36:41.000000000,2020-07-15 20:15:57.000000000,,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 28622}]","[{'number': 1, 'created': '2018-12-31 11:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82b7de6d7a68ff8ffd76a8b32b2324f07ba46193', 'message': 'Holder for Kibana Custom Notification Banner\n\nChange-Id: If15ea36e8c6a34d98929856d3bd7deb2222d7968\n'}, {'number': 2, 'created': '2018-12-31 11:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/43c8b840c009252bd97238e880d12282f36f303a', 'message': 'Holder for Kibana Custom Notification Banner\n\nChange-Id: If15ea36e8c6a34d98929856d3bd7deb2222d7968\n'}, {'number': 3, 'created': '2019-01-09 07:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ad5bd22e830a4fd86ba9c354f4c2f77099fb2761', 'message': 'Add Holder for Custom Kibana Notification Banner\n\nTo enable notification to be added by downstream.\n\nChange-Id: If15ea36e8c6a34d98929856d3bd7deb2222d7968\n'}, {'number': 4, 'created': '2019-03-18 21:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76d6e0d191d87d1a3eb886a9ead6f115b2b525d9', 'message': 'Add Holder for Custom Kibana Notification Banner\n\nTo enable notification to be added by downstream.\n\nChange-Id: If15ea36e8c6a34d98929856d3bd7deb2222d7968\n'}, {'number': 5, 'created': '2019-04-02 19:28:41.000000000', 'files': ['kibana/templates/bin/_add_custom_banner.sh.tpl', 'kibana/templates/configmap-bin.yaml', 'kibana/templates/job-add-custom-banner.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e934599b5b8df4b6277cfe5778cd747fd87b14a2', 'message': 'Add Holder for Custom Kibana Notification Banner\n\nTo enable notification to be added by downstream.\n\nChange-Id: If15ea36e8c6a34d98929856d3bd7deb2222d7968\n'}]",5,627868,e934599b5b8df4b6277cfe5778cd747fd87b14a2,13,5,5,27995,,,0,"Add Holder for Custom Kibana Notification Banner

To enable notification to be added by downstream.

Change-Id: If15ea36e8c6a34d98929856d3bd7deb2222d7968
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/68/627868/2 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/templates/bin/_add_custom_banner.sh.tpl', 'kibana/templates/configmap-bin.yaml', 'kibana/templates/job-add-custom-banner.yaml', 'kibana/values.yaml']",4,82b7de6d7a68ff8ffd76a8b32b2324f07ba46193,," add_custom_banner: docker.io/openstackhelm/heat:newton register_kibana_indexes: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" add_custom_banner: services: - endpoint: internal service: kibana add_custom_banner: enabled: false banner_text: ""Custom Banner Text"" job_add_custom_banner: true",,109,0
openstack%2Fopenstack-helm-infra~master~Ia4cd168a3f9fd60b5cd10b5900ba2f47235d4815,openstack/openstack-helm-infra,master,Ia4cd168a3f9fd60b5cd10b5900ba2f47235d4815,Print logs of crashed pods,ABANDONED,2019-05-06 10:24:58.000000000,2020-07-15 20:15:53.000000000,,"[{'_account_id': 17068}, {'_account_id': 21883}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 10:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd9ecbc2d95872fcce5c4dfd9a840a301873f284', 'message': 'Print logs of crashed pods\n\nWhen a pod is not able to start and is in status CrashLoopBackOff, the\nCI does not provide the logs and thus it is difficult to troubleshoot.\nThis patch prints the logs of the pods in that state\n\nChange-Id: Ia4cd168a3f9fd60b5cd10b5900ba2f47235d4815\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2019-05-08 08:35:27.000000000', 'files': ['tools/deployment/common/wait-for-pods.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c8cb82b6fc8602c0c4937a428df24151df122e7', 'message': 'Print logs of crashed pods\n\nWhen a pod is not able to start and is in status CrashLoopBackOff, the\nCI does not provide the logs and thus it is difficult to troubleshoot.\nThis patch prints the logs of the pods in that state\n\nChange-Id: Ia4cd168a3f9fd60b5cd10b5900ba2f47235d4815\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",1,657368,0c8cb82b6fc8602c0c4937a428df24151df122e7,18,3,2,21883,,,0,"Print logs of crashed pods

When a pod is not able to start and is in status CrashLoopBackOff, the
CI does not provide the logs and thus it is difficult to troubleshoot.
This patch prints the logs of the pods in that state

Change-Id: Ia4cd168a3f9fd60b5cd10b5900ba2f47235d4815
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/68/657368/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/wait-for-pods.sh'],1,dd9ecbc2d95872fcce5c4dfd9a840a301873f284,,"function get_logs() { #Getting logs for the pods in state CrashLoopBackOff (unfortunately # --field-selector status.phase=CrashLoopBackOff does not work) echo ""Printing logs for pods in CrashLoopBackOff state"" kubectl get pods --namespace $1 | grep CrashLoopBackOff | \ cut -d"" "" -f1 | sed 's/^/pods\//' | \ xargs -L1 -r kubectl --namespace $1 logs } kubectl get pods --namespace $1 -o wide && get_logs $1 && \ exit -1", kubectl get pods --namespace $1 -o wide && exit -1,11,1
openstack%2Fopenstack-helm-infra~master~I49d7cd4812102c10c1cc371edc35fb7cb7d69d96,openstack/openstack-helm-infra,master,I49d7cd4812102c10c1cc371edc35fb7cb7d69d96,[DNM] Testing gates,ABANDONED,2019-05-02 14:54:25.000000000,2020-07-15 20:15:49.000000000,,"[{'_account_id': 21883}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 14:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2197a4b48c68a80fed133ba5967fe17898ccfc35', 'message': '[DNM] Testing gates\n\nChange-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2019-05-02 16:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eba0e3c9447febe71207886227fe19879eef84ca', 'message': '[DNM] Testing gates\n\nChange-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 3, 'created': '2019-05-02 19:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/12e4dc4b58341df48266c4c7e8569ae7a0833288', 'message': '[DNM] Testing gates\n\nChange-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 4, 'created': '2019-05-03 07:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/702f340e67ca57bac005d6397deeabd2711c34bb', 'message': '[DNM] Testing gates\n\nChange-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 5, 'created': '2019-05-03 15:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0116e2c86325c5da44ff3086a83c358ea47d9127', 'message': '[DNM] Testing gates\n\nChange-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 6, 'created': '2019-05-03 16:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/044bdd7f6efb56f4579874100ac93f47ca5bf3ff', 'message': '[DNM] Testing gates\n\nChange-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 7, 'created': '2019-05-03 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3cafabd47dfbfac3170797db01bf9bb738058745', 'message': '[DNM] Testing gates\n\nChange-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 8, 'created': '2019-05-04 09:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4fdf95c70d0148f381730f95d13e9c53be14f2ad', 'message': '[DNM] Testing gates\n\nChange-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 9, 'created': '2019-05-06 09:27:21.000000000', 'files': ['tools/deployment/common/wait-for-pods.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa47e4ad71c54644a4a13c43160605d3d6aa1b1f', 'message': '[DNM] Testing gates\n\nChange-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",0,656787,aa47e4ad71c54644a4a13c43160605d3d6aa1b1f,28,2,9,21883,,,0,"[DNM] Testing gates

Change-Id: I49d7cd4812102c10c1cc371edc35fb7cb7d69d96
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/87/656787/5 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/keystone-auth/060-mariadb.sh'],1,2197a4b48c68a80fed133ba5967fe17898ccfc35,,"#Testing why ovs does not work in gates pod_name=$(sudo kubectl get pods --namespace openstack | grep switchd | cut -d"" "" -f1) sudo kubectl logs pods/$pod_name --namespace openstack ",,4,0
openstack%2Fopenstack-helm~master~I5e3e1069413aca1f6f5aa883b060a714f8207f37,openstack/openstack-helm,master,I5e3e1069413aca1f6f5aa883b060a714f8207f37,[DNM][WIP] Adding Swift charts for openstack-helm,ABANDONED,2019-05-02 19:50:20.000000000,2020-07-15 20:15:46.000000000,,"[{'_account_id': 7769}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-02 19:50:20.000000000', 'files': ['swift/templates/configmap-etc.yaml', 'swift/templates/service-swift-proxy-server.yaml', 'swift/templates/secret-keystone.yaml', 'swift/templates/deployment-processes.yaml', 'swift/templates/_common.tpl', 'swift/templates/job-ring-builder.yaml', 'swift/templates/serviceaccounts.yaml', 'swift/templates/bin/_wait-for-rings.sh.tpl', 'swift/templates/job-ks-endpoints.yaml', 'swift/templates/job-ks-service.yaml', 'swift/templates/secret-ingress-tls.yaml', 'swift/templates/ingress-proxy.yaml', 'swift/values.yaml', 'swift/templates/deployment-auditors.yaml', 'swift/templates/job-image-repo-sync.yaml', 'swift/templates/statefulset-servers.yaml', 'swift/templates/storage-classes.yaml', 'swift/Chart.yaml', 'swift/templates/service-ingress-proxy.yaml', 'swift/requirements.yaml', 'swift/templates/bin/_build-rings.sh.tpl', 'swift/templates/configmap-bin.yaml', 'swift/templates/job-ks-user.yaml', 'swift/templates/configmap-rsyslogd.yaml', 'swift/templates/deployment-proxy-server.yaml', 'swift/templates/bin/_check-for-rings.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c2209b94cf142fbc063e20a16de21da0deddd7d', 'message': '[DNM][WIP] Adding Swift charts for openstack-helm\n\nThis is the first iteration for upstream swift charts for\nopenstack-helm. These charts are very VMware specific, they will\nbe modified to najethem more generic for the upstream. This review\nis only to serve as a blueprint for the swift integration.\n\nChange-Id: I5e3e1069413aca1f6f5aa883b060a714f8207f37\n'}]",5,656849,0c2209b94cf142fbc063e20a16de21da0deddd7d,4,2,1,107,,,0,"[DNM][WIP] Adding Swift charts for openstack-helm

This is the first iteration for upstream swift charts for
openstack-helm. These charts are very VMware specific, they will
be modified to najethem more generic for the upstream. This review
is only to serve as a blueprint for the swift integration.

Change-Id: I5e3e1069413aca1f6f5aa883b060a714f8207f37
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/49/656849/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/templates/configmap-etc.yaml', 'swift/templates/service-swift-proxy-server.yaml', 'swift/templates/secret-keystone.yaml', 'swift/templates/deployment-processes.yaml', 'swift/templates/_common.tpl', 'swift/templates/job-ring-builder.yaml', 'swift/templates/serviceaccounts.yaml', 'swift/templates/bin/_wait-for-rings.sh.tpl', 'swift/templates/job-ks-endpoints.yaml', 'swift/templates/job-ks-service.yaml', 'swift/templates/secret-ingress-tls.yaml', 'swift/templates/ingress-proxy.yaml', 'swift/values.yaml', 'swift/templates/deployment-auditors.yaml', 'swift/templates/job-image-repo-sync.yaml', 'swift/templates/statefulset-servers.yaml', 'swift/templates/storage-classes.yaml', 'swift/Chart.yaml', 'swift/templates/service-ingress-proxy.yaml', 'swift/requirements.yaml', 'swift/templates/bin/_build-rings.sh.tpl', 'swift/templates/configmap-bin.yaml', 'swift/templates/job-ks-user.yaml', 'swift/templates/configmap-rsyslogd.yaml', 'swift/templates/deployment-proxy-server.yaml', 'swift/templates/bin/_check-for-rings.sh.tpl']",26,0c2209b94cf142fbc063e20a16de21da0deddd7d,bp/for,"#!/bin/bash {{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} while [ ! -f /etc/swift/account.ring.gz ]; do sleep 2; done while [ ! -f /etc/swift/container.ring.gz ]; do sleep 2; done while [ ! -f /etc/swift/object.ring.gz ]; do sleep 2; done",,2140,0
openstack%2Fopenstack-helm~master~I2454fa663474ac26fefcafe8d0e6ec9de45e9bba,openstack/openstack-helm,master,I2454fa663474ac26fefcafe8d0e6ec9de45e9bba,Import OpenstackService lifecycle construct into Keystone HelmChart,ABANDONED,2019-04-17 20:22:57.000000000,2020-07-15 20:15:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28436}, {'_account_id': 28869}]","[{'number': 1, 'created': '2019-04-17 20:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ef9da0172f5409f72756c11cfc31fbd15b0624b9', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\n'}, {'number': 2, 'created': '2019-04-17 21:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1e60d0a26b434b032bc1c0a50d58ac7c5306f9e3', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\n'}, {'number': 3, 'created': '2019-04-18 20:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c586cf70935b801841b26c6933492958e6f792b9', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\n'}, {'number': 4, 'created': '2019-04-18 21:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bcb01462a9cec2eeeef6bf8c7dab4597094bfaba', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 5, 'created': '2019-04-18 23:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94e867fe83a192ddb978653e3d0af35df902dca1', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 6, 'created': '2019-04-18 23:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b9e79995b4284ff155d517a16a9eb10175c579a8', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 7, 'created': '2019-04-19 03:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d09380896368361539aab4aed5713476f31041b2', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 8, 'created': '2019-04-22 16:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8ea336d0d9328691df32f1ab07e253f8a4e1e75', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\n'}, {'number': 9, 'created': '2019-04-22 20:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/efa497e2362f2d3e42ce382c6be37cc0c6b5d777', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\nDepends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3\n'}, {'number': 10, 'created': '2019-04-23 14:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f8132f4fb377e68cacb4848860b29c6834d70fa3', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\nDepends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3\n'}, {'number': 11, 'created': '2019-04-23 14:58:48.000000000', 'files': ['keystone/templates/lifecycle/_wf-keystone-rollback.yaml', 'keystone/templates/job-db-sync.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/bin/_db-dump.sh.tpl', 'keystone/templates/lifecycle/_wf-keystone-upgrade.yaml', 'keystone/templates/lifecycle/steps/_image-repo-sync.yaml', 'keystone/templates/lifecycle/steps/_db-sync.yaml', 'keystone/templates/lifecycle-install.yaml', 'keystone/templates/lifecycle/steps/_fernet-setup.yaml', 'keystone/templates/bin/_db-restore.sh.tpl', 'keystone/templates/lifecycle/_wf-keystone-backup.yaml', 'keystone/values.yaml', 'keystone/templates/lifecycle-roles.yaml', 'keystone/templates/keystone-backup-pvc.yaml', 'keystone/templates/lifecycle/_wf-keystone-restore.yaml', 'keystone/templates/lifecycle/steps/_bootstrap.yaml', 'keystone/templates/lifecycle/steps/_credential-setup.yaml', 'keystone/templates/keystone-backup-pv.yaml', 'keystone/templates/lifecycle/steps/_db-dump.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/lifecycle/steps/_rabbit-init.yaml', 'keystone/templates/lifecycle/steps/_domain-manage.yaml', 'keystone/templates/lifecycle/_wf-keystone-install.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/lifecycle/steps/_db-restore.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/templates/lifecycle/steps/_db-init.yaml', 'keystone/templates/lifecycle/steps/_db-drop.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cd81c2dacc28f189cf8afe51ff766003da91fb53', 'message': 'Import OpenstackService lifecycle construct into Keystone HelmChart\n\nChange-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\nDepends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3\n'}]",7,653550,cd81c2dacc28f189cf8afe51ff766003da91fb53,22,4,11,28436,,,0,"Import OpenstackService lifecycle construct into Keystone HelmChart

Change-Id: I2454fa663474ac26fefcafe8d0e6ec9de45e9bba
Depends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344
Depends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994
Depends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/653550/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/lifecycle-events/_wf-keystone-rollback.yaml', 'keystone/templates/lifecycle-rollback.yaml', 'keystone/templates/job-db-sync.yaml', 'keystone/templates/job-image-repo-sync.yaml', 'keystone/templates/network_policy.yaml', 'keystone/templates/configmap-bin.yaml', 'keystone/templates/secret-fernet-keys.yaml', 'keystone/templates/service-api.yaml', 'keystone/templates/secret-rabbitmq.yaml', 'keystone/templates/job-bootstrap.yaml', 'keystone/templates/lifecycle-install.yaml', 'keystone/templates/bin/_db-restore.sh.tpl', 'keystone/values.yaml', 'keystone/templates/lifecycle-events/steps/_domain-manage.yaml', 'keystone/templates/pdb.yaml', 'keystone/templates/lifecycle-events/_wf-keystone-install.yaml', 'keystone/templates/lifecycle-roles.yaml', 'keystone/templates/keystone-backup-pvc.yaml', 'keystone/templates/lifecycle-events/steps/_db-dump.yaml', 'keystone/templates/lifecycle-events/steps/_db-restore.yaml', 'keystone/templates/lifecycle-events/steps/_db-drop.yaml', 'keystone/templates/lifecycle-events/steps/_fernet-setup.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/ingress-api.yaml', 'keystone/templates/secret-ingress-tls.yaml', 'keystone/templates/job-rabbit-init.yaml', 'keystone/templates/lifecycle-events/_wf-keystone-restore.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'keystone/templates/job-db-init.yaml', 'keystone/templates/secret-credential-keys.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/templates/lifecycle-events/steps/_db-sync.yaml', 'keystone/templates/lifecycle-operational.yaml', 'keystone/templates/configmap-etc.yaml', 'keystone/templates/secret-ldap-tls.yaml', 'keystone/templates/lifecycle-events/steps/_rabbit-init.yaml', 'keystone/templates/service-ingress-api.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/pod-rally-test.yaml', 'keystone/templates/secret-db.yaml', 'keystone/templates/bin/_db-dump.sh.tpl', 'keystone/templates/lifecycle-planning.yaml', 'keystone/templates/lifecycle-events/steps/_bootstrap.yaml', 'keystone/templates/lifecycle-events/steps/_credential-setup.yaml', 'keystone/templates/lifecycle-test.yaml', 'keystone/templates/lifecycle-delete.yaml', 'keystone/templates/lifecycle-events/steps/_db-init.yaml', 'keystone/templates/keystone-backup-pv.yaml', 'keystone/lifecycle-values.yaml', 'keystone/templates/secret-keystone.yaml', 'keystone/templates/lifecycle-trafficdrain.yaml', 'keystone/templates/lifecycle-events/steps/_image-repo-sync.yaml', 'keystone/templates/lifecycle-upgrade.yaml', 'keystone/templates/cron-job-credential-rotate.yaml', 'keystone/templates/lifecycle-events/_wf-keystone-backup.yaml', 'keystone/templates/lifecycle-trafficrollout.yaml', 'keystone/templates/job-db-drop.yaml', 'keystone/templates/lifecycle-events/_wf-keystone-upgrade.yaml']",59,ef9da0172f5409f72756c11cfc31fbd15b0624b9,feat/argo,"{{- define ""keystone.templates.lifecycle.upgrade"" -}} {{- $envAll := . }} # The workflow checks that all the jobs and services required for # keystone-api to start are here. apiVersion: argoproj.io/v1alpha1 kind: Workflow metadata: name: keystone-upgrade namespace: {{ $envAll.Release.Namespace }} spec: entrypoint: keystone-upgrade serviceAccountName: wf-keystone-sa volumes: {{- include ""keystone.templates.steps._db_dump.volumes"" . | nindent 2 }} templates: - name: wf-keystone-upgrade steps: - - name: task-keystone-db-dump template: task-keystone-db-dump - name: task-keystone-db-dump activeDeadlineSeconds: {{ .Values.dependencies.timeout.tasks.db_dump }} retryStrategy: limit: {{ .Values.dependencies.retries.db_dump }} container: {{- include ""keystone.templates.steps._db_dump.container"" . | nindent 6 }} {{- end }} ",,4173,14
openstack%2Fopenstack-helm-infra~master~Ie292b4c7fe553d542cf00da529a13174f608af5d,openstack/openstack-helm-infra,master,Ie292b4c7fe553d542cf00da529a13174f608af5d,DNM: WF demo prep,ABANDONED,2019-04-23 11:17:22.000000000,2020-07-15 20:15:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-23 11:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6423bcf96003e93b9c6fd3133918350df2401a1a', 'message': 'DNM: WF demo prep\n\nChange-Id: Ie292b4c7fe553d542cf00da529a13174f608af5d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-04-23 12:06:01.000000000', 'files': ['argo/templates/service-argo-ui.yaml', 'argo/templates/deployment-workflow-controller.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6abf3a8ca6d99d1c1cc14be344eb37133cf4e712', 'message': 'DNM: WF demo prep\n\nChange-Id: Ie292b4c7fe553d542cf00da529a13174f608af5d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,654960,6abf3a8ca6d99d1c1cc14be344eb37133cf4e712,4,1,2,23928,,,0,"DNM: WF demo prep

Change-Id: Ie292b4c7fe553d542cf00da529a13174f608af5d
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/60/654960/2 && git format-patch -1 --stdout FETCH_HEAD,"['argo/templates/service-argo-ui.yaml', 'argo/templates/deployment-workflow-controller.yaml']",2,6423bcf96003e93b9c6fd3133918350df2401a1a,feat/argo, name: {{ $.Release.Namespace }}-{{ $.Release.Name }}-wf-controller name: {{ $.Release.Namespace }}-{{ $.Release.Name }}-wf-controller name: {{ $.Release.Namespace }}-{{ $.Release.Name }}-wf-controller name: {{ $.Release.Namespace }}-{{ $.Release.Name }}-wf-controller name: {{ $.Release.Namespace }}-{{ $.Release.Name }}-wf-controller serviceAccountName: {{ $.Release.Namespace }}-{{ $.Release.Name }}-wf-controller, name: argo name: argo-cluster-role name: argo-binding name: argo-cluster-role name: argo serviceAccountName: argo,16,8
openstack%2Fopenstack-helm~master~I56a0aa907b1edd12c3f526f81c416638e42628e3,openstack/openstack-helm,master,I56a0aa907b1edd12c3f526f81c416638e42628e3,Add automatic Argo deployment as part of the environment setup,ABANDONED,2019-04-22 19:59:06.000000000,2020-07-15 20:15:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-22 19:59:06.000000000', 'files': ['tools/deployment/developer/common/080-keystone.sh', 'tools/deployment/component/keystone/keystone.sh', 'tools/deployment/component/keystone/keystone-ldap.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eac6d3de0171810e68ae39f0d8222aa73dd82630', 'message': 'Add automatic Argo deployment as part of the environment setup\n\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad650799A\nChange-Id: I56a0aa907b1edd12c3f526f81c416638e42628e3\n'}]",0,654622,eac6d3de0171810e68ae39f0d8222aa73dd82630,5,2,1,28436,,,0,"Add automatic Argo deployment as part of the environment setup

Depends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344
Depends-On: I9805ddc8390df65f878fa803ac8ad74ad650799A
Change-Id: I56a0aa907b1edd12c3f526f81c416638e42628e3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/22/654622/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/common/080-keystone.sh', 'tools/deployment/component/keystone/keystone.sh', 'tools/deployment/component/keystone/keystone-ldap.sh']",3,eac6d3de0171810e68ae39f0d8222aa73dd82630,feat/argo,"make -C ${OSH_INFRA_PATH} argo helm upgrade --install argo ${OSH_INFRA_PATH}/argo \ --namespace=argo \ --set images.tags.argo_workflow=docker.io/kubekit99/argo-workflow-controller:1.0.0,images.tags.argo_executor=docker.io/kubekit99/argo-argoexec:1.0.0 # --set images.tags.argo_workflow=docker.io/argoproj/workflow-controller:v2.2.1,images.tags.argo_executor=docker.io/argoproj/argoexec:v2.2.1",,19,0
openstack%2Fopenstack-helm~master~I71c17b39fdffee6ef949e04cea0b65842e47108f,openstack/openstack-helm,master,I71c17b39fdffee6ef949e04cea0b65842e47108f,Import OpenstackService lifecycle construct into Neutron HelmChart,ABANDONED,2019-04-22 21:21:24.000000000,2020-07-15 20:15:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-22 21:21:24.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/templates/lifecycle/steps/_ks-service.yaml', 'neutron/templates/lifecycle/steps/_bootstrap.yaml', 'neutron/templates/lifecycle/steps/_db-sync.yaml', 'neutron/templates/lifecycle-install.yaml', 'neutron/templates/lifecycle/steps/_ks-user.yaml', 'neutron/templates/lifecycle/_wf_neutron-install.yaml', 'neutron/templates/lifecycle/steps/_rabbit-init.yaml', 'neutron/templates/job-bootstrap.yaml', 'neutron/templates/lifecycle-roles.yaml', 'neutron/templates/lifecycle/steps/_ks-endpoints.yaml', 'neutron/templates/job-ks-endpoints.yaml', 'neutron/templates/lifecycle/steps/_db-init.yaml', 'neutron/templates/lifecycle/steps/_db-drop.yaml', 'neutron/values.yaml', 'neutron/templates/lifecycle/steps/_image-repo-sync.yaml', 'neutron/templates/job-image-repo-sync.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6a42652088f44d474247995e9afaf7ec9864dd81', 'message': 'Import OpenstackService lifecycle construct into Neutron HelmChart\n\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\nDepends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3\nChange-Id: I71c17b39fdffee6ef949e04cea0b65842e47108f\n'}]",0,654630,6a42652088f44d474247995e9afaf7ec9864dd81,5,2,1,28436,,,0,"Import OpenstackService lifecycle construct into Neutron HelmChart

Depends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344
Depends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994
Depends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3
Change-Id: I71c17b39fdffee6ef949e04cea0b65842e47108f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/30/654630/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'neutron/templates/lifecycle/steps/_ks-service.yaml', 'neutron/templates/lifecycle/steps/_bootstrap.yaml', 'neutron/templates/lifecycle/steps/_db-sync.yaml', 'neutron/templates/lifecycle-install.yaml', 'neutron/templates/lifecycle/steps/_ks-user.yaml', 'neutron/templates/lifecycle/_wf_neutron-install.yaml', 'neutron/templates/lifecycle/steps/_rabbit-init.yaml', 'neutron/templates/job-bootstrap.yaml', 'neutron/templates/lifecycle-roles.yaml', 'neutron/templates/lifecycle/steps/_ks-endpoints.yaml', 'neutron/templates/job-ks-endpoints.yaml', 'neutron/templates/lifecycle/steps/_db-init.yaml', 'neutron/templates/lifecycle/steps/_db-drop.yaml', 'neutron/values.yaml', 'neutron/templates/lifecycle/steps/_image-repo-sync.yaml', 'neutron/templates/job-image-repo-sync.yaml']",17,6a42652088f44d474247995e9afaf7ec9864dd81,feat/argo,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if and .Values.manifests.job_image_repo_sync .Values.images.local_registry.active }} {{- $imageRepoSyncJob := dict ""envAll"" . ""serviceName"" ""neutron"" -}} {{ $imageRepoSyncJob | include ""helm-toolkit.manifests.job_image_repo_sync"" }} {{- end }} ",442,119
openstack%2Fopenstack-helm~master~I790fa6e3239c48df8961d701ab0f0e2fa9f3ad39,openstack/openstack-helm,master,I790fa6e3239c48df8961d701ab0f0e2fa9f3ad39,Import OpenstackService lifecycle construct into Nova HelmChart,ABANDONED,2019-04-22 22:10:52.000000000,2020-07-15 20:15:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-22 22:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d6422d8f4616f47a70ae72eb02aed0c0db6771f7', 'message': 'Import OpenstackService lifecyle construct into Nova HelmChart\n\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\nDepends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3\nChange-Id: I790fa6e3239c48df8961d701ab0f0e2fa9f3ad39\n'}, {'number': 2, 'created': '2019-04-22 22:13:01.000000000', 'files': ['nova/templates/job-image-repo-sync.yaml', 'nova/templates/job-db-init.yaml', 'nova/templates/lifecycle/steps/_ks-placement-user.yaml', 'nova/templates/lifecycle-roles.yaml', 'nova/templates/lifecycle/steps/_ks-service.yaml', 'nova/templates/lifecycle/steps/_cell-setup.yaml', 'nova/templates/lifecycle/steps/_ks-user.yaml', 'nova/templates/lifecycle-install.yaml', 'nova/templates/job-ks-placement-endpoints.yaml', 'nova/templates/lifecycle/steps/_db-drop.yaml', 'nova/templates/job-bootstrap.yaml', 'nova/templates/lifecycle/steps/_db-sync.yaml', 'nova/templates/job-ks-service.yaml', 'nova/templates/lifecycle/steps/_rabbit-init.yaml', 'nova/templates/lifecycle/steps/_bootstrap.yaml', 'nova/templates/lifecycle/steps/_db-init.yaml', 'nova/values.yaml', 'nova/templates/lifecycle/steps/_ks-placement-endpoints.yaml', 'nova/templates/lifecycle/steps/_image-repo-sync.yaml', 'nova/templates/lifecycle/steps/_ks-endpoints.yaml', 'nova/templates/lifecycle/steps/_ks-placement-service.yaml', 'nova/templates/lifecycle/_wf_nova-install.yaml', 'nova/templates/job-db-drop.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aefed037c13681ff8ecf444344fd325dd3b90a0a', 'message': 'Import OpenstackService lifecycle construct into Nova HelmChart\n\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\nDepends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3\nChange-Id: I790fa6e3239c48df8961d701ab0f0e2fa9f3ad39\n'}]",0,654637,aefed037c13681ff8ecf444344fd325dd3b90a0a,6,2,2,28436,,,0,"Import OpenstackService lifecycle construct into Nova HelmChart

Depends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344
Depends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994
Depends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3
Change-Id: I790fa6e3239c48df8961d701ab0f0e2fa9f3ad39
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/654637/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/job-image-repo-sync.yaml', 'nova/templates/job-db-init.yaml', 'nova/templates/lifecycle/steps/_ks-placement-user.yaml', 'nova/templates/lifecycle-roles.yaml', 'nova/templates/lifecycle/steps/_ks-service.yaml', 'nova/templates/lifecycle/steps/_cell-setup.yaml', 'nova/templates/lifecycle/steps/_ks-user.yaml', 'nova/templates/lifecycle-install.yaml', 'nova/templates/job-ks-placement-endpoints.yaml', 'nova/templates/lifecycle/steps/_db-drop.yaml', 'nova/templates/job-bootstrap.yaml', 'nova/templates/lifecycle/steps/_db-sync.yaml', 'nova/templates/job-ks-service.yaml', 'nova/templates/lifecycle/steps/_rabbit-init.yaml', 'nova/templates/lifecycle/steps/_bootstrap.yaml', 'nova/templates/lifecycle/steps/_db-init.yaml', 'nova/values.yaml', 'nova/templates/lifecycle/steps/_ks-placement-endpoints.yaml', 'nova/templates/lifecycle/steps/_image-repo-sync.yaml', 'nova/templates/lifecycle/steps/_ks-endpoints.yaml', 'nova/templates/lifecycle/steps/_ks-placement-service.yaml', 'nova/templates/lifecycle/_wf_nova-install.yaml', 'nova/templates/job-db-drop.yaml']",23,d6422d8f4616f47a70ae72eb02aed0c0db6771f7,feat/argo,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.job_db_drop }} {{- $serviceName := ""nova"" -}} {{- $dbSvc := dict ""adminSecret"" .Values.secrets.oslo_db.admin ""configFile"" (printf ""/etc/%s/%s.conf"" $serviceName $serviceName ) ""logConfigFile"" (printf ""/etc/%s/logging.conf"" $serviceName ) ""configDbSection"" ""database"" ""configDbKey"" ""connection"" -}} {{- $dbApi := dict ""adminSecret"" .Values.secrets.oslo_db.admin ""configFile"" (printf ""/etc/%s/%s.conf"" $serviceName $serviceName ) ""logConfigFile"" (printf ""/etc/%s/logging.conf"" $serviceName ) ""configDbSection"" ""api_database"" ""configDbKey"" ""connection"" -}} {{- $dbCell := dict ""adminSecret"" .Values.secrets.oslo_db.admin ""configFile"" (printf ""/etc/%s/%s.conf"" $serviceName $serviceName ) ""logConfigFile"" (printf ""/etc/%s/logging.conf"" $serviceName ) ""configDbSection"" ""cell0_database"" ""configDbKey"" ""connection"" -}} {{- $dbsToDrop := list $dbSvc $dbApi $dbCell }} {{- $dbDropJob := dict ""envAll"" . ""serviceName"" $serviceName ""dbsToDrop"" $dbsToDrop -}} {{ $dbDropJob | include ""helm-toolkit.manifests.job_db_drop_mysql"" }} {{- end }} ",569,243
openstack%2Fopenstack-helm~master~I4d820b2cea2190334f06b2996e0998bb63e72eb0,openstack/openstack-helm,master,I4d820b2cea2190334f06b2996e0998bb63e72eb0,Import OpenstackService lifecycle construct into Glance HelmChart,ABANDONED,2019-04-22 20:05:12.000000000,2020-07-15 20:15:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-04-22 20:05:12.000000000', 'files': ['glance/templates/job-image-repo-sync.yaml', 'glance/templates/lifecycle/steps/_ks-user.yaml', 'glance/templates/job-db-drop.yaml', 'glance/templates/lifecycle/steps/_bootstrap.yaml', 'glance/templates/lifecycle/steps/_db-drop.yaml', 'glance/templates/lifecycle-roles.yaml', 'glance/templates/lifecycle/steps/_db-init.yaml', 'glance/templates/lifecycle/steps/_storage-init.yaml', 'glance/templates/job-db-init.yaml', 'glance/templates/job-storage-init.yaml', 'glance/templates/lifecycle/steps/_clean.yaml', 'glance/values.yaml', 'glance/templates/lifecycle/steps/_ks-endpoints.yaml', 'glance/templates/job-bootstrap.yaml', 'glance/templates/lifecycle/_wf_glance-install.yaml', 'glance/templates/lifecycle/steps/_image-repo-sync.yaml', 'glance/templates/lifecycle/steps/_db-sync.yaml', 'glance/templates/lifecycle/steps/_ks-service.yaml', 'glance/templates/deployment-api.yaml', 'glance/templates/job-db-sync.yaml', 'glance/templates/lifecycle-install.yaml', 'glance/templates/lifecycle/steps/_rabbit-init.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e0b6e8f69ae1fc5441d033f554ca2bb7f32669f4', 'message': 'Import OpenstackService lifecycle construct into Glance HelmChart\n\nChange-Id: I4d820b2cea2190334f06b2996e0998bb63e72eb0\nDepends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344\nDepends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994\nDepends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3\n'}]",0,654624,e0b6e8f69ae1fc5441d033f554ca2bb7f32669f4,5,2,1,28436,,,0,"Import OpenstackService lifecycle construct into Glance HelmChart

Change-Id: I4d820b2cea2190334f06b2996e0998bb63e72eb0
Depends-On: Idc405a723b98ac62285d7dfad1c5ddc8482e6344
Depends-On: I9805ddc8390df65f878fa803ac8ad74ad6507994
Depends-On: I56a0aa907b1edd12c3f526f81c416638e42628e3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/654624/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/job-image-repo-sync.yaml', 'glance/templates/lifecycle/steps/_ks-user.yaml', 'glance/templates/job-db-drop.yaml', 'glance/templates/lifecycle/steps/_bootstrap.yaml', 'glance/templates/lifecycle/steps/_db-drop.yaml', 'glance/templates/lifecycle-roles.yaml', 'glance/templates/lifecycle/steps/_db-init.yaml', 'glance/templates/lifecycle/steps/_storage-init.yaml', 'glance/templates/job-db-init.yaml', 'glance/templates/job-storage-init.yaml', 'glance/templates/lifecycle/steps/_clean.yaml', 'glance/values.yaml', 'glance/templates/lifecycle/steps/_ks-endpoints.yaml', 'glance/templates/job-bootstrap.yaml', 'glance/templates/lifecycle/_wf_glance-install.yaml', 'glance/templates/lifecycle/steps/_image-repo-sync.yaml', 'glance/templates/lifecycle/steps/_db-sync.yaml', 'glance/templates/lifecycle/steps/_ks-service.yaml', 'glance/templates/deployment-api.yaml', 'glance/templates/job-db-sync.yaml', 'glance/templates/lifecycle-install.yaml', 'glance/templates/lifecycle/steps/_rabbit-init.yaml']",22,e0b6e8f69ae1fc5441d033f554ca2bb7f32669f4,feat/argo,"{{- define ""glance.templates.steps._rabbit_init.container"" }}{{ $rmqUserJob | include ""helm-toolkit.lifecycle.steps._rabbit_init.container"" }} {{- end }} {{- define ""glance.templates.steps._rabbit_init.volumes"" }} {{- $rmqUserJob := dict ""envAll"" . ""serviceName"" ""glance"" -}} {{ $rmqUserJob | include ""helm-toolkit.lifecycle.steps._rabbit_init.volumes"" }}","{{- if .Values.manifests.job_rabbit_init }}{{ $rmqUserJob | include ""helm-toolkit.manifests.job_rabbit_init"" }}",716,357
openstack%2Fopenstack-helm~master~I21f4ede3bd18c0af8da1eba60cd0b7b932a31410,openstack/openstack-helm,master,I21f4ede3bd18c0af8da1eba60cd0b7b932a31410,feat(tls): Make openstack services compatible with mariadb with TLS,MERGED,2020-07-01 00:27:04.000000000,2020-07-15 20:15:02.000000000,2020-07-15 20:12:58.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-01 00:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d481cbf3f01923033acbcea04f755fb771a687eb', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 2, 'created': '2020-07-01 12:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6e3ec226979be489b121634dc3eab2de08b0fde', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 3, 'created': '2020-07-01 13:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/60a85bba219208cf30ea1ed1fc4b4fdb72b67d6c', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 4, 'created': '2020-07-01 14:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb789d17b9027c550b47ee12d22f3ab55b4b8e36', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 5, 'created': '2020-07-01 15:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6acdaf4ac615a52ddcedc5f72683f772a589fca9', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 6, 'created': '2020-07-01 16:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ecb61c8a04da9f980ff2f95c43adc0484920efd2', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 7, 'created': '2020-07-01 16:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6abbc50d136e85708c8c1c1294fa93bf2a6641a8', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 8, 'created': '2020-07-01 16:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87502e7f1484b362c1c683bf9ceced5538ad8f65', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 9, 'created': '2020-07-01 18:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/394bc9f1f3113dbae2899045cfff3df63a9f8566', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 10, 'created': '2020-07-01 19:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/300b8b2fbf70f7e870f2b0dd250ed977080865a3', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 11, 'created': '2020-07-01 19:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8f6360df194b0a9caed8dcd8c5e1f667a90bdfa', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 12, 'created': '2020-07-01 21:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f1d9fe4c36d5da1fc64add6f699ee2a5d962993e', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 13, 'created': '2020-07-01 21:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8747a46a74557bdd586ff841816f84b22fca6395', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 14, 'created': '2020-07-01 22:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ba6a652ab3e9a645badb13c6f592ad0a7542114', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 15, 'created': '2020-07-02 00:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6113552bd4b7df5be57479262a69eae86e29fb8', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 16, 'created': '2020-07-02 07:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c93c5120957a1e5ab7d59d159f13017ae8ca3c82', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 17, 'created': '2020-07-02 07:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/250bdea7f5406f37f2249f900d5982b9688deeac', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 18, 'created': '2020-07-02 08:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d77cde5fb54797f14d876e24e85be9b467ebfa1', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 19, 'created': '2020-07-02 12:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb5b7708217200b2d7b975fbb75cd6c3582d08ae', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 20, 'created': '2020-07-02 14:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f34a1dbb8ee8d3457bfd189fcaab5bab8797cbd8', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 21, 'created': '2020-07-02 16:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd1f168b18d6d3142c1b66d65d7d12cfbd1726bd', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 22, 'created': '2020-07-02 16:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/081fbbeaee09eb58d9aae583b86bbb7e6ba390be', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 23, 'created': '2020-07-02 19:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ef02121f70858c83753dbddd11741a6d1ea0aea', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 24, 'created': '2020-07-02 19:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/653572d2155223b3dc23326040ef8ca9b7763780', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 25, 'created': '2020-07-06 16:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a39c1b564ba0168a1e78eee2c03d0fbfe5c8616a', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 26, 'created': '2020-07-07 01:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d13f6694494d250fd1e8e9e1599c85c23732e226', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 27, 'created': '2020-07-07 01:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/abed705e617a89b991ff0671cdee8314d2db43d5', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 28, 'created': '2020-07-07 13:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dffbdab3d8047d6588ff49dbfa9f416e52961907', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 29, 'created': '2020-07-07 14:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9e1d07e533e5ea9928138f5e2fb40249f06392ca', 'message': '[WIP] Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 30, 'created': '2020-07-07 17:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d1c955d8b9bb70ec14949c4d6aafddbde09c16d8', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 31, 'created': '2020-07-08 16:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/23f8b86d9fd2242a1aba36b663c9a91652e006a9', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 32, 'created': '2020-07-09 06:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bcdd6946e8915c0d0e405e8252a30cd60d52bc2b', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 33, 'created': '2020-07-10 04:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc7821a88041592a0a42df177a353b8eec73f90d', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 34, 'created': '2020-07-10 15:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1bb6ef7818324889496509a5ce75b3e85cb53f85', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 35, 'created': '2020-07-11 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2749979a181be44a5b09eb5e2bce6daf0267237b', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 36, 'created': '2020-07-14 01:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d38bc07215b7fa36da8e0a00809a0dcd53400b60', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/731507/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 37, 'created': '2020-07-14 20:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2951130c100f32eec29be4710219f42f636827ca', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/741037/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}, {'number': 38, 'created': '2020-07-14 23:32:23.000000000', 'files': ['nova/templates/job-db-sync.yaml', 'nova/templates/job-db-init.yaml', 'nova/templates/configmap-etc.yaml', 'heat/templates/job-db-sync.yaml', 'keystone/templates/job-db-sync.yaml', 'glance/templates/job-db-init.yaml', 'horizon/templates/job-db-init.yaml', 'horizon/values.yaml', 'placement/templates/job-db-drop.yaml', 'horizon/templates/job-db-sync.yaml', 'heat/templates/configmap-etc.yaml', 'keystone/values.yaml', 'cinder/templates/job-db-init.yaml', 'glance/templates/deployment-api.yaml', 'nova/templates/secret-db-api.yaml', 'glance/templates/job-db-sync.yaml', 'nova/templates/deployment-scheduler.yaml', 'nova/templates/deployment-conductor.yaml', 'neutron/templates/job-db-init.yaml', 'heat/templates/cron-job-engine-cleaner.yaml', 'nova/templates/job-cell-setup.yaml', 'placement/templates/bin/_mysql-migrate-db.sh.tpl', 'placement/templates/configmap-etc.yaml', 'glance/templates/configmap-etc.yaml', 'cinder/templates/deployment-scheduler.yaml', 'glance/templates/job-metadefs-load.yaml', 'keystone/templates/deployment-api.yaml', 'placement/values.yaml', 'keystone/templates/job-db-init.yaml', 'nova/values.yaml', 'heat/templates/job-db-init.yaml', 'neutron/templates/deployment-server.yaml', 'cinder/templates/configmap-etc.yaml', 'cinder/templates/deployment-volume.yaml', 'keystone/templates/configmap-etc.yaml', 'placement/templates/secret-db.yaml', 'glance/templates/job-db-drop.yaml', 'keystone/templates/bin/_cred-clean.py.tpl', 'cinder/templates/deployment-backup.yaml', 'horizon/templates/job-db-drop.yaml', 'keystone/templates/job-credential-cleanup.yaml', 'nova/templates/deployment-api-osapi.yaml', 'glance/values.yaml', 'nova/templates/deployment-novncproxy.yaml', 'placement/templates/job-db-init.yaml', 'nova/templates/secret-db.yaml', 'cinder/templates/job-db-drop.yaml', 'neutron/templates/configmap-etc.yaml', 'heat/templates/deployment-engine.yaml', 'cinder/templates/job-db-sync.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'neutron/templates/job-db-drop.yaml', 'neutron/templates/job-db-sync.yaml', 'cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'horizon/templates/secret-db.yaml', 'placement/templates/job-db-sync.yaml', 'placement/templates/job-db-migrate.yaml', 'keystone/templates/job-db-drop.yaml', 'nova/templates/deployment-consoleauth.yaml', 'neutron/values.yaml', 'heat/templates/job-db-drop.yaml', 'nova/templates/job-db-drop.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/702c17eb7804d28406576fa8c4956b1645d396b0', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nDepends-on: https://review.opendev.org/#/c/741037/\nChange-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410\n'}]",36,738719,702c17eb7804d28406576fa8c4956b1645d396b0,121,8,38,24780,,,0,"feat(tls): Make openstack services compatible with mariadb with TLS

Depends-on: https://review.opendev.org/#/c/741037/
Change-Id: I21f4ede3bd18c0af8da1eba60cd0b7b932a31410
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/19/738719/34 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/configmap-etc.yaml', 'keystone/templates/job-db-init.yaml', 'keystone/templates/job-db-sync.yaml', 'keystone/values.yaml']",4,d481cbf3f01923033acbcea04f755fb771a687eb,, secret: tls: internal: mariadb-tls-direct,,13,0
openstack%2Fopenstack-helm-infra~master~I995348d63a82c9bc45e394734dc6264350c0da26,openstack/openstack-helm-infra,master,I995348d63a82c9bc45e394734dc6264350c0da26,Add docker-default apparmor profile for elasticsearch.,ABANDONED,2019-04-22 16:49:36.000000000,2020-07-15 20:14:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-22 16:49:36.000000000', 'files': ['tools/deployment/apparmor/090-elasticsearch.sh', 'elasticsearch/values.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f0b50507b6cc87fad90ab63c4810b48dc8f0045', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\n1. Remove docker-default apparmor profile from\n   elasticsearch/values.yaml\n2. Add docker-default apparmor profile as deployment jobs.\n   add tools/deployment/apparmor/090-elasticsearch.sh\n\nChange-Id: I995348d63a82c9bc45e394734dc6264350c0da26\n'}]",0,654569,8f0b50507b6cc87fad90ab63c4810b48dc8f0045,3,1,1,29254,,,0,"Add docker-default apparmor profile for elasticsearch.

1. Remove docker-default apparmor profile from
   elasticsearch/values.yaml
2. Add docker-default apparmor profile as deployment jobs.
   add tools/deployment/apparmor/090-elasticsearch.sh

Change-Id: I995348d63a82c9bc45e394734dc6264350c0da26
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/69/654569/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/apparmor/090-elasticsearch.sh', 'elasticsearch/values.yaml', 'zuul.d/jobs.yaml']",3,8f0b50507b6cc87fad90ab63c4810b48dc8f0045,add-docker-default-apparmor-profile-elasticsearch, - ./tools/deployment/apparmor/090-elasticsearch.sh,,79,8
openstack%2Fopenstack-helm-infra~master~Ib6e55ddc1a34301197dca005964d0f89e6b096c5,openstack/openstack-helm-infra,master,Ib6e55ddc1a34301197dca005964d0f89e6b096c5,Add docker-default apparmor profile for elasticsearch.,ABANDONED,2019-04-04 13:22:09.000000000,2020-07-15 20:14:44.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 28237}, {'_account_id': 29254}]","[{'number': 1, 'created': '2019-04-04 13:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d70ef73409451ccbac5d06fe93189304f14baa41', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/060-elasticsearch.sh\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 2, 'created': '2019-04-04 13:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2159ab52046f61a952dc37a5bb5939c71e6d763', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/060-elasticsearch.sh\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 3, 'created': '2019-04-05 16:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4225dfbe3b89bf623ec5531673d4c95cdd41fea', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/060-elasticsearch.sh\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 4, 'created': '2019-04-05 16:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/33cc0ab884491d5511d2b66f556aa3ce58d3ab3b', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/060-elasticsearch.sh\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 5, 'created': '2019-04-05 17:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9d5b441a292c2f642c3d7257633333a66b08e131', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/060-elasticsearch.sh\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 6, 'created': '2019-04-05 21:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b31aaccf001069541f5192206eedf6cff79203f', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/060-elasticsearch.sh\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 7, 'created': '2019-04-06 04:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9b42ec616db9e6fb5d31be13e5cc664195a2ecca', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/060-elasticsearch.sh\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 8, 'created': '2019-04-08 14:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3f055f026588d47072286258dac25f78458c2cf6', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 9, 'created': '2019-04-08 16:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4abad13ef0c02c6c907415ee16d3a2c3145b4e7', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n  \nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 10, 'created': '2019-04-08 16:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30e4fbfff9201d4a5982927170848d4cdd179ba8', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n  \nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 11, 'created': '2019-04-08 18:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f27b2ad991cac13786064f68c4d52261bccf7ea', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 12, 'created': '2019-04-08 18:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3675a35d7e8ac8a129803cb29c98643e6ee23c5', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 13, 'created': '2019-04-09 12:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e0c995a4c1df7576df39a4bf555579cddcd5370', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 14, 'created': '2019-04-09 12:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e1ea802e5e4db35a24115872bc48ec8207f881d', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 15, 'created': '2019-04-09 14:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d5a3d283e6347fe186b324faec5eb23f46a1ef66', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 16, 'created': '2019-04-09 15:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0393704187c2b4586bf0b22d93d424d1b6b9756', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 17, 'created': '2019-04-09 20:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/841d4a81b4557bcba644a40b1156447ef875502b', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 18, 'created': '2019-04-10 12:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/042d4bf05b1cdc837fcdee46cb9086705d7cd772', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 19, 'created': '2019-04-10 12:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f929192d5f2718b2556a8783ae5b6e1e89407ebc', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 20, 'created': '2019-04-10 14:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7668d63424ae667e59b0d568f55c26739fe57392', 'message': '[WIP]Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 21, 'created': '2019-04-10 16:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5625d1ca7b8e8b3930b7f2ee06dfa85785085036', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 22, 'created': '2019-04-11 17:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76c95938404f76113dd09bd6ceee56e12087a86e', 'message': 'Add docker-default apparmor profile for elasticserach.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 23, 'created': '2019-04-12 14:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef38171eb6768b13ee9befb7a79f59a530b0e23a', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 24, 'created': '2019-04-16 13:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24cd0f30827d8cf1c23bda8b7935b6f6c1436ae4', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 25, 'created': '2019-04-16 19:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6162d5dbbb57132cd4ecf2def30947622cfd52e3', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 26, 'created': '2019-04-16 19:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/99479a29145800bec3f82e09d44349da40532b09', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 27, 'created': '2019-04-17 02:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/daed2238ebce95f5c65fa6a852d2f1ec5681943c', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 28, 'created': '2019-04-18 20:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/784b4af8cc2a193805d0580ea3b3a8310f151a52', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 29, 'created': '2019-04-22 16:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1172e1f69a92e94bea5a0087e540992929fabd8c', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 30, 'created': '2019-04-22 16:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/66289d619dfb1fc60ef760798dc7c4b9a3db6bcd', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}, {'number': 31, 'created': '2019-04-22 16:30:02.000000000', 'files': ['tools/deployment/apparmor/060-prometheus-node-exporter.sh', 'elasticsearch/values.yaml', 'tools/deployment/apparmor/046-elasticsearch.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/50918e713c7a0551320757fe3e9394e37b9cef0a', 'message': 'Add docker-default apparmor profile for elasticsearch.\n\nRemove docker-default apparmor profile from\n  elasticsearch/values.yaml\nAdd docker-default apparmor profile as deployment jobs.\n  add tools/deployment/apparmor/046-elasticsearch.sh\n\nCo-authored-by: rj2083@att.com\n\nChange-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5\n'}]",5,649990,50918e713c7a0551320757fe3e9394e37b9cef0a,76,4,31,29254,,,0,"Add docker-default apparmor profile for elasticsearch.

Remove docker-default apparmor profile from
  elasticsearch/values.yaml
Add docker-default apparmor profile as deployment jobs.
  add tools/deployment/apparmor/046-elasticsearch.sh

Co-authored-by: rj2083@att.com

Change-Id: Ib6e55ddc1a34301197dca005964d0f89e6b096c5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/649990/24 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/apparmor/060-elasticsearch.sh', 'elasticsearch/values.yaml', 'zuul.d/jobs.yaml']",3,d70ef73409451ccbac5d06fe93189304f14baa41,add-docker-default-apparmor-profile-elasticsearch, - ./tools/deployment/apparmor/060-elasticsearch.sh,,44,8
openstack%2Fopenstack-helm-infra~master~I00afb2baae82045949b86cbe42417ec29cab0e7a,openstack/openstack-helm-infra,master,I00afb2baae82045949b86cbe42417ec29cab0e7a,MariaDB Backup Script,ABANDONED,2019-01-29 20:23:07.000000000,2020-07-15 20:14:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27046}, {'_account_id': 28848}]","[{'number': 1, 'created': '2019-01-29 20:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65e0f37575876227bec01a28b26ca1c1d704f182', 'message': 'MariaDB Backup Script\n\nChange-Id: I00afb2baae82045949b86cbe42417ec29cab0e7a\n'}, {'number': 2, 'created': '2019-01-30 13:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/07ae517ff167659194f6fe8da923cc94af77aefd', 'message': 'MariaDB Backup Script\n\nChange-Id: I00afb2baae82045949b86cbe42417ec29cab0e7a\n'}, {'number': 3, 'created': '2019-01-30 15:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/51a228fed6b9061fbbcda8ee5cffc552e5ec6243', 'message': 'MariaDB Backup Script\n\nChange-Id: I00afb2baae82045949b86cbe42417ec29cab0e7a\n'}, {'number': 4, 'created': '2019-02-21 21:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6716733e4ded2172d1b2174fdfed5f88b87f668e', 'message': 'MariaDB Backup Script\n\nChange-Id: I00afb2baae82045949b86cbe42417ec29cab0e7a\n'}, {'number': 5, 'created': '2019-02-22 13:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/614c36c729679db1a2166ebe21e7edb4ae53b502', 'message': 'MariaDB Backup Script\n\nChange-Id: I00afb2baae82045949b86cbe42417ec29cab0e7a\n'}, {'number': 6, 'created': '2019-04-22 05:17:46.000000000', 'files': ['tools/images/mariadb-backup/Dockerfile', 'tools/images/mariadb-backup/README.rst', 'tools/images/mariadb-backup/assets/backupMariadbDatabase.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2737f02e776ea47619b03cd9111292f11db5824', 'message': 'MariaDB Backup Script\n\nChange-Id: I00afb2baae82045949b86cbe42417ec29cab0e7a\n'}]",0,633821,b2737f02e776ea47619b03cd9111292f11db5824,15,4,6,28848,,,0,"MariaDB Backup Script

Change-Id: I00afb2baae82045949b86cbe42417ec29cab0e7a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/21/633821/6 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/mariadb-backup/Dockerfile', 'tools/images/mariadb-backup/README.rst', 'tools/images/mariadb-backup/assets/backupMariadbDatabase.sh']",3,65e0f37575876227bec01a28b26ca1c1d704f182,,"#!/bin/bash # ---------------------------------------------------------------------------------------------------- # -- This BASH script will perform a backup of a database within a MySQL, Percona or MariaDB instance. # -- The backup will include a .sql.gz compressed file from the mysqldump command. If possible, # -- the script will also generate create user and grant statements for users in the database being # -- backed up. # -- The script will also generate a README file that will contain basic instructions on how to # -- use the backup files to restore the database. # -- # -- Each of the MySQL, Percona and MAriaDB databases use the following files to store configuration: # -- /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf # ---------------------------------------------------------------------------------------------------- # ---------------------------------------------------------------------------------------------------- # For detailed information about mysqldump refer to: # https://mariadb.com/kb/en/library/making-backups-with-mysqldump/ # ---------------------------------------------------------------------------------------------------- # ---------------------------------------------------------------------------------------------------- # -- Assume that the environment this script is running in has the PATH variable setup properly # -- mysqldump and mysql should be found in /usr/bin # ---------------------------------------------------------------------------------------------------- # ---------------------------------------------------------------------------------------------------- # -- Parameters for the backup: # -- Parameter Local Variable Purpose # -- --------- ------------------------ ------------------------------------------------------------ # -- --instance MYSQL_instanceName Informational only used to easily identify the MariaDB instance # -- REQUIRED # -- Accepted through exported env varable: MYSQL_instanceName # -- --host MYSQL_host The host where the PG Instance is running on # -- DEFAULT: localhost # -- Accepted through exported env varable: MYSQL_host # -- --port MYSQL_port The port to connect to the PG Instance # -- DEFAULT: 3306 # -- Accepted through exported env varable: MYSQLport # -- --database MYSQL_database The database to backup # -- DEFAULT: All non system databases # -- Accepted through exported env varable: MYSQL_database # -- --user MYSQL_user The user to use to connect with to run mysql and mysqldump # -- DEFAULT: as specified in [mysql] and [mysqldump]: # -- /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf # -- Accepted through exported env varable: MYSQL_user # -- --password MYSQL_password The password to use to connect with to run mysql and mysqldump # -- DEFAULT: as specified in [mysql] and [mysqldump]: # -- /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf # -- Accepted through exported env varable: MYSQL_password # -- --sqluser MYSQL_mysqlUser The user to use to connect with to run mysql and mysqldump # -- DEFAULT: as specified in [mysql]: # -- /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf # -- OVERRIDES --user for mysql commands # -- Accepted through exported env varable: MYSQL_mysqlUser # -- --sqlpassword MYSQL_mysqlPassword The password to use to connect with to run mysql and mysqldump # -- DEFAULT: as specified in [mysql]: # -- /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf # -- OVERRIDES --password for mysql commands # -- Accepted through exported env varable: MYSQL_mysqlPassword # -- --dumpuser MYSQL_mysqldumpUser The user to use to connect with to run mysql and mysqldump # -- DEFAULT: as specified in [mysqldump]: # -- /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf # -- OVERRIDES --user for mysqldump commands # -- Accepted through exported env varable: MYSQL_mysqldumpUser # -- --dumppassword MYSQL_mysqldumpPassword The password to use to connect with to run mysql and mysqldump # -- DEFAULT: as specified in [mysqldump]: # -- /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf # -- OVERRIDES --password for mysqldump commands # -- Accepted through exported env varable: MYSQL_mysqldumpPassword # -- --backuplocation MYSQL_backupLocation The core backup directory where the backups will be saved # -- DEFAULT: /var/lib/mysqlbackup # -- Accepted through exported env varable: MYSQL_backupLocation # -- --retention MYSQL_retentionDays The number of days that files should be retained # -- within the backup directory for the instance # -- Specifying 0 will not remove any prior backups. # -- DEFAULT: 90 # -- Accepted through exported env varable: MYSQL_retentionDays # -- --ignoreperms MYSQL_ignorePerms A Y/N indicator if DBA permissions should be present # -- DEFAULT: N # -- Accepted through exported env varable: MYSQL_ignorePerms # -- Note: # -- Ensure that the user specified has the proper permissions in MySql/Percona/MariaDB to run mysqldump # -- The password for the account should be specified in a ~/.my.cnf file with sample format of: # -- [mysql] # -- user=mysqluser # -- password=secret # -- [mysqldump] # -- user=mysqluser # -- password=secret # -- See: https://mariadb.com/kb/en/library/configuring-mariadb-with-mycnf/ # -- Ensure that the ~/.my.cnf is secured with permissions of 600. # ---------------------------------------------------------------------------------------------------- # ---------------------------------------------------------------------------------------------------- # -- Logging Functions # ---------------------------------------------------------------------------------------------------- function logMsg.info { logMsgDate=`date +%F.%H:%M:%S.%N` if [ ""${MYSQL_backupLog}"" != """" ]; then echo ""${logMsgDate} [info] $@"" >>${MYSQL_backupLog} fi echo ""${logMsgDate} [info] $@"" } function logMsg.warn { logMsgDate=`date +%F.%H:%M:%S.%N` if [ ""${MYSQL_backupLog}"" != """" ]; then echo ""${logMsgDate} [warn] $@"" >>${MYSQL_backupLog} fi echo ""${logMsgDate} [warn] $@"" } function logMsg.error { logMsgDate=`date +%F.%H:%M:%S.%N` if [ ""${MYSQL_backupLog}"" != """" ]; then echo ""${logMsgDate} [error] $@"" >>${MYSQL_backupLog} fi echo ""${logMsgDate} [error] $@"" } function logSeparator { # Add a dashed seperator, Pass anything other that ""Y to include in log file. Defaults to ""Y"" appendToLogfile=${1:-""Y""} separatorSize=120 logMsgDate=`date +%F.%H:%M:%S.%N` if [ ""${MYSQL_backupLog}"" != """" ]; then if [ ""${appendToLogfile}"" == ""Y"" ]; then printf ""${logMsgDate} [info] "" >>${MYSQL_backupLog} printf '%.0s-' $(seq 1 ${separatorSize}) >>${MYSQL_backupLog} printf '\n' >>${MYSQL_backupLog} fi fi printf ""${logMsgDate} [info] "" printf '%.0s-' $(seq 1 ${separatorSize}) printf '\n' } function logFileContents { indentSize=${1:-4} fileName=$2 # set the Internal Field Separator to only the new line so leading spaces or multiple spaces are not compressed out IFS=$'\n' while read line; do if [ ""${line}"" != ""Warning: Using a password on the command line interface can be insecure."" ] && [ ""${line}"" != ""[Warning] Using a password on the command line interface can be insecure."" ] && [ ""${line}"" != ""mysqldump: [Warning] Using a password on the command line interface can be insecure."" ] && [ ""${line}"" != ""mysql: [Warning] Using a password on the command line interface can be insecure."" ]; then logMsgDate=`date +%F.%H:%M:%S.%N` if [ ""${MYSQL_backupLog}"" != """" ]; then printf '%s' ""${logMsgDate} [info] "" >>${MYSQL_backupLog} printf '%.0s ' $(seq 1 $indentSize) >>${MYSQL_backupLog} printf '%s\n' ""${line}"" >>${MYSQL_backupLog} fi printf '%s' ""${logMsgDate} [info] "" printf '%.0s ' $(seq 1 ${indentSize}) printf '%s\n' ""${line}"" fi done < ${fileName} unset IFS } function tarOutput { logMsg.info ""Creating TAR file of backup"" MYSQL_tarRC=0 # Add/create the TAR file with the Backup Log if [ -f ${MYSQL_backupLog} ]; then tar -rf ${MYSQL_tarFile} -C ${MYSQL_backupDir} ${MYSQL_tarBackupLog} 2> /dev/null if [ ""$?"" -eq ""0"" ]; then logMsg.info "" Added Backup Log into tar file"" else MYSQL_tarRC=1 logMsg.error "" Could not add the Backup Log into the tar file"" fi fi # Add/create the TAR file with the Restore Steps Instructions if [ -f ${MYSQL_restoreSteps} ]; then tar -rf ${MYSQL_tarFile} -C ${MYSQL_backupDir} ${MYSQL_tarRestoreSteps} 2> /dev/null if [ ""$?"" -eq ""0"" ]; then logMsg.info "" Added Restore Steps Instruction into tar file"" else MYSQL_tarRC=1 logMsg.error "" Could not add the Restore Steps Instructions into the tar file"" fi fi # Add/create the TAR file with the GZip Backup File if [ -f ${MYSQL_backupFile} ]; then tar -rf ${MYSQL_tarFile} -C ${MYSQL_backupDir} ${MYSQL_tarBackupFile} 2> /dev/null if [ ""$?"" -eq ""0"" ]; then logMsg.info "" Added GZip Backup File into tar file"" else MYSQL_tarRC=1 logMsg.error "" Could not add the GZip Backup File into the tar file"" fi fi logMsg.info ""TAR file creation complete: (${MYSQL_tarRC})"" if [ ""${MYSQL_tarRC}"" -eq ""0"" ]; then rm -f ${MYSQL_backupLog} > /dev/null 2> /dev/null rm -f ${MYSQL_restoreSteps} > /dev/null 2> /dev/null rm -f ${MYSQL_backupFile} > /dev/null 2> /dev/null fi } # ---------------------------------------------------------------------------------------------------- # -- Parameter Description # ---------------------------------------------------------------------------------------------------- function showParms() { echo ""Invalid or missing parameters:"" if [ ""${MYSQL_instanceName}"" == ""InVaLiD1"" ]; then echo "" Instance Name missing""; fi if [ ""${MYSQL_host}"" == ""InVaLiD1"" ]; then echo "" Host missing""; fi if [ ""${MYSQL_port}"" == ""InVaLiD1"" ]; then echo "" Port missing""; fi if [ ""${MYSQL_database}"" == ""InVaLiD1"" ]; then echo "" Database missing""; fi if [ ""${MYSQL_user}"" == ""InVaLiD1"" ] || [ ""${MYSQL_password}"" == ""InVaLiD1"" ] || [ ""${MYSQL_mysqlUser}"" == ""InVaLiD1"" ] || [ ""${MYSQL_mysqlPassword}"" == ""InVaLiD1"" ] || [ ""${MYSQL_mysqldumpUser}"" == ""InVaLiD1"" ] || [ ""${MYSQL_mysqldumpPassword}"" == ""InVaLiD1"" ]; then echo "" User/Password Connection information missing""; if [ ""${MYSQL_user}"" == ""InVaLiD1"" ]; then echo "" Single User/Password is not provided""; fi if [ ""${MYSQL_mysqlUser}"" == ""InVaLiD1"" ]; then echo "" MySQL User/Password is not provided or found in configurations files""; fi if [ ""${MYSQL_mysqldumpUser}"" == ""InVaLiD1"" ]; then echo "" MySQLDump User/Password is not provided or found in configurations files""; fi fi if [ ""${MYSQL_backupLocation}"" == ""InVaLiD1"" ]; then echo "" Backup Location missing or not writable"" fi if [ ""${MYSQL_retentionDays}"" == ""InVaLiD1"" ]; then echo "" Retention Period missing""; fi echo """" echo ""Valid parameters are:"" echo "" Parameter Purpose"" echo "" --------- ------------------------------------------------------------"" echo "" --instance Informational only used to easily identify the PG instance"" echo "" REQUIRED"" echo "" Accepted through exported env varable: MYSQL_instanceName"" echo "" --host The host where the PG Instance is running on"" echo "" DEFAULT: localhost"" echo "" Accepted through exported env varable: MYSQL_host"" echo "" --port The port to connect to the PG Instance"" echo "" DEFAULT: 3306"" echo "" Accepted through exported env varable: MYSQL_port"" echo "" --database The database to backup"" echo "" DEFAULT: All non system databases"" echo "" Accepted through exported env varable: MYSQL_database"" echo "" --user The user to use to connect with to run mysql and mysqldump"" echo "" DEFAULT: as specified in [mysql] and [mysqldump]:"" echo "" /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf"" echo "" Accepted through exported env varable: MYSQL_user"" echo "" --password The password to use to connect with to run mysql and mysqldump"" echo "" DEFAULT: as specified in:"" echo "" /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf"" echo "" Accepted through exported env varable: MYSQL_password"" echo "" --sqluser The user to use to connect with to run mysql and mysqldump"" echo "" DEFAULT: as specified in [mysql]:"" echo "" /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf"" echo "" OVERRIDES --user for mysql commands"" echo "" Accepted through exported env varable: MYSQL_mysqlUser"" echo "" --sqlpassword The password to use to connect with to run mysql and mysqldump"" echo "" DEFAULT: as specified in [mysql]:"" echo "" /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf"" echo "" OVERRIDES --password for mysql commands"" echo "" Accepted through exported env varable: MYSQL_mysqlPassword"" echo "" --dumpuser The user to use to connect with to run mysql and mysqldump"" echo "" DEFAULT: as specified in [mysqldump]:"" echo "" /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf"" echo "" OVERRIDES --user for mysqldump commands"" echo "" Accepted through exported env varable: MYSQL_mysqldumpUser"" echo "" --dumppassword MYSQL_mysqldumpPassword The password to use to connect with to run mysql and mysqldump"" echo "" DEFAULT: as specified in [mysqldump]:"" echo "" /etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf"" echo "" OVERRIDES --password for mysqldump commands"" echo "" Accepted through exported env varable: MYSQL_mysqldumpPassword"" echo "" --backuplocation The core backup directory where the backups will be saved"" echo "" DEFAULT: /var/lib/mysqlbackup"" echo "" Accepted through exported env varable: MYSQL_backupLocation"" echo "" --retention The number of days that files should be retained"" echo "" within the backup directory for the instance"" echo "" Specifying 0 will not remove any prior backups."" echo "" DEFAULT: 90"" echo "" Accepted through exported env varable: MYSQL_retentionDays"" echo "" --ignoreperms A Y/N indicator if DBA permissions should be present"" echo "" DEFAULT: N"" echo "" Accepted through exported env varable: MYSQL_ignorePerms"" echo """" echo ""Note:"" echo "" Ensure that the user specified has the proper permissions in MySql/Percona/MariaDB to run mysqldump"" echo "" The password for the account should be specified in a ~/.my.cnf file with sample format of:"" echo "" [mysql]"" echo "" user=mysqluser"" echo "" password=secret"" echo "" [mysqldump]"" echo "" user=mysqluser"" echo "" password=secret"" echo "" See: https://mariadb.com/kb/en/library/configuring-mariadb-with-mycnf/"" echo "" Ensure that the ~/.my.cnf is secured with permissions of 600."" exit 9 } # ---------------------------------------------------------------------------------------------------- # -- Function to process the MySQL/Percona/MariaDB parameter files # -- This function will process the parameter files in the order the tools read the files # ---------------------------------------------------------------------------------------------------- function getMySQLCNFParms() { homeDir=`grep $(/usr/bin/whoami) /etc/passwd | awk -F: '{print $6}'` # The list of configration files in the order processed by the mysql and mysqldump commands # The user/password values are obtained from these files by default regardless of the target host # Each subsequent configuration file overrides the previous configuration file parmFiles=(""/etc/my.cnf"" ""/etc/mysql/my.cnf"" ""/usr/etc/my.cnf"" ""${homeDir}/.my.cnf"") for parmFile in ${parmFiles[@]}; do if [ -f ${parmFile} ]; then while read lineIn; do # Strip all whitespace from line line=""$(echo -e ""${lineIn}"" | tr -d '[:space:]')"" #line=""$(echo -e ""${lineIn}"" | sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//')"" if [ ""${line:0:1}"" == ""["" ]; then sectionName=$(echo ${line} | tr '[:upper:]' '[:lower:]') fi parmEQPos=""$(echo ${line} | grep -b -o ""="" | awk 'BEGIN {FS="":""}{print $1}')"" parmEQPos=${parmEQPos:-0} if [ ""${parmEQPos}"" -ne ""0"" ] && [ ""${line:0:1}"" != ""#"" ]; then parmNameEnd=${parmEQPos} parmValueStart=""$(expr ${parmEQPos} + 1)"" parmName=$(echo ${line:0:parmNameEnd} | tr '[:upper:]' '[:lower:]') parmValue=${line:parmValueStart} if [ ""${parmName}"" == ""user"" ] && [ ""${sectionName}"" == ""[mysql]"" ]; then MYSQL_mysqlUser=${parmValue} MYSQL_mysqlUserParmEntryFound=""Y"" fi if [ ""${parmName}"" == ""password"" ] && [ ""${sectionName}"" == ""[mysql]"" ]; then MYSQL_mysqlPassword=${parmValue} fi if [ ""${parmName}"" == ""user"" ] && [ ""${sectionName}"" == ""[mysqldump]"" ]; then MYSQL_mysqldumpUser=${parmValue} MYSQL_mysqldumpUserParmEntryFound=""Y"" fi if [ ""${parmName}"" == ""password"" ] && [ ""${sectionName}"" == ""[mysqldump]"" ]; then MYSQL_mysqldumpPassword=${parmValue} fi fi done < ${parmFile} fi done } # ---------------------------------------------------------------------------------------------------- # -- Default variables with default values # -- The values can be set as environment variables in the environment through an export command # ---------------------------------------------------------------------------------------------------- MYSQL_instanceName=${MYSQL_instanceName:-""InVaLiD1""} MYSQL_host=${MYSQL_host:-""localhost""} MYSQL_port=${MYSQL_port:-""3306""} MYSQL_database=${MYSQL_database:-""ALL DATABASES""} MYSQL_userProvided=""N"" MYSQL_user=${MYSQL_user:-""InVaLiD1""} MYSQL_password=${MYSQL_password:-""InVaLiD1""} MYSQL_mysqlUserProvided=""N"" MYSQL_mysqlUserParmEntryFound=""N"" MYSQL_mysqlUser=${MYSQL_mysqlUser:-""InVaLiD1""} MYSQL_mysqlPassword=${MYSQL_mysqlPassword:-""InVaLiD1""} MYSQL_mysqldumpUserProvided=""N"" MYSQL_mysqldumpUserParmEntryFound=""N"" MYSQL_mysqldumpUser=${MYSQL_mysqldumpUser:-""InVaLiD1""} MYSQL_mysqldumpPassword=${MYSQL_mysqldumpPassword:-""InVaLiD1""} MYSQL_backupLocation=${MYSQL_backupLocation:-""/var/lib/mysqlbackup""} MYSQL_retentionDays=${MYSQL_retentionDays:-90} MYSQL_ignorePerms=${MYSQL_ignorePerms:-""N""} MYSQL_DBAPrivilegeList=""'ALTER','ALTER ROUTINE','CREATE','CREATE ROUTINE','CREATE TABLESPACE','CREATE TEMPORARY TABLES','CREATE USER','CREATE VIEW','DELETE','DROP','EVENT','EXECUTE','FILE','INDEX','INSERT','LOCK TABLES','PROCESS','REFERENCES','RELOAD','REPLICATION CLIENT','REPLICATION SLAVE','SELECT','SHOW DATABASES','SHOW VIEW','SHUTDOWN','SUPER','TRIGGER','UPDATE'"" MYSQL_DUMPDBPrivilegeList=""'EVENT','LOCK TABLES','SELECT','SHOW DATABASES'"" MYSQL_DBAPrivilegeCount=0 MYSQL_hasDBAPermissions=""N"" MYSQL_hasDumpPermissions=""N"" MYSQL_databaseHasPermissionsGranted=""N"" MYSQL_backuprc=0 # ---------------------------------------------------------------------------------------------------- # -- Accept script arguments # ---------------------------------------------------------------------------------------------------- while [ ""$#"" -gt 0 ]; do case ""$1"" in --instance=*) MYSQL_instanceName=""${1#*=}""; shift 1;; --host=*) MYSQL_host=""${1#*=}""; shift 1;; --port=*) MYSQL_port=""${1#*=}""; shift 1;; --database=*) MYSQL_database=""${1#*=}""; shift 1;; --user=*) MYSQL_user=""${1#*=}""; MYSQL_userProvided=""Y""; shift 1;; --password=*) MYSQL_password=""${1#*=}""; shift 1;; --sqluser=*) MYSQL_mysqluser=""${1#*=}""; MYSQL_mysqlUserProvided=""Y""; shift 1;; --sqlpassword=*) MYSQL_mysqlpassword=""${1#*=}""; shift 1;; --dumpuser=*) MYSQL_mysqldumpuser=""${1#*=}""; MYSQL_mysqldumpUserProvided=""Y""; shift 1;; --dumppassword=*) MYSQL_mysqldumppassword=""${1#*=}""; shift 1;; --backuplocation=*) MYSQL_backupLocation=""${1#*=}""; shift 1;; --retention=*) MYSQL_retentionDays=""${1#*=}""; shift 1;; --ignoreperms=*) MYSQL_ignorePerms=""${1#*=}""; MYSQL_ignorePerms=$(echo ${MYSQL_ignorePerms} | tr '[:lower:]' '[:upper:]'); shift 1;; --instance|--host|--port|--post|--user|--password|--sqluser|--sqlpassword|--dumpuser|--dumppassword|--backuplocation|--retention|--ignoreperms) showParms; exit 9;; *) showParms ""$1""; shift 1;; esac done # ---------------------------------------------------------------------------------------------------- # -- Test the backup location # ---------------------------------------------------------------------------------------------------- touch ${MYSQL_backupLocation}/test.backup.is.writable 2> /dev/null if [ ""$?"" -ne ""0"" ]; then MYSQL_backupLocation=""InVaLiD1"" fi rm ${MYSQL_backupLocation}/test.backup.is.writable 2> /dev/null # ---------------------------------------------------------------------------------------------------- # -- Load the MySql/Percona/MariaDB default user password configurations values # ---------------------------------------------------------------------------------------------------- getMySQLCNFParms # --------------------------------------------------------------------------------------------------------------------------------------- # -- Evaluate the user IDs and passwords to be used # -- The default ID/Passwords were gathered from configuration files and stored in: # -- MYSQL_mysqlUser, MYSQL_mysqlPassword, MYSQL_mysqldumpUser and MYSQL_mysqldumpPassword # -- Process overrides of MYSQL_mysqlUser, MYSQL_mysqlPassword, MYSQL_mysqldumpUser and MYSQL_mysqldumpPassword as: # -- 1 If the single ID/Password were passed in (MYSQL_userProvided=Y), use them in all situations # -- 2 If the mysql command ID/Password was passed in (MYSQL_mysqlUserProvided=Y), use it for the mysql command ID/Password # -- 3 If the mysqldump command ID/Password was passed in(MYSQL_mysqldumpUserProvided=Y), use it for the mysqldump command ID/Password # -- 4 If the single ID/Password was not passed in (MYSQL_userProvided=N) and values for # -- MYSQL_mysqlUser, MYSQL_mysqlPassword, MYSQL_mysqldumpUser and MYSQL_mysqldumpPassword are determined, set # -- MYSQL_user and MYSQL_password to ""Use MYSQL CNF"" to avoid parameter errors. # --------------------------------------------------------------------------------------------------------------------------------------- # -- 1 if [ ""${MYSQL_userProvided}"" == ""Y"" ]; then MYSQL_mysqlUser=${MYSQL_user} MYSQL_mysqlPassword=${MYSQL_password} MYSQL_mysqldumpUser=${MYSQL_user} MYSQL_mysqldumpPassword=${MYSQL_password} fi # -- 2 if [ ""${MYSQL_mysqlUserProvided}"" = ""N"" ]; then MYSQL_mysqlUser=${MYSQL_user} MYSQL_mysqlPassword=${MYSQL_password} fi # -- 3 if [ ""${MYSQL_mysqldumpUserProvided}"" = ""N"" ]; then MYSQL_mysqldumpUser=${MYSQL_user} MYSQL_mysqldumpPassword=${MYSQL_password} fi # -- 4 if [ ""${MYSQL_userProvided}"" == ""N"" ] && [ ""${MYSQL_mysqlUser}"" != ""InVaLiD1"" ] && [ ""${MYSQL_mysqlPassword}"" != ""InVaLiD1"" ] && [ ""${MYSQL_mysqldumpUser}"" != ""InVaLiD1"" ] && [ ""${MYSQL_mysqldumpPassword}"" != ""InVaLiD1"" ]; then MYSQL_user=""Use MYSQL CNF""; MYSQL_password=""Use MYSQL CNF""; fi # ---------------------------------------------------------------------------------------------------- # -- Test to ensure all necessary variables are populated # ---------------------------------------------------------------------------------------------------- if [ ""${MYSQL_instanceName}"" == ""InVaLiD1"" ] || [ ""${MYSQL_host}"" == ""InVaLiD1"" ] || [ ""${MYSQL_port}"" == ""InVaLiD1"" ] || [ ""${MYSQL_database}"" == ""InVaLiD1"" ] || [ ""${MYSQL_user}"" == ""InVaLiD1"" ] || [ ""${MYSQL_password}"" == ""InVaLiD1"" ] || [ ""${MYSQL_mysqlUser}"" == ""InVaLiD1"" ] || [ ""${MYSQL_mysqlPassword}"" == ""InVaLiD1"" ] || [ ""${MYSQL_mysqldumpUser}"" == ""InVaLiD1"" ] || [ ""${MYSQL_mysqldumpPassword}"" == ""InVaLiD1"" ] || [ ""${MYSQL_backupLocation}"" == ""InVaLiD1"" ] || [ ""${MYSQL_retentionDays}"" == ""InVaLiD1"" ]; then showParms fi # ---------------------------------------------------------------------------------------------------- # -- Setup the reusable connection information for the mysql and mysqldump commands # ---------------------------------------------------------------------------------------------------- if [ ""${MYSQL_mysqlUserParmEntryFound}"" == ""Y"" ] && [ ""${MYSQL_userProvided}"" == ""N"" ] && [ ""${MYSQL_mysqlUserProvided}"" == ""N"" ]; then MYSQL_sqlconnInfo=""--host=${MYSQL_host} --port=${MYSQL_port}"" else MYSQL_sqlconnInfo=""--host=${MYSQL_host} --port=${MYSQL_port} --user=${MYSQL_mysqlUser} --password=${MYSQL_mysqlPassword}"" fi if [ ""${MYSQL_mysqldumpUserParmEntryFound}"" == ""Y"" ] && [ ""${MYSQL_userProvided}"" == ""N"" ] && [ ""${MYSQL_mysqldumpUserProvided}"" == ""N"" ]; then MYSQL_dumpconnInfo=""--host=${MYSQL_host} --port=${MYSQL_port}"" else MYSQL_dumpconnInfo=""--host=${MYSQL_host} --port=${MYSQL_port} --user=${MYSQL_mysqldumpUser} --password=${MYSQL_mysqldumpPassword}"" fi # ---------------------------------------------------------------------------------------------------- # -- Test to see if the instance is reachable and able to be logged on to # ---------------------------------------------------------------------------------------------------- logMsg.info ""Testing connection to database (20 second connect-timeout)..."" mysql ${MYSQL_sqlconnInfo} --connect-timeout=20 --silent --skip-column-names -e ""SHOW DATABASES;"" >/dev/null 2>/dev/null if [ ""$?"" -ne ""0"" ]; then logMsgDate=`date +%F.%H:%M:%S.%N` echo ""${logMsgDate} [error] Cannot connect to database instance on host: ${MYSQL_host} port: ${MYSQL_port} user: ${MYSQL_mysqlUser}"" exit 9 fi MYSQL_backupPID=$$ MYSQL_permissionCountCheck=/tmp/MYSQLBackup_${MYSQL_backupPID}_permcnt.txt # ---------------------------------------------------------------------------------------------------- # -- Check to see if user has adequate permissions (DBA) # ---------------------------------------------------------------------------------------------------- echo ""select count(*) priv_cnt from information_schema.user_privileges where ucase(replace(grantee,'\'','')) = ucase(current_user()) \ and privilege_type in (${MYSQL_DBAPrivilegeList});"" | \ mysql ${MYSQL_sqlconnInfo} --silent --skip-column-names > ${MYSQL_permissionCountCheck} 2> /dev/null MYSQL_hasDBAPermissionsRC=$? if [ ""${MYSQL_hasDBAPermissionsRC}"" -ne ""0"" ]; then MYSQL_hasDBAPermissions=""N"" else MYSQL_DBAPrivilegeCount=`cat ${MYSQL_permissionCountCheck}` if [ ""${MYSQL_DBAPrivilegeCount}"" -eq ""28"" ]; then MYSQL_hasDBAPermissions=""Y"" fi fi rm ${MYSQL_permissionCountCheck} 2> /dev/null # ---------------------------------------------------------------------------------------------------- # -- Check to see if user has adequate permissions (BackupAdmin) # ---------------------------------------------------------------------------------------------------- echo ""select count(*) priv_cnt from information_schema.user_privileges where ucase(replace(grantee,'\'','')) = ucase(current_user()) \ and privilege_type in (${MYSQL_DUMPDBPrivilegeList});"" | \ mysql ${MYSQL_sqlconnInfo} --silent --skip-column-names > ${MYSQL_permissionCountCheck} 2> /dev/null MYSQL_hasDumpPermissionsRC=$? if [ ""${MYSQL_hasDumpPermissionsRC}"" -ne ""0"" ]; then MYSQL_hasDumpPermissions=""N"" else MYSQL_DumpPrivilegeCount=`cat ${MYSQL_permissionCountCheck}` if [ ""${MYSQL_DumpPrivilegeCount}"" -eq ""4"" ]; then MYSQL_hasDumpPermissions=""Y"" fi fi rm ${MYSQL_permissionCountCheck} 2> /dev/null # ---------------------------------------------------------------------------------------------------- # -- Setup the script environment to process with parameters passed in # -- The pipe file name ends with "".sql"" to facilitate the potential that the compression has to occur # -- after the mysqldump command completes when a fifo pipe cannot be created. # ---------------------------------------------------------------------------------------------------- MYSQL_backupTimestamp=`date +%F.%H-%M-%S` MYSQL_backupDir=${MYSQL_backupLocation}/${MYSQL_instanceName} # ---------------------------------------------------------------------------------------------------- # -- Determine the list of database(s) to process # ---------------------------------------------------------------------------------------------------- if [ ""${MYSQL_database}"" == ""ALL DATABASES"" ]; then MYSQL_databaseList=`mysql ${MYSQL_sqlconnInfo} --silent --skip-column-names -e ""SHOW DATABASES;"" 2>/dev/null | \ tr -d ""| "" | egrep -v '(Database|information_schema|performance_schema|mysql)' | sort -r` if [ ""${#MYSQL_databaseList[@]}"" -eq ""0"" ]; then MYSQL_database=""InVaLiD1"" showParms fi else MYSQL_databaseList=${MYSQL_database} fi # ---------------------------------------------------------------------------------------------------- # -- Loop throughthe databases passed in or found as ""ALL DATABASES"" default # ---------------------------------------------------------------------------------------------------- for MYSQL_database in $MYSQL_databaseList; do MYSQL_pipeFile=${MYSQL_backupDir}/${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}.sql MYSQL_tmpPipeFile=/tmp/${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}.sql MYSQL_backupFile=${MYSQL_pipeFile}.gz MYSQL_backupLog=${MYSQL_backupDir}/${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}.log MYSQL_restoreSteps=${MYSQL_backupDir}/${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}.restore.README MYSQL_buildDBUsersScript=${MYSQL_backupDir}/${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}_buildDBUsers.sql MYSQL_buildDBUsersScriptError=${MYSQL_backupDir}/${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}_buildDBUsers.error MYSQL_retentionLog=${MYSQL_backupDir}/${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}_retention.log # Envrionment variables to use during TARing the backup files MYSQL_tarFile=${MYSQL_backupDir}/${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}.tar MYSQL_tarBackupFile=${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}.sql.gz MYSQL_tarBackupLog=${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}.log MYSQL_tarRestoreSteps=${MYSQL_instanceName}_${MYSQL_database}_${MYSQL_backupTimestamp}.restore.README MYSQL_backupFileCheckRC=0 MYSQL_sqlCheckDirRC=0 MYSQL_backupRC=0 MYSQL_tarRC=0 MYSQL_retentionRC=0 MYSQL_mkfifoRC=0 MYSQL_buildUserDBScriptRC=0 MYSQL_hasDBAPermissionsRC=0 MYSQL_hasDumpPermissionsRC=0 # ---------------------------------------------------------------------------------------------------- # -- Check to ensure that the Backup file is writable # ---------------------------------------------------------------------------------------------------- mkdir -p ${MYSQL_backupDir} 2> /dev/null if [ ""$?"" -ne ""0"" ]; then logMsg.error ""Failure creating backup directory location: ${MYSQL_backupDir}"" exit 9 fi touch ${MYSQL_backupFile} 2> /dev/null if [ ""$?"" -ne ""0"" ]; then logMsg.error ""Failure testing the ability to create the backup file: ${MYSQL_backupFile}"" exit 9 fi rm ${MYSQL_backupFile} 2> /dev/null # ---------------------------------------------------------------------------------------------------- # -- Parameters validated, begin processing # ---------------------------------------------------------------------------------------------------- logSeparator logMsg.info ""Backup process started: ${MYSQL_instanceName} - ${MYSQL_database}"" logSeparator # ---------------------------------------------------------------------------------------------------- # -- Dump the backup variables in use # ---------------------------------------------------------------------------------------------------- logMsg.info ""Parameters in effect for this backup:"" logMsg.info "" Instance Name (info): ""${MYSQL_instanceName} logMsg.info "" Hostname: ""${MYSQL_host} logMsg.info "" Database: ""${MYSQL_database} logMsg.info "" Port: ""${MYSQL_port} sqlUserMsg="" SQL User: ""${MYSQL_mysqlUser} if [ ""${MYSQL_hasDBAPermissions}"" == ""Y"" ]; then sqlUserMsg+="" - User has DBA privileges"" else sqlUserMsg+="" - User does not have DBA privileges"" fi if [ ""${MYSQL_mysqlUserParmEntryFound}"" == ""Y"" ] && [ ""${MYSQL_userProvided}"" == ""N"" ] && [ ""${MYSQL_mysqlUserProvided}"" == ""N"" ]; then sqlUserMsg+="" - User identified through configuration file(s)"" else sqlUserMsg+="" - User identified through command line parameter"" fi logMsg.info ""${sqlUserMsg}"" sqldumpUserMsg="" mysqldump User: ""${MYSQL_mysqldumpUser} if [ ""${MYSQL_hasDumpPermissions}"" == ""Y"" ]; then sqldumpUserMsg+="" - User has BackupAdmin privileges"" else sqldumpUserMsg+="" - User does not have BackupAdmin privileges"" fi if [ ""${MYSQL_mysqldumpUserParmEntryFound}"" == ""Y"" ] && [ ""${MYSQL_userProvided}"" == ""N"" ] && [ ""${MYSQL_mysqldumpUserProvided}"" == ""N"" ]; then sqldumpUserMsg+="" - User identified through configuration file(s)"" else sqldumpUserMsg+="" - User identified through command line parameter"" fi logMsg.info ""${sqldumpUserMsg}"" logMsg.info "" Retention Period (days): ""${MYSQL_retentionDays} logMsg.info "" Backup Location: ""${MYSQL_backupLocation} logMsg.info "" Backup File: ""${MYSQL_backupFile} logMsg.info "" Backup Log: ""${MYSQL_backupLog} logMsg.info "" Backup Restore Steps: ""${MYSQL_restoreSteps} logMsg.info "" Backup TAR File: ""${MYSQL_tarFile} logMsg.info "" "" if [ ""${MYSQL_hasDBAPermissions}"" == ""N"" ]; then logMsg.warn ""A connection will be made with a user that does not have DBA Privileges that can generate permissions to restore."" fi if [ ""${MYSQL_hasDumpPermissions}"" == ""N"" ]; then logMsg.warn ""A connection will be made with a user that does not have BackupAdmin Privileges to reliably run the mysqldump command."" fi if [ ""${MYSQL_ignorePerms}"" == ""N"" ] && ( [ ""${MYSQL_hasDBAPermissions}"" == ""N"" ] || [ ""${MYSQL_hasDumpPermissions}"" == ""N"" ]); then logMsg.error "" "" logMsg.error ""This backup has been aborted due to permissions issues. To ignore this issue run the backup with '--ignoreperms=Y'."" tarOutput exit 9 fi # ---------------------------------------------------------------------------------------------------- # -- Perform the backup # ---------------------------------------------------------------------------------------------------- logMsg.info ""Beginning Backup of Instance: ${MYSQL_instanceName}"" # Create the pipe to pass the dump through to gzip mkfifo ${MYSQL_pipeFile} 2> /dev/null MYSQL_mkfifoRC=$? if [ ""${MYSQL_mkfifoRC}"" -ne ""0"" ]; then # mkfifo failed in the backup location. Attempt to create the pipe in the /tmp folder logMsg.warn "" A FIFO Pipe could not be created to compress the backup through in the 'Backup location'."" logMsg.warn "" Attempting to use /tmp as the location of the FIFO pipe."" mkfifo ${MYSQL_tmpPipeFile} 2> /dev/null MYSQL_mkfifoRC=$? if [ ""${MYSQL_mkfifoRC}"" -ne ""0"" ]; then logMsg.warn "" A FIFO Pipe could not be created to compress the backup through. The compression will occur after the backup is complete."" else logMsg.info "" FIFO Pipe created at ${MYSQL_tmpPipeFile}"" MYSQL_pipeFile=${MYSQL_tmpPipeFile} fi else logMsg.info "" FIFO Pipe created at ${MYSQL_pipeFile}"" fi if [ ""${MYSQL_mkfifoRC}"" -eq ""0"" ]; then gzip -c < ${MYSQL_pipeFile} > ${MYSQL_backupFile} & fi # The FIFO process allows for real time display of STDERR to the console and logging to the backup log file mysqldump ${MYSQL_dumpconnInfo} --lock-tables --all-tablespaces --verbose --events --routines --databases ${MYSQL_database} > ${MYSQL_pipeFile} \ 2> >(while read line; do \ logMsgDate=`date +%F.%H:%M:%S.%N`; \ if [ ""${line}"" != ""Warning: Using a password on the command line interface can be insecure."" ] && [ ""${line}"" != ""[Warning] Using a password on the command line interface can be insecure."" ] && [ ""${line}"" != ""mysqldump: [Warning] Using a password on the command line interface can be insecure."" ]; then echo ""${logMsgDate} [info] $line"" >>${MYSQL_backupLog}; \ echo ""${logMsgDate} [info] $line"" >&2; \ fi; done) MYSQL_backupRC=$? # Wait for all FIFO'd STDERR log tasks during the backup to complete wait if [ ""${MYSQL_mkfifoRC}"" -ne ""0"" ]; then logmsg.info ""Compressing backup file ${MYSQL_pipeFile}"" gzip ${MYSQL_pipeFile} else rm ${MYSQL_pipeFile} fi if [ ""${MYSQL_backupRC}"" -ne ""0"" ]; then # Remove the backup file since the backup failed and the file is not usable rm ${MYSQL_backupFile} 2>/dev/null logMsg.error "" The mysqldump backup has failed (${MYSQL_backupRC})"" else logMsg.info "" The mysqldump backup succeeded"" fi # ---------------------------------------------------------------------------------------------------- # -- Generate the user creates and permissions in the database # ---------------------------------------------------------------------------------------------------- if [ ""${MYSQL_backupRC}"" -eq ""0"" ]; then # Test to see if the mysql command user can access the proper table echo ""select concat('show grants for ',user,';') from mysql.db where ucase(db)=ucase('${MYSQL_database}');"" | \ mysql ${MYSQL_sqlconnInfo} --silent --skip-column-names > ${MYSQL_buildDBUsersScript} 2> ${MYSQL_buildDBUsersScriptError} MYSQL_buildUserDBScriptRC=$? if [ ""${MYSQL_buildUserDBScriptRC}"" -eq ""0"" ]; then echo ""select concat('show grants for ',user,';') from mysql.db where ucase(db)=ucase('${MYSQL_database}');"" | \ mysql ${MYSQL_sqlconnInfo} --silent --skip-column-names 2> /dev/null | \ mysql ${MYSQL_sqlconnInfo} --silent --skip-column-names > ${MYSQL_buildDBUsersScript} 2> ${MYSQL_buildDBUsersScriptError} MYSQL_buildUserDBScriptRC=$? fi if [ ""${MYSQL_buildUserDBScriptRC}"" -ne ""0"" ]; then logMsg.error "" The generation of user(s) and permission(s) failed:"" logFileContents 6 ${MYSQL_buildDBUsersScriptError} rm ${MYSQL_buildDBUsersScript} rm ${MYSQL_buildDBUsersScriptError} if [ ""${MYSQL_ignorePerms}"" == ""Y"" ]; then # It was either not possible for the user to generate permissions or the generation of permissions failed # and the backup was run to ignore permission issues. # Reset the build user script RC to 0 MYSQL_buildUserDBScriptRC=0 fi else logMsg.info "" The generation of user(s) and permission(s) succeeded:"" if [ -s ${MYSQL_buildDBUsersScript} ]; then # Display the contentsof the build user script file if it is a non-zero length file MYSQL_databaseHasPermissionsGranted=""Y"" sed -i 's/$/;/' ${MYSQL_buildDBUsersScript} logFileContents 6 ${MYSQL_buildDBUsersScript} else MYSQL_databaseHasPermissionsGranted=""N"" logMsg.warn "" No permissions were granted in the ${MYSQL_database} database."" fi fi fi logMsg.info ""Ended Backup of Instance: ${MYSQL_instanceName} Database: ${MYSQL_database}"" # ---------------------------------------------------------------------------------------------------- # -- Remove files that are past the retention period and generate restore instructions README file # -- The find command will find files where the file's data was last modified # -- ${MYSQL_retentionDays}*24 hours ago. # ---------------------------------------------------------------------------------------------------- if [ ""${MYSQL_backupRC}"" -eq ""0"" ] && [ ""${MYSQL_buildUserDBScriptRC}"" -eq ""0"" ]; then logMsg.info "" "" if [ ""${MYSQL_retentionDays}"" -eq ""0"" ]; then logMsg.info "" The retention period was specified as 0 which will retain all previous backups"" else # Find files, print a period for each file and count the number of periods logMsg.info ""Backup File retention processing"" MYSQL_retentionCount=`find ${MYSQL_backupDir} -mtime +${MYSQL_retentionDays} -printf '.' 2>/dev/null |wc -c` if [ ""${MYSQL_retentionCount}"" -ne ""0"" ]; then logMsg.info ""Removing ${MYSQL_retentionCount} files past the ${MYSQL_retentionDays} day retention period:"" rm ${MYSQL_retentionLog} 2>/dev/null find ${MYSQL_backupDir} -mtime +${MYSQL_retentionDays} -exec rm -f -v {} \; > ${MYSQL_retentionLog} 2>>${MYSQL_retentionLog} MYSQL_retentionRC=$? logFileContents 4 ${MYSQL_retentionLog} rm ${MYSQL_retentionLog} else logMsg.info "" There are no files that are older than the retention period of ${MYSQL_retentionDays} days"" MYSQL_retentionRC=0 fi fi echo ""------------------------------------------------------------------------------------------------"" >>${MYSQL_restoreSteps} echo ""-- This file is not intended to perform the recovery steps of the MySql/Percona/MariaDB database."" >>${MYSQL_restoreSteps} echo ""-- It is intended to provide a step by step guide to perform a manaul restore of the database."" >>${MYSQL_restoreSteps} echo ""------------------------------------------------------------------------------------------------"" >>${MYSQL_restoreSteps} echo "" "" >>${MYSQL_restoreSteps} echo ""It is assumed that the core MySql/Percona/MariaDB instance will be rebuilt or in such a state"" >>${MYSQL_restoreSteps} echo ""that the ${MYSQL_database} database that will be recovered has been dropped."" >>${MYSQL_restoreSteps} echo "" "" >>${MYSQL_restoreSteps} echo ""Connections to the MySql/Percona/MariaDB instance should be made with with mysql as root or"" >>${MYSQL_restoreSteps} echo ""another ID that has DBA and BackupAdmin Administrative roles granted to it."" >>${MYSQL_restoreSteps} echo "" "" >>${MYSQL_restoreSteps} echo ""If the existing database needs to be completely dropped, issue the command via mysql:"" >>${MYSQL_restoreSteps} echo "" drop database IF EXISTS ${MYSQL_database};"" >>${MYSQL_restoreSteps} echo ""Issuing this command will remove permissions in the database. Drop with extreme caution."" >>${MYSQL_restoreSteps} echo ""It is not necessary to drop the database since replaying the backup will rebuild the"" >>${MYSQL_restoreSteps} echo ""objects in the database as they are restored."" >>${MYSQL_restoreSteps} echo ""This can result in objects remaining in the database if they are not in the backup and "" >>${MYSQL_restoreSteps} echo ""the database was not initially dropped."" >>${MYSQL_restoreSteps} echo """" >>${MYSQL_restoreSteps} echo ""From a command prompt connect to the MySql/Percona/MariaDB instance with mysql and run the"" >>${MYSQL_restoreSteps} echo ""gunzipp'ed file: ${MYSQL_backupFile}"" >>${MYSQL_restoreSteps} echo ""For example:"" >>${MYSQL_restoreSteps} echo "" tar xvf ${MYSQL_tarFile}"" >>${MYSQL_restoreSteps} echo "" gunzip ${MYSQL_backupFile}"" >>${MYSQL_restoreSteps} echo "" mysql --host=${MYSQL_host} < ${MYSQL_pipeFile}"" >>${MYSQL_restoreSteps} echo """" >>${MYSQL_restoreSteps} if [ ""${MYSQL_buildUserDBScriptRC}"" -eq ""0"" ]; then echo ""Once the objects and data script completes, the users and permissions should be restored by"" >>${MYSQL_restoreSteps} echo ""issuing the following command(s) through the mysql utility:"" >>${MYSQL_restoreSteps} if [ ""${MYSQL_databaseHasPermissionsGranted}"" == ""Y"" ]; then awk '{print "" ""$0}' ${MYSQL_buildDBUsersScript} >>${MYSQL_restoreSteps} else echo "" No permissions were granted in the ${MYSQL_database} database."" >>${MYSQL_restoreSteps} if [ ""${MYSQL_hasDBAPermissions}"" == ""N"" ]; then echo "" The user used for the backup did not have DBA permissions. It is possible"" >>${MYSQL_restoreSteps} echo "" that the permissions could not be generated."" >>${MYSQL_restoreSteps} fi fi else echo ""There was an issue generating the build of users and permissions. Permissions will need to be"" >>${MYSQL_restoreSteps} echo ""manually recreated or the backup taken with an ID that can read the mysql.db table and execute"" >>${MYSQL_restoreSteps} echo ""a 'show grants for (user);' in the ${MYSQL_database} database."" >>${MYSQL_restoreSteps} fi echo """" >>${MYSQL_restoreSteps} echo ""It may be necessary to reset the definer of objects like VIEWs and PROCEDUREs once restored."" >>${MYSQL_restoreSteps} echo ""This will happen when the database is dumped by one user and restored by another."" >>${MYSQL_restoreSteps} echo ""Please pay attention to any restore command that may warn of this situation."" >>${MYSQL_restoreSteps} echo ""It may be necessary to backup with a different ID and reset the definer when restoring."" >>${MYSQL_restoreSteps} echo ""Use this command to generate the update of definer for views: "" >>${MYSQL_restoreSteps} echo "" SELECT CONCAT(\""ALTER DEFINER=\`user\`@\`host\` VIEW \"", "" >>${MYSQL_restoreSteps} echo "" table_name, \"" AS \"", view_definition, \"";\"") "" >>${MYSQL_restoreSteps} echo "" FROM information_schema.views "" >>${MYSQL_restoreSteps} echo "" WHERE table_schema='database';"" >>${MYSQL_restoreSteps} echo ""A sample command to update the definer for a procedure is:"" >>${MYSQL_restoreSteps} echo "" UPDATE mysql.proc p SET definer = 'user@host' WHERE definer='root@foobar';"" >>${MYSQL_restoreSteps} echo """" >>${MYSQL_restoreSteps} echo ""After the database is restored, it is recommended to analyze all tables and potentially"" >>${MYSQL_restoreSteps} echo ""run the mysqlcheck command on the restored database."" >>${MYSQL_restoreSteps} echo """" >>${MYSQL_restoreSteps} rm ${MYSQL_buildDBUsersScript} 2> /dev/null rm ${MYSQL_buildDBUsersScriptError} 2> /dev/null logMsg.info "" "" logMsg.info ""See ${MYSQL_restoreSteps} for recovery steps for this backup:"" logSeparator ""N"" # set the Internal Field Separator to only the new line so leading spaces or multiple spaces are not compressed out IFS=$'\n' while read line; do logMsgDate=`date +%F.%H:%M:%S.%N` echo ""${logMsgDate} [info] ${line}"" done < ${MYSQL_restoreSteps} unset IFS logSeparator ""N"" fi # End of MySql/Percona/MariaDB Backup RC check MYSQL_rc=`expr ${MYSQL_backupRC} + ${MYSQL_buildUserDBScriptRC} + ${MYSQL_tarRC} + ${MYSQL_retentionRC}` if [ ""${MYSQL_rc}"" -ne ""0"" ]; then MYSQL_backuprc=1 fi logMsg.info "" "" logMsg.info ""Backup Process completed: ${MYSQL_rc}"" logMsg.info "" Backup return code: ${MYSQL_backupRC}"" logMsg.info "" Permission generation return code: ${MYSQL_buildUserDBScriptRC}"" logMsg.info "" TAR File generation return code: ${MYSQL_tarRC}"" logMsg.info "" Retention processing return code for ${MYSQL_retentionCount} files: ${MYSQL_retentionRC}"" logSeparator logSeparator logMsg.info ""Backup process ended: ${MYSQL_instanceName} - ${MYSQL_database}"" logSeparator tarOutput done exit ${MYSQL_backuprc} ",,974,0
openstack%2Fopenstack-helm-infra~master~I44c7cb79556aedec6a002159af519035aa6cebcd,openstack/openstack-helm-infra,master,I44c7cb79556aedec6a002159af519035aa6cebcd,Commented out the lines that installed node_exporter. It's not necesary here!,ABANDONED,2019-04-18 14:59:57.000000000,2020-07-15 20:14:33.000000000,,"[{'_account_id': 8898}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30166}]","[{'number': 1, 'created': '2019-04-18 14:59:57.000000000', 'files': ['prometheus-node-exporter/megaraid-files/install-megaraid'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6264db33651ccc0c5969eaeda5d79b907fe60053', 'message': ""Commented out the lines that installed node_exporter. It's not necesary here!\n\nChange-Id: I44c7cb79556aedec6a002159af519035aa6cebcd\n""}]",2,653775,6264db33651ccc0c5969eaeda5d79b907fe60053,5,5,1,30120,,,0,"Commented out the lines that installed node_exporter. It's not necesary here!

Change-Id: I44c7cb79556aedec6a002159af519035aa6cebcd
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/653775/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-node-exporter/megaraid-files/install-megaraid'],1,6264db33651ccc0c5969eaeda5d79b907fe60053,,"# echo ""Start downloading and installing node_exporter..."" # wget https://github.com/prometheus/node_exporter/releases/download/v0.15.2/node_exporter-0.15.2.linux-amd64.tar.gz # tar xvf node_exporter-0.15.2.linux-amd64.tar.gz # sudo mv node_exporter-0.15.2.linux-amd64 /opt/node_exporter","echo ""Start downloading and installing node_exporter..."" wget https://github.com/prometheus/node_exporter/releases/download/v0.15.2/node_exporter-0.15.2.linux-amd64.tar.gz tar xvf node_exporter-0.15.2.linux-amd64.tar.gz sudo mv node_exporter-0.15.2.linux-amd64 /opt/node_exporter",4,4
openstack%2Fopenstack-helm-infra~master~I16ba77569e52995e7fd47e5af2618e7e0c5e2fbb,openstack/openstack-helm-infra,master,I16ba77569e52995e7fd47e5af2618e7e0c5e2fbb,This is the first change to explore the system,ABANDONED,2019-04-16 20:25:12.000000000,2020-07-15 20:14:29.000000000,,"[{'_account_id': 10068}, {'_account_id': 18295}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-16 20:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c772d52dbef7751b5f5b18be5b049298f0f22313', 'message': 'This is the first change to explore the system\n\nChange-Id: I16ba77569e52995e7fd47e5af2618e7e0c5e2fbb\n'}, {'number': 2, 'created': '2019-04-16 20:31:33.000000000', 'files': ['prometheus-openstack-exporter/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b9bdbf24ee2b460a9668d09edfb0e9780d3a1f32', 'message': 'This is the first change to explore the system\n\nChange-Id: I16ba77569e52995e7fd47e5af2618e7e0c5e2fbb\n'}]",0,653143,b9bdbf24ee2b460a9668d09edfb0e9780d3a1f32,5,3,2,30120,,,0,"This is the first change to explore the system

Change-Id: I16ba77569e52995e7fd47e5af2618e7e0c5e2fbb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/653143/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-openstack-exporter/Chart.yaml'],1,c772d52dbef7751b5f5b18be5b049298f0f22313,, - name: OpenStack-Helm Authors --- Colbert Philippe ---, - name: OpenStack-Helm Authors,1,1
openstack%2Fopenstack-helm-infra~master~I49105a41bb2b3ea1a21da88606015a70e2a3ba05,openstack/openstack-helm-infra,master,I49105a41bb2b3ea1a21da88606015a70e2a3ba05,WIP: Add chaoskube experimental check to osh-infra,ABANDONED,2019-01-11 15:56:22.000000000,2020-07-15 20:14:25.000000000,,"[{'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-11 15:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a9e6b38050720bb8b8633c2232b15c3a0fdebb4c', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 2, 'created': '2019-01-11 16:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e62aa83fca11a1b8923fa7a570c9f6269f2b35c', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 3, 'created': '2019-01-11 17:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6a3593df589a2c92854c631cbd0cf1dd075a221', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 4, 'created': '2019-01-11 18:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/766e6ebc8743a319db4c4e7de024c9c10757aa57', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 5, 'created': '2019-01-11 20:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57b24b10ec9c15c456f47db66da6e1fdcd4890fe', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 6, 'created': '2019-01-11 22:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7f31fe28779987fed8c74ecf2cc62569fa17edc0', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 7, 'created': '2019-01-17 20:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5fceea72a3bdb75666893b6a845b6bc5ebb65909', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 8, 'created': '2019-01-17 20:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0cf7fb4c7e6da70ceb1ee97fd88aaded8691aa64', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 9, 'created': '2019-01-17 20:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/307ec08e0f33111093adfdd648f3e54fa0807f8c', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 10, 'created': '2019-01-17 21:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c093dbc53a6452f807fc47746bc4b08c4d8efc8', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 11, 'created': '2019-01-17 21:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1abae3b3b6889b5b7c0acde3641eaa05780d95a', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 12, 'created': '2019-01-17 23:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f0b4c4c9611334f3bb71fc28a18108985aa7594d', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 13, 'created': '2019-01-21 20:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef4552a5ece903667d7531f60cfe9b43ae128b2a', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 14, 'created': '2019-01-21 20:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61abddac3bd19913e2b5a49cdc1a0614a32b362c', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 15, 'created': '2019-01-21 20:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/018ce8ad23f1b6995ae06b1492450c7df0fa80d0', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 16, 'created': '2019-01-21 20:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ccd9aea4cad4930720805ae77a4b9ad406c864da', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 17, 'created': '2019-01-21 21:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/00e804a31c9fef728626fb68679a29d6b6847cde', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 18, 'created': '2019-01-21 21:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5a2f792a3d64aee0c3d50ea75fd2711468edf3a', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 19, 'created': '2019-01-22 17:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4f61a8ba3f3fb148f543c991572e66e1af572798', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 20, 'created': '2019-01-22 18:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b963e8048ded2b0b74bb87ebf155e1877d79618c', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 21, 'created': '2019-01-22 19:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/99c7215a1f50b4fe7726b471fbffa059802820c9', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 22, 'created': '2019-01-23 23:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f8fa747357d22da98fab4c503c568f5f8c9c87a', 'message': 'DNM/WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 23, 'created': '2019-02-12 16:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3fef6574df43751025614bf5e76a7055d7100d5e', 'message': 'WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 24, 'created': '2019-02-12 16:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9c98a54dec44535b72c50ae528d3a4b98bb7aae', 'message': 'WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 25, 'created': '2019-02-12 16:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/756e23a8366e30b10a4cd2eda99a19c5b13db05a', 'message': 'WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 26, 'created': '2019-02-12 16:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8b7d785fca96d3b643f2d0d9cb4e383330edcffc', 'message': 'WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 27, 'created': '2019-02-12 17:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/99aff98f2c29d3c5438f15a947e8026568ecc608', 'message': 'WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}, {'number': 28, 'created': '2019-04-11 19:54:13.000000000', 'files': ['tools/deployment/common/check-prom-alerts.sh', 'nagios/values.yaml', 'tools/deployment/common/chaoskube.sh', 'zuul.d/project.yaml', 'roles/build-helm-packages/tasks/setup-helm-serve.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0454f31d13599064c67ec1d0dd39df560f25a93f', 'message': 'WIP: Add chaoskube experimental check to osh-infra\n\nChange-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05\n'}]",8,630299,0454f31d13599064c67ec1d0dd39df560f25a93f,106,3,28,17591,,,0,"WIP: Add chaoskube experimental check to osh-infra

Change-Id: I49105a41bb2b3ea1a21da88606015a70e2a3ba05
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/630299/13 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/chaoskube.sh', 'zuul.d/project.yaml', 'roles/build-helm-packages/tasks/setup-helm-serve.yaml', 'zuul.d/jobs.yaml']",4,a9e6b38050720bb8b8633c2232b15c3a0fdebb4c,experimental/chaoskube, name: openstack-helm-infra-chaoskube parent: openstack-helm-infra-functional nodeset: openstack-helm-five-node-ubuntu timeout: 14400 pre-run: - playbooks/osh-infra-upgrade-host.yaml - playbooks/osh-infra-deploy-docker.yaml - playbooks/osh-infra-deploy-selenium.yaml - playbooks/osh-infra-build.yaml - playbooks/osh-infra-deploy-k8s.yaml run: playbooks/osh-infra-gate-runner.yaml post-run: playbooks/osh-infra-collect-logs.yaml vars: gate_scripts: - ./tools/deployment/multinode/010-deploy-docker-registry.sh - ./tools/deployment/multinode/020-ingress.sh - ./tools/deployment/multinode/030-ceph.sh - ./tools/deployment/multinode/035-ceph-ns-activate.sh - ./tools/deployment/multinode/040-ldap.sh - ./tools/deployment/multinode/045-mariadb.sh - ./tools/deployment/multinode/050-prometheus.sh - ./tools/deployment/multinode/060-alertmanager.sh - ./tools/deployment/multinode/070-kube-state-metrics.sh - ./tools/deployment/multinode/080-node-exporter.sh - ./tools/deployment/multinode/085-process-exporter.sh - ./tools/deployment/multinode/090-openstack-exporter.sh - ./tools/deployment/multinode/100-grafana.sh - ./tools/deployment/multinode/110-nagios.sh - ./tools/deployment/multinode/115-radosgw-osh-infra.sh - ./tools/deployment/multinode/120-elasticsearch.sh - ./tools/deployment/multinode/130-fluent-logging.sh - ./tools/deployment/multinode/140-kibana.sh - ./tools/deployment/common/chaoskube.sh - ./tools/deployment/multinode/grafana-selenium.sh - ./tools/deployment/multinode/nagios-selenium.sh - ./tools/deployment/multinode/prometheus-selenium.sh - job:,,97,24
openstack%2Fpuppet-neutron~master~I24a43d5dbfc98c3b663b6014658680ccf1b24e13,openstack/puppet-neutron,master,I24a43d5dbfc98c3b663b6014658680ccf1b24e13,Cleanup deprecated domain_id parameters,MERGED,2020-07-13 05:00:26.000000000,2020-07-15 20:12:42.000000000,2020-07-15 20:10:29.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 05:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fb558120a8c53117d012ba02e1c3379bed58db81', 'message': 'Cleanup deprecated domain_id parameters\n\nChange-Id: I24a43d5dbfc98c3b663b6014658680ccf1b24e13\n'}, {'number': 2, 'created': '2020-07-13 05:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7b8aa9e2e38b415ff3aecbf8798d1f26a9f8f310', 'message': 'Cleanup deprecated domain_id parameters\n\nChange-Id: I24a43d5dbfc98c3b663b6014658680ccf1b24e13\n'}, {'number': 3, 'created': '2020-07-13 09:09:37.000000000', 'files': ['manifests/designate.pp', 'spec/classes/neutron_server_notifications_spec.rb', 'manifests/server/notifications.pp', 'spec/classes/neutron_designate_spec.rb', 'releasenotes/notes/cleanup-deperecated-id-parameters-8ae1adebf972b291.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e3b416de50d826b83d51ec19ca16d5cd0461ba81', 'message': 'Cleanup deprecated domain_id parameters\n\nChange-Id: I24a43d5dbfc98c3b663b6014658680ccf1b24e13\n'}]",0,740611,e3b416de50d826b83d51ec19ca16d5cd0461ba81,17,4,3,9816,,,0,"Cleanup deprecated domain_id parameters

Change-Id: I24a43d5dbfc98c3b663b6014658680ccf1b24e13
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/11/740611/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_notifications_spec.rb', 'manifests/server/notifications.pp', 'releasenotes/notes/cleanup-deperecated-id-parameters-8ae1adebf972b291.yaml']",3,fb558120a8c53117d012ba02e1c3379bed58db81,cleanup-deprecated,--- upgrade: - | The following deprecated parameters has been removed - ``neutron::server::notifications::project_domain_id`` - ``neutron::server::notifications::user_domain_id`` - ``neutron::server::notifications::tenant_id`` - ``neutron::server::notifications::tenant_name`` - ``neutron::designate::project_domain_id`` - ``neutron::designate::user_domain_id`` ,,11,56
openstack%2Fdevstack-plugin-ceph~master~I4a0dfbe4925554adbb40fe3d24e44098589f1a09,openstack/devstack-plugin-ceph,master,I4a0dfbe4925554adbb40fe3d24e44098589f1a09,Add mgr caps to manila user,MERGED,2020-07-15 12:15:58.000000000,2020-07-15 20:11:55.000000000,2020-07-15 20:09:58.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 12:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/f6f40ec7d3f10324897041c88fa41f03677e9c20', 'message': 'Add mgr caps to manila and cinder users\n\nAdded mgr ""allow *"" for manila and cinder users\n\nChange-Id: I4a0dfbe4925554adbb40fe3d24e44098589f1a09\n'}, {'number': 2, 'created': '2020-07-15 14:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/b5afac66c989882f02a5dd87d3d019dbd7310655', 'message': 'Add mgr caps to manila and cinder users\n\nAdded mgr ""allow *"" for manila and cinder users\n\nChange-Id: I4a0dfbe4925554adbb40fe3d24e44098589f1a09\n'}, {'number': 3, 'created': '2020-07-15 17:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/4e372312ee70188f3126a74adf96eb087c667817', 'message': 'Add mgr caps to manila and cinder users\n\nAdded mgr ""allow *"" for manila and cinder users\n\nChange-Id: I4a0dfbe4925554adbb40fe3d24e44098589f1a09\n'}, {'number': 4, 'created': '2020-07-15 18:07:28.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/4ca64cd71889f793e351640f4e0fa4622815549b', 'message': 'Add mgr caps to manila user\n\nAdded mgr ""allow *"" for manila user\n\nChange-Id: I4a0dfbe4925554adbb40fe3d24e44098589f1a09\n'}]",8,741164,4ca64cd71889f793e351640f4e0fa4622815549b,17,4,4,6413,,,0,"Add mgr caps to manila user

Added mgr ""allow *"" for manila user

Change-Id: I4a0dfbe4925554adbb40fe3d24e44098589f1a09
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/64/741164/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,f6f40ec7d3f10324897041c88fa41f03677e9c20,bug/1887662," mon 'allow profile mgr' mds 'allow *' osd 'allow *' mgr 'allow *' \ mon ""allow *"" osd ""allow rw"" mds ""allow *"" mgr ""allow *"" \ allow rwx pool=${GLANCE_CEPH_POOL}"" \ mgr ""allow *"" | \ allow rwx pool=${GLANCE_CEPH_POOL}"" \ mgr ""allow *"" | \"," mon 'allow profile mgr' mds 'allow *' osd 'allow *' \ mon ""allow *"" osd ""allow rw"" mds ""allow *"" \ allow rwx pool=${GLANCE_CEPH_POOL}"" | \ allow rwx pool=${GLANCE_CEPH_POOL}"" | \",6,4
openstack%2Fopenstack-helm-infra~master~I0e3f1ae776ef76c039ec99da0b666c0c1e498566,openstack/openstack-helm-infra,master,I0e3f1ae776ef76c039ec99da0b666c0c1e498566,Create Helm test for nagios chart,ABANDONED,2019-03-12 14:41:10.000000000,2020-07-15 20:09:50.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 16353}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29921}]","[{'number': 1, 'created': '2019-03-12 14:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1f3d0c16f68b41936952371d14d18a01701a3338', 'message': '    Create Helm test for nagios chart\n\n    This introduces a new test pod for testing nagios helm chart\n\nChange-Id: I0e3f1ae776ef76c039ec99da0b666c0c1e498566\nSigned-off-by: Nikos Mimigiannis <nmimi@intracom-telecom.com>\n'}, {'number': 2, 'created': '2019-03-13 08:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea21115164883b49611d532d2a263a3357a42512', 'message': '    Create Helm test for nagios chart\n\n    This introduces a new test pod for testing nagios helm chart\n\nChange-Id: I0e3f1ae776ef76c039ec99da0b666c0c1e498566\nSigned-off-by: Nikos Mimigiannis <nmimi@intracom-telecom.com>\n'}, {'number': 3, 'created': '2019-03-13 13:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d071318ddeda1ae538262b9b90e52e2ee7a5464e', 'message': 'Create Helm test for nagios chart\n\nTask: 21706\nStory: 2002201\n\nThis introduces a new test pod for testing nagios helm chart\n\nChange-Id: I0e3f1ae776ef76c039ec99da0b666c0c1e498566\nSigned-off-by: Nikos Mimigiannis <nmimi@intracom-telecom.com>\n'}, {'number': 4, 'created': '2019-03-14 12:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/809eb24778af71e62338a0e84499e0201a2c40e3', 'message': 'Create Helm test for nagios chart\n\nTask: 21706\nStory: 2002201\n\nThis introduces a new test pod for testing nagios helm chart\n\nChange-Id: I0e3f1ae776ef76c039ec99da0b666c0c1e498566\nSigned-off-by: Nikos Mimigiannis <nmimi@intracom-telecom.com>\n'}, {'number': 5, 'created': '2019-03-14 13:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb35b180a2bafc27bdd2eb979960742647d371a4', 'message': 'Create Helm test for nagios chart\n\nTask: 21706\nStory: 2002201\n\nThis introduces a new test pod for testing nagios helm chart\n\nChange-Id: I0e3f1ae776ef76c039ec99da0b666c0c1e498566\nSigned-off-by: Nikos Mimigiannis <nmimi@intracom-telecom.com>\n'}, {'number': 6, 'created': '2019-03-19 10:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/daacdfc7cb4f22d88ea2525de90ff5891d24ff31', 'message': 'Create Helm test for nagios chart\n\nTask: 21706\nStory: 2002201\n\nThis introduces a new test pod for testing nagios helm chart\n\nChange-Id: I0e3f1ae776ef76c039ec99da0b666c0c1e498566\nSigned-off-by: Nikos Mimigiannis <nmimi@intracom-telecom.com>\n'}, {'number': 7, 'created': '2019-03-19 10:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2bfea21897627dd72c7c33a03bb6bf46bc21d8ad', 'message': 'Create Helm test for nagios chart\n\nTask: 21706\nStory: 2002201\n\nThis introduces a new test pod for testing nagios helm chart\n\nChange-Id: I0e3f1ae776ef76c039ec99da0b666c0c1e498566\nSigned-off-by: Nikos Mimigiannis <nmimi@intracom-telecom.com>\n'}, {'number': 8, 'created': '2019-04-02 05:59:00.000000000', 'files': ['nagios/values.yaml', 'nagios/templates/test/_nagios_test.sh.tpl', 'nagios/templates/pod_test_nagios.yaml', 'nagios/templates/test/_python_nagios_tests.py.tpl', 'nagios/templates/configmap-bin.yaml', 'tools/deployment/multinode/110-nagios.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03bd9a9f28a4d4caa9ec551c8de7c6a1d80c1237', 'message': 'Create Helm test for nagios chart\n\nTask: 21706\nStory: 2002201\n\nThis introduces a new test pod for testing nagios helm chart\n\nChange-Id: I0e3f1ae776ef76c039ec99da0b666c0c1e498566\nSigned-off-by: Nikos Mimigiannis <nmimi@intracom-telecom.com>\n'}]",44,642769,03bd9a9f28a4d4caa9ec551c8de7c6a1d80c1237,29,9,8,29921,,,0,"Create Helm test for nagios chart

Task: 21706
Story: 2002201

This introduces a new test pod for testing nagios helm chart

Change-Id: I0e3f1ae776ef76c039ec99da0b666c0c1e498566
Signed-off-by: Nikos Mimigiannis <nmimi@intracom-telecom.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/69/642769/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/test/_nagios_test.sh.tpl', 'nagios/values.yaml', 'nagios/templates/pod_test_nagios.yaml', 'nagios/templates/test/_python_nagios_tests.py.tpl', 'nagios/templates/configmap-bin.yaml', 'tools/deployment/multinode/110-nagios.sh']",6,1f3d0c16f68b41936952371d14d18a01701a3338,,#NOTE: Start Helm test helm test nagios,,186,0
openstack%2Fopenstack-helm-infra~master~I9cb4774c57bf2d6dfc4a17efd37c32fcb12d7a75,openstack/openstack-helm-infra,master,I9cb4774c57bf2d6dfc4a17efd37c32fcb12d7a75,[RFC/DNM] [Calico] Show objects as they are applied,ABANDONED,2018-12-19 17:51:22.000000000,2020-07-15 20:09:46.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29254}]","[{'number': 1, 'created': '2018-12-19 17:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/89aa62aefb24c0db2488bdea8aef36b7504a855f', 'message': '[Calico] Show objects before they are applied in calico-settings (job)\n\nThis shows (kubectl -n kube-system logs calico-settings-abcdef) the\ncalico resource objects before they are applied in the settings job.\nThe intent here is to allow easier debugging should something not be\nworking as expected.\n\nChange-Id: I9cb4774c57bf2d6dfc4a17efd37c32fcb12d7a75\n'}, {'number': 2, 'created': '2018-12-21 17:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a55374307d77f32d228adadab7b8c66b211490e', 'message': '[Calico] Show objects before they are applied in calico-settings (job)\n\nThis shows (kubectl -n kube-system logs calico-settings-abcdef) the\ncalico resource objects before they are applied in the settings job.\nThe intent here is to allow easier debugging should something not be\nworking as expected.\n\nChange-Id: I9cb4774c57bf2d6dfc4a17efd37c32fcb12d7a75\n'}, {'number': 3, 'created': '2019-01-03 17:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2a79f4dea3af4079fe719dee930a332a9e5ce74', 'message': '[DNM] [Calico] Show objects as they are applied\n\nThis shows (kubectl -n kube-system logs calico-settings-abcdef) the\ncalico resource objects before they are applied in the settings job.\nThe intent here is to allow easier debugging should something not be\nworking as expected.\n\nChange-Id: I9cb4774c57bf2d6dfc4a17efd37c32fcb12d7a75\n'}, {'number': 4, 'created': '2019-01-31 18:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a9d88c5c84cc9d0da26e3dc3b9e8da63655dcfbe', 'message': '[RFC/DNM] [Calico] Show objects as they are applied\n\nThis shows (kubectl -n kube-system logs calico-settings-abcdef) the\ncalico resource objects before they are applied in the settings job.\nThe intent here is to allow easier debugging should something not be\nworking as expected.\n\nChange-Id: I9cb4774c57bf2d6dfc4a17efd37c32fcb12d7a75\n'}, {'number': 5, 'created': '2019-04-09 22:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e96f18d604550afc2778fbfc5e5989e52ca70627', 'message': '[RFC/DNM] [Calico] Show objects as they are applied\n\nThis shows (kubectl -n kube-system logs calico-settings-abcdef) the\ncalico resource objects before they are applied in the settings job.\nThe intent here is to allow easier debugging should something not be\nworking as expected.\n\nChange-Id: I9cb4774c57bf2d6dfc4a17efd37c32fcb12d7a75\n'}, {'number': 6, 'created': '2019-04-09 22:13:29.000000000', 'files': ['calico/templates/bin/_calico-settings.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae27bfd1e906f703f7d0b7390b50b4446fb91ef6', 'message': '[RFC/DNM] [Calico] Show objects as they are applied\n\nThis shows (kubectl -n kube-system logs calico-settings-abcdef) the\ncalico resource objects before they are applied in the settings job.\nThe intent here is to allow easier debugging should something not be\nworking as expected.\n\nChange-Id: I9cb4774c57bf2d6dfc4a17efd37c32fcb12d7a75\n'}]",0,626371,ae27bfd1e906f703f7d0b7390b50b4446fb91ef6,17,6,6,8898,,,0,"[RFC/DNM] [Calico] Show objects as they are applied

This shows (kubectl -n kube-system logs calico-settings-abcdef) the
calico resource objects before they are applied in the settings job.
The intent here is to allow easier debugging should something not be
working as expected.

Change-Id: I9cb4774c57bf2d6dfc4a17efd37c32fcb12d7a75
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/71/626371/2 && git format-patch -1 --stdout FETCH_HEAD,['calico/templates/bin/_calico-settings.sh.tpl'],1,89aa62aefb24c0db2488bdea8aef36b7504a855f,calishow,"# An idempotent script for interacting with calicoctl to instantiate # peers, and manipulate calico settings that we must perform # post-deployment. # *show* what we're doing, apply it... show the result(s) function ctlapply() { echo rm -f /tmp/apply.data cat > /tmp/apply.data cat /tmp/apply.data /calicoctl apply -f /tmp/apply.data rm -f /tmp/apply.data } ctlapply <<EOFctlapply <<EOFctlapply <<EOFctlapply <<EOFctlapply <<EOFctlapply <<EOF","# An idempotent script for interacting with calicoctl to instantiate # peers, and manipulate calico settings that we must perform # post-deployment. CTL=/calicoctl$CTL apply -f - <<EOF$CTL apply -f - <<EOF$CTL apply -f - <<EOF$CTL apply -f - <<EOF$CTL apply -f - <<EOF$CTL apply -f - <<EOF",19,10
openstack%2Fopenstack-helm-infra~master~I3ff963ac9fbad03dc4db553980e4836a33cd4aa3,openstack/openstack-helm-infra,master,I3ff963ac9fbad03dc4db553980e4836a33cd4aa3,[WIP]Change gate job to see if running just libvirt in the AppArmor gate passes,ABANDONED,2019-04-08 16:54:34.000000000,2020-07-15 20:09:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-08 16:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0b1eaae38aff726fbcfc36ada34fd99bc2c7b30', 'message': '[WIP]Change gate job to see if running just libvirt in the AppArmor gate passes\n\nChange-Id: I3ff963ac9fbad03dc4db553980e4836a33cd4aa3\n'}, {'number': 2, 'created': '2019-04-08 16:55:43.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c401dccf63f62df94fecab9a9fadd04499cd009', 'message': '[WIP]Change gate job to see if running just libvirt in the AppArmor gate passes\n\nChange-Id: I3ff963ac9fbad03dc4db553980e4836a33cd4aa3\n'}]",0,650961,0c401dccf63f62df94fecab9a9fadd04499cd009,4,1,2,28025,,,0,"[WIP]Change gate job to see if running just libvirt in the AppArmor gate passes

Change-Id: I3ff963ac9fbad03dc4db553980e4836a33cd4aa3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/650961/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,c0b1eaae38aff726fbcfc36ada34fd99bc2c7b30,,,,0,0
openstack%2Fopenstack-helm~master~I335d86a430dc5aabb40c7ad0f567c80939622aa3,openstack/openstack-helm,master,I335d86a430dc5aabb40c7ad0f567c80939622aa3,DNM: testing bionic,ABANDONED,2019-04-03 19:00:50.000000000,2020-07-15 20:09:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-03 19:00:50.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e83930829e0e90eb70dc18ab4ed15ba6b9418989', 'message': 'DNM: testing bionic\n\nDepends-On: https://review.openstack.org/#/c/649698/\nChange-Id: I335d86a430dc5aabb40c7ad0f567c80939622aa3\n'}]",0,649699,e83930829e0e90eb70dc18ab4ed15ba6b9418989,3,1,1,8556,,,0,"DNM: testing bionic

Depends-On: https://review.openstack.org/#/c/649698/
Change-Id: I335d86a430dc5aabb40c7ad0f567c80939622aa3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/99/649699/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e83930829e0e90eb70dc18ab4ed15ba6b9418989,,#test bionic,,1,0
openstack%2Fopenstack-helm-infra~master~I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a,openstack/openstack-helm-infra,master,I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a,[CEPH] Switch to using ceph-volume for ceph-osd chart,ABANDONED,2019-01-30 15:45:29.000000000,2020-07-15 20:09:34.000000000,,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28372}, {'_account_id': 29106}, {'_account_id': 29132}, {'_account_id': 29268}, {'_account_id': 29937}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-01-30 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf5bb3cc3518e2a812b5d31dfc7edc3de6d6200f', 'message': '[WIP] [CEPH] Switch to using ceph-volume\n\nWith the Mimic release, ceph-disk is deprecated. Switch to using\nceph-volume in lieu of this. Going forward new or replaced OSDs\nwill be created as logical volumes. Volumes created by ceph-disk\nare still supported.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 2, 'created': '2019-01-30 18:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d8ddd1f2681e63c792fe1b7e23a21eaefd4e7b82', 'message': '[WIP] [CEPH] Switch to using ceph-volume\n\nWith the Mimic release, ceph-disk is deprecated. Switch to using\nceph-volume in lieu of this. Going forward new or replaced OSDs\nwill be created as logical volumes. Volumes created by ceph-disk\nare still supported.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 3, 'created': '2019-01-30 18:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/48cb8351bcbd30641ae87b88e928eae4fffde41a', 'message': '[WIP] [CEPH] Switch to using ceph-volume\n\nWith the Mimic release, ceph-disk is deprecated. Switch to using\nceph-volume in lieu of this. Going forward new or replaced OSDs\nwill be created as logical volumes. Volumes created by ceph-disk\nare still supported.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 4, 'created': '2019-01-30 18:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e470152296eda766898012e3882fab1f34c44378', 'message': '[WIP] [CEPH] Switch to using ceph-volume\n\nWith the Mimic release, ceph-disk is deprecated. Switch to using\nceph-volume in lieu of this. Going forward new or replaced OSDs\nwill be created as logical volumes. Volumes created by ceph-disk\nare still supported.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 5, 'created': '2019-01-31 01:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cab632b6e84b1860da6c7d4bb9abe867870886af', 'message': '[WIP] [CEPH] Switch to using ceph-volume\n\nWith the Mimic release, ceph-disk is deprecated. Switch to using\nceph-volume in lieu of this. Going forward new or replaced OSDs\nwill be created as logical volumes. Volumes created by ceph-disk\nare still supported.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 6, 'created': '2019-01-31 01:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9187952b225f8c705e8537c45e571284df4fcb43', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release, ceph-disk is deprecated. Switch to using\nceph-volume in lieu of this. Going forward new or replaced OSDs\nwill be created as logical volumes. Volumes created by ceph-disk\nare still supported as legacy mount only devices.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 7, 'created': '2019-01-31 02:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/329659c1f00039c4f10fb0aa3234d8eddcaf28dc', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release, ceph-disk is deprecated. Switch to using\nceph-volume in lieu of this. Going forward new or replaced physical\nOSDs will be created as logical volumes. Volumes created by\nceph-disk are still supported, as this keeps backwards compability.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 8, 'created': '2019-01-31 15:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/43308e77ad359cea14d975118bf0066a7f053d27', 'message': '[WIP] [CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated. Switch\nto using ceph-volume, which relies very little on udev. Going\nforward new or replaced physical OSDs will be created as logical\nvolumes. Volumes created by ceph-disk are still supported, as this\nkeeps backwards compability.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 9, 'created': '2019-01-31 22:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/40841ae0e999ea4a9e70822c3e0728e15374c233', 'message': '[WIP] [CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated. Switch\nto using ceph-volume, which relies very little on udev. Going\nforward new or replaced physical OSDs will be created as logical\nvolumes. Volumes created by ceph-disk are still supported, as this\nkeeps backwards compability.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 10, 'created': '2019-02-01 21:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8dece58fef25241b18742c51350e2900d9237325', 'message': '[WIP] [CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases.\n\n- Refactor the ceph-helm chart code to use ceph-volume, new or\nreplaced physical OSDs will be created as logical volumes.\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using journal files.\n- Remove udev specific code that was required for ceph-disk.\n- Ensure the clean up (disk_zap) function can handle logical\nvolumes and purge them in the correct order.\n- Currently only Filestore OSDs are supported.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 11, 'created': '2019-02-01 21:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d0c1baf11f84b9f252026973edb69e0abd4e5e5', 'message': '[WIP] [CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases.\n\n- Refactor the ceph-helm chart code to use ceph-volume, new or\nreplaced physical OSDs will be created as logical volumes.\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using journal files.\n- Remove udev specific code that was required for ceph-disk.\n- Ensure the clean up (disk_zap) function can handle logical\nvolumes and purge them in the correct order.\n- Currently only Filestore OSDs are supported.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 12, 'created': '2019-02-01 23:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba79b1ed6030577352b17c1b91bd0f575339b1fe', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases.\n\n- Refactor the ceph-helm chart code to use ceph-volume, new or\nreplaced physical OSDs will be created as logical volumes.\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using journal files.\n- Remove udev specific code that was required for ceph-disk.\n- Ensure the clean up (disk_zap) function can handle logical\nvolumes and purge them in the correct order.\n- Currently only Filestore OSDs are supported.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 13, 'created': '2019-02-05 17:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b9e8810a912328e72a25da18db8a124f9c156da', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using directory based journals with\na block OSD\n- Remove udev specific code that was required for ceph-disk use\ncases\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n- Standardize the output messages based on severity\n\nCurrently only Filestore OSDs with a directory based, co-located or\nnon-colocated journals will work with this code.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 14, 'created': '2019-02-09 00:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8f889f3e48dbab881ef69ec74aca186e59c8f83', 'message': ""[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using directory based journals with\na block OSD\n- Remove udev specific code that was required for ceph-disk use\ncases\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n- In addition to checking the cluster's FSID, we also check the OSD\nFSID to ensure the OSD belongs to the cluster. For CI/CD sites\nre-using the same FSID, this will allow the Ceph chart to\nautomatically detect whether or not it needs to zap the disk before\nhand (provided OSD_FORCE_REPAIR set)\n- Standardize the output messages based on severity\n\nCurrently only Filestore OSDs with a directory based, co-located or\nnon-colocated journals will work with this code.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n""}, {'number': 15, 'created': '2019-02-09 00:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a3198149722478dccc99be08ced12eb00cf85443', 'message': ""[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using directory based journals with\na block OSD\n- Remove udev specific code that was required for ceph-disk use\ncases\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n- In addition to checking the cluster's FSID, we also check the OSD\nFSID to ensure the OSD belongs to the cluster. For CI/CD sites\nre-using the same FSID, this will allow the Ceph chart to\nautomatically detect whether or not it needs to zap the disk before\nhand (provided OSD_FORCE_REPAIR set)\n- Standardize the output messages based on severity\n\nCurrently only Filestore OSDs with a directory based, co-located or\nnon-colocated journals will work with this code.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n""}, {'number': 16, 'created': '2019-02-09 00:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e9d51d65ba9d3186fcc4e7cd3fa364565b50296', 'message': ""[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using directory based journals with\na block OSD\n- Remove udev specific code that was required for ceph-disk use\ncases\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n- In addition to checking the cluster's FSID, we also check the OSD\nFSID to ensure the OSD belongs to the cluster. For CI/CD sites\nre-using the same FSID, this will allow the Ceph chart to\nautomatically detect whether or not it needs to zap the disk before\nhand (provided OSD_FORCE_REPAIR set)\n- Standardize the output messages based on severity\n\nCurrently only Filestore OSDs with a directory based, co-located or\nnon-colocated journals will work with this code.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n""}, {'number': 17, 'created': '2019-02-09 01:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7bdfb41076689ecbdefcbb177ead7f41728f451c', 'message': ""[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using directory based journals with\na block OSD\n- Remove udev specific code that was required for ceph-disk use\ncases\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n- In addition to checking the cluster's FSID, we also check the OSD\nFSID to ensure the OSD belongs to the cluster. For CI/CD sites\nre-using the same FSID, this will allow the Ceph chart to\nautomatically detect whether or not it needs to zap the disk before\nhand (provided OSD_FORCE_REPAIR set)\n- Standardize the output messages based on severity\n\nCurrently only Filestore OSDs with a directory based, co-located or\nnon-colocated journals will work with this code.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n""}, {'number': 18, 'created': '2019-02-09 12:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b8c94a1c8f17d84ade1b6537e23a640e675f498', 'message': ""[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using directory based journals with\na block OSD\n- Remove udev specific code that was required for ceph-disk use\ncases\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n- In addition to checking the cluster's FSID, we also check the OSD\nFSID to ensure the OSD belongs to the cluster. For CI/CD sites\nre-using the same FSID, this will allow the Ceph chart to\nautomatically detect whether or not it needs to zap the disk before\nhand (provided OSD_FORCE_REPAIR set)\n- Standardize the output messages based on severity\n\nCurrently only Filestore OSDs with a directory based, co-located or\nnon-colocated journals will work with this code.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n""}, {'number': 19, 'created': '2019-02-09 23:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/27b1c93a8fa5cb2f54f3aef6c7f2ce621b886c1a', 'message': ""[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using directory based journals with\na block OSD\n- Remove udev specific code that was required for ceph-disk use\ncases\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n- In addition to checking the cluster's FSID, we also check the OSD\nFSID to ensure the OSD belongs to the cluster. For CI/CD sites\nre-using the same FSID, this will allow the Ceph chart to\nautomatically detect whether or not it needs to zap the disk before\nhand (provided OSD_FORCE_REPAIR set)\n- Standardize the output messages based on severity\n\nCurrently only Filestore OSDs with a directory based, co-located or\nnon-colocated journals will work with this code.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n""}, {'number': 20, 'created': '2019-02-10 02:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4cd3ef9e5ef92b1d54ff80e5f9f3d7de2eb29fb6', 'message': ""[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\n- Existing volumes created by ceph-disk are still supported, but\nwill only be provisioned when using directory based journals with\na block OSD\n- Remove udev specific code that was required for ceph-disk use\ncases\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n- In addition to checking the cluster's FSID, we also check the OSD\nFSID to ensure the OSD belongs to the cluster. For CI/CD sites\nre-using the same FSID, this will allow the Ceph chart to\nautomatically detect whether or not it needs to zap the disk before\nhand (provided OSD_FORCE_REPAIR set)\n- Standardize the output messages based on severity\n\nCurrently only Filestore OSDs with a directory based, co-located or\nnon-colocated journals will work with this code.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n""}, {'number': 21, 'created': '2019-02-12 16:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4b18ca620b4a901b87345b07d2b19e474c3ad05', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature be removed in later\nreleases. Note that we are only supporting Filestore in these\ncharts, Bluestore is _not_ expected to work.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 22, 'created': '2019-02-12 17:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3406a37067a4f2e60c938943113b192178db60a', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 23, 'created': '2019-02-13 22:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab819598c04d6892477631ba4928324627e2c789', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 24, 'created': '2019-02-14 15:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9a3b5489288755f638bd7284fed4b50af5ad6d9', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 25, 'created': '2019-02-14 23:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1a15f7b92d71e74d441541889617c08106a85a84', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 26, 'created': '2019-02-15 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0792dc4a44d793482c4f301dbd2c403aac463a1f', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 27, 'created': '2019-02-17 00:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1918f7d455834e24d19377059e407ebae9429e5c', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 28, 'created': '2019-02-17 01:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a133099da6c041a86a30bd9539c03720df6a94c0', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 29, 'created': '2019-02-17 17:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44592ceb2cafdd4e5ddacb61469b9dcf9ef4d91d', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 30, 'created': '2019-02-18 15:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9778fcd87ed9575401218b75ecd1c041aa1d103b', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes and purge them in the correct order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 31, 'created': '2019-02-23 02:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/abfe0e0c66967134b8261c8e1a6b262cd1673f1a', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes, dev mapped devices and purge them in the\ncorrect order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 32, 'created': '2019-03-03 13:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/633b9f731106a5d9094deaa116e82286a19f3c5a', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes, dev mapped devices and purge them in the\ncorrect order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 33, 'created': '2019-03-05 01:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b47bbf4d0554781e22a50d0bf3797db879b3ad54', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes, dev mapped devices and purge them in the\ncorrect order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 34, 'created': '2019-03-05 02:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a6ecb7ac6c24e36b192dee7db60094f92ad9b33b', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes, dev mapped devices and purge them in the\ncorrect order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 35, 'created': '2019-03-10 16:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1bdc477025afc03beb9d4a6046a3a7bbde1ea9a0', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes, dev mapped devices and purge them in the\ncorrect order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 36, 'created': '2019-03-11 02:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f454d37eb60017b78e85733fcc2e06ebdbf7b1d1', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes, dev mapped devices and purge them in the\ncorrect order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}, {'number': 37, 'created': '2019-03-22 01:12:57.000000000', 'files': ['ceph-osd/values.yaml', 'ceph-osd/templates/bin/osd/_stop.sh.tpl', 'ceph-osd/templates/bin/osd/_common.sh.tpl', 'ceph-osd/templates/bin/osd/_block.sh.tpl', 'ceph-osd/templates/bin/osd/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a2715d285795381ed4996a3737382b85a6685b1', 'message': '[CEPH] Switch to using ceph-volume for ceph-osd chart\n\nWith the Mimic release ceph-disk is considered deprecated and\nwill be removed in future Ceph releases. The replacement\nsolution is ceph-volume, with provisioned LVM disks.\n\n- Refactor the ceph-helm chart code to use ceph-volume so that new\nor replaced physical OSDs will be created as logical volumes\nExisting volumes created by ceph-disk are still supported, and will\nautomatically be managed by ceph-volume\n\n- Remove udev specific code that was required for ceph-disk use\ncases\n\n- Ensure the clean up (disk_zap) function is more robust and can\nhandle logical volumes, dev mapped devices and purge them in the\ncorrect order\n\n- Standardize the output messages based on severity\n\nThe use of directory type journals with a block OSD device is now\nconsidered deprecated. File/directory journals are not supported\nin ceph-volume, and support for this feature will be removed in\nlater releases.\n\nChange-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a\n'}]",9,633981,0a2715d285795381ed4996a3737382b85a6685b1,90,11,37,29268,,,0,"[CEPH] Switch to using ceph-volume for ceph-osd chart

With the Mimic release ceph-disk is considered deprecated and
will be removed in future Ceph releases. The replacement
solution is ceph-volume, with provisioned LVM disks.

- Refactor the ceph-helm chart code to use ceph-volume so that new
or replaced physical OSDs will be created as logical volumes
Existing volumes created by ceph-disk are still supported, and will
automatically be managed by ceph-volume

- Remove udev specific code that was required for ceph-disk use
cases

- Ensure the clean up (disk_zap) function is more robust and can
handle logical volumes, dev mapped devices and purge them in the
correct order

- Standardize the output messages based on severity

The use of directory type journals with a block OSD device is now
considered deprecated. File/directory journals are not supported
in ceph-volume, and support for this feature will be removed in
later releases.

Change-Id: I49aeddfc0ba2c0f7d56ad578a9c1248204886d6a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/81/633981/36 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/bin/osd/_common.sh.tpl', 'ceph-osd/templates/bin/osd/_block.sh.tpl', 'ceph-osd/templates/bin/osd/_init.sh.tpl']",3,bf5bb3cc3518e2a812b5d31dfc7edc3de6d6200f,ceph_volume," if [[ ""$(parted --script ${OSD_DEVICE} print | egrep '^ 1.*ceph data')"" ]] || \ [[ ""${parted --script ${OSD_DEVICE} print | egrep '^ 1.*lvm')"" ]]; then if [[ ""${parted --script ${OSD_DEVICE} print | egrep '^ 1.*lvm')"" ]]; then local lvm_device=$(pvdisplay -m ""${OSD_DEVICE}1"" | awk '/osd/{print $3}') mount ${lvm_device} ${tmpmnt} else mount ${OSD_DEVICE}1 ${tmpmnt} fi CLI_OPTS=""${CLI_OPTS} --filestore"" # NOTE(supamatt): directory based types are deprecated so we have to use ceph-disk here # NOTE(supamatt): ceph-volume does not create partitions, we need to create a parition for the prepare step parted --script ${OSD_DEVICE} mklabel gpt parted --script ${OSD_DEVICE} mkpart primary 1 100% if [ ""${OSD_BLUESTORE:-0}"" -ne 1 ]; then ceph-volume lvm prepare ${CLI_OPTS} --no-systemd --journal ${OSD_JOURNAL} --data ${OSD_DEVICE}1 else # NOTE(supamatt): Bluestore is now the default, no flags needed. # NOTE(supamatt): Since bluestore isn't supported yet, this isn't expected to _really_ work. # ceph-volume lvm prepare ${CLI_OPTS} --no-systemd --data ${OSD_DEVICE}1 --block.db ${OSD_JOURNAL} --wal.db ${OSD_JOURNAL} ceph-volume lvm prepare ${CLI_OPTS} --no-systemd --data ${OSD_DEVICE}1"," if [[ ""$(parted --script ${OSD_DEVICE} print | egrep '^ 1.*ceph data')"" ]]; then mount ${OSD_DEVICE}1 ${tmpmnt} ceph-disk -v prepare ${CLI_OPTS} --journal-uuid ${OSD_JOURNAL_UUID} ${OSD_DEVICE} ${OSD_JOURNAL}",38,11
openstack%2Fopenstack-helm~master~I54c9d8d67ccbb398851afe448213deae79017cc3,openstack/openstack-helm,master,I54c9d8d67ccbb398851afe448213deae79017cc3,WIP: run OSH on azure,ABANDONED,2019-03-29 16:11:56.000000000,2020-07-15 20:09:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-29 16:11:56.000000000', 'files': ['wip-aks.txt'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8522c8f448b52d428139b095ec4f5b628d933ac1', 'message': 'WIP: run OSH on azure\n\nChange-Id: I54c9d8d67ccbb398851afe448213deae79017cc3\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,648723,8522c8f448b52d428139b095ec4f5b628d933ac1,3,1,1,23928,,,0,"WIP: run OSH on azure

Change-Id: I54c9d8d67ccbb398851afe448213deae79017cc3
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/23/648723/1 && git format-patch -1 --stdout FETCH_HEAD,['wip-aks.txt'],1,8522c8f448b52d428139b095ec4f5b628d933ac1,external-neutron,"RESOURCE_GROUP=""$(whoami)"" CLUSTER_INTEGER=""2"" #az network vnet create --location centralus --resource-group ${RESOURCE_GROUP} --name ${RESOURCE_GROUP}-cluster-1 --address-prefixes 192.168.0.0/16 #az network vnet subnet create --resource-group ${RESOURCE_GROUP} --vnet-name ${RESOURCE_GROUP}-cluster-1 --name ${RESOURCE_GROUP}-cluster-1 --address-prefixes 192.168.0.0/18 az aks create \ --resource-group ${RESOURCE_GROUP} \ --name ${RESOURCE_GROUP}-cluster-${CLUSTER_INTEGER} \ --node-count 5 \ --node-vm-size Standard_D16s_v3 \ --node-osdisk-size 128 \ --max-pods 110 \ --kubernetes-version 1.12.6 \ --location centralus \ --generate-ssh-keys #\ # --network-plugin azure \ # --network-policy calico \ # --vnet-subnet-id $(az network vnet subnet show --resource-group ${RESOURCE_GROUP} --vnet-name ${RESOURCE_GROUP}-cluster-1 --name ${RESOURCE_GROUP}-cluster-1 --query 'id' --output tsv) rm -f ~/.kube/config az aks get-credentials --resource-group ${RESOURCE_GROUP} --name ${RESOURCE_GROUP}-cluster-${CLUSTER_INTEGER} # az network public-ip create \ # --resource-group $(az aks show --resource-group ${RESOURCE_GROUP} --name ${RESOURCE_GROUP}-cluster-1 --query nodeResourceGroup -o tsv) \ # --name ${RESOURCE_GROUP}-cluster-${CLUSTER_INTEGER}-ip-1 \ # --allocation-method static cat <<'EOF' | kubectl apply -f - apiVersion: apps/v1 kind: DaemonSet metadata: name: azure-fixer namespace: kube-system spec: selector: matchLabels: name: azure-fixer template: metadata: labels: name: azure-fixer spec: hostPID: true containers: - name: azure-fixer image: docker.io/busybox:latest securityContext: privileged: true readinessProbe: exec: command: - sh - -c - | [ -f /tmp/aks-patched ] && exit 0 || exit 1 command: - sh - -c - | nsenter -t1 -m -u -n -i -- apt-get update #NOTE(portdirect): we need to remove this to allow neutron & nova to work, as it gets upset when we try to chown files via names that do not map to uid's on the host nsenter -t1 -m -u -n -i -- apt-get purge -y unscd nsenter -t1 -m -u -n -i -- apt-get install -y cpu-checker nsenter -t1 -m -u -n -i -- kvm-ok #NOTE(portdirect): AKS already has ceph-common installed, so the following is not strictly required, though lets get it to a new enough version and add rbd-nbd to allow its use. nsenter -t1 -m -u -n -i -- sh -c ""curl -sSL http://download.ceph.com/keys/release.asc | apt-key add -"" nsenter -t1 -m -u -n -i -- sh -c ""echo \""deb http://download.ceph.com/debian-mimic/ xenial main\"" | tee /etc/apt/sources.list.d/ceph.list"" nsenter -t1 -m -u -n -i -- apt-get update nsenter -t1 -m -u -n -i -- apt-get install -y ceph-common rbd-nbd nsenter -t1 -m -u -n -i -- sh -c ""echo \""install rbd /bin/true\"" > /etc/modprobe.d/rbd.conf"" echo ""done"" touch /tmp/aks-patched tail -f /dev/null EOF kubectl -n kube-system wait --for=condition=Ready pod -l name=azure-fixer # Set required labels on host(s) kubectl label $(kubectl get nodes -o name | sort -V | head -1) openstack-helm-node-class=primary kubectl label nodes --all openstack-control-plane=enabled kubectl label nodes --all openstack-compute-node=enabled kubectl label nodes --all openvswitch=enabled kubectl label nodes --all linuxbridge=enabled kubectl label nodes --all ceph-mon=enabled kubectl label nodes --all ceph-osd=enabled kubectl label nodes --all ceph-mds=enabled kubectl label nodes --all ceph-rgw=enabled kubectl label nodes --all ceph-mgr=enabled tools/deployment/multinode/020-ingress.sh kubectl -n kube-system patch svc ingress --patch '{""spec"":{""type"":""LoadBalancer""}}' # This needs to be run, at regular intervals to allow access to services run in the cluster, expect things to fail for now while testing unless this is run prior to running openstack commands for a service function get_exposed_hosts () { HOSTS_SNIPPET=$(mktemp) echo ""# OSH-DEV START"" > $HOSTS_SNIPPET INGRESS_IP=""$(kubectl -n kube-system get svc ingress -o go-template='{{range .status.loadBalancer.ingress}}{{.ip}}{{end}}')"" for HOST in $(kubectl get --all-namespaces ing -o go-template='{{ range .items }}{{ range .spec.rules }}{{ .host }}{{""\n""}}{{ end }}{{ end }}' | grep -v '^\*.' | awk -F '.' '$3 == ""svc"" { print $0 }'); do echo $INGRESS_IP $HOST >> $HOSTS_SNIPPET done echo ""# OSH-DEV END"" >> $HOSTS_SNIPPET sudo sed -i.bak ""/^# OSH-DEV START$/,/^# OSH-DEV END$/d"" /etc/hosts cat ${HOSTS_SNIPPET} | sudo tee -a /etc/hosts } get_exposed_hosts tools/deployment/multinode/030-ceph.sh tools/deployment/multinode/040-ceph-ns-activate.sh tools/deployment/multinode/050-mariadb.sh tools/deployment/multinode/060-rabbitmq.sh tools/deployment/multinode/070-memcached.sh tools/deployment/multinode/080-keystone.sh tools/deployment/multinode/090-ceph-radosgateway.sh tools/deployment/multinode/100-glance.sh tools/deployment/multinode/110-cinder.sh tools/deployment/multinode/120-openvswitch.sh tools/deployment/multinode/130-libvirt.sh tools/deployment/multinode/140-compute-kit.sh tools/deployment/multinode/150-heat.sh tools/deployment/developer/ceph/100-horizon.sh az aks delete \ --resource-group ${RESOURCE_GROUP} \ --name ${RESOURCE_GROUP}-cluster-${CLUSTER_INTEGER} az network vnet subnet delete --resource-group ${RESOURCE_GROUP} --vnet-name ${RESOURCE_GROUP}-cluster-1 --name ${RESOURCE_GROUP}-cluster-1 az network vnet delete --resource-group ${RESOURCE_GROUP} --name ${RESOURCE_GROUP}-cluster-1 ",,126,0
openstack%2Fopenstack-helm~master~I7d6be211f9f8494dfdb85531974ae4a633380a84,openstack/openstack-helm,master,I7d6be211f9f8494dfdb85531974ae4a633380a84,Neutron: Use socket to communicate with OvS,ABANDONED,2018-10-17 16:09:44.000000000,2020-07-15 20:08:56.000000000,,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29668}]","[{'number': 1, 'created': '2018-10-17 16:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6464f554d8b4f4f0cc2e723153a911393ed45f59', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-17 23:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2dea5e2180f4069785ce492d346ad83502fc6a3', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-10-23 16:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/478ec9c3336e752adafdbac11bcf95eb5173e693', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-11-02 15:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/439e04fc5190962728a4003850aceb2f278873c4', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-01-02 15:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab9d2c625db5315df9f3bf20231578845aa96eb9', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-01-05 04:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/357db42a8084f24d653606b21f0bba550580c1e6', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-02-11 17:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86b2c6f0541329fe94d4656802b4adcd03cc49e8', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2019-02-16 16:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a934803ddfb8dd22c6329ec3dcdc07729038a75e', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2019-03-10 20:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/823bccd88c9e7030ddb691b6550d058292d6d710', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 10, 'created': '2019-03-10 20:28:34.000000000', 'files': ['neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-metadata-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/17adab5358302b40563ff125fa427b46bf35013b', 'message': 'Neutron: Use socket to communicate with OvS\n\nThis PS moves to use a socket for neutron interaction with OvS,\nas IP based interaction has proved to be unreliable in some\ncircumstances.\n\nChange-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",3,611378,17adab5358302b40563ff125fa427b46bf35013b,34,7,10,23928,,,0,"Neutron: Use socket to communicate with OvS

This PS moves to use a socket for neutron interaction with OvS,
as IP based interaction has proved to be unreliable in some
circumstances.

Change-Id: I7d6be211f9f8494dfdb85531974ae4a633380a84
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/78/611378/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-metadata-agent.yaml']",4,6464f554d8b4f4f0cc2e723153a911393ed45f59,ovs-use-socket," - name: runopenvswitch mountPath: /run/openvswitch {{- if ( has ""openvswitch"" .Values.network.backend ) }} - name: runopenvswitch hostPath: path: /run/openvswitch {{- end }}",,22,0
openstack%2Fopenstack-helm~master~I80bb8e4fc3cb1e48fabf7693cde902d847f18b84,openstack/openstack-helm,master,I80bb8e4fc3cb1e48fabf7693cde902d847f18b84,Nova + Cinder: Add iSCSI and FC support,ABANDONED,2019-03-14 07:28:26.000000000,2020-07-15 20:08:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28507}]","[{'number': 1, 'created': '2019-03-14 07:28:26.000000000', 'files': ['cinder/templates/deployment-volume.yaml', 'nova/templates/daemonset-compute.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/186dc2d6a18620213c8f771271af9358ff47ab73', 'message': ""Nova + Cinder: Add iSCSI and FC support\n\nThis patch adds support for iSCSi and FC storage for Nova and\nCinder.\n\nNote: The patch doesn't include any image or image build for Nova\nand Cinder. It is also necessary to mount some volumes\n(ie: /etc/multipath.conf, /etc/iscsi/initiatorname.iscsi) by overriding\nvalues in values.yaml.\n\nChange-Id: I80bb8e4fc3cb1e48fabf7693cde902d847f18b84\n""}]",0,643236,186dc2d6a18620213c8f771271af9358ff47ab73,5,3,1,28507,,,0,"Nova + Cinder: Add iSCSI and FC support

This patch adds support for iSCSi and FC storage for Nova and
Cinder.

Note: The patch doesn't include any image or image build for Nova
and Cinder. It is also necessary to mount some volumes
(ie: /etc/multipath.conf, /etc/iscsi/initiatorname.iscsi) by overriding
values in values.yaml.

Change-Id: I80bb8e4fc3cb1e48fabf7693cde902d847f18b84
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/36/643236/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/deployment-volume.yaml', 'nova/templates/daemonset-compute.yaml']",2,186dc2d6a18620213c8f771271af9358ff47ab73,, hostIPC: true,,4,0
openstack%2Fopenstack-helm-infra~master~Ie37b75c8b8310901313635f19d956b52831bdbd3,openstack/openstack-helm-infra,master,Ie37b75c8b8310901313635f19d956b52831bdbd3,Wip: HTK: Add support for tls secrets on cluster hosts,ABANDONED,2019-01-30 05:09:12.000000000,2020-07-15 20:08:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-30 05:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9fe5d02fba9facb95bcb8722cbe5c594bba1bc66', 'message': 'HTK: Add support for tls secrets on cluster hosts\n\nThis PS adds support for tls secrets to be generated from cluster\nhosts\n\nChange-Id: Ie37b75c8b8310901313635f19d956b52831bdbd3\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-01-30 08:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e88647ab0b4e630ba5023ffc3a88078348668034', 'message': 'HTK: Add support for tls secrets on cluster hosts\n\nThis PS adds support for tls secrets to be generated from cluster\nhosts\n\nChange-Id: Ie37b75c8b8310901313635f19d956b52831bdbd3\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-02-04 15:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a9d9634a47e776a316c5bbf49c6b3ef48b78557e', 'message': 'HTK: Add support for tls secrets on cluster hosts\n\nThis PS adds support for tls secrets to be generated from cluster\nhosts\n\nChange-Id: Ie37b75c8b8310901313635f19d956b52831bdbd3\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-02-04 16:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d7c4a10462b12bfe902a1f12e73fc47af978dee', 'message': 'Wip: HTK: Add support for tls secrets on cluster hosts\n\nThis PS adds support for tls secrets to be generated from cluster\nhosts\n\nChange-Id: Ie37b75c8b8310901313635f19d956b52831bdbd3\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-02-06 03:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2cc4ed1135f67944dcdee6b5b1699a09360cfb84', 'message': 'Wip: HTK: Add support for tls secrets on cluster hosts\n\nThis PS adds support for tls secrets to be generated from cluster\nhosts\n\nChange-Id: Ie37b75c8b8310901313635f19d956b52831bdbd3\nSigned-off-by: Pete Birley <pete@port.direct>\nSigned-off-by: root <root@cramond.port.direct>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-03-15 15:33:25.000000000', 'files': ['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl', 'helm-toolkit/values.yaml', 'helm-toolkit/templates/manifests/_ingress.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6ca5b45af5fa1ffddb57b6bfcf8c394b66560b8', 'message': 'Wip: HTK: Add support for tls secrets on cluster hosts\n\nThis PS adds support for tls secrets to be generated from cluster\nhosts\n\nChange-Id: Ie37b75c8b8310901313635f19d956b52831bdbd3\nSigned-off-by: Pete Birley <pete@port.direct>\nSigned-off-by: root <root@cramond.port.direct>\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,633868,d6ca5b45af5fa1ffddb57b6bfcf8c394b66560b8,12,1,6,23928,,,0,"Wip: HTK: Add support for tls secrets on cluster hosts

This PS adds support for tls secrets to be generated from cluster
hosts

Change-Id: Ie37b75c8b8310901313635f19d956b52831bdbd3
Signed-off-by: Pete Birley <pete@port.direct>
Signed-off-by: root <root@cramond.port.direct>
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/68/633868/3 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl'],1,9fe5d02fba9facb95bcb8722cbe5c594bba1bc66,split-tls," Creates manifest(s) for a services public tls secret examples: - values: | secrets: tls: key_manager: api: public: barbican-tls-public endpoints: key_manager: host_fqdn_override: public: tls: crt: | FOO-CRT key: | FOO-KEY ca: | FOO-CA_CRT usage: | {{- include ""helm-toolkit.manifests.secret_ingress_tls"" ( dict ""envAll"" . ""backendServiceType"" ""key-manager"" ) -}} return: | --- apiVersion: v1 kind: Secret metadata: name: barbican-tls-public-fqdn type: kubernetes.io/tls data: tls.crt: Rk9PLUNSVAo= tls.key: Rk9PLUtFWQo= ca.crt: Rk9PLUNBX0NSVAo= - values: | secrets: tls: key_manager: api: public: host_fqdn_override: barbican-tls-public-fqdn endpoints: key_manager: host_fqdn_override: public: tls: crt: | FOO-CRT key: | FOO-KEY ca: | FOO-CA_CRT usage: | {{- include ""helm-toolkit.manifests.secret_ingress_tls"" ( dict ""envAll"" . ""backendServiceType"" ""key-manager"" ) -}} return: | --- apiVersion: v1 kind: Secret metadata: name: barbican-tls-public-fqdn type: kubernetes.io/tls data: tls.crt: Rk9PLUNSVAo= tls.key: Rk9PLUtFWQo= ca.crt: Rk9PLUNBX0NSVAo= - values: | secrets: tls: key_manager: api: public: hosts: barbican-tls-public endpoints: key_manager: hosts: public: tls: crt: | FOO-CRT key: | FOO-KEY ca: | FOO-CA_CRT usage: | {{- include ""helm-toolkit.manifests.secret_ingress_tls"" ( dict ""envAll"" . ""backendServiceType"" ""key-manager"" ) -}} return: | --- apiVersion: v1 kind: Secret metadata: name: barbican-tls-public type: kubernetes.io/tls data: tls.crt: Rk9PLUNSVAo= tls.key: Rk9PLUtFWQo= ca.crt: Rk9PLUNBX0NSVAo= - values: | secrets: tls: key_manager: api: public: hosts: barbican-tls-public-cluster host_fqdn_override: barbican-tls-public-fqdn endpoints: key_manager: hosts: public: tls: crt: | FOO-CRT key: | FOO-KEY ca: | FOO-CA_CRT host_fqdn_override: public: tls: crt: | FOO-CRT key: | FOO-KEY ca: | FOO-CA_CRT usage: | {{- include ""helm-toolkit.manifests.secret_ingress_tls"" ( dict ""envAll"" . ""backendServiceType"" ""key-manager"" ) -}} return: | --- apiVersion: v1 kind: Secret metadata: name: barbican-tls-public-cluster type: kubernetes.io/tls data: tls.crt: Rk9PLUNSVAo= tls.key: Rk9PLUtFWQo= ca.crt: Rk9PLUNBX0NSVAo= --- apiVersion: v1 kind: Secret metadata: name: barbican-tls-public-fqdn type: kubernetes.io/tls data: tls.crt: Rk9PLUNSVAo= tls.key: Rk9PLUtFWQo= ca.crt: Rk9PLUNBX0NSVAo={{- range $key1, $hostname_type := list ""hosts"" ""host_fqdn_override""}} {{- $host := index $envAll.Values.endpoints ( $backendServiceType | replace ""-"" ""_"" ) $hostname_type }}{{- $_ := set $envAll.Values ""__secretName"" ( index $envAll.Values.secrets.tls ( $backendServiceType | replace ""-"" ""_"" ) $backendService $endpoint ) }} {{- if not (and ( eq $hostname_type ""host_fqdn_override"" ) ( kindIs ""string"" $envAll.Values.__secretName )) }} {{- $_ := set $envAll.Values ""__secretName"" ( index $envAll.Values.__secretName $hostname_type) }} {{- end }} {{- $_ := required ""You need to specify a secret in your values for the endpoint"" $envAll.Values.__secretName }} name: {{ $envAll.Values.__secretName }}{{- end }}"," Creates a manifest for a services public tls secret values: | secrets: tls: key_manager: api: public: barbican-tls-public endpoints: key_manager: host_fqdn_override: public: tls: crt: | FOO-CRT key: | FOO-KEY ca: | FOO-CA_CRT usage: | {{- include ""helm-toolkit.manifests.secret_ingress_tls"" ( dict ""envAll"" . ""backendServiceType"" ""key-manager"" ) -}} return: | --- apiVersion: v1 kind: Secret metadata: name: barbican-tls-public type: kubernetes.io/tls data: tls.crt: Rk9PLUNSVAo= tls.key: Rk9PLUtFWQo= ca.crt: Rk9PLUNBX0NSVAo={{- $host := index $envAll.Values.endpoints ( $backendServiceType | replace ""-"" ""_"" ) ""host_fqdn_override"" }} name: {{ index $envAll.Values.secrets.tls ( $backendServiceType | replace ""-"" ""_"" ) $backendService $endpoint }}",154,33
openstack%2Fopenstack-helm-infra~master~I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c,openstack/openstack-helm-infra,master,I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c,[CEPH] Ensure ceph-rbd-pool job runs with MON IPs,ABANDONED,2019-02-18 23:27:43.000000000,2020-07-15 20:08:35.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 24165}, {'_account_id': 29268}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-02-18 23:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1af4508aa795cc38d59bef2e78fa713956d9488c', 'message': '[CEPH] Ensure ceph-rbd-pool job runs with MON IPs\n\nModify the script that runs this job, to use the MON endpoint IPs\nand not DNS. This aligns with ithe other charts during initial\ncluster formation.\n\nChange-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c\n'}, {'number': 2, 'created': '2019-02-19 12:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/502535f6b686a26f941e6347f39499a6fb80d3d6', 'message': '[CEPH] Ensure ceph-rbd-pool job runs with MON IPs\n\nModify the script that runs this job, to use the MON endpoint IPs\nand not DNS. This aligns with ithe other charts during initial\ncluster formation.\n\nChange-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c\n'}, {'number': 3, 'created': '2019-02-22 22:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/27cfb43a102bb5a67ad20432cd5e7abe5cdd9442', 'message': '[CEPH] Ensure ceph-rbd-pool job runs with MON IPs\n\nModify the script that runs this job, to use the MON endpoint IPs\nand not DNS. This aligns with ithe other charts during initial\ncluster formation.\n\nChange-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c\n'}, {'number': 4, 'created': '2019-02-25 04:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d345d25cb1838ed1b1f1485a275c204412bfc5ce', 'message': '[CEPH] Ensure ceph-rbd-pool job runs with MON IPs\n\nModify the script that runs this job, to use the MON endpoint IPs\nand not DNS. This aligns with ithe other charts during initial\ncluster formation.\n\nChange-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c\n'}, {'number': 5, 'created': '2019-03-01 06:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5428169077370abe00ad102259d26e06f693b077', 'message': '[CEPH] Ensure ceph-rbd-pool job runs with MON IPs\n\nModify the script that runs this job, to use the MON endpoint IPs\nand not DNS. This aligns with ithe other charts during initial\ncluster formation.\n\nChange-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c\n'}, {'number': 6, 'created': '2019-03-05 00:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cb24106494f9f61c4ae6702783cd62b65ad3e99c', 'message': '[CEPH] Ensure ceph-rbd-pool job runs with MON IPs\n\nModify the script that runs this job, to use the MON endpoint IPs\nand not DNS. This aligns with ithe other charts during initial\ncluster formation.\n\nChange-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c\n'}, {'number': 7, 'created': '2019-03-05 01:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5786c708e8455df488601417c36ed4d2610392e8', 'message': '[CEPH] Ensure ceph-rbd-pool job runs with MON IPs\n\nModify the script that runs this job, to use the MON endpoint IPs\nand not DNS. This aligns with ithe other charts during initial\ncluster formation.\n\nChange-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c\n'}, {'number': 8, 'created': '2019-03-05 02:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47f8cac30eff88a639b49f6e336d0bf2427744e5', 'message': '[CEPH] Ensure ceph-rbd-pool job runs with MON IPs\n\nModify the script that runs this job, to use the MON endpoint IPs\nand not DNS. This aligns with ithe other charts during initial\ncluster formation.\n\nChange-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c\n'}, {'number': 9, 'created': '2019-03-15 05:36:35.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/templates/job-rbd-pool.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d47f4e9487042e40832ea5721ca9488977c3ffd', 'message': '[CEPH] Ensure ceph-rbd-pool job runs with MON IPs\n\nModify the script that runs this job, to use the MON endpoint IPs\nand not DNS. This aligns with ithe other charts during initial\ncluster formation.\n\nChange-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c\n'}]",1,637649,0d47f4e9487042e40832ea5721ca9488977c3ffd,32,5,9,29268,,,0,"[CEPH] Ensure ceph-rbd-pool job runs with MON IPs

Modify the script that runs this job, to use the MON endpoint IPs
and not DNS. This aligns with ithe other charts during initial
cluster formation.

Change-Id: I3029fef1cc3cc13ebcb6697a82f748e4a9988b1c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/49/637649/7 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,1af4508aa795cc38d59bef2e78fa713956d9488c,client_fixes,": ""${CEPH_CONF:=""/etc/ceph/${CLUSTER}.conf""}"" if [[ ! -e ${CEPH_CONF}.template ]]; then echo ""ERROR- ${CEPH_CONF}.template must exist; get it from your existing mon""else ENDPOINT=$(kubectl get endpoints ceph-mon -n ${NAMESPACE} -o json | awk -F'""' -v port=${MON_PORT} '/ip/{print $4"":""port}' | paste -sd',') if [[ ${ENDPOINT} == """" ]]; then /bin/sh -c -e ""cat ${CEPH_CONF}.template | tee ${CEPH_CONF}"" || true else /bin/sh -c -e ""cat ${CEPH_CONF}.template | sed 's/mon_host.*/mon_host = ${ENDPOINT}/g' | tee ${CEPH_CONF}"" || true fi"," if [[ ! -e /etc/ceph/${CLUSTER}.conf ]]; then echo ""ERROR- /etc/ceph/${CLUSTER}.conf must exist; get it from your existing mon""",10,2
openstack%2Fopenstack-helm~master~I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a,openstack/openstack-helm,master,I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a,[DNM] Test keystone read-only filesystem (as default),ABANDONED,2019-02-15 18:46:47.000000000,2020-07-15 20:08:31.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-02-15 18:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8eb8124c0224e953a0293d40fe3a2f122153ad80', 'message': '[DNM] Test keystone read-only filesystem (as default)\n\nChange-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a\n'}, {'number': 2, 'created': '2019-02-15 20:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e7902752011c139a058c0a07c1e0473f1e45a00b', 'message': '[DNM] Test keystone read-only filesystem (as default)\n\nChange-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a\n'}, {'number': 3, 'created': '2019-02-15 21:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eca002624c4969b7005ae4d99f1aab6c221f3a84', 'message': '[DNM] Test keystone read-only filesystem (as default)\n\nChange-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a\n'}, {'number': 4, 'created': '2019-02-16 17:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e9ce1fc941da7a2810c618bfc700d0bec3d7b676', 'message': '[DNM] Test keystone read-only filesystem (as default)\n\nChange-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a\n'}, {'number': 5, 'created': '2019-02-16 23:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee12143abef78ec151bc6e586df70768519e8ab5', 'message': '[DNM] Test keystone read-only filesystem (as default)\n\nChange-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a\n'}, {'number': 6, 'created': '2019-02-16 23:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1287ab0f77fa008533ff95d3d0d8acd368e5048', 'message': '[DNM] Test keystone read-only filesystem (as default)\n\nChange-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a\n'}, {'number': 7, 'created': '2019-02-25 15:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c0a7a168e2aa5f12f97bd165c84db5e8771545b1', 'message': '[DNM] Test keystone read-only filesystem (as default)\n\nChange-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a\n'}, {'number': 8, 'created': '2019-02-28 20:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cd4599776df8b615df8ef6b0bc4cb1230d42d0c4', 'message': '[DNM] Test keystone read-only filesystem (as default)\n\nChange-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a\n'}, {'number': 9, 'created': '2019-03-13 18:55:04.000000000', 'files': ['keystone/templates/deployment-api.yaml', 'keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/38d02bf2ae6a54aaba5edde469963210c9afaaac', 'message': '[DNM] Test keystone read-only filesystem (as default)\n\nChange-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a\n'}]",0,637249,38d02bf2ae6a54aaba5edde469963210c9afaaac,22,3,9,7769,,,0,"[DNM] Test keystone read-only filesystem (as default)

Change-Id: I8a1bc0edcb63c8a2104d00bd9cd48176cc8f862a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/49/637249/8 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,8eb8124c0224e953a0293d40fe3a2f122153ad80,ro_keystone, security_context: readOnlyRootFilesystem: true,,2,0
openstack%2Fopenstack-helm~master~Iff024f3f999fb567af15a659288955d345a14268,openstack/openstack-helm,master,Iff024f3f999fb567af15a659288955d345a14268,WIP: Helm Test Rally user management improvement,ABANDONED,2019-03-14 00:37:04.000000000,2020-07-15 20:08:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-14 00:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/571b016fa19c7b8bf26518320bac84acdf9db46b', 'message': 'WIP: Helm Test Rally user management improvement\n\nChange-Id: Iff024f3f999fb567af15a659288955d345a14268\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-03-14 13:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/54fbb41255f93796a1e0ad7a15d30c211ecc8d66', 'message': 'WIP: Helm Test Rally user management improvement\n\nChange-Id: Iff024f3f999fb567af15a659288955d345a14268\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-03-14 14:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/09bcd62975a19aaad0a85e20f7e6a8bb338c9da7', 'message': 'WIP: Helm Test Rally user management improvement\n\nChange-Id: Iff024f3f999fb567af15a659288955d345a14268\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-03-14 14:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1f927e998c586b7a042b00c4a85f07bd5f59d1e1', 'message': 'WIP: Helm Test Rally user management improvement\n\nChange-Id: Iff024f3f999fb567af15a659288955d345a14268\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-03-14 14:16:58.000000000', 'files': ['mistral/templates/pod-rally-test.yaml', 'ceilometer/templates/pod-rally-test.yaml', 'cinder/templates/pod-rally-test.yaml', 'neutron/templates/pod-rally-test.yaml', 'glance/templates/pod-rally-test.yaml', 'heat/templates/pod-rally-test.yaml', 'nova/templates/pod-rally-test.yaml', 'keystone/values.yaml', 'keystone/templates/pod-rally-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c356b3d6ffad5466314f48bf584581959e30633', 'message': 'WIP: Helm Test Rally user management improvement\n\nChange-Id: Iff024f3f999fb567af15a659288955d345a14268\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,643206,2c356b3d6ffad5466314f48bf584581959e30633,8,1,5,23928,,,0,"WIP: Helm Test Rally user management improvement

Change-Id: Iff024f3f999fb567af15a659288955d345a14268
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/06/643206/4 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/templates/pod-rally-test.yaml'],1,571b016fa19c7b8bf26518320bac84acdf9db46b,clean-rally-user," containers: - name: {{ .Release.Name }}-test{{ tuple $envAll $envAll.Values.pod.resources.jobs.tests | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 6 }} - bash - -cx - | /tmp/ks-user.sh /tmp/rally-test.sh mountPath: /tmp/ks-user.sh subPath: ks-user.sh readOnly: true - name: ceilometer-bin"," - name: {{ .Release.Name }}-test-ks-user{{ tuple $envAll $envAll.Values.pod.resources.jobs.ks_user | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 6 }} command: - /tmp/ks-user.sh volumeMounts: - name: ceilometer-bin mountPath: /tmp/ks-user.sh subPath: ks-user.sh readOnly: true containers: - name: {{ .Release.Name }}-test {{ tuple $envAll ""ks_user"" | include ""helm-toolkit.snippets.image"" | indent 6 }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.tests | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 6 }} env: {{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin }} {{- include ""helm-toolkit.snippets.keystone_openrc_env_vars"" $env | indent 8 }} {{- end }} {{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.test }} {{- include ""helm-toolkit.snippets.keystone_user_create_env_vars"" $env | indent 8 }} {{- end }} - /tmp/rally-test.sh",12,21
openstack%2Fopenstack-helm-infra~master~I7cc672b2b1e378ff0b6a76cc2b41e9a63c9e9e12,openstack/openstack-helm-infra,master,I7cc672b2b1e378ff0b6a76cc2b41e9a63c9e9e12,[libvirt] Mount ceph-keyring volume when needed,ABANDONED,2019-02-26 07:02:59.000000000,2020-07-15 20:08:23.000000000,,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 11224}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-02-26 07:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5744024fcaa83b4a38e945d685a9749b46ccddbe', 'message': 'No need to mount ceph-keyring volume when admin_keyring exists\n\nChange-Id: I7cc672b2b1e378ff0b6a76cc2b41e9a63c9e9e12\n'}, {'number': 2, 'created': '2019-03-14 08:31:29.000000000', 'files': ['libvirt/templates/daemonset-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d817136bbb42c3764d715048df870116f2262d42', 'message': '[libvirt] Mount ceph-keyring volume when needed\n\nChange-Id: I7cc672b2b1e378ff0b6a76cc2b41e9a63c9e9e12\n'}]",0,639262,d817136bbb42c3764d715048df870116f2262d42,9,5,2,6678,,,0,"[libvirt] Mount ceph-keyring volume when needed

Change-Id: I7cc672b2b1e378ff0b6a76cc2b41e9a63c9e9e12
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/639262/2 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/templates/daemonset-libvirt.yaml'],1,5744024fcaa83b4a38e945d685a9749b46ccddbe,, {{- if and ( empty .Values.conf.ceph.cinder.keyring ) ( empty .Values.conf.ceph.admin_keyring ) }} {{- if and ( empty .Values.conf.ceph.cinder.keyring ) ( empty .Values.conf.ceph.admin_keyring ) }}, {{- if empty .Values.conf.ceph.cinder.keyring }} {{- if empty .Values.conf.ceph.cinder.keyring }},2,2
openstack%2Fopenstack-helm~master~Ic145b6cbfe5a238b30bb16c19bea254d3eb8b690,openstack/openstack-helm,master,Ic145b6cbfe5a238b30bb16c19bea254d3eb8b690,Add tempest image from openstack-helm,ABANDONED,2019-03-13 12:10:47.000000000,2020-07-15 20:08:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-13 12:10:47.000000000', 'files': ['tempest/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6c4448fbbc868db8dbd7c942ae655b649f9011f', 'message': 'Add tempest image from openstack-helm\n\ndocker.io/kolla/ubuntu-source-tempest:4.0.3 does not exist\n\nChange-Id: Ic145b6cbfe5a238b30bb16c19bea254d3eb8b690\nStory: 2005209\nTask: 29985\n'}]",0,643030,c6c4448fbbc868db8dbd7c942ae655b649f9011f,3,1,1,20675,,,0,"Add tempest image from openstack-helm

docker.io/kolla/ubuntu-source-tempest:4.0.3 does not exist

Change-Id: Ic145b6cbfe5a238b30bb16c19bea254d3eb8b690
Story: 2005209
Task: 29985
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/30/643030/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/values.yaml'],1,c6c4448fbbc868db8dbd7c942ae655b649f9011f,tempest_2005199, tempest_run_tests: openstackhelm/tempest:change_639334, tempest_run_tests: docker.io/kolla/ubuntu-source-tempest:4.0.3,1,1
openstack%2Fopenstack-helm~master~I558320263657759d8281db9e8f298b7ed46c5e9d,openstack/openstack-helm,master,I558320263657759d8281db9e8f298b7ed46c5e9d,WIP: add Manila Chart,ABANDONED,2019-03-07 04:57:04.000000000,2020-07-15 20:08:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-03-07 04:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8212a22c9fb226bb644ca45983af8c5e42ef51dd', 'message': 'WIP: add Manila Chart\n\nThis PS add Manila Chart with the follwing restrictions:\n * Supports Pike only\n * Only CephFS native driver tested\n * manila-data service for copying, share migration or backup is not supported\n * Modified manila-share from Kolla image required\n  - LOCI does not have manila images\n  - ceph-common packages is missing in the Kolla manila-share:pike image\n\nChange-Id: I558320263657759d8281db9e8f298b7ed46c5e9d\nStory: 2005154\nTask: 29869\n'}, {'number': 2, 'created': '2019-03-07 06:56:50.000000000', 'files': ['manila/templates/secret_rabbitmq.yaml', 'manila/templates/bin/_db-sync.sh.tpl', 'manila/templates/job-image-repo-sync.yaml', 'manila/templates/ingress-api.yaml', 'manila/templates/deployment-share.yaml', 'manila/templates/bin/_ceph-keyring.sh.tpl', 'tools/deployment/developer/common/050-mariadb.sh', 'manila/templates/bin/_manila-api.sh.tpl', 'manila/templates/service-api.yaml', 'manila/templates/bin/_bootstrap.sh.tpl', 'tools/deployment/common/memcached.sh', 'tools/deployment/developer/common/030-ingress.sh', 'manila/templates/job-db-init.yaml', 'manila/templates/deployment-api.yaml', 'manila/templates/utils/_ceph_share_section_name.tpl', 'tools/overrides/releases/pike/kolla.yaml', 'manila/templates/bin/_manila-share.sh.tpl', 'manila/templates/configmap-etc.yaml', 'manila/templates/job-ks-endpoints.yaml', 'keystone/values.yaml', 'manila/templates/utils/_is_ceph_share_configured.tpl', 'manila/templates/secret-keystone.yaml', 'manila/templates/job-db-drop.yaml', 'tools/deployment/developer/ceph/200-manila.sh', 'manila/templates/bin/_manila-scheduler.sh.tpl', 'manila/templates/bin/_storage-init.sh.tpl', 'manila/requirements.yaml', 'manila/templates/job-ks-service.yaml', 'tools/deployment/developer/common/060-rabbitmq.sh', 'manila/templates/bin/_clean-secrets.sh.tpl', 'manila/templates/pod-rally-test.yaml', 'manila/templates/job-bootstrap.yaml', 'manila/templates/network_policy.yaml', 'manila/templates/secret-ingress-tls.yaml', 'manila/templates/job-ks-user.yaml', 'manila/templates/job-storage-init.yaml', 'manila/templates/pdb-api.yaml', 'manila/templates/job-clean.yaml', 'manila/templates/job-db-sync.yaml', 'manila/templates/service-ingress-api.yaml', 'manila/templates/secret-db.yaml', 'manila/templates/job-rabbit-init.yaml', 'manila/values.yaml', 'manila/templates/configmap-bin.yaml', 'manila/Chart.yaml', 'manila/templates/bin/_ceph-admin-keyring.sh.tpl', 'manila/templates/deployment-scheduler.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/20448c0e37685d13594bac626a3dfadc5ed7c327', 'message': 'WIP: add Manila Chart\n\nThis PS add Manila Chart with the follwing restrictions:\n * Supports Pike only\n * Only CephFS native driver tested\n * manila-data service for copying, share migration or backup is not supported\n * Modified manila-share from Kolla image required\n  - LOCI does not have manila images\n  - ceph-common packages is missing in the Kolla manila-share:pike image\n\nChange-Id: I558320263657759d8281db9e8f298b7ed46c5e9d\nStory: 2005154\nTask: 29869\n'}]",0,641553,20448c0e37685d13594bac626a3dfadc5ed7c327,5,2,2,30038,,,0,"WIP: add Manila Chart

This PS add Manila Chart with the follwing restrictions:
 * Supports Pike only
 * Only CephFS native driver tested
 * manila-data service for copying, share migration or backup is not supported
 * Modified manila-share from Kolla image required
  - LOCI does not have manila images
  - ceph-common packages is missing in the Kolla manila-share:pike image

Change-Id: I558320263657759d8281db9e8f298b7ed46c5e9d
Story: 2005154
Task: 29869
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/53/641553/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/templates/secret_rabbitmq.yaml', 'manila/templates/bin/_db-sync.sh.tpl', 'manila/templates/job-image-repo-sync.yaml', 'manila/templates/ingress-api.yaml', 'manila/templates/deployment-share.yaml', 'manila/templates/bin/_ceph-keyring.sh.tpl', 'tools/deployment/developer/common/050-mariadb.sh', 'manila/templates/bin/_manila-api.sh.tpl', 'manila/templates/service-api.yaml', 'manila/templates/bin/_bootstrap.sh.tpl', 'tools/deployment/common/memcached.sh', 'tools/deployment/developer/common/030-ingress.sh', 'manila/templates/job-db-init.yaml', 'manila/templates/deployment-api.yaml', 'manila/templates/utils/_ceph_share_section_name.tpl', 'tools/overrides/releases/pike/kolla.yaml', 'manila/templates/bin/_manila-share.sh.tpl', 'manila/templates/configmap-etc.yaml', 'manila/templates/job-ks-endpoints.yaml', 'keystone/values.yaml', 'manila/templates/utils/_is_ceph_share_configured.tpl', 'manila/templates/secret-keystone.yaml', 'manila/templates/job-db-drop.yaml', 'tools/deployment/developer/ceph/200-manila.sh', 'manila/templates/bin/_manila-scheduler.sh.tpl', 'manila/templates/bin/_storage-init.sh.tpl', 'manila/requirements.yaml', 'manila/templates/job-ks-service.yaml', 'tools/deployment/developer/common/060-rabbitmq.sh', 'manila/templates/bin/_clean-secrets.sh.tpl', 'manila/templates/pod-rally-test.yaml', 'manila/templates/job-bootstrap.yaml', 'manila/templates/network_policy.yaml', 'manila/templates/secret-ingress-tls.yaml', 'manila/templates/job-ks-user.yaml', 'manila/templates/job-storage-init.yaml', 'manila/templates/pdb-api.yaml', 'manila/templates/job-clean.yaml', 'manila/templates/job-db-sync.yaml', 'manila/templates/service-ingress-api.yaml', 'manila/templates/secret-db.yaml', 'manila/templates/job-rabbit-init.yaml', 'manila/values.yaml', 'manila/templates/configmap-bin.yaml', 'manila/Chart.yaml', 'manila/templates/bin/_ceph-admin-keyring.sh.tpl', 'manila/templates/deployment-scheduler.yaml']",47,8212a22c9fb226bb644ca45983af8c5e42ef51dd,add_manila_chart,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.deployment_scheduler }} {{- $envAll := . }} {{- $mounts_manila_scheduler := .Values.pod.mounts.manila_scheduler.manila_scheduler }} {{- $mounts_manila_scheduler_init := .Values.pod.mounts.manila_scheduler.init_container }} {{- $serviceAccountName := ""manila-scheduler"" }} {{ tuple $envAll ""scheduler"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: apps/v1 kind: Deployment metadata: name: manila-scheduler annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} labels: {{ tuple $envAll ""manila"" ""scheduler"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: replicas: {{ .Values.pod.replicas.scheduler }} selector: matchLabels: {{ tuple $envAll ""manila"" ""scheduler"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 6 }} {{ tuple $envAll | include ""helm-toolkit.snippets.kubernetes_upgrades_deployment"" | indent 2 }} template: metadata: labels: {{ tuple $envAll ""manila"" ""scheduler"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" | indent 8 }} configmap-bin-hash: {{ tuple ""configmap-bin.yaml"" . | include ""helm-toolkit.utils.hash"" }} configmap-etc-hash: {{ tuple ""configmap-etc.yaml"" . | include ""helm-toolkit.utils.hash"" }} spec: serviceAccountName: {{ $serviceAccountName }} {{ dict ""envAll"" $envAll ""application"" ""manila"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }} affinity: {{ tuple $envAll ""manila"" ""scheduler"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} nodeSelector: {{ .Values.labels.scheduler.node_selector_key }}: {{ .Values.labels.scheduler.node_selector_value }} initContainers: {{ tuple $envAll ""scheduler"" $mounts_manila_scheduler_init | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: manila-scheduler {{ tuple $envAll ""manila_scheduler"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.scheduler | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} securityContext: allowPrivilegeEscalation: false command: - /tmp/manila-scheduler.sh volumeMounts: - name: manila-bin mountPath: /tmp/manila-scheduler.sh subPath: manila-scheduler.sh readOnly: true - name: manila-etc mountPath: /etc/manila/manila.conf subPath: manila.conf readOnly: true - name: manila-etc mountPath: {{ .Values.conf.manila.DEFAULT.log_config_append }} subPath: {{ base .Values.conf.manila.DEFAULT.log_config_append }} readOnly: true - name: manila-etc mountPath: /etc/manila/api-paste.ini subPath: api-paste.ini readOnly: true - name: manila-etc mountPath: /etc/manila/policy.json subPath: policy.json readOnly: true {{ if $mounts_manila_scheduler.volumeMounts }}{{ toYaml $mounts_manila_scheduler.volumeMounts | indent 12 }}{{ end }} volumes: - name: manila-bin configMap: name: manila-bin defaultMode: 0555 - name: manila-etc secret: secretName: manila-etc defaultMode: 0444 {{ if $mounts_manila_scheduler.volumes }}{{ toYaml $mounts_manila_scheduler.volumes | indent 8 }}{{ end }} {{- end }} ",,2878,0
openstack%2Fopenstack-helm-infra~master~I0bbb708e27e37bdba40c69d911eb403455af21fa,openstack/openstack-helm-infra,master,I0bbb708e27e37bdba40c69d911eb403455af21fa,"[DNM] expt, remove unnecessary hostPIDification",ABANDONED,2019-02-14 22:09:51.000000000,2020-07-15 20:08:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-14 22:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b45e16c71dc8e3c3e2630cbdddb7185262c602a', 'message': '[DNM] expt, remove unnecessary hostPIDification\n\nChange-Id: I0bbb708e27e37bdba40c69d911eb403455af21fa\n'}, {'number': 2, 'created': '2019-02-27 19:17:21.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'fluent-logging/templates/daemonset-fluent-bit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2a170e6bd7d1580fdeb51d1e7bdd9c05e1808c4', 'message': '[DNM] expt, remove unnecessary hostPIDification\n\nChange-Id: I0bbb708e27e37bdba40c69d911eb403455af21fa\n'}]",0,637064,b2a170e6bd7d1580fdeb51d1e7bdd9c05e1808c4,5,1,2,8898,,,0,"[DNM] expt, remove unnecessary hostPIDification

Change-Id: I0bbb708e27e37bdba40c69d911eb403455af21fa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/64/637064/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/daemonset-osd.yaml', 'fluent-logging/templates/daemonset-fluent-bit.yaml']",2,0b45e16c71dc8e3c3e2630cbdddb7185262c602a,de-hostpid,, hostPID: true,0,2
openstack%2Fopenstack-helm-infra~master~I984bcd723a4bb1fb27dab7fbe0e9cd977cc23b99,openstack/openstack-helm-infra,master,I984bcd723a4bb1fb27dab7fbe0e9cd977cc23b99,Optimize SERVICE_TYPE calculation logic,ABANDONED,2019-01-24 07:36:00.000000000,2020-07-15 20:07:57.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-01-24 07:36:00.000000000', 'files': ['helm-toolkit/templates/scripts/_rally_test.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c46a96a58b57153903ca005a4e8b706cd693561', 'message': 'Optimize SERVICE_TYPE calculation logic\n\nFor special cases like when the pod is for testing cinder services,\nRALLY_ENV_NAME will be ""cinder"" and then SERVICE_TYPE will be messed\nup since output from ""rally deployment check"" will contain 3 cinder\nservice records for some environments:\n| cinder      | volume                  | Available |\n| cinderv2    | volumev2                | Available |\n| cinderv3    | volumev3                | Available |\nIn this case, SERVICE_TYPE will be ""volumevolumev2volumev3"", which will not\nwith work with ""rally verify start"" command in the next line since no tempest\ntests will match pattern ""tempest.api.volumevolumev2volumev3*"".\n\nThis patch excludes the service records with version suffix so SERVICE_TYPE\nwill be calculated correctly for the aforementioned cases.\n\nChange-Id: I984bcd723a4bb1fb27dab7fbe0e9cd977cc23b99\n'}]",0,632947,2c46a96a58b57153903ca005a4e8b706cd693561,3,3,1,25562,,,0,"Optimize SERVICE_TYPE calculation logic

For special cases like when the pod is for testing cinder services,
RALLY_ENV_NAME will be ""cinder"" and then SERVICE_TYPE will be messed
up since output from ""rally deployment check"" will contain 3 cinder
service records for some environments:
| cinder      | volume                  | Available |
| cinderv2    | volumev2                | Available |
| cinderv3    | volumev3                | Available |
In this case, SERVICE_TYPE will be ""volumevolumev2volumev3"", which will not
with work with ""rally verify start"" command in the next line since no tempest
tests will match pattern ""tempest.api.volumevolumev2volumev3*"".

This patch excludes the service records with version suffix so SERVICE_TYPE
will be calculated correctly for the aforementioned cases.

Change-Id: I984bcd723a4bb1fb27dab7fbe0e9cd977cc23b99
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/47/632947/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/_rally_test.sh.tpl'],1,2c46a96a58b57153903ca005a4e8b706cd693561,rally_script_fix,"SERVICE_TYPE=""$(rally deployment check | grep ""${RALLY_ENV_NAME}"" | grep -v ""v[0-9]"" | awk -F \| '{print $3}' | tr -d ' ' | tr -d '\n')""","SERVICE_TYPE=""$(rally deployment check | grep ""${RALLY_ENV_NAME}"" | awk -F \| '{print $3}' | tr -d ' ' | tr -d '\n')""",1,1
openstack%2Fopenstack-helm~master~I74d619f33a66ac517660781e7faed6467c8ad938,openstack/openstack-helm,master,I74d619f33a66ac517660781e7faed6467c8ad938,Cinder : support multi rbd backend,ABANDONED,2019-01-22 09:29:01.000000000,2020-07-15 20:07:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 28883}]","[{'number': 1, 'created': '2019-01-22 09:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b48f86ab2a0e2ed9390adac8bed013a0732fb5c4', 'message': '[WIP] Cinder : support multi rbd backend\n\nThis PS supports cinder multi rbd backend function and refactor mainfests for cinder backup.\nThis PS needs ceph.conf files for each rbd backends and cinder-backup ceph backend\n\n* removed external ceph values for cinder backup\n* added secret names for each rbd backends\n* added ceph client secret keyrings for each rbd backends\n* seperated target ceph of cinder-backup and cinder-volume\n* changed value name pool_chunk_size -> pool_pg_num\n\nChange-Id: I74d619f33a66ac517660781e7faed6467c8ad938\n'}, {'number': 2, 'created': '2019-01-22 09:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c13aabf0ec143e27e66e3a24cefcd12f3ac1e84f', 'message': '[WIP] Cinder : support multi rbd backend\n\nThis PS supports cinder multi rbd backend function and refactor mainfests\nfor cinder backup.\nAnd this PS needs ceph.conf files for each rbd backends and cinder-backup\nceph backend.\n\n* removed external ceph values for cinder backup\n* added secret names for each rbd backends\n* added ceph client secret keyrings for each rbd backends\n* seperated target ceph of cinder-backup and cinder-volume\n* changed value name pool_chunk_size -> pool_pg_num\n\nChange-Id: I74d619f33a66ac517660781e7faed6467c8ad938\n'}, {'number': 3, 'created': '2019-01-22 09:41:06.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'cinder/templates/deployment-volume.yaml', 'cinder/templates/utils/_is_rbd_backend.tpl', 'cinder/values.yaml', 'cinder/templates/bin/_ceph-keyring.sh.tpl', 'cinder/templates/utils/_is_ceph_volume_configured.tpl', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/job-storage-init.yaml', 'cinder/templates/bin/_external-ceph-rbd-admin-keyring.sh.tpl', 'cinder/templates/configmap-bin.yaml', 'cinder/templates/bin/_storage-init.sh.tpl', 'cinder/templates/job-backup-storage-init.yaml', 'cinder/templates/job-clean.yaml', 'cinder/templates/bin/_ceph-admin-keyring.sh.tpl', 'cinder/templates/bin/_backup-storage-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/483cbecefd64d84cfc024629334013ea51c78a28', 'message': 'Cinder : support multi rbd backend\n\nThis PS supports cinder multi rbd backend function and refactor mainfests\nfor cinder backup.\nAnd this PS needs ceph.conf files for each rbd backends and cinder-backup\nceph backend.\n\n* removed external ceph values for cinder backup\n* added secret names for each rbd backends\n* added ceph client secret keyrings for each rbd backends\n* seperated target ceph of cinder-backup and cinder-volume\n* changed value name pool_chunk_size -> pool_pg_num\n\nChange-Id: I74d619f33a66ac517660781e7faed6467c8ad938\n'}]",7,632346,483cbecefd64d84cfc024629334013ea51c78a28,6,2,3,25764,,,0,"Cinder : support multi rbd backend

This PS supports cinder multi rbd backend function and refactor mainfests
for cinder backup.
And this PS needs ceph.conf files for each rbd backends and cinder-backup
ceph backend.

* removed external ceph values for cinder backup
* added secret names for each rbd backends
* added ceph client secret keyrings for each rbd backends
* seperated target ceph of cinder-backup and cinder-volume
* changed value name pool_chunk_size -> pool_pg_num

Change-Id: I74d619f33a66ac517660781e7faed6467c8ad938
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/632346/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/configmap-etc.yaml', 'cinder/templates/deployment-volume.yaml', 'cinder/templates/utils/_is_rbd_backend.tpl', 'cinder/values.yaml', 'cinder/templates/bin/_ceph-keyring.sh.tpl', 'cinder/templates/utils/_is_ceph_volume_configured.tpl', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/job-storage-init.yaml', 'cinder/templates/bin/_external-ceph-rbd-admin-keyring.sh.tpl', 'cinder/templates/configmap-bin.yaml', 'cinder/templates/bin/_storage-init.sh.tpl', 'cinder/templates/job-backup-storage-init.yaml', 'cinder/templates/job-clean.yaml', 'cinder/templates/bin/_ceph-admin-keyring.sh.tpl', 'cinder/templates/bin/_backup-storage-init.sh.tpl']",15,b48f86ab2a0e2ed9390adac8bed013a0732fb5c4,feature/cinder-multi-backend," ensure_pool ${RBD_POOL_NAME} ${RBD_POOL_PG_NUM} ""cinder-backup"""," ensure_pool ${RBD_POOL_NAME} ${RBD_POOL_CHUNK_SIZE} ""cinder-backup""",139,204
openstack%2Fopenstack-helm~master~Ibd96eade93e0b6fe390ee8bbab09bee6f5c4427c,openstack/openstack-helm,master,Ibd96eade93e0b6fe390ee8bbab09bee6f5c4427c,Updating nova-placement-api to work with opensuse based image,ABANDONED,2019-02-01 00:53:42.000000000,2020-07-15 20:07:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28208}]","[{'number': 1, 'created': '2019-02-01 00:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ac5158615955a2112950ebde61c62ee15b87fee8', 'message': 'Updating nova-placement-api to work with opensuse based image\n\nModifiying apache vhosts file location for nova-placement-api wsgi\ncomponent to work with opensuse based images.\nAlso adding conf file for allowing access to cgi script in opensuse\nenvironment.\n\nChange-Id: Ibd96eade93e0b6fe390ee8bbab09bee6f5c4427c\n'}, {'number': 2, 'created': '2019-02-01 01:29:36.000000000', 'files': ['nova/templates/configmap-etc.yaml', 'nova/values.yaml', 'nova/templates/bin/_nova-placement-api.sh.tpl', 'nova/templates/deployment-placement.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1a274f4c37cd552febccd9343d9df25c413c37e', 'message': 'Updating nova-placement-api to work with opensuse based image\n\nModifiying apache vhosts file location for nova-placement-api wsgi\ncomponent to work with opensuse based images.\nAlso adding conf file for allowing access to cgi script in opensuse\nenvironment.\n\nChange-Id: Ibd96eade93e0b6fe390ee8bbab09bee6f5c4427c\n'}]",0,634359,b1a274f4c37cd552febccd9343d9df25c413c37e,6,3,2,1091,,,0,"Updating nova-placement-api to work with opensuse based image

Modifiying apache vhosts file location for nova-placement-api wsgi
component to work with opensuse based images.
Also adding conf file for allowing access to cgi script in opensuse
environment.

Change-Id: Ibd96eade93e0b6fe390ee8bbab09bee6f5c4427c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/59/634359/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/configmap-etc.yaml', 'nova/values.yaml', 'nova/templates/bin/_nova-placement-api.sh.tpl', 'nova/templates/deployment-placement.yaml']",4,ac5158615955a2112950ebde61c62ee15b87fee8,osh_suse_nova,"{{- if and (.Values.image_distro) (eq .Values.image_distro ""suse_15"") }} securityContext: runAsUser: 0 {{- end }}{{- if and (.Values.image_distro) (eq .Values.image_distro ""suse_15"") }} - name: keystone-etc mountPath: /etc/apache2/vhosts.d/wsgi-nova-placement.conf subPath: wsgi-nova-placement.conf readOnly: true - name: keystone-etc mountPath: /etc/apache2/conf.d/default.conf subPath: wsgi-nova-placement-script.conf readOnly: true {{- else }}{{- end }}",,50,2
openstack%2Fopenstack-helm~master~I3e49fb7cdb5f84060d9a7b580589b461de201c23,openstack/openstack-helm,master,I3e49fb7cdb5f84060d9a7b580589b461de201c23,Updating keystone-api to work with opensuse based image,ABANDONED,2019-01-29 23:49:00.000000000,2020-07-15 20:07:22.000000000,,"[{'_account_id': 1091}, {'_account_id': 1916}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24580}, {'_account_id': 28208}]","[{'number': 1, 'created': '2019-01-29 23:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3847f8661d44aef94aa56883c394b453d7040ab7', 'message': 'Updating keystone-api to work with opensuse based image\n\nModifiying vhosts file location for opensuse based images\nAlso adding conf file for allowing access to cgi script in opensuse\nenvironent.\n\nChange-Id: I3e49fb7cdb5f84060d9a7b580589b461de201c23\n'}, {'number': 2, 'created': '2019-01-30 00:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f215df5e9cc9b2deb4d144adfe64295971ae0d0', 'message': 'Updating keystone-api to work with opensuse based image\n\nModifiying aapche vhosts file location for keystone-api wsgi\ncomponent to work with opensuse based images.\nAlso adding conf file for allowing access to cgi script in opensuse\nenvironment.\n\nChange-Id: I3e49fb7cdb5f84060d9a7b580589b461de201c23\n'}, {'number': 3, 'created': '2019-01-30 00:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c61874eaba412975144bfbe68bdfeda893f0c56b', 'message': 'Updating keystone-api to work with opensuse based image\n\nModifiying apache vhosts file location for keystone-api wsgi\ncomponent to work with opensuse based images.\nAlso adding conf file for allowing access to cgi script in opensuse\nenvironment.\n\nChange-Id: I3e49fb7cdb5f84060d9a7b580589b461de201c23\n'}, {'number': 4, 'created': '2019-02-01 00:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/430ebff922a0b763af2dce9c7781b118811b8dc5', 'message': 'Updating keystone-api to work with opensuse based image\n\nModifiying aapche vhosts file location for keystone-api wsgi\ncomponent to work with opensuse based images.\nAlso adding conf file for allowing access to cgi script in opensuse\nenvironment.\n\nChange-Id: I3e49fb7cdb5f84060d9a7b580589b461de201c23\n'}, {'number': 5, 'created': '2019-02-01 00:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/55058698434fe389e9c27f41bbde2a4ae640ce08', 'message': 'Updating keystone-api to work with opensuse based image\n\nModifiying aapche vhosts file location for keystone-api wsgi\ncomponent to work with opensuse based images.\nAlso adding conf file for allowing access to cgi script in opensuse\nenvironment.\n\nChange-Id: I3e49fb7cdb5f84060d9a7b580589b461de201c23\n'}, {'number': 6, 'created': '2019-02-01 00:54:15.000000000', 'files': ['keystone/templates/configmap-etc.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/values.yaml', 'keystone/templates/bin/_keystone-api.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e132eefb9786710873d79ea5e62ca940c3087992', 'message': 'Updating keystone-api to work with opensuse based image\n\nModifiying apache vhosts file location for keystone-api wsgi\ncomponent to work with opensuse based images.\nAlso adding conf file for allowing access to cgi script in opensuse\nenvironment.\n\nChange-Id: I3e49fb7cdb5f84060d9a7b580589b461de201c23\n'}]",15,633847,e132eefb9786710873d79ea5e62ca940c3087992,17,7,6,1091,,,0,"Updating keystone-api to work with opensuse based image

Modifiying apache vhosts file location for keystone-api wsgi
component to work with opensuse based images.
Also adding conf file for allowing access to cgi script in opensuse
environment.

Change-Id: I3e49fb7cdb5f84060d9a7b580589b461de201c23
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/47/633847/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/configmap-etc.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/values.yaml', 'keystone/templates/bin/_keystone-api.sh.tpl']",4,3847f8661d44aef94aa56883c394b453d7040ab7,osh_suse_keystone," . /etc/os-release HOST_OS=${HOST_OS:=""${ID}""} if [[ ""x$HOST_OS"" == ""xsles"" ]] || [[ ""$HOST_OS"" == *""suse""* ]]; then a2enmod version exec apachectl -DFOREGROUND -k start else # Start Apache2 exec apache2 -DFOREGROUND fi", # Start Apache2 exec apache2 -DFOREGROUND,54,2
openstack%2Fopenstack-helm-infra~master~I092355d5ff2530585598219cd50d3c8856524c83,openstack/openstack-helm-infra,master,I092355d5ff2530585598219cd50d3c8856524c83,RabbitMQ: add kubernetes_pod_security_context to pods,ABANDONED,2019-02-16 03:14:18.000000000,2020-07-15 20:07:18.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-02-16 03:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2eac115ac8131282777edd64b5c7598b743874f5', 'message': 'RabbitMQ: add kubernetes_pod_security_context to pods\n\nThis PS adds the kubernetes_pod_security_context snippet to pods.\n\nChange-Id: I092355d5ff2530585598219cd50d3c8856524c83\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-02-16 13:10:12.000000000', 'files': ['rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b538aca27b3fa980594c3867b40cda49baf75ff', 'message': 'RabbitMQ: add kubernetes_pod_security_context to pods\n\nThis PS adds the kubernetes_pod_security_context snippet to pods.\n\nChange-Id: I092355d5ff2530585598219cd50d3c8856524c83\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,637349,5b538aca27b3fa980594c3867b40cda49baf75ff,10,4,2,23928,,,0,"RabbitMQ: add kubernetes_pod_security_context to pods

This PS adds the kubernetes_pod_security_context snippet to pods.

Change-Id: I092355d5ff2530585598219cd50d3c8856524c83
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/49/637349/1 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml']",3,2eac115ac8131282777edd64b5c7598b743874f5,readonly-root,"{{ dict ""envAll"" $envAll ""application"" ""rabbitmq"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }}",,14,0
openstack%2Fopenstack-helm-infra~master~I7e64d964fe273ffa8292966a0996f2f9053aa074,openstack/openstack-helm-infra,master,I7e64d964fe273ffa8292966a0996f2f9053aa074,Postgresql: add kubernetes_pod_security_context to pods,ABANDONED,2019-02-16 03:22:39.000000000,2020-07-15 20:07:13.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-02-16 03:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15b4028a91c6b4a302e2754f6a9f0d42dd11df9a', 'message': 'Postgresql: add kubernetes_pod_security_context to pods\n\nThis PS adds the kubernetes_pod_security_context snippet to pods.\n\nChange-Id: I7e64d964fe273ffa8292966a0996f2f9053aa074\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-02-16 13:10:19.000000000', 'files': ['postgresql/templates/monitoring/prometheus/exporter-job-create-user.yaml', 'postgresql/templates/monitoring/prometheus/exporter-deployment.yaml', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b762d1a6151677d971e5d1a8dda4d1cdbfe4fa2a', 'message': 'Postgresql: add kubernetes_pod_security_context to pods\n\nThis PS adds the kubernetes_pod_security_context snippet to pods.\n\nChange-Id: I7e64d964fe273ffa8292966a0996f2f9053aa074\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,637350,b762d1a6151677d971e5d1a8dda4d1cdbfe4fa2a,10,4,2,23928,,,0,"Postgresql: add kubernetes_pod_security_context to pods

This PS adds the kubernetes_pod_security_context snippet to pods.

Change-Id: I7e64d964fe273ffa8292966a0996f2f9053aa074
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/637350/1 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/monitoring/prometheus/exporter-job-create-user.yaml', 'postgresql/templates/monitoring/prometheus/exporter-deployment.yaml', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml']",4,15b4028a91c6b4a302e2754f6a9f0d42dd11df9a,readonly-root, user: postgresql: uid: 0 prometheus_postgresql_exporter: uid: 0 prometheus_postgresql_exporter_create_user: uid: 0 security_context: postgresql: global: readOnlyRootFilesystem: false prometheus_postgresql_exporter: global: readOnlyRootFilesystem: false prometheus_postgresql_exporter_create_user: global: readOnlyRootFilesystem: false,,20,0
openstack%2Fopenstack-helm-infra~master~I7a430f51dfb9fc122f49d17eefd0543dc4f52d64,openstack/openstack-helm-infra,master,I7a430f51dfb9fc122f49d17eefd0543dc4f52d64,WIP: Update kubernetes_pod_security_context to be truly generic,ABANDONED,2019-02-16 13:55:58.000000000,2020-07-15 20:07:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-16 13:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2bbf283f0a98e7ba97c88cd50d672a75d714f94f', 'message': 'WIP: Update ubernetes_pod_security_context to be truly generic\n\nChange-Id: I7a430f51dfb9fc122f49d17eefd0543dc4f52d64\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-02-16 16:49:57.000000000', 'files': ['helm-toolkit/templates/snippets/_kubernetes_pod_security_context.tpl', 'openvswitch/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f44862dd1a509affed12a06af6032abee0eb1e8', 'message': 'WIP: Update kubernetes_pod_security_context to be truly generic\n\nChange-Id: I7a430f51dfb9fc122f49d17eefd0543dc4f52d64\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,637382,2f44862dd1a509affed12a06af6032abee0eb1e8,5,1,2,23928,,,0,"WIP: Update kubernetes_pod_security_context to be truly generic

Change-Id: I7a430f51dfb9fc122f49d17eefd0543dc4f52d64
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/82/637382/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/snippets/_kubernetes_pod_security_context.tpl', 'openvswitch/values.yaml']",2,2bbf283f0a98e7ba97c88cd50d672a75d714f94f,readonly-root, container: vswitchd_modules: capabilities: add: - SYS_MODULE vswitchd: capabilities: add: - NET_ADMIN, vswitchd_modules: capabilities: add: - SYS_MODULE vswitchd: capabilities: add: - NET_ADMIN,17,12
openstack%2Fopenstack-helm-infra~master~I91e89d7798f6e850e47901551c5dc7cf9d80c97f,openstack/openstack-helm-infra,master,I91e89d7798f6e850e47901551c5dc7cf9d80c97f,OvS: Add pod security context to pods,ABANDONED,2019-02-16 13:40:59.000000000,2020-07-15 20:07:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-16 13:40:59.000000000', 'files': ['openvswitch/values.yaml', 'openvswitch/templates/daemonset-ovs-db.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9965f6a7b0089816d1f4c843cda20a67ea6d7830', 'message': 'OvS: Add pod security context to pods\n\nThis PS adds the pod security context snippet to pods\n\nChange-Id: I91e89d7798f6e850e47901551c5dc7cf9d80c97f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,637381,9965f6a7b0089816d1f4c843cda20a67ea6d7830,3,1,1,23928,,,0,"OvS: Add pod security context to pods

This PS adds the pod security context snippet to pods

Change-Id: I91e89d7798f6e850e47901551c5dc7cf9d80c97f
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/81/637381/1 && git format-patch -1 --stdout FETCH_HEAD,"['openvswitch/values.yaml', 'openvswitch/templates/daemonset-ovs-db.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml']",3,9965f6a7b0089816d1f4c843cda20a67ea6d7830,readonly-root,"{{ dict ""envAll"" $envAll ""application"" ""ovs_vswitchd"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }}{{ dict ""envAll"" $envAll ""application"" ""ovs_vswitchd"" ""container"" ""vswitchd_modules"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 10 }}{{ dict ""envAll"" $envAll ""application"" ""ovs_vswitchd"" ""container"" ""vswitchd"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 10 }}", securityContext: capabilities: add: - SYS_MODULE runAsUser: 0 securityContext: runAsUser: 0 capabilities: add: - NET_ADMIN,24,12
openstack%2Fopenstack-helm-addons~master~I35e7b2482020539d2030955d1cac89a050e8df47,openstack/openstack-helm-addons,master,I35e7b2482020539d2030955d1cac89a050e8df47,Jenkins chart,ABANDONED,2018-02-15 04:41:29.000000000,2020-07-15 20:06:57.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25731}, {'_account_id': 26627}, {'_account_id': 27950}, {'_account_id': 28162}, {'_account_id': 28208}, {'_account_id': 28996}]","[{'number': 1, 'created': '2018-02-15 04:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/8b10abef0e0d83e77402451ab136f2bd962233d5', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 2, 'created': '2018-03-09 17:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/a28e4bca5ac68949f3e86972a333407aa29c3507', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 3, 'created': '2018-03-09 17:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4f8159a7abbcefb3eadba0eec9b2e445b4cd405c', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 4, 'created': '2018-03-12 22:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/e33c4ceb9b3d63a00fee23d266f8553e5addfe6e', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 5, 'created': '2018-03-14 00:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c0c0c809ee6541fdd078cdc661ffbf52543b337f', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 6, 'created': '2018-03-14 00:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/3ea2748d7d41bda94c35c3fa06743417622bd5f2', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 7, 'created': '2018-03-27 22:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/96172d67d7d5299e3fa1ff4ab6e13dddb171d8ad', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 8, 'created': '2018-03-27 22:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d30a69681d64253cdd9843f8c33cd068622d989b', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 9, 'created': '2018-03-27 23:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/2f3fb9bebcb9ac8e483a1a3616e85625d3292d9e', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 10, 'created': '2018-03-28 00:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/3fd5d312643bbe7c5d2bcf8a3816e6ff9f1d0b14', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 11, 'created': '2018-03-28 00:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4a03b3ca59a8a61ebe3dabb6d7e0ce3dce6697da', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 12, 'created': '2018-03-28 00:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b89b13cfd681c2fa284780dc5c156006ddf472a7', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 13, 'created': '2018-03-28 00:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b99c848a05b87496ddc231e8144608fd698a6eb2', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 14, 'created': '2018-03-28 14:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6e08ef0aa168b64a1a9a29bf84746f7f8b779757', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 15, 'created': '2018-03-28 15:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ea459d0ab1a8e099c49f5304003c5e4945d51ddf', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 16, 'created': '2018-03-28 19:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/31aea01bd84a6c763459d686a8dcfa1ef9c3beeb', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 17, 'created': '2018-03-28 21:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/056e7436993cb424a6e37582bb945bea823f3e5d', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 18, 'created': '2018-03-28 21:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/aa2aab0938f763b9a718e5fbd10a529747152465', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 19, 'created': '2018-03-28 21:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b6ed43b5a2b38462d29a82105c3ee75bc81ee971', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 20, 'created': '2018-03-29 18:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/3621957fad0a44282b954d8b76fa85d1cbd805a6', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 21, 'created': '2018-04-02 15:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4dd27b18fa9a647fff6b73cb3eac4313b8131441', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 22, 'created': '2018-04-02 15:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b99902ea2e01c3973624e2028e5cec4ed626474a', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 23, 'created': '2018-04-02 15:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d0dc7739c4bbd95d02b977506f2f48ea8cc181c6', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 24, 'created': '2018-04-02 16:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/20b311b019c7317a5c30ccbfc2e50574290092c0', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 25, 'created': '2018-04-03 22:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/70263a13a36a0aa9c553bfc6c26f5b4793af65ce', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 26, 'created': '2018-04-04 20:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/960094a2fbe06928860780aadbf07814cd41451e', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 27, 'created': '2018-04-04 20:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/01a987ef968e4a9c7223d3ddc930c20e38ff407d', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 28, 'created': '2018-04-05 15:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/dfaa3de0bb01b379a86f86e946e42ba59bdf7c6f', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 29, 'created': '2018-04-05 16:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/9c828dd9caeb611f8a19fee6d361af01d029eeac', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 30, 'created': '2018-04-05 18:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/1a716ded26c8e270a07048dff8fcb621bf01b640', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 31, 'created': '2018-04-05 18:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/abf95d511813cebf90ac4c85f62e742f213da304', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 32, 'created': '2018-04-05 19:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/964df49e4128b6eef3d37ef44dac95993ab6580c', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 33, 'created': '2018-04-05 21:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/7816da8db92acde0bfafcbbf0d6ec2e439f27505', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 34, 'created': '2018-04-05 22:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/f6ea957833b7dc6d4a9b5dff17607a900f507cf5', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 35, 'created': '2018-04-05 23:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/2e37264b9b2dd0f6b1839b379f7bac527f2d8b7b', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 36, 'created': '2018-04-06 18:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c55d29e7c110981b59b963c38b45b1f3f8d63ed0', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 37, 'created': '2018-04-06 18:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b2b46c13f24ab6c9d59e503a2f6bb293744cbac4', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 38, 'created': '2018-04-06 19:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d06065e8a17f63f89e8e34c869e6d5afa541a1d9', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 39, 'created': '2018-04-06 20:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/f7c750df0c1018b9e17726cc77f2b4a946a2620c', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 40, 'created': '2018-04-06 20:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/eef8ff8fe28ac77bef75d15e63fa864fa438055d', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 41, 'created': '2018-04-06 20:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/f49170984ceeb20395aaafa8ca8a1629bae5e9bf', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 42, 'created': '2018-04-06 21:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/af4ac355948241d6d633158d434475873711bbf0', 'message': 'Jenkins chart\n\nThis ps adds Jenkins with a set of plugins as well as configs\nthat connect to keystone to use Heat templates.\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 43, 'created': '2018-04-09 19:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/e862284077d4d3b059b2a36e2bea87ebde705d35', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 44, 'created': '2018-04-09 20:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/bf5e332b12c43560bc379cf04b3fb067df41d07d', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 45, 'created': '2018-04-09 21:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/8d1b402c6c4d87d3e838dd2f9b2d8869c6c86abf', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 46, 'created': '2018-04-09 22:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/334d4c64f6d7eb0c468d0fab5436308b80bac01f', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 47, 'created': '2018-04-10 21:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/156fc1848be8686f62957a1c83fc6136992edff0', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 48, 'created': '2018-04-10 21:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/7474fbf6c32b27cf1e5667e37bdeea4c850ea6ca', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 49, 'created': '2018-04-10 21:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/7e2a63688c976ddbb7bfa680e949fa9681b44e0f', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 50, 'created': '2018-04-10 22:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c3be8c5d331bc9e336b737b4e2104642bd9b08c8', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 51, 'created': '2018-04-10 23:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/259e543bbb2620dede782e64fb2912ec2b60965d', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 52, 'created': '2018-04-11 01:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d5c3711c707ead8ab9424358fba852c1a963a846', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 53, 'created': '2018-04-11 19:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d8dd7f7c8748bcb84db15e62c2122634a5056a61', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 54, 'created': '2018-04-13 20:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/cc2e487359099ed9692b3cf1c669ac8f6ae4d2ce', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 55, 'created': '2018-04-13 20:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/039c9b1d7894aaf2ed96a58b2b63f157ac25287e', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 56, 'created': '2018-04-13 21:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/286f81a2a26c3a45721094f4454e3820d1cd6ea8', 'message': '[WIP] Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 57, 'created': '2018-04-13 21:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/16a984bb16123f729d2f67be4a7cc3d41e2eb4b5', 'message': 'Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 58, 'created': '2018-06-25 22:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/77bcf504ba0c17b55ade73e8f3b772187e26011a', 'message': 'Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 59, 'created': '2018-07-10 20:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b37955e8eff713650e541707e159ea3d1911fc83', 'message': 'Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 60, 'created': '2018-08-30 10:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/67b0f4bbe01b5ea33385c33b861bd04f5524edb9', 'message': 'Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 61, 'created': '2018-09-07 20:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4ff6ac1e9f19cffda5b920a217732d3102c7e331', 'message': 'Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 62, 'created': '2018-09-14 02:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6a430db800e7718c233aada488f7183a535c0aa4', 'message': 'Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 63, 'created': '2018-09-15 04:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/5c2ce0e838f6e1fad1e6065ddea87d404609fb56', 'message': 'Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 64, 'created': '2018-09-21 14:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/2e7bd906ceb885c90719a1e25df2676a7aa375a6', 'message': 'Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}, {'number': 65, 'created': '2019-01-14 08:01:07.000000000', 'files': ['jenkins/templates/etc/_credentials.xml.tpl', 'jenkins/templates/configmap-bin.yaml', 'jenkins/templates/secret-keystone.yaml', 'jenkins/templates/etc/_plugins.txt.tpl', 'jenkins/templates/bin/_proxy-config-gen.py.tpl', 'jenkins/templates/etc/_com.arkea.jenkins.openstack.heat.HOTPlayerSettings.xml.tpl', 'jenkins/templates/job-ks-user.yaml', 'jenkins/templates/jenkins-api.yaml', 'jenkins/templates/etc/_config.xml.tpl', 'jenkins/requirements.yaml', 'jenkins/templates/etc/_org.jfrog.hudson.ArtifactoryBuilder.xml.tpl', 'jenkins/templates/service-jenkins.yaml', 'jenkins/templates/etc/_jenkins.CLI.xml.tpl', 'jenkins/values.yaml', 'jenkins/templates/bin/_seed.sh.tpl', 'jenkins/templates/etc/_jenkins.security.QueueItemAuthenticatorConfiguration.xml.tpl', 'jenkins/templates/etc/_superseedconfig.xml.tpl', 'jenkins/templates/bin/_launch.sh.tpl', 'jenkins/templates/configmap-etc.yaml', 'jenkins/templates/etc/_jenkins.security.UpdateSiteWarningsConfiguration.xml.tpl', 'jenkins/Chart.yaml', 'jenkins/templates/etc/_cicdfolderconfig.xml.tpl', 'jenkins/templates/api-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/47cb1642e813c4ea8896f8007b274d0471558fdf', 'message': 'Jenkins chart\n\nChange-Id: I35e7b2482020539d2030955d1cac89a050e8df47\n'}]",11,544780,47cb1642e813c4ea8896f8007b274d0471558fdf,140,10,65,25731,,,0,"Jenkins chart

Change-Id: I35e7b2482020539d2030955d1cac89a050e8df47
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/80/544780/32 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/templates/pvc-jenkins.yaml', 'jenkins/templates/configmap-bin.yaml', 'jenkins/templates/secret-keystone.yaml', 'jenkins/templates/service-jenkins.yaml.tpl', 'jenkins/templates/etc/_plugins.txt.tpl', 'jenkins/templates/etc/_com.arkea.jenkins.openstack.heat.HOTPlayerSettings.xml.tpl', 'jenkins/templates/job-ks-user.yaml', 'jenkins/templates/bin/_jenkins-setup.sh.tpl', 'jenkins/templates/deployment-jenkins.yaml.tpl', 'jenkins/templates/etc/_config.xml.tpl', 'jenkins/templates/bin/_jenkins-launch.sh.tpl', 'jenkins/requirements.yaml', 'jenkins/values.yaml', 'jenkins/templates/bin/_plugins.sh.tpl', 'jenkins/templates/etc/_jenkins.security.QueueItemAuthenticatorConfiguration.xml.tpl', 'jenkins/templates/configmap-etc.yaml', 'jenkins/templates/etc/_jenkins.security.UpdateSiteWarningsConfiguration.xml.tpl', 'jenkins/Chart.yaml']",18,8b10abef0e0d83e77402451ab136f2bd962233d5,jenkins-update-gerrit-14,apiVersion: v1 description: OpenStack-Helm Jenkins maintainers: - name: OpenStack-Helm Authors name: jenkins version: 0.1.0 ,,901,0
openstack%2Fopenstack-helm~master~I2d361b9dd1bbde44909ee06936f47fb54104cd7b,openstack/openstack-helm,master,I2d361b9dd1bbde44909ee06936f47fb54104cd7b,"ReadinessProbe_Neutron_agents This implementation is to add Readiness Probe for neutron agents(l3/ dhcp/metadata). The goal is to make sure the neutron agents related  processes are up and the tcp sockets to the Rabbitmq are in  ""ESTABLISHED"" status. This is done by mining the /proc filesystem on the guest.",ABANDONED,2019-02-05 17:00:10.000000000,2020-07-15 20:06:31.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 16881}, {'_account_id': 17900}, {'_account_id': 18204}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-02-05 17:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/55c864eb388e7309f4a253dfa8a11d4ad8a521ff', 'message': 'ReadinessProbe_Neutron_agents\n\nChange-Id: I2d361b9dd1bbde44909ee06936f47fb54104cd7b\n'}, {'number': 2, 'created': '2019-02-05 17:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e25acff9873e6cdf2f92feea0c1bb55fd57d9ccd', 'message': 'ReadinessProbe_Neutron_agents\nThis implementation is to add Readiness Probe for neutron agents(l3/\ndhcp/metadata). The goal is to make sure the neutron agents related \nprocesses are up and the tcp sockets to the Rabbitmq are in \n""ESTABLISHED"" status. This is done by mining the /proc filesystem on the\nguest.\n\nChange-Id: I2d361b9dd1bbde44909ee06936f47fb54104cd7b\n'}, {'number': 3, 'created': '2019-02-06 21:48:31.000000000', 'files': ['neutron/templates/bin/_neutron-agents-readiness-probe.sh.tpl', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d25cfd6977ed960f9a6b8f54e4abb82ce602e0e2', 'message': 'ReadinessProbe_Neutron_agents\nThis implementation is to add Readiness Probe for neutron agents(l3/\ndhcp/metadata). The goal is to make sure the neutron agents related \nprocesses are up and the tcp sockets to the Rabbitmq are in \n""ESTABLISHED"" status. This is done by mining the /proc filesystem on the\nguest.\n\nChange-Id: I2d361b9dd1bbde44909ee06936f47fb54104cd7b\n'}]",6,634979,d25cfd6977ed960f9a6b8f54e4abb82ce602e0e2,10,9,3,18204,,,0,"ReadinessProbe_Neutron_agents
This implementation is to add Readiness Probe for neutron agents(l3/
dhcp/metadata). The goal is to make sure the neutron agents related 
processes are up and the tcp sockets to the Rabbitmq are in 
""ESTABLISHED"" status. This is done by mining the /proc filesystem on the
guest.

Change-Id: I2d361b9dd1bbde44909ee06936f47fb54104cd7b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/79/634979/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_neutron-agents-readiness-probe.sh.tpl', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml']",5,55c864eb388e7309f4a253dfa8a11d4ad8a521ff,neutron-readinessprobe," readinessProbe: exec: command: - bash - '/tmp/neutron-agents-readiness-probe.sh' - ""neutron-metadata-agent"" initialDelaySeconds: 240 periodSeconds: 30 timeoutSeconds: 5 - name: neutron-bin mountPath: /tmp/neutron-agents-readiness-probe.sh subPath: neutron-agents-readiness-probe.sh readOnly: true",,123,0
openstack%2Fopenstack-helm-infra~master~I2ffda7872698cd75b84a009b4542caf7529f7630,openstack/openstack-helm-infra,master,I2ffda7872698cd75b84a009b4542caf7529f7630,Rabbitmq: Path correction for docker-entrypoint.sh to '/usr/local/bin' from '/',ABANDONED,2019-02-04 17:36:51.000000000,2020-07-15 20:06:27.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-02-04 17:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/875953d8fd05162dd6e1082eba50b65fa6b16ece', 'message': ""Rabbitmq: Path correction for docker-entrypoint.sh to '/usr/local/bin' from '/'\n\nChange-Id: I2ffda7872698cd75b84a009b4542caf7529f7630\n""}, {'number': 2, 'created': '2019-02-04 17:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b02a0e414ec3f9048825450f73b3e08fd9e25f0', 'message': ""Rabbitmq: Path correction for docker-entrypoint.sh to '/usr/local/bin' from '/'\n\nIt has been observed that rabbitmq pod ends with crashloopbackoff as \nunable to find docker-entrypoint.sh in '/' during execution of \nrabbitmq-start.sh script\n\nChange-Id: I2ffda7872698cd75b84a009b4542caf7529f7630\n""}, {'number': 3, 'created': '2019-02-04 17:42:35.000000000', 'files': ['rabbitmq/templates/bin/_rabbitmq-start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa573733b249ca1a8fdefff4b7547638980f7951', 'message': ""Rabbitmq: Path correction for docker-entrypoint.sh to '/usr/local/bin' from '/'\n\nIt has been observed that rabbitmq pod ends with crashloopbackoff as \nunable to find docker-entrypoint.sh in '/' during execution of \nrabbitmq-start.sh script\n\nChange-Id: I2ffda7872698cd75b84a009b4542caf7529f7630\n""}]",0,634755,fa573733b249ca1a8fdefff4b7547638980f7951,5,7,3,22879,,,0,"Rabbitmq: Path correction for docker-entrypoint.sh to '/usr/local/bin' from '/'

It has been observed that rabbitmq pod ends with crashloopbackoff as 
unable to find docker-entrypoint.sh in '/' during execution of 
rabbitmq-start.sh script

Change-Id: I2ffda7872698cd75b84a009b4542caf7529f7630
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/634755/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/bin/_rabbitmq-start.sh.tpl'],1,875953d8fd05162dd6e1082eba50b65fa6b16ece,,exec docker-entrypoint.sh rabbitmq-server,exec /docker-entrypoint.sh rabbitmq-server,1,1
openstack%2Fopenstack-helm-infra~master~Iecef32733b8f385a4dcd23b0477395f8f3154f67,openstack/openstack-helm-infra,master,Iecef32733b8f385a4dcd23b0477395f8f3154f67,"Revert ""Revert ""Add Egress Helm-toolkit function & enforce the nework policy at OSH-INFRA""""",ABANDONED,2019-01-21 20:41:49.000000000,2020-07-15 20:05:57.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 18250}, {'_account_id': 20378}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 28592}]","[{'number': 1, 'created': '2019-01-21 20:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/600581a63cfe013c93a2abbdd5889864e5407557', 'message': 'Revert ""Revert ""Add Egress Helm-toolkit function & enforce the nework policy at OSH-INFRA""""\n\nThis reverts commit 0bf3674539f63ccded123540b26a68eb195297a7.\n\nChange-Id: Iecef32733b8f385a4dcd23b0477395f8f3154f67\n'}, {'number': 2, 'created': '2019-01-23 21:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e6e59bc7a1f1acaf216402c6d49cb33ba1a2269', 'message': 'Revert ""Revert ""Add Egress Helm-toolkit function & enforce the nework policy at OSH-INFRA""""\n\nThis reverts commit 0bf3674539f63ccded123540b26a68eb195297a7.\n\nChange-Id: Iecef32733b8f385a4dcd23b0477395f8f3154f67\n'}, {'number': 3, 'created': '2019-01-28 14:44:09.000000000', 'files': ['openvswitch/values.yaml', 'tools/deployment/network-policy/040-ldap.sh', 'grafana/values.yaml', 'memcached/values.yaml', 'nagios/values.yaml', 'elasticsearch/values.yaml', 'tools/deployment/network-policy/045-mariadb.sh', 'mariadb/values.yaml', 'ceph-rgw/values.yaml', 'postgresql/values.yaml', 'libvirt/values.yaml', 'fluent-logging/values.yaml', 'prometheus/values.yaml', 'helm-toolkit/templates/manifests/_network_policy.tpl', 'tools/deployment/network-policy/130-fluent-logging.sh', 'ldap/values.yaml', 'tools/deployment/network-policy/120-elasticsearch.sh', 'ingress/values.yaml', 'kibana/values.yaml', 'rabbitmq/values.yaml', 'ceph-rgw/templates/network_policy.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7fdd93c525b26ad6d53c9dc0fba8d307ef69109', 'message': 'Revert ""Revert ""Add Egress Helm-toolkit function & enforce the nework policy at OSH-INFRA""""\n\nThis reverts commit 0bf3674539f63ccded123540b26a68eb195297a7.\n\nChange-Id: Iecef32733b8f385a4dcd23b0477395f8f3154f67\n'}]",7,632161,c7fdd93c525b26ad6d53c9dc0fba8d307ef69109,17,11,3,28592,,,0,"Revert ""Revert ""Add Egress Helm-toolkit function & enforce the nework policy at OSH-INFRA""""

This reverts commit 0bf3674539f63ccded123540b26a68eb195297a7.

Change-Id: Iecef32733b8f385a4dcd23b0477395f8f3154f67
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/632161/3 && git format-patch -1 --stdout FETCH_HEAD,"['openvswitch/values.yaml', 'tools/deployment/network-policy/040-ldap.sh', 'grafana/values.yaml', 'memcached/values.yaml', 'nagios/values.yaml', 'elasticsearch/values.yaml', 'tools/deployment/network-policy/045-mariadb.sh', 'mariadb/values.yaml', 'ceph-rgw/values.yaml', 'postgresql/values.yaml', 'libvirt/values.yaml', 'fluent-logging/values.yaml', 'prometheus/values.yaml', 'helm-toolkit/templates/manifests/_network_policy.tpl', 'tools/deployment/network-policy/130-fluent-logging.sh', 'ldap/values.yaml', 'tools/deployment/network-policy/120-elasticsearch.sh', 'ingress/values.yaml', 'kibana/values.yaml', 'rabbitmq/values.yaml', 'ceph-rgw/templates/network_policy.yaml']",21,600581a63cfe013c93a2abbdd5889864e5407557,egress-netpol,"{{/* Copyright 2017-2018 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.network_policy -}} {{- $netpol_opts := dict ""envAll"" . ""name"" ""application"" ""label"" ""ceph-rgw"" -}} {{ $netpol_opts | include ""helm-toolkit.manifests.kubernetes_network_policy"" }} {{- $netpol_opts := dict ""envAll"" . ""name"" ""application"" ""label"" ""ceph"" }} {{ $netpol_opts | include ""helm-toolkit.manifests.kubernetes_network_policy"" }} {{- end -}} ",,407,52
openstack%2Fopenstack-helm-infra~master~I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1,openstack/openstack-helm-infra,master,I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1,Do-not run nginx as root for Ingress helm chart,ABANDONED,2018-12-04 15:29:43.000000000,2020-07-15 20:05:53.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 18204}, {'_account_id': 20889}, {'_account_id': 22348}, {'_account_id': 23625}, {'_account_id': 23928}, {'_account_id': 28592}, {'_account_id': 29117}]","[{'number': 1, 'created': '2018-12-04 15:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/465db62f44a58e0ff70bd7666d2ccf29064d2d01', 'message': 'Do-not run nginx as root for Ingress helm chart.\n\nModified the Ingress helm chart to use linux capabilities to avoid the need to run the NGINX process as Root.\n\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 2, 'created': '2018-12-05 03:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a8ec17ad4c7ea329413acc83bd111120343def1', 'message': 'Do-not run nginx as root for Ingress helm chart.\n\nModified the Ingress helm chart to use linux capabilities to avoid the need to run the NGINX process as Root.\n\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 3, 'created': '2018-12-05 06:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d97ce739e439a4cd31c85afa5e726e3b7df1fd78', 'message': 'Do-not run nginx as root for Ingress helm chart.\n\nModified the Ingress helm chart to use linux capabilities to avoid the need to run the NGINX process as Root.\n\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 4, 'created': '2018-12-11 15:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/88220c15cee10768b55c6611505e672d88ed03f5', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to use linux capabilities to run the NGINX process as non root.\n\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 5, 'created': '2018-12-18 22:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e176f8b9b09c40579e08ef81e896ca0138e55fdc', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to ensure that nginx is not having root level permission.\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 6, 'created': '2018-12-19 14:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b1afd722ef2e3990319135955c9194b85a44863', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to ensure that nginx is not having root level permission.\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 7, 'created': '2019-01-02 19:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b51321c6066791f7103e21e96f6cf6de52ac838', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to ensure that nginx is\nnot having root level permission.\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 8, 'created': '2019-01-04 16:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb2ebbe79b71f7579834870bb8765354a1a32e4e', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to ensure that nginx is\nnot having root level permission.\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 9, 'created': '2019-01-04 17:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab688d9ab88f42c1b28df8125741b14ba2c0d3f1', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to ensure that nginx is\nnot having root level permission.\nUID 33 is used to set the ngnix pod to run with www-data user.\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 10, 'created': '2019-01-08 19:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a104979f4642cbb4d9febb692aa5d47bc4e29b30', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to ensure that nginx is\nnot having root level permission.\nUID 33 is used to set the ngnix pod to run with www-data user.\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 11, 'created': '2019-01-14 16:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/11fc54cfe696551d58b8d662a9a846c20b2dd877', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to ensure that nginx is\nnot having root level permission.\nUID 33 is used to set the ngnix pod to run with www-data user.\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 12, 'created': '2019-01-22 05:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e9e8aada2a64cce1886bf0d3f55ee823df76a7f', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to ensure that nginx is\nnot having root level permission.\nUID 33 is used to set the ngnix pod to run with www-data user.\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}, {'number': 13, 'created': '2019-01-31 21:39:04.000000000', 'files': ['ingress/templates/deployment-ingress.yaml', 'ingress/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1ebc9e18b96dad9b1966181e397fe77f0012553', 'message': 'Do-not run nginx as root for Ingress helm chart\n\nModified the Ingress helm chart to ensure that nginx is\nnot having root level permission.\nUID 33 is used to set the ngnix pod to run with www-data user.\nChange-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1\n'}]",26,622359,e1ebc9e18b96dad9b1966181e397fe77f0012553,48,9,13,29117,,,0,"Do-not run nginx as root for Ingress helm chart

Modified the Ingress helm chart to ensure that nginx is
not having root level permission.
UID 33 is used to set the ngnix pod to run with www-data user.
Change-Id: I9a0cad4ded75b19d41a8c2da8d65f38e1a40dff1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/622359/12 && git format-patch -1 --stdout FETCH_HEAD,['ingress/templates/deployment-ingress.yaml'],1,465db62f44a58e0ff70bd7666d2ccf29064d2d01,, runAsNonRoot: true runAsUser: 33 runAsNonRoot: true runAsUser: 33 runAsNonRoot: true runAsUser: 33, capabilities: add: - SYS_MODULE runAsUser: 0 capabilities: add: - NET_ADMIN runAsUser: 0 capabilities: add: - NET_ADMIN runAsUser: 0,6,12
openstack%2Fopenstack-helm-infra~master~I0a639364a9ea53c1467967ed4a69065f4d6f84d4,openstack/openstack-helm-infra,master,I0a639364a9ea53c1467967ed4a69065f4d6f84d4,[DNM] [toolkit]: use explicit full path /kubernetes-entrypoint,ABANDONED,2018-07-17 20:37:16.000000000,2020-07-15 20:05:49.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 27715}]","[{'number': 1, 'created': '2018-07-17 20:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/925506b45914f3ddb1e783e8d3b85870b7d27ad1', 'message': '[toolkit]: use explicit full path /kubernetes-entrypoint\n\nRemove the resetting of PATH as this is no longer needed.\n\nChange-Id: I0a639364a9ea53c1467967ed4a69065f4d6f84d4\n'}, {'number': 2, 'created': '2018-07-17 20:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8ee76c1bd4e46e41e7c9197f2a773aa245c41bb', 'message': '[toolkit]: use explicit full path /kubernetes-entrypoint\n\nRemove the resetting of PATH as this is no longer needed.\n\nChange-Id: I0a639364a9ea53c1467967ed4a69065f4d6f84d4\n'}, {'number': 3, 'created': '2018-07-17 22:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/37ebe3a19195d988126a9160f5b6dcef97cce772', 'message': '[toolkit]: use explicit full path /kubernetes-entrypoint\n\nRemove the resetting of PATH as this is no longer needed.\n\nUpdate nagios to use latest entrypoint container.\n\nChange-Id: I0a639364a9ea53c1467967ed4a69065f4d6f84d4\n'}, {'number': 4, 'created': '2019-01-03 17:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/115ded2bf959f7d40f469eb41f603809f075ac46', 'message': '[DNM] [toolkit]: use explicit full path /kubernetes-entrypoint\n\nRemove the resetting of PATH as this is no longer needed.\n\nUpdate nagios to use latest entrypoint container.\n\nChange-Id: I0a639364a9ea53c1467967ed4a69065f4d6f84d4\n'}, {'number': 5, 'created': '2019-01-31 18:31:10.000000000', 'files': ['helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de1ca2dd5a0f9b686c46ae448da45ed53e1cbd35', 'message': '[DNM] [toolkit]: use explicit full path /kubernetes-entrypoint\n\nRemove the resetting of PATH as this is no longer needed.\n\nUpdate nagios to use latest entrypoint container.\n\nChange-Id: I0a639364a9ea53c1467967ed4a69065f4d6f84d4\n'}]",0,583355,de1ca2dd5a0f9b686c46ae448da45ed53e1cbd35,13,3,5,8898,,,0,"[DNM] [toolkit]: use explicit full path /kubernetes-entrypoint

Remove the resetting of PATH as this is no longer needed.

Update nagios to use latest entrypoint container.

Change-Id: I0a639364a9ea53c1467967ed4a69065f4d6f84d4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/583355/4 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'],1,925506b45914f3ddb1e783e8d3b85870b7d27ad1,htk-ep-explicit-path, - /kubernetes-entrypoint, - name: PATH value: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/ - kubernetes-entrypoint,1,3
openstack%2Fopenstack-helm~master~I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b,openstack/openstack-helm,master,I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b,[DNM] experiment: alternate entrypoint container,ABANDONED,2018-04-04 02:19:40.000000000,2020-07-15 20:05:45.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-04 02:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a35e125c2d9b0383634d092b52b3468b95ec9f98', 'message': ""[DNM] experiment: use alternate (smaller) entrypoint container\n\nDO NOT MERGE - this is an experiment\n\n      /`.\n     /...`:\n .     `..)\n:  ):;        {\n `. `  .\\`)\n     `\\\\\\.\n\nIt is possible to build a (smaller container) entrypoint; this could\nbe tweaked in 'osh' specific ways.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 2, 'created': '2018-04-04 07:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/61d9d3392aba14f21a6a5ba6fa3848f0f514f91c', 'message': ""[DNM] experiment: use alternate (smaller) entrypoint container\n\nDO NOT MERGE - this is an experiment\n\n      /`.\n     /...`:\n .     `..)\n:  ):;        {\n `. `  .\\`)\n     `\\\\\\.\n\nIt is possible to build a (smaller container) entrypoint; this could\nbe tweaked in 'osh' specific ways.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 3, 'created': '2018-04-05 06:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9460e1b6a438e2cf5dd31f538d721b3c8d1a806f', 'message': ""[DNM] experiment: use alternate (smaller) entrypoint container\n\nDO NOT MERGE - this is an experiment\n\n      /`.\n     /...`:\n .     `..)\n:  ):;        {\n `. `  .\\`)\n     `\\\\\\.\n\nIt is possible to build a (smaller container) entrypoint; this could\nbe tweaked in 'osh' specific ways.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 4, 'created': '2018-04-06 18:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ddd48629d4977f9ac2b307fc0a489adee22efbc7', 'message': ""[DNM] experiment: use alternate (smaller) entrypoint container\n\nDO NOT MERGE - this is an experiment\n\n      /`.\n     /...`:\n .     `..)\n:  ):;        {\n `. `  .\\`)\n     `\\\\\\.\n\nIt is possible to build a (smaller container) entrypoint; this could\nbe tweaked in 'osh' specific ways.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 5, 'created': '2018-04-11 02:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5dfae4805cc47fe1ea4d1de4d9b70e10bd0fc4c1', 'message': ""[DNM] experiment: alternate entrypoint container\n\nDO NOT MERGE - *this is an experiment* - IT MIGHT CAUSE IT TO RAIN\n\nThis alternate entrypoint container differs in that:\n\n * it's (probably) smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n * probably other things too, it's been a long day and i forget these\n   things\n\n      /`.\n     /...`:\n .     `..)\n:  ):;        {\n `. `  .\\`)\n     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 6, 'created': '2018-04-17 00:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2bc3e6e212f29ac7e82b18d097a7b069ffb8ea2d', 'message': ""[DNM] experiment: alternate entrypoint container\n\nDO NOT MERGE - *this is an experiment* - IT MIGHT CAUSE IT TO RAIN\n\nThis alternate entrypoint container differs in that:\n\n * it's (probably) smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n * probably other things too, it's been a long day and i forget these\n   things\n\n      /`.\n     /...`:\n .     `..)\n:  ):;        {\n `. `  .\\`)\n     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 7, 'created': '2018-04-24 18:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6f1169d0c4e6c0819f6cf54d703704745885cff8', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t\t  /`.\n\t\t /...`:\n\t     .     `..)\n\t    :  ):;        {\n\t     `. `  .\\`)\n\t\t `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 8, 'created': '2018-04-25 06:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/895db26b22d66c538e36ab2b70b56ce4040b711d', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t\t  /`.\n\t\t /...`:\n\t     .     `..)\n\t    :  ):;        {\n\t     `. `  .\\`)\n\t\t `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 9, 'created': '2018-07-23 21:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6690a3adc4f311d8c5500a9866c09ff0f796f903', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 10, 'created': '2018-09-07 05:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0ade76059459318fac583e9b4e774227cff7c9c9', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 11, 'created': '2018-09-10 02:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/02727f4d07113419c16efa1a83504e360eebe1e0', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 12, 'created': '2018-09-11 15:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d88f3802e04b48da435b5da693f9142aafc0f530', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 13, 'created': '2018-09-14 05:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4bfe0099408e3a84d237c9e4ca0beff2956c06af', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 14, 'created': '2018-09-16 18:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2409911c92bd0f4365ac0fcc0b6e00ffb43baf7a', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 15, 'created': '2018-10-17 19:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99a1aa0e6316bdce7c7e117bedc41861d7394c6d', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 16, 'created': '2018-12-30 06:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d71084892034d20ca76e86eb1eb9dd763052c3d', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 17, 'created': '2019-01-03 17:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da8150fd92360f8f29d5b63772cb2644f9e320df', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 18, 'created': '2019-01-08 06:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/831a7636df19be2b8fbb63d70f681e34bbffa6db', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}, {'number': 19, 'created': '2019-01-31 18:09:11.000000000', 'files': ['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'doc/source/devref/images.rst', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'nova/values.yaml', 'tempest/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/468c1c8bead0e11961525af16a9697394e2b47d5', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b\n""}]",0,558670,468c1c8bead0e11961525af16a9697394e2b47d5,45,3,19,8898,,,0,"[DNM] experiment: alternate entrypoint container

This alternate entrypoint container differs in that:

 * it's smaller

 * does (capped) exponential back-off when dependencies are not met

 * logging trimmed of unnecessary text

	      /`.
	     /...`:
	 .     `..)
	:  ):;        {
	 `. `  .\`)
	     `\\\.

Change-Id: I5bf4c26135e62cd7fe1252eb9fdd6ad30962a25b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/70/558670/7 && git format-patch -1 --stdout FETCH_HEAD,"['mongodb/values.yaml', 'doc/source/devref/images.rst', 'libvirt/values.yaml', 'ceph/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'etcd/values.yaml', 'gnocchi/values.yaml', 'ldap/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'rabbitmq/values.yaml', 'senlin/values.yaml', 'mistral/values.yaml', 'openvswitch/values.yaml', 'congress/values.yaml', 'memcached/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'mariadb/values.yaml', 'postgresql/values.yaml', 'nova/values.yaml', 'neutron/values.yaml', 'ingress/values.yaml', 'rally/values.yaml']",28,a35e125c2d9b0383634d092b52b3468b95ec9f98,expt-alternate-entrypoint-rb-6, dep_check: quay.io/cw/kubernetes-entrypoint:v0.3.0b, dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.3.0,29,29
openstack%2Fopenstack-helm-infra~master~I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7,openstack/openstack-helm-infra,master,I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7,[DNM] experiment: alternate entrypoint container,ABANDONED,2018-09-07 05:12:35.000000000,2020-07-15 20:05:42.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 05:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/def9e36624d459029b5ebb17785e29316366a6d9', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7\n""}, {'number': 2, 'created': '2018-09-10 04:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ccc0df10d9249459a82e119f0e2fc6be5bd3ca8b', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7\n""}, {'number': 3, 'created': '2018-09-14 05:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e5033740bf986dd1f94f536e5aae6ba1ef0bcb1d', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7\n""}, {'number': 4, 'created': '2018-10-17 19:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2d9d9796886e674efa621c1f4fce81c631418f81', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7\n""}, {'number': 5, 'created': '2018-12-30 06:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/07c33680019e9326556ea58a2c8a8bae4ca948cb', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7\n""}, {'number': 6, 'created': '2019-01-03 17:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60d62c4b52173886b4f5b3b11c7d6e0a63b32243', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7\n""}, {'number': 7, 'created': '2019-01-08 06:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d79ca3757661aef051a3d1397507358cb3efa125', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7\n""}, {'number': 8, 'created': '2019-01-31 18:05:05.000000000', 'files': ['prometheus-openstack-exporter/values.yaml', 'ceph-osd/values.yaml', 'elastic-packetbeat/values.yaml', 'elasticsearch/values.yaml', 'mongodb/values.yaml', 'prometheus-process-exporter/values.yaml', 'ceph-rgw/values.yaml', 'libvirt/values.yaml', 'fluent-logging/values.yaml', 'helm-toolkit/templates/snippets/_image.tpl', 'etcd/values.yaml', 'elastic-apm-server/values.yaml', 'gnocchi/values.yaml', 'flannel/values.yaml', 'ldap/values.yaml', 'prometheus-alertmanager/values.yaml', 'kubernetes-keystone-webhook/values.yaml', 'elastic-metricbeat/values.yaml', 'elastic-filebeat/values.yaml', 'helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl', 'rabbitmq/values.yaml', 'ceph-mon/values.yaml', 'openvswitch/values.yaml', 'grafana/values.yaml', 'memcached/values.yaml', 'nagios/values.yaml', 'registry/values.yaml', 'ceph-client/values.yaml', 'mariadb/values.yaml', 'nfs-provisioner/values.yaml', 'postgresql/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/values.yaml', 'falco/values.yaml', 'ceph-provisioners/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'ingress/values.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c78e202d810ed14d252008f95c27f6930931d248', 'message': ""[DNM] experiment: alternate entrypoint container\n\nThis alternate entrypoint container differs in that:\n\n * it's smaller\n\n * does (capped) exponential back-off when dependencies are not met\n\n * logging trimmed of unnecessary text\n\n\t      /`.\n\t     /...`:\n\t .     `..)\n\t:  ):;        {\n\t `. `  .\\`)\n\t     `\\\\\\.\n\nChange-Id: I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7\n""}]",0,600651,c78e202d810ed14d252008f95c27f6930931d248,23,2,8,8898,,,0,"[DNM] experiment: alternate entrypoint container

This alternate entrypoint container differs in that:

 * it's smaller

 * does (capped) exponential back-off when dependencies are not met

 * logging trimmed of unnecessary text

	      /`.
	     /...`:
	 .     `..)
	:  ):;        {
	 `. `  .\`)
	     `\\\.

Change-Id: I3b78f64f93a5e9d926a0f5fad9056b1466c6dcb7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/600651/3 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/values.yaml', 'ceph-osd/values.yaml', 'elasticsearch/values.yaml', 'prometheus-process-exporter/values.yaml', 'ceph-rgw/values.yaml', 'fluent-logging/values.yaml', 'helm-toolkit/templates/snippets/_image.tpl', 'etcd/values.yaml', 'flannel/values.yaml', 'ldap/values.yaml', 'prometheus-alertmanager/values.yaml', 'kubernetes-keystone-webhook/values.yaml', 'rabbitmq/values.yaml', 'ceph-mon/values.yaml', 'grafana/values.yaml', 'memcached/values.yaml', 'registry/values.yaml', 'ceph-client/values.yaml', 'mariadb/values.yaml', 'nfs-provisioner/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/values.yaml', 'ceph-provisioners/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'ingress/values.yaml', 'kibana/values.yaml']",30,def9e36624d459029b5ebb17785e29316366a6d9,expt-alternate-entrypoint-infra-rb-6, dep_check: quay.io/cw/kubernetes-entrypoint:v0.3.1e, dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.3.1,32,32
openstack%2Fopenstack-helm-infra~master~I6442ebb842531f64e1b74d8842bfe6561d435ebc,openstack/openstack-helm-infra,master,I6442ebb842531f64e1b74d8842bfe6561d435ebc,"[Calico] Disable monitoring by default, enable in gate",ABANDONED,2019-01-28 19:39:43.000000000,2020-07-15 20:05:37.000000000,,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-28 19:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/75dc7e2666df0403c30e98f2c275d8506238f5d1', 'message': '[RFC/DNM] Disable Prometheus by default\n\n (for comments and gate test; will split up and resubmit later)\n\nA few charts have Prometheus enabled by default.  Disable to align\nwith everything else.\n\nChange-Id: I6442ebb842531f64e1b74d8842bfe6561d435ebc\n'}, {'number': 2, 'created': '2019-01-28 23:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae6b3ad4f6ff52cac28e32dd9bfcfd63d3f3dca4', 'message': '[Calico] Disable Prometheus by default\n\nChange-Id: I6442ebb842531f64e1b74d8842bfe6561d435ebc\n'}, {'number': 3, 'created': '2019-01-28 23:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bec3f86bc185018e52e47b06fb160a9c64032040', 'message': '[Calico] Disable Prometheus monitoring by default\n\nChange-Id: I6442ebb842531f64e1b74d8842bfe6561d435ebc\n'}, {'number': 4, 'created': '2019-01-29 19:02:31.000000000', 'files': ['calico/values.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-cni.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9d03cc6e14a23c6891097893afe2f52fe627948d', 'message': '[Calico] Disable monitoring by default, enable in gate\n\nChange-Id: I6442ebb842531f64e1b74d8842bfe6561d435ebc\n'}]",0,633592,9d03cc6e14a23c6891097893afe2f52fe627948d,9,3,4,8898,,,0,"[Calico] Disable monitoring by default, enable in gate

Change-Id: I6442ebb842531f64e1b74d8842bfe6561d435ebc
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/633592/3 && git format-patch -1 --stdout FETCH_HEAD,"['calico/values.yaml', 'tiller/values.yaml', 'ceph-client/values.yaml', 'ingress/values.yaml']",4,75dc7e2666df0403c30e98f2c275d8506238f5d1,promdis-calico, enabled: false, enabled: true,4,4
openstack%2Fopenstack-helm-infra~master~Ifb9171cd674b185df989758cf68da5162950cfdb,openstack/openstack-helm-infra,master,Ifb9171cd674b185df989758cf68da5162950cfdb,WIP: TLS: Update endpoints to support tls cert secret creation,ABANDONED,2018-08-29 17:31:33.000000000,2020-07-15 20:05:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 28162}]","[{'number': 1, 'created': '2018-08-29 17:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f68c545b7f5674db9c3d7ade52751cd844dc18b9', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-08-30 15:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/066e79177144594a8f4368e27c6026d9f2c400bf', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-08-30 15:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03f5de6f2682665735282d4349da4295c28b4d5e', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-08-30 15:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa4425ed2f3d0671d16ed7e8aa08eb1f852e4b87', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-08-30 16:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a250e861e201bc630123f9d6bdc790c17cbb5b0', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2018-08-30 17:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d08ca86a7efae562ef4d1553b22d91ef6081569e', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2018-08-30 18:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c91ff6e0d2bf005e94aec52a160bb92b54e9c667', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2018-08-30 18:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c19e1b3ff5b452c6ce7dd0bf9561c42ac8be617', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2018-08-30 19:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8d89401c16b5e4eee6ca9f2502fe370b360bb6b', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 10, 'created': '2018-08-31 17:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/339441274e7512143b5401124b4b89d23b233692', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 11, 'created': '2018-08-31 17:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/39d08575c0bdf36d69cc81852b27f07597c55b31', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 12, 'created': '2018-08-31 17:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c38440107fd88d8e2751adfb656d1622686ad09', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 13, 'created': '2018-08-31 20:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d5df1a73dd47778ce4dbe1a9628f5d84f3417c01', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 14, 'created': '2018-09-04 18:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7eea7baf9115ae614edd19fea169cfc0203513a2', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 15, 'created': '2018-09-04 18:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cc2033a79f1c3e5a51a7cd6d83a862d9ce7d78bb', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 16, 'created': '2018-09-04 18:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ac43c9657d07a26b2951d46aecfa0325f4a9451', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 17, 'created': '2018-09-04 19:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f21fe906a05854343f6f28d380be10cbfe73684a', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 18, 'created': '2018-09-04 19:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/06402409b36db5a93a1e8f48ad4b9932ad6743e9', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 19, 'created': '2018-09-04 19:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a7aba2fc06971d44b35db38007e93ae2bc2977d7', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 20, 'created': '2018-10-25 17:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c94d47c699c19a8581358957c08574960dfaa6a0', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 21, 'created': '2018-10-25 17:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f27c673ca21b1b6d86124e14eabef56674eb577', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 22, 'created': '2018-11-27 18:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/126fada9eaa75ed0e2fe74e2b3b906ff51d7974c', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 23, 'created': '2018-12-10 21:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b75ef72d30fbab8cfe07f6fea0bbf85d7785a5b', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 24, 'created': '2019-01-09 15:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e3493e9ac61c15f6fb29997eed1599f508844e5', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 25, 'created': '2019-01-28 15:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d948eb9c28a4af52201cb228718d60f4b8035426', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 26, 'created': '2019-01-28 23:11:06.000000000', 'files': ['helm-toolkit/templates/test.yaml', 'helm-toolkit/templates/manifests/_secret-tls.yaml.tpl', 'helm-toolkit/values.yaml', 'helm-toolkit/templates/manifests/_ingress.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c307517b7423a6a491bbfe3e9500e9a8121624a', 'message': 'WIP: TLS: Update endpoints to support tls cert secret creation\n\nChange-Id: Ifb9171cd674b185df989758cf68da5162950cfdb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",3,597611,5c307517b7423a6a491bbfe3e9500e9a8121624a,44,2,26,23928,,,0,"WIP: TLS: Update endpoints to support tls cert secret creation

Change-Id: Ifb9171cd674b185df989758cf68da5162950cfdb
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/597611/26 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/test.yaml', 'helm-toolkit/values.yaml']",2,f68c545b7f5674db9c3d7ade52751cd844dc18b9,helm/bootstrapping-user, secrets: tls: key_manager: api: public: barbican-tls-public endpoints: cluster_domain_suffix: cluster.local key_manager: hosts: default: mariadb host_fqdn_override: public: host: hey tls: crt: | FOO-CRT key: | FOO-KEY ca: | FOO-CA_CRT life: 3 ca: crt: | -----BEGIN CERTIFICATE----- MIID1DCCArygAwIBAgIUKA9dI8fXn1nNBc6em99nZYwJ948wDQYJKoZIhvcNAQEL BQAwcDELMAkGA1UEBhMCVVMxETAPBgNVBAgTCFNvbWVDaXR5MRIwEAYDVQQHEwlT b21lU3RhdGUxEDAOBgNVBAoTB1NvbWVPcmcxETAPBgNVBAsTCFNvbWVVbml0MRUw EwYDVQQDEwxBQ01FIENvbXBhbnkwHhcNMTgwODAxMjE0MTAwWhcNMjMwNzMxMjE0 MTAwWjBwMQswCQYDVQQGEwJVUzERMA8GA1UECBMIU29tZUNpdHkxEjAQBgNVBAcT CVNvbWVTdGF0ZTEQMA4GA1UEChMHU29tZU9yZzERMA8GA1UECxMIU29tZVVuaXQx FTATBgNVBAMTDEFDTUUgQ29tcGFueTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC AQoCggEBALoI7/84XLEmXJ7EVqpdfTBgsU98JdM8U+P36XJQ3LZ7JC0MQO+jLBUE sDblMOx+4QrkaySKKPipBmD5PAhHykVxeqA6UV4L+sd33ETj+l9KRtw04iuU74qf 7tXsNaHW+3ruhW7DPuIOSq1p9/71esKWmCB4kKGleE6Jd/DWPdlniyBdoDJFj5CF asEUp6SMKKN3egvUPQYELchUv461tiODKeTzjY7yjC853SYlj/kaUcWSB6EOWFFX TImrnm8FIKNS4zzdyFSPgXqx9lAf+sbC9GBc7eHn9Tiv6RB8ZthU9MTAiZKEUCAq y949ISvIGS1+L38HEVSJBdf+Q7ZQrhkCAwEAAaNmMGQwDgYDVR0PAQH/BAQDAgEG MBIGA1UdEwEB/wQIMAYBAf8CAQIwHQYDVR0OBBYEFDBKLOXVj9s0zYt/tWUepn0d pABPMB8GA1UdIwQYMBaAFDBKLOXVj9s0zYt/tWUepn0dpABPMA0GCSqGSIb3DQEB CwUAA4IBAQASNeUst7I59nvfieUitGyBbXDLyM7CJrxBdnAAPC5rgsOdsti9sLAu R99bpXsboqVKnikBDJLUM0zoMpC3tMJkIJ5azTv1cCLzcw9Q68Jo1MYLjM7QUduz zBNNalnpGa5sUtvdaxVG91wPo9IcRjiaEAeNWxfqXjdMjMRuVRI5JM4K0ziDyNb6 vcowsVwvukfktuAXgUK5UP1eKpVDef8qAXd4Jy0HthXaMmPYQ2VWlNKnvPRYl4ig dlwq8e/ciNVpS1esnjM/ptPXQKP7uYFcV6eyc8G8lL/R1OxVc+65OJsl+3msbm93 sOydInFlcYJw7QSKqJG71gQBDzsgg5pS -----END CERTIFICATE----- key: | -----BEGIN RSA PRIVATE KEY----- MIIEowIBAAKCAQEAugjv/zhcsSZcnsRWql19MGCxT3wl0zxT4/fpclDctnskLQxA 76MsFQSwNuUw7H7hCuRrJIoo+KkGYPk8CEfKRXF6oDpRXgv6x3fcROP6X0pG3DTi K5Tvip/u1ew1odb7eu6FbsM+4g5KrWn3/vV6wpaYIHiQoaV4Tol38NY92WeLIF2g MkWPkIVqwRSnpIwoo3d6C9Q9BgQtyFS/jrW2I4Mp5PONjvKMLzndJiWP+RpRxZIH oQ5YUVdMiauebwUgo1LjPN3IVI+BerH2UB/6xsL0YFzt4ef1OK/pEHxm2FT0xMCJ koRQICrL3j0hK8gZLX4vfwcRVIkF1/5DtlCuGQIDAQABAoIBADDbwAxLhSyRYqnf 7tL3krVt76Nse5KquW2Z4pm/WvgiBzI9kaBePmmWvaDtOJgkCn6N1wXVs0T7P02g p3+VOy5Zy1bhehU1GDvi4trE9TCplUqoKO5BQ1gpANT2IG/Mwmda1XhtlspP7pT0 y8kON5t7aaC9iV6q0pntyK5b1gqOkB33+rI64SUNZFen2YIm3LO+NwWjrg1CDVHc oXoI5mqlyyl8cbIcsqJZccyOCsBavesdof+s7zIOb+NUpdOlYBte0iff+IqPneqs lwo9j7omwxjqTX83E3nA5jpFcPLIADIXY0j9LkqCGBoFb8WClKghtC4LbLNYwM7p XX9sR3ECgYEAyUIHFd38Urr50Isa1f8hqvIK0UPds7HGQ+ptJh3bZs5Knv01K5FP flsLyD1H5IAWm9ePX/gcOtuCV105TbeRn9RuV+PzcmYYNNPV+5rBMURZ/gXkdWz5 Qsb3PQ165XXAdoYvM5YNlD54P3jBqrFRTS0mKTS80pMNBD1iIIpUgJMCgYEA7KLn GW/8j1o8wL85ZmjJZmR0xM39vV8v5O4eC7AeTdoveQIqIy/uxyo0zV5tW0yrcrvs coNNZQu7G9Fp6NY4m79hhGfvgWIto7dNOq5mjS/5gz0PXo34eTMCgOQxd/tYTRJe zjd5a/yVLetRynBvJkWeV1LsJTEhwKRk3KkSviMCgYAMThwuyxbNXB9AD/FBGktN r2TX7KVWgk0UA/ZOeU7b10sas3KXyleo6xoqUQzfPLGlL6XVgU8AjkFG5C1HwiyG MC/a8dYFrZZXTIhtzMV5JKu361ZPk60d1xpwwi08cFmnJYcnSUplQPiLMO/uZs8I v/TwWggde9403yfrw2ltPwKBgQDNnddVIRvBrFUx3ncP52lpEUztXVhn3ngNYmK1 ITmTyEyLxze6D4JZiPEMqko3lO086tHPxwvPC1xwFY0DhnD11Fv14yIXuKmTokj2 /meZsuAKC1p5fL81AP/h42agrMPTZG0Anu9gx78QgXM2hm/uP3wQwLr0rjZ33+DM ZBUnJQKBgD4G4KaEZJCyPyDvqLEtp794Bhyo7pZbfe/JZVtQ2Ufb7fPpqqeFkkmg Vqe6M6sYfa2/Oh/b3Zm9qhTxOz3Vhkp5aaLcx0I+P+QKP/n+hyBn3Qw3KplSH7/H 9pyRHzRjvoHw3s37iTVhtobh70CrmUy0unB6Zrdb1821389T+Lpd -----END RSA PRIVATE KEY-----,,76,0
openstack%2Fopenstack-helm~master~I7cf362be3455bb2078c0c2a944fe73639ff45531,openstack/openstack-helm,master,I7cf362be3455bb2078c0c2a944fe73639ff45531,Neutron: add ability to enable neutron lbaas service,ABANDONED,2018-10-10 07:37:49.000000000,2020-07-15 20:05:29.000000000,,"[{'_account_id': 1653}, {'_account_id': 6678}, {'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 21892}, {'_account_id': 22348}, {'_account_id': 28237}]","[{'number': 1, 'created': '2018-10-10 07:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f14d8b53a84da36cf65540c9139694e45d240a88', 'message': 'Neutron: add ability to enable neutron lbaas service\n\nadd ability to enable neutron lbaas service.\n\nChange-Id: I7cf362be3455bb2078c0c2a944fe73639ff45531\n'}, {'number': 2, 'created': '2019-01-15 04:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2b70f0ef59d046e2945b012bb8b042d70d1ff20', 'message': 'Neutron: add ability to enable neutron lbaas service\n\nadd ability to enable neutron lbaas service.\n\nChange-Id: I7cf362be3455bb2078c0c2a944fe73639ff45531\n'}, {'number': 3, 'created': '2019-01-15 10:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6a76294e8ecd82743a3f9e2360d5fafa5bb985bd', 'message': 'Neutron: add ability to enable neutron lbaas service\n\nadd ability to enable neutron lbaas service.\n\nChange-Id: I7cf362be3455bb2078c0c2a944fe73639ff45531\n'}, {'number': 4, 'created': '2019-01-15 10:23:42.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/bin/_db-sync.sh.tpl', 'neutron/templates/bin/_neutron-lbaas-agent.sh.tpl', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml', 'neutron/templates/daemonset-lbaas-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9a9e4d76df14e63a40f0d335b7302fa9a56d59a3', 'message': 'Neutron: add ability to enable neutron lbaas service\n\nadd ability to enable neutron lbaas service.\n\nChange-Id: I7cf362be3455bb2078c0c2a944fe73639ff45531\n'}]",13,609299,9a9e4d76df14e63a40f0d335b7302fa9a56d59a3,20,7,4,21892,,,0,"Neutron: add ability to enable neutron lbaas service

add ability to enable neutron lbaas service.

Change-Id: I7cf362be3455bb2078c0c2a944fe73639ff45531
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/99/609299/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/bin/_db-sync.sh.tpl', 'neutron/templates/bin/_neutron-lbaas-agent.sh.tpl', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml', 'neutron/templates/daemonset-lbaas-agent.yaml']",8,f14d8b53a84da36cf65540c9139694e45d240a88,bp/add-neutron-lbaas-agent,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- define ""neutron.lbaas_agent.daemonset"" }} {{- $daemonset := index . 0 }} {{- $configMapName := index . 1 }} {{- $serviceAccountName := index . 2 }} {{- $envAll := index . 3 }} {{- with $envAll }} {{- $mounts_neutron_lbaas_agent := .Values.pod.mounts.neutron_lbaas_agent.neutron_lbaas_agent }} {{- $mounts_neutron_lbaas_agent_init := .Values.pod.mounts.neutron_lbaas_agent.init_container }} --- apiVersion: apps/v1 kind: DaemonSet metadata: name: neutron-lbaas-agent annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} labels: {{ tuple $envAll ""neutron"" ""lbaas-agent"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: selector: matchLabels: {{ tuple $envAll ""neutron"" ""lbaas-agent"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 6 }} {{ tuple $envAll ""lbaas_agent"" | include ""helm-toolkit.snippets.kubernetes_upgrades_daemonset"" | indent 2 }} template: metadata: labels: {{ tuple $envAll ""neutron"" ""lbaas-agent"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: configmap-bin-hash: {{ tuple ""configmap-bin.yaml"" . | include ""helm-toolkit.utils.hash"" }} configmap-etc-hash: {{ tuple ""configmap-etc.yaml"" . | include ""helm-toolkit.utils.hash"" }} spec: serviceAccountName: {{ $serviceAccountName }} nodeSelector: {{ .Values.labels.agent.lbaas.node_selector_key }}: {{ .Values.labels.agent.lbaas.node_selector_value }} dnsPolicy: ClusterFirstWithHostNet hostNetwork: true {{- if or ( gt .Capabilities.KubeVersion.Major ""1"" ) ( ge .Capabilities.KubeVersion.Minor ""10"" ) }} shareProcessNamespace: true {{- else }} hostPID: true {{- end }} initContainers: {{ tuple $envAll ""pod_dependency"" $mounts_neutron_lbaas_agent_init | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: neutron-lbaas-agent {{ tuple $envAll ""neutron_lbaas"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.agent.lbaas | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} securityContext: runAsUser: {{ .Values.pod.user.neutron.uid }} privileged: true command: - /tmp/neutron-lbaas-agent.sh volumeMounts: - name: neutron-bin mountPath: /tmp/neutron-lbaas-agent.sh subPath: neutron-lbaas-agent.sh readOnly: true - name: neutron-etc mountPath: /etc/neutron/neutron.conf subPath: neutron.conf readOnly: true - name: neutron-etc mountPath: {{ .Values.conf.neutron.DEFAULT.log_config_append }} subPath: {{ base .Values.conf.neutron.DEFAULT.log_config_append }} readOnly: true - name: neutron-etc mountPath: /etc/neutron/plugins/ml2/ml2_conf.ini subPath: ml2_conf.ini readOnly: true {{- if ( has ""openvswitch"" .Values.network.backend ) }} - name: neutron-etc mountPath: /etc/neutron/plugins/ml2/openvswitch_agent.ini subPath: openvswitch_agent.ini readOnly: true {{- end }} - name: neutron-etc mountPath: /etc/neutron/lbaas_agent.ini subPath: lbaas_agent.ini readOnly: true - name: neutron-etc mountPath: /etc/neutron/neutron_lbaas.conf subPath: neutron_lbaas.conf readOnly: true - name: neutron-etc # NOTE (Portdirect): We mount here to override Kollas # custom sudoers file when using Kolla images, this # location will also work fine for other images. mountPath: /etc/sudoers.d/kolla_neutron_sudoers subPath: neutron_sudoers readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.conf subPath: rootwrap.conf readOnly: true {{- range $key, $value := $envAll.Values.conf.rootwrap_filters }} {{- if ( has ""lbaas_agent"" $value.pods ) }} {{- $filePrefix := replace ""_"" ""-"" $key }} {{- $rootwrapFile := printf ""/etc/neutron/rootwrap.d/%s.filters"" $filePrefix }} - name: neutron-etc mountPath: {{ $rootwrapFile }} subPath: {{ base $rootwrapFile }} readOnly: true {{- end }} {{- end }} - name: libmodules mountPath: /lib/modules readOnly: true - name: socket mountPath: /var/lib/neutron/openstack-helm {{- if .Values.network.share_namespaces }} - name: host-run-netns mountPath: /run/netns mountPropagation: Bidirectional {{- end }} {{ if $mounts_neutron_lbaas_agent.volumeMounts }}{{ toYaml $mounts_neutron_lbaas_agent.volumeMounts | indent 12 }}{{ end }} volumes: - name: neutron-bin configMap: name: neutron-bin defaultMode: 0555 - name: neutron-etc secret: secretName: {{ $configMapName }} defaultMode: 0444 - name: libmodules hostPath: path: /lib/modules - name: socket hostPath: path: /var/lib/neutron/openstack-helm {{- if .Values.network.share_namespaces }} - name: host-run-netns hostPath: path: /run/netns {{- end }} {{ if $mounts_neutron_lbaas_agent.volumes }}{{ toYaml $mounts_neutron_lbaas_agent.volumes | indent 8 }}{{ end }} {{- end }} {{- end }} {{- if .Values.manifests.daemonset_lbaas_agent }} {{- $envAll := . }} {{- $daemonset := ""lbaas-agent"" }} {{- $configMapName := ""neutron-etc"" }} {{- $serviceAccountName := ""neutron-lbaas-agent"" }} {{- $dependencyOpts := dict ""envAll"" $envAll ""dependencyMixinParam"" $envAll.Values.network.backend ""dependencyKey"" ""lbaas"" -}} {{- $_ := include ""helm-toolkit.utils.dependency_resolver"" $dependencyOpts | toString | fromYaml }} {{ tuple $envAll ""pod_dependency"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} {{- $daemonset_yaml := list $daemonset $configMapName $serviceAccountName . | include ""neutron.lbaas_agent.daemonset"" | toString | fromYaml }} {{- $configmap_yaml := ""neutron.configmap.etc"" }} {{- list $daemonset $daemonset_yaml $configmap_yaml $configMapName . | include ""helm-toolkit.utils.daemonset_overrides"" }} {{- end }} ",,281,0
openstack%2Fopenstack-helm~master~I8846ef256e07414eb45de2f6d4c59aacc7a9cda9,openstack/openstack-helm,master,I8846ef256e07414eb45de2f6d4c59aacc7a9cda9,[Nova] Implement East-West network policy for Nova,ABANDONED,2018-12-10 16:26:51.000000000,2020-07-15 20:05:25.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 25313}, {'_account_id': 27455}, {'_account_id': 27977}, {'_account_id': 28592}]","[{'number': 1, 'created': '2018-12-10 16:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0fdd5485050850b2169d8809398bf6dd4d9090d2', 'message': '[Nova] Implement East-West network policy for Nova\n\nThis patch set adds the East-West ingress network policy for the\nNova service.\n\nChange-Id: I8846ef256e07414eb45de2f6d4c59aacc7a9cda9\n'}, {'number': 2, 'created': '2018-12-18 13:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/df6f2d9ae219900bdfb7187038c5bfbf3f98e534', 'message': '[Nova] Implement East-West network policy for Nova\n\nThis patch set adds the East-West ingress network policy for the\nNova service.\n\nChange-Id: I8846ef256e07414eb45de2f6d4c59aacc7a9cda9\n'}, {'number': 3, 'created': '2019-01-14 20:13:45.000000000', 'files': ['nova/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/75cc1c98af7a54f5d07e5a53e94fc61b2ff3671b', 'message': '[Nova] Implement East-West network policy for Nova\n\nThis patch set adds the East-West ingress network policy for the\nNova service.\n\nChange-Id: I8846ef256e07414eb45de2f6d4c59aacc7a9cda9\n'}]",2,624125,75cc1c98af7a54f5d07e5a53e94fc61b2ff3671b,14,7,3,27455,,,0,"[Nova] Implement East-West network policy for Nova

This patch set adds the East-West ingress network policy for the
Nova service.

Change-Id: I8846ef256e07414eb45de2f6d4c59aacc7a9cda9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/25/624125/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/values.yaml'],1,0fdd5485050850b2169d8809398bf6dd4d9090d2,, ingress: - from: - podSelector: matchLabels: application: neutron - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: cinder - podSelector: matchLabels: application: horizon - podSelector: matchLabels: application: ingress - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: ironic ports: - protocol: TCP port: 80 - protocol: TCP port: 443 - protocol: TCP port: 8774 - protocol: TCP port: 8775 - protocol: TCP port: 8778 - protocol: TCP port: 9696 - protocol: TCP port: 6080 placement: ingress: - from: - podSelector: matchLabels: application: neutron - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: cinder - podSelector: matchLabels: application: horizon - podSelector: matchLabels: application: ingress - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: ironic ports: - protocol: TCP port: 80 - protocol: TCP port: 443 - protocol: TCP port: 8774 - protocol: TCP port: 8775 - protocol: TCP port: 8778 - protocol: TCP port: 9696 - protocol: TCP port: 6080 network_policy: true, # TODO(lamt): Need to tighten this ingress for security. ingress: - {} placement: # TODO(lamt): Need to tighten this ingress for security. ingress: - {} network_policy: false,75,5
openstack%2Fopenstack-helm~master~I36b58f6a43d31d92ab48a7062690b0637e9658de,openstack/openstack-helm,master,I36b58f6a43d31d92ab48a7062690b0637e9658de,Implement East-West EGRESS policies for the Cloud Core services,ABANDONED,2018-12-06 21:06:24.000000000,2020-07-15 20:05:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-06 21:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/caa5ca5840d6224ccad79009b67a083b86768d8b', 'message': 'WIP: Implement East-West EGRESS network security policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 2, 'created': '2018-12-06 21:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/72804bc275b76f9965dd913a4ea00c03a39e155b', 'message': 'WIP: Implement East-West EGRESS network security policies\nfor the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 3, 'created': '2018-12-06 21:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3478eea1689697ce52bcaeeef168ee95069235fc', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 4, 'created': '2018-12-07 14:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d747c60567000f08516efec82e240255e6ac6e4d', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 5, 'created': '2018-12-07 20:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e57286433688f609c065fdb08d353616313d8e18', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 6, 'created': '2018-12-07 21:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ad36b1542acb04104197c0631005456beb7b7c1', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 7, 'created': '2018-12-07 22:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f737d5218ba33d66fcc35d9ca16e1c92d70815c', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 8, 'created': '2018-12-10 17:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/68968cf7778f2d8f51f6328519315d91e5d10aad', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 9, 'created': '2018-12-10 20:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1b5474b58cac2fab3cae572cca39061ca5ae5ebc', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 10, 'created': '2018-12-10 23:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70465b2d6bbb3e9fd9a1720e251c6f6b26ed5a88', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 11, 'created': '2018-12-10 23:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8c36070f3bb5af67a2c2ea54fb4b3cfa1139dc13', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 12, 'created': '2018-12-11 21:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e5c285e5b5c92ebadeca219d3ae6ea89023c0cb', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 13, 'created': '2018-12-11 21:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/77bb131cdaa3bf037bbb4c5834cc39b2299343ca', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 14, 'created': '2018-12-11 22:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/155488a1b92eddb386c419b824062651824db7e2', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 15, 'created': '2018-12-12 14:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9156319814e4e7892bc5bb2623b714d8891725c4', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 16, 'created': '2018-12-12 15:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84873f303b858e6ecc2e5823cc87c8a443d84247', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 17, 'created': '2018-12-12 16:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/07768c5843af8787af1e50208ed56d71a750078c', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 18, 'created': '2018-12-17 21:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d25259e29a70504071bb9717aec31ab5291765bf', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 19, 'created': '2018-12-18 19:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/536dfcee57c71e630d7a16c6f413c86319de51eb', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 20, 'created': '2018-12-18 20:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc9b479f742ff20f4f3f6dda7bbd557480799a0b', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 21, 'created': '2018-12-18 21:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d40da80ac7ed46b717c4d457ad00f38bd9a8a0a', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 22, 'created': '2018-12-19 01:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c05616638a541814fe9b7a6db8777d74a24f2ab', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 23, 'created': '2018-12-19 14:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ad5bf73d00d0e0b1952925adbe291b6e2e718396', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 24, 'created': '2018-12-19 18:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1b12cdde05869a1adb54e201675e39d74066851d', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 25, 'created': '2018-12-19 19:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b9513054883a1afa0d82a19d51c143ba70470698', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 26, 'created': '2018-12-20 17:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff35c4ca74d19a8e1b5ddcd2cddbd4539887a801', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 27, 'created': '2018-12-21 15:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/42925a0a091bf9d46dedc01f7dcfc600aeb93f28', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 28, 'created': '2018-12-21 16:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e87dad556fbeae95ee5b7b490e3be9d7873b923d', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 29, 'created': '2019-01-08 20:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c957e75483fe92f056b6915f3956b43a777647b7', 'message': 'WIP: Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 30, 'created': '2019-01-09 18:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7a0726f5a2516d1264ae1d84101446d5642399e6', 'message': 'Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 31, 'created': '2019-01-09 18:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/921044458dd3f1877c56525d78a05e58d9471db1', 'message': 'Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 32, 'created': '2019-01-09 21:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/57b70cdd4629c994fce804294866d5dbf10dc041', 'message': 'Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 33, 'created': '2019-01-10 14:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a9115ff1e12a3f53dfdfeb8e27e2533c02dd712', 'message': 'Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}, {'number': 34, 'created': '2019-01-15 19:34:45.000000000', 'files': ['tools/deployment/developer/ceph/110-ceph-radosgateway.sh', 'heat/values.yaml', 'cinder/values.yaml', 'nova/values.yaml', 'tools/deployment/common/test-networkpolicy.sh', 'neutron/values.yaml', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e5ebf8360491ab9acc2394bce003d869a989d018', 'message': 'Implement East-West EGRESS policies for the Cloud Core services\n\nThis PS implement East-West EGRESS network security policies for the\nCinder, Glance, Nova, Horizon, Heat services.\n\nChange-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de\n'}]",0,623315,e5ebf8360491ab9acc2394bce003d869a989d018,64,1,34,28592,,,0,"Implement East-West EGRESS policies for the Cloud Core services

This PS implement East-West EGRESS network security policies for the
Cinder, Glance, Nova, Horizon, Heat services.

Change-Id: I36b58f6a43d31d92ab48a7062690b0637e9658de
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/623315/33 && git format-patch -1 --stdout FETCH_HEAD,['heat/values.yaml'],1,caa5ca5840d6224ccad79009b67a083b86768d8b,egress-netpol, ports: - protocol: TCP port: 80 - protocol: TCP port: 6080 - protocol: TCP port: 8774 - protocol: TCP port: 9191 - protocol: TCP port: 9292 - protocol: TCP port: 8776,,13,0
openstack%2Fopenstack-helm~master~I6a696edfae8e772c6c952ff77e8780c18a91fa65,openstack/openstack-helm,master,I6a696edfae8e772c6c952ff77e8780c18a91fa65,Nova: Move to use socket for communication with libvirt,ABANDONED,2018-10-25 21:18:04.000000000,2020-07-15 20:05:01.000000000,,"[{'_account_id': 1091}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 21:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1a684daeb81d6ad06048a252134885c7a14dc61', 'message': 'Nova: Move to use socket for communication with libvirt\n\nThis PS moves to use a socket for communtation with libvirt\n\nChange-Id: I6a696edfae8e772c6c952ff77e8780c18a91fa65\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-30 16:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a37758ad071b5492fda241267144c3eb1cd857a2', 'message': 'Nova: Move to use socket for communication with libvirt\n\nThis PS moves to use a socket for communtation with libvirt\n\nChange-Id: I6a696edfae8e772c6c952ff77e8780c18a91fa65\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-10-30 23:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dc8cde97dd53210afd438cacb15abb087d866f07', 'message': 'Nova: Move to use socket for communication with libvirt\n\nThis PS moves to use a socket for communtation with libvirt\n\nChange-Id: I6a696edfae8e772c6c952ff77e8780c18a91fa65\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-01-14 20:13:31.000000000', 'files': ['nova/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/44926279943b097577179dd650f2c907ab55242a', 'message': 'Nova: Move to use socket for communication with libvirt\n\nThis PS moves to use a socket for communtation with libvirt\n\nChange-Id: I6a696edfae8e772c6c952ff77e8780c18a91fa65\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,613427,44926279943b097577179dd650f2c907ab55242a,13,3,4,23928,,,0,"Nova: Move to use socket for communication with libvirt

This PS moves to use a socket for communtation with libvirt

Change-Id: I6a696edfae8e772c6c952ff77e8780c18a91fa65
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/27/613427/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/values.yaml'],1,b1a684daeb81d6ad06048a252134885c7a14dc61,," connection_uri: ""qemu:///system"""," connection_uri: ""qemu+tcp://127.0.0.1/system""",1,1
openstack%2Fopenstack-helm~master~Icb2233a54fc558326e26113fd1d0c884f17cb00e,openstack/openstack-helm,master,Icb2233a54fc558326e26113fd1d0c884f17cb00e,Nova: Remove unused default values in values.yaml,ABANDONED,2018-09-19 00:02:05.000000000,2020-07-15 20:04:58.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-19 00:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e002646708942a23327390a8bcf51ea786fa98c', 'message': 'Nova: Remove unused default values in values.yaml\n\nThis PS remvoes some unused key pairs in the values.yaml\n\nChange-Id: Icb2233a54fc558326e26113fd1d0c884f17cb00e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-01-14 08:00:25.000000000', 'files': ['nova/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dd2d0fbc99fb0244dc47156da21fc6c1262ebc6a', 'message': 'Nova: Remove unused default values in values.yaml\n\nThis PS remvoes some unused key pairs in the values.yaml\n\nChange-Id: Icb2233a54fc558326e26113fd1d0c884f17cb00e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,603525,dd2d0fbc99fb0244dc47156da21fc6c1262ebc6a,7,2,2,23928,,,0,"Nova: Remove unused default values in values.yaml

This PS remvoes some unused key pairs in the values.yaml

Change-Id: Icb2233a54fc558326e26113fd1d0c884f17cb00e
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/25/603525/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/values.yaml'],1,2e002646708942a23327390a8bcf51ea786fa98c,nova/unused-values,, port: 8774 port: 8775 port: 8778,0,3
openstack%2Fopenstack-helm~master~If99d7c5f450e6fad5b27f89ec6cffcf5843ca56a,openstack/openstack-helm,master,If99d7c5f450e6fad5b27f89ec6cffcf5843ca56a,script to backup pvcs stored in ceph,ABANDONED,2018-08-08 23:00:33.000000000,2020-07-15 20:04:54.000000000,,"[{'_account_id': 8898}, {'_account_id': 20444}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 28372}, {'_account_id': 28592}, {'_account_id': 28620}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-08-08 23:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/040275789664ddc5d6ddd1f4c1ac611514e197ab', 'message': 'script to backup pvcs stored in ceph\n\nChange-Id: If99d7c5f450e6fad5b27f89ec6cffcf5843ca56a\n'}, {'number': 2, 'created': '2018-08-09 23:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0027e479c7ea4d094abb50e6db1fedaad0ab7277', 'message': 'script to backup pvcs stored in ceph\n\nChange-Id: If99d7c5f450e6fad5b27f89ec6cffcf5843ca56a\n'}, {'number': 3, 'created': '2019-01-14 07:58:19.000000000', 'files': ['tools/backup/backup_pvc.sh', 'tools/backup/restore_pvc.sh', 'tools/backup/pvcs.txt'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/634361a3e74c4fe528f947938b6647dc70c2c454', 'message': 'script to backup pvcs stored in ceph\n\nChange-Id: If99d7c5f450e6fad5b27f89ec6cffcf5843ca56a\n'}]",8,590056,634361a3e74c4fe528f947938b6647dc70c2c454,11,9,3,28620,,,0,"script to backup pvcs stored in ceph

Change-Id: If99d7c5f450e6fad5b27f89ec6cffcf5843ca56a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/56/590056/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/backup/backup_pvc.sh', 'tools/backup/pvcs.txt']",2,040275789664ddc5d6ddd1f4c1ac611514e197ab,backup-pvc-and-database,mysql-data-mariadb-server-0 openstack rabbitmq-data-rabbitmq-rabbitmq-0 ceph rabbitmq-data-rabbitmq-rabbitmq-0 openstack mysql-data-mariadb-server-0 ucp postgresql-data-postgresql-0 ucp,,71,0
openstack%2Fopenstack-helm~master~I3e4df972603ec4d58a720126bd4e199ba2746304,openstack/openstack-helm,master,I3e4df972603ec4d58a720126bd4e199ba2746304,Add magnum readiness check,ABANDONED,2018-06-26 03:09:09.000000000,2020-07-15 20:04:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-06-26 03:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/90c6b38dfc4861d789dbd6fc47ebd2d33557c412', 'message': 'Add magnum readiness check\n\nThis patch set adds a health check script for:\n\n* magnum-conductor\n\nDepends-On: I45459d0d8f165791d182b7201552dd08165326b9\nChange-Id: I3e4df972603ec4d58a720126bd4e199ba2746304\nSigned-off-by: Ranler Cao <caoran@fiberhome.com>\n'}, {'number': 2, 'created': '2019-01-14 07:55:40.000000000', 'files': ['magnum/templates/configmap-bin.yaml', 'magnum/templates/statefulset-conductor.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d2ceb00e0a13a244fbc4e675e6a602150decd6b8', 'message': 'Add magnum readiness check\n\nThis patch set adds a health check script for:\n\n* magnum-conductor\n\nDepends-On: I45459d0d8f165791d182b7201552dd08165326b9\nChange-Id: I3e4df972603ec4d58a720126bd4e199ba2746304\nSigned-off-by: Ranler Cao <caoran@fiberhome.com>\n'}]",0,577962,d2ceb00e0a13a244fbc4e675e6a602150decd6b8,5,1,2,25242,,,0,"Add magnum readiness check

This patch set adds a health check script for:

* magnum-conductor

Depends-On: I45459d0d8f165791d182b7201552dd08165326b9
Change-Id: I3e4df972603ec4d58a720126bd4e199ba2746304
Signed-off-by: Ranler Cao <caoran@fiberhome.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/577962/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/templates/configmap-bin.yaml', 'magnum/templates/statefulset-conductor.yaml']",2,90c6b38dfc4861d789dbd6fc47ebd2d33557c412,readinessProbe, readinessProbe: exec: command: - bash - /tmp/magnum-readiness.sh - magnum-conductor initialDelaySeconds: 20 periodSeconds: 10 mountPath: /tmp/magnum-readiness.sh subPath: magnum-readiness.sh readOnly: true - name: magnum-bin,,14,0
openstack%2Fopenstack-helm~master~I807ee0e0d9f5ebc74ef0fc088d49fa8c5b921cf6,openstack/openstack-helm,master,I807ee0e0d9f5ebc74ef0fc088d49fa8c5b921cf6,Add nfs client install physical node in doc description,ABANDONED,2018-08-23 07:21:53.000000000,2020-07-15 20:04:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-08-23 07:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/268384b74902262de53e014d7eff681a03130af7', 'message': 'Add nfs client install physical node in doc description\n\nChange-Id: I807ee0e0d9f5ebc74ef0fc088d49fa8c5b921cf6\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 2, 'created': '2018-08-23 08:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5b83d6877b658bf7c18b1dfe80911040b32f263a', 'message': 'Add nfs client install physical node in doc description\n\nChange-Id: I807ee0e0d9f5ebc74ef0fc088d49fa8c5b921cf6\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 3, 'created': '2019-01-14 07:57:55.000000000', 'files': ['doc/source/install/developer/deploy-with-nfs.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cfa06f2703e031525a0615275191758e7e10d6fe', 'message': 'Add nfs client install physical node in doc description\n\nChange-Id: I807ee0e0d9f5ebc74ef0fc088d49fa8c5b921cf6\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",1,595511,cfa06f2703e031525a0615275191758e7e10d6fe,8,2,3,23517,,,0,"Add nfs client install physical node in doc description

Change-Id: I807ee0e0d9f5ebc74ef0fc088d49fa8c5b921cf6
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/11/595511/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/deploy-with-nfs.rst'],1,268384b74902262de53e014d7eff681a03130af7,nfs_client,"In the nfs environment, the nfs client tool needs to be installed on the physical node. The nfs client tool is required for the pod to mount the nfs volume. ",,3,0
openstack%2Fopenstack-helm-infra~master~I35750148692b484e4df95ea16393894d8a986e65,openstack/openstack-helm-infra,master,I35750148692b484e4df95ea16393894d8a986e65,Add snippets and secret for internal TLS for services,ABANDONED,2018-11-29 21:31:14.000000000,2020-07-15 20:04:42.000000000,,"[{'_account_id': 9299}, {'_account_id': 12356}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25907}, {'_account_id': 26201}, {'_account_id': 26365}, {'_account_id': 26449}, {'_account_id': 28025}]","[{'number': 1, 'created': '2018-11-29 21:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a115af149efd828de5ce68422229ecf6c0283ff1', 'message': 'Add snippets and secret for internal TLS for services\n\nCo-Authored-By: Scott Hussey <sh8121@att.com>\nChange-Id: I35750148692b484e4df95ea16393894d8a986e65\n'}, {'number': 2, 'created': '2018-11-30 22:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09cc05f82b233f67d5fd7af8ae0afb5a1cc1a258', 'message': 'Add snippets and secret for internal TLS for services\n\nCo-Authored-By: Scott Hussey <sh8121@att.com>\nChange-Id: I35750148692b484e4df95ea16393894d8a986e65\n'}, {'number': 3, 'created': '2018-12-03 18:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/40954ee1d25c166515045824f97ccb3ac9104f63', 'message': 'Add snippets and secret for internal TLS for services\n\nCo-Authored-By: Scott Hussey <sh8121@att.com>\nChange-Id: I35750148692b484e4df95ea16393894d8a986e65\n'}, {'number': 4, 'created': '2018-12-04 00:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46e5f43b4ed1f01a0477344fe08eba5d2a019a91', 'message': 'Add snippets and secret for internal TLS for services\n\nCo-Authored-By: Scott Hussey <sh8121@att.com>\nChange-Id: I35750148692b484e4df95ea16393894d8a986e65\n'}, {'number': 5, 'created': '2018-12-04 00:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bc655bc66608710989dbeb4190d42a2e86d383f9', 'message': 'Add snippets and secret for internal TLS for services\n\nCo-Authored-By: Scott Hussey <sh8121@att.com>\nChange-Id: I35750148692b484e4df95ea16393894d8a986e65\n'}, {'number': 6, 'created': '2018-12-04 00:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6293e48e22d327cf7cb47fdf382096f0f2960030', 'message': 'Add snippets and secret for internal TLS for services\n\nCo-Authored-By: Scott Hussey <sh8121@att.com>\nChange-Id: I35750148692b484e4df95ea16393894d8a986e65\n'}, {'number': 7, 'created': '2018-12-04 17:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78b114af55c643e2b9717f54316c2f31a8c76300', 'message': 'Add snippets and secret for internal TLS for services\n\nCo-Authored-By: Scott Hussey <sh8121@att.com>\nChange-Id: I35750148692b484e4df95ea16393894d8a986e65\n'}, {'number': 8, 'created': '2018-12-06 00:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ccd34498b10562524f5a33771e05d78f036fc547', 'message': 'Add snippets and secret for internal TLS for services\n\nCo-Authored-By: Scott Hussey <sh8121@att.com>\nChange-Id: I35750148692b484e4df95ea16393894d8a986e65\n'}, {'number': 9, 'created': '2019-01-08 21:59:43.000000000', 'files': ['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl', 'helm-toolkit/templates/snippets/_tls-mounts.tpl', 'helm-toolkit/templates/manifests/_secret-ingress-tls.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05bc1f9113a9ae2a45b9d93c384bbc47ca94a2e4', 'message': 'Add snippets and secret for internal TLS for services\n\nCo-Authored-By: Scott Hussey <sh8121@att.com>\nChange-Id: I35750148692b484e4df95ea16393894d8a986e65\n'}]",0,621011,05bc1f9113a9ae2a45b9d93c384bbc47ca94a2e4,24,9,9,12356,,,0,"Add snippets and secret for internal TLS for services

Co-Authored-By: Scott Hussey <sh8121@att.com>
Change-Id: I35750148692b484e4df95ea16393894d8a986e65
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/621011/9 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl', 'helm-toolkit/templates/snippets/_tls-mounts.tpl', 'helm-toolkit/templates/manifests/_secret-ingress-tls.yaml.tpl']",3,a115af149efd828de5ce68422229ecf6c0283ff1,postgres-tls,"{{/* Copyright 2018 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{/* abstract: | Creates a manifest for a services public tls secret values: | secrets: tls: key_manager: api: public: barbican-tls-public endpoints: key_manager: host_fqdn_override: public: tls: crt: | FOO-CRT key: | FOO-KEY ca: | FOO-CA_CRT usage: | {{- include ""helm-toolkit.manifests.secret_ingress_tls"" ( dict ""envAll"" . ""backendServiceType"" ""key-manager"" ) -}} return: | --- apiVersion: v1 kind: Secret metadata: name: barbican-tls-public type: kubernetes.io/tls data: tls.crt: Rk9PLUNSVAo= tls.key: Rk9PLUtFWQo= ca.crt: Rk9PLUNBX0NSVAo= */}} {{- define ""helm-toolkit.manifests.secret_ingress_tls"" }} {{- $envAll := index . ""envAll"" }} {{- $endpoint := index . ""endpoint"" | default ""public"" }} {{- $backendServiceType := index . ""backendServiceType"" }} {{- $backendService := index . ""backendService"" | default ""api"" }} {{- $host := index $envAll.Values.endpoints ( $backendServiceType | replace ""-"" ""_"" ) ""host_fqdn_override"" }} {{- if hasKey $host $endpoint }} {{- $endpointHost := index $host $endpoint }} {{- if kindIs ""map"" $endpointHost }} {{- if hasKey $endpointHost ""tls"" }} {{- if and $endpointHost.tls.key $endpointHost.tls.crt }} --- apiVersion: v1 kind: Secret metadata: name: {{ index $envAll.Values.secrets.tls ( $backendServiceType | replace ""-"" ""_"" ) $backendService $endpoint }} type: kubernetes.io/tls data: tls.crt: {{ $endpointHost.tls.crt | b64enc }} tls.key: {{ $endpointHost.tls.key | b64enc }} {{- if $endpointHost.tls.ca }} ca.crt: {{ $endpointHost.tls.ca | b64enc }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} ",,215,52
openstack%2Fopenstack-helm~master~I0b16837abdbedba36971a6c6f21ae2e28579e1c7,openstack/openstack-helm,master,I0b16837abdbedba36971a6c6f21ae2e28579e1c7,Horizon: Enforce some headers via ingress,ABANDONED,2019-01-08 22:20:40.000000000,2020-07-15 20:04:38.000000000,,"[{'_account_id': 8749}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-08 22:20:40.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1ad0597027a7c71f3273ae683cbd81bac4bb4aa6', 'message': 'Horizon: Enforce some headers via ingress\n\nThis PS updates the ingress rules for horizon to prevent the\nbrowser from doing mime type sniffing (if supported/respected) and\nalso not load embedded iframes.\n\nChange-Id: I0b16837abdbedba36971a6c6f21ae2e28579e1c7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,629326,1ad0597027a7c71f3273ae683cbd81bac4bb4aa6,4,2,1,23928,,,0,"Horizon: Enforce some headers via ingress

This PS updates the ingress rules for horizon to prevent the
browser from doing mime type sniffing (if supported/respected) and
also not load embedded iframes.

Change-Id: I0b16837abdbedba36971a6c6f21ae2e28579e1c7
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/26/629326/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,1ad0597027a7c71f3273ae683cbd81bac4bb4aa6,ingress-headers," nginx.ingress.kubernetes.io/configuration-snippet: | X-Content-Type-Options: ""nosniff"" X-Frame-Options: ""deny""",,3,0
openstack%2Fopenstack-helm-infra~master~I783efc5665e528267c978eaabac6e45f0471cc10,openstack/openstack-helm-infra,master,I783efc5665e528267c978eaabac6e45f0471cc10,DNM: Alternal ceph image test,ABANDONED,2019-01-02 20:20:32.000000000,2020-07-15 20:04:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-02 20:20:32.000000000', 'files': ['ceph-provisioners/values.yaml', 'ceph-osd/values.yaml', 'ceph-client/values.yaml', 'ceph-rgw/values.yaml', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/675a9d4277b4ee6c6f99ccc6813d5350b877beae', 'message': 'DNM: Alternal ceph image test\n\nChange-Id: I783efc5665e528267c978eaabac6e45f0471cc10\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,628040,675a9d4277b4ee6c6f99ccc6813d5350b877beae,3,1,1,23928,,,0,"DNM: Alternal ceph image test

Change-Id: I783efc5665e528267c978eaabac6e45f0471cc10
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/628040/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-provisioners/values.yaml', 'ceph-osd/values.yaml', 'ceph-client/values.yaml', 'ceph-rgw/values.yaml', 'ceph-mon/values.yaml']",5,675a9d4277b4ee6c6f99ccc6813d5350b877beae,ceph-image-exp, ceph_bootstrap: 'docker.io/rook/ceph:v0.8.3' ceph_mon: 'docker.io/rook/ceph:v0.8.3', ceph_bootstrap: 'docker.io/ceph/daemon:tag-build-master-luminous-ubuntu-16.04' ceph_mon: 'docker.io/ceph/daemon:tag-build-master-luminous-ubuntu-16.04',9,9
openstack%2Fopenstack-helm-addons~master~I34e6b3983410193d27611af1122352452741eb9e,openstack/openstack-helm-addons,master,I34e6b3983410193d27611af1122352452741eb9e,[WIP] Ozone DB initialization for the ozone database and initial application user.,ABANDONED,2018-12-06 15:08:29.000000000,2020-07-15 20:04:20.000000000,,"[{'_account_id': 19391}, {'_account_id': 22348}, {'_account_id': 28235}, {'_account_id': 28701}, {'_account_id': 28848}]","[{'number': 1, 'created': '2018-12-06 15:08:29.000000000', 'files': ['ozonedb-init/requirements.yaml', 'ozonedb-init/values.yaml', 'ozonedb-init/templates/configmap-bin.yaml', 'ozonedb-init/templates/job-db-init.yaml', 'ozonedb-init/templates/job-image-repo-sync.yaml', 'ozonedb-init/templates/job-db-drop.yaml', 'ozonedb-init/templates/secret-db.yaml', 'ozonedb-init/Chart.yaml', 'ozonedb-init/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c4b27b9108a56d72fdcd29a60c15c3e8b3554d13', 'message': '[WIP] Ozone DB initialization for the ozone database and initial application user.\n\nChange-Id: I34e6b3983410193d27611af1122352452741eb9e\n'}]",1,623226,c4b27b9108a56d72fdcd29a60c15c3e8b3554d13,9,5,1,28848,,,0,"[WIP] Ozone DB initialization for the ozone database and initial application user.

Change-Id: I34e6b3983410193d27611af1122352452741eb9e
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/26/623226/1 && git format-patch -1 --stdout FETCH_HEAD,"['ozonedb-init/requirements.yaml', 'ozonedb-init/values.yaml', 'ozonedb-init/templates/configmap-bin.yaml', 'ozonedb-init/templates/job-db-init.yaml', 'ozonedb-init/templates/job-image-repo-sync.yaml', 'ozonedb-init/templates/job-db-drop.yaml', 'ozonedb-init/templates/secret-db.yaml', 'ozonedb-init/Chart.yaml', 'ozonedb-init/templates/configmap-etc.yaml']",9,c4b27b9108a56d72fdcd29a60c15c3e8b3554d13,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.configmap_etc }} {{- $envAll := . }} {{- if empty .Values.conf.ozonedb_init.database.connection -}} {{- $_ := tuple ""oslo_db"" ""internal"" ""ozone_user"" ""mysql"" . | include ""helm-toolkit.endpoints.authenticated_endpoint_uri_lookup""| set .Values.conf.ozonedb_init.database ""connection"" -}} {{- end -}} --- apiVersion: v1 kind: Secret metadata: name: ozonedb-init-etc type: Opaque data: ozonedb-init.conf: {{ include ""helm-toolkit.utils.to_oslo_conf"" .Values.conf.ozonedb_init | b64enc }} {{- end }} ",,412,0
openstack%2Fopenstack-helm~master~I7af5872965ef61cdc0fa32747aa26b47437b7369,openstack/openstack-helm,master,I7af5872965ef61cdc0fa32747aa26b47437b7369,WIP: Replace bad nulls that break node/label overrides,ABANDONED,2018-12-19 22:37:05.000000000,2020-07-15 20:04:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-19 22:37:05.000000000', 'files': ['neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9d1916be62606234ffab5241a90e0f0f2506fa9', 'message': 'WIP: Replace bad nulls that break node/label overrides\n\nChange-Id: I7af5872965ef61cdc0fa32747aa26b47437b7369\n'}]",0,626403,c9d1916be62606234ffab5241a90e0f0f2506fa9,3,1,1,18250,,,0,"WIP: Replace bad nulls that break node/label overrides

Change-Id: I7af5872965ef61cdc0fa32747aa26b47437b7369
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/03/626403/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/values.yaml'],1,c9d1916be62606234ffab5241a90e0f0f2506fa9,replace-bad-null, br-ex: 'null' tunnel: 'null' bind_port: 'null' interface_driver: 'null' mechanism_drivers: 'null' ml2_conf_sriov: 'null' macvtap_agent: 'null' interface_driver: 'null' interface_driver: 'null' metering_agent: 'null', br-ex: null tunnel: null bind_port: null interface_driver: null mechanism_drivers: null ml2_conf_sriov: null macvtap_agent: null interface_driver: null interface_driver: null metering_agent: null,10,10
openstack%2Fopenstack-helm~master~I376e22a7ce5d67df84510d4e63e05d6fea88a1cd,openstack/openstack-helm,master,I376e22a7ce5d67df84510d4e63e05d6fea88a1cd,Remove duplicate cinder_task in rally yaml file.,ABANDONED,2018-12-19 07:10:47.000000000,2020-07-15 20:04:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-19 07:10:47.000000000', 'files': ['rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/91035a4c1be1a8a330198887aa31bde912835832', 'message': 'Remove duplicate cinder_task in rally yaml file.\n\nIt repeats 15 times, we just need to keep one.\n\nChange-Id: I376e22a7ce5d67df84510d4e63e05d6fea88a1cd\nStory: 2004639\nTask: 28576\n'}]",0,626101,91035a4c1be1a8a330198887aa31bde912835832,3,1,1,25493,,,0,"Remove duplicate cinder_task in rally yaml file.

It repeats 15 times, we just need to keep one.

Change-Id: I376e22a7ce5d67df84510d4e63e05d6fea88a1cd
Story: 2004639
Task: 28576
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/01/626101/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/values.yaml'],1,91035a4c1be1a8a330198887aa31bde912835832,remove_rally_task,," image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant CinderVolumeBackups.create_incremental_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} size: 1 context: roles: - admin users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_delete_volume_type: - args: {} context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_and_list_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 4 type: constant sla: failure_rate: max: 0 CinderVolumeTypes.create_volume_type_and_encryption_type: - args: specs: cipher: aes-xts-plain64 control_location: front-end key_size: 512 provider: LuksEncryptor context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_accept_transfer: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_attach_volume: - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: 10 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant - args: create_volume_params: availability_zone: nova flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 1 times: 5 type: constant CinderVolumes.create_and_delete_snapshot: - args: force: false context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_delete_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_and_extend_volume: - args: new_size: 2 size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant - args: new_size: max: 10 min: 6 size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_get_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 5 type: constant sla: failure_rate: max: 0 CinderVolumes.create_and_list_snapshots: - args: detailed: true force: false context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_list_volume: - args: detailed: true size: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant - args: detailed: true size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_list_volume_backups: - args: create_backup_kwargs: {} create_volume_kwargs: {} detailed: true do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_and_restore_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_and_update_volume: - args: create_volume_kwargs: {} size: 1 update_volume_kwargs: display_description: desc_updated display_name: name_updated context: users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 3 type: constant CinderVolumes.create_and_upload_volume_to_image: - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant - args: container_format: bare disk_format: raw do_delete: true force: false image: name: cirros-0.3.5-x86_64-disk.img size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant - args: size: max: 5 min: 1 context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 runner: concurrency: 2 times: 2 type: constant CinderVolumes.create_nested_snapshots_and_attach_volume: - args: nested_level: 5 size: max: 5 min: 1 context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 runner: concurrency: 1 times: 1 type: constant CinderVolumes.create_snapshot_and_attach_volume: - args: size: max: 5 min: 1 volume_type: false context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant - args: size: max: 5 min: 1 volume_type: true context: servers: flavor: name: m1.tiny image: name: cirros-0.3.5-x86_64-disk.img servers_per_tenant: 2 users: tenants: 2 users_per_tenant: 1 images: image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" image_name: cirros-0.3.5-x86_64-disk.img image_type: qcow2 image_container: bare images_per_tenant: 1 runner: concurrency: 2 times: 4 type: constant CinderVolumes.create_volume: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_clone: - args: size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant - args: nested_level: 3 size: max: 5 min: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant CinderVolumes.create_volume_and_update_readonly_flag: - args: read_only: true size: 1 context: users: tenants: 2 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.create_volume_backup: - args: create_backup_kwargs: {} create_volume_kwargs: {} do_delete: true size: 1 context: roles: - member users: tenants: 1 users_per_tenant: 1 runner: concurrency: 1 times: 2 type: constant CinderVolumes.create_volume_from_snapshot: - args: do_delete: true context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 3 type: constant CinderVolumes.list_transfers: - args: detailed: true context: users: tenants: 3 users_per_tenant: 2 runner: concurrency: 2 times: 3 type: constant sla: failure_rate: max: 0 CinderVolumes.list_types: - args: is_public: true context: users: tenants: 2 users_per_tenant: 3 runner: concurrency: 2 times: 10 type: constant sla: failure_rate: max: 0 CinderVolumes.list_volumes: - args: detailed: true context: users: tenants: 1 users_per_tenant: 1 volumes: size: 1 volumes_per_tenant: 4 runner: concurrency: 1 times: 100 type: constant CinderVolumes.modify_volume_metadata: - args: {} context: users: tenants: 2 users_per_tenant: 2 volumes: size: 1 runner: concurrency: 2 times: 10 type: constant",0,8709
openstack%2Fopenstack-helm-infra~master~I06c4c2c17d652da3e65b9abbb385e43cadcc5083,openstack/openstack-helm-infra,master,I06c4c2c17d652da3e65b9abbb385e43cadcc5083,WIP: Gate: CRI-O support update,ABANDONED,2018-09-06 20:25:37.000000000,2020-07-15 20:04:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-06 20:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f157d2cf5ecf4a51aad63f1e5392991f1f7dfbf9', 'message': 'WIP: Gate: CRI-O support update\n\nChange-Id: I06c4c2c17d652da3e65b9abbb385e43cadcc5083\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-12-06 20:28:31.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/tasks/kubelet.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/0-crio.conf.j2', 'roles/deploy-kubeadm-aio-common/tasks/util-kubeadm-aio-run.yaml', 'roles/deploy-kubeadm-aio-common/tasks/clean-node.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/10-kubeadm.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3d4510868b1f877be358fc54db0528db8c5f6e8', 'message': 'WIP: Gate: CRI-O support update\n\nChange-Id: I06c4c2c17d652da3e65b9abbb385e43cadcc5083\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,600547,b3d4510868b1f877be358fc54db0528db8c5f6e8,5,1,2,23928,,,0,"WIP: Gate: CRI-O support update

Change-Id: I06c4c2c17d652da3e65b9abbb385e43cadcc5083
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/47/600547/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/tasks/kubelet.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/0-crio.conf.j2', 'roles/deploy-kubeadm-aio-common/tasks/util-kubeadm-aio-run.yaml', 'roles/deploy-kubeadm-aio-common/tasks/clean-node.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/10-kubeadm.conf.j2']",5,f157d2cf5ecf4a51aad63f1e5392991f1f7dfbf9,,"Environment=""KUBELET_EXTRA_ARGS=--max-pods=220 --pods-per-core=0 --feature-gates=MountPropagation=true --feature-gates=PodShareProcessNamespace=true {% if kubelet_container_runtime_args is defined %}{{ kubelet_container_runtime_args }}{% endif %}""","Environment=""KUBELET_EXTRA_ARGS=--max-pods=220 --pods-per-core=0 --feature-gates=MountPropagation=true --feature-gates=PodShareProcessNamespace=true""",4,10
openstack%2Fopenstack-helm-infra~master~I9503a35febcc5cd195fe3ac476effe5097e00f9d,openstack/openstack-helm-infra,master,I9503a35febcc5cd195fe3ac476effe5097e00f9d,Add possibility to run postgres with TLS,ABANDONED,2018-11-30 17:56:32.000000000,2020-07-15 20:04:01.000000000,,"[{'_account_id': 12356}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 17:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cedee4f306c8963cd4ff87fc58de194a1af7de4e', 'message': 'Add possibility to run postgres with TLS\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 2, 'created': '2018-11-30 18:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/85e7c8ad77af2888f48ab32b2e1cf8ba0be2091d', 'message': 'Add possibility to run postgres with TLS\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 3, 'created': '2018-11-30 22:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c82ae5e5fd74590e64c5032a31754c1f90e7936e', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 4, 'created': '2018-11-30 22:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4b380c810e131ad2c789b33db2d9a54d39ba686', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 5, 'created': '2018-12-03 18:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/017027562dd00ad9f45ff7a81423372e7fbd1a70', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 6, 'created': '2018-12-04 00:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ff5fb8c865179713254dae0d939c57710b68f13', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 7, 'created': '2018-12-04 00:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e94cb72d0de1fe8197ab5efe3b81e6efff02d3b', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 8, 'created': '2018-12-04 00:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ff5120f60454622f7d4d548c56d3f65290b9054', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 9, 'created': '2018-12-04 17:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05ae985a6e345bb9c9cdec49bb63d8fb48865d94', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 10, 'created': '2018-12-04 22:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5891b428dea1af9d0bc408e9e3de4b131d5e974e', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 11, 'created': '2018-12-04 22:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30663ae3b6415f0fbb480387f148f11af0aab902', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}, {'number': 12, 'created': '2018-12-06 00:16:14.000000000', 'files': ['postgresql/templates/configmap-bin.yaml', 'postgresql/templates/bin/_tls-only.sh.tpl', 'postgresql/templates/bin/_start.sh.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'postgresql/templates/secret-tls.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d1a69bdde1c4c0c121a8f73bef6b1dca204a4fcd', 'message': 'Add possibility to run postgres with TLS\n\nIf postgres is configured with TLS also forbid TLS<1.2 and\nrequire it for all connections.\n\nChange-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d\n'}]",0,621252,d1a69bdde1c4c0c121a8f73bef6b1dca204a4fcd,30,2,12,12356,,,0,"Add possibility to run postgres with TLS

If postgres is configured with TLS also forbid TLS<1.2 and
require it for all connections.

Change-Id: I9503a35febcc5cd195fe3ac476effe5097e00f9d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/621252/1 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/bin/_start.sh.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'postgresql/templates/secret-tls.yaml']",4,cedee4f306c8963cd4ff87fc58de194a1af7de4e,postgres-tls,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.secret_tls }} {{- include ""helm-toolkit.manifests.secret_tls"" ( dict ""envAll"" . ) }} {{- end }}",,28,1
openstack%2Fopenstack-helm-infra~master~Ic8402d668d672f454f062bed369cac516ed1573e,openstack/openstack-helm-infra,master,Ic8402d668d672f454f062bed369cac516ed1573e,"[Ceph-client, ceph-osd] Update helm test",MERGED,2020-07-07 01:23:02.000000000,2020-07-15 20:01:18.000000000,2020-07-15 19:59:09.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 14029}, {'_account_id': 17119}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2020-07-07 01:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/103a960b31d606334b25d16183a032ed1ca0095a', 'message': '[Ceph-client] Update helm test\n\nThe PS updates helm test and replaces ""expected_osds"" variable\nby the amount of OSDs available in the cluster.\n\nChange-Id: Ic8402d668d672f454f062bed369cac516ed1573e\n'}, {'number': 2, 'created': '2020-07-07 15:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/94e9f4198ae3c6df1d0087e43d6ec4e68a379c8d', 'message': '[Ceph-client] Update helm test\n\nThe PS updates helm test and replaces ""expected_osds"" variable\nby the amount of OSDs available in the cluster.\n\nChange-Id: Ic8402d668d672f454f062bed369cac516ed1573e\n'}, {'number': 3, 'created': '2020-07-07 19:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9f3ead9486d337b07f99f7345e83c5da5b12f10f', 'message': '[Ceph-client] Update helm test\n\nThe PS updates helm test and replaces ""expected_osds"" variable\nby the amount of OSDs available in the cluster.\n\nChange-Id: Ic8402d668d672f454f062bed369cac516ed1573e\n'}, {'number': 4, 'created': '2020-07-08 19:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49bcb02bee1ac8723d87e9b45ee8b660ebb13b39', 'message': '[Ceph-client] Update helm test\n\nThe PS updates helm test and replaces ""expected_osds"" variable\nby the amount of OSDs available in the cluster.\n\nChange-Id: Ic8402d668d672f454f062bed369cac516ed1573e\n'}, {'number': 5, 'created': '2020-07-09 15:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09be198a7461e77b7d3e4946e8bc55a4148113af', 'message': '[Ceph-client] Update helm test\n\nThe PS updates helm test and replaces ""expected_osds"" variable\nby the amount of OSDs available in the cluster.\n\nChange-Id: Ic8402d668d672f454f062bed369cac516ed1573e\n'}, {'number': 6, 'created': '2020-07-09 15:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cb8134f6066733c56630c8f718d3e39cb6a7f17d', 'message': '[Ceph-client, ceph-osd] Update helm test\n\nThe PS updates helm test and replaces ""expected_osds"" variable\nby the amount of OSDs available in the cluster (ceph-client).\nAlso the PS updates the logic of calculation of minimum amount of OSDs.\n\nChange-Id: Ic8402d668d672f454f062bed369cac516ed1573e\n'}, {'number': 7, 'created': '2020-07-09 15:53:49.000000000', 'files': ['ceph-client/templates/pod-helm-tests.yaml', 'ceph-osd/templates/bin/_helm-tests.sh.tpl', 'ceph-client/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eecf56b8a942b3c831183e02badcc81942243ccf', 'message': '[Ceph-client, ceph-osd] Update helm test\n\nThe PS updates helm test and replaces ""expected_osds"" variable\nby the amount of OSDs available in the cluster (ceph-client).\nAlso the PS updates the logic of calculation of minimum amount of OSDs.\n\nChange-Id: Ic8402d668d672f454f062bed369cac516ed1573e\n'}]",3,739633,eecf56b8a942b3c831183e02badcc81942243ccf,23,8,7,17119,,,0,"[Ceph-client, ceph-osd] Update helm test

The PS updates helm test and replaces ""expected_osds"" variable
by the amount of OSDs available in the cluster (ceph-client).
Also the PS updates the logic of calculation of minimum amount of OSDs.

Change-Id: Ic8402d668d672f454f062bed369cac516ed1573e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/33/739633/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/pod-helm-tests.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl']",2,103a960b31d606334b25d16183a032ed1ca0095a,," if [ ${num_osd} -eq 1 ]; then MIN_OSDS=${num_osd} MIN_OSDS=$((${num_osd}*$REQUIRED_PERCENT_OF_OSDS/100)) elif [ ""${num_in_osds}"" -ge ""${MIN_OSDS}"" ] && [ ""${num_up_osds}"" -ge ""${MIN_OSDS}"" ]; then echo ""Required number of OSDs (${MIN_OSDS}) are UP and IN status"" echo ""Required number of OSDs (${MIN_OSDS}) are NOT UP and IN status. Cluster shows OSD count=${num_osd}, UP=${num_up_osds}, IN=${num_in_osds}"""," if [ $EXPECTED_OSDS == 1 ]; then MIN_EXPECTED_OSDS=$EXPECTED_OSDS MIN_EXPECTED_OSDS=$(($EXPECTED_OSDS*$REQUIRED_PERCENT_OF_OSDS/100)) elif [ ""${num_in_osds}"" -ge ""${MIN_EXPECTED_OSDS}"" ] && [ ""${num_up_osds}"" -ge ""${MIN_EXPECTED_OSDS}"" ]; then echo ""Required number of OSDs (${MIN_EXPECTED_OSDS}) are UP and IN status"" echo ""Required number of OSDs (${MIN_EXPECTED_OSDS}) are NOT UP and IN status. Cluster shows OSD count=${num_osd}, UP=${num_up_osds}, IN=${num_in_osds}""",7,8
openstack%2Fopenstack-helm~master~Id41be31c774281bb85284e2aeabb14509d498c2c,openstack/openstack-helm,master,Id41be31c774281bb85284e2aeabb14509d498c2c,docs: Adding Ceph Operations Documentation,ABANDONED,2018-11-28 20:57:55.000000000,2020-07-15 20:00:58.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-11-28 20:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33a7560212fcde3538d1f18b5d5e94c23268d051', 'message': 'docs: Adding Operations Documentation\n\nSigned-off-by: Randy J. Martinez <utp887@yahoo.com>\n\nChange-Id: Id41be31c774281bb85284e2aeabb14509d498c2c\n'}, {'number': 2, 'created': '2018-11-29 08:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c1b50122419b16239998196144430ecd6512d77', 'message': 'docs: Adding Ceph Operations Documentation\n\nSigned-off-by: Randy J. Martinez <utp887@yahoo.com>\n\nChange-Id: Id41be31c774281bb85284e2aeabb14509d498c2c\n'}, {'number': 3, 'created': '2018-11-29 09:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c9c5ae985c46562047ed0ffe3f535b18d783df8', 'message': 'docs: Adding Ceph Operations Documentation\n\nSigned-off-by: Randy J. Martinez <utp887@yahoo.com>\n\nChange-Id: Id41be31c774281bb85284e2aeabb14509d498c2c\n'}, {'number': 4, 'created': '2018-11-30 12:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a5205034028efa6ac8cc823d7cb147fa8c4cdef2', 'message': 'docs: Adding Ceph Operations Documentation\n\nSigned-off-by: Randy J. Martinez <utp887@yahoo.com>\n\nChange-Id: Id41be31c774281bb85284e2aeabb14509d498c2c\n'}, {'number': 5, 'created': '2018-11-30 19:04:06.000000000', 'files': ['doc/source/operations/scripting.rst', 'doc/source/index.rst', 'doc/source/operations/alerting.rst', 'doc/source/operations/ceph-upgrade.rst', 'doc/source/operations/monitoring.rst', 'doc/source/operations/daily-check.rst', 'doc/source/operations/health-checks.rst', 'doc/source/operations/index.rst', 'doc/source/operations/maintenance.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c46ced316f9fefe6b6d2d568e870bdd92ff2077', 'message': 'docs: Adding Ceph Operations Documentation\n\nSigned-off-by: Randy J. Martinez <utp887@yahoo.com>\n\nChange-Id: Id41be31c774281bb85284e2aeabb14509d498c2c\n'}]",1,620694,9c46ced316f9fefe6b6d2d568e870bdd92ff2077,14,3,5,29528,,,0,"docs: Adding Ceph Operations Documentation

Signed-off-by: Randy J. Martinez <utp887@yahoo.com>

Change-Id: Id41be31c774281bb85284e2aeabb14509d498c2c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/94/620694/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/operations/scripting.rst', 'doc/source/index.rst', 'doc/source/operations/alerting.rst', 'doc/source/operations/ceph-upgrade.rst', 'doc/source/operations/monitoring.rst', 'doc/source/operations/daily-check.rst', 'doc/source/operations/health-checks.rst', 'doc/source/operations/index.rst']",8,33a7560212fcde3538d1f18b5d5e94c23268d051,operations-docs,"========== Operations ========== .. toctree:: :maxdepth: 2 monitoring daily-check health-checks ceph-upgrade alerting scripting Getting help ============ Channels -------- * Join us on `Slack <http://slack.k8s.io/>`_ - #openstack-helm * Join us on `IRC <irc://chat.freenode.net:6697/openstack-helm>`_: #openstack-helm on freenode Bugs and Feature requests ------------------------- When discovering a new bug, please report a bug in `Storyboard <https://storyboard.openstack.org/#!/project/886>`_. ",,131,0
openstack%2Fopenstack-helm~master~I0eafcb74edca9bde49b263ba8f1b4498accb09cc,openstack/openstack-helm,master,I0eafcb74edca9bde49b263ba8f1b4498accb09cc,Building images for queens release of openstack services,ABANDONED,2018-11-30 01:48:14.000000000,2020-07-15 20:00:55.000000000,,"[{'_account_id': 1091}, {'_account_id': 12459}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24580}]","[{'number': 1, 'created': '2018-11-30 01:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e894ea5a20f9173c397c67e71ee61431e3a28294', 'message': 'Building images for queens release of openstack services\n\nNow building base image using openstack loci logic which has distro\nspecific base image build step.\n\nAnd then that locally built base image is used as FROM value for other\nopenstack services.\nAdded support for building loci images locally and publishing to local\ndocker registry server for testing and verification.\nFor local image building and publishing, set env variables\nexport USE_LOCAL_LOCI=true\nexport TARGET_REGISTRY_BASE=192.168.86.236:5000/openstackhelm\n\nIf want to use local copy of loci code, then set\nexport USE_LOCAL_LOCI=true\nexport LOCAL_REPO_URI=<local_clone_path_parent_dir>/loci\n\nThis has been tested to build images for opensuse leap 15 distro.\n\nChange-Id: I0eafcb74edca9bde49b263ba8f1b4498accb09cc\n'}, {'number': 2, 'created': '2018-11-30 16:51:57.000000000', 'files': ['tools/images/openstack/queens/loci.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/307927768de6fadd258ad0b73f8b111bcf456cb3', 'message': 'Building images for queens release of openstack services\n\nNow building base image using openstack loci logic which has distro\nspecific base image build step.\n\nAnd then that locally built base image is used as FROM value for other\nopenstack services.\nAdded support for building loci images locally and publishing to local\ndocker registry server for testing and verification.\nFor local image building and publishing, set env variables\nexport USE_LOCAL_LOCI=true\nexport TARGET_REGISTRY_BASE=192.168.86.236:5000/openstackhelm\n\nIf want to use local copy of loci code, then set\nexport USE_LOCAL_LOCI=true\nexport LOCAL_REPO_URI=<local_clone_path_parent_dir>/loci\n\nThis has been tested to build images for opensuse leap 15 distro.\n\nChange-Id: I0eafcb74edca9bde49b263ba8f1b4498accb09cc\n'}]",3,621053,307927768de6fadd258ad0b73f8b111bcf456cb3,9,5,2,1091,,,0,"Building images for queens release of openstack services

Now building base image using openstack loci logic which has distro
specific base image build step.

And then that locally built base image is used as FROM value for other
openstack services.
Added support for building loci images locally and publishing to local
docker registry server for testing and verification.
For local image building and publishing, set env variables
export USE_LOCAL_LOCI=true
export TARGET_REGISTRY_BASE=192.168.86.236:5000/openstackhelm

If want to use local copy of loci code, then set
export USE_LOCAL_LOCI=true
export LOCAL_REPO_URI=<local_clone_path_parent_dir>/loci

This has been tested to build images for opensuse leap 15 distro.

Change-Id: I0eafcb74edca9bde49b263ba8f1b4498accb09cc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/53/621053/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/images/openstack/queens/loci.sh'],1,e894ea5a20f9173c397c67e71ee61431e3a28294,flexible_queens_os_build,"#!/bin/bash set -ex : ""{OPENSTACK_VERSION:=stable/queens}"" # BASE_OS values are 'ubuntu', 'centos' , 'leap15', 'debian' : ""{BASE_OS:=ubuntu}"" : ""{TARGET_REGISTRY_BASE:=docker.io/openstackhelm}"" # Set to true if want to use local clone/copy of loci code : ""{USE_LOCAL_LOCI:=false}"" # Set to local directory path if want to use existing local copy of loci code # If not set and USE_LOCAL_LOCI is set to true, then loci github code is cloned # locally first. # USE_LOCAL_LOCI must be set to true to override LOCI_REPO_URI default value : ""{LOCI_REPO_URI:=https://git.openstack.org/openstack/loci.git}"" BASE_IMG_NAME=""base_img"" if [[ ! ""${BASE_OS}"" =~ ubuntu|leap15|centos|debian ]]; then echo ""Unsupported value for BASE_OS = <$BASE_OS>"" exit 1 fi if [[ ""${USE_LOCAL_LOCI}"" =~ true|yes ]]; then if [[ ""${LOCI_REPO_URI}"" =~ ^http.* ]]; then LOCAL_CLONE_PATH=/tmp/loci if [ -d ""$LOCAL_CLONE_PATH"" ]; then temp_dir=$(mktemp -d) LOCAL_CLONE_PATH = $temp_dir + ""/loci"" fi # clone the loci repo if local URI is not provided git clone https://git.openstack.org/openstack/loci.git $LOCAL_CLONE_PATH pushd $LOCAL_CLONE_PATH git fetch https://git.openstack.org/openstack/loci.git ${OPENSTACK_VERSION} git checkout FETCH_HEAD popd # bind the local clone directory root to /opt/loci path in docker-in-docker container loci_repo_mount=""--mount type=bind,source=$LOCAL_CLONE_PATH,target=/opt/loci"" else loci_repo_mount=""--mount type=bind,source=$LOCI_REPO_URI,target=/opt/loci"" fi # set loci repo path to mounted directory in docker-in-docker container LOCI_REPO_URI=/opt/loci else loci_repo_mount="""" fi if [[ ""${TARGET_REGISTRY_BASE}"" != ""docker.io/openstackhelm"" ]]; then WHEELS_BASE=""${TARGET_REGISTRY_BASE}"" else WHEELS_BASE=""openstackhelm"" fi IMAGE_TAG=""${OPENSTACK_VERSION#*/}-${BASE_OS}"" # re-use container if already running docker ps | grep docker-in-docker if [ $? -ne 0 ]; then sudo docker run -d \ --name docker-in-docker \ --privileged=true \ --net=host \ -v /var/lib/docker $loci_repo_mount \ -v ${HOME}/.docker/config.json:/root/.docker/config.json:ro\ -v ${HOME}/daemon.json:/etc/docker/daemon.json:ro\ docker.io/docker:17.07.0-dind \ dockerd \ --pidfile=/var/run/docker.pid \ --host=unix:///var/run/docker.sock \ --storage-driver=overlay2 sudo docker exec docker-in-docker apk update sudo docker exec docker-in-docker apk add git fi # create base OS image to be used for other components sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git#master:dockerfiles/${BASE_OS} \ --network host \ --tag ${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT=requirements \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --tag ${TARGET_REGISTRY_BASE}/requirements:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/requirements:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=keystone \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent apache ldap"" \ --build-arg PIP_PACKAGES=""pycrypto python-openstackclient"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/keystone:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/keystone:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=heat \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent apache"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg DIST_PACKAGES=""curl"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/heat:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/heat:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=barbican \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/barbican:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/barbican:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=glance \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent glance ceph"" \ --build-arg PIP_PACKAGES=""pycrypto python-swiftclient"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/glance:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/glance:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=cinder \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent cinder lvm ceph qemu"" \ --build-arg PIP_PACKAGES=""pycrypto python-swiftclient"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/cinder:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/cinder:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=neutron \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent neutron linuxbridge openvswitch"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/neutron:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/neutron:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=neutron \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent neutron linuxbridge openvswitch"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg DIST_PACKAGES=""ethtool lshw"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/neutron:${IMAGE_TAG}-sriov-1804 sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/neutron:${IMAGE_TAG}-sriov sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=nova \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent nova ceph linuxbridge openvswitch configdrive qemu apache"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/nova:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/nova:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=horizon \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent horizon apache"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/horizon:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/horizon:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=senlin \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent senlin"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/senlin:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/senlin:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=congress \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent congress"" \ --build-arg PIP_PACKAGES=""pycrypto python-congressclient"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/congress:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/congress:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=magnum \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent magnum"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/magnum:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/magnum:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ $LOCI_REPO_URI \ --network host \ --build-arg PROJECT=ironic \ --build-arg FROM=${TARGET_REGISTRY_BASE}/${BASE_IMG_NAME}:${IMAGE_TAG} \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent ironic ipxe ipmi qemu tftp"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg DIST_PACKAGES=""iproute2"" \ --build-arg WHEELS=${WHEELS_BASE}/requirements:${IMAGE_TAG} \ --tag ${TARGET_REGISTRY_BASE}/ironic:${IMAGE_TAG} sudo docker exec docker-in-docker docker push ${TARGET_REGISTRY_BASE}/ironic:${IMAGE_TAG} ",,252,0
openstack%2Fopenstack-helm-infra~master~Iae56ab1c31a0e2875acd8ad20c817ada65ac0ed4,openstack/openstack-helm-infra,master,Iae56ab1c31a0e2875acd8ad20c817ada65ac0ed4,Restrict Gnocchi Ceph access scope to what is needed only,ABANDONED,2018-10-05 21:28:07.000000000,2020-07-15 20:00:50.000000000,,"[{'_account_id': 8408}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28372}, {'_account_id': 29053}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-10-05 21:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6010db70c5ae20b03beeac956b7c96e28ba6f7b3', 'message': 'Restrict Gnocchi Ceph access scope to what is needed only\n\nChange-Id: Iae56ab1c31a0e2875acd8ad20c817ada65ac0ed4\n'}, {'number': 2, 'created': '2018-10-06 04:51:50.000000000', 'files': ['gnocchi/templates/bin/_storage-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cfc6c9aa193716dd349a7d0d94f9616f88810e3c', 'message': 'Restrict Gnocchi Ceph access scope to what is needed only\n\nChange-Id: Iae56ab1c31a0e2875acd8ad20c817ada65ac0ed4\n'}]",3,608364,cfc6c9aa193716dd349a7d0d94f9616f88810e3c,14,9,2,29053,,,0,"Restrict Gnocchi Ceph access scope to what is needed only

Change-Id: Iae56ab1c31a0e2875acd8ad20c817ada65ac0ed4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/64/608364/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/templates/bin/_storage-init.sh.tpl'],1,6010db70c5ae20b03beeac956b7c96e28ba6f7b3,," #NOTE(JCL): Restrict what the user can do to only what is needed. No write on the MONs nor MGRS, RWX on gnocchi pool only. mon ""allow r"" \ osd ""allow rwx pool=${RBD_POOL_NAME}"" \ mgr ""allow r"" \"," mon ""allow *"" \ osd ""allow *"" \ mgr ""allow *"" \",4,3
openstack%2Fopenstack-helm-infra~master~Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67,openstack/openstack-helm-infra,master,Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67,Post deployment cephx capabilities update,ABANDONED,2018-10-31 21:22:26.000000000,2020-07-15 20:00:46.000000000,,"[{'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 26201}, {'_account_id': 28372}, {'_account_id': 29268}]","[{'number': 1, 'created': '2018-10-31 21:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d7c95ce8f9e1e2f1952c543b603b9f1505f1f84', 'message': '[WIP] - Post deployment cephx capabilities update\n\nChange-Id: Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67\n'}, {'number': 2, 'created': '2018-11-01 21:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/843a06eb9aa63acc6e3a23d29af95b1a092d59cf', 'message': ""[WIP] - Post deployment cephx capabilities update\n\nThis change is intended to introduce a new step\nin the libvirt and gnocchi POD initialization in\norder to align the cephx capabilities of a previously\ndeployed cluster during an upgrade/update procedure.\n\ne.g. Early deployments assigned 'allow *' for both\nMON and OSD capabilities that were later restricted\nto provide a better security.\n\nChange-Id: Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67\n""}, {'number': 3, 'created': '2018-11-07 15:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a2756859ae8878dc02896ee1f5e83035f0a792d', 'message': ""[WIP] - Post deployment cephx capabilities update\n\nThis change is intended to introduce a new step\nin the libvirt and gnocchi POD initialization in\norder to align the cephx capabilities of a previously\ndeployed cluster during an upgrade/update procedure.\n\ne.g. Early deployments assigned 'allow *' for both\nMON and OSD capabilities that were later restricted\nto provide a better security.\n\nChange-Id: Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67\n""}, {'number': 4, 'created': '2018-11-08 21:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/52aef3336006a72ed53dda0bb5b21c4fdcec7924', 'message': ""Post deployment cephx capabilities update\n\nThis change is intended to introduce a new step\nin the libvirt and gnocchi POD initialization in\norder to align the cephx capabilities of a previously\ndeployed cluster during an upgrade/update procedure.\n\ne.g. Early deployments assigned 'allow *' for both\nMON and OSD capabilities that were later restricted\nto provide a better security.\n\nChange-Id: Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67\n""}, {'number': 5, 'created': '2018-11-30 01:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3e2a35630fe06dfa9a32ee6f5df3d5203a2841e', 'message': ""Post deployment cephx capabilities update\n\nThis change is intended to introduce a new step\nin the libvirt and gnocchi POD initialization in\norder to align the cephx capabilities of a previously\ndeployed cluster during an upgrade/update procedure.\n\nA helm-toolkit template is create for easy calling\nas ceph-update-keyring. It requires the client.admin\nkeyring to be available for the command to succeed.\n\ne.g. Early deployments assigned 'allow *' for both\nMON and OSD capabilities that were later restricted\nto provide a better security.\n\nChange-Id: Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67\n""}, {'number': 6, 'created': '2018-11-30 01:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f8f44d2b9dfddc02c88e15dc6c94cf308d6dd70', 'message': ""Post deployment cephx capabilities update\n\nThis change is intended to introduce a new step\nin the libvirt and gnocchi POD initialization in\norder to align the cephx capabilities of a previously\ndeployed cluster during an upgrade/update procedure.\n\nA helm-toolkit template is created for easy calling\nas ceph-update-keyring. It requires the client.admin\nkeyring to be available for the command to succeed.\nThe template requires 2 env variables pointing\nto the Ceph user name and the Ceph pool if required.\n\ne.g. Early deployments assigned 'allow *' for both\nMON and OSD capabilities that were later restricted\nto provide a better security.\n\nChange-Id: Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67\n""}, {'number': 7, 'created': '2018-11-30 16:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c29dc3b5e0a81623b12cbfa50269799e09e623ce', 'message': ""Post deployment cephx capabilities update\n\nThis change is intended to introduce a new step\nin the libvirt and gnocchi POD initialization in\norder to align the cephx capabilities of a previously\ndeployed cluster during an upgrade/update procedure.\n\nA helm-toolkit template is created for easy calling\nas ceph-update-keyring. It requires the client.admin\nkeyring to be available for the command to succeed.\nThe template requires 2 env variables pointing\nto the Ceph user name and the Ceph pool if required.\n\ne.g. Early deployments assigned 'allow *' for both\nMON and OSD capabilities that were later restricted\nto provide a better security.\n\nChange-Id: Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67\n""}, {'number': 8, 'created': '2018-11-30 23:26:34.000000000', 'files': ['libvirt/templates/daemonset-libvirt.yaml', 'gnocchi/templates/daemonset-metricd.yaml', 'libvirt/templates/configmap-bin.yaml', 'helm-toolkit/templates/scripts/_ceph-keyring-update.sh.tpl', 'gnocchi/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5a0899c44652dbd1a216d72bb9cb92534c4905b0', 'message': ""Post deployment cephx capabilities update\n\nThis change is intended to introduce a new step\nin the libvirt and gnocchi POD initialization in\norder to align the cephx capabilities of a previously\ndeployed cluster during an upgrade/update procedure.\n\nA helm-toolkit template is created for easy calling\nas ceph-update-keyring. It requires the client.admin\nkeyring to be available for the command to succeed.\nThe template requires 2 env variables pointing\nto the Ceph user name and the Ceph pool if required.\n\ne.g. Early deployments assigned 'allow *' for both\nMON and OSD capabilities that were later restricted\nto provide a better security.\n\nChange-Id: Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67\n""}]",0,614640,5a0899c44652dbd1a216d72bb9cb92534c4905b0,20,7,8,29053,,,0,"Post deployment cephx capabilities update

This change is intended to introduce a new step
in the libvirt and gnocchi POD initialization in
order to align the cephx capabilities of a previously
deployed cluster during an upgrade/update procedure.

A helm-toolkit template is created for easy calling
as ceph-update-keyring. It requires the client.admin
keyring to be available for the command to succeed.
The template requires 2 env variables pointing
to the Ceph user name and the Ceph pool if required.

e.g. Early deployments assigned 'allow *' for both
MON and OSD capabilities that were later restricted
to provide a better security.

Change-Id: Id0cc9f4b6babc1411e2a722a0dd7f65b55456c67
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/614640/2 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/templates/bin/_ceph-keyring-update.sh.tpl', 'libvirt/templates/daemonset-libvirt.yaml', 'gnocchi/templates/daemonset-metricd.yaml', 'gnocchi/templates/bin/_ceph-keyring-update.sh.tpl', 'libvirt/templates/configmap-bin.yaml', 'gnocchi/templates/configmap-bin.yaml']",6,0d7c95ce8f9e1e2f1952c543b603b9f1505f1f84,614640," ceph-keyring-update.sh: | {{ tuple ""bin/_ceph-keyring-update.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,151,0
openstack%2Fopenstack-helm~master~I0a580b5e4e14678f6abc14b58d8de5d3d6172c44,openstack/openstack-helm,master,I0a580b5e4e14678f6abc14b58d8de5d3d6172c44,Horizon: update east-west network security policy,ABANDONED,2018-11-02 23:13:29.000000000,2020-07-15 20:00:33.000000000,,"[{'_account_id': 20466}, {'_account_id': 20469}, {'_account_id': 22348}, {'_account_id': 22636}]","[{'number': 1, 'created': '2018-11-02 23:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1ed770c084287f46bfffc60a58b59413dd48bb26', 'message': 'Horizon: update east-west network security policy\n\nThis patch set updates the ingress network security policy\nfor the Horizon service.\n\nChange-Id: I0a580b5e4e14678f6abc14b58d8de5d3d6172c44\n'}, {'number': 2, 'created': '2018-11-29 18:36:21.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aecda831a0449a92ef3932f5aa14ec78275ac3f8', 'message': 'Horizon: update east-west network security policy\n\nThis patch set updates the ingress network security policy\nfor the Horizon service.\n\nChange-Id: I0a580b5e4e14678f6abc14b58d8de5d3d6172c44\n'}]",0,615355,aecda831a0449a92ef3932f5aa14ec78275ac3f8,6,4,2,17119,,,0,"Horizon: update east-west network security policy

This patch set updates the ingress network security policy
for the Horizon service.

Change-Id: I0a580b5e4e14678f6abc14b58d8de5d3d6172c44
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/615355/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,1ed770c084287f46bfffc60a58b59413dd48bb26,, ports: - protocol: TCP port: 80,,3,0
openstack%2Fopenstack-helm-infra~master~I382d063171d66fc88e3e15795d81a8c71776c588,openstack/openstack-helm-infra,master,I382d063171d66fc88e3e15795d81a8c71776c588,Add yp validation dependency into pull-images,ABANDONED,2018-11-20 19:14:21.000000000,2020-07-15 20:00:29.000000000,,"[{'_account_id': 17966}, {'_account_id': 20469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 19:14:21.000000000', 'files': ['tools/pull-images.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8b53247e8631b2d16eb3aab48eeb3a32398c9502', 'message': 'Add yp validation dependency into pull-images\n\nThe pull-images.sh bash script uses the yp python module to operates.\nThis change adds a validation to which ensures that the module is\ninstalled on the system.\n\nChange-Id: I382d063171d66fc88e3e15795d81a8c71776c588\n'}]",0,619065,8b53247e8631b2d16eb3aab48eeb3a32398c9502,3,3,1,8726,,,0,"Add yp validation dependency into pull-images

The pull-images.sh bash script uses the yp python module to operates.
This change adds a validation to which ensures that the module is
installed on the system.

Change-Id: I382d063171d66fc88e3e15795d81a8c71776c588
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/619065/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/pull-images.sh'],1,8b53247e8631b2d16eb3aab48eeb3a32398c9502,,if ! $(yq --version &>/dev/null); then if ! $(pip --version &>/dev/null); then curl -sL https://bootstrap.pypa.io/get-pip.py | sudo -E python fi sudo -H -E pip install yq fi ,,7,0
openstack%2Fopenstack-helm~master~I829fcf210888418120a65bf2795456da87d6eaf4,openstack/openstack-helm,master,I829fcf210888418120a65bf2795456da87d6eaf4,Update the HTTP links to HTTPS in secret-keystone.yaml.,ABANDONED,2018-11-13 17:18:20.000000000,2020-07-15 20:00:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-13 17:18:20.000000000', 'files': ['ironic/values.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/804a98a5fc2daa82660294735b6c47d8a5deafd7', 'message': 'Update the HTTP links to HTTPS in secret-keystone.yaml.\n\nChange-Id: I829fcf210888418120a65bf2795456da87d6eaf4\n'}]",0,617753,804a98a5fc2daa82660294735b6c47d8a5deafd7,3,1,1,29423,,,0,"Update the HTTP links to HTTPS in secret-keystone.yaml.

Change-Id: I829fcf210888418120a65bf2795456da87d6eaf4
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/53/617753/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/values.yaml', 'horizon/values.yaml']",2,804a98a5fc2daa82660294735b6c47d8a5deafd7,," 'help_url': ""https://docs.openstack.org"", # See Metadata Definitions on: https://docs.openstack.org/developer/glance/"," 'help_url': ""http://docs.openstack.org"", # See Metadata Definitions on: http://docs.openstack.org/developer/glance/",3,3
openstack%2Fopenstack-helm~master~Ia2a10df7d66ddc36ac9fbcb272d24660719c62f5,openstack/openstack-helm,master,Ia2a10df7d66ddc36ac9fbcb272d24660719c62f5,Omit the twice occured words in  daemonset-ovs-agent.yaml,ABANDONED,2018-11-13 11:12:54.000000000,2020-07-15 20:00:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-13 11:12:54.000000000', 'files': ['neutron/templates/daemonset-ovs-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87e42f69d93920da09f39d568f0ddac372da887b', 'message': 'Omit the twice occured words in  daemonset-ovs-agent.yaml\n\nChange-Id: Ia2a10df7d66ddc36ac9fbcb272d24660719c62f5\n'}]",0,617586,87e42f69d93920da09f39d568f0ddac372da887b,3,1,1,27366,,,0,"Omit the twice occured words in  daemonset-ovs-agent.yaml

Change-Id: Ia2a10df7d66ddc36ac9fbcb272d24660719c62f5
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/617586/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/daemonset-ovs-agent.yaml'],1,87e42f69d93920da09f39d568f0ddac372da887b,, # ensures this container can see a br-int, # ensures this container can can see a br-int,1,1
openstack%2Fopenstack-helm-infra~master~I51e93623e35217cc50eb16d7a6f4310ca46d27f6,openstack/openstack-helm-infra,master,I51e93623e35217cc50eb16d7a6f4310ca46d27f6,clean up .gitignore personal tools,ABANDONED,2018-11-10 07:05:39.000000000,2020-07-15 20:00:07.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-10 07:05:39.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a77fb1a392a674bb761e65d7daa170e1b4d09782', 'message': 'clean up .gitignore personal tools\n\nChange-Id: I51e93623e35217cc50eb16d7a6f4310ca46d27f6\n'}]",1,617075,a77fb1a392a674bb761e65d7daa170e1b4d09782,4,2,1,27511,,,0,"clean up .gitignore personal tools

Change-Id: I51e93623e35217cc50eb16d7a6f4310ca46d27f6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/617075/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,a77fb1a392a674bb761e65d7daa170e1b4d09782,1110_fix_gitignore,"# Add patterns in here to exclude files created by tools integrated with this # repository, such as test frameworks from the project's recommended workflow, # rendered documentation and package builds. # # Don't add patterns to exclude files created by preferred personal tools # (editors, IDEs, your operating system itself even). These should instead be # maintained outside the repository, for example in a ~/.gitignore file added # with: # # git config --global core.excludesfile '~/.gitignore' # Bytecompiled Python",# Mr Developer .mr.developer.cfg .project .pydevproject # Editors *~ .*.swp .*sw? ,12,10
openstack%2Fopenstack-helm-infra~master~Ia7d4608cc7a941d41d5ce86fcc40d05485d0e978,openstack/openstack-helm-infra,master,Ia7d4608cc7a941d41d5ce86fcc40d05485d0e978,update project.yaml,ABANDONED,2018-11-10 08:42:05.000000000,2020-07-15 20:00:02.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-10 08:42:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/56f85fb2e89c3bd0eb3acf82fe7aa6098c790e99', 'message': 'update project.yaml\n\nChange-Id: Ia7d4608cc7a941d41d5ce86fcc40d05485d0e978\n'}]",3,617099,56f85fb2e89c3bd0eb3acf82fe7aa6098c790e99,4,2,1,27511,,,0,"update project.yaml

Change-Id: Ia7d4608cc7a941d41d5ce86fcc40d05485d0e978
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/617099/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,56f85fb2e89c3bd0eb3acf82fe7aa6098c790e99,1110_update_zuul_job_config, - openstack-ansible-role-jobs - check-requirements - release-notes-jobs-python3,,3,0
openstack%2Fopenstack-helm-infra~master~Id8f3706225511fa9c25e217389c499e37ccdd774,openstack/openstack-helm-infra,master,Id8f3706225511fa9c25e217389c499e37ccdd774,WIP: Move libvirt to use socket,ABANDONED,2018-10-26 22:36:28.000000000,2020-07-15 19:59:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-26 22:36:28.000000000', 'files': ['libvirt/values.yaml', 'libvirt/templates/utils/_to_libvirt_conf.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1c6bc0a050d03017e8769ea681dce005d96cfa4e', 'message': 'WIP: Move libvirt to use socket\n\nChange-Id: Id8f3706225511fa9c25e217389c499e37ccdd774\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,613701,1c6bc0a050d03017e8769ea681dce005d96cfa4e,3,1,1,23928,,,0,"WIP: Move libvirt to use socket

Change-Id: Id8f3706225511fa9c25e217389c499e37ccdd774
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/613701/1 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/values.yaml', 'libvirt/templates/utils/_to_libvirt_conf.tpl']",2,1c6bc0a050d03017e8769ea681dce005d96cfa4e,," unix_sock_ro_perms: ""0777"" unix_sock_ro_perms = ""0777""","{{- if regexMatch ""^[0-9]+$"" $value }} {{ $key }} = {{ $value }} {{- else }}{{- end }}",8,7
openstack%2Fopenstack-helm-infra~master~I0db0a417fe3d70605aa199efc2b81851901d9ba6,openstack/openstack-helm-infra,master,I0db0a417fe3d70605aa199efc2b81851901d9ba6,WIP: restore local image registry functionality,ABANDONED,2018-10-19 17:13:18.000000000,2020-07-15 19:59:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-19 17:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e31e492c4a486a06f320aea96bfdea4f09b1360d', 'message': 'WIP: restore local image registry functionality\n\nRot has set in for the local image restory function, this resolves that\nby adding gating and also:\n * adding cross namespace perms to the k8s entrypoint functions\n * fixing charts\n\nChange-Id: I0db0a417fe3d70605aa199efc2b81851901d9ba6\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-19 17:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae6aa7c390faa9e0c462f210753e4ac3dc5c982b', 'message': 'WIP: restore local image registry functionality\n\nRot has set in for the local image restory function, this resolves that\nby adding gating and also:\n * adding cross namespace perms to the k8s entrypoint functions\n * fixing charts\n\nChange-Id: I0db0a417fe3d70605aa199efc2b81851901d9ba6\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-10-19 17:20:46.000000000', 'files': ['tools/deployment/local-registry/000-install-packages.sh', 'tools/deployment/local-registry/005-deploy-k8s.sh', 'memcached/values.yaml', 'tools/deployment/local-registry/020-deploy-memcached.sh', 'tools/deployment/local-registry/010-deploy-docker-registry.sh', 'memcached/templates/job-image-repo-sync.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/192613aa83381d5e118e8c3ec6dbdea294784265', 'message': 'WIP: restore local image registry functionality\n\nRot has set in for the local image restory function, this resolves that\nby adding gating and also:\n * adding cross namespace perms to the k8s entrypoint functions\n * fixing charts\n\nChange-Id: I0db0a417fe3d70605aa199efc2b81851901d9ba6\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,611922,192613aa83381d5e118e8c3ec6dbdea294784265,6,2,3,23928,,,0,"WIP: restore local image registry functionality

Rot has set in for the local image restory function, this resolves that
by adding gating and also:
 * adding cross namespace perms to the k8s entrypoint functions
 * fixing charts

Change-Id: I0db0a417fe3d70605aa199efc2b81851901d9ba6
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/22/611922/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/local-registry/000-install-packages.sh', 'tools/deployment/local-registry/005-deploy-k8s.sh', 'memcached/values.yaml', 'tools/deployment/local-registry/020-deploy-memcached.sh', 'tools/deployment/local-registry/010-deploy-docker-registry.sh', 'memcached/templates/job-image-repo-sync.yaml']",6,e31e492c4a486a06f320aea96bfdea4f09b1360d,gate/reduce_scope,"{{- $configMapBinName := printf ""%s-%s"" .Release.Name ""memcached-bin"" }} {{- $imageRepoSyncJob := dict ""envAll"" . ""serviceName"" ""memcached"" ""configMapBin"" $configMapBinName -}}","{{- $imageRepoSyncJob := dict ""envAll"" . ""serviceName"" ""memcached"" -}}",49,1
openstack%2Fopenstack-helm~master~I07d326980e8a30c10382b2744ade3cb10a7f65e2,openstack/openstack-helm,master,I07d326980e8a30c10382b2744ade3cb10a7f65e2,Update the default service CIDR configuration,ABANDONED,2018-08-18 06:54:46.000000000,2020-07-15 19:59:50.000000000,,"[{'_account_id': 17591}, {'_account_id': 18755}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 28162}]","[{'number': 1, 'created': '2018-08-18 06:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/855b175f64f1450cb9a524d490114003dc755652', 'message': 'Update the default service CIDR configuration\n\nIt is 10.96.0.0/12 instead of 10.96.0.0/16 in code.\nIt cost me much time to find out where to change the configruation, and\nadd this guide in document.\n\nChange-Id: I07d326980e8a30c10382b2744ade3cb10a7f65e2\nSigned-off-by: Julien <zhang.jun3g@zte.com.cn>\n'}, {'number': 2, 'created': '2018-10-16 09:31:31.000000000', 'files': ['doc/source/install/developer/requirements-and-host-config.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba25d350b2c4f94944653b60a26cf7053fd4d3b1', 'message': 'Update the default service CIDR configuration\n\nIt is 10.96.0.0/12 instead of 10.96.0.0/16 in code.\nIt cost me much time to find out where to change the configruation, and\nadd this guide in document.\n\nChange-Id: I07d326980e8a30c10382b2744ade3cb10a7f65e2\nSigned-off-by: Julien <zhang.jun3g@zte.com.cn>\n'}]",9,593271,ba25d350b2c4f94944653b60a26cf7053fd4d3b1,7,6,2,18755,,,0,"Update the default service CIDR configuration

It is 10.96.0.0/12 instead of 10.96.0.0/16 in code.
It cost me much time to find out where to change the configruation, and
add this guide in document.

Change-Id: I07d326980e8a30c10382b2744ade3cb10a7f65e2
Signed-off-by: Julien <zhang.jun3g@zte.com.cn>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/593271/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/requirements-and-host-config.rst'],1,855b175f64f1450cb9a524d490114003dc755652,update_network," Kubernetes services will use ``10.96.0.0/12`` as the CIDR for services. CheckYou can change such network configuration as CIDRs, external DNS, FQDN in file `tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml` in directory `openstack-helm-infra` cloned. ", Kubernetes services will use ``10.96.0.0/16`` as the CIDR for services. Check,5,1
openstack%2Fopenstack-helm~master~I7d811f07726bd1b5d0cdc2ebf86ca974f3269657,openstack/openstack-helm,master,I7d811f07726bd1b5d0cdc2ebf86ca974f3269657,This PS develop script for backup of DBs and PVCs,ABANDONED,2018-07-30 13:46:34.000000000,2020-07-15 19:59:46.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 24780}, {'_account_id': 28620}]","[{'number': 1, 'created': '2018-07-30 13:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2cfd9bd3ab307ff1f9f263eb4fb12deb97007f18', 'message': 'Backup scrip for Mariadb\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 2, 'created': '2018-07-30 15:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8e64059b4370bb8ce97cca808458ca56e6f82ec', 'message': 'Backup scrip for Mariadb\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 3, 'created': '2018-07-30 15:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5af499a04f2b75e435e50edbda4b933b12a337ce', 'message': '[428254] Develop script for backup of DBs and PVCs\n\nBackup scrip for Mariadb\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 4, 'created': '2018-07-30 16:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95b4eab8fd2eba0c05e4e93bafe1913450c3fe09', 'message': '[428254] Develop script for backup of DBs and PVCs\n\nBackup scrip for Mariadb\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 5, 'created': '2018-07-30 17:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4bc178d99a379f1ba6e545d41ff6253c929a5733', 'message': '[428254] Develop script for backup of DBs and PVCs\n\nBackup scrip for Mariadb\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 6, 'created': '2018-07-30 18:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e6d0e0694f3f904bca41651be805d067c007c121', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup script for Mariadb\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 7, 'created': '2018-07-30 21:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aa80565904b9909905d42c5e299b833916aa2f7d', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 8, 'created': '2018-07-30 21:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db3181fd7ea60fd7b5c03aca2a8214ecbb0d6865', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 9, 'created': '2018-07-31 13:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa43ecaf3f2adec87b1e177fd358053ed403ec19', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 10, 'created': '2018-07-31 18:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b20c0a2eac6d3ec044feaddaeaf62a5065944716', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 11, 'created': '2018-07-31 18:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f886a0b99fd0f2c5c60bbbda7e7928ae8e27bbf', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 12, 'created': '2018-07-31 18:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eafebec3c40d2ab61b4c129c4830e578ba03920d', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 13, 'created': '2018-08-02 14:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/78552f79dae16e287a54f0211e0345645bc637a3', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 14, 'created': '2018-08-02 17:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ad8998201a52525013b8cfcb94101ca1744e20cd', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 15, 'created': '2018-08-02 17:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb1352ef481d3a8092a54e5c52b6a0159d114cdc', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 16, 'created': '2018-08-02 17:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b86c00f3d22a614fe55992ce686a59b56e66e2e6', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 17, 'created': '2018-08-03 16:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84816ca4509ffd488dd965f28b1eb7470aa6f3e3', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 18, 'created': '2018-08-03 16:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e03f76ce4d2c93339463b6c647439df5856cdca', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 19, 'created': '2018-08-03 18:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99c44546cdd50d9c32525720393d5b41757e6d54', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 20, 'created': '2018-08-13 14:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8d54567021b11bbec2e4aa4b8bafb1d21732023', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 21, 'created': '2018-08-13 16:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/09e58f9c1d7351595a9befdd65cdd41d0b24ee5b', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 22, 'created': '2018-08-13 16:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/818f6b396aaed5a43a49981fa7ab1add84d0eb2c', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 23, 'created': '2018-08-14 20:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dbb8aee31645437da6b5185b3af1383c59994205', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 24, 'created': '2018-08-14 20:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/07bbb19ab8e7ff0c853fd6e2377ae61be490e33f', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 25, 'created': '2018-08-23 12:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bddd410dfa689d3f61b22c07750d566c2c31db41', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 26, 'created': '2018-08-28 13:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b273350527656e2d6278ae94046fccdb49401ef1', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 27, 'created': '2018-08-28 13:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8e2529c415d6fbcef43e2e11f99d6db6c075c600', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 28, 'created': '2018-08-28 15:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5137eca63f73eb16c76b522ff1407fa1e5f14f3', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 29, 'created': '2018-10-12 13:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a4d5f918d4a8b0c6efc04cdb8cade7be8b5a589d', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}, {'number': 30, 'created': '2018-10-12 17:54:51.000000000', 'files': ['tools/backup/backups_mariadb.sh', 'tools/backup/backups_postgresql.sh', 'tools/backup/README.txt', 'tools/backup/restore_mariadb.sh', 'tools/backup/restore_postgresql.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82d952fff20e59883035cf0b607191b19b2eef54', 'message': 'This PS develop script for backup of DBs and PVCs\n\nBackup & restore script for Mariadb & Postgresql\n\nChange-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657\n'}]",24,587065,82d952fff20e59883035cf0b607191b19b2eef54,55,7,30,28592,,,0,"This PS develop script for backup of DBs and PVCs

Backup & restore script for Mariadb & Postgresql

Change-Id: I7d811f07726bd1b5d0cdc2ebf86ca974f3269657
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/65/587065/12 && git format-patch -1 --stdout FETCH_HEAD,['tools/backups_mariadb.sh'],1,2cfd9bd3ab307ff1f9f263eb4fb12deb97007f18,587065,"#!/bin/bash set -xe #database info DBHOST=10.101.62.231 DBUSER='root' DBPW='password' DAYS_TO_KEEP=3 DBNAME=( `echo ""show databases"" | mysql --user=$DBUSER --password=$DBPW --host=$DBHOST | tail -n+3 `) # Folders to backup FOLDERS=( '/var/backups' ) #check if local .backups directory exists. if not create it if [ ! -d ""~/.backups/$SCRIPTNAME/db"" ]; then mkdir -p ~/.backups/$SCRIPTNAME/db ; fi find ~/.backups/$SCRIPTNAME/db/*.sql -type f -daystart -mtime +0 -exec rm {} \; #get recent version of databases from array for i in ""${DBNAME[@]}"" do mysqldump --opt --user=$DBUSER --password=$DBPW --host=$DBHOST $i --lock-tables=false > ~/.backups/$SCRIPTNAME/db/$i.`date +\%Y-\%m-\%d_\%H-\%M-\%S`.sql done for i in ""${FOLDERS[@]}"" do rsync -a -t -q $MODE --delete --links $i ~/.backups/$SCRIPTNAME/ done # Delete old backups if [ ""$DAYS_TO_KEEP"" -gt 0 ] ; then echo ""Deleting backups older than $DAYS_TO_KEEP days"" find $FOLDERS/* -mtime +$DAYS_TO_KEEP -exec rm {} \; fi # Write out current crontab crontab -l > mycron #echo new cron into cron file echo ""00 09 * * sudo bash $SCRIPTNAME"" >> mycron # Install new cron file crontab mycron rm mycron ",,46,0
openstack%2Fopenstack-helm~master~I9fcefd0f687c5c48f049d8e95669c843f2d66664,openstack/openstack-helm,master,I9fcefd0f687c5c48f049d8e95669c843f2d66664,Add loci support rocky image build,ABANDONED,2018-10-11 09:21:57.000000000,2020-07-15 19:59:42.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-10-11 09:21:57.000000000', 'files': ['tools/images/openstack/rocky/loci.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/754b275a7986775331d0f0269d237231bac36205', 'message': 'Add loci support rocky image build\n\nChange-Id: I9fcefd0f687c5c48f049d8e95669c843f2d66664\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",0,609643,754b275a7986775331d0f0269d237231bac36205,3,3,1,23517,,,0,"Add loci support rocky image build

Change-Id: I9fcefd0f687c5c48f049d8e95669c843f2d66664
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/609643/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/images/openstack/rocky/loci.sh'],1,754b275a7986775331d0f0269d237231bac36205,add_rocky,"#!/bin/bash set -ex OPENSTACK_VERSION=""stable/rocky"" IMAGE_TAG=""${OPENSTACK_VERSION#*/}"" sudo docker run -d \ --name docker-in-docker \ --privileged=true \ --net=host \ -v /var/lib/docker \ -v ${HOME}/.docker/config.json:/root/.docker/config.json:ro\ docker.io/docker:17.07.0-dind \ dockerd \ --pidfile=/var/run/docker.pid \ --host=unix:///var/run/docker.sock \ --storage-driver=overlay2 sudo docker exec docker-in-docker apk update sudo docker exec docker-in-docker apk add git sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --network host \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT=requirements \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --tag docker.io/openstackhelm/requirements:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/requirements:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=keystone \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent apache ldap"" \ --build-arg PIP_PACKAGES=""pycrypto python-openstackclient"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/keystone:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/keystone:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=heat \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent apache"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg DIST_PACKAGES=""curl"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/heat:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/heat:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=barbican \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/barbican:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/barbican:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=glance \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent glance ceph"" \ --build-arg PIP_PACKAGES=""pycrypto python-swiftclient"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/glance:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/glance:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=cinder \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent cinder lvm ceph qemu"" \ --build-arg PIP_PACKAGES=""pycrypto python-swiftclient"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/cinder:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/cinder:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=neutron \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent neutron linuxbridge openvswitch"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/neutron:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/neutron:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=neutron \ --build-arg FROM=docker.io/ubuntu:18.04 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent neutron linuxbridge openvswitch"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg DIST_PACKAGES=""ethtool lshw"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/neutron:${IMAGE_TAG}-sriov-1804 sudo docker exec docker-in-docker docker push docker.io/openstackhelm/neutron:${IMAGE_TAG}-sriov-1804 sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=nova \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent nova ceph linuxbridge openvswitch configdrive qemu apache"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/nova:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/nova:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=horizon \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent horizon apache"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/horizon:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/horizon:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=senlin \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent senlin"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/senlin:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/senlin:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=congress \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent congress"" \ --build-arg PIP_PACKAGES=""pycrypto python-congressclient"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/congress:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/congress:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=magnum \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent magnum"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/magnum:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/magnum:${IMAGE_TAG} sudo docker exec docker-in-docker docker build --force-rm --pull --no-cache \ https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=ironic \ --build-arg FROM=gcr.io/google_containers/ubuntu-slim:0.14 \ --build-arg PROJECT_REF=${OPENSTACK_VERSION} \ --build-arg PROFILES=""fluent ironic ipxe ipmi qemu tftp"" \ --build-arg PIP_PACKAGES=""pycrypto"" \ --build-arg DIST_PACKAGES=""iproute2"" \ --build-arg WHEELS=openstackhelm/requirements:${IMAGE_TAG} \ --tag docker.io/openstackhelm/ironic:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/ironic:${IMAGE_TAG} ",,173,0
openstack%2Fnova~master~Iea7c4d9d59c03a0b5fd578c42e617d251763ec64,openstack/nova,master,Iea7c4d9d59c03a0b5fd578c42e617d251763ec64,WIP pre-commit: Add bashate,ABANDONED,2020-03-14 16:38:50.000000000,2020-07-15 19:59:00.000000000,,"[{'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-14 16:38:50.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a91ce73ada2bea950850c66ddb8573803b2c338', 'message': 'WIP pre-commit: Add bashate\n\nChange-Id: Iea7c4d9d59c03a0b5fd578c42e617d251763ec64\n'}]",1,713102,7a91ce73ada2bea950850c66ddb8573803b2c338,14,10,1,10135,,,0,"WIP pre-commit: Add bashate

Change-Id: Iea7c4d9d59c03a0b5fd578c42e617d251763ec64
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/713102/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,7a91ce73ada2bea950850c66ddb8573803b2c338,bashate," - repo: local hooks: - id: bashate name: bashate description: This hook runs bashate for linting shell scripts entry: bashate args: ['-i', 'E006'] language: python files: '^.*\.sh$'",,9,0
openstack%2Fnova~master~I24cd446400e52932b103267c05ad207e0ebda81b,openstack/nova,master,I24cd446400e52932b103267c05ad207e0ebda81b,WIP tox: Add bashate,ABANDONED,2020-03-14 16:38:50.000000000,2020-07-15 19:58:57.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-14 16:38:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/4293ba4f8abd2d1163b7846f434078048ef7aadb', 'message': 'WIP tox: Add bashate\n\nChange-Id: I24cd446400e52932b103267c05ad207e0ebda81b\n'}]",6,713103,4293ba4f8abd2d1163b7846f434078048ef7aadb,13,10,1,10135,,,0,"WIP tox: Add bashate

Change-Id: I24cd446400e52932b103267c05ad207e0ebda81b
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/713103/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4293ba4f8abd2d1163b7846f434078048ef7aadb,bashate,"envlist = py37,functional,pep8,bashate [testenv:bashate] # if you want to test out some changes you have made to bashate # against devstack, just set BASHATE_INSTALL_PATH=/path/... to your # modified bashate tree deps = {env:BASHATE_INSTALL_PATH:bashate==0.5.1} whitelist_externals = bash commands = bash -c ""find {toxinidir} \ -not \( -type d -name .?\* -prune \) \ -not \( -type d -name doc -prune \) \ -not \( -type f -name localrc -prune \) \ -type f \ -not -name \*~ \ -not -name \*.md \ -not -name stack-screenrc \ -not -name \*.orig \ -not -name \*.rej \ \( \ -name \*.sh -or \ -name \*rc -or \ -name functions\* -or \ -wholename \*/inc/\* -or \ -wholename \*/lib/\* \ \) \ -print0 | xargs -0 bashate -v -iE006 -eE005,E042""","envlist = py37,functional,pep8",27,1
openstack%2Fopenstack-helm~master~Id121cbd6c72a717626a09676c9db79bee37d51be,openstack/openstack-helm,master,Id121cbd6c72a717626a09676c9db79bee37d51be,[WIP] Document for integrate OSH to existing ceph,ABANDONED,2018-07-30 10:02:48.000000000,2020-07-15 19:58:37.000000000,,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 21830}, {'_account_id': 22348}, {'_account_id': 24580}, {'_account_id': 28372}]","[{'number': 1, 'created': '2018-07-30 10:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96f66ba556d1581f0780ece0c872f49f9914268d', 'message': '[WIP] Document for interate OSH to existing ceph\n\nA guide on how to integrate existing ceph with OSH without\ninstalling ceph through OSH.\n\nChange-Id: Id121cbd6c72a717626a09676c9db79bee37d51be\n'}, {'number': 2, 'created': '2018-07-30 10:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3cf557c9dce7297681eceb9a1f33d6f0424fd2c2', 'message': '[WIP] Document for interate OSH to existing ceph\n\nA guide on how to integrate existing ceph with OSH without\ninstalling ceph through OSH.\n\nChange-Id: Id121cbd6c72a717626a09676c9db79bee37d51be\n'}, {'number': 3, 'created': '2018-07-30 10:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2571708000f2089fc1c314b9510878ab9f52ee69', 'message': '[WIP] Document for integrate OSH to existing ceph\n\nA guide on how to integrate existing ceph with OSH without\ninstalling ceph through OSH.\n\nChange-Id: Id121cbd6c72a717626a09676c9db79bee37d51be\n'}, {'number': 4, 'created': '2018-07-31 00:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/51cceb7f744690800029458856921ae1df3cb433', 'message': '[WIP] Document for interate OSH to existing ceph\n\nA guide on how to integrate existing ceph with OSH without\ninstalling ceph through OSH.\n\nChange-Id: Id121cbd6c72a717626a09676c9db79bee37d51be\n'}, {'number': 5, 'created': '2018-07-31 04:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8b7a2bf5bac224a6c9f2bd8fa8ea099b39bbf3ef', 'message': '[WIP] Document for interate OSH to existing ceph\n\nA guide on how to integrate existing ceph with OSH without\ninstalling ceph through OSH.\n\nChange-Id: Id121cbd6c72a717626a09676c9db79bee37d51be\n'}, {'number': 6, 'created': '2018-07-31 06:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3031a941ac069a4de773232aa7e28496d13c7630', 'message': '[WIP] Document for interate OSH to existing ceph\n\nA guide on how to integrate existing ceph with OSH without\ninstalling ceph through OSH.\n\nChange-Id: Id121cbd6c72a717626a09676c9db79bee37d51be\n'}, {'number': 7, 'created': '2018-07-31 08:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5c5f55010edb4d57902140b078b06409ec3063f', 'message': '[WIP] Document for interate OSH to existing ceph\n\nA guide on how to integrate existing ceph with OSH without\ninstalling ceph through OSH.\n\nChange-Id: Id121cbd6c72a717626a09676c9db79bee37d51be\n'}, {'number': 8, 'created': '2018-08-01 05:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5058eec75253041c9103f8dc9891aa36e6e24eac', 'message': '[WIP] Document for interate OSH to existing ceph\n\nA guide on how to integrate existing ceph with OSH without\ninstalling ceph through OSH.\n\nChange-Id: Id121cbd6c72a717626a09676c9db79bee37d51be\nStory: 2003082\n'}, {'number': 9, 'created': '2018-09-27 00:37:24.000000000', 'files': ['doc/source/install/developer/index.rst', 'doc/source/install/developer/deploy-with-existing-ceph.rst', 'tools/deployment/developer/ceph/046-ceph-deploy-with-existing-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8380458ff3293df673c0b6db6cd68a62fa74faf8', 'message': '[WIP] Document for integrate OSH to existing ceph\n\nA guide on how to integrate existing ceph with OSH without\ninstalling ceph through OSH.\n\nChange-Id: Id121cbd6c72a717626a09676c9db79bee37d51be\nStory: 2003082\n'}]",12,586992,8380458ff3293df673c0b6db6cd68a62fa74faf8,35,7,9,21830,,,0,"[WIP] Document for integrate OSH to existing ceph

A guide on how to integrate existing ceph with OSH without
installing ceph through OSH.

Change-Id: Id121cbd6c72a717626a09676c9db79bee37d51be
Story: 2003082
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/92/586992/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/developer/deploy-with-existing-ceph.rst', 'tools/deployment/developer/ceph/046-ceph-deploy-with-existing-ceph.sh']",2,96f66ba556d1581f0780ece0c872f49f9914268d,docs/deploy-with-existing-ceph,"#!/bin/bash # Copyright 2018 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe make ceph-provisioners #Change YOUR_CEPH_IP to your ceph-mon ip address tee /tmp/ceph-openstack-config.yaml <<EOF deployment: ceph: false client_secrets: true rbd_provisioner: false cephfs_provisioner: false storageclass: rbd: provision_storage_class: false cephfs: provision_storage_class: false conf: ceph: global: mon_host: <YOUR_CEPH_IP> manifests: configmap_bin: false configmap_bin_common: false configmap_etc: true deployment_rbd_provisioner: false deployment_cephfs_provisioner: false job_bootstrap: false job_cephfs_client_key: false job_image_repo_sync: false job_namespace_client_key_cleaner: false job_namespace_client_key: false storageclass_cephfs: false storageclass_rbd: false EOF : ${OSH_EXTRA_HELM_ARGS:=""""} helm upgrade --install ceph-openstack-config ./ceph-provisioners \ --namespace=openstack \ --values=/tmp/ceph-openstack-config.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ",,206,0
openstack%2Fopenstack-helm-addons~master~I1679f75d4cf59c60877a970cca588a671f7e27f2,openstack/openstack-helm-addons,master,I1679f75d4cf59c60877a970cca588a671f7e27f2,Helm chart for backing up and restoring PVCs that are stored in Ceph,ABANDONED,2018-10-08 17:19:00.000000000,2020-07-15 19:58:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28620}, {'_account_id': 28701}]","[{'number': 1, 'created': '2018-10-08 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c6066fcbdd49c768573ac8a4bc5ccb171c16a08d', 'message': 'Helm chart for backing up and restoring PVCs that are stored in Ceph\n\nChange-Id: I1679f75d4cf59c60877a970cca588a671f7e27f2\n'}, {'number': 2, 'created': '2018-10-10 19:36:19.000000000', 'files': ['pvc-backup/templates/bin/_pvc_backup.py.tpl', 'pvc-backup/requirements.yaml', 'pvc-backup/.helmignore', 'pvc-backup/templates/bin/_readiness_probe.sh.tpl', 'pvc-backup/templates/NOTES.txt', 'pvc-backup/templates/_helpers.tpl', 'pvc-backup/templates/configmap-bin.yaml', 'pvc-backup/templates/ingress.yaml', 'pvc-backup/values.yaml', 'pvc-backup/templates/deployment.yaml', 'pvc-backup/templates/etc/_synrest.mod.tpl', 'pvc-backup/Chart.yaml', 'pvc-backup/templates/bin/_start.sh.tpl', 'pvc-backup/templates/bin/_liveness_probe.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/9847cd0dfef7f7c9c68ffa49a2ea9457a4f790b0', 'message': 'Helm chart for backing up and restoring PVCs that are stored in Ceph\n\nChange-Id: I1679f75d4cf59c60877a970cca588a671f7e27f2\n'}]",13,608730,9847cd0dfef7f7c9c68ffa49a2ea9457a4f790b0,10,4,2,28620,,,0,"Helm chart for backing up and restoring PVCs that are stored in Ceph

Change-Id: I1679f75d4cf59c60877a970cca588a671f7e27f2
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/30/608730/1 && git format-patch -1 --stdout FETCH_HEAD,"['pvc-backup/templates/bin/_pvc_backup.py.tpl', 'pvc-backup/templates/service.yaml.bak', 'pvc-backup/requirements.yaml', 'pvc-backup/.helmignore', 'pvc-backup/templates/bin/_readiness_probe.sh.tpl', 'pvc-backup/templates/NOTES.txt', 'pvc-backup/templates/_helpers.tpl', 'pvc-backup/templates/configmap-bin.yaml', 'pvc-backup/templates/ingress.yaml', 'pvc-backup/values.yaml', 'pvc-backup/templates/deployment.yaml', 'pvc-backup/templates/etc/_synrest.mod.tpl', 'pvc-backup/Chart.yaml', 'pvc-backup/templates/bin/_start.sh.tpl', 'pvc-backup/templates/bin/_liveness_probe.sh.tpl']",15,c6066fcbdd49c768573ac8a4bc5ccb171c16a08d,pvc-backup-master,"#!/bin/bash {{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} set -ex synrest ",,532,0
openstack%2Fopenstack-helm~master~If7935aa80ef561dc4455d0208fc4083abe4afda9,openstack/openstack-helm,master,If7935aa80ef561dc4455d0208fc4083abe4afda9,[libvirt] Expose parameters to allow overrides,ABANDONED,2018-10-04 20:50:11.000000000,2020-07-15 19:58:29.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27455}]","[{'number': 1, 'created': '2018-10-04 20:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9333807da77556b586f30df86bf4b61832821b76', 'message': 'Over-rides: Add support for libvirtd param\n\nThis patch set will create a new file to override the params in\nlibvirt chart.\n\nDepends-On: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\nChange-Id: If7935aa80ef561dc4455d0208fc4083abe4afda9\n'}, {'number': 2, 'created': '2018-10-09 10:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26475c4d53ed54428a553eb3722e1663da4ae4dd', 'message': 'Over-rides: Add support for libvirtd param\n\nThis patch set will create a new file to override the params in\nlibvirt chart.\n\nDepends-On: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\nChange-Id: If7935aa80ef561dc4455d0208fc4083abe4afda9\n'}, {'number': 3, 'created': '2018-10-09 15:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0d832ef002fc78282f480207a3e645b9de3629af', 'message': 'Over-rides: Add support for libvirtd param\n\nThis patch set will create a new file to override the params in\nlibvirt chart.\n\nDepends-On: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\nChange-Id: If7935aa80ef561dc4455d0208fc4083abe4afda9\n'}, {'number': 4, 'created': '2018-10-10 07:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/299fcfccbca08837e63093c34b2a8882dc9e7a0e', 'message': '[libvirt] Expose parameters to allow overrides\n\nThis patch set will create a new file to override the params in\nlibvirt chart.\n\nDepends-On: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\nChange-Id: If7935aa80ef561dc4455d0208fc4083abe4afda9\n'}, {'number': 5, 'created': '2018-10-10 07:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f584c59f5588e35ad3aa05389776ec3d0e8c528', 'message': '[libvirt] Expose parameters to allow overrides\n\nThis patch set will create a new file to override the params in\nlibvirt chart.\n\nDepends-On: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\nChange-Id: If7935aa80ef561dc4455d0208fc4083abe4afda9\n'}, {'number': 6, 'created': '2018-10-10 11:16:29.000000000', 'files': ['.zuul.yaml', 'tools/overrides/backends/libvirt/params.yaml', 'tools/gate/playbooks/dev-deploy-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/62f60da8fe679404c039e65f55e21d321cba75c9', 'message': '[libvirt] Expose parameters to allow overrides\n\nThis patch set will create a new file to override the params in\nlibvirt chart.\n\nDepends-On: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\nChange-Id: If7935aa80ef561dc4455d0208fc4083abe4afda9\n'}]",4,608081,62f60da8fe679404c039e65f55e21d321cba75c9,24,8,6,27455,,,0,"[libvirt] Expose parameters to allow overrides

This patch set will create a new file to override the params in
libvirt chart.

Depends-On: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4
Change-Id: If7935aa80ef561dc4455d0208fc4083abe4afda9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/81/608081/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/overrides/backends/libvirt/params.yaml'],1,9333807da77556b586f30df86bf4b61832821b76,libvirt_listen,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Values for neutron using Linux Bridge. # This file contains overrides to launch a MVP deployment of neutron and nova # using Linux Bridge for the OpenStack-Helm gates, and local development use. # It should be kept to the bare minimum required for this purpose. conf: params: ""--listen"" ",,21,0
openstack%2Fopenstack-helm-infra~master~Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4,openstack/openstack-helm-infra,master,Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4,Libvirt: Make --listen a configurable paramter for libvirtd,ABANDONED,2018-10-04 14:23:14.000000000,2020-07-15 19:58:26.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 27455}]","[{'number': 1, 'created': '2018-10-04 14:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/751d73583cd1a644c4e72140262f835b5aa5ab70', 'message': 'Libvirt: Make --listen a configurable paramter for libvirtd\n\nThis patch set is to make --listen option a configurable parameter\nfor Libvirt pod while starting libvirt daemon, libvirtd.\n\nThe default option will be ""--listen"".\n\nChange-Id: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\n'}, {'number': 2, 'created': '2018-10-05 10:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e15cb7cf15cf8d11bb89e2703f341fde030994b', 'message': 'Libvirt: Make --listen a configurable paramter for libvirtd\n\nThis patch set is to make --listen option a configurable parameter\nfor Libvirt pod while starting libvirt daemon, libvirtd.\n\nThe default option will be ""--listen"".\n\nChange-Id: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\n'}, {'number': 3, 'created': '2018-10-09 13:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/537ac0362e07e207a8e9c81003d0d3de8b3798ca', 'message': 'Libvirt: Make --listen a configurable paramter for libvirtd\n\nThis patch set is to make --listen option a configurable parameter\nfor Libvirt pod while starting libvirt daemon, libvirtd.\n\nThe default option will be ""--listen"".\n\nChange-Id: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\n'}, {'number': 4, 'created': '2018-10-09 15:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2aa25109626d964a9d599ae2b67dacd5411acaa1', 'message': 'Libvirt: Make --listen a configurable paramter for libvirtd\n\nThis patch set is to make --listen option a configurable parameter\nfor Libvirt pod while starting libvirt daemon, libvirtd.\n\nThe default option will be ""--listen"".\n\nChange-Id: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\n'}, {'number': 5, 'created': '2018-10-10 07:20:59.000000000', 'files': ['libvirt/templates/bin/_libvirt.sh.tpl', 'libvirt/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6505a318603558f4dcc1794ca3d15bfba76db9d0', 'message': 'Libvirt: Make --listen a configurable paramter for libvirtd\n\nThis patch set is to make --listen option a configurable parameter\nfor Libvirt pod while starting libvirt daemon, libvirtd.\n\nThe default option will be ""--listen"".\n\nChange-Id: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4\n'}]",0,607971,6505a318603558f4dcc1794ca3d15bfba76db9d0,19,10,5,27455,,,0,"Libvirt: Make --listen a configurable paramter for libvirtd

This patch set is to make --listen option a configurable parameter
for Libvirt pod while starting libvirt daemon, libvirtd.

The default option will be ""--listen"".

Change-Id: Ia8d8012e70c9b11c67d9db0d1c8f145ffb5af1d4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/71/607971/1 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/templates/bin/_libvirt.sh.tpl', 'libvirt/values.yaml']",2,751d73583cd1a644c4e72140262f835b5aa5ab70,libvirt_listen," params: ""--listen""",,3,2
openstack%2Fopenstack-helm~master~Ib758a0c11274bd6b8a26b432138890bfe1565fcb,openstack/openstack-helm,master,Ib758a0c11274bd6b8a26b432138890bfe1565fcb,DNM: gate runner test,ABANDONED,2018-10-09 16:10:52.000000000,2020-07-15 19:58:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-09 16:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f14f659d3ab12d3fadc5f156170a927e43e00b4', 'message': 'DNM: gate runner test\n\nChange-Id: Ib758a0c11274bd6b8a26b432138890bfe1565fcb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-09 16:11:27.000000000', 'files': ['.zuul.yaml', 'tools/gate/playbooks/dev-deploy-ceph.yaml', 'tools/gate/playbooks/osh-infra-gate-runner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5a4b9ae4e21abc3a83a8b353acfe89a2c85e7c87', 'message': 'DNM: gate runner test\n\nChange-Id: Ib758a0c11274bd6b8a26b432138890bfe1565fcb\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,609045,5a4b9ae4e21abc3a83a8b353acfe89a2c85e7c87,4,1,2,23928,,,0,"DNM: gate runner test

Change-Id: Ib758a0c11274bd6b8a26b432138890bfe1565fcb
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/45/609045/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tools/gate/playbooks/dev-deploy-ceph.yaml', 'tools/gate/playbooks/osh-infra-gate-runner.yaml']",3,2f14f659d3ab12d3fadc5f156170a927e43e00b4,gate-runner-simplification,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - hosts: primary tasks: - name: Run gate scripts include_role: name: osh-run-script vars: gate_script_path: ""{{ item }}"" with_items: ""{{ gate_scripts }}"" ",,70,261
openstack%2Fopenstack-helm~master~I0ac3e09a6faf2c227f2e34aaec8600f1d4be3f70,openstack/openstack-helm,master,I0ac3e09a6faf2c227f2e34aaec8600f1d4be3f70,Add horizon script in multinode deployment,ABANDONED,2018-07-18 12:27:50.000000000,2020-07-15 19:58:17.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23825}, {'_account_id': 23928}, {'_account_id': 25431}]","[{'number': 1, 'created': '2018-07-18 12:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/acd5bee3e9d66ea1feab1fa21bb248e04e00f9b1', 'message': 'Add horizon script in multinode deployment\n\nChange-Id: I0ac3e09a6faf2c227f2e34aaec8600f1d4be3f70\n'}, {'number': 2, 'created': '2018-10-08 05:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6a5416dfa1de4bed2e5f74ccdecae98b3e31c049', 'message': 'Add horizon script in multinode deployment\n\nChange-Id: I0ac3e09a6faf2c227f2e34aaec8600f1d4be3f70\n'}, {'number': 3, 'created': '2018-10-09 01:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ff2f598e316cdbe5ad3fcfea89bede15297da5b', 'message': 'Add horizon script in multinode deployment\n\nChange-Id: I0ac3e09a6faf2c227f2e34aaec8600f1d4be3f70\n'}, {'number': 4, 'created': '2018-10-09 04:12:44.000000000', 'files': ['tools/gate/playbooks/multinode-deploy.yaml', 'tools/deployment/multinode/250-horizon.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0cf74c7caeba3a89c670bf5d1368a366d307a702', 'message': 'Add horizon script in multinode deployment\n\nChange-Id: I0ac3e09a6faf2c227f2e34aaec8600f1d4be3f70\n'}]",0,583560,0cf74c7caeba3a89c670bf5d1368a366d307a702,14,5,4,25431,,,0,"Add horizon script in multinode deployment

Change-Id: I0ac3e09a6faf2c227f2e34aaec8600f1d4be3f70
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/60/583560/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/250-horizon.sh'],1,acd5bee3e9d66ea1feab1fa21bb248e04e00f9b1,add_multinode_horizon-patch2,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe #NOTE: Lint and package chart make horizon #NOTE: Deploy command : ${OSH_EXTRA_HELM_ARGS:=""""} helm upgrade --install horizon ./horizon \ --namespace=openstack \ --set pod.replicas.server=2 \ --set network.node_port.enabled=true \ --set network.node_port.port=31000 \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_HORIZON} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack #NOTE: Validate Deployment info helm status horizon ",,36,0
openstack%2Fopenstack-helm~master~Icb4507ec32857c15b29e7da374ae31d60895b01a,openstack/openstack-helm,master,Icb4507ec32857c15b29e7da374ae31d60895b01a,Remove incorrect configuration items of heat.conf,ABANDONED,2018-03-29 03:19:40.000000000,2020-07-15 19:57:11.000000000,,"[{'_account_id': 8898}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 03:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fce0e33a30363917cc7b3f5755e7d5d808a207b5', 'message': 'Remove incorrect configuration items of heat.conf\n\nheat will run into error when creating keystonclient with both\nproject_name and trust info. That is because keystoneauth can not\ndetermine what kind scope token heat want.\n\nIt has been fixed in heat:[1](more details could be found)\n\n[1]: https://bugs.launchpad.net/heat/+bug/1526293\n\nChange-Id: Icb4507ec32857c15b29e7da374ae31d60895b01a\n'}, {'number': 2, 'created': '2018-03-29 03:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a3871e5506f15e462aca3e00c5d3d0b3be6ec9e0', 'message': 'Remove incorrect configuration items of heat.conf\n\nheat will run into error when creating keystonclient with both\nproject_name and trust info, if set ""reauthentication_auth_method=trusts""\nThat\'s because keystoneauth can not determine what kind scope token heat want.\n\nIt has been fixed in heat:[1](more details could be found)\n\n[1]:https://bugs.launchpad.net/heat/+bug/1526293\n\nChange-Id: Icb4507ec32857c15b29e7da374ae31d60895b01a\n'}, {'number': 3, 'created': '2018-10-08 05:19:28.000000000', 'files': ['heat/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d9e0ea68032e04a3204d8a2be44cdc0d6d5fe4e', 'message': 'Remove incorrect configuration items of heat.conf\n\nheat will run into error when creating keystonclient with both\nproject_name and trust info, if set ""reauthentication_auth_method=trusts""\nThat\'s because keystoneauth can not determine what kind scope token heat want.\n\nIt has been fixed in heat:[1](more details could be found)\n\n[1]:https://bugs.launchpad.net/heat/+bug/1526293\n\nChange-Id: Icb4507ec32857c15b29e7da374ae31d60895b01a\n'}]",0,557586,5d9e0ea68032e04a3204d8a2be44cdc0d6d5fe4e,8,3,3,8686,,,0,"Remove incorrect configuration items of heat.conf

heat will run into error when creating keystonclient with both
project_name and trust info, if set ""reauthentication_auth_method=trusts""
That's because keystoneauth can not determine what kind scope token heat want.

It has been fixed in heat:[1](more details could be found)

[1]:https://bugs.launchpad.net/heat/+bug/1526293

Change-Id: Icb4507ec32857c15b29e7da374ae31d60895b01a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/557586/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/templates/configmap-etc.yaml'],1,fce0e33a30363917cc7b3f5755e7d5d808a207b5,557586,,"{{- if empty .Values.conf.heat.trustee.project_name -}} {{- set .Values.conf.heat.trustee ""project_name"" .Values.endpoints.identity.auth.heat_trustee.project_name | quote | trunc 0 -}} {{- end -}} {{- if empty .Values.conf.heat.trustee.project_domain_name -}} {{- set .Values.conf.heat.trustee ""project_domain_name"" .Values.endpoints.identity.auth.heat_trustee.project_domain_name | quote | trunc 0 -}} {{- end -}}",0,6
openstack%2Fopenstack-helm~master~I4ac021c42bae9264f6bc44c012126db45b49af62,openstack/openstack-helm,master,I4ac021c42bae9264f6bc44c012126db45b49af62,WIP: move default to Ocata,ABANDONED,2018-10-05 12:57:48.000000000,2020-07-15 19:57:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-05 12:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e61c28d7b13ffa4085df65da5b14deeac710f07e', 'message': 'WIP: move default to Ocata\n\nThis PS moves the default version of openstack deployed to Ocata\n\nChange-Id: I4ac021c42bae9264f6bc44c012126db45b49af62\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-05 12:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5b35a7d294bfb7a92bc4371357e439d431a1b796', 'message': 'WIP: move default to Ocata\n\nThis PS moves the default version of openstack deployed to Ocata\n\nChange-Id: I4ac021c42bae9264f6bc44c012126db45b49af62\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-10-05 13:02:30.000000000', 'files': ['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', '.zuul.yaml', 'tools/deployment/developer/common/170-setup-gateway.sh', 'doc/source/devref/images.rst', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'tools/overrides/releases/newton/loci.yaml', 'nova/values.yaml', 'tempest/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml', 'rally/values.yaml', 'tools/overrides/releases/ocata/loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e92d696574924da24e84a334051c6929702a9be7', 'message': 'WIP: move default to Ocata\n\nThis PS moves the default version of openstack deployed to Ocata\n\nChange-Id: I4ac021c42bae9264f6bc44c012126db45b49af62\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",2,608257,e92d696574924da24e84a334051c6929702a9be7,7,1,3,23928,,,0,"WIP: move default to Ocata

This PS moves the default version of openstack deployed to Ocata

Change-Id: I4ac021c42bae9264f6bc44c012126db45b49af62
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/57/608257/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', '.zuul.yaml', 'tools/deployment/developer/common/170-setup-gateway.sh', 'doc/source/devref/images.rst', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'tools/overrides/releases/newton/loci.yaml', 'nova/values.yaml', 'tempest/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml', 'rally/values.yaml']",20,e61c28d7b13ffa4085df65da5b14deeac710f07e,ocata-default, ks_user: docker.io/openstackhelm/heat:ocata ks_service: docker.io/openstackhelm/heat:ocata ks_endpoints: docker.io/openstackhelm/heat:ocata, ks_user: docker.io/openstackhelm/heat:newton ks_service: docker.io/openstackhelm/heat:newton ks_endpoints: docker.io/openstackhelm/heat:newton,161,161
openstack%2Fopenstack-helm~master~I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b,openstack/openstack-helm,master,I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b,Add rally test gate.,ABANDONED,2018-07-13 07:38:23.000000000,2020-07-15 19:56:55.000000000,,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 14151}, {'_account_id': 17591}, {'_account_id': 21830}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25764}, {'_account_id': 26196}]","[{'number': 1, 'created': '2018-07-13 07:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f8fce8cf49323f3970c65a2ef96ff8245a8bc6ed', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada deploy.\nThe test lists run here are general-purpose tests that run on multiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 2, 'created': '2018-07-13 07:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8470244854b647d8786ec21284543a5d7cbf3a6d', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada deploy.\nThe test lists run here are general-purpose tests that run on multiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 3, 'created': '2018-07-13 07:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cbad589f5efb7735edaab047bb1e805e1da0b30c', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada deploy.\nThe test lists run here are general-purpose tests that run on multiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 4, 'created': '2018-07-13 09:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e0aed97d063b25472a5b1f56f3a1cf83a249c86f', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada deploy.\nThe test lists run here are general-purpose tests that run on multiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 5, 'created': '2018-07-15 22:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ef2a59867d1ca8132b66b3f9e98099b45122e98', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 6, 'created': '2018-07-18 05:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7d4fb0a575e44ceafd9bbba64b6e889ccc2ca80d', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 7, 'created': '2018-07-27 00:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/570eccb59ce52d5e60f41c48428d42ff82bf9484', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 8, 'created': '2018-08-01 05:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6851e46509ff1cfae0384e8308540aca6361438', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 9, 'created': '2018-08-02 04:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0d6c4a31cf850d0c87764cd31479e7ebfe2477a', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 10, 'created': '2018-08-05 23:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e5edea8e2701920d79e3c79f523d79f7686668ab', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 11, 'created': '2018-08-10 04:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c4b741ee4e646ecf15fbf682146de0b6b570aab', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 12, 'created': '2018-09-03 00:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99c5d7420fdbada959b6b5872ca5976edcb9d4eb', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 13, 'created': '2018-10-04 00:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ac4b731df03b50cc001ddf87f19b41695568957', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}, {'number': 14, 'created': '2018-10-04 00:21:22.000000000', 'files': ['rally/templates/configmap-tasks.yaml', 'tools/deployment/armada/040-armada-rally-test.sh', 'tools/deployment/armada/multinode/armada-rally.yaml', 'tools/gate/playbooks/armada-fullstack-deploy.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4bc317364074eb05b59154d5dc344debb30af05', 'message': 'Add rally test gate.\n\nTo improve source stability, add a rally test case at the end of armada\ndeploy. The test lists run here are general-purpose tests that run on\nmultiple releases.\n\nChange-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b\n'}]",22,582463,e4bc317364074eb05b59154d5dc344debb30af05,39,9,14,21830,,,0,"Add rally test gate.

To improve source stability, add a rally test case at the end of armada
deploy. The test lists run here are general-purpose tests that run on
multiple releases.

Change-Id: I91d81aa50b5e1e7b32ea84a45f9d7ac507cfeb3b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/63/582463/7 && git format-patch -1 --stdout FETCH_HEAD,"['rally/templates/configmap-tasks.yaml', 'tools/deployment/armada/040-armada-rally-test.sh', 'tools/deployment/armada/multinode/armada-rally-overrides.yaml', 'tools/deployment/armada/multinode/armada-rally.yaml', 'rally/values.yaml']",5,f8fce8cf49323f3970c65a2ef96ff8245a8bc6ed,add-rally-test-to-gate," # This integration task is used by the openstack-helm gate. # you should override multiple tasks like keystone, glance, nova etc. # see ./tools/deployment/armada/multinode/armada-rally-overrides.yaml integration_task:",,314,1
openstack%2Fopenstack-helm~master~Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e,openstack/openstack-helm,master,Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e,[WIP] Opencontrail charts for openstack-helm,ABANDONED,2017-09-29 04:50:03.000000000,2020-07-15 19:56:11.000000000,,"[{'_account_id': 3}, {'_account_id': 7769}, {'_account_id': 10068}, {'_account_id': 10847}, {'_account_id': 15518}, {'_account_id': 20443}, {'_account_id': 20663}, {'_account_id': 21307}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26201}, {'_account_id': 27000}, {'_account_id': 27020}, {'_account_id': 27589}]","[{'number': 1, 'created': '2017-09-29 04:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f41dde2801d81d5c7153d4d91f0fc168ef4980fc', 'message': '[WIP] Opencontrail charts for openstack-helm\n\nThis PS adds opencontrail charts to openstack-helm repo. This is a work in\nprogress PS.\n\nChange-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e\nImplements: blueprint opencontrail-helm-chart\n'}, {'number': 2, 'created': '2017-10-13 16:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d92a34e6941d90aedec38397db5e6874ef4a3831', 'message': '[WIP] Opencontrail charts for openstack-helm\n\nThis PS adds opencontrail charts to openstack-helm repo. This is a work in\nprogress PS.\n\nChange-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e\nImplements: blueprint opencontrail-helm-chart\n'}, {'number': 3, 'created': '2017-10-17 21:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2440ef5d44909164a9d348463ca97d49b2ee552f', 'message': '[WIP] Opencontrail charts for openstack-helm\n\nThis PS adds opencontrail charts to openstack-helm repo. This is a work in\nprogress PS.\n\nChange-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e\nImplements: blueprint opencontrail-helm-chart\n'}, {'number': 4, 'created': '2017-10-24 05:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/def2eddb884c372c95baaca6a0c83710428cd637', 'message': '[WIP] Opencontrail charts for openstack-helm\n\nThis PS adds opencontrail charts to openstack-helm repo. This is a work in\nprogress PS.\n\nChange-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e\nImplements: blueprint opencontrail-helm-chart\n'}, {'number': 5, 'created': '2017-10-24 09:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bc233a0fa44f77ee0e1f8ff5833325ed47e25b80', 'message': '[WIP] Opencontrail charts for openstack-helm\n\nThis PS adds opencontrail charts to openstack-helm repo. This is a work in\nprogress PS.\n\nChange-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e\nImplements: blueprint opencontrail-helm-chart\n'}, {'number': 6, 'created': '2017-10-27 09:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/31912cc4324a261bdd8422a417c89f92e251ff14', 'message': '[WIP] Opencontrail charts for openstack-helm\n\nThis PS adds opencontrail charts to openstack-helm repo. This is a work in\nprogress PS.\n\nChange-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e\nImplements: blueprint opencontrail-helm-chart\n'}, {'number': 7, 'created': '2017-10-29 02:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6a0b02704cf69a5119741831abfb6a7beefe28a', 'message': '[WIP] Opencontrail charts for openstack-helm\n\nThis PS adds opencontrail charts to openstack-helm repo. This is a work in\nprogress PS.\n\nChange-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e\nImplements: blueprint opencontrail-helm-chart\n'}, {'number': 8, 'created': '2017-10-29 04:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96b8aa227f2958f579bf8c94aded65c44b5e0170', 'message': '[WIP] Opencontrail charts for openstack-helm\n\nThis PS adds opencontrail charts to openstack-helm repo. This is a work in\nprogress PS.\n\nChange-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e\nImplements: blueprint opencontrail-helm-chart\n'}, {'number': 9, 'created': '2017-10-29 08:48:52.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'opencontrail/templates/daemonset-analytics.yaml', 'doc/source/install/developer/all-in-one.rst', 'opencontrail/Chart.yaml', 'opencontrail/requirements.yaml', 'opencontrail/templates/configmap-bin.yaml', 'opencontrail/templates/configmap-contrailctl.yaml', 'opencontrail/templates/daemonset-analyticsdb.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/templates/job-db-sync.yaml', 'libvirt/values.yaml', 'opencontrail/templates/daemonset-agent.yaml', 'opencontrail/templates/daemonset-controller.yaml', 'opencontrail/templates/daemonset-kubemanager.yaml', 'doc/source/install/multinode.rst', 'neutron/templates/bin/_db-sync.sh.tpl', 'nova/values.yaml', 'opencontrail/templates/bin/_register-vrouter.sh.tpl', 'libvirt/templates/etc/_qemu.conf.tpl', 'opencontrail/values.yaml', 'opencontrail/templates/rbac-contrail.yaml', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/64d01a94dd423ed9448e40124a4a825f8eea3854', 'message': '[WIP] Opencontrail charts for openstack-helm\n\nThis PS adds opencontrail charts to openstack-helm repo. This is a work in\nprogress PS.\n\nChange-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e\nImplements: blueprint opencontrail-helm-chart\n'}]",56,508403,64d01a94dd423ed9448e40124a4a825f8eea3854,58,15,9,27000,,,0,"[WIP] Opencontrail charts for openstack-helm

This PS adds opencontrail charts to openstack-helm repo. This is a work in
progress PS.

Change-Id: Ia0c419a35bd457a2f83e5ff135ce78c89ae10d6e
Implements: blueprint opencontrail-helm-chart
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/03/508403/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'opencontrail/templates/contrailctl/common/_rabbitmq.tpl', 'opencontrail/templates/contrailctl/common/_logport.tpl', 'libvirt/values.yaml', 'opencontrail/templates/contrailctl/_kubernetes.tpl', 'opencontrail/templates/NOTES.txt', 'opencontrail/templates/contrailctl/_controller.tpl', 'opencontrail/templates/controller-ds.yaml', 'neutron/templates/bin/_db-sync.sh.tpl', 'opencontrail/templates/contrailctl/common/_global.tpl', 'opencontrail/templates/agent-ds.yaml', 'neutron/templates/configmap-etc.yaml', 'opencontrail/templates/contrailctl/_agent.tpl', 'opencontrail/templates/kubemanager-ds.yaml', 'opencontrail/Chart.yaml', 'opencontrail/templates/contrailctl/_analytics.tpl', 'opencontrail/templates/contrailctl/common/_cassandra.tpl', 'opencontrail/templates/analyticsdb-ds.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/templates/job-db-sync.yaml', 'opencontrail/templates/contrailctl/_check-input-conf.tpl', 'opencontrail/templates/contrail-rbac.yaml', 'opencontrail/templates/contrailctl/_analyticsdb.tpl', 'libvirt/templates/etc/_qemu.conf.tpl', 'opencontrail/values.yaml', 'neutron/values.yaml', 'opencontrail/templates/analytics-ds.yaml', 'opencontrail/templates/contrail-cm.yaml']",28,f41dde2801d81d5c7153d4d91f0fc168ef4980fc,master-2,"{{- include ""contrail.checkInputConfStruct"" .Values | trunc 0 -}} --- apiVersion: v1 kind: ConfigMap metadata: name: contrailctl-config labels: app: contrail-cni chart: ""{{ .Chart.Name }}-{{ .Chart.Version }}"" namespace: kube-system data: global-config: |- {{ include ""contrail.globalConfig"" .Values.conf.global | indent 4 }} agent-config: |- {{ include ""contrail.agentConfig"" .Values | indent 4 }} controller-config: |- {{ include ""contrail.globalConfig"" .Values.conf.global | indent 4 }} {{ include ""contrail.controllerConfig"" .Values.conf | indent 4 }} analyticsdb-config: |- {{ include ""contrail.globalConfig"" .Values.conf.global | indent 4 }} {{ include ""contrail.analyticsdbConfig"" .Values.conf | indent 4 }} analytics-config: |- {{ include ""contrail.globalConfig"" .Values.conf.global | indent 4 }} {{ include ""contrail.analyticsConfig"" .Values.conf | indent 4 }} kubemanager-config: |- {{ include ""contrail.kubernetesConfig"" .Values.conf | indent 4 }} kubernetes-agent-config: |- # TO-DO have to check with Dinesh on this [AGENT] ",,1239,9
openstack%2Fopenstack-helm-infra~master~Ieb5bb8ba9ddc894e13c59d2cfe6c16c262548940,openstack/openstack-helm-infra,master,Ieb5bb8ba9ddc894e13c59d2cfe6c16c262548940,Add ansible apparmor role,ABANDONED,2018-09-25 18:00:33.000000000,2020-07-15 19:56:08.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-25 18:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/45aeee456a02e1d49711046233b47c47ed5a5c80', 'message': ""Add ansible apparmor role\n\nThis patch adds abilitity include new role 'deploy-apparmor', that would\nsetup apparmor package on Debian based OSes\n\nChange-Id: Ieb5bb8ba9ddc894e13c59d2cfe6c16c262548940\n""}, {'number': 2, 'created': '2018-09-25 18:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3653ef3009c2a7f96055d67358de82f2e06bb174', 'message': ""Add ansible apparmor role\n\nThis patch adds ability to include new role 'deploy-apparmor', that would\nsetup apparmor package on Debian based OSes\n\nChange-Id: Ieb5bb8ba9ddc894e13c59d2cfe6c16c262548940\n""}, {'number': 3, 'created': '2018-09-25 18:02:53.000000000', 'files': ['roles/deploy-apparmor/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f79f2a2a860fec9ae789cd80d748502654e4e39', 'message': ""Add ansible apparmor role\n\nThis patch adds an ability to include new role 'deploy-apparmor', that would\nsetup apparmor package on Debian based OSes\n\nChange-Id: Ieb5bb8ba9ddc894e13c59d2cfe6c16c262548940\n""}]",0,605160,2f79f2a2a860fec9ae789cd80d748502654e4e39,7,2,3,28884,,,0,"Add ansible apparmor role

This patch adds an ability to include new role 'deploy-apparmor', that would
setup apparmor package on Debian based OSes

Change-Id: Ieb5bb8ba9ddc894e13c59d2cfe6c16c262548940
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/60/605160/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/deploy-apparmor/tasks/main.yaml'],1,45aeee456a02e1d49711046233b47c47ed5a5c80,,"# Copyright 2018 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - block: - name: ensuring apparmor is deployed on host when: ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu' include_role: name: deploy-package tasks_from: dist vars: packages: deb: - apparmor ",,24,0
openstack%2Fopenstack-helm-infra~master~I595c757d5fa62c7c6c349ba2a51783f738935afa,openstack/openstack-helm-infra,master,I595c757d5fa62c7c6c349ba2a51783f738935afa,build helm considering non-x86 platforms,ABANDONED,2018-06-29 07:15:09.000000000,2020-07-15 19:56:03.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 26598}]","[{'number': 1, 'created': '2018-06-29 07:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c1316b7894e9c46bcf0ed1c65d3393dc4d1372a3', 'message': 'build helm considering non-x86 platforms\n\nCurrently helm tools only consider x86 platform\nThis patch adds platform detection and installs related tools instead\n\nChange-Id: I595c757d5fa62c7c6c349ba2a51783f738935afa\n'}, {'number': 2, 'created': '2018-06-29 14:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/119490e2c8b764d93fb90820aa4c30c149f8edfd', 'message': 'build helm considering non-x86 platforms\n\nCurrently helm tools only consider x86 platform\nThis patch adds platform detection and installs related tools instead\n\nChange-Id: I595c757d5fa62c7c6c349ba2a51783f738935afa\n'}, {'number': 3, 'created': '2018-07-16 06:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9b99c80cb92103d24aed857760c856f0b2ecb22', 'message': 'build helm considering non-x86 platforms\n\nCurrently helm tools only consider x86 platform\nThis patch adds platform detection and installs related tools instead\n\nChange-Id: I595c757d5fa62c7c6c349ba2a51783f738935afa\n'}, {'number': 4, 'created': '2018-09-21 08:29:28.000000000', 'files': ['tools/images/kubeadm-aio/Dockerfile', 'tools/gate/devel/start.sh', 'tools/images/kubeadm-aio/sources.list.ubuntu.arm64', 'roles/build-helm-packages/tasks/setup-helm-serve.yaml', 'roles/build-images/tasks/kubeadm-aio.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e8dda2bab7f32d8e221fbfadc0e0d1b4b49cf88', 'message': 'build helm considering non-x86 platforms\n\nCurrently helm tools only consider x86 platform\nThis patch adds platform detection and installs related tools instead\n\nChange-Id: I595c757d5fa62c7c6c349ba2a51783f738935afa\n'}]",0,579078,5e8dda2bab7f32d8e221fbfadc0e0d1b4b49cf88,14,3,4,26598,,,0,"build helm considering non-x86 platforms

Currently helm tools only consider x86 platform
This patch adds platform detection and installs related tools instead

Change-Id: I595c757d5fa62c7c6c349ba2a51783f738935afa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/78/579078/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/Dockerfile', 'tools/gate/devel/start.sh', 'tools/images/kubeadm-aio/sources.list.ubuntu.arm64', 'roles/build-helm-packages/tasks/setup-helm-serve.yaml', 'roles/build-images/tasks/kubeadm-aio.yaml']",5,c1316b7894e9c46bcf0ed1c65d3393dc4d1372a3,arm64,"- name: set apt sources when: arch == 'amd64' set_fact: apt_sources: ""sources.list"" - name: set arm64 apt sources when: arch == 'arm64' set_fact: apt_sources: ""sources.list.ubuntu.arm64"" --build-arg ARCH={{ arch }} \ --build-arg APT_SOURCE={{ apt_sources }} \ --build-arg ARCH={{ arch }} \ --build-arg APT_SOURCE={{ apt_sources }} \",,50,7
openstack%2Fopenstack-helm~master~Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb,openstack/openstack-helm,master,Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb,[WIP] Patroni inclusion work for HA Postgres,ABANDONED,2018-08-14 13:23:29.000000000,2020-07-15 19:55:59.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 28235}]","[{'number': 1, 'created': '2018-08-14 13:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c674187867ca566afdc398631fcecb078d0d776e', 'message': ':WIP Patroni inclusion work for HA Postgres\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}, {'number': 2, 'created': '2018-08-14 20:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6f866c2c644d551a35a17b18ca0627d27da0dd9c', 'message': ':WIP Patroni inclusion work for HA Postgres\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}, {'number': 3, 'created': '2018-08-21 15:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7a507ea68b75bc6755c69c9dc0bca48c6c5fab01', 'message': ':WIP Patroni inclusion work for HA Postgres\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}, {'number': 4, 'created': '2018-08-24 17:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/59809c89c645b807c09866aac8205e2cc31e5349', 'message': ':WIP Patroni inclusion work for HA Postgres\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}, {'number': 5, 'created': '2018-08-27 19:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/745378b17cc9caec3632e514032da08c42c81a01', 'message': ':WIP Patroni inclusion work for HA Postgres - Enhanced readiness.sh\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}, {'number': 6, 'created': '2018-08-28 13:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ed56a6b7916f97c2c52598630832bf86cd6c4725', 'message': ':WIP Patroni inclusion work for HA Postgres - Enhanced readiness.sh\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}, {'number': 7, 'created': '2018-08-29 12:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99b014e0b72864d53b82e2ae662cec4138cea3af', 'message': ':WIP Patroni inclusion work for HA Postgres - Enhanced readiness.sh\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}, {'number': 8, 'created': '2018-08-29 18:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73871134cd9e26ce6c2b99fd6918ff63605f8b6c', 'message': ':WIP Patroni inclusion work for HA Postgres\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}, {'number': 9, 'created': '2018-09-18 18:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7cce309a5527e2adfa4ad7c5412289f691765e8', 'message': 'Patroni inclusion work for HA Postgres\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}, {'number': 10, 'created': '2018-09-18 20:32:13.000000000', 'files': ['patroni/templates/service.yaml', 'patroni/.helmignore', 'patroni/templates/monitoring/prometheus/exporter-configmap-bin.yaml', 'patroni/templates/secret-admin.yaml', 'postgresql/templates/service.yaml', 'patroni/requirements.yaml', 'patroni/templates/job-image-repo-sync.yaml', 'patroni/templates/monitoring/prometheus/exporter-service.yaml', 'patroni/templates/monitoring/prometheus/bin/_create-postgresql-exporter-user.sh.tpl', 'patroni/templates/bin/_readiness.sh.tpl', 'patroni/Chart.yaml', 'tools/deployment/developer/common/051-postgresql.sh', 'postgresql/templates/bin/_start.sh.tpl', 'patroni/templates/configmap-bin.yaml', 'patroni/values.yaml', 'patroni/templates/monitoring/prometheus/exporter-secrets-etc.yaml', 'tools/deployment/developer/common/051-patroni.sh', 'patroni/templates/bin/_start.sh.tpl', 'patroni/templates/monitoring/prometheus/exporter-job-create-user.yaml', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'patroni/templates/monitoring/prometheus/exporter-deployment.yaml', 'patroni/templates/statefulset.yaml', 'postgresql/templates/bin/_readiness.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb489a4a2869247f282be4ba35779b23e5b99bbe', 'message': '[WIP] Patroni inclusion work for HA Postgres\n\n- This patch set is close but needs to be picked up and finished.\n\nChange-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb\n'}]",0,591663,eb489a4a2869247f282be4ba35779b23e5b99bbe,26,3,10,28848,,,0,"[WIP] Patroni inclusion work for HA Postgres

- This patch set is close but needs to be picked up and finished.

Change-Id: Icc4005d1ce419c7588f4e2779f7be3c7cedb09eb
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/63/591663/10 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/bin/_start.sh.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'postgresql/templates/bin/_readiness.sh.tpl']",4,c674187867ca566afdc398631fcecb078d0d776e,,exit 0,,189,88
openstack%2Fopenstack-helm~master~I22017f5d216e3fdb258ab2edd73d89933b3728d3,openstack/openstack-helm,master,I22017f5d216e3fdb258ab2edd73d89933b3728d3,WIP: Helm managed TLS,ABANDONED,2018-09-04 20:45:59.000000000,2020-07-15 19:55:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28162}]","[{'number': 1, 'created': '2018-09-04 20:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/356d9a2bc2c6aff490428de1af647d772d7328e9', 'message': 'WIP: Helm managed TLS\n\nDepends-On: https://review.openstack.org/#/c/597611\nChange-Id: I22017f5d216e3fdb258ab2edd73d89933b3728d3\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-09-04 20:47:29.000000000', 'files': ['tools/deployment/developer/common/080-keystone.sh', 'tools/deployment/baremetal/010-setup-client.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f449ecdcf01d2645c25fe37db4cae79681888d8f', 'message': 'WIP: Helm managed TLS\n\nDepends-On: https://review.openstack.org/#/c/597611\nChange-Id: I22017f5d216e3fdb258ab2edd73d89933b3728d3\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",3,599842,f449ecdcf01d2645c25fe37db4cae79681888d8f,6,3,2,23928,,,0,"WIP: Helm managed TLS

Depends-On: https://review.openstack.org/#/c/597611
Change-Id: I22017f5d216e3fdb258ab2edd73d89933b3728d3
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/42/599842/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/baremetal/010-setup-client.sh'],1,356d9a2bc2c6aff490428de1af647d772d7328e9,," cacert: '/etc/openstack-helm/certs/ca/ca.pem' auth_url: 'https://keystone.openstackhelm.test/v3' exit 0 bash (cd ../openstack-helm-infra; tools/gate/tls-ca-boostrapper/01-setup.sh;) tools/deployment/developer/nfs/020-setup-client.sh tools/deployment/developer/nfs/030-ingress.sh tools/deployment/developer/nfs/040-nfs-provisioner.sh tools/deployment/developer/nfs/050-mariadb.sh tools/deployment/developer/nfs/060-rabbitmq.sh tools/deployment/developer/nfs/070-memcached.sh export OSH_EXTRA_HELM_ARGS_KEYSTONE=""/tmp/keystone.yaml"" cat > ${OSH_EXTRA_HELM_ARGS_KEYSTONE} << EOF endpoints: identity: scheme: public: https host_fqdn_override: default: null public: host: keystone.openstackhelm.test tls: crt: null key: null ca: null cert_gen: life: 3 ca: crt: | $(sed 's/^/ /' /etc/openstack-helm/certs/ca/ca.pem) key: | $(sed 's/^/ /' /etc/openstack-helm/certs/ca/ca-key.pem) EOF cat ${OSH_EXTRA_HELM_ARGS_KEYSTONE} #NOTE: Lint and package chart make keystone #NOTE: Deploy command : ${OSH_EXTRA_HELM_ARGS:=""""} helm upgrade --install keystone ./keystone \ --namespace=openstack \ ${OSH_EXTRA_HELM_ARGS} \ --values=${OSH_EXTRA_HELM_ARGS_KEYSTONE} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack #NOTE: Validate Deployment info helm status keystone export OS_CLOUD=openstack_helm sleep 30 #NOTE(portdirect): Wait for ingress controller to update rules and restart Nginx openstack endpoint list", auth_url: 'http://keystone.openstack.svc.cluster.local/v3',56,1
openstack%2Fopenstack-helm~master~I2d6f61f2d6dfe995e0f93db8f37cbbebf70b7023,openstack/openstack-helm,master,I2d6f61f2d6dfe995e0f93db8f37cbbebf70b7023,WIP: move services to uswgi,ABANDONED,2018-09-17 20:25:36.000000000,2020-07-15 19:55:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-17 20:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e1c29296511d3895d2dd7629c6659699ce6cd4a9', 'message': 'WIP: move glance to uswgi\n\nChange-Id: I2d6f61f2d6dfe995e0f93db8f37cbbebf70b7023\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-09-17 22:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/639765c59db5fcbaf6caebe0ef2df3774f0e5fc6', 'message': 'WIP: move services to uswgi\n\nChange-Id: I2d6f61f2d6dfe995e0f93db8f37cbbebf70b7023\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-09-18 14:43:47.000000000', 'files': ['nova/templates/bin/_nova-api.sh.tpl', 'heat/templates/bin/_heat-api.sh.tpl', 'glance/templates/bin/_glance-api.py.tpl', 'heat/templates/bin/_heat-cfn.sh.tpl', 'glance/templates/bin/_glance-api.sh.tpl', 'glance/templates/configmap-bin.yaml', 'glance/templates/deployment-api.yaml', 'glance/templates/configmap-etc.yaml', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7de9e0e19723b3e03af89e2ccbf58e80196944a7', 'message': 'WIP: move services to uswgi\n\nChange-Id: I2d6f61f2d6dfe995e0f93db8f37cbbebf70b7023\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,603223,7de9e0e19723b3e03af89e2ccbf58e80196944a7,7,1,3,23928,,,0,"WIP: move services to uswgi

Change-Id: I2d6f61f2d6dfe995e0f93db8f37cbbebf70b7023
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/23/603223/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/bin/_glance-api.py.tpl', 'glance/templates/bin/_glance-api.sh.tpl', 'glance/templates/configmap-bin.yaml', 'glance/templates/deployment-api.yaml', 'glance/templates/configmap-etc.yaml', 'glance/values.yaml']",6,e1c29296511d3895d2dd7629c6659699ce6cd4a9,570713, glance_uswgi: uwsgi: lazy-apps: 'true' buffer-size: 65535 thunder-lock: 'true' enable-threads: 'true' master: 'true' processes: 2 threads: 2 wsgi-file: /tmp/glance-api.py http: ':9292' http-auto-chunked: 'true' http-chunked-input: 'true' http-raw-body: 'true' add-header: 'Connection: close',,77,2
openstack%2Fopenstack-helm~master~Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16,openstack/openstack-helm,master,Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16,WIP:RabbitMQ-TLS: enable secure RabbitMQ transport,ABANDONED,2018-08-07 22:18:13.000000000,2020-07-15 19:55:47.000000000,,"[{'_account_id': 7769}, {'_account_id': 20466}, {'_account_id': 21830}, {'_account_id': 22348}, {'_account_id': 26686}, {'_account_id': 28162}]","[{'number': 1, 'created': '2018-08-07 22:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b435ff3e11ad5b6a0a89fbfa833d0fa88791882c', 'message': 'WIP:RabbitMQ-TLS: enable secure RabbitMQ transport\n\nThis patchset enable TLS ecncrypting for the interaction\nbetween openstack services and RabbitMQ.\n\nChange-Id: Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}, {'number': 2, 'created': '2018-08-07 22:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da5e80a48ae2b3c436d55de0f731aa28d92be056', 'message': 'WIP:RabbitMQ-TLS: enable secure RabbitMQ transport\n\nThis patchset enable TLS ecncrypting for the interaction\nbetween openstack services and RabbitMQ.\n\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n\nChange-Id: Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16\nDepends-On: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\n'}, {'number': 3, 'created': '2018-08-09 20:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b049e2b3a594c9eee24723dbfdd1077e01f30cc', 'message': 'WIP:RabbitMQ-TLS: enable secure RabbitMQ transport\n\nThis patchset enable TLS ecncrypting for the interaction\nbetween openstack services and RabbitMQ.\n\nTLS certificates in transport_url:\noslo.messaging has hardcode which translate `rabbit://` or `kombu://`\nto `amqp://` and no way to specify amqps wich librabbitmq(rabbitmq-c)\nlibrary requires, so that patch keeps using ssl parameters instead of\ntransport_url for tls certificates.\n\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n\nChange-Id: Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16\nDepends-On: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\n'}, {'number': 4, 'created': '2018-08-14 23:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4ff5666fc83c95ac389d60b368234db67f529d4', 'message': 'WIP:RabbitMQ-TLS: enable secure RabbitMQ transport\n\nThis patchset enables TLS ecncrypting for the interaction\nbetween openstack services and RabbitMQ including management\ningerface and the client certificates verification and authentication.\n\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n\nChange-Id: Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16\nDepends-On: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\n'}, {'number': 5, 'created': '2018-08-31 18:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f4eea8d746028792c2bb3d09722074b950c48596', 'message': 'WIP:RabbitMQ-TLS: enable secure RabbitMQ transport\n\nThis patchset enables TLS ecncrypting for the interaction\nbetween openstack services and RabbitMQ including management\ningerface and the client certificates verification and authentication.\n\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n\nChange-Id: Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16\nDepends-On: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\n'}, {'number': 6, 'created': '2018-09-11 18:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96b85348c273232bee8ee842d0ea41441ff4dfb2', 'message': 'WIP:RabbitMQ-TLS: enable secure RabbitMQ transport\n\nThis patchset enables TLS ecncrypting for the interaction\nbetween openstack services and RabbitMQ including management\ningerface and the client certificates verification and authentication.\n\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n\nChange-Id: Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16\nDepends-On: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\n'}, {'number': 7, 'created': '2018-09-16 18:03:44.000000000', 'files': ['glance/templates/deployment-registry.yaml', 'nova/templates/configmap-etc.yaml', 'cinder/templates/job-rabbit-init.yaml', 'cinder/templates/deployment-api.yaml', 'heat/templates/configmap-etc.yaml', 'heat/templates/deployment-cfn.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'nova/templates/deployment-conductor.yaml', 'nova/templates/job-rabbit-init.yaml', 'heat/templates/secret-rabbitmq-tls.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'keystone/templates/job-rabbit-init.yaml', 'glance/templates/configmap-etc.yaml', 'cinder/templates/deployment-scheduler.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'neutron/templates/job-rabbit-init.yaml', 'keystone/templates/deployment-api.yaml', 'nova/templates/secret-rabbitmq-tls.yaml', 'nova/values.yaml', 'nova/templates/deployment-api-metadata.yaml', 'cinder/templates/secret-rabbitmq-tls.yaml', 'neutron/templates/deployment-server.yaml', 'cinder/templates/configmap-etc.yaml', 'cinder/templates/deployment-volume.yaml', 'keystone/templates/configmap-etc.yaml', 'glance/templates/secret-rabbitmq-tls.yaml', 'cinder/templates/deployment-backup.yaml', 'nova/templates/deployment-api-osapi.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'glance/values.yaml', 'nova/templates/deployment-novncproxy.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'glance/templates/job-rabbit-init.yaml', 'heat/templates/job-rabbit-init.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/templates/configmap-etc.yaml', 'heat/templates/deployment-engine.yaml', 'neutron/templates/secret-rabbitmq-tls.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'nova/templates/deployment-placement.yaml', 'heat/templates/deployment-api.yaml', 'keystone/templates/secret-rabbitmq-tls.yaml', 'nova/templates/deployment-consoleauth.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/93fb82f3a0cec2c3a53a5527631d869d660f1e51', 'message': 'WIP:RabbitMQ-TLS: enable secure RabbitMQ transport\n\nThis patchset enables TLS ecncrypting for the interaction\nbetween openstack services and RabbitMQ including management\ningerface and the client certificates verification and authentication.\n\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n\nChange-Id: Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16\nDepends-On: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\n'}]",2,589655,93fb82f3a0cec2c3a53a5527631d869d660f1e51,18,6,7,28162,,,0,"WIP:RabbitMQ-TLS: enable secure RabbitMQ transport

This patchset enables TLS ecncrypting for the interaction
between openstack services and RabbitMQ including management
ingerface and the client certificates verification and authentication.

Signed-off-by: Ruslan Khanbikov <rk760n@att.com>

Change-Id: Ibc85e1fbd5922d5527d6f3b6714ed8b2c8108b16
Depends-On: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/589655/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'cinder/templates/deployment-volume.yaml', 'glance/templates/deployment-registry.yaml', 'glance/templates/secret-rabbitmq-tls.yaml', 'cinder/templates/deployment-backup.yaml', 'nova/templates/deployment-api-osapi.yaml', 'cinder/templates/deployment-api.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'glance/values.yaml', 'nova/templates/deployment-novncproxy.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'heat/templates/deployment-cfn.yaml', 'keystone/values.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-engine.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'neutron/templates/secret-rabbitmq-tls.yaml', 'heat/values.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'nova/templates/deployment-conductor.yaml', 'cinder/values.yaml', 'heat/templates/secret-rabbitmq-tls.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'nova/templates/deployment-placement.yaml', 'cinder/templates/deployment-scheduler.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'heat/templates/deployment-api.yaml', 'keystone/templates/deployment-api.yaml', 'nova/templates/secret-rabbitmq-tls.yaml', 'nova/values.yaml', 'keystone/templates/secret-rabbitmq-tls.yaml', 'nova/templates/deployment-consoleauth.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/deployment-api-metadata.yaml', 'cinder/templates/secret-rabbitmq-tls.yaml']",39,b435ff3e11ad5b6a0a89fbfa833d0fa88791882c,rabbitmq-tls,"{{/* Copyright 2018 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.secret_rabbitmq_tls }} {{- tuple . ""oslo_messaging"" ""tls"" | include ""helm-toolkit.snippets.secret_certificates"" }} {{- end }} ",,295,0
openstack%2Fopenstack-helm~master~I1cb60f10358cc004b720f5ba25821adcb23a09ff,openstack/openstack-helm,master,I1cb60f10358cc004b720f5ba25821adcb23a09ff,Ceph-Helm Operations Guide,ABANDONED,2018-08-28 05:54:42.000000000,2020-07-15 19:55:43.000000000,,"[{'_account_id': 7769}, {'_account_id': 21131}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28372}, {'_account_id': 28774}]","[{'number': 1, 'created': '2018-08-28 05:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4567c03dcea24775bf891021ca66da30277ce983', 'message': 'WIP Ceph-Helm Operations Guid\n\nUpdated outline and Troubleshooting section\n\nChange-Id: I1cb60f10358cc004b720f5ba25821adcb23a09ff\n'}, {'number': 2, 'created': '2018-09-06 00:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ade2ff9574ddc265b47848136c5f55303c3af4f', 'message': 'WIP Ceph-Helm Operations Guide\n\nUpdated outline and added deployment,architecture sections\n\nChange-Id: I1cb60f10358cc004b720f5ba25821adcb23a09ff\n'}, {'number': 3, 'created': '2018-09-15 19:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/71994668696d7568203bf1545222437bf9621aaf', 'message': 'Ceph-Helm Operations Guide\n\nCompleted Operations, Maitenance and Troubleshooting sections\n\nChange-Id: I1cb60f10358cc004b720f5ba25821adcb23a09ff\n'}, {'number': 4, 'created': '2018-09-15 19:47:22.000000000', 'files': ['doc/source/operations/day-3-maitenance/cluster-size/remove-rgw.rst', 'doc/source/operations/day-2-operations/upgrade.rst', 'doc/source/operations/day-3-maitenance/cluster-size/remove-mgr.rst', 'doc/source/operations/day-4-troubleshooting/mon-troubleshooting.rst', 'doc/source/operations/day-4-troubleshooting/pg-troubleshooting.rst', 'doc/source/operations/day-2-operations/scripts/check-osd.rst', 'doc/source/operations/day-3-maitenance/cluster-size/remove-mon.rst', 'doc/source/operations/day-3-maitenance/cluster-size/add-mon.rst', 'doc/source/operations/day-4-troubleshooting/failure-impact.rst', 'doc/source/operations/day-2-operations/health-checks.rst', 'doc/source/troubleshooting/ceph.rst', 'doc/source/operations/day-4-troubleshooting/osd-troubleshooting.rst', 'doc/source/operations/day-3-maitenance/configuration.rst', 'doc/source/operations/day-4-troubleshooting/check-logs.rst', 'doc/source/operations/day-4-troubleshooting/network-troubleshooting.rst', 'doc/source/operations/day-3-maitenance/cluster-size/add-rgw.rst', 'doc/source/operations/day-3-maitenance/managing-crush.rst', 'doc/source/operations/day-2-operations/logging.rst', 'doc/source/operations/day-4-troubleshooting/initial-troubleshooting.rst', 'doc/source/operations/day-3-maitenance/cluster-size/pools.rst', 'doc/source/operations/day-3-maitenance/runtime.rst', 'doc/source/operations/day-4-troubleshooting/rgw-troubleshooting.rst', 'doc/source/operations/day-2-operations/monitoring.rst', 'doc/source/operations/day-2-operations/scripts/check-mon.rst', 'doc/source/operations/day-3-maitenance/cluster-size/add-osd-node.rst', 'doc/source/operations/day-4-troubleshooting/osd-flapping.rst', 'doc/source/operations/day-2-operations/scripts/check-mgr.rst', 'doc/source/operations/day-2-operations/alerting.rst', 'doc/source/operations/day-3-maitenance/cluster-size/remove-osd-node.rst', 'doc/source/operations/day-3-maitenance/cluster-size/add-mgr.rst', 'doc/source/operations/day-2-operations/scripts/check-rgw.rst', 'doc/source/operations/day-2-operations/daily-checklist.rst', 'doc/source/operations/day-4-troubleshooting/osd-blocked-requests.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/752da0728f7ee0d22467f3772f9d0c48ee5bdde8', 'message': 'Ceph-Helm Operations Guide\n\nCompleted Operations, Maitenance and Troubleshooting sections\n\nChange-Id: I1cb60f10358cc004b720f5ba25821adcb23a09ff\n'}]",9,596988,752da0728f7ee0d22467f3772f9d0c48ee5bdde8,11,7,4,28967,,,0,"Ceph-Helm Operations Guide

Completed Operations, Maitenance and Troubleshooting sections

Change-Id: I1cb60f10358cc004b720f5ba25821adcb23a09ff
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/88/596988/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/troubleshooting/ceph-osd/use-cases/add-osd.rst', 'doc/source/troubleshooting/ceph-rgw/radosgw-troubleshooting.rst', 'doc/source/troubleshooting/ceph-mon/monitor-validation.rst', 'doc/source/troubleshooting/ceph-mon/monitor-troubleshooting.rst', 'doc/source/troubleshooting/ceph-mgr/use-cases/replace-mgr.rst', 'doc/source/troubleshooting/ceph-mon/use-case/replace-monitor.rst', 'doc/source/troubleshooting/ceph-osd/use-cases/replace-osd-node.rst', 'doc/source/troubleshooting/cluster/logging.rst', 'doc/source/troubleshooting/ceph-rgw/use-cases/replace-radosgw.rst', 'doc/source/troubleshooting/ceph-mgr/ceph-mgr-validation.rst', 'doc/source/troubleshooting/ceph-osd/use-cases/remove-osd.rst', 'doc/source/troubleshooting/ceph-rgw/use-cases/add-radosgw.rst', 'doc/source/troubleshooting/ceph-mgr/ceph-mgr-troubleshooting.rst', 'doc/source/troubleshooting/ceph-mgr/use-cases/add-mgr.rst', 'doc/source/troubleshooting/ceph-mon/use-case/add-monitor.rst', 'doc/source/troubleshooting/ceph-osd/use-cases/add-osd-node.rst', 'doc/source/troubleshooting/ceph-rgw/use-cases/remove-radosgw.rst', 'doc/source/troubleshooting/ceph-mgr/use-cases/remove-mgr.rst', 'doc/source/troubleshooting/ceph-osd/use-cases/remove-osd-node.rst', 'doc/source/troubleshooting/ceph-rgw/radosgw-validation.rst', 'doc/source/troubleshooting/cluster/monitoring.rst', 'doc/source/troubleshooting/ceph-mon/use-case/remove-monitor.rst', 'doc/source/troubleshooting/cluster/upgrade.rst', 'doc/source/troubleshooting/ceph-osd/osd-validation.rst', 'doc/source/troubleshooting/cluster/performance-checkers.rst', 'doc/source/troubleshooting/cluster/system-recovery.rst', 'doc/source/troubleshooting/ceph-osd/use-cases/replace-osd.rst', 'doc/source/troubleshooting/ceph-osd/osd-troubleshooting.rst']",28,4567c03dcea24775bf891021ca66da30277ce983,,"Validating OSD Automating OSD Check In order to validate that all the OSDs are operational, two checks must be conducted: Check that the number of OSDs configured in the cluster has reached the desired value Check that all the Placement Groups configured in the cluster are active+clean Checking the status of the OSDs Step 1 - Collect the output of a ceph osd stat command from a running MON userid@mtn16r11o001:~$ export monpod=$(sudo kubectl -n ceph get pods -o wide|grep ceph-mon |\ grep -v check | awk 'NR == 1 { print $1 }') userid@mtn16r11o001:~$ export monnode=$(sudo kubectl -n ceph get pods -o wide|grep ceph-mon |\ grep -v check | awk 'NR == 1 { print $7 }') userid@mtn16r11o001:~$ alias k8c=sudo kubectl -n ceph userid@mtn16r11o001:~$ k8c exec $ourmon -c ceph-mon -- \ ceph osd stat -f json-pretty > osd-stat.json Step 2 - Analyze the output of a ceph osd stat command #!/usr/bin/python import sys, json retcode = 0 if (len(sys.argv) > 2): filename=sys.argv[1] numosds=int(sys.argv[2]) f = open(filename, ""r"") osds = json.load(f) num = osds[""num_osds""] up = osds[""num_up_osds""] crush = osds[""num_in_osds""] if ((num == up) and (num == crush) and (num == numosds)): print ""All OSDs to be configured ("" + str(numosds) + "") are in UP and IN status"" else: print ""All OSDs to be configured ("" + str(numosds) + "") are NOT in UP and IN status (Exist=""+str(num)+"" UP=""+str(up)+"" IN=""+str(crush)+"")"" retcode = 1 sys.exit(retcode) Checking the status of the Placement Groups Step 1 - Collect the output of a ceph pg stat command from a running MON userid@mtn16r11o001:~$ export monpod=$(sudo kubectl -n ceph get pods -o wide|grep ceph-mon |\ grep -v check | awk 'NR == 1 { print $1 }') userid@mtn16r11o001:~$ export monnode=$(sudo kubectl -n ceph get pods -o wide|grep ceph-mon |\ grep -v check | awk 'NR == 1 { print $7 }') userid@mtn16r11o001:~$ alias k8c=sudo kubectl -n ceph userid@mtn16r11o001:~$ k8c exec $ourmon -c ceph-mon -- \ ceph pg stat -f json-pretty > pg-stat.json Step 2 - Analyze the output of a ceph pg stat command #!/usr/bin/python import sys, json retcode = 1 if (len(sys.argv) > 1): filename=sys.argv[1] f = open(filename, ""r"") pgs = json.load(f) num = pgs[""num_pgs""] tree = pgs[""num_pg_by_state""] for s in tree: if (s[""name""] == ""active+clean""): if (s[""num""] == num): retcode = 0 print ""All PGs configured ("" + str(num) + "") are in active+clean status"" if (retcode): print ""All PGs configured ("" + str(num) + "") are NOT in active+clean status"" sys.exit(retcode) Verify Node Labelling In order to automate the labels on each node, here is how to proceed. Step 1 - Collect the the metadata for each Kubernetes node and check userid@mtn16r11o001:~$ alias k8s=sudo kubectl -n kube-system userid@mtn16r11o001:~$ for n in $(k8s get nodes | grep -v NAME | awk '{ print $1 }') > do > k8s get node $n -o=json >${n}.json > ./check-osd-label.py ${n}.json > if [ $? -ne 0 ] > then > echo Node $n does not have the ceph-osd label position > break > fi > done Step 2 - Analyze the the metadata for each Kubernetes node #!/usr/bin/python import sys, json retcode = 0 if (len(sys.argv) > 1): filename=sys.argv[1] f = open(filename, ""r"") node = json.load(f) key,value = 'ceph-osd',""enabled"" tree = node[""metadata""][""labels""] if ((key in tree) and (value == node[""metadata""][""labels""][""ceph-osd""])): print ""ceph-osd label set for "" + tree[""kubernetes.io/hostname""] else: print ""ceph-osd label NOT set for "" + tree[""kubernetes.io/hostname""] retcode = 1 sys.exit(retcode) ",,440,0
openstack%2Fopenstack-helm~master~If6dea55e22276af910840e0fdd5b9cee0d7e973e,openstack/openstack-helm,master,If6dea55e22276af910840e0fdd5b9cee0d7e973e,Add python-magnumclient package into LOCI image,ABANDONED,2018-08-13 14:16:56.000000000,2020-07-15 19:55:39.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-13 14:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52a3b40651e0e6be9fa6754fad82475be4dbfcc4', 'message': 'Add python-magnumclient package into LOCI image\n\nAdd python-magnumclient into LOCI image for magnum helm test.\nOSC does not support magnum client in newton release, so\npython-magnumclient is need for test as it in Kolla image.\n\nChange-Id: If6dea55e22276af910840e0fdd5b9cee0d7e973e\nSigned-off-by: Ranler Cao <caoran@fiberhome.com>\n'}, {'number': 2, 'created': '2018-09-14 13:10:28.000000000', 'files': ['tools/images/openstack/pike/loci.sh', 'tools/images/openstack/ocata/loci.sh', 'tools/images/openstack/newton/loci.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/849c5bb034973d59551933b079ea184145f72e4e', 'message': 'Add python-magnumclient package into LOCI image\n\nAdd python-magnumclient into LOCI image for magnum helm test.\nOSC does not support magnum client in newton release, so\npython-magnumclient is need for test as it in Kolla image.\n\nChange-Id: If6dea55e22276af910840e0fdd5b9cee0d7e973e\nSigned-off-by: Ranler Cao <caoran@fiberhome.com>\n'}]",0,591402,849c5bb034973d59551933b079ea184145f72e4e,5,4,2,25242,,,0,"Add python-magnumclient package into LOCI image

Add python-magnumclient into LOCI image for magnum helm test.
OSC does not support magnum client in newton release, so
python-magnumclient is need for test as it in Kolla image.

Change-Id: If6dea55e22276af910840e0fdd5b9cee0d7e973e
Signed-off-by: Ranler Cao <caoran@fiberhome.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/02/591402/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/openstack/pike/loci.sh', 'tools/images/openstack/ocata/loci.sh', 'tools/images/openstack/newton/loci.sh']",3,52a3b40651e0e6be9fa6754fad82475be4dbfcc4,image_update," --build-arg PROFILES=""magnum python-magnumclient"" \"," --build-arg PROFILES=""magnum"" \",3,3
openstack%2Fopenstack-helm-infra~master~I7b58dd7f22a5dbb6a6c65c7e8034fc55b0824365,openstack/openstack-helm-infra,master,I7b58dd7f22a5dbb6a6c65c7e8034fc55b0824365,WIP: Containerd and gvisor support,ABANDONED,2018-09-12 05:05:54.000000000,2020-07-15 19:55:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-12 05:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb7ad83e930dec5732443d3e0eb91a6530f21ecb', 'message': 'WIP: Containerd and gvisor support\n\nChange-Id: I7b58dd7f22a5dbb6a6c65c7e8034fc55b0824365\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-09-12 05:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/02dc90b1a46ff4492ad162c696544048a3a1f54b', 'message': 'WIP: Containerd and gvisor support\n\nChange-Id: I7b58dd7f22a5dbb6a6c65c7e8034fc55b0824365\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-09-12 05:50:47.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/tasks/kubelet.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/containerd-config.toml.j2', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-cni.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/cni-loopback.conf.j2', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/10-kubeadm.conf.j2', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/containerd.service.j2'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/740a713ca6bf69cfd2778ce4843eb58bfc919b4a', 'message': 'WIP: Containerd and gvisor support\n\nChange-Id: I7b58dd7f22a5dbb6a6c65c7e8034fc55b0824365\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,601905,740a713ca6bf69cfd2778ce4843eb58bfc919b4a,5,1,3,23928,,,0,"WIP: Containerd and gvisor support

Change-Id: I7b58dd7f22a5dbb6a6c65c7e8034fc55b0824365
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/05/601905/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/tasks/kubelet.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/containerd-config.toml.j2', 'tools/images/kubeadm-aio/Dockerfile', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/cni-loopback.conf.j2', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/10-kubeadm.conf.j2', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/containerd.service.j2']",6,eb7ad83e930dec5732443d3e0eb91a6530f21ecb,containerd-gvisor-support,[Unit] Description=containerd container runtime Documentation=https://containerd.io After=network.target [Service] ExecStartPre=/sbin/modprobe overlay ExecStart=/usr/bin/containerd Restart=always RestartSec=5 Delegate=yes KillMode=process OOMScoreAdjust=-999 LimitNOFILE=1048576 LimitNPROC=infinity LimitCORE=infinity [Install] WantedBy=multi-user.target ,,122,31
openstack%2Fkayobe~master~Ia7655f28eb819a22aefb9560b8870556f56dd558,openstack/kayobe,master,Ia7655f28eb819a22aefb9560b8870556f56dd558,[DNM] test CI,ABANDONED,2020-07-15 15:22:33.000000000,2020-07-15 19:50:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-15 15:22:33.000000000', 'files': ['ansible/testme'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e984a7bd18d59f11c9feab3231ed68e8b73d91f8', 'message': '[DNM] test CI\n\nChange-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558\n'}]",0,741241,e984a7bd18d59f11c9feab3231ed68e8b73d91f8,4,1,1,30491,,,0,"[DNM] test CI

Change-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/741241/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/testme'],1,e984a7bd18d59f11c9feab3231ed68e8b73d91f8,,,,0,0
openstack%2Fkayobe~stable%2Fussuri~Ia7655f28eb819a22aefb9560b8870556f56dd558,openstack/kayobe,stable/ussuri,Ia7655f28eb819a22aefb9560b8870556f56dd558,[DNM] test CI,ABANDONED,2020-07-15 15:23:04.000000000,2020-07-15 19:50:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-15 15:23:04.000000000', 'files': ['ansible/testme'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7bcde72fdafcb1233fc92415da06426454bcf220', 'message': '[DNM] test CI\n\nChange-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558\n'}]",0,741242,7bcde72fdafcb1233fc92415da06426454bcf220,4,1,1,30491,,,0,"[DNM] test CI

Change-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/741242/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/testme'],1,7bcde72fdafcb1233fc92415da06426454bcf220,,,,0,0
openstack%2Fkayobe~stable%2Ftrain~Ia7655f28eb819a22aefb9560b8870556f56dd558,openstack/kayobe,stable/train,Ia7655f28eb819a22aefb9560b8870556f56dd558,[DNM] test CI,ABANDONED,2020-07-15 15:23:10.000000000,2020-07-15 19:50:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-15 15:23:10.000000000', 'files': ['ansible/testme'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d501d46b61e8278431e1c0a3837b5c4e102c1475', 'message': '[DNM] test CI\n\nChange-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558\n'}]",0,741243,d501d46b61e8278431e1c0a3837b5c4e102c1475,4,1,1,30491,,,0,"[DNM] test CI

Change-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/43/741243/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/testme'],1,d501d46b61e8278431e1c0a3837b5c4e102c1475,,,,0,0
openstack%2Fkayobe~stable%2Fstein~Ia7655f28eb819a22aefb9560b8870556f56dd558,openstack/kayobe,stable/stein,Ia7655f28eb819a22aefb9560b8870556f56dd558,[DNM] test CI,ABANDONED,2020-07-15 15:23:18.000000000,2020-07-15 19:49:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-15 15:23:18.000000000', 'files': ['ansible/testme'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a49bf9756502181ca24316205584363d19b1d450', 'message': '[DNM] test CI\n\nChange-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558\n'}]",0,741244,a49bf9756502181ca24316205584363d19b1d450,4,1,1,30491,,,0,"[DNM] test CI

Change-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/741244/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/testme'],1,a49bf9756502181ca24316205584363d19b1d450,,,,0,0
openstack%2Fkayobe~stable%2Frocky~Ia7655f28eb819a22aefb9560b8870556f56dd558,openstack/kayobe,stable/rocky,Ia7655f28eb819a22aefb9560b8870556f56dd558,[DNM] test CI,ABANDONED,2020-07-15 15:23:22.000000000,2020-07-15 19:49:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-15 15:23:22.000000000', 'files': ['ansible/testme'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7886e1b83d777534dd23bb1b4f6514809779bdc2', 'message': '[DNM] test CI\n\nChange-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558\n'}]",0,741245,7886e1b83d777534dd23bb1b4f6514809779bdc2,4,1,1,30491,,,0,"[DNM] test CI

Change-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/45/741245/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/testme'],1,7886e1b83d777534dd23bb1b4f6514809779bdc2,,,,0,0
openstack%2Fkayobe~stable%2Fqueens~Ia7655f28eb819a22aefb9560b8870556f56dd558,openstack/kayobe,stable/queens,Ia7655f28eb819a22aefb9560b8870556f56dd558,[DNM] test CI,ABANDONED,2020-07-15 15:23:27.000000000,2020-07-15 19:49:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-15 15:23:27.000000000', 'files': ['ansible/testme'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/479c2980ce8352ecd5a9d205d91216718afeaf3d', 'message': '[DNM] test CI\n\nChange-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558\n'}]",0,741246,479c2980ce8352ecd5a9d205d91216718afeaf3d,3,1,1,30491,,,0,"[DNM] test CI

Change-Id: Ia7655f28eb819a22aefb9560b8870556f56dd558
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/46/741246/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/testme'],1,479c2980ce8352ecd5a9d205d91216718afeaf3d,,,,0,0
openstack%2Fopenstack-helm~master~I406b51241d8ac79ab4aed0b97b653fe4da13b548,openstack/openstack-helm,master,I406b51241d8ac79ab4aed0b97b653fe4da13b548,Spec for readiness and liveness probes,ABANDONED,2018-07-13 15:12:29.000000000,2020-07-15 19:43:39.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20444}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22604}, {'_account_id': 23186}, {'_account_id': 23928}, {'_account_id': 28620}]","[{'number': 1, 'created': '2018-07-13 15:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8d470ea7ec4f735b8e06ee2b23d61934c1222f9', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 2, 'created': '2018-07-13 15:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d98a143efc1301928e7d24919b12ca920794a115', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 3, 'created': '2018-07-13 15:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/02df140cc69c501dc75dfdba56c1cad35cbfe71b', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 4, 'created': '2018-07-13 15:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/61716fca5a5bebf9447219a6d5b13d92cb39fae5', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 5, 'created': '2018-07-13 16:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d390fabebbc8ab88c37861a0b4bd8422cd4da54e', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 6, 'created': '2018-07-13 17:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/45cf93c904d5412692f6a5885b09dfa0b6cdb58d', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 7, 'created': '2018-07-18 16:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e532ace99354aed423fb56952a1d44714a20cb0e', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 8, 'created': '2018-07-18 18:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d47c1cd66dbdf340a14e7ef8b2c062db651398e4', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 9, 'created': '2018-07-18 21:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a342e87997bff0178133e9e7eae86a91aef6edd6', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 10, 'created': '2018-07-19 14:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4edb23fbd0c34b577eaca9ea3dabe8f2bc65bae6', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 11, 'created': '2018-07-23 18:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95fcdfadff166cfea1cf6976b2060b593ef06f9b', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 12, 'created': '2018-07-24 15:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3718e36546b611c5508f187c718b8eb7c4c55400', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 13, 'created': '2018-07-24 19:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6212a3f8b4e906dbfff9c10c5d06739c625eb8a1', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 14, 'created': '2018-07-31 20:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba0f9e18cf972ee4c181677c3a199bcd2d96813d', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 15, 'created': '2018-07-31 21:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d0fb1c39bd674f56f72c752c2565e7da3fec260', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 16, 'created': '2018-07-31 21:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5e7eda853d73cdc8b56059591f5ac776673b8aee', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 17, 'created': '2018-07-31 21:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7796809f2cf2bee43e42e00f9d338df1f01d91c', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 18, 'created': '2018-07-31 21:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4986aebe642ba94564113fae828b7ec5a7b6df29', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 19, 'created': '2018-07-31 22:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8604753baa29d9167235ade8ac9e0eeddad2222d', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 20, 'created': '2018-07-31 22:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e46323d1ce1562ed286e539dfc0417f729446ae3', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 21, 'created': '2018-08-01 14:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/31d9f4639691d6af06623612016a1628578a597c', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 22, 'created': '2018-08-01 15:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aca363f7d9441431264c6ff62e746330706677e4', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 23, 'created': '2018-08-01 15:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec07d433f8cdd62ca11d107e3506da4408998a23', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 24, 'created': '2018-08-01 15:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/feccda7d475cd6eb9862a9986b928d5d8d381ae7', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 25, 'created': '2018-08-02 15:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6a1edd7f0fea9ff0bb83df8e1c523ea8a80e638d', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 26, 'created': '2018-08-04 03:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/01411f97da8dee930c10a46b18007a40f8a87132', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 27, 'created': '2018-08-04 03:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70fb1c70d5f9613c3ac664b850c8c19272d35376', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 28, 'created': '2018-08-10 20:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/11797a4feab13989e804c8bfd98aa2350143b015', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 29, 'created': '2018-08-17 19:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3043cc72f220f06dea0702854293f6f80e4b41d1', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 30, 'created': '2018-08-17 19:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f2b0eb0ab21cb11d15334cf60d66a004be66e2ae', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 31, 'created': '2018-08-17 20:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4bfce058a0d956c5856a781f3fe739f414b98b6b', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 32, 'created': '2018-08-17 21:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b324eb9c36e1577d99db3f63915a6fa3765d76f4', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 33, 'created': '2018-08-17 22:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1d096da3ff20b71201c14eca7fcb598f1003a9b0', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 34, 'created': '2018-08-17 22:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5a84596217a6466c59fedcefe3a71469e4c2e4f9', 'message': 'create spec for readiness and liveness probes\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 35, 'created': '2018-08-21 08:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5865244aef1c4a7095979bc132a97df4497e1a82', 'message': 'Spec for readiness and liveness probes\n\nThis patch set introduces a standard way to implement readiness\nand liveness probes for all OpenStack-Helm charts.\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}, {'number': 36, 'created': '2018-09-10 20:18:28.000000000', 'files': ['doc/source/specs/liveness-readiness-probes.rst', 'doc/source/specs/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/470738af4a9b9feda44870007f6f601b542d4c73', 'message': 'Spec for readiness and liveness probes\n\nThis patch set introduces a standard way to implement readiness\nand liveness probes for all OpenStack-Helm charts.\n\nChange-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548\n'}]",117,582620,470738af4a9b9feda44870007f6f601b542d4c73,88,10,36,28620,,,0,"Spec for readiness and liveness probes

This patch set introduces a standard way to implement readiness
and liveness probes for all OpenStack-Helm charts.

Change-Id: I406b51241d8ac79ab4aed0b97b653fe4da13b548
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/20/582620/34 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/liveness-rediness-probes.rst'],1,b8d470ea7ec4f735b8e06ee2b23d61934c1222f9,readiness-liveness-probe-master,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. ============================== Readiness and Liveness Probes ============================== https://blueprints.launchpad.net/openstack-helm/+spec/liveness-readiness-probes Problem Descriptiona =================== The Kubernetes kubelet uses liveness and readiness probes to determine when to mark a container ready, or restart a failed or deadlock container. These provide reliable mechanisms for ensuring that containers are fully available and responsive before attempting to route traffic to them. OpenStack helm currently has no coherent way of implementing these probes across all charts. Proposed Change =============== This specification proposes a consistent way of determining the kind of probe (tcpSocket, httpGet or command) to implement based on the service/container being probed, whether its a local Service, API or Port. The probes fields (periodSeconds, InitialDelaySeconds, timeoutSeconds, successThreshold and failureThreshold) should also be configured taking into consideration container boot-up time and its general responsiveness. Security Impact =============== None Performance Impact ================== To minimize performance impact, the following should be taking into consideration: 1. The probe frequency should be properly spaced out by setting periodSeconds to a reliable value that does cause unnecessary network flood. 2. timeoutSeconds should be set to a value sufficient for the probe to reliably complete without timing out midway. Implementation ============== The probes could be implemented using three methods: 1. Using a readiness or liveness command: Run a command on container 2. Using tcpSocket: Probe a port on the port 3. Using httpGet: Probe a url on a container. Assignee(s) =========== Matthias Omisore (mo127n@att.com) Work Items ==========  Implement readiness and liveness probes in all helm charts  Set probe fields to appropriate values  Update relevant documentations Testing =======  Deploy a chart with the probes configured.  Verify the changes are included in Containers policy  Perform functional testing Documentation Impact ==================== The developer documentation in OpenStack-Helm should be updated to match the gated developer deploy process. References ========== https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/ ",,84,0
openstack%2Fopenstack-helm~master~I7b4d128fd4eb56d3f0542aeaa99d0c7b397fd8b9,openstack/openstack-helm,master,I7b4d128fd4eb56d3f0542aeaa99d0c7b397fd8b9,gate: set CURSH_TUNABLES by kernel version,ABANDONED,2018-05-11 01:44:48.000000000,2020-07-15 19:43:34.000000000,,"[{'_account_id': 8898}, {'_account_id': 14151}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24427}]","[{'number': 1, 'created': '2018-05-11 01:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cd0f6366a777222a27b8f9a0e3098b6ee3d3f8e1', 'message': 'gate: set CURSH_TUNABLES by kernel version\n\nThis PS set CRUSH_TUNABLES by kernel version.\nTested also CentOS(kernel version 3.10) worked well.\nhttp://docs.ceph.com/docs/master/rados/operations/crush-map/#tunables\n\nChange-Id: I7b4d128fd4eb56d3f0542aeaa99d0c7b397fd8b9\n'}, {'number': 2, 'created': '2018-05-11 06:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/69261915687aac798ca96bb51835b72c73dae701', 'message': 'gate: set CURSH_TUNABLES by kernel version\n\nThis PS set CRUSH_TUNABLES by kernel version.\nhttp://docs.ceph.com/docs/master/rados/operations/crush-map/#tunables\n\nChange-Id: I7b4d128fd4eb56d3f0542aeaa99d0c7b397fd8b9\n'}, {'number': 3, 'created': '2018-05-14 00:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00fd91f322a90a03257709a79c3c7eeff59fa3c7', 'message': 'gate: set CURSH_TUNABLES by kernel version\n\nThis PS set CRUSH_TUNABLES by kernel version.\nhttp://docs.ceph.com/docs/master/rados/operations/crush-map/#tunables\n\nChange-Id: I7b4d128fd4eb56d3f0542aeaa99d0c7b397fd8b9\n'}, {'number': 4, 'created': '2018-09-07 05:38:44.000000000', 'files': ['tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6bcbf4feda70a252193fd21159a239e9c9cac5e', 'message': 'gate: set CURSH_TUNABLES by kernel version\n\nThis PS set CRUSH_TUNABLES by kernel version.\nhttp://docs.ceph.com/docs/master/rados/operations/crush-map/#tunables\n\nChange-Id: I7b4d128fd4eb56d3f0542aeaa99d0c7b397fd8b9\n'}]",3,567709,c6bcbf4feda70a252193fd21159a239e9c9cac5e,15,5,4,24427,,,0,"gate: set CURSH_TUNABLES by kernel version

This PS set CRUSH_TUNABLES by kernel version.
http://docs.ceph.com/docs/master/rados/operations/crush-map/#tunables

Change-Id: I7b4d128fd4eb56d3f0542aeaa99d0c7b397fd8b9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/09/567709/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/030-ceph.sh']",2,cd0f6366a777222a27b8f9a0e3098b6ee3d3f8e1,crush_tunables,"# compare kernel version using float; return 0 when greater or equal isge () { lestr=$(echo $(printf ""$1\n$2"" | sort -V) | awk '{print $1}') if [[ $1 == $2 ]]; then return 0 elif [[ $1 == $lestr ]]; then return 1 else return 0 fi } # set CRUSH_TUNABLES by kernel version KVER=$(uname -r | egrep '^[0-9]*\.[0-9]*' -o | head -n 1) if isge $KVER 4.5; then CRUSH_TUNABLES=jewel elif isge $KVER 4.1; thenelif isge $KVER 3.15; then CRUSH_TUNABLES=firefly elif isge $KVER 3.9; then CRUSH_TUNABLES=bobtail elif isge $KVER 3.6; then CRUSH_TUNABLES=argonaut CRUSH_TUNABLES=default","#NOTE(portdirect): to use RBD devices with Ubuntu kernels < 4.5 this # should be set to 'hammer' . /etc/os-release if [ ""x${ID}"" == ""xubuntu"" ] && \ [ ""$(uname -r | awk -F ""."" '{ print $2 }')"" -lt ""5"" ]; then CRUSH_TUNABLES=null fi if [ ""x${ID}"" == ""xcentos"" ]; then CRUSH_TUNABLES=hammer",46,15
openstack%2Fopenstack-helm-infra~master~Idee5ae1996b364eed7c8bc345e581bb5f015f092,openstack/openstack-helm-infra,master,Idee5ae1996b364eed7c8bc345e581bb5f015f092,Add missing quotes in shell task.,ABANDONED,2018-09-05 10:03:28.000000000,2020-07-15 19:43:31.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-05 10:03:28.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/wait-for-kube-system-namespace.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4f39c2dbd31d4a2f016a7a02ab152e9860319f8', 'message': 'Add missing quotes in shell task.\n\nChange-Id: Idee5ae1996b364eed7c8bc345e581bb5f015f092\n'}]",2,599989,e4f39c2dbd31d4a2f016a7a02ab152e9860319f8,4,2,1,21486,,,0,"Add missing quotes in shell task.

Change-Id: Idee5ae1996b364eed7c8bc345e581bb5f015f092
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/599989/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/wait-for-kube-system-namespace.yaml'],1,e4f39c2dbd31d4a2f016a7a02ab152e9860319f8,," shell: ""/usr/bin/test-kube-pods-ready kube-system""", shell: /usr/bin/test-kube-pods-ready kube-system,1,1
openstack%2Fopenstack-helm~master~If27efae40384e5f55bf66c13cb39f99eca7ea02d,openstack/openstack-helm,master,If27efae40384e5f55bf66c13cb39f99eca7ea02d,Spec: Image references,ABANDONED,2018-08-24 19:41:42.000000000,2020-07-15 19:43:27.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-08-24 19:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/608cdd74f071babc21889d3d59c18a8e026e1234', 'message': 'Spec: Image references\n\nChange-Id: If27efae40384e5f55bf66c13cb39f99eca7ea02d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-08-24 20:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bb89b2177d6baa54114e95c2699e75baf8e58afb', 'message': 'Spec: Image references\n\nChange-Id: If27efae40384e5f55bf66c13cb39f99eca7ea02d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-08-24 20:27:26.000000000', 'files': ['doc/source/specs/index.rst', 'doc/source/specs/image-definition.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/909fc8d20c55f8ead9ad0e788073166a7eba946a', 'message': 'Spec: Image references\n\nChange-Id: If27efae40384e5f55bf66c13cb39f99eca7ea02d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",11,596448,909fc8d20c55f8ead9ad0e788073166a7eba946a,12,5,3,23928,,,0,"Spec: Image references

Change-Id: If27efae40384e5f55bf66c13cb39f99eca7ea02d
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/596448/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/index.rst', 'doc/source/specs/image-definition.rst']",2,608cdd74f071babc21889d3d59c18a8e026e1234,image-spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. ================ Image Definition ================ Problem Description =================== The Use cases --------- 1. Specifying image characteristics for use in OpenStack-Helm charts. Proposed Change =============== .. code-block:: yaml images: foo: fail-boat.io/foo:tag .. code-block:: yaml images: foo: ref: repo: fail-boat.io label: foo tag: tag runtime: readonly: true user: 10000 python: version: 2.7 venv: /var/lib/fail Security Impact --------------- This feature will facilitate the ability to specify image specific properties in consolidated location, and also toggle security impacting parameters easily such as readonly root filesystems in containers. Performance Impact ------------------ This feature will not affect the performance of OpenStack-Helm. Alternatives ------------ Implementation ============== Assignee(s) ----------- Primary assignee: portdirect (Pete Birley) Work Items ---------- Testing ======= Openstack-Helm gates on images from multiple provenance Documentation Impact ==================== The developer documentation in OpenStack-Helm should be updated to match the image refecence changes. ",,82,0
openstack%2Fopenstack-helm-infra~master~Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736,openstack/openstack-helm-infra,master,Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736,WIP:RabbitMQ-TLS: enable secure communication,ABANDONED,2018-08-07 22:18:00.000000000,2020-07-15 19:43:23.000000000,,"[{'_account_id': 7769}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28025}, {'_account_id': 28162}]","[{'number': 1, 'created': '2018-08-07 22:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9581100d12fc7a4f358ea614cdc3c6ca4916188', 'message': 'WIP:RabbitMQ-TLS: enable secure communication\n\nThis patchset introduce TLS support for client/peer communication for\nRabbitMQ and related htk defines for openstack helm charts.\n\nTODO:\n1. 644 file permission is set for certificates unless a way found\nto get around inability to set uid/gid for secret files - TBD\n2. restrict using tlsv1.2 - testing\n\nChange-Id: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}, {'number': 2, 'created': '2018-08-07 23:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/50d0e5e33c3d583c9b21d4f1854bb49c7f4895b1', 'message': 'WIP:RabbitMQ-TLS: enable secure communication\n\nThis patchset introduce TLS support for client/peer communication for\nRabbitMQ and related htk defines for openstack helm charts.\n\nTODO:\n1. 644 file permission is set for certificates unless a way found\nto get around inability to set uid/gid for secret files - TBD\n2. restrict using tlsv1.2 - testing\n\nChange-Id: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}, {'number': 3, 'created': '2018-08-09 22:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/71e27c8456298d4a2167eda4055abeafedf11502', 'message': 'WIP:RabbitMQ-TLS: enable secure communication\n\nThis patchset introduce\n1) TLS support for client communication for RabbitMQ and\nrelated htk defines for openstack helm charts.\n2) High performance Erlang (HiPE) for RabbitMQ to increase throughput\nby precompiling some modules. The startup time will be increased.\n3) management plugin UI TLS - WIP\n\nTODO:\n1. 644 file permission is set for certificates unless a way found\nto get around inability to set uid/gid for secret files - TBD\n2. restrict using tlsv1.2 - testing\n\nChange-Id: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}, {'number': 4, 'created': '2018-08-10 22:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4380aa1f4ebdd51c24a3fa704df661d16ab708ba', 'message': 'WIP:RabbitMQ-TLS: enable secure communication\n\nThis patchset introduce\n1) TLS support for client communication for RabbitMQ and\nrelated htk defines for openstack helm charts.\n2) High performance Erlang (HiPE) for RabbitMQ to increase throughput\nby precompiling some modules. The startup time will be increased.\n3) management plugin UI TLS - WIP\n\nTODO:\n1. 644 file permission is set for certificates unless a way found\nto get around inability to set uid/gid for secret files - TBD\n2. restrict using tlsv1.2 - testing\n\nChange-Id: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}, {'number': 5, 'created': '2018-08-14 23:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/01d5fe6c9043fd3f50d77ab29a0fc0ceee350214', 'message': 'WIP:RabbitMQ-TLS: enable secure communication\n\nThis patchset introduce\n1) TLS support for client communication for RabbitMQ and\nrelated htk defines for openstack helm charts.\n2) High performance Erlang (HiPE) for RabbitMQ to increase throughput\nby precompiling some modules. The startup time will be increased.\n3) management plugin UI TLS\n\nTODO:\n1. 644 file permission is set for certificates unless a way found\nto get around inability to set uid/gid for secret files - TBD\n2. peer TLS communication - testing is in progress\n3. 2 way TLS, client certificate verification - testing TBD\n\nChange-Id: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}, {'number': 6, 'created': '2018-08-29 17:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09c308e1d88832257a84dc4147d25d5d57edeb60', 'message': 'WIP:RabbitMQ-TLS: enable secure communication\n\nThis patchset introduce\n1) TLS support for client communication for RabbitMQ and\nrelated htk defines for openstack helm charts.\n2) High performance Erlang (HiPE) for RabbitMQ to increase throughput\nby precompiling some modules. The startup time will be increased.\n3) management plugin UI TLS\n\nTODO:\n1. 644 file permission is set for certificates unless a way found\nto get around inability to set uid/gid for secret files - TBD\n2. peer TLS communication - testing is in progress\n3. 2 way TLS, client certificate verification - testing TBD\n\nChange-Id: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}, {'number': 7, 'created': '2018-08-31 18:39:00.000000000', 'files': ['rabbitmq/templates/secret-rabbitmq-tls.yaml', 'rabbitmq/templates/configmap-etc.yaml', 'helm-toolkit/templates/scripts/_rabbit-init.sh.tpl', 'rabbitmq/values.yaml', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'rabbitmq/templates/utils/_to_rabbit_config.tpl', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9907228bac4397d5805e965331fcf6a30cb81389', 'message': 'WIP:RabbitMQ-TLS: enable secure communication\n\nThis patchset introduce\n1) TLS support for client communication for RabbitMQ and\nrelated htk defines for openstack helm charts.\n2) High performance Erlang (HiPE) for RabbitMQ to increase throughput\nby precompiling some modules. The startup time will be increased.\n3) management plugin UI TLS\n4) TLS support for inter-node comunication\n\nTODO:\n1. 644 file permission is set for certificates unless a way found\nto get around inability to set uid/gid for secret files - TBD\n3. 2 way TLS, client certificate verification - testing\n\nChange-Id: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736\nSigned-off-by: Ruslan Khanbikov <rk760n@att.com>\n'}]",2,589654,9907228bac4397d5805e965331fcf6a30cb81389,16,6,7,28162,,,0,"WIP:RabbitMQ-TLS: enable secure communication

This patchset introduce
1) TLS support for client communication for RabbitMQ and
related htk defines for openstack helm charts.
2) High performance Erlang (HiPE) for RabbitMQ to increase throughput
by precompiling some modules. The startup time will be increased.
3) management plugin UI TLS
4) TLS support for inter-node comunication

TODO:
1. 644 file permission is set for certificates unless a way found
to get around inability to set uid/gid for secret files - TBD
3. 2 way TLS, client certificate verification - testing

Change-Id: Ia51a7df9458bd4fdd1aa2f55db3dc5a0a13b0736
Signed-off-by: Ruslan Khanbikov <rk760n@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/54/589654/2 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/snippets/_mount_secret.tpl', 'rabbitmq/templates/secret-rabbitmq-tls.yaml', 'helm-toolkit/templates/snippets/_secret_certificates.tpl', 'helm-toolkit/templates/snippets/_mount_certificates.tpl', 'rabbitmq/templates/configmap-etc.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml']",7,d9581100d12fc7a4f358ea614cdc3c6ca4916188,rabbitmq-tls,"{{- tuple $envAll ""oslo_messaging"" ""tls"" | include ""helm-toolkit.snippets.mount_certificates"" | indent 12 }}{{- tuple $envAll ""oslo_messaging"" ""tls"" | include ""helm-toolkit.snippets.mount_secret"" | indent 8 }}",,206,1
openstack%2Fopenstack-helm~master~I38e14ab41c8433ec17861fa023f1251800b8ce6f,openstack/openstack-helm,master,I38e14ab41c8433ec17861fa023f1251800b8ce6f,Cinder: mount rootfs in read-only mode by default,ABANDONED,2018-08-24 17:34:59.000000000,2020-07-15 19:43:18.000000000,,"[{'_account_id': 18236}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28162}, {'_account_id': 28875}]","[{'number': 1, 'created': '2018-08-24 17:34:59.000000000', 'files': ['cinder/templates/deployment-volume.yaml', 'cinder/values.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/deployment-api.yaml', 'cinder/templates/deployment-scheduler.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/148886fba1899ed607b95b9c677e074214bf158d', 'message': 'Cinder: mount rootfs in read-only mode by default\n\nThe changes allow to mount root file system in read-only mode.\nIn some cases Cinder requires the mounting of an emptyDir volume.\n\nChange-Id: I38e14ab41c8433ec17861fa023f1251800b8ce6f\n'}]",0,596410,148886fba1899ed607b95b9c677e074214bf158d,4,5,1,17119,,,0,"Cinder: mount rootfs in read-only mode by default

The changes allow to mount root file system in read-only mode.
In some cases Cinder requires the mounting of an emptyDir volume.

Change-Id: I38e14ab41c8433ec17861fa023f1251800b8ce6f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/10/596410/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/deployment-volume.yaml', 'cinder/values.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/deployment-api.yaml', 'cinder/templates/deployment-scheduler.yaml']",5,148886fba1899ed607b95b9c677e074214bf158d,, readOnlyRootFilesystem: {{ .Values.pod.rootfs_ro }} readOnlyRootFilesystem: {{ .Values.pod.rootfs_ro }},,33,0
openstack%2Fopenstack-helm-infra~master~Ia78686550f982f9a0da36534148e62585bd17b55,openstack/openstack-helm-infra,master,Ia78686550f982f9a0da36534148e62585bd17b55,Helm-Toolkit: mount rootfs in read-only mode.,ABANDONED,2018-08-24 17:43:33.000000000,2020-07-15 19:43:14.000000000,,"[{'_account_id': 18236}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28162}, {'_account_id': 28875}]","[{'number': 1, 'created': '2018-08-24 17:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb2e4c32dc0615ab13307ed35649609d8c0ce8f7', 'message': 'Helm-Toolkit: mount rootfs in read-only mode.\n\nThe changes allow to mount root file system in read-only mode into\nan entrypoint init container.\n\nChange-Id: Ia78686550f982f9a0da36534148e62585bd17b55\n'}, {'number': 2, 'created': '2018-08-24 17:45:01.000000000', 'files': ['helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/218668dc024feecea7192a55c2589c637b3bce09', 'message': 'Helm-Toolkit: mount rootfs in read-only mode.\n\nThe changes allow to mount root file system in read-only mode into\nan entrypoint init container.\n\nChange-Id: Ia78686550f982f9a0da36534148e62585bd17b55\n'}]",0,596412,218668dc024feecea7192a55c2589c637b3bce09,5,5,2,17119,,,0,"Helm-Toolkit: mount rootfs in read-only mode.

The changes allow to mount root file system in read-only mode into
an entrypoint init container.

Change-Id: Ia78686550f982f9a0da36534148e62585bd17b55
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/12/596412/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl'],1,bb2e4c32dc0615ab13307ed35649609d8c0ce8f7,, {{- if $envAll.Values.pod.rootfs_ro }} securityContext: readOnlyRootFilesystem: {{ $envAll.Values.pod.rootfs_ro }} {{ end }},,4,0
openstack%2Fopenstack-helm~master~I79e8cc7176f2af60ae975ed38a9eb85c10b5c8aa,openstack/openstack-helm,master,I79e8cc7176f2af60ae975ed38a9eb85c10b5c8aa,Cinder: add pass message for enabling application,ABANDONED,2018-03-05 17:15:25.000000000,2020-07-15 19:43:10.000000000,,"[{'_account_id': 6678}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-05 17:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/10c6675479b048d6c663e7c17c0aede54fc53124', 'message': 'Cinder: add pass message for enabling application\n\nThis PS add a pass message to prevent check message error.\nThese init sripts are failed because check message returned.\nwhen using ceph (+luminous version) and a cinder pool already\nhas been enabled for other apps.\n\nChange-Id: I79e8cc7176f2af60ae975ed38a9eb85c10b5c8aa\nCloses-Bug: #1753535\n'}, {'number': 2, 'created': '2018-08-14 05:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/de9664d4f0305cb2bb40d3aa6c1e413a6c99de70', 'message': 'Cinder: add pass message for enabling application\n\nThis PS add a pass message to prevent check message error.\nThese init sripts are failed because check message returned.\nwhen using ceph (+luminous version) and a cinder pool already\nhas been enabled for other apps.\n\nChange-Id: I79e8cc7176f2af60ae975ed38a9eb85c10b5c8aa\nCloses-Bug: #1753535\n'}, {'number': 3, 'created': '2018-08-14 06:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00b3c994ae57715be8b665f4c0ac0105af20473c', 'message': 'Cinder: add pass message for enabling application\n\nThis PS add a pass message to prevent check message error.\nThese init sripts are failed because check message returned.\nwhen using ceph (+luminous version) and a cinder pool already\nhas been enabled for other apps.\n\nChange-Id: I79e8cc7176f2af60ae975ed38a9eb85c10b5c8aa\nCloses-Bug: #1753535\n'}, {'number': 4, 'created': '2018-08-14 09:03:17.000000000', 'files': ['glance/templates/bin/_storage-init.sh.tpl', 'gnocchi/templates/bin/_storage-init.sh.tpl', 'cinder/templates/bin/_storage-init.sh.tpl', 'cinder/values.yaml', 'gnocchi/values.yaml', 'glance/values.yaml', 'cinder/templates/bin/_backup-storage-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d410f05e08c7f4da270c2ee4b512c94bdfb44648', 'message': 'Cinder: add pass message for enabling application\n\nThis PS add a pass message to prevent check message error.\nThese init sripts are failed because check message returned.\nwhen using ceph (+luminous version) and a cinder pool already\nhas been enabled for other apps.\n\nChange-Id: I79e8cc7176f2af60ae975ed38a9eb85c10b5c8aa\nCloses-Bug: #1753535\n'}]",0,549824,d410f05e08c7f4da270c2ee4b512c94bdfb44648,11,3,4,24427,,,0,"Cinder: add pass message for enabling application

This PS add a pass message to prevent check message error.
These init sripts are failed because check message returned.
when using ceph (+luminous version) and a cinder pool already
has been enabled for other apps.

Change-Id: I79e8cc7176f2af60ae975ed38a9eb85c10b5c8aa
Closes-Bug: #1753535
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/549824/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/bin/_storage-init.sh.tpl', 'cinder/templates/bin/_backup-storage-init.sh.tpl']",2,10c6675479b048d6c663e7c17c0aede54fc53124,bug/1753535, ceph osd pool application enable $1 $3 --yes-i-really-mean-it, ceph osd pool application enable $1 $3,2,2
openstack%2Fopenstack-helm-infra~master~If898544d4956cac212452c5eab6ffa912b9439c2,openstack/openstack-helm-infra,master,If898544d4956cac212452c5eab6ffa912b9439c2,Add job to create kibana default log analysis dashboard,ABANDONED,2018-06-26 19:58:53.000000000,2020-07-15 19:43:07.000000000,,"[{'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 18503}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27995}]","[{'number': 1, 'created': '2018-06-26 19:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30bb19b56522318ed4272529c1d8ef1c84fd070d', 'message': 'Add job to create kibana default log analysis dashboard\n\nChange-Id: If898544d4956cac212452c5eab6ffa912b9439c2\n'}, {'number': 2, 'created': '2018-06-26 20:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b1c737e91119bde00dc7f5e5c33beda0f92446d', 'message': 'Add job to create kibana default log analysis dashboard\n\nChange-Id: If898544d4956cac212452c5eab6ffa912b9439c2\n'}, {'number': 3, 'created': '2018-06-28 04:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff2b1fedf0017142d3039a95dd5f2bec0a70049e', 'message': 'Add job to create kibana default log analysis dashboard\n\nChange-Id: If898544d4956cac212452c5eab6ffa912b9439c2\n'}, {'number': 4, 'created': '2018-08-10 16:02:58.000000000', 'files': ['kibana/templates/bin/_register_kibana_dashboards.sh.tpl', 'kibana/templates/configmap-bin.yaml', 'kibana/templates/configmap-etc.yaml', 'kibana/templates/job-register-dashboards.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/321435c6e74251609dda26cb754c7d671d98a7a9', 'message': 'Add job to create kibana default log analysis dashboard\n\nChange-Id: If898544d4956cac212452c5eab6ffa912b9439c2\n'}]",0,578186,321435c6e74251609dda26cb754c7d671d98a7a9,9,6,4,18503,,,0,"Add job to create kibana default log analysis dashboard

Change-Id: If898544d4956cac212452c5eab6ffa912b9439c2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/86/578186/2 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/templates/bin/_register_kibana_dashboards.sh.tpl', 'kibana/templates/configmap-bin.yaml', 'kibana/templates/configmap-etc.yaml', 'kibana/templates/job-register-dashboards.yaml', 'kibana/values.yaml', 'job-build-dashboards.yaml']",6,30bb19b56522318ed4272529c1d8ef1c84fd070d,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.dashboards }} {{- $envAll := . }} {{- $esUserSecret := .Values.secrets.elasticsearch.user }} {{- $serviceAccountName := ""kibana-register-default-dashboards"" }} {{ tuple $envAll ""kibana_dashboards"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: batch/v1 kind: Job metadata: name: kibana-dashboards spec: template: metadata: labels: {{ tuple $envAll ""kibana"" ""dashboard"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: serviceAccountName: {{ $serviceAccountName }} restartPolicy: OnFailure nodeSelector: {{ .Values.labels.job.node_selector_key }}: {{ .Values.labels.job.node_selector_value }} initContainers: {{ tuple $envAll ""snapshot_repository"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: create-kibana-dashboards {{ tuple $envAll ""kibana_register_default_dashboards"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.snapshot_repository | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} env: - name: ELASTICSEARCH_USERNAME valueFrom: secretKeyRef: name: {{ $esUserSecret }} key: ELASTICSEARCH_USERNAME - name: ELASTICSEARCH_PASSWORD valueFrom: secretKeyRef: name: {{ $esUserSecret }} key: ELASTICSEARCH_PASSWORD - name: ELASTICSEARCH_ENDPOINT value: {{ tuple ""elasticsearch"" ""internal"" ""client"" . | include ""helm-toolkit.endpoints.host_and_port_endpoint_uri_lookup"" }} command: - /tmp/create_dashboards.sh volumeMounts: - name: elasticsearch-bin mountPath: /tmp/create_dashboards.sh subPath: create_dashboards.sh readOnly: true volumes: - name: elasticsearch-bin configMap: name: elasticsearch-bin defaultMode: 0555 {{- end }} ",,281,2
openstack%2Fopenstack-helm~master~Ibdfbf07e3886f118a16cd39c063ef900d2123853,openstack/openstack-helm,master,Ibdfbf07e3886f118a16cd39c063ef900d2123853,Make keys directories not world readable,ABANDONED,2018-08-02 18:53:19.000000000,2020-07-15 19:43:03.000000000,,"[{'_account_id': 20444}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28704}]","[{'number': 1, 'created': '2018-08-02 18:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b428257de0ad86e9efd1bdec76f34c766a1a00d', 'message': '[WIP] - Make directories not-world readable\n\nMake /etc/keystone/credential-keys and /etc/keystone/fernet-keys\nnot world readable.\n\nChange-Id: Ibdfbf07e3886f118a16cd39c063ef900d2123853\n'}, {'number': 2, 'created': '2018-08-06 17:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6e2e8df5734ea6a211ad5b105a8a294e6a09a8c', 'message': '[WIP] - Make keys directories not world readable\n\nMake /etc/keystone/credential-keys and /etc/keystone/fernet-keys\nnot world readable.\n\nChange-Id: Ibdfbf07e3886f118a16cd39c063ef900d2123853\n'}, {'number': 3, 'created': '2018-08-06 17:55:30.000000000', 'files': ['keystone/templates/deployment-api.yaml', 'keystone/templates/bin/_keystone-api.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/759896d7a088c01a9481c7c39fede476d8d214f3', 'message': 'Make keys directories not world readable\n\nMake /etc/keystone/credential-keys and /etc/keystone/fernet-keys\nnot world readable.\n\nChange-Id: Ibdfbf07e3886f118a16cd39c063ef900d2123853\n'}]",3,588359,759896d7a088c01a9481c7c39fede476d8d214f3,11,5,3,24780,,,0,"Make keys directories not world readable

Make /etc/keystone/credential-keys and /etc/keystone/fernet-keys
not world readable.

Change-Id: Ibdfbf07e3886f118a16cd39c063ef900d2123853
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/59/588359/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/deployment-api.yaml'],1,4b428257de0ad86e9efd1bdec76f34c766a1a00d,, defaultMode: 0640 defaultMode: 0640,,2,0
openstack%2Fopenstack-helm~master~I1bf79ae644f00a79b60c4d7eb956b4703dbc67ae,openstack/openstack-helm,master,I1bf79ae644f00a79b60c4d7eb956b4703dbc67ae,WIP: Keystone federation with dex,ABANDONED,2018-08-04 16:41:33.000000000,2020-07-15 19:42:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-08-04 16:41:33.000000000', 'files': ['keystone/templates/etc/_wsgi-keystone.conf.tpl', 'keystone/values.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b3a1ff9463a0ae8675d084ec82f64c330c02d1a', 'message': 'WIP: Keystone federation with dex\n\nChange-Id: I1bf79ae644f00a79b60c4d7eb956b4703dbc67ae\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,588929,4b3a1ff9463a0ae8675d084ec82f64c330c02d1a,3,1,1,23928,,,0,"WIP: Keystone federation with dex

Change-Id: I1bf79ae644f00a79b60c4d7eb956b4703dbc67ae
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/588929/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/etc/_wsgi-keystone.conf.tpl', 'keystone/values.yaml', 'horizon/values.yaml']",3,4b3a1ff9463a0ae8675d084ec82f64c330c02d1a,keystone/disablev3," enabled: Ture initial_choice: ""mapped"" idp_mapping: - name: ""mapped"" OPENSTACK_KEYSTONE_URL = ""{{ tuple ""identity"" ""public"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" }}"""," enabled: False initial_choice: ""credentials"" idp_mapping: - name: ""acme_oidc"" idp: ""myidp1"" protocol: ""oidc"" - name: ""acme_saml2"" label: ""Acme Corporation - SAML2"" idp: ""myidp2"" protocol: ""saml2"" OPENSTACK_KEYSTONE_URL = ""{{ tuple ""identity"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" }}"" WEBSSO_IDP_MAPPING = { {{- range $i, $sso := .Values.conf.horizon.local_settings.config.auth.idp_mapping }} {{ $sso.name | quote}}: ({{ $sso.idp | quote }}, {{ $sso.protocol | quote }}), {{- end }} } ",45,23
openstack%2Fopenstack-helm-infra~master~Iad8ec222ece4c1790ffc2d253e2d24bbd09ad012,openstack/openstack-helm-infra,master,Iad8ec222ece4c1790ffc2d253e2d24bbd09ad012,WIP: Keycloak,ABANDONED,2018-08-04 13:35:05.000000000,2020-07-15 19:42:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-08-04 13:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/089ed2b0832327fd27d4ce87f27d4fa81469a9f0', 'message': 'WIP: Keycloak\n\nChange-Id: Iad8ec222ece4c1790ffc2d253e2d24bbd09ad012\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-08-04 13:42:25.000000000', 'files': ['keycloak/templates/ingress-api.yaml', 'keycloak/templates/deployment-api.yaml', 'keycloak/values.yaml', 'keycloak/templates/job-image-repo-sync.yaml', 'keycloak/templates/service-api.yaml', 'keycloak/templates/bin/_keycloak.sh.tpl', 'keycloak/templates/service-ingress-api.yaml', 'keycloak/Chart.yaml', 'keycloak/requirements.yaml', 'keycloak/templates/configmap-etc.yaml', 'keycloak/templates/pdb-api.yaml', 'keycloak/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb234a2c7eb2eb41772382a567511160bb50be13', 'message': 'WIP: Keycloak\n\nChange-Id: Iad8ec222ece4c1790ffc2d253e2d24bbd09ad012\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,588916,bb234a2c7eb2eb41772382a567511160bb50be13,4,1,2,23928,,,0,"WIP: Keycloak

Change-Id: Iad8ec222ece4c1790ffc2d253e2d24bbd09ad012
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/588916/2 && git format-patch -1 --stdout FETCH_HEAD,"['keycloak/templates/ingress-api.yaml', 'keycloak/templates/deployment-api.yaml', 'keycloak/values.yaml', 'keycloak/templates/job-image-repo-sync.yaml', 'keycloak/templates/service-api.yaml', 'keycloak/templates/bin/_keycloak.sh.tpl', 'keycloak/templates/service-ingress-api.yaml', 'keycloak/Chart.yaml', 'keycloak/requirements.yaml', 'keycloak/templates/configmap-etc.yaml', 'keycloak/templates/pdb-api.yaml', 'keycloak/templates/configmap-bin.yaml']",12,089ed2b0832327fd27d4ce87f27d4fa81469a9f0,keycloak,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.configmap_bin }} {{- $envAll := . }} --- apiVersion: v1 kind: ConfigMap metadata: name: keycloak-bin data: {{- if .Values.images.local_registry.active }} image-repo-sync.sh: | {{- include ""helm-toolkit.scripts.image_repo_sync"" . | indent 4 }} {{- end }} keycloak.sh: | {{ tuple ""bin/_keycloak.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }} {{- end }} ",,566,0
openstack%2Fopenstack-helm~master~Iffdc72a40ec93bd8529793eb0373a31bf43de516,openstack/openstack-helm,master,Iffdc72a40ec93bd8529793eb0373a31bf43de516,Senlin: remove senlin command line test,ABANDONED,2018-07-30 03:38:57.000000000,2020-07-15 19:42:34.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-07-30 03:38:57.000000000', 'files': ['senlin/templates/bin/_senlin-test.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aed921a62f5309df8444f74d9520b99593282c0c', 'message': 'Senlin: remove senlin command line test\n\nIn this patch senlinclient not support senlin command line:\nhttps://review.openstack.org/#/c/527651/\n\nChange-Id: Iffdc72a40ec93bd8529793eb0373a31bf43de516\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",1,586931,aed921a62f5309df8444f74d9520b99593282c0c,4,3,1,23517,,,0,"Senlin: remove senlin command line test

In this patch senlinclient not support senlin command line:
https://review.openstack.org/#/c/527651/

Change-Id: Iffdc72a40ec93bd8529793eb0373a31bf43de516
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/31/586931/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/templates/bin/_senlin-test.sh.tpl'],1,aed921a62f5309df8444f74d9520b99593282c0c,,"openstack cluster create --profile ""${SENLIN_CLUSTER_PROFILE}"" ""${SENLIN_CLUSTER_NAME}"" || falseopenstack cluster node create --profile ""${SENLIN_CLUSTER_PROFILE}"" ""${SENLIN_NODE_NAME}"" || false","openstack cluster create --profile ""${SENLIN_CLUSTER_PROFILE}"" ""${SENLIN_CLUSTER_NAME}"" || \ senlin cluster-create -p ""${SENLIN_CLUSTER_PROFILE}"" ""${SENLIN_CLUSTER_NAME}"" || falseopenstack cluster node create --profile ""${SENLIN_CLUSTER_PROFILE}"" ""${SENLIN_NODE_NAME}"" || \ senlin node-create -p ""${SENLIN_CLUSTER_PROFILE}"" ""${SENLIN_NODE_NAME}"" || false",2,4
openstack%2Fopenstack-helm~master~I45695d815683adff4b79f9a665a4eeea5065eefd,openstack/openstack-helm,master,I45695d815683adff4b79f9a665a4eeea5065eefd,WIP: Mariadb Galera restart capability,ABANDONED,2018-07-19 15:10:19.000000000,2020-07-15 19:42:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-19 15:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c12fbafdaf480fe29214016bc01e3da38280ae3', 'message': 'WIP: Mariadb Galera restart capability\n\nChange-Id: I45695d815683adff4b79f9a665a4eeea5065eefd\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-07-19 20:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ab51b741ba1fc037efca7a3e7ff6c6f4cef7061', 'message': 'WIP: Mariadb Galera restart capability\n\nChange-Id: I45695d815683adff4b79f9a665a4eeea5065eefd\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-07-26 20:57:02.000000000', 'files': ['mariadb/templates/bin/_mariadb-config-init.sh.tpl', 'mariadb/values.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/bin/_readiness.sh.tpl', 'mariadb/templates/statefulset.yaml', 'mariadb/templates/bin/_mariadb-coordination.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87eb6bdd695d8b5c3941522e9a653bed357601a7', 'message': 'WIP: Mariadb Galera restart capability\n\nChange-Id: I45695d815683adff4b79f9a665a4eeea5065eefd\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,583986,87eb6bdd695d8b5c3941522e9a653bed357601a7,7,1,3,23928,,,0,"WIP: Mariadb Galera restart capability

Change-Id: I45695d815683adff4b79f9a665a4eeea5065eefd
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/583986/3 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/bin/_mariadb-config-init.sh.tpl', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/bin/_mariadb-coordination.sh.tpl', 'mariadb/templates/bin/_readiness.sh.tpl']",5,5c12fbafdaf480fe29214016bc01e3da38280ae3,mariadb/galera-reform," echo ""running"" > ${STATE_PATH}",,175,151
openstack%2Fopenstack-helm~master~I194df96a90139f772b8826c3b47913432dc9c3af,openstack/openstack-helm,master,I194df96a90139f772b8826c3b47913432dc9c3af,WIP: enable resource limits for OpenStack components,ABANDONED,2018-07-24 13:48:14.000000000,2020-07-15 19:42:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-24 13:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6c63b160cac07b6d80d8737966d68c0f418f487', 'message': 'WIP: enable resource limits for OpenStack components\n\nThis PS enables resource limits for OpenStack components, subsiquent\npatches will tune these to more conservative values.\n\nDepends-On: https://review.openstack.org/#/c/585039\n\nChange-Id: I194df96a90139f772b8826c3b47913432dc9c3af\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-07-24 13:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2afc122489db6ad23ef97228a4e4f4ac93c36a26', 'message': 'WIP: enable resource limits for OpenStack components\n\nThis PS enables resource limits for OpenStack components, subsiquent\npatches will tune these to more conservative values.\n\nDepends-On: https://review.openstack.org/#/c/585039\n\nChange-Id: I194df96a90139f772b8826c3b47913432dc9c3af\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-07-24 13:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd3bc99cea330f69d5313bd11185522079b919cc', 'message': 'WIP: enable resource limits for OpenStack components\n\nThis PS enables resource limits for OpenStack components, subsiquent\npatches will tune these to more conservative values.\n\nDepends-On: https://review.openstack.org/#/c/585039\n\nChange-Id: I194df96a90139f772b8826c3b47913432dc9c3af\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-07-24 20:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a28d3c4773de5052595690fb802996638def53cb', 'message': 'WIP: enable resource limits for OpenStack components\n\nThis PS enables resource limits for OpenStack components, subsiquent\npatches will tune these to more conservative values.\n\nDepends-On: https://review.openstack.org/#/c/585039\n\nChange-Id: I194df96a90139f772b8826c3b47913432dc9c3af\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-07-24 20:12:56.000000000', 'files': ['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'gnocchi/values.yaml', 'nova/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d461e1c6ca7908a122c666a09b89f82f7b9843e3', 'message': 'WIP: enable resource limits for OpenStack components\n\nThis PS enables resource limits for OpenStack components, subsiquent\npatches will tune these to more conservative values.\n\nDepends-On: https://review.openstack.org/#/c/585039\n\nChange-Id: I194df96a90139f772b8826c3b47913432dc9c3af\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,585358,d461e1c6ca7908a122c666a09b89f82f7b9843e3,8,1,5,23928,,,0,"WIP: enable resource limits for OpenStack components

This PS enables resource limits for OpenStack components, subsiquent
patches will tune these to more conservative values.

Depends-On: https://review.openstack.org/#/c/585039

Change-Id: I194df96a90139f772b8826c3b47913432dc9c3af
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/585358/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'etcd/values.yaml', 'gnocchi/values.yaml', 'nova/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'ingress/values.yaml', 'senlin/values.yaml']",17,a6c63b160cac07b6d80d8737966d68c0f418f487,enable-resource, enabled: true memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null memory: null cpu: null," enabled: false memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m"" memory: ""124Mi"" cpu: ""100m"" memory: ""128Mi"" cpu: ""100m""",430,429
openstack%2Floci~master~I12e0f7094cacd0a6728d4725252130646085d15c,openstack/loci,master,I12e0f7094cacd0a6728d4725252130646085d15c,Add binary support in Ubuntu,ABANDONED,2017-09-23 02:09:06.000000000,2020-07-15 19:42:09.000000000,,"[{'_account_id': 3}, {'_account_id': 13039}, {'_account_id': 14119}, {'_account_id': 21307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-23 02:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/574ea4e5ff697be88c1a41d7ac56f2dfd5686651', 'message': '[WIP] Add binary support\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROFILES=""binary"" --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}, {'number': 2, 'created': '2017-09-23 02:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/99877ccc2b63faee3772d44d38b283cc6b32313d', 'message': '[WIP] Add binary support\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROFILES=""binary"" --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}, {'number': 3, 'created': '2017-10-03 19:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/3c4554341daabca5e1518f47c6802ff8b3ce5ceb', 'message': '[WIP] Add binary support\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROFILES=""binary"" --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}, {'number': 4, 'created': '2017-10-15 17:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/c8e4b5b18e5da225d9952425cee410495cae0598', 'message': '[WIP] Add binary support\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}, {'number': 5, 'created': '2017-10-15 17:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/5256590c7d90436d5d8bf9fb78d277800962a43b', 'message': '[WIP] Add binary support\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}, {'number': 6, 'created': '2017-10-15 19:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9a7beeb497f5140b3eaea50ff34cec724b436e05', 'message': '[WIP] Add binary support\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}, {'number': 7, 'created': '2017-10-15 19:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/2b563e4bdb4d683122ed6ec8c74bf31907f4a68c', 'message': '[WIP] Add binary support\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}, {'number': 8, 'created': '2017-10-15 19:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/7ced31b687cd24cc7fe3d83c6cb527fed3ad87b9', 'message': '[WIP] Add binary support\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}, {'number': 9, 'created': '2017-10-15 20:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8a4f2fdcebfc5200417834790d1563fd81a3aa1f', 'message': '[WIP] Add binary support\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}, {'number': 10, 'created': '2017-12-21 23:31:15.000000000', 'files': ['Dockerfile', 'bindep.txt', 'scripts/install_packages.sh', 'scripts/install.sh', 'scripts/pip_install.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/c70569b17134bd9eadc47a353db107b4a68b7b1c', 'message': 'Add binary support in Ubuntu\n\nBuild with:\ndocker build --build-arg BINARY=yes --build-arg PROJECT=keystone .\n\nChange-Id: I12e0f7094cacd0a6728d4725252130646085d15c\n'}]",2,506824,c70569b17134bd9eadc47a353db107b4a68b7b1c,31,5,10,14119,,,0,"Add binary support in Ubuntu

Build with:
docker build --build-arg BINARY=yes --build-arg PROJECT=keystone .

Change-Id: I12e0f7094cacd0a6728d4725252130646085d15c
",git fetch https://review.opendev.org/openstack/loci refs/changes/24/506824/10 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/bindep.txt', 'scripts/install.sh', 'dockerfiles/dpkg/Dockerfile', 'dockerfiles/rpm/Dockerfile']",4,574ea4e5ff697be88c1a41d7ac56f2dfd5686651,binary,ARG BINARY,,19,9
openstack%2Floci~master~I553a3ffaa10335f8e870b2cf9c84f61fb4979b7d,openstack/loci,master,I553a3ffaa10335f8e870b2cf9c84f61fb4979b7d,[WIP] Consume bindep.txt in keystone,ABANDONED,2018-03-02 14:30:14.000000000,2020-07-15 19:42:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-02 14:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/30aa415e1ad3c41ec55233fca8c21b68a102c6c2', 'message': '[WIP] Consume bindep.txt in keystone\n\nChange-Id: I553a3ffaa10335f8e870b2cf9c84f61fb4979b7d\nDepends-On: I96e34c67e20e1233ef52d00988573888221c02bd\n'}, {'number': 2, 'created': '2018-03-06 17:20:33.000000000', 'files': ['bindep.txt', 'scripts/install_packages.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/47c6c2f6213c595677689e962e55aba16dfcf800', 'message': '[WIP] Consume bindep.txt in keystone\n\nChange-Id: I553a3ffaa10335f8e870b2cf9c84f61fb4979b7d\nDepends-On: I96e34c67e20e1233ef52d00988573888221c02bd\n'}]",0,549227,47c6c2f6213c595677689e962e55aba16dfcf800,5,1,2,14119,,,0,"[WIP] Consume bindep.txt in keystone

Change-Id: I553a3ffaa10335f8e870b2cf9c84f61fb4979b7d
Depends-On: I96e34c67e20e1233ef52d00988573888221c02bd
",git fetch https://review.opendev.org/openstack/loci refs/changes/27/549227/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'scripts/install_packages.sh']",2,30aa415e1ad3c41ec55233fca8c21b68a102c6c2,bindep_keystone,"# NOTE(SamYaple): Whiteless projects that have this bindep deploy support in-repo if [[ ""${PROJECT}"" == ""keystone"" ]]; then PACKAGES+=($(bindep -f /tmp/${PROJECT}/bindep.txt -b -l newline deploy ${PROFILES} ${python3} || :)) fi ",,5,2
openstack%2Fopenstack-helm~master~I5e32a70616afdf77ac62ed26f1809b9410c6e4c3,openstack/openstack-helm,master,I5e32a70616afdf77ac62ed26f1809b9410c6e4c3,Troubleshoot doc proxy.rst content lags,ABANDONED,2018-07-05 03:55:36.000000000,2020-07-15 19:35:27.000000000,,"[{'_account_id': 20466}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24049}, {'_account_id': 26355}, {'_account_id': 27781}, {'_account_id': 28165}]","[{'number': 1, 'created': '2018-07-05 03:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3186eaaab3e5126f1e8d294f8b09e37d60f82783', 'message': 'Troubleshoot doc proxy.rst content lags\n\nTroubleshooting/proxy.rst content lags behind the master\nbranch code\n\nChange-Id: I5e32a70616afdf77ac62ed26f1809b9410c6e4c3\n'}, {'number': 2, 'created': '2018-07-05 04:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6512074e9df7208f7abb5754f8bc0ace2cda34bf', 'message': 'Troubleshoot doc proxy.rst content lags\n\nTroubleshooting/proxy.rst content lags behind the master\nbranch code\n\nChange-Id: I5e32a70616afdf77ac62ed26f1809b9410c6e4c3\n'}, {'number': 3, 'created': '2018-07-05 06:01:11.000000000', 'files': ['doc/source/troubleshooting/proxy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b403bd6f0112dc2cae88db55f2c2cdb3189066b', 'message': 'Troubleshoot doc proxy.rst content lags\n\nTroubleshooting/proxy.rst content lags behind the master\nbranch code\n\nChange-Id: I5e32a70616afdf77ac62ed26f1809b9410c6e4c3\n'}]",9,580273,2b403bd6f0112dc2cae88db55f2c2cdb3189066b,16,8,3,26355,,,0,"Troubleshoot doc proxy.rst content lags

Troubleshooting/proxy.rst content lags behind the master
branch code

Change-Id: I5e32a70616afdf77ac62ed26f1809b9410c6e4c3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/580273/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/troubleshooting/proxy.rst'],1,3186eaaab3e5126f1e8d294f8b09e37d60f82783,,"In ``openstack-helm-infra/tools/images/kubeadm-aio/Dockerfile``, add the following to the ARG HTTP_PROXY=""http://username:password@host:port"" ENV HTTP_PROXY ${HTTP_PROXY} ENV http_proxy ${HTTP_PROXY} ARG HTTPS_PROXY=""http://username:password@host:port"" ENV HTTPS_PROXY ${HTTPS_PROXY} ENV https_proxy ${HTTPS_PROXY} ARG NO_PROXY=""127.0.0.1,localhost,.svc.cluster.local"" ENV NO_PROXY ${NO_PROXY} ENV no_proxy ${NO_PROXY} Note the IP address ``.svc.cluster.local`` is the advertised IP for the kubernetes","In ``tools/images/kubeadm-aio/Dockerfile``, add the following to the ENV HTTP_PROXY http://username:password@host:port ENV HTTPS_PROXY http://username:password@host:port ENV http_proxy http://username:password@host:port ENV https_proxy http://username:password@host:port ENV no_proxy 127.0.0.1,localhost,172.17.0.1 ENV NO_PROXY 127.0.0.1,localhost,172.17.0.1 Note the IP address ``172.17.0.1`` is the advertised IP for the kubernetes",13,8
openstack%2Fopenstack-helm-infra~master~Ic5b065199b4c3f891af34279b1dd60ff35a99e08,openstack/openstack-helm-infra,master,Ic5b065199b4c3f891af34279b1dd60ff35a99e08,Add to_xml utility to helm-toolkit,ABANDONED,2018-07-06 13:44:03.000000000,2020-07-15 19:35:23.000000000,,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27715}]","[{'number': 1, 'created': '2018-07-06 13:44:03.000000000', 'files': ['helm-toolkit/templates/utils/_to_xml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd31b97e6e04f2ab8e3b6c765997e4c846565316', 'message': 'Add to_xml utility to helm-toolkit\n\nAdds ""helm-toolkit.utils.to_xml"" which generates xml from a map\nhierarchy. This allows for example parameterizing xml configs in the\nnative helm way via a values.yaml interface.\n\nChange-Id: Ic5b065199b4c3f891af34279b1dd60ff35a99e08\n'}]",0,580660,dd31b97e6e04f2ab8e3b6c765997e4c846565316,6,7,1,27715,,,0,"Add to_xml utility to helm-toolkit

Adds ""helm-toolkit.utils.to_xml"" which generates xml from a map
hierarchy. This allows for example parameterizing xml configs in the
native helm way via a values.yaml interface.

Change-Id: Ic5b065199b4c3f891af34279b1dd60ff35a99e08
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/60/580660/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/utils/_to_xml.tpl'],1,dd31b97e6e04f2ab8e3b6c765997e4c846565316,,"{{/* Copyright 2018 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- /* Converts a map hierarchy to an xml doc. It is often desired to order the tags in the output to satisfy an xsd. Since map keys are undordered though, to accomplish this map keys can optionally include a numeric prefix (with optional trailing underscore(s)) to denote the ordering. This prefix is omitted from the output. Attributes are specified via an ""__attributes__"" key whose value is a map of attribute names to values. Attributes mapped to slices represent multiple attributes with the same name. Normally for scalar (leaf) content within a tag, the scalar can be passed as the value of the map key for that tag, however, when using ""__attributes__"" this value is already a map, so the scalar content can be specified via a ""__content__"" map key instead. An xml prolog can also be included via a ""__prolog__"" map key at the root. Multiple sibling tags with the same name are specified via mapping the tag name to a slice value. For example: __prolog__: encoding: UTF-8 standalone: ""yes"" 010_multi_parent: - 010_child1: a 020_child2: b - __attributes__: a1: v1 a2: v2 010_child1: c 020_child2: d 020_leaf_with_attrs: __attributes__: a3: v3 a4: v4 __content__: foo becomes: <?xml version=""1.0"" encoding=""UTF-8"" standalone=""yes""?> <multi_parent> <child1>a</child1> <child2>b</child2> </multi_parent> <multi_parent a1=""v1"" a2=""v2""> <child1>c</child1> <child2>d</child2> </multi_parent> <leaf_with_attrs a3=""v3"" a4=""v4"">foo</leaf_with_attrs> */ -}} {{- define ""helm-toolkit.utils.to_xml"" -}} {{- $local := dict -}} {{- $_ := set $local ""body"" . -}} {{- $prolog_key := ""__prolog__"" -}} {{- if hasKey . $prolog_key -}} {{- $base_prolog := dict ""version"" ""1.0"" -}} {{- $prolog := index $local.body $prolog_key -}} {{- $_ := set $local ""body"" (omit $local.body $prolog_key) -}} <?xml version=""1.0"" {{- if hasKey $prolog ""encoding""}} encoding="" {{- $prolog.encoding -}}"" {{- end -}} {{- if hasKey $prolog ""standalone""}} standalone="" {{- $prolog.standalone -}}"" {{- end -}} ?> {{- end -}} {{- print ""\n"" (include ""helm-toolkit.utils._xml.from_map"" $local.body) -}} {{- end -}} {{- /* Helper methods below. */ -}} {{- /* Converts a map to xml. */ -}} {{- define ""helm-toolkit.utils._xml.from_map"" -}} {{- $local := dict -}} {{- $_ := set $local ""fragments"" list -}} {{- $_ := set $local ""tag_order"" list -}} {{- $fixed := dict -}} {{- $old_keys := dict -}} {{- range $key, $value := . -}} {{- $tag := regexReplaceAll ""^\\d+_*"" $key """" -}} {{- $_ := set $fixed $tag $value -}} {{- if hasKey $old_keys $tag -}} {{- $old_key := index $old_keys $tag -}} {{- $arg := dict ""tag"" $tag ""key1"" $old_key ""key2"" $key -}} {{- include ""helm-toolkit.utils._xml.multi_keys_for_tag"" $arg | fail -}} {{- end -}} {{- $_ := set $old_keys $tag $key -}} {{- $_ := set $local ""tag_order"" (append $local.tag_order $tag) -}} {{- end -}} {{- range $tag := $local.tag_order -}} {{- $value := index $fixed $tag -}} {{- $arg := dict ""key"" $tag ""value"" $value -}} {{- $fragment := include ""helm-toolkit.utils._xml.from_map_entry"" $arg -}} {{- $_ := set $local ""fragments"" (append $local.fragments $fragment) -}} {{- end -}} {{- join ""\n"" $local.fragments -}} {{- end -}} {{- define ""helm-toolkit.utils._xml.multi_keys_for_tag"" -}} Found multiple keys ({{ .key1 }}, {{ .key2 }}) for same tag ({{ .tag }}) {{- end -}} {{- /* Takes .key and .value and returns an xml fragment. */ -}} {{- define ""helm-toolkit.utils._xml.from_map_entry"" -}} {{- $local := dict -}} {{- if kindIs ""slice"" .value -}} {{- $_ := set $local ""tags"" list -}} {{- range $index, $item := .value -}} {{- if kindIs ""slice"" $item -}} {{- /* Special case for nested slices. */ -}} {{- $_ := set $local ""item_model"" (join "","" $item) -}} {{- else -}} {{- $_ := set $local ""item_model"" $item -}} {{- end -}} {{- $simple_map := dict $.key $local.item_model -}} {{- $tag := include ""helm-toolkit.utils._xml.from_map"" $simple_map -}} {{- $_ := set $local ""tags"" (append $local.tags $tag) -}} {{- end -}} {{- join ""\n"" $local.tags -}} {{- else -}} {{- $_ := set $local ""attributes"" dict -}} {{- $_ := set $local ""content"" .value -}} {{- if kindIs ""map"" .value -}} {{- $attr_key := ""__attributes__"" -}} {{- if hasKey .value $attr_key -}} {{- $_ := set $local ""attributes"" (index .value $attr_key) -}} {{- $_ := set $local ""content"" (omit .value $attr_key) -}} {{- end -}} {{- $content_key := ""__content__"" -}} {{- if hasKey $local.content $content_key -}} {{- $_ := set $local ""content"" (index $local.content $content_key) -}} {{- end -}} {{- end -}} {{- $content := $local.content -}} {{- $attributes := $local.attributes -}} {{- $arg := dict ""name"" .key ""content"" $content ""attributes"" $attributes -}} {{- include ""helm-toolkit.utils._xml.tag"" $arg -}} {{- end -}} {{- end -}} {{- /* Takes .name, .content, and .attributes and returns an xml tag. */ -}} {{- define ""helm-toolkit.utils._xml.tag"" -}} {{- $local := dict -}} {{- $_ := set $local ""text"" """" -}} {{- if kindIs ""map"" .content -}} {{- $inner_xml := include ""helm-toolkit.utils._xml.from_map"" .content -}} {{- if $inner_xml -}} {{- $_ := set $local ""text"" (print ""\n"" ($inner_xml | indent 4) ""\n"") -}} {{- end -}} {{- else -}} {{- $_ := set $local ""text"" (print .content | html) -}} {{- end -}} <{{- .name -}} {{- $attrs := include ""helm-toolkit.utils._xml.attributes"" .attributes -}} {{- if $attrs -}} {{- print "" "" $attrs -}} {{- end -}} {{- if eq $local.text """" -}} /> {{- else -}} >{{- $local.text -}}</{{ .name }}> {{- end -}} {{- end -}} {{- /* Takes a map and returns an xml attributes string with escaped values. */ -}} {{- define ""helm-toolkit.utils._xml.attributes"" -}} {{- $local := dict -}} {{- $_ := set $local ""mappings"" list -}} {{- range $key, $value := . -}} {{- if kindIs ""slice"" $value -}} {{- range $item := $value -}} {{- $mapping := dict ""key"" $key ""value"" $item -}} {{- $_ := set $local ""mappings"" (append $local.mappings $mapping) -}} {{- end -}} {{- else -}} {{- $mapping := dict ""key"" $key ""value"" $value -}} {{- $_ := set $local ""mappings"" (append $local.mappings $mapping) -}} {{- end -}} {{- end -}} {{- $_ := set $local ""attrs"" list -}} {{- range $item := $local.mappings -}} {{- $attr := print $item.key ""=\"""" (print $item.value | html) ""\"""" -}} {{- $_ := set $local ""attrs"" (append $local.attrs $attr) -}} {{- end -}} {{- join "" "" $local.attrs -}} {{- end -}} ",,213,0
openstack%2Fopenstack-helm~master~I28366805d4279491c07653acbc0f0cc6a7dd3312,openstack/openstack-helm,master,I28366805d4279491c07653acbc0f0cc6a7dd3312,WIP: Keystone Federation,ABANDONED,2018-06-05 01:16:58.000000000,2020-07-15 19:35:19.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-05 01:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/39acae6e5f622b0b340870bc84cc366258a2f520', 'message': 'WIP: Keystone Federation\n\nChange-Id: I28366805d4279491c07653acbc0f0cc6a7dd3312\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-06-05 01:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/85a8c7fa49949cb7136bcb8829d23339368b4aaa', 'message': 'WIP: Keystone Federation\n\nChange-Id: I28366805d4279491c07653acbc0f0cc6a7dd3312\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-06-05 01:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bb9166e01542a826e07eddb0e8323c5a75c16e5c', 'message': 'WIP: Keystone Federation\n\nChange-Id: I28366805d4279491c07653acbc0f0cc6a7dd3312\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-06-05 13:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/888014388c4192ee8a6c9f9555d347825c645326', 'message': 'WIP: Keystone Federation\n\nChange-Id: I28366805d4279491c07653acbc0f0cc6a7dd3312\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-06-06 15:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1380be789504244891b27c87ded6449ac5975a48', 'message': 'WIP: Keystone Federation\n\nChange-Id: I28366805d4279491c07653acbc0f0cc6a7dd3312\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2018-06-06 23:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4fa3938b590b1e0818b93f3cf3b9b1c96fc5a929', 'message': 'WIP: Keystone Federation\n\nChange-Id: I28366805d4279491c07653acbc0f0cc6a7dd3312\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2018-06-15 22:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b7c2906ef7cc6ff8c7a5118b7b64ede54ee7b657', 'message': 'WIP: Keystone Federation\n\nChange-Id: I28366805d4279491c07653acbc0f0cc6a7dd3312\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2018-07-16 20:09:49.000000000', 'files': ['tools/images/openstack/pike/loci.sh', 'keystone/notes.txt', 'keystone/templates/etc/_wsgi-keystone.conf.tpl', 'keystone/values.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/de2f42a7c965e6679a71b61cba488b63cbc18162', 'message': 'WIP: Keystone Federation\n\nChange-Id: I28366805d4279491c07653acbc0f0cc6a7dd3312\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,572237,de2f42a7c965e6679a71b61cba488b63cbc18162,15,2,8,23928,,,0,"WIP: Keystone Federation

Change-Id: I28366805d4279491c07653acbc0f0cc6a7dd3312
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/572237/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/openstack/pike/loci.sh', 'keystone/templates/etc/_wsgi-keystone.conf.tpl', 'keystone/values.yaml', 'tools/images/openstack/newton/loci.sh']",4,39acae6e5f622b0b340870bc84cc366258a2f520,federation," --build-arg PROFILES=""apache ldap openidc mellon"" \ --tag docker.io/port/keystone:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/port/keystone:${IMAGE_TAG}"," --build-arg PROFILES=""apache ldap"" \ --tag docker.io/openstackhelm/keystone:${IMAGE_TAG} sudo docker exec docker-in-docker docker push docker.io/openstackhelm/keystone:${IMAGE_TAG}",48,13
openstack%2Fopenstack-helm~master~Ic9b2bd9e2e3eb0f7b1d649b6e59d8bf33fa2c6a1,openstack/openstack-helm,master,Ic9b2bd9e2e3eb0f7b1d649b6e59d8bf33fa2c6a1,"Implement Readiness Probe for glance, horizon, keystone and rabbitmq",ABANDONED,2018-07-05 16:52:51.000000000,2020-07-15 19:35:14.000000000,,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24816}, {'_account_id': 28162}, {'_account_id': 28587}, {'_account_id': 28620}]","[{'number': 1, 'created': '2018-07-05 16:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1a35bc243d64403a19dfb9b129f577bd872536b7', 'message': 'Implement Readiness Probe for glance, horizon, keystone and rabbitmq\n\nChange-Id: Ic9b2bd9e2e3eb0f7b1d649b6e59d8bf33fa2c6a1\n'}, {'number': 2, 'created': '2018-07-06 22:55:28.000000000', 'files': ['glance/templates/deployment-registry.yaml', 'horizon/templates/deployment.yaml', 'keystone/templates/deployment-api.yaml', 'glance/templates/deployment-api.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/38e5daa1bd129c7450975e77a5fa763564892b5e', 'message': 'Implement Readiness Probe for glance, horizon, keystone and rabbitmq\n\nChange-Id: Ic9b2bd9e2e3eb0f7b1d649b6e59d8bf33fa2c6a1\n'}]",2,580448,38e5daa1bd129c7450975e77a5fa763564892b5e,12,8,2,28620,,,0,"Implement Readiness Probe for glance, horizon, keystone and rabbitmq

Change-Id: Ic9b2bd9e2e3eb0f7b1d649b6e59d8bf33fa2c6a1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/580448/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/deployment-registry.yaml', 'horizon/templates/deployment.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'glance/values.yaml', 'rabbitmq/values.yaml', 'horizon/values.yaml', 'rabbitmq/templates/statefulset.yaml']",9,1a35bc243d64403a19dfb9b129f577bd872536b7,readinessProbe, initialDelaySeconds: {{ .Values.pod.readiness.init_delay_seconds }} timeoutSeconds: {{ .Values.pod.readiness.period_seconds }}, initialDelaySeconds: 10 timeoutSeconds: 10,23,6
openstack%2Fopenstack-helm~master~If807bfa88f467f714336d09d5ac26f947ab46dc9,openstack/openstack-helm,master,If807bfa88f467f714336d09d5ac26f947ab46dc9,RFC: Ceph Lock Reaper for offline nodes,ABANDONED,2018-05-01 18:21:14.000000000,2020-07-15 19:35:10.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28025}]","[{'number': 1, 'created': '2018-05-01 18:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1b4e4896d39caa709d23bced4a6ef2e6654f8594', 'message': 'RFC: Ceph Lock Reaper for offline nodes\n\nChange-Id: If807bfa88f467f714336d09d5ac26f947ab46dc9\n'}, {'number': 2, 'created': '2018-05-01 18:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a42f1c854ed8ac69e23c08fd3980c49b3da6bec', 'message': 'RFC: Ceph Lock Reaper for offline nodes\n\nChange-Id: If807bfa88f467f714336d09d5ac26f947ab46dc9\n'}, {'number': 3, 'created': '2018-05-01 21:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/df20d011389d632173e1a5f0b009f7f21b185919', 'message': 'RFC: Ceph Lock Reaper for offline nodes\n\nChange-Id: If807bfa88f467f714336d09d5ac26f947ab46dc9\n'}, {'number': 4, 'created': '2018-05-02 00:32:49.000000000', 'files': ['ceph-mon/templates/bin/lockcheck/_reap-locks.py.tpl', 'ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/templates/deployment-lockcheck.yaml', 'ceph-mon/templates/bin/lockcheck/_start.sh.tpl', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/abd16d4ff31e41332dda6873668267aeceb352dc', 'message': 'RFC: Ceph Lock Reaper for offline nodes\n\nChange-Id: If807bfa88f467f714336d09d5ac26f947ab46dc9\n'}]",14,565553,abd16d4ff31e41332dda6873668267aeceb352dc,14,6,4,7769,,,0,"RFC: Ceph Lock Reaper for offline nodes

Change-Id: If807bfa88f467f714336d09d5ac26f947ab46dc9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/53/565553/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/templates/bin/lockcheck/_reap-locks.py.tpl', 'ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/templates/deployment-lockcheck.yaml', 'ceph-mon/templates/bin/lockcheck/_start.sh.tpl', 'ceph-mon/values.yaml']",5,1b4e4896d39caa709d23bced4a6ef2e6654f8594,fix-alans-mess," ceph_lock_check: 'quay.io/attcomdev/ceph-lock-checker:v1.0' lockcheck: node_selector_key: ceph-mon node_selector_value: enabled lock_check: requests: memory: ""5Mi"" cpu: ""250m"" limits: memory: ""50Mi"" cpu: ""500m"" lockcheck: # we will only consider a lock for forced # removal by the lockcheck deployment which # continually scans for offline nodes if its # age is greater than stale_age seconds below stale_age: 60 deployment_lockcheck: true",,324,0
openstack%2Fopenstack-helm~master~I5acfc4985ae656d4bc151bd8178a4beb4a78ec53,openstack/openstack-helm,master,I5acfc4985ae656d4bc151bd8178a4beb4a78ec53,wip: tempest: enable nova and neutron,ABANDONED,2018-07-10 06:57:13.000000000,2020-07-15 19:35:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-07-10 06:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ac752c037e059c49dbdcb8c2bd8d5888c38a927b', 'message': 'wip: tempest: enable nova and neutron\n\nChange-Id: I5acfc4985ae656d4bc151bd8178a4beb4a78ec53\n'}, {'number': 2, 'created': '2018-07-10 18:36:33.000000000', 'files': ['tools/deployment/multinode/900-tempest.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e14852658673411374f04fd2e1dea5076de8eb64', 'message': 'wip: tempest: enable nova and neutron\n\nChange-Id: I5acfc4985ae656d4bc151bd8178a4beb4a78ec53\n'}]",0,581220,e14852658673411374f04fd2e1dea5076de8eb64,11,2,2,23186,,,0,"wip: tempest: enable nova and neutron

Change-Id: I5acfc4985ae656d4bc151bd8178a4beb4a78ec53
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/20/581220/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/multinode/900-tempest.sh', 'tempest/values.yaml']",2,ac752c037e059c49dbdcb8c2bd8d5888c38a927b,tempest, tempest run --smoke --regex, tempest run --smoke,4,1
openstack%2Fopenstack-helm~master~Ifb1a54aea12b9f9def56cb8fabb0019b0d194a98,openstack/openstack-helm,master,Ifb1a54aea12b9f9def56cb8fabb0019b0d194a98,WIP: Make tempest zuul job single node,ABANDONED,2018-07-10 18:55:18.000000000,2020-07-15 19:35:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-07-10 18:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c68d5439c8dcbdce0f3fd8512f310b804557f8b8', 'message': 'WIP: Make tempest zuul job single node\n\nChange-Id: Ifb1a54aea12b9f9def56cb8fabb0019b0d194a98\n'}, {'number': 2, 'created': '2018-07-10 18:56:35.000000000', 'files': ['tools/gate/playbooks/tempest-deploy.yaml', 'tools/deployment/developer/nfs/1000-tempest.sh', '.zuul.yaml', 'tools/gate/playbooks/multinode-tempest-deploy.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/778e4b7fa1b2bd08b0e7530f7516f48d6669e9ab', 'message': 'WIP: Make tempest zuul job single node\n\nChange-Id: Ifb1a54aea12b9f9def56cb8fabb0019b0d194a98\n'}]",0,581450,778e4b7fa1b2bd08b0e7530f7516f48d6669e9ab,7,2,2,23186,,,0,"WIP: Make tempest zuul job single node

Change-Id: Ifb1a54aea12b9f9def56cb8fabb0019b0d194a98
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/581450/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/tempest-deploy.yaml', 'tools/deployment/developer/nfs/1000-tempest.sh', '.zuul.yaml', 'tools/gate/playbooks/multinode-tempest-deploy.yaml']",4,c68d5439c8dcbdce0f3fd8512f310b804557f8b8,tempest,,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - hosts: primary tasks: - name: Setup OS and K8s Clients shell: | set -xe; ./tools/deployment/multinode/010-setup-client.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Ingress shell: | set -xe; ./tools/deployment/multinode/020-ingress.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Ceph shell: | set -xe; ./tools/deployment/multinode/030-ceph.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Setup openstack namespace for ceph shell: | set -xe; ./tools/deployment/multinode/040-ceph-ns-activate.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy MariaDB shell: | set -xe; ./tools/deployment/multinode/050-mariadb.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy RabbitMQ shell: | set -xe; ./tools/deployment/multinode/060-rabbitmq.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Memcached shell: | set -xe; ./tools/deployment/multinode/070-memcached.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Keystone shell: | set -xe; ./tools/deployment/multinode/080-keystone.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Keystone RadosGW endpoints and user shell: | set -xe; ./tools/deployment/multinode/090-ceph-radosgateway.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Glance shell: | set -xe; ./tools/deployment/multinode/100-glance.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Cinder shell: | set -xe; ./tools/deployment/multinode/110-cinder.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy OpenVswitch shell: | set -xe; ./tools/deployment/multinode/120-openvswitch.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Libvirt shell: | set -xe; ./tools/deployment/multinode/130-libvirt.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy ComputeKit shell: | set -xe; ./tools/deployment/multinode/140-compute-kit.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Heat shell: | set -xe; ./tools/deployment/multinode/150-heat.sh args: chdir: ""{{ zuul.project.src_dir }}"" - name: Deploy Tempest shell: | set -xe; ./tools/deployment/multinode/900-tempest.sh args: chdir: ""{{ zuul.project.src_dir }}"" ",168,116
openstack%2Fopenstack-helm~master~Icbba77731db754606017a817d56a6cec89edc78e,openstack/openstack-helm,master,Icbba77731db754606017a817d56a6cec89edc78e,Ceph: Update provisioner bin configmap to contain all scripts,ABANDONED,2018-07-06 15:51:36.000000000,2020-07-15 19:34:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-06 15:51:36.000000000', 'files': ['ceph-client/templates/deployment-rbd-provisioner.yaml', 'ceph-client/templates/configmap-bin-provisioner.yaml', 'ceph-client/templates/deployment-cephfs-provisioner.yaml', 'ceph-client/templates/configmap-bin.yaml', 'ceph-client/templates/job-cephfs-client-key.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/10180a7d73b50ba1378f226e3507770313d7031f', 'message': 'Ceph: Update provisioner bin configmap to contain all scripts\n\nThis PS moves the provisioner scripts to the provisioner bin configmap\n\nChange-Id: Icbba77731db754606017a817d56a6cec89edc78e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,580707,10180a7d73b50ba1378f226e3507770313d7031f,3,1,1,23928,,,0,"Ceph: Update provisioner bin configmap to contain all scripts

This PS moves the provisioner scripts to the provisioner bin configmap

Change-Id: Icbba77731db754606017a817d56a6cec89edc78e
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/07/580707/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/deployment-rbd-provisioner.yaml', 'ceph-client/templates/configmap-bin-provisioner.yaml', 'ceph-client/templates/deployment-cephfs-provisioner.yaml', 'ceph-client/templates/configmap-bin.yaml', 'ceph-client/templates/job-cephfs-client-key.yaml']",5,10180a7d73b50ba1378f226e3507770313d7031f,ceph/provisioner-scripts, - name: ceph-client-bin-provisioner - name: ceph-client-bin-provisioner configMap: name: ceph-client-bin-provisioner, - name: ceph-client-bin - name: ceph-client-bin configMap: name: ceph-client-bin,15,16
openstack%2Fopenstack-helm~master~I020b1161925cedc7837d4fbb3d4e02fcaf3f4f7d,openstack/openstack-helm,master,I020b1161925cedc7837d4fbb3d4e02fcaf3f4f7d,auto recovery when all mariadb crashed,ABANDONED,2017-11-24 07:22:36.000000000,2020-07-15 19:34:52.000000000,,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-24 07:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/abfef34388bddc3648cb8cc7f8be6ba42c5d076a', 'message': ""auto recovery when all mariadb crashed\n\nWhen all mariadb galera cluster is down, it will not be recovered automatically.\nBecause mariadb data exits.\n\nThis PS modify start.sh script to set safe_to_bootsrap as 1.\nIt'll make mariadb restart automatically without any problem.\n\nChange-Id: I020b1161925cedc7837d4fbb3d4e02fcaf3f4f7d\n""}, {'number': 2, 'created': '2017-12-05 06:08:07.000000000', 'files': ['mariadb/templates/bin/_liveness.sh.tpl', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/bin/_readiness.sh.tpl', 'mariadb/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/66967e5fc8392fd57fb56ac00cb4421ba9452b12', 'message': ""auto recovery when all mariadb crashed\n\nWhen all mariadb galera cluster is down, it will not be recovered automatically.\nBecause mariadb data exists.\n\nFirst, Logging recovery position with recovery option.\nSecond, Mariadb starts with read_only mode and save it's own position value.\nThirtd, Using liveness find out mariadb which has max position,\nand restart that mariadb with new-cluster option and set safe_to_bootsrap as 1.\n\nIt'll make mariadb restart automatically without any problem.\n\nChange-Id: I020b1161925cedc7837d4fbb3d4e02fcaf3f4f7d\n""}]",1,522729,66967e5fc8392fd57fb56ac00cb4421ba9452b12,10,5,2,16513,,,0,"auto recovery when all mariadb crashed

When all mariadb galera cluster is down, it will not be recovered automatically.
Because mariadb data exists.

First, Logging recovery position with recovery option.
Second, Mariadb starts with read_only mode and save it's own position value.
Thirtd, Using liveness find out mariadb which has max position,
and restart that mariadb with new-cluster option and set safe_to_bootsrap as 1.

It'll make mariadb restart automatically without any problem.

Change-Id: I020b1161925cedc7837d4fbb3d4e02fcaf3f4f7d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/522729/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.sh.tpl'],1,abfef34388bddc3648cb8cc7f8be6ba42c5d076a,bp/mariadb_auto_recovery,"check_running_mariadb() { for num in $(seq 0 $(expr ""${MARIADB_REPLICAS}"" - 1)); do host=""${SERVICE_NAME}-${num}.${DISCOVERY_SERVICE_NAME}"" hostname=$(mysql --defaults-file=/etc/mysql/admin_user.cnf \ --connect-timeout 2 --host=""${host}"" \ -e ""select @@hostname"" | grep ""${SERVICE_NAME}"") if [ ""${host}"" == ""${hostname}.${DISCOVERY_SERVICE_NAME}"" ]; then return 0 fi done return 1 } elif ! check_running_mariadb ; then if [ ""x${POD_NAME}"" = ""x${SERVICE_NAME}-0"" ]; then CLUSTER_INIT_ARGS=--wsrep-new-cluster fi sed -i 's/^safe_to_bootstrap:.*/safe_to_bootstrap: 1/' /var/lib/mysql/grastate.dat || :",,18,0
openstack%2Fopenstack-helm-infra~master~I6bbcccb28e0972fced75891d4d8940beb2e26f44,openstack/openstack-helm-infra,master,I6bbcccb28e0972fced75891d4d8940beb2e26f44,Fix namespace value for prom-metrics,ABANDONED,2018-06-21 08:30:29.000000000,2020-07-15 19:34:46.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 28507}]","[{'number': 1, 'created': '2018-06-21 08:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/74b422b5f3b07103725f91ba03c7a6a49c479f05', 'message': 'Fix namespace value for prom-metris\n\nUse osh-infra instead of openstack\n\nChange-Id: I6bbcccb28e0972fced75891d4d8940beb2e26f44\n'}, {'number': 2, 'created': '2018-06-21 08:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a2165c1ee8114440c2cfb3c5b1f42e5963e62de1', 'message': 'Fix namespace value for prom-metris\n\nUse osh-infra instead of openstack\n\nChange-Id: I6bbcccb28e0972fced75891d4d8940beb2e26f44\n'}, {'number': 3, 'created': '2018-06-21 08:34:51.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/39d569083d323d4c1e000950d23362a223b2c0fe', 'message': 'Fix namespace value for prom-metrics\n\nUse osh-infra instead of openstack\n\nChange-Id: I6bbcccb28e0972fced75891d4d8940beb2e26f44\n'}]",0,577092,39d569083d323d4c1e000950d23362a223b2c0fe,8,3,3,28507,,,0,"Fix namespace value for prom-metrics

Use osh-infra instead of openstack

Change-Id: I6bbcccb28e0972fced75891d4d8940beb2e26f44
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/577092/3 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,74b422b5f3b07103725f91ba03c7a6a49c479f05,, url: 'http://prom-metrics.osh-infra.svc.cluster.local:9090', url: 'http://prom-metrics.openstack.svc.cluster.local:9090',1,1
openstack%2Fnova~stable%2Fqueens~I53ef1fb6a612fc55fa60f3a50f8710c8bf5caba4,openstack/nova,stable/queens,I53ef1fb6a612fc55fa60f3a50f8710c8bf5caba4,"libvirt: Fix misleading debug msg ""Instance is running""",MERGED,2020-06-02 15:28:06.000000000,2020-07-15 19:29:58.000000000,2020-07-15 19:29:58.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-02 15:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cf17fc5270a7af22fb24ed1a2c50017d0d2b363', 'message': 'libvirt: Fix misleading debug msg ""Instance is running""\n\nWe were logging ""Instance is running"" after guest creation, but\nbefore the instance is running. The log message we emit when the\ninstance is actually running is ""Instance spawned successfully"".\n\nChange-Id: I53ef1fb6a612fc55fa60f3a50f8710c8bf5caba4\n(cherry picked from commit 339c29f98051edac3f3ee63f1fd6887c5fc08d2e)\n'}, {'number': 2, 'created': '2020-06-09 16:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8cbb29d0e65a01a6a2d69ceae1528ec876be3f1', 'message': 'libvirt: Fix misleading debug msg ""Instance is running""\n\nWe were logging ""Instance is running"" after guest creation, but\nbefore the instance is running. The log message we emit when the\ninstance is actually running is ""Instance spawned successfully"".\n\nChange-Id: I53ef1fb6a612fc55fa60f3a50f8710c8bf5caba4\n(cherry picked from commit 339c29f98051edac3f3ee63f1fd6887c5fc08d2e)\n'}, {'number': 3, 'created': '2020-07-15 12:01:50.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4bffe4804a37812bc9ec44fac21be43c218c2f15', 'message': 'libvirt: Fix misleading debug msg ""Instance is running""\n\nWe were logging ""Instance is running"" after guest creation, but\nbefore the instance is running. The log message we emit when the\ninstance is actually running is ""Instance spawned successfully"".\n\nChange-Id: I53ef1fb6a612fc55fa60f3a50f8710c8bf5caba4\n(cherry picked from commit 339c29f98051edac3f3ee63f1fd6887c5fc08d2e)\n'}]",0,732716,4bffe4804a37812bc9ec44fac21be43c218c2f15,26,10,3,10135,,,0,"libvirt: Fix misleading debug msg ""Instance is running""

We were logging ""Instance is running"" after guest creation, but
before the instance is running. The log message we emit when the
instance is actually running is ""Instance spawned successfully"".

Change-Id: I53ef1fb6a612fc55fa60f3a50f8710c8bf5caba4
(cherry picked from commit 339c29f98051edac3f3ee63f1fd6887c5fc08d2e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/732716/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,6cf17fc5270a7af22fb24ed1a2c50017d0d2b363,bug/1550919," LOG.debug(""Guest created on hypervisor"", instance=instance)"," LOG.debug(""Instance is running"", instance=instance)",1,1
openstack%2Fopenstack-helm-infra~master~I14bf6ed38e6930701e2c10530d7a49683383d35d,openstack/openstack-helm-infra,master,I14bf6ed38e6930701e2c10530d7a49683383d35d,DNM: gate tests,ABANDONED,2018-06-10 02:35:21.000000000,2020-07-15 19:29:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-06-10 02:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5b400a0604d9064764f81ea2cff8725a87c95e5', 'message': 'DNM: gate tests\n\nChange-Id: I14bf6ed38e6930701e2c10530d7a49683383d35d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-06-10 02:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f374d142e6635794a3ceb6673d7c7e97a131a948', 'message': 'DNM: gate tests\n\nChange-Id: I14bf6ed38e6930701e2c10530d7a49683383d35d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-06-10 02:58:08.000000000', 'files': ['roles/deploy-kubeadm-aio-node/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cdfa9a767a04ba047b3f18977ead8b98bff21529', 'message': 'DNM: gate tests\n\nChange-Id: I14bf6ed38e6930701e2c10530d7a49683383d35d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,574065,cdfa9a767a04ba047b3f18977ead8b98bff21529,5,1,3,23928,,,0,"DNM: gate tests

Change-Id: I14bf6ed38e6930701e2c10530d7a49683383d35d
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/574065/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'roles/deploy-kubeadm-aio-node/tasks/main.yaml']",2,f5b400a0604d9064764f81ea2cff8725a87c95e5,gate-exp," command: echo ""Ready""","- name: deploying kubelet and support assets to node include_role: name: deploy-kubeadm-aio-common tasks_from: main - name: generating the kubeadm join command for the node include: util-generate-join-command.yaml delegate_to: ""{{ kube_master }}"" - name: joining node to kubernetes cluster vars: kubeadm_aio_action: join-kube kubeadm_aio_join_command: ""{{ kubeadm_cluster_join_command }}"" include: util-run-join-command.yaml command: kubectl get node ""{{ ansible_fqdn }}"" -o jsonpath=""{$.status.conditions[?(@.reason=='KubeletReady')]['type']}""",1,19
openstack%2Fopenstack-helm-addons~master~I38bf97c4c7afc9324de7aa41f8143351e20ddb82,openstack/openstack-helm-addons,master,I38bf97c4c7afc9324de7aa41f8143351e20ddb82,WIP: Chart: Gerrit,ABANDONED,2018-06-04 02:48:22.000000000,2020-07-15 19:29:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-06-04 02:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/54073a9005346599be19556957ce585b281c8a57', 'message': 'WIP: Chart: Gerrit\n\nChange-Id: I38bf97c4c7afc9324de7aa41f8143351e20ddb82\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-06-08 21:14:31.000000000', 'files': ['gerrit/templates/ingress-api.yaml', 'gerrit/templates/bin/_bootstrap.sh.tpl', 'gerrit/values.yaml', 'gerrit/templates/configmap-etc.yaml', 'gerrit/tmp/Dockerfile', 'gerrit/templates/configmap-bin.yaml', 'gerrit/templates/job-bootstrap.yaml', 'gerrit/templates/job-db-init.yaml', 'gerrit/templates/service-ingress-api.yaml', 'gerrit/templates/job-db-drop.yaml', 'gerrit/requirements.yaml', 'gerrit/templates/bin/_gerrit.sh.tpl', 'gerrit/Chart.yaml', 'gerrit/templates/pdb-api.yaml', 'gerrit/templates/service-api.yaml', 'gerrit/templates/utils/_to_gerrit_conf.tpl', 'gerrit/templates/job-image-repo-sync.yaml', 'gerrit/templates/secret-db.yaml', 'gerrit/templates/statefulset-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c470f5bd61a708f9d278fd0853bb9aac2127ad4a', 'message': 'WIP: Chart: Gerrit\n\nChange-Id: I38bf97c4c7afc9324de7aa41f8143351e20ddb82\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,572002,c470f5bd61a708f9d278fd0853bb9aac2127ad4a,5,1,2,23928,,,0,"WIP: Chart: Gerrit

Change-Id: I38bf97c4c7afc9324de7aa41f8143351e20ddb82
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/02/572002/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/templates/ingress-api.yaml', 'gerrit/templates/bin/_bootstrap.sh.tpl', 'gerrit/values.yaml', 'gerrit/templates/configmap-etc.yaml', 'gerrit/tmp/Dockerfile', 'gerrit/templates/configmap-bin.yaml', 'gerrit/templates/job-bootstrap.yaml', 'gerrit/templates/job-db-init.yaml', 'gerrit/templates/service-ingress-api.yaml', 'gerrit/templates/job-db-drop.yaml', 'gerrit/requirements.yaml', 'gerrit/templates/bin/_gerrit.sh.tpl', 'gerrit/Chart.yaml', 'gerrit/templates/pdb-api.yaml', 'gerrit/templates/service-api.yaml', 'gerrit/templates/job-image-repo-sync.yaml', 'gerrit/templates/secret-db.yaml', 'gerrit/templates/statefulset-api.yaml']",18,54073a9005346599be19556957ce585b281c8a57,gerrit,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.statefulset_api }} {{- $envAll := . }} {{- $mounts_gerrit_api := .Values.pod.mounts.gerrit_api.gerrit_api }} {{- $mounts_gerrit_api_init := .Values.pod.mounts.gerrit_api.init_container }} {{- $serviceAccountName := ""gerrit-api"" }} {{ tuple $envAll ""api"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: apps/v1beta1 kind: StatefulSet metadata: name: gerrit-api spec: serviceName: {{ tuple ""code-review"" ""internal"" . | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }} replicas: {{ .Values.pod.replicas.api }} {{ tuple $envAll | include ""helm-toolkit.snippets.kubernetes_upgrades_deployment"" | indent 2 }} template: metadata: labels: {{ tuple $envAll ""gerrit"" ""api"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: configmap-bin-hash: {{ tuple ""configmap-bin.yaml"" . | include ""helm-toolkit.utils.hash"" }} configmap-etc-hash: {{ tuple ""configmap-etc.yaml"" . | include ""helm-toolkit.utils.hash"" }} spec: serviceAccountName: {{ $serviceAccountName }} affinity: {{ tuple $envAll ""gerrit"" ""api"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} nodeSelector: {{ .Values.labels.api.node_selector_key }}: {{ .Values.labels.api.node_selector_value }} initContainers: {{ tuple $envAll ""api"" $mounts_gerrit_api_init | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} - name: gerrit-perms {{ tuple $envAll ""gerrit_api"" | include ""helm-toolkit.snippets.image"" | indent 10 }} securityContext: runAsUser: 0 {{ tuple $envAll $envAll.Values.pod.resources.api | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - chown - -R - ""gerrit:gerrit"" - /var/gerrit/git volumeMounts: - name: gerrit-git mountPath: /var/gerrit/git containers: - name: gerrit-api {{ tuple $envAll ""gerrit_api"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.api | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} # securityContext: # runAsUser: {{ .Values.pod.user.gerrit.uid }} command: - /tmp/gerrit.sh - start lifecycle: preStop: exec: command: - /tmp/gerrit.sh - stop ports: - name: b-api containerPort: {{ tuple ""code_review"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} - name: g-ssh containerPort: {{ tuple ""code-review"" ""internal"" ""sshd"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} readinessProbe: tcpSocket: port: {{ tuple ""code_review"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} volumeMounts: - name: gerrit-git mountPath: /var/gerrit/git # - name: index-gerrit # mountPath: /var/gerrit/index # - name: cache-gerrit # mountPath: /var/gerrit/cache # - name: db-gerrit # mountPath: /var/gerrit/db # - name: etc-gerrit # mountPath: /var/gerrit/etc - name: gerrit-bin mountPath: /tmp/gerrit.sh subPath: gerrit.sh readOnly: true - name: gerrit-etc mountPath: /tmp/gerrit/etc/gerrit.config subPath: gerrit.config readOnly: true - name: gerrit-etc mountPath: /tmp/gerrit/etc/secure.config subPath: secure.config readOnly: true {{ if $mounts_gerrit_api.volumeMounts }}{{ toYaml $mounts_gerrit_api.volumeMounts | indent 12 }}{{ end }} volumes: # - name: index-gerrit # emptyDir: {} # - name: cache-gerrit # emptyDir: {} # - name: db-gerrit # emptyDir: {} # - name: etc-gerrit # emptyDir: {} - name: gerrit-etc configMap: name: gerrit-etc defaultMode: 0444 - name: gerrit-bin configMap: name: gerrit-bin defaultMode: 0555 {{ if $mounts_gerrit_api.volumes }}{{ toYaml $mounts_gerrit_api.volumes | indent 8 }}{{ end }} volumeClaimTemplates: - metadata: name: gerrit-git spec: accessModes: [ ""ReadWriteOnce"" ] resources: requests: storage: {{ .Values.volume.size }} storageClassName: {{ .Values.volume.class_name }} {{- end }} ",,810,0
openstack%2Fopenstack-helm~master~I1da1753eb6a5d4a3a662268060fb67bdc7ff0a1a,openstack/openstack-helm,master,I1da1753eb6a5d4a3a662268060fb67bdc7ff0a1a,first commit: resiliency tests,ABANDONED,2018-05-24 20:25:11.000000000,2020-07-15 19:29:45.000000000,,"[{'_account_id': 8898}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28165}]","[{'number': 1, 'created': '2018-05-24 20:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a44393be20c66840456b7353b5fede7b4d8f7a33', 'message': 'first commit: resiliency tests\n\nChange-Id: I1da1753eb6a5d4a3a662268060fb67bdc7ff0a1a\n'}, {'number': 2, 'created': '2018-05-24 20:51:20.000000000', 'files': ['doc/source/ceph-resiliency/monitor-failure.rst', 'doc/source/ceph-resiliency/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/581432bef1919ddf89b055bc53e6af5c164ad542', 'message': 'first commit: resiliency tests\n\nChange-Id: I1da1753eb6a5d4a3a662268060fb67bdc7ff0a1a\n'}]",4,570441,581432bef1919ddf89b055bc53e6af5c164ad542,9,5,2,28212,,,0,"first commit: resiliency tests

Change-Id: I1da1753eb6a5d4a3a662268060fb67bdc7ff0a1a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/41/570441/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ceph-resiliency/README.rst'],1,a44393be20c66840456b7353b5fede7b4d8f7a33,osd-doc-updates,======================================== Resiliency Tests for OpenStack-Helm/Ceph ======================================== Mission ======= The goal of our resiliency tests for `OpenStack-Helm/Ceph <https://github.com/openstack/openstack-helm/tree/master/ceph>`_ is to show symptoms of software/hardware failure and provide the solutions. * Caveats: - Our focus lies on resiliency for various failure scenarioes but not on performance or stress testing. Software Failure ================ * `Monitor failure <./monitor-failure.rst>`_ * `OSD failure <./osd-failure.rst>`_ * `Miscellaneous <./miscellaneous-failure.rst>`_ Hardware Failure ================ * Disk failure * Host failure ,,23,0
openstack%2Fopenstack-helm-infra~master~Ieca9ac52bbde606f745cb951fc7b71ceaa505ea5,openstack/openstack-helm-infra,master,Ieca9ac52bbde606f745cb951fc7b71ceaa505ea5,WIP: Self-Hosted reboot,ABANDONED,2018-05-15 03:10:09.000000000,2020-07-15 19:29:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-15 03:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f9eee87e26289afabd5ad2b461d4b4a697b1225', 'message': 'WIP: Self-Hosted reboot\n\nChange-Id: Ieca9ac52bbde606f745cb951fc7b71ceaa505ea5\n'}, {'number': 2, 'created': '2018-05-15 14:55:27.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/templates/kube-selfhosted-recovery', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/templates/kubeadm-self-hosted-recovery.service.j2', 'roles/deploy-kubeadm-aio-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a6026ac10eefea43112d31482363ef6b92d69fb', 'message': 'WIP: Self-Hosted reboot\n\nChange-Id: Ieca9ac52bbde606f745cb951fc7b71ceaa505ea5\n'}]",0,568425,2a6026ac10eefea43112d31482363ef6b92d69fb,5,1,2,23928,,,0,"WIP: Self-Hosted reboot

Change-Id: Ieca9ac52bbde606f745cb951fc7b71ceaa505ea5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/568425/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/templates/kube-selfhosted-recovery', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/templates/kubeadm-self-hosted-recovery.service.j2', 'roles/deploy-kubeadm-aio-common/defaults/main.yml']",3,8f9eee87e26289afabd5ad2b461d4b4a697b1225,kubeadm/deploy,kubernetes_selfhosted: true,kubernetes_selfhosted: false,90,1
openstack%2Fopenstack-helm~master~If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701,openstack/openstack-helm,master,If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701,WIP: Bootstrap: heat,ABANDONED,2018-03-23 20:53:29.000000000,2020-07-15 19:29:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-23 20:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/07e6003e236e11606d0fb7334889cce6fef9cb81', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 2, 'created': '2018-03-23 21:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8faca75386072cfb4a6517f179fc022a287e212', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 3, 'created': '2018-03-26 14:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2a41ef8e286d0ae1d0a4fe8a9a30f135c1322db', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 4, 'created': '2018-03-26 14:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/763ed9fd1d591f63e17ca2f310d058e52ab0d91b', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 5, 'created': '2018-03-26 16:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d0179bd9d6e4ef63fb72211a9f95c7024e9c4fe3', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 6, 'created': '2018-03-26 16:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1e798e033d5f33f1c8f2cf9551cb0e8a25750b5c', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 7, 'created': '2018-03-26 22:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2dec2258940094407e245e26ad5e56a73417d517', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 8, 'created': '2018-03-27 00:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ddab116e8926212a6f572bfc7c8f0848bfe0c7b5', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 9, 'created': '2018-03-27 01:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b60c8fcb4da48b46a01e2b4e7c6dfd7aae573d17', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 10, 'created': '2018-03-27 02:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/45163478d5b54ea44bbb9c5c6529da3baebf5f04', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 11, 'created': '2018-03-27 02:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6e24744efd11058304f0981f9d61222e7dbde4c', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 12, 'created': '2018-03-27 04:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f2774231c3089bb9621c197dcbcf5da12599c873', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 13, 'created': '2018-03-27 14:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1f744ebcb2520de3b2615d6addc37184b7483c08', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 14, 'created': '2018-03-28 06:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1939e3ae28c1d273117de732a70a03c44d5e082', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 15, 'created': '2018-04-26 22:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/070422ab9614161aefcd09d8074dca3489b683dd', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 16, 'created': '2018-04-26 23:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cf903b7167625250a0cde3dd9808bb39c76b44d0', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 17, 'created': '2018-04-27 17:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8c4efaac9e8af96e62ae7544294987d885b8287e', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}, {'number': 18, 'created': '2018-04-27 17:09:14.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'keystone/templates/configmap-etc.yaml', 'ironic/templates/bin/_bootstrap.sh.tpl', 'ironic/templates/configmap-bin.yaml', 'tools/gate/files/heat-subnet-pool-deployment.yaml', 'nova/templates/configmap-etc.yaml', 'helm-toolkit/templates/manifests/_job-bootstrap.yaml', 'helm-toolkit/templates/utils/_dependency_resolver.tpl', 'tools/deployment/baremetal/090-heat.sh', 'glance/values.yaml', 'keystone/templates/configmap-bin.yaml', 'tools/deployment/developer/ceph/160-compute-kit.sh', 'tools/deployment/armada/multinode/armada-osh.yaml', 'tools/gate/playbooks/ironic-deploy.yaml', 'ironic/templates/configmap-etc.yaml', 'helm-toolkit/templates/snippets/_kubernetes_bootstrap_scripts.tpl', 'heat/templates/configmap-etc.yaml', 'glance/templates/configmap-bin.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/templates/configmap-etc.yaml', 'helm-toolkit/templates/snippets/_kubernetes_bootstrap_heat_template.tpl', 'nova/templates/bin/_bootstrap.sh.tpl', 'heat/values.yaml', 'neutron/templates/bin/_bootstrap.sh.tpl', 'cinder/values.yaml', 'tools/gate/files/heat-public-net-deployment.yaml', 'glance/templates/bin/_bootstrap.sh.tpl', 'keystone/templates/bin/_bootstrap.sh.tpl', 'glance/templates/configmap-etc.yaml', 'helm-toolkit/templates/scripts/_bootstrap-script.sh.tpl', 'helm-toolkit/templates/scripts/_bootstrap-heat.sh.tpl', 'tools/deployment/multinode/085-heat.sh', 'cinder/templates/configmap-bin.yaml', 'doc/source/install/multinode.rst', 'neutron/templates/configmap-bin.yaml', 'tools/deployment/baremetal/100-glance.sh', 'nova/values.yaml', 'tools/gate/playbooks/multinode-deploy.yaml', 'tools/deployment/developer/common/900-use-it.sh', 'heat/templates/configmap-bin.yaml', 'neutron/values.yaml', 'tools/deployment/developer/nfs/160-compute-kit.sh', 'nova/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f176b2dd1a89bbbb72f321274dade5a972a98ac5', 'message': 'WIP: Bootstrap: heat\n\nChange-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701\n'}]",0,555932,f176b2dd1a89bbbb72f321274dade5a972a98ac5,26,1,18,23928,,,0,"WIP: Bootstrap: heat

Change-Id: If5d9c4bd03bee694edf69f8ccb53e6c6d48cf701
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/555932/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/configmap-etc.yaml', 'helm-toolkit/templates/manifests/_job-bootstrap.yaml', 'nova/templates/job-bootstrap.yaml', 'nova/values.yaml', 'helm-toolkit/templates/scripts/_bootstrap_heat.sh.tpl', 'nova/templates/configmap-bin.yaml']",6,07e6003e236e11606d0fb7334889cce6fef9cb81,heat/bootstrap,"{{- if .Values.bootstrap.heat }} bootstrap-heat.sh: | {{ include ""helm-toolkit.scripts.bootstrap_heat"" . | indent 4 }} {{- end }}",,105,2
openstack%2Fopenstack-helm~master~Icfc640b3eb8112b945b18cb7c372d17af22112be,openstack/openstack-helm,master,Icfc640b3eb8112b945b18cb7c372d17af22112be,fix glance fails to load metadefs,ABANDONED,2018-04-23 13:02:27.000000000,2020-07-15 19:29:29.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25050}]","[{'number': 1, 'created': '2018-04-23 13:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86a94ce8f694f9407895b4f35d0826a7c48a3b21', 'message': 'fix glance fails to load metadefs\n\nThere are some tempest failures related to metadata definition.\nIt is result from that there is no metadata definitions in Glance\ndb.\nThis patch will load default metadata definitions into Glance.\n\n* add ""glance-manage db_load_metadefs"" in _db-sync.sh.tpl\n* The mountpoint /etc/glance of volume \'etc-service\' make\n/etc/glance/metadefs disappeared, which leads to load metadefs failure.\n\'etc-service\' volume is useless here ,so remove it\n\nChange-Id: Icfc640b3eb8112b945b18cb7c372d17af22112be\n'}, {'number': 2, 'created': '2018-04-23 13:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb2f474568db03a477a65c4a20fbe56763c8d815', 'message': 'fix glance fails to load metadefs\n\nThere are some tempest failures related to metadata definition.\nIt is result from that there is no metadata definitions in Glance\ndb.\nThis patch will load default metadata definitions into Glance.\n\n* add ""glance-manage db_load_metadefs"" in _db-sync.sh.tpl\n* The mountpoint /etc/glance of volume \'etc-service\' make\n/etc/glance/metadefs disappeared, which leads to load metadefs failure.\n\'etc-service\' volume is useless here ,so remove it\n\nChange-Id: Icfc640b3eb8112b945b18cb7c372d17af22112be\n'}, {'number': 3, 'created': '2018-04-25 03:43:32.000000000', 'files': ['helm-toolkit/templates/manifests/_job-db-sync.yaml.tpl', 'glance/templates/bin/_db-sync.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3085affe767df610a45ed5785ac7cb1e5b56ac6f', 'message': 'fix glance fails to load metadefs\n\nThere are some tempest failures related to metadata definition.\nIt is result from that there is no metadata definitions in Glance\ndb.\nThis patch will load default metadata definitions into Glance.\n\n* add ""glance-manage db_load_metadefs"" in _db-sync.sh.tpl\n* The mountpoint /etc/glance of volume \'etc-service\' make\n/etc/glance/metadefs disappeared, which leads to load metadefs failure.\n\'etc-service\' volume is useless here ,so remove it\n\nChange-Id: Icfc640b3eb8112b945b18cb7c372d17af22112be\nCloses-bug: #1766232\n'}]",2,563614,3085affe767df610a45ed5785ac7cb1e5b56ac6f,10,4,3,25050,,,0,"fix glance fails to load metadefs

There are some tempest failures related to metadata definition.
It is result from that there is no metadata definitions in Glance
db.
This patch will load default metadata definitions into Glance.

* add ""glance-manage db_load_metadefs"" in _db-sync.sh.tpl
* The mountpoint /etc/glance of volume 'etc-service' make
/etc/glance/metadefs disappeared, which leads to load metadefs failure.
'etc-service' volume is useless here ,so remove it

Change-Id: Icfc640b3eb8112b945b18cb7c372d17af22112be
Closes-bug: #1766232
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/563614/2 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-db-sync.yaml.tpl', 'glance/templates/bin/_db-sync.sh.tpl']",2,86a94ce8f694f9407895b4f35d0826a7c48a3b21,bug/1766232,glance-manage db_load_metadefs,,3,0
openstack%2Fopenstack-helm~master~Idafe81d1857609f8f00091b769374f49b78b0cff,openstack/openstack-helm,master,Idafe81d1857609f8f00091b769374f49b78b0cff,Partially-Implements: proxysql-mariadb,ABANDONED,2018-02-23 16:22:09.000000000,2020-07-15 19:29:24.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27787}]","[{'number': 1, 'created': '2018-02-23 16:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/482fcf0ef0572b5d01bb668c84146515bc1c4951', 'message': 'Partially-Implements: proxysql-mariadb\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side\nAll mariadb traffic will go through proxysql data plane\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 2, 'created': '2018-02-23 23:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6439f103ad69d7d9427d16e8d20d0cbf3dd4cad', 'message': 'Partially-Implements: proxysql-mariadb\n\nFixed volume mount issues\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side\nAll mariadb traffic will go through proxysql data plane\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 3, 'created': '2018-02-23 23:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e6aed1fe9633a364fffe9de25fbc51661ec43cee', 'message': 'Partially-Implements: proxysql-mariadb\n\nFixed volume mount issues\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side\nAll mariadb traffic will go through proxysql data plane\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 4, 'created': '2018-02-27 01:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5765b3fa52a5754fde55228d8c19aeb4edd6c459', 'message': 'Partially-Implements: proxysql-mariadb\n\nFixed more conflicts after rebase with latest master branch\n\nFixed merge conflicts\n\nFixed volume mount issues\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side\nAll mariadb traffic will go through proxysql data plane\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 5, 'created': '2018-02-27 02:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/68452865bd464dad36939b4452ca331e0a361c77', 'message': 'Partially-Implements: proxysql-mariadb\n\nAdded new values.yaml\n\nFixed more conflicts after rebase with latest master branch\n\nFixed merge conflicts\n\nFixed volume mount issues\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side\nAll mariadb traffic will go through proxysql data plane\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 6, 'created': '2018-03-06 15:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86c73822ead5a14247e193cf13a10012659d7683', 'message': 'Partially-Implements: proxysql-mariadb\n\nAdded support of proxysql cluster, positioned in front of mariadb cluster\n\nAdded new values.yaml\n\nFixed more conflicts after rebase with latest master branch\n\nFixed merge conflicts\n\nFixed volume mount issues\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side\nAll mariadb traffic will go through proxysql data plane\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 7, 'created': '2018-03-08 02:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5dc75bcc416a393ee4fadcfdbdbf6872783e492c', 'message': 'Partially-Implements: proxysql-mariadb\n\nFixed ceph volume issues\n\nAdded support of proxysql cluster, positioned in front of mariadb cluster\n\nAdded new values.yaml\n\nFixed more conflicts after rebase with latest master branch\n\nFixed merge conflicts\n\nFixed volume mount issues\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side\nAll mariadb traffic will go through proxysql data plane\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 8, 'created': '2018-03-09 00:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/60a74c2fe0611e4186679e8c4055b60352bfca20', 'message': 'Partially-Implements: proxysql-mariadb\n\nAdded support of proxysql cluster, positioned in front of mariadb cluster.\nThis design also supports single-proxysql mode.\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side.\n\npartially-implements: bp/proxysql-mariadb\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 9, 'created': '2018-03-09 02:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d2f5078da1eccdd595d9eb0f17a37e8b83d02af6', 'message': 'Partially-Implements: proxysql-mariadb\n\nAdded support of proxysql cluster, positioned in front of mariadb cluster.\nThis design also supports single-proxysql mode.\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side.\n\npartially-implements: bp/proxysql-mariadb\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 10, 'created': '2018-03-28 16:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e89c00fef52d8cb457053a905bfc20213fa2aa2c', 'message': 'Partially-Implements: proxysql-mariadb\n\nSimplied the architecture by getting rid of ""proxysql-nanny""\nAdded two more schedulers to monitor mariadb cluster, and to collect measurement and stats data\nUsed mysql_query_rules to split read and write queries to two different hostgroups in order to avoid dead locks\n\nAdded support of proxysql cluster, positioned in front of mariadb cluster.\nThis design also supports single-proxysql mode.\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side.\n\npartially-implements: bp/proxysql-mariadb\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 11, 'created': '2018-03-29 13:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/495180b40094d07407447945cab4f3d9a54cdb48', 'message': 'Partially-Implements: proxysql-mariadb\n\nSimplied the architecture by getting rid of ""proxysql-nanny""\nAdded two more schedulers to monitor mariadb cluster, and to collect measurement and stats data\nUsed mysql_query_rules to split read and write queries to two different hostgroups in order to avoid dead locks\n\nAdded support of proxysql cluster, positioned in front of mariadb cluster.\nThis design also supports single-proxysql mode.\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side.\n\npartially-implements: bp/proxysql-mariadb\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 12, 'created': '2018-03-29 17:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d255cfd005df1701f5717f1c8c09c3c19a612188', 'message': 'Partially-Implements: proxysql-mariadb\n\nSimplied the architecture by getting rid of ""proxysql-nanny""\nAdded two more schedulers to monitor mariadb cluster, and to collect measurement and stats data\nUsed mysql_query_rules to split read and write queries to two different hostgroups in order to avoid dead locks\nTested with heat-rally-test\n\nAdded support of proxysql cluster, positioned in front of mariadb cluster.\nThis design also supports single-proxysql mode.\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side.\n\npartially-implements: bp/proxysql-mariadb\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 13, 'created': '2018-04-03 19:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8463ac7b4df54d22d778a8928dcd6f9cad32acd5', 'message': 'Partially-Implements: proxysql-mariadb\n\nSimplied the architecture by getting rid of ""proxysql-nanny""\nAdded two more schedulers to monitor mariadb cluster, and to collect measurement and stats data\nUsed mysql_query_rules to split read and write queries to two different hostgroups in order to avoid dead locks\nTested with heat-rally-test\n\nAdded support of proxysql cluster, positioned in front of mariadb cluster.\nThis design also supports single-proxysql mode.\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side.\n\npartially-implements: bp/proxysql-mariadb\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}, {'number': 14, 'created': '2018-04-06 15:00:35.000000000', 'files': ['mariadb/templates/bin/_proxysql.sh.tpl', 'mariadb/templates/bin/_proxysql_bootstrap.sh.tpl', 'mariadb/templates/service-proxysql.yaml', 'mariadb/templates/bin/_proxysql_galera_checker.sh.tpl', 'mariadb/templates/service.yaml', 'mariadb/templates/configmap-etc-proxysql.yaml', 'mariadb/values.yaml', 'mariadb/templates/service-discovery-proxysql.yaml', 'mariadb/templates/bin/_proxysql_galera_mon_stats.sh.tpl', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/secrets-etc-proxysql.yaml', 'mariadb/templates/job-bootstrap-proxysql.yaml', 'mariadb/templates/bin/_proxysql_galera_usr_sync.sh.tpl', 'mariadb/templates/configmap-bin-proxysql.yaml', 'mariadb/templates/etc/_proxysql.cnf.tpl', 'mariadb/templates/statefulset-proxysql.yaml', 'mariadb/templates/secrets/_proxysql_admin_user.cnf.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f3c7a2e7a74c3e4ce6263c7ae6914f81fd0620f7', 'message': 'Partially-Implements: proxysql-mariadb\n\nSimplied the architecture by getting rid of ""proxysql-nanny""\nAdded two more schedulers to monitor mariadb cluster, and to collect measurement and stats data\nUsed mysql_query_rules to split read and write queries to two different hostgroups in order to avoid dead locks\nTested with heat-rally-test\nMinimized the number of logs directed to console\nIncreased proxysql scheduler timers\nPrevented proxysql_galera_usr_sync script from exiting prematurely\n\nAdded support of proxysql cluster, positioned in front of mariadb cluster.\nThis design also supports single-proxysql mode.\n\nFirst step to position a single proxysql in front of mariadb cluster\nOnly changes occur on mariadb side.\n\npartially-implements: bp/proxysql-mariadb\n\nChange-Id: Idafe81d1857609f8f00091b769374f49b78b0cff\n'}]",77,547498,f3c7a2e7a74c3e4ce6263c7ae6914f81fd0620f7,37,4,14,27787,,,0,"Partially-Implements: proxysql-mariadb

Simplied the architecture by getting rid of ""proxysql-nanny""
Added two more schedulers to monitor mariadb cluster, and to collect measurement and stats data
Used mysql_query_rules to split read and write queries to two different hostgroups in order to avoid dead locks
Tested with heat-rally-test
Minimized the number of logs directed to console
Increased proxysql scheduler timers
Prevented proxysql_galera_usr_sync script from exiting prematurely

Added support of proxysql cluster, positioned in front of mariadb cluster.
This design also supports single-proxysql mode.

First step to position a single proxysql in front of mariadb cluster
Only changes occur on mariadb side.

partially-implements: bp/proxysql-mariadb

Change-Id: Idafe81d1857609f8f00091b769374f49b78b0cff
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/98/547498/11 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/bin/_proxysql.sh.tpl', 'mariadb/templates/bin/_proxysql_nanny.sh.tpl', 'mariadb/templates/deployment-nanny-proxysql.yaml', 'mariadb/templates/bin/_proxysql_galera_checker.sh.tpl', 'mariadb/templates/service.yaml', 'mariadb/templates/configmap-etc-proxysql.yaml', 'mariadb/values.yaml', 'mariadb/templates/service-discovery-proxysql.yaml', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/secrets-etc-proxysql.yaml', 'mariadb/templates/job-bootstrap-proxysql.yaml', 'mariadb/templates/configmap-bin-proxysql.yaml', 'mariadb/templates/etc/_proxysql.cnf.tpl', 'mariadb/templates/statefulset-proxysql.yaml', 'mariadb/templates/bin/_bootstrap.sh.tpl', 'mariadb/templates/secrets/_proxysql_admin_user.cnf.tpl']",16,482fcf0ef0572b5d01bb668c84146515bc1c4951,bp/proxysql-mariadb,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} [client] user = {{ .Values.endpoints.db_proxy.auth.admin.username }} password = {{ .Values.endpoints.db_proxy.auth.admin.password }} host = {{ tuple ""db_proxy"" ""internal"" . | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }} port = {{ tuple ""db_proxy"" ""internal"" ""admin"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} ",,1111,111
openstack%2Fopenstack-helm~master~Ibcde4942dcd081205634be3b9a819a3802bf5784,openstack/openstack-helm,master,Ibcde4942dcd081205634be3b9a819a3802bf5784,remove pdb for barbican-api,ABANDONED,2018-04-06 15:10:15.000000000,2020-07-15 19:29:20.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 18675}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-06 15:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79eb3e446361e9538c840e47a910508085640616', 'message': 'remove pdb for barbican-api\n\nThe pdb is redundant for k8s Deployment. The barbican-api is being deployed as k8s Deployment with rollingupdate strategy, maxUnavailable and maxSurge values. The barbican-api pdb is redundant. This fix removes the pdb for barbican-api.\n\nChange-Id: Ibcde4942dcd081205634be3b9a819a3802bf5784\nCloses-Bug: 1761604\n'}, {'number': 2, 'created': '2018-04-06 17:26:07.000000000', 'files': ['barbican/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e3f5f90d8c4374c8e1af4f0667c6e02c30e6fd34', 'message': 'remove pdb for barbican-api\n\nThe pdb is redundant for kubernetes Deployment.\nThe barbican-api is being deployed as Deployment with rollingupdate strategy,\nmaxUnavailable and maxSurge values.\n\nThis fix removes the pdb for barbican-api.\n\nChange-Id: Ibcde4942dcd081205634be3b9a819a3802bf5784\nCloses-Bug: 1761604\n'}]",0,559351,e3f5f90d8c4374c8e1af4f0667c6e02c30e6fd34,8,4,2,20889,,,0,"remove pdb for barbican-api

The pdb is redundant for kubernetes Deployment.
The barbican-api is being deployed as Deployment with rollingupdate strategy,
maxUnavailable and maxSurge values.

This fix removes the pdb for barbican-api.

Change-Id: Ibcde4942dcd081205634be3b9a819a3802bf5784
Closes-Bug: 1761604
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/51/559351/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/values.yaml'],1,79eb3e446361e9538c840e47a910508085640616,bug/1761604,, disruption_budget: api: min_available: 0 pdb_api: true,0,4
openstack%2Fopenstack-helm~master~I8211874fb32f58e23578f0cc0dbb2e496cc23cea,openstack/openstack-helm,master,I8211874fb32f58e23578f0cc0dbb2e496cc23cea,[RFC] generic file-overlay mechanism,ABANDONED,2018-04-06 01:24:56.000000000,2020-07-15 19:28:55.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-06 01:24:56.000000000', 'files': ['mariadb/templates/etc/_my.cnf.tpl', 'mariadb/templates/etc/_99-force.cnf.tpl', 'mariadb/values.yaml', 'mariadb/templates/configmap-etc.yaml', 'mariadb/templates/etc/_00-base.cnf.tpl', 'mariadb/templates/statefulset.yaml', 'mariadb/templates/configmap-fileoverlay.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/177eaee474e2a53c33d1468373bc87041bf16ce0', 'message': '[RFC] generic file-overlay mechanism\n\nThis is a very rough *non-working* PoC for illustration purposes and\nfeedback on the general direction.\n\nThe suggestion here is we defined (in values) fileoverlay { ""key"": {\n""path"": ..., ""readOnly"": ..., ""contents"": ... } }, for example:\n\nfileoverlay:\n  passwd:\n    path: /etc/passwd\n    readOnly: true\n    contents: |\n      root:x:0:0:root:/root:/bin/bash\n      daemon:*:1:1:daemon:/usr/sbin:/usr/sbin/nologin\n\nthen using an iterator in configmap-fileoverlay.yaml and another in\nthe pod definition(s) create \'volumes\' to overlay each of those files.\n\nRight now this patch doesn\'t work, I suspect it\'s because the yaml\nparser in helm doesn\'t accept this construct:\n\nfoo: |\n  # line 1\n  # line 2 {{ $gotpl_stuff }}\n\nin a way that line 2 is processed as expected.\n\nIf this is fixable and this direction tolerable then the goal would be\nto move this login in a generic way to the helm-toolkit.\n\nChange-Id: I8211874fb32f58e23578f0cc0dbb2e496cc23cea\n'}]",0,559208,177eaee474e2a53c33d1468373bc87041bf16ce0,6,7,1,8898,,,0,"[RFC] generic file-overlay mechanism

This is a very rough *non-working* PoC for illustration purposes and
feedback on the general direction.

The suggestion here is we defined (in values) fileoverlay { ""key"": {
""path"": ..., ""readOnly"": ..., ""contents"": ... } }, for example:

fileoverlay:
  passwd:
    path: /etc/passwd
    readOnly: true
    contents: |
      root:x:0:0:root:/root:/bin/bash
      daemon:*:1:1:daemon:/usr/sbin:/usr/sbin/nologin

then using an iterator in configmap-fileoverlay.yaml and another in
the pod definition(s) create 'volumes' to overlay each of those files.

Right now this patch doesn't work, I suspect it's because the yaml
parser in helm doesn't accept this construct:

foo: |
  # line 1
  # line 2 {{ $gotpl_stuff }}

in a way that line 2 is processed as expected.

If this is fixable and this direction tolerable then the goal would be
to move this login in a generic way to the helm-toolkit.

Change-Id: I8211874fb32f58e23578f0cc0dbb2e496cc23cea
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/08/559208/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/etc/_my.cnf.tpl', 'mariadb/templates/etc/_99-force.cnf.tpl', 'mariadb/values.yaml', 'mariadb/templates/configmap-etc.yaml', 'mariadb/templates/configmap-fileoverlay.yaml', 'mariadb/templates/etc/_00-base.cnf.tpl', 'mariadb/templates/statefulset.yaml']",7,177eaee474e2a53c33d1468373bc87041bf16ce0,rfc-dynamic-file-overlay," # here also {{ range $k, $v := .Values.fileoverlay }} - name: fileoverlay mountPath: {{ $v.path }} subPath: overlay-{{ $k }} readOnly: {{ $v.readOnly }} {{- end }} - name: fileoverlay configMap: name: fileoverlay", - name: mariadb-etc mountPath: /etc/mysql/my.cnf subPath: my.cnf readOnly: true - name: mariadb-etc mountPath: /etc/mysql/conf.d/00-base.cnf subPath: 00-base.cnf readOnly: true - name: mariadb-etc mountPath: /etc/mysql/conf.d/20-override.cnf subPath: 20-override.cnf readOnly: true - name: mariadb-etc mountPath: /etc/mysql/conf.d/99-force.cnf subPath: 99-force.cnf readOnly: true - name: mariadb-etc configMap: name: mariadb-etc,156,200
openstack%2Fopenstack-helm~master~I2a485a0212f99f7b8109457ec18ce0e3f4aa9a13,openstack/openstack-helm,master,I2a485a0212f99f7b8109457ec18ce0e3f4aa9a13,WIP: Heat: Helm test functionaility using Rally,ABANDONED,2018-03-24 00:29:38.000000000,2020-07-15 19:28:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27787}]","[{'number': 1, 'created': '2018-03-24 00:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/585e61a5d965c033921ad4a555290aa969355f68', 'message': 'Rebase\n\nChange-Id: I2a485a0212f99f7b8109457ec18ce0e3f4aa9a13\n'}, {'number': 2, 'created': '2018-03-24 00:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b0720bd19d373fa531b2b3bf98d84cf8dc60de4f', 'message': ""WIP: Heat: Helm test functionaility using Rally\n\nThis PS adds 'helm test' functionality using Rally to Heat\n\nPartial-Implements: blueprint implement-helm-test-for-charts\nExternal-Tracking-Id: OSH-89\n\nBased on https://review.openstack.org/#/c/477036/\n\nChange-Id: I2a485a0212f99f7b8109457ec18ce0e3f4aa9a13\n""}, {'number': 3, 'created': '2018-03-26 14:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1839be787cdac402d6b89567da4acec132a7a208', 'message': ""WIP: Heat: Helm test functionaility using Rally\n\nThis PS adds 'helm test' functionality using Rally to Heat\n\nPartial-Implements: blueprint implement-helm-test-for-charts\nExternal-Tracking-Id: OSH-89\n\nBased on https://review.openstack.org/#/c/477036/\n\nPatch3: Fixed openstack credential issues in initContainers\n\nChange-Id: I2a485a0212f99f7b8109457ec18ce0e3f4aa9a13\n""}, {'number': 4, 'created': '2018-03-28 14:47:45.000000000', 'files': ['heat/templates/test-templates/_default.yaml.template.tpl', 'heat/templates/test-templates/_updated-random-strings-replace.yaml.template.tpl', 'heat/values.yaml', 'heat/templates/pod-rally-test.yaml', 'heat/templates/secret-keystone.yaml', 'heat/templates/configmap-test-templates.yaml', 'heat/templates/configmap-etc.yaml', 'heat/templates/test-templates/_resource-group-with-constraint.yaml.template.tpl', 'heat/templates/test-templates/_resource-group-with-outputs.yaml.template.tpl', 'heat/templates/test-templates/_random-strings.yaml.template.tpl', 'heat/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f47518653649fd9532e11b1b68a8ca6e6656ee71', 'message': ""WIP: Heat: Helm test functionaility using Rally\n\nThis PS adds 'helm test' functionality using Rally to Heat\n\nPartial-Implements: blueprint implement-helm-test-for-charts\nExternal-Tracking-Id: OSH-89\n\nBased on https://review.openstack.org/#/c/477036/\n\nPatch3: Fixed openstack credential issues in initContainers\nPatch4: Addressed the review comments in previous patch set\n\nChange-Id: I2a485a0212f99f7b8109457ec18ce0e3f4aa9a13\n""}]",2,555955,f47518653649fd9532e11b1b68a8ca6e6656ee71,10,3,4,27787,,,0,"WIP: Heat: Helm test functionaility using Rally

This PS adds 'helm test' functionality using Rally to Heat

Partial-Implements: blueprint implement-helm-test-for-charts
External-Tracking-Id: OSH-89

Based on https://review.openstack.org/#/c/477036/

Patch3: Fixed openstack credential issues in initContainers
Patch4: Addressed the review comments in previous patch set

Change-Id: I2a485a0212f99f7b8109457ec18ce0e3f4aa9a13
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/555955/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/templates/test-templates/_default.yaml.template.tpl', 'heat/templates/test-templates/_updated-random-strings-replace.yaml.template.tpl', 'heat/values.yaml', 'heat/templates/pod-rally-test.yaml', 'heat/templates/configmap-etc.yaml', 'heat/templates/configmap-test-templates.yaml', 'heat/templates/test-templates/_resource-group-with-constraint.yaml.template.tpl', 'heat/templates/test-templates/_resource-group-with-outputs.yaml.template.tpl', 'heat/templates/configmap-bin.yaml', 'heat/templates/test-templates/_random-strings.yaml.template.tpl']",10,585e61a5d965c033921ad4a555290aa969355f68,bp/implement-helm-test-for-charts,heat_template_version: 2014-10-16 description: Test template for rally create-update-delete scenario resources: test_string_one: type: OS::Heat::RandomString properties: length: 20 test_string_two: type: OS::Heat::RandomString properties: length: 20 ,,363,21
openstack%2Fopenstack-helm~master~Ide8fce1da79863ab60bdfd89e222e3e16c3ad410,openstack/openstack-helm,master,Ide8fce1da79863ab60bdfd89e222e3e16c3ad410,Allows horizon UI customizations,ABANDONED,2018-02-28 23:43:44.000000000,2020-07-15 19:28:46.000000000,,"[{'_account_id': 7769}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 27699}]","[{'number': 1, 'created': '2018-02-28 23:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f7da9aecdfee8ebc627c88fac4ac19135dea3efe', 'message': 'Allows horizon UI customizations\n\nThis change allows customizing the horizon UI by creating a custom\ntheme from the provided configuration, including custom templates\nand by some generic UI settings.\n\n Examples:\n\nThe following sets the browser title to ""My OpenStack Cloud"" and\nadds a custom link to report bugs and to help page:\n\n local_settings:\n   ui:\n     site_title: ""My OpenStack Cloud""\n     bug_url: ""https://suppot.acme.example""\n     help_url: ""https://wiki.acme.example""\n\nThe following example enables the custom theme, which\n- inherits from the default theme,\n- modifies the navbar bg and link color,\n- creates a footer template with a terms of service link,\n- link opens a popup on click with content from a new template\n  called  html/terms.html.\n\n local_settings:\n   ui:\n     custom_theme:\n       enabled: true\n       name: ""My Custom Theme""\n       variables: |-\n         @import ""/themes/default/variables"";\n       styles: |-\n         @import ""/themes/default/styles"";\n         .navbar-default { background-color: #333; }\n         .navbar-default .navbar-nav > li > a { color: #fff; }\n       templates:\n         - name: terms.html\n           path: html/terms.html\n           data: |-\n             Read carefully.\n             These are our terms of service.\n        - name: _footer.html\n          path: _footer.html\n          data: |-\n            <footer class=""text-center"">\n             &copy; Copyright 2018 Acme Corporation &nbsp;\n             <a data-toggle=""modal"" data-target=""#terms"">Terms</a>\n             <div class=""modal fade"" id=""terms"" tabindex=""-1""\n                 role=""dialog"" aria-labelledby=""terms-page"">\n               <div class=""modal-dialog"" role=""document"">\n                 <div class=""modal-content"">\n                   <div class=""modal-header"">\n                    <button type=""button"" class=""close""\n                        data-dismiss=""modal"" aria-label=""Close"">\n                      <span aria-hidden=""true"">&times;</span>\n                    </button>\n                    <h2 class=""modal-title"">Terms of Service</h2>\n                  </div>\n                  <div class=""modal-body"">\n                  {% include ""html/terms.html"" %}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </footer>\n\nThe following will set our custom theme as default theme but enables the\nselection of the builtin themes default and material too:\n\n local_settings:\n   ui:\n     default_theme: ""default""\n     # List of available themes (can be default|material|custom)\n     selectable_themes:\n       - default\n       - material\n       - custom\n\nChange-Id: Ide8fce1da79863ab60bdfd89e222e3e16c3ad410\n'}, {'number': 2, 'created': '2018-02-28 23:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af0a22fe2e066487da560c10ea7225c884b3a436', 'message': 'Allows horizon UI customizations\n\nThis change allows customizing the horizon UI by creating a custom\ntheme from the provided configuration, including custom templates\nand by some generic UI settings.\n\n Examples:\n\nThe following sets the browser title to ""My OpenStack Cloud"" and\nadds a custom link to report bugs and to help page:\n\n local_settings:\n   ui:\n     site_title: ""My OpenStack Cloud""\n     bug_url: ""https://suppot.acme.example""\n     help_url: ""https://wiki.acme.example""\n\nThe following example enables the custom theme, which\n- inherits from the default theme,\n- modifies the navbar bg and link color,\n- creates a footer template with a terms of service link,\n- link opens a popup on click with content from a new template\n  called  html/terms.html.\n\n local_settings:\n   ui:\n     custom_theme:\n       enabled: true\n       name: ""My Custom Theme""\n       variables: |-\n         @import ""/themes/default/variables"";\n       styles: |-\n         @import ""/themes/default/styles"";\n         .navbar-default { background-color: #333; }\n         .navbar-default .navbar-nav > li > a { color: #fff; }\n       templates:\n         - name: terms.html\n           path: html/terms.html\n           data: |-\n             Read carefully.\n             These are our terms of service.\n        - name: _footer.html\n          path: _footer.html\n          data: |-\n            <footer class=""text-center"">\n             &copy; Copyright 2018 Acme Corporation &nbsp;\n             <a data-toggle=""modal"" data-target=""#terms"">Terms</a>\n             <div class=""modal fade"" id=""terms"" tabindex=""-1""\n                 role=""dialog"" aria-labelledby=""terms-page"">\n               <div class=""modal-dialog"" role=""document"">\n                 <div class=""modal-content"">\n                   <div class=""modal-header"">\n                    <button type=""button"" class=""close""\n                        data-dismiss=""modal"" aria-label=""Close"">\n                      <span aria-hidden=""true"">&times;</span>\n                    </button>\n                    <h2 class=""modal-title"">Terms of Service</h2>\n                  </div>\n                  <div class=""modal-body"">\n                  {% include ""html/terms.html"" %}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </footer>\n\nThe following will set our custom theme as default theme but enables the\nselection of the builtin themes default and material too:\n\n local_settings:\n   ui:\n     default_theme: ""custom""\n     # List of available themes (can be default|material|custom)\n     selectable_themes:\n       - default\n       - material\n       - custom\n\nChange-Id: Ide8fce1da79863ab60bdfd89e222e3e16c3ad410\n'}, {'number': 3, 'created': '2018-03-01 00:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9a4ada1750999fe519f19066083f6a883ff4d28a', 'message': 'Allows horizon UI customizations\n\nThis change allows customizing the horizon UI by creating a custom\ntheme from the provided configuration, including custom templates\nand by some generic UI settings.\n\n Examples:\n\nThe following sets the browser title to ""My OpenStack Cloud"" and\nadds a custom link to report bugs and to help page:\n\n local_settings:\n   ui:\n     site_title: ""My OpenStack Cloud""\n     bug_url: ""https://suppot.acme.example""\n     help_url: ""https://wiki.acme.example""\n\nThe following example enables the custom theme, which\n- inherits from the default theme,\n- modifies the navbar bg and link color,\n- creates a footer template with a terms of service link,\n- link opens a popup on click with content from a new template\n  called  html/terms.html.\n\n local_settings:\n   ui:\n     custom_theme:\n       enabled: true\n       name: ""My Custom Theme""\n       variables: |-\n         @import ""/themes/default/variables"";\n       styles: |-\n         @import ""/themes/default/styles"";\n         .navbar-default { background-color: #333; }\n         .navbar-default .navbar-nav > li > a { color: #fff; }\n       templates:\n         - name: terms.html\n           path: html/terms.html\n           data: |-\n             Read carefully.\n             These are our terms of service.\n        - name: _footer.html\n          path: _footer.html\n          data: |-\n            <footer class=""text-center"">\n             &copy; Copyright 2018 Acme Corporation &nbsp;\n             <a data-toggle=""modal"" data-target=""#terms"">Terms</a>\n             <div class=""modal fade"" id=""terms"" tabindex=""-1""\n                 role=""dialog"" aria-labelledby=""terms-page"">\n               <div class=""modal-dialog"" role=""document"">\n                 <div class=""modal-content"">\n                   <div class=""modal-header"">\n                    <button type=""button"" class=""close""\n                        data-dismiss=""modal"" aria-label=""Close"">\n                      <span aria-hidden=""true"">&times;</span>\n                    </button>\n                    <h2 class=""modal-title"">Terms of Service</h2>\n                  </div>\n                  <div class=""modal-body"">\n                  {% include ""html/terms.html"" %}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </footer>\n\nThe following will set our custom theme as default theme but enables the\nselection of the builtin themes default and material too:\n\n local_settings:\n   ui:\n     default_theme: ""custom""\n     # List of available themes (can be default|material|custom)\n     selectable_themes:\n       - default\n       - material\n       - custom\n\nChange-Id: Ide8fce1da79863ab60bdfd89e222e3e16c3ad410\n'}, {'number': 4, 'created': '2018-03-01 15:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ffa69255583b998cd7ce204ebebe2ef5806ce987', 'message': 'Allows horizon UI customizations\n\nThis change allows customizing the horizon UI. All configuration is done\nbelow\n\n  local_settings:\n    ui:\n\nDefine the site title shown (as shown on the browser title bar):\n  site_title: ""My OpenStack Cloud""\n\nDefine a custom bug reporting url (shown on the user dropdown):\n  bug_url: ""https://suppot.acme.example""\n\nDefine a custom help link URL:\n  help_url: ""https://wiki.acme.example""\n\nChange default theme to use:\n  default_theme: ""custom""\n\nDefine available themes. Defaults are the builtin themes:\n    themes:\n      - name: ""default""\n        label: ""Default""\n        source: ""builtin""\n      - name: ""material""\n        label: ""Material""\n        source: ""builtin""\n\nAdd a custom theme from a docker image:\n\n      - name: ""sidecar""\n        label: ""My sidecar theme""\n        source: ""image""\n        image: docker.io/coboluxx/horizon-theme-example:v0.0.2\n        pull_policy: ""IfNotPresent""\n        path: /theme\n\nThe path specifies the theme root directory within the image. The\nexample can be seen here:\n\n   https://github.com/coboluxx/horizon-theme-example\n\nIntead of providing an image you can create an theme inline too:\n\n  - name: ""inline""\n    label: ""Inheited from default""\n    source: ""inline""\n    variables: |-\n      @import ""/themes/default/variables"";\n    styles: |-\n      @import ""/themes/default/styles"";\n      .navbar-default { background-color: #333; }\n      .navbar-default .navbar-nav > li > a { color: #fff; }\n    templates:\n      - name: _footer.html\n        path: _footer.html\n        data: |-\n          <footer class=""text-center"">\n          &copy; Copyright 2018 Acme Corporation &nbsp; {% include ""html/_more.html"" %}\n          </footer>\n      - name: _more.html\n        path: html/_more.html\n        data: |-\n          Some important message.\n\nThe example above inherits from the default theme, modifies\nthe navbar color and adds a custom footer. The template path:\nspecifies the file to create realtive to the templates subfolder.\n\nChange-Id: Ide8fce1da79863ab60bdfd89e222e3e16c3ad410\n'}, {'number': 5, 'created': '2018-03-02 11:10:14.000000000', 'files': ['horizon/templates/etc/_local_settings.tpl', 'horizon/templates/deployment.yaml', 'horizon/templates/configmap-themes.yaml', 'horizon/templates/bin/_horizon.sh.tpl', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4f4f9fac683e0e1a0d5efd3c7ecf51328a937dbe', 'message': 'Allows horizon UI customizations\n\nThis change allows customizing the horizon UI. All configuration is done\nbelow\n\n  local_settings:\n    ui:\n\nDefine the site title shown (as shown on the browser title bar):\n  site_title: ""My OpenStack Cloud""\n\nDefine a custom bug reporting url (shown on the user dropdown):\n  bug_url: ""https://suppot.acme.example""\n\nDefine a custom help link URL:\n  help_url: ""https://wiki.acme.example""\n\nChange default theme to use:\n  default_theme: ""custom""\n\nDefine available themes. Defaults are the builtin themes:\n    themes:\n      - name: ""default""\n        label: ""Default""\n        source: ""builtin""\n      - name: ""material""\n        label: ""Material""\n        source: ""builtin""\n\nAdd a custom theme from a docker image:\n\n      - name: ""sidecar""\n        label: ""My sidecar theme""\n        source: ""image""\n        image: docker.io/coboluxx/horizon-theme-example:v0.0.2\n        pull_policy: ""IfNotPresent""\n        path: /theme\n\nThe path specifies the theme root directory within the image. The\nexample can be seen here:\n\n   https://github.com/coboluxx/horizon-theme-example\n\nIntead of providing an image you can create an theme inline too:\n\n  - name: ""inline""\n    label: ""Inheited from default""\n    source: ""inline""\n    variables: |-\n      @import ""/themes/default/variables"";\n    styles: |-\n      @import ""/themes/default/styles"";\n      .navbar-default { background-color: #333; }\n      .navbar-default .navbar-nav > li > a { color: #fff; }\n    templates:\n      - name: _footer.html\n        path: _footer.html\n        data: |-\n          <footer class=""text-center"">\n          &copy; Copyright 2018 Acme Corporation &nbsp; {% include ""html/_more.html"" %}\n          </footer>\n      - name: _more.html\n        path: html/_more.html\n        data: |-\n          Some important message.\n\nThe example above inherits from the default theme, modifies\nthe navbar color and adds a custom footer. The template path:\nspecifies the file to create realtive to the templates subfolder.\n\nChange-Id: Ide8fce1da79863ab60bdfd89e222e3e16c3ad410\n'}]",1,548724,4f4f9fac683e0e1a0d5efd3c7ecf51328a937dbe,16,4,5,27699,,,0,"Allows horizon UI customizations

This change allows customizing the horizon UI. All configuration is done
below

  local_settings:
    ui:

Define the site title shown (as shown on the browser title bar):
  site_title: ""My OpenStack Cloud""

Define a custom bug reporting url (shown on the user dropdown):
  bug_url: ""https://suppot.acme.example""

Define a custom help link URL:
  help_url: ""https://wiki.acme.example""

Change default theme to use:
  default_theme: ""custom""

Define available themes. Defaults are the builtin themes:
    themes:
      - name: ""default""
        label: ""Default""
        source: ""builtin""
      - name: ""material""
        label: ""Material""
        source: ""builtin""

Add a custom theme from a docker image:

      - name: ""sidecar""
        label: ""My sidecar theme""
        source: ""image""
        image: docker.io/coboluxx/horizon-theme-example:v0.0.2
        pull_policy: ""IfNotPresent""
        path: /theme

The path specifies the theme root directory within the image. The
example can be seen here:

   https://github.com/coboluxx/horizon-theme-example

Intead of providing an image you can create an theme inline too:

  - name: ""inline""
    label: ""Inheited from default""
    source: ""inline""
    variables: |-
      @import ""/themes/default/variables"";
    styles: |-
      @import ""/themes/default/styles"";
      .navbar-default { background-color: #333; }
      .navbar-default .navbar-nav > li > a { color: #fff; }
    templates:
      - name: _footer.html
        path: _footer.html
        data: |-
          <footer class=""text-center"">
          &copy; Copyright 2018 Acme Corporation &nbsp; {% include ""html/_more.html"" %}
          </footer>
      - name: _more.html
        path: html/_more.html
        data: |-
          Some important message.

The example above inherits from the default theme, modifies
the navbar color and adds a custom footer. The template path:
specifies the file to create realtive to the templates subfolder.

Change-Id: Ide8fce1da79863ab60bdfd89e222e3e16c3ad410
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/548724/4 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/etc/_local_settings.tpl', 'horizon/templates/deployment.yaml', 'horizon/templates/bin/_horizon.sh.tpl', 'horizon/values.yaml']",4,f7da9aecdfee8ebc627c88fac4ac19135dea3efe,bp/horizon-theming," ui: # Overwrites the default browser title: site_title: ""OpenStack Dashboard"" # Displays a report bug link if provided: bug_url: null # Overwrites the default help url: help_url: ""http://docs.openstack.org"" # The default_theme (can be default|material|custom): default_theme: ""default"" # List of available themes (can be default|material|custom) selectable_themes: - default - material - custom # Creates a custom theme if enabled: custom_theme: enabled: false # The name your theme is displayed as: name: ""My Theme"" # SCSS variables to override: variables: |- @import ""/themes/default/variables""; # Your stylesheet overrides: styles: |- @import ""/themes/default/styles""; .navbar-default { background-color: #333; } .navbar-default .navbar-nav > li > a { color: #fff; } templates: - name: _footer.html path: _footer.html data: |- <footer class=""text-center""> &copy; Copyright 2018 Acme Corporation &nbsp; <a data-toggle=""modal"" data-target=""#terms"">Terms</a> <div class=""modal fade"" id=""terms"" tabindex=""-1"" role=""dialog"" aria-labelledby=""terms-page""> <div class=""modal-dialog"" role=""document""> <div class=""modal-content""> <div class=""modal-header""> <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close""><span aria-hidden=""true"">&times;</span></button> <h2 class=""modal-title"">Terms of Service</h2> </div> <div class=""modal-body""> {% include ""html/terms.html"" %} </div> </div> </div> </div> </footer> - name: terms.html path: html/terms.html data: |- Read carefully. These are our terms of service. configmap_theme: true",,103,1
openstack%2Fopenstack-helm~master~I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad,openstack/openstack-helm,master,I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad,Consolidate db functionality,ABANDONED,2018-01-11 22:20:18.000000000,2020-07-15 19:28:42.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23674}, {'_account_id': 27397}]","[{'number': 1, 'created': '2018-01-11 22:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b5def5e735e68ffea63fd5866c937e0855119acd', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 2, 'created': '2018-01-11 22:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/185ad49c0c22ada7c8f57954f3a82ac90c12735d', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 3, 'created': '2018-01-12 16:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e262c9c828e74038eee5506ecca2dd6cd1e3ee3f', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 4, 'created': '2018-01-12 19:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/894f6bf7bb9d9ec678e67730ac7e2cf5b8edf899', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 5, 'created': '2018-01-12 21:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bf323ca79bb80237bc6bc9ccdfbd0192b84a7eba', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 6, 'created': '2018-01-12 21:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/653c0c02ea6bdc22b89330094e3a2865221e7f52', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 7, 'created': '2018-01-15 15:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/65f4adb2eef53d84e12650787cc249948e1e9346', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 8, 'created': '2018-01-16 20:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5cd4337376a8d39677f0f0448aceaa1f41ac7d59', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 9, 'created': '2018-01-16 21:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5a8159e9d550b2d8719092af3f9570933c85bb06', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 10, 'created': '2018-01-17 20:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9bfd2bd9fca6545a58ce58e32ecef039476a9358', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 11, 'created': '2018-01-18 15:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96d078d7f2982ed0203e1f3f2f9224291cf5c873', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 12, 'created': '2018-01-18 20:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/07b0ad4049f85c04ae6103ffadcaf68c2b41022a', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 13, 'created': '2018-01-18 21:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f662bd78bcd04fd56ad338c19f413891c359406b', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 14, 'created': '2018-01-19 17:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0b26ee3c3fbced9e02cd6e5ac01fccb698d51f0c', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 15, 'created': '2018-01-21 19:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/abf98aa6731960489279ee7b6d30a3a15517e0d7', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 16, 'created': '2018-01-23 14:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9394db181ddcaa4e2b64b19e21e95a9abe0e567b', 'message': '[WIP] Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 17, 'created': '2018-01-23 16:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a928c3ac1be982a4c276eae852f16d2934e81a7d', 'message': 'Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 18, 'created': '2018-01-23 19:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da94d72fc465aa7ec99067f67429e73951516062', 'message': 'Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}, {'number': 19, 'created': '2018-01-31 16:06:25.000000000', 'files': ['barbican/templates/job-db-drop.yaml', 'nova/templates/job-db-init.yaml', 'barbican/templates/job-db-init.yaml', 'magnum/templates/configmap-bin.yaml', 'rally/templates/configmap-bin.yaml', 'glance/templates/job-db-drop.yaml', 'congress/templates/configmap-bin.yaml', 'glance/templates/job-db-init.yaml', 'horizon/templates/job-db-drop.yaml', 'horizon/templates/job-db-init.yaml', 'keystone/templates/configmap-bin.yaml', 'ceilometer/templates/configmap-bin.yaml', 'glance/templates/configmap-bin.yaml', 'cinder/templates/job-db-init.yaml', 'cinder/templates/job-db-drop.yaml', 'rally/templates/job-db-init.yaml', 'senlin/templates/configmap-bin.yaml', 'neutron/templates/job-db-init.yaml', 'mistral/templates/configmap-bin.yaml', 'congress/templates/job-db-init.yaml', 'neutron/templates/job-db-drop.yaml', 'barbican/templates/configmap-bin.yaml', 'helm-toolkit/templates/scripts/_db-funcs.py.tpl', 'magnum/templates/job-db-init.yaml', 'magnum/templates/job-db-drop.yaml', 'senlin/templates/job-db-drop.yaml', 'senlin/templates/job-db-init.yaml', 'ceilometer/templates/job-db-init.yaml', 'cinder/templates/configmap-bin.yaml', 'horizon/templates/configmap-bin.yaml', 'neutron/templates/configmap-bin.yaml', 'gnocchi/templates/job-db-init.yaml', 'keystone/templates/job-db-init.yaml', 'mistral/templates/job-db-drop.yaml', 'heat/templates/configmap-bin.yaml', 'heat/templates/job-db-init.yaml', 'helm-toolkit/templates/scripts/_db-drop.py.tpl', 'keystone/templates/job-db-drop.yaml', 'gnocchi/templates/configmap-bin.yaml', 'heat/templates/job-db-drop.yaml', 'mistral/templates/job-db-init.yaml', 'helm-toolkit/templates/scripts/_db-init.py.tpl', 'nova/templates/configmap-bin.yaml', 'nova/templates/job-db-drop.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dacf93658b91ca8e82e4648e96bfad0cfbff3f09', 'message': 'Consolidate db functionality\n\nAddressing comment in patchset:\nhttps://review.openstack.org/#/c/507259/5 by refactoring and\nconsolidating files\n\nChange-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad\n'}]",60,532998,dacf93658b91ca8e82e4648e96bfad0cfbff3f09,57,7,19,27397,,,0,"Consolidate db functionality

Addressing comment in patchset:
https://review.openstack.org/#/c/507259/5 by refactoring and
consolidating files

Change-Id: I9ebe805a720662728b8bb01f9f5e9bff0f78c0ad
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/98/532998/18 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/_db-work.py.tpl'],1,b5def5e735e68ffea63fd5866c937e0855119acd,DbConsolidation,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- define ""helm-toolkit.scripts.db_work"" }} #!/usr/bin/env python # Drops db and user or Creates db and user for an OpenStack Service: # Set ROOT_DB_CONNECTION and DB_CONNECTION environment variables to contain # SQLAlchemy strings for the root connection to the database and the one you # wish the service to use. Alternatively, you can use an ini formatted config # at the location specified by OPENSTACK_CONFIG_FILE, and extract the string # from the key OPENSTACK_CONFIG_DB_KEY, in the section specified by # OPENSTACK_CONFIG_DB_SECTION. import os import sys import ConfigParser import logging from sqlalchemy import create_engine sys_arg = sys.argv[1] def main(dbArg=sys_arg): # Create logger, console handler and formatter logger = logging.getLogger('OpenStack-Helm DB Drop or Create') logger.setLevel(logging.DEBUG) ch = logging.StreamHandler() ch.setLevel(logging.DEBUG) formatter = logging.Formatter('%(asctime)s - %(name)s - \ %(levelname)s - %(message)s') # Set the formatter and add the handler ch.setFormatter(formatter) logger.addHandler(ch) os.environ['DB_CONNECTION'] = \ 'mysql://keystone:KEYSTONE_DBPASS@localhost/keystone' # Get the connection string for the service db root user if ""ROOT_DB_CONNECTION"" in os.environ: db_connection = os.environ['ROOT_DB_CONNECTION'] logger.info('Got DB root connection') else: logger.critical('environment variable ROOT_DB_CONNECTION not set') sys.exit(1) # Get the connection string for the service db if ""OPENSTACK_CONFIG_FILE"" in os.environ: os_conf = os.environ['OPENSTACK_CONFIG_FILE'] if ""OPENSTACK_CONFIG_DB_SECTION"" in os.environ: os_conf_section = os.environ['OPENSTACK_CONFIG_DB_SECTION'] else: logger.critical( 'environment variable OPENSTACK_CONFIG_DB_SECTION not set') sys.exit(1) if ""OPENSTACK_CONFIG_DB_KEY"" in os.environ: os_conf_key = os.environ['OPENSTACK_CONFIG_DB_KEY'] else: logger.critical( 'environment variable OPENSTACK_CONFIG_DB_KEY not set') sys.exit(1) try: config = ConfigParser.RawConfigParser() logger.info(""Using {0} as db config source"".format(os_conf)) config.read(os_conf) logger.info(""Trying to load db config from {0}:{1}"".format( os_conf_section, os_conf_key)) user_db_conn = config.get(os_conf_section, os_conf_key) logger.info(""Got config from {0}"".format(os_conf)) except: logger.critical( ""Tried to load config from {0} but failed."".format(os_conf)) raise elif ""DB_CONNECTION"" in os.environ: user_db_conn = os.environ['DB_CONNECTION'] logger.info('Got config from DB_CONNECTION env var') else: logger.critical( 'Could not get db config, either from config file or env var') sys.exit(1) # Collection of variables to pass, includes host, port, root_engine, # user_engine, database, user, and password db_info = {} # Root DB engine try: root_engine_full = create_engine(db_connection) root_user = root_engine_full.url.username root_password = root_engine_full.url.password drivername = root_engine_full.url.drivername db_info['host'] = root_engine_full.url.host db_info['port'] = root_engine_full.url.port root_engine_url = ''.join( [drivername, '://', root_user, ':', root_password, '@', db_info['host'], ':', str(db_info['port'])]) db_info['root_engine'] = create_engine(root_engine_url) connection = db_info['root_engine'].connect() connection.close() logger.info(""Tested connection to DB @ {0}:{1} as {2}"".format( db_info['host'], db_info['port'], root_user)) except: logger.critical('Could not connect to database as root user') raise # User DB engine try: db_info['user_engine'] = create_engine(user_db_conn) # Get our user data out of the user_engine db_info['database'] = db_info['user_engine'].url.database db_info['user'] = db_info['user_engine'].url.username db_info['password'] = db_info['user_engine'].url.password logger.info('Got user db config') except: logger.critical('Could not get user database config') raise # Call db function based on arguments if dbArg == 'create': createDB(db_info) elif dbArg == 'drop': deleteDB(db_info) else: logger.info('Invalid arguments') def deleteDB(db_info): logger = logging.getLogger('OpenStack-Helm DB Drop or Create') # Delete DB try: db_info['root_engine'].execute(""DROP DATABASE IF EXISTS {0}"".format( db_info['database'])) logger.info(""Deleted database {0}"".format(db_info['database'])) except: logger.critical(""Could not drop database {0}"".format( db_info['database'])) raise # Delete DB User try: db_info['root_engine'].execute(""DROP USER IF EXISTS {0}"".format( db_info['user'])) logger.info(""Deleted user {0}"".format(db_info['user'])) except: logger.critical(""Could not delete user {0}"".format(db_info['user'])) raise logger.info('Finished DB Management') def createDB(db_info): logger = logging.getLogger('OpenStack-Helm DB Drop or Create') # Create DB try: db_info['root_engine'].execute( ""CREATE DATABASE IF NOT EXISTS {0}"".format(db_info['database'])) logger.info(""Created database {0}"".format(db_info['database'])) except: logger.critical(""Could not create database {0}"".format( db_info['database'])) raise # Create DB User try: db_info['root_engine'].execute( ""GRANT ALL ON `{0}`.* TO \'{1}\'@\'%%\' IDENTIFIED BY \'{2}\'"" .format(db_info['database'], db_info['user'], db_info['password'])) logger.info( ""Created user {0} for {1}"".format( db_info['user'], db_info['database'])) except: logger.critical(""Could not create user {0} for {1}"".format( db_info['user'], db_info['database'])) raise # Test connection try: connection = db_info['user_engine'].connect() connection.close() logger.info(""Tested connection to DB @ {0}:{1}/{2} as {3}"".format( db_info['host'], db_info['port'], db_info['database'], db_info['user'])) except: logger.critical('Could not connect to database as user') raise logger.info('Finished DB Management') main() {{- end }} ",,204,0
openstack%2Fopenstack-helm~master~I3646be31ad7494a05b1ffcc3da50c0479b342087,openstack/openstack-helm,master,I3646be31ad7494a05b1ffcc3da50c0479b342087,Change osd pool default size set 1,ABANDONED,2018-01-31 09:50:08.000000000,2020-07-15 19:28:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25764}, {'_account_id': 25907}]","[{'number': 1, 'created': '2018-01-31 09:50:08.000000000', 'files': ['ceph/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c67f1c352f151e65a8555c97581b3432d825a29', 'message': ""Change osd pool default size set 1\n\nWhen deploying ceph chart with default values, you can't start rgw server.\nBecause osd pool size is too much big.\nSo setting ods_pool_default_size to 1.\n\nChange-Id: I3646be31ad7494a05b1ffcc3da50c0479b342087\n""}]",0,539477,2c67f1c352f151e65a8555c97581b3432d825a29,8,4,1,16513,,,0,"Change osd pool default size set 1

When deploying ceph chart with default values, you can't start rgw server.
Because osd pool size is too much big.
So setting ods_pool_default_size to 1.

Change-Id: I3646be31ad7494a05b1ffcc3da50c0479b342087
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/77/539477/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph/values.yaml'],1,2c67f1c352f151e65a8555c97581b3432d825a29,bug/ceph_osd_pool_default_size, osd_pool_default_size: 1,,1,0
openstack%2Fopenstack-helm~master~Ib8a81f3ef37766557038dd111aa584b2b5c2afc9,openstack/openstack-helm,master,Ib8a81f3ef37766557038dd111aa584b2b5c2afc9,Add the missing openstackdocstheme options,ABANDONED,2018-01-26 03:14:10.000000000,2020-07-15 19:28:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-01-26 03:14:10.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26dd73c83363773c6a2133b871dc8ce9ce7c0c4e', 'message': 'Add the missing openstackdocstheme options\n\nChange-Id: Ib8a81f3ef37766557038dd111aa584b2b5c2afc9\n'}]",0,538134,26dd73c83363773c6a2133b871dc8ce9ce7c0c4e,3,1,1,16523,,,0,"Add the missing openstackdocstheme options

Change-Id: Ib8a81f3ef37766557038dd111aa584b2b5c2afc9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/538134/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,26dd73c83363773c6a2133b871dc8ce9ce7c0c4e,add/theme-opts, # openstackdocstheme options repository_name = 'openstack/openstack-helm' bug_project = 'openstack-helm' bug_tag = 'doc',,5,0
openstack%2Fopenstack-helm~master~I15e2ab8cd4e45a4dc873db35571d8f2ca583c123,openstack/openstack-helm,master,I15e2ab8cd4e45a4dc873db35571d8f2ca583c123,rabbitmq:Rabbit Credential Management,ABANDONED,2018-01-18 20:15:56.000000000,2020-07-15 19:28:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-01-18 20:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e32ca0257e6936d3abdec6c5adff97517747b9d', 'message': 'rabbitmq:Rabbit Credential Management\n\nChange-Id: I15e2ab8cd4e45a4dc873db35571d8f2ca583c123\n'}, {'number': 2, 'created': '2018-01-25 15:49:08.000000000', 'files': ['rabbitmq/templates/bin/_bootstrap.sh.tpl', 'rabbitmq/templates/configmap-bin.yaml', 'rabbitmq/templates/secret-db.yaml', 'rabbitmq/templates/job-db-init.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/job-bootstrap.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/03e6855624bdad60be46f1463f8001d39d8e0ba5', 'message': 'rabbitmq:Rabbit Credential Management\n\nChange-Id: I15e2ab8cd4e45a4dc873db35571d8f2ca583c123\n'}]",0,535471,03e6855624bdad60be46f1463f8001d39d8e0ba5,5,1,2,26956,,,0,"rabbitmq:Rabbit Credential Management

Change-Id: I15e2ab8cd4e45a4dc873db35571d8f2ca583c123
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/535471/2 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/bin/_bootstrap.sh.tpl', 'rabbitmq/templates/configmap-bin.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/job-bootstrap.yaml']",4,7e32ca0257e6936d3abdec6c5adff97517747b9d,rabbitmq,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. {{- if .Values.manifests.job_bootstrap }} {{- $envAll := . }} {{- if .Values.bootstrap.enabled }} {{- $dependencies := .Values.dependencies.bootstrap }} {{- $mounts_rabbitmq_bootstrap := .Values.pod.mounts.rabbitmq_bootstrap.rabbitmq_bootstrap }} {{- $mounts_rabbitmq_bootstrap_init := .Values.pod.mounts.rabbitmq_bootstrap.init_container }} {{- $serviceAccountName := ""rabbitmq-bootstrap"" }} {{ tuple $envAll $dependencies $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: batch/v1 kind: Job metadata: name: rabbitmq-bootstrap spec: template: metadata: labels: {{ tuple $envAll ""rabbitmq"" ""bootstrap"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: serviceAccountName: {{ $serviceAccountName }} restartPolicy: OnFailure nodeSelector: {{ .Values.labels.node_selector_key }}: {{ .Values.labels.node_selector_value }} initContainers: {{ tuple $envAll $dependencies list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: rabbitmq-bootstrap image: {{ .Values.images.tags.bootstrap }} imagePullPolicy: {{ .Values.images.pull_policy }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.bootstrap | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - /tmp/bootstrap.sh volumeMounts: - name: rabbitmq-bin mountPath: /tmp/bootstrap.sh subPath: bootstrap.sh readOnly: true {{ if $mounts_rabbitmq_bootstrap.volumeMounts }}{{ toYaml $mounts_rabbitmq_bootstrap.volumeMounts | indent 12 }}{{ end }} volumes: - name: rabbitmq-bin configMap: name: rabbitmq-bin defaultMode: 0555 {{ if $mounts_rabbitmq_bootstrap.volumes }}{{ toYaml $mounts_rabbitmq_bootstrap.volumes | indent 9 }}{{ end }} {{- end }} {{- end }} ",,109,0
openstack%2Fopenstack-helm~master~Ib125b45f085674ee1ce62c4c9677e824e0f62dcb,openstack/openstack-helm,master,Ib125b45f085674ee1ce62c4c9677e824e0f62dcb,Add trove chart,ABANDONED,2017-12-11 09:34:05.000000000,2020-07-15 19:27:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 22694}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-12-11 09:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab66fd46095d837c1d5c515a8cfe2b4c2763a38c', 'message': '[WIP]Add trove chart\n\nAdd trove chart\n\nCinder is currently doing the chart, I lack the experience in\nthis area, there are so few questions:\n1.configuration items, I am currently deployed to deploy the\nconfiguration of the environment, there should be redundancy\n2.Some configuration items missing, such as nova_proxy related\n3.bootstrap, rally_test,so for the time being did not increase\n\nImplements: blueprint trove-chart\n\nChange-Id: Ib125b45f085674ee1ce62c4c9677e824e0f62dcb\n'}, {'number': 2, 'created': '2017-12-14 06:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6b2534fc5c53a8a4d8e03d5a00e28f74ca56a766', 'message': '[WIP]Add trove chart\n\nAdd trove chart\n\nCinder is currently doing the chart, I lack the experience in\nthis area, there are so few questions:\n1.configuration items, I am currently deployed to deploy the\nconfiguration of the environment, there should be redundancy\n2.Some configuration items missing, such as nova_proxy related\n3.bootstrap, rally_test,so for the time being did not increase\n\nImplements: blueprint trove-chart\n\nChange-Id: Ib125b45f085674ee1ce62c4c9677e824e0f62dcb\n'}, {'number': 3, 'created': '2018-01-07 20:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dfa868fdf7920d000446de592b2129cdcdc5b221', 'message': '[WIP]Add trove chart\n\nAdd trove chart\n\nCinder is currently doing the chart, I lack the experience in\nthis area, there are so few questions:\n1.configuration items, I am currently deployed to deploy the\nconfiguration of the environment, there should be redundancy\n2.Some configuration items missing, such as nova_proxy related\n3.bootstrap, rally_test,so for the time being did not increase\n\nImplements: blueprint trove-chart\n\nChange-Id: Ib125b45f085674ee1ce62c4c9677e824e0f62dcb\n'}, {'number': 4, 'created': '2018-01-15 09:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f6a51e315c19a5f5e0fc04bc83386207a71e298', 'message': 'Add trove chart\n\nAdd trove chart\n\nCinder is currently doing the chart, I lack the experience in\nthis area, there are so few questions:\n1.configuration items, I am currently deployed to deploy the\nconfiguration of the environment, there should be redundancy\n2.rally_test,so for the time being did not increase\n\nImplements: blueprint trove-chart\n\nChange-Id: Ib125b45f085674ee1ce62c4c9677e824e0f62dcb\n'}, {'number': 5, 'created': '2018-01-16 02:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83dd75f5876f119edc7b96d888a508402d001c72', 'message': 'Add trove chart\n\nAdd trove chart\n\nCinder is currently doing the chart, I lack the experience in\nthis area, there are so few questions:\n1.configuration items, I am currently deployed to deploy the\nconfiguration of the environment, there should be redundancy\n2.rally_test,so for the time being did not increase\n\nImplements: blueprint trove-chart\n\nChange-Id: Ib125b45f085674ee1ce62c4c9677e824e0f62dcb\n'}, {'number': 6, 'created': '2018-01-16 06:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b89f606127b49010c6c7b524d19ddcf51d22d2a5', 'message': 'Add trove chart\n\nAdd trove chart\n\nCinder is currently doing the chart, I lack the experience in\nthis area, there are so few questions:\n1.configuration items, I am currently deployed to deploy the\nconfiguration of the environment, there should be redundancy\n2.rally_test,so for the time being did not increase\n\nImplements: blueprint trove-chart\n\nChange-Id: Ib125b45f085674ee1ce62c4c9677e824e0f62dcb\n'}, {'number': 7, 'created': '2018-01-24 02:13:55.000000000', 'files': ['trove/templates/job-ks-service.yaml', 'trove/templates/pdb-api.yaml', 'trove/templates/bin/_trove-conductor.sh.tpl', 'trove/templates/etc/_trove_sudoers.tpl', 'trove/templates/bin/_trove-taskmanager.sh.tpl', 'trove/templates/job-db-init.yaml', 'trove/templates/job-db-drop.yaml', 'trove/requirements.yaml', 'trove/templates/deployment-api.yaml', 'trove/templates/bin/_bootstrap.sh.tpl', 'trove/templates/deployment-taskmanager.yaml', 'trove/templates/service-api.yaml', 'trove/templates/bin/_trove-api.sh.tpl', 'trove/templates/configmap-etc.yaml', 'trove/templates/ingress-api.yaml', 'trove/Chart.yaml', 'trove/templates/secret-keystone.yaml', 'trove/values.yaml', 'trove/templates/service-ingress-api.yaml', 'trove/templates/secret-db.yaml', 'trove/templates/deployment-conductor.yaml', 'trove/templates/job-ks-endpoints.yaml', 'trove/templates/job-db-sync.yaml', 'trove/templates/bin/_db-sync.sh.tpl', 'trove/templates/configmap-bin.yaml', 'trove/templates/job-ks-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c1c701d995dda98161838497478d737b5d7643b0', 'message': 'Add trove chart\n\nAdd trove chart\n\nCinder is currently doing the chart, I lack the experience in\nthis area, there are so few questions:\n1.configuration items, I am currently deployed to deploy the\nconfiguration of the environment, there should be redundancy\n2.rally_test,so for the time being did not increase\n\nImplements: blueprint trove-chart\n\nChange-Id: Ib125b45f085674ee1ce62c4c9677e824e0f62dcb\n'}]",1,527033,c1c701d995dda98161838497478d737b5d7643b0,27,3,7,22694,,,0,"Add trove chart

Add trove chart

Cinder is currently doing the chart, I lack the experience in
this area, there are so few questions:
1.configuration items, I am currently deployed to deploy the
configuration of the environment, there should be redundancy
2.rally_test,so for the time being did not increase

Implements: blueprint trove-chart

Change-Id: Ib125b45f085674ee1ce62c4c9677e824e0f62dcb
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/527033/6 && git format-patch -1 --stdout FETCH_HEAD,"['trove/templates/job-ks-service.yaml', 'trove/templates/pdb-api.yaml', 'trove/templates/bin/_trove-conductor.sh.tpl', 'trove/templates/etc/_trove_sudoers.tpl', 'trove/templates/bin/_trove-taskmanager.sh.tpl', 'trove/templates/job-db-init.yaml', 'trove/templates/job-db-drop.yaml', 'trove/requirements.yaml', 'trove/templates/deployment-api.yaml', 'trove/templates/deployment-taskmanager.yaml', 'trove/templates/service-api.yaml', 'trove/templates/bin/_trove-api.sh.tpl', 'trove/templates/configmap-etc.yaml', 'trove/templates/ingress-api.yaml', 'trove/Chart.yaml', 'trove/templates/secret-keystone.yaml', 'trove/values.yaml', 'trove/templates/service-ingress-api.yaml', 'trove/templates/secret-db.yaml', 'trove/templates/deployment-conductor.yaml', 'trove/templates/job-ks-endpoints.yaml', 'trove/templates/job-db-sync.yaml', 'trove/templates/bin/_db-sync.sh.tpl', 'trove/templates/configmap-bin.yaml', 'trove/templates/job-ks-user.yaml']",25,ab66fd46095d837c1d5c515a8cfe2b4c2763a38c,bp/trove-chart,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.job_ks_user }} {{- $envAll := . }} {{- $dependencies := .Values.dependencies.ks_user }} --- apiVersion: batch/v1 kind: Job metadata: name: trove-ks-user spec: template: metadata: labels: {{ tuple $envAll ""trove"" ""ks-user"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: restartPolicy: OnFailure nodeSelector: {{ .Values.labels.node_selector_key }}: {{ .Values.labels.node_selector_value }} initContainers: {{ tuple $envAll $dependencies ""[]"" | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: trove-ks-user image: {{ .Values.images.tags.ks_user }} imagePullPolicy: {{ .Values.images.pull_policy }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.ks_user | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} command: - /tmp/ks-user.sh volumeMounts: - name: ks-user-sh mountPath: /tmp/ks-user.sh subPath: ks-user.sh readOnly: true env: {{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin }} {{- include ""helm-toolkit.snippets.keystone_openrc_env_vars"" $env | indent 12 }} {{- end }} - name: SERVICE_OS_SERVICE_NAME value: ""trove"" {{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.user }} {{- include ""helm-toolkit.snippets.keystone_user_create_env_vars"" $env | indent 12 }} {{- end }} - name: SERVICE_OS_ROLE value: {{ .Values.endpoints.identity.auth.user.role | quote }} volumes: - name: ks-user-sh configMap: name: trove-bin defaultMode: 0555 {{- end }} ",,1706,0
openstack%2Fopenstack-helm~master~I69926c4f8bfca3a038b8d460a909cf01ea65bca1,openstack/openstack-helm,master,I69926c4f8bfca3a038b8d460a909cf01ea65bca1,value: remove mgr port,ABANDONED,2018-01-05 19:48:34.000000000,2020-07-15 19:27:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-01-05 19:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fd8fc40b0822361347133b5337a84b33152484fe', 'message': '    value: remove mgr port\n\n    This is the dashboard port, ceph-mgr does not have a port\n\n    Signed-off-by: Alexandre Marangone <amarango@redhat.com>\n\nChange-Id: I69926c4f8bfca3a038b8d460a909cf01ea65bca1\n'}, {'number': 2, 'created': '2018-01-06 20:05:49.000000000', 'files': ['ceph/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3f8e252a3565305ae70908f9f7aeca5dc98dac19', 'message': '    value: remove mgr port\n\n    This is the dashboard port, ceph-mgr does not have a port\n\n    Signed-off-by: Alexandre Marangone <amarango@redhat.com>\n\nChange-Id: I69926c4f8bfca3a038b8d460a909cf01ea65bca1\n'}]",0,531485,3f8e252a3565305ae70908f9f7aeca5dc98dac19,5,1,2,26509,,,0,"    value: remove mgr port

    This is the dashboard port, ceph-mgr does not have a port

    Signed-off-by: Alexandre Marangone <amarango@redhat.com>

Change-Id: I69926c4f8bfca3a038b8d460a909cf01ea65bca1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/531485/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph/values.yaml'],1,fd8fc40b0822361347133b5337a84b33152484fe,mgr-port,, mgr: 7000,0,1
openstack%2Fopenstack-helm~master~Ife6507226e03d620afe16e4d6f1302348ecf76a6,openstack/openstack-helm,master,Ife6507226e03d620afe16e4d6f1302348ecf76a6,Updated image to rabbitmq:3.7.0-rc.1 Removed etcd dependencies,ABANDONED,2017-11-15 01:58:43.000000000,2020-07-15 19:27:42.000000000,,"[{'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-15 01:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dcf0f0599ff71b702e126230441f6823c3abb745', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 2, 'created': '2017-11-15 15:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f5d25d066aff03fb92b1754697e2a1afff70c26', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 3, 'created': '2017-11-27 16:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9802725fdcec99277153184fa15816c214838df5', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 4, 'created': '2017-11-27 20:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6a222139b1e7cbb70ebede17be7c3f882505818', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 5, 'created': '2017-11-29 19:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2afe6a7320c52417c548bd35a248e6d6957abb9e', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 6, 'created': '2017-11-30 16:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aaf72af9783b285e5d03b7ffcaccf47bfa69d379', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 7, 'created': '2017-12-01 19:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1b21056a0beb1f739a4ed05016366e356ca83e6', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 8, 'created': '2017-12-04 16:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca4b2624cc7391c70ec413227060fe95f4370aac', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 9, 'created': '2017-12-04 21:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e6fcb3facbb89ecfa75cffec133a9cf7def9a15f', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 10, 'created': '2017-12-11 21:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b984cbe286e20ef3b0f30bd6792d33d9082bba07', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 11, 'created': '2017-12-12 01:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9bb483dc71791aa3f269b858c41f8f2298295925', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 12, 'created': '2017-12-12 16:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3798256b0e26838b3e15eb507aebd9c4ec8685a6', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 13, 'created': '2017-12-14 15:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ad27ab4c991afbb6e926b0d97e35e691e79a7b84', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 14, 'created': '2017-12-14 16:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3d405497e19d88cc8750d6f35d6fb8cc36880913', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 15, 'created': '2017-12-14 18:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e1179f5cb04ad5322cd9def41ecf83985473431b', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 16, 'created': '2017-12-14 20:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3dd6c98421d6d9d0c6ddb9c2ef51ee243b33123', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 17, 'created': '2017-12-14 21:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9356d81b4c585be661f41c7fc9c9a4715bab879', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 18, 'created': '2017-12-15 19:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/584e95419bad8f5935bff50b1ff42da004e75c92', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 19, 'created': '2017-12-15 21:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70a3925bea51bfb527c955052349e472a25da85f', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 20, 'created': '2017-12-15 21:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a97601a9db5a416c33f151620d2b680e54e07646', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 21, 'created': '2017-12-18 16:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ad99bef37784f28c5066147afe7029588481006b', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 22, 'created': '2017-12-18 17:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/069a9d794449ab4eeb593bd3b1692ceaf4efbef4', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 23, 'created': '2017-12-18 18:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4f6fd5016cffc4677a5617ba4e17a42d5f6fb0a6', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 24, 'created': '2017-12-18 21:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8cf3387aa16efcb527bb1b2727e22803bfc3e7e3', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 25, 'created': '2017-12-19 20:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a43a8643bf27152f835f3e027295620293d5425', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 26, 'created': '2017-12-19 21:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e9f6e3985201ba6f148dfe411f904e389f8d793', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 27, 'created': '2017-12-20 00:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/015fc5b2507296b0c89d963ae0969869d7a65815', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 28, 'created': '2017-12-20 15:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2eb145ae190e20dea4193852845c7d6177adda6f', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 29, 'created': '2017-12-20 16:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/baf053c5ab4b9be48e46bb34d5b1ed102281c0d5', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 30, 'created': '2017-12-20 20:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7a7b7d8ac096eac380e40a73b59b498f275c0d2c', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}, {'number': 31, 'created': '2017-12-21 17:48:03.000000000', 'files': ['rabbitmq/templates/etc/_rabbitmq-env.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq.config.tpl', 'rabbitmq/templates/bin/_rabbitmq-liveness.sh.tpl', 'rabbitmq/templates/configmap-bin.yaml', 'rabbitmq/templates/bin/_rabbitmq-check-helpers.sh.tpl', 'rabbitmq/templates/configmap-etc.yaml', 'rabbitmq/.helmignore', 'rabbitmq/templates/service.yaml', 'rabbitmq/templates/bin/_rabbitmq-readiness.sh.tpl', 'rabbitmq/templates/service-discovery.yaml', 'rabbitmq/templates/deployment.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1e46dcd468509ec52a230fd0c9c718896ba4316f', 'message': 'Updated image to rabbitmq:3.7.0-rc.1\nRemoved etcd dependencies\n\nChange-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6\n'}]",41,519938,1e46dcd468509ec52a230fd0c9c718896ba4316f,137,6,31,26956,,,0,"Updated image to rabbitmq:3.7.0-rc.1
Removed etcd dependencies

Change-Id: Ife6507226e03d620afe16e4d6f1302348ecf76a6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/519938/22 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/etc/_rabbitmq-disc-node.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq-ram-node.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq-env.conf.tpl', 'rabbitmq/templates/etc/_rabbitmq.config.tpl', 'rabbitmq/templates/bin/_rabbitmq-liveness.sh.tpl', 'rabbitmq/templates/bin/_rabbitmq-check-helpers.sh.tpl', 'rabbitmq/templates/configmap-etc.yaml', 'rabbitmq/.helmignore', 'rabbitmq/templates/service.yaml', 'rabbitmq/templates/bin/_rabbitmq-readiness.sh.tpl', 'rabbitmq/templates/service-disc-node.yaml', 'rabbitmq/templates/service-discovery.yaml', 'rabbitmq/templates/deployment.yaml', 'rabbitmq/templates/statefulset-ram-node.yaml', 'rabbitmq/templates/statefulset-disc-node.yaml', 'rabbitmq/values.yaml', 'rabbitmq/requirements.yaml', 'rabbitmq/templates/service-ram-node.yaml']",18,dcf0f0599ff71b702e126230441f6823c3abb745,rammitmq,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. apiVersion: v1 kind: Service metadata: name: rabbitmq-ram-node spec: clusterIP: None selector: app: rabbitmq node_type: ram ports: - port: {{.Values.network.port.public}} ",,446,316
openstack%2Fopenstack-helm~master~I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5,openstack/openstack-helm,master,I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5,WIP: Updating all in one document,ABANDONED,2017-12-08 15:27:31.000000000,2020-07-15 19:27:37.000000000,,"[{'_account_id': 7}, {'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20443}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 21473}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26201}, {'_account_id': 27397}]","[{'number': 1, 'created': '2017-12-08 15:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/398ac93065573196178b311992240a720f73c531', 'message': 'Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 2, 'created': '2017-12-08 17:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/77081b804d3f415b74e21c8742be0ac0104dcc26', 'message': 'Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored by: Sam Jonesi <sj019q@att.com>\nCo-Authored by: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 3, 'created': '2017-12-08 17:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73279b120582bf29f23747d5a063cd47b808dfab', 'message': 'Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored by: Sam Jonesi <sj019q@att.com>\nCo-Authored by: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 4, 'created': '2017-12-08 21:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d61cb662a6207878ccfbe8631148c8ec00d8ba1d', 'message': 'Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored by: Sam Jonesi <sj019q@att.com>\nCo-Authored by: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 5, 'created': '2017-12-12 15:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7eed94416e7dc57245afeba4aeb6c89c374c50ba', 'message': 'Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored by: Sam Jonesi <sj019q@att.com>\nCo-Authored by: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 6, 'created': '2017-12-12 16:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3416280ec9c34c3fe17b32de43113ca7c158d0b2', 'message': 'Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 7, 'created': '2017-12-12 17:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1ff673e5f5509522611bf6b7a6cbd6a43a038dfc', 'message': 'Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 8, 'created': '2017-12-12 20:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c2552db14fc9cc5c3658388793afa86ad3dda0cd', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 9, 'created': '2017-12-12 21:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7bc04705f07e72009b93b8b9f3a0aa5a20bea05', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 10, 'created': '2017-12-12 21:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87662a4c8e983a3424de6914db32f848c79bd4d6', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 11, 'created': '2017-12-13 15:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/47056e4bcca0fcfe2666041b725ab90e2c5778cd', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 12, 'created': '2017-12-13 15:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e35e3e2f1243993e89d3016650f567a878dcf452', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 13, 'created': '2017-12-13 16:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c431c765aefbff34acbbf8e8d38a370a9d652cf', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 14, 'created': '2017-12-13 16:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0869234ae14f32ffb035c95ad4a966bc01e8515', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 15, 'created': '2017-12-13 16:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9e4535fdeccbbf246367fcfc79f1607ce0ddc21d', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 16, 'created': '2017-12-13 17:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a832aadeeac804c918bffe4f0193cef7fac49b03', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 17, 'created': '2017-12-13 17:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff92da196eff0d17c93672ce080cd54ffeea2e03', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 18, 'created': '2017-12-13 20:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ebeb1e49dac853ff64281f45f0e62d4d17e872e', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 19, 'created': '2017-12-13 20:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8fe69a5467daa0164562c3dc6826033f7b5b7fc1', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 20, 'created': '2017-12-13 20:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/463bf17b9de241720f9b5bd41bc6b0868cb3a061', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 21, 'created': '2017-12-13 21:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/66baff6f8623025569fd8399d65626621684459e', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 22, 'created': '2017-12-13 21:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8358bfbf5a20db67c9f8cdfbed874604aa250292', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 23, 'created': '2017-12-13 21:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5562b61833d80111b2b4df35c4fd4d243deed9ab', 'message': 'WIP: Updating all in one document\n\nAdding desciptions for ceph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 24, 'created': '2017-12-14 16:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4203bd2e23215a3aa10ea6400c4bff4aea5c8b7a', 'message': 'WIP: Updating all in one document\n\nDocs: updating developer documentation to provide greater details on components\nand how they interact with each other.\n\nAdding desciptions for ceph, ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 25, 'created': '2017-12-14 18:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb4340e36cda17b025cbb12e8042fad2a141e0bc', 'message': 'WIP: Updating all in one document\n\nDocs: updating developer documentation to provide greater details on components\nand how they interact with each other.\n\nAdding desciptions for ceph, ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 26, 'created': '2017-12-18 19:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/766955e5f6714b227787d33bb95f4258eab95a03', 'message': 'WIP: Updating all in one document\n\nDocs: updating developer documentation to provide greater details on components\nand how they interact with each other.\n\nAdding desciptions for ceph, ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 27, 'created': '2017-12-18 19:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52cae432cc504022b482d838840d9d0d88ebe9c9', 'message': 'WIP: Updating all in one document\n\nDocs: updating developer documentation to provide greater details on components\nand how they interact with each other.\n\nAdding desciptions for ceph, ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 28, 'created': '2017-12-18 19:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5f7761ef2a4786813a6ff4349cdf9220296ef2db', 'message': 'WIP: Updating all in one document\n\nDocs: updating developer documentation to provide greater details on components\nand how they interact with each other.\n\nAdding desciptions for ceph, ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 29, 'created': '2017-12-18 20:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/66072d900784c17584c0edf46cebbe85950f97c2', 'message': 'WIP: Updating all in one document\n\nDocs: updating developer documentation to provide greater details on components\nand how they interact with each other.\n\nAdding desciptions for ceph, ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 30, 'created': '2017-12-18 20:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/063e07de2756301fab04859272f2b6283fe9df93', 'message': 'WIP: Updating all in one document\n\nDocs: updating developer documentation to provide greater details on components\nand how they interact with each other.\n\nAdding desciptions for ceph, ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}, {'number': 31, 'created': '2017-12-18 20:58:08.000000000', 'files': ['doc/source/install/developer/all-in-one.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2f7e35bde0db6167c9839645e73d459542ff9cc', 'message': 'WIP: Updating all in one document\n\nDocs: updating developer documentation to provide greater details on components\nand how they interact with each other.\n\nAdding desciptions for ceph, ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch\n\nCo-Authored By: Sam Jonesi <sj019q@att.com>\nCo-Authored By: Gabe Maurer <gm789v@att.com>\n\nChange-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5\n'}]",62,526704,a2f7e35bde0db6167c9839645e73d459542ff9cc,125,12,31,27396,,,0,"WIP: Updating all in one document

Docs: updating developer documentation to provide greater details on components
and how they interact with each other.

Adding desciptions for ceph, ceph-ns-activate, mariaDB, RabbitMQ,
Memcached, Keystone, Horizon, ceph-radosgateway, Glance, OpenVSwitch

Co-Authored By: Sam Jonesi <sj019q@att.com>
Co-Authored By: Gabe Maurer <gm789v@att.com>

Change-Id: I6e9f6a8022553f0d4a30b0fb9e8bf949440753d5
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/04/526704/9 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/all-in-one.rst'],1,398ac93065573196178b311992240a720f73c531,AllInOneDetails,"You have successfully cloned the two repositories.At the end you will get this status .. code-block:: ini < PLAY RECAP ********************************************************************* local : ok=13 changed=7 unreachable=0 failed=0 > This will complete the setup and direct you to the openstack-helm-infra directory. This completes the installation of the openstack client and also builds the charts. The output for every chart is shown as chart linted no failures.You can now deploy the ingress controller, which gives you the ability to expose applications to the Internet. you can see the status as deployed. You can now deploy the OpenStack storage service Ceph, which will provide scalable distributed storage. You can now deploy the OpenStack namespace Ceph-ns-activate, which will provide a namespace for ceph to use in openstack. This requires ceph to be installed You can now deploy the OpenStack database system service MariaDB, which will provide the necessary MySQL database connection required for OpenStack. You can now deploy the OpenStack messaging service RabbitMQ, which will provide AMQP communication between components. You can now deploy the OpenStack memory caching service Memcached, which will provide general purpose memory caching that will speed up general performance gain. You can now deploy the OpenStack identity management service Keystone, which will provide API client authentication and implement OpenStacks Identity API. You can now deploy the OpenStack service Ceph-radosgateway. This requires Ceph and Ceph-ns-activate to be installed. You can now deploy the OpenStack service Horizon, which will provide a user interface for OpenStack services such as Nova and and Keystone. You can now deploy the OpenStack image service Glance, which will provide an area for users to upload and search for data assets from other services. You can now deploy the OpenStack network service OpenvSwitch, which will provide a highly expandable series of virtual networks. You can now deploy Libvirt, which handles management and interaction of virtual machine instances. It defines the properties of virtual machines via xml files. You can now deploy Openstack Nova along with Neutron to create VMs and up networking between VMs. Both are dependant on Libvirt for VM management. This script gives you the ability to have your VMs communicate with the public internet. This script assigns IP addresses and sets up masquerading on the default route dev to the public subnet. You can now use the Openstack Cinder service to provide virtualized storage. This is dependant on Nova as a consumer of storage for the end-users. You can now deploy Heat, an orchestration engine for cloud-based applications. It oversees the entire lifetime of a cloud-based software application. While based primarily in infratructure, it can interface with software tools such as Chef and Puppet. You can use this script to give Openstack a test drive. This script creates a cloud instance with a network, sets up an SSH keypair in Nova, SSHs into the VM and checks if it can reach the outside world. ",,74,0
openstack%2Fopenstack-helm~master~If9cc358a2ae87d0eeca6f2da94af7dae5161b241,openstack/openstack-helm,master,If9cc358a2ae87d0eeca6f2da94af7dae5161b241,use init container to prepare osd disks. use osd activiate in main container,ABANDONED,2017-08-07 19:53:42.000000000,2020-07-15 19:27:33.000000000,,[{'_account_id': 26201}],"[{'number': 1, 'created': '2017-08-07 19:53:42.000000000', 'files': ['ceph/templates/daemonset-osd-devices.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cefc3902a1d9e19d27fb48fa80ca4d92ead2d722', 'message': 'use init container to prepare osd disks. use osd activiate in main container\n\nChange-Id: If9cc358a2ae87d0eeca6f2da94af7dae5161b241\nSigned-off-by: Huamin Chen <hchen@redhat.com>\n'}]",0,491586,cefc3902a1d9e19d27fb48fa80ca4d92ead2d722,6,1,1,26509,,,0,"use init container to prepare osd disks. use osd activiate in main container

Change-Id: If9cc358a2ae87d0eeca6f2da94af7dae5161b241
Signed-off-by: Huamin Chen <hchen@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/491586/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph/templates/daemonset-osd-devices.yaml'],1,cefc3902a1d9e19d27fb48fa80ca4d92ead2d722,feat/ceph-osd-disk," initContainers: - name: osd-prepare-pod value: OSD_CEPH_DISK_PREPARE - name: KV_TYPE value: k8s - name: CLUSTER value: ceph - name: CEPH_GET_ADMIN_KEY value: ""1"" - name: OSD_DEVICE value: {{ $value.device }} {{ if index $value ""journal"" }} - name: JOURNAL value: {{ $value.journal }} {{ end }} - name: OSD_FORCE_ZAP value: {{ $value.zap | quote }} {{ if $.Values.debug }} - name: DEBUG value: {{ $.Values.debug }} {{ end }} - name: HOSTNAME valueFrom: fieldRef: fieldPath: spec.nodeName containers: - name: osd-activate-pod image: {{ $.Values.images.daemon }} imagePullPolicy: {{ $.Values.images.pull_policy }} volumeMounts: - name: devices mountPath: /dev - name: ceph mountPath: /var/lib/ceph readOnly: false - name: ceph-bin mountPath: /entrypoint.sh subPath: entrypoint.sh readOnly: true - name: ceph-bin mountPath: /start_osd.sh subPath: start_osd.sh readOnly: true - name: ceph-bin mountPath: /osd_disks.sh subPath: osd_disks.sh readOnly: true - name: ceph-bin mountPath: /osd_disk_activate.sh subPath: osd_disk_activate.sh readOnly: true - name: ceph-bin mountPath: /osd_disk_prepare.sh subPath: osd_disk_prepare.sh readOnly: true - name: ceph-bin mountPath: /common_functions.sh subPath: common_functions.sh readOnly: true - name: ceph-etc mountPath: /etc/ceph/ceph.conf subPath: ceph.conf readOnly: true - name: ceph-client-admin-keyring mountPath: /etc/ceph/ceph.client.admin.keyring subPath: ceph.client.admin.keyring readOnly: false - name: ceph-mon-keyring mountPath: /etc/ceph/ceph.mon.keyring subPath: ceph.mon.keyring readOnly: false - name: ceph-bootstrap-osd-keyring mountPath: /var/lib/ceph/bootstrap-osd/ceph.keyring subPath: ceph.keyring readOnly: false - name: ceph-bootstrap-mds-keyring mountPath: /var/lib/ceph/bootstrap-mds/ceph.keyring subPath: ceph.keyring readOnly: false - name: ceph-bootstrap-rgw-keyring mountPath: /var/lib/ceph/bootstrap-rgw/ceph.keyring subPath: ceph.keyring readOnly: false securityContext: privileged: true env: - name: CEPH_DAEMON value: OSD_CEPH_DISK_ACTIVATE", containers: - name: osd-pod value: osd,88,3
openstack%2Fopenstack-helm~master~I28f2c49b6ad87adb99789189f628713b7ee9a5a6,openstack/openstack-helm,master,I28f2c49b6ad87adb99789189f628713b7ee9a5a6,Add proxysql to mariadb,ABANDONED,2017-07-26 20:58:25.000000000,2020-07-15 19:27:27.000000000,,"[{'_account_id': 17591}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-07-26 20:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4c9f46b9ab12aa9b36633365c8fdfbd16f4d53fe', 'message': 'WIP -- proxysql chart\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 2, 'created': '2017-07-27 14:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f97840cb1b39ab87b7b4d702b62c7976cdd2315c', 'message': 'WIP -- proxysql chart\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 3, 'created': '2017-07-28 15:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/296a74a13982023d2fcaeb97a22e3c5febdc5134', 'message': 'WIP -- proxysql chart\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 4, 'created': '2017-07-28 16:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e61913bed419a24f3fa4eb1947e403394f593e59', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 5, 'created': '2017-07-28 16:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4adb6305da9744b520bb6eec00f5fe8e5482cef5', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 6, 'created': '2017-07-28 16:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7691f9781114a3703073359713de270bd6375b6', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 7, 'created': '2017-07-28 16:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/16de3e9cb27f4065c87de49525afca9d34a8fc1a', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 8, 'created': '2017-07-28 18:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94838ba76f817b0b581902098194f4b92684f43f', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 9, 'created': '2017-07-28 21:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c76aab87a8a8c6c3ce25eb8b3d4cd0c2e7915a0', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 10, 'created': '2017-07-31 15:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c810b7d930f93bd0a9a685ecab96c4f0606be4e9', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 11, 'created': '2017-07-31 15:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9adc60c44c65043095f9d9a2cef8bea820308442', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 12, 'created': '2017-07-31 16:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0103e088b658f63b8e8b31d6f3aeb6cc9924741f', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 13, 'created': '2017-08-02 14:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4eb4ca15961830758d25188fcd921f26bd0042df', 'message': 'DNM/WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 14, 'created': '2017-08-02 16:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/810dc7d5047f2c74975d7edb0a4dceee9ad56792', 'message': 'DNM/WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 15, 'created': '2017-08-02 16:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f531d443930dc6829089ce152abab6016e6825a2', 'message': 'DNM/WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 16, 'created': '2017-08-03 19:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0efec6d1e6c35accb79d77fd7deec8fd6f72daa4', 'message': 'DNM/WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 17, 'created': '2017-08-04 02:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ddc91f15517098ed6665ffd57ffe52db785e7d67', 'message': 'DNM/WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 18, 'created': '2017-08-04 02:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/127d441a625c290222ecdf4b7b096f797e0f6825', 'message': 'DNM/WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 19, 'created': '2017-08-04 03:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f25be596e8cfb6a543a0118948585745d862a5cb', 'message': 'DNM/WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 20, 'created': '2017-08-04 03:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b9cb66bc71291bdeb979f1828226d1071cddafd4', 'message': 'DNM/WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 21, 'created': '2017-08-06 21:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/425319f95114beccfb9cfc59ec407e072bbc318f', 'message': 'DNM/WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 22, 'created': '2017-08-06 23:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4aff0676e3e909356219b2b9b615037e4a0108ca', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 23, 'created': '2017-08-07 00:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d961224631041312aff4acedc4b3feeb6e7d4ddc', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 24, 'created': '2017-08-07 18:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d0a9c6a1ad0895f0e2bd58daf29c4c1ee593e8b', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 25, 'created': '2017-08-07 21:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0fa2a5a0043325ad504156e3f5ffb478c7c1a0cc', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 26, 'created': '2017-08-08 14:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6135015eabffcfb58d781318dfb82bfc309a78a8', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 27, 'created': '2017-08-08 14:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/19f32b662413567ae3e0b80c19810625e6e04217', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 28, 'created': '2017-08-08 14:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/37dc449dd8c89ecf24dbb6f85f2920f45aa4f3c4', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 29, 'created': '2017-08-14 16:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5862b07e1866c11c0109fea29afe06bf1953a6e', 'message': 'WIP -- Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 30, 'created': '2017-08-15 20:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9838c91a8333e95dd18cb3ea690ca6c4988ad48c', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 31, 'created': '2017-08-15 20:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7bdd11c9c402d0b0e249d4bae3df5267eebfe314', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 32, 'created': '2017-08-16 12:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/741e81b62120c44a95bff007ae9686d7a60cd90b', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 33, 'created': '2017-08-16 14:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/36c87c2915a1e0f69d128458d46916d54375e656', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 34, 'created': '2017-08-18 19:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3282e645cddb54dc56b9d049e7188fd9a4c98e9e', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 35, 'created': '2017-08-22 15:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a88c89d1caa8913963fc358d72c730522d65c9c7', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 36, 'created': '2017-08-22 18:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5e4bcaca08c0d1540d8e670af0169fbbe75c3b9', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 37, 'created': '2017-08-24 18:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7d4abe838ea9c803c174612861b70164a7f2dd30', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 38, 'created': '2017-08-24 19:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/edc0d726d22d1724d1a4e52d56c838b412d940c2', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 39, 'created': '2017-08-25 13:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a3ff7f113a8666e921271ae8fafbcb80030f4103', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 40, 'created': '2017-08-25 14:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e599cc4fadfc42a93037ae1c1f5d6996d98aa7ed', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 41, 'created': '2017-08-25 15:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bffc85de7c0297fb05f8ddf7edc42385afce9a3f', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}, {'number': 42, 'created': '2017-08-28 13:41:50.000000000', 'files': ['keystone/templates/job-proxysql-user.yaml', 'magnum/templates/configmap-bin.yaml', 'mariadb/templates/secrets/_mariadb_admin_user.cnf.tpl', 'mariadb/templates/configmap-etc-proxysql.yaml', 'glance/templates/job-proxysql-user.yaml', 'mariadb/templates/job-bootstrap-proxysql.yaml', 'horizon/values.yaml', 'keystone/templates/configmap-bin.yaml', 'nova/templates/job-proxysql-user.yaml', 'keystone/values.yaml', 'barbican/templates/job-proxysql-user.yaml', 'senlin/values.yaml', 'senlin/templates/configmap-bin.yaml', 'mistral/values.yaml', 'barbican/values.yaml', 'horizon/templates/job-proxysql-user.yaml', 'magnum/values.yaml', 'mariadb/templates/secrets-proxysql-etc.yaml', 'mariadb/templates/service-mariadb.yaml', 'mistral/templates/configmap-bin.yaml', 'mariadb/templates/service-discovery-proxysql.yaml', 'senlin/templates/job-proxysql-user.yaml', 'mariadb/templates/configmap-bin-mariadb.yaml', 'cinder/templates/configmap-bin.yaml', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/job-proxysql-user.yaml', 'nova/values.yaml', 'heat/templates/job-proxysql-user.yaml', 'mariadb/templates/service-discovery-mariadb.yaml', 'mariadb/templates/configmap-etc-mariadb.yaml', 'glance/values.yaml', 'helm-toolkit/templates/scripts/_db-proxy-user.sh.tpl', 'mariadb/templates/statefulset-proxysql.yaml', 'mariadb/templates/secrets-mariadb-etc.yaml', 'cinder/templates/job-proxysql-user.yaml', 'glance/templates/configmap-bin.yaml', 'mariadb/templates/secrets/_proxysql_admin_user.cnf.tpl', 'mariadb/templates/bin/_proxysql.sh.tpl', 'mariadb/templates/service-proxysql.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'mariadb/templates/bin/_proxysql_galera_checker.sh.tpl', 'mistral/templates/job-proxysql-user.yaml', 'magnum/templates/job-proxysql-user.yaml', 'mariadb/values.yaml', 'barbican/templates/configmap-bin.yaml', 'mariadb/templates/configmap-bin-proxysql.yaml', 'mariadb/templates/etc/_proxysql.cnf.tpl', 'mariadb/templates/statefulset-mariadb.yaml', 'horizon/templates/configmap-bin.yaml', 'mariadb/templates/bin/_bootstrap.sh.tpl', 'heat/templates/configmap-bin.yaml', 'neutron/values.yaml', 'nova/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/964e0e21af365beea993aeb7f1c0c0ceada2f019', 'message': 'Add proxysql to mariadb\n\nThis tests the ability for proxysql to front mariadb to mitigate\nissues observed with attempting to stand up multiple services at\nonce. Also changes services to use proxysql endpoint instead of\nmariadb for testing purposes.\n\nChange-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6\n'}]",5,487588,964e0e21af365beea993aeb7f1c0c0ceada2f019,262,3,42,17591,,,0,"Add proxysql to mariadb

This tests the ability for proxysql to front mariadb to mitigate
issues observed with attempting to stand up multiple services at
once. Also changes services to use proxysql endpoint instead of
mariadb for testing purposes.

Change-Id: I28f2c49b6ad87adb99789189f628713b7ee9a5a6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/88/487588/36 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/index.rst', 'mariadb/values.yaml', 'proxysql/templates/service.yaml', 'proxysql/templates/statefulset.yaml', 'proxysql/requirements.yaml', 'proxysql/templates/etc/_proxysql.cnf.tpl', 'proxysql/values.yaml', 'proxysql/Chart.yaml', 'mariadb/templates/pdb.yaml', 'proxysql/templates/configmap-bin.yaml', 'proxysql/templates/configmap-etc.yaml', 'proxysql/templates/bin/_proxysql.sh.tpl']",12,4c9f46b9ab12aa9b36633365c8fdfbd16f4d53fe,add_proxysql,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. set -ex COMMAND=""${@:-start}"" function start () { exec /usr/bin/proxysql --initial -f -c /etc/proxysql/proxysql.cnf } function stop () { kill -TERM 1 } $COMMAND ",,408,9
openstack%2Fopenstack-helm-infra~master~Id9f53cdf12dc2dc58176d6d1623dc98fe6b3630a,openstack/openstack-helm-infra,master,Id9f53cdf12dc2dc58176d6d1623dc98fe6b3630a,DellEMC ScaleIO chart to configure secret and StorageClass,ABANDONED,2017-09-13 17:23:11.000000000,2020-07-15 19:27:12.000000000,,[{'_account_id': 23928}],"[{'number': 1, 'created': '2017-09-13 17:23:11.000000000', 'files': ['scaleio/Chart.yaml', 'Makefile', 'scaleio/templates/storage.yaml', 'scaleio/values.yaml', 'scaleio/.helmignore', 'scaleio/templates/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/034e266b1958e58f4d2ec4602332234d74554c15', 'message': 'DellEMC ScaleIO chart to configure secret and StorageClass\n\nNew ScaleIO chart to configure StorageClass in order\nto leverage ScaleIO volumes through new client\nintroduced in Kubernetes 1.6. OpenStack charts like\nmariadb can leverage ScaleIO volumes for their storage\nneeds.\n\nReference to ScaleIO Kubernetes client.\nhttps://github.com/kubernetes/kubernetes/tree/master/examples/volumes/scaleio\n\nPreviously attempted to submit this code https://review.openstack.org/#/c/465695/2\nPete Birley and Michal Dulko suggested to create the scaleio chart under openstack-helm-infra\nso here it is!\n\nChange-Id: Id9f53cdf12dc2dc58176d6d1623dc98fe6b3630a\nSigned-off-by: Eric Caron <eric.caron@emc.com>\n'}]",0,503758,034e266b1958e58f4d2ec4602332234d74554c15,4,1,1,23535,,,0,"DellEMC ScaleIO chart to configure secret and StorageClass

New ScaleIO chart to configure StorageClass in order
to leverage ScaleIO volumes through new client
introduced in Kubernetes 1.6. OpenStack charts like
mariadb can leverage ScaleIO volumes for their storage
needs.

Reference to ScaleIO Kubernetes client.
https://github.com/kubernetes/kubernetes/tree/master/examples/volumes/scaleio

Previously attempted to submit this code https://review.openstack.org/#/c/465695/2
Pete Birley and Michal Dulko suggested to create the scaleio chart under openstack-helm-infra
so here it is!

Change-Id: Id9f53cdf12dc2dc58176d6d1623dc98fe6b3630a
Signed-off-by: Eric Caron <eric.caron@emc.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/58/503758/1 && git format-patch -1 --stdout FETCH_HEAD,"['scaleio/Chart.yaml', 'Makefile', 'scaleio/templates/storage.yaml', 'scaleio/values.yaml', 'scaleio/.helmignore', 'scaleio/templates/secrets.yaml']",6,034e266b1958e58f4d2ec4602332234d74554c15,,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. {{- if .Values.secrets.use_common_secrets -}} --- apiVersion: v1 kind: Secret metadata: name: {{ .Values.secrets.name }} namespace: {{ .Values.secrets.namespace }} type: kubernetes.io/scaleio data: username: | {{ .Values.secrets.username | b64enc | indent 4 }} password: | {{ .Values.secrets.password | b64enc | indent 4 }} {{- end }} ",,164,0
openstack%2Fopenstack-helm~master~I11b2c6d31229e6bae746abcae88c7702f83985e0,openstack/openstack-helm,master,I11b2c6d31229e6bae746abcae88c7702f83985e0,DellEMC ScaleIO storage integration with Cinder,ABANDONED,2017-09-12 19:43:19.000000000,2020-07-15 19:27:07.000000000,,"[{'_account_id': 24049}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-09-12 19:43:19.000000000', 'files': ['cinder/values.yaml', 'cinder/templates/deployment-backup.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/60daae11e007bc4f05121225de7373e1873af121', 'message': 'DellEMC ScaleIO storage integration with Cinder\n\nModified Cinder chart in order to support DelEMC ScaleIO\nas an alternative cinder backend.  Chart modification assumes\nScaleIO cluster is pre-installed outside of kubernetes cluster.\n\nChanges mainly adds an extra backend to backends.conf as an alternative\nto ceph.  Changes are following OpenStack documentation to configure\nblock storage.\n\nhttps://docs.openstack.org/newton/config-reference/block-storage/drivers/emc-scaleio-driver.html\n\nA previous attempt to submit this code was made https://review.openstack.org/#/c/465695/2\nbut at the time cinder was under heavy restructuring and it was suggested to wait until the\nrestructing was completed. Now that the cinder code was restructured, I have re-applied the\nmodifications to integrate scaleio as a cinder backend.\n\nChange-Id: I11b2c6d31229e6bae746abcae88c7702f83985e0\nSigned-off-by: Eric Caron <eric.caron@emc.com>\n'}]",0,503149,60daae11e007bc4f05121225de7373e1873af121,7,2,1,23535,,,0,"DellEMC ScaleIO storage integration with Cinder

Modified Cinder chart in order to support DelEMC ScaleIO
as an alternative cinder backend.  Chart modification assumes
ScaleIO cluster is pre-installed outside of kubernetes cluster.

Changes mainly adds an extra backend to backends.conf as an alternative
to ceph.  Changes are following OpenStack documentation to configure
block storage.

https://docs.openstack.org/newton/config-reference/block-storage/drivers/emc-scaleio-driver.html

A previous attempt to submit this code was made https://review.openstack.org/#/c/465695/2
but at the time cinder was under heavy restructuring and it was suggested to wait until the
restructing was completed. Now that the cinder code was restructured, I have re-applied the
modifications to integrate scaleio as a cinder backend.

Change-Id: I11b2c6d31229e6bae746abcae88c7702f83985e0
Signed-off-by: Eric Caron <eric.caron@emc.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/49/503149/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/values.yaml', 'cinder/templates/deployment-backup.yaml']",2,60daae11e007bc4f05121225de7373e1873af121,," {{- if include ""cinder.is_ceph_backup_configured"" . }}"," {{- if eq .Values.conf.cinder.default.cinder.backup_driver ""cinder.backup.drivers.ceph"" }}",11,1
openstack%2Fopenstack-helm-infra~master~I540d51581cb5028c1eab69537d6241d592750b9d,openstack/openstack-helm-infra,master,I540d51581cb5028c1eab69537d6241d592750b9d,[WIP] [DNM] Initial calico helm chart commit,ABANDONED,2017-09-22 23:40:52.000000000,2020-07-15 19:27:02.000000000,,[],"[{'number': 1, 'created': '2017-09-22 23:40:52.000000000', 'files': ['calico/templates/etc/bird/_bird6_aggr.toml.template.tpl', 'calico/templates/rbac.yaml', 'calico/templates/etc/bird/_bird6.toml.template.tpl', 'calico/templates/service-etcd.yaml', 'calico/templates/etc/bird/_custom_filters.cfg.template.tpl', 'calico/templates/etc/bird/_bird6_ipam.cfg.template.tpl', 'calico/templates/bin/_install-calicoctl.sh.tpl', 'calico/templates/etc/bird/_bird_aggr.toml.template.tpl', 'calico/templates/etc/bird/_bird_ipam.toml.template.tpl', 'calico/templates/etc/bird/_bird_aggr.cfg.template.tpl', 'calico/templates/etc/bird/_bird.toml.template.tpl', 'calico/templates/etc/bird/_bird6.cfg.no-mesh.template.tpl', 'calico/templates/daemonset-node.yaml', 'calico/templates/etc/bird/_custom_filters6.cfg.template.tpl', 'calico/Chart.yaml', 'calico/templates/etc/bird/_bird6.cfg.mesh.template.tpl', 'calico/templates/deployment-policy-controller.yaml', 'calico/templates/configmap-etc.yaml', 'calico/templates/etc/bird/_bird.cfg.no-mesh.template.tpl', 'calico/values.yaml', 'calico/templates/etc/bird/_tunl-ip.template.tpl', 'calico/templates/etc/bird/_bird.cfg.mesh.template.tpl', 'calico/templates/etc/bird/_bird_ipam.cfg.template.tpl', 'calico/.helmignore', 'calico/templates/secret-etcd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c4831a0a932d87c66d08dcf3d99b7e169ef97387', 'message': '[WIP] [DNM] Initial calico helm chart commit\n\nChange-Id: I540d51581cb5028c1eab69537d6241d592750b9d\n'}]",0,506808,c4831a0a932d87c66d08dcf3d99b7e169ef97387,4,0,1,7769,,,0,"[WIP] [DNM] Initial calico helm chart commit

Change-Id: I540d51581cb5028c1eab69537d6241d592750b9d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/08/506808/1 && git format-patch -1 --stdout FETCH_HEAD,"['calico/templates/etc/bird/_bird6_aggr.toml.template.tpl', 'calico/templates/rbac.yaml', 'calico/templates/etc/bird/_bird6.toml.template.tpl', 'calico/templates/service-etcd.yaml', 'calico/templates/etc/bird/_custom_filters.cfg.template.tpl', 'calico/templates/etc/bird/_bird6_ipam.cfg.template.tpl', 'calico/templates/bin/_install-calicoctl.sh.tpl', 'calico/templates/etc/bird/_bird_aggr.toml.template.tpl', 'calico/templates/etc/bird/_bird_ipam.toml.template.tpl', 'calico/templates/etc/bird/_bird_aggr.cfg.template.tpl', 'calico/templates/etc/bird/_bird.toml.template.tpl', 'calico/templates/etc/bird/_bird6.cfg.no-mesh.template.tpl', 'calico/templates/daemonset-node.yaml', 'calico/templates/etc/bird/_custom_filters6.cfg.template.tpl', 'calico/Chart.yaml', 'calico/templates/etc/bird/_bird6.cfg.mesh.template.tpl', 'calico/templates/deployment-policy-controller.yaml', 'calico/templates/configmap-etc.yaml', 'calico/templates/etc/bird/_bird.cfg.no-mesh.template.tpl', 'calico/values.yaml', 'calico/templates/etc/bird/_tunl-ip.template.tpl', 'calico/templates/etc/bird/_bird.cfg.mesh.template.tpl', 'calico/templates/etc/bird/_bird_ipam.cfg.template.tpl', 'calico/.helmignore', 'calico/templates/secret-etcd.yaml']",25,c4831a0a932d87c66d08dcf3d99b7e169ef97387,,"--- # The following contains k8s Secrets for use with a TLS enabled etcd cluster. # For information on populating Secrets, see http://kubernetes.io/docs/user-guide/secrets/ apiVersion: v1 kind: Secret type: Opaque metadata: name: calico-secret-etcd namespace: kube-system data: # Populate the following files with etcd TLS configuration if desired, but leave blank if # not using TLS for etcd. # This self-hosted install expects three files with the following names. The values # should be base64 encoded strings of the entire contents of each file. etcd-key: {{ .Values.calico.etcd.credentials.key | b64enc }} etcd-cert: {{ .Values.calico.etcd.credentials.cert | b64enc }} etcd-ca: {{ .Values.calico.etcd.credentials.ca | b64enc }} ",,1015,0
openstack%2Fopenstack-helm~master~Ib6cb6f4b382bb95ff47c02e74f3ae347233c1d98,openstack/openstack-helm,master,Ib6cb6f4b382bb95ff47c02e74f3ae347233c1d98,DellEMC ScaleIO storage integration with Cinder,ABANDONED,2017-05-11 20:30:07.000000000,2020-07-15 19:26:58.000000000,,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 23535}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-05-11 20:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/90212a25fbe536de01aae56fdf4283ba8e789afe', 'message': 'DellEMC ScaleIO storage integration with Cinder\n\nModified Cinder chart in order to support DelEMC ScaleIO\nas an alternative cinder backend.  Chart modification assumes\nScaleIO cluster is pre-installed.\n\nChanges mainly adds an extra backend to cinder.conf as an alternative\nto ceph.  Changes are following OpenStack documentation to configure\nblock storage.\nhttps://docs.openstack.org/mitaka/config-reference/block-storage/drivers/emc-scaleio-driver.html\n\nChange-Id: Ib6cb6f4b382bb95ff47c02e74f3ae347233c1d98\n'}, {'number': 2, 'created': '2017-05-12 15:25:32.000000000', 'files': ['cinder/templates/etc/_cinder.conf.tpl', 'cinder/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3399e4fe40aff7e940845415f3660ca1aa1ef43b', 'message': 'DellEMC ScaleIO storage integration with Cinder\n\nModified Cinder chart in order to support DelEMC ScaleIO\nas an alternative cinder backend.  Chart modification assumes\nScaleIO cluster is pre-installed.\n\nChanges mainly adds an extra backend to cinder.conf as an alternative\nto ceph.  Changes are following OpenStack documentation to configure\nblock storage.\nhttps://docs.openstack.org/mitaka/config-reference/block-storage/drivers/emc-scaleio-driver.html\n\nChange-Id: Ib6cb6f4b382bb95ff47c02e74f3ae347233c1d98\n'}]",1,464076,3399e4fe40aff7e940845415f3660ca1aa1ef43b,13,4,2,23535,,,0,"DellEMC ScaleIO storage integration with Cinder

Modified Cinder chart in order to support DelEMC ScaleIO
as an alternative cinder backend.  Chart modification assumes
ScaleIO cluster is pre-installed.

Changes mainly adds an extra backend to cinder.conf as an alternative
to ceph.  Changes are following OpenStack documentation to configure
block storage.
https://docs.openstack.org/mitaka/config-reference/block-storage/drivers/emc-scaleio-driver.html

Change-Id: Ib6cb6f4b382bb95ff47c02e74f3ae347233c1d98
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/464076/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/etc/_cinder.conf.tpl', 'cinder/values.yaml']",2,90212a25fbe536de01aae56fdf4283ba8e789afe,cinder-scaleio-integration,"scaleio: enabled: true default_backend: enabled: false name: scaleio - scaleio scaleio: # All values below should match # configured values on ScaleIO cluster san_ip: ""<gateway-ip>"" protection_domain_name: ""protection_domain1"" storage_pool_name: ""pool1"" storage_pools: ""protection_domain1:pool1"" san_login: ""admin"" san_password: ""<scaleio-password>""",,33,0
openstack%2Fopenstack-helm~master~I4600682fcef3a385c77c9143ef9a3132b8716567,openstack/openstack-helm,master,I4600682fcef3a385c77c9143ef9a3132b8716567,DellEMC ScaleIO chart to configure secret and StorageClass,ABANDONED,2017-05-17 18:11:24.000000000,2020-07-15 19:26:54.000000000,,"[{'_account_id': 7769}, {'_account_id': 23535}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-05-17 18:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc6561a9007e006882d28faf6d8fb93cd9fd8485', 'message': 'DellEMC ScaleIO chart to configure secret and StorageClass\n\nNew ScaleIO chart to configure StorageClass in order\nto leverage ScaleIO volumes through new client\nintroduced in Kubernetes 1.6. OpenStack charts like\nmariadb can leverage ScaleIO volumes for their storage\nneeds.\n\nReference to ScaleIO Kubernetes client.\n\nhttps://github.com/kubernetes/kubernetes/tree/master/examples/volumes/scaleio\nSigned-off-by: Eric Caron <eric.caron@emc.com>\n\nChange-Id: I4600682fcef3a385c77c9143ef9a3132b8716567\n'}, {'number': 2, 'created': '2017-05-17 19:30:31.000000000', 'files': ['scaleio/Chart.yaml', 'Makefile', 'scaleio/templates/storage.yaml', 'scaleio/values.yaml', 'scaleio/templates/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67f143420c88ab17d46e1bc5ef404c4617e284ce', 'message': 'DellEMC ScaleIO chart to configure secret and StorageClass\n\nNew ScaleIO chart to configure StorageClass in order\nto leverage ScaleIO volumes through new client\nintroduced in Kubernetes 1.6. OpenStack charts like\nmariadb can leverage ScaleIO volumes for their storage\nneeds.\n\nReference to ScaleIO Kubernetes client.\n\nhttps://github.com/kubernetes/kubernetes/tree/master/examples/volumes/scaleio\nSigned-off-by: Eric Caron <eric.caron@emc.com>\n\nChange-Id: I4600682fcef3a385c77c9143ef9a3132b8716567\n'}]",0,465695,67f143420c88ab17d46e1bc5ef404c4617e284ce,12,3,2,23535,,,0,"DellEMC ScaleIO chart to configure secret and StorageClass

New ScaleIO chart to configure StorageClass in order
to leverage ScaleIO volumes through new client
introduced in Kubernetes 1.6. OpenStack charts like
mariadb can leverage ScaleIO volumes for their storage
needs.

Reference to ScaleIO Kubernetes client.

https://github.com/kubernetes/kubernetes/tree/master/examples/volumes/scaleio
Signed-off-by: Eric Caron <eric.caron@emc.com>

Change-Id: I4600682fcef3a385c77c9143ef9a3132b8716567
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/95/465695/2 && git format-patch -1 --stdout FETCH_HEAD,"['scaleio/Chart.yaml', 'Makefile', 'scaleio/templates/storage.yaml', 'scaleio/values.yaml', 'scaleio/templates/secrets.yaml']",5,fc6561a9007e006882d28faf6d8fb93cd9fd8485,scaleio-chart,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. {{- if .Values.secrets.use_common_secrets -}} --- apiVersion: v1 kind: Secret metadata: name: {{ .Values.secrets.name }} namespace: {{ .Values.secrets.namespace }} type: kubernetes.io/scaleio data: username: | {{ .Values.secrets.username | b64enc | indent 4 }} password: | {{ .Values.secrets.password | b64enc | indent 4 }} {{- end }} ",,103,1
openstack%2Fopenstack-helm~master~I8cac7ef13b52c21f14779810f778c35dcb0ca753,openstack/openstack-helm,master,I8cac7ef13b52c21f14779810f778c35dcb0ca753,ESFIX: Add murano chart,ABANDONED,2017-12-15 09:35:22.000000000,2020-07-15 19:26:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-12-15 09:35:22.000000000', 'files': ['murano/templates/bin/_bootstrap.sh.tpl', 'murano/templates/bin/_db-sync.sh.tpl', 'murano/templates/job-bootstrap.yaml', 'murano/templates/job-ks-user.yaml', 'murano/templates/secret-keystone.yaml', 'murano/templates/bin/_murano-api.sh.tpl', 'murano/templates/deployment-api.yaml', 'murano/requirements.yaml', 'murano/templates/job-db-init.yaml', 'murano/templates/job-ks-service.yaml', 'murano/values.yaml', 'murano/templates/secret-db.yaml', 'murano/templates/configmap-etc.yaml', 'murano/templates/job-db-drop.yaml', 'murano/templates/ingress-api.yaml', 'murano/templates/job-ks-endpoints.yaml', 'murano/templates/statefulset-engine.yaml', 'murano/templates/service-api.yaml', 'murano/Chart.yaml', 'murano/templates/configmap-bin.yaml', 'murano/templates/job-db-sync.yaml', 'murano/templates/bin/_murano-engine.sh.tpl', 'murano/templates/pdb-api.yaml', 'murano/templates/service-ingress-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ce6fa11a8a4b5f2bba0de96a21fee33a2e1ef3da', 'message': 'ESFIX: Add murano chart\n\nThis chart provides a application catalog for the cloud.\nIt consist of 2 services. Api, engine.\n\nhelm install --name=murano local/murano --namespace=openstack\n\nChange-Id: I8cac7ef13b52c21f14779810f778c35dcb0ca753\n'}]",0,528212,ce6fa11a8a4b5f2bba0de96a21fee33a2e1ef3da,5,2,1,20099,,,0,"ESFIX: Add murano chart

This chart provides a application catalog for the cloud.
It consist of 2 services. Api, engine.

helm install --name=murano local/murano --namespace=openstack

Change-Id: I8cac7ef13b52c21f14779810f778c35dcb0ca753
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/12/528212/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/templates/bin/_bootstrap.sh.tpl', 'murano/templates/bin/_db-sync.sh.tpl', 'murano/templates/job-bootstrap.yaml', 'murano/templates/job-ks-user.yaml', 'murano/templates/secret-keystone.yaml', 'murano/templates/bin/_murano-api.sh.tpl', 'murano/templates/deployment-api.yaml', 'murano/requirements.yaml', 'murano/templates/job-db-init.yaml', 'murano/templates/job-ks-service.yaml', 'murano/values.yaml', 'murano/templates/secret-db.yaml', 'murano/templates/configmap-etc.yaml', 'murano/templates/job-db-drop.yaml', 'murano/templates/ingress-api.yaml', 'murano/templates/job-ks-endpoints.yaml', 'murano/templates/statefulset-engine.yaml', 'murano/templates/service-api.yaml', 'murano/Chart.yaml', 'murano/templates/configmap-bin.yaml', 'murano/templates/job-db-sync.yaml', 'murano/templates/bin/_murano-engine.sh.tpl', 'murano/templates/pdb-api.yaml', 'murano/templates/service-ingress-api.yaml']",24,ce6fa11a8a4b5f2bba0de96a21fee33a2e1ef3da,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.service_ingress_api }} {{- $envAll := . }} {{- if .Values.network.api.ingress.public }} --- apiVersion: v1 kind: Service metadata: name: {{ tuple ""application-catalog"" ""public"" . | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }} spec: ports: - name: http port: 80 selector: app: ingress-api {{- end }} {{- end }} ",,1531,0
openstack%2Fopenstack-helm~master~Ied4a0adcbe4b191a5213fe285aba30428d3ba3c0,openstack/openstack-helm,master,Ied4a0adcbe4b191a5213fe285aba30428d3ba3c0,Remove ceph storage admin key,ABANDONED,2017-12-07 14:33:00.000000000,2020-07-15 19:26:45.000000000,,"[{'_account_id': 3}, {'_account_id': 17591}, {'_account_id': 20443}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24484}, {'_account_id': 26201}, {'_account_id': 26441}]","[{'number': 1, 'created': '2017-12-07 14:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9b4a1ee10034968e36b6a3d03597a1981b7efdcb', 'message': 'Remove ceph storage admin key\n\nClean ceph admin key when helm delete ceph cluster\n\nChange-Id: Ied4a0adcbe4b191a5213fe285aba30428d3ba3c0\n'}, {'number': 2, 'created': '2017-12-07 14:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0027d1a289121ade57b4d0853fe89ef21a7a7fef', 'message': 'Remove ceph storage admin key\n\nClean ceph admin key when helm delete ceph cluster\n\nChange-Id: Ied4a0adcbe4b191a5213fe285aba30428d3ba3c0\n'}, {'number': 3, 'created': '2017-12-12 02:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/147933f07cb9f0d373dc61edee7ccdcbca67f952', 'message': 'Remove ceph storage admin key\n\nClean ceph admin key when helm delete ceph cluster\n\nChange-Id: Ied4a0adcbe4b191a5213fe285aba30428d3ba3c0\n'}, {'number': 4, 'created': '2017-12-12 12:51:53.000000000', 'files': ['ceph/templates/job-admin-key-cleaner.yaml', 'ceph/templates/bin/_ceph-storage-admin-key-cleaner.sh.tpl', 'ceph/values.yaml', 'ceph/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f9db57ec50815fe24d32a9e88a7eb7abcc3c653b', 'message': 'Remove ceph storage admin key\n\nClean ceph admin key when helm delete ceph cluster\n\nChange-Id: Ied4a0adcbe4b191a5213fe285aba30428d3ba3c0\n'}]",0,526415,f9db57ec50815fe24d32a9e88a7eb7abcc3c653b,21,9,4,24484,,,0,"Remove ceph storage admin key

Clean ceph admin key when helm delete ceph cluster

Change-Id: Ied4a0adcbe4b191a5213fe285aba30428d3ba3c0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/526415/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/job-admin-key-cleaner.yaml', 'ceph/templates/bin/_ceph-storage-admin-key-cleaner.sh.tpl', 'ceph/values.yaml', 'ceph/templates/configmap-bin.yaml']",4,9b4a1ee10034968e36b6a3d03597a1981b7efdcb,remove-admin-key," ceph-storage-admin-key-cleaner.sh: |+ {{ tuple ""bin/_ceph-storage-admin-key-cleaner.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,104,0
openstack%2Fopenstack-helm~master~I93e66abb844f0e035b962bdae04f4180962a8eca,openstack/openstack-helm,master,I93e66abb844f0e035b962bdae04f4180962a8eca,Add osd device targetting,ABANDONED,2017-12-08 11:47:12.000000000,2020-07-15 19:26:40.000000000,,"[{'_account_id': 20443}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24484}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-12-08 11:47:12.000000000', 'files': ['ceph/templates/daemonset-osd-devices.yaml', 'ceph/values.yaml', 'ceph/templates/daemonset-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bfa7abcc904dce93570c215ab7c3d55e4c89471f', 'message': 'Add osd device targetting\n\nAdd osd device targetting\n\nChange-Id: I93e66abb844f0e035b962bdae04f4180962a8eca\n'}]",0,526660,bfa7abcc904dce93570c215ab7c3d55e4c89471f,8,5,1,24484,,,0,"Add osd device targetting

Add osd device targetting

Change-Id: I93e66abb844f0e035b962bdae04f4180962a8eca
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/60/526660/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/daemonset-osd-devices.yaml', 'ceph/values.yaml', 'ceph/templates/daemonset-osd.yaml']",3,bfa7abcc904dce93570c215ab7c3d55e4c89471f,bp/add-osd-device-targetting,{{- if .Values.osd_directory.enabled }} - name: ceph-bin mountPath: /variables_entrypoint.sh subPath: variables_entrypoint.sh readOnly: true{{- end }},,353,0
openstack%2Fopenstack-helm~master~Ia3476c2d340062280e0f9a6c929c58db06c759b2,openstack/openstack-helm,master,Ia3476c2d340062280e0f9a6c929c58db06c759b2,Add executed ceph commands,ABANDONED,2017-12-07 15:51:30.000000000,2020-07-15 19:26:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-12-07 15:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5325c508b93842c20f339a70a6c568a3a518b288', 'message': 'Add executed ceph commands\n\nRun any ceph commands up on deployment.\nFor example. create a default rbd pool\n\nChange-Id: Ia3476c2d340062280e0f9a6c929c58db06c759b2\n'}, {'number': 2, 'created': '2017-12-07 15:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/641e641660b036ae7dc8e61afbb8728340280f18', 'message': 'Add executed ceph commands\n\nRun any ceph commands up on deployment.\nFor example. create a default rbd pool\n\nChange-Id: Ia3476c2d340062280e0f9a6c929c58db06c759b2\n'}, {'number': 3, 'created': '2017-12-08 06:55:55.000000000', 'files': ['ceph/templates/job-ceph-commands.yaml', 'ceph/templates/bin/_exec_ceph_commands.sh.tpl', 'ceph/values.yaml', 'ceph/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ad95aa525937a3b980e1dd248e82fd5d6e2ff02', 'message': 'Add executed ceph commands\n\nRun any ceph commands up on deployment.\nFor example. create a default rbd pool\n\nChange-Id: Ia3476c2d340062280e0f9a6c929c58db06c759b2\n'}]",0,526437,3ad95aa525937a3b980e1dd248e82fd5d6e2ff02,13,3,3,24484,,,0,"Add executed ceph commands

Run any ceph commands up on deployment.
For example. create a default rbd pool

Change-Id: Ia3476c2d340062280e0f9a6c929c58db06c759b2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/526437/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/job-ceph-commands.yaml', 'ceph/templates/bin/_exec_ceph_commands.sh.tpl', 'ceph/values.yaml', 'ceph/templates/configmap-bin.yaml']",4,5325c508b93842c20f339a70a6c568a3a518b288,add-exec-ceph-commands," exec_ceph_commands.sh: |+ {{ tuple ""bin/_exec_ceph_commands.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,64,0
openstack%2Fopenstack-helm~master~Ia9c88bfcaa810d92c0126694cf71f924af51ca40,openstack/openstack-helm,master,Ia9c88bfcaa810d92c0126694cf71f924af51ca40,Updating all in one document,ABANDONED,2017-12-07 19:29:35.000000000,2020-07-15 19:25:58.000000000,,"[{'_account_id': 10068}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26201}, {'_account_id': 27396}]","[{'number': 1, 'created': '2017-12-07 19:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d1f462d58b11df3e5016ade0487d8736c326b51d', 'message': 'Updating all in one document\n\nAdding desciptions for CEph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon,ceph-radosgateway, Glance, OpenVSwitch\n\nChange-Id: Ia9c88bfcaa810d92c0126694cf71f924af51ca40\n'}, {'number': 2, 'created': '2017-12-07 20:04:06.000000000', 'files': ['doc/source/install/developer/all-in-one.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/028839b7e1417b2ae9cbcef2b154251f32af16cc', 'message': 'Updating all in one document\n\nAdding desciptions for CEph, Ceph-ns-activate, mariaDB, RabbitMQ,\nMemcached, Keystone, Horizon,ceph-radosgateway, Glance, OpenVSwitch\n\nChange-Id: Ia9c88bfcaa810d92c0126694cf71f924af51ca40\n'}]",0,526489,028839b7e1417b2ae9cbcef2b154251f32af16cc,10,5,2,27397,,,0,"Updating all in one document

Adding desciptions for CEph, Ceph-ns-activate, mariaDB, RabbitMQ,
Memcached, Keystone, Horizon,ceph-radosgateway, Glance, OpenVSwitch

Change-Id: Ia9c88bfcaa810d92c0126694cf71f924af51ca40
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/89/526489/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/all-in-one.rst'],1,d1f462d58b11df3e5016ade0487d8736c326b51d,AllInOneDetails,"You can now deploy the OpenStack storage service Ceph, which will provide scalable distributed storage. You can now deploy the OpenStack namespace Ceph-ns-actiate, which will provide a namespace for ceph to use in openstack. This requires Ceph to be installed You can now deploy the OpenStack database system service MariaDB, which will provide the necessary MySQL database connection required for OpenStack. You can now deploy the OpenStack messaging service RabbitMQ, which will provide AMQP communication between Nova components. You can now deploy the OpenStack memory caching service Memcached, which will provide general purpose distributed memory caching that will speed up dynamic database driven websites. You can now deploy the OpenStack authorization service Keystone, which will provide API client authentication and implement OpenStacks Identity API. You can now deploy the OpenStack <insert service type> service Ceph-radosgateway, which will provide <insert what it does>. This requires Ceph and Ceph-ns-activate to be installed. You can now deploy the OpenStack service Horizon, which will provide a user interface for OpenStack services such as Nova and and Keystone. You can now deploy the OpenStack image service Glance, which will provide an area for users to upload and search for data assets from other services. You can now deploy the OpenStack <insert network service OpenvSwitch, which will provide a highly expandable series ofvirtual networks. ",,30,0
openstack%2Fopenstack-helm~master~I98d05a1ac5cb39b9a1723535624f262d142bd6cc,openstack/openstack-helm,master,I98d05a1ac5cb39b9a1723535624f262d142bd6cc,WIP/DNM - Tacker chart,ABANDONED,2017-12-07 19:19:26.000000000,2020-07-15 19:25:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-12-07 19:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/787e37558e5e0e186afd1a5390d3d38cdd1a8c85', 'message': 'WIP - Tacker chart\n\nThis is a helm chart to deploy the Tacker OpenStack service.\n\nChange-Id: I98d05a1ac5cb39b9a1723535624f262d142bd6cc\n'}, {'number': 2, 'created': '2017-12-07 20:53:42.000000000', 'files': ['tacker/values.yaml', 'tacker/requirements.yaml', 'tacker/templates/job-db-drop.yaml', 'tacker/templates/job-db-sync.yaml', 'tacker/templates/job-ks-endpoints.yaml', 'tacker/templates/etc/_rootwrap.conf.tpl', 'tacker/templates/bin/_db-sync.sh.tpl', 'tacker/templates/job-db-init.yaml', 'tacker/templates/pdb.yaml', 'tacker/templates/etc/_rally_tests.yaml.tpl', 'tacker/templates/deployment-server.yaml', 'tacker/Chart.yaml', 'tacker/templates/service-ingress-server.yaml', 'tacker/templates/bin/_tacker-server.sh.tpl', 'tacker/templates/etc/rootwrap.d/_tacker.filters.tpl', 'tacker/templates/configmap-bin.yaml', 'tacker/templates/job-ks-service.yaml', 'tacker/templates/service-server.yaml', 'tacker/templates/configmap-etc.yaml', 'tacker/templates/ingress-server.yaml', 'tacker/templates/job-ks-user.yaml', 'tacker/templates/secret-keystone.yaml', 'tacker/templates/pod-rally-test.yaml', 'tacker/templates/secret-db.yaml', 'tacker/templates/bin/_bootstrap.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/815ab7dc53ea848b7658c1504fd866041d29d54c', 'message': 'WIP/DNM - Tacker chart\n\nThis is a helm chart to deploy the Tacker OpenStack service.\n\nChange-Id: I98d05a1ac5cb39b9a1723535624f262d142bd6cc\n'}]",0,526486,815ab7dc53ea848b7658c1504fd866041d29d54c,9,2,2,20443,,,0,"WIP/DNM - Tacker chart

This is a helm chart to deploy the Tacker OpenStack service.

Change-Id: I98d05a1ac5cb39b9a1723535624f262d142bd6cc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/526486/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/values.yaml', 'tacker/requirements.yaml', 'tacker/templates/job-db-drop.yaml', 'tacker/templates/job-db-sync.yaml', 'tacker/templates/job-ks-endpoints.yaml', 'tacker/templates/etc/_rootwrap.conf.tpl', 'tacker/templates/bin/_db-sync.sh.tpl', 'tacker/templates/job-db-init.yaml', 'tacker/templates/pdb.yaml', 'tacker/templates/etc/_rally_tests.yaml.tpl', 'tacker/templates/deployment-server.yaml', 'tacker/Chart.yaml', 'tacker/templates/service-ingress-server.yaml', 'tacker/templates/bin/_tacker-server.sh.tpl', 'tacker/templates/etc/rootwrap.d/_tacker.filters.tpl', 'tacker/templates/configmap-bin.yaml', 'tacker/templates/job-ks-service.yaml', 'tacker/templates/service-server.yaml', 'tacker/templates/configmap-etc.yaml', 'tacker/templates/ingress-server.yaml', 'tacker/templates/job-ks-user.yaml', 'tacker/templates/secret-keystone.yaml', 'tacker/templates/pod-rally-test.yaml', 'tacker/templates/secret-db.yaml', 'tacker/templates/bin/_bootstrap.sh.tpl']",25,787e37558e5e0e186afd1a5390d3d38cdd1a8c85,,"#!/bin/bash {{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} set -ex {{ .Values.bootstrap.script | default ""echo 'Not Enabled'"" }} ",,1587,0
openstack%2Fopenstack-helm~master~I5a89aaf22767eae3a8c24f6bec00b4b38a70c024,openstack/openstack-helm,master,I5a89aaf22767eae3a8c24f6bec00b4b38a70c024,Do not merge,ABANDONED,2017-11-29 19:10:18.000000000,2020-07-15 19:25:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-29 19:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e4704b74dbd54297a13918271e30488e0462a42', 'message': 'Do not merge\n\nChange-Id: I5a89aaf22767eae3a8c24f6bec00b4b38a70c024\n'}, {'number': 2, 'created': '2017-11-29 21:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f60999a5cbd05a06ab181b55088a921db3626197', 'message': 'Do not merge\n\nChange-Id: I5a89aaf22767eae3a8c24f6bec00b4b38a70c024\n'}, {'number': 3, 'created': '2017-11-29 23:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8b310c1e54f6e6c85932b6e73babaf07a2e14a0', 'message': 'Do not merge\n\nChange-Id: I5a89aaf22767eae3a8c24f6bec00b4b38a70c024\n'}, {'number': 4, 'created': '2017-11-30 23:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/78edd339aa997bc3b046a2f01c8e68379a3a925d', 'message': 'Do not merge\n\nChange-Id: I5a89aaf22767eae3a8c24f6bec00b4b38a70c024\n'}, {'number': 5, 'created': '2017-12-07 01:57:04.000000000', 'files': ['opencontrail/templates/deployment-analytics.yaml', 'opencontrail/templates/service-controller.yaml', 'opencontrail/templates/statefulset-controller.yaml', 'opencontrail/daemonset-kubemanager.yaml', 'opencontrail/templates/configmap-bin.yaml', 'opencontrail/templates/service-controller-discovery.yaml', 'tools/gate/funcs/kube.sh', 'opencontrail/daemonset-analyticsdb.yaml', 'opencontrail/templates/configmap-etc.yaml', 'opencontrail/templates/bin/_start-cassandra.sh.tpl', 'opencontrail/templates/service-analyticsdb.yaml', 'opencontrail/daemonset-controller.yaml', 'opencontrail/daemonset-analytics.yaml', 'opencontrail/templates/statefulset-analyticsdb.yaml', 'opencontrail/values.yaml', 'opencontrail/templates/service-analyticsdb-discovery.yaml', 'opencontrail/daemonset-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99dea5f0fad23193063304d6876990396685da17', 'message': 'Do not merge\n\nChange-Id: I5a89aaf22767eae3a8c24f6bec00b4b38a70c024\n'}]",0,523966,99dea5f0fad23193063304d6876990396685da17,21,2,5,27020,,,0,"Do not merge

Change-Id: I5a89aaf22767eae3a8c24f6bec00b4b38a70c024
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/66/523966/4 && git format-patch -1 --stdout FETCH_HEAD,"['opencontrail/templates/service-controller.yaml', 'opencontrail/templates/statefulset-controller.yaml', 'opencontrail/daemonset-kubemanager.yaml', 'opencontrail/templates/configmap-bin.yaml', 'opencontrail/templates/service-controller-discovery.yaml', 'opencontrail/daemonset-analyticsdb.yaml', 'opencontrail/templates/configmap-etc.yaml', 'opencontrail/templates/bin/_start-cassandra.sh.tpl', 'opencontrail/daemonset-controller.yaml', 'opencontrail/daemonset-analytics.yaml', 'opencontrail/values.yaml', 'opencontrail/daemonset-agent.yaml']",12,6e4704b74dbd54297a13918271e30488e0462a42,do_not_merge,,,361,9
openstack%2Fopenstack-helm~master~I94188d505e85547fb26c4533294b302db8f5eeeb,openstack/openstack-helm,master,I94188d505e85547fb26c4533294b302db8f5eeeb,WIP: cleaning RBAC resources,ABANDONED,2017-11-28 14:36:37.000000000,2020-07-15 19:25:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-28 14:36:37.000000000', 'files': ['helm-toolkit/templates/scripts/_rbac-clean.py.tpl', 'ceph/templates/job-rbac-clean.yaml', 'ceph/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2647d369bcd80f6360718eef9fced1aff3a4bf85', 'message': 'WIP: cleaning RBAC resources\n\nAdd a job that is suppose to delete k8s resources created in pre-install\nHelm hook. The job is running with tiller service account and in\nkube-system namespace. This is done in order to have RBAC access to\nall resources that would be removed inside that job.\n\nThis is the initial approach, the job-rbac-clean can be moved to\nhelmtoolkit and should be included for every Helm chart in OSH.\nThe rbac-clean job is building the resources list to be deleted during\nPOST-delete Helm hook.\n\nOne more thing to be consider is to how to delete the config map with\nremoval script, when post-install hook is completed. Because currently,\nthe config map would not be deleted after helm chart is removed.\n\nChange-Id: I94188d505e85547fb26c4533294b302db8f5eeeb\n'}]",0,523424,2647d369bcd80f6360718eef9fced1aff3a4bf85,5,2,1,15518,,,0,"WIP: cleaning RBAC resources

Add a job that is suppose to delete k8s resources created in pre-install
Helm hook. The job is running with tiller service account and in
kube-system namespace. This is done in order to have RBAC access to
all resources that would be removed inside that job.

This is the initial approach, the job-rbac-clean can be moved to
helmtoolkit and should be included for every Helm chart in OSH.
The rbac-clean job is building the resources list to be deleted during
POST-delete Helm hook.

One more thing to be consider is to how to delete the config map with
removal script, when post-install hook is completed. Because currently,
the config map would not be deleted after helm chart is removed.

Change-Id: I94188d505e85547fb26c4533294b302db8f5eeeb
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/523424/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/scripts/_rbac-clean.py.tpl', 'ceph/templates/job-rbac-clean.yaml', 'ceph/values.yaml']",3,2647d369bcd80f6360718eef9fced1aff3a4bf85,rbac-support-ps35, rbac_clean: quay.io/attcomdev/ceph-daemon:tag-build-master-jewel-ubuntu-16.04 job_rbac_clean: true,,188,0
openstack%2Fopenstack-helm~master~I71c9f2460ce5b33eb97af0a383d34edae4875a09,openstack/openstack-helm,master,I71c9f2460ce5b33eb97af0a383d34edae4875a09,WIP: Adding ingress for ceph-rgw,ABANDONED,2017-11-16 11:54:06.000000000,2020-07-15 19:25:37.000000000,,"[{'_account_id': 8898}, {'_account_id': 11238}, {'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-16 11:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ebad0ed7bac68dcd1e2fa7d477da2bc79c908366', 'message': ""Adding ingress for ceph-rgw\n\nAdded ingress for ceph-rgw to make S3 and Swift API's publically\navailable.\n\nChange-Id: I71c9f2460ce5b33eb97af0a383d34edae4875a09\n""}, {'number': 2, 'created': '2017-11-22 09:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9eb4435980bd500c14ed726887be227a9995765d', 'message': ""Adding ingress for ceph-rgw\n\nAdded ingress for ceph-rgw to make S3 and Swift API's publically\navailable.\n\nChange-Id: I71c9f2460ce5b33eb97af0a383d34edae4875a09\n""}, {'number': 3, 'created': '2017-11-23 08:16:20.000000000', 'files': ['ceph/templates/ingress-rgw.yaml', 'ceph/values.yaml', 'ceph/templates/service-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af4f9babcd557aa85bb40b2497f69e315434baf1', 'message': ""WIP: Adding ingress for ceph-rgw\n\nAdded ingress for ceph-rgw to make S3 and Swift API's publically\navailable.\n\nChange-Id: I71c9f2460ce5b33eb97af0a383d34edae4875a09\n""}]",0,520564,af4f9babcd557aa85bb40b2497f69e315434baf1,15,4,3,11238,,,0,"WIP: Adding ingress for ceph-rgw

Added ingress for ceph-rgw to make S3 and Swift API's publically
available.

Change-Id: I71c9f2460ce5b33eb97af0a383d34edae4875a09
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/64/520564/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/ingress-rgw.yaml', 'ceph/values.yaml', 'ceph/templates/service-rgw.yaml']",3,ebad0ed7bac68dcd1e2fa7d477da2bc79c908366,ceph-rgw-ingress, - name: ceph-rgw port: {{ .Values.network.port.rgw }}, - port: {{ .Values.network.port.rgw }},62,1
openstack%2Fopenstack-helm~master~I0dfd89768502bd9f883d419d9787563fff2bd666,openstack/openstack-helm,master,I0dfd89768502bd9f883d419d9787563fff2bd666,WIP - Add labels to all components of apps,ABANDONED,2017-11-07 22:57:08.000000000,2020-07-15 19:25:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-07 22:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2bb6ecfe8681003c1cc9ab107de01f82b9a5db5', 'message': 'WIP - Add labels to all components of apps\n\nThis PS is to add labels across all components of\nthe OpenStack-Helm apps. This allows finding\nall related items by label searches.\n\nChange-Id: I0dfd89768502bd9f883d419d9787563fff2bd666\n'}, {'number': 2, 'created': '2017-11-08 18:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/babe0fefa7f47f442c39d05c91e9adc759e3e778', 'message': 'WIP - Add labels to all components of apps\n\nThis PS is to add labels across all components of\nthe OpenStack-Helm apps. This allows finding\nall related items by label searches.\n\nChange-Id: I0dfd89768502bd9f883d419d9787563fff2bd666\n'}, {'number': 3, 'created': '2017-11-17 21:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79d32b516f07cd8696ba2c6e6b1262b8d541c429', 'message': 'WIP - Add labels to all components of apps\n\nThis PS is to add labels across all components of\nthe OpenStack-Helm apps. This allows finding\nall related items by label searches.\n\nChange-Id: I0dfd89768502bd9f883d419d9787563fff2bd666\n'}, {'number': 4, 'created': '2017-11-22 18:26:41.000000000', 'files': ['cinder/templates/secret-keystone.yaml', 'horizon/templates/ingress-api.yaml', 'cinder/templates/service-ingress-api.yaml', 'keystone/templates/configmap-bin.yaml', 'ceph/templates/configmap-bin-ks.yaml', 'keystone/templates/secret-fernet-keys.yaml', 'barbican/templates/secret-keystone.yaml', 'keystone/templates/service-api.yaml', 'cinder/templates/ingress-api.yaml', 'ceilometer/templates/secret-keystone.yaml', 'ceilometer/templates/service-api.yaml', 'horizon/templates/service-ingress.yaml', 'barbican/templates/pdb-api.yaml', 'keystone/templates/pdb.yaml', 'barbican/templates/configmap-etc.yaml', 'cinder/templates/pdb-api.yaml', 'horizon/templates/service.yaml', 'ceilometer/templates/ingress-api.yaml', 'ceilometer/templates/secret-db.yaml', 'cinder/templates/secret-db.yaml', 'horizon/templates/configmap-etc.yaml', 'ceph/templates/configmap-bin-clients.yaml', 'keystone/templates/ingress-api.yaml', 'ceph/templates/configmap-bin.yaml', 'barbican/templates/ingress-api.yaml', 'barbican/templates/service-ingress-api.yaml', 'ceilometer/templates/job-db-init.yaml', 'cinder/templates/configmap-bin.yaml', 'keystone/templates/secret-credential-keys.yaml', 'barbican/templates/service-api.yaml', 'cinder/templates/configmap-etc.yaml', 'keystone/templates/configmap-etc.yaml', 'ceilometer/templates/job-ks-service.yaml', 'keystone/templates/service-ingress-api.yaml', 'ceilometer/templates/secret-mongodb.yaml', 'keystone/templates/secret-db.yaml', 'ceilometer/templates/service-ingress-api.yaml', 'ceilometer/templates/configmap-bin.yaml', 'ceph/templates/storageclass.yaml', 'ceilometer/templates/job-db-init-mongodb.yaml', 'ceph/templates/service-mon.yaml', 'barbican/templates/configmap-bin.yaml', 'ceph/templates/secret-keystone-rgw.yaml', 'cinder/templates/service-api.yaml', 'keystone/templates/secret-keystone.yaml', 'ceilometer/templates/pdb-api.yaml', 'horizon/templates/secret-db.yaml', 'ceilometer/templates/job-db-sync.yaml', 'ceph/templates/configmap-templates.yaml', 'horizon/templates/configmap-bin.yaml', 'ceilometer/templates/job-ks-endpoints.yaml', 'barbican/templates/secret-db.yaml', 'ceph/templates/secret-keystone.yaml', 'horizon/templates/pdb.yaml', 'ceilometer/templates/configmap-etc.yaml', 'ceilometer/templates/job-ks-user.yaml', 'ceph/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a542be68cdc8dffd22deee551aeba5d425ab54d6', 'message': 'WIP - Add labels to all components of apps\n\nThis PS is to add labels across all components of\nthe OpenStack-Helm apps. This allows finding\nall related items by label searches.\n\nChange-Id: I0dfd89768502bd9f883d419d9787563fff2bd666\n'}]",0,518412,a542be68cdc8dffd22deee551aeba5d425ab54d6,17,2,4,26645,,,0,"WIP - Add labels to all components of apps

This PS is to add labels across all components of
the OpenStack-Helm apps. This allows finding
all related items by label searches.

Change-Id: I0dfd89768502bd9f883d419d9787563fff2bd666
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/12/518412/4 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/secret-db.yaml', 'horizon/templates/configmap-bin.yaml', 'horizon/templates/configmap-etc.yaml', 'horizon/templates/pdb.yaml', 'horizon/templates/service-ingress.yaml', 'horizon/templates/ingress-api.yaml', 'horizon/templates/service.yaml']",7,b2bb6ecfe8681003c1cc9ab107de01f82b9a5db5,labels_for_all," labels: {{ tuple $envAll ""horizon"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }}",,14,0
openstack%2Fopenstack-helm~master~I7905356da35d10342e6896800bf2a2c637908e04,openstack/openstack-helm,master,I7905356da35d10342e6896800bf2a2c637908e04,value override files for ocata,ABANDONED,2017-11-17 07:00:44.000000000,2020-07-15 19:25:14.000000000,,"[{'_account_id': 8181}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-17 07:00:44.000000000', 'files': ['tools/overrides/ocata/magnum.yaml', 'tools/overrides/ocata/mistral.yaml', 'tools/overrides/ocata/keystone.yaml', 'tools/overrides/ocata/heat.yaml', 'tools/overrides/ocata/nova.yaml', 'tools/overrides/ocata/libvirt.yaml', 'tools/overrides/ocata/cinder.yaml', 'tools/overrides/ocata/senlin.yaml', 'tools/overrides/ocata/neutron.yaml', 'tools/overrides/ocata/glance.yaml', 'tools/overrides/ocata/openvswitch.yaml', 'tools/overrides/ocata/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fac5c67470ae845a1c79626b63a22bacce46a678', 'message': 'value override files for ocata\n\nThe overrides in this directory allow you to install ocata version\nof openstack with kolla image version 4.0.0\n\nThese files will be useless after official upgrade.\n\nChange-Id: I7905356da35d10342e6896800bf2a2c637908e04\n'}]",0,520955,fac5c67470ae845a1c79626b63a22bacce46a678,5,4,1,25764,,,0,"value override files for ocata

The overrides in this directory allow you to install ocata version
of openstack with kolla image version 4.0.0

These files will be useless after official upgrade.

Change-Id: I7905356da35d10342e6896800bf2a2c637908e04
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/520955/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/overrides/ocata/magnum.yaml', 'tools/overrides/ocata/mistral.yaml', 'tools/overrides/ocata/keystone.yaml', 'tools/overrides/ocata/heat.yaml', 'tools/overrides/ocata/nova.yaml', 'tools/overrides/ocata/libvirt.yaml', 'tools/overrides/ocata/cinder.yaml', 'tools/overrides/ocata/senlin.yaml', 'tools/overrides/ocata/neutron.yaml', 'tools/overrides/ocata/glance.yaml', 'tools/overrides/ocata/openvswitch.yaml', 'tools/overrides/ocata/horizon.yaml']",12,fac5c67470ae845a1c79626b63a22bacce46a678,ocata-upgrade,images: tags: db_init: docker.io/kolla/ubuntu-source-heat-engine:4.0.0 db_sync: docker.io/kolla/ubuntu-source-horizon:4.0.0 db_drop: docker.io/kolla/ubuntu-source-heat-engine:4.0.0 horizon: docker.io/kolla/ubuntu-source-horizon:4.0.0 ,,179,0
openstack%2Fopenstack-helm~master~Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc,openstack/openstack-helm,master,Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc,Define exposed port for openstack services,ABANDONED,2017-10-27 22:18:07.000000000,2020-07-15 19:25:08.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 26201}, {'_account_id': 27020}]","[{'number': 1, 'created': '2017-10-27 22:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/06f68d17b0950e24719b73b6a8623ca5f9c313ba', 'message': 'Define exposed port for openstack services\n\n- service-node-port-range changed to support extended port range\n- New version of kubeadm-aio released.\n- Service ports was changed to Nodeport\n\nChange-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc\n'}, {'number': 2, 'created': '2017-10-31 18:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a36d3aac0a4fbfcb79fa353cc9849667f35749f5', 'message': 'Define exposed port for openstack services\n\nService ports for openstack services changed to Nodeport\n\nChange-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc\n'}, {'number': 3, 'created': '2017-10-31 22:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7cf99b81f9cb3ded7015bbdf80827de354a96852', 'message': 'Define exposed port for openstack services\n\nService ports for openstack services changed to Nodeport\n\nChange-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc\n'}, {'number': 4, 'created': '2017-11-01 16:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/24c0866fafdb0a089266d3d521a4d4b657991274', 'message': 'Define exposed port for openstack services\n\nService ports for openstack services changed to Nodeport\n\nChange-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc\n'}, {'number': 5, 'created': '2017-11-01 18:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e3737fe84729c2b5e4c43ca0afa1c7731beb3c8a', 'message': 'Define exposed port for openstack services\n\nService ports for openstack services changed to Nodeport\n\nChange-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc\n'}, {'number': 6, 'created': '2017-11-03 17:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a360cc66b9c999fce02ceb509d2552066bb38569', 'message': 'Define exposed port for openstack services\n\nService ports for openstack services changed to Nodeport\n\nChange-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc\n'}, {'number': 7, 'created': '2017-11-06 17:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e368f943785021905723905e07b5f198138263eb', 'message': 'Define exposed port for openstack services\n\nService ports for openstack services changed to Nodeport\n\nChange-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc\n'}, {'number': 8, 'created': '2017-11-06 23:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/75562e1fb78a66fd69407f093744bd610aa4af8b', 'message': 'Define exposed port for openstack services\n\nService ports for openstack services changed to Nodeport\n\nChange-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc\n'}, {'number': 9, 'created': '2017-11-15 18:20:24.000000000', 'files': ['barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'glance/values.yaml', 'nova/templates/deployment-novncproxy.yaml', 'ceilometer/values.yaml', 'gnocchi/values.yaml', 'nova/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'ingress/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b4dcf9ef86b35d6e2651200b851114eac1449376', 'message': 'Define exposed port for openstack services\n\nService ports for openstack services changed to Nodeport\n\nChange-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc\n'}]",1,515958,b4dcf9ef86b35d6e2651200b851114eac1449376,40,4,9,27020,,,0,"Define exposed port for openstack services

Service ports for openstack services changed to Nodeport

Change-Id: Ia7f98fd4249e514661ca17206a6418d5c9cfd3cc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/515958/7 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/values.yaml', 'barbican/values.yaml', 'tools/gate/vars.sh', 'nova/values.yaml', 'ingress/values.yaml', 'glance/values.yaml', 'tools/kubeadm-aio/Dockerfile', 'tools/kubeadm-aio/assets/etc/kubeadm.conf']",8,06f68d17b0950e24719b73b6a8623ca5f9c313ba,nodeport_fix," service-node-port-range: ""1024-65535""",,18,17
openstack%2Fopenstack-helm~master~Ib6244cc137c8ccb532d9789e79580ab12ab5861a,openstack/openstack-helm,master,Ib6244cc137c8ccb532d9789e79580ab12ab5861a,WIP: openstack-helm default alert definition,ABANDONED,2017-11-14 01:14:25.000000000,2020-07-15 19:25:04.000000000,,"[{'_account_id': 11636}, {'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-14 01:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/31f5bb20a0d1543774e1d3e7375fd88c372f3bce', 'message': 'WIP: openstack-helm default alert definition\nThis PS proposes defining a common set of alert definitions\nbe used at the openstack-helm based deployment.\nIt should include alerts for physical host, network, os,\nopentack, kubernetes, ceph, and any related systems.\nThis is a very first draft as WIP. I would like to use this PS\nto initiate discussion on what/how to write.\n\nChange-Id: Ib6244cc137c8ccb532d9789e79580ab12ab5861a\n'}, {'number': 2, 'created': '2017-11-14 01:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a088cb5c23fa7a6396fe985534a8cec47255b66', 'message': 'WIP: openstack-helm default alert definition\nThis PS proposes defining a common set of alert definitions to be used\nat the openstack-helm based deployment.It should include alerts for \nphysical host, network, os, openstack, kubernetes, ceph, and any related \nsystems.\n\nThis is a very first draft as WIP. I would like to use this PS\nto initiate discussion on what/how to write.\n\nChange-Id: Ib6244cc137c8ccb532d9789e79580ab12ab5861a\n'}, {'number': 3, 'created': '2017-11-14 01:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2d4c5ee7bea465964c395bf0e10531c22ee67c38', 'message': 'WIP: openstack-helm default alert definition\nThis PS proposes defining a common set of alert definitions to be used\nat the openstack-helm based deployment.It should include alerts for \nphysical host, network, os, openstack, kubernetes, ceph, and any related \nsystems.\n\nThis is a very first draft as WIP. I would like to use this PS\nto initiate discussion on what/how to write.\n\nChange-Id: Ib6244cc137c8ccb532d9789e79580ab12ab5861a\n'}, {'number': 4, 'created': '2017-11-14 02:26:12.000000000', 'files': ['doc/source/specs/index.rst', 'doc/source/specs/osh-required-alert-list.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/682a0c61bd2bc9bd4cb1ce56c09de3a3595542a7', 'message': 'WIP: openstack-helm default alert definition\n\nThis PS proposes defining a common set of alert definitions to be used\nat the openstack-helm based deployment.It should include alerts for\nphysical host, network, os, openstack, kubernetes, ceph, and any related\nsystems.\n\nThis is a very first draft as WIP. I would like to use this PS\nto initiate discussion on what/how to write.\n\nChange-Id: Ib6244cc137c8ccb532d9789e79580ab12ab5861a\n'}]",4,519515,682a0c61bd2bc9bd4cb1ce56c09de3a3595542a7,16,3,4,8181,,,0,"WIP: openstack-helm default alert definition

This PS proposes defining a common set of alert definitions to be used
at the openstack-helm based deployment.It should include alerts for
physical host, network, os, openstack, kubernetes, ceph, and any related
systems.

This is a very first draft as WIP. I would like to use this PS
to initiate discussion on what/how to write.

Change-Id: Ib6244cc137c8ccb532d9789e79580ab12ab5861a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/519515/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/index.rst', 'doc/source/specs/osh-required-alert-list.rst']",2,31f5bb20a0d1543774e1d3e7375fd88c372f3bce,osh-required-alert-spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. ====================== osh-default-alert-list ====================== Blueprints: 1. osh-monitoring_ 2. osh-logging-framework_ .. _osh-monitoring: https://blueprints.launchpad.net/openstack-helm/+spec/osh-monitoring .. _osh-logging-framework: https://blueprints.launchpad.net/openstack-helm/+spec/osh-logging-framework Problem Description =================== OpenStack-Helm currently lacks an operational knowledge to measure and alert the state of the OpenStack services and infrastructure components as well as underlying Kubernetes platform. Alerts allow operators to immediately notice potential problems in the system, so that they can identify their causes and minimize service disruption and degradation. To support operational readiness by default, OpenStack-Helm should provide a basic knowledge for alerting the state of the any necessary services, components, and platforms. Alerts should be defined based on monitoring metrics and logging events OpenStack-Helm gathers. This spec proposes the common set of alerts to be used in any OpenStack-Helm based deployment. Platform Requirements ===================== Logging-based Alert Requirements (Host) --------------------------------------- (alert title / alert trigger rule) 1. Kernal Panic / log:rsyslog=Kernel panic 2. Link Down / log:dmesg=link down|Link is Down Logging-based Alert Requirements (Mariadb) ------------------------------------------ (alert title / alert trigger rule) 1. DB Shutdwon / log:mariadb=shutdown 2. Mariadb Connection Overflow / log:mysql=Error: 1040 Logging-based Alert Requirements (Kubernetes) --------------------------------------------- (alert title / alert trigger rule) 1. Logging-based Alert Requirements (OpenStack) -------------------------------------------- (alert title / alert trigger rule) 1. No Free Vol Capacity / log:cinder=free_capacity_gb: 0 2. Cinder-Ceph Conn Error / log:cinder=error calling connect: errno EINVAL Metric-based Alert Requirements ------------------------------- (alert title / alert trigger rule) 1. CPU Usage (cpu idle, cpu percent, cpu stolen, cpu system, cpu user, cpu wait) 2. Memory Usage (memory free, memory usable, memory used) 3. Disk Usage (disk space, disk inode, io read, io write) 4. System Load (load average) 5. Network (net in, net out, net error) Use Cases ========= Alerting Use Cases ----------------- Example uses for pre-loaded default alert list: 1. xxx 2. yyy Proposed Change =============== The proposal includes the following: 1. Default set of alerts Security Impact --------------- All services running within the platform should be subject to the security practices applied to the other OpenStack-Helm charts. Implementation ============== Assignee(s) ----------- Primary assignees: jayahn (Jaesuk Ahn) Work Items ---------- 1. Default set of alerts Testing ======= Testing should include Helm tests for each of the included charts as well as an integration test in the gate. Documentation Impact ==================== Documentation should be included for each of the included charts as well as documentation detailing the requirements for a usable monitoring platform, preferably with sane default values out of the box. ",,134,0
openstack%2Fopenstack-helm~master~I603e2257fe92c7667c3ec16272f9b40f3acb5138,openstack/openstack-helm,master,I603e2257fe92c7667c3ec16272f9b40f3acb5138,Nagios: Prometheus check for DB errors in logs,ABANDONED,2017-11-13 11:59:58.000000000,2020-07-15 19:24:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-13 11:59:58.000000000', 'files': ['nagios/templates/deployment-nagios.yaml', 'nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3e9178f729ef9e333f0f5858e552b0916e580b4c', 'message': 'Nagios: Prometheus check for DB errors in logs\n\nThis PS adds new service in Nagios configuration to check whether database\nerrors occurred in logs. It is based on fluent-plugin-prometheus. The\nassumption is that the following changes are in place:\n\n1. fluent-logging:\nhttps://review.openstack.org/#/c/514622/\n2. fluent-plugin-prometheus:\nhttps://review.openstack.org/#/c/514938/\n3. nagios:\nhttps://review.openstack.org/#/c/513806/\n\nIn the following image you can see how the service is exposed in Nagios\ndashboard (on the top, no DB errors were reported. On the bottom, database\nconnectivity issues appeared):\nhttps://pasteboard.co/GTrp7z3.png\n\nAdditionally, ""$PROMETHEUS_SERVICE"" variable has been replaced because\nit is not evaluated properly.\n\nChange-Id: I603e2257fe92c7667c3ec16272f9b40f3acb5138\nSigned-off-by: Mateusz Blaszkowski <mateusz.blaszkowski@intel.com>\n'}]",0,519318,3e9178f729ef9e333f0f5858e552b0916e580b4c,5,2,1,11636,,,0,"Nagios: Prometheus check for DB errors in logs

This PS adds new service in Nagios configuration to check whether database
errors occurred in logs. It is based on fluent-plugin-prometheus. The
assumption is that the following changes are in place:

1. fluent-logging:
https://review.openstack.org/#/c/514622/
2. fluent-plugin-prometheus:
https://review.openstack.org/#/c/514938/
3. nagios:
https://review.openstack.org/#/c/513806/

In the following image you can see how the service is exposed in Nagios
dashboard (on the top, no DB errors were reported. On the bottom, database
connectivity issues appeared):
https://pasteboard.co/GTrp7z3.png

Additionally, ""$PROMETHEUS_SERVICE"" variable has been replaced because
it is not evaluated properly.

Change-Id: I603e2257fe92c7667c3ec16272f9b40f3acb5138
Signed-off-by: Mateusz Blaszkowski <mateusz.blaszkowski@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/519318/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/deployment-nagios.yaml', 'nagios/values.yaml']",2,3e9178f729ef9e333f0f5858e552b0916e580b4c,nagios_fluentd_db_errors, node_selector_key: openstack-control-plane node_selector_value: enabled address prometheus service_description Database errors in logs check_command check_prometheus!scalar(sum(changes(db_errors[5m])))!1!1!db_errors!ge check_interval 1 } define service { use generic-service host_name prometheus, node_selector_key: node_selector_value: address $PROMETHEUS_SERVICE,13,3
openstack%2Fopenstack-helm~master~If8a0d6bc2d6b04cc8c3f081e1fa46c2bab42a3d3,openstack/openstack-helm,master,If8a0d6bc2d6b04cc8c3f081e1fa46c2bab42a3d3,Example log-based alert in Prometheus,ABANDONED,2017-10-25 13:27:46.000000000,2020-07-15 19:24:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-10-25 13:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7943248dfb5000c7d92d3e58562a59e8a1ae781', 'message': 'Example log-based alert in Prometheus\n\nAn example alert that is fired when ""Can\'t connect to MySQL"" log occured\n(see the related change: https://review.openstack.org/#/c/514938/ ).\n\nNo additional configuration in Prometheus is needed as it automatically\ndiscovers its targets thanks to additional annotations (prometheus.io/*)\nthat are attached to fluentd service\n\nChange-Id: If8a0d6bc2d6b04cc8c3f081e1fa46c2bab42a3d3\nSigned-off-by: Mateusz Blaszkowski <mateusz.blaszkowski@intel.com>\n'}, {'number': 2, 'created': '2017-11-13 10:12:31.000000000', 'files': ['prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8f6c41adcdef1b9d5ed990691641a5393c1facff', 'message': 'Example log-based alert in Prometheus\n\nAn example alert that is fired when database errors logs occurred\n(see the related change: https://review.openstack.org/#/c/514938/ ).\n\nNo additional configuration in Prometheus is needed as it automatically\ndiscovers its targets thanks to additional annotations (prometheus.io/*)\nthat are attached to fluentd service\n\nChange-Id: If8a0d6bc2d6b04cc8c3f081e1fa46c2bab42a3d3\nSigned-off-by: Mateusz Blaszkowski <mateusz.blaszkowski@intel.com>\n'}]",0,515061,8f6c41adcdef1b9d5ed990691641a5393c1facff,9,2,2,11636,,,0,"Example log-based alert in Prometheus

An example alert that is fired when database errors logs occurred
(see the related change: https://review.openstack.org/#/c/514938/ ).

No additional configuration in Prometheus is needed as it automatically
discovers its targets thanks to additional annotations (prometheus.io/*)
that are attached to fluentd service

Change-Id: If8a0d6bc2d6b04cc8c3f081e1fa46c2bab42a3d3
Signed-off-by: Mateusz Blaszkowski <mateusz.blaszkowski@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/61/515061/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus/values.yaml'],1,a7943248dfb5000c7d92d3e58562a59e8a1ae781,prometheus-log-alarms," ALERT MySQLConnectionErrors IF sum(changes(mysql_errors[5m])) > 0 LABELS { severity = ""critical"" } ANNOTATIONS { summary = ""MySQL connection problems occured"", description = ""MySQL connection problems occured"" }",,9,0
openstack%2Fopenstack-helm~master~I2a7fd6bfa36fc9d2dcd640e080ab2667d2749afd,openstack/openstack-helm,master,I2a7fd6bfa36fc9d2dcd640e080ab2667d2749afd,Log based metrics using fluent-plugin-prometheus,ABANDONED,2017-10-25 06:55:05.000000000,2020-07-15 19:24:33.000000000,,"[{'_account_id': 11636}, {'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-10-25 06:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cc210e869ddeec0a7a07c5ecf10fab18e5133295', 'message': 'Log based metrics using fluent-plugin-prometheus.\n\nThis PS showcases the usage of fluent-prometheus plugin for metrics\ncollection based on docker logs. As an example, one metric \'mysql_errors\'\nis collected and exposed to Prometheus through REST API at\nip:port/metrics path. Fluent uses grepcounter to count occurrences of\n""Can\'t connect to MySQL"" log. Then, the number is exposed to Prometheus.\n\nNew service (service-prometheus-fluentd.yaml) has been created so that\nPrometheus can reach fluend target and gather metrics exposed by fluentd.\nThanks to ""prometheus_service_annotations"", no additional configuration\nin Prometheus is needed to make the target visible for Prometheus.\nService is annotated with additional fields (prometheus.io/*) so\nPrometheus can dynamically find this endpoint and treat it as its target.\n\nThe following image:\nhttps://pasteboard.co/GQpJ6r4.png\npresents \'mysql_errors\' metrics graph. For the first couple of minutes,\nmariadb endpoint was not reachable what caused the counter to increase\nover time. After 8th minute, mariadb was reachable again and the counter\nwas stable. Please note that in order to make it working correctly,\n\'sum\' function has to be used because there may be many fluentd instances.\n\nNew Docker image is needed in order to make use of grepcounter, typecast\nand prometheus plugins.\n\nThis PS replaces the abandoned one from addons repo\n(https://review.openstack.org/#/c/514655/).\n\nChange-Id: I2a7fd6bfa36fc9d2dcd640e080ab2667d2749afd\nSigned-off-by: Mateusz Blaszkowski <mateusz.blaszkowski@intel.com>\n'}, {'number': 2, 'created': '2017-11-02 08:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dd7267481bf9a2a0056670ccb588befd598f794e', 'message': 'Log based metrics using fluent-plugin-prometheus\n\nThis PS showcases the usage of fluent-prometheus plugin for metrics\ncollection based on docker logs. As an example, one metric \'mysql_errors\'\nis collected and exposed to Prometheus through REST API at\nip:port/metrics path. Fluent uses grepcounter to count occurrences of\n""Can\'t connect to MySQL"" log. Then, the number is exposed to Prometheus.\n\nNew service (service-prometheus-fluentd.yaml) has been created so that\nPrometheus can reach fluend target and gather metrics exposed by fluentd.\nThanks to ""prometheus_service_annotations"", no additional configuration\nin Prometheus is needed to make the target visible for Prometheus.\nService is annotated with additional fields (prometheus.io/*) so\nPrometheus can dynamically find this endpoint and treat it as its target.\n\nThe following image:\nhttps://pasteboard.co/GQpJ6r4.png\npresents \'mysql_errors\' metrics graph. For the first couple of minutes,\nmariadb endpoint was not reachable what caused the counter to increase\nover time. After 8th minute, mariadb was reachable again and the counter\nwas stable. Please note that in order to make it working correctly,\n\'sum\' function has to be used because there may be many fluentd instances.\n\nNew Docker image is needed in order to make use of grepcounter, typecast\nand prometheus plugins.\n\nThis PS replaces the abandoned one from addons repo\n(https://review.openstack.org/#/c/514655/).\n\nChange-Id: I2a7fd6bfa36fc9d2dcd640e080ab2667d2749afd\nSigned-off-by: Mateusz Blaszkowski <mateusz.blaszkowski@intel.com>\n'}, {'number': 3, 'created': '2017-11-13 09:05:37.000000000', 'files': ['tools/images/fluentd/Dockerfile', 'fluent-logging/templates/service-prometheus-fluentd.yaml', 'helm-toolkit/templates/snippets/_prometheus_metadata_annotations.tpl', 'fluent-logging/values.yaml', 'fluent-logging/templates/etc/_td-agent.conf.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/557cda89bc05875d7d2bcddf77d3c0511219ed3f', 'message': 'Log based metrics using fluent-plugin-prometheus\n\nThis PS showcases the usage of fluent-prometheus plugin for metrics\ncollection based on docker logs. As an example, one metric \'db_errors\'\nis collected and exposed to Prometheus through REST API at\nip:port/metrics path. Fluent uses grepcounter to count occurrences of\ndatabase errors (from oslo.db) in logs. Then, the number is exposed to\nPrometheus.\n\nNew service (service-prometheus-fluentd.yaml) has been created so that\nPrometheus can reach fluend target and gather metrics exposed by fluentd.\nThanks to ""prometheus_service_annotations"" snippet, no additional\nconfiguration in Prometheus is needed to make the target visible for\nPrometheus. Service is annotated with additional fields (prometheus.io/*)\nso Prometheus can dynamically find this endpoint and treat it as its\ntarget.\n\nThe following image:\nhttps://pasteboard.co/GQpJ6r4.png\npresents \'mysql_errors\' metrics graph. For the first couple of minutes,\nmariadb endpoint was not reachable what caused the counter to increase\nover time. After 8th minute, mariadb was reachable again and the counter\nwas stable. Please note that in order to make it working correctly,\n\'sum\' function has to be used because there may be many fluentd instances.\n\nNew Docker image is needed in order to make use of grepcounter, typecast\nand prometheus plugins.\n\nThis PS replaces the abandoned one from addons repo\n(https://review.openstack.org/#/c/514655/).\n\nChange-Id: I2a7fd6bfa36fc9d2dcd640e080ab2667d2749afd\nSigned-off-by: Mateusz Blaszkowski <mateusz.blaszkowski@intel.com>\n'}]",0,514938,557cda89bc05875d7d2bcddf77d3c0511219ed3f,15,3,3,11636,,,0,"Log based metrics using fluent-plugin-prometheus

This PS showcases the usage of fluent-prometheus plugin for metrics
collection based on docker logs. As an example, one metric 'db_errors'
is collected and exposed to Prometheus through REST API at
ip:port/metrics path. Fluent uses grepcounter to count occurrences of
database errors (from oslo.db) in logs. Then, the number is exposed to
Prometheus.

New service (service-prometheus-fluentd.yaml) has been created so that
Prometheus can reach fluend target and gather metrics exposed by fluentd.
Thanks to ""prometheus_service_annotations"" snippet, no additional
configuration in Prometheus is needed to make the target visible for
Prometheus. Service is annotated with additional fields (prometheus.io/*)
so Prometheus can dynamically find this endpoint and treat it as its
target.

The following image:
https://pasteboard.co/GQpJ6r4.png
presents 'mysql_errors' metrics graph. For the first couple of minutes,
mariadb endpoint was not reachable what caused the counter to increase
over time. After 8th minute, mariadb was reachable again and the counter
was stable. Please note that in order to make it working correctly,
'sum' function has to be used because there may be many fluentd instances.

New Docker image is needed in order to make use of grepcounter, typecast
and prometheus plugins.

This PS replaces the abandoned one from addons repo
(https://review.openstack.org/#/c/514655/).

Change-Id: I2a7fd6bfa36fc9d2dcd640e080ab2667d2749afd
Signed-off-by: Mateusz Blaszkowski <mateusz.blaszkowski@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/514938/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/fluentd/Dockerfile', 'fluent-logging/templates/service-prometheus-fluentd.yaml', 'fluent-logging/values.yaml', 'fluent-logging/templates/etc/_td-agent.conf.tpl']",4,cc210e869ddeec0a7a07c5ecf10fab18e5133295,fluent-prometheus,# The following plugin is responsible for exposing REST API # at ip:port/metrics that will be consumed by Prometheus <source> @type prometheus </source> <match kube.** > @type copy {{ if .Values.conf.fluentd.kafka.enabled }} {{- end }} # Counts the number of 'Can't connect to MySQL' messages and emits # new message with 'mysql_errors' tag prefix @type grepcounter count_interval 10 input_key log regexp Can't connect to MySQL threshold 1 add_tag_prefix mysql_errors </store> <store> # Casting the log occurrences to integer is required for # prometheus plugin <filter mysql_errors.**> type typecast types count:integer </filter> # Adds 'mysql_errors' metric that will be exposed through REST API <filter mysql_errors.**> @type prometheus <metric> name mysql_errors type counter desc MySQL connection problems counter key count </metric> </filter>,<match ** > {{ if .Values.conf.fluentd.kafka.enabled }} @type copy {{- end }}{{ if .Values.conf.fluentd.kafka.enabled }}{{- end }} ,96,8
openstack%2Fnova~master~I6c80e6f91776393ec01309f9c2be84329a5146b6,openstack/nova,master,I6c80e6f91776393ec01309f9c2be84329a5146b6,WIP compute: Handle MessagingTimeout during reserve_block_device_name,ABANDONED,2020-05-29 16:30:57.000000000,2020-07-15 19:09:48.000000000,,"[{'_account_id': 4393}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-29 16:30:57.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a6dbca7918da6bc5056bc1c44bb3d9725983c714', 'message': 'WIP compute: Handle MessagingTimeout during reserve_block_device_name\n\nChange-Id: I6c80e6f91776393ec01309f9c2be84329a5146b6\n'}]",4,731804,a6dbca7918da6bc5056bc1c44bb3d9725983c714,15,11,1,10135,,,0,"WIP compute: Handle MessagingTimeout during reserve_block_device_name

Change-Id: I6c80e6f91776393ec01309f9c2be84329a5146b6
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/731804/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,a6dbca7918da6bc5056bc1c44bb3d9725983c714,," return volume_bdm return self._create_remote_bdm( context, instance, device, volume, disk_bus, device_type, tag, delete_on_termination) def _fetch_bdm_by_vol_and_instance(self, context, instance, volume_id): """"""Fetch any existing BlockDeviceMapping objects by instance and vol """""" return objects.BlockDeviceMapping.get_by_volume_and_instance( context, volume_id, instance.uuid) def _create_remote_bdm(self, context, instance, device, volume, disk_bus, device_type, tag, delete_on_termination): """"""Create a BlockDeviceMapping object remotely on the compute This is done on the compute host because we want to avoid a race where two devices are requested at the same time. When db access is removed from compute, the bdm will be created here and we will have to make sure that they are assigned atomically. :param context: nova auth RequestContext :param instance: Instance object :param device: The device name being reserved :param volume: volume dict from cinder :param disk_bus: The disk_bus being used to attach the volume :param device_type: The type of device being attached :param tag: Device tag to asscoiate to the volume :param delete_on_termination: Delete on termination flag """""" try: context, instance, device, volume['id'], disk_bus=disk_bus, return volume_bdm except oslo_exceptions.MessagingTimeout: with excutils.save_and_reraise_exception(): try: bdm = self._fetch_bdm_by_vol_and_instance( context, instance, volume['id']) LOG.warning( 'A BDM record %s has been found for instance %s ' 'and volume %s after a MessagingTimeout exception was ' 'caught while reserving a device name on host %s.' ' Destroying the BDM and reraising the failure.', bdm.id, instance.uuid, volume['id'], instance.host) bdm.destroy() except exception.VolumeBDMNotFound: pass try: self._fetch_bdm_by_vol_and_instance(context, instance, volume_id)"," else: # NOTE(vish): This is done on the compute host because we want # to avoid a race where two devices are requested at # the same time. When db access is removed from # compute, the bdm will be created here and we will # have to make sure that they are assigned atomically. context, instance, device, volume_id, disk_bus=disk_bus, return volume_bdm try: objects.BlockDeviceMapping.get_by_volume_and_instance( context, volume_id, instance.uuid) ",48,12
openstack%2Fglance~master~Ia3f870a4031571f3395ccbbe3a6e3d6e0f952934,openstack/glance,master,Ia3f870a4031571f3395ccbbe3a6e3d6e0f952934,v2/schemas/task: add 'additionalProperties' and 'links',ABANDONED,2016-06-29 22:53:35.000000000,2020-07-15 18:44:22.000000000,,[{'_account_id': 2537}],"[{'number': 1, 'created': '2016-06-29 22:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a3115a7ba3bc78d6f734048970ec467210a317e5', 'message': ""v2/schemas/task: add 'additionalProperties' and 'links'\n\nThis patch adds the 'additionalProperties' and 'links' field to the JSON\nreturned by a call to v2/schemas/task.\n\nChange-Id: Ia3f870a4031571f3395ccbbe3a6e3d6e0f952934\nPartial-Bug: #1597126\n""}, {'number': 2, 'created': '2016-06-30 18:34:39.000000000', 'files': ['glance/api/v2/tasks.py', 'glance/tests/integration/v2/test_tasks_api.py', 'glance/api/v2/schemas.py', 'glance/tests/unit/v2/test_tasks_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/9ed094aa865d14b5952689c179f5d055e4d3b910', 'message': ""v2/schemas/task: add 'additionalProperties' and 'links'\n\nThis patch adds the 'additionalProperties' and 'links' field to the JSON\nreturned by a call to v2/schemas/task.\n\nChange-Id: Ia3f870a4031571f3395ccbbe3a6e3d6e0f952934\nPartial-Bug: #1597126\n""}]",0,335699,9ed094aa865d14b5952689c179f5d055e4d3b910,9,1,2,8122,,,0,"v2/schemas/task: add 'additionalProperties' and 'links'

This patch adds the 'additionalProperties' and 'links' field to the JSON
returned by a call to v2/schemas/task.

Change-Id: Ia3f870a4031571f3395ccbbe3a6e3d6e0f952934
Partial-Bug: #1597126
",git fetch https://review.opendev.org/openstack/glance refs/changes/99/335699/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/tasks.py', 'glance/api/v2/schemas.py', 'glance/tests/unit/v2/test_tasks_resource.py']",3,a3115a7ba3bc78d6f734048970ec467210a317e5,bug/1597126,"import glance.api.v2.schemas class TestSchemasController(test_utils.BaseTestCase): def setUp(self): super(TestSchemasController, self).setUp() self.controller = glance.api.v2.schemas.Controller() def test_task(self): req = unit_test_utils.get_fake_request() output = self.controller.task(req) self.assertEqual(False, output['additionalProperties']) self.assertEqual(glance.api.v2.tasks._get_base_links(), output['links'])",,25,2
openstack%2Ftripleo-ansible~master~I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb,openstack/tripleo-ansible,master,I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb,Use ansible_user instead of ANSIBLE_REMOTE_USER env var,MERGED,2020-07-06 15:34:27.000000000,2020-07-15 18:33:56.000000000,2020-07-07 01:20:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 27092}]","[{'number': 1, 'created': '2020-07-06 15:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b741edd5b2ea6d50e84fed5bfab32eb26462108', 'message': ""Use ansible_user instead of ANSIBLE_REMOTE_USER env var\n\nIn 'genereate create_ceph_ansible_remote_tmp playbook' we should\nbe using ansible_user because the env var ANSIBLE_REMOTE_USER\nmight not always being set.\n\nChange-Id: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb\nCloses-Bug: 1886497\n""}, {'number': 2, 'created': '2020-07-06 16:04:02.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f07c12adc17bc8ed0e569542b3035b0e5f1dd50', 'message': ""Use ansible_user instead of ANSIBLE_REMOTE_USER env var\n\nIn 'genereate create_ceph_ansible_remote_tmp playbook' we should\nbe using ansible_user because the env var ANSIBLE_REMOTE_USER\nmight not always being set.\n\nChange-Id: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb\nCloses-Bug: 1886497\n""}]",4,739521,5f07c12adc17bc8ed0e569542b3035b0e5f1dd50,16,8,2,6796,,,0,"Use ansible_user instead of ANSIBLE_REMOTE_USER env var

In 'genereate create_ceph_ansible_remote_tmp playbook' we should
be using ansible_user because the env var ANSIBLE_REMOTE_USER
might not always being set.

Change-Id: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb
Closes-Bug: 1886497
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/739521/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml'],1,4b741edd5b2ea6d50e84fed5bfab32eb26462108,,"-- owner: ""{{ ansible_user | default('tripleo-admin', true) }}"" group: ""{{ ansible_user | default('tripleo-admin', true) }}""","--- owner: ""{{ lookup('env','ANSIBLE_REMOTE_USER') | default('tripleo-admin', true) }}"" group: ""{{ lookup('env','ANSIBLE_REMOTE_USER') | default('tripleo-admin', true) }}""",3,3
openstack%2Fpuppet-openstacklib~master~Iec610053a9250cb78c2a17bfc2c197bf55d9df86,openstack/puppet-openstacklib,master,Iec610053a9250cb78c2a17bfc2c197bf55d9df86,Add support for yaml format policy files,MERGED,2020-07-08 13:21:15.000000000,2020-07-15 18:20:59.000000000,2020-07-15 18:19:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 13:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/549dd880a77ba99a49abffcb0d0ef623efcb9f00', 'message': ""Add support for yaml format policy files\n\nThis patch adds a 'file_format' field to the policies definition to\nallow overriding the default file format which is currently json.\n\nChange-Id: Iec610053a9250cb78c2a17bfc2c197bf55d9df86\nRelated-Bug: #1885602\n""}, {'number': 2, 'created': '2020-07-08 16:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/c7151aaaf3a204b4fabf932d77eb00d858f6e725', 'message': ""Add support for yaml format policy files\n\nThis patch adds a 'file_format' field to the policies definition to\nallow overriding the default file format which is currently json.\n\nChange-Id: Iec610053a9250cb78c2a17bfc2c197bf55d9df86\nRelated-Bug: #1885602\n""}, {'number': 3, 'created': '2020-07-08 17:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/fc1adfff1861c0332aa4d4162d451b31fa780be2', 'message': ""Add support for yaml format policy files\n\nThis patch adds a 'file_format' field to the policies definition to\nallow overriding the default file format which is currently json.\n\nChange-Id: Iec610053a9250cb78c2a17bfc2c197bf55d9df86\nRelated-Bug: #1885602\n""}, {'number': 4, 'created': '2020-07-13 20:36:13.000000000', 'files': ['spec/classes/openstacklib_policy_spec.rb', 'releasenotes/notes/support-for-yaml-policy-da1ccf9fa692dca3.yaml', 'manifests/policy/base.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/462270987992b9780e2a2413f40a51d38b06b5d9', 'message': ""Add support for yaml format policy files\n\nThis patch adds a 'file_format' field to the policies definition to\nallow overriding the default file format which is currently json.\n\nChange-Id: Iec610053a9250cb78c2a17bfc2c197bf55d9df86\nRelated-Bug: #1885602\n""}]",2,739981,462270987992b9780e2a2413f40a51d38b06b5d9,20,6,4,6681,,,0,"Add support for yaml format policy files

This patch adds a 'file_format' field to the policies definition to
allow overriding the default file format which is currently json.

Change-Id: Iec610053a9250cb78c2a17bfc2c197bf55d9df86
Related-Bug: #1885602
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/81/739981/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/openstacklib_policy_spec.rb', 'releasenotes/notes/support-for-yaml-policy-da1ccf9fa692dca3.yaml', 'manifests/policy/base.pp']",3,549dd880a77ba99a49abffcb0d0ef623efcb9f00,bug/1885602,"# [*file_format*] # (optional) Format for file contents. Valid values # are 'json' or 'yaml'. # Defaults to 'json'. # $value = '', $file_mode = '0640', $file_user = undef, $file_group = undef, $file_format = 'json', case $file_format { 'json': { $file_lens = 'Json.lns' } 'yaml': { $file_lens = 'Yaml.lns' } Default: { fail(""$file_format is an unsupported policy file format. Choose 'json' or 'yaml'."") } } lens => $file_lens, lens => '$file_lens',"," $value = '', $file_mode = '0640', $file_user = undef, $file_group = undef, lens => 'Json.lns', lens => 'Json.lns',",50,6
openstack%2Fproject-config~master~I12ca39af9d98bc20e44b71845b68b7a59c4c7dcf,openstack/project-config,master,I12ca39af9d98bc20e44b71845b68b7a59c4c7dcf,added 2 vexxhost repos,MERGED,2020-07-15 15:27:00.000000000,2020-07-15 18:03:28.000000000,2020-07-15 17:42:27.000000000,"[{'_account_id': 1}, {'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}, {'_account_id': 31746}]","[{'number': 1, 'created': '2020-07-15 15:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/308b3024e5beddb11e71bd5fcc4afa80d308a88e', 'message': 'added 2 vexxhost repos\n\nChange-Id: I12ca39af9d98bc20e44b71845b68b7a59c4c7dcf\n'}, {'number': 2, 'created': '2020-07-15 15:41:40.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0a213f3a7dbb72e5d791d7b0dc9277eebc02fff1', 'message': 'added 2 vexxhost repos\n\nChange-Id: I12ca39af9d98bc20e44b71845b68b7a59c4c7dcf\n'}]",1,741247,0a213f3a7dbb72e5d791d7b0dc9277eebc02fff1,14,5,2,31752,,,0,"added 2 vexxhost repos

Change-Id: I12ca39af9d98bc20e44b71845b68b7a59c4c7dcf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/741247/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,308b3024e5beddb11e71bd5fcc4afa80d308a88e,, - vexxhost/docker-images - vexxhost/helm-charts,,8,0
openstack%2Fnova~stable%2Fqueens~I1062b3e74382734edbb2142a09ff0073c66af8db,openstack/nova,stable/queens,I1062b3e74382734edbb2142a09ff0073c66af8db,Add functional test for bug 1550919,MERGED,2020-06-02 15:28:06.000000000,2020-07-15 17:59:28.000000000,2020-07-15 17:59:28.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-02 15:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65d93a48e08e5714ee396f33d867caac01ebc083', 'message': ""Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nNOTE(lyarwood): The following changes are required for stable/rocky:\n\n* uuidsentinel is imported from nova.tests as we don't have access to\n  oslo.utils 3.37.0 that introduced uuidsentinel as used by\n  I7f5f08691ca3f73073c66c29dddb996fb2c2b266 in openstack/nova during\n  stable/stein.\n\n* Use nova.tests.fixtures.PlacementFixture due to\n  Idaed39629095f86d24a54334c699a26c218c6593 not being present in\n  stable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)\n(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)\n(cherry picked from commit 6cff9e25029fbce73f4acdaad57eb692019ddb9d)\n""}, {'number': 2, 'created': '2020-06-09 16:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dbd016d0140f3f4cdd81fd1d2ce02d584d9b11b', 'message': 'Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)\n(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)\n(cherry picked from commit 6cff9e25029fbce73f4acdaad57eb692019ddb9d)\n'}, {'number': 3, 'created': '2020-07-15 12:01:14.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0730aba7aef493dfa160381a534aec4ca1b497fd', 'message': 'Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)\n(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)\n(cherry picked from commit 6118101cbae56e80a22a35a5ffcb07a0ed259b99)\n'}]",1,732715,0730aba7aef493dfa160381a534aec4ca1b497fd,21,7,3,10135,,,0,"Add functional test for bug 1550919

This adds a failing test, which we fix in change I76448196.

An earlier version of this change was previously merged as
change I5619728d. This was later reverted, as it was failing in the
gate. However, on inspection these failures seem to have been simply
timeouts due to load.

Changes from previous version:

- Increase the timeouts which were previously triggering, and
  serialise server creation to reduce the chance of this recurring.
- Add an LVM test, which highlights the requirement to flag the
  creation of ephemeral and swap disks.
- Add an Qcow2 test, essentially the same as the Flat test but ensures
  coverage of the most common backends.
- Each test now uses a separate instances_path allowing for cleanup
  without racing against other active tests.
- Some nits addressed.

For the time being this test does not make use of the recently improved
nova.tests.functional.libvirt.base.ServersTestBase class to ease
backports. Future changes should be made to use this class removing some
of the common setUp logic from _LibvirtEvacuateTest.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1550919
Change-Id: I1062b3e74382734edbb2142a09ff0073c66af8db
(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)
(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)
(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)
(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)
(cherry picked from commit 6118101cbae56e80a22a35a5ffcb07a0ed259b99)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/732715/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_evacuate.py'],1,65d93a48e08e5714ee396f33d867caac01ebc083,bug/1550919,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import fixtures import mock import os.path from oslo_utils import fileutils from oslo_utils import units from nova import conf from nova import context from nova import exception from nova import objects from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_network from nova.tests.unit import fake_notifier import nova.tests.unit.image.fake as fake_image from nova.tests.unit.virt.libvirt import fakelibvirt from nova.tests import uuidsentinel as uuids from nova.virt.libvirt import config as libvirt_config CONF = conf.CONF FLAVOR_FIXTURES = [ {'flavorid': 'root_only', 'name': 'root_only', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 0, 'swap': 0}, {'flavorid': 'with_ephemeral', 'name': 'with_ephemeral', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 1, 'swap': 0}, {'flavorid': 'with_swap', 'name': 'with_swap', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 0, 'swap': 1}, ] # Choice of image id is arbitrary, but fixed for consistency. IMAGE_ID = fake_image.AUTO_DISK_CONFIG_ENABLED_IMAGE_UUID # NOTE(mdbooth): Change I76448196 tests for creation of any local disk, and # short-circuits as soon as it sees one created. Disks are created in order: # root disk, ephemeral disks, swap disk. Therefore to test correct handling of # ephemeral disks we must ensure there is no root disk, and to test swap disks # we must ensure there is no root or ephemeral disks. Each of the following # fixtures intentionally has only a single local disk (or none for bfv), # ensuring we cover all local disks. SERVER_FIXTURES = [ # Local root disk only {'name': 'local_root', 'imageRef': IMAGE_ID, 'flavorRef': 'root_only', }, # No local disks {'name': 'bfv', 'flavorRef': 'root_only', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol1, 'source_type': 'volume', 'destination_type': 'volume', }], }, # Local eph disk only {'name': 'bfv_with_eph', 'flavorRef': 'with_ephemeral', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol2, 'source_type': 'volume', 'destination_type': 'volume', }], }, # Local swap disk only {'name': 'bfv_with_swap', 'flavorRef': 'with_swap', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol3, 'source_type': 'volume', 'destination_type': 'volume', }], }, ] SERVER_DISKS = { 'local_root': 'disk', 'bfv': None, 'bfv_with_eph': 'disk.eph0', 'bfv_with_swap': 'disk.swap', } class _FileTest(object): """"""A base class for the _FlatTest and _Qcow2Test mixin test classes"""""" def setUp(self): super(_FileTest, self).setUp() def assert_disks_nonshared_instancedir(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return source_root_disk = os.path.join(self.source_instance_path(server), disk) dest_root_disk = os.path.join(self.dest_instance_path(server), disk) self.assertTrue(os.path.exists(source_root_disk), ""Source root disk %s for server %s does not exist"" % (source_root_disk, name)) self.assertFalse(os.path.exists(dest_root_disk), ""Destination root disk %s for server %s exists"" % (dest_root_disk, name)) def assert_disks_shared_instancedir(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return source_root_disk = os.path.join( self.source_instance_path(server), disk) # FIXME(mdbooth): We should not have deleted a shared disk self.assertFalse(os.path.exists(source_root_disk), ""Source root disk %s for server %s exists"" % (source_root_disk, name)) class _FlatTest(_FileTest): """"""A mixin which configures the flat imagebackend, and provides assertions for the expected state of the flat imagebackend after an evacuation. We mock create_image to touch a file so we can assert its existence/removal in tests. """""" def setUp(self): super(_FlatTest, self).setUp() self.flags(group='libvirt', images_type='flat') def fake_create_image(_self, *args, **kwargs): # Simply ensure the file exists open(_self.path, 'a').close() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Flat.create_image', fake_create_image)) # Mocked to reduce runtime self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.imagebackend.Flat.correct_format')) class _Qcow2Test(_FileTest): """"""A mixin which configures the qcow2 imagebackend, and provides assertions for the expected state of the flat imagebackend after an evacuation. We mock create_image to touch a file so we can assert its existence/removal in tests. """""" def setUp(self): super(_Qcow2Test, self).setUp() self.flags(group='libvirt', images_type='qcow2') def fake_create_image(_self, *args, **kwargs): # Simply ensure the file exists open(_self.path, 'a').close() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Qcow2.create_image', fake_create_image)) class _RbdTest(object): """"""A mixin which configures the rbd imagebackend, and provides assertions for the expected state of the rbd imagebackend after an evacuation. We mock RBDDriver so we don't need an actual ceph cluster. We mock create_image to store which rbd volumes would have been created, and exists to reference that store. """""" def setUp(self): super(_RbdTest, self).setUp() self.flags(group='libvirt', images_type='rbd') self.flags(group='libvirt', rbd_user='rbd') self.flags(group='libvirt', rbd_secret_uuid='1234') self.created = set() def fake_create_image(_self, *args, **kwargs): self.created.add(_self.rbd_name) def fake_exists(_self): return _self.rbd_name in self.created self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.create_image', fake_create_image)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.exists', fake_exists)) # We never want to actually touch rbd self.mock_rbd_driver = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.storage.rbd_utils.RBDDriver')).mock.return_value self.mock_rbd_driver.get_mon_addrs.return_value = ([], []) self.mock_rbd_driver.size.return_value = 10 * units.Gi self.mock_rbd_driver.rbd_user = 'rbd' def _assert_disks(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return # Check that we created a root disk and haven't called _cleanup_rbd at # all self.assertIn(""%s_%s"" % (server['id'], disk), self.created) # FIXME(mdbooth): we should not have deleted shared disks self.assertGreater(self.mock_rbd_driver.cleanup_volumes.call_count, 0) # We never want to cleanup rbd disks during evacuate, regardless of # instance shared storage assert_disks_nonshared_instancedir = _assert_disks assert_disks_shared_instancedir = _assert_disks class FakeLVM(object): def __init__(self): self.volumes = set() def _exists(self, vg, lv): return any([v for v in self.volumes if v[0] == vg and v[1] == lv]) def _vg_exists(self, vg): return any([v for v in self.volumes if v[0] == vg]) def _find_vol_from_path(self, path): info = self.volume_info(path) for vol in self.volumes: if vol[0] == info['VG'] and vol[1] == info['LV']: return vol return None def create_volume(self, vg, lv, size, sparse=False): self.volumes.add((vg, lv, size)) def list_volumes(self, vg_path): _, vg = os.path.split(vg_path) return [vol[1] for vol in self.volumes if vol[0] == vg] def volume_info(self, path): path, lv = os.path.split(path) path, vg = os.path.split(path) return {'VG': vg, 'LV': lv} def get_volume_size(self, path): vol = self._find_vol_from_path(path) if vol is not None: return vol[2] raise exception.VolumeBDMPathNotFound(path=path) def remove_volumes(self, paths): for path in paths: vol = self._find_vol_from_path(path) if vol is not None: self.volumes.remove(vol) class _LVMTest(object): """"""A mixin which configures the LVM imagebackend, and provides assertions for the expected state of the LVM imagebackend after an evacuation. We need to track logical volumes on each compute separately, which we do by mocking the nova.virt.libvirt.storage.lvm module immediately before starting a new compute. """""" def setUp(self): super(_LVMTest, self).setUp() self.flags(group='libvirt', images_type='lvm', images_volume_group='fake_vg') # A map of compute service name: fake libvirt module self.fake_lvms = collections.defaultdict(FakeLVM) # The fake libvirt module in use by the compute service which is # running currently self.fake_lvm = None def fake_create_image(_self, prepare_template, base, size, *args, **kwargs): self.fake_lvm.create_volume(_self.vg, _self.lv, size) def fake_exists(_self, *args, **kwargs): return self.fake_lvm._exists(_self.vg, _self.lv) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Lvm.create_image', fake_create_image)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Lvm.exists', fake_exists)) orig_path_exists = os.path.exists def fake_path_exists(path): if path.startswith('/dev/'): paths = path.split(os.sep)[2:] if len(paths) == 0: # For completeness: /dev exists return True if len(paths) == 1: return self.fake_lvm._vg_exists(*paths) if len(paths) == 2: return self.fake_lvm._exists(*paths) return False else: return orig_path_exists(path) self.useFixture(fixtures.MonkeyPatch( 'os.path.exists', fake_path_exists)) def _start_compute(self, name): compute = super(_LVMTest, self)._start_compute(name) # We need each compute to have its own fake LVM. These mocks replace # the previous mocks, globally. This only works because in this test we # only ever run one of the computes at a time. self.fake_lvm = self.fake_lvms[name] self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.lvm', self.fake_lvm)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.lvm', self.fake_lvm)) return compute def _assert_disks(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return vg = CONF.libvirt.images_volume_group lv = '{uuid}_{disk}'.format(uuid=server['id'], disk=disk) compute0 = self.fake_lvms['compute0'] compute1 = self.fake_lvms['compute1'] self.assertTrue(compute0._exists(vg, lv), 'Disk ""{disk}"" of server {server} does not exist on ' 'source'.format(disk=disk, server=name)) self.assertFalse(compute1._exists(vg, lv), 'Disk ""{disk}"" of server {server} still exists on ' 'destination'.format(disk=disk, server=name)) # We always want to cleanup LVM disks on failure, regardless of shared # instance directory assert_disks_nonshared_instancedir = _assert_disks assert_disks_shared_instancedir = _assert_disks class _LibvirtEvacuateTest(integrated_helpers.InstanceHelperMixin): """"""The main libvirt evacuate test. This configures a set of stub services with 2 computes and defines 2 tests, both of which create a server on compute0 and then evacuate it to compute1. test_evacuate_failure_nonshared_instancedir does this with a non-shared instance directory, and test_evacuate_failure_shared_instancedir does this with a shared instance directory. This class requires one of the mixins _FlatTest, _RbdTest, _LVMTest, or _Qcow2Test to execute. These configure an imagebackend, and define the assertions assert_disks_nonshared_instancedir and assert_disks_shared_instancedir to assert the expected state of that imagebackend after an evacuation. By combining shared and non-shared instance directory tests in this class with these mixins we get test coverage of all combinations of shared/nonshared instanace directories and block storage. """""" def _start_compute(self, name): # NOTE(mdbooth): fakelibvirt's getHostname currently returns a # hardcoded 'compute1', which is undesirable if we want multiple fake # computes. There's no good way to pre-initialise get_connection() to # return a fake libvirt with a custom return for getHostname. # # Here we mock the class during service creation to return our custom # hostname, but we can't leave this in place because then both computes # will still get the same value from their libvirt Connection. Once the # service has started, we poke a custom getHostname into the # instantiated object to do the same thing, but only for that object. with mock.patch.object(fakelibvirt.Connection, 'getHostname', return_value=name): compute = self.start_service('compute', host=name) compute.driver._host.get_connection().getHostname = lambda: name return compute def setUp(self): super(_LibvirtEvacuateTest, self).setUp() self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.PlacementFixture()) fake_network.set_stub_network_methods(self) api_fixture = self.useFixture( nova_fixtures.OSAPIFixture(api_version='v2.1')) self.api = api_fixture.admin_api # force_down and evacuate without onSharedStorage self.api.microversion = '2.14' fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.useFixture(fakelibvirt.FakeLibvirtFixture()) # Fake out all the details of volume connection self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver.get_volume_connector')) self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._connect_volume')) # For cleanup self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume')) volume_config = libvirt_config.LibvirtConfigGuestDisk() volume_config.driver_name = 'fake-volume-driver' volume_config.source_path = 'fake-source-path' volume_config.target_dev = 'fake-target-dev' volume_config.target_bus = 'fake-target-bus' get_volume_config = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_volume_config')).mock get_volume_config.return_value = volume_config # Ensure our computes report lots of available disk, vcpu, and ram lots = 10000000 get_local_gb_info = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_local_gb_info')).mock get_local_gb_info.return_value = { 'total': lots, 'free': lots, 'used': 1} get_vcpu_available = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total')).mock get_vcpu_available.return_value = 24 get_memory_mb_total = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.host.Host.get_memory_mb_total')).mock get_memory_mb_total.return_value = lots # Mock out adding rng devices self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._add_rng_device')).mock self.start_service('conductor') self.start_service('scheduler') self.flags(compute_driver='libvirt.LibvirtDriver') ctxt = context.get_admin_context() for flavor in FLAVOR_FIXTURES: objects.Flavor(context=ctxt, **flavor).create() @staticmethod def source_instance_path(server): return os.path.join(CONF.instances_path, server['id']) @staticmethod def dest_instance_path(server): return os.path.join(CONF.instances_path, 'dest', server['id']) def _create_servers(self): def _create_server(server): # NOTE(mdbooth): We could do all the server creations concurrently # to improve throughput, but we have seen this result in timeouts # on a loaded CI worker. server = self.api.post_server({'server': server}) # Wait for server to become ACTIVE, and return its updated state # NOTE(mdbooth): Increase max_retries from default to reduce # chances of timeout. return self._wait_for_state_change( self.api, server, 'ACTIVE', max_retries=30) return [_create_server(server) for server in SERVER_FIXTURES] def _swap_computes(self, compute0): # Force compute0 down compute0.stop() self.api.force_down_service('compute0', 'nova-compute', True) # Start compute1 return self._start_compute('compute1') def _evacuate_with_failure(self, server, compute1): # Perform an evacuation during which we experience a failure on the # destination host instance_uuid = server['id'] with mock.patch.object(compute1.driver, 'plug_vifs') as plug_vifs: plug_vifs.side_effect = test.TestingException self.api.post_server_action(instance_uuid, {'evacuate': {'host': 'compute1'}}) # Wait for the rebuild to start, then complete fake_notifier.wait_for_versioned_notifications( 'instance.rebuild.start') self._wait_for_migration_status(server, ['failed']) server = self._wait_for_server_parameter( self.api, server, {'OS-EXT-STS:task_state': None}) # Meta-test plug_vifs.assert_called() plug_vifs.reset_mock() # Return fresh server state after evacuate return server def test_evacuate_failure_nonshared_instancedir(self): """"""Assert the failure cleanup behaviour of non-shared instance storage If we fail during evacuate and the instance directory didn't previously exist on the destination, we should delete it """""" # Use a unique instances_path per test to allow cleanup self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) # Create instances on compute0 compute0 = self._start_compute('compute0') servers = self._create_servers() compute1 = self._swap_computes(compute0) # Create a 'pass-through' mock for ensure_tree so we can log its calls orig_ensure_tree = fileutils.ensure_tree mock_ensure_tree = self.useFixture(fixtures.MockPatch( 'oslo_utils.fileutils.ensure_tree', side_effect=orig_ensure_tree)).mock for server in servers: name = server['name'] source_instance_path = self.source_instance_path(server) dest_instance_path = self.dest_instance_path(server) # Check that we've got an instance directory on the source and not # on the dest self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s for server %s does "" ""not exist"" % (source_instance_path, name)) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s for server %s "" ""exists"" % (dest_instance_path, name)) # By default our 2 compute hosts share the same instance directory # on the test runner. Force a different directory while running # evacuate on compute1 so we don't have shared storage. def dest_get_instance_path(instance, relative=False): if relative: return instance.uuid return dest_instance_path with mock.patch('nova.virt.libvirt.utils.get_instance_path') \ as get_instance_path: get_instance_path.side_effect = dest_get_instance_path server = self._evacuate_with_failure(server, compute1) # Check that we've got an instance directory on the source and not # on the dest, but that the dest was created self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s for server %s does "" ""not exist"" % (source_instance_path, name)) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s for server %s "" ""exists"" % (dest_instance_path, name)) mock_ensure_tree.assert_called_with(dest_instance_path) self.assert_disks_nonshared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) def test_evacuate_failure_shared_instancedir(self): """"""Assert the failure cleanup behaviour of shared instance storage If we fail during evacuate and the instance directory was already present on the destination, we should leave it there By default our 2 compute hosts share the same instance directory on the test runner. """""" # Use a unique instances_path per test to allow cleanup self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) # Create test instances on compute0 compute0 = self._start_compute('compute0') servers = self._create_servers() compute1 = self._swap_computes(compute0) for server in servers: name = server['name'] shared_instance_path = self.source_instance_path(server) # Check that we've got an instance directory on the source self.assertTrue(os.path.exists(shared_instance_path), ""Shared instance directory %s for server %s does "" ""not exist"" % (shared_instance_path, name)) server = self._evacuate_with_failure(server, compute1) # Check that the instance directory still exists # FIXME(mdbooth): the shared instance directory should still exist self.assertFalse(os.path.exists(shared_instance_path), ""Shared instance directory %s for server %s "" ""exists"" % (shared_instance_path, name)) self.assert_disks_shared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) class LibvirtFlatEvacuateTest(_FlatTest, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtQcowEvacuateTest(_Qcow2Test, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtRbdEvacuateTest(_RbdTest, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtLVMEvacuateTest(_LVMTest, _LibvirtEvacuateTest, test.TestCase): pass ",,660,0
openstack%2Ftripleo-heat-templates~master~Icdbb0e72710e7235a3ab0e0f39500502e68c664b,openstack/tripleo-heat-templates,master,Icdbb0e72710e7235a3ab0e0f39500502e68c664b,Use neutron::db::database_connection,MERGED,2020-06-30 10:32:01.000000000,2020-07-15 17:33:39.000000000,2020-07-15 17:33:38.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-30 10:32:01.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5b5230ec4a23a64da2e8bd2101bdace9c9df12d', 'message': 'Use neutron::db::database_connection\n\nSee the puppet-tripleo patch [1] for details.\n\n[1] https://review.opendev.org/#/c/738578/\n\nDepends-On: https://review.opendev.org/#/c/738578/\nChange-Id: Icdbb0e72710e7235a3ab0e0f39500502e68c664b\n'}]",0,738579,a5b5230ec4a23a64da2e8bd2101bdace9c9df12d,26,7,1,16137,,,0,"Use neutron::db::database_connection

See the puppet-tripleo patch [1] for details.

[1] https://review.opendev.org/#/c/738578/

Depends-On: https://review.opendev.org/#/c/738578/
Change-Id: Icdbb0e72710e7235a3ab0e0f39500502e68c664b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/738579/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,a5b5230ec4a23a64da2e8bd2101bdace9c9df12d,, - neutron::db::database_connection:, - neutron::server::database_connection:,1,1
openstack%2Ftripleo-heat-templates~master~I680cf82b6e241da9d569c90b44814b1023bb5b69,openstack/tripleo-heat-templates,master,I680cf82b6e241da9d569c90b44814b1023bb5b69,Allow disabling the ovn provider in scen013,MERGED,2020-03-26 09:24:35.000000000,2020-07-15 17:33:33.000000000,2020-07-15 17:33:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-26 09:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5bf3775dd5b73b0a0ce164e414d5986a2ba789c', 'message': 'Allow disabling the ovn provider in scen013\n\nSame reason as in https://review.opendev.org/#/c/713960/. The lack of\npackaging of master OVN provider driver prevents the Octavia API from\nstarting as it tries to load the OVN driver but the code is not present.\n\nChange-Id: I680cf82b6e241da9d569c90b44814b1023bb5b69\n'}, {'number': 2, 'created': '2020-03-27 08:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd9ceb57a107d6398a97411f396043d3cad895a8', 'message': 'Allow disabling the ovn provider in scen013\n\nSame reason as in https://review.opendev.org/#/c/713960/. The lack of\npackaging of master OVN provider driver prevents the Octavia API from\nstarting as it tries to load the OVN driver but the code is not present.\n\nChange-Id: I680cf82b6e241da9d569c90b44814b1023bb5b69\n'}, {'number': 3, 'created': '2020-04-13 16:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0792e0d64c2c59dc5da40780516c5a520eb145ab', 'message': 'Allow disabling the ovn provider in scen013\n\nSame reason as in https://review.opendev.org/#/c/713960/. The lack of\npackaging of master OVN provider driver prevents the Octavia API from\nstarting as it tries to load the OVN driver but the code is not present.\n\nChange-Id: I680cf82b6e241da9d569c90b44814b1023bb5b69\n'}, {'number': 4, 'created': '2020-04-21 17:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6f9222dc248f31fd0605911a911ba01efb172a1', 'message': 'Allow disabling the ovn provider in scen013\n\nSame reason as in https://review.opendev.org/#/c/713960/. The lack of\npackaging of master OVN provider driver prevents the Octavia API from\nstarting as it tries to load the OVN driver but the code is not present.\n\nChange-Id: I680cf82b6e241da9d569c90b44814b1023bb5b69\n'}, {'number': 5, 'created': '2020-06-05 09:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b4fc2d95faa79dafe041b42a726892aa98cfa87', 'message': 'Allow disabling the ovn provider in scen013\n\nSame reason as in https://review.opendev.org/#/c/713960/. The lack of\npackaging of master OVN provider driver prevents the Octavia API from\nstarting as it tries to load the OVN driver but the code is not present.\n\nChange-Id: I680cf82b6e241da9d569c90b44814b1023bb5b69\n'}, {'number': 6, 'created': '2020-07-14 08:04:42.000000000', 'files': ['ci/environments/scenario013-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cbb95e0944bb9d477d778c9694405ec24521e94', 'message': 'Allow disabling the ovn provider in scen013\n\nSame reason as in https://review.opendev.org/#/c/713960/. The lack of\npackaging of master OVN provider driver prevents the Octavia API from\nstarting as it tries to load the OVN driver but the code is not present.\n\nChange-Id: I680cf82b6e241da9d569c90b44814b1023bb5b69\n'}]",2,715137,1cbb95e0944bb9d477d778c9694405ec24521e94,28,10,6,6469,,,0,"Allow disabling the ovn provider in scen013

Same reason as in https://review.opendev.org/#/c/713960/. The lack of
packaging of master OVN provider driver prevents the Octavia API from
starting as it tries to load the OVN driver but the code is not present.

Change-Id: I680cf82b6e241da9d569c90b44814b1023bb5b69
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/715137/6 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario013-standalone.yaml'],1,a5bf3775dd5b73b0a0ce164e414d5986a2ba789c,octavia-ci-upgrade, OctaviaEnableDriverAgent: false,,1,0
openstack%2Ftripleo-heat-templates~master~Id8562700ec93b64870f0fef5e0163dc5ef039eab,openstack/tripleo-heat-templates,master,Id8562700ec93b64870f0fef5e0163dc5ef039eab,Add scenario013: Octavia standalone without Ceph,MERGED,2020-03-14 18:33:21.000000000,2020-07-15 17:33:26.000000000,2020-07-15 17:33:26.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-14 18:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0f2cac7a385bfae7a2f836b9acbf60d545c491e', 'message': 'Add scenario013: Octavia standalone without Ceph\n\nThis patch adds a new CI scenario to support Octavia upgrade CI job\nwithout Ceph until a limitation with standalone upgrade with a single\nceph-mon is resolved [1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1867144/\n\nChange-Id: Id8562700ec93b64870f0fef5e0163dc5ef039eab\n'}, {'number': 2, 'created': '2020-03-17 13:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21b01d67dbdc6fd7fa52e51051c1d14f6a69fc89', 'message': 'Add scenario013: Octavia standalone without Ceph\n\nThis patch adds a new CI scenario to support Octavia upgrade CI job\nwithout Ceph until a limitation with standalone upgrade with a single\nceph-mon is resolved [1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1867144/\n\nChange-Id: Id8562700ec93b64870f0fef5e0163dc5ef039eab\n'}, {'number': 3, 'created': '2020-03-18 10:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ada5f24d0706aa57a45e19f7694ed10c457f9ac', 'message': 'Add scenario013: Octavia standalone without Ceph\n\nThis patch adds a new CI scenario to support Octavia upgrade CI job\nwithout Ceph until a limitation with standalone upgrade with a single\nceph-mon is resolved [1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1867144/\n\nChange-Id: Id8562700ec93b64870f0fef5e0163dc5ef039eab\n'}, {'number': 4, 'created': '2020-04-13 16:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b37f703f38861225738f10723c9f85de6fb5428', 'message': 'Add scenario013: Octavia standalone without Ceph\n\nThis patch adds a new CI scenario to support Octavia upgrade CI job\nwithout Ceph until a limitation with standalone upgrade with a single\nceph-mon is resolved [1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1867144/\n\nChange-Id: Id8562700ec93b64870f0fef5e0163dc5ef039eab\n'}, {'number': 5, 'created': '2020-04-21 17:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d35481fbaff3f8ab4a88fe741cca99d9fe022d7f', 'message': 'Add scenario013: Octavia standalone without Ceph\n\nThis patch adds a new CI scenario to support Octavia upgrade CI job\nwithout Ceph until a limitation with standalone upgrade with a single\nceph-mon is resolved [1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1867144/\n\nChange-Id: Id8562700ec93b64870f0fef5e0163dc5ef039eab\n'}, {'number': 6, 'created': '2020-06-05 09:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fa2d1d8d06bf5d586e8967a5aca19960ec94972', 'message': 'Add scenario013: Octavia standalone without Ceph\n\nThis patch adds a new CI scenario to support Octavia upgrade CI job\nwithout Ceph until a limitation with standalone upgrade with a single\nceph-mon is resolved [1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1867144/\n\nChange-Id: Id8562700ec93b64870f0fef5e0163dc5ef039eab\n'}, {'number': 7, 'created': '2020-07-14 08:04:34.000000000', 'files': ['README.rst', 'ci/environments/scenario013-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/120cb95e220e99e8f8060ef5d5dcd74221ead328', 'message': 'Add scenario013: Octavia standalone without Ceph\n\nThis patch adds a new CI scenario to support Octavia upgrade CI job\nwithout Ceph until a limitation with standalone upgrade with a single\nceph-mon is resolved [1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1867144/\n\nChange-Id: Id8562700ec93b64870f0fef5e0163dc5ef039eab\n'}]",2,713108,120cb95e220e99e8f8060ef5d5dcd74221ead328,39,9,7,6469,,,0,"Add scenario013: Octavia standalone without Ceph

This patch adds a new CI scenario to support Octavia upgrade CI job
without Ceph until a limitation with standalone upgrade with a single
ceph-mon is resolved [1].

[1] https://bugs.launchpad.net/tripleo/+bug/1867144/

Change-Id: Id8562700ec93b64870f0fef5e0163dc5ef039eab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/713108/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario013-standalone.yaml'],1,a0f2cac7a385bfae7a2f836b9acbf60d545c491e,octavia-ci-upgrade,resource_registry: OS::TripleO::Services::Keepalived: OS::Heat::None OS::TripleO::Services::OsloMessagingRpc: ../../deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml OS::TripleO::Services::OsloMessagingNotify: ../../deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml # Some infra instances don't pass the ping test but are otherwise working. # Since the OVB jobs also test this functionality we can shut it off here. OS::TripleO::AllNodes::Validation: ../common/all-nodes-validation-disabled.yaml OS::TripleO::Services::OctaviaApi: ../../deployment/octavia/octavia-api-container-puppet.yaml OS::TripleO::Services::OctaviaHousekeeping: ../../deployment/octavia/octavia-housekeeping-container-puppet.yaml OS::TripleO::Services::OctaviaHealthManager: ../../deployment/octavia/octavia-health-manager-container-puppet.yaml OS::TripleO::Services::OctaviaWorker: ../../deployment/octavia/octavia-worker-container-puppet.yaml OS::TripleO::Services::OctaviaDeploymentConfig: ../../deployment/octavia/octavia-deployment-config.yaml OS::TripleO::Services::CinderApi: OS::Heat::None OS::TripleO::Services::CinderBackup: OS::Heat::None OS::TripleO::Services::CinderScheduler: OS::Heat::None OS::TripleO::Services::CinderVolume: OS::Heat::None OS::TripleO::Services::SwiftProxy: OS::Heat::None OS::TripleO::Services::SwiftDispersion: OS::Heat::None OS::TripleO::Services::SwiftRingBuilder: OS::Heat::None OS::TripleO::Services::SwiftStorage: OS::Heat::None OS::TripleO::Services::SwiftRingBuilder: OS::Heat::None OS::TripleO::Services::SwiftStorage: OS::Heat::None OS::TripleO::Services::Horizon: OS::Heat::None parameter_defaults: StandaloneExtraConfig: octavia::controller::connection_retry_interval: 10 OctaviaAmphoraSshKeyFile: /home/zuul/.ssh/id_rsa.pub OctaviaAmphoraImageFilename: /home/zuul/amphora.qcow2 OctaviaCaKeyPassphrase: 'upstreamci' OctaviaManageNovaFlavor: true OctaviaGenerateCerts: true Debug: true GlanceBackend: 'file' ContainerCli: podman ,,35,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I535d8360493267d50196aebb6365124b67e9ba78,openstack/tripleo-heat-templates,stable/ussuri,I535d8360493267d50196aebb6365124b67e9ba78,Move sidecar kill scripts to host prep,MERGED,2020-07-06 19:28:23.000000000,2020-07-15 17:33:23.000000000,2020-07-15 17:33:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 19:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76e1af5cc41d82a32a08172fdb0732f4a2c6a439', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n(cherry picked from commit 230481674ffd577ed83573daa28b6d3e0ef57637)\n'}, {'number': 2, 'created': '2020-07-07 11:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b61e774c70960eb16590b940d9959f7e2f20abc', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n(cherry picked from commit 230481674ffd577ed83573daa28b6d3e0ef57637)\n'}, {'number': 3, 'created': '2020-07-13 01:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49cf3ca0d3f93da4c6dd01c7d530343a4c8a7a4a', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n(cherry picked from commit 230481674ffd577ed83573daa28b6d3e0ef57637)\n'}, {'number': 4, 'created': '2020-07-15 02:52:00.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d29386d8b61e60676d84ed75d566e6eebd8a19e5', 'message': 'Move sidecar kill scripts to host prep\n\nThese tasks are really should be managed a single time against the host\nrather than at deployment time.\n\nChange-Id: I535d8360493267d50196aebb6365124b67e9ba78\nRelated-Bug: #1883609\n(cherry picked from commit 230481674ffd577ed83573daa28b6d3e0ef57637)\n'}]",0,739595,d29386d8b61e60676d84ed75d566e6eebd8a19e5,49,5,4,3153,,,0,"Move sidecar kill scripts to host prep

These tasks are really should be managed a single time against the host
rather than at deployment time.

Change-Id: I535d8360493267d50196aebb6365124b67e9ba78
Related-Bug: #1883609
(cherry picked from commit 230481674ffd577ed83573daa28b6d3e0ef57637)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/739595/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml']",3,76e1af5cc41d82a32a08172fdb0732f4a2c6a439,sidecar/ussuri, - name: remove temp namespace - name: create /var/lib/neutron - name: set conditions set_fact: haproxy_wrapper_enabled: {get_param: OVNEnableHaproxyDockerWrapper} debug_enabled: if: - service_debug_unset - {get_param: Debug } - {get_param: NeutronWrapperDebug} docker_additional_sockets: {get_param: DockerAdditionalSockets} - name: create kill_scripts directory within /var/lib/neutron file: state: directory path: /var/lib/neutron/kill_scripts - name: create haproxy kill script when: haproxy_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/haproxy-kill mode: 0755 content: {get_file: ../neutron/kill-script}, deploy_steps_tasks: - when: step|int == 1 block: - name: set conditions set_fact: haproxy_wrapper_enabled: {get_param: OVNEnableHaproxyDockerWrapper} debug_enabled: if: - service_debug_unset - {get_param: Debug } - {get_param: NeutronWrapperDebug} docker_additional_sockets: {get_param: DockerAdditionalSockets} - name: create kill_scripts directory within /var/lib/neutron file: state: directory path: /var/lib/neutron/kill_scripts - name: create haproxy kill script when: haproxy_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/haproxy-kill mode: 0755 content: {get_file: ../neutron/kill-script} - - name: remove temp namespace - - name: create /var/lib/neutron,93,102
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I79631ce0ed450febae96db2f32198e02eb427d91,openstack/tripleo-heat-templates,stable/ussuri,I79631ce0ed450febae96db2f32198e02eb427d91,Fix privilege escalation,MERGED,2020-07-06 19:19:59.000000000,2020-07-15 17:33:19.000000000,2020-07-15 17:33:18.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 19:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0789f2fd141ae40d6633c79b2a30d1a59049acb0', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n(cherry picked from commit 4e39acd14771ef9e8085b29be3b9374678d8089e)\n'}, {'number': 2, 'created': '2020-07-07 11:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2a6668fd8162a4e73160275e959a87d779ff354', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n(cherry picked from commit 4e39acd14771ef9e8085b29be3b9374678d8089e)\n'}, {'number': 3, 'created': '2020-07-13 01:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63a20cc8fb3aed520b258bbf3a1ff3e7829fb77d', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n(cherry picked from commit 4e39acd14771ef9e8085b29be3b9374678d8089e)\n'}, {'number': 4, 'created': '2020-07-15 02:50:51.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'deployment/logrotate/tmpwatch-install.yaml', 'common/generate-config-tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'common/hiera-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f917423be9ed0cba53889808d93e4fc0884babec', 'message': 'Fix privilege escalation\n\nThis change enabled become: true to the deploy step and host prep task\nexecution. external tasks are still become: false as they are delegated\nto localhost and run as the same user running the deployment.\n\nChange-Id: I79631ce0ed450febae96db2f32198e02eb427d91\nRelated-Bug: #1883609\n(cherry picked from commit 4e39acd14771ef9e8085b29be3b9374678d8089e)\n'}]",0,739591,f917423be9ed0cba53889808d93e4fc0884babec,46,5,4,3153,,,0,"Fix privilege escalation

This change enabled become: true to the deploy step and host prep task
execution. external tasks are still become: false as they are delegated
to localhost and run as the same user running the deployment.

Change-Id: I79631ce0ed450febae96db2f32198e02eb427d91
Related-Bug: #1883609
(cherry picked from commit 4e39acd14771ef9e8085b29be3b9374678d8089e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/739591/4 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'deployment/logrotate/tmpwatch-install.yaml', 'common/container_startup_configs_tasks.yaml', 'common/generate-config-tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'common/hiera-steps-tasks.yaml']",9,0789f2fd141ae40d6633c79b2a30d1a59049acb0,priv/ussuri, become: true,,41,2
openstack%2Fnova~stable%2Fussuri~I207a6c8c8cf562477792c69e353ba99b3ec4cb5e,openstack/nova,stable/ussuri,I207a6c8c8cf562477792c69e353ba99b3ec4cb5e,Correct reported system memory,MERGED,2020-07-13 11:07:59.000000000,2020-07-15 17:27:17.000000000,2020-07-15 17:24:29.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-13 11:07:59.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ecd218b1a4408708156e6adb00e05f345dfbce36', 'message': ""Correct reported system memory\n\nIn Python 3.3+, 'sys.platform' no longer includes a major version [1]:\n\n  issue 12326: On Linux, sys.platform doesn't contain the major version\n  anymore. It is now always 'linux', instead of 'linux2' or 'linux3'\n  depending on the Linux version used to build Python. Replace\n  sys.platform == 'linux2' with sys.platform.startswith('linux'), or\n  directly sys.platform == 'linux' if you don't need to support older\n  Python versions.\n\nSince we only care about Python 3.6 or greater, we could simply check\nfor 'linux'. However, the libvirt driver isn't supported on non-Linux\nhosts so this was always a dumb check. Simply remove it instead.\n\n[1] https://docs.python.org/3.3/whatsnew/3.3.html#porting-python-code\n\nChange-Id: I207a6c8c8cf562477792c69e353ba99b3ec4cb5e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1882233\n(cherry picked from commit e567adf7f6f27f51cda3cd3422df462148f27b90)\n""}]",0,740666,ecd218b1a4408708156e6adb00e05f345dfbce36,12,5,1,15334,,,0,"Correct reported system memory

In Python 3.3+, 'sys.platform' no longer includes a major version [1]:

  issue 12326: On Linux, sys.platform doesn't contain the major version
  anymore. It is now always 'linux', instead of 'linux2' or 'linux3'
  depending on the Linux version used to build Python. Replace
  sys.platform == 'linux2' with sys.platform.startswith('linux'), or
  directly sys.platform == 'linux' if you don't need to support older
  Python versions.

Since we only care about Python 3.6 or greater, we could simply check
for 'linux'. However, the libvirt driver isn't supported on non-Linux
hosts so this was always a dumb check. Simply remove it instead.

[1] https://docs.python.org/3.3/whatsnew/3.3.html#porting-python-code

Change-Id: I207a6c8c8cf562477792c69e353ba99b3ec4cb5e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1882233
(cherry picked from commit e567adf7f6f27f51cda3cd3422df462148f27b90)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/740666/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py']",2,ecd218b1a4408708156e6adb00e05f345dfbce36,bug/1882233,,"import sys if sys.platform.upper() not in ['LINUX2', 'LINUX3']: return 0 ",11,24
openstack%2Fmanila~master~If5fe32c155fe0861b3ed86b862335e062796056b,openstack/manila,master,If5fe32c155fe0861b3ed86b862335e062796056b,Enforce policy checks getting share-type by name,MERGED,2020-07-01 21:14:45.000000000,2020-07-15 17:26:52.000000000,2020-07-15 00:19:01.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-07-01 21:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/99ee70b5dcfecef679116c532ac9c2ba38597bc8', 'message': ""WIP on bug 1885956\n\nPolicy checks are skipped when looking up a share-type\nby name.  This causes share creation attempts that specify\na valid share-type to pass the early API check on share type\neven if the share type named is private and not shared with\nthe user's project.  The share creation fails later, but after\nthe database record for the share is created.  Although the\noperation fails with an ERROR, the share is stuck in CREATING\nstate.\n\nFix this issue by checking the user's project in the database\nAPI just as we do for share type lookups by uuid.\n\nCloses-bug: #1885956\nChange-Id: If5fe32c155fe0861b3ed86b862335e062796056b\n""}, {'number': 2, 'created': '2020-07-08 17:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a9511df9dde631176256c67fb0123acd20e73fd0', 'message': ""Enforce policy checks getting share-type by name\n\nPolicy checks are skipped when looking up a share-type\nby name.  This causes share creation attempts that specify\na valid share-type to pass the early API check on share type\neven if the share type named is private and not shared with\nthe user's project.  The share creation fails later, but after\nthe database record for the share is created.  Although the\noperation fails with an ERROR, the share is stuck in CREATING\nstate.\n\nFix this issue by checking the user's project in the database\nAPI just as we do for share type lookups by uuid.\n\nCloses-bug: #1885956\nChange-Id: If5fe32c155fe0861b3ed86b862335e062796056b\n""}, {'number': 3, 'created': '2020-07-09 10:45:31.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'manila/api/v1/shares.py', 'releasenotes/notes/bug-1885956-enforce-policy-check-getting-share-type-by-name-5eca17b02bea5261.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/f877deed5186cff3a7ecfbce2536e72fc6013895', 'message': ""Enforce policy checks getting share-type by name\n\nPolicy checks are skipped when looking up a share-type\nby name.  This causes share creation attempts that specify\na valid share-type to pass the early API check on share type\neven if the share type named is private and not shared with\nthe user's project.  The share creation fails later, but after\nthe database record for the share is created.  Although the\noperation fails with an ERROR, the share is stuck in CREATING\nstate.\n\nFix this issue by checking the user's project in the database\nAPI just as we do for share type lookups by uuid.\n\nCloses-bug: #1885956\nChange-Id: If5fe32c155fe0861b3ed86b862335e062796056b\n""}]",0,738941,f877deed5186cff3a7ecfbce2536e72fc6013895,28,12,3,9003,,,0,"Enforce policy checks getting share-type by name

Policy checks are skipped when looking up a share-type
by name.  This causes share creation attempts that specify
a valid share-type to pass the early API check on share type
even if the share type named is private and not shared with
the user's project.  The share creation fails later, but after
the database record for the share is created.  Although the
operation fails with an ERROR, the share is stuck in CREATING
state.

Fix this issue by checking the user's project in the database
API just as we do for share type lookups by uuid.

Closes-bug: #1885956
Change-Id: If5fe32c155fe0861b3ed86b862335e062796056b
",git fetch https://review.opendev.org/openstack/manila refs/changes/41/738941/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'manila/api/v1/shares.py']",2,99ee70b5dcfecef679116c532ac9c2ba38597bc8,," except (exception.ShareTypeNotFound, exception.ShareTypeNotFoundByName):", except exception.ShareTypeNotFound:,3,3
openstack%2Fneutron~stable%2Ftrain~Iba02f5a2211b18c2deb9097daad6be5e7d21faf8,openstack/neutron,stable/train,Iba02f5a2211b18c2deb9097daad6be5e7d21faf8,Auto-delete dhcp ports on segment delete,MERGED,2020-07-13 10:40:39.000000000,2020-07-15 17:26:46.000000000,2020-07-15 17:24:24.000000000,"[{'_account_id': 1131}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-13 10:40:39.000000000', 'files': ['neutron/plugins/ml2/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/common/_constants.py', 'neutron/tests/unit/plugins/ml2/test_db.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/96fe5d35093c2a74717127a52fa517b41dbb8d19', 'message': 'Auto-delete dhcp ports on segment delete\n\nSubnet delete triggers dhcp port deletion but asynchronously,\ntherefore in the condition described in the bug report we may\nget a conflict when deleting the segment too fast after the subnet.\n\nHere we follow the example of how we auto-delete ports in net delete.\n\nPlease also find a fullstack test in Related-Change below.\n\nChange-Id: Iba02f5a2211b18c2deb9097daad6be5e7d21faf8\nCloses-Bug: #1878632\nRelated-Change: https://review.opendev.org/728904\n(cherry picked from commit da45bbbff4e10e3d924ac3d85c9f382623708b11)\n'}]",0,740660,96fe5d35093c2a74717127a52fa517b41dbb8d19,11,5,1,24791,,,0,"Auto-delete dhcp ports on segment delete

Subnet delete triggers dhcp port deletion but asynchronously,
therefore in the condition described in the bug report we may
get a conflict when deleting the segment too fast after the subnet.

Here we follow the example of how we auto-delete ports in net delete.

Please also find a fullstack test in Related-Change below.

Change-Id: Iba02f5a2211b18c2deb9097daad6be5e7d21faf8
Closes-Bug: #1878632
Related-Change: https://review.opendev.org/728904
(cherry picked from commit da45bbbff4e10e3d924ac3d85c9f382623708b11)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/740660/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/common/_constants.py', 'neutron/tests/unit/plugins/ml2/test_db.py', 'neutron/objects/ports.py']",6,96fe5d35093c2a74717127a52fa517b41dbb8d19,,"from neutron.common import _constants def get_auto_deletable_port_ids_and_proper_port_count_by_segment( cls, context, segment_id): q_delete = query.filter( models_v2.Port.device_owner.in_( _constants.AUTO_DELETE_PORT_OWNERS)) q_proper = query.filter( ~models_v2.Port.device_owner.in_( _constants.AUTO_DELETE_PORT_OWNERS)) return ([r.id for r in q_delete.all()], q_proper.count())"," def get_port_ids_filter_by_segment_id(cls, context, segment_id): return [p.id for p in query]",116,21
openstack%2Fneutron~stable%2Fstein~I231e624f460510decc6d2237040c8bef207e2e8e,openstack/neutron,stable/stein,I231e624f460510decc6d2237040c8bef207e2e8e,Improve log message when port losts its vlan tag,MERGED,2020-07-01 07:14:45.000000000,2020-07-15 17:25:20.000000000,2020-07-15 17:22:45.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-01 07:14:45.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac6084494ad8d775ec847a071db62b75b9c95296', 'message': 'Improve log message when port losts its vlan tag\n\nIn some cases it may be useful to log new vlan tag which is found\non the port when it losts old vlan tag which should is expected to\nbe there.\nSo this patch adds such value to the log message.\n\nTrivialFix\n\nChange-Id: I231e624f460510decc6d2237040c8bef207e2e8e\n(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)\n'}]",0,738742,ac6084494ad8d775ec847a071db62b75b9c95296,17,5,1,11975,,,0,"Improve log message when port losts its vlan tag

In some cases it may be useful to log new vlan tag which is found
on the port when it losts old vlan tag which should is expected to
be there.
So this patch adds such value to the log message.

TrivialFix

Change-Id: I231e624f460510decc6d2237040c8bef207e2e8e
(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/738742/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,ac6084494ad8d775ec847a071db62b75b9c95296,improve-ovs-agent-logging-stable/ussuri-stable/train-stable/stein," ""its vlan tag '%(vlan_tag)d'! "" ""Current vlan tag on this port is '%(new_vlan_tag)d'."", 'vlan_tag': lvm.vlan, 'new_vlan_tag': port_tags[port.port_name]}"," ""its vlan tag '%(vlan_tag)d'!"", 'vlan_tag': lvm.vlan}",4,2
openstack%2Fcharm-nova-cloud-controller~master~I2aa9a57f401855e2574517fb7a30b577a27bd0d4,openstack/charm-nova-cloud-controller,master,I2aa9a57f401855e2574517fb7a30b577a27bd0d4,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:00:37.000000000,2020-07-15 17:24:37.000000000,2020-07-15 17:24:37.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:00:37.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4c6287a1808e169fa4123b0705a9230ff4a4c377', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I2aa9a57f401855e2574517fb7a30b577a27bd0d4\n'}]",0,740770,4c6287a1808e169fa4123b0705a9230ff4a4c377,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I2aa9a57f401855e2574517fb7a30b577a27bd0d4
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/70/740770/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py']",6,4c6287a1808e169fa4123b0705a9230ff4a4c377,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,41,2
openstack%2Fcharm-swift-storage~master~I62c72464c2dd792d6323adbf5627406e38ae5559,openstack/charm-swift-storage,master,I62c72464c2dd792d6323adbf5627406e38ae5559,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:01:13.000000000,2020-07-15 17:21:27.000000000,2020-07-15 17:21:27.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:01:13.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/b682f71cd46099aa8c2c71e12650c04f02b57063', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I62c72464c2dd792d6323adbf5627406e38ae5559\n'}]",0,740776,b682f71cd46099aa8c2c71e12650c04f02b57063,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I62c72464c2dd792d6323adbf5627406e38ae5559
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/76/740776/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py']",6,b682f71cd46099aa8c2c71e12650c04f02b57063,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,60,2
openstack%2Fcharm-neutron-api~master~I6f9e2a7bb388ce6fa1981c014ad7186b43def605,openstack/charm-neutron-api,master,I6f9e2a7bb388ce6fa1981c014ad7186b43def605,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:00:19.000000000,2020-07-15 17:20:49.000000000,2020-07-15 17:20:48.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:00:19.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/5bb94af764954be8b69e82beba8d8c19bb7f6760', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I6f9e2a7bb388ce6fa1981c014ad7186b43def605\n'}]",0,740767,5bb94af764954be8b69e82beba8d8c19bb7f6760,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I6f9e2a7bb388ce6fa1981c014ad7186b43def605
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/67/740767/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,5bb94af764954be8b69e82beba8d8c19bb7f6760,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,41,2
openstack%2Fcharm-rabbitmq-server~master~I1c03981adc2bf8de6d6ccaf3c391cd6a4e7d34bf,openstack/charm-rabbitmq-server,master,I1c03981adc2bf8de6d6ccaf3c391cd6a4e7d34bf,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:01:02.000000000,2020-07-15 17:20:24.000000000,2020-07-15 17:20:23.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:01:02.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/dd18de4f31c83a34cce12337e2414a8f4c779b42', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I1c03981adc2bf8de6d6ccaf3c391cd6a4e7d34bf\n'}]",0,740774,dd18de4f31c83a34cce12337e2414a8f4c779b42,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I1c03981adc2bf8de6d6ccaf3c391cd6a4e7d34bf
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/74/740774/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py']",6,dd18de4f31c83a34cce12337e2414a8f4c779b42,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,60,2
openstack%2Fcharm-manila~master~I1885afdf762a71f23ce8301f2ee8ff0b799c003e,openstack/charm-manila,master,I1885afdf762a71f23ce8301f2ee8ff0b799c003e,Add ussuri and victoria package versions,MERGED,2020-07-13 19:09:50.000000000,2020-07-15 17:19:47.000000000,2020-07-15 17:19:47.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:09:50.000000000', 'files': ['src/lib/charm/openstack/manila.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/60376802ca8b4ec8a9e8a19256408f2a6fc18692', 'message': 'Add ussuri and victoria package versions\n\nChange-Id: I1885afdf762a71f23ce8301f2ee8ff0b799c003e\n'}]",0,740778,60376802ca8b4ec8a9e8a19256408f2a6fc18692,10,4,1,11805,,,0,"Add ussuri and victoria package versions

Change-Id: I1885afdf762a71f23ce8301f2ee8ff0b799c003e
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/78/740778/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/manila.py'],1,60376802ca8b4ec8a9e8a19256408f2a6fc18692,batch-update," ('10', 'ussuri'), ('11', 'victoria'),",,2,0
openstack%2Fcharm-heat~master~I04df0f41f6237a4889935cc57f8dd0f1617de3cb,openstack/charm-heat,master,I04df0f41f6237a4889935cc57f8dd0f1617de3cb,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:00:07.000000000,2020-07-15 17:18:40.000000000,2020-07-15 17:18:39.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:00:07.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/296d85c3083ca818bb156a7701eeab6013f17a7c', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I04df0f41f6237a4889935cc57f8dd0f1617de3cb\n'}]",0,740764,296d85c3083ca818bb156a7701eeab6013f17a7c,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I04df0f41f6237a4889935cc57f8dd0f1617de3cb
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/64/740764/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,296d85c3083ca818bb156a7701eeab6013f17a7c,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,41,2
openstack%2Fcharm-neutron-openvswitch~master~I8d589d1739aef94e2d7cbdca6b5e78355d5551be,openstack/charm-neutron-openvswitch,master,I8d589d1739aef94e2d7cbdca6b5e78355d5551be,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:00:31.000000000,2020-07-15 17:18:22.000000000,2020-07-15 17:18:22.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:00:31.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/010ac0935033415df95d9e845c3f2b272de41a83', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I8d589d1739aef94e2d7cbdca6b5e78355d5551be\n'}]",0,740769,010ac0935033415df95d9e845c3f2b272de41a83,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I8d589d1739aef94e2d7cbdca6b5e78355d5551be
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/69/740769/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,010ac0935033415df95d9e845c3f2b272de41a83,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,60,2
openstack%2Fcharm-openstack-dashboard~master~I77df39919c7e77764d8c2f81eb8e5973f0c50230,openstack/charm-openstack-dashboard,master,I77df39919c7e77764d8c2f81eb8e5973f0c50230,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:00:49.000000000,2020-07-15 17:17:48.000000000,2020-07-15 17:17:48.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:00:49.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/8d1223146ab747d9c992417927db1710bfc34214', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I77df39919c7e77764d8c2f81eb8e5973f0c50230\n'}]",0,740772,8d1223146ab747d9c992417927db1710bfc34214,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I77df39919c7e77764d8c2f81eb8e5973f0c50230
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/72/740772/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py']",8,8d1223146ab747d9c992417927db1710bfc34214,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,66,8
openstack%2Fcharm-glance-simplestreams-sync~master~I492e6d27b913921ad44985a87277b6cc66db6b3c,openstack/charm-glance-simplestreams-sync,master,I492e6d27b913921ad44985a87277b6cc66db6b3c,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 18:59:55.000000000,2020-07-15 17:17:37.000000000,2020-07-15 17:17:37.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:59:55.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/d48c0654cec1ee27044ae2a15971491f799a4326', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I492e6d27b913921ad44985a87277b6cc66db6b3c\n'}]",0,740762,d48c0654cec1ee27044ae2a15971491f799a4326,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I492e6d27b913921ad44985a87277b6cc66db6b3c
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/62/740762/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py']",6,d48c0654cec1ee27044ae2a15971491f799a4326,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,41,2
openstack%2Fcharm-neutron-gateway~master~If7ec91283ce57da48e5b33607bddc09707485eec,openstack/charm-neutron-gateway,master,If7ec91283ce57da48e5b33607bddc09707485eec,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:00:25.000000000,2020-07-15 17:17:21.000000000,2020-07-15 17:17:20.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:00:25.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/89d663a00f95501ba7d83c182fa8d79884f5919a', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: If7ec91283ce57da48e5b33607bddc09707485eec\n'}]",0,740768,89d663a00f95501ba7d83c182fa8d79884f5919a,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: If7ec91283ce57da48e5b33607bddc09707485eec
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/68/740768/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,89d663a00f95501ba7d83c182fa8d79884f5919a,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,41,2
openstack%2Fcharm-ceph-radosgw~master~I0917cc6da9098131eaafd511c0e336141b763cf2,openstack/charm-ceph-radosgw,master,I0917cc6da9098131eaafd511c0e336141b763cf2,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 18:59:30.000000000,2020-07-15 17:16:59.000000000,2020-07-15 17:16:58.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:59:30.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/380ac2cf38b279cd9d72fef37a963d016f542ab8', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I0917cc6da9098131eaafd511c0e336141b763cf2\n'}]",0,740757,380ac2cf38b279cd9d72fef37a963d016f542ab8,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I0917cc6da9098131eaafd511c0e336141b763cf2
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/57/740757/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",8,380ac2cf38b279cd9d72fef37a963d016f542ab8,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,87,4
openstack%2Fcharm-hacluster~master~I4924c4b949983b943728e34d1e1caf1c791e5657,openstack/charm-hacluster,master,I4924c4b949983b943728e34d1e1caf1c791e5657,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:00:01.000000000,2020-07-15 17:13:10.000000000,2020-07-15 17:13:10.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:00:01.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/86d1990f072343d5c5fc8118392079ce5336891e', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I4924c4b949983b943728e34d1e1caf1c791e5657\n'}]",0,740763,86d1990f072343d5c5fc8118392079ce5336891e,9,3,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I4924c4b949983b943728e34d1e1caf1c791e5657
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/63/740763/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py']",3,86d1990f072343d5c5fc8118392079ce5336891e,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,26,2
openstack%2Fkolla-ansible~stable%2Fussuri~If2d0dd1739e484b14e3c15a185a236918737b0ab,openstack/kolla-ansible,stable/ussuri,If2d0dd1739e484b14e3c15a185a236918737b0ab,Logstash 6 support,MERGED,2020-07-15 13:58:27.000000000,2020-07-15 17:07:33.000000000,2020-07-15 17:05:22.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 13:58:27.000000000', 'files': ['ansible/roles/monasca/templates/monasca-log-transformer/monasca-log-transformer.json.j2', 'releasenotes/notes/bug-1884090-c40ff140d5514108.yaml', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'ansible/roles/monasca/templates/monasca-log-persister/log-persister.conf.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-log-persister/monasca-log-persister.json.j2', 'ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b7ac2c00e4945e96377004dbacdb64e380f8522', 'message': 'Logstash 6 support\n\nCo-Authored-By: Doug Szumski <doug@stackhpc.com>\nCloses-Bug: #1884090\nDepends-On: https://review.opendev.org/#/c/736768\n\nChange-Id: If2d0dd1739e484b14e3c15a185a236918737b0ab\n(cherry picked from commit 17d8332604e2337b3f2ab8ec8229097ec4174f73)\n'}]",0,741209,4b7ac2c00e4945e96377004dbacdb64e380f8522,9,4,1,30491,,,0,"Logstash 6 support

Co-Authored-By: Doug Szumski <doug@stackhpc.com>
Closes-Bug: #1884090
Depends-On: https://review.opendev.org/#/c/736768

Change-Id: If2d0dd1739e484b14e3c15a185a236918737b0ab
(cherry picked from commit 17d8332604e2337b3f2ab8ec8229097ec4174f73)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/741209/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/templates/monasca-log-transformer/monasca-log-transformer.json.j2', 'releasenotes/notes/bug-1884090-c40ff140d5514108.yaml', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'ansible/roles/monasca/templates/monasca-log-persister/log-persister.conf.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-log-persister/monasca-log-persister.json.j2', 'ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2']",8,4b7ac2c00e4945e96377004dbacdb64e380f8522,bug/1884090-stable/ussuri," bootstrap_servers => ""{{ monasca_kafka_servers }}"" topics => [""{{ monasca_raw_logs_topic }}""] codec => json codec => json"," zk_connect => ""{{ monasca_zookeeper_servers }}"" topic_id => ""{{ monasca_raw_logs_topic }}"" consumer_id => ""log_transformer_{{ ansible_hostname }}"" client_id => ""log_transformer_{{ ansible_hostname }}"" workers => {{ monasca_log_pipeline_threads|int }}",30,17
openstack%2Fkayobe~master~I01da8af2255e2ac4751279db712292f9b862adad,openstack/kayobe,master,I01da8af2255e2ac4751279db712292f9b862adad,Remove opendaylight support,MERGED,2020-07-07 15:42:14.000000000,2020-07-15 17:07:19.000000000,2020-07-15 17:04:54.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2020-07-07 15:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d45621a765695c1a3b940142ca5c534982097e30', 'message': 'Remove opendaylight supported\n\nIt has been deprecated in Ussuri cycle.\n\nChange-Id: I01da8af2255e2ac4751279db712292f9b862adad\n'}, {'number': 2, 'created': '2020-07-07 15:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/071dea016c3b8ce786c5ffe0ad4d8acb446cc588', 'message': 'Remove opendaylight supported\n\nIt has been deprecated in Ussuri cycle.\n\nChange-Id: I01da8af2255e2ac4751279db712292f9b862adad\n'}, {'number': 3, 'created': '2020-07-09 16:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d12c312a86a794dcf29fb0f0769c65d773b21d0a', 'message': 'Remove opendaylight support\n\nIt has been deprecated in Ussuri cycle.\n\nChange-Id: I01da8af2255e2ac4751279db712292f9b862adad\n'}, {'number': 4, 'created': '2020-07-10 17:52:14.000000000', 'files': ['releasenotes/notes/remove-opendaylight-ac316f8ada083cc9.yaml', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f6ffb9d83975abb4592db54531c26b4c1ad6383', 'message': 'Remove opendaylight support\n\nIt has been deprecated in Ussuri cycle.\n\nChange-Id: I01da8af2255e2ac4751279db712292f9b862adad\n'}]",0,739802,3f6ffb9d83975abb4592db54531c26b4c1ad6383,19,6,4,28614,,,0,"Remove opendaylight support

It has been deprecated in Ussuri cycle.

Change-Id: I01da8af2255e2ac4751279db712292f9b862adad
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/02/739802/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla-ansible/vars/main.yml']",3,d45621a765695c1a3b940142ca5c534982097e30,,, - opendaylight,0,8
openstack%2Ftripleo-common~master~I79bbf0eb420cc445cb687f2c5929f634c3c233fc,openstack/tripleo-common,master,I79bbf0eb420cc445cb687f2c5929f634c3c233fc,Switch tripleo-cross-tripleoclient to python 3.7,MERGED,2020-07-14 17:58:13.000000000,2020-07-15 17:05:56.000000000,2020-07-15 16:55:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 17:58:13.000000000', 'files': ['zuul.d/cross-jobs.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/733caa908ec8a1ada6f1e2652b0c2cbb97392341', 'message': ""Switch tripleo-cross-tripleoclient to python 3.7\n\ntripleoclient isn't gating on python 3.8 but on python 3.7. In fact,\npython 3.8 is still non voting and it seems to be broken for openstack\nclient as of today:\n\n  AttributeError: 'EntryPoint' object has no attribute 'module'\n\nSo let's stick to how tripleoclient is tested, which is python 3.7.\n\nChange-Id: I79bbf0eb420cc445cb687f2c5929f634c3c233fc\n""}]",0,741020,733caa908ec8a1ada6f1e2652b0c2cbb97392341,13,6,1,3153,,,0,"Switch tripleo-cross-tripleoclient to python 3.7

tripleoclient isn't gating on python 3.8 but on python 3.7. In fact,
python 3.8 is still non voting and it seems to be broken for openstack
client as of today:

  AttributeError: 'EntryPoint' object has no attribute 'module'

So let's stick to how tripleoclient is tested, which is python 3.7.

Change-Id: I79bbf0eb420cc445cb687f2c5929f634c3c233fc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/741020/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/cross-jobs.yaml', 'zuul.d/layout.yaml']",2,733caa908ec8a1ada6f1e2652b0c2cbb97392341,37, - tripleo-cross-tripleoclient-py37 - tripleo-cross-tripleoclient-py37, - tripleo-cross-tripleoclient-py38 - tripleo-cross-tripleoclient-py38,5,5
openstack%2Fcinderlib~master~Icaaca1758839224bb64b51625020319ce4e0319d,openstack/cinderlib,master,Icaaca1758839224bb64b51625020319ce4e0319d,WIP: Testing running stestr through venv python,ABANDONED,2020-07-15 11:50:56.000000000,2020-07-15 17:05:51.000000000,,[],"[{'number': 1, 'created': '2020-07-15 11:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/8a2e0456d8b38617ff4bf0a9e881a49c4e3117a1', 'message': 'WIP: Testing installing site packages in vevn\n\nChange-Id: Icaaca1758839224bb64b51625020319ce4e0319d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-15 13:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/e91151d4432c16c5f202022c035d31b335c28b1e', 'message': 'WIP: Testing running stestr through venv python\n\nChange-Id: Icaaca1758839224bb64b51625020319ce4e0319d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-07-15 13:17:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/5b9d2741170a008251534eba9f3aa96301b24d7c', 'message': 'WIP: Testing running stestr through venv python\n\nChange-Id: Icaaca1758839224bb64b51625020319ce4e0319d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741160,5b9d2741170a008251534eba9f3aa96301b24d7c,4,0,3,11904,,,0,"WIP: Testing running stestr through venv python

Change-Id: Icaaca1758839224bb64b51625020319ce4e0319d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/60/741160/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8a2e0456d8b38617ff4bf0a9e881a49c4e3117a1,test,# Needed to make sure everything is installed in the venv since we are using # sitepackages=True install_command = {envbindir}/pip install {opts} {packages},,3,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~I5e8bc9ac5cbf4a042b5cd7e27578092062839726,openstack/python-tripleoclient,stable/ussuri,I5e8bc9ac5cbf4a042b5cd7e27578092062839726,Use tripleo custom stdout plugins in utils,MERGED,2020-07-14 17:55:01.000000000,2020-07-15 17:04:26.000000000,2020-07-15 17:01:45.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 17:55:01.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f3ebd58f38da5c2d1d76ffb413c2d6abf613d607', 'message': ""Use tripleo custom stdout plugins in utils\n\nIff8eec43bd73bc6486f56e741e740869d1b8acbb adjusted ansible config for\ncustom 'tripleo_dense' and 'tripleo_profile_tasks' plugins.\n\nThat was not sufficient because of bug/1881254.\n\nAlign settings provided by run_ansible_playbook utility with that\nIff8eec43bd73bc6486f56e741e740869d1b8acbb provides for tripleo_common\nshared ansible configuration module. That is to have:\n- better coverage in CI jobs\n- users experience as well.\n\nCallbacks whitelist defaults switches to\ntripleo_dense,tripleo_profile_tasks. And default output callback\nbecomes tripleo_dense.\n\nChange-Id: I5e8bc9ac5cbf4a042b5cd7e27578092062839726\nRelated-Bug: #1881254\n(cherry picked from commit ed470de9919b8dd7ec5e2e8ab70eeaac933f7252)\n""}]",0,741018,f3ebd58f38da5c2d1d76ffb413c2d6abf613d607,7,3,1,3153,,,0,"Use tripleo custom stdout plugins in utils

Iff8eec43bd73bc6486f56e741e740869d1b8acbb adjusted ansible config for
custom 'tripleo_dense' and 'tripleo_profile_tasks' plugins.

That was not sufficient because of bug/1881254.

Align settings provided by run_ansible_playbook utility with that
Iff8eec43bd73bc6486f56e741e740869d1b8acbb provides for tripleo_common
shared ansible configuration module. That is to have:
- better coverage in CI jobs
- users experience as well.

Callbacks whitelist defaults switches to
tripleo_dense,tripleo_profile_tasks. And default output callback
becomes tripleo_dense.

Change-Id: I5e8bc9ac5cbf4a042b5cd7e27578092062839726
Related-Bug: #1881254
(cherry picked from commit ed470de9919b8dd7ec5e2e8ab70eeaac933f7252)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/18/741018/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/utils.py']",2,f3ebd58f38da5c2d1d76ffb413c2d6abf613d607,bug/1879455-stable/ussuri," connection='smart', output_callback='tripleo_dense', parallel_run=False, callback_whitelist=constants.ANSIBLE_CWL, :param output_callback: Callback for output format. Defaults to ""tripleo_dense"". Defaults to ""tripleo_dense,tripleo_profile_tasks"". Custom output_callback is also whitelisted. if output_callback not in callback_whitelist.split(','):"," connection='smart', output_callback='yaml', parallel_run=False, callback_whitelist=None, :param output_callback: Callback for output format. Defaults to ""json"". Defaults to the value of `output_callback`. When the verbosity is > 0 ""profile_tasks"" will also be whitelisted. if callback_whitelist: else: callback_whitelist = output_callback callback_whitelist = ','.join([callback_whitelist, 'profile_tasks'])",10,11
openstack%2Fos-net-config~stable%2Fqueens~I50af9f75b01addae0e13830cc7a863072f9be34c,openstack/os-net-config,stable/queens,I50af9f75b01addae0e13830cc7a863072f9be34c,Skip VFs configured for DPDKs during NIC ordering,MERGED,2020-07-14 15:27:01.000000000,2020-07-15 16:55:30.000000000,2020-07-15 16:55:30.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 15:27:01.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c81bcfe9eebfb1ebe66580a669cbf7729bee71ee', 'message': 'Skip VFs configured for DPDKs during NIC ordering\n\nDuring NIC ordering all the VFs are expected to be skipped.\nBut if DPDK drivers are bound to a VF, then those VFs are still taken\nin to account and is affecting the NIC ordering. The VFs bound to DPDK\ndrivers also shall be removed from the NIC ordering logic resulting in\nconsistency even with the re-run of os-net-config.\n\nChange-Id: I50af9f75b01addae0e13830cc7a863072f9be34c\n(cherry picked from commit 761b4621b0bb36d2658ca25929b0270e3cfc9c77)\n(cherry picked from commit b34a73016ab7d0067bd8e91039861672a49324ee)\n'}]",0,740989,c81bcfe9eebfb1ebe66580a669cbf7729bee71ee,12,5,1,18904,,,0,"Skip VFs configured for DPDKs during NIC ordering

During NIC ordering all the VFs are expected to be skipped.
But if DPDK drivers are bound to a VF, then those VFs are still taken
in to account and is affecting the NIC ordering. The VFs bound to DPDK
drivers also shall be removed from the NIC ordering logic resulting in
consistency even with the re-run of os-net-config.

Change-Id: I50af9f75b01addae0e13830cc7a863072f9be34c
(cherry picked from commit 761b4621b0bb36d2658ca25929b0270e3cfc9c77)
(cherry picked from commit b34a73016ab7d0067bd8e91039861672a49324ee)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/89/740989/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py']",2,c81bcfe9eebfb1ebe66580a669cbf7729bee71ee,nic_ordering-stable/train-stable/queens," tmp_pci_dir = tempfile.mkdtemp() self.stub_out('os_net_config.utils._SYS_BUS_PCI_DEV', tmp_pci_dir) physfn_path = utils._SYS_BUS_PCI_DEV + '/0000:05:01.1/physfn' os.makedirs(physfn_path) utils._update_dpdk_map('p3p0_0', '0000:05:01.1', 'AA:02:03:04:05:FF', 'vfio-pci') shutil.rmtree(tmp_pci_dir)",,30,1
openstack%2Fpuppet-openstack-integration~master~I6f1377e5eb9e81c484795fc80341ca87d7b9ed04,openstack/puppet-openstack-integration,master,I6f1377e5eb9e81c484795fc80341ca87d7b9ed04,Deprecate scenario.img_dir option,MERGED,2020-07-14 08:30:48.000000000,2020-07-15 16:44:49.000000000,2020-07-15 16:44:49.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-14 08:30:48.000000000', 'files': ['manifests/tempest.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c3db20f7fdb9defc28ba7ec4eb7ca986f143c5d3', 'message': 'Deprecate scenario.img_dir option\n\nThe option is deprecated for more than 4 years already and it will\nbe removed soon, see the change in Tempest [1].\n\nStarting Tempest 25.0.0 release, CONF.scenario.img_file need\na full path for the image. CONF.scenario.img_dir was deprecated\nand will be removed in the next release. Till Tempest 25.0.0,\nold behavior is maintained and keep working but starting\nTempest 26.0.0, you need to specify the full path in\nCONF.scenario.img_file config option.\n\nThis patch does analogically the same change as was done in Tempest,\nin order to give users of the plugin some time for removing img_dir.\n\n[1] https://review.opendev.org/#/c/710996\n\nRelated-Bug: #1393881\nChange-Id: I6f1377e5eb9e81c484795fc80341ca87d7b9ed04\n'}]",0,740916,c3db20f7fdb9defc28ba7ec4eb7ca986f143c5d3,12,4,1,22873,,,0,"Deprecate scenario.img_dir option

The option is deprecated for more than 4 years already and it will
be removed soon, see the change in Tempest [1].

Starting Tempest 25.0.0 release, CONF.scenario.img_file need
a full path for the image. CONF.scenario.img_dir was deprecated
and will be removed in the next release. Till Tempest 25.0.0,
old behavior is maintained and keep working but starting
Tempest 26.0.0, you need to specify the full path in
CONF.scenario.img_file config option.

This patch does analogically the same change as was done in Tempest,
in order to give users of the plugin some time for removing img_dir.

[1] https://review.opendev.org/#/c/710996

Related-Bug: #1393881
Change-Id: I6f1377e5eb9e81c484795fc80341ca87d7b9ed04
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/16/740916/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/tempest.pp'],1,c3db20f7fdb9defc28ba7ec4eb7ca986f143c5d3,remove_img_dir," # TODO(emilien) optimization by 1/ using Hiera to configure Glance image source # and 2/ if running in the gate, use /home/jenkins/cache/files/ cirros image. img_file => '/tmp/openstack/image/cirros-0.4.0-x86_64-disk.img',"," img_file => 'cirros-0.4.0-x86_64-disk.img', # TODO(emilien) optimization by 1/ using Hiera to configure Glance image source # and 2/ if running in the gate, use /home/jenkins/cache/files/ cirros image. # img_dir => '/home/jenkins/cache/files', img_dir => '/tmp/openstack/image',",3,5
openstack%2Fkeystone~master~Ida360e215426184195687bee2a800877af33af04,openstack/keystone,master,Ida360e215426184195687bee2a800877af33af04,Add ignore_user_inactivity user option,MERGED,2019-05-02 22:52:37.000000000,2020-07-15 16:20:01.000000000,2020-07-15 16:15:53.000000000,"[{'_account_id': 8482}, {'_account_id': 9542}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 32029}]","[{'number': 1, 'created': '2019-05-02 22:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fe8aa89c51ed435b54fb2ee5d6abe4169527749e', 'message': 'Add ignore_user_inactivity user option\n\nthis option allows to override the\n[security_compliance]disable_user_account_days_inactive setting from\nconfig on per-user basis\n\nChange-Id: Ida360e215426184195687bee2a800877af33af04\nCloses-Bug: #1827431\n'}, {'number': 2, 'created': '2019-05-03 19:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7949b34b0b4a3dd338b1e496bc88d646ffa7ad2a', 'message': 'Add ignore_user_inactivity user option\n\nthis option allows to override the\n[security_compliance]disable_user_account_days_inactive setting from\nconfig on per-user basis\n\nChange-Id: Ida360e215426184195687bee2a800877af33af04\nCloses-Bug: #1827431\n'}, {'number': 3, 'created': '2020-07-03 11:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/48fa28086b04933e983919a60474271f38a85897', 'message': 'Add ignore_user_inactivity user option\n\nthis option allows to override the\n[security_compliance]disable_user_account_days_inactive setting from\nconfig on per-user basis\n\nChange-Id: Ida360e215426184195687bee2a800877af33af04\nCloses-Bug: #1827431\n'}, {'number': 4, 'created': '2020-07-03 12:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1a45edde8f6ecc6cf0d6f947201a400fe94233a2', 'message': 'Add ignore_user_inactivity user option\n\nthis option allows to override the\n[security_compliance]disable_user_account_days_inactive setting from\nconfig on per-user basis.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: Ida360e215426184195687bee2a800877af33af04\nCloses-Bug: #1827431\n'}, {'number': 5, 'created': '2020-07-03 12:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/082eea8fe7a30906b0bbdbb851b0655d4dee2f65', 'message': 'Add ignore_user_inactivity user option\n\nthis option allows to override the\n[security_compliance]disable_user_account_days_inactive setting from\nconfig on per-user basis.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: Ida360e215426184195687bee2a800877af33af04\nCloses-Bug: #1827431\n'}, {'number': 6, 'created': '2020-07-07 15:11:32.000000000', 'files': ['keystone/identity/backends/resource_options.py', 'doc/source/admin/resource-options.rst', 'keystone/identity/backends/sql_model.py', 'api-ref/source/v3/parameters.yaml', 'releasenotes/notes/bug-1827431-2f078c13dfc9a02a.yaml', 'keystone/tests/unit/identity/test_backend_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c9c655a1e1e865a1f4e274c0aaea1749acc8a53b', 'message': 'Add ignore_user_inactivity user option\n\nthis option allows to override the\n[security_compliance]disable_user_account_days_inactive setting from\nconfig on per-user basis.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: Ida360e215426184195687bee2a800877af33af04\nCloses-Bug: #1827431\n'}]",6,656898,c9c655a1e1e865a1f4e274c0aaea1749acc8a53b,35,6,6,9542,,,0,"Add ignore_user_inactivity user option

this option allows to override the
[security_compliance]disable_user_account_days_inactive setting from
config on per-user basis.

Co-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>

Change-Id: Ida360e215426184195687bee2a800877af33af04
Closes-Bug: #1827431
",git fetch https://review.opendev.org/openstack/keystone refs/changes/98/656898/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/resource_options.py', 'keystone/identity/backends/sql_model.py', 'releasenotes/notes/bug-1827431-2f078c13dfc9a02a.yaml']",3,fe8aa89c51ed435b54fb2ee5d6abe4169527749e,bug/1827431,"--- features: - | Added a new user option 'ignore_user_inactivity' (defaults to False). When set to True, it overrides disabling the user after being inactive for certain time as set in ``[security_compliance]disable_user_account_days_inactive`` option in Keystone configuration file. ",,21,1
openstack%2Fneutron~stable%2Fussuri~I1ac685a12f49119f5ef1428cbc504b639d783803,openstack/neutron,stable/ussuri,I1ac685a12f49119f5ef1428cbc504b639d783803,[OVN] Allow use of ovn-sync mechanism driver,MERGED,2020-07-02 05:24:11.000000000,2020-07-15 16:18:28.000000000,2020-07-15 16:15:50.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-02 05:24:11.000000000', 'files': ['neutron/services/ovn_l3/exceptions.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce2866a4f6c6ee06e835f19394c1dd02ef83cff5', 'message': '[OVN] Allow use of ovn-sync mechanism driver\n\nThe ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism\ndriver with the ``ovn-sync`` mechanism driver. Subsequently it\nmakes calls into the OVN L3 service plugin.\n\nAt present the OVN L3 service plugin assumes the ``ovn`` mechanism\ndriver to be present and produces a Traceback when it is not.\n\nThis patch fixes that by testing for both of the supported\nmechanism drivers.\n\nChange-Id: I1ac685a12f49119f5ef1428cbc504b639d783803\nCloses-Bug: #1882202\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\n(cherry picked from commit 206ce246768d6fb04b6bd92e189188f6702c74a7)\n'}]",0,738961,ce2866a4f6c6ee06e835f19394c1dd02ef83cff5,30,5,1,13686,,,0,"[OVN] Allow use of ovn-sync mechanism driver

The ``neutron-ovn-db-sync-util`` replaces the ``ovn`` mechanism
driver with the ``ovn-sync`` mechanism driver. Subsequently it
makes calls into the OVN L3 service plugin.

At present the OVN L3 service plugin assumes the ``ovn`` mechanism
driver to be present and produces a Traceback when it is not.

This patch fixes that by testing for both of the supported
mechanism drivers.

Change-Id: I1ac685a12f49119f5ef1428cbc504b639d783803
Closes-Bug: #1882202
Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
(cherry picked from commit 206ce246768d6fb04b6bd92e189188f6702c74a7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/738961/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/ovn_l3/exceptions.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,ce2866a4f6c6ee06e835f19394c1dd02ef83cff5,bug/1882202-stable/ussuri," def test__plugin_driver(self): # No valid mech drivers should raise an exception. self._mechanism_drivers = None self.l3_inst._plugin.mechanism_manager.mech_drivers = {} self.l3_inst._mech = None self.assertRaises(n_exc.NotFound, lambda: self.l3_inst._plugin_driver) # Populate the mechanism driver map with keys the code under test looks # for and validate it finds them. fake_mech_driver = mock.MagicMock() for driver in ('ovn', 'ovn-sync'): self.l3_inst._plugin.mechanism_manager.mech_drivers[ driver] = fake_mech_driver result = self.l3_inst._plugin_driver self.l3_inst._plugin.mechanism_manager.mech_drivers.pop( driver, None) self.assertEqual(fake_mech_driver.obj, result) ",,51,1
openstack%2Fneutron~stable%2Ftrain~I231e624f460510decc6d2237040c8bef207e2e8e,openstack/neutron,stable/train,I231e624f460510decc6d2237040c8bef207e2e8e,Improve log message when port losts its vlan tag,MERGED,2020-07-01 07:14:36.000000000,2020-07-15 16:18:00.000000000,2020-07-15 16:15:58.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-01 07:14:36.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3c3c891d5194b4222640876c99d6c96af1fe1bb', 'message': 'Improve log message when port losts its vlan tag\n\nIn some cases it may be useful to log new vlan tag which is found\non the port when it losts old vlan tag which should is expected to\nbe there.\nSo this patch adds such value to the log message.\n\nTrivialFix\n\nChange-Id: I231e624f460510decc6d2237040c8bef207e2e8e\n(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)\n'}]",0,738741,e3c3c891d5194b4222640876c99d6c96af1fe1bb,23,6,1,11975,,,0,"Improve log message when port losts its vlan tag

In some cases it may be useful to log new vlan tag which is found
on the port when it losts old vlan tag which should is expected to
be there.
So this patch adds such value to the log message.

TrivialFix

Change-Id: I231e624f460510decc6d2237040c8bef207e2e8e
(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/738741/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,e3c3c891d5194b4222640876c99d6c96af1fe1bb,improve-ovs-agent-logging-stable/ussuri-stable/train," ""its vlan tag '%(vlan_tag)d'! "" ""Current vlan tag on this port is '%(new_vlan_tag)d'."", 'vlan_tag': lvm.vlan, 'new_vlan_tag': port_tags[port.port_name]}"," ""its vlan tag '%(vlan_tag)d'!"", 'vlan_tag': lvm.vlan}",4,2
openstack%2Fglance~master~I1641af07b21925402490f0b7dfee5314f416dde8,openstack/glance,master,I1641af07b21925402490f0b7dfee5314f416dde8,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-06-23 12:17:52.000000000,2020-07-15 16:17:45.000000000,2020-07-15 16:15:55.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 12:17:52.000000000', 'files': ['glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c636ad293c4b127e4b6678399b6eaed566328663', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277^\n\nChange-Id: I1641af07b21925402490f0b7dfee5314f416dde8\n'}]",0,737512,c636ad293c4b127e4b6678399b6eaed566328663,9,4,1,6593,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277^

Change-Id: I1641af07b21925402490f0b7dfee5314f416dde8
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/737512/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/v2/test_images_resource.py'],1,c636ad293c4b127e4b6678399b6eaed566328663,," self.assertCountEqual(enabled_methods, header_value.split(','))"," self.assertItemsEqual(enabled_methods, header_value.split(','))",1,1
openstack%2Fneutron~stable%2Fstein~I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,openstack/neutron,stable/stein,I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,"Add ""igmp_snooping_enable"" config option for OVS agent",MERGED,2020-06-12 15:03:05.000000000,2020-07-15 16:14:49.000000000,2020-07-15 16:12:36.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-12 15:03:05.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/conf/agent/ovs_conf.py', 'releasenotes/notes/add-igmp_snooping_enable-config-option-6a0e15e4ed0a2cf7.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea0b03a19d5b7564d318806b32cc7c17573192f9', 'message': 'Add ""igmp_snooping_enable"" config option for OVS agent\n\nNeutron-ovs-agent can now enable IGMP snooping in integration bridge\nif config option ""igmp_snooping_enable"" in OVS section in config will\nbe set to True.\nIt will also set mcast-snooping-disable-flood-unregistered=true\nso flooding of multicast packets to all unregistered ports will be\ndisabled also.\nBoth changes are applied on integration bridge.\n\nChange-Id: I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b\nCloses-Bug: #1840136\n(cherry picked from commit 5b341150e29137e3dab671453a9a6c0908e74585)\n'}]",0,735354,ea0b03a19d5b7564d318806b32cc7c17573192f9,17,7,1,13995,,,0,"Add ""igmp_snooping_enable"" config option for OVS agent

Neutron-ovs-agent can now enable IGMP snooping in integration bridge
if config option ""igmp_snooping_enable"" in OVS section in config will
be set to True.
It will also set mcast-snooping-disable-flood-unregistered=true
so flooding of multicast packets to all unregistered ports will be
disabled also.
Both changes are applied on integration bridge.

Change-Id: I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b
Closes-Bug: #1840136
(cherry picked from commit 5b341150e29137e3dab671453a9a6c0908e74585)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/735354/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/conf/agent/ovs_conf.py', 'releasenotes/notes/add-igmp_snooping_enable-config-option-6a0e15e4ed0a2cf7.yaml']",7,ea0b03a19d5b7564d318806b32cc7c17573192f9,bug/1840136-stable/stein,--- features: - | Add new configuration option ``igmp_snooping_enable``. New option is in ``OVS`` config section and is used by openvswitch agent. This option is used to enable support for Internet Group Management Protocol (IGMP) in integration bridge. ,,66,5
openstack%2Frequirements~master~I3690336b99e6fad53cd6df5e9ef28126c7608c34,openstack/requirements,master,I3690336b99e6fad53cd6df5e9ef28126c7608c34,Add rst2txt,MERGED,2019-04-08 15:41:39.000000000,2020-07-15 16:14:28.000000000,2020-07-15 16:12:39.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 15334}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-04-08 15:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/10e0e3e231c777bad0ce997636c401816e2e3c45', 'message': ""Add rst2txt\n\nThis library will be used in oslo.config to convert rst to plaintext\noutput in options' helper text.\n\n[Q] Is the library actively maintained?\n[A]\n\n[Q] Is the library good code?\n[A]\n\n[Q] Is the library python 3 compatible?\n[A]\n\n[Q] Is the library license compatible?\n[A] rst2txt  # BSD\n\n[Q] Is the library already packaged in the distros we target (Ubuntu\n    latest / Fedora latest)?\n[A] The library distributed through PyPI.\n\n[Q] Is the function of this library already covered by other libraries\n    in global-requirements.txt?\n[A]\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: Olso/Config.\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\nChange-Id: I3690336b99e6fad53cd6df5e9ef28126c7608c34\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n""}, {'number': 2, 'created': '2020-07-14 22:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/13e361ede28bec58b08c52a9d4d25a212d0495a3', 'message': ""Add rst2txt\n\nThis library will be used in oslo.config to convert rst to plaintext\noutput in options' helper text.\n\n[Q] Is the library actively maintained?\n[A]\n\n[Q] Is the library good code?\n[A]\n\n[Q] Is the library python 3 compatible?\n[A]\n\n[Q] Is the library license compatible?\n[A] rst2txt  # BSD\n\n[Q] Is the library already packaged in the distros we target (Ubuntu\n    latest / Fedora latest)?\n[A] The library distributed through PyPI.\n\n[Q] Is the function of this library already covered by other libraries\n    in global-requirements.txt?\n[A]\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: Olso/Config.\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\nChange-Id: I3690336b99e6fad53cd6df5e9ef28126c7608c34\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n""}, {'number': 3, 'created': '2020-07-14 22:07:12.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8c314dd51feb5e18f8c51662fac04be13d4820aa', 'message': ""Add rst2txt\n\nThis library will be used in oslo.config to convert rst to plaintext\noutput in options' helper text.\n\n[Q] Is the library actively maintained?\n[A] The library is maintained by https://pypi.org/user/stephenfin/ an\nactive Oslo core contributor.\n\n[Q] Is the library good code?\n[A] The library is a small wrapper around docutils, code has both tests\nand documentation.\n\n[Q] Is the library python 3 compatible?\n[A] Yes.\n\n[Q] Is the library license compatible?\n[A] rst2txt  # BSD\n\n[Q] Is the library already packaged in the distros we target (Ubuntu\n    latest / Fedora latest)?\n[A] The library distributed through PyPI.\n\n[Q] Is the function of this library already covered by other libraries\n    in global-requirements.txt?\n[A] No.\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: Olso/Config.\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\nChange-Id: I3690336b99e6fad53cd6df5e9ef28126c7608c34\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n""}]",8,650935,8c314dd51feb5e18f8c51662fac04be13d4820aa,25,8,3,27954,,,0,"Add rst2txt

This library will be used in oslo.config to convert rst to plaintext
output in options' helper text.

[Q] Is the library actively maintained?
[A] The library is maintained by https://pypi.org/user/stephenfin/ an
active Oslo core contributor.

[Q] Is the library good code?
[A] The library is a small wrapper around docutils, code has both tests
and documentation.

[Q] Is the library python 3 compatible?
[A] Yes.

[Q] Is the library license compatible?
[A] rst2txt  # BSD

[Q] Is the library already packaged in the distros we target (Ubuntu
    latest / Fedora latest)?
[A] The library distributed through PyPI.

[Q] Is the function of this library already covered by other libraries
    in global-requirements.txt?
[A] No.

[Q] Is the library required for OpenStack project or related dev or
    infrastructure setup? (Answer to this should be Yes, of course) Which?
[A] OpenStack project: Olso/Config.

[Q] If the library release is managed by the Openstack release process
    does it use the cycle-with-intermediary release type?
[A] N/A

Change-Id: I3690336b99e6fad53cd6df5e9ef28126c7608c34
Signed-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/650935/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,10e0e3e231c777bad0ce997636c401816e2e3c45,I3690336b99e6fad53cd6df5e9ef28126c7608c34,rst2txt===1.1.0,,2,0
openstack%2Ftripleo-common~master~I1189860253a583e8bca4b13b1d4f2998ff2286f2,openstack/tripleo-common,master,I1189860253a583e8bca4b13b1d4f2998ff2286f2,Update the ceph container image to use the latest release,ABANDONED,2020-07-15 15:59:10.000000000,2020-07-15 16:09:29.000000000,,[],"[{'number': 1, 'created': '2020-07-15 15:59:10.000000000', 'files': ['container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/52ad90c7469fa217835426804f6b2a7cbd4cc46a', 'message': 'Update the ceph container image to use the latest release\n\nUpdates the ceph container URL to use the latest tag, in this case\n""v4.0.12"".\n\nChange-Id: I1189860253a583e8bca4b13b1d4f2998ff2286f2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,741263,52ad90c7469fa217835426804f6b2a7cbd4cc46a,2,0,1,7353,,,0,"Update the ceph container image to use the latest release

Updates the ceph container URL to use the latest tag, in this case
""v4.0.12"".

Change-Id: I1189860253a583e8bca4b13b1d4f2998ff2286f2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/741263/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml'],1,52ad90c7469fa217835426804f6b2a7cbd4cc46a,,- imagename: docker.io/ceph/daemon:v4.0.12-stable-4.0-nautilus-centos-7-x86_64,- imagename: docker.io/ceph/daemon:v4.0.10-stable-4.0-nautilus-centos-7-x86_64,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I4c84b389b595a8fe18ef6d31e896d6b6608b9920,openstack/tripleo-ansible,stable/train,I4c84b389b595a8fe18ef6d31e896d6b6608b9920,"container_status: ""exec"" checks status",MERGED,2020-07-14 17:43:26.000000000,2020-07-15 15:55:48.000000000,2020-07-15 15:55:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 17:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/551adbf3c0b51b31eae2d335395ca9f1dfb68352', 'message': 'container_status: ""exec"" checks status\n\nSupport the checks of ""podman exec"" commands, and add the commands to\nthe list of things podman ran.\n\nIt reduces the number of tasks as it removes get_commands_exec and\nre-use the container_status action plugin.\n\nChange-Id: I4c84b389b595a8fe18ef6d31e896d6b6608b9920\n(cherry picked from commit 3ce9d50a7f3a62a63561c473b6dc764a458eb1e9)\n'}, {'number': 2, 'created': '2020-07-14 20:54:56.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/get_commands_exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/manage.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/036db9efc1fd964f789638d54d4aa8bcd97f38ab', 'message': 'container_status: ""exec"" checks status\n\nSupport the checks of ""podman exec"" commands, and add the commands to\nthe list of things podman ran.\n\nIt reduces the number of tasks as it removes get_commands_exec and\nre-use the container_status action plugin.\n\nChange-Id: I4c84b389b595a8fe18ef6d31e896d6b6608b9920\n(cherry picked from commit 3ce9d50a7f3a62a63561c473b6dc764a458eb1e9)\n'}]",0,741013,036db9efc1fd964f789638d54d4aa8bcd97f38ab,10,3,2,3153,,,0,"container_status: ""exec"" checks status

Support the checks of ""podman exec"" commands, and add the commands to
the list of things podman ran.

It reduces the number of tasks as it removes get_commands_exec and
re-use the container_status action plugin.

Change-Id: I4c84b389b595a8fe18ef6d31e896d6b6608b9920
(cherry picked from commit 3ce9d50a7f3a62a63561c473b6dc764a458eb1e9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/741013/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/get_commands_exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/manage.yml']",4,551adbf3c0b51b31eae2d335395ca9f1dfb68352,exec/train," when: - ((batched_container_data | haskey(attribute='action', value='exec') | default([])) | length > 0) when: - ((batched_container_data | haskey(attribute='action', reverse=True) | default([])) | length > 0)",,67,61
openstack%2Fpuppet-openstack_spec_helper~master~I1fa942a74a85c846fc5a812c2a1df5030ef6a622,openstack/puppet-openstack_spec_helper,master,I1fa942a74a85c846fc5a812c2a1df5030ef6a622,Install rspec-puppt-utils,MERGED,2020-07-09 04:54:47.000000000,2020-07-15 15:53:18.000000000,2020-07-15 15:53:18.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 04:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/fd76c73f6b8d0f494cb7f3900c936984df33ab71', 'message': 'Install rspec-puppt-ttils\n\n... so that we can use some useful items lik MockFunction\n\nChange-Id: I1fa942a74a85c846fc5a812c2a1df5030ef6a622\n'}, {'number': 2, 'created': '2020-07-09 06:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/a11c09bcf306e307d6f879dc6c0b2ff6d639f4c8', 'message': 'Install rspec-puppt-utils\n\n... so that we can use some useful items lik MockFunction\n\nChange-Id: I1fa942a74a85c846fc5a812c2a1df5030ef6a622\n'}, {'number': 3, 'created': '2020-07-09 06:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f9bdba178f728896f8a1dae85e39ae43023f80e3', 'message': 'Install rspec-puppt-utils\n\n... so that we can use some useful items lik MockFunction\n\nChange-Id: I1fa942a74a85c846fc5a812c2a1df5030ef6a622\n'}, {'number': 4, 'created': '2020-07-13 02:40:54.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/facts.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/6fd82a02d2c10c7b268f234d71a7c85a5bedad22', 'message': 'Install rspec-puppt-utils\n\n... so that we can use some useful items like MockFunction\n\nChange-Id: I1fa942a74a85c846fc5a812c2a1df5030ef6a622\n'}]",0,740154,6fd82a02d2c10c7b268f234d71a7c85a5bedad22,16,4,4,9816,,,0,"Install rspec-puppt-utils

... so that we can use some useful items like MockFunction

Change-Id: I1fa942a74a85c846fc5a812c2a1df5030ef6a622
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/54/740154/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,fd76c73f6b8d0f494cb7f3900c936984df33ab71,rspec-puppet-utils,require 'rspec-puppet-utils',,4,0
openstack%2Fkolla-ansible~stable%2Fqueens~I260b6a8390bef06d0bd1caa76a276818b3f7bb56,openstack/kolla-ansible,stable/queens,I260b6a8390bef06d0bd1caa76a276818b3f7bb56,CI: Fix installation of legacy Docker packages on CentOS,MERGED,2020-06-05 16:22:33.000000000,2020-07-15 15:14:56.000000000,2020-06-17 14:54:36.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-05 16:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72fa9799ecaf597f3aa36b5bde88027d8e02fa7a', 'message': 'CI: Fix installation of legacy Docker packages\n\nThe Media Temple Docker mirror now includes newer Docker packages from\ndownload.docker.com, which are not signed by the same GPG key. These new\npackages obsolete the legacy ones, which means installing docker-engine\nfails with the error:\n\nThe GPG keys listed for the ""Docker Main Repository"" repository are already installed but they are not correct for this package.\nCheck that the correct key URLs are configured for this repository.\n\n Failing package is: 1:docker-ce-cli-19.03.9-3.el7.x86_64\n GPG Keys are configured as: https://mirrors.aliyun.com/docker-engine/yum/gpg\n\nInstall docker-engine-1.12.0 directly via yum while setting the\nobsoletes option to 0.\n\nChange-Id: I260b6a8390bef06d0bd1caa76a276818b3f7bb56\n'}, {'number': 2, 'created': '2020-06-05 16:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a552143d323d9f6d2c9b34dc5839596d85fdbe4b', 'message': 'CI: Fix installation of legacy Docker packages on CentOS\n\nThe Media Temple Docker mirror now includes newer Docker packages from\ndownload.docker.com, which are not signed by the same GPG key. These new\npackages obsolete the legacy ones, which means installing docker-engine\nfails with the error:\n\nThe GPG keys listed for the ""Docker Main Repository"" repository are already installed but they are not correct for this package.\nCheck that the correct key URLs are configured for this repository.\n\n Failing package is: 1:docker-ce-cli-19.03.9-3.el7.x86_64\n GPG Keys are configured as: https://mirrors.aliyun.com/docker-engine/yum/gpg\n\nSwitch to another mirror which only has legacy packages.\n\nChange-Id: I260b6a8390bef06d0bd1caa76a276818b3f7bb56\n'}, {'number': 3, 'created': '2020-06-08 12:58:53.000000000', 'files': ['ansible/roles/baremetal/templates/docker_yum_repo.j2', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8b8e23db88f6a6933e24b56b294cbca54ade739', 'message': 'CI: Fix installation of legacy Docker packages on CentOS\n\nThe Media Temple Docker mirror now includes newer Docker packages from\ndownload.docker.com, which are not signed by the same GPG key. These new\npackages obsolete the legacy ones, which means installing docker-engine\nfails with the error:\n\nThe GPG keys listed for the ""Docker Main Repository"" repository are already installed but they are not correct for this package.\nCheck that the correct key URLs are configured for this repository.\n\n Failing package is: 1:docker-ce-cli-19.03.9-3.el7.x86_64\n GPG Keys are configured as: https://mirrors.aliyun.com/docker-engine/yum/gpg\n\nSwitch to another mirror which only has legacy packages.\n\nChange-Id: I260b6a8390bef06d0bd1caa76a276818b3f7bb56\n'}]",2,733882,f8b8e23db88f6a6933e24b56b294cbca54ade739,16,5,3,15197,,,0,"CI: Fix installation of legacy Docker packages on CentOS

The Media Temple Docker mirror now includes newer Docker packages from
download.docker.com, which are not signed by the same GPG key. These new
packages obsolete the legacy ones, which means installing docker-engine
fails with the error:

The GPG keys listed for the ""Docker Main Repository"" repository are already installed but they are not correct for this package.
Check that the correct key URLs are configured for this repository.

 Failing package is: 1:docker-ce-cli-19.03.9-3.el7.x86_64
 GPG Keys are configured as: https://mirrors.aliyun.com/docker-engine/yum/gpg

Switch to another mirror which only has legacy packages.

Change-Id: I260b6a8390bef06d0bd1caa76a276818b3f7bb56
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/733882/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/baremetal/defaults/main.yml']",2,72fa9799ecaf597f3aa36b5bde88027d8e02fa7a,,, - docker-engine-1.12.0,5,1
openstack%2Fneutron~stable%2Fqueens~I710f00f0f542bcf7fa2fc60800797b90f9f77e14,openstack/neutron,stable/queens,I710f00f0f542bcf7fa2fc60800797b90f9f77e14,[DVR] Reconfigure re-created physical bridges for dvr routers,MERGED,2020-05-27 20:29:41.000000000,2020-07-15 15:14:46.000000000,2020-07-15 15:14:46.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-27 20:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7f4fcd0c240d2690dbf6e479b880acb7cdc0548', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}, {'number': 2, 'created': '2020-06-03 09:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcd3647fd5c266d3ac5e84678134b99816dcc9f3', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}, {'number': 3, 'created': '2020-06-03 10:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d8a1c9921afa9023aff08106e4c70bdf8df1100', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}, {'number': 4, 'created': '2020-06-03 11:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0f49cca43b60fd3e6c5cceeb8558a7c68061bfc', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}, {'number': 5, 'created': '2020-07-07 14:44:48.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/33217c9c43e64183b1051347de5c8a58d568808d', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}]",0,731329,33217c9c43e64183b1051347de5c8a58d568808d,26,5,5,11975,,,0,"[DVR] Reconfigure re-created physical bridges for dvr routers

In case when physical bridge is removed and created again it
is initialized by neutron-ovs-agent.
But if agent has enabled distributed routing, dvr related
flows wasn't configured again and that lead to connectivity issues
in case of DVR routers.

This patch fixes it by adding configuration of dvr related flows
if distributed routing is enabled in agent's configuration.

It also adds reset list of phys_brs in dvr_agent. Without that there
were different objects used in ovs agent and dvr_agent classes thus
e.g. 2 various cookie ids were set on flows in physical bridge.
This was also the same issue in case when openvswitch was restarted and
all bridges were reconfigured.
Now in such case there is correctly new cookie_id configured for all
flows.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14
Closes-Bug: #1864822
(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/731329/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",3,c7f4fcd0c240d2690dbf6e479b880acb7cdc0548,bug/1864822," def test_ext_br_recreated(self): self._setup_for_dvr_test() reset_methods = ( 'reset_ovs_parameters', 'reset_dvr_parameters', 'setup_dvr_flows_on_integ_br', 'setup_dvr_flows_on_tun_br', 'setup_dvr_flows_on_phys_br', 'setup_dvr_mac_flows_on_all_brs') for method in reset_methods: mock.patch.object(self.agent.dvr_agent, method).start() bridge_mappings = {'physnet0': 'br-ex0', 'physnet1': 'br-ex1'} ex_br_mocks = [mock.Mock(br_name='br-ex0'), mock.Mock(br_name='br-ex1')] phys_bridges = {'physnet0': ex_br_mocks[0], 'physnet1': ex_br_mocks[1]}, bridges_added = ['br-ex0'] with mock.patch.object(self.agent, 'check_ovs_status', return_value=constants.OVS_NORMAL), \ mock.patch.object(self.agent, '_agent_has_updates', side_effect=TypeError('loop exit')), \ mock.patch.dict(self.agent.bridge_mappings, bridge_mappings, clear=True), \ mock.patch.dict(self.agent.phys_brs, phys_bridges, clear=True), \ mock.patch.object(self.agent, 'setup_physical_bridges') as \ setup_physical_bridges, \ mock.patch.object(self.agent.ovs.ovsdb, 'idl_monitor') as \ mock_idl_monitor: mock_idl_monitor.bridges_added = bridges_added try: self.agent.rpc_loop(polling_manager=mock.Mock()) except TypeError: pass # Setup bridges should be called once even if it will raise Runtime # Error because TypeError is raised in _agent_has_updates to stop # agent after first loop iteration setup_physical_bridges.assert_called_once_with({'physnet0': 'br-ex0'}) # Ensure dvr_agent methods were called correctly self.agent.dvr_agent.reset_ovs_parameters.assert_called_once_with( self.agent.int_br, self.agent.tun_br, self.agent.phys_brs, self.agent.patch_int_ofport, self.agent.patch_tun_ofport) self.agent.dvr_agent.reset_dvr_parameters.assert_called_once_with() (self.agent.dvr_agent.setup_dvr_flows_on_phys_br. assert_called_once_with({'physnet0': 'br-ex0'})) (self.agent.dvr_agent.setup_dvr_flows_on_integ_br. assert_called_once_with()) (self.agent.dvr_agent.setup_dvr_flows_on_tun_br. assert_called_once_with()) (self.agent.dvr_agent.setup_dvr_mac_flows_on_all_brs. assert_called_once_with()) ",,76,14
openstack%2Fvalidations-common~master~I6a81dc2640e9c4af3a07158bea95ebaec9fd466b,openstack/validations-common,master,I6a81dc2640e9c4af3a07158bea95ebaec9fd466b,Make mock import python 2.7 compatible,MERGED,2020-04-13 16:26:27.000000000,2020-07-15 15:13:25.000000000,2020-04-21 13:31:01.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-04-13 16:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/828d213d586e462a9a3a8a57aee3e8f7d92de586', 'message': 'Make mock import python 2.7 compatible\n\nIn python3.x mock is now part of unittest library.\nFor being still compatible with python 2.7 we need to\ncatch import error when trying to import unittest.mock.\n\nThis is similar to [1] for validations-libs.\n\n[1]- https://review.opendev.org/716597\n\nChange-Id: I6a81dc2640e9c4af3a07158bea95ebaec9fd466b\n'}, {'number': 2, 'created': '2020-04-13 16:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/eefae35bd607c8bfdd0102f91b4f0b3f6b3bd3ce', 'message': 'Make mock import python 2.7 compatible\n\nIn python3.x mock is now part of unittest library.\nFor being still compatible with python 2.7 we need to\ncatch import error when trying to import unittest.mock.\n\nAlso add an __init__.py file in validations_common/library,\nto allow all unit tests to import successfully.\n\nThis is similar to [1] for validations-libs.\n\n[1]- https://review.opendev.org/716597\n\nChange-Id: I6a81dc2640e9c4af3a07158bea95ebaec9fd466b\n'}, {'number': 3, 'created': '2020-04-15 13:00:14.000000000', 'files': ['validations_common/tests/library/test_check_package_update.py', 'validations_common/library/__init__.py', 'validations_common/tests/library/test_reportentry.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0f883090916cf84309dddb1cdf6dd51265e36a0a', 'message': 'Make mock import python 2.7 compatible\n\nIn python3.x mock is now part of unittest library.\nFor being still compatible with python 2.7 we need to\ncatch import error when trying to import unittest.mock.\n\nAlso add an __init__.py file in validations_common/library,\nto allow all unit tests to import successfully.\n\nThis is similar to [1] for validations-libs.\n\n[1]- https://review.opendev.org/716597\n\nChange-Id: I6a81dc2640e9c4af3a07158bea95ebaec9fd466b\n'}]",1,719598,0f883090916cf84309dddb1cdf6dd51265e36a0a,34,5,3,13294,,,0,"Make mock import python 2.7 compatible

In python3.x mock is now part of unittest library.
For being still compatible with python 2.7 we need to
catch import error when trying to import unittest.mock.

Also add an __init__.py file in validations_common/library,
to allow all unit tests to import successfully.

This is similar to [1] for validations-libs.

[1]- https://review.opendev.org/716597

Change-Id: I6a81dc2640e9c4af3a07158bea95ebaec9fd466b
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/98/719598/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/library/test_check_package_update.py'],1,828d213d586e462a9a3a8a57aee3e8f7d92de586,,try: from unittest.mock import MagicMock from unittest.mock import patch except ImportError: from mock import MagicMock from mock import patch,from unittest.mock import MagicMock from unittest.mock import patch,6,2
openstack%2Fdevstack~master~I79068ce0bd7414bc48ff534ee22f0de5d7b091cb,openstack/devstack,master,I79068ce0bd7414bc48ff534ee22f0de5d7b091cb,Make Glance standalone-ness a separate flag,MERGED,2020-07-09 15:34:15.000000000,2020-07-15 15:06:59.000000000,2020-07-15 15:02:30.000000000,"[{'_account_id': 4393}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-09 15:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5db44c46f9d7109e47fb3781864030cf86867c1f', 'message': 'WIP Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}, {'number': 2, 'created': '2020-07-09 18:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9b06477eabb34eeca40d6220244adf02bde4db09', 'message': 'WIP Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}, {'number': 3, 'created': '2020-07-13 18:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/052339164fb8fd896f0111e2bf55eb35cfd82fac', 'message': 'Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}, {'number': 4, 'created': '2020-07-13 20:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ae7e11f10c3b1c524592e2c320d23c302b333b5', 'message': 'Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}, {'number': 5, 'created': '2020-07-13 20:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9b87fcf0048d1683f845bae833bf0c311e226a1b', 'message': 'Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}, {'number': 6, 'created': '2020-07-13 20:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0c6045f908ae9b377a27571a29a70f00587ac7e7', 'message': 'Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}, {'number': 7, 'created': '2020-07-13 21:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1f18cd9247c848ae8183ab370eea1362c5b0f862', 'message': 'Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}, {'number': 8, 'created': '2020-07-14 02:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/52798ba6467bd18620bcb7eda096dad7f169a386', 'message': 'Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}, {'number': 9, 'created': '2020-07-14 13:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/97066075ba232dbcc85fafa07fee7992341e9ddc', 'message': 'Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}, {'number': 10, 'created': '2020-07-14 15:59:18.000000000', 'files': ['functions', 'lib/glance', 'lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/09eea0b20bf750baa10b4edb5cd52e31b19a4a3a', 'message': 'Make Glance standalone-ness a separate flag\n\nFull Glance functionality requires Glance being run in a configuration\nwhere it can spawn long-running task threads. The default uwsgi mode\ndoes not allow this, and the current workaround is to set WSGI_MODE\nto something other than uwsgi to get the devstack code to deploy\nGlance as a standalone service. Since this affects the entire rest of\nthe deployment, this patch separates out a flag to control this behavior\nspecifically for Glance. When WSGI_MODE=uwsgi, control of the Glance\ndeployment mechanism is allowed via GLANCE_STANDALONE=True|False. If\nWSGI_MODE!= uwsgi then we deploy standalone Glance anyway.\n\nChange-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb\n'}]",4,740322,09eea0b20bf750baa10b4edb5cd52e31b19a4a3a,27,7,10,4393,,,0,"Make Glance standalone-ness a separate flag

Full Glance functionality requires Glance being run in a configuration
where it can spawn long-running task threads. The default uwsgi mode
does not allow this, and the current workaround is to set WSGI_MODE
to something other than uwsgi to get the devstack code to deploy
Glance as a standalone service. Since this affects the entire rest of
the deployment, this patch separates out a flag to control this behavior
specifically for Glance. When WSGI_MODE=uwsgi, control of the Glance
deployment mechanism is allowed via GLANCE_STANDALONE=True|False. If
WSGI_MODE!= uwsgi then we deploy standalone Glance anyway.

Change-Id: I79068ce0bd7414bc48ff534ee22f0de5d7b091cb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/740322/5 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,5db44c46f9d7109e47fb3781864030cf86867c1f,glance-import,"# Full Glance functionality requires running in standalone mode. If we are # not in uwsgi mode, then we are standalone, otherwise allow separate control. if [[ ""$WSGI_MODE"" != ""uwsgi"" ]]; then GLANCE_STANDALONE=True fi GLANCE_STANDALONE=${GLANCE_STANDALONE:-False} # If wsgi mode is uwsgi or we are using tls-proxy then we use the # apache proxy for the Glance URL. if [[ ""$WSGI_MODE"" == ""uwsgi"" ]] || is_service_enabled tls-proxy; then if [[ ""$GLANCE_STANDALONE"" == False ]]; then if [[ ""$GLANCE_STANDALONE"" == ""True"" ]]; then if [[ ""$GLANCE_STANDALONE"" == False ]]; then","# If wsgi mode is uwsgi run glance under uwsgi, else default to eventlet # TODO(mtreinish): Remove the eventlet path here and in all the similar # conditionals below after the Pike release if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then if [[ ""$WSGI_MODE"" != ""uwsgi"" ]]; then if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then",13,7
openstack%2Fneutron~stable%2Fussuri~I592d31db9be76d9be202d79d942e15b1668e3c0e,openstack/neutron,stable/ussuri,I592d31db9be76d9be202d79d942e15b1668e3c0e,ovn: Remove is_port_groups_supported() code,MERGED,2020-06-19 09:58:08.000000000,2020-07-15 15:05:32.000000000,2020-07-15 15:02:26.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-19 09:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2441fd47c3f98341b755a0ba721701e6a291764', 'message': ""ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.10 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets, and also removes\nunneeded Address_Set commands and references.\n\nChange-Id: I592d31db9be76d9be202d79d942e15b1668e3c0e\n(cherry picked from commit 9cbbd8de53db18a5388d109174a464dcd96ab78b)\n""}, {'number': 2, 'created': '2020-06-22 09:54:13.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'doc/source/admin/ovn/refarch/refarch.rst', 'doc/source/contributor/internals/ovn/acl_optimizations.rst', 'doc/source/contributor/internals/ovn/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd1883b50ae473ed61c301f107f94d0dd1336ad0', 'message': ""ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.10 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets, and also removes\nunneeded Address_Set commands and references.\n\nChange-Id: I592d31db9be76d9be202d79d942e15b1668e3c0e\n(cherry picked from commit 9cbbd8de53db18a5388d109174a464dcd96ab78b)\n""}]",0,736966,fd1883b50ae473ed61c301f107f94d0dd1336ad0,21,7,2,11952,,,0,"ovn: Remove is_port_groups_supported() code

Port_Groups table has been introduced in OVN 2.10 and we've moved in
master to newer version since. This patch removes all references to code
branching between port_groups and address_sets, and also removes
unneeded Address_Set commands and references.

Change-Id: I592d31db9be76d9be202d79d942e15b1668e3c0e
(cherry picked from commit 9cbbd8de53db18a5388d109174a464dcd96ab78b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/736966/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'doc/source/admin/ovn/refarch/refarch.rst', 'doc/source/contributor/internals/ovn/acl_optimizations.rst', 'doc/source/contributor/internals/ovn/index.rst']",19,f2441fd47c3f98341b755a0ba721701e6a291764,port-groups-removal,, acl_optimizations,255,1775
openstack%2Fneutron~stable%2Fstein~I689d5135b7194475c846731d846ccf6b25b80b4a,openstack/neutron,stable/stein,I689d5135b7194475c846731d846ccf6b25b80b4a,[DVR] Related routers should be included if are requested,MERGED,2020-07-10 13:30:31.000000000,2020-07-15 15:05:28.000000000,2020-07-15 15:02:33.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 13:30:31.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01f4e09753b69688a953a13b56cbe15b1b2d16f9', 'message': '[DVR] Related routers should be included if are requested\n\nIn case when related dvr router is configured by L3 agent, it is first\nadded to the tasks queue and then processed as any other router hosted\non the L3 agent.\nBut if L3 agent will ask neutron server about details of such router,\nit wasn\'t returned back as this router wasn\'t really scheduled to the\ncompute node which was asking for it. It was ""only"" related to some\nother router scheduled to this compute node. Because of that router\'s\ninfo wasn\'t found in reply from the neutron-server and L3 agent was\nremoving it from the compute node.\n\nNow _get_router_ids_for_agent method from the l3_dvrscheduler_db module\nwill check router serviceable ports for each dvr router hosted on the\ncompute node and will then find all routers related to it. Thanks to\nthat it will return routers which are on the compute node only because\nof other related routers scheduled to this host and such router will not\nbe deleted anymore.\n\nChange-Id: I689d5135b7194475c846731d846ccf6b25b80b4a\nCloses-Bug: #1884527\n(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)\n'}]",0,740461,01f4e09753b69688a953a13b56cbe15b1b2d16f9,12,4,1,11975,,,0,"[DVR] Related routers should be included if are requested

In case when related dvr router is configured by L3 agent, it is first
added to the tasks queue and then processed as any other router hosted
on the L3 agent.
But if L3 agent will ask neutron server about details of such router,
it wasn't returned back as this router wasn't really scheduled to the
compute node which was asking for it. It was ""only"" related to some
other router scheduled to this compute node. Because of that router's
info wasn't found in reply from the neutron-server and L3 agent was
removing it from the compute node.

Now _get_router_ids_for_agent method from the l3_dvrscheduler_db module
will check router serviceable ports for each dvr router hosted on the
compute node and will then find all routers related to it. Thanks to
that it will return routers which are on the compute node only because
of other related routers scheduled to this host and such router will not
be deleted anymore.

Change-Id: I689d5135b7194475c846731d846ccf6b25b80b4a
Closes-Bug: #1884527
(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/740461/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",2,01f4e09753b69688a953a13b56cbe15b1b2d16f9,bug/1884527-stable/ussuri-stable/train-stable/stein," def test__get_router_ids_for_agent_related_router(self): router1 = self._create_router() router2 = self._create_router() router3 = self._create_router() arg_list = (portbindings.HOST_ID,) dvr_l3_agent = helpers.register_l3_agent( host=""host1"", agent_mode=constants.L3_AGENT_MODE_DVR) host = dvr_l3_agent['host'] with self.subnet() as wan_subnet,\ self.subnet(cidr='20.0.0.0/24') as subnet1,\ self.subnet(cidr='30.0.0.0/24') as subnet2,\ self.subnet(cidr='40.0.0.0/24') as subnet3,\ self.port(subnet=wan_subnet) as wan_port1,\ self.port(subnet=wan_subnet) as wan_port2,\ self.port(subnet=subnet1, device_owner=constants.DEVICE_OWNER_DHCP, arg_list=arg_list, **{portbindings.HOST_ID: host}): self.l3_plugin.add_router_interface( self.context, router1['id'], {'subnet_id': subnet1['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'subnet_id': subnet2['subnet']['id']}) # Router3 is here just to be sure that it will not be returned as # is not related to the router1 and router2 in any way self.l3_plugin.add_router_interface( self.context, router3['id'], {'subnet_id': subnet3['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router1['id'], {'port_id': wan_port1['port']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'port_id': wan_port2['port']['id']}) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, []) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router2['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router1['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ",,65,4
openstack%2Fdevstack~master~I1306fe816b7a3eca1e2312c0c454be3d81118eca,openstack/devstack,master,I1306fe816b7a3eca1e2312c0c454be3d81118eca,Use glance import workflow for creating image,MERGED,2020-06-16 16:34:07.000000000,2020-07-15 15:04:40.000000000,2020-07-15 15:02:28.000000000,"[{'_account_id': 2}, {'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-16 16:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1a7c93f20197a60ab6160e3c76dbf4ab9d6fb5f8', 'message': ""Use glance import workflow for crating image\n\nOpenstack client does not has support to use new glance import workflow,\nwhich creates problem to use newly added import plugins like conversion,\ninject metadata etc.\n\nAdded new boolean option 'GLANCE_USE_IMPORT_WORKFLOW' default to False.\nIf this parameter set in local.conf as True then devstack will use\nnew import workflow using python-glanceclient to create the image or\nelse will function as it is.\n\nIn order to use new import workflow of glance;\nuser need to set below options in local.conf\n\nGLANCE_USE_IMPORT_WORKFLOW=True\n\nChange-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca\n""}, {'number': 2, 'created': '2020-06-17 05:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/132d53a5cd7c9eb18552685f6ad1c6869c16a9a8', 'message': ""Use glance import workflow for crating image\n\nOpenstack client does not has support to use new glance import workflow,\nwhich creates problem to use newly added import plugins like conversion,\ninject metadata etc.\n\nAdded new boolean option 'GLANCE_USE_IMPORT_WORKFLOW' default to False.\nIf this parameter set in local.conf as True then devstack will use\nnew import workflow using python-glanceclient to create the image or\nelse will function as it is.\n\nIn order to use new import workflow of glance;\nuser need to set below options in local.conf\n\nGLANCE_USE_IMPORT_WORKFLOW=True\n\nChange-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca\n""}, {'number': 3, 'created': '2020-06-22 14:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ec4884899d8a4c3c69ef2f99623616e96eba66b3', 'message': ""Use glance import workflow for creating image\n\nOpenstack client does not support using the new glance import workflow,\nwhich creates problems using newly added import plugins like conversion,\ninject metadata etc.\n\nAdded new boolean option 'GLANCE_USE_IMPORT_WORKFLOW' default to False.\nIf this parameter set in local.conf as True then devstack will use the\nnew import workflow using python-glanceclient to create the image or\nelse will function as it is.\n\nIn order to use new import workflow of glance;\nuser need to set below options in local.conf\n\nGLANCE_USE_IMPORT_WORKFLOW=True\n\nCo-Authored-By: Abhishek Kekane <akekane@redhat.com>\nCo-Authored-By: Dan Smith <dansmith@redhat.com>\nChange-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca\n""}, {'number': 4, 'created': '2020-06-23 21:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f308e76d6547b57a7d66bb7d1eb64337c6e8cac0', 'message': ""Use glance import workflow for creating image\n\nOpenstack client does not support using the new glance import workflow,\nwhich creates problems using newly added import plugins like conversion,\ninject metadata etc.\n\nAdded new boolean option 'GLANCE_USE_IMPORT_WORKFLOW' default to False.\nIf this parameter set in local.conf as True then devstack will use the\nnew import workflow using python-glanceclient to create the image or\nelse will function as it is.\n\nIn order to use new import workflow of glance;\nuser need to set below options in local.conf\n\nGLANCE_USE_IMPORT_WORKFLOW=True\n\nCo-Authored-By: Abhishek Kekane <akekane@redhat.com>\nCo-Authored-By: Dan Smith <dansmith@redhat.com>\nDepends-On: https://review.opendev.org/#/c/737625\nChange-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca\n""}, {'number': 5, 'created': '2020-06-26 14:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f842d69a2a971442280842b09271a2ab729988f2', 'message': ""Use glance import workflow for creating image\n\nAdded new boolean option 'GLANCE_USE_IMPORT_WORKFLOW' default to False.\nIf this parameter set in local.conf as True then devstack will use the\nnew import workflow to create the image.\n\nIn order to use new import workflow of glance;\nuser need to set below options in local.conf\n\nGLANCE_USE_IMPORT_WORKFLOW=True\n\nNote that the import workflow requires WSGI_MODE=mod_wsgi, otherwise\nglance will not be able to process the imports. The new helper function\nwill abort to avoid in that case to avoid waiting for something that\nwill never happen.\n\nCo-Authored-By: Abhishek Kekane <akekane@redhat.com>\nCo-Authored-By: Dan Smith <dansmith@redhat.com>\nNeeded-By: https://review.opendev.org/#/c/734184\nDepends-On: https://review.opendev.org/#/c/737625\nChange-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca\n""}, {'number': 6, 'created': '2020-07-07 13:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/38e703525ffd6b9e0837ee995e2d9d217a9ebf4e', 'message': ""Use glance import workflow for creating image\n\nAdded new boolean option 'GLANCE_USE_IMPORT_WORKFLOW' default to False.\nIf this parameter set in local.conf as True then devstack will use the\nnew import workflow to create the image.\n\nIn order to use new import workflow of glance;\nuser need to set below options in local.conf\n\nGLANCE_USE_IMPORT_WORKFLOW=True\n\nNote that the import workflow requires WSGI_MODE=mod_wsgi, otherwise\nglance will not be able to process the imports. The new helper function\nwill abort to avoid in that case to avoid waiting for something that\nwill never happen.\n\nCo-Authored-By: Abhishek Kekane <akekane@redhat.com>\nCo-Authored-By: Dan Smith <dansmith@redhat.com>\nNeeded-By: https://review.opendev.org/#/c/734184\nDepends-On: https://review.opendev.org/#/c/737625\nChange-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca\n""}, {'number': 7, 'created': '2020-07-09 14:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d6c1a3f155c29229dd11b8c9f851efb7439d3f50', 'message': 'Use glance import workflow for creating image\n\nAdded new boolean option \'GLANCE_USE_IMPORT_WORKFLOW\' default to False.\nIf this parameter set in local.conf as True then devstack will use the\nnew import workflow to create the image.\n\nIn order to use new import workflow of glance;\nuser need to set below options in local.conf\n\nGLANCE_USE_IMPORT_WORKFLOW=True\n\nNote that the import workflow does not work in uwsgi because of\nsome fundamental restrictions it has. Thus, devstack must be configured\nwith WSGI_MODE=mod_wsgi, otherwise glance will not be able to process\nthe imports. The new helper function will abort to avoid in that case\nto avoid the image never being moved to ""active"" state by an import\ntask that will never be executed.\n\nCo-Authored-By: Abhishek Kekane <akekane@redhat.com>\nCo-Authored-By: Dan Smith <dansmith@redhat.com>\nNeeded-By: https://review.opendev.org/#/c/734184\nChange-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca\n'}, {'number': 8, 'created': '2020-07-13 18:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fa919dc196479f145a74fdbb837a51571cd606ce', 'message': 'Use glance import workflow for creating image\n\nAdded new boolean option \'GLANCE_USE_IMPORT_WORKFLOW\' default to False.\nIf this parameter set in local.conf as True then devstack will use the\nnew import workflow to create the image.\n\nIn order to use new import workflow of glance;\nuser need to set below options in local.conf\n\nGLANCE_USE_IMPORT_WORKFLOW=True\n\nNote that the import workflow does not work in uwsgi because of\nsome fundamental restrictions it has. Thus, devstack must be configured\nwith WSGI_MODE=mod_wsgi, otherwise glance will not be able to process\nthe imports. The new helper function will abort to avoid in that case\nto avoid the image never being moved to ""active"" state by an import\ntask that will never be executed.\n\nCo-Authored-By: Abhishek Kekane <akekane@redhat.com>\nCo-Authored-By: Dan Smith <dansmith@redhat.com>\nNeeded-By: https://review.opendev.org/#/c/734184\nChange-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca\n'}, {'number': 9, 'created': '2020-07-13 20:59:41.000000000', 'files': ['functions', 'lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/73ad9760a384e3f872de07a174440fe8e3b174ec', 'message': 'Use glance import workflow for creating image\n\nAdded new boolean option \'GLANCE_USE_IMPORT_WORKFLOW\' default to False.\nIf this parameter set in local.conf as True then devstack will use the\nnew import workflow to create the image.\n\nIn order to use new import workflow of glance;\nuser need to set below options in local.conf\n\nGLANCE_USE_IMPORT_WORKFLOW=True\n\nNote that the import workflow does not work in uwsgi because of\nsome fundamental restrictions it has. Thus, devstack must be configured\nwith WSGI_MODE=mod_wsgi, otherwise glance will not be able to process\nthe imports. The new helper function will abort to avoid in that case\nto avoid the image never being moved to ""active"" state by an import\ntask that will never be executed.\n\nCo-Authored-By: Abhishek Kekane <akekane@redhat.com>\nCo-Authored-By: Dan Smith <dansmith@redhat.com>\nNeeded-By: https://review.opendev.org/#/c/734184\nChange-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca\n'}]",33,735966,73ad9760a384e3f872de07a174440fe8e3b174ec,65,8,9,9303,,,0,"Use glance import workflow for creating image

Added new boolean option 'GLANCE_USE_IMPORT_WORKFLOW' default to False.
If this parameter set in local.conf as True then devstack will use the
new import workflow to create the image.

In order to use new import workflow of glance;
user need to set below options in local.conf

GLANCE_USE_IMPORT_WORKFLOW=True

Note that the import workflow does not work in uwsgi because of
some fundamental restrictions it has. Thus, devstack must be configured
with WSGI_MODE=mod_wsgi, otherwise glance will not be able to process
the imports. The new helper function will abort to avoid in that case
to avoid the image never being moved to ""active"" state by an import
task that will never be executed.

Co-Authored-By: Abhishek Kekane <akekane@redhat.com>
Co-Authored-By: Dan Smith <dansmith@redhat.com>
Needed-By: https://review.opendev.org/#/c/734184
Change-Id: I1306fe816b7a3eca1e2312c0c454be3d81118eca
",git fetch https://review.opendev.org/openstack/devstack refs/changes/66/735966/5 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/glance']",2,1a7c93f20197a60ab6160e3c76dbf4ab9d6fb5f8,glance-import,GLANCE_USE_IMPORT_WORKFLOW=$(trueorfalse False GLANCE_USE_IMPORT_WORKFLOW) ,,81,27
openstack%2Fpuppet-neutron~master~Ifd7978c2404c6dd662d5e228bd7872cdfe00f4f4,openstack/puppet-neutron,master,Ifd7978c2404c6dd662d5e228bd7872cdfe00f4f4,Add support for http_retries,MERGED,2020-07-10 02:19:07.000000000,2020-07-15 14:57:07.000000000,2020-07-15 14:54:52.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 02:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/db240d7c53758ee170d9fe519800b30fe9e872b5', 'message': 'Add support for http_retries\n\nThe new http_retries option was added into neutron to define number of\nretries in client connections.\nThis patch adds support for that new option.\n\nDepends-on: https://review.opendev.org/#/c/736026/\nChange-Id: Ifd7978c2404c6dd662d5e228bd7872cdfe00f4f4\n'}, {'number': 2, 'created': '2020-07-10 04:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e3b997d3f47a6d2517e83427ac34f0f2478bdb72', 'message': 'Add support for http_retries\n\nThe new http_retries option was added into neutron to define number of\nretries in client connections.\nThis patch adds support for that new option.\n\nDepends-on: https://review.opendev.org/#/c/736026/\nChange-Id: Ifd7978c2404c6dd662d5e228bd7872cdfe00f4f4\n'}, {'number': 3, 'created': '2020-07-10 06:32:07.000000000', 'files': ['spec/classes/neutron_server_notifications_spec.rb', 'manifests/server/notifications.pp', 'releasenotes/notes/client-http_retries-2bef45e4c83037cf.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1389140f1705bd3fda69bafc8650b47168be780e', 'message': 'Add support for http_retries\n\nThe new http_retries option was added into neutron to define number of\nretries in client connections.\nThis patch adds support for that new option.\n\nDepends-on: https://review.opendev.org/#/c/736026/\nChange-Id: Ifd7978c2404c6dd662d5e228bd7872cdfe00f4f4\n'}]",0,740392,1389140f1705bd3fda69bafc8650b47168be780e,12,3,3,9816,,,0,"Add support for http_retries

The new http_retries option was added into neutron to define number of
retries in client connections.
This patch adds support for that new option.

Depends-on: https://review.opendev.org/#/c/736026/
Change-Id: Ifd7978c2404c6dd662d5e228bd7872cdfe00f4f4
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/92/740392/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_notifications_spec.rb', 'manifests/server/notifications.pp', 'releasenotes/notes/client-http_retries-2bef45e4c83037cf.yaml']",3,db240d7c53758ee170d9fe519800b30fe9e872b5,http_retries,--- features: - | The new ``neutron::server::notifications::http_retries`` parameter has been added to set number of client retries. ,,14,0
openstack%2Fnova~master~I5bc43f669a46f200794d2d9efb1488e8f5c70c80,openstack/nova,master,I5bc43f669a46f200794d2d9efb1488e8f5c70c80,hardware: refactor numa_get_constraints,NEW,2020-04-08 02:03:45.000000000,2020-07-15 14:55:39.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-04-08 02:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3ac15647edde9762ae1265bd9796b3c40a1421d', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\n""}, {'number': 2, 'created': '2020-04-08 02:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac6496d7ea7bf2144cf4d723497376993b18909d', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\n""}, {'number': 3, 'created': '2020-04-08 02:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a998849e1229ba8008707c7e3563cc9d5b29b38f', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\n""}, {'number': 4, 'created': '2020-04-08 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86bcfc7058f515f69a760fc06d1cf9a764c6866e', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\n""}, {'number': 5, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9e3a9ae9f5374217246e2171f223541192344b3', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\n""}, {'number': 6, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f4ad293c848f0bcfc3c49ef7629bfbf4a8990b9', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e12f344445dc4581bfd9f3378e4dccd67746c47a', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 8, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2750c21d8ff607890febdfcb22777bb9d8e5d796', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 9, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8f0208c4206bdfc1afede5411bd53d769783109', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 10, 'created': '2020-07-07 07:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e35d10036c3ccf8d64166a132c72bdfbee6b50fb', 'message': ""libvirt/hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 11, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1eb5f51cc63afcc3d5a45d231b5524c9de6c8392', 'message': ""hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 12, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dd468ac5b4fb8b5ec732421718ade6ebfd28623', 'message': ""hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 13, 'created': '2020-07-10 03:45:56.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/111b3644002a84bd117b4dfcb2c509452adc81ae', 'message': ""hardware: refactor numa_get_constraints\n\nRefactor numa_get_constraints to get all kinds of resource\nconstraints before creating numa cell instance.\n\nThese constraints will be used for calculating the 'dedicated'\nCPU mask from 'PCPU' and 'VCPU' resource classes.\n\nChange-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",23,718294,111b3644002a84bd117b4dfcb2c509452adc81ae,105,14,13,30209,,,0,"hardware: refactor numa_get_constraints

Refactor numa_get_constraints to get all kinds of resource
constraints before creating numa cell instance.

These constraints will be used for calculating the 'dedicated'
CPU mask from 'PCPU' and 'VCPU' resource classes.

Change-Id: I5bc43f669a46f200794d2d9efb1488e8f5c70c80
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/718294/11 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,f3ac15647edde9762ae1265bd9796b3c40a1421d,bp/use-pcpu-and-vcpu-in-one-instance," nodes = _get_numa_node_count_constraint(flavor, image_meta) pagesize = _get_numa_pagesize_constraint(flavor, image_meta) vpmems = get_vpmems(flavor) cpu_list = _get_numa_cpu_constraint(flavor, image_meta) mem_list = _get_numa_mem_constraint(flavor, image_meta) "," nodes = _get_numa_node_count_constraint(flavor, image_meta) pagesize = _get_numa_pagesize_constraint(flavor, image_meta) vpmems = get_vpmems(flavor) cpu_list = _get_numa_cpu_constraint(flavor, image_meta) mem_list = _get_numa_mem_constraint(flavor, image_meta) ",7,7
openstack%2Fproject-config~master~Ib3832589cf05ff7c5063e0c2c26dfe0ef342c700,openstack/project-config,master,Ib3832589cf05ff7c5063e0c2c26dfe0ef342c700,More helpful description for openstack/openstack,MERGED,2020-07-15 14:00:23.000000000,2020-07-15 14:39:00.000000000,2020-07-15 14:28:24.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 14:00:23.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8c71a28df67a305c05b8c034f08f085d28d5ff24', 'message': 'More helpful description for openstack/openstack\n\nThe openstack/openstack repository is often mistaken as being the\ndefault entry point into the OpenStack world. In addition to\nproviding redirects in its README[1], update the repo description\nto make it clearer what it actually is.\n\n[1] https://review.opendev.org/741207\n\nChange-Id: Ib3832589cf05ff7c5063e0c2c26dfe0ef342c700\n'}]",0,741213,8c71a28df67a305c05b8c034f08f085d28d5ff24,8,3,1,308,,,0,"More helpful description for openstack/openstack

The openstack/openstack repository is often mistaken as being the
default entry point into the OpenStack world. In addition to
providing redirects in its README[1], update the repo description
to make it clearer what it actually is.

[1] https://review.opendev.org/741207

Change-Id: Ib3832589cf05ff7c5063e0c2c26dfe0ef342c700
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/741213/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,8c71a28df67a305c05b8c034f08f085d28d5ff24,helpful-desc, description: Repository tracking all OpenStack repositories as submodules, description: Repository containing OpenStack repositories,1,1
openstack%2Fneutron~stable%2Fussuri~I0a89bca0734d3e735fb357e488f85589e81d709f,openstack/neutron,stable/ussuri,I0a89bca0734d3e735fb357e488f85589e81d709f,L3 agent scheduler should return a valid index if manual scheduling,MERGED,2020-06-26 09:59:45.000000000,2020-07-15 14:37:24.000000000,2020-07-15 14:34:13.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-26 09:59:45.000000000', 'files': ['neutron/scheduler/base_scheduler.py', 'neutron/tests/unit/scheduler/test_base_scheduler.py', 'neutron/tests/unit/scheduler/test_dhcp_agent_scheduler.py', 'neutron/db/l3_agentschedulers_db.py', 'neutron/scheduler/dhcp_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f8af42dbdf4686936e05a07d9ead9c9e600b8eb', 'message': 'L3 agent scheduler should return a valid index if manual scheduling\n\nWhen retrieving a vacant L3 agent binding index, if\n""is_manual_scheduling"" is set, the method ""get_vacant_binding_index""\nshould always return a valid binding index. If the existing binding\nindexes are sequentially aligned, the method will return a new one\non top; if there is a gap in the binding indexes list, the first\nfree index will be returned.\n\nCloses-Bug: #1884906\n\nChange-Id: I0a89bca0734d3e735fb357e488f85589e81d709f\n(cherry picked from commit 2bb514f2d73a64b6f954990a2ff12f5baa3a97cd)\n'}]",0,738179,5f8af42dbdf4686936e05a07d9ead9c9e600b8eb,31,7,1,16688,,,0,"L3 agent scheduler should return a valid index if manual scheduling

When retrieving a vacant L3 agent binding index, if
""is_manual_scheduling"" is set, the method ""get_vacant_binding_index""
should always return a valid binding index. If the existing binding
indexes are sequentially aligned, the method will return a new one
on top; if there is a gap in the binding indexes list, the first
free index will be returned.

Closes-Bug: #1884906

Change-Id: I0a89bca0734d3e735fb357e488f85589e81d709f
(cherry picked from commit 2bb514f2d73a64b6f954990a2ff12f5baa3a97cd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/738179/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/scheduler/base_scheduler.py', 'neutron/tests/unit/scheduler/test_base_scheduler.py', 'neutron/tests/unit/scheduler/test_dhcp_agent_scheduler.py', 'neutron/db/l3_agentschedulers_db.py', 'neutron/scheduler/dhcp_agent_scheduler.py']",5,5f8af42dbdf4686936e05a07d9ead9c9e600b8eb,bug/1884906," return base_scheduler.get_vacant_binding_index( num_agents, bindings, ndab_model.LOWEST_BINDING_INDEX, force_scheduling=force_scheduling)"," binding_indices = [b.binding_index for b in bindings] all_indices = set(range(ndab_model.LOWEST_BINDING_INDEX, num_agents + 1)) open_slots = sorted(list(all_indices - set(binding_indices))) if open_slots: return open_slots[0] if not force_scheduling: return -1 # Last chance: if this is a manual scheduling, we're gonna allow # creation of a binding_index even if it will exceed # dhcp_agents_per_network. if max(binding_indices) == len(binding_indices): return max(binding_indices) + 1 else: # Find binding index set gaps and return first free one. all_indices = set(range(ndab_model.LOWEST_BINDING_INDEX, max(binding_indices) + 1)) open_slots = sorted(list(all_indices - set(binding_indices))) return open_slots[0]",96,98
openstack%2Fneutron~master~I59274ca002940e38060b025e55057870093f78f8,openstack/neutron,master,I59274ca002940e38060b025e55057870093f78f8,DO NOT REVIEW: Test OVN branch-20.06,ABANDONED,2020-07-03 14:19:06.000000000,2020-07-15 14:30:35.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-03 14:19:06.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'zuul.d/base.yaml', 'devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f26e2818ca9eb180d376b1beac9ced286ccb8ace', 'message': 'DO NOT REVIEW: Test OVN branch-20.06\n\nChange-Id: I59274ca002940e38060b025e55057870093f78f8\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,739245,f26e2818ca9eb180d376b1beac9ced286ccb8ace,7,3,1,6773,,,0,"DO NOT REVIEW: Test OVN branch-20.06

Change-Id: I59274ca002940e38060b025e55057870093f78f8
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/739245/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-singlenode.yaml', 'zuul.d/base.yaml', 'devstack/lib/ovn_agent']",3,f26e2818ca9eb180d376b1beac9ced286ccb8ace,ovn-branch-20.06,OVN_BRANCH=${OVN_BRANCH:-branch-20.06},OVN_BRANCH=${OVN_BRANCH:-v20.03.0},4,4
openstack%2Fcharm-openstack-dashboard~master~Ib959663634bc648328e5cb35ed3d3622d759412c,openstack/charm-openstack-dashboard,master,Ib959663634bc648328e5cb35ed3d3622d759412c,Refresh cipher suites and protocols,MERGED,2020-07-07 12:21:08.000000000,2020-07-15 14:27:12.000000000,2020-07-15 14:27:12.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 12:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f8a09b128b86c66fee20eaba407de90b09160dfe', 'message': ""Refresh cipher suites and protocols\n\nThe last update was 2016, and it's time to drop TLSv1 and TLSv1.1 as the\nbase configuration recommended by Mozilla.\nhttps://wiki.mozilla.org/Security/Server_Side_TLS\n\nFollow-up of the following commits:\n106f418f13c073b1e7d4c57483f423d5f4d0dd10\n\nRelated changes in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/485\n\nChange-Id: Ib959663634bc648328e5cb35ed3d3622d759412c\nCloses-Bug: #1886630\n""}, {'number': 2, 'created': '2020-07-07 12:45:44.000000000', 'files': ['templates/default-ssl'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e462df7401ac144dce2aeb36b4e563980410a920', 'message': ""Refresh cipher suites and protocols\n\nThe last update was 2016, and it's time to drop TLSv1 and TLSv1.1 as the\nbase configuration recommended by Mozilla.\nhttps://wiki.mozilla.org/Security/Server_Side_TLS\n\nFollow-up of the following commits:\n106f418f13c073b1e7d4c57483f423d5f4d0dd10\n\nRelated changes in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/485\n\nChange-Id: Ib959663634bc648328e5cb35ed3d3622d759412c\nCloses-Bug: #1886630\n""}]",0,739722,e462df7401ac144dce2aeb36b4e563980410a920,9,3,2,8108,,,0,"Refresh cipher suites and protocols

The last update was 2016, and it's time to drop TLSv1 and TLSv1.1 as the
base configuration recommended by Mozilla.
https://wiki.mozilla.org/Security/Server_Side_TLS

Follow-up of the following commits:
106f418f13c073b1e7d4c57483f423d5f4d0dd10

Related changes in charm-helpers:
https://github.com/juju/charm-helpers/pull/485

Change-Id: Ib959663634bc648328e5cb35ed3d3622d759412c
Closes-Bug: #1886630
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/22/739722/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/default-ssl'],1,f8a09b128b86c66fee20eaba407de90b09160dfe,bug/1886630," # This section is based on Mozilla's recommendation # as the ""intermediate"" profile as of July 7th, 2020. # https://wiki.mozilla.org/Security/Server_Side_TLS SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1 SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384 SSLHonorCipherOrder off # SSLSessionTickets is supported by Apache 2.4.11 or later. # The following line can be enabled when trusty support is dropped. # https://httpd.apache.org/docs/trunk/mod/mod_ssl.html#sslsessiontickets # SSLSessionTickets off ", SSLProtocol +TLSv1 +TLSv1.1 +TLSv1.2 SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!EXP:!LOW:!MEDIUM,12,2
openstack%2Fcharm-cinder-ceph~master~I1e8f33cda8c48dbfa3a2e087157fed7c41bcf408,openstack/charm-cinder-ceph,master,I1e8f33cda8c48dbfa3a2e087157fed7c41bcf408,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 18:59:42.000000000,2020-07-15 14:24:37.000000000,2020-07-15 14:24:36.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:59:42.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/6bbd9c86c4ab8ee0176ddfd6d90ad79b26c3e7fb', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I1e8f33cda8c48dbfa3a2e087157fed7c41bcf408\n'}]",0,740759,6bbd9c86c4ab8ee0176ddfd6d90ad79b26c3e7fb,9,4,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I1e8f33cda8c48dbfa3a2e087157fed7c41bcf408
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/59/740759/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py']",6,6bbd9c86c4ab8ee0176ddfd6d90ad79b26c3e7fb,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,60,2
openstack%2Fnetworking-odl~stable%2Fussuri~I2c71fecdaa194a343f4f360d9c7e09830d814b4a,openstack/networking-odl,stable/ussuri,I2c71fecdaa194a343f4f360d9c7e09830d814b4a,Fix pep8 job,ABANDONED,2020-07-09 13:22:26.000000000,2020-07-15 14:23:28.000000000,,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 13:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bbe96b5160333c35a8fd2358441d383cc3375103', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nDepends-On: https://review.opendev.org/739469\nChange-Id: I2c71fecdaa194a343f4f360d9c7e09830d814b4a\n'}, {'number': 2, 'created': '2020-07-13 13:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d1d06ba5845567b1fac37e4936cf119c03ed625a', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nRemove install_infra call from configure_for_func_testing.sh script\n\nDepends-On: https://review.opendev.org/739469\nChange-Id: I2c71fecdaa194a343f4f360d9c7e09830d814b4a\n'}, {'number': 3, 'created': '2020-07-14 07:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a8381aaa903a4e253cb54ce92f978749df8ec9c8', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nRemove pip_install virtualenv call from _install_infra func in\nconfigure_for_func_testing script.\n\nDepends-On: https://review.opendev.org/739469\nChange-Id: I2c71fecdaa194a343f4f360d9c7e09830d814b4a\n'}, {'number': 4, 'created': '2020-07-14 13:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5b4e63786c4e659cb62c290bade7f2774e7db3f5', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nSet PYTHON3_VERSION to 3, to avoid errors with pip3.6 not found\n\nDepends-On: https://review.opendev.org/739469\nChange-Id: I2c71fecdaa194a343f4f360d9c7e09830d814b4a\n'}, {'number': 5, 'created': '2020-07-15 08:17:02.000000000', 'files': ['playbooks/functional/pre.yaml', 'test-requirements.txt', 'lower-constraints.txt', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0428ff3fe8a132b896ce72254c1ab22f42df11e7', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nSet PYTHON3_VERSION to 3, to avoid errors with pip3.6 not found\n\nDepends-On: https://review.opendev.org/739469\nChange-Id: I2c71fecdaa194a343f4f360d9c7e09830d814b4a\n'}]",0,740284,0428ff3fe8a132b896ce72254c1ab22f42df11e7,18,3,5,8313,,,0,"Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.

Set PYTHON3_VERSION to 3, to avoid errors with pip3.6 not found

Depends-On: https://review.opendev.org/739469
Change-Id: I2c71fecdaa194a343f4f360d9c7e09830d814b4a
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/84/740284/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,bbe96b5160333c35a8fd2358441d383cc3375103,pep8-error-stable/ussuri,isort==4.3.21,isort==4.3.4,2,1
openstack%2Fcharm-swift-proxy~master~I21438bca663807b7440f7ad99979232d1960c971,openstack/charm-swift-proxy,master,I21438bca663807b7440f7ad99979232d1960c971,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:01:07.000000000,2020-07-15 14:23:09.000000000,2020-07-15 14:23:08.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:01:07.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/09f5a51dd9f01efe0d97aba6eaaf38904613398b', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I21438bca663807b7440f7ad99979232d1960c971\n'}]",0,740775,09f5a51dd9f01efe0d97aba6eaaf38904613398b,9,4,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I21438bca663807b7440f7ad99979232d1960c971
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/75/740775/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py']",6,09f5a51dd9f01efe0d97aba6eaaf38904613398b,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,41,2
openstack%2Fcharm-ceph-osd~master~I459b37cb22ac00d8d4fd9983d9a995b475a0207d,openstack/charm-ceph-osd,master,I459b37cb22ac00d8d4fd9983d9a995b475a0207d,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 18:59:18.000000000,2020-07-15 14:23:07.000000000,2020-07-15 14:23:07.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:59:18.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/189e0c2b982038762d977d999a3299c88667fc99', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I459b37cb22ac00d8d4fd9983d9a995b475a0207d\n'}]",0,740755,189e0c2b982038762d977d999a3299c88667fc99,9,4,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I459b37cb22ac00d8d4fd9983d9a995b475a0207d
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/55/740755/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",8,189e0c2b982038762d977d999a3299c88667fc99,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,87,4
openstack%2Fcharm-ceph-mon~master~I8b4c3046101ad41004b2fa5108b5aafed6c75070,openstack/charm-ceph-mon,master,I8b4c3046101ad41004b2fa5108b5aafed6c75070,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 18:59:12.000000000,2020-07-15 14:21:41.000000000,2020-07-15 14:21:41.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:59:12.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0c318c9bc368df28b1ecd5649b2be2f281dca763', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I8b4c3046101ad41004b2fa5108b5aafed6c75070\n'}]",0,740754,0c318c9bc368df28b1ecd5649b2be2f281dca763,9,4,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I8b4c3046101ad41004b2fa5108b5aafed6c75070
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/54/740754/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",7,0c318c9bc368df28b1ecd5649b2be2f281dca763,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,73,3
openstack%2Fbifrost~stable%2Fussuri~Id767e76bb0afb91f4176fd02ad1fa33f17325df2,openstack/bifrost,stable/ussuri,Id767e76bb0afb91f4176fd02ad1fa33f17325df2,Removing libselinux-python package from Fedora dependencies,MERGED,2020-07-15 12:55:40.000000000,2020-07-15 14:19:28.000000000,2020-07-15 14:15:43.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-07-15 12:55:40.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml', 'releasenotes/notes/releasenote-94bcb2b0da207f94.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d371d2d93071e6b5fc1053fb919bba11a27b7091', 'message': 'Removing libselinux-python package from Fedora dependencies\n\nIn the past releasaes of Fedora, bifrost setup had a dependency on\nlibselinux-python package. In Fedora 32 this package no longer exists\ndue to transition to Python3 and the absence of this package in\nFedora 32 repos this causes the playbook to fail.\n\nThis change removes libselinux-python from Bifrost Fedora dependencies\nand resolves the issue.\n\nChange-Id: Id767e76bb0afb91f4176fd02ad1fa33f17325df2\n(cherry picked from commit f4f456d38770ca9f048d426cf8c6921fc77415ef)\n'}]",0,741173,d371d2d93071e6b5fc1053fb919bba11a27b7091,7,3,1,10239,,,0,"Removing libselinux-python package from Fedora dependencies

In the past releasaes of Fedora, bifrost setup had a dependency on
libselinux-python package. In Fedora 32 this package no longer exists
due to transition to Python3 and the absence of this package in
Fedora 32 repos this causes the playbook to fail.

This change removes libselinux-python from Bifrost Fedora dependencies
and resolves the issue.

Change-Id: Id767e76bb0afb91f4176fd02ad1fa33f17325df2
(cherry picked from commit f4f456d38770ca9f048d426cf8c6921fc77415ef)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/73/741173/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml', 'releasenotes/notes/releasenote-94bcb2b0da207f94.yaml']",3,d371d2d93071e6b5fc1053fb919bba11a27b7091,libselinux-python_fedora32_fix-stable/ussuri,--- fixes: - | Removing dependency on libselinux-python for Fedora OS family. This package is no longer present in Fedora 32 and was causing installation failures. It is safe to remove as it is used with python2 only. ,,8,2
openstack%2Fkolla-ansible~stable%2Ftrain~Ifbab7b673ba87925e52bb01c0996479eb1b76c44,openstack/kolla-ansible,stable/train,Ifbab7b673ba87925e52bb01c0996479eb1b76c44,Fix Logstash 2.4 log rotation,MERGED,2020-07-14 12:03:26.000000000,2020-07-15 14:18:59.000000000,2020-07-15 14:15:56.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-14 12:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8927c83f7148aadd5de57f20b618b7da320ae23d', 'message': ""Fix Logstash 2.4 log rotation - Stable/Train\n\nLogstash 2.4 uses integrated in container logrotate configuration\nwhich tries to rotate logs in /var/log/logstash and Kolla's Logstash\nlogs into /var/log/kolla/logstash/\nThis patch adds kolla-ansible internal logrotate config for Logstash\n\nChange-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44\nCloses-Bug: #1886787\n""}, {'number': 2, 'created': '2020-07-14 19:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57254802d0ba8630a4c770105ae1755fb0367c5d', 'message': ""Fix Logstash 2.4 log rotation\n\nLogstash 2.4 uses integrated in container logrotate configuration\nwhich tries to rotate logs in /var/log/logstash and Kolla's Logstash\nlogs are in /var/log/kolla/logstash/\nThis patch adds kolla-ansible internal logrotate config for Logstash\n\nChange-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44\nCloses-Bug: #1886787\n""}, {'number': 3, 'created': '2020-07-14 19:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1a3d91c00bdabb17d84c9e5c790732dc0c1fd63', 'message': ""Fix Logstash 2.4 log rotation\n\nLogstash 2.4 uses integrated in container logrotate configuration\nwhich tries to rotate logs in /var/log/logstash and Kolla's Logstash\nlogs are in /var/log/kolla/logstash/\nThis patch adds kolla-ansible internal logrotate config for Logstash\n\nChange-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44\nCloses-Bug: #1886787\n""}, {'number': 4, 'created': '2020-07-14 19:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/044d591c83a3479c336aaa3021e7e9b535ddcf55', 'message': ""Fix Logstash 2.4 log rotation\n\nLogstash 2.4 uses integrated in container logrotate configuration\nwhich tries to rotate logs in /var/log/logstash and Kolla's Logstash\nlogs are in /var/log/kolla/logstash/\nThis patch adds kolla-ansible internal logrotate config for Logstash\n\nChange-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44\nCloses-Bug: #1886787\n""}, {'number': 5, 'created': '2020-07-15 08:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a9bc2bd8a74bb10cc518e5cd6b740707f64cd2e', 'message': ""Fix Logstash 2.4 log rotation\n\nLogstash 2.4 uses integrated in container logrotate configuration\nwhich tries to rotate logs in /var/log/logstash and Kolla's Logstash\nlogs are in /var/log/kolla/logstash/\nThis patch adds kolla-ansible internal logrotate config for Logstash\n\nChange-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44\nCloses-Bug: #1886787\n""}, {'number': 6, 'created': '2020-07-15 10:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/777598754a937969467b9ea4df6bc2d494c2fc9b', 'message': ""Fix Logstash 2.4 log rotation\n\nLogstash 2.4 uses integrated in container logrotate configuration\nwhich tries to rotate logs in /var/log/logstash and Kolla's Logstash\nlogs are in /var/log/kolla/logstash/\nThis patch adds kolla-ansible internal logrotate config for Logstash\n\nChange-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44\nCloses-Bug: #1886787\n""}, {'number': 7, 'created': '2020-07-15 11:04:53.000000000', 'files': ['ansible/roles/common/templates/cron.json.j2', 'releasenotes/notes/bug-1886787-013164ffc2f67264.yaml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-logstash.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e353d3f57c6f2cb45d993da8737b6e112dd1d45', 'message': ""Fix Logstash 2.4 log rotation\n\nLogstash 2.4 uses integrated in container logrotate configuration\nwhich tries to rotate logs in /var/log/logstash and Kolla's Logstash\nlogs are in /var/log/kolla/logstash/\nThis patch adds kolla-ansible internal logrotate config for Logstash\n\nChange-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44\nCloses-Bug: #1886787\n""}]",5,740946,0e353d3f57c6f2cb45d993da8737b6e112dd1d45,22,5,7,23084,,,0,"Fix Logstash 2.4 log rotation

Logstash 2.4 uses integrated in container logrotate configuration
which tries to rotate logs in /var/log/logstash and Kolla's Logstash
logs are in /var/log/kolla/logstash/
This patch adds kolla-ansible internal logrotate config for Logstash

Change-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44
Closes-Bug: #1886787
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/740946/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/cron.json.j2', 'releasenotes/notes/bug-1886787-013164ffc2f67264.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-logstash.conf.j2']",4,8927c83f7148aadd5de57f20b618b7da320ae23d,bug/1886787,"""/var/log/kolla/logstash/*.log"" { } ",,12,0
openstack%2Fopenstack~master~I41cde655f6c5d08fc482c40953687570acd59d3f,openstack/openstack,master,I41cde655f6c5d08fc482c40953687570acd59d3f,Give general OpenStack info in the README,MERGED,2020-07-15 13:50:29.000000000,2020-07-15 14:11:02.000000000,2020-07-15 14:11:02.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:50:29.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack/commit/992416c8ad344c68c617a4c8a740f1ab7256a582', 'message': 'Give general OpenStack info in the README\n\nSome newcomers sometimes browse gitea or GitHub to learn about\nOpenStack and naturally open the openstack/openstack repository,\nonly to find a confusing and pretty technical explanation about\nsubmodule tracking and the subtleties of tested combinations of\ncomponents.\n\nProvide some general information about OpenStack first, to\nredirect those lose souls to friendler shores.\n\nChange-Id: I41cde655f6c5d08fc482c40953687570acd59d3f\n'}]",0,741207,992416c8ad344c68c617a4c8a740f1ab7256a582,7,3,1,308,,,0,"Give general OpenStack info in the README

Some newcomers sometimes browse gitea or GitHub to learn about
OpenStack and naturally open the openstack/openstack repository,
only to find a confusing and pretty technical explanation about
submodule tracking and the subtleties of tested combinations of
components.

Provide some general information about OpenStack first, to
redirect those lose souls to friendler shores.

Change-Id: I41cde655f6c5d08fc482c40953687570acd59d3f
",git fetch https://review.opendev.org/openstack/openstack refs/changes/07/741207/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,992416c8ad344c68c617a4c8a740f1ab7256a582,update-README,"OpenStack ========= OpenStack is a collection of interoperable components that can be deployed to provide computing, networking and storage resources. Those infrastructure resources can then be accessed by end users through programmable APIs. This repository just represents OpenStack as a collection of git submodules. You can find the repositories for individual components at: https://opendev.org/openstack You can learn more about the various components in OpenStack at: https://openstack.org/software To learn more about how to contribute to OpenStack, please head to our Contributor portal: https://www.openstack.org/community/ To learn more about how OpenStack is governed, you can visit: https://governance.openstack.org/ Why this repository ? --------------------- Our continuous integration system, Zuul, gates all of the contained projects in an effective single timeline. This means that OpenStack, across all of the projects, does already have a sequence of combinations that have been explicitly tested, but it's non-trivial to go from a single commit of a particular project to the commits that were tested with it.","OpenStack Tracking Repo ======================= zuul gates all of the contained projects in an effective single timeline. This means that OpenStack, across all of the projects, does already have a sequence of combinations that have been explicitly tested, but it's non-trivial to go from a single commit of a particular project to the commits that were tested with it.",28,7
openstack%2Fnetworking-ovn~stable%2Fstein~Ia4b986146c77edf0616015380359e37233df80fc,openstack/networking-ovn,stable/stein,Ia4b986146c77edf0616015380359e37233df80fc,[OVN] Don't set virtual port type on ports with similar addresses,MERGED,2020-06-04 14:37:19.000000000,2020-07-15 14:09:02.000000000,2020-07-15 14:03:19.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-06-04 14:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7269fb5017f10577101341b1bf13466a743ac80a', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from Neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}, {'number': 2, 'created': '2020-06-12 15:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fecef579f4509f616aa2af8a08a6f612ac2926d0', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from Neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}, {'number': 3, 'created': '2020-07-07 14:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d065bfaaec7ad0ce07b388284d07140aa6659213', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from Neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}, {'number': 4, 'created': '2020-07-15 08:36:03.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2cb0739b9fad3279c8f67e5bc7bf3677fc3666a6', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from Neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}]",0,733630,2cb0739b9fad3279c8f67e5bc7bf3677fc3666a6,29,6,4,24791,,,0,"[OVN] Don't set virtual port type on ports with similar addresses

Because of broken check why one port has similar address to the other
one, the first one by mistake could be set as virtual.
Example:
 port_1: 10.11.1.100
 port_2: 10.11.1.10

On create of port_2 it is set as 'virtual', but shouldn't.

This patch fixes that bug by using common function
utils.get_ovn_port_addresses().

Cherry-picked from Neutron: https://review.opendev.org/#/c/732690/

Change-Id: Ia4b986146c77edf0616015380359e37233df80fc
Closes-Bug: #1881759
(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/30/733630/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_mech_driver.py']",2,7269fb5017f10577101341b1bf13466a743ac80a,," def test_virtual_port_not_set_similiar_address(self): # Create one port self._create_port(fixed_ip='10.0.0.110') # Create second port with similar IP, so that # string matching will return True second_port = self._create_port(fixed_ip='10.0.0.11') # Assert the virtual port has not been set. ovn_vport = self._find_port_row(second_port['id']) self.assertEqual("""", ovn_vport.type) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY, ovn_vport.options) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY, ovn_vport.options)",,18,2
openstack%2Fnetworking-ovn~stable%2Fstein~Idd184807de24c79dd892046f01e3acdd1168ca2d,openstack/networking-ovn,stable/stein,Idd184807de24c79dd892046f01e3acdd1168ca2d,Set class ovsdb_conection to None,MERGED,2020-05-29 17:20:55.000000000,2020-07-15 14:06:31.000000000,2020-07-15 14:03:17.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-05-29 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/95187055cf86bb5368ed0bb92e8a3d7edebf83ef', 'message': ""Set class ovsdb_conection to None\n\nWe override ovsdbapp's Backend class to change from using a class\nvariable for the ovsdb_connection to using an instance variable.\nThis means we have to override several different methods/properties.\nThis could be simplified in ovsdbapp by making ovsdb_connection a\nproperty, which in ovsdbapp access a class variable, and in neutron\nit is overridden to to store on the instance, so there would be\nless to override.\n\novsdbapp is adding user-definable indexed columns so things like\nlookups by name will be faster. Due to the way it is architected,\nthe place to generate the indexes would be just before the\nconnection starts. Since methods like start_connection are\nclassmethods in ovsdbapp, and instance methods in neutron, this is\nhard to do cleanly w/o ovsdb_connection being a property. Without\nthis change, neutron would fail if that property was defined. With\nthe change, it should pass with both old and new code.\n\nChange-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d\n(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)\n""}, {'number': 2, 'created': '2020-07-15 08:35:25.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9db1fc8977a99da1b45a7946ef552c0a4d0a4b1d', 'message': ""Set class ovsdb_conection to None\n\nWe override ovsdbapp's Backend class to change from using a class\nvariable for the ovsdb_connection to using an instance variable.\nThis means we have to override several different methods/properties.\nThis could be simplified in ovsdbapp by making ovsdb_connection a\nproperty, which in ovsdbapp access a class variable, and in neutron\nit is overridden to to store on the instance, so there would be\nless to override.\n\novsdbapp is adding user-definable indexed columns so things like\nlookups by name will be faster. Due to the way it is architected,\nthe place to generate the indexes would be just before the\nconnection starts. Since methods like start_connection are\nclassmethods in ovsdbapp, and instance methods in neutron, this is\nhard to do cleanly w/o ovsdb_connection being a property. Without\nthis change, neutron would fail if that property was defined. With\nthe change, it should pass with both old and new code.\n\nChange-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d\n(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)\n""}]",0,731810,9db1fc8977a99da1b45a7946ef552c0a4d0a4b1d,23,6,2,5756,,,0,"Set class ovsdb_conection to None

We override ovsdbapp's Backend class to change from using a class
variable for the ovsdb_connection to using an instance variable.
This means we have to override several different methods/properties.
This could be simplified in ovsdbapp by making ovsdb_connection a
property, which in ovsdbapp access a class variable, and in neutron
it is overridden to to store on the instance, so there would be
less to override.

ovsdbapp is adding user-definable indexed columns so things like
lookups by name will be faster. Due to the way it is architected,
the place to generate the indexes would be just before the
connection starts. Since methods like start_connection are
classmethods in ovsdbapp, and instance methods in neutron, this is
hard to do cleanly w/o ovsdb_connection being a property. Without
this change, neutron would fail if that property was defined. With
the change, it should pass with both old and new code.

Change-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d
(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/10/731810/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/impl_idl_ovn.py'],1,95187055cf86bb5368ed0bb92e8a3d7edebf83ef,, ovsdb_connection = None,,1,0
openstack%2Fnetworking-ovn~stable%2Fqueens~Idd184807de24c79dd892046f01e3acdd1168ca2d,openstack/networking-ovn,stable/queens,Idd184807de24c79dd892046f01e3acdd1168ca2d,Set class ovsdb_conection to None,MERGED,2020-05-29 17:21:15.000000000,2020-07-15 14:03:20.000000000,2020-07-15 14:03:20.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 17:21:15.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/76bb059b77313d51418e28fe27cab66d70258aac', 'message': ""Set class ovsdb_conection to None\n\nWe override ovsdbapp's Backend class to change from using a class\nvariable for the ovsdb_connection to using an instance variable.\nThis means we have to override several different methods/properties.\nThis could be simplified in ovsdbapp by making ovsdb_connection a\nproperty, which in ovsdbapp access a class variable, and in neutron\nit is overridden to to store on the instance, so there would be\nless to override.\n\novsdbapp is adding user-definable indexed columns so things like\nlookups by name will be faster. Due to the way it is architected,\nthe place to generate the indexes would be just before the\nconnection starts. Since methods like start_connection are\nclassmethods in ovsdbapp, and instance methods in neutron, this is\nhard to do cleanly w/o ovsdb_connection being a property. Without\nthis change, neutron would fail if that property was defined. With\nthe change, it should pass with both old and new code.\n\nChange-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d\n(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)\n""}]",0,731812,76bb059b77313d51418e28fe27cab66d70258aac,11,3,1,5756,,,0,"Set class ovsdb_conection to None

We override ovsdbapp's Backend class to change from using a class
variable for the ovsdb_connection to using an instance variable.
This means we have to override several different methods/properties.
This could be simplified in ovsdbapp by making ovsdb_connection a
property, which in ovsdbapp access a class variable, and in neutron
it is overridden to to store on the instance, so there would be
less to override.

ovsdbapp is adding user-definable indexed columns so things like
lookups by name will be faster. Due to the way it is architected,
the place to generate the indexes would be just before the
connection starts. Since methods like start_connection are
classmethods in ovsdbapp, and instance methods in neutron, this is
hard to do cleanly w/o ovsdb_connection being a property. Without
this change, neutron would fail if that property was defined. With
the change, it should pass with both old and new code.

Change-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d
(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/12/731812/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/impl_idl_ovn.py'],1,76bb059b77313d51418e28fe27cab66d70258aac,, ovsdb_connection = None,,1,0
openstack%2Fnetworking-ovn~stable%2Frocky~Idd184807de24c79dd892046f01e3acdd1168ca2d,openstack/networking-ovn,stable/rocky,Idd184807de24c79dd892046f01e3acdd1168ca2d,Set class ovsdb_conection to None,MERGED,2020-05-29 17:21:04.000000000,2020-07-15 14:03:18.000000000,2020-07-15 14:03:18.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 17:21:04.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4c504ff65f68b81b76a41dad5cd95c8a57ce1371', 'message': ""Set class ovsdb_conection to None\n\nWe override ovsdbapp's Backend class to change from using a class\nvariable for the ovsdb_connection to using an instance variable.\nThis means we have to override several different methods/properties.\nThis could be simplified in ovsdbapp by making ovsdb_connection a\nproperty, which in ovsdbapp access a class variable, and in neutron\nit is overridden to to store on the instance, so there would be\nless to override.\n\novsdbapp is adding user-definable indexed columns so things like\nlookups by name will be faster. Due to the way it is architected,\nthe place to generate the indexes would be just before the\nconnection starts. Since methods like start_connection are\nclassmethods in ovsdbapp, and instance methods in neutron, this is\nhard to do cleanly w/o ovsdb_connection being a property. Without\nthis change, neutron would fail if that property was defined. With\nthe change, it should pass with both old and new code.\n\nChange-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d\n(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)\n""}]",0,731811,4c504ff65f68b81b76a41dad5cd95c8a57ce1371,12,3,1,5756,,,0,"Set class ovsdb_conection to None

We override ovsdbapp's Backend class to change from using a class
variable for the ovsdb_connection to using an instance variable.
This means we have to override several different methods/properties.
This could be simplified in ovsdbapp by making ovsdb_connection a
property, which in ovsdbapp access a class variable, and in neutron
it is overridden to to store on the instance, so there would be
less to override.

ovsdbapp is adding user-definable indexed columns so things like
lookups by name will be faster. Due to the way it is architected,
the place to generate the indexes would be just before the
connection starts. Since methods like start_connection are
classmethods in ovsdbapp, and instance methods in neutron, this is
hard to do cleanly w/o ovsdb_connection being a property. Without
this change, neutron would fail if that property was defined. With
the change, it should pass with both old and new code.

Change-Id: Idd184807de24c79dd892046f01e3acdd1168ca2d
(cherry picked from commit c05bac8c4062ff2d4bb67a719aa11f61f608bbdb)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/11/731811/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/impl_idl_ovn.py'],1,4c504ff65f68b81b76a41dad5cd95c8a57ce1371,, ovsdb_connection = None,,1,0
openstack%2Ftripleo-common~stable%2Fussuri~I19b1dda0d10765651ad61682d0783f9253873063,openstack/tripleo-common,stable/ussuri,I19b1dda0d10765651ad61682d0783f9253873063,Fix OVN Octavia provider driver package name,MERGED,2020-07-07 13:25:21.000000000,2020-07-15 14:02:49.000000000,2020-07-15 02:53:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 13:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5f92e48cb2a2badfaedc3794efefc28d687189aa', 'message': 'Fix OVN Octavia provider driver package name\n\nIn Ussuri cycle, the OVN Octavia provider driver moved out\nof the networking-ovn RPM to its own RPM.\n\nChange-Id: I19b1dda0d10765651ad61682d0783f9253873063\n(cherry picked from commit 3c8f2144854284ee891759cb40511e2e043ef526)\n'}, {'number': 2, 'created': '2020-07-08 01:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/02033e3b0bb383c25b4f2a126e64e0f68a1a9329', 'message': 'Fix OVN Octavia provider driver package name\n\nIn Ussuri cycle, the OVN Octavia provider driver moved out\nof the networking-ovn RPM to its own RPM.\n\nChange-Id: I19b1dda0d10765651ad61682d0783f9253873063\n(cherry picked from commit 3c8f2144854284ee891759cb40511e2e043ef526)\n'}, {'number': 3, 'created': '2020-07-13 01:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f322a60337b9d7d5997326dde3fb137b33f1ba7b', 'message': 'Fix OVN Octavia provider driver package name\n\nIn Ussuri cycle, the OVN Octavia provider driver moved out\nof the networking-ovn RPM to its own RPM.\n\nChange-Id: I19b1dda0d10765651ad61682d0783f9253873063\n(cherry picked from commit 3c8f2144854284ee891759cb40511e2e043ef526)\n'}, {'number': 4, 'created': '2020-07-14 01:51:56.000000000', 'files': ['container-images/tcib/base/os/octavia-base/octavia-api/octavia-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6a8c5c24cde5a7ba2de350e5d7fb45e790ff0f7c', 'message': 'Fix OVN Octavia provider driver package name\n\nIn Ussuri cycle, the OVN Octavia provider driver moved out\nof the networking-ovn RPM to its own RPM.\n\nChange-Id: I19b1dda0d10765651ad61682d0783f9253873063\n(cherry picked from commit 3c8f2144854284ee891759cb40511e2e043ef526)\n'}]",0,739743,6a8c5c24cde5a7ba2de350e5d7fb45e790ff0f7c,32,5,4,3153,,,0,"Fix OVN Octavia provider driver package name

In Ussuri cycle, the OVN Octavia provider driver moved out
of the networking-ovn RPM to its own RPM.

Change-Id: I19b1dda0d10765651ad61682d0783f9253873063
(cherry picked from commit 3c8f2144854284ee891759cb40511e2e043ef526)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/739743/4 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/octavia-base/octavia-api/octavia-api.yaml'],1,5f92e48cb2a2badfaedc3794efefc28d687189aa,octavia/ussuri, - python3-ovn-octavia-provider, - python3-networking-ovn,1,1
openstack%2Ftripleo-common~stable%2Fussuri~I5f08cd74b19362611c76ecf31befd3b7eaf5a010,openstack/tripleo-common,stable/ussuri,I5f08cd74b19362611c76ecf31befd3b7eaf5a010,tcib/ceilometer-base: remove panko dependency,MERGED,2020-07-06 16:11:23.000000000,2020-07-15 14:02:01.000000000,2020-07-09 08:34:04.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 16:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e18c12c9f98bd2b348e31e5f5b707ed354e96ad0', 'message': ""tcib/ceilometer-base: remove panko dependency\n\nAodh was deprecated, panko isn't needed anymore for ceilometer images.\nWe already didn't ship it on OSP, let's align with the upstream image.\n\nChange-Id: I5f08cd74b19362611c76ecf31befd3b7eaf5a010\n(cherry picked from commit ab65e221b4b2a7d5d16be72bcb1fcb434e6864d9)\n""}, {'number': 2, 'created': '2020-07-06 19:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01199ca59db7fb40ce789ebc7e55e172fda93265', 'message': ""tcib/ceilometer-base: remove panko dependency\n\nAodh was deprecated, panko isn't needed anymore for ceilometer images.\nWe already didn't ship it on OSP, let's align with the upstream image.\n\nChange-Id: I5f08cd74b19362611c76ecf31befd3b7eaf5a010\n(cherry picked from commit ab65e221b4b2a7d5d16be72bcb1fcb434e6864d9)\n""}, {'number': 3, 'created': '2020-07-08 01:53:54.000000000', 'files': ['container-images/tcib/base/os/ceilometer-base/ceilometer-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/654025c9ba70158bca1a80387a48a4f2d85568c5', 'message': ""tcib/ceilometer-base: remove panko dependency\n\nAodh was deprecated, panko isn't needed anymore for ceilometer images.\nWe already didn't ship it on OSP, let's align with the upstream image.\n\nChange-Id: I5f08cd74b19362611c76ecf31befd3b7eaf5a010\n(cherry picked from commit ab65e221b4b2a7d5d16be72bcb1fcb434e6864d9)\n""}]",0,739532,654025c9ba70158bca1a80387a48a4f2d85568c5,24,4,3,3153,,,0,"tcib/ceilometer-base: remove panko dependency

Aodh was deprecated, panko isn't needed anymore for ceilometer images.
We already didn't ship it on OSP, let's align with the upstream image.

Change-Id: I5f08cd74b19362611c76ecf31befd3b7eaf5a010
(cherry picked from commit ab65e221b4b2a7d5d16be72bcb1fcb434e6864d9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/739532/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/ceilometer-base/ceilometer-base.yaml'],1,e18c12c9f98bd2b348e31e5f5b707ed354e96ad0,panko/ussuri,, - python3-panko,0,1
openstack%2Fcharm-cinder-backup-swift-proxy~master~Ie8ae0a0080456047027d5bb7ea2bd76328a0abd6,openstack/charm-cinder-backup-swift-proxy,master,Ie8ae0a0080456047027d5bb7ea2bd76328a0abd6,Add Victoria charm bundles,MERGED,2020-07-15 12:15:28.000000000,2020-07-15 14:00:18.000000000,2020-07-15 14:00:18.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 12:15:28.000000000', 'files': ['src/tests/bundles/groovy-victoria-swift-v3.yaml', 'src/tests/bundles/focal-victoria-swift-v3.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/555c714e42e2a5e3f3d219e8f435de1e79f6fcfc', 'message': 'Add Victoria charm bundles\n\nChange-Id: Ie8ae0a0080456047027d5bb7ea2bd76328a0abd6\n'}]",0,741163,555c714e42e2a5e3f3d219e8f435de1e79f6fcfc,7,3,1,31289,,,0,"Add Victoria charm bundles

Change-Id: Ie8ae0a0080456047027d5bb7ea2bd76328a0abd6
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/63/741163/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria-swift-v3.yaml', 'src/tests/bundles/groovy-victoria-swift-v3.yaml', 'src/tests/tests.yaml']",3,555c714e42e2a5e3f3d219e8f435de1e79f6fcfc,victoria-charm-tests,dev_bundles: - groovy-victoria-swift-v3 - focal-victoria-swift-v3tests_options: force_deploy: - groovy-victoria-swift-v3,,620,1
openstack%2Freleases~master~I63c120c145d1f81a9735c5975e9718ecd0b980df,openstack/releases,master,I63c120c145d1f81a9735c5975e9718ecd0b980df,release updated ovb,ABANDONED,2020-05-19 23:12:25.000000000,2020-07-15 13:59:44.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-19 23:12:25.000000000', 'files': ['deliverables/_independent/openstack-virtual-baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8c475428888098782d8ebbb5e1803015df6cdb24', 'message': 'release updated ovb\n\nChange-Id: I63c120c145d1f81a9735c5975e9718ecd0b980df\n'}]",0,729420,8c475428888098782d8ebbb5e1803015df6cdb24,6,4,1,9592,,,0,"release updated ovb

Change-Id: I63c120c145d1f81a9735c5975e9718ecd0b980df
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/729420/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstack-virtual-baremetal.yaml'],1,8c475428888098782d8ebbb5e1803015df6cdb24,tripleo-ussuri-release, - name: stable/1.1 location: '1.1.0' - version: 1.1.0 projects: - repo: openstack/openstack-virtual-baremetal hash: 7000097d2ee77d0af551dd24e4695218db8278df,,6,0
openstack%2Freleases~master~I7e41ff4f392cff3409f1ecb79af101e7da10b877,openstack/releases,master,I7e41ff4f392cff3409f1ecb79af101e7da10b877,Release os-collect-config 11.1.0,ABANDONED,2020-05-25 07:53:05.000000000,2020-07-15 13:59:20.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-25 07:53:05.000000000', 'files': ['deliverables/victoria/os-collect-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f89c6ab840030047d951e837f788473d50a8e44d', 'message': 'Release os-collect-config 11.1.0\n\nChange-Id: I7e41ff4f392cff3409f1ecb79af101e7da10b877\n'}]",0,730570,f89c6ab840030047d951e837f788473d50a8e44d,8,5,1,12404,,,0,"Release os-collect-config 11.1.0

Change-Id: I7e41ff4f392cff3409f1ecb79af101e7da10b877
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/730570/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/os-collect-config.yaml'],1,f89c6ab840030047d951e837f788473d50a8e44d,release-os-collect-config,releases: - version: 11.1.0 projects: - repo: openstack/os-collect-config hash: d1607f9f56dbdbf1933a1e8646615cd659002ed6,,5,0
openstack%2Fkolla-ansible~master~I6187997a00f908e87ceace6f79f5f7262ea78738,openstack/kolla-ansible,master,I6187997a00f908e87ceace6f79f5f7262ea78738,Manila - adjust logic for Open vSwitch configuration generation,MERGED,2020-07-03 09:22:29.000000000,2020-07-15 13:58:56.000000000,2020-07-15 12:08:41.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-03 09:22:29.000000000', 'files': ['ansible/roles/openvswitch/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78e8472c2d353c9660aba1883645161216e86d25', 'message': 'Manila - adjust logic for Open vSwitch configuration generation\n\nWork was done to selectively enable Open vSwitch deployment for Manila\nservices as bug #1884939.  However this did not appear to catch all\ncases.  This patch adds a couple more.\n\nChange-Id: I6187997a00f908e87ceace6f79f5f7262ea78738\nCloses-Bug: #1886166\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n'}]",0,739188,78e8472c2d353c9660aba1883645161216e86d25,11,3,1,10910,,,0,"Manila - adjust logic for Open vSwitch configuration generation

Work was done to selectively enable Open vSwitch deployment for Manila
services as bug #1884939.  However this did not appear to catch all
cases.  This patch adds a couple more.

Change-Id: I6187997a00f908e87ceace6f79f5f7262ea78738
Closes-Bug: #1886166
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/739188/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/openvswitch/tasks/config.yml'],1,78e8472c2d353c9660aba1883645161216e86d25,bug/1886166, - service.host_in_groups | bool - service.host_in_groups | bool, - inventory_hostname in groups[service.group] - inventory_hostname in groups[service.group],2,2
openstack%2Fkolla-ansible~master~If2d0dd1739e484b14e3c15a185a236918737b0ab,openstack/kolla-ansible,master,If2d0dd1739e484b14e3c15a185a236918737b0ab,Logstash 6 support,MERGED,2020-07-07 13:45:38.000000000,2020-07-15 13:58:27.000000000,2020-07-15 12:15:05.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 13:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26ed7e060dd78f1eecc7705911499629117b0874', 'message': ' Support using Logstash 6 image with Centos8\n\n Co-Authored-By: Doug Szumski <doug@stackhpc.com>\n Closes-Bug: #1884090\n Depends-On: https://review.opendev.org/#/c/736768\n\nChange-Id: If2d0dd1739e484b14e3c15a185a236918737b0ab\n'}, {'number': 2, 'created': '2020-07-07 13:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e91f4096db4007e6120bdb0841c9c63559c60de5', 'message': 'Support using Logstash 6 image with Centos8\n\nCo-Authored-By: Doug Szumski <doug@stackhpc.com>\nCloses-Bug: #1884090\nDepends-On: https://review.opendev.org/#/c/736768\n\nChange-Id: If2d0dd1739e484b14e3c15a185a236918737b0ab\n'}, {'number': 3, 'created': '2020-07-07 13:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41433706f346377eca7fc95ba2ef2bd277338b45', 'message': 'Support using Logstash 6 image with Centos8\n\nCo-Authored-By: Doug Szumski <doug@stackhpc.com>\nCloses-Bug: #1884090\nDepends-On: https://review.opendev.org/#/c/736768\n\nChange-Id: If2d0dd1739e484b14e3c15a185a236918737b0ab\n'}, {'number': 4, 'created': '2020-07-08 08:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba574308a63ae0b80999f8e40255765cb13f9127', 'message': 'Logstash 6 support\n\nCo-Authored-By: Doug Szumski <doug@stackhpc.com>\nCloses-Bug: #1884090\nDepends-On: https://review.opendev.org/#/c/736768\n\nChange-Id: If2d0dd1739e484b14e3c15a185a236918737b0ab\n'}, {'number': 5, 'created': '2020-07-14 15:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e4eb731abebfd77d5ea2258bc68ba08af3db07b', 'message': 'Logstash 6 support\n\nCo-Authored-By: Doug Szumski <doug@stackhpc.com>\nCloses-Bug: #1884090\nDepends-On: https://review.opendev.org/#/c/736768\n\nChange-Id: If2d0dd1739e484b14e3c15a185a236918737b0ab\n'}, {'number': 6, 'created': '2020-07-15 08:54:53.000000000', 'files': ['ansible/roles/monasca/templates/monasca-log-transformer/monasca-log-transformer.json.j2', 'releasenotes/notes/bug-1884090-c40ff140d5514108.yaml', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'ansible/roles/monasca/templates/monasca-log-persister/log-persister.conf.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/templates/monasca-log-persister/monasca-log-persister.json.j2', 'ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/17d8332604e2337b3f2ab8ec8229097ec4174f73', 'message': 'Logstash 6 support\n\nCo-Authored-By: Doug Szumski <doug@stackhpc.com>\nCloses-Bug: #1884090\nDepends-On: https://review.opendev.org/#/c/736768\n\nChange-Id: If2d0dd1739e484b14e3c15a185a236918737b0ab\n'}]",8,739757,17d8332604e2337b3f2ab8ec8229097ec4174f73,31,6,6,23084,,,0,"Logstash 6 support

Co-Authored-By: Doug Szumski <doug@stackhpc.com>
Closes-Bug: #1884090
Depends-On: https://review.opendev.org/#/c/736768

Change-Id: If2d0dd1739e484b14e3c15a185a236918737b0ab
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/739757/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/templates/monasca-log-transformer/monasca-log-transformer.json.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'ansible/roles/monasca/templates/monasca-log-persister/log-persister.conf.j2', 'ansible/roles/monasca/templates/monasca-log-persister/monasca-log-persister.json.j2', 'ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2']",6,26ed7e060dd78f1eecc7705911499629117b0874,bug/1884090," bootstrap_servers => ""{{ monasca_kafka_servers }}"" topics => [""{{ monasca_raw_logs_topic }}""] codec => json codec => json"," zk_connect => ""{{ monasca_zookeeper_servers }}"" topic_id => ""{{ monasca_raw_logs_topic }}"" consumer_id => ""log_transformer_{{ ansible_hostname }}"" client_id => ""log_transformer_{{ ansible_hostname }}"" workers => {{ monasca_log_pipeline_threads|int }}",15,17
openstack%2Fkeystone~master~I2ac6e90f24b94dc5c0d9c0758f008a388597036c,openstack/keystone,master,I2ac6e90f24b94dc5c0d9c0758f008a388597036c,Stop adding entry in local_user while updating ephemerals,MERGED,2019-10-10 21:54:07.000000000,2020-07-15 13:49:26.000000000,2020-04-20 20:34:42.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2019-10-10 21:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f426eefb8f2ad6b24ffb1976b75a07a06fe595dd', 'message': 'Validate federated users when updating attributes.\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a federated user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nTo fix the persistence in the local_user table for federated\nusers when doing updates is not ideal. I think that the update\nfor federated user\'s attributes must not be allowed via\nOpenStack.In a federated environment, the responsibility for\nmanaging the user attributes must be delegated to the Identity\nProvider. Therefore, there is no reason to allow updating\nfederated users\' attributes directly via OpenStack as if they\nwere local users. If users need to change something in their\nattributes, they must do that in the Identity Provider.\nIf some admin desires to change some federated user\'s\nattribute, then he/she needs to ask for the user to change that\nin the Idp or request the Idp to do that for her/him. It is the\nresponsibility of the Identity Provider to maintain the\nfederated user\'s attributes updated, not OpenStack\'s.\n\nProposal\n========\nI propose to validate users while updating users\' attributes;\nif the user is federated, then we throw an error, otherwise,\nmaintain the current behavior (which means, allowing the\nupdate of local users data).\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 2, 'created': '2019-10-11 12:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9674d78f7703070b18a3d8c84482e734dc125f5e', 'message': 'Validate federated users when updating attributes.\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a federated user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nTo fix the persistence in the local_user table for federated\nusers when doing updates is not ideal. I think that the update\nfor federated user\'s attributes must not be allowed via\nOpenStack.In a federated environment, the responsibility for\nmanaging the user attributes must be delegated to the Identity\nProvider. Therefore, there is no reason to allow updating\nfederated users\' attributes directly via OpenStack as if they\nwere local users. If users need to change something in their\nattributes, they must do that in the Identity Provider.\nIf some admin desires to change some federated user\'s\nattribute, then he/she needs to ask for the user to change that\nin the Idp or request the Idp to do that for her/him. It is the\nresponsibility of the Identity Provider to maintain the\nfederated user\'s attributes updated, not OpenStack\'s.\n\nProposal\n========\nI propose to validate users while updating users\' attributes;\nif the user is federated, then we throw an error, otherwise,\nmaintain the current behavior (which means, allowing the\nupdate of local users data).\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 3, 'created': '2019-10-11 19:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6a1029d1fef99cbfd8fa0becba4941b67b85829d', 'message': 'Remove duplicated entries from users API\n\nProblem description\n===================\nWhen I use the Keystone `users` API, if I add the filter `name`\nin the request, and the name passed in the request is from a\nfederated user, I get duplicated entries for the same users, one\nthat comes from the local_user table and another from\nfederated_user, both with the same user_id and data.\n\nProposal\n========\nI propose to filter duplicated users by id from the shadow_user\nhandler returned list.\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 4, 'created': '2019-10-13 00:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f121ed852214c27c1ec6d0221617b0cb827c00a9', 'message': 'Remove duplicated entries from users API\n\nProblem description\n===================\nWhen I use the Keystone `users` API, if I add the filter `name`\nin the request, and the name passed in the request is from a\nfederated user, I get duplicated entries for the same users, one\nthat comes from the local_user table and another from\nfederated_user, both with the same user_id and data.\n\nProposal\n========\nI propose to filter duplicated users by id from the shadow_user\nhandler returned list.\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 5, 'created': '2019-10-16 13:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/308ca242436f9eac86ac6e4b42e4c7fd690b6ef6', 'message': 'Remove duplicated entries from users API\n\nProblem description\n===================\nWhen I use the Keystone `users` API, if I add the filter `name`\nin the request, and the name passed in the request is from a\nfederated user, I get duplicated entries for the same users, one\nthat comes from the local_user table and another from\nfederated_user, both with the same user_id and data.\n\nProposal\n========\nI propose to filter duplicated users by id from the shadow_user\nhandler returned list.\n\nCloses-Bug: #1848342\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 6, 'created': '2019-10-17 21:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f5ad3cc14a9f85de34e30abe5e089bac83f0f9f5', 'message': 'Stop adding entry in local_user while updating ephemerals\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a ephemeral user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nI fix the persistence in the local_user table for ephemeral\nusers when doing updates. Also, I think that the update\nfor ephemeral user\'s attributes must not be allowed via\nOpenStack.In a federated environment, the responsibility for\nmanaging the user attributes must be delegated to the Identity\nProvider. Therefore, there is no reason to allow updating\nephemeral users\' attributes directly via OpenStack as if they\nwere local users. If users need to change something in their\nattributes, they must do that in the Identity Provider.\nIf some admin desires to change some ephemeral user\'s\nattribute, then he/she needs to ask for the user to change that\nin the Idp or request the Idp to do that for her/him. It is the\nresponsibility of the Identity Provider to maintain the\nfederated user\'s attributes updated, not OpenStack\'s.\n\nProposal\n========\nI propose to validate users while updating users\' attributes;\nif the user is ephemeral, then we throw an error, otherwise,\nmaintain the current behavior (which means, allowing the\nupdate of local users data).\n\nAlso I fix the problem with creating an entry in the\nlocal_user table while updating an ephemeral user\n\nCloses-Bug: #1848342\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 7, 'created': '2019-10-18 02:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8c4d50d1b715028066b74fc5edacfd0c124195f2', 'message': 'Stop adding entry in local_user while updating ephemerals\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a ephemeral user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nI fix the persistence in the local_user table for ephemeral\nusers when doing updates. Also, I think that the update\nfor ephemeral user\'s attributes must not be allowed via\nOpenStack.In a federated environment, the responsibility for\nmanaging the user attributes must be delegated to the Identity\nProvider. Therefore, there is no reason to allow updating\nephemeral users\' attributes directly via OpenStack as if they\nwere local users. If users need to change something in their\nattributes, they must do that in the Identity Provider.\nIf some admin desires to change some ephemeral user\'s\nattribute, then he/she needs to ask for the user to change that\nin the Idp or request the Idp to do that for her/him. It is the\nresponsibility of the Identity Provider to maintain the\nfederated user\'s attributes updated, not OpenStack\'s.\n\nProposal\n========\nI propose to validate users while updating users\' attributes;\nif the user is ephemeral, then we throw an error, otherwise,\nmaintain the current behavior (which means, allowing the\nupdate of local users data).\n\nAlso I fix the problem with creating an entry in the\nlocal_user table while updating an ephemeral user\n\nCloses-Bug: #1848342\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 8, 'created': '2019-10-22 19:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a443361ba6358cdfd228b8083176474b53c010e5', 'message': 'Stop adding entry in local_user while updating ephemerals\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a ephemeral user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nI fix the persistence in the local_user table for ephemeral\nusers when doing updates. Also, I think that the update\nfor ephemeral user\'s attributes must not be allowed via\nOpenStack.In a federated environment, the responsibility for\nmanaging the user attributes must be delegated to the Identity\nProvider. Therefore, there is no reason to allow updating\nephemeral users\' attributes directly via OpenStack as if they\nwere local users. If users need to change something in their\nattributes, they must do that in the Identity Provider.\nIf some admin desires to change some ephemeral user\'s\nattribute, then he/she needs to ask for the user to change that\nin the Idp or request the Idp to do that for her/him. It is the\nresponsibility of the Identity Provider to maintain the\nfederated user\'s attributes updated, not OpenStack\'s.\n\nProposal\n========\nI propose to validate users while updating users\' attributes;\nif the user is ephemeral, then we throw an error, otherwise,\nmaintain the current behavior (which means, allowing the\nupdate of local users data).\n\nAlso I fix the problem with creating an entry in the\nlocal_user table while updating an ephemeral user\n\nCloses-Bug: #1848342\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 9, 'created': '2019-10-28 17:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/db8a72a8f74869054fc9957dfa0d4c99b5ca52fc', 'message': 'Stop adding entry in local_user while updating ephemerals\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a ephemeral user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nI fix the persistence in the local_user table for ephemeral\nusers when doing updates. Also, I think that the update\nfor ephemeral user\'s attributes must not be allowed via\nOpenStack.In a federated environment, the responsibility for\nmanaging the user attributes must be delegated to the Identity\nProvider. Therefore, there is no reason to allow updating\nephemeral users\' attributes directly via OpenStack as if they\nwere local users. If users need to change something in their\nattributes, they must do that in the Identity Provider.\nIf some admin desires to change some ephemeral user\'s\nattribute, then he/she needs to ask for the user to change that\nin the Idp or request the Idp to do that for her/him. It is the\nresponsibility of the Identity Provider to maintain the\nfederated user\'s attributes updated, not OpenStack\'s.\n\nProposal\n========\nI propose to validate users while updating users\' attributes;\nif the user is ephemeral, then we throw an error, otherwise,\nmaintain the current behavior (which means, allowing the\nupdate of local users data).\n\nAlso I fix the problem with creating an entry in the\nlocal_user table while updating an ephemeral user\n\nCloses-Bug: #1848342\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 10, 'created': '2019-12-05 13:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/104b925e67d0fea610939c4ecef1c663c6025939', 'message': 'Stop adding entry in local_user while updating ephemerals\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a ephemeral user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nI fix the persistence in the local_user table for ephemeral\nusers when doing updates.\n\nProposal\n========\nI fix the problem with creating an entry in the\nlocal_user table while updating an ephemeral user\n\nCloses-Bug: #1848342\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 11, 'created': '2019-12-06 14:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/72c9d9abcfde2153609d60ba9a72c1c5d9c03a66', 'message': 'Stop adding entry in local_user while updating ephemerals\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a ephemeral user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nI fix the persistence in the local_user table for ephemeral\nusers when doing updates.\n\nProposal\n========\nI fix the problem with creating an entry in the\nlocal_user table while updating an ephemeral user\n\nCloses-Bug: #1848342\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 12, 'created': '2019-12-06 14:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5ba6f1e82da5653bb2e2458a102ad2f914e9e267', 'message': 'Stop adding entry in local_user while updating ephemerals\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a ephemeral user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nI fix the persistence in the local_user table for ephemeral\nusers when doing updates.\n\nProposal\n========\nI fix the problem with creating an entry in the\nlocal_user table while updating an ephemeral user\n\nCloses-Bug: #1848342\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}, {'number': 13, 'created': '2019-12-11 19:08:02.000000000', 'files': ['keystone/tests/unit/test_v3_identity.py', 'keystone/identity/backends/sql_model.py', 'releasenotes/notes/bug-1848342-317c9e4afa65a3ff.yaml', 'keystone/tests/unit/identity/shadow_users/test_core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7597ecc1350eb6918c09585e4116911102acb54a', 'message': 'Stop adding entry in local_user while updating ephemerals\n\nProblem description\n===================\nToday we have a consistency problem when updating federated\nusers via OpenStack. When I update a ephemeral user via OpenStack,\na registry in the local_user table is created, making this user\nhaving entries in user, local_user and federated_user tables in\nthe database.\n\nFurthermore, if I try to do some operations using this user\n(that has entries in all three tables), I get a ""More than one\nuser exists with the name ..."" error from the OpenStack\nKeystone API. It happens because the user has an entry in both\nlocal_user and federated_user tables.\n\nI fix the persistence in the local_user table for ephemeral\nusers when doing updates.\n\nProposal\n========\nI fix the problem with creating an entry in the\nlocal_user table while updating an ephemeral user\n\nCloses-Bug: #1848342\n\nChange-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c\n'}]",13,687990,7597ecc1350eb6918c09585e4116911102acb54a,71,6,13,30695,,,0,"Stop adding entry in local_user while updating ephemerals

Problem description
===================
Today we have a consistency problem when updating federated
users via OpenStack. When I update a ephemeral user via OpenStack,
a registry in the local_user table is created, making this user
having entries in user, local_user and federated_user tables in
the database.

Furthermore, if I try to do some operations using this user
(that has entries in all three tables), I get a ""More than one
user exists with the name ..."" error from the OpenStack
Keystone API. It happens because the user has an entry in both
local_user and federated_user tables.

I fix the persistence in the local_user table for ephemeral
users when doing updates.

Proposal
========
I fix the problem with creating an entry in the
local_user table while updating an ephemeral user

Closes-Bug: #1848342

Change-Id: I2ac6e90f24b94dc5c0d9c0758f008a388597036c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/90/687990/7 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/exception.py']",3,f426eefb8f2ad6b24ffb1976b75a07a06fe595dd,bug/1848342,"class CannotChangeFederatedUserAttributes(ValidationError): message_format = _(""This user is federated, you must change the"" "" user attributes on the Identity Provider %(idps)s."") ",,34,0
openstack%2Fheat~stable%2Fussuri~Id851530b424f68b5e0e967fe34431483bfffd852,openstack/heat,stable/ussuri,Id851530b424f68b5e0e967fe34431483bfffd852,Allow scale-down of ASG as part of update,MERGED,2020-05-29 01:51:50.000000000,2020-07-15 13:42:21.000000000,2020-07-15 13:38:48.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 01:51:50.000000000', 'files': ['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2c3a95051d91479a1a909a1ff8fb1cb1d5cadc49', 'message': ""Allow scale-down of ASG as part of update\n\nWhen user wants to do manual scale-up of ASG by increasing the\ndesired_capacity and also update some member properties as\npart of a stack update, if it fails due to insufficient\nresources when resizing, trying to manually scale-down by\ndecreasing the desired_capacity won't work, as it would\nalways expect to update the group with the earlier size\nbefore scaling down.\n\nThis patch uses the target_size when building the batches.\n\nTask: 39867\nChange-Id: Id851530b424f68b5e0e967fe34431483bfffd852\n(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)\n""}]",0,731638,2c3a95051d91479a1a909a1ff8fb1cb1d5cadc49,27,4,1,8833,,,0,"Allow scale-down of ASG as part of update

When user wants to do manual scale-up of ASG by increasing the
desired_capacity and also update some member properties as
part of a stack update, if it fails due to insufficient
resources when resizing, trying to manually scale-down by
decreasing the desired_capacity won't work, as it would
always expect to update the group with the earlier size
before scaling down.

This patch uses the target_size when building the batches.

Task: 39867
Change-Id: Id851530b424f68b5e0e967fe34431483bfffd852
(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)
",git fetch https://review.opendev.org/openstack/heat refs/changes/38/731638/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py']",4,2c3a95051d91479a1a909a1ff8fb1cb1d5cadc49,, group.get_size = mock.Mock(return_value=12),,55,39
openstack%2Foctavia~master~I2b9205eae3529f7399682fe7319a1aa203baeb6a,openstack/octavia,master,I2b9205eae3529f7399682fe7319a1aa203baeb6a,Add debootstrap installation instructions for CentOS,NEW,2020-07-01 16:32:12.000000000,2020-07-15 13:35:40.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-01 16:32:12.000000000', 'files': ['diskimage-create/README.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/48e0cff3a870f7c2b1b1061e9cc6ccb6da589bfb', 'message': 'Add debootstrap installation instructions for CentOS\n\nChange-Id: I2b9205eae3529f7399682fe7319a1aa203baeb6a\n'}]",2,738885,48e0cff3a870f7c2b1b1061e9cc6ccb6da589bfb,4,3,1,15197,,,0,"Add debootstrap installation instructions for CentOS

Change-Id: I2b9205eae3529f7399682fe7319a1aa203baeb6a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/85/738885/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/README.rst'],1,48e0cff3a870f7c2b1b1061e9cc6ccb6da589bfb,debootstrap, $ sudo dnf install epel-release $ sudo dnf install qemu-img git e2fsprogs policycoreutils-python-utils debootstrap, $ sudo dnf install qemu-img git e2fsprogs policycoreutils-python-utils,2,1
openstack%2Fcyborg~master~I599b4b301d1eb8c5824f378dfd7fdcf8145d11aa,openstack/cyborg,master,I599b4b301d1eb8c5824f378dfd7fdcf8145d11aa,Always reset CONF when starting the wsgi app,MERGED,2020-06-04 09:03:03.000000000,2020-07-15 13:29:13.000000000,2020-07-15 13:26:24.000000000,"[{'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}]","[{'number': 1, 'created': '2020-06-04 09:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8c0d8b209cc2b821650f434496506a9862e1cd87', 'message': 'Always reset conf.CONF when starting the wsgi app\n\nThis ensures that options loaded during any prior run of the\napplication are dropped before being added again during init_application.\n\nChange-Id: I599b4b301d1eb8c5824f378dfd7fdcf8145d11aa\n'}, {'number': 2, 'created': '2020-06-04 09:40:46.000000000', 'files': ['cyborg/api/wsgi_app.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b92dadb1b1547160cfeb5737d7637317aacf63e8', 'message': 'Always reset CONF when starting the wsgi app\n\nThis ensures that options loaded during any prior run of the\napplication are dropped before being added again during init_application.\n\nChange-Id: I599b4b301d1eb8c5824f378dfd7fdcf8145d11aa\n'}]",0,733496,b92dadb1b1547160cfeb5737d7637317aacf63e8,9,3,2,28522,,,0,"Always reset CONF when starting the wsgi app

This ensures that options loaded during any prior run of the
application are dropped before being added again during init_application.

Change-Id: I599b4b301d1eb8c5824f378dfd7fdcf8145d11aa
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/96/733496/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/wsgi_app.py'],1,8c0d8b209cc2b821650f434496506a9862e1cd87,reset_conf, # NOTE(hberaud): Call reset to ensure the ConfigOpts object doesn't # already contain registered options if the app is reloaded. CONF.reset(),,3,0
openstack%2Fnetworking-ovn~stable%2Fstein~Ic6858b60ae6b7cd031843ea594b8fe1c8a67bb54,openstack/networking-ovn,stable/stein,Ic6858b60ae6b7cd031843ea594b8fe1c8a67bb54,Fix pep8 job,MERGED,2020-07-08 11:10:46.000000000,2020-07-15 13:23:23.000000000,2020-07-15 13:20:35.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-08 11:10:46.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/28f879d8c38d1594d8200f4938a8c4bba9e4ff84', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nCherry-picked from Neturon https://review.opendev.org/#/c/739480/\n\nChange-Id: Ic6858b60ae6b7cd031843ea594b8fe1c8a67bb54\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,739952,28f879d8c38d1594d8200f4938a8c4bba9e4ff84,14,5,1,24791,,,0,"Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.

Cherry-picked from Neturon https://review.opendev.org/#/c/739480/

Change-Id: Ic6858b60ae6b7cd031843ea594b8fe1c8a67bb54
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/52/739952/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,28f879d8c38d1594d8200f4938a8c4bba9e4ff84,,isort==4.3.21,,2,0
openstack%2Fbifrost~master~If01ae7c54d5d421a5c6b97a4d8b29bdaa722ddd9,openstack/bifrost,master,If01ae7c54d5d421a5c6b97a4d8b29bdaa722ddd9,Do not clone repos with source_install==false,MERGED,2020-07-08 09:05:43.000000000,2020-07-15 13:22:47.000000000,2020-07-15 13:16:56.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-08 09:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/43bf7d3d07a691596241cc2bcc6427dcdbc8d579', 'message': 'Do not clone repos with source_install==false\n\nChange-Id: If01ae7c54d5d421a5c6b97a4d8b29bdaa722ddd9\n'}, {'number': 2, 'created': '2020-07-08 09:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/909e686edfaa911c7ac39af881572bb01cc65b9d', 'message': 'Do not clone repos with source_install==false\n\nChange-Id: If01ae7c54d5d421a5c6b97a4d8b29bdaa722ddd9\n'}, {'number': 3, 'created': '2020-07-08 13:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/69caa7aa183f18a708c7aa87829ca590ab5029f0', 'message': 'Do not clone repos with source_install==false\n\nChange-Id: If01ae7c54d5d421a5c6b97a4d8b29bdaa722ddd9\n'}, {'number': 4, 'created': '2020-07-09 09:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/32f4b44f0243746c6d9424a0a635f9d802f78e2e', 'message': ""Do not clone repos with source_install==false\n\nSwitch ironic-staging-drivers to source installation since it's released\nvery infrequently.\n\nChange-Id: If01ae7c54d5d421a5c6b97a4d8b29bdaa722ddd9\n""}, {'number': 5, 'created': '2020-07-09 10:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fa645a586bb0b53b403cffa4c3a4ed395c920031', 'message': ""Do not clone repos with source_install==false\n\nSwitch ironic-staging-drivers to source installation since\nit's released very infrequently.\n\nDo not clone keystone if it's not enabled\n\nChange-Id: If01ae7c54d5d421a5c6b97a4d8b29bdaa722ddd9\n""}, {'number': 6, 'created': '2020-07-09 10:06:46.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/no-clone-cebedc81211dcfa5.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'zuul.d/bifrost-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9b1d1d591e8b8fc5eaa4d34ca70667f268adf12c', 'message': ""Do not clone repos with source_install==false\n\nSwitch ironic-staging-drivers to source installation since\nit's released very infrequently.\n\nDo not clone keystone if it's not enabled\n\nChange-Id: If01ae7c54d5d421a5c6b97a4d8b29bdaa722ddd9\n""}]",7,739930,9b1d1d591e8b8fc5eaa4d34ca70667f268adf12c,20,4,6,10239,,,0,"Do not clone repos with source_install==false

Switch ironic-staging-drivers to source installation since
it's released very infrequently.

Do not clone keystone if it's not enabled

Change-Id: If01ae7c54d5d421a5c6b97a4d8b29bdaa722ddd9
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/30/739930/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml']",3,43bf7d3d07a691596241cc2bcc6427dcdbc8d579,no-clone,"# disable source install to prevent cloning ironicclient_source_install: false openstacksdk_source_install: true ironicinspector_source_install: true ironicinspectorclient_source_install: false sushy_source_install: false staging_drivers_source_install: false source_install: ""{{ ironicclient_source_install }}"" source_install: ""{{ openstacksdk_source_install }}"" source_install: ""{{ ironicinspector_source_install }}"" source_install: ""{{ ironicinspectorclient_source_install }}"" source_install: ""{{ staging_drivers_source_install }}"" source_install: ""{{ sushy_source_install }}""",,15,8
openstack%2Fnetworking-ovn~stable%2Ftrain~Ic6858b60ae6b7cd031843ea594b8fe1c8a67bb54,openstack/networking-ovn,stable/train,Ic6858b60ae6b7cd031843ea594b8fe1c8a67bb54,Fix pep8 job,MERGED,2020-07-08 11:09:38.000000000,2020-07-15 13:22:34.000000000,2020-07-15 13:20:36.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-08 11:09:38.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e84661666b4f782978c260b14dad903a134a7a66', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nCherry-picked from Neturon https://review.opendev.org/#/c/739480/\n\nChange-Id: Ic6858b60ae6b7cd031843ea594b8fe1c8a67bb54\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,739951,e84661666b4f782978c260b14dad903a134a7a66,23,4,1,24791,,,0,"Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.

Cherry-picked from Neturon https://review.opendev.org/#/c/739480/

Change-Id: Ic6858b60ae6b7cd031843ea594b8fe1c8a67bb54
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/51/739951/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,e84661666b4f782978c260b14dad903a134a7a66,,isort==4.3.21,,2,0
openstack%2Fstevedore~master~I7a1b9541f0e4042a224e49c890ba3c63e8a5a259,openstack/stevedore,master,I7a1b9541f0e4042a224e49c890ba3c63e8a5a259,add property methods to extension for more entry point values,MERGED,2020-07-12 19:28:03.000000000,2020-07-15 13:15:14.000000000,2020-07-15 13:13:31.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-12 19:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stevedore/commit/5f651b0da75df4684e4b177cca673f3dafc522e8', 'message': 'add property methods to extension for more entry point values\n\nThe underlying EntryPoint class has some similar methods to fetch\nthese values, but they depend on the version of importlib.metadata\nthat is installed, so this provides a consistent API\n\nChange-Id: I7a1b9541f0e4042a224e49c890ba3c63e8a5a259\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2020-07-12 21:50:29.000000000', 'files': ['releasenotes/notes/expose-entry-point-properties-6f2d868d4342fc0d.yaml', 'stevedore/tests/test_extension.py', 'stevedore/extension.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/e9204ee7b702f67c4de1c777db9482b065126407', 'message': 'add property methods to extension for more entry point values\n\nThe underlying EntryPoint class has some similar methods to fetch\nthese values, but they depend on the version of importlib.metadata\nthat is installed, so this provides a consistent API\n\nChange-Id: I7a1b9541f0e4042a224e49c890ba3c63e8a5a259\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,740597,e9204ee7b702f67c4de1c777db9482b065126407,11,3,2,2472,,,0,"add property methods to extension for more entry point values

The underlying EntryPoint class has some similar methods to fetch
these values, but they depend on the version of importlib.metadata
that is installed, so this provides a consistent API

Change-Id: I7a1b9541f0e4042a224e49c890ba3c63e8a5a259
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/97/740597/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/expose-entry-point-properties-6f2d868d4342fc0d.yaml', 'stevedore/tests/test_extension.py', 'stevedore/extension.py']",3,5f651b0da75df4684e4b177cca673f3dafc522e8,osc-performance,"import re def extras(self): """"""The 'extras' settings for the plugin."""""" # NOTE: The underlying package returns re.Match objects for # some reason. Translate those to the matched strings, which # seem more useful. return [ e.string if isinstance(e, re.Match) else e for e in self.entry_point.extras ] @property def attr(self): """"""The attribute of the module to be loaded."""""" match = self.entry_point.pattern.match(self.entry_point.value) return match.group('attr') @property",,70,0
openstack%2Ftacker-specs~master~Id4b254a3239d2522ae0de7bf1d3d6e0a24e13f8f,openstack/tacker-specs,master,Id4b254a3239d2522ae0de7bf1d3d6e0a24e13f8f,Use Robot Framework and TST test code,ABANDONED,2020-07-15 12:54:01.000000000,2020-07-15 13:11:45.000000000,,[],"[{'number': 1, 'created': '2020-07-15 12:54:01.000000000', 'files': ['specs/victoria/use_robot_api_tests.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/16448078d59e42885e9f6dcdcc27f926b0ea5d70', 'message': 'Use Robot Framework and TST test code\n\nThis proposal aims to efficiently achieve ETSI NFV compliant\nautomated testing by using the Robot Framework and ETSI NFV-TST\nAPI test code.\n\nChange-Id: Id4b254a3239d2522ae0de7bf1d3d6e0a24e13f8f\nBlueprint: use-robot-api-tests\nSigned-off-by: Toshiaki Takahashi <ts-takahashi@nec.com>\n'}]",0,741170,16448078d59e42885e9f6dcdcc27f926b0ea5d70,2,0,1,17255,,,0,"Use Robot Framework and TST test code

This proposal aims to efficiently achieve ETSI NFV compliant
automated testing by using the Robot Framework and ETSI NFV-TST
API test code.

Change-Id: Id4b254a3239d2522ae0de7bf1d3d6e0a24e13f8f
Blueprint: use-robot-api-tests
Signed-off-by: Toshiaki Takahashi <ts-takahashi@nec.com>
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/70/741170/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/use_robot_api_tests.rst'],1,16448078d59e42885e9f6dcdcc27f926b0ea5d70,bp/use-robot-api-tests,"======================================================= Adopt Robot Framework to use ETSI NFV-TST API test code ======================================================= This proposal aims to efficiently achieve ETSI NFV compliant automated testing by using the Robot Framework and ETSI NFV-TST API test codes. The scope here is implementation for using Robot Framework and improvement of the Tacker documentations for ETSI NFV compliance testing. Problem Description =================== Currently Tacker functional tests mainly focus on checking various VNF patterns such as a simple VNF, multi VDU, volume attach and affinity set. Tacker community is advancing ETSI NFV standard compliance, and coverage of compliant API testing becomes important. Proposed Change =============== Our plan is to use Robot Framework [#f1]_ to achieve automated API testing. We adopt API test code released by ETSI NFV-TST010 [#f2]_. The final Tacker test improvement plan is as follows. * Test implementation - Unit tests + Continue current improvement (not related to this spec) - Functional tests + Continue current improvement (not related to this spec) + Expand scenario tests by developing Tacker community robot test codes using Robot Framework (Future work) - Compliant tests + ETSI NFV-TST test using Robot Framework (NFV-TST010 is the first step, others are future work) * Documentation explaining the above to Tacker contributors and users Overview of testing by Robot Framework and ETSI NFV-TST010 test codes: :: +------------------------------------------------------------+ | | | +----------------------------------------+ | | |Tacker repository | | | | +---------------+ +-----------------+ | | | | |Community robot| |Zuul configurtion| | | | | |test code | |.zuul.yaml | | | | | |(future work) | +-----------------+ | | | | +---------------+ | | | | +-------------+ | | | | +--------------+ |playbook | | | | | |testitem.robot| |runrobot.yaml| | | | | +--------------+ +-------------+ | | | +----------------------------------------+ | | | | | +------------+ download (pip) | | | | | Robot framework | | | | python +---------------------+ | | | | repository | | | | | | | | | | | +------------+ | | | | v v | | +-----------------+ download ++---+-+ | | | | robot test code | | | | | ETSI repository +------------------->+ Zuul | | | | api-tests | | | | | | | +-------------+ +---+ | | +-----------------+ | +------+ | | | | | | | | execute execute | | | v v | | +-----+-----+ +---------+--+ | | | | | | | | | Robot | test | Tacker | | | | framework +------->+ (devstack) | | | | | | | | | +-----------+ +------------+ | | | +------------------------------------------------------------+ `testitem.robot` is a list of test cases selected from the test code released by ETSI NFV-TST. It depends on API implementation of Tacker. We also provide the document for testing that describes the criteria and responsibility of Robot Framework for unit tests, functional tests and compliant (includes API) tests. Using Robot Framework is a first step of implementation of compliant tests. The structure of the document is as follows. 1. Summary 2. Testing Framework 3. Development Process 4. Running Tests 5. Coverage Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ None IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- Writing new APIs might require getting/writing ROBOT tests for them, as well as unit and function tests. Community Impact ---------------- Running autometed API test will be available to run. We will discuss with OpenStack QA team if necesarry. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: 1. Toshiaki Takahashi Other contributors: (T.B.D.) Work Items ---------- 1. Make a test list from TST test cases (Choose APIs implemented by Tacker) 2. Make Robot execution playbook * Install Robot Framework * Download test code from ETSI NFV-TST repository * Execute test with the above test list 3. Add the above playbook execution jobs to Zuul setting Dependencies ============ None Testing ======= NFV compliant API tests will be executed in Robot Framework. Tempest Tests ------------- None Functional Tests ---------------- None .. note:: In future, some functional tests are execeted by Robot Framework. API Tests --------- APIs compliant with ETSI NFV-SOL002, 003 and 005 are tested by Robot Framework and test code released by ETSI NFV-TST010. Documentation Impact ==================== User Documentation ------------------ None Developer Documentation ----------------------- We will make documentations about testing policy. References ========== .. [#f1] https://robotframework.org/ .. [#f2] https://forge.etsi.org/rep/nfv/api-tests ",,241,0
openstack%2Fpuppet-designate~master~I494c1e25c98a57b78c779bcd0bf30c92fe70ff0a,openstack/puppet-designate,master,I494c1e25c98a57b78c779bcd0bf30c92fe70ff0a,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-15 06:19:25.000000000,2020-07-15 13:11:34.000000000,2020-07-15 13:09:40.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 06:19:25.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-3d1e14584c143ef2.yaml', 'spec/classes/designate_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/02f935237d0e52b93e12d2ebecd3d5f1cd3e0715', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I494c1e25c98a57b78c779bcd0bf30c92fe70ff0a\n'}]",0,741090,02f935237d0e52b93e12d2ebecd3d5f1cd3e0715,8,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I494c1e25c98a57b78c779bcd0bf30c92fe70ff0a
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/90/741090/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-3d1e14584c143ef2.yaml', 'spec/classes/designate_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,02f935237d0e52b93e12d2ebecd3d5f1cd3e0715,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Fbifrost~master~Id767e76bb0afb91f4176fd02ad1fa33f17325df2,openstack/bifrost,master,Id767e76bb0afb91f4176fd02ad1fa33f17325df2,Removing libselinux-python package from Fedora dependencies,MERGED,2020-07-13 11:41:10.000000000,2020-07-15 12:55:40.000000000,2020-07-14 13:24:57.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-07-13 11:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6e959404f93b1730aeae19294b7d3f3b7faf5d73', 'message': 'Removing libselinux-python package from Fedora dependencies\n\nIn the past releasaes of Fedora, bifrost setup had a dependency on\nlibselinux-python package. In Fedora 32 this package no longer exists\ndue to transition to Python3 and the absence of this package in\nFedora 32 repos this causes the playbook to fail.\n\nThis change removes libselinux-python from Bifrost Fedora dependencies\nand resolves the issue.\n\nChange-Id: Id767e76bb0afb91f4176fd02ad1fa33f17325df2\n'}, {'number': 2, 'created': '2020-07-14 00:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f17a139e0ae9764ef797982be3bccd9662fc5af3', 'message': 'Removing libselinux-python package from Fedora dependencies\n\nIn the past releasaes of Fedora, bifrost setup had a dependency on\nlibselinux-python package. In Fedora 32 this package no longer exists\ndue to transition to Python3 and the absence of this package in\nFedora 32 repos this causes the playbook to fail.\n\nThis change removes libselinux-python from Bifrost Fedora dependencies\nand resolves the issue.\n\nChange-Id: Id767e76bb0afb91f4176fd02ad1fa33f17325df2\n'}, {'number': 3, 'created': '2020-07-14 00:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/37a4b4a748644cfbbeb331205b9bd3999a66811f', 'message': 'Removing libselinux-python package from Fedora dependencies\n\nIn the past releasaes of Fedora, bifrost setup had a dependency on\nlibselinux-python package. In Fedora 32 this package no longer exists\ndue to transition to Python3 and the absence of this package in\nFedora 32 repos this causes the playbook to fail.\n\nThis change removes libselinux-python from Bifrost Fedora dependencies\nand resolves the issue.\n\nChange-Id: Id767e76bb0afb91f4176fd02ad1fa33f17325df2\n'}, {'number': 4, 'created': '2020-07-14 00:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/04540dc3711d0f6f3096ff2df2078ee20c0dfe92', 'message': 'Removing libselinux-python package from Fedora dependencies\n\nIn the past releasaes of Fedora, bifrost setup had a dependency on\nlibselinux-python package. In Fedora 32 this package no longer exists\ndue to transition to Python3 and the absence of this package in\nFedora 32 repos this causes the playbook to fail.\n\nThis change removes libselinux-python from Bifrost Fedora dependencies\nand resolves the issue.\n\nChange-Id: Id767e76bb0afb91f4176fd02ad1fa33f17325df2\n'}, {'number': 5, 'created': '2020-07-14 08:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9300d710ec5f3555761f9c2c183199c50e144e69', 'message': 'Removing libselinux-python package from Fedora dependencies\n\nIn the past releasaes of Fedora, bifrost setup had a dependency on\nlibselinux-python package. In Fedora 32 this package no longer exists\ndue to transition to Python3 and the absence of this package in\nFedora 32 repos this causes the playbook to fail.\n\nThis change removes libselinux-python from Bifrost Fedora dependencies\nand resolves the issue.\n\nChange-Id: Id767e76bb0afb91f4176fd02ad1fa33f17325df2\n'}, {'number': 6, 'created': '2020-07-14 08:15:51.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml', 'releasenotes/notes/releasenote-94bcb2b0da207f94.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f4f456d38770ca9f048d426cf8c6921fc77415ef', 'message': 'Removing libselinux-python package from Fedora dependencies\n\nIn the past releasaes of Fedora, bifrost setup had a dependency on\nlibselinux-python package. In Fedora 32 this package no longer exists\ndue to transition to Python3 and the absence of this package in\nFedora 32 repos this causes the playbook to fail.\n\nThis change removes libselinux-python from Bifrost Fedora dependencies\nand resolves the issue.\n\nChange-Id: Id767e76bb0afb91f4176fd02ad1fa33f17325df2\n'}]",2,740678,f4f456d38770ca9f048d426cf8c6921fc77415ef,20,4,6,32177,,,0,"Removing libselinux-python package from Fedora dependencies

In the past releasaes of Fedora, bifrost setup had a dependency on
libselinux-python package. In Fedora 32 this package no longer exists
due to transition to Python3 and the absence of this package in
Fedora 32 repos this causes the playbook to fail.

This change removes libselinux-python from Bifrost Fedora dependencies
and resolves the issue.

Change-Id: Id767e76bb0afb91f4176fd02ad1fa33f17325df2
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/78/740678/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml']",2,6e959404f93b1730aeae19294b7d3f3b7faf5d73,libselinux-python_fedora32_fix, - python3-libselinux, - libselinux-python,1,2
openstack%2Fironic~master~I07f17a7321582e9829ac422efb51b571a17c5ca8,openstack/ironic,master,I07f17a7321582e9829ac422efb51b571a17c5ca8,Use min_command_interval when ironic does IPMI retries,MERGED,2020-07-10 13:45:17.000000000,2020-07-15 12:54:51.000000000,2020-07-15 12:43:47.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30100}, {'_account_id': 31643}]","[{'number': 1, 'created': '2020-07-10 13:45:17.000000000', 'files': ['releasenotes/notes/ipmi-retries-min-command-interval-070cd7eff5eb74dd.yaml', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7445d9f85cd06b7f919714efebe8ada0f2c25e7', 'message': 'Use min_command_interval when ironic does IPMI retries\n\nFor certain BMCs the default of 1 second is too short for the ipmitool\nminimum command interval (-N).  The configured\n``[ipmi]min_command_interval`` should be used.\n\nStory: 2007914\nTask: 40317\n\nChange-Id: I07f17a7321582e9829ac422efb51b571a17c5ca8\n'}]",0,740466,a7445d9f85cd06b7f919714efebe8ada0f2c25e7,45,9,1,21909,,,0,"Use min_command_interval when ironic does IPMI retries

For certain BMCs the default of 1 second is too short for the ipmitool
minimum command interval (-N).  The configured
``[ipmi]min_command_interval`` should be used.

Story: 2007914
Task: 40317

Change-Id: I07f17a7321582e9829ac422efb51b571a17c5ca8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/740466/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'releasenotes/notes/ipmi-retries-min-command-interval-070cd7eff5eb74dd.yaml', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",3,a7445d9f85cd06b7f919714efebe8ada0f2c25e7,ipmi-min-command-interval," '-N', '5',"," '-N', '1',",8,5
openstack%2Ftripleo-puppet-elements~master~I24acd6d3fe2f4b113eb3391b7c7d1def942a87cd,openstack/tripleo-puppet-elements,master,I24acd6d3fe2f4b113eb3391b7c7d1def942a87cd,add buildah to overcloud-base,MERGED,2020-07-09 22:04:18.000000000,2020-07-15 12:49:35.000000000,2020-07-10 23:34:15.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 22:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/485020129482117c1f250d63a4ded190da8429e4', 'message': 'WIP: add buildah to overcloud-base\n\nChange-Id: I24acd6d3fe2f4b113eb3391b7c7d1def942a87cd\n'}, {'number': 2, 'created': '2020-07-10 11:57:36.000000000', 'files': ['elements/overcloud-base/install.d/package-installs-overcloud-base'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/96199e9c4c31b2762e2436de664a422aca7bad35', 'message': 'add buildah to overcloud-base\n\nbuildah is required on the overcloud for deployment.  In the case\nthat yum repos are not enabled during the deployment this change is\nrequired.\n\nChange-Id: I24acd6d3fe2f4b113eb3391b7c7d1def942a87cd\n'}]",2,740378,96199e9c4c31b2762e2436de664a422aca7bad35,19,9,2,9592,,,0,"add buildah to overcloud-base

buildah is required on the overcloud for deployment.  In the case
that yum repos are not enabled during the deployment this change is
required.

Change-Id: I24acd6d3fe2f4b113eb3391b7c7d1def942a87cd
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/78/740378/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/install.d/package-installs-overcloud-base'],1,485020129482117c1f250d63a4ded190da8429e4,,buildah,,1,0
openstack%2Fcastellan~master~Ia2e15d46eb2e504b815a7f51173aecaf82978402,openstack/castellan,master,Ia2e15d46eb2e504b815a7f51173aecaf82978402,Add to_dict and from_dict conversions to managed objects,MERGED,2020-07-07 10:24:35.000000000,2020-07-15 12:45:11.000000000,2020-07-15 12:42:17.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-07 10:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/4f9cd40006af9507ed8fca073a0b845faeb8952e', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-07 14:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/8fe563c37df6c2a238dfb8212b609af0e81fae8b', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}, {'number': 3, 'created': '2020-07-07 14:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/cfe98d719c29009a7024e3a45882ba88f5626e11', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}, {'number': 4, 'created': '2020-07-08 08:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/10231ca9b94a756497e37dd0ed4cb0aa703665ba', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}, {'number': 5, 'created': '2020-07-08 08:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/b633184420900e1d10ada6ba38ed2c7295005076', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}, {'number': 6, 'created': '2020-07-10 16:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/4c0fac38c63081d93385da80ff3035e9f97b2e5b', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}, {'number': 7, 'created': '2020-07-10 16:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/7f2f513f1ca2dc1716f85273a0f8da2fa1703db3', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}, {'number': 8, 'created': '2020-07-10 17:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/7b70c696d4d91fa187b3ebda22606e62c5c26f4b', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}, {'number': 9, 'created': '2020-07-13 09:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/93538e351db49b64b58e965546b262af4d02b490', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}, {'number': 10, 'created': '2020-07-13 11:44:46.000000000', 'files': ['castellan/common/exception.py', 'castellan/tests/unit/objects/__init__.py', 'releasenotes/notes/add-to-dict-and-from-dict-conversions-to-managed-objects-95a9f0fdbd371a87.yaml', 'castellan/common/objects/__init__.py', 'castellan/common/objects/managed_object.py', 'castellan/common/objects/public_key.py', 'castellan/tests/unit/objects/test_opaque.py', 'castellan/tests/unit/objects/test_symmetric_key.py', 'castellan/common/objects/passphrase.py', 'castellan/common/objects/key.py', 'castellan/common/objects/x_509.py', 'castellan/tests/unit/objects/test_public_key.py', 'castellan/tests/unit/objects/test_x_509.py', 'castellan/common/objects/private_key.py', 'castellan/common/objects/symmetric_key.py', 'castellan/tests/unit/objects/test_private_key.py', 'castellan/common/objects/opaque_data.py', 'castellan/tests/unit/objects/test_passphrase.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/883e9603faf12f7f71f251efe1e24b219abf1e61', 'message': 'Add to_dict and from_dict conversions to managed objects\n\nThis patch centralizes the managed objects conversion in order to be\nused across multiple key_manager backends.\n\nChange-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}]",26,739698,883e9603faf12f7f71f251efe1e24b219abf1e61,27,6,10,27954,,,0,"Add to_dict and from_dict conversions to managed objects

This patch centralizes the managed objects conversion in order to be
used across multiple key_manager backends.

Change-Id: Ia2e15d46eb2e504b815a7f51173aecaf82978402
Signed-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/castellan refs/changes/98/739698/7 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/common/objects/__init__.py', 'castellan/common/objects/managed_object.py', 'castellan/common/objects/public_key.py', 'castellan/tests/unit/objects/test_opaque.py', 'castellan/tests/unit/objects/test_symmetric_key.py', 'castellan/common/objects/passphrase.py', 'castellan/common/objects/key.py', 'castellan/common/objects/x_509.py', 'castellan/tests/unit/objects/test_public_key.py', 'castellan/tests/unit/objects/test_x_509.py', 'castellan/common/objects/private_key.py', 'castellan/common/objects/symmetric_key.py', 'castellan/tests/unit/objects/test_private_key.py', 'castellan/common/objects/opaque_data.py', 'castellan/tests/unit/objects/test_passphrase.py']",15,4f9cd40006af9507ed8fca073a0b845faeb8952e,hvac,from castellan.common import objects def test_to_and_from_dict(self): other = objects.from_dict( self.passphrase.to_dict() ) self.assertTrue(self.passphrase == other),,221,3
openstack%2Frpm-packaging~master~Ib89c11703a5bb4fde1dda7a270cedd2d8e878c11,openstack/rpm-packaging,master,Ib89c11703a5bb4fde1dda7a270cedd2d8e878c11,Update sushy version for victoria to 3.3.0,ABANDONED,2020-07-15 10:25:49.000000000,2020-07-15 12:43:19.000000000,,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-15 10:25:49.000000000', 'files': ['openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5dc980fc59c5892d3610e427f6a73997ad4908d3', 'message': 'Update sushy version for victoria to 3.3.0\n\nChange-Id: Ib89c11703a5bb4fde1dda7a270cedd2d8e878c11\n'}]",0,741142,5dc980fc59c5892d3610e427f6a73997ad4908d3,7,5,1,23851,,,0,"Update sushy version for victoria to 3.3.0

Change-Id: Ib89c11703a5bb4fde1dda7a270cedd2d8e878c11
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/42/741142/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,5dc980fc59c5892d3610e427f6a73997ad4908d3,sushy-victoria-ver,{% set upstream_version = upstream_version('3.3.0') %},{% set upstream_version = upstream_version('3.2.0') %},1,1
openstack%2Fcastellan~master~I2baabd74f0c33514b1ebb9116da4a91d3634ec5e,openstack/castellan,master,I2baabd74f0c33514b1ebb9116da4a91d3634ec5e,migrate testing to ubuntu focal,MERGED,2020-07-14 02:33:14.000000000,2020-07-15 12:23:05.000000000,2020-07-15 12:20:47.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-14 02:33:14.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/c2a9f19f220331e4c8f66857c602c3d5ee938d76', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: I2baabd74f0c33514b1ebb9116da4a91d3634ec5e\n'}]",0,740845,c2a9f19f220331e4c8f66857c602c3d5ee938d76,8,3,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: I2baabd74f0c33514b1ebb9116da4a91d3634ec5e
",git fetch https://review.opendev.org/openstack/castellan refs/changes/45/740845/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c2a9f19f220331e4c8f66857c602c3d5ee938d76,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fpuppet-cloudkitty~master~I2dad56c1d3fdeca153df9a18c7ef4174b3a20848,openstack/puppet-cloudkitty,master,I2dad56c1d3fdeca153df9a18c7ef4174b3a20848,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-15 05:52:04.000000000,2020-07-15 12:09:34.000000000,2020-07-15 12:08:06.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 05:52:04.000000000', 'files': ['spec/classes/cloudkitty_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/keystone-authtoken-interface-77090a8be3a4b464.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/ecce4a20fdcb534014b688efd6a13d6d03cb7a24', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I2dad56c1d3fdeca153df9a18c7ef4174b3a20848\n'}]",0,741087,ecce4a20fdcb534014b688efd6a13d6d03cb7a24,8,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I2dad56c1d3fdeca153df9a18c7ef4174b3a20848
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/87/741087/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cloudkitty_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/keystone-authtoken-interface-77090a8be3a4b464.yaml']",3,ecce4a20fdcb534014b688efd6a13d6d03cb7a24,at-interface,"--- features: - | The new ``cloudkitty::keystone::authtoken::interface`` parameter has been added, which can be used to set the interface parameter in authtoken middleware. ",,15,0
openstack%2Fcharm-cinder~master~I3aded8fbce45192a784bab657e465e1d699128be,openstack/charm-cinder,master,I3aded8fbce45192a784bab657e465e1d699128be,Add Victoria test bundles,MERGED,2020-07-14 09:41:53.000000000,2020-07-15 12:03:34.000000000,2020-07-15 12:03:34.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 09:41:53.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b62b12bbbb7031cdb2b65e35686da8acee245fa6', 'message': 'Add Victoria test bundles\n\nChange-Id: I3aded8fbce45192a784bab657e465e1d699128be\n'}]",0,740926,b62b12bbbb7031cdb2b65e35686da8acee245fa6,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: I3aded8fbce45192a784bab657e465e1d699128be
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/26/740926/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,b62b12bbbb7031cdb2b65e35686da8acee245fa6,victoria-charm-tests,"variables: openstack-origin: &openstack-origin distro series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: network-manager: Neutron debug: true openstack-origin: *openstack-origin to: - '4' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 constraints: mem=1G options: openstack-origin: *openstack-origin to: - '5' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: flat-network-providers: physnet1 neutron-security-groups: true manage-neutron-plugin-legacy-mode: true openstack-origin: *openstack-origin to: - '6' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '7' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: bridge-mappings: physnet1:br-ex openstack-origin: *openstack-origin to: - '8' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '9' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 constraints: mem=4G cores=4 storage: ephemeral-device: '10G' options: config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce #ephemeral-device: /dev/vdb #ephemeral-unmount: /mnt debug: true openstack-origin: *openstack-origin to: - '10' cinder: num_units: 1 storage: block-devices: '40G' options: openstack-origin: *openstack-origin glance-api-version: 2 block-device: None overwrite: ""true"" to: - '11' relations: - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:image-service' - 'glance:image-service' ",,474,1
openstack%2Fcharm-swift-storage~master~Ifc3dd49e6f5263fe323c3a43c01fc9bb4c540643,openstack/charm-swift-storage,master,Ifc3dd49e6f5263fe323c3a43c01fc9bb4c540643,Add Victoria test bundles,MERGED,2020-07-15 08:12:12.000000000,2020-07-15 12:01:57.000000000,2020-07-15 12:01:57.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 08:12:12.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/13cc978538b0848b84daa42d2d6d00f66c88a1de', 'message': 'Add Victoria test bundles\n\nChange-Id: Ifc3dd49e6f5263fe323c3a43c01fc9bb4c540643\n'}]",0,741107,13cc978538b0848b84daa42d2d6d00f66c88a1de,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: Ifc3dd49e6f5263fe323c3a43c01fc9bb4c540643
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/07/741107/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,13cc978538b0848b84daa42d2d6d00f66c88a1de,victoria-charm-tests,"variables: openstack-origin: &openstack-origin distro series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' swift-proxy: charm: cs:~openstack-charmers-next/swift-proxy num_units: 1 options: zone-assignment: manual replicas: 1 swift-hash: fdfef9d4-8b06-11e2-8ac0-531c923c8fae openstack-origin: *openstack-origin to: - '4' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '5' swift-storage: charm: swift-storage num_units: 1 storage: block-devices: 'cinder,10G' options: zone: 1 openstack-origin: *openstack-origin to: - '6' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'swift-proxy:identity-service' - 'keystone:identity-service' - - 'swift-storage:swift-storage' - 'swift-proxy:swift-storage' - - 'glance:object-store' - 'swift-proxy:object-store' ",,214,1
openstack%2Fcharm-ceph-mon~master~Idaacce6069bc40400b13ecff136e4e65382da869,openstack/charm-ceph-mon,master,Idaacce6069bc40400b13ecff136e4e65382da869,Add Victoria test bundles,MERGED,2020-07-14 09:47:19.000000000,2020-07-15 12:01:42.000000000,2020-07-15 12:01:42.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 09:47:19.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/dadbda8c014b13e8ed406c185fb52ebea6de0ada', 'message': 'Add Victoria test bundles\n\nChange-Id: Idaacce6069bc40400b13ecff136e4e65382da869\n'}]",0,740927,dadbda8c014b13e8ed406c185fb52ebea6de0ada,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: Idaacce6069bc40400b13ecff136e4e65382da869
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/27/740927/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,dadbda8c014b13e8ed406c185fb52ebea6de0ada,victoria-charm-tests,variables: openstack-origin: &openstack-origin distro series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': '16': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: '10G' options: source: *openstack-origin osd-devices: '/dev/test-non-existent' to: - '3' - '4' - '5' ceph-mon: charm: ../../../ceph-mon num_units: 3 options: source: *openstack-origin monitor-count: '3' to: - '6' - '7' - '8' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '9' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '10' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin to: - '11' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '12' cinder: expose: True charm: cs:~openstack-charmers-next/cinder num_units: 1 options: block-device: 'None' glance-api-version: '2' openstack-origin: *openstack-origin to: - '13' cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph nova-cloud-controller: expose: True charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin to: - '14' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '15' prometheus2: charm: cs:prometheus2 num_units: 1 to: - '16' relations: - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:ceph' - 'ceph-mon:client' - - nova-compute:ceph-access - cinder-ceph:ceph-access - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'glance:ceph' - 'ceph-mon:client' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:image-service' - 'glance:image-service' - - 'cinder-ceph:storage-backend' - 'cinder:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-mon:client' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement' - 'keystone' - - 'placement' - 'nova-cloud-controller' - - 'ceph-mon:prometheus' - 'prometheus2:target' ,,469,1
openstack%2Fcharm-hacluster~master~I5af31091596098726e269a337f78955ec9b91d44,openstack/charm-hacluster,master,I5af31091596098726e269a337f78955ec9b91d44,Add Victoria test bundles,MERGED,2020-07-15 08:17:59.000000000,2020-07-15 12:00:18.000000000,2020-07-15 12:00:18.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 08:17:59.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e43e1de8ca44561bac74f860fed9659aff7194fc', 'message': 'Add Victoria test bundles\n\nChange-Id: I5af31091596098726e269a337f78955ec9b91d44\n'}]",0,741109,e43e1de8ca44561bac74f860fed9659aff7194fc,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: I5af31091596098726e269a337f78955ec9b91d44
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/09/741109/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,e43e1de8ca44561bac74f860fed9659aff7194fc,victoria-charm-tests,"variables: openstack-origin: &openstack-origin distro series: groovy machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 3 options: token-expiration: 60 openstack-origin: *openstack-origin to: - '3' - '4' - '5' hacluster: charm: ../../../hacluster subordinate-to: - keystone relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'hacluster:ha' - 'keystone:ha' - - ""keystone-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" ",,111,2
openstack%2Fcharm-vault~master~Ie75db3d2b2a592abd6f93a6f3f42ee9f5f5ed74d,openstack/charm-vault,master,Ie75db3d2b2a592abd6f93a6f3f42ee9f5f5ed74d,Add Groovy test bundle,MERGED,2020-07-15 08:25:14.000000000,2020-07-15 11:59:51.000000000,2020-07-15 11:59:51.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 08:25:14.000000000', 'files': ['src/tests/bundles/groovy-mysql8.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/9ebcad834b1ce18e31964550062c22b7d653421a', 'message': 'Add Groovy test bundle\n\nChange-Id: Ie75db3d2b2a592abd6f93a6f3f42ee9f5f5ed74d\n'}]",0,741112,9ebcad834b1ce18e31964550062c22b7d653421a,7,3,1,31289,,,0,"Add Groovy test bundle

Change-Id: Ie75db3d2b2a592abd6f93a6f3f42ee9f5f5ed74d
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/12/741112/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/groovy-mysql8.yaml', 'src/tests/tests.yaml']",2,9ebcad834b1ce18e31964550062c22b7d653421a,victoria-charm-tests,- groovy-mysql8 - groovy-mysql8, - focal-mysql8,101,1
openstack%2Fcharm-ceph-osd~master~I0c0f478bfbc0bc42384d1314338a8ce99846ad19,openstack/charm-ceph-osd,master,I0c0f478bfbc0bc42384d1314338a8ce99846ad19,Add Victoria test bundles,MERGED,2020-07-14 09:51:16.000000000,2020-07-15 11:59:39.000000000,2020-07-15 11:59:39.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 09:51:16.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/50212c8fd0e1ecad43857ad6b17b1a3fc323eb14', 'message': 'Add Victoria test bundles\n\nChange-Id: I0c0f478bfbc0bc42384d1314338a8ce99846ad19\n'}]",0,740928,50212c8fd0e1ecad43857ad6b17b1a3fc323eb14,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: I0c0f478bfbc0bc42384d1314338a8ce99846ad19
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/28/740928/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,50212c8fd0e1ecad43857ad6b17b1a3fc323eb14,victoria-charm-tests,"variables: openstack-origin: &openstack-origin distro series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: ../../../ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: osd-devices: '/dev/test-non-existent' source: *openstack-origin to: - '3' - '4' - '5' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: monitor-count: '3' source: *openstack-origin to: - '6' - '7' - '8' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '9' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '10' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin to: - '11' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '12' cinder: expose: True charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin block-device: 'None' glance-api-version: '2' to: - '13' cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph nova-cloud-controller: expose: True charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin to: - '14' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '15' relations: - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:ceph' - 'ceph-mon:client' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'glance:ceph' - 'ceph-mon:client' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:image-service' - 'glance:image-service' - - 'cinder-ceph:storage-backend' - 'cinder:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-mon:client' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement' - 'keystone' - - 'placement' - 'nova-cloud-controller' - - 'cinder-ceph:ceph-access' - 'nova-compute:ceph-access' ",,447,1
openstack%2Fcharm-rabbitmq-server~master~I0d6ff8d5723d5934e62a2a1b48dea09adbc04a4e,openstack/charm-rabbitmq-server,master,I0d6ff8d5723d5934e62a2a1b48dea09adbc04a4e,Add Victoria test bundles,MERGED,2020-07-15 08:22:12.000000000,2020-07-15 11:57:37.000000000,2020-07-15 11:57:37.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 08:22:12.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/591acf638d54b70543ca1e29981941fea3300fea', 'message': 'Add Victoria test bundles\n\nChange-Id: I0d6ff8d5723d5934e62a2a1b48dea09adbc04a4e\n'}]",0,741110,591acf638d54b70543ca1e29981941fea3300fea,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: I0d6ff8d5723d5934e62a2a1b48dea09adbc04a4e
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/10/741110/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,591acf638d54b70543ca1e29981941fea3300fea,victoria-charm-tests,"variables: openstack-origin: &openstack-origin distro series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: ""../../../rabbitmq-server"" num_units: 3 constraints: cpu-cores=2 options: min-cluster-size: 3 max-cluster-tries: 6 ssl: ""off"" management_plugin: ""False"" stats_cron_schedule: ""*/1 * * * *"" source: *openstack-origin to: - '3' - '4' - '5' cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin to: - '6' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin admin-password: openstack to: - '7' nrpe: charm: cs:nrpe relations: - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nrpe:nrpe-external-master' - 'rabbitmq-server:nrpe-external-master' ",,185,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I671b770304345d780de4720b5693c1b9991f1ef8,openstack/tripleo-heat-templates,stable/rocky,I671b770304345d780de4720b5693c1b9991f1ef8,Added OctaviaDeploymentConfig to deployed server role,MERGED,2020-06-23 19:04:16.000000000,2020-07-15 11:57:35.000000000,2020-07-15 11:57:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-06-23 19:04:16.000000000', 'files': ['deployed-server/deployed-server-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a535835bff6a52aa11fccce9aa71c8fe02484d30', 'message': 'Added OctaviaDeploymentConfig to deployed server role\n\nThe Octavia ansible deployment tasks are missing from deployed server\nrole. This is only relevant for stein and older branches.\n\nChange-Id: I671b770304345d780de4720b5693c1b9991f1ef8\nCloses-Bug: #1864915\n(cherry picked from commit 38af103fc563a71eaeabc03793d218c11ddb57a2)\n'}]",0,737605,a535835bff6a52aa11fccce9aa71c8fe02484d30,19,7,1,6681,,,0,"Added OctaviaDeploymentConfig to deployed server role

The Octavia ansible deployment tasks are missing from deployed server
role. This is only relevant for stein and older branches.

Change-Id: I671b770304345d780de4720b5693c1b9991f1ef8
Closes-Bug: #1864915
(cherry picked from commit 38af103fc563a71eaeabc03793d218c11ddb57a2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/737605/1 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/deployed-server-roles-data.yaml'],1,a535835bff6a52aa11fccce9aa71c8fe02484d30,bug/1864915, - OS::TripleO::Services::OctaviaDeploymentConfig,,1,0
openstack%2Fcharm-nova-cell-controller~master~Ifdf419bf0877dbd725eb3a018dfdba6d615cf42b,openstack/charm-nova-cell-controller,master,Ifdf419bf0877dbd725eb3a018dfdba6d615cf42b,Add Victoria test bundles,MERGED,2020-07-15 08:33:19.000000000,2020-07-15 11:56:51.000000000,2020-07-15 11:56:51.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 08:33:19.000000000', 'files': ['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/729e6c39612eb77468627808c107dc8b9fb4346b', 'message': 'Add Victoria test bundles\n\nChange-Id: Ifdf419bf0877dbd725eb3a018dfdba6d615cf42b\n'}]",0,741114,729e6c39612eb77468627808c107dc8b9fb4346b,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: Ifdf419bf0877dbd725eb3a018dfdba6d615cf42b
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/14/741114/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",3,729e6c39612eb77468627808c107dc8b9fb4346b,victoria-charm-tests,dev_bundles: - groovy-victoria - focal-victoria - groovy-victoria, - focal-ussuri,583,1
openstack%2Fcharm-pacemaker-remote~master~I93210fe0a7c6cf9d23feabebfd77f5c32804c1ed,openstack/charm-pacemaker-remote,master,I93210fe0a7c6cf9d23feabebfd77f5c32804c1ed,Add Groovy test bundle,MERGED,2020-07-15 08:46:25.000000000,2020-07-15 11:55:40.000000000,2020-07-15 11:55:40.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 08:46:25.000000000', 'files': ['src/tests/bundles/groovy-basic.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/93fb74be3585df7e2489834f8f1798c8cc5fe6e2', 'message': 'Add Groovy test bundle\n\nChange-Id: I93210fe0a7c6cf9d23feabebfd77f5c32804c1ed\n'}]",0,741119,93fb74be3585df7e2489834f8f1798c8cc5fe6e2,7,3,1,31289,,,0,"Add Groovy test bundle

Change-Id: I93210fe0a7c6cf9d23feabebfd77f5c32804c1ed
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/19/741119/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/groovy-basic.yaml', 'src/tests/tests.yaml']",2,93fb74be3585df7e2489834f8f1798c8cc5fe6e2,victoria-charm-tests,dev_bundles: - groovy-basic - groovy-basic, - focal-basic,37,1
openstack%2Fcharm-octavia-dashboard~master~I1aaa698f8fac0b6cb8b441fc726bdd7179fe7822,openstack/charm-octavia-dashboard,master,I1aaa698f8fac0b6cb8b441fc726bdd7179fe7822,Add Victoria test bundles,MERGED,2020-07-15 08:49:03.000000000,2020-07-15 11:53:07.000000000,2020-07-15 11:53:07.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 08:49:03.000000000', 'files': ['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/bf82390d486452d56c3ed3a9cc1b8935d1c544ee', 'message': 'Add Victoria test bundles\n\nChange-Id: I1aaa698f8fac0b6cb8b441fc726bdd7179fe7822\n'}]",0,741120,bf82390d486452d56c3ed3a9cc1b8935d1c544ee,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: I1aaa698f8fac0b6cb8b441fc726bdd7179fe7822
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/20/741120/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",3,bf82390d486452d56c3ed3a9cc1b8935d1c544ee,victoria-charm-tests,- groovy-victoria - focal-victoria - groovy-victoria, - focal-ussuri,275,1
openstack%2Fcharm-cinder-backup-swift-proxy~master~I45ef775ad177e52b2ac6eaccd196c9518d25c03c,openstack/charm-cinder-backup-swift-proxy,master,I45ef775ad177e52b2ac6eaccd196c9518d25c03c,Add focal and ussuri test bundles to the charm,MERGED,2020-05-22 16:56:06.000000000,2020-07-15 11:50:37.000000000,2020-07-15 11:50:37.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-05-22 16:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/861d3c6d5fc75184caab0b803dd8639acd3d5e81', 'message': 'Add focal and ussuri test bundles to the charm\n\nNote: this will fail due to Bug: #1865754 which affects os-brick and\nCeph Octopus in focal.  This can be landed or the focal-ussuri bundle\ndisabled to a dev bundle whilst waiting on the fix.\n\nChange-Id: I45ef775ad177e52b2ac6eaccd196c9518d25c03c\nCloses-Bug: #1879684\nRelated-Bug: #1865754\n'}, {'number': 2, 'created': '2020-07-15 09:59:58.000000000', 'files': ['src/tests/bundles/focal-ussuri-swift-v3.yaml', 'src/tests/bundles/bionic-queens-swift-v2.yaml', 'src/tests/bundles/bionic-queens-swift-v3.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/4755bf6b74902baa1fa56e707e056ad2d1f594e8', 'message': 'Add focal and ussuri test bundles to the charm\n\nNote: this will fail due to Bug: #1865754 which affects os-brick and\nCeph Octopus in focal.  This can be landed or the focal-ussuri bundle\ndisabled to a dev bundle whilst waiting on the fix.\n\nChange-Id: I45ef775ad177e52b2ac6eaccd196c9518d25c03c\nCloses-Bug: #1879684\nRelated-Bug: #1865754\n'}]",0,730377,4755bf6b74902baa1fa56e707e056ad2d1f594e8,12,4,2,20870,,,0,"Add focal and ussuri test bundles to the charm

Note: this will fail due to Bug: #1865754 which affects os-brick and
Ceph Octopus in focal.  This can be landed or the focal-ussuri bundle
disabled to a dev bundle whilst waiting on the fix.

Change-Id: I45ef775ad177e52b2ac6eaccd196c9518d25c03c
Closes-Bug: #1879684
Related-Bug: #1865754
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/77/730377/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-ussuri-swift-v3.yaml', 'src/tests/bundles/bionic-queens-swift-v2.yaml', 'src/tests/bundles/bionic-queens-swift-v3.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml']",5,861d3c6d5fc75184caab0b803dd8639acd3d5e81,bug/1865754, - focal-ussuri-swift-v3,,338,52
openstack%2Fcharm-neutron-dynamic-routing~master~Id71a99b13dcd586294fadd6df3d711ccbd539dbb,openstack/charm-neutron-dynamic-routing,master,Id71a99b13dcd586294fadd6df3d711ccbd539dbb,Add Victoria test bundles,MERGED,2020-07-15 10:19:53.000000000,2020-07-15 11:50:13.000000000,2020-07-15 11:50:13.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 10:19:53.000000000', 'files': ['src/tests/bundles/groovy-victoria-functional.yaml', 'src/tests/bundles/focal-victoria-functional.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/5c178e8176f56a7a09058fbb62a321405cfc7b14', 'message': 'Add Victoria test bundles\n\nChange-Id: Id71a99b13dcd586294fadd6df3d711ccbd539dbb\n'}]",0,741137,5c178e8176f56a7a09058fbb62a321405cfc7b14,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: Id71a99b13dcd586294fadd6df3d711ccbd539dbb
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/37/741137/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/groovy-victoria-functional.yaml', 'src/tests/bundles/focal-victoria-functional.yaml', 'src/tests/tests.yaml']",3,5c178e8176f56a7a09058fbb62a321405cfc7b14,victoria-charm-tests,- groovy-victoria-functional - focal-victoria-functional - groovy-victoria-functional, - focal-ussuri-functional,229,1
openstack%2Fcharm-keystone-ldap~master~Ia20a78726f7eb72e5d060bb9d88607cd3292dc5a,openstack/charm-keystone-ldap,master,Ia20a78726f7eb72e5d060bb9d88607cd3292dc5a,Add Victoria test bundles,MERGED,2020-07-15 10:45:46.000000000,2020-07-15 11:49:36.000000000,2020-07-15 11:49:36.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 10:45:46.000000000', 'files': ['src/tests/basic_deployment.py', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/ba2f2c2081b071621778604dbf600b936ca2933b', 'message': 'Add Victoria test bundles\n\nChange-Id: Ia20a78726f7eb72e5d060bb9d88607cd3292dc5a\n'}]",0,741153,ba2f2c2081b071621778604dbf600b936ca2933b,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: Ia20a78726f7eb72e5d060bb9d88607cd3292dc5a
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/53/741153/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/basic_deployment.py', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",4,ba2f2c2081b071621778604dbf600b936ca2933b,victoria-charm-tests, - focal-victoria - groovy-victoria - groovy-victoria, - bionic-train - focal-ussuri,119,162
openstack%2Ftempest~master~I4c68caa693744e06de6be89a8f09d8f7e8ce8ba0,openstack/tempest,master,I4c68caa693744e06de6be89a8f09d8f7e8ce8ba0,Unstable test_server_connectivity_cold_migration_revert,MERGED,2020-06-23 07:51:32.000000000,2020-07-15 11:30:52.000000000,2020-07-15 11:28:56.000000000,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-06-23 07:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1afd33932c5a2c5bae0c7c97a2b5c0e29c119d1b', 'message': 'Unskip test_server_connectivity_cold_migration_revert\n\nThe bug which was the reason for skipping the bug has got expired\nwhich suggests that the test is no longer causing problems.\n\nChange-Id: I4c68caa693744e06de6be89a8f09d8f7e8ce8ba0\nRelated-Bug: #1836595\n'}, {'number': 2, 'created': '2020-06-23 16:46:21.000000000', 'files': ['tempest/scenario/test_network_advanced_server_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fba44537c75e2d586055ff1467d77af073913b1d', 'message': ""Unstable test_server_connectivity_cold_migration_revert\n\nThe bug which was the reason for skipping the bug has got expired\nwhich suggests that the test is no longer causing problems.\nJust to make sure the test works, let's mark the test as unstable\nfor a while.\n\nChange-Id: I4c68caa693744e06de6be89a8f09d8f7e8ce8ba0\nRelated-Bug: #1836595\n""}]",0,737453,fba44537c75e2d586055ff1467d77af073913b1d,26,6,2,22873,,,0,"Unstable test_server_connectivity_cold_migration_revert

The bug which was the reason for skipping the bug has got expired
which suggests that the test is no longer causing problems.
Just to make sure the test works, let's mark the test as unstable
for a while.

Change-Id: I4c68caa693744e06de6be89a8f09d8f7e8ce8ba0
Related-Bug: #1836595
",git fetch https://review.opendev.org/openstack/tempest refs/changes/53/737453/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_advanced_server_ops.py'],1,1afd33932c5a2c5bae0c7c97a2b5c0e29c119d1b,unskip,, @decorators.skip_because(bug='1836595'),0,1
openstack%2Freno~master~Ibb272dbf289af05e306dda67545c26d41edbb938,openstack/reno,master,Ibb272dbf289af05e306dda67545c26d41edbb938,[trivial] Use opendev url for source code link,MERGED,2020-07-15 10:00:45.000000000,2020-07-15 11:20:56.000000000,2020-07-15 11:19:26.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 10:00:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/reno/commit/46d51b5cd0ee64ee0db532f274b03d1799a183cf', 'message': '[trivial] Use opendev url for source code link\n\nChange-Id: Ibb272dbf289af05e306dda67545c26d41edbb938\n'}]",0,741131,46d51b5cd0ee64ee0db532f274b03d1799a183cf,7,2,1,23851,,,0,"[trivial] Use opendev url for source code link

Change-Id: Ibb272dbf289af05e306dda67545c26d41edbb938
",git fetch https://review.opendev.org/openstack/reno refs/changes/31/741131/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,46d51b5cd0ee64ee0db532f274b03d1799a183cf,opendev-link,* Source: https://opendev.org/openstack/reno/,* Source: https://git.openstack.org/cgit/openstack/reno,1,1
openstack%2Ftacker~master~Ifa5a203f3b8c67bf6a4807d5988876d586cb3951,openstack/tacker,master,Ifa5a203f3b8c67bf6a4807d5988876d586cb3951,Fix for broken link,MERGED,2020-07-13 07:58:28.000000000,2020-07-15 10:58:22.000000000,2020-07-15 10:56:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 27621}, {'_account_id': 27880}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-07-13 07:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4abc633a5c3d8dbf17a5524c60ae28fa9f4e3b0e', 'message': 'The Tacker Installation Guide has an incorrect link in Mistral workflows for Tacker page. The Reference section has an incorrect link for Mistral Client/CLI Guide, as per page link is https://docs.openstack.org/mistral/latest/install/mistralclient_guide.html whereas the correct link is https://docs.openstack.org/mistral/latest/admin/install/mistralclient_guide.html . Closes-Bug: #1880545\n\nChange-Id: Ifa5a203f3b8c67bf6a4807d5988876d586cb3951\n'}, {'number': 2, 'created': '2020-07-13 08:36:23.000000000', 'files': ['doc/source/reference/mistral_workflows_usage_guide.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/9f46fd751c60fec8f1a3c380d6ff3a2c0365712d', 'message': 'Fix for broken link\n\nTacker Installation Guide has an incorrect link in Mistral workflows\nfor Tacker page. The Reference section has an incorrect link for\nMistral Client/CLI Guide, as per page link is [1] whereas the\ncorrect link is [2].\n[1] https://docs.openstack.org/mistral/latest/install/mistralclient_guide.html\n[2] https://docs.openstack.org/mistral/latest/admin/install/mistralclient_guide.html\n\nCloses-Bug: #1880545\nChange-Id: Ifa5a203f3b8c67bf6a4807d5988876d586cb3951\n'}]",2,740628,9f46fd751c60fec8f1a3c380d6ff3a2c0365712d,14,6,2,32102,,,0,"Fix for broken link

Tacker Installation Guide has an incorrect link in Mistral workflows
for Tacker page. The Reference section has an incorrect link for
Mistral Client/CLI Guide, as per page link is [1] whereas the
correct link is [2].
[1] https://docs.openstack.org/mistral/latest/install/mistralclient_guide.html
[2] https://docs.openstack.org/mistral/latest/admin/install/mistralclient_guide.html

Closes-Bug: #1880545
Change-Id: Ifa5a203f3b8c67bf6a4807d5988876d586cb3951
",git fetch https://review.opendev.org/openstack/tacker refs/changes/28/740628/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/mistral_workflows_usage_guide.rst'],1,4abc633a5c3d8dbf17a5524c60ae28fa9f4e3b0e,bug/1880545,- `Mistral Client / CLI Guide <https://docs.openstack.org/mistral/latest/admin/install/mistralclient_guide.html>`_.,- `Mistral Client / CLI Guide <https://docs.openstack.org/mistral/latest/install/mistralclient_guide.html>`_.,1,1
openstack%2Ftripleo-heat-templates~master~Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9,openstack/tripleo-heat-templates,master,Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9,Don't use pacemaker in ironic sa job,MERGED,2019-09-16 16:48:02.000000000,2020-07-15 10:56:46.000000000,2020-02-03 12:10:43.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-09-16 16:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34bbc7c578ddb872f47425e386bf1f1394cf82fc', 'message': ""WIP: don't use pacemaker in ironic sa job\n\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 2, 'created': '2019-09-17 01:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96dda668ae97d76096fa64080bfc399c7a031ff6', 'message': ""Don't use pacemaker in ironic sa job\n\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 3, 'created': '2019-09-19 19:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2078f111e255c01bd91742d7bd15a0f10a306890', 'message': ""Don't use pacemaker in ironic sa job\n\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 4, 'created': '2019-09-20 05:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbacc03cb9b572ffcdac1055746cb16f4cdb12ab', 'message': ""Don't use pacemaker in ironic sa job\n\nAnd remove Docker resource\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 5, 'created': '2019-09-20 13:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb210ca7c48d1abd99e3d042d92a29a546f108fe', 'message': ""Don't use pacemaker in ironic sa job\n\nAnd remove Docker resource\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 6, 'created': '2019-09-30 10:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ada82bf5ff23d6322463636d4ed505c437496ca', 'message': ""Don't use pacemaker in ironic sa job\n\nAnd remove Docker resource\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 7, 'created': '2019-10-27 12:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0cdd6a972c8edb44c925ff2388c4102cf396801', 'message': ""Don't use pacemaker in ironic sa job\n\nAnd remove Docker resource\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 8, 'created': '2019-10-28 17:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f9b271957c1774baab6f89318680945c07c5d9e', 'message': ""Don't use pacemaker in ironic sa job\n\nAnd remove Docker resource\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 9, 'created': '2019-12-10 13:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a87bc5ddd872fa7c7639d57739ac5438c43bc6cc', 'message': ""Don't use pacemaker in ironic sa job\n\nAnd remove Docker resource\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 10, 'created': '2019-12-12 06:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48cb458a6e5ad91160a3c6e98be9554a13e689a1', 'message': ""Don't use pacemaker in ironic sa job\n\nAnd remove Docker resource\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 11, 'created': '2020-01-12 16:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06b9c8a990477ebb649e1a62af6d2e269c8b0e25', 'message': ""Don't use pacemaker in ironic sa job\n\nAnd remove Docker resource\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 12, 'created': '2020-01-14 13:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37f856268dbf742c234ced048874fa8fbf639e70', 'message': ""Don't use pacemaker in ironic sa job\n\n- Stop using Pacemaker in Ironic Standalone job\n- Remove EndpointMap from vbmc setup, not needed anymore since\n  clouds.yaml is now generated by Ansible.\n- Remove Docker resource (and use Podman)\n\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 13, 'created': '2020-01-14 18:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6d582a1288b81d82f049d1f3c570983ff6a853b', 'message': ""Don't use pacemaker in ironic sa job\n\n- Stop using Pacemaker in Ironic Standalone job\n- Remove EndpointMap from post_deploy and vbmc setup, not needed anymore since\n  clouds.yaml is now generated by Ansible.\n- Remove Docker resource (and use Podman)\n\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 14, 'created': '2020-01-14 22:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a357f1bcd3a2965ce81863128a98d9ca1e28b4b', 'message': ""Don't use pacemaker in ironic sa job\n\n- Stop using Pacemaker in Ironic Standalone job\n- Remove Docker resource (and use Podman)\n- Add missing EndpointMap to ci/common/ironic_standalone_post.yaml\n\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 15, 'created': '2020-01-27 16:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71b49c9dd28636061db286ee51b132fd65c98a7b', 'message': ""Don't use pacemaker in ironic sa job\n\n- Stop using Pacemaker in Ironic Standalone job\n- Remove Docker resource (and use Podman)\n- Add missing EndpointMap to ci/common/ironic_standalone_post.yaml\n\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}, {'number': 16, 'created': '2020-02-01 19:16:36.000000000', 'files': ['ci/environments/scenario012-standalone.yaml', 'ci/common/ironic_standalone_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42168c4acc062f71d2b3a147bef684420fcb298b', 'message': ""Don't use pacemaker in ironic sa job\n\n- Stop using Pacemaker in Ironic Standalone job\n- Remove Docker resource (and use Podman)\n- Add missing EndpointMap to ci/common/ironic_standalone_post.yaml\n\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n""}]",4,682410,42168c4acc062f71d2b3a147bef684420fcb298b,102,9,16,10969,,,0,"Don't use pacemaker in ironic sa job

- Stop using Pacemaker in Ironic Standalone job
- Remove Docker resource (and use Podman)
- Add missing EndpointMap to ci/common/ironic_standalone_post.yaml

Change-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/682410/16 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario012-standalone.yaml'],1,34bbc7c578ddb872f47425e386bf1f1394cf82fc,,, # These enable Pacemaker OS::TripleO::Services::OsloMessagingRpc: ../../deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml OS::TripleO::Services::OsloMessagingNotify: ../../deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml OS::TripleO::Services::HAproxy: ../../deployment/haproxy/haproxy-pacemaker-puppet.yaml OS::TripleO::Services::Pacemaker: ../../deployment/pacemaker/pacemaker-baremetal-puppet.yaml OS::TripleO::Services::PacemakerRemote: ../../deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml OS::TripleO::Services::Clustercheck: ../../deployment/pacemaker/clustercheck-container-puppet.yaml OS::TripleO::Services::MySQL: ../../deployment/database/mysql-pacemaker-puppet.yaml,0,8
openstack%2Fkolla~stable%2Frocky~I6068abcbc0e73eeab77b0aa99983a95adc6defd3,openstack/kolla,stable/rocky,I6068abcbc0e73eeab77b0aa99983a95adc6defd3,Fix multiple issues,MERGED,2020-06-28 09:55:07.000000000,2020-07-15 10:56:27.000000000,2020-07-15 10:56:27.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-28 09:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a19a942192fece6649ccd4b27d66b4db44f5e42', 'message': 'CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 2, 'created': '2020-06-28 14:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8ee3a835bfb98db46b9ba92ddca9da4a1b15771b', 'message': 'CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\nStops installing ansible (this is the build part, kolla-ansible has its\nown repo and jobs).\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 3, 'created': '2020-06-29 11:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/91dfc93479a2a03de670074157ce146013396970', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 4, 'created': '2020-07-01 15:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6e166c591cc70ac829fbb7f0bf004c4d75eb2110', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\nStops installing ansible (this is the build part, kolla-ansible has its\nown repo and jobs).\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 5, 'created': '2020-07-02 11:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/745e3692aef306f2e31825ce88d954fafc0eb431', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 6, 'created': '2020-07-02 16:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/86c5d2d271a303e8386b6ad43d0981b8d449313c', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 7, 'created': '2020-07-06 09:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d84b0a0b191e8d279bd61a673bd4e70efedced0', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 8, 'created': '2020-07-06 12:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b4054a69d41c1e6f0cfcd8275fd567d377f9d8a6', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 9, 'created': '2020-07-14 06:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7751ac27b78e1074b25ac6ffd1dc7ec6e228f1fb', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 10, 'created': '2020-07-14 07:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/84d61cb57a08211e55c8d96cd4351cc5d968822a', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 11, 'created': '2020-07-14 07:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bdf6901ea244a27d66e14bbbcd4907dd83691389', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 12, 'created': '2020-07-14 08:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fdb138fef15bb82921f596bffe302a8db1f3df90', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 13, 'created': '2020-07-14 08:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e177b2721c7708cd5a7ef5a69be1ad0e7a5edb25', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 14, 'created': '2020-07-14 09:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/189445790ca2ed0a023e8323bc6d700fb77d8620', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 15, 'created': '2020-07-14 09:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c0db5aec4372b50584df0006eb88cded32ab929d', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 16, 'created': '2020-07-14 09:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/683c327780a5dc893085ec50fb6e54e9ff7943ea', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 17, 'created': '2020-07-14 11:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d6b2d065205fcc04f400155b95bba1937ee6a61d', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 18, 'created': '2020-07-14 11:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6f2e1821922df3de4ba06c27ee5e991665fe9e1b', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 19, 'created': '2020-07-14 12:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/87a1b121609e3582b5a2d961d0acd50eef2b292e', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 20, 'created': '2020-07-14 12:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb2ef2813a815b8d3149aa834308b2b0e59b1dd8', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 21, 'created': '2020-07-14 12:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0a9e98816028be40e63812bef76e62f940f4cc79', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}, {'number': 22, 'created': '2020-07-14 13:09:14.000000000', 'files': ['kolla/image/build.py', 'tests/playbooks/pre.yml', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'tools/gate_run.sh', 'kolla/common/config.py', 'docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5b64da9f319162c9d17e2894d8f5b0658d661e75', 'message': 'Fix multiple issues\n\n1. Fix monasca-grafana by pinning more Ruby gems\n\nchildprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.\n\n2. Bump bifrost to 6.0.4\n\nBifrost had a fix to stop using the master branch of DIB which dropped\nsupport for Python 2.\n\n3. Drop docker-client from OracleLinux sensu-client image\n\nThe package fails to install due to a missing dependency on\nsubscription-manager.\n\nCloses-Bug: #1882070\n(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)\n\n3. CI: Install python deps, mark oraclelinux rsyslog as skipped\n\nsetuptools is missing from infra image - so it needs to be installed.\n\nCopy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/\n\nDisables rsyslog build on oraclelinux (both source and binary) and\ntripleoclient (binary).\n\n4. Stops installing ansible (this is the build part, kolla-ansible has\nits own repo and jobs).\n\n5. Use stable/rocky branch for bifrost\n\nPulls in a fix for diskimage-builder on python 2.\n\nDepends-On: https://review.opendev.org/738343\nDepends-On: https://review.opendev.org/740953\n\nChange-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3\n(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)\n'}]",0,738344,5b64da9f319162c9d17e2894d8f5b0658d661e75,47,5,22,14826,,,0,"Fix multiple issues

1. Fix monasca-grafana by pinning more Ruby gems

childprocess 3.0.0 and ffi 1.13.0 depend on Ruby 2.3.

2. Bump bifrost to 6.0.4

Bifrost had a fix to stop using the master branch of DIB which dropped
support for Python 2.

3. Drop docker-client from OracleLinux sensu-client image

The package fails to install due to a missing dependency on
subscription-manager.

Closes-Bug: #1882070
(cherry picked from commit 3784d32d9ceacf0dad8057092752f1ae7be37ed3)

3. CI: Install python deps, mark oraclelinux rsyslog as skipped

setuptools is missing from infra image - so it needs to be installed.

Copy cat of a kolla-ansible change: https://review.opendev.org/#/c/735808/

Disables rsyslog build on oraclelinux (both source and binary) and
tripleoclient (binary).

4. Stops installing ansible (this is the build part, kolla-ansible has
its own repo and jobs).

5. Use stable/rocky branch for bifrost

Pulls in a fix for diskimage-builder on python 2.

Depends-On: https://review.opendev.org/738343
Depends-On: https://review.opendev.org/740953

Change-Id: I6068abcbc0e73eeab77b0aa99983a95adc6defd3
(cherry picked from commit d12137ce64fab7e8436aa1c2e32e3bc6ed47c1a1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/738344/5 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'tests/playbooks/pre.yml', 'tools/gate_run.sh']",3,4a19a942192fece6649ccd4b27d66b4db44f5e42,bug/1882070,~/tox-venv/bin/tox -e $ACTION-$BASE_DISTRO-$INSTALL_TYPE,tox -e $ACTION-$BASE_DISTRO-$INSTALL_TYPE,47,1
openstack%2Fkolla-ansible~stable%2Frocky~I4ba5ab897e44f0fb73aaa3c6248a8f340c9c4cad,openstack/kolla-ansible,stable/rocky,I4ba5ab897e44f0fb73aaa3c6248a8f340c9c4cad,CI: Remove wheels extra-index,MERGED,2020-07-14 13:08:10.000000000,2020-07-15 10:52:35.000000000,2020-07-15 10:50:49.000000000,"[{'_account_id': 22348}, {'_account_id': 28182}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-14 13:08:10.000000000', 'files': ['tests/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e848a4d4f37af7e61187c46d1e0e7f8963706d64', 'message': 'CI: Remove wheels extra-index\n\npkg_resources installation is failing on virtualenv creation in Xenial with\n404 error on downloading pkg_resources from wheel repo,\nremoving extra-index-url from /etc/pip.conf solves the issue.\n\nWithout this change - kolla-ansible jobs launched by kolla changes will not\npass.\n\nChange-Id: I4ba5ab897e44f0fb73aaa3c6248a8f340c9c4cad\n'}]",0,740953,e848a4d4f37af7e61187c46d1e0e7f8963706d64,9,3,1,22629,,,0,"CI: Remove wheels extra-index

pkg_resources installation is failing on virtualenv creation in Xenial with
404 error on downloading pkg_resources from wheel repo,
removing extra-index-url from /etc/pip.conf solves the issue.

Without this change - kolla-ansible jobs launched by kolla changes will not
pass.

Change-Id: I4ba5ab897e44f0fb73aaa3c6248a8f340c9c4cad
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/740953/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/pre.yml'],1,e848a4d4f37af7e61187c46d1e0e7f8963706d64,fix_tox_kolla, - name: Remove wheels extra-index from pip.conf become: true lineinfile: path: /etc/pip.conf regexp: '^extra-index-url' state: absent ,,7,0
openstack%2Fneutron~stable%2Fussuri~Id1ed2922a908148b2b271bd28cc974ef424530d5,openstack/neutron,stable/ussuri,Id1ed2922a908148b2b271bd28cc974ef424530d5,[OVN] Fix db-sync-util Traceback when port security not enabled,MERGED,2020-07-01 09:24:38.000000000,2020-07-15 10:52:11.000000000,2020-07-15 10:49:00.000000000,"[{'_account_id': 1131}, {'_account_id': 13686}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-01 09:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c352fdd9e1f84600f9180c2133ad37e53f9885e', 'message': '[OVN] Fix db-sync-util Traceback when port security not enabled\n\nChange-Id: Id1ed2922a908148b2b271bd28cc974ef424530d5\nCloses-Bug: #1882061\n(cherry picked from commit 58d1d0dbddd3299537f67b0fdee906918fd4bb6f)\n'}, {'number': 2, 'created': '2020-07-03 22:31:05.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34c93c6c77d131861ec9bd282fa153477f893f48', 'message': '[OVN] Fix db-sync-util Traceback when port security not enabled\n\nChange-Id: Id1ed2922a908148b2b271bd28cc974ef424530d5\nCloses-Bug: #1882061\n(cherry picked from commit 58d1d0dbddd3299537f67b0fdee906918fd4bb6f)\n(add newline in neutron/tests/unit/common/ovn/test_utils.py to resolve merge\n conflict with https://review.opendev.org/#/c/738214/)\n'}]",0,738769,34c93c6c77d131861ec9bd282fa153477f893f48,20,6,2,13686,,,0,"[OVN] Fix db-sync-util Traceback when port security not enabled

Change-Id: Id1ed2922a908148b2b271bd28cc974ef424530d5
Closes-Bug: #1882061
(cherry picked from commit 58d1d0dbddd3299537f67b0fdee906918fd4bb6f)
(add newline in neutron/tests/unit/common/ovn/test_utils.py to resolve merge
 conflict with https://review.opendev.org/#/c/738214/)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/738769/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",4,0c352fdd9e1f84600f9180c2133ad37e53f9885e,bug/1882202-stable/ussuri,# The name of the port security group attribute is currently not in neutron nor # neutron-lib api definitions or constants. To avoid importing the extension # code directly we keep a copy here. PORT_SECURITYGROUPS = 'security_groups' ,,17,2
openstack%2Fnova~master~I901fbd7df00e45196395ff4c69e7b8aa3359edf6,openstack/nova,master,I901fbd7df00e45196395ff4c69e7b8aa3359edf6,objects: Introduce 'pcpuset' field for InstanceNUMACell,MERGED,2020-03-24 14:30:00.000000000,2020-07-15 10:52:04.000000000,2020-07-15 10:49:05.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30077}, {'_account_id': 30209}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-03-24 14:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da3a3b3e2c7c89ee88ced64375b1053d777fd97d', 'message': ""[WIP] An alternative way for keeping instance dedicated CPUs\n\nIn the preceding patches, 'InstanceNUMACell.cpu_pinning' is\nextended to keep the instance dedicated CPUs, in the key, for\nthe mixed CPU instance.\n\nThis patch tries to provide an alternative way for the same\npurpose of keeping dedicated CPUs, through adding a field,\nnamed 'pcpuset', to 'InstanceNUMACell' object.\n\nThis patch is based on the 'cpu_pinning' approach, so a lot of code\nthat was added before, not in upstream, is withdrawn.\n\nTry to compare the pros and cons of the two ways and fininally\nmake a choice between them.\n\nWorking in progress. A lot of existing unit tests need to be\ncleaned.\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\n""}, {'number': 2, 'created': '2020-03-26 16:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b975b88919825beb708cd27926a3dcfdbaa7e453', 'message': ""[WIP] An alternative way for keeping instance dedicated CPUs\n\nIn the preceding patches, 'InstanceNUMACell.cpu_pinning' is\nextended to keep the instance dedicated CPUs, in the key, for\nthe mixed CPU instance.\n\nThis patch tries to provide an alternative way for the same\npurpose of keeping dedicated CPUs, through adding a field,\nnamed 'pcpuset', to 'InstanceNUMACell' object.\n\nThis patch is based on the 'cpu_pinning' approach, so a lot of code\nthat was added before, not in upstream, is withdrawn.\n\nTry to compare the pros and cons of the two ways and fininally\nmake a choice between them.\n\nupdate 2020/3/27\nThis patch makes the existing unit tests and functional tests\npassed. But still have several 'MustDo' items should be\naccomplished before becomes a patch for review.\n\nBut if you like you can find if the alternative works, if it\nworks then I'll abandom the 'cpu_pinning' approach.\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 3, 'created': '2020-03-31 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f757e1fec708ae637dc740565971f8ad8e78a9b3', 'message': ""Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to InstanceNUMACell object for tracking\nthe dedicated instance CPUs. And and current 'cpuset' field is\nassinged a specific role of tracking the instance virtual node\nshared CPUs.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\n""}, {'number': 4, 'created': '2020-04-02 16:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3f34b80f6b7a4a2404938536115964137659378', 'message': ""Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to InstanceNUMACell object for tracking\nthe dedicated instance CPUs. And and current 'cpuset' field is\nassinged a specific role of tracking the instance virtual node\nshared CPUs.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\n""}, {'number': 5, 'created': '2020-04-07 08:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8afcdd706606c449391bab974db31987c4b78536', 'message': ""Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to InstanceNUMACell object for tracking\nthe dedicated instance CPUs. And and current 'cpuset' field is\nassinged a specific role of tracking the instance virtual node\nshared CPUs.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\n""}, {'number': 6, 'created': '2020-04-08 02:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/772302c5f0ed123024d9a6db39eaf3a294c1530e', 'message': ""Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to InstanceNUMACell object for tracking\nthe dedicated instance CPUs. And and current 'cpuset' field is\nassinged a specific role of tracking the instance virtual node\nshared CPUs.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-04-08 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/faf05f8ac48a9a45afde45cb092e47bc84f3f241', 'message': ""Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to InstanceNUMACell object for tracking\nthe dedicated instance CPUs. And and current 'cpuset' field is\nassinged a specific role of tracking the instance virtual node\nshared CPUs.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 8, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/152452479408148effa186d00398d69171412e4b', 'message': ""Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to InstanceNUMACell object for tracking\nthe dedicated instance CPUs. And and current 'cpuset' field is\nassinged a specific role of tracking the instance virtual node\nshared CPUs.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 9, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42118fefe1bb98a8482b2db12eed84dc4accf945', 'message': ""Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to 'InstanceNUMACell' object for\ntracking the dedicated instance CPUs. And the\n'InstanceNUMACell.cpuset' is switched to keep the instance\n'shared' CPUs which are sharing host CPU time-slot with\nCPUs from other instances.\n\nThis introduced some object data migration task for an\nexisiting instance that is in the 'dedicated' CPU allocation\npolicy with the fact that all the CPUs are 1:1 pinned with\nhost CPUs, and it requires to clear the content of\n'InstanceNUMACell.cpuset' and move it to\n'InstanceNUMACell.pcpuset' field.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 10, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b31a819499d7312fcfe5a87dca9a342462eea3e', 'message': ""Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to 'InstanceNUMACell' object for\ntracking the dedicated instance CPUs. And the\n'InstanceNUMACell.cpuset' is switched to keep the instance\n'shared' CPUs which are sharing host CPU time-slot with\nCPUs from other instances.\n\nThis introduced some object data migration task for an\nexisiting instance that is in the 'dedicated' CPU allocation\npolicy with the fact that all the CPUs are 1:1 pinned with\nhost CPUs, and it requires to clear the content of\n'InstanceNUMACell.cpuset' and move it to\n'InstanceNUMACell.pcpuset' field.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 11, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c78c83ce56f11471f37459e982dd77989daf1144', 'message': ""objects: Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to 'InstanceNUMACell' object for tracking the\ndedicated instance CPUs. The 'InstanceNUMACell.cpuset' is switched to\nkeep the instance 'shared' CPUs which are sharing host CPU time-slot\nwith CPUs from other instances.\n\nThis introduces some object data migration task for an existing instance\nthat is in the 'dedicated' CPU allocation policy with the fact that all\nthe CPUs are 1:1 pinned with host CPUs, and it requires to clear the\ncontent of 'InstanceNUMACell.cpuset' and move it to\n'InstanceNUMACell.pcpuset' field.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 12, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76c981c2cf759113fab1a19a1369324e52c20067', 'message': ""objects: Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to 'InstanceNUMACell' object for tracking the\ndedicated instance CPUs. The 'InstanceNUMACell.cpuset' is switched to\nkeep the instance 'shared' CPUs which are sharing host CPU time-slot\nwith CPUs from other instances.\n\nThis introduces some object data migration task for an existing instance\nthat is in the 'dedicated' CPU allocation policy with the fact that all\nthe CPUs are 1:1 pinned with host CPUs, and it requires to clear the\ncontent of 'InstanceNUMACell.cpuset' and move it to\n'InstanceNUMACell.pcpuset' field.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 13, 'created': '2020-07-02 09:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/007d1a12c41fd8318c8529621572ca4f0f2689cd', 'message': ""objects: Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to 'InstanceNUMACell' object for tracking the\ndedicated instance CPUs. The 'InstanceNUMACell.cpuset' is switched to\nkeep the instance 'shared' CPUs which are sharing host CPU time-slot\nwith CPUs from other instances.\n\nThis introduces some object data migration task for an existing instance\nthat is in the 'dedicated' CPU allocation policy with the fact that all\nthe CPUs are 1:1 pinned with host CPUs, and it requires to clear the\ncontent of 'InstanceNUMACell.cpuset' and move it to\n'InstanceNUMACell.pcpuset' field.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 14, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9b82d813350342de1794da60e4e271f54b23eef', 'message': ""objects: Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to 'InstanceNUMACell' object to track the\ninstance pinned CPUs. The 'InstanceNUMACell.cpuset' is switched to\nkeep the instance unpinned CPUs only. As a result, the vCPUs of a\ndedicated instance is tracked in NUMA cell object's 'pcpuset', and\nvCPUs of a shared instance is put into the 'cpuset' field.\n\nThis introduces some object data migration task for an existing instance\nthat is in the 'dedicated' CPU allocation policy with the fact that all\nthe CPUs are 1:1 pinned with host CPUs, and it requires to clear the\ncontent of 'InstanceNUMACell.cpuset' and move it to\n'InstanceNUMACell.pcpuset' field.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 15, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b8ee15f254d77e8e8d93c7748e7454fa56a12a4', 'message': ""objects: Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to 'InstanceNUMACell' object to track the\ninstance pinned CPUs. The 'InstanceNUMACell.cpuset' is switched to\nkeep the instance unpinned CPUs only. As a result, the vCPUs of a\ndedicated instance is tracked in NUMA cell object's 'pcpuset', and\nvCPUs of a shared instance is put into the 'cpuset' field.\n\nThis introduces some object data migration task for an existing instance\nthat is in the 'dedicated' CPU allocation policy with the fact that all\nthe CPUs are 1:1 pinned with host CPUs, and it requires to clear the\ncontent of 'InstanceNUMACell.cpuset' and move it to\n'InstanceNUMACell.pcpuset' field.\n\nThis patch is based on https://review.opendev.org/714707 and\nhttps://review.opendev.org/714705.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 16, 'created': '2020-07-13 16:39:18.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/functional/api_sample_tests/test_server_topology.py', 'nova/tests/unit/objects/test_instance_numa.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/objects/instance_numa.py', 'nova/tests/unit/api/openstack/compute/test_server_topology.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/virt/hardware.py', 'nova/api/openstack/compute/server_topology.py', 'nova/tests/unit/fake_request_spec.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/policies/test_server_topology.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/867d4471013bf6a70cd3e9e809daf80ea358df92', 'message': ""objects: Introduce 'pcpuset' field for InstanceNUMACell\n\nIntroduce the 'pcpuset' to 'InstanceNUMACell' object to track the\ninstance pinned CPUs. The 'InstanceNUMACell.cpuset' is switched to\nkeep the instance unpinned CPUs only. As a result, the vCPUs of a\ndedicated instance is tracked in NUMA cell object's 'pcpuset', and\nvCPUs of a shared instance is put into the 'cpuset' field.\n\nThis introduces some object data migration task for an existing instance\nthat is in the 'dedicated' CPU allocation policy with the fact that all\nthe CPUs are 1:1 pinned with host CPUs, and it requires to clear the\ncontent of 'InstanceNUMACell.cpuset' and move it to\n'InstanceNUMACell.pcpuset' field.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",145,714658,867d4471013bf6a70cd3e9e809daf80ea358df92,196,16,16,30209,,,0,"objects: Introduce 'pcpuset' field for InstanceNUMACell

Introduce the 'pcpuset' to 'InstanceNUMACell' object to track the
instance pinned CPUs. The 'InstanceNUMACell.cpuset' is switched to
keep the instance unpinned CPUs only. As a result, the vCPUs of a
dedicated instance is tracked in NUMA cell object's 'pcpuset', and
vCPUs of a shared instance is put into the 'cpuset' field.

This introduces some object data migration task for an existing instance
that is in the 'dedicated' CPU allocation policy with the fact that all
the CPUs are 1:1 pinned with host CPUs, and it requires to clear the
content of 'InstanceNUMACell.cpuset' and move it to
'InstanceNUMACell.pcpuset' field.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I901fbd7df00e45196395ff4c69e7b8aa3359edf6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/714658/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/objects/instance_numa.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,da3a3b3e2c7c89ee88ced64375b1053d777fd97d,bp/use-pcpu-and-vcpu-in-one-instance," id=3, cpuset=set([0, 1]), pcpuset=set([2, 3]), memory=1024, id=0, cpuset=set([4, 5, 6]), pcpuset=set([7]), memory=1024, id=0, cpuset=set([0, 1]), pcpuset=set([2]), memory=1024, id=0, cpuset=set([2]), pcpuset=set([0, 1]), id=3, cpuset=set([3]), pcpuset=set([4, 5]),"," id=3, cpuset=set([0, 1, 2, 3]), memory=1024, id=0, cpuset=set([4, 5, 6, 7]), memory=1024, id=0, cpuset=set([0, 1, 2]), memory=1024, id=0, cpuset=set([0, 1, 2]), id=3, cpuset=set([3, 4, 5]),",97,117
openstack%2Ftacker-horizon~master~Ifad05db26b8bc390711f2b51aa77b4bb3eb0bb54,openstack/tacker-horizon,master,Ifad05db26b8bc390711f2b51aa77b4bb3eb0bb54,Fix for broken link in Tacker Horizon Guide.,MERGED,2020-07-14 10:08:53.000000000,2020-07-15 10:49:16.000000000,2020-07-15 10:47:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 27621}, {'_account_id': 27880}]","[{'number': 1, 'created': '2020-07-14 10:08:53.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/7d2e9344353eafe63a07fa5b0b0a1de599b9d078', 'message': 'Fix for broken link in Tacker Horizon Guide.\n\nThe Tacker Horizon has a broken link for Tacker-Horizon docs.\nPresent link [1] has a misspelled word ""lastest"" which should\nbe ""latest"".The correct link is [2].\n\n[1] https://docs.openstack.org/tacker-horizon/lastest\n[2] https://docs.openstack.org/tacker-horizon/latest\n\nChange-Id: Ifad05db26b8bc390711f2b51aa77b4bb3eb0bb54\nCloses-Bug: #1879962\n'}]",0,740932,7d2e9344353eafe63a07fa5b0b0a1de599b9d078,10,5,1,32102,,,0,"Fix for broken link in Tacker Horizon Guide.

The Tacker Horizon has a broken link for Tacker-Horizon docs.
Present link [1] has a misspelled word ""lastest"" which should
be ""latest"".The correct link is [2].

[1] https://docs.openstack.org/tacker-horizon/lastest
[2] https://docs.openstack.org/tacker-horizon/latest

Change-Id: Ifad05db26b8bc390711f2b51aa77b4bb3eb0bb54
Closes-Bug: #1879962
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/32/740932/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,7d2e9344353eafe63a07fa5b0b0a1de599b9d078,bug/1879962,* Tacker-horizon docs: https://docs.openstack.org/tacker-horizon/latest,* Tacker-horizon docs: https://docs.openstack.org/tacker-horizon/lastest,1,1
openstack%2Ffreezer-web-ui~stable%2Ftrain~I57c8899580e8cb53d9de8e2b1c8b9c47ca132821,openstack/freezer-web-ui,stable/train,I57c8899580e8cb53d9de8e2b1c8b9c47ca132821,Imported Translations from Zanata,NEW,2019-11-19 08:34:41.000000000,2020-07-15 10:28:52.000000000,,"[{'_account_id': 1736}, {'_account_id': 5202}, {'_account_id': 11151}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-19 08:34:41.000000000', 'files': ['disaster_recovery/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/54280ec7e1ab4120dcd8f325b529cbd76cdc28dc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I57c8899580e8cb53d9de8e2b1c8b9c47ca132821\n'}]",0,694941,54280ec7e1ab4120dcd8f325b529cbd76cdc28dc,7,10,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I57c8899580e8cb53d9de8e2b1c8b9c47ca132821
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/41/694941/1 && git format-patch -1 --stdout FETCH_HEAD,['disaster_recovery/locale/ko_KR/LC_MESSAGES/django.po'],1,54280ec7e1ab4120dcd8f325b529cbd76cdc28dc,zanata/translations,"# Hongjae Kim <neo415ha@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-09-27 17:52+0000\n""""PO-Revision-Date: 2019-11-19 05:29+0000\n"" ""Last-Translator: Hongjae Kim <neo415ha@gmail.com>\n""msgid """" ""Engine to be used for backup/restore. With tar, the file inode will be "" ""checked for changes amid backup execution. If the file inode changed, the "" ""whole file will be backed up. With rsync, the data blocks changes will be "" ""verified and only the changed blocks will be backed up. Tar is faster, but "" ""is uses more space and bandwidth. Rsync is slower, but uses less space and "" ""bandwidth. Nova engine can be used to backup/restore running instances. "" ""Backing up instances and it's metadata."" msgstr """" ""/  . tar      inode  "" ""   .  inode    . rsync "" ""        .   "" ""     . Rsync     "" "".    /  Nova    . "" ""   ."" ","""POT-Creation-Date: 2018-02-02 09:52+0000\n""""PO-Revision-Date: 2018-01-24 07:06+0000\n"" ""Last-Translator: SEOKJAE BARK <sj.bark@samsung.com>\n""",20,3
openstack%2Fneutron~master~I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb,openstack/neutron,master,I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb,migration: Use ansible-inventory to parse tripleo inventory,MERGED,2020-06-26 14:13:24.000000000,2020-07-15 10:28:38.000000000,2020-07-14 14:40:32.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29350}]","[{'number': 1, 'created': '2020-06-26 14:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9b87fa13fb0c21cd3985661d43b486c2cc7caeb', 'message': 'migration: Use ansible-inventory to parse tripleo inventory\n\nInstead of adapting to changes to the tripleo inventory structure let\nansible parse it for us using ansible-inventory.\n\nChange-Id: I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb\nRelated-bug: #1884764\n'}, {'number': 2, 'created': '2020-06-29 11:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c82cba60ec65c616615890cd028667441678191', 'message': 'migration: Use ansible-inventory to parse tripleo inventory\n\nInstead of adapting to changes to the tripleo inventory structure let\nansible parse it for us using ansible-inventory.\n\nChange-Id: I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb\nRelated-bug: #1884764\n'}, {'number': 3, 'created': '2020-07-02 10:19:18.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa6491a9d91bb5aab6bfaba81cf3a82279a551f7', 'message': 'migration: Use ansible-inventory to parse tripleo inventory\n\nInstead of adapting to changes to the tripleo inventory structure let\nansible parse it for us using ansible-inventory.\n\nChange-Id: I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb\nCloses-bug: #1884764\n'}]",1,738212,aa6491a9d91bb5aab6bfaba81cf3a82279a551f7,23,6,3,23811,,,0,"migration: Use ansible-inventory to parse tripleo inventory

Instead of adapting to changes to the tripleo inventory structure let
ansible parse it for us using ansible-inventory.

Change-Id: I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb
Closes-bug: #1884764
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/738212/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,e9b87fa13fb0c21cd3985661d43b486c2cc7caeb,adopt_tripleo_change," host_vars=$(ansible-inventory -i ""$inventory_file"" --host ""$host_name"" 2>/dev/null) if [[ $? -eq 0 ]]; then echo ""$host_vars"" | jq -r \.ansible_host echo $host_nameget_group_hosts() { group_name=$2 group_graph=$(ansible-inventory -i ""$inventory_file"" --graph ""$group_name"" 2>/dev/null) if [[ $? -eq 0 ]]; then echo ""$group_graph"" | sed -ne 's/^[ \t|]\+--\([a-z0-9\-]\+\)$/\1/p' else echo """" fi /usr/bin/tripleo-ansible-inventory --static-yaml-inventory /tmp/ansible-inventory.txt OVN_DBS=$(get_group_hosts /tmp/ansible-inventory.txt neutron_api) OVN_CONTROLLERS=$(get_group_hosts /tmp/ansible-inventory.txt neutron_ovs_agent)"," ip=`jq -r --arg role _meta --arg hostname $host_name 'to_entries[] | select(.key == $role) | .value.hostvars[$hostname].ansible_host' $inventory_file` if [[ ""x$ip"" == ""x"" ]] || [[ ""x$ip"" == ""xnull"" ]]; then # This file does not provide translation from the hostname to the IP, or # we already have an IP (Queens backwards compatibility) echo $host_name echo $ipget_role_hosts() { role_name=$2 cloud_roles=$(jq -r \.$role_name\.children\[\] $inventory_file) for cloud_role in $cloud_roles; do roles=$(jq -r \.$cloud_role\.children\[\] $inventory_file 2> /dev/null) if [ $? -ne 0 ]; then roles=$cloud_roles fi for role in $roles; do hosts=$(jq -r --arg role ""$role"" 'to_entries[] | select(.key == $role) | .value.hosts[]' $inventory_file) HOSTS=""${hosts} ${HOSTS}"" done done echo $HOSTS /usr/bin/tripleo-ansible-inventory --list > /tmp/ansible-inventory.txt OVN_DBS=$(get_role_hosts /tmp/ansible-inventory.txt neutron_api) OVN_CONTROLLERS=$(get_role_hosts /tmp/ansible-inventory.txt neutron_ovs_agent)",15,23
openstack%2Fpython-tripleoclient~stable%2Fussuri~I08b447379ae6e267f8dff11e6e703a991918683c,openstack/python-tripleoclient,stable/ussuri,I08b447379ae6e267f8dff11e6e703a991918683c,[stable-only] Use folder with plan name for config download export,MERGED,2020-06-23 08:48:50.000000000,2020-07-15 10:25:26.000000000,2020-07-12 23:40:36.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 08:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0246b6d3d89baf8eb4e96dcec9d530b2b3a22dbd', 'message': '[stable-only] Use folder with plan name for config download export\n\nTo be consistent with auto config-download and overcloud export\ncreate subfloder with plan/stack name.\n\nChange-Id: I08b447379ae6e267f8dff11e6e703a991918683c\nCloses-Bug: #1884246\n'}, {'number': 2, 'created': '2020-06-23 12:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9ee83ba809c28a618ed9171acfd536b2bf4588b3', 'message': '[stable-only] Use folder with plan name for config download export\n\nTo be consistent with auto config-download and overcloud export\ncreate subfloder with plan/stack name.\n\nChange-Id: I08b447379ae6e267f8dff11e6e703a991918683c\nCloses-Bug: #1884246\n'}, {'number': 3, 'created': '2020-07-02 10:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f207147582beea13750681647009c75453d56751', 'message': '[stable-only] Use folder with plan name for config download export\n\nTo be consistent with auto config-download and overcloud export\ncreate subfloder with plan/stack name.\n\nChange-Id: I08b447379ae6e267f8dff11e6e703a991918683c\nCloses-Bug: #1884246\n'}, {'number': 4, 'created': '2020-07-03 04:49:01.000000000', 'files': ['tripleoclient/tests/v1/overcloud_config/test_overcloud_config.py', 'tripleoclient/v1/overcloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46c9aa552f7ff7ce392d065d0da2c36bf4037ee8', 'message': '[stable-only] Use folder with plan name for config download export\n\nTo be consistent with auto config-download and overcloud export\ncreate subfloder with plan/stack name.\n\nChange-Id: I08b447379ae6e267f8dff11e6e703a991918683c\nCloses-Bug: #1884246\n'}]",0,737458,46c9aa552f7ff7ce392d065d0da2c36bf4037ee8,29,6,4,8833,,,0,"[stable-only] Use folder with plan name for config download export

To be consistent with auto config-download and overcloud export
create subfloder with plan/stack name.

Change-Id: I08b447379ae6e267f8dff11e6e703a991918683c
Closes-Bug: #1884246
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/58/737458/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_config.py'],1,0246b6d3d89baf8eb4e96dcec9d530b2b3a22dbd,," work_dir = os.path.join(config_dir, name) self.create_config_dir(work_dir, preserve_config_dir) tarball_path = os.path.join(work_dir, tarball_name) cmd = ['/usr/bin/tar', '-C', work_dir, '-xf', tarball_path] ""into: {0}"".format(work_dir))"," self.create_config_dir(config_dir, preserve_config_dir) tarball_path = os.path.join(config_dir, tarball_name) cmd = ['/usr/bin/tar', '-C', config_dir, '-xf', tarball_path] ""into: {0}"".format(config_dir))",6,4
openstack%2Ftripleo-heat-templates~master~I1626e16376da07b887d06089f556faf907b24c35,openstack/tripleo-heat-templates,master,I1626e16376da07b887d06089f556faf907b24c35,Check for correct column name for execution show,MERGED,2020-07-01 03:25:09.000000000,2020-07-15 10:24:57.000000000,2020-07-14 00:04:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-01 03:25:09.000000000', 'files': ['deployed-server/scripts/enable-ssh-admin.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cf9a5a8abda86fa50a232d2d5ff010b9ddd61c3', 'message': ""Check for correct column name for execution show\n\nUse 'State' instead of 'state'.\n\nChange-Id: I1626e16376da07b887d06089f556faf907b24c35\nRelated-Bug: #1876646\n""}]",0,738726,9cf9a5a8abda86fa50a232d2d5ff010b9ddd61c3,10,4,1,8833,,,0,"Check for correct column name for execution show

Use 'State' instead of 'state'.

Change-Id: I1626e16376da07b887d06089f556faf907b24c35
Related-Bug: #1876646
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/738726/1 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/scripts/enable-ssh-admin.sh'],1,9cf9a5a8abda86fa50a232d2d5ff010b9ddd61c3,, RESULT=$(openstack workflow execution show -f value -c State $execution_id), RESULT=$(openstack workflow execution show -f value -c state $execution_id),1,1
openstack%2Fneutron~stable%2Fussuri~I6e36ccb8cf4846a1eb11619e7c339a0fc193c4f6,openstack/neutron,stable/ussuri,I6e36ccb8cf4846a1eb11619e7c339a0fc193c4f6,Default OVN_BRANCH and OVS_BRANCH to latest stable,ABANDONED,2020-07-15 10:16:50.000000000,2020-07-15 10:17:30.000000000,,[],"[{'number': 1, 'created': '2020-07-15 10:16:50.000000000', 'files': ['devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0ed224dbb7a402cd597298f0315fdfef05bac2d', 'message': ""Default OVN_BRANCH and OVS_BRANCH to latest stable\n\nIf other openstack project uses Neutron with OVN\n(as enable_plugin ... neutron) and doesn't specify\nOVN_BRANCH and OVS_BRANCH variables in configuration\nit will use master branch of those two repositories.\n\nMaster branch servers for OVN testing and aligning OVN\nNeutron driver with new features.\n\nFor now we don't have voting OVN master CI job, to ensure that\neverything is fine with it, so we should default OVN for other\nprojects to the latest stable version that we know works properly.\n\nChange-Id: I6e36ccb8cf4846a1eb11619e7c339a0fc193c4f6\n(cherry picked from commit e0e3086b465a91a010b6a21fdd2e70c12f583283)\n""}]",0,741135,f0ed224dbb7a402cd597298f0315fdfef05bac2d,2,0,1,24791,,,0,"Default OVN_BRANCH and OVS_BRANCH to latest stable

If other openstack project uses Neutron with OVN
(as enable_plugin ... neutron) and doesn't specify
OVN_BRANCH and OVS_BRANCH variables in configuration
it will use master branch of those two repositories.

Master branch servers for OVN testing and aligning OVN
Neutron driver with new features.

For now we don't have voting OVN master CI job, to ensure that
everything is fine with it, so we should default OVN for other
projects to the latest stable version that we know works properly.

Change-Id: I6e36ccb8cf4846a1eb11619e7c339a0fc193c4f6
(cherry picked from commit e0e3086b465a91a010b6a21fdd2e70c12f583283)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/741135/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ovn_agent'],1,f0ed224dbb7a402cd597298f0315fdfef05bac2d,,OVN_BRANCH=${OVN_BRANCH:-v20.03.0}OVS_BRANCH=${OVS_BRANCH:-v2.13.0},OVN_BRANCH=${OVN_BRANCH:-master}OVS_BRANCH=${OVS_BRANCH:-master},2,2
openstack%2Fmistral~stable%2Fussuri~Ic46d3d711a03fbd6364809a0fddcbb48f3e28d2a,openstack/mistral,stable/ussuri,Ic46d3d711a03fbd6364809a0fddcbb48f3e28d2a,Add a migration that deletes redundant delayed calls,MERGED,2020-07-13 07:15:15.000000000,2020-07-15 10:02:27.000000000,2020-07-15 10:00:43.000000000,"[{'_account_id': 308}, {'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-07-13 07:15:15.000000000', 'files': ['mistral/db/sqlalchemy/migration/alembic_migrations/versions/038_delete_delayed_calls_with_empty_key.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2a1736f0709d7316ae9b7bf6fa9b488c7a342009', 'message': 'Add a migration that deletes redundant delayed calls\n\n* Due to the bug https://bugs.launchpad.net/mistral/+bug/1861988\n  some Mistral installations may have redundant delayed calls with\n  the empty ""key"" column. This patch adds a DB migration that cleans\n  them up.\n\nChange-Id: Ic46d3d711a03fbd6364809a0fddcbb48f3e28d2a\nCloses-Bug: #1887335\n'}]",0,740622,2a1736f0709d7316ae9b7bf6fa9b488c7a342009,21,8,1,8731,,,0,"Add a migration that deletes redundant delayed calls

* Due to the bug https://bugs.launchpad.net/mistral/+bug/1861988
  some Mistral installations may have redundant delayed calls with
  the empty ""key"" column. This patch adds a DB migration that cleans
  them up.

Change-Id: Ic46d3d711a03fbd6364809a0fddcbb48f3e28d2a
Closes-Bug: #1887335
",git fetch https://review.opendev.org/openstack/mistral refs/changes/22/740622/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/db/sqlalchemy/migration/alembic_migrations/versions/038_delete_delayed_calls_with_empty_key.py'],1,2a1736f0709d7316ae9b7bf6fa9b488c7a342009,bug/1887335-stable/ussuri,"# Copyright 2020 Nokia Software. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Delete delayed calls with key=NULL. Revision ID: 038 Revises: 037 Create Date: 2020-7-13 13:20:00 """""" # revision identifiers, used by Alembic. from alembic import op import sqlalchemy as sa from sqlalchemy.sql import table, column revision = '038' down_revision = '037' def upgrade(): # See https://bugs.launchpad.net/mistral/+bug/1861988. # Due to this bug there may be redundant delayed calls in DB. # We need to delete all rows where the ""key"" column is None. session = sa.orm.Session(bind=op.get_bind()) delayed_calls = table('delayed_calls_v2', column('key')) with session.begin(subtransactions=True): session.execute( delayed_calls.delete().where(delayed_calls.c.key==None) # noqa ) session.commit() ",,47,0
openstack%2Fneutron~stable%2Fqueens~I689d5135b7194475c846731d846ccf6b25b80b4a,openstack/neutron,stable/queens,I689d5135b7194475c846731d846ccf6b25b80b4a,[DVR] Related routers should be included if are requested,MERGED,2020-07-10 13:31:04.000000000,2020-07-15 09:48:25.000000000,2020-07-15 09:48:24.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 13:31:04.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/800be7b518e6933b654f820381cd73f8daa8945e', 'message': '[DVR] Related routers should be included if are requested\n\nIn case when related dvr router is configured by L3 agent, it is first\nadded to the tasks queue and then processed as any other router hosted\non the L3 agent.\nBut if L3 agent will ask neutron server about details of such router,\nit wasn\'t returned back as this router wasn\'t really scheduled to the\ncompute node which was asking for it. It was ""only"" related to some\nother router scheduled to this compute node. Because of that router\'s\ninfo wasn\'t found in reply from the neutron-server and L3 agent was\nremoving it from the compute node.\n\nNow _get_router_ids_for_agent method from the l3_dvrscheduler_db module\nwill check router serviceable ports for each dvr router hosted on the\ncompute node and will then find all routers related to it. Thanks to\nthat it will return routers which are on the compute node only because\nof other related routers scheduled to this host and such router will not\nbe deleted anymore.\n\nChange-Id: I689d5135b7194475c846731d846ccf6b25b80b4a\nCloses-Bug: #1884527\n(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)\n'}]",0,740463,800be7b518e6933b654f820381cd73f8daa8945e,9,4,1,11975,,,0,"[DVR] Related routers should be included if are requested

In case when related dvr router is configured by L3 agent, it is first
added to the tasks queue and then processed as any other router hosted
on the L3 agent.
But if L3 agent will ask neutron server about details of such router,
it wasn't returned back as this router wasn't really scheduled to the
compute node which was asking for it. It was ""only"" related to some
other router scheduled to this compute node. Because of that router's
info wasn't found in reply from the neutron-server and L3 agent was
removing it from the compute node.

Now _get_router_ids_for_agent method from the l3_dvrscheduler_db module
will check router serviceable ports for each dvr router hosted on the
compute node and will then find all routers related to it. Thanks to
that it will return routers which are on the compute node only because
of other related routers scheduled to this host and such router will not
be deleted anymore.

Change-Id: I689d5135b7194475c846731d846ccf6b25b80b4a
Closes-Bug: #1884527
(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/740463/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",2,800be7b518e6933b654f820381cd73f8daa8945e,bug/1884527-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens," def test__get_router_ids_for_agent_related_router(self): router1 = self._create_router() router2 = self._create_router() router3 = self._create_router() arg_list = (portbindings.HOST_ID,) dvr_l3_agent = helpers.register_l3_agent( host=""host1"", agent_mode=constants.L3_AGENT_MODE_DVR) host = dvr_l3_agent['host'] with self.subnet() as wan_subnet,\ self.subnet(cidr='20.0.0.0/24') as subnet1,\ self.subnet(cidr='30.0.0.0/24') as subnet2,\ self.subnet(cidr='40.0.0.0/24') as subnet3,\ self.port(subnet=wan_subnet) as wan_port1,\ self.port(subnet=wan_subnet) as wan_port2,\ self.port(subnet=subnet1, device_owner=constants.DEVICE_OWNER_DHCP, arg_list=arg_list, **{portbindings.HOST_ID: host}): self.l3_plugin.add_router_interface( self.context, router1['id'], {'subnet_id': subnet1['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'subnet_id': subnet2['subnet']['id']}) # Router3 is here just to be sure that it will not be returned as # is not related to the router1 and router2 in any way self.l3_plugin.add_router_interface( self.context, router3['id'], {'subnet_id': subnet3['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router1['id'], {'port_id': wan_port1['port']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'port_id': wan_port2['port']['id']}) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, []) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router2['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router1['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ",,65,4
openstack%2Fneutron~stable%2Frocky~I689d5135b7194475c846731d846ccf6b25b80b4a,openstack/neutron,stable/rocky,I689d5135b7194475c846731d846ccf6b25b80b4a,[DVR] Related routers should be included if are requested,MERGED,2020-07-10 13:30:47.000000000,2020-07-15 09:37:25.000000000,2020-07-15 09:37:24.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 13:30:47.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/afb359f3719a99adff25b4c13e697fb548922456', 'message': '[DVR] Related routers should be included if are requested\n\nIn case when related dvr router is configured by L3 agent, it is first\nadded to the tasks queue and then processed as any other router hosted\non the L3 agent.\nBut if L3 agent will ask neutron server about details of such router,\nit wasn\'t returned back as this router wasn\'t really scheduled to the\ncompute node which was asking for it. It was ""only"" related to some\nother router scheduled to this compute node. Because of that router\'s\ninfo wasn\'t found in reply from the neutron-server and L3 agent was\nremoving it from the compute node.\n\nNow _get_router_ids_for_agent method from the l3_dvrscheduler_db module\nwill check router serviceable ports for each dvr router hosted on the\ncompute node and will then find all routers related to it. Thanks to\nthat it will return routers which are on the compute node only because\nof other related routers scheduled to this host and such router will not\nbe deleted anymore.\n\nChange-Id: I689d5135b7194475c846731d846ccf6b25b80b4a\nCloses-Bug: #1884527\n(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)\n'}]",0,740462,afb359f3719a99adff25b4c13e697fb548922456,9,4,1,11975,,,0,"[DVR] Related routers should be included if are requested

In case when related dvr router is configured by L3 agent, it is first
added to the tasks queue and then processed as any other router hosted
on the L3 agent.
But if L3 agent will ask neutron server about details of such router,
it wasn't returned back as this router wasn't really scheduled to the
compute node which was asking for it. It was ""only"" related to some
other router scheduled to this compute node. Because of that router's
info wasn't found in reply from the neutron-server and L3 agent was
removing it from the compute node.

Now _get_router_ids_for_agent method from the l3_dvrscheduler_db module
will check router serviceable ports for each dvr router hosted on the
compute node and will then find all routers related to it. Thanks to
that it will return routers which are on the compute node only because
of other related routers scheduled to this host and such router will not
be deleted anymore.

Change-Id: I689d5135b7194475c846731d846ccf6b25b80b4a
Closes-Bug: #1884527
(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/740462/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",2,afb359f3719a99adff25b4c13e697fb548922456,bug/1884527-stable/ussuri-stable/train-stable/stein-stable/rocky," def test__get_router_ids_for_agent_related_router(self): router1 = self._create_router() router2 = self._create_router() router3 = self._create_router() arg_list = (portbindings.HOST_ID,) dvr_l3_agent = helpers.register_l3_agent( host=""host1"", agent_mode=constants.L3_AGENT_MODE_DVR) host = dvr_l3_agent['host'] with self.subnet() as wan_subnet,\ self.subnet(cidr='20.0.0.0/24') as subnet1,\ self.subnet(cidr='30.0.0.0/24') as subnet2,\ self.subnet(cidr='40.0.0.0/24') as subnet3,\ self.port(subnet=wan_subnet) as wan_port1,\ self.port(subnet=wan_subnet) as wan_port2,\ self.port(subnet=subnet1, device_owner=constants.DEVICE_OWNER_DHCP, arg_list=arg_list, **{portbindings.HOST_ID: host}): self.l3_plugin.add_router_interface( self.context, router1['id'], {'subnet_id': subnet1['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'subnet_id': subnet2['subnet']['id']}) # Router3 is here just to be sure that it will not be returned as # is not related to the router1 and router2 in any way self.l3_plugin.add_router_interface( self.context, router3['id'], {'subnet_id': subnet3['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router1['id'], {'port_id': wan_port1['port']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'port_id': wan_port2['port']['id']}) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, []) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router2['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router1['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ",,65,4
openstack%2Fironic~master~I34c420bc9052d51c75bf847b64d42d4fe2e5f1b0,openstack/ironic,master,I34c420bc9052d51c75bf847b64d42d4fe2e5f1b0,"Creating a new state transition ""recover""",NEW,2020-07-14 23:15:33.000000000,2020-07-15 09:31:45.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-07-14 23:15:33.000000000', 'files': ['releasenotes/notes/releasenote-befdbe3a4e1ea4cc.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b3386c9e26ceeacbdad23cd1c6f8c1f586adfcd', 'message': 'Creating a new state transition ""recover""\n\nCurrently recovering baremetal nodes from failure states (""error"",\n""deploy failed"", etc) involves applying the ""deleted"" transition,\nhowever this is non obvious even to experienced ironic operators.\nThis change implements a new state transition ""recover"" which is an\nalias for the transtion that is needed to exit the current failure\nstate.\n\nChange-Id: I34c420bc9052d51c75bf847b64d42d4fe2e5f1b0\nStory: 2007646\n'}]",0,741063,3b3386c9e26ceeacbdad23cd1c6f8c1f586adfcd,5,4,1,32177,,,0,"Creating a new state transition ""recover""

Currently recovering baremetal nodes from failure states (""error"",
""deploy failed"", etc) involves applying the ""deleted"" transition,
however this is non obvious even to experienced ironic operators.
This change implements a new state transition ""recover"" which is an
alias for the transtion that is needed to exit the current failure
state.

Change-Id: I34c420bc9052d51c75bf847b64d42d4fe2e5f1b0
Story: 2007646
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/741063/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/releasenote-befdbe3a4e1ea4cc.yaml'],1,3b3386c9e26ceeacbdad23cd1c6f8c1f586adfcd,story-2007646,"--- features: - | This change implements a new state transiton ""recover"" which is an alias for the transition that is needed to exit a failure state (error, deploy failed, etc). ",,6,0
openstack%2Foctavia-tempest-plugin~master~I3252cb820ebea996ad7f07385793f59c28fbd4d2,openstack/octavia-tempest-plugin,master,I3252cb820ebea996ad7f07385793f59c28fbd4d2,Define and use octavia nodesets,MERGED,2020-06-26 17:22:31.000000000,2020-07-15 09:21:28.000000000,2020-07-15 09:17:59.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-26 17:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/81eebc8fb3d97272b171d73e8e844e565646bad4', 'message': ""Define and use octavia nodesets\n\nJobs on these new nodesets run on nested-virt enabled nodepool provider\nnodes, shortening run time by a lot (we've seen a successful scenario\njob taking 38 minutes whereas without nested virt could take close to 2\nhours).\n\nChange-Id: I3252cb820ebea996ad7f07385793f59c28fbd4d2\n""}, {'number': 2, 'created': '2020-07-09 10:06:47.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ca40afb3808ec6b0ae7b5064a4b78387d505cd9f', 'message': ""Define and use octavia nodesets\n\nJobs on these new nodesets run on nested-virt enabled nodepool provider\nnodes, shortening run time by a lot (we've seen a successful scenario\njob taking 38 minutes whereas without nested virt could take close to 2\nhours).\n\nChange-Id: I3252cb820ebea996ad7f07385793f59c28fbd4d2\n""}]",4,738246,ca40afb3808ec6b0ae7b5064a4b78387d505cd9f,22,5,2,6469,,,0,"Define and use octavia nodesets

Jobs on these new nodesets run on nested-virt enabled nodepool provider
nodes, shortening run time by a lot (we've seen a successful scenario
job taking 38 minutes whereas without nested virt could take close to 2
hours).

Change-Id: I3252cb820ebea996ad7f07385793f59c28fbd4d2
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/46/738246/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,81eebc8fb3d97272b171d73e8e844e565646bad4,738246, name: octavia-single-node-ubuntu-bionic nodes: - name: controller label: nested-virt-ubuntu-bionic groups: - name: tempest nodes: - controller - nodeset: name: octavia-single-node-centos-7 nodes: - name: controller label: nested-virt-centos-7 groups: - name: tempest nodes: - controller # TODO(cgoncalves): uncomment once https://review.opendev.org/#/c/738161/ merges # - nodeset: # name: octavia-single-node-centos-8 # nodes: # - name: controller # label: nested-virt-centos-8 # groups: # - name: tempest # nodes: # - controller - nodeset: label: nested-virt-ubuntu-bionic label: nested-virt-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-ubuntu-bionic nodeset: octavia-single-node-centos-7 # TODO(cgoncalves): uncomment once https://review.opendev.org/#/c/738161/ merges # nodeset: octavia-single-node-centos-8 nodeset: openstack-single-node-xenial nodeset: openstack-single-node-xenial nodeset: octavia-single-node-centos-7 nodeset: octavia-single-node-centos-7, label: ubuntu-bionic label: ubuntu-bionic nodeset: devstack-single-node-centos-7 nodeset: devstack-single-node-centos-7,42,4
openstack%2Fironic~master~I475f0215eb0bd149c2d21e6962429181b63e8bdb,openstack/ironic,master,I475f0215eb0bd149c2d21e6962429181b63e8bdb,"Add knob for read-only and ""erase_devices""",MERGED,2020-07-13 17:04:43.000000000,2020-07-15 09:19:44.000000000,2020-07-15 09:02:11.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-13 17:04:43.000000000', 'files': ['releasenotes/notes/ipa-erase_devices-skip-read-only-9f8cd9278c35a84e.yaml', 'ironic/drivers/modules/deploy_utils.py', 'ironic/conf/deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d778db0c40ae7d93f0f82cbad8666077af39ee4', 'message': 'Add knob for read-only and ""erase_devices""\n\nIn https://review.opendev.org/#/c/704725 we merged a change to\nallow the agent to navigate read-only block devices. By default\nwe always failed on the more secure ""erase_devices"" clean step as\nmeta-data only erasure still leaves any sensitive information on\nthe storage medium.\n\nThat being said, it may be operationally okay for read-only devices\nto be ignored during the ""erase_devices"" clean step. Only the\noperator can make that call, and we should enable them to be able\nto assert that in the configuration to IPA.\n\nChange-Id: I475f0215eb0bd149c2d21e6962429181b63e8bdb\n'}]",0,740731,3d778db0c40ae7d93f0f82cbad8666077af39ee4,16,8,1,11655,,,0,"Add knob for read-only and ""erase_devices""

In https://review.opendev.org/#/c/704725 we merged a change to
allow the agent to navigate read-only block devices. By default
we always failed on the more secure ""erase_devices"" clean step as
meta-data only erasure still leaves any sensitive information on
the storage medium.

That being said, it may be operationally okay for read-only devices
to be ignored during the ""erase_devices"" clean step. Only the
operator can make that call, and we should enable them to be able
to assert that in the configuration to IPA.

Change-Id: I475f0215eb0bd149c2d21e6962429181b63e8bdb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/740731/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ipa-erase_devices-skip-read-only-9f8cd9278c35a84e.yaml', 'ironic/drivers/modules/deploy_utils.py', 'ironic/conf/deploy.py']",3,3d778db0c40ae7d93f0f82cbad8666077af39ee4,736214," cfg.BoolOpt('erase_skip_read_only', default=False, mutable=True, help=_('If the ironic-python-agent should skip read-only ' 'devices when running the ""erase_devices"" clean step ' 'where block devices are zeroed out. This requires ' 'ironic-python-agent 6.0.0 or greater. By default ' 'a read-only device will cause non-metadata based ' 'cleaning operations to fail due to the possible ' 'operational security risk of data being retained ' 'between deployments of the bare metal node.')),",,24,0
openstack%2Ftripleo-common~stable%2Fussuri~Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c,openstack/tripleo-common,stable/ussuri,Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c,Relax filter_images_with_labels() and re-add kolla_version,MERGED,2020-07-10 12:14:47.000000000,2020-07-15 09:14:49.000000000,2020-07-15 09:12:59.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-10 12:14:47.000000000', 'files': ['container-images/tcib/base/base.yaml', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d8d398dc7cd01c94e2a11dc2912a598029c7b29e', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n'}]",0,740452,d8d398dc7cd01c94e2a11dc2912a598029c7b29e,28,7,1,3153,,,0,"Relax filter_images_with_labels() and re-add kolla_version

This patch does 2 things (on purpose for easier backport without CI
failures):

1) TCIB: add ""kolla_version"" for backward compatibility

In TripleO CI, we run container updates using tripleo-modify-image role
but only for the images with ""kolla_version"" label.

https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13

In the future, we'll rename this LABEL to be more TCIB specific and
remove ""kolla"" from it, but for now let's have it for backward
compatibility.

2) image_uploader: relax logic for filter_images_with_labels()

modify_only_with_labels is a list of labels that can be set to find out
what images we want to modify with the tripleo-modify-image role.

Before, all the items in the list must be present in the image Labels;
which is too strict (e.g. kolla_version label used by quickstart doesn't
exist in the new images with TCIB).

Let's relax it so we will modify the image if at least one label is
present in there.

Related-Bug: #1886914
Change-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/740452/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/base.yaml', 'tripleo_common/image/image_uploader.py']",2,d8d398dc7cd01c94e2a11dc2912a598029c7b29e,label2-stable/ussuri," # The logic is the following: if one of the labels in # modify_only_with_labels parameter is present in the image, it # will match and add the images that need to be modified. for label in labels: if label in image_labels: # we found a matching label, adding the image # and leave the loop. images_with_labels.append(image) break", if set(labels).issubset(set(image_labels)): images_with_labels.append(image),10,2
openstack%2Ftripleo-ci~master~Ie45c788a745deb4968c8b02f72c702d8e0b863a3,openstack/tripleo-ci,master,Ie45c788a745deb4968c8b02f72c702d8e0b863a3,Fix issue with scenario007 multinode job,MERGED,2020-06-18 06:51:23.000000000,2020-07-15 09:08:59.000000000,2020-07-15 09:08:59.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-06-18 06:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/551f3d79cc66683ce662b6efd30ab568133a49ea', 'message': '[DNM] Debug multinode stuck issue\n\nChange-Id: Ie45c788a745deb4968c8b02f72c702d8e0b863a3\n'}, {'number': 2, 'created': '2020-06-18 07:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/31ceb7082883e444083ba14e13ad62c88d57cab1', 'message': '[DNM] Debug multinode stuck issue\n\nChange-Id: Ie45c788a745deb4968c8b02f72c702d8e0b863a3\n'}, {'number': 3, 'created': '2020-06-18 11:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fa0b43b8b87d3f3d706c522c596dbfad1cef4c2d', 'message': '[DNM] Debug multinode stuck issue\n\nUse single playbook multinode.yml which includes\nother playbook, it results in single ansible playbook\nrun instead of multiple and likely avoid the bug\nhttps://bugs.launchpad.net/tripleo/+bug/1883843.\n\nChange-Id: Ie45c788a745deb4968c8b02f72c702d8e0b863a3\n'}, {'number': 4, 'created': '2020-06-23 12:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/347720cdc6c0cdf98c7d5d1337cb0d649ca973b0', 'message': ""Fix issue with scenario007 multinode job\n\nUse single playbook multinode.yml which includes\nother playbook, it results in single ansible playbook\nrun instead of multiple and it's avoiding the bug\nhttps://bugs.launchpad.net/tripleo/+bug/1883843.\n\nThe root cause is not clear but using single playbook\nfixes the issue.\n\nCloses-Bug: #1883843\nChange-Id: Ie45c788a745deb4968c8b02f72c702d8e0b863a3\n""}, {'number': 5, 'created': '2020-07-06 04:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a556dbde65369f325edd9188e8ffeb6eb9e90431', 'message': ""Fix issue with scenario007 multinode job\n\nUse single playbook multinode.yml which includes\nother playbook, it results in single ansible playbook\nrun instead of multiple and it's avoiding the bug\nhttps://bugs.launchpad.net/tripleo/+bug/1883843.\n\nThe root cause is not clear but using single playbook\nfixes the issue.\n\nCloses-Bug: #1883843\nChange-Id: Ie45c788a745deb4968c8b02f72c702d8e0b863a3\n""}, {'number': 6, 'created': '2020-07-09 14:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2bf0079a2dc1d4bb0065badad2008877bc705ac2', 'message': ""Fix issue with scenario007 multinode job\n\nUse single playbook multinode.yml which includes\nother playbook, it results in single ansible playbook\nrun instead of multiple and it's avoiding the bug\nhttps://bugs.launchpad.net/tripleo/+bug/1883843.\n\nThe root cause is not clear but using single playbook\nfixes the issue.\n\nCloses-Bug: #1883843\nChange-Id: Ie45c788a745deb4968c8b02f72c702d8e0b863a3\n""}, {'number': 7, 'created': '2020-07-10 06:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2bd3b49296c6efc79db0674063b37ee6f2b71197', 'message': ""Fix issue with scenario007 multinode job\n\nUse single playbook multinode.yml which includes\nother playbook, it results in single ansible playbook\nrun instead of multiple and it's avoiding the bug\nhttps://bugs.launchpad.net/tripleo/+bug/1883843.\n\nThe root cause is not clear but using single playbook\nfixes the issue.\n\nCloses-Bug: #1883843\nChange-Id: Ie45c788a745deb4968c8b02f72c702d8e0b863a3\n""}, {'number': 8, 'created': '2020-07-14 08:01:17.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a9d32d9ebea8103d50d38fc7e13677735c8e1ae5', 'message': ""Fix issue with scenario007 multinode job\n\nUse single playbook multinode.yml which includes\nother playbook, it results in single ansible playbook\nrun instead of multiple and it's avoiding the bug\nhttps://bugs.launchpad.net/tripleo/+bug/1883843.\n\nThe root cause is not clear but using single playbook\nfixes the issue.\n\nCloses-Bug: #1883843\nChange-Id: Ie45c788a745deb4968c8b02f72c702d8e0b863a3\n""}]",3,736468,a9d32d9ebea8103d50d38fc7e13677735c8e1ae5,39,7,8,13861,,,0,"Fix issue with scenario007 multinode job

Use single playbook multinode.yml which includes
other playbook, it results in single ansible playbook
run instead of multiple and it's avoiding the bug
https://bugs.launchpad.net/tripleo/+bug/1883843.

The root cause is not clear but using single playbook
fixes the issue.

Closes-Bug: #1883843
Change-Id: Ie45c788a745deb4968c8b02f72c702d8e0b863a3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/736468/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml']",2,551f3d79cc66683ce662b6efd30ab568133a49ea,736468, name: tripleo-ci-centos-7-scenario007-multinode-oooq-container-test1 parent: tripleo-ci-centos-7-scenario007-multinode-oooq-container - job: name: tripleo-ci-centos-7-scenario007-multinode-oooq-container-test2 parent: tripleo-ci-centos-7-scenario007-multinode-oooq-container - job: name: tripleo-ci-centos-7-scenario007-multinode-oooq-container-test3 parent: tripleo-ci-centos-7-scenario007-multinode-oooq-container - job:,,16,66
openstack%2Ffreezer~master~Iffbd3ea1195851b3353edff65f9c1a91da8f09cc,openstack/freezer,master,Iffbd3ea1195851b3353edff65f9c1a91da8f09cc,Fix the bug,ABANDONED,2020-07-15 03:43:00.000000000,2020-07-15 09:04:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-15 03:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/ae9b06ab07bc9578e7646c8d820fbfd97263d542', 'message': 'Fix the bug\n\nFrom vivek1516:\n\nI am getting below error while using Freezer-client command in openstack\nenvironment.\n\nUploading image to storage path:\nfreezer-agent --action backup --mode nova\n--nova-inst-id f13111ef-c827-4f19-a0d5-894c24cf69c9 --storage local\n--container /home/stack/test-bkp --backup-name test-bkp\n--path-to-backup /home/stack/ --no-incremental true\n--engine nova --log-file test1-bkp.log\n\n2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming\n[-] a bytes-like object is required, not \'str\':\n TypeError: a bytes-like object is required, not \'str\'\n2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming\nTraceback (most recent call last):\n2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming\nFile ""/usr/local/lib/python3.6/site-packages/freezer/utils/streaming.py"",\n line 112, in run\n2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming\nsuper(QueuedThread, self).run()\n\nChange-Id: Iffbd3ea1195851b3353edff65f9c1a91da8f09cc\n'}, {'number': 2, 'created': '2020-07-15 03:44:53.000000000', 'files': ['freezer/utils/streaming.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/f2619677fac50e8ba906daeef1fb160b47d827f4', 'message': 'Fix the bug\n\nFrom vivek1516:\n\nI am getting below error while using Freezer-client command in openstack\nenvironment.\n\nUploading image to storage path:\nfreezer-agent --action backup --mode nova\n--nova-inst-id f13111ef-c827-4f19-a0d5-894c24cf69c9 --storage local\n--container /home/stack/test-bkp --backup-name test-bkp\n--path-to-backup /home/stack/ --no-incremental true\n--engine nova --log-file test1-bkp.log\n\n2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming\n[-] a bytes-like object is required, not \'str\':\n TypeError: a bytes-like object is required, not \'str\'\n2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming\nTraceback (most recent call last):\n2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming\nFile ""/usr/local/lib/python3.6/site-packages/freezer/utils/streaming.py"",\n line 112, in run\n2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming\nsuper(QueuedThread, self).run()\n\nChange-Id: Iffbd3ea1195851b3353edff65f9c1a91da8f09cc\n'}]",0,741077,f2619677fac50e8ba906daeef1fb160b47d827f4,5,2,2,21069,,,0,"Fix the bug

From vivek1516:

I am getting below error while using Freezer-client command in openstack
environment.

Uploading image to storage path:
freezer-agent --action backup --mode nova
--nova-inst-id f13111ef-c827-4f19-a0d5-894c24cf69c9 --storage local
--container /home/stack/test-bkp --backup-name test-bkp
--path-to-backup /home/stack/ --no-incremental true
--engine nova --log-file test1-bkp.log

2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming
[-] a bytes-like object is required, not 'str':
 TypeError: a bytes-like object is required, not 'str'
2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming
Traceback (most recent call last):
2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming
File ""/usr/local/lib/python3.6/site-packages/freezer/utils/streaming.py"",
 line 112, in run
2020-06-10 14:03:23.371 22320 ERROR freezer.utils.streaming
super(QueuedThread, self).run()

Change-Id: Iffbd3ea1195851b3353edff65f9c1a91da8f09cc
",git fetch https://review.opendev.org/openstack/freezer refs/changes/77/741077/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer/common/config.py', 'freezer/utils/streaming.py']",2,ae9b06ab07bc9578e7646c8d820fbfd97263d542,," self.data_queue.put(message.encode(""utf-8""), timeout=1)"," self.data_queue.put(message, timeout=1)",2,2
openstack%2Fpuppet-neutron~master~Id65e7e3269f513c3917113b34184b7423779b0a7,openstack/puppet-neutron,master,Id65e7e3269f513c3917113b34184b7423779b0a7,Change to relative include,MERGED,2020-07-13 19:22:15.000000000,2020-07-15 08:49:02.000000000,2020-07-15 08:49:02.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d61d52ab16469fb0b4bb2d4c50fd4b38919eca2f', 'message': 'Change to relative include\n\nChange-Id: Id65e7e3269f513c3917113b34184b7423779b0a7\n'}, {'number': 2, 'created': '2020-07-13 22:06:59.000000000', 'files': ['examples/cisco_ml2.pp', 'manifests/client.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/26ef871f2e30baef5c6bef77b9215c3957d50921', 'message': 'Change to relative include\n\nChange-Id: Id65e7e3269f513c3917113b34184b7423779b0a7\n'}]",0,740792,26ef871f2e30baef5c6bef77b9215c3957d50921,19,3,2,16137,,,0,"Change to relative include

Change-Id: Id65e7e3269f513c3917113b34184b7423779b0a7
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/92/740792/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/client.pp'],1,d61d52ab16469fb0b4bb2d4c50fd4b38919eca2f,740792, include openstacklib::openstackclient, include '::openstacklib::openstackclient',1,1
openstack%2Fironic-specs~master~I183a85102333e54bea481018250f46043c22e857,openstack/ironic-specs,master,I183a85102333e54bea481018250f46043c22e857,Fix pygments style,ABANDONED,2020-05-20 02:43:35.000000000,2020-07-15 08:29:05.000000000,,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-05-20 02:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d2ffcef37d47cfe84cc3fbe16b421add0bd9a962', 'message': 'Fix pygments style\n\nChange-Id: I183a85102333e54bea481018250f46043c22e857\n'}, {'number': 2, 'created': '2020-05-20 07:17:47.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7b82c5769a09c471d343b538c3cb48a0d01d4573', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: I183a85102333e54bea481018250f46043c22e857\n'}]",0,729494,7b82c5769a09c471d343b538c3cb48a0d01d4573,9,4,2,31446,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: I183a85102333e54bea481018250f46043c22e857
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/94/729494/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,d2ffcef37d47cfe84cc3fbe16b421add0bd9a962,,pygments_style = 'native',pygments_style = 'sphinx',1,1
openstack%2Fpuppet-keystone~stable%2Fussuri~Ie4e2fe62ee7734f657f765c352ba542360c0e1d7,openstack/puppet-keystone,stable/ussuri,Ie4e2fe62ee7734f657f765c352ba542360c0e1d7,Always pass --name when flushing keystone_service,MERGED,2020-07-14 05:49:20.000000000,2020-07-15 08:22:25.000000000,2020-07-14 20:01:25.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 05:49:20.000000000', 'files': ['lib/puppet/provider/keystone_service/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d33843dc19ae6ffb4321c1d8139bea6444556978', 'message': 'Always pass --name when flushing keystone_service\n\nRunning ""openstack service set <id> --description=""\nwill throw an error [1].\n\nThe error occurs because the request to Keystone must include any\nof enabled, name or type to satisfy the minProperties of the patch\nrequest.\n\nThis patch always sets the --name parameter when calling the openstack\ncommand so that we satisfy this requirement.\n\n[1] http://paste.openstack.org/show/795869/\n\nChange-Id: Ie4e2fe62ee7734f657f765c352ba542360c0e1d7\n(cherry picked from commit fc30737487a9bf8b998605455c59f96c7bf99f04)\n'}]",0,740881,d33843dc19ae6ffb4321c1d8139bea6444556978,8,3,1,9816,,,0,"Always pass --name when flushing keystone_service

Running ""openstack service set <id> --description=""
will throw an error [1].

The error occurs because the request to Keystone must include any
of enabled, name or type to satisfy the minProperties of the patch
request.

This patch always sets the --name parameter when calling the openstack
command so that we satisfy this requirement.

[1] http://paste.openstack.org/show/795869/

Change-Id: Ie4e2fe62ee7734f657f765c352ba542360c0e1d7
(cherry picked from commit fc30737487a9bf8b998605455c59f96c7bf99f04)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/81/740881/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/keystone_service/openstack.rb'],1,d33843dc19ae6ffb4321c1d8139bea6444556978,," # NOTE(tobias.urdin): Always pass --name to make sure we satisfy the minProperties # for the request to Keystone. options << ""--name=#{resource[:name]}""",,3,0
openstack%2Ftripleo-validations~master~I8994aaadaf2feb806e70e1ea6dc87157012d1334,openstack/tripleo-validations,master,I8994aaadaf2feb806e70e1ea6dc87157012d1334,Remove mock as test requirement,MERGED,2020-07-13 08:22:33.000000000,2020-07-15 08:14:29.000000000,2020-07-14 01:39:25.000000000,"[{'_account_id': 3153}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-13 08:22:33.000000000', 'files': ['tripleo_validations/tests/library/test_ovs_dpdk_pmd_cpus_check.py', 'test-requirements.txt', 'tripleo_validations/tests/library/test_check_package_update.py', 'lower-constraints.txt', 'tripleo_validations/tests/library/test_check_ironic_boot_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/315053448f5d18ecadc1f6dcbda7a8277619393c', 'message': 'Remove mock as test requirement\n\nNow that we have moved to py36 and later runtimes, we no longer need\nto use the third party mock library and can only use the standard\nlibrary unittest.mock instead.\n\nChange-Id: I8994aaadaf2feb806e70e1ea6dc87157012d1334\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,740631,315053448f5d18ecadc1f6dcbda7a8277619393c,10,4,1,11491,,,0,"Remove mock as test requirement

Now that we have moved to py36 and later runtimes, we no longer need
to use the third party mock library and can only use the standard
library unittest.mock instead.

Change-Id: I8994aaadaf2feb806e70e1ea6dc87157012d1334
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/31/740631/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_validations/tests/library/test_ovs_dpdk_pmd_cpus_check.py', 'test-requirements.txt', 'tripleo_validations/tests/library/test_check_package_update.py', 'lower-constraints.txt', 'tripleo_validations/tests/library/test_check_ironic_boot_config.py']",5,315053448f5d18ecadc1f6dcbda7a8277619393c,unittest_migration,try: from unittest import mock except ImportError: import mock,from unittest import mock,16,8
openstack%2Fheat~master~I55aed67dd09c2a1b35b4516d19d7b7c299766fc3,openstack/heat,master,I55aed67dd09c2a1b35b4516d19d7b7c299766fc3,Remove ceilometer from the dsvm jobs,ABANDONED,2017-11-17 07:42:18.000000000,2020-07-15 07:51:28.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-17 07:42:18.000000000', 'files': ['playbooks/devstack/functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/4c441b2486b8e3e007962f78a404b0687bd24ed3', 'message': ""Remove ceilometer from the dsvm jobs\n\nWe've nothing that depends on ceilometer, let's use gnocchi\ndirectly.\n\nChange-Id: I55aed67dd09c2a1b35b4516d19d7b7c299766fc3\n""}]",0,520993,4c441b2486b8e3e007962f78a404b0687bd24ed3,6,2,1,8833,,,0,"Remove ceilometer from the dsvm jobs

We've nothing that depends on ceilometer, let's use gnocchi
directly.

Change-Id: I55aed67dd09c2a1b35b4516d19d7b7c299766fc3
",git fetch https://review.opendev.org/openstack/heat refs/changes/93/520993/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/devstack/functional/run.yaml'],1,4c441b2486b8e3e007962f78a404b0687bd24ed3,gate_gnocchi," export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin gnocchi https://github.com/gnocchixyz/gnocchi"""," export PROJECTS=""openstack/ceilometer $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ceilometer git://git.openstack.org/openstack/ceilometer""",1,2
openstack%2Ftempest~master~I521eb4a332937328b5010df53ddab2af76090202,openstack/tempest,master,I521eb4a332937328b5010df53ddab2af76090202,Remove checking of Accept-Range header,MERGED,2020-06-30 14:03:00.000000000,2020-07-15 07:33:54.000000000,2020-07-15 07:32:23.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2020-06-30 14:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/656028a22380bbcf8f613d81161dc7179c755db1', 'message': 'WIP: Remove checking of Accept-Range header\n\nSome tests fail when Accept-Range header is not present in the\nresponse of the API. This is not necesseary as the Accept-Range\nheader is not mandatory according to RFC [1].\n\n[2] https://tools.ietf.org/html/rfc7233#section-2.3\n\nCloses-Bug: #1885723\nChange-Id: I521eb4a332937328b5010df53ddab2af76090202\n'}, {'number': 2, 'created': '2020-07-08 08:55:31.000000000', 'files': ['tempest/common/custom_matchers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f633edd97ca89e01433b1e5ed69e72cb0be25cd', 'message': 'Remove checking of Accept-Range header\n\nSome tests fail when Accept-Range header is not present in the\nresponse of the API. This is not necesseary as the Accept-Range\nheader is not mandatory according to RFC [1].\n\n[2] https://tools.ietf.org/html/rfc7233#section-2.3\n\nCloses-Bug: #1885723\nChange-Id: I521eb4a332937328b5010df53ddab2af76090202\n'}]",1,738629,4f633edd97ca89e01433b1e5ed69e72cb0be25cd,16,7,2,30674,,,0,"Remove checking of Accept-Range header

Some tests fail when Accept-Range header is not present in the
response of the API. This is not necesseary as the Accept-Range
header is not mandatory according to RFC [1].

[2] https://tools.ietf.org/html/rfc7233#section-2.3

Closes-Bug: #1885723
Change-Id: I521eb4a332937328b5010df53ddab2af76090202
",git fetch https://review.opendev.org/openstack/tempest refs/changes/29/738629/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/custom_matchers.py'],1,656028a22380bbcf8f613d81161dc7179c755db1,fix/list_containers,, if 'accept-ranges' not in actual: return NonExistentHeader('accept-ranges'),0,2
openstack%2Ftripleo-operator-ansible~master~I26096360f6b0fffd3272a52c8303f1c8e81829cd,openstack/tripleo-operator-ansible,master,I26096360f6b0fffd3272a52c8303f1c8e81829cd,trivial: fix spelling mistakes,MERGED,2020-07-13 15:04:18.000000000,2020-07-15 07:08:38.000000000,2020-07-15 07:08:38.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 8449}, {'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 15:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7ca956c518fcb405e37ee38ec6f39cf0509160c3', 'message': 'trivial: fix spelling mistakes in image build README\n\nChange-Id: I26096360f6b0fffd3272a52c8303f1c8e81829cd\n'}, {'number': 2, 'created': '2020-07-14 13:45:23.000000000', 'files': ['roles/tripleo_overcloud_image_upload/README.md', 'roles/tripleo_undercloud_install/README.md', 'roles/tripleo_overcloud_update_converge/README.md', 'roles/tripleo_overcloud_container_image_prepare/README.md', 'roles/tripleo_undercloud_upgrade/README.md', 'roles/tripleo_overcloud_node_provide/README.md', 'roles/tripleo_overcloud_config_download/README.md', 'roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_external_update_run/README.md', 'roles/tripleo_deploy/README.md', 'roles/tripleo_overcloud_profiles_list/README.md', 'roles/tripleo_overcloud_external_upgrade_run/README.md', 'roles/tripleo_overcloud_image_build/README.md', 'roles/tripleo_overcloud_support_report_collect/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_run/README.md', 'roles/tripleo_overcloud_container_image_tag_discover/README.md', 'roles/tripleo_overcloud_update_prepare/README.md', 'roles/tripleo_overcloud_raid_create/README.md', 'roles/tripleo_overcloud_upgrade_converge/README.md', 'roles/tripleo_overcloud_upgrade_prepare/README.md', 'roles/tripleo_overcloud_node_import/README.md', 'roles/tripleo_overcloud_credentials/README.md', 'roles/tripleo_overcloud_node_introspect/README.md', 'roles/tripleo_overcloud_status/README.md', 'roles/tripleo_overcloud_cell_export/README.md', 'roles/tripleo_undercloud_minion_upgrade/README.md', 'roles/tripleo_overcloud_roles_generate/README.md', 'roles/tripleo_undercloud_minion_install/README.md', 'roles/tripleo_overcloud_export/README.md', 'roles/tripleo_overcloud_update_run/README.md', 'roles/tripleo_overcloud_admin_authorize/README.md', 'roles/tripleo_overcloud_node_unprovision/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/README.md', 'roles/tripleo_validator_run/README.md', 'roles/tripleo_overcloud_roles_list/README.md', 'roles/tripleo_overcloud_profiles_match/README.md', 'roles/tripleo_container_image_prepare/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_converge/README.md', 'roles/tripleo_container_image_build/README.md', 'roles/tripleo_overcloud_upgrade_run/README.md', 'roles/tripleo_overcloud_netenv_validate/README.md', 'roles/tripleo_container_image_push/README.md', 'roles/tripleo_overcloud_container_image_upload/README.md', 'roles/tripleo_overcloud_roles_show/README.md', 'roles/tripleo_overcloud_generate_fencing/README.md', 'roles/tripleo_overcloud_container_image_build/README.md', 'roles/tripleo_overcloud_failures/README.md', 'roles/tripleo_overcloud_node_provision/README.md', 'roles/tripleo_overcloud_node_delete/README.md', 'roles/tripleo_overcloud_delete/README.md', 'roles/tripleo_undercloud_backup/README.md', 'roles/tripleo_config_generate_ansible/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2e983575c1e979a686a53b8ced2cc81f56d8a027', 'message': ""trivial: fix spelling mistakes\n\nLooking through the documentation I noticed several spelling mistakes\nthat were likely copy-pasted to documentation for various roles.\n\nThis commit attempts to update all the README's and fix trivial\nmisspellings.\n\nChange-Id: I26096360f6b0fffd3272a52c8303f1c8e81829cd\n""}]",3,740710,2e983575c1e979a686a53b8ced2cc81f56d8a027,11,5,2,5046,,,0,"trivial: fix spelling mistakes

Looking through the documentation I noticed several spelling mistakes
that were likely copy-pasted to documentation for various roles.

This commit attempts to update all the README's and fix trivial
misspellings.

Change-Id: I26096360f6b0fffd3272a52c8303f1c8e81829cd
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/10/740710/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo_overcloud_image_build/README.md'],1,7ca956c518fcb405e37ee38ec6f39cf0509160c3,,* `tripleo_overcloud_image_build_generate_scripts_only`: (Boolean) Do not run the actual command - to be used in conjunction with `tripleo_overcloud_image_build_generate_scripts`. By default uses the value of `tripleo_generate_scripts_only` or False if `tripleo_generate_scripts_only` is not defined.* `tripleo_overcloud_image_build_no_skip`: (Boolean) Flag to skip build if cached image exists. Default: False* `tripleo_overcloud_image_build_stable_release`: (String) String containing the name of the stable branch being built. * `tripleo_overcloud_image_build_timeout`: (Integer) Amount of time to wait for the command to complete. Default: 1800,* `tripleo_overcloud_image_build_generate_scripts_only`: (Boolean) Do not run the actual command - to be used in conjonction with `tripleo_overcloud_image_build_generate_scripts`. By default uses the value of `tripleo_generate_scripts_only` or False if `tripleo_generate_scripts_only` is not defined.* `tripleo_overcloud_image_build_no_skip`: (Boolean) Flag to skipp build if cached image exists. Default: False* `tripleo_overcloud_image_build_stable_release`: (String) String containing the name of teh stable branch being built. * `tripleo_overcloud_image_build_timeout`: (Integer) Amount of time to wait for the command to conplete. Default: 1800,4,4
openstack%2Fnova~master~I24ab1034c84608181a18bd4c64e3e83acd2b40b2,openstack/nova,master,I24ab1034c84608181a18bd4c64e3e83acd2b40b2,compute: bump nova-compute service version for mixed instance,ABANDONED,2020-03-31 12:07:52.000000000,2020-07-15 07:04:03.000000000,,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2020-03-31 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e0b938c05aa6e1efbba098400317e0b895852a2', 'message': 'Enable the support of mixed instance\n\nDrawback the lines preventing the creating of mixed instance and bump\nthe nova-compute service version that supports this feature.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\n'}, {'number': 2, 'created': '2020-04-08 02:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8432a8fb057987b305473880428f452543ed67f9', 'message': ""mark mixed policy as ready, bump compute service version\n\nStart translating the `PCPU` and `VCPU` resource requirement for\nrequest from extra spec of 'hw:cpu_policy=mixed' and\n'hw:cpu_realtime_mask' or 'hw:cpu_dedicate_mask'.\n\nRemove the lines preventing the creating of mixed instance and\nbump the nova-compute service version that supports this feature.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\n""}, {'number': 3, 'created': '2020-04-08 02:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daeaaf4a5d36dc1fa2c024d52afb329307262fa5', 'message': ""mark mixed policy as ready, bump compute service version\n\nStart translating the `PCPU` and `VCPU` resource requirement for\nrequest from extra spec of 'hw:cpu_policy=mixed' and\n'hw:cpu_realtime_mask' or 'hw:cpu_dedicate_mask'.\n\nRemove the lines preventing the creating of mixed instance and\nbump the nova-compute service version that supports this feature.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\n""}, {'number': 4, 'created': '2020-04-08 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7151568ffeee2b181824650bba28964d11717236', 'message': ""mark mixed policy as ready, bump compute service version\n\nStart translating the `PCPU` and `VCPU` resource requirement for\nrequest from extra spec of 'hw:cpu_policy=mixed' and\n'hw:cpu_realtime_mask' or 'hw:cpu_dedicate_mask'.\n\nRemove the lines preventing the creating of mixed instance and\nbump the nova-compute service version that supports this feature.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\n""}, {'number': 5, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f92b3b8fbb5e4cd3e99fdb19673b6e6c20be27e', 'message': ""mark mixed policy as ready, bump compute service version\n\nStart translating the `PCPU` and `VCPU` resource requirement for\nrequest from extra spec of 'hw:cpu_policy=mixed' and\n'hw:cpu_realtime_mask' or 'hw:cpu_dedicate_mask'.\n\nRemove the lines preventing the creating of mixed instance and\nbump the nova-compute service version that supports this feature.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\n""}, {'number': 6, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/046e2319eac4a5c80429f7a2113c29d6beac8ef3', 'message': ""compute: bump nova-compute service version for mixed instance\n\nBump nova-compute service version and announcing the support of\n'mixed' instance.\n\nThe 'mixed' instance feature is available after all nova-compute\nnodes are upgraded to 'Victoria' or after.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6498e9aa771efe5dd48453143489638fb174ed03', 'message': ""compute: bump nova-compute service version for mixed instance\n\nBump nova-compute service version and announcing the support of\n'mixed' instance.\n\nThe 'mixed' instance feature is available after all nova-compute\nnodes are upgraded to 'Victoria' or after.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 8, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f24410dc76c3c59c6fbb1406ec0d5419be4c290', 'message': ""compute: bump nova-compute service version for mixed instance\n\nBump nova-compute service version and announcing the support of\n'mixed' instance.\n\nThe 'mixed' instance feature is available after all nova-compute\nnodes are upgraded to 'Victoria' or after.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 9, 'created': '2020-07-07 07:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c50996515a2b43e975e3522abab4b284bc42ed4c', 'message': ""compute: bump nova-compute service version for mixed instance\n\nBump nova-compute service version and announcing the support of\n'mixed' instance.\n\nThe 'mixed' instance feature is available after all nova-compute\nnodes are upgraded to 'Victoria' or after.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 10, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e53f04a25611a2bf3dd70fa0bb7e6581a851bb7b', 'message': ""compute: bump nova-compute service version for mixed instance\n\nBump nova-compute service version and announcing the support of\n'mixed' instance.\n\nThe 'mixed' instance feature is available after all nova-compute\nnodes are upgraded to 'Victoria' or after.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 11, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0877f1c78c01cadcf0da44d69016673ce58c508a', 'message': ""compute: bump nova-compute service version for mixed instance\n\nBump nova-compute service version and announcing the support of\n'mixed' instance.\n\nThe 'mixed' instance feature is available after all nova-compute\nnodes are upgraded to 'Victoria' or after.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 12, 'created': '2020-07-10 03:45:56.000000000', 'files': ['nova/exception.py', 'nova/objects/service.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cc64c2651ba73e7d006c078ad7bb61fd800c5819', 'message': ""compute: bump nova-compute service version for mixed instance\n\nBump nova-compute service version and announcing the support of\n'mixed' instance.\n\nThe 'mixed' instance feature is available after all nova-compute\nnodes are upgraded to 'Victoria' or after.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",29,716271,cc64c2651ba73e7d006c078ad7bb61fd800c5819,99,14,12,30209,,,0,"compute: bump nova-compute service version for mixed instance

Bump nova-compute service version and announcing the support of
'mixed' instance.

The 'mixed' instance feature is available after all nova-compute
nodes are upgraded to 'Victoria' or after.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I24ab1034c84608181a18bd4c64e3e83acd2b40b2
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/716271/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/virt/hardware.py', 'nova/objects/service.py']",3,7e0b938c05aa6e1efbba098400317e0b895852a2,bp/use-pcpu-and-vcpu-in-one-instance,"SERVICE_VERSION = 50 # Version 50: Compute hosts allow instance with 'mixed' policy {'compute_rpc': '5.10'},",SERVICE_VERSION = 49,26,7
openstack%2Fzaqar-ui~master~I7a61057dad5a2f25c09ce180d1b9fe5582a2634f,openstack/zaqar-ui,master,I7a61057dad5a2f25c09ce180d1b9fe5582a2634f,[DNM] Testing CI,ABANDONED,2020-07-13 18:55:57.000000000,2020-07-15 06:57:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-13 18:55:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/9a18cd7ca0130a7496a2474d2f2415c1795bc904', 'message': '[DNM] Testing CI\n\nChange-Id: I7a61057dad5a2f25c09ce180d1b9fe5582a2634f\n'}]",0,740749,9a18cd7ca0130a7496a2474d2f2415c1795bc904,4,1,1,29313,,,0,"[DNM] Testing CI

Change-Id: I7a61057dad5a2f25c09ce180d1b9fe5582a2634f
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/49/740749/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9a18cd7ca0130a7496a2474d2f2415c1795bc904,,,,1,0
openstack%2Fzaqar-ui~stable%2Fussuri~I7a61057dad5a2f25c09ce180d1b9fe5582a2634f,openstack/zaqar-ui,stable/ussuri,I7a61057dad5a2f25c09ce180d1b9fe5582a2634f,[DNM] Testing CI,ABANDONED,2020-07-14 13:45:37.000000000,2020-07-15 06:56:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-14 13:45:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/fcac2d69aa39b56275622e230edfe9dc9986e6bb', 'message': '[DNM] Testing CI\n\nChange-Id: I7a61057dad5a2f25c09ce180d1b9fe5582a2634f\n'}]",0,740961,fcac2d69aa39b56275622e230edfe9dc9986e6bb,4,1,1,29313,,,0,"[DNM] Testing CI

Change-Id: I7a61057dad5a2f25c09ce180d1b9fe5582a2634f
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/61/740961/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fcac2d69aa39b56275622e230edfe9dc9986e6bb,,,,1,0
openstack%2Fzaqar-ui~stable%2Ftrain~I7a61057dad5a2f25c09ce180d1b9fe5582a2634f,openstack/zaqar-ui,stable/train,I7a61057dad5a2f25c09ce180d1b9fe5582a2634f,[DNM] Testing CI,ABANDONED,2020-07-14 13:45:49.000000000,2020-07-15 06:56:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-14 13:45:49.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/434300f442ea817cbd13801b7cf235c83474bbe7', 'message': '[DNM] Testing CI\n\nChange-Id: I7a61057dad5a2f25c09ce180d1b9fe5582a2634f\n'}]",0,740962,434300f442ea817cbd13801b7cf235c83474bbe7,3,1,1,29313,,,0,"[DNM] Testing CI

Change-Id: I7a61057dad5a2f25c09ce180d1b9fe5582a2634f
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/62/740962/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,434300f442ea817cbd13801b7cf235c83474bbe7,,,,1,0
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fussuri~Ia6e2966adcb262bbc4e9a9a2835b2240fee45ba0,openstack/openstack-ansible-os_ceilometer,stable/ussuri,Ia6e2966adcb262bbc4e9a9a2835b2240fee45ba0,"[New files - needs update] Update paste, policy and rootwrap configurations 2020-07-15",ABANDONED,2020-07-15 06:54:24.000000000,2020-07-15 06:55:05.000000000,,[],"[{'number': 1, 'created': '2020-07-15 06:54:24.000000000', 'files': ['files/rootwrap.d/ipmi.filters', 'templates/rootwrap.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/7aadbaa938096e481090c42824f87b0302bd23fc', 'message': '[New files - needs update] Update paste, policy and rootwrap configurations 2020-07-15\n\nChange-Id: Ia6e2966adcb262bbc4e9a9a2835b2240fee45ba0\n'}]",0,741098,7aadbaa938096e481090c42824f87b0302bd23fc,2,0,1,25023,,,0,"[New files - needs update] Update paste, policy and rootwrap configurations 2020-07-15

Change-Id: Ia6e2966adcb262bbc4e9a9a2835b2240fee45ba0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/98/741098/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/rootwrap.d/ipmi.filters', 'templates/rootwrap.conf.j2']",2,7aadbaa938096e481090c42824f87b0302bd23fc,sha-update,"# Configuration for ceilometer-rootwrap # This file should be owned by (and only-writeable by) the root user [DEFAULT] # List of directories to load filter definitions from (separated by ','). # These directories MUST all be only writeable by root ! filters_path=/etc/ceilometer/rootwrap.d,/usr/share/ceilometer/rootwrap # List of directories to search executables in, in case filters do not # explicitely specify a full path (separated by ',') # If not specified, defaults to system PATH environment variable. # These directories MUST all be only writeable by root ! exec_dirs={{ ceilometer_bin }},/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/sbin,/usr/local/bin # Enable logging to syslog # Default value is False use_syslog=False # Which syslog facility to use. # Valid values include auth, authpriv, syslog, user0, user1... # Default value is 'syslog' syslog_log_facility=syslog # Which messages to log. # INFO means log all usage # ERROR means only log unsuccessful attempts syslog_log_level=ERROR ",,32,0
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fussuri~I03ed27d0c8dd7620c4bb61ea2b67e968d96b5303,openstack/openstack-ansible-os_ceilometer,stable/ussuri,I03ed27d0c8dd7620c4bb61ea2b67e968d96b5303,"[New files - needs update] Update paste, policy and rootwrap configurations 2020-07-15",ABANDONED,2020-07-15 06:51:52.000000000,2020-07-15 06:54:41.000000000,,[],"[{'number': 1, 'created': '2020-07-15 06:51:52.000000000', 'files': ['files/rootwrap.d/ipmi.filters', 'templates/rootwrap.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/af2dbafa9560ec842dd9de85364dc414ee13421a', 'message': '[New files - needs update] Update paste, policy and rootwrap configurations 2020-07-15\n\nChange-Id: I03ed27d0c8dd7620c4bb61ea2b67e968d96b5303\n'}]",0,741096,af2dbafa9560ec842dd9de85364dc414ee13421a,2,0,1,25023,,,0,"[New files - needs update] Update paste, policy and rootwrap configurations 2020-07-15

Change-Id: I03ed27d0c8dd7620c4bb61ea2b67e968d96b5303
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/96/741096/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/rootwrap.d/ipmi.filters', 'templates/rootwrap.conf.j2']",2,af2dbafa9560ec842dd9de85364dc414ee13421a,sha-update,"# Configuration for ceilometer-rootwrap # This file should be owned by (and only-writeable by) the root user [DEFAULT] # List of directories to load filter definitions from (separated by ','). # These directories MUST all be only writeable by root ! filters_path=/etc/ceilometer/rootwrap.d,/usr/share/ceilometer/rootwrap # List of directories to search executables in, in case filters do not # explicitely specify a full path (separated by ',') # If not specified, defaults to system PATH environment variable. # These directories MUST all be only writeable by root ! exec_dirs={{ ceilometer_bin }},/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/sbin,/usr/local/bin # Enable logging to syslog # Default value is False use_syslog=False # Which syslog facility to use. # Valid values include auth, authpriv, syslog, user0, user1... # Default value is 'syslog' syslog_log_facility=syslog # Which messages to log. # INFO means log all usage # ERROR means only log unsuccessful attempts syslog_log_level=ERROR ",,32,0
openstack%2Fcinderlib~master~I6138c856bb9d9a30a43dc6eb431e7359dc0da2dd,openstack/cinderlib,master,I6138c856bb9d9a30a43dc6eb431e7359dc0da2dd,Tests: Fix format arg mismatch,MERGED,2020-07-14 20:28:32.000000000,2020-07-15 05:48:45.000000000,2020-07-14 23:20:48.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 20:28:32.000000000', 'files': ['cinderlib/tests/functional/base_tests.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/acf411975da38484da3d07c920b5cabe2e1250b5', 'message': 'Tests: Fix format arg mismatch\n\nThis message specifies an extra %s.\n\nChange-Id: I6138c856bb9d9a30a43dc6eb431e7359dc0da2dd\n'}]",0,741046,acf411975da38484da3d07c920b5cabe2e1250b5,9,4,1,4523,,,0,"Tests: Fix format arg mismatch

This message specifies an extra %s.

Change-Id: I6138c856bb9d9a30a43dc6eb431e7359dc0da2dd
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/46/741046/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderlib/tests/functional/base_tests.py'],1,acf411975da38484da3d07c920b5cabe2e1250b5,," errors.append('Error detaching %s for volume %s: %s' % (vol.local_attach.path, vol.id, exc))"," errors.append('Error detaching %s for volume %s %s: ' '%s' % (vol.local_attach.path, vol.id, exc))",2,3
openstack%2Ftripleo-ansible~stable%2Ftrain~Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,openstack/tripleo-ansible,stable/train,Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,Introduce an Action Plugin to fetch container infos,MERGED,2020-07-13 21:24:12.000000000,2020-07-15 05:29:09.000000000,2020-07-15 05:29:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-13 21:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/24357a76cde82ea2dce7325e584cdd71166a51ff', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n(cherry picked from commit 19774d0be436034ff2d5510d9cea2abbee296af1)\n'}, {'number': 2, 'created': '2020-07-14 14:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d3c27fd3e02b08a8def7dd63550c2ad16f5646c', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n(cherry picked from commit 19774d0be436034ff2d5510d9cea2abbee296af1)\n'}, {'number': 3, 'created': '2020-07-14 14:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44881ef56bdea65d1d93deb040bd3f2c3e06386e', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n(cherry picked from commit 19774d0be436034ff2d5510d9cea2abbee296af1)\n'}, {'number': 4, 'created': '2020-07-14 20:54:50.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/check_exit_code.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/get_commands_create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c2edd31a3108ddcfe640f1acd7cbde09e93df661', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n(cherry picked from commit 19774d0be436034ff2d5510d9cea2abbee296af1)\n'}]",0,740818,c2edd31a3108ddcfe640f1acd7cbde09e93df661,15,4,4,3153,,,0,"Introduce an Action Plugin to fetch container infos

Instead of running a bunch of tasks to figure out what container
commands have been run, which ones did not terminate after 5 minutes,
which ones failed or finished with a wrong exit code. We now have an
action plugin that will do it faster and with better logging.

Faster before it reduces the number of tasks.
Better logging is provided, now displaying all errors during a run and
fail at the end.

Supporting check-mode.

Re-using tripleo_container_manage role for molecule testing.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77
(cherry picked from commit 19774d0be436034ff2d5510d9cea2abbee296af1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/740818/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/check_exit_code.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/get_commands_create.yml']",6,24357a76cde82ea2dce7325e584cdd71166a51ff,infos/train,,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: ""Create a list of podman commands that are run for containers with changes"" set_fact: containers_commands: >- {{ create_async_results.results | selectattr('changed', 'equalto', true) | map(attribute='podman_actions') | default([]) | list }} - name: ""Print the list of commands that are run for containers with changes"" debug: var: containers_commands - name: ""Append the list of all podman commands that are run for containers with changes"" set_fact: all_containers_commands: ""{{ containers_commands|default([], true) + (all_containers_commands | default([]) | list) }}"" ",347,117
openstack%2Fglance~stable%2Fussuri~I789fa7adfb459e7861c90a51f418a635c0c22244,openstack/glance,stable/ussuri,I789fa7adfb459e7861c90a51f418a635c0c22244,Improve lazy loading mechanism for multiple stores,MERGED,2020-07-14 16:20:22.000000000,2020-07-15 05:19:13.000000000,2020-07-15 02:11:34.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 16:20:22.000000000', 'files': ['glance/tests/unit/common/test_utils.py', 'glance/api/authorization.py', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/common/store_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/9a104acbae328788451442f71aefbc5c20a98f3c', 'message': ""Improve lazy loading mechanism for multiple stores\n\nGlance has a facility lazy loading for legacy images which will be called\non get/list api calls to add store information in image's location metadata\nbased on location URL of image. Even if admin decides to change the store\nnames in glance-api.conf same will also be updated in location metadata\nfor all images related to that particular store. Current implementation of\nlegacy image performs this operation on each get/list call as location metadata\nis not getting updated in database or it doesn't handle to perform store name\ncheck in glance-api.conf.\n\nImprovements done:\n1. Save updated location metadata information in database permenantly\n2. Add logic to perform lazy loading only if store information is not present\nin location metadata or store present in location metadata is not defined in\nglance's enbaled_backends configuration option.\n\nChange-Id: I789fa7adfb459e7861c90a51f418a635c0c22244\nCloses-Bug: #1886374\n(cherry picked from commit ab0e5268a9c2614572659d763b3c0b6fc36dd0cf)\n""}]",0,740997,9a104acbae328788451442f71aefbc5c20a98f3c,9,3,1,9303,,,0,"Improve lazy loading mechanism for multiple stores

Glance has a facility lazy loading for legacy images which will be called
on get/list api calls to add store information in image's location metadata
based on location URL of image. Even if admin decides to change the store
names in glance-api.conf same will also be updated in location metadata
for all images related to that particular store. Current implementation of
legacy image performs this operation on each get/list call as location metadata
is not getting updated in database or it doesn't handle to perform store name
check in glance-api.conf.

Improvements done:
1. Save updated location metadata information in database permenantly
2. Add logic to perform lazy loading only if store information is not present
in location metadata or store present in location metadata is not defined in
glance's enbaled_backends configuration option.

Change-Id: I789fa7adfb459e7861c90a51f418a635c0c22244
Closes-Bug: #1886374
(cherry picked from commit ab0e5268a9c2614572659d763b3c0b6fc36dd0cf)
",git fetch https://review.opendev.org/openstack/glance refs/changes/97/740997/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_utils.py', 'glance/api/authorization.py', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/common/store_utils.py']",5,9a104acbae328788451442f71aefbc5c20a98f3c,bug/1886374-stable/ussuri,"def update_store_in_locations(image, image_repo): for loc in image.locations: if (not loc['metadata'].get( 'store') or loc['metadata'].get( 'store') not in CONF.enabled_backends): store_id = _get_store_id_from_uri(loc['url']) if store_id: if 'store' in loc['metadata']: old_store = loc['metadata']['store'] if old_store != store_id: LOG.debug(""Store '%(old)s' has changed to "" ""'%(new)s' by operator, updating "" ""the same in the location of image "" ""'%(id)s'"", {'old': old_store, 'new': store_id, 'id': image.image_id}) loc['metadata']['store'] = store_id image_repo.save(image) def get_updated_store_location(locations): return locations ","def update_store_in_locations(locations, image_id): if 'store' in loc['metadata']: old_store = loc['metadata']['store'] if old_store != store_id: LOG.debug(""Store '%(old)s' has changed to "" ""'%(new)s' by operator, updating "" ""the same in the location of image "" ""'%(id)s'"", {'old': old_store, 'new': store_id, 'id': image_id}) ",78,28
openstack%2Fkolla-ansible~stable%2Ftrain~I4286dc6ba3d42c7158aa9ea6cc6f6eda7e796c85,openstack/kolla-ansible,stable/train,I4286dc6ba3d42c7158aa9ea6cc6f6eda7e796c85,Add trove-guestagent.conf,ABANDONED,2020-06-25 10:55:08.000000000,2020-07-15 03:49:07.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-25 10:55:08.000000000', 'files': ['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c6f6a01591c73126578daf78ce233c1841d2c6f', 'message': 'Add trove-guestagent.conf\n\nBy default, when creating a trove instance, the trove-guestagent.conf\nconfiguration file is missing, causing the instance creation to fail\n\nChange-Id: I4286dc6ba3d42c7158aa9ea6cc6f6eda7e796c85\n'}]",0,737966,8c6f6a01591c73126578daf78ce233c1841d2c6f,5,3,1,32029,,,0,"Add trove-guestagent.conf

By default, when creating a trove instance, the trove-guestagent.conf
configuration file is missing, causing the instance creation to fail

Change-Id: I4286dc6ba3d42c7158aa9ea6cc6f6eda7e796c85
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/737966/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2']",2,8c6f6a01591c73126578daf78ce233c1841d2c6f,add-trove-guest-agent-conf,[DEFAULT] transport_url = {{ rpc_transport_url }} control_exchange = trove root_grant = ALL root_grant_option = True debug = {{ trove_logging_debug }} log_dir = /var/log/trove/ log_file = logfile.txt [profiler] [oslo_messaging_notifications] [mysql] [vertica] [redis] [percona] backup_namespace = trove.guestagent.strategies.backup.mysql_impl restore_namespace = trove.guestagent.strategies.restore.mysql_impl [couchbase] backup_namespace = trove.guestagent.strategies.backup.experimental.couchbase_impl restore_namespace = trove.guestagent.strategies.restore.experimental.couchbase_impl [cassandra] backup_namespace = trove.guestagent.strategies.backup.experimental.cassandra_impl restore_namespace = trove.guestagent.strategies.restore.experimental.cassandra_impl [db2] [couchdb] ,,30,0
openstack%2Fnova~master~Ie47feab31232d100da48be095feeae37c5f51a70,openstack/nova,master,Ie47feab31232d100da48be095feeae37c5f51a70,doc: Correct typo,MERGED,2020-07-13 11:15:46.000000000,2020-07-15 03:19:59.000000000,2020-07-15 03:18:02.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2020-07-13 11:15:46.000000000', 'files': ['doc/source/user/flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/84e8aa717c92585d84e539694cf19096afa35ce8', 'message': ""doc: Correct typo\n\nWe're talking mathematical symbols here, not precious metals /o\\\n\nChange-Id: Ie47feab31232d100da48be095feeae37c5f51a70\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,740670,84e8aa717c92585d84e539694cf19096afa35ce8,12,7,1,15334,,,0,"doc: Correct typo

We're talking mathematical symbols here, not precious metals /o\

Change-Id: Ie47feab31232d100da48be095feeae37c5f51a70
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/740670/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/flavors.rst'],1,84e8aa717c92585d84e539694cf19096afa35ce8,bp/use-pcpu-and-vcpu-in-one-instance," Previously, the leading caret was necessary and omitting it would be"," Previously, the leading carat was necessary and omitting it would be",1,1
openstack%2Fcinder~stable%2Fstein~Ibbe3e8671a22564828ecbd329b106d6d990e2d09,openstack/cinder,stable/stein,Ibbe3e8671a22564828ecbd329b106d6d990e2d09,PowerMax Driver - Snapshot restore payload fix,MERGED,2020-06-29 16:07:11.000000000,2020-07-15 03:19:45.000000000,2020-07-15 03:17:59.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30165}]","[{'number': 1, 'created': '2020-06-29 16:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0faa4242689af592eab6c61433db2a4c70c6547', 'message': 'PowerMax Driver - Snapshot restore payload fix\n\nRemoving deviceNameListTarget from snapshot restore\npayloads. Using this option at 90 will return a\n500 error stating that it should not be specified.\n\nChange-Id: Ibbe3e8671a22564828ecbd329b106d6d990e2d09\nCloses-Bug: 1874697\n'}, {'number': 2, 'created': '2020-06-30 09:08:33.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/70ab1b359a54d87a3e77c49371eabae79515cd05', 'message': ""PowerMax Driver - Snapshot restore payload fix\n\nRemoving deviceNameListTarget from snapshot restore\npayloads. Using this option at 90 will return a\n500 error stating that it should not be specified.\nThis specifically affects calls against Unisphere\n90 endpoint and not later PowerMAX Driver for\nCinder releases which use Unisphere's 91 endpoints\nwhen reverting to snapshots.\n\nChange-Id: Ibbe3e8671a22564828ecbd329b106d6d990e2d09\nCloses-Bug: 1874697\n""}]",0,738474,70ab1b359a54d87a3e77c49371eabae79515cd05,31,14,2,30165,,,0,"PowerMax Driver - Snapshot restore payload fix

Removing deviceNameListTarget from snapshot restore
payloads. Using this option at 90 will return a
500 error stating that it should not be specified.
This specifically affects calls against Unisphere
90 endpoint and not later PowerMAX Driver for
Cinder releases which use Unisphere's 91 endpoints
when reverting to snapshots.

Change-Id: Ibbe3e8671a22564828ecbd329b106d6d990e2d09
Closes-Bug: 1874697
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/738474/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",2,d0faa4242689af592eab6c61433db2a4c70c6547,snapshot_restore_payload_target_fix,," ""deviceNameListTarget"": [{""name"": source_id}],",0,2
openstack%2Fmagnum~master~Id7a9c5080633bca411398b7989026004e74ccb65,openstack/magnum,master,Id7a9c5080633bca411398b7989026004e74ccb65,[k8s] Fix PreDeletionFailed if Heat stack is missing,MERGED,2020-05-14 22:15:15.000000000,2020-07-15 03:07:48.000000000,2020-05-19 19:44:07.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-05-14 22:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/06b852d822b9aed0823c4faa13a5de73522b1d27', 'message': '[k8s] Fix PreDeletionFailed if Heat stack is missing\n\nWhen a stack has already been deleted, the pre-deletion tries to check\nfor loadbalancer for stack_id=None which returns PreDeletionFailed\nexception. This patch addresses this issue.\n\nChange-Id: Id7a9c5080633bca411398b7989026004e74ccb65\nStory: 2007657\nTask: 39783\n'}, {'number': 2, 'created': '2020-05-19 08:47:17.000000000', 'files': ['magnum/common/octavia.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f5d32eb51ce91ff3cda52f7b52e733263a02ad3d', 'message': '[k8s] Fix PreDeletionFailed if Heat stack is missing\n\nWhen a stack has already been deleted, the pre-deletion tries to check\nfor loadbalancer for stack_id=None which returns PreDeletionFailed\nexception. This patch addresses this issue.\n\nChange-Id: Id7a9c5080633bca411398b7989026004e74ccb65\nStory: 2007657\nTask: 39783\n'}]",0,728304,f5d32eb51ce91ff3cda52f7b52e733263a02ad3d,15,4,2,28022,,,0,"[k8s] Fix PreDeletionFailed if Heat stack is missing

When a stack has already been deleted, the pre-deletion tries to check
for loadbalancer for stack_id=None which returns PreDeletionFailed
exception. This patch addresses this issue.

Change-Id: Id7a9c5080633bca411398b7989026004e74ccb65
Story: 2007657
Task: 39783
",git fetch https://review.opendev.org/openstack/magnum refs/changes/04/728304/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/common/octavia.py'],1,06b852d822b9aed0823c4faa13a5de73522b1d27,fix-predeletion," # NOTE (brtknr): If stack has been deleted, cluster fails to delete # because stack_id resolves to None. Return if that is the case. if not cluster.stack_id: return ",,5,0
openstack%2Ftripleo-ansible~stable%2Ftrain~If412bfbd96d28d2ddcb1b1fde7486549129e93b0,openstack/tripleo-ansible,stable/train,If412bfbd96d28d2ddcb1b1fde7486549129e93b0,[train-only] add tenacity as a molecule requirements,MERGED,2020-07-14 14:48:06.000000000,2020-07-15 02:58:00.000000000,2020-07-15 02:57:59.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 14:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f3a0e2985d807bd75cac3cc7ebd029c24d9a235', 'message': ""[train-only] add tenacity as a molecule requirements\n\nThis was indirectly introduced when we added tripleo-common as a\nrequirement in Ib64307defe4d5a0e06ad862ab9f51d1da3d23312.\n\nSince we don't want to backport the mistral2ansible work, we don't need\nto require the whole tripleo-common + dependencies; so let's just add\nwhat we need for the container_status action plugin backport:\nIe7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n\nChange-Id: If412bfbd96d28d2ddcb1b1fde7486549129e93b0\n""}, {'number': 2, 'created': '2020-07-14 14:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89cf5297477e7b98147c6023a04ca704feddcd9f', 'message': ""[train-only] add tenacity as a molecule requirements\n\nThis was indirectly introduced when we added tripleo-common as a\nrequirement in Ib64307defe4d5a0e06ad862ab9f51d1da3d23312.\n\nSince we don't want to backport the mistral2ansible work, we don't need\nto require the whole tripleo-common + dependencies; so let's just add\nwhat we need for the container_status action plugin backport:\nIe7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n\nChange-Id: If412bfbd96d28d2ddcb1b1fde7486549129e93b0\n""}, {'number': 3, 'created': '2020-07-14 20:54:42.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2a34778b80cb10f34fc9459969dd2af250c36b7', 'message': ""[train-only] add tenacity as a molecule requirements\n\nThis was indirectly introduced when we added tripleo-common as a\nrequirement in Ib64307defe4d5a0e06ad862ab9f51d1da3d23312.\n\nSince we don't want to backport the mistral2ansible work, we don't need\nto require the whole tripleo-common + dependencies; so let's just add\nwhat we need for the container_status action plugin backport:\nIe7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n\nChange-Id: If412bfbd96d28d2ddcb1b1fde7486549129e93b0\n""}]",0,740981,b2a34778b80cb10f34fc9459969dd2af250c36b7,12,4,3,3153,,,0,"[train-only] add tenacity as a molecule requirements

This was indirectly introduced when we added tripleo-common as a
requirement in Ib64307defe4d5a0e06ad862ab9f51d1da3d23312.

Since we don't want to backport the mistral2ansible work, we don't need
to require the whole tripleo-common + dependencies; so let's just add
what we need for the container_status action plugin backport:
Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77

Change-Id: If412bfbd96d28d2ddcb1b1fde7486549129e93b0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/740981/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,3f3a0e2985d807bd75cac3cc7ebd029c24d9a235,tenacity/train, tripleo-common,,2,0
openstack%2Ftripleo-common~stable%2Fussuri~Id13028ab911ba91d67787ca8247effc02017fcbc,openstack/tripleo-common,stable/ussuri,Id13028ab911ba91d67787ca8247effc02017fcbc,tcib: move cradox to gnocchi-base & enable ci on scenario001,MERGED,2020-07-06 16:14:58.000000000,2020-07-15 02:41:52.000000000,2020-07-15 02:38:33.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 16:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a1df987d92be8fafa555001346524f93e6ad2ea0', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n""}, {'number': 2, 'created': '2020-07-06 19:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1d2d66fa4629d74bc329f44d3904c7cfdfba26b7', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n""}, {'number': 3, 'created': '2020-07-08 01:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/64fedabb2720cf4d106b6851afaece6e11f5480f', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n""}, {'number': 4, 'created': '2020-07-13 01:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/512409701e928901775514c89e4809e014e60eaf', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n""}, {'number': 5, 'created': '2020-07-14 01:51:49.000000000', 'files': ['container-images/tcib/base/os/gnocchi-base/gnocchi-api/gnocchi-api.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55573ec43fdc9ffddbbf9928ab4b16df8edc56c3', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n""}]",0,739534,55573ec43fdc9ffddbbf9928ab4b16df8edc56c3,43,4,5,3153,,,0,"tcib: move cradox to gnocchi-base & enable ci on scenario001

gnocchi-db-sync requires cradox to be installed if RBD backend is used.
Until we fix it properly in the distgit, let's make sure cradox is in
the base image for gnocchi. It also requires httpd and deps for the
dv_sync to operate when Ceph is installed.

With that patch, we can now test container builds on scenario001.

Change-Id: Id13028ab911ba91d67787ca8247effc02017fcbc
(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/34/739534/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/gnocchi-base/gnocchi-api/gnocchi-api.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'zuul.d/layout.yaml']",3,a1df987d92be8fafa555001346524f93e6ad2ea0,scen001/ussuri, vars: build_container_images: true files: - ^container-images/tcib/base/collectd.*$ - ^container-images/tcib/base/os/aodh.*$ - ^container-images/tcib/base/os/ceilometer.*$ - ^container-images/tcib/base/os/cinder.*$ - ^container-images/tcib/base/os/gnocchi.*$ - ^container-images/tcib/base/os/heat.*$ - ^container-images/tcib/base/qdrouterd.*$ - ^container-images/tcib/base/rabbitmq.*$ - ^container-images/tcib/base/redis.*$,,19,6
openstack%2Ftripleo-common~stable%2Fussuri~I82f4945bf1178fad1ff511c994518008f308d12e,openstack/tripleo-common,stable/ussuri,I82f4945bf1178fad1ff511c994518008f308d12e,Add tripleo_states to default callback whitelist,MERGED,2020-07-14 17:46:04.000000000,2020-07-15 02:40:44.000000000,2020-07-15 02:38:32.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 17:46:04.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d270b07f80a4345ed818e8abf767d5afa2b415a4', 'message': 'Add tripleo_states to default callback whitelist\n\ntripleo_states will be a useful callback to print out informations about\na deployment state (e.g. if a node failed but was ignored because of\nmax_failed_percentage).\n\nDepends-On: https://review.opendev.org/735962\nChange-Id: I82f4945bf1178fad1ff511c994518008f308d12e\n(cherry picked from commit c1dad1ced1fffe3c8e8ec727fc81ccb601b61b8a)\n'}]",0,741014,d270b07f80a4345ed818e8abf767d5afa2b415a4,8,3,1,3153,,,0,"Add tripleo_states to default callback whitelist

tripleo_states will be a useful callback to print out informations about
a deployment state (e.g. if a node failed but was ignored because of
max_failed_percentage).

Depends-On: https://review.opendev.org/735962
Change-Id: I82f4945bf1178fad1ff511c994518008f308d12e
(cherry picked from commit c1dad1ced1fffe3c8e8ec727fc81ccb601b61b8a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/741014/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py']",2,d270b07f80a4345ed818e8abf767d5afa2b415a4,strategy-improvements-stable/ussuri," 'tripleo_dense,tripleo_profile_tasks,tripleo_states',"," 'tripleo_dense,tripleo_profile_tasks',",4,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac,openstack/tripleo-heat-templates,stable/ussuri,I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac,Generate container startup configs with a new module,MERGED,2020-07-14 17:38:15.000000000,2020-07-15 02:38:30.000000000,2020-07-15 02:38:30.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 17:38:15.000000000', 'files': ['common/container_startup_configs_tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ed5c76e46ff27c85c6849a0b14f0b934964b525', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n(cherry picked from commit c587d74ae192fa9562b42ed118fc946547a6c899)\n""}]",0,741010,4ed5c76e46ff27c85c6849a0b14f0b934964b525,7,3,1,3153,,,0,"Generate container startup configs with a new module

Remove container_startup_configs_tasks.yaml playbook, and some set_fact
tasks that aren't needed anymore; since we now have a module to generate
container startup config files.

Change-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac
(cherry picked from commit c587d74ae192fa9562b42ed118fc946547a6c899)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/741010/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/container_startup_configs_tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml']",3,4ed5c76e46ff27c85c6849a0b14f0b934964b525,startup/ussuri," container_startup_config: config_base_dir: /var/lib/tripleo-config/container-startup-config config_data: ""{{ lookup('file', (tripleo_role_name + '/docker_config.yaml'), errors='ignore') | default({}, True) | from_yaml }}""","# Here we are dumping all the container startup configuration data # so that we can have access to how they are started outside of heat # and container cmd. This lets us create command line tools to test containers. - name: Set container_config_default fact no_log: True set_fact: container_config_default: ""{{ container_config_default | default({}) | combine( {'step_' + item: {}} ) }}"" with_sequence: count={{ deploy_steps_max }} tags: - container_startup_configs - name: Set container_startup_configs_with_default fact no_log: True set_fact: container_config_with_default: ""{{ container_config_default | combine(role_data_container_config) }}"" vars: role_data_container_config: ""{{ lookup('file', tripleo_role_name + '/docker_config.yaml', errors='ignore') | default({}, True) | from_yaml }}"" tags: - container_startup_configs no_log: True include_tasks: container_startup_configs_tasks.yaml loop: ""{{ container_config_with_default | dictsort }}""",3,50
openstack%2Fmanila~stable%2Fstein~I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47,openstack/manila,stable/stein,I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47,Add asynchronous error info into messages when share extend error,MERGED,2020-07-01 19:55:40.000000000,2020-07-15 02:27:35.000000000,2020-07-15 02:26:01.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2020-07-01 19:55:40.000000000', 'files': ['releasenotes/notes/bug-1850264-add-async-error-when-share-extend-error-a0c458204b395994.yaml', 'manila/share/manager.py', 'manila/message/message_field.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/baefbcd0a9c086bd0a019bdfdfa2dc7bcb60534c', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages, extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. This commit modify this behavior, and\nnow this asynchronows error is recorded in the database.\n\nCloses-Bug:#1850264\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n(cherry picked from commit be149c4c6bf354048bfb9f31d27c4a1b64de3fe1)\n(cherry picked from commit badb396732f4744159be24ece2799fb1377d07d8)\n'}]",0,738927,baefbcd0a9c086bd0a019bdfdfa2dc7bcb60534c,20,7,1,16643,,,0,"Add asynchronous error info into messages when share extend error

The database table messages is used to record various asynchronous error
messages, extend share is an asynchronously invoked procedure, when the
driver layer fails to execute extend share, we should record this
asynchronous error into database. This commit modify this behavior, and
now this asynchronows error is recorded in the database.

Closes-Bug:#1850264
Change-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47
(cherry picked from commit be149c4c6bf354048bfb9f31d27c4a1b64de3fe1)
(cherry picked from commit badb396732f4744159be24ece2799fb1377d07d8)
",git fetch https://review.opendev.org/openstack/manila refs/changes/27/738927/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1850264-add-async-error-when-share-extend-error-a0c458204b395994.yaml', 'manila/share/manager.py', 'manila/message/message_field.py']",3,baefbcd0a9c086bd0a019bdfdfa2dc7bcb60534c,bug/1850264," EXTEND = ('008', _('extend')) DELETE, EXTEND) DRIVER_FAILED_EXTEND = ( '015', _(""Share Driver failed to extend share, The share status has been "" ""set to extending_error. This action cannot be re-attempted until "" ""the status has been rectified. Contact your administrator to "" ""determine the cause of this failure."")) FILTER_REPLICATION, DRIVER_FAILED_EXTEND)", DELETE) FILTER_REPLICATION),23,3
openstack%2Fpuppet-zaqar~master~Idd537cb57d0a4eae63a99e4df1c9a65c41c8e277,openstack/puppet-zaqar,master,Idd537cb57d0a4eae63a99e4df1c9a65c41c8e277,Change to relative include,MERGED,2020-07-13 19:25:21.000000000,2020-07-15 02:18:11.000000000,2020-07-15 02:18:11.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:25:21.000000000', 'files': ['manifests/client.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/cca0a1d43a395142c7f8dde45e899827a80044ed', 'message': 'Change to relative include\n\nChange-Id: Idd537cb57d0a4eae63a99e4df1c9a65c41c8e277\n'}]",0,740798,cca0a1d43a395142c7f8dde45e899827a80044ed,15,3,1,16137,,,0,"Change to relative include

Change-Id: Idd537cb57d0a4eae63a99e4df1c9a65c41c8e277
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/98/740798/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/client.pp'],1,cca0a1d43a395142c7f8dde45e899827a80044ed,, include openstacklib::openstackclient, include '::openstacklib::openstackclient',1,1
openstack%2Fneutron~stable%2Fussuri~Ib4cbeb7c9f0c1e959ad53570320610925ff3d88f,openstack/neutron,stable/ussuri,Ib4cbeb7c9f0c1e959ad53570320610925ff3d88f,"DhcpFilter should always return a valid index if ""force_scheduling""",MERGED,2020-06-26 09:59:18.000000000,2020-07-15 02:13:10.000000000,2020-07-15 02:11:31.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-26 09:59:18.000000000', 'files': ['neutron/tests/unit/scheduler/test_dhcp_agent_scheduler.py', 'neutron/scheduler/dhcp_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b86aff85e9d3c17e8243070d004da0cde1c0bdb', 'message': 'DhcpFilter should always return a valid index if ""force_scheduling""\n\nWHen retrieving a vacant DHCP agent binding index, if\n""force_scheduling"" is set, the method should return a valid binding\nindex. If the existing binding indexes are sequentially aligned,\nthe method will return a new one on top; if there is a gap in the\nbinding indexes list, the first free index will be returned.\n\nChange-Id: Ib4cbeb7c9f0c1e959ad53570320610925ff3d88f\nCloses-Bug: #1883513\n(cherry picked from commit ed56429548dd8d08de10a7d451680a43e34c865c)\n'}]",0,738178,1b86aff85e9d3c17e8243070d004da0cde1c0bdb,30,6,1,16688,,,0,"DhcpFilter should always return a valid index if ""force_scheduling""

WHen retrieving a vacant DHCP agent binding index, if
""force_scheduling"" is set, the method should return a valid binding
index. If the existing binding indexes are sequentially aligned,
the method will return a new one on top; if there is a gap in the
binding indexes list, the first free index will be returned.

Change-Id: Ib4cbeb7c9f0c1e959ad53570320610925ff3d88f
Closes-Bug: #1883513
(cherry picked from commit ed56429548dd8d08de10a7d451680a43e34c865c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/738178/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/scheduler/test_dhcp_agent_scheduler.py', 'neutron/scheduler/dhcp_agent_scheduler.py']",2,1b86aff85e9d3c17e8243070d004da0cde1c0bdb,bug/1883513," if not force_scheduling: return -1 # dhcp_agents_per_network. if max(binding_indices) == len(binding_indices): return max(binding_indices) + 1 else: # Find binding index set gaps and return first free one. all_indices = set(range(ndab_model.LOWEST_BINDING_INDEX, max(binding_indices) + 1)) open_slots = sorted(list(all_indices - set(binding_indices))) return open_slots[0]", # max_l3_agents_per_router. if force_scheduling: return max(all_indices) + 1 return -1,71,5
openstack%2Ftripleo-ci~master~I3a258465a019c8737aaa9fbf0d11749663a95a5b,openstack/tripleo-ci,master,I3a258465a019c8737aaa9fbf0d11749663a95a5b,"Move sahara-{api, engine} containers to exclude list",ABANDONED,2020-07-14 05:23:13.000000000,2020-07-15 02:00:42.000000000,,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10459}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-14 05:23:13.000000000', 'files': ['roles/build-containers/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/36d8d4c52b43033e90f2dc23915a7d78f237c8ca', 'message': 'Move sahara-{api, engine} containers to exclude list\n\nhttps://review.opendev.org/#/c/719438/ marked the deprecation\nof sahara-{api, engine} in tripleo during ussuri cycle. So, we\nare moving the containers to exclude list so that\nbuild-containers role ignore these containers.\n\nChange-Id: I3a258465a019c8737aaa9fbf0d11749663a95a5b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,740869,36d8d4c52b43033e90f2dc23915a7d78f237c8ca,11,9,1,12393,,,0,"Move sahara-{api, engine} containers to exclude list

https://review.opendev.org/#/c/719438/ marked the deprecation
of sahara-{api, engine} in tripleo during ussuri cycle. So, we
are moving the containers to exclude list so that
build-containers role ignore these containers.

Change-Id: I3a258465a019c8737aaa9fbf0d11749663a95a5b
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/69/740869/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/vars/main.yaml'],1,36d8d4c52b43033e90f2dc23915a7d78f237c8ca,sahara_skip, - sahara-api - sahara-engine train: - fluentd - opendaylight - neutron-server-opendaylight - neutron-mlnx-agent - skydive-agent - skydive-analyzer - sensu-client - sensu-base - influxdb, train: *exclude_containers,12,1
openstack%2Fpuppet-manila~master~I71ef2b5831420a59a3ef0fb9dbad672c27734c1d,openstack/puppet-manila,master,I71ef2b5831420a59a3ef0fb9dbad672c27734c1d,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-14 12:18:17.000000000,2020-07-15 01:02:04.000000000,2020-07-15 01:00:55.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 12:18:17.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-a8c03fe93a850caa.yaml', 'spec/classes/manila_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/b92f8a9238b981f18f88540adcd3957efd4bdc81', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I71ef2b5831420a59a3ef0fb9dbad672c27734c1d\n'}]",0,740947,b92f8a9238b981f18f88540adcd3957efd4bdc81,12,4,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I71ef2b5831420a59a3ef0fb9dbad672c27734c1d
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/47/740947/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-a8c03fe93a850caa.yaml', 'spec/classes/manila_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,b92f8a9238b981f18f88540adcd3957efd4bdc81,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ifca6bfae046377aac9847783ca55cfdb4ced1fe5,openstack/tripleo-ansible,stable/train,Ifca6bfae046377aac9847783ca55cfdb4ced1fe5,[train-only] change parent for tripleo-ansible-centos-7-role-addition,MERGED,2020-07-14 20:47:11.000000000,2020-07-15 00:06:33.000000000,2020-07-15 00:06:32.000000000,"[{'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 20:47:11.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4525c8aee09af5b4dfa1cb452ea9629517e636e9', 'message': '[train-only] change parent for tripleo-ansible-centos-7-role-addition\n\nUsing tripleo-ansible-centos-7-base parent instead of tox-molecule to\nget the node prepared correctly on centos7 and avoid the failure:\n\n""No package matching \'libsemanage-python3\' found available, installed or\nupdated""\n\nFrom TASK [bindep : Install distro packages from bindep].\n\nI\'ll still run bindep but deal with libsemanage-python3 not being\navailable.\n\nChange-Id: Ifca6bfae046377aac9847783ca55cfdb4ced1fe5\n'}]",0,741050,4525c8aee09af5b4dfa1cb452ea9629517e636e9,8,4,1,3153,,,0,"[train-only] change parent for tripleo-ansible-centos-7-role-addition

Using tripleo-ansible-centos-7-base parent instead of tox-molecule to
get the node prepared correctly on centos7 and avoid the failure:

""No package matching 'libsemanage-python3' found available, installed or
updated""

From TASK [bindep : Install distro packages from bindep].

I'll still run bindep but deal with libsemanage-python3 not being
available.

Change-Id: Ifca6bfae046377aac9847783ca55cfdb4ced1fe5
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/741050/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,4525c8aee09af5b4dfa1cb452ea9629517e636e9,role-addition/train, parent: tripleo-ansible-centos-7-base, nodeset: centos-7 parent: tox-molecule,1,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I4c84b389b595a8fe18ef6d31e896d6b6608b9920,openstack/tripleo-ansible,stable/ussuri,I4c84b389b595a8fe18ef6d31e896d6b6608b9920,"container_status: ""exec"" checks status",MERGED,2020-07-14 17:41:43.000000000,2020-07-15 00:06:32.000000000,2020-07-15 00:06:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 17:41:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/get_commands_exec.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c91a78c3633051bc1df3ed71b7fc2253d3a12e46', 'message': 'container_status: ""exec"" checks status\n\nSupport the checks of ""podman exec"" commands, and add the commands to\nthe list of things podman ran.\n\nIt reduces the number of tasks as it removes get_commands_exec and\nre-use the container_status action plugin.\n\nChange-Id: I4c84b389b595a8fe18ef6d31e896d6b6608b9920\n(cherry picked from commit 3ce9d50a7f3a62a63561c473b6dc764a458eb1e9)\n'}]",0,741012,c91a78c3633051bc1df3ed71b7fc2253d3a12e46,7,3,1,3153,,,0,"container_status: ""exec"" checks status

Support the checks of ""podman exec"" commands, and add the commands to
the list of things podman ran.

It reduces the number of tasks as it removes get_commands_exec and
re-use the container_status action plugin.

Change-Id: I4c84b389b595a8fe18ef6d31e896d6b6608b9920
(cherry picked from commit 3ce9d50a7f3a62a63561c473b6dc764a458eb1e9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/741012/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/get_commands_exec.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py']",3,c91a78c3633051bc1df3ed71b7fc2253d3a12e46,exec/ux-stable/ussuri," containers_exec = [] containers_run = [] if 'restart' in values: if 'action' in values: containers_exec.append(name) containers_run.append(name) if self.debug and len(containers_run) > 0: '{}'.format(containers_run)) if self.debug and len(containers_exec) > 0: DISPLAY.display('These containers exec are supposed to terminate ' 'with a valid exit code and will be checked: ' '{}'.format(containers_exec)) return containers_run def _get_commands(self, results): try: if item['changed']: commands.extend(item['podman_actions']) except KeyError: if 'cmd' in item: commands.append(' '.join(item['cmd'])) else: raise AnsibleActionFail('Wrong async result data, missing' ' podman_actions or cmd:' ' {}'.format(item)) create_failed = [] exec_failed = [] if 'create_async_result_item' in item: async_item = item['create_async_result_item'] if item['changed']: for name, c in async_item['container_data'].items(): changed.append(name) if (item['failed'] or not item['finished'] or ('stderr' in async_item and async_item['stderr'] != '')): for name, c in async_item['container_data'].items(): create_failed.append(name) if 'exec_async_result_item' in item: async_item = item['exec_async_result_item'] if item['rc'] != 0: for name, c in async_item['container_exec_data'].items(): exec_failed.append(name) return (changed, create_failed, exec_failed) containers_run_to_check = self._get_containers_to_check(container_data) if len(valid_exit_codes) > 0 and len(containers_run_to_check) > 0: containers_run_to_check, (self.changed_containers, async_failed, exec_failed) = ( if len(exec_failed) > 0: DISPLAY.error('Container(s) exec commands which failed to execute' ': {}'.format(failed)) total_errors = list(set(failed + exec_failed + async_failed + running)) container_commands = self._get_commands(async_results)"," containers = [] if 'action' in values or 'restart' in values: containers.append(name) if self.debug and len(containers) > 0: '{}'.format(containers)) return containers def _get_create_commands(self, results): if item['changed']: commands.extend(item['podman_actions']) failed = [] async_result_item = item['create_async_result_item'] if item['changed']: for name, c in async_result_item['container_data'].items(): changed.append(name) if (item['failed'] or not item['finished'] or ('stderr' in async_result_item and async_result_item['stderr'] != '')): for name, c in async_result_item['container_data'].items(): failed.append(name) return (changed, failed) containers_to_check = self._get_containers_to_check(container_data) if len(valid_exit_codes) > 0 and len(containers_to_check) > 0: containers_to_check, (self.changed_containers, async_failed) = ( total_errors = list(set(failed + async_failed + running)) container_commands = self._get_create_commands(async_results)",63,61
openstack%2Ftripleo-upgrade~stable%2Ftrain~I35df29521c1807113710d7d6cc039551400ebe2f,openstack/tripleo-upgrade,stable/train,I35df29521c1807113710d7d6cc039551400ebe2f,Fix RUN_ANSWER unbount variable issue,MERGED,2020-07-14 15:10:19.000000000,2020-07-14 23:57:23.000000000,2020-07-14 23:57:23.000000000,"[{'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 15:10:19.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/becb5c0bab575678fbb1464c060da164a3f56d38', 'message': 'Fix RUN_ANSWER unbount variable issue\n\nSince merging Ibb0676e7a3d97645e4e8a2553e7ec175e96a14b4\n""Add --yes into update commands to autoconfirm."" into stable/train\nmy FFU attempts are failing with:\n/home/stack/overcloud_system_upgrade-controller-0.sh: line 11: RUN_ANSWER: unbound variable\n\nReason for this is that RUN_ANSWER gets set only inside the if ceph_osd_enabled\nbranch, which in my case is false. Let\'s move setting that variable\noutside the if so it gets set everytime.\n\nThis script seems to be the only one where it was inadvertently left\ninside the if.\n\nChange-Id: I35df29521c1807113710d7d6cc039551400ebe2f\n(cherry picked from commit 81314a4546c6f98c2e0de6898faf54ae8220a4e3)\n'}]",0,740984,becb5c0bab575678fbb1464c060da164a3f56d38,7,4,1,6816,,,0,"Fix RUN_ANSWER unbount variable issue

Since merging Ibb0676e7a3d97645e4e8a2553e7ec175e96a14b4
""Add --yes into update commands to autoconfirm."" into stable/train
my FFU attempts are failing with:
/home/stack/overcloud_system_upgrade-controller-0.sh: line 11: RUN_ANSWER: unbound variable

Reason for this is that RUN_ANSWER gets set only inside the if ceph_osd_enabled
branch, which in my case is false. Let's move setting that variable
outside the if so it gets set everytime.

This script seems to be the only one where it was inadvertently left
inside the if.

Change-Id: I35df29521c1807113710d7d6cc039551400ebe2f
(cherry picked from commit 81314a4546c6f98c2e0de6898faf54ae8220a4e3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/84/740984/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'],1,becb5c0bab575678fbb1464c060da164a3f56d38,fix-runanswer-stable/train,"RUN_ANSWER="""" if openstack overcloud upgrade run --help | grep -qe ""--yes""; then RUN_ANSWER=""--yes"" fi ","RUN_ANSWER="""" if openstack overcloud upgrade run --help | grep -qe ""--yes""; then RUN_ANSWER=""--yes"" fi ",5,5
openstack%2Fos-brick~stable%2Ftrain~I7e761828b3799cef720e15ca7896e8e8d6f98182,openstack/os-brick,stable/train,I7e761828b3799cef720e15ca7896e8e8d6f98182,rbd: Correct local_attach disconnect test and showmapped arguments,MERGED,2020-06-08 13:49:19.000000000,2020-07-14 23:24:48.000000000,2020-07-14 23:23:35.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-06-08 13:49:19.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0ae0afbb0facbecd8768c6052c9ac1e85d7b6329', 'message': 'rbd: Correct local_attach disconnect test and showmapped arguments\n\nId507109df80391699074773f4787f74507c4b882 introduced the showmapped\ncommand when attempting to disconnect locally attached rbd volumes.\nUnfortunately at the time the test changes incorrectly attempted to\nassert the commands made by using has_calls instead of the valid\nassert_has_calls method.\n\nThis change now corrects this, ensures _get_rbd_args is called to\npopulate all of the required arguments for the showmapped command and\nfinally corrects the name stored within the fake showmapped output in\nthe test.\n\nChange-Id: I7e761828b3799cef720e15ca7896e8e8d6f98182\n(cherry picked from commit 71331b0e06a713a0883f0c1199923e0943adcf09)\n(cherry picked from commit 55cfc975811584bb533211253b8506028dbbb958)\n'}]",0,734091,0ae0afbb0facbecd8768c6052c9ac1e85d7b6329,31,11,1,4523,,,0,"rbd: Correct local_attach disconnect test and showmapped arguments

Id507109df80391699074773f4787f74507c4b882 introduced the showmapped
command when attempting to disconnect locally attached rbd volumes.
Unfortunately at the time the test changes incorrectly attempted to
assert the commands made by using has_calls instead of the valid
assert_has_calls method.

This change now corrects this, ensures _get_rbd_args is called to
populate all of the required arguments for the showmapped command and
finally corrects the name stored within the fake showmapped output in
the test.

Change-Id: I7e761828b3799cef720e15ca7896e8e8d6f98182
(cherry picked from commit 71331b0e06a713a0883f0c1199923e0943adcf09)
(cherry picked from commit 55cfc975811584bb533211253b8506028dbbb958)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/91/734091/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py']",2,0ae0afbb0facbecd8768c6052c9ac1e85d7b6329,, cmd += self._get_rbd_args(connection_properties),,4,3
openstack%2Fnova~stable%2Frocky~I764481966c96a67d993da6e902dc9fc3ad29ee36,openstack/nova,stable/rocky,I764481966c96a67d993da6e902dc9fc3ad29ee36,libvirt: Don't delete disks on shared storage during evacuate,MERGED,2020-06-02 15:11:58.000000000,2020-07-14 23:20:45.000000000,2020-07-14 23:20:45.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-02 15:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5146594bec8919d49dc6999d587a66eefb3059d', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit d298f7763b709cfc01f89222de31f566310748b3)\n(cherry picked from commit 005fcaf01f22aebee58ee70cdcc7ef56da6c59af)\n(cherry picked from commit 672a567a9b27e645b9a84e034dfcec280bb089e9)\n""}, {'number': 2, 'created': '2020-06-09 16:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/920c3c4cc534b3f6d831b78a2630a9bf268ac40e', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nChanges:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nNOTE(stephenfin): Conflicts due to\nId4d8ecb8fee46b21590ebcc62a2850030cef6508 (""objects: Store\nInstancePCIRequest.numa_policy in DB"") not being present on\nstable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit d298f7763b709cfc01f89222de31f566310748b3)\n(cherry picked from commit 005fcaf01f22aebee58ee70cdcc7ef56da6c59af)\n(cherry picked from commit 889975ff16bee0f63bfe8603ef6870d71c4e937b)\n'}, {'number': 3, 'created': '2020-06-10 02:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c5b9058b9947f94e9334e57a5d1556839c3c7a9', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nNOTE(stephenfin): Conflicts due to\nId4d8ecb8fee46b21590ebcc62a2850030cef6508 (""objects: Store\nInstancePCIRequest.numa_policy in DB"") not being present on\nstable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)\n(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)\n'}, {'number': 4, 'created': '2020-07-06 21:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ea9d8ea96b999c2739c402be7de89627da85e43', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nNOTE(stephenfin): Conflicts due to\nId4d8ecb8fee46b21590ebcc62a2850030cef6508 (""objects: Store\nInstancePCIRequest.numa_policy in DB"") not being present on\nstable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)\n(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)\n'}, {'number': 5, 'created': '2020-07-06 21:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b35a3c8165cf6145a96c6453c6696cd47665982', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nNOTE(stephenfin): Conflicts due to\nId4d8ecb8fee46b21590ebcc62a2850030cef6508 (""objects: Store\nInstancePCIRequest.numa_policy in DB"") not being present on\nstable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)\n(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)\n'}, {'number': 6, 'created': '2020-07-06 21:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f40c07665d679f43f8e7d03b021e3923ee6b39a1', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nNOTE(stephenfin): Conflicts due to\nId4d8ecb8fee46b21590ebcc62a2850030cef6508 (""objects: Store\nInstancePCIRequest.numa_policy in DB"") not being present on\nstable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)\n(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)\n'}, {'number': 7, 'created': '2020-07-09 13:05:51.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ae7602c1206de23439d6c3609b5872831138aa99', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nNOTE(stephenfin): Conflicts due to\nId4d8ecb8fee46b21590ebcc62a2850030cef6508 (""objects: Store\nInstancePCIRequest.numa_policy in DB"") not being present on\nstable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)\n(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)\n'}]",3,732708,ae7602c1206de23439d6c3609b5872831138aa99,55,10,7,10135,,,0,"libvirt: Don't delete disks on shared storage during evacuate

When evacuating an instance between compute hosts on shared storage,
during the rebuild operation we call spawn() on the destination
compute. spawn() currently assumes that it should cleanup all
resources on failure, which results in user data being deleted in the
evacuate case.

This change modifies spawn in the libvirt driver such that it only
cleans up resources it created.

Conflicts:
    nova/tests/functional/libvirt/test_pci_sriov_servers.py

NOTE(stephenfin): Conflicts due to
Id4d8ecb8fee46b21590ebcc62a2850030cef6508 (""objects: Store
InstancePCIRequest.numa_policy in DB"") not being present on
stable/rocky.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1550919
Change-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36
(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)
(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)
(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)
(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/732708/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,e5146594bec8919d49dc6999d587a66eefb3059d,bug/1550919," mock.patch.object(drvr, '_cleanup')): cleanup_instance_dir=False, cleanup_instance_disks=False): mock.patch.object(drvr, '_cleanup')): @mock.patch.object(drvr, '_cleanup') self.assertRaises( test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( self.context, instance, [], None, None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, None, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: self.assertRaises( test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( None, None, None, block_device_info=None, destroy_vifs=True, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks)"," mock.patch.object(drvr, 'cleanup')): destroy_disks_on_failure=False): mock.patch.object(drvr, 'cleanup')): @mock.patch.object(drvr, 'cleanup') self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, False) # destroy_disks_on_failure=True, used only by spawn() mock_cleanup.reset_mock() self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, destroy_disks_on_failure=True) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, True) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, None, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: self.assertRaises(test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, True) mock_cleanup.assert_called_once_with(None, None, network_info=None, block_device_info=None, destroy_disks=True)",181,88
openstack%2Ftripleo-upgrade~stable%2Fussuri~I35df29521c1807113710d7d6cc039551400ebe2f,openstack/tripleo-upgrade,stable/ussuri,I35df29521c1807113710d7d6cc039551400ebe2f,Fix RUN_ANSWER unbount variable issue,MERGED,2020-07-14 15:10:05.000000000,2020-07-14 23:06:24.000000000,2020-07-14 23:06:23.000000000,"[{'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 15:10:05.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/038f99e94019b6982943d0da45c95aa175257198', 'message': 'Fix RUN_ANSWER unbount variable issue\n\nSince merging Ibb0676e7a3d97645e4e8a2553e7ec175e96a14b4\n""Add --yes into update commands to autoconfirm."" into stable/train\nmy FFU attempts are failing with:\n/home/stack/overcloud_system_upgrade-controller-0.sh: line 11: RUN_ANSWER: unbound variable\n\nReason for this is that RUN_ANSWER gets set only inside the if ceph_osd_enabled\nbranch, which in my case is false. Let\'s move setting that variable\noutside the if so it gets set everytime.\n\nThis script seems to be the only one where it was inadvertently left\ninside the if.\n\nChange-Id: I35df29521c1807113710d7d6cc039551400ebe2f\n(cherry picked from commit 81314a4546c6f98c2e0de6898faf54ae8220a4e3)\n'}]",0,740983,038f99e94019b6982943d0da45c95aa175257198,7,4,1,6816,,,0,"Fix RUN_ANSWER unbount variable issue

Since merging Ibb0676e7a3d97645e4e8a2553e7ec175e96a14b4
""Add --yes into update commands to autoconfirm."" into stable/train
my FFU attempts are failing with:
/home/stack/overcloud_system_upgrade-controller-0.sh: line 11: RUN_ANSWER: unbound variable

Reason for this is that RUN_ANSWER gets set only inside the if ceph_osd_enabled
branch, which in my case is false. Let's move setting that variable
outside the if so it gets set everytime.

This script seems to be the only one where it was inadvertently left
inside the if.

Change-Id: I35df29521c1807113710d7d6cc039551400ebe2f
(cherry picked from commit 81314a4546c6f98c2e0de6898faf54ae8220a4e3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/83/740983/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'],1,038f99e94019b6982943d0da45c95aa175257198,fix-runanswer-stable/ussuri,"RUN_ANSWER="""" if openstack overcloud upgrade run --help | grep -qe ""--yes""; then RUN_ANSWER=""--yes"" fi ","RUN_ANSWER="""" if openstack overcloud upgrade run --help | grep -qe ""--yes""; then RUN_ANSWER=""--yes"" fi ",5,5
openstack%2Ftripleo-ci~master~I150232a5a229b170ce7ff058fff93e74f52736bc,openstack/tripleo-ci,master,I150232a5a229b170ce7ff058fff93e74f52736bc,Restore building octavia containers for OSP-17,MERGED,2020-07-14 14:48:21.000000000,2020-07-14 23:06:22.000000000,2020-07-14 23:06:22.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-07-14 14:48:21.000000000', 'files': ['roles/build-containers/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4440149e77a8681ff15749bb2f0c0b0a7bab82a4', 'message': 'Restore building octavia containers for OSP-17\n\nThe python-ovn-octavia-provider package - which was\nfailing the build previously - has been added in DLRN.\n\nChange-Id: I150232a5a229b170ce7ff058fff93e74f52736bc\n'}]",0,740982,4440149e77a8681ff15749bb2f0c0b0a7bab82a4,9,5,1,9976,,,0,"Restore building octavia containers for OSP-17

The python-ovn-octavia-provider package - which was
failing the build previously - has been added in DLRN.

Change-Id: I150232a5a229b170ce7ff058fff93e74f52736bc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/740982/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/vars/main.yaml'],1,4440149e77a8681ff15749bb2f0c0b0a7bab82a4,restore-octavia-build,, # until BZ 1854466 is resolved - octavia-api,0,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I671b770304345d780de4720b5693c1b9991f1ef8,openstack/tripleo-heat-templates,stable/queens,I671b770304345d780de4720b5693c1b9991f1ef8,Added OctaviaDeploymentConfig to deployed server role,MERGED,2020-06-23 19:06:10.000000000,2020-07-14 23:06:21.000000000,2020-07-14 23:06:20.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-23 19:06:10.000000000', 'files': ['deployed-server/deployed-server-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a202ed4054bd663e95e155bb237f587c70b6e671', 'message': 'Added OctaviaDeploymentConfig to deployed server role\n\nThe Octavia ansible deployment tasks are missing from deployed server\nrole. This is only relevant for stein and older branches.\n\nChange-Id: I671b770304345d780de4720b5693c1b9991f1ef8\nCloses-Bug: #1864915\n(cherry picked from commit 38af103fc563a71eaeabc03793d218c11ddb57a2)\n'}]",0,737606,a202ed4054bd663e95e155bb237f587c70b6e671,7,3,1,6681,,,0,"Added OctaviaDeploymentConfig to deployed server role

The Octavia ansible deployment tasks are missing from deployed server
role. This is only relevant for stein and older branches.

Change-Id: I671b770304345d780de4720b5693c1b9991f1ef8
Closes-Bug: #1864915
(cherry picked from commit 38af103fc563a71eaeabc03793d218c11ddb57a2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/737606/1 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/deployed-server-roles-data.yaml'],1,a202ed4054bd663e95e155bb237f587c70b6e671,bug/1864915, - OS::TripleO::Services::OctaviaDeploymentConfig,,1,0
openstack%2Fopenstack-helm-infra~master~Id38c9fb0b18dd8ba164a69f179d940192efc3247,openstack/openstack-helm-infra,master,Id38c9fb0b18dd8ba164a69f179d940192efc3247,feat(tls): add tls to mariadb chart,MERGED,2020-07-14 19:35:53.000000000,2020-07-14 22:44:15.000000000,2020-07-14 22:42:34.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30495}]","[{'number': 1, 'created': '2020-07-14 19:35:53.000000000', 'files': ['helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/scripts/_db-drop.py.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/scripts/_db-init.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e13d74c876a5c3eaf03b664f3df538972c54452', 'message': 'feat(tls): add tls to mariadb chart\n\nThis patch set makes changes for maraidb certs to be used\nby all users when connecting to MariaDB.\n\nChange-Id: Id38c9fb0b18dd8ba164a69f179d940192efc3247\n'}]",1,741037,6e13d74c876a5c3eaf03b664f3df538972c54452,9,4,1,24780,,,0,"feat(tls): add tls to mariadb chart

This patch set makes changes for maraidb certs to be used
by all users when connecting to MariaDB.

Change-Id: Id38c9fb0b18dd8ba164a69f179d940192efc3247
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/37/741037/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/scripts/_db-drop.py.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/scripts/_db-init.py.tpl']",5,6e13d74c876a5c3eaf03b664f3df538972c54452,,"ssl_args = {} if mysql_x509: ssl_args = {'ssl': {'ca': '/etc/mysql/certs/ca.crt', 'key': '/etc/mysql/certs/tls.key', 'cert': '/etc/mysql/certs/tls.crt'}} root_engine = create_engine(root_engine_url, connect_args=ssl_args) user_engine = create_engine(user_db_conn, connect_args=ssl_args)","if mysql_x509: user_tls_cert_path = os.getenv('USER_CERT_PATH', """") if not user_tls_cert_path: logger.critical('environment variable USER_CERT_PATH not set') sys.exit(1) if mysql_x509: ssl_args = {'ssl': {'ca': '/etc/mysql/certs/ca.crt', 'key': '/etc/mysql/certs/tls.key', 'cert': '/etc/mysql/certs/tls.crt'}} root_engine = create_engine(root_engine_url, connect_args=ssl_args) else: root_engine = create_engine(root_engine_url) if mysql_x509: ssl_args = {'ssl': {'ca': '{0}/ca.crt'.format(user_tls_cert_path), 'key': '{0}/tls.key'.format(user_tls_cert_path), 'cert': '{0}/tls.crt'.format(user_tls_cert_path)}} user_engine = create_engine(user_db_conn, connect_args=ssl_args) else: user_engine = create_engine(user_db_conn)",12,52
openstack%2Fheat~stable%2Ftrain~I50904e4254568cd807b9ff18eef482cadb626ce5,openstack/heat,stable/train,I50904e4254568cd807b9ff18eef482cadb626ce5,Check for nova exception.Conflict rather than task_state,MERGED,2020-07-01 05:20:48.000000000,2020-07-14 22:40:58.000000000,2020-07-14 22:38:53.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 05:20:48.000000000', 'files': ['heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/engine/clients/os/nova.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/991197e20ef54de4bba5acddedf420af5853be5b', 'message': ""Check for nova exception.Conflict rather than task_state\n\nWhen detaching and attaching volumes nova would raise an\nexception.Conflict, if attach and detach can't happen. Let's\nuse that to retry rather than using task_state.\n\nChange-Id: I50904e4254568cd807b9ff18eef482cadb626ce5\nTask: 40169\n(cherry picked from commit 01c230e793043310614d5b88096476ce0eac2c78)\n""}]",0,738731,991197e20ef54de4bba5acddedf420af5853be5b,13,4,1,8833,,,0,"Check for nova exception.Conflict rather than task_state

When detaching and attaching volumes nova would raise an
exception.Conflict, if attach and detach can't happen. Let's
use that to retry rather than using task_state.

Change-Id: I50904e4254568cd807b9ff18eef482cadb626ce5
Task: 40169
(cherry picked from commit 01c230e793043310614d5b88096476ce0eac2c78)
",git fetch https://review.opendev.org/openstack/heat refs/changes/31/738731/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/cinder/test_volume.py', 'heat/engine/clients/os/nova.py', 'heat/engine/resources/openstack/cinder/volume.py']",3,991197e20ef54de4bba5acddedf420af5853be5b,," prg_detach.called = self.client_plugin( 'nova').detach_volume(prg_detach.srv_id, prg_detach.attach_id) prg_attach.called = self.client_plugin('nova').attach_volume( prg_attach.srv_id, prg_attach.vol_id, prg_attach.device) prg_detach.called = self.client_plugin( 'nova').detach_volume(server_id, self.resource_id) prg_attach.called = self.client_plugin('nova').attach_volume( prg_attach.srv_id, prg_attach.vol_id, prg_attach.device)"," # Waiting OS-EXT-STS:task_state in server to become available for # detach task_state = self.client_plugin('nova').fetch_server_attr( prg_detach.srv_id, 'OS-EXT-STS:task_state') # Wait till out of any resize steps (including resize_finish) if task_state is not None and 'resize' in task_state: prg_detach.called = False else: self.client_plugin('nova').detach_volume(prg_detach.srv_id, prg_detach.attach_id) prg_detach.called = True # Waiting OS-EXT-STS:task_state in server to become available for # attach task_state = self.client_plugin('nova').fetch_server_attr( prg_attach.srv_id, 'OS-EXT-STS:task_state') # Wait till out of any resize steps (including resize_finish) if task_state is not None and 'resize' in task_state: prg_attach.called = False else: prg_attach.called = self.client_plugin('nova').attach_volume( prg_attach.srv_id, prg_attach.vol_id, prg_attach.device) # Waiting OS-EXT-STS:task_state in server to become available for # detach server = self.client_plugin('nova').fetch_server(server_id) task_state = getattr(server, 'OS-EXT-STS:task_state', None) # Wait till out of any resize steps (including resize_finish) if task_state is not None and 'resize' in task_state: prg_detach.called = False else: self.client_plugin('nova').detach_volume(server_id, self.resource_id) prg_detach.called = True # Waiting OS-EXT-STS:task_state in server to become available for # attach server = self.client_plugin('nova').fetch_server(prg_attach.srv_id) task_state = getattr(server, 'OS-EXT-STS:task_state', None) # Wait till out of any resize steps (including resize_finish) if task_state is not None and 'resize' in task_state: prg_attach.called = False else: prg_attach.called = self.client_plugin('nova').attach_volume( prg_attach.srv_id, prg_attach.vol_id, prg_attach.device)",25,48
openstack%2Fcharm-neutron-dynamic-routing~master~I75a1f34cd3b1c31191c6022a2440216bcad18e3b,openstack/charm-neutron-dynamic-routing,master,I75a1f34cd3b1c31191c6022a2440216bcad18e3b,Add victoria package version,MERGED,2020-07-13 19:17:38.000000000,2020-07-14 22:12:51.000000000,2020-07-14 22:12:50.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/8c60bbd196afd0585da5374fe09bb5fd41ef2a4c', 'message': 'Add victoria package version\n\nChange-Id: I75a1f34cd3b1c31191c6022a2440216bcad18e3b\n'}, {'number': 2, 'created': '2020-07-14 13:30:46.000000000', 'files': ['src/lib/charm/openstack/dragent.py', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/561feeb3835cf50952246a7ced1564610be49298', 'message': 'Add victoria package version\n\nAlso remove jinja2 from wheelhouse.txt as is a duplicate\nand due to improvements in charm build it now causes the\nbuild to fail.\n\nChange-Id: I75a1f34cd3b1c31191c6022a2440216bcad18e3b\n'}]",0,740785,561feeb3835cf50952246a7ced1564610be49298,10,3,2,11805,,,0,"Add victoria package version

Also remove jinja2 from wheelhouse.txt as is a duplicate
and due to improvements in charm build it now causes the
build to fail.

Change-Id: I75a1f34cd3b1c31191c6022a2440216bcad18e3b
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/85/740785/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/dragent.py'],1,8c60bbd196afd0585da5374fe09bb5fd41ef2a4c,batch-update," ('17', 'victoria'),",,1,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic8a938235de59f4d3547f7e632233f9fe16220aa,openstack/tripleo-heat-templates,stable/rocky,Ic8a938235de59f4d3547f7e632233f9fe16220aa,Fix typo in setting octavia wsgi server name,MERGED,2020-07-03 13:55:16.000000000,2020-07-14 22:11:50.000000000,2020-07-14 22:11:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 13:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c59d96618c3070278c2c45135d1ff2a107de790', 'message': ""Fix typo in setting octavia wsgi server name\n\nhiera was being set as server_name when it should've been servername.\n\nNote: this is semantic backport of https://review.opendev.org/#/c/725877/\nwhich could not be cherry picked because of file reorganization.\n\nChange-Id: Ic8a938235de59f4d3547f7e632233f9fe16220aa\n""}, {'number': 2, 'created': '2020-07-03 13:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b4454f6e31374469950a52db7cabf9788e8fdb6', 'message': ""Fix typo in setting octavia wsgi server name\n\nhiera was being set as server_name when it should've been servername.\n\nNote: this is semantic backport of https://review.opendev.org/#/c/725877/\nwhich could not be cherry picked because of file reorganization.\n\nChange-Id: Ic8a938235de59f4d3547f7e632233f9fe16220aa\n""}, {'number': 3, 'created': '2020-07-03 13:57:36.000000000', 'files': ['puppet/services/octavia-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc6d55acef48b4a717c2f9966760b6560566858a', 'message': ""Fix typo in setting octavia wsgi server name\n\nhiera was being set as server_name when it should've been servername.\n\nNote: this is semantic backport of https://review.opendev.org/#/c/725877/\nwhich could not be cherry picked because of file reorganization.\n\nCloses-Bug: #1877130\nChange-Id: Ic8a938235de59f4d3547f7e632233f9fe16220aa\n""}]",0,739234,bc6d55acef48b4a717c2f9966760b6560566858a,12,5,3,6681,,,0,"Fix typo in setting octavia wsgi server name

hiera was being set as server_name when it should've been servername.

Note: this is semantic backport of https://review.opendev.org/#/c/725877/
which could not be cherry picked because of file reorganization.

Closes-Bug: #1877130
Change-Id: Ic8a938235de59f4d3547f7e632233f9fe16220aa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/739234/3 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/octavia-api.yaml'],1,2c59d96618c3070278c2c45135d1ff2a107de790,bug/1877130, octavia::wsgi::apache::servername:, octavia::wsgi::apache::server_name:,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9d28b5f7f40d43e017153cb274a3f419e23511c3,openstack/tripleo-heat-templates,stable/train,I9d28b5f7f40d43e017153cb274a3f419e23511c3,Fix bind mount volumes for novajoin containers,MERGED,2020-07-13 07:19:33.000000000,2020-07-14 22:09:38.000000000,2020-07-14 22:09:38.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-13 07:19:33.000000000', 'files': ['deployment/nova/novajoin-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c276a7e307be193ae74fee2bc2b259200cd008d1', 'message': ""Fix bind mount volumes for novajoin containers\n\n/var/lib/config-data/novajoin should not be bind mounted directly.\nThe way it works, is that a step 1 we generate all the config files with\nPuppet and put the /etc/novajoin content into\n/var/lib/config-data/novajoin and then filter out that is actually\nneeded by the containers into\n/var/lib/config-data/puppet-generated/novajoin.\n\n/var/lib/config-data/puppet-generated/novajoin will have\n/var/lib/config-data/puppet-generated/novajoin/etc/novajoin with the\nconfig files but it won't have the files excluded by container-puppet.sh\n(e.g. host files, some CA/PKI files, etc).\n\nIn the container configs, we want to bind mount\n/var/lib/config-data/puppet-generated/novajoin into\n/var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src\nand when the container will start, Kolla will automatically copy the\ncontent of\n/var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src\ninto / by deep merging; so /etc/novajoin will have the config files.\n\nCloses-Bug: #1886047\nResolves: rhbz#1853268\n\nChange-Id: I9d28b5f7f40d43e017153cb274a3f419e23511c3\n(cherry picked from commit 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b)\n""}]",0,740624,c276a7e307be193ae74fee2bc2b259200cd008d1,8,4,1,14250,,,0,"Fix bind mount volumes for novajoin containers

/var/lib/config-data/novajoin should not be bind mounted directly.
The way it works, is that a step 1 we generate all the config files with
Puppet and put the /etc/novajoin content into
/var/lib/config-data/novajoin and then filter out that is actually
needed by the containers into
/var/lib/config-data/puppet-generated/novajoin.

/var/lib/config-data/puppet-generated/novajoin will have
/var/lib/config-data/puppet-generated/novajoin/etc/novajoin with the
config files but it won't have the files excluded by container-puppet.sh
(e.g. host files, some CA/PKI files, etc).

In the container configs, we want to bind mount
/var/lib/config-data/puppet-generated/novajoin into
/var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src
and when the container will start, Kolla will automatically copy the
content of
/var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src
into / by deep merging; so /etc/novajoin will have the config files.

Closes-Bug: #1886047
Resolves: rhbz#1853268

Change-Id: I9d28b5f7f40d43e017153cb274a3f419e23511c3
(cherry picked from commit 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/740624/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/novajoin-container-puppet.yaml'],1,c276a7e307be193ae74fee2bc2b259200cd008d1,novajoin-stable/train, - /var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src:ro - /var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src:ro, - /var/lib/config-data/novajoin/etc/novajoin/join.conf:/etc/novajoin/join.conf:z - /var/lib/config-data/novajoin/etc/novajoin/join.conf:/etc/novajoin/join.conf:z,2,2
openstack%2Fcharm-glance~master~Iec393d7a794c14be91b4c5da302d7bb66d3e3d7a,openstack/charm-glance,master,Iec393d7a794c14be91b4c5da302d7bb66d3e3d7a,Deprecate glance-registry at and above Queens,ABANDONED,2018-08-27 22:55:03.000000000,2020-07-14 22:02:36.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-27 22:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/67e91d4843bd9baf8bf244545b2da2211944dba4', 'message': 'Deprecate glance-registry at and above Queens\n\nChange-Id: Iec393d7a794c14be91b4c5da302d7bb66d3e3d7a\n'}, {'number': 2, 'created': '2018-11-14 23:42:13.000000000', 'files': ['hooks/glance_utils.py', 'tests/basic_deployment.py', 'unit_tests/test_glance_relations.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ad966a8c06c5284faa58468c0d4e7b047938e5ee', 'message': 'Deprecate glance-registry at and above Queens\n\nChange-Id: Iec393d7a794c14be91b4c5da302d7bb66d3e3d7a\n'}]",0,596921,ad966a8c06c5284faa58468c0d4e7b047938e5ee,7,3,2,20805,,,0,"Deprecate glance-registry at and above Queens

Change-Id: Iec393d7a794c14be91b4c5da302d7bb66d3e3d7a
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/21/596921/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'tests/basic_deployment.py', 'unit_tests/test_glance_relations.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py']",5,67e91d4843bd9baf8bf244545b2da2211944dba4,bug/1758092," determine_services, CompareOpenStackReleases, for service in determine_services(): release = os_release('glance-common') cmp_release = CompareOpenStackReleases(release) if cmp_release < 'queens': CONFIGS.write(GLANCE_REGISTRY_CONF)"," SERVICES, for service in SERVICES: CONFIGS.write(GLANCE_REGISTRY_CONF)",142,17
openstack%2Freleases~master~Icd96b8b80c7ca50e9e7416288a611e553823a1cb,openstack/releases,master,Icd96b8b80c7ca50e9e7416288a611e553823a1cb,Release kolla stable branches,MERGED,2020-07-10 17:37:22.000000000,2020-07-14 21:48:04.000000000,2020-07-14 21:48:04.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 17:37:22.000000000', 'files': ['deliverables/ussuri/kolla-ansible.yaml', 'deliverables/train/kolla-ansible.yaml', 'deliverables/ussuri/kolla.yaml', 'deliverables/stein/kolla.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/stein/kolla-ansible.yaml', 'deliverables/train/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/20df524b40ac82ea69672000ca15e7930e613ecd', 'message': 'Release kolla stable branches\n\n* kolla 8.0.4 (stein)\n* kolla-ansible 8.2.0 (stein)\n* kolla 9.2.0 (train)\n* kolla-ansible 9.2.0 (train)\n* kayobe 7.1.0 (train)\n* kolla 10.1.0 (ussuri)\n* kolla-ansible 10.1.0 (ussuri)\n\nChange-Id: Icd96b8b80c7ca50e9e7416288a611e553823a1cb\n'}]",0,740511,20df524b40ac82ea69672000ca15e7930e613ecd,8,3,1,14826,,,0,"Release kolla stable branches

* kolla 8.0.4 (stein)
* kolla-ansible 8.2.0 (stein)
* kolla 9.2.0 (train)
* kolla-ansible 9.2.0 (train)
* kayobe 7.1.0 (train)
* kolla 10.1.0 (ussuri)
* kolla-ansible 10.1.0 (ussuri)

Change-Id: Icd96b8b80c7ca50e9e7416288a611e553823a1cb
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/740511/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/kolla-ansible.yaml', 'deliverables/train/kolla-ansible.yaml', 'deliverables/ussuri/kolla.yaml', 'deliverables/stein/kolla.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/stein/kolla-ansible.yaml', 'deliverables/train/kolla.yaml']",7,20df524b40ac82ea69672000ca15e7930e613ecd,, - version: 9.2.0 projects: - repo: openstack/kolla hash: 0e6465543e4ae91c9b791944444e72905a716a6d,,32,0
openstack%2Fpython-tripleoclient~master~I5e88eff09775ac8d6ffca66e49e4c39c2296ee19,openstack/python-tripleoclient,master,I5e88eff09775ac8d6ffca66e49e4c39c2296ee19,[FFU] Fix sensitive hostname in FFU upgrade run command,ABANDONED,2019-09-13 06:42:30.000000000,2020-07-14 21:44:29.000000000,,"[{'_account_id': 7144}, {'_account_id': 11444}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 06:42:30.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dc6bd6d96ec5b209108a13429e563e34c5b0025f', 'message': '[FFU] Fix sensitive hostname in FFU upgrade run command\n\nHostname is case sensitive in:\n\n    openstack overcloud upgrade run --nodes <HOSTNAME>\n\nThis can lead to situation when Mistral fails to start node upgrade\ndue to hostname mismatch.\n\nChange-Id: I5e88eff09775ac8d6ffca66e49e4c39c2296ee19\nCloses-Bug: 1802298\n'}]",0,681971,dc6bd6d96ec5b209108a13429e563e34c5b0025f,5,4,1,11090,,,0,"[FFU] Fix sensitive hostname in FFU upgrade run command

Hostname is case sensitive in:

    openstack overcloud upgrade run --nodes <HOSTNAME>

This can lead to situation when Mistral fails to start node upgrade
due to hostname mismatch.

Change-Id: I5e88eff09775ac8d6ffca66e49e4c39c2296ee19
Closes-Bug: 1802298
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/681971/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py']",2,dc6bd6d96ec5b209108a13429e563e34c5b0025f,bug/1802298-master," @mock.patch('tripleoclient.workflows.package_update.update_ansible', autospec=True) @mock.patch('os.path.expanduser') @mock.patch('oslo_concurrency.processutils.execute') @mock.patch('six.moves.builtins.open') def test_node_upgrade_with_case_sensitive_hostname( self, mock_open, mock_execute, mock_expanduser, upgrade_ansible): mock_expanduser.return_value = '/home/fake/' argslist = ['--nodes', 'Overcloud-OVS-Compute-2', '--playbook', 'fake-playbook.yaml', '--skip-tags', 'validation'] verifylist = [ ('nodes', 'Overcloud-OVS-Compute-2'), ('static_inventory', None), ('playbook', 'fake-playbook.yaml'), ('skip_tags', 'validation'), ] parsed_args = self.check_parser(self.cmd, argslist, verifylist) with mock.patch('os.path.exists') as mock_exists: mock_exists.return_value = True self.cmd.take_action(parsed_args) upgrade_ansible.assert_called_once_with( self.app.client_manager, nodes='overcloud-ovs-compute-2', inventory_file=mock_open().read(), playbook='fake-playbook.yaml', ansible_queue_name=constants.UPGRADE_QUEUE, node_user='tripleo-admin', tags='', skip_tags='validation' )",,37,0
openstack%2Frequirements~master~I5a5d236de147135d0cb1597bfff87317805e2121,openstack/requirements,master,I5a5d236de147135d0cb1597bfff87317805e2121,update constraint for python-openstackclient to new release 5.3.1,MERGED,2020-07-14 18:08:33.000000000,2020-07-14 21:37:41.000000000,2020-07-14 21:36:17.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 18:08:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0d27f316842f38ff558b9bd09a4b48ddb7472f74', 'message': 'update constraint for python-openstackclient to new release 5.3.1\n\nChange-Id: I5a5d236de147135d0cb1597bfff87317805e2121\nmeta:version: 5.3.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: I5dfe5c9b74f760bcb7d127cf7b86b0066e165d68\nmeta:release:Code-Review+1: Julia Kreger <juliaashleykreger@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741022,0d27f316842f38ff558b9bd09a4b48ddb7472f74,9,3,1,11131,,,0,"update constraint for python-openstackclient to new release 5.3.1

Change-Id: I5a5d236de147135d0cb1597bfff87317805e2121
meta:version: 5.3.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: I5dfe5c9b74f760bcb7d127cf7b86b0066e165d68
meta:release:Code-Review+1: Julia Kreger <juliaashleykreger@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/741022/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0d27f316842f38ff558b9bd09a4b48ddb7472f74,new-release,python-openstackclient===5.3.1,python-openstackclient===5.3.0,1,1
openstack%2Fnova~stable%2Frocky~I1062b3e74382734edbb2142a09ff0073c66af8db,openstack/nova,stable/rocky,I1062b3e74382734edbb2142a09ff0073c66af8db,Add functional test for bug 1550919,MERGED,2020-06-02 15:11:58.000000000,2020-07-14 21:36:21.000000000,2020-07-14 21:36:20.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-02 15:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cff9e25029fbce73f4acdaad57eb692019ddb9d', 'message': ""Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nNOTE(lyarwood): The following changes are required for stable/rocky:\n\n* uuidsentinel is imported from nova.tests as we don't have access to\n  oslo.utils 3.37.0 that introduced uuidsentinel as used by\n  I7f5f08691ca3f73073c66c29dddb996fb2c2b266 in openstack/nova during\n  stable/stein.\n\n* Use nova.tests.fixtures.PlacementFixture due to\n  Idaed39629095f86d24a54334c699a26c218c6593 not being present in\n  stable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)\n(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)\n""}, {'number': 2, 'created': '2020-07-06 21:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a3246610325751436fe5c2d07f82c8f741906ce', 'message': ""Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nNOTE(lyarwood): The following changes are required for stable/rocky:\n\n* uuidsentinel is imported from nova.tests as we don't have access to\n  oslo.utils 3.37.0 that introduced uuidsentinel as used by\n  I7f5f08691ca3f73073c66c29dddb996fb2c2b266 in openstack/nova during\n  stable/stein.\n\n* Use nova.tests.fixtures.PlacementFixture due to\n  Idaed39629095f86d24a54334c699a26c218c6593 not being present in\n  stable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)\n(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)\n""}, {'number': 3, 'created': '2020-07-06 21:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c015824f3e1a72f33107e2c25d7da742e054c139', 'message': ""Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nNOTE(lyarwood): The following changes are required for stable/rocky:\n\n* uuidsentinel is imported from nova.tests as we don't have access to\n  oslo.utils 3.37.0 that introduced uuidsentinel as used by\n  I7f5f08691ca3f73073c66c29dddb996fb2c2b266 in openstack/nova during\n  stable/stein.\n\n* Use nova.tests.fixtures.PlacementFixture due to\n  Idaed39629095f86d24a54334c699a26c218c6593 not being present in\n  stable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)\n(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)\n""}, {'number': 4, 'created': '2020-07-06 21:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71dc5a6c8475b72a1c40c1a84c1174fe233a9e59', 'message': ""Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nNOTE(lyarwood): The following changes are required for stable/rocky:\n\n* uuidsentinel is imported from nova.tests as we don't have access to\n  oslo.utils 3.37.0 that introduced uuidsentinel as used by\n  I7f5f08691ca3f73073c66c29dddb996fb2c2b266 in openstack/nova during\n  stable/stein.\n\n* Use nova.tests.fixtures.PlacementFixture due to\n  Idaed39629095f86d24a54334c699a26c218c6593 not being present in\n  stable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)\n(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)\n""}, {'number': 5, 'created': '2020-07-09 13:05:39.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6118101cbae56e80a22a35a5ffcb07a0ed259b99', 'message': ""Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nNOTE(lyarwood): The following changes are required for stable/rocky:\n\n* uuidsentinel is imported from nova.tests as we don't have access to\n  oslo.utils 3.37.0 that introduced uuidsentinel as used by\n  I7f5f08691ca3f73073c66c29dddb996fb2c2b266 in openstack/nova during\n  stable/stein.\n\n* Use nova.tests.fixtures.PlacementFixture due to\n  Idaed39629095f86d24a54334c699a26c218c6593 not being present in\n  stable/rocky.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)\n(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)\n""}]",2,732707,6118101cbae56e80a22a35a5ffcb07a0ed259b99,25,9,5,10135,,,0,"Add functional test for bug 1550919

This adds a failing test, which we fix in change I76448196.

An earlier version of this change was previously merged as
change I5619728d. This was later reverted, as it was failing in the
gate. However, on inspection these failures seem to have been simply
timeouts due to load.

Changes from previous version:

- Increase the timeouts which were previously triggering, and
  serialise server creation to reduce the chance of this recurring.
- Add an LVM test, which highlights the requirement to flag the
  creation of ephemeral and swap disks.
- Add an Qcow2 test, essentially the same as the Flat test but ensures
  coverage of the most common backends.
- Each test now uses a separate instances_path allowing for cleanup
  without racing against other active tests.
- Some nits addressed.

For the time being this test does not make use of the recently improved
nova.tests.functional.libvirt.base.ServersTestBase class to ease
backports. Future changes should be made to use this class removing some
of the common setUp logic from _LibvirtEvacuateTest.

NOTE(lyarwood): The following changes are required for stable/rocky:

* uuidsentinel is imported from nova.tests as we don't have access to
  oslo.utils 3.37.0 that introduced uuidsentinel as used by
  I7f5f08691ca3f73073c66c29dddb996fb2c2b266 in openstack/nova during
  stable/stein.

* Use nova.tests.fixtures.PlacementFixture due to
  Idaed39629095f86d24a54334c699a26c218c6593 not being present in
  stable/rocky.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1550919
Change-Id: I1062b3e74382734edbb2142a09ff0073c66af8db
(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)
(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)
(cherry picked from commit 172eb21dee1d93b140c2b691cb8dfbc68b721bfe)
(cherry picked from commit d7a1cb57247c4b1faa09b9c81c5cd2fbd4639095)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/732707/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_evacuate.py'],1,6cff9e25029fbce73f4acdaad57eb692019ddb9d,bug/1550919,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import fixtures import mock import os.path from oslo_utils import fileutils from oslo_utils import units from nova import conf from nova import context from nova import exception from nova import objects from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_network from nova.tests.unit import fake_notifier import nova.tests.unit.image.fake as fake_image from nova.tests.unit.virt.libvirt import fakelibvirt from nova.tests import uuidsentinel as uuids from nova.virt.libvirt import config as libvirt_config CONF = conf.CONF FLAVOR_FIXTURES = [ {'flavorid': 'root_only', 'name': 'root_only', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 0, 'swap': 0}, {'flavorid': 'with_ephemeral', 'name': 'with_ephemeral', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 1, 'swap': 0}, {'flavorid': 'with_swap', 'name': 'with_swap', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 0, 'swap': 1}, ] # Choice of image id is arbitrary, but fixed for consistency. IMAGE_ID = fake_image.AUTO_DISK_CONFIG_ENABLED_IMAGE_UUID # NOTE(mdbooth): Change I76448196 tests for creation of any local disk, and # short-circuits as soon as it sees one created. Disks are created in order: # root disk, ephemeral disks, swap disk. Therefore to test correct handling of # ephemeral disks we must ensure there is no root disk, and to test swap disks # we must ensure there is no root or ephemeral disks. Each of the following # fixtures intentionally has only a single local disk (or none for bfv), # ensuring we cover all local disks. SERVER_FIXTURES = [ # Local root disk only {'name': 'local_root', 'imageRef': IMAGE_ID, 'flavorRef': 'root_only', }, # No local disks {'name': 'bfv', 'flavorRef': 'root_only', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol1, 'source_type': 'volume', 'destination_type': 'volume', }], }, # Local eph disk only {'name': 'bfv_with_eph', 'flavorRef': 'with_ephemeral', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol2, 'source_type': 'volume', 'destination_type': 'volume', }], }, # Local swap disk only {'name': 'bfv_with_swap', 'flavorRef': 'with_swap', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol3, 'source_type': 'volume', 'destination_type': 'volume', }], }, ] SERVER_DISKS = { 'local_root': 'disk', 'bfv': None, 'bfv_with_eph': 'disk.eph0', 'bfv_with_swap': 'disk.swap', } class _FileTest(object): """"""A base class for the _FlatTest and _Qcow2Test mixin test classes"""""" def setUp(self): super(_FileTest, self).setUp() def assert_disks_nonshared_instancedir(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return source_root_disk = os.path.join(self.source_instance_path(server), disk) dest_root_disk = os.path.join(self.dest_instance_path(server), disk) self.assertTrue(os.path.exists(source_root_disk), ""Source root disk %s for server %s does not exist"" % (source_root_disk, name)) self.assertFalse(os.path.exists(dest_root_disk), ""Destination root disk %s for server %s exists"" % (dest_root_disk, name)) def assert_disks_shared_instancedir(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return source_root_disk = os.path.join( self.source_instance_path(server), disk) # FIXME(mdbooth): We should not have deleted a shared disk self.assertFalse(os.path.exists(source_root_disk), ""Source root disk %s for server %s exists"" % (source_root_disk, name)) class _FlatTest(_FileTest): """"""A mixin which configures the flat imagebackend, and provides assertions for the expected state of the flat imagebackend after an evacuation. We mock create_image to touch a file so we can assert its existence/removal in tests. """""" def setUp(self): super(_FlatTest, self).setUp() self.flags(group='libvirt', images_type='flat') def fake_create_image(_self, *args, **kwargs): # Simply ensure the file exists open(_self.path, 'a').close() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Flat.create_image', fake_create_image)) # Mocked to reduce runtime self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.imagebackend.Flat.correct_format')) class _Qcow2Test(_FileTest): """"""A mixin which configures the qcow2 imagebackend, and provides assertions for the expected state of the flat imagebackend after an evacuation. We mock create_image to touch a file so we can assert its existence/removal in tests. """""" def setUp(self): super(_Qcow2Test, self).setUp() self.flags(group='libvirt', images_type='qcow2') def fake_create_image(_self, *args, **kwargs): # Simply ensure the file exists open(_self.path, 'a').close() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Qcow2.create_image', fake_create_image)) class _RbdTest(object): """"""A mixin which configures the rbd imagebackend, and provides assertions for the expected state of the rbd imagebackend after an evacuation. We mock RBDDriver so we don't need an actual ceph cluster. We mock create_image to store which rbd volumes would have been created, and exists to reference that store. """""" def setUp(self): super(_RbdTest, self).setUp() self.flags(group='libvirt', images_type='rbd') self.flags(group='libvirt', rbd_user='rbd') self.flags(group='libvirt', rbd_secret_uuid='1234') self.created = set() def fake_create_image(_self, *args, **kwargs): self.created.add(_self.rbd_name) def fake_exists(_self): return _self.rbd_name in self.created self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.create_image', fake_create_image)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.exists', fake_exists)) # We never want to actually touch rbd self.mock_rbd_driver = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.storage.rbd_utils.RBDDriver')).mock.return_value self.mock_rbd_driver.get_mon_addrs.return_value = ([], []) self.mock_rbd_driver.size.return_value = 10 * units.Gi self.mock_rbd_driver.rbd_user = 'rbd' def _assert_disks(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return # Check that we created a root disk and haven't called _cleanup_rbd at # all self.assertIn(""%s_%s"" % (server['id'], disk), self.created) # FIXME(mdbooth): we should not have deleted shared disks self.assertGreater(self.mock_rbd_driver.cleanup_volumes.call_count, 0) # We never want to cleanup rbd disks during evacuate, regardless of # instance shared storage assert_disks_nonshared_instancedir = _assert_disks assert_disks_shared_instancedir = _assert_disks class FakeLVM(object): def __init__(self): self.volumes = set() def _exists(self, vg, lv): return any([v for v in self.volumes if v[0] == vg and v[1] == lv]) def _vg_exists(self, vg): return any([v for v in self.volumes if v[0] == vg]) def _find_vol_from_path(self, path): info = self.volume_info(path) for vol in self.volumes: if vol[0] == info['VG'] and vol[1] == info['LV']: return vol return None def create_volume(self, vg, lv, size, sparse=False): self.volumes.add((vg, lv, size)) def list_volumes(self, vg_path): _, vg = os.path.split(vg_path) return [vol[1] for vol in self.volumes if vol[0] == vg] def volume_info(self, path): path, lv = os.path.split(path) path, vg = os.path.split(path) return {'VG': vg, 'LV': lv} def get_volume_size(self, path): vol = self._find_vol_from_path(path) if vol is not None: return vol[2] raise exception.VolumeBDMPathNotFound(path=path) def remove_volumes(self, paths): for path in paths: vol = self._find_vol_from_path(path) if vol is not None: self.volumes.remove(vol) class _LVMTest(object): """"""A mixin which configures the LVM imagebackend, and provides assertions for the expected state of the LVM imagebackend after an evacuation. We need to track logical volumes on each compute separately, which we do by mocking the nova.virt.libvirt.storage.lvm module immediately before starting a new compute. """""" def setUp(self): super(_LVMTest, self).setUp() self.flags(group='libvirt', images_type='lvm', images_volume_group='fake_vg') # A map of compute service name: fake libvirt module self.fake_lvms = collections.defaultdict(FakeLVM) # The fake libvirt module in use by the compute service which is # running currently self.fake_lvm = None def fake_create_image(_self, prepare_template, base, size, *args, **kwargs): self.fake_lvm.create_volume(_self.vg, _self.lv, size) def fake_exists(_self, *args, **kwargs): return self.fake_lvm._exists(_self.vg, _self.lv) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Lvm.create_image', fake_create_image)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Lvm.exists', fake_exists)) orig_path_exists = os.path.exists def fake_path_exists(path): if path.startswith('/dev/'): paths = path.split(os.sep)[2:] if len(paths) == 0: # For completeness: /dev exists return True if len(paths) == 1: return self.fake_lvm._vg_exists(*paths) if len(paths) == 2: return self.fake_lvm._exists(*paths) return False else: return orig_path_exists(path) self.useFixture(fixtures.MonkeyPatch( 'os.path.exists', fake_path_exists)) def _start_compute(self, name): compute = super(_LVMTest, self)._start_compute(name) # We need each compute to have its own fake LVM. These mocks replace # the previous mocks, globally. This only works because in this test we # only ever run one of the computes at a time. self.fake_lvm = self.fake_lvms[name] self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.lvm', self.fake_lvm)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.lvm', self.fake_lvm)) return compute def _assert_disks(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return vg = CONF.libvirt.images_volume_group lv = '{uuid}_{disk}'.format(uuid=server['id'], disk=disk) compute0 = self.fake_lvms['compute0'] compute1 = self.fake_lvms['compute1'] self.assertTrue(compute0._exists(vg, lv), 'Disk ""{disk}"" of server {server} does not exist on ' 'source'.format(disk=disk, server=name)) self.assertFalse(compute1._exists(vg, lv), 'Disk ""{disk}"" of server {server} still exists on ' 'destination'.format(disk=disk, server=name)) # We always want to cleanup LVM disks on failure, regardless of shared # instance directory assert_disks_nonshared_instancedir = _assert_disks assert_disks_shared_instancedir = _assert_disks class _LibvirtEvacuateTest(integrated_helpers.InstanceHelperMixin): """"""The main libvirt evacuate test. This configures a set of stub services with 2 computes and defines 2 tests, both of which create a server on compute0 and then evacuate it to compute1. test_evacuate_failure_nonshared_instancedir does this with a non-shared instance directory, and test_evacuate_failure_shared_instancedir does this with a shared instance directory. This class requires one of the mixins _FlatTest, _RbdTest, _LVMTest, or _Qcow2Test to execute. These configure an imagebackend, and define the assertions assert_disks_nonshared_instancedir and assert_disks_shared_instancedir to assert the expected state of that imagebackend after an evacuation. By combining shared and non-shared instance directory tests in this class with these mixins we get test coverage of all combinations of shared/nonshared instanace directories and block storage. """""" def _start_compute(self, name): # NOTE(mdbooth): fakelibvirt's getHostname currently returns a # hardcoded 'compute1', which is undesirable if we want multiple fake # computes. There's no good way to pre-initialise get_connection() to # return a fake libvirt with a custom return for getHostname. # # Here we mock the class during service creation to return our custom # hostname, but we can't leave this in place because then both computes # will still get the same value from their libvirt Connection. Once the # service has started, we poke a custom getHostname into the # instantiated object to do the same thing, but only for that object. with mock.patch.object(fakelibvirt.Connection, 'getHostname', return_value=name): compute = self.start_service('compute', host=name) compute.driver._host.get_connection().getHostname = lambda: name return compute def setUp(self): super(_LibvirtEvacuateTest, self).setUp() self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.PlacementFixture()) fake_network.set_stub_network_methods(self) api_fixture = self.useFixture( nova_fixtures.OSAPIFixture(api_version='v2.1')) self.api = api_fixture.admin_api # force_down and evacuate without onSharedStorage self.api.microversion = '2.14' fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.useFixture(fakelibvirt.FakeLibvirtFixture()) # Fake out all the details of volume connection self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver.get_volume_connector')) self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._connect_volume')) # For cleanup self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume')) volume_config = libvirt_config.LibvirtConfigGuestDisk() volume_config.driver_name = 'fake-volume-driver' volume_config.source_path = 'fake-source-path' volume_config.target_dev = 'fake-target-dev' volume_config.target_bus = 'fake-target-bus' get_volume_config = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_volume_config')).mock get_volume_config.return_value = volume_config # Ensure our computes report lots of available disk, vcpu, and ram lots = 10000000 get_local_gb_info = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_local_gb_info')).mock get_local_gb_info.return_value = { 'total': lots, 'free': lots, 'used': 1} get_vcpu_available = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_total')).mock get_vcpu_available.return_value = 24 get_memory_mb_total = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.host.Host.get_memory_mb_total')).mock get_memory_mb_total.return_value = lots # Mock out adding rng devices self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._add_rng_device')).mock self.start_service('conductor') self.start_service('scheduler') self.flags(compute_driver='libvirt.LibvirtDriver') ctxt = context.get_admin_context() for flavor in FLAVOR_FIXTURES: objects.Flavor(context=ctxt, **flavor).create() @staticmethod def source_instance_path(server): return os.path.join(CONF.instances_path, server['id']) @staticmethod def dest_instance_path(server): return os.path.join(CONF.instances_path, 'dest', server['id']) def _create_servers(self): def _create_server(server): # NOTE(mdbooth): We could do all the server creations concurrently # to improve throughput, but we have seen this result in timeouts # on a loaded CI worker. server = self.api.post_server({'server': server}) # Wait for server to become ACTIVE, and return its updated state # NOTE(mdbooth): Increase max_retries from default to reduce # chances of timeout. return self._wait_for_state_change( self.api, server, 'ACTIVE', max_retries=30) return [_create_server(server) for server in SERVER_FIXTURES] def _swap_computes(self, compute0): # Force compute0 down compute0.stop() self.api.force_down_service('compute0', 'nova-compute', True) # Start compute1 return self._start_compute('compute1') def _evacuate_with_failure(self, server, compute1): # Perform an evacuation during which we experience a failure on the # destination host instance_uuid = server['id'] with mock.patch.object(compute1.driver, 'plug_vifs') as plug_vifs: plug_vifs.side_effect = test.TestingException self.api.post_server_action(instance_uuid, {'evacuate': {'host': 'compute1'}}) # Wait for the rebuild to start, then complete fake_notifier.wait_for_versioned_notifications( 'instance.rebuild.start') self._wait_for_migration_status(server, ['failed']) server = self._wait_for_server_parameter( self.api, server, {'OS-EXT-STS:task_state': None}) # Meta-test plug_vifs.assert_called() plug_vifs.reset_mock() # Return fresh server state after evacuate return server def test_evacuate_failure_nonshared_instancedir(self): """"""Assert the failure cleanup behaviour of non-shared instance storage If we fail during evacuate and the instance directory didn't previously exist on the destination, we should delete it """""" # Use a unique instances_path per test to allow cleanup self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) # Create instances on compute0 compute0 = self._start_compute('compute0') servers = self._create_servers() compute1 = self._swap_computes(compute0) # Create a 'pass-through' mock for ensure_tree so we can log its calls orig_ensure_tree = fileutils.ensure_tree mock_ensure_tree = self.useFixture(fixtures.MockPatch( 'oslo_utils.fileutils.ensure_tree', side_effect=orig_ensure_tree)).mock for server in servers: name = server['name'] source_instance_path = self.source_instance_path(server) dest_instance_path = self.dest_instance_path(server) # Check that we've got an instance directory on the source and not # on the dest self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s for server %s does "" ""not exist"" % (source_instance_path, name)) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s for server %s "" ""exists"" % (dest_instance_path, name)) # By default our 2 compute hosts share the same instance directory # on the test runner. Force a different directory while running # evacuate on compute1 so we don't have shared storage. def dest_get_instance_path(instance, relative=False): if relative: return instance.uuid return dest_instance_path with mock.patch('nova.virt.libvirt.utils.get_instance_path') \ as get_instance_path: get_instance_path.side_effect = dest_get_instance_path server = self._evacuate_with_failure(server, compute1) # Check that we've got an instance directory on the source and not # on the dest, but that the dest was created self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s for server %s does "" ""not exist"" % (source_instance_path, name)) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s for server %s "" ""exists"" % (dest_instance_path, name)) mock_ensure_tree.assert_called_with(dest_instance_path) self.assert_disks_nonshared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) def test_evacuate_failure_shared_instancedir(self): """"""Assert the failure cleanup behaviour of shared instance storage If we fail during evacuate and the instance directory was already present on the destination, we should leave it there By default our 2 compute hosts share the same instance directory on the test runner. """""" # Use a unique instances_path per test to allow cleanup self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) # Create test instances on compute0 compute0 = self._start_compute('compute0') servers = self._create_servers() compute1 = self._swap_computes(compute0) for server in servers: name = server['name'] shared_instance_path = self.source_instance_path(server) # Check that we've got an instance directory on the source self.assertTrue(os.path.exists(shared_instance_path), ""Shared instance directory %s for server %s does "" ""not exist"" % (shared_instance_path, name)) server = self._evacuate_with_failure(server, compute1) # Check that the instance directory still exists # FIXME(mdbooth): the shared instance directory should still exist self.assertFalse(os.path.exists(shared_instance_path), ""Shared instance directory %s for server %s "" ""exists"" % (shared_instance_path, name)) self.assert_disks_shared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) class LibvirtFlatEvacuateTest(_FlatTest, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtQcowEvacuateTest(_Qcow2Test, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtRbdEvacuateTest(_RbdTest, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtLVMEvacuateTest(_LVMTest, _LibvirtEvacuateTest, test.TestCase): pass ",,660,0
openstack%2Fcharm-deployment-guide~master~I8333afd1c26315a42abe52d12c09b4354afb32ba,openstack/charm-deployment-guide,master,I8333afd1c26315a42abe52d12c09b4354afb32ba,Remove glance amqp relation from install page,MERGED,2020-07-14 21:08:23.000000000,2020-07-14 21:22:55.000000000,2020-07-14 21:21:39.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 21:08:23.000000000', 'files': ['deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/install-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b00b122f2a89f8f2538292fcacd2e21f8b0fc788', 'message': 'Remove glance amqp relation from install page\n\nChange-Id: I8333afd1c26315a42abe52d12c09b4354afb32ba\n'}]",0,741055,b00b122f2a89f8f2538292fcacd2e21f8b0fc788,7,2,1,30561,,,0,"Remove glance amqp relation from install page

Change-Id: I8333afd1c26315a42abe52d12c09b4354afb32ba
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/55/741055/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/install-openstack.rst']",2,b00b122f2a89f8f2538292fcacd2e21f8b0fc788,remove-glance-amqp-relation-from-install,Four relations are needed:,Five relations are needed: juju add-relation glance:amqp rabbitmq-server:amqp,1,3
openstack%2Fheat~stable%2Fussuri~I50904e4254568cd807b9ff18eef482cadb626ce5,openstack/heat,stable/ussuri,I50904e4254568cd807b9ff18eef482cadb626ce5,Check for nova exception.Conflict rather than task_state,MERGED,2020-07-01 05:18:01.000000000,2020-07-14 21:17:40.000000000,2020-07-14 05:15:10.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 05:18:01.000000000', 'files': ['heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/engine/clients/os/nova.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/81a7f1e799308751f667abc3eec5006936bb18b4', 'message': ""Check for nova exception.Conflict rather than task_state\n\nWhen detaching and attaching volumes nova would raise an\nexception.Conflict, if attach and detach can't happen. Let's\nuse that to retry rather than using task_state.\n\nChange-Id: I50904e4254568cd807b9ff18eef482cadb626ce5\nTask: 40169\n(cherry picked from commit 01c230e793043310614d5b88096476ce0eac2c78)\n""}]",0,738730,81a7f1e799308751f667abc3eec5006936bb18b4,13,4,1,8833,,,0,"Check for nova exception.Conflict rather than task_state

When detaching and attaching volumes nova would raise an
exception.Conflict, if attach and detach can't happen. Let's
use that to retry rather than using task_state.

Change-Id: I50904e4254568cd807b9ff18eef482cadb626ce5
Task: 40169
(cherry picked from commit 01c230e793043310614d5b88096476ce0eac2c78)
",git fetch https://review.opendev.org/openstack/heat refs/changes/30/738730/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/cinder/test_volume.py', 'heat/engine/clients/os/nova.py', 'heat/engine/resources/openstack/cinder/volume.py']",3,81a7f1e799308751f667abc3eec5006936bb18b4,," prg_detach.called = self.client_plugin( 'nova').detach_volume(prg_detach.srv_id, prg_detach.attach_id) prg_attach.called = self.client_plugin('nova').attach_volume( prg_attach.srv_id, prg_attach.vol_id, prg_attach.device) prg_detach.called = self.client_plugin( 'nova').detach_volume(server_id, self.resource_id) prg_attach.called = self.client_plugin('nova').attach_volume( prg_attach.srv_id, prg_attach.vol_id, prg_attach.device)"," # Waiting OS-EXT-STS:task_state in server to become available for # detach task_state = self.client_plugin('nova').fetch_server_attr( prg_detach.srv_id, 'OS-EXT-STS:task_state') # Wait till out of any resize steps (including resize_finish) if task_state is not None and 'resize' in task_state: prg_detach.called = False else: self.client_plugin('nova').detach_volume(prg_detach.srv_id, prg_detach.attach_id) prg_detach.called = True # Waiting OS-EXT-STS:task_state in server to become available for # attach task_state = self.client_plugin('nova').fetch_server_attr( prg_attach.srv_id, 'OS-EXT-STS:task_state') # Wait till out of any resize steps (including resize_finish) if task_state is not None and 'resize' in task_state: prg_attach.called = False else: prg_attach.called = self.client_plugin('nova').attach_volume( prg_attach.srv_id, prg_attach.vol_id, prg_attach.device) # Waiting OS-EXT-STS:task_state in server to become available for # detach server = self.client_plugin('nova').fetch_server(server_id) task_state = getattr(server, 'OS-EXT-STS:task_state', None) # Wait till out of any resize steps (including resize_finish) if task_state is not None and 'resize' in task_state: prg_detach.called = False else: self.client_plugin('nova').detach_volume(server_id, self.resource_id) prg_detach.called = True # Waiting OS-EXT-STS:task_state in server to become available for # attach server = self.client_plugin('nova').fetch_server(prg_attach.srv_id) task_state = getattr(server, 'OS-EXT-STS:task_state', None) # Wait till out of any resize steps (including resize_finish) if task_state is not None and 'resize' in task_state: prg_attach.called = False else: prg_attach.called = self.client_plugin('nova').attach_volume( prg_attach.srv_id, prg_attach.vol_id, prg_attach.device)",25,49
openstack%2Ftripleo-heat-templates~master~Ib4a02a192377aafab5970647d74977cb1189bcae,openstack/tripleo-heat-templates,master,Ib4a02a192377aafab5970647d74977cb1189bcae,Switch deploy steps to tripleo_free,MERGED,2020-04-30 19:28:16.000000000,2020-07-14 21:07:14.000000000,2020-07-14 17:15:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-04-30 19:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/705b04fa5133b3f82a97e6832e4fcefe900fe029', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\nDepends-On: https://review.opendev.org/#/c/724731/\n""}, {'number': 2, 'created': '2020-04-30 22:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2000b80dab7274bdbaead3c606c004b6a3392711', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\nDepends-On: https://review.opendev.org/#/c/724731/\n""}, {'number': 3, 'created': '2020-05-01 20:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17abdb16038d8bae79a302950cc1dfc5c4f0dde0', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\nDepends-On: https://review.opendev.org/#/c/724731/\n""}, {'number': 4, 'created': '2020-05-04 19:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf7f790280a8a51eb58a1d0948e6b95d1655491a', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\nDepends-On: https://review.opendev.org/#/c/724731/\n""}, {'number': 5, 'created': '2020-05-08 02:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8bfce3b3642f6c755957aa589458d7f0a321e02', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\nDepends-On: https://review.opendev.org/#/c/724731/\n""}, {'number': 6, 'created': '2020-05-12 23:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a0c721df59d50f5afb38740e14faf7afbf517a7', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\nDepends-On: https://review.opendev.org/#/c/724731/\n""}, {'number': 7, 'created': '2020-05-28 15:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f72d029fa94d9a2efe63aa40d10a3fb7d4b0cf8a', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nDepends-On: https://review.opendev.org/#/c/731562/\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 8, 'created': '2020-06-05 20:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36560475119388240023d7786e5bf520193fc6e9', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nDepends-On: https://review.opendev.org/#/c/731562/\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 9, 'created': '2020-06-05 20:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a34b5c2b055b6f7f0281d80026a6ee33cfae5ae7', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 10, 'created': '2020-06-09 16:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9fa50440359e4a4e74c49b9833cbb0571dd8d5c1', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 11, 'created': '2020-06-09 22:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9a2efd4ef292fa66f0bc5bd6ba801acc8ab3bf1', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 12, 'created': '2020-06-11 13:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35610933b586c3a418a85c9ce810e663da7204a4', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 13, 'created': '2020-06-11 19:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff2bfa7ba2830387369ef13c5c3ce7ab7b8acc77', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 14, 'created': '2020-06-19 02:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3790ef35aae0e2b45bab94ebeed717a337525082', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 15, 'created': '2020-06-22 12:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44838176b709eb944141ef0efe5974aaca3c554b', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 16, 'created': '2020-06-25 00:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a70b269a3ff4aaeed2a089e5149b462c33c10fc', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 17, 'created': '2020-07-02 21:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b6c29e63d1e991512f4f0613d9b0bc80242470c', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 18, 'created': '2020-07-03 13:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4dd78933a71f8b9cdffb7c17e2f1dc4f5e23447', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 19, 'created': '2020-07-05 20:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bf9d0262aaef6e8f01b1e4cd8e100cf4a88ebad', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 20, 'created': '2020-07-06 12:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c87f583a02144e244078d60b40678895a699c3c', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 21, 'created': '2020-07-07 11:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e7e07910e8474a096805260ff192e9e726b2edc', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 22, 'created': '2020-07-08 12:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88ecd188e8a59fa89fd42e75f74d0f23b1434ae3', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 23, 'created': '2020-07-13 01:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af3801587770b65f0a3064b8438fda8e8c0948f3', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}, {'number': 24, 'created': '2020-07-13 12:19:26.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5f9740759461434177d6590cc8c99bb5e48365b', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n""}]",0,724734,a5f9740759461434177d6590cc8c99bb5e48365b,151,10,24,14985,,,0,"Switch deploy steps to tripleo_free

The tripleo_free strategy should allow the tasks to run freely for a
given playbook that defines using the tripleo_free strategy. The defaul
strategy is a linear one that will execute each task across all servers
prior to moving to the next task. The tripleo_free strategy will execute
the tasks on servers without syncryonizing the tasks within a given
playbook. Because TripleO uses step concepts in our deployment, we
already have the syncronization points in the main playbook. The outer
playbook should be done linearly but the deployment steps themselves
should be done freely.

The tripleo_free playbook won't stop execution on all hosts if one host
fails or becomes unreachable. It will however end the play exeuction if
any error occurs on any host. This is similar to the deployment failures
we used to have with Heat where a failure on any single node would stop
the deployment at a given deployment step.  A future improvement of this
will be to add logic to handle a failure percentage on a given TripleO
role to only stop the playbook if the failure percentage exceeds a
defined amount. Currently any failure will stop a playbook but may not
stop later tasks from executing on the rest of the hosts. We will likely
need to implement a tripleo_linear strategy based on the upstream linear
strategy to understand these failure percentages as well.

NOTE: During the testing of this, we identified two issues with the free
strategy in ansible itself. We will need those fixes landed in the
version of ansible prior to being able to land this.

Depends-On: https://github.com/ansible/ansible/pull/69730
Depends-On: https://github.com/ansible/ansible/pull/69524
Change-Id: Ib4a02a192377aafab5970647d74977cb1189bcae
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/724734/24 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,705b04fa5133b3f82a97e6832e4fcefe900fe029,strategy-improvements, strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free,,12,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I40a75a14a5bb4e898229b6f2306bf4a784f26cf7,openstack/tripleo-ansible,stable/train,I40a75a14a5bb4e898229b6f2306bf4a784f26cf7,tripleo_container_manage: only run exec/create playbooks when needed,MERGED,2020-07-13 21:17:21.000000000,2020-07-14 21:01:13.000000000,2020-07-14 21:01:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-13 21:17:21.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/manage.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d78427b850c7a65dff9ad25ade0c50f1f342122', 'message': 'tripleo_container_manage: only run exec/create playbooks when needed\n\nOnly run these playbooks when there are some containers to manage with\nexec/create actions.\n\nChange-Id: I40a75a14a5bb4e898229b6f2306bf4a784f26cf7\n(cherry picked from commit 636d7c1759666699e975c1bd04049c581e4a5fe3)\n'}]",0,740811,6d78427b850c7a65dff9ad25ade0c50f1f342122,12,3,1,3153,,,0,"tripleo_container_manage: only run exec/create playbooks when needed

Only run these playbooks when there are some containers to manage with
exec/create actions.

Change-Id: I40a75a14a5bb4e898229b6f2306bf4a784f26cf7
(cherry picked from commit 636d7c1759666699e975c1bd04049c581e4a5fe3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/740811/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/manage.yml'],1,6d78427b850c7a65dff9ad25ade0c50f1f342122,needed/train," when: - ((batched_container_data | haskey(attribute='action', value='exec') | default([])) | length > 0) when: - ((batched_container_data | haskey(attribute='action', reverse=True) | default([])) | length > 0)",,4,0
openstack%2Ftripleo-ci~master~I75f0a6e4da144adee8035f1d227444a2137272ce,openstack/tripleo-ci,master,I75f0a6e4da144adee8035f1d227444a2137272ce,Add previous_release_mixed_upgrade_case ussuri to template,MERGED,2020-07-08 09:24:45.000000000,2020-07-14 20:41:45.000000000,2020-07-14 20:41:45.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-08 09:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a2ac863faeda5ef6c5c71dc5ad30fe5e8680b9c3', 'message': 'Add previous_release_mixed_upgrade_case ussuri to template\n\nSupport for ussuri was added in [1] but we forgot to update the\ntemplate as well so fixing here. Found as part of the work in [2]\n\nRelated-Bug: 1886680\n[1] https://opendev.org/openstack/tripleo-ci/commit/22d77e7f88482e96d414f65e0ad35192fd189a6b\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I75f0a6e4da144adee8035f1d227444a2137272ce\n'}, {'number': 2, 'created': '2020-07-13 11:52:57.000000000', 'files': ['roles/run-test/templates/oooq_common_functions.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e63c26088fabfe8b58df41a3fec5cca7816ce948', 'message': 'Add previous_release_mixed_upgrade_case ussuri to template\n\nSupport for ussuri was added in [1] but we forgot to update the\ntemplate as well so fixing here. Found as part of the work in [2]\n\nRelated-Bug: 1886680\n[1] https://opendev.org/openstack/tripleo-ci/commit/22d77e7f88482e96d414f65e0ad35192fd189a6b\n[2] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I75f0a6e4da144adee8035f1d227444a2137272ce\n'}]",0,739939,e63c26088fabfe8b58df41a3fec5cca7816ce948,43,13,2,8449,,,0,"Add previous_release_mixed_upgrade_case ussuri to template

Support for ussuri was added in [1] but we forgot to update the
template as well so fixing here. Found as part of the work in [2]

Related-Bug: 1886680
[1] https://opendev.org/openstack/tripleo-ci/commit/22d77e7f88482e96d414f65e0ad35192fd189a6b
[2] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Change-Id: I75f0a6e4da144adee8035f1d227444a2137272ce
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/39/739939/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/oooq_common_functions.sh.j2'],1,a2ac863faeda5ef6c5c71dc5ad30fe5e8680b9c3,centos8_upgrades_jobs," echo ""ussuri"" ;; ussuri|promotion-testing-hash-ussuri)",,3,0
openstack%2Fdevstack-plugin-ceph~master~I20ab47cf7846e7c0291ef4771cc93fd85d0452b0,openstack/devstack-plugin-ceph,master,I20ab47cf7846e7c0291ef4771cc93fd85d0452b0,[manila][ci] Replace legacy jobs,MERGED,2020-07-13 23:49:00.000000000,2020-07-14 20:39:58.000000000,2020-07-14 20:37:14.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 23:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d1de5140e76d34525e17f974937d971c308482c4', 'message': ""[manila][ci] Replace legacy jobs\n\n- manila-tempest-minimal-dsvm-cephfs-native and\n  manila-tempest-minimal-dsvm-cephfs-nfs are both\n  legacy jobs that use the now deprecated\n  devstack-gate.\n- We no longer need the CentOS based experimental\n  jobs for manila since the manila team plans to\n  delete them from their tree. Newer CentOS experiments\n  can happen with the native zuulv3 style jobs.\n- The jobs added are inheriting manila-tempest-plugin jobs,\n  but currently don't override anything - there's a plan\n  to supply overrides soon to accommodate the ceph support\n  matrix that the manila team wants to test via this\n  repository.\n- Also make minor refactors to existing base\n  jobs to make reuse of certain things easier\n\nA future commit will remove the pre-test-hook and\npost-test-hook scripts; they're presently there to allow\ntesting legacy jobs against older releases of\nopenstack/manila.\n\nChange-Id: I20ab47cf7846e7c0291ef4771cc93fd85d0452b0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2020-07-13 23:53:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/25968ce86b412705787647b685e3797110417ee4', 'message': ""[manila][ci] Replace legacy jobs\n\n- manila-tempest-minimal-dsvm-cephfs-native and\n  manila-tempest-minimal-dsvm-cephfs-nfs are both\n  legacy jobs that use the now deprecated\n  devstack-gate.\n- We no longer need the CentOS based experimental\n  jobs for manila since the manila team plans to\n  delete them from their tree. Newer CentOS experiments\n  can happen with the native zuulv3 style jobs.\n- The jobs added are inheriting manila-tempest-plugin jobs,\n  but currently don't override anything - there's a plan\n  to supply overrides soon to accommodate the ceph support\n  matrix that the manila team wants to test via this\n  repository.\n- Also make minor refactors to existing base\n  jobs to make reuse of certain things easier\n\nA future commit will remove the pre-test-hook and\npost-test-hook scripts; they're presently there to allow\ntesting legacy jobs against older releases of\nopenstack/manila.\n\nChange-Id: I20ab47cf7846e7c0291ef4771cc93fd85d0452b0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,740830,25968ce86b412705787647b685e3797110417ee4,12,5,2,16643,,,0,"[manila][ci] Replace legacy jobs

- manila-tempest-minimal-dsvm-cephfs-native and
  manila-tempest-minimal-dsvm-cephfs-nfs are both
  legacy jobs that use the now deprecated
  devstack-gate.
- We no longer need the CentOS based experimental
  jobs for manila since the manila team plans to
  delete them from their tree. Newer CentOS experiments
  can happen with the native zuulv3 style jobs.
- The jobs added are inheriting manila-tempest-plugin jobs,
  but currently don't override anything - there's a plan
  to supply overrides soon to accommodate the ceph support
  matrix that the manila team wants to test via this
  repository.
- Also make minor refactors to existing base
  jobs to make reuse of certain things easier

A future commit will remove the pre-test-hook and
post-test-hook scripts; they're presently there to allow
testing legacy jobs against older releases of
openstack/manila.

Change-Id: I20ab47cf7846e7c0291ef4771cc93fd85d0452b0
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/30/740830/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d1de5140e76d34525e17f974937d971c308482c4,native-zuulv3-migration, abstract: true irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^doc/.*$ - ^tox.ini$ abstract: true- job: name: devstack-plugin-ceph-cephfs-native parent: manila-tempest-plugin-cephfs-native - job: name: devstack-plugin-ceph-cephfs-nfs parent: manila-tempest-plugin-cephfs-nfs - devstack-plugin-ceph-tempest-py3 - devstack-plugin-ceph-cephfs-native: irrelevant-files: *irrelevant-files voting: false - devstack-plugin-ceph-cephfs-nfs: irrelevant-files: *irrelevant-files voting: false, - devstack-plugin-ceph-tempest-py3: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - manila-tempest-minimal-dsvm-cephfs-native: voting: false - manila-tempest-minimal-dsvm-cephfs-nfs: voting: false - manila-tempest-minimal-dsvm-cephfs-native-centos-7: voting: false - manila-tempest-minimal-dsvm-cephfs-nfs-centos-7: voting: false,21,12
openstack%2Fopenstack-helm-infra~master~Ib6be059e387f1932a5655df07ae182f75f142538,openstack/openstack-helm-infra,master,Ib6be059e387f1932a5655df07ae182f75f142538,Add missing security-context for ceph-rgw test pod,MERGED,2020-07-14 16:10:42.000000000,2020-07-14 20:28:25.000000000,2020-07-14 20:27:03.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17119}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29298}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-14 16:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/855e8b8384e0a59d01fc68c885a1d2c488c2721f', 'message': 'Add missing security-context for ceph-rgw test pod\n\nThis updates the ceph-rgw and ceph-osd chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: Ib6be059e387f1932a5655df07ae182f75f142538\n'}, {'number': 2, 'created': '2020-07-14 17:26:03.000000000', 'files': ['ceph-rgw/values.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/774d85b77ed93ef79cd9d1e90f99c27783d7f463', 'message': 'Add missing security-context for ceph-rgw test pod\n\nThis updates the ceph-rgw chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: Ib6be059e387f1932a5655df07ae182f75f142538\n'}]",0,740996,774d85b77ed93ef79cd9d1e90f99c27783d7f463,17,15,2,29161,,,0,"Add missing security-context for ceph-rgw test pod

This updates the ceph-rgw chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: Ib6be059e387f1932a5655df07ae182f75f142538
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/740996/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/values.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml']",2,855e8b8384e0a59d01fc68c885a1d2c488c2721f,,"{{ dict ""envAll"" $envAll ""application"" ""rgw_test"" ""container"" ""ceph_rgw_s3_validation"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 6 }}",,4,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2f0f60052c1acfc971fe3d5195f9499e45068396,openstack/tripleo-heat-templates,stable/ussuri,I2f0f60052c1acfc971fe3d5195f9499e45068396,Allow overriding InterfaceDefaultRoute with ips_from_pool template,MERGED,2020-06-17 04:55:38.000000000,2020-07-14 20:20:03.000000000,2020-07-14 20:20:03.000000000,"[{'_account_id': 9816}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-06-17 04:55:38.000000000', 'files': ['network/ports/port_from_pool.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/454a0e6520b8ff324b7b4b649837c6c76628a260', 'message': ""Allow overriding InterfaceDefaultRoute with ips_from_pool template\n\nCurrently InterfaceDefaultRoute doesn't affect when ips_from_pool\ntemplate is used, and gateway_ip in network_data is always picked up.\nThis patch allows operators to override default route by the parameter\neven when ips_from_pool template is used.\n\nNote that this patch also fixes incorrect handling about subnet in\nips_from_pool template when ipv6 is enabled.\n\nCloses-Bug: #1881768\nChange-Id: I2f0f60052c1acfc971fe3d5195f9499e45068396\n(cherry picked from commit 396b26fe9b67aebf9b3a7badc9b82be5380ce237)\n""}]",0,736093,454a0e6520b8ff324b7b4b649837c6c76628a260,22,5,1,9816,,,0,"Allow overriding InterfaceDefaultRoute with ips_from_pool template

Currently InterfaceDefaultRoute doesn't affect when ips_from_pool
template is used, and gateway_ip in network_data is always picked up.
This patch allows operators to override default route by the parameter
even when ips_from_pool template is used.

Note that this patch also fixes incorrect handling about subnet in
ips_from_pool template when ipv6 is enabled.

Closes-Bug: #1881768
Change-Id: I2f0f60052c1acfc971fe3d5195f9499e45068396
(cherry picked from commit 396b26fe9b67aebf9b3a7badc9b82be5380ce237)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/736093/1 && git format-patch -1 --stdout FETCH_HEAD,['network/ports/port_from_pool.j2'],1,454a0e6520b8ff324b7b4b649837c6c76628a260,bug/1881768,"{%- if network.ipv6 or ipv6_override %} default: ""{{network.ipv6_subnet|default(network.ip_subnet|default(""""))}}"" {%- else %} default: ""{{network.ip_subnet|default("""")}}"" {%- endif %} {{network.name}}InterfaceDefaultRoute: default: '' description: default route for the {{network.name_lower}} network type: string conditions: {{network.name_lower}}_interface_default_route_set: not: equals: - {get_param: {{network.name}}InterfaceDefaultRoute} - '' value: if: - {{network.name_lower}}_interface_default_route_set - {get_param: {{network.name}}InterfaceDefaultRoute} - {{network.gateway_ipv6|default('')}} {{network.gateway_ip|default('')}}", default: {{network.ip_subnet}} value: {{network.gateway_ipv6|default('')}} value: {{network.gateway_ip|default('')}},23,4
openstack%2Ftripleo-quickstart-extras~master~I70bf007a434a1ca3a13278e69bbd54c06d29d490,openstack/tripleo-quickstart-extras,master,I70bf007a434a1ca3a13278e69bbd54c06d29d490,Set image_convert_memory_limit to 2048 in CI UC,MERGED,2020-07-08 12:36:01.000000000,2020-07-14 20:20:01.000000000,2020-07-14 20:20:01.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-08 12:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9aa1ada503e65ca29a2226cab75ec759f1feb455', 'message': 'Set image_convert_memory_limit to 2048 in CI UC\n\nTry to bump the memory limit to see if it solved the errors\nrelated to image convert.\n\nqemu-img: error while reading sector 2365184: Input/output error\n\nChange-Id: I70bf007a434a1ca3a13278e69bbd54c06d29d490\nRelated-Bug: 1879472\n'}, {'number': 2, 'created': '2020-07-13 16:57:35.000000000', 'files': ['roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d7de30471577c479563d83c4fdb937d72dae8a19', 'message': 'Set image_convert_memory_limit to 2048 in CI UC\n\nTry to bump the memory limit to see if it solved the errors\nrelated to image convert.\n\nqemu-img: error while reading sector 2365184: Input/output error\n\nChange-Id: I70bf007a434a1ca3a13278e69bbd54c06d29d490\nRelated-Bug: 1879472\n'}]",0,739970,d7de30471577c479563d83c4fdb937d72dae8a19,35,9,2,24245,,,0,"Set image_convert_memory_limit to 2048 in CI UC

Try to bump the memory limit to see if it solved the errors
related to image convert.

qemu-img: error while reading sector 2365184: Input/output error

Change-Id: I70bf007a434a1ca3a13278e69bbd54c06d29d490
Related-Bug: 1879472
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/70/739970/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2'],1,9aa1ada503e65ca29a2226cab75ec759f1feb455,bug/1879472, ironic::config::ironic_config: disk_utils/image_convert_memory_limit: value: 2048 ,,5,0
openstack%2Fkuryr-kubernetes~master~Iaf7abb1a82d213ba0aeeec5b5b17760b1622c549,openstack/kuryr-kubernetes,master,Iaf7abb1a82d213ba0aeeec5b5b17760b1622c549,Tweak exponential backoff,MERGED,2020-07-03 14:57:22.000000000,2020-07-14 20:06:38.000000000,2020-07-14 20:04:52.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-07-03 14:57:22.000000000', 'files': ['kuryr_kubernetes/tests/unit/handlers/test_retry.py', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9db38c85b2d25b62ef77be2d2f26a71925f21769', 'message': ""Tweak exponential backoff\n\nThis commit attempts to tweak and simplify the exponential backoff that\nwe use by making the default interval 1 instead of 3 (so that it won't\nraise that fast), locking default maximum wait at 60 seconds (so that we\nwon't wait e.g. more than 2 minutes as a backoff waiting for pod to\nbecome active) and introducing small jitter instead of fully random\nchoice of time that we had.\n\nChange-Id: Iaf7abb1a82d213ba0aeeec5b5b17760b1622c549\n""}]",0,739247,9db38c85b2d25b62ef77be2d2f26a71925f21769,26,5,1,11600,,,0,"Tweak exponential backoff

This commit attempts to tweak and simplify the exponential backoff that
we use by making the default interval 1 instead of 3 (so that it won't
raise that fast), locking default maximum wait at 60 seconds (so that we
won't wait e.g. more than 2 minutes as a backoff waiting for pod to
become active) and introducing small jitter instead of fully random
choice of time that we had.

Change-Id: Iaf7abb1a82d213ba0aeeec5b5b17760b1622c549
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/47/739247/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/handlers/test_retry.py', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/utils.py']",3,9db38c85b2d25b62ef77be2d2f26a71925f21769,civilize-logging,"DEFAULT_INTERVAL = 1 DEFAULT_JITTER = 3 MAX_BACKOFF = 60def exponential_sleep(deadline, attempt, interval=DEFAULT_INTERVAL, max_backoff=MAX_BACKOFF, jitter=DEFAULT_JITTER): :param max_backoff: maximum time to sleep :param jitter: max value of jitter added to the sleep time to_sleep = exponential_backoff(attempt, interval, max_backoff=max_backoff, jitter=jitter)def exponential_backoff(attempt, interval=DEFAULT_INTERVAL, max_backoff=MAX_BACKOFF, jitter=DEFAULT_JITTER): """"""Return exponential backoff duration with jitter. This implements a variation of exponential backoff algorithm [1] (expected backoff E(c) = interval * 2 ** attempt / 2). [1] https://en.wikipedia.org/wiki/Exponential_backoff """""" backoff = 2 ** attempt * interval if jitter: backoff += random.randint(0, jitter) ","DEFAULT_INTERVAL = 3def exponential_sleep(deadline, attempt, interval=DEFAULT_INTERVAL): This implements a variation of exponential backoff algorithm [1] and ensures that there is a minimal time `interval` to sleep. (expected backoff E(c) = interval * 2 ** c / 2). [1] https://en.wikipedia.org/wiki/Exponential_backoff to_sleep = exponential_backoff(attempt, interval)def exponential_backoff(attempt, interval=DEFAULT_INTERVAL, min_backoff=1, max_backoff=None): backoff = random.randint(min_backoff, 2 ** attempt - 1) * interval",28,26
openstack%2Fansible-role-lunasa-hsm~master~If0eb393ca970206cc95c7453641f33781eb698b2,openstack/ansible-role-lunasa-hsm,master,If0eb393ca970206cc95c7453641f33781eb698b2,Add support for High Availability,MERGED,2020-07-13 20:42:33.000000000,2020-07-14 19:50:59.000000000,2020-07-14 19:50:59.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-07-13 20:42:33.000000000', 'files': ['tasks/register_hsm.yaml', 'README.rst', 'tasks/main.yaml', 'defaults/main.yaml', 'tasks/register_client.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-lunasa-hsm/commit/b4eaaeb9ccc4910dc2505cacf33d0026b22de3e2', 'message': 'Add support for High Availability\n\nThis patch adds the ability to configure the Luna Network HSM\nclient to use more than one HSM for high availability (HA) mode.\n\nChange-Id: If0eb393ca970206cc95c7453641f33781eb698b2\n'}]",0,740806,b4eaaeb9ccc4910dc2505cacf33d0026b22de3e2,7,3,1,7973,,,0,"Add support for High Availability

This patch adds the ability to configure the Luna Network HSM
client to use more than one HSM for high availability (HA) mode.

Change-Id: If0eb393ca970206cc95c7453641f33781eb698b2
",git fetch https://review.opendev.org/openstack/ansible-role-lunasa-hsm refs/changes/06/740806/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/register_hsm.yaml', 'README.rst', 'tasks/main.yaml', 'defaults/main.yaml', 'tasks/register_client.yaml']",5,b4eaaeb9ccc4910dc2505cacf33d0026b22de3e2,,"--- - name: Log when client is being registered to HSM debug: msg: ""Registering client: {{ client_name }} [{{ client_host }}] with HSM: {{ hsm_hostname }}"" - name: Get the hsm server cert from the hsm_server shell: > sshpass -p '{{ hsm_admin_password }}' scp -o StrictHostKeyChecking=false -c aes256-cbc admin@{{ hsm_hostname }}:server.pem /usr/safenet/lunaclient/bin/{{ hsm_hostname }}.pem args: creates: /usr/safenet/lunaclient/bin/{{ hsm_hostname }}.pem become: true - name: Register the HSM server cert with the client shell: > /usr/safenet/lunaclient/bin/vtl addServer -n {{ hsm_hostname }} -c /usr/safenet/lunaclient/bin/{{ hsm_hostname }}.pem register: add_server become: true failed_when: - add_server.rc != 0 - '""This server is already registered"" not in add_server.stdout' - name: Check for existing clients shell: > sshpass -p '{{ hsm_admin_password }}' ssh -o StrictHostKeyChecking=false -c aes256-cbc admin@{{ hsm_hostname }} -C client list register: client_list - name: Fail if client is already registered, but we don't have that cert fail: msg: ""Client: {{ client_name }} is already registered, but the client cert is missing!"" when: - client_name in client_list.stdout - client_new_cert - not lunasa_client_rotate_cert - name: Delete existing client when rotating certs shell: > sshpass -p '{{ hsm_admin_password }}' ssh -c aes256-cbc admin@{{ hsm_hostname }} -C ""client delete -f -c {{ client_name }}"" when: - client_name in client_list.stdout - lunasa_client_rotate_cert - name: Register the client certificate on the hsm_server block: - name: Copy the NTL client cert to the HSM shell: > sshpass -p '{{ hsm_admin_password }}' scp -c aes256-cbc /usr/safenet/lunaclient/cert/client/{{ client_host }}.pem admin@{{ hsm_hostname }}:{{ client_host }}.pem - name: Register the client shell: > sshpass -p '{{ hsm_admin_password }}' ssh -c aes256-cbc admin@{{ hsm_hostname }} -C ""client register -c {{ client_name }} {{ client_reg_opt }} {{ client_host }}"" register: client_register failed_when: - client_register.rc != 0 - ""'client with the same IP address has already been registered' not in client_register.stdout"" become: true when: client_name not in client_list.stdout or lunasa_client_rotate_cert - name: Assign client to an HSM partition shell: | sshpass -p '{{ hsm_admin_password }}' ssh -c aes256-cbc admin@{{ hsm_hostname }} \ -C ""client assignPartition -c {{ client_name }} -p {{ hsm_partition }}"" register: assign_partition failed_when: - assign_partition.rc != 0 - ""'client already has access' not in assign_partition.stdout"" become: true ",,148,87
openstack%2Fdesignate~master~I3707546e77acb9dec56ec33cbabb3e6228525f9c,openstack/designate,master,I3707546e77acb9dec56ec33cbabb3e6228525f9c,Fix inspect module deprecation warning,MERGED,2020-07-08 03:59:47.000000000,2020-07-14 19:49:58.000000000,2020-07-14 19:48:02.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-07-08 03:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a2a8323f9b8e74023ee6295850f4103d2892bb8e', 'message': 'Fix inspect module deprecation warning\n\nDeprecationWarning: inspect.getargspec() is deprecated since\nPython 3.0, use inspect.signature() or inspect.getfullargspec()\n\nChange-Id: I3707546e77acb9dec56ec33cbabb3e6228525f9c\n'}, {'number': 2, 'created': '2020-07-10 03:50:10.000000000', 'files': ['designate/tests/__init__.py', 'designate/utils.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/d46eb2498079b3877df7b28282eec59971b79d05', 'message': 'Fix inspect module deprecation warning\n\nDeprecationWarning: inspect.getargspec() is deprecated since\nPython 3.0, use inspect.signature() or inspect.getfullargspec()\n\nChange-Id: I3707546e77acb9dec56ec33cbabb3e6228525f9c\n'}]",0,739886,d46eb2498079b3877df7b28282eec59971b79d05,16,3,2,6994,,,0,"Fix inspect module deprecation warning

DeprecationWarning: inspect.getargspec() is deprecated since
Python 3.0, use inspect.signature() or inspect.getfullargspec()

Change-Id: I3707546e77acb9dec56ec33cbabb3e6228525f9c
",git fetch https://review.opendev.org/openstack/designate refs/changes/86/739886/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/utils.py']",2,a2a8323f9b8e74023ee6295850f4103d2892bb8e,inspect_deprecation, arg_spec = inspect.getfullargspec(f).args, arg_spec = inspect.getargspec(f).args,3,3
openstack%2Fopenstack-helm-images~master~I1e6d9ccdb09ecc07a0bdd8194a60e57e0e96fbaf,openstack/openstack-helm-images,master,I1e6d9ccdb09ecc07a0bdd8194a60e57e0e96fbaf,Add zuul job for Node Promblem Detector image,MERGED,2020-07-13 22:55:22.000000000,2020-07-14 19:17:15.000000000,2020-07-14 19:14:26.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-13 22:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/410e72985a11a2f6c7d67ccb56ff2c3a14f61789', 'message': 'Add zuul job for Node Promblem Detector image\n\nChange-Id: I1e6d9ccdb09ecc07a0bdd8194a60e57e0e96fbaf\n'}, {'number': 2, 'created': '2020-07-14 14:04:12.000000000', 'files': ['zuul.d/node-problem-detector.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3676e202577e52fa51d4eb713b7d5eb4aac468e6', 'message': 'Add zuul job for Node Promblem Detector image\n\nChange-Id: I1e6d9ccdb09ecc07a0bdd8194a60e57e0e96fbaf\n'}]",0,740825,3676e202577e52fa51d4eb713b7d5eb4aac468e6,10,3,2,30582,,,0,"Add zuul job for Node Promblem Detector image

Change-Id: I1e6d9ccdb09ecc07a0bdd8194a60e57e0e96fbaf
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/25/740825/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/node-problem-detector.yaml'],1,410e72985a11a2f6c7d67ccb56ff2c3a14f61789,,"--- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - project: check: jobs: - openstack-helm-images-build-node-problem-detector gate: jobs: - openstack-helm-images-upload-node-problem-detector promote: jobs: - openstack-helm-images-promote-node-problem-detector periodic: jobs: - openstack-helm-images-build-node-problem-detector - job: name: openstack-helm-images-build-node-problem-detector parent: openstack-helm-images-build description: Build Node Problem Detector image vars: &node-problem-detector_vars currentdate: ""{{ now(utc=True,fmt='%Y%m%d') }}"" docker_images: - context: node-problem-detector repository: openstackhelm/node-problem-detector dockerfile: Dockerfile.ubuntu_bionic tags: - latest-ubuntu_bionic - ""ubuntu_bionic-{{ currentdate }}"" files: &node-problem-detector - node-problem-detector/.* - zuul.d/node-problem-detector.yaml - job: name: openstack-helm-images-upload-node-problem-detector parent: openstack-helm-images-upload description: Build and upload Node problem detector image vars: *node-problem-detector_vars files: *node-problem-detector_files - job: name: openstack-helm-images-promote-node-problem-detector parent: openstack-helm-images-promote description: Promote a previously published Node Problem Detector image. vars: *node-problem-detector_vars files: *node-problem-detector_files ",,57,0
openstack%2Fopenstack-helm-infra~master~I8a5e9aca0a0b29b672c8427b6491ff92797c5146,openstack/openstack-helm-infra,master,I8a5e9aca0a0b29b672c8427b6491ff92797c5146,Add user account to be used for federated metric collection.,MERGED,2020-07-02 20:20:51.000000000,2020-07-14 19:08:06.000000000,2020-07-14 19:06:25.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 27499}, {'_account_id': 30582}, {'_account_id': 30777}, {'_account_id': 31713}]","[{'number': 1, 'created': '2020-07-02 20:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90ef8eb325ec4acaf70198c5451f222005e42396', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 2, 'created': '2020-07-03 14:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/271cb00f305739da1e4bca63b809011830e27f42', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 3, 'created': '2020-07-03 14:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/42c2b6494c645a642104de7771e9e0cdc41871bf', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 4, 'created': '2020-07-06 20:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d8cee72627a8662ddeaf833959f7e3112f58c044', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 5, 'created': '2020-07-07 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/deff02a3c174181decf1d298e39d4a118cee7e87', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 6, 'created': '2020-07-07 18:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/174fd17d67aa6e11ccc3b3348ede55b56b7917af', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 7, 'created': '2020-07-07 18:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c90442d594b02c366e66b5040df3b50f848b896c', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 8, 'created': '2020-07-07 18:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f0f6f1b9a5b5639de11e8cb9ff021e3074bf418', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 9, 'created': '2020-07-07 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bacf9473c0599a8d5e03ed1ddf3976cd7375f9cb', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 10, 'created': '2020-07-08 13:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de698089aa68c4a13583a03db8a874acbf641edc', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 11, 'created': '2020-07-08 15:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b2dc28e407d85a0856acaee55a5d932af61a3f0', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}, {'number': 12, 'created': '2020-07-14 13:33:45.000000000', 'files': ['prometheus/templates/secret-prometheus.yaml', 'prometheus/templates/bin/_apache.sh.tpl', 'prometheus/templates/statefulset.yaml', 'prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a4fc3f7d78745ada7544e5c5aa683838e1aba8e9', 'message': 'Add user account to be used for federated metric collection.\n\nAdd federated user account for with consolidated metrics\n\nChange-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146\n'}]",6,739141,a4fc3f7d78745ada7544e5c5aa683838e1aba8e9,41,7,12,27499,,,0,"Add user account to be used for federated metric collection.

Add federated user account for with consolidated metrics

Change-Id: I8a5e9aca0a0b29b672c8427b6491ff92797c5146
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/41/739141/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus/templates/bin/_apache.sh.tpl'],1,90ef8eb325ec4acaf70198c5451f222005e42396,," if [ ! -z $FEDERATE_USERNAME ]; then htpasswd -b /usr/local/apache2/conf/.htpasswd ""$FEDERATE_USERNAME"" ""$FEDERATE_PASSWORD"" fi ",,4,0
openstack%2Fnova~master~I48177d6e93f2ff132d26b53cd682fd24a43a4b31,openstack/nova,master,I48177d6e93f2ff132d26b53cd682fd24a43a4b31,utils: Move 'get_bdm_image_metadata' to nova.block_device,MERGED,2020-07-08 14:13:02.000000000,2020-07-14 18:57:57.000000000,2020-07-14 18:53:19.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-08 14:13:02.000000000', 'files': ['nova/notifications/objects/image.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/test_block_device.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/block_device.py', 'nova/utils.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/72cf37bca0b9512b76f22560179b00a88dbdcdda', 'message': ""utils: Move 'get_bdm_image_metadata' to nova.block_device\n\nThe 'nova.block_device' module is essentially a catchall utils-like\nmodule for all things BDM. The 'get_bdm_image_metadata' module, and\nclosely related 'get_image_metadata_from_volume' both fall into the\ncategory of functions that belong here so move them. This allows us to\nclean up tests and, crucially, avoid a circular reference seen when we\nwant to use proper type hints in the 'nova.virt.driver' module.\n\n  nova.context imports...\n  nova.utils, which imports...\n  nova.block_device, which imports...\n  nova.virt.driver, which tries to import...\n  nova.context, causing a circular dependency\n\nChange-Id: I48177d6e93f2ff132d26b53cd682fd24a43a4b31\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,739996,72cf37bca0b9512b76f22560179b00a88dbdcdda,42,11,1,15334,,,0,"utils: Move 'get_bdm_image_metadata' to nova.block_device

The 'nova.block_device' module is essentially a catchall utils-like
module for all things BDM. The 'get_bdm_image_metadata' module, and
closely related 'get_image_metadata_from_volume' both fall into the
category of functions that belong here so move them. This allows us to
clean up tests and, crucially, avoid a circular reference seen when we
want to use proper type hints in the 'nova.virt.driver' module.

  nova.context imports...
  nova.utils, which imports...
  nova.block_device, which imports...
  nova.virt.driver, which tries to import...
  nova.context, causing a circular dependency

Change-Id: I48177d6e93f2ff132d26b53cd682fd24a43a4b31
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/739996/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/objects/image.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/test_block_device.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/compute/test_compute.py', 'nova/block_device.py', 'nova/utils.py', 'nova/compute/api.py']",10,72cf37bca0b9512b76f22560179b00a88dbdcdda,bp/add-emulated-virtual-tpm, boot_meta = block_device.get_bdm_image_metadata(, boot_meta = utils.get_bdm_image_metadata(,283,251
openstack%2Fswift~master~Ia652b1381990b61194978c4efaebac7d2a602ca3,openstack/swift,master,Ia652b1381990b61194978c4efaebac7d2a602ca3,Get rid of memcache attr on proxy-server app,MERGED,2020-06-14 23:59:02.000000000,2020-07-14 18:56:19.000000000,2020-07-14 18:53:24.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-14 23:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f6fc386040b43cd1346d4d16b523ff83f86348bb', 'message': 'Get rid of memcache attr on proxy-server app\n\nChange-Id: Ia652b1381990b61194978c4efaebac7d2a602ca3\n'}, {'number': 2, 'created': '2020-06-15 16:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/32234acace695a21df64da50cf66cbbb1a57a3d1', 'message': ""Get rid of memcache attr on proxy-server app\n\nIn a running proxy server, this only ever comes from one place:\na key in the wsgi env, populated by the memcache middleware. By\nlittering proxy controller code with things like\n\n   memcache = getattr(app, 'memcache', None) or env.get('swift.cache')\n\nwe cause ourselves to second-guess that.\n\nChange-Id: Ia652b1381990b61194978c4efaebac7d2a602ca3\n""}, {'number': 3, 'created': '2020-06-15 20:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/584348501b2cf4515357b652f617bbcbd4daf25a', 'message': ""Get rid of memcache attr on proxy-server app\n\nIn a running proxy server, this only ever comes from one place:\na key in the wsgi env, populated by the memcache middleware. By\nlittering proxy controller code with things like\n\n   memcache = getattr(app, 'memcache', None) or env.get('swift.cache')\n\nwe cause ourselves to second-guess that.\n\nChange-Id: Ia652b1381990b61194978c4efaebac7d2a602ca3\n""}, {'number': 4, 'created': '2020-06-27 04:45:09.000000000', 'files': ['test/unit/proxy/controllers/test_account.py', 'test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/proxy/controllers/test_container.py', 'test/unit/proxy/controllers/test_base.py', 'test/unit/proxy/test_sysmeta.py', 'swift/proxy/server.py', 'test/unit/common/middleware/test_copy.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/45be775ebf62af67e74face216ab59a367784fd0', 'message': ""Get rid of memcache attr on proxy-server app\n\nIn a running proxy server, this only ever comes from one place:\na key in the wsgi env, populated by the memcache middleware. By\nlittering proxy controller code with things like\n\n   memcache = getattr(app, 'memcache', None) or env.get('swift.cache')\n\nwe cause ourselves to second-guess that.\n\nChange-Id: Ia652b1381990b61194978c4efaebac7d2a602ca3\n""}]",1,735484,45be775ebf62af67e74face216ab59a367784fd0,33,3,4,15343,,,0,"Get rid of memcache attr on proxy-server app

In a running proxy server, this only ever comes from one place:
a key in the wsgi env, populated by the memcache middleware. By
littering proxy controller code with things like

   memcache = getattr(app, 'memcache', None) or env.get('swift.cache')

we cause ourselves to second-guess that.

Change-Id: Ia652b1381990b61194978c4efaebac7d2a602ca3
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/735484/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_account.py', 'test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/proxy/controllers/test_container.py', 'test/unit/proxy/controllers/test_base.py', 'test/unit/proxy/test_sysmeta.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",8,f6fc386040b43cd1346d4d16b523ff83f86348bb,735484," document_iters_to_http_response_body, ShardRange, find_shard_range, \ cache_from_env memcache = cache_from_env(env) memcache = cache_from_env(env) def account_info(self, account, req): :param req: caller's HTTP request context object def container_info(self, account, container, req): :param req: caller's HTTP request context object memcache = cache_from_env(req.environ)"," document_iters_to_http_response_body, ShardRange, find_shard_range memcache = getattr(app, 'memcache', None) or env.get('swift.cache') memcache = getattr(app, 'memcache', None) or env.get('swift.cache') def account_info(self, account, req=None): :param req: caller's HTTP request context object (optional) def container_info(self, account, container, req=None): :param req: caller's HTTP request context object (optional) memcache = getattr(self.app, 'memcache', None) or req.environ.get( 'swift.cache')",166,212
openstack%2Fceilometer~master~Ib5e39e21deab3d414065095a24b92f2424979007,openstack/ceilometer,master,Ib5e39e21deab3d414065095a24b92f2424979007,Add attr to instance disk and network resource,NEW,2018-12-27 07:46:14.000000000,2020-07-14 18:47:13.000000000,,"[{'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 8290}, {'_account_id': 15843}, {'_account_id': 19156}, {'_account_id': 22348}, {'_account_id': 22752}, {'_account_id': 29360}]","[{'number': 1, 'created': '2018-12-27 07:46:14.000000000', 'files': ['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/58061c9aab603bc32f4109071dd819bfa4beff28', 'message': ""Add attr to instance disk and network resource\n\nThis patch add 2 attributes host and display_name to\ninstance_network_interface and instance_disk.\n\nAdd these 2 attributes because I found normally we usually\ncreate graphs for metrics in instance_network_interface and\ninstance_disk, but these 2 resources not contain display_name\nand host attributes. So we have to call gnocchi API again.\nIt's not convienient.\n\nChange-Id: Ib5e39e21deab3d414065095a24b92f2424979007\nSigned-off-by: Leehom Li <feli5@cisco.com>\n""}]",1,627478,58061c9aab603bc32f4109071dd819bfa4beff28,9,10,1,19156,,,0,"Add attr to instance disk and network resource

This patch add 2 attributes host and display_name to
instance_network_interface and instance_disk.

Add these 2 attributes because I found normally we usually
create graphs for metrics in instance_network_interface and
instance_disk, but these 2 resources not contain display_name
and host attributes. So we have to call gnocchi API again.
It's not convienient.

Change-Id: Ib5e39e21deab3d414065095a24b92f2424979007
Signed-off-by: Leehom Li <feli5@cisco.com>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/78/627478/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml']",2,58061c9aab603bc32f4109071dd819bfa4beff28,instance_disk_network_attr_update, host: resource_metadata.(instance_host|host) display_name: resource_metadata.display_name host: resource_metadata.(instance_host|host) display_name: resource_metadata.display_name,,40,0
openstack%2Fpuppet-octavia~master~I18e2f3376fefea600a1ad5a931ce52310b44f51f,openstack/puppet-octavia,master,I18e2f3376fefea600a1ad5a931ce52310b44f51f,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-14 11:28:55.000000000,2020-07-14 18:32:28.000000000,2020-07-14 18:30:43.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 11:28:55.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-7d13b1d876b5d8b6.yaml', 'spec/classes/octavia_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/e21746f37588caffe9c0cb4c4a02e351f65a348f', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I18e2f3376fefea600a1ad5a931ce52310b44f51f\n'}]",0,740942,e21746f37588caffe9c0cb4c4a02e351f65a348f,8,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I18e2f3376fefea600a1ad5a931ce52310b44f51f
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/42/740942/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-7d13b1d876b5d8b6.yaml', 'spec/classes/octavia_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,e21746f37588caffe9c0cb4c4a02e351f65a348f,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I9674102d6b3686206eec78f8d6f4408988a69b7b,openstack/tripleo-ansible,stable/train,I9674102d6b3686206eec78f8d6f4408988a69b7b,container_startup_config: remove old startup config files,MERGED,2020-07-14 01:50:54.000000000,2020-07-14 18:17:37.000000000,2020-07-14 18:17:37.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 01:50:54.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1bdda8a8670c2e16da98dd21445d294e4fac6e1', 'message': ""container_startup_config: remove old startup config files\n\nThese files aren't needed anymore, since we generate one JSON per\ncontainer in its step directory.\nWe now make sure these files don't exist so there is no confusion.\n\nChange-Id: I9674102d6b3686206eec78f8d6f4408988a69b7b\n(cherry picked from commit 1f3ecf2a8590ab9885e4973b7902701a5abbd420)\n""}]",0,740840,d1bdda8a8670c2e16da98dd21445d294e4fac6e1,7,3,1,3153,,,0,"container_startup_config: remove old startup config files

These files aren't needed anymore, since we generate one JSON per
container in its step directory.
We now make sure these files don't exist so there is no confusion.

Change-Id: I9674102d6b3686206eec78f8d6f4408988a69b7b
(cherry picked from commit 1f3ecf2a8590ab9885e4973b7902701a5abbd420)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/740840/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'],1,d1bdda8a8670c2e16da98dd21445d294e4fac6e1,cleanup/startup-stable/train,"import glob """"""Cleanup old container configurations from previous releases. pattern = '*docker-container-startup-config*.json' old_configs = glob.glob(os.path.join('/var/lib/tripleo-config', pattern)) for config in old_configs: os.remove(config)"," """"""Cleanup old container configurations and directories. # TODO(emilien) remove old .json in /var/lib/tripleo-config/*.json",7,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I9674102d6b3686206eec78f8d6f4408988a69b7b,openstack/tripleo-ansible,stable/ussuri,I9674102d6b3686206eec78f8d6f4408988a69b7b,container_startup_config: remove old startup config files,MERGED,2020-07-14 01:50:47.000000000,2020-07-14 18:17:36.000000000,2020-07-14 18:17:35.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 01:50:47.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0b881b25377b14c3fd922bc6b5e4d29002cbd8d', 'message': ""container_startup_config: remove old startup config files\n\nThese files aren't needed anymore, since we generate one JSON per\ncontainer in its step directory.\nWe now make sure these files don't exist so there is no confusion.\n\nChange-Id: I9674102d6b3686206eec78f8d6f4408988a69b7b\n(cherry picked from commit 1f3ecf2a8590ab9885e4973b7902701a5abbd420)\n""}]",0,740839,c0b881b25377b14c3fd922bc6b5e4d29002cbd8d,7,3,1,3153,,,0,"container_startup_config: remove old startup config files

These files aren't needed anymore, since we generate one JSON per
container in its step directory.
We now make sure these files don't exist so there is no confusion.

Change-Id: I9674102d6b3686206eec78f8d6f4408988a69b7b
(cherry picked from commit 1f3ecf2a8590ab9885e4973b7902701a5abbd420)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/740839/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'],1,c0b881b25377b14c3fd922bc6b5e4d29002cbd8d,cleanup/startup-stable/ussuri,"import glob """"""Cleanup old container configurations from previous releases. pattern = '*docker-container-startup-config*.json' old_configs = glob.glob(os.path.join('/var/lib/tripleo-config', pattern)) for config in old_configs: os.remove(config)"," """"""Cleanup old container configurations and directories. # TODO(emilien) remove old .json in /var/lib/tripleo-config/*.json",7,2
openstack%2Ftripleo-ansible~stable%2Fussuri~Ieb50138b5c1d35fa3c59dd368a58c1af3f61807b,openstack/tripleo-ansible,stable/ussuri,Ieb50138b5c1d35fa3c59dd368a58c1af3f61807b,container_systemd: improve logging,MERGED,2020-07-13 12:11:00.000000000,2020-07-14 18:17:35.000000000,2020-07-14 18:17:34.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 12:11:00.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/container_systemd.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10a2a2970aa6fdcf493ab3b6725a1ee64d00feab', 'message': ""container_systemd: improve logging\n\nChange the wording when a container will be added to the list of\ncontainers that will be restarted, so it's not confusing.\n\nChange-Id: Ieb50138b5c1d35fa3c59dd368a58c1af3f61807b\n(cherry picked from commit 32bc4a463908fdb8e7f9050db28215d0f498e824)\n""}]",0,740685,10a2a2970aa6fdcf493ab3b6725a1ee64d00feab,6,2,1,3153,,,0,"container_systemd: improve logging

Change the wording when a container will be added to the list of
containers that will be restarted, so it's not confusing.

Change-Id: Ieb50138b5c1d35fa3c59dd368a58c1af3f61807b
(cherry picked from commit 32bc4a463908fdb8e7f9050db28215d0f498e824)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/740685/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/container_systemd.py'],1,10a2a2970aa6fdcf493ab3b6725a1ee64d00feab,logging-stable/ussuri, DISPLAY.display('This container will be ' 'restarted: {}'.format(c))," DISPLAY.display('Systemd unit file found for {}, the ' 'container will be restarted'.format(c))",2,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I95fd1fa07ffe6824886946d44b488d93b3e52d55,openstack/tripleo-ansible,stable/ussuri,I95fd1fa07ffe6824886946d44b488d93b3e52d55,tripleo_states: add missing space,MERGED,2020-07-13 21:19:49.000000000,2020-07-14 18:17:34.000000000,2020-07-14 18:17:33.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-13 21:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f304312727d0c0291aae6ca6b2a401d533bfbf61', 'message': 'tripleo_states: add missing space\n\nadd missing space so the output ~~~~ is aligned with the rest.\n\nChange-Id: I95fd1fa07ffe6824886946d44b488d93b3e52d55\n(cherry picked from commit abb6ac61774dbb2faa92499280e8c9a167c0d7cd)\n'}, {'number': 2, 'created': '2020-07-14 01:50:29.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_states.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a37db14f6443f9a2731aef23027ed408fa9ff15', 'message': 'tripleo_states: add missing space\n\nadd missing space so the output ~~~~ is aligned with the rest.\n\nChange-Id: I95fd1fa07ffe6824886946d44b488d93b3e52d55\n(cherry picked from commit abb6ac61774dbb2faa92499280e8c9a167c0d7cd)\n'}]",0,740814,7a37db14f6443f9a2731aef23027ed408fa9ff15,11,4,2,3153,,,0,"tripleo_states: add missing space

add missing space so the output ~~~~ is aligned with the rest.

Change-Id: I95fd1fa07ffe6824886946d44b488d93b3e52d55
(cherry picked from commit abb6ac61774dbb2faa92499280e8c9a167c0d7cd)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/740814/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_states.py'],1,f304312727d0c0291aae6ca6b2a401d533bfbf61,strategy-improvements-stable/ussuri, ' Number of nodes which did not deploy successfully: {} ', 'Number of nodes which did not deploy successfully: {} ',1,1
openstack%2Fpuppet-keystone~master~I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361,openstack/puppet-keystone,master,I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361,Convert more to rspec-puppet-facts,MERGED,2020-07-08 16:19:16.000000000,2020-07-14 18:14:19.000000000,2020-07-14 18:14:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 16:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a45ac5b33e034220a02d04107346584105d40c28', 'message': ""Convert more to rspec-puppet-facts\n\nAfter this it's only the keystone init class and the\nkeystone ldap backend definition left.\n\npuppet-keystone is the last module then everything\nis using rspec-puppet-facts.\n\nChange-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361\n""}, {'number': 2, 'created': '2020-07-09 11:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e40c3fd8d17b30a640dc96babc6d53fb00470198', 'message': ""Convert more to rspec-puppet-facts\n\nAfter this it's only the keystone init class and the\nkeystone ldap backend definition left.\n\npuppet-keystone is the last module then everything\nis using rspec-puppet-facts.\n\nChange-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361\n""}, {'number': 3, 'created': '2020-07-10 09:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/fde527c05fc12ba2529267ef8842b98c00a15f16', 'message': ""Convert more to rspec-puppet-facts\n\nAfter this it's only the keystone init class and the\nkeystone ldap backend definition left.\n\npuppet-keystone is the last module then everything\nis using rspec-puppet-facts.\n\nChange-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361\n""}, {'number': 4, 'created': '2020-07-12 21:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7055543f73b4c70cebe9f1f0e8091eb7b4af756a', 'message': ""Convert more to rspec-puppet-facts\n\nAfter this it's only the keystone init class and the\nkeystone ldap backend definition left.\n\npuppet-keystone is the last module then everything\nis using rspec-puppet-facts.\n\nChange-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361\n""}, {'number': 5, 'created': '2020-07-13 08:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e590e12a8de59e3d4cf83372986754699cf56432', 'message': ""Convert more to rspec-puppet-facts\n\nAfter this it's only the keystone init class and the\nkeystone ldap backend definition left.\n\npuppet-keystone is the last module then everything\nis using rspec-puppet-facts.\n\nChange-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361\n""}, {'number': 6, 'created': '2020-07-14 08:23:01.000000000', 'files': ['spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_ldap_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/8f5c6835db775690dbc7ff192e147c5a19ac5ffc', 'message': ""Convert more to rspec-puppet-facts\n\nAfter this it's only the keystone init class and the\nkeystone ldap backend definition left.\n\npuppet-keystone is the last module then everything\nis using rspec-puppet-facts.\n\nChange-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361\n""}]",0,740062,8f5c6835db775690dbc7ff192e147c5a19ac5ffc,18,5,6,16137,,,0,"Convert more to rspec-puppet-facts

After this it's only the keystone init class and the
keystone ldap backend definition left.

puppet-keystone is the last module then everything
is using rspec-puppet-facts.

Change-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/62/740062/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_ldap_spec.rb']",2,a45ac5b33e034220a02d04107346584105d40c28,740062," shared_examples 'keystone::ldap' do context 'with parameters' do it { is_expected.to contain_package('python-ldappool') } it { is_expected.to contain_keystone_config('ldap/url').with_value('ldap://foo') is_expected.to contain_keystone_config('ldap/user').with_value('cn=foo,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/password').with_value('abcdefg').with_secret(true) is_expected.to contain_keystone_config('ldap/suffix').with_value('dc=example,dc=com') is_expected.to contain_keystone_config('ldap/query_scope').with_value('sub') is_expected.to contain_keystone_config('ldap/page_size').with_value('50') } it { is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_filter').with_value('(memberOf=cn=openstack,cn=groups,cn=accounts,dc=example,dc=com)') is_expected.to contain_keystone_config('ldap/user_objectclass').with_value('inetUser') is_expected.to contain_keystone_config('ldap/user_id_attribute').with_value('uid') is_expected.to contain_keystone_config('ldap/user_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/user_description_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/user_mail_attribute').with_value('mail') is_expected.to contain_keystone_config('ldap/user_enabled_attribute').with_value('UserAccountControl') is_expected.to contain_keystone_config('ldap/user_enabled_mask').with_value('2') is_expected.to contain_keystone_config('ldap/user_enabled_default').with_value('512') is_expected.to contain_keystone_config('ldap/user_enabled_invert').with_value('False') is_expected.to contain_keystone_config('ldap/user_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/user_default_project_id_attribute').with_value('defaultProject') is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_pass_attribute').with_value('krbPassword') is_expected.to contain_keystone_config('ldap/user_enabled_emulation').with_value('True') is_expected.to contain_keystone_config('ldap/user_enabled_emulation_dn').with_value('cn=openstack-enabled,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_additional_attribute_mapping').with_value('description:name, gecos:name') } it { is_expected.to contain_keystone_config('ldap/project_tree_dn').with_value('ou=projects,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/project_filter').with_value('') is_expected.to contain_keystone_config('ldap/project_objectclass').with_value('organizationalUnit') is_expected.to contain_keystone_config('ldap/project_id_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_member_attribute').with_value('member') is_expected.to contain_keystone_config('ldap/project_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/project_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_enabled_attribute').with_value('enabled') is_expected.to contain_keystone_config('ldap/project_domain_id_attribute').with_value('businessCategory') is_expected.to contain_keystone_config('ldap/project_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/project_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/project_enabled_emulation').with_value('False') is_expected.to contain_keystone_config('ldap/project_enabled_emulation_dn').with_value('True') is_expected.to contain_keystone_config('ldap/project_additional_attribute_mapping').with_value('cn=enabled,ou=openstack,dc=example,dc=com') } it { is_expected.to contain_keystone_config('ldap/role_tree_dn').with_value('ou=roles,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/role_filter').with_value('') is_expected.to contain_keystone_config('ldap/role_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/role_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/role_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/role_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/role_attribute_ignore').with_value('description') is_expected.to contain_keystone_config('ldap/role_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/role_additional_attribute_mapping').with_value('') } it { is_expected.to contain_keystone_config('ldap/group_tree_dn').with_value('ou=groups,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_filter').with_value('cn=enabled-groups,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/group_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/group_members_are_ids').with_value('True') is_expected.to contain_keystone_config('ldap/group_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/group_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/group_additional_attribute_mapping').with_value('') } it { is_expected.to contain_keystone_config('ldap/chase_referrals').with_value('False') } it { is_expected.to contain_keystone_config('ldap/use_tls').with_value('False') is_expected.to contain_keystone_config('ldap/tls_cacertdir').with_value('/etc/ssl/certs/') is_expected.to contain_keystone_config('ldap/tls_cacertfile').with_value('/etc/ssl/certs/ca-certificates.crt') is_expected.to contain_keystone_config('ldap/tls_req_cert').with_value('demand') } it { is_expected.to contain_keystone_config('ldap/use_pool').with_value('True') is_expected.to contain_keystone_config('ldap/pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/pool_retry_max').with_value('2') is_expected.to contain_keystone_config('ldap/pool_retry_delay').with_value('0.2') is_expected.to contain_keystone_config('ldap/pool_connection_timeout').with_value('222') is_expected.to contain_keystone_config('ldap/pool_connection_lifetime').with_value('222') is_expected.to contain_keystone_config('ldap/use_auth_pool').with_value('True') is_expected.to contain_keystone_config('ldap/auth_pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/auth_pool_connection_lifetime').with_value('200') } it { is_expected.to contain_keystone_config('identity/driver').with_value('ldap') } context 'with manage_packages set to false' do before do params.merge!( :manage_packages => false ) end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'keystone::ldap' end end"," describe 'with basic params' do it { is_expected.to contain_package('python-ldappool') } it 'should have basic params' do # basic params is_expected.to contain_keystone_config('ldap/url').with_value('ldap://foo') is_expected.to contain_keystone_config('ldap/user').with_value('cn=foo,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/password').with_value('abcdefg').with_secret(true) is_expected.to contain_keystone_config('ldap/suffix').with_value('dc=example,dc=com') is_expected.to contain_keystone_config('ldap/query_scope').with_value('sub') is_expected.to contain_keystone_config('ldap/page_size').with_value('50') # users is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_filter').with_value('(memberOf=cn=openstack,cn=groups,cn=accounts,dc=example,dc=com)') is_expected.to contain_keystone_config('ldap/user_objectclass').with_value('inetUser') is_expected.to contain_keystone_config('ldap/user_id_attribute').with_value('uid') is_expected.to contain_keystone_config('ldap/user_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/user_description_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/user_mail_attribute').with_value('mail') is_expected.to contain_keystone_config('ldap/user_enabled_attribute').with_value('UserAccountControl') is_expected.to contain_keystone_config('ldap/user_enabled_mask').with_value('2') is_expected.to contain_keystone_config('ldap/user_enabled_default').with_value('512') is_expected.to contain_keystone_config('ldap/user_enabled_invert').with_value('False') is_expected.to contain_keystone_config('ldap/user_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/user_default_project_id_attribute').with_value('defaultProject') is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_pass_attribute').with_value('krbPassword') is_expected.to contain_keystone_config('ldap/user_enabled_emulation').with_value('True') is_expected.to contain_keystone_config('ldap/user_enabled_emulation_dn').with_value('cn=openstack-enabled,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_additional_attribute_mapping').with_value('description:name, gecos:name') # projects is_expected.to contain_keystone_config('ldap/project_tree_dn').with_value('ou=projects,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/project_filter').with_value('') is_expected.to contain_keystone_config('ldap/project_objectclass').with_value('organizationalUnit') is_expected.to contain_keystone_config('ldap/project_id_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_member_attribute').with_value('member') is_expected.to contain_keystone_config('ldap/project_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/project_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_enabled_attribute').with_value('enabled') is_expected.to contain_keystone_config('ldap/project_domain_id_attribute').with_value('businessCategory') is_expected.to contain_keystone_config('ldap/project_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/project_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/project_enabled_emulation').with_value('False') is_expected.to contain_keystone_config('ldap/project_enabled_emulation_dn').with_value('True') is_expected.to contain_keystone_config('ldap/project_additional_attribute_mapping').with_value('cn=enabled,ou=openstack,dc=example,dc=com') # roles is_expected.to contain_keystone_config('ldap/role_tree_dn').with_value('ou=roles,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/role_filter').with_value('') is_expected.to contain_keystone_config('ldap/role_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/role_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/role_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/role_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/role_attribute_ignore').with_value('description') is_expected.to contain_keystone_config('ldap/role_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/role_additional_attribute_mapping').with_value('') # groups is_expected.to contain_keystone_config('ldap/group_tree_dn').with_value('ou=groups,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_filter').with_value('cn=enabled-groups,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/group_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/group_members_are_ids').with_value('True') is_expected.to contain_keystone_config('ldap/group_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/group_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/group_additional_attribute_mapping').with_value('') # referrals is_expected.to contain_keystone_config('ldap/chase_referrals').with_value('False') # tls is_expected.to contain_keystone_config('ldap/use_tls').with_value('False') is_expected.to contain_keystone_config('ldap/tls_cacertdir').with_value('/etc/ssl/certs/') is_expected.to contain_keystone_config('ldap/tls_cacertfile').with_value('/etc/ssl/certs/ca-certificates.crt') is_expected.to contain_keystone_config('ldap/tls_req_cert').with_value('demand') # ldap pooling is_expected.to contain_keystone_config('ldap/use_pool').with_value('True') is_expected.to contain_keystone_config('ldap/pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/pool_retry_max').with_value('2') is_expected.to contain_keystone_config('ldap/pool_retry_delay').with_value('0.2') is_expected.to contain_keystone_config('ldap/pool_connection_timeout').with_value('222') is_expected.to contain_keystone_config('ldap/pool_connection_lifetime').with_value('222') is_expected.to contain_keystone_config('ldap/use_auth_pool').with_value('True') is_expected.to contain_keystone_config('ldap/auth_pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/auth_pool_connection_lifetime').with_value('200') # drivers is_expected.to contain_keystone_config('identity/driver').with_value('ldap') end describe 'with packages unmanaged' do let :params do { :manage_packages => false } end",204,171
openstack%2Ftripleo-ansible~stable%2Fussuri~Ib337ea6c9c54a38cf11d021bce4edaf60e9928bd,openstack/tripleo-ansible,stable/ussuri,Ib337ea6c9c54a38cf11d021bce4edaf60e9928bd,Add a new callback: tripleo_states,MERGED,2020-07-13 21:19:04.000000000,2020-07-14 17:56:56.000000000,2020-07-14 17:56:56.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-13 21:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75b045a022a9eb9502c52e58064bce8d12f7a121', 'message': ""Add a new callback: tripleo_states\n\nSummary: print out nodes which failed and were ignored\n\nWithin the context of max_fail_percentage, we want to improve UX by\ndisplaying which nodes failed to be deployed or were unreachable, probably\nbecause max_fail_percentage was set to a value which matches the play\nresults.\n\ne.g. we tolerate 10% of compute node failures and two nodes failed\nwithout blocking the whole deployment; the callback will display the\nfollowing message:\n\n~~~~~~~~~~~~~~~~~~~ Summary Information ~~~~~~~~~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~~~Elapsed Time: 0:45:36.997 ~~~~~~~~~~~~~~~~~~~~\n(...)\n~~~~~~~ Number of nodes which did not deploy successfuly: 2 ~~~~\nThis or these node(s) failed to deploy: compute23, compute 45\n\nIn the future, this callback will be useful to improve state\ninformations that are displayed by Ansible when it's done running.\n\nChange-Id: Ib337ea6c9c54a38cf11d021bce4edaf60e9928bd\n(cherry picked from commit e3f551725b553811382f8c67003ebc9fd6666cc8)\n""}, {'number': 2, 'created': '2020-07-14 01:50:24.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_states.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b562ca37da114c46f56b5d4be06af3fadf31e3ed', 'message': ""Add a new callback: tripleo_states\n\nSummary: print out nodes which failed and were ignored\n\nWithin the context of max_fail_percentage, we want to improve UX by\ndisplaying which nodes failed to be deployed or were unreachable, probably\nbecause max_fail_percentage was set to a value which matches the play\nresults.\n\ne.g. we tolerate 10% of compute node failures and two nodes failed\nwithout blocking the whole deployment; the callback will display the\nfollowing message:\n\n~~~~~~~~~~~~~~~~~~~ Summary Information ~~~~~~~~~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~~~Elapsed Time: 0:45:36.997 ~~~~~~~~~~~~~~~~~~~~\n(...)\n~~~~~~~ Number of nodes which did not deploy successfuly: 2 ~~~~\nThis or these node(s) failed to deploy: compute23, compute 45\n\nIn the future, this callback will be useful to improve state\ninformations that are displayed by Ansible when it's done running.\n\nChange-Id: Ib337ea6c9c54a38cf11d021bce4edaf60e9928bd\n(cherry picked from commit e3f551725b553811382f8c67003ebc9fd6666cc8)\n""}]",0,740812,b562ca37da114c46f56b5d4be06af3fadf31e3ed,11,4,2,3153,,,0,"Add a new callback: tripleo_states

Summary: print out nodes which failed and were ignored

Within the context of max_fail_percentage, we want to improve UX by
displaying which nodes failed to be deployed or were unreachable, probably
because max_fail_percentage was set to a value which matches the play
results.

e.g. we tolerate 10% of compute node failures and two nodes failed
without blocking the whole deployment; the callback will display the
following message:

~~~~~~~~~~~~~~~~~~~ Summary Information ~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~Elapsed Time: 0:45:36.997 ~~~~~~~~~~~~~~~~~~~~
(...)
~~~~~~~ Number of nodes which did not deploy successfuly: 2 ~~~~
This or these node(s) failed to deploy: compute23, compute 45

In the future, this callback will be useful to improve state
informations that are displayed by Ansible when it's done running.

Change-Id: Ib337ea6c9c54a38cf11d021bce4edaf60e9928bd
(cherry picked from commit e3f551725b553811382f8c67003ebc9fd6666cc8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/740812/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_states.py'],1,75b045a022a9eb9502c52e58064bce8d12f7a121,strategy-improvements-stable/ussuri,"__metaclass__ = type from ansible.plugins.callback import CallbackBase from datetime import datetime DOCUMENTATION = ''' callback: tripleo_states type: aggregate short_description: adds states information version_added: ""2.9"" description: - TripleO specific callback useful to print out deployment states. requirements: - whitelisting in configuration - see examples section below for details. ''' class CallbackModule(CallbackBase): CALLBACK_VERSION = 2.0 CALLBACK_TYPE = 'aggregate' CALLBACK_NAME = 'tripleo_states' CALLBACK_NEEDS_WHITELIST = True def __init__(self, display=None): super(CallbackModule, self).__init__(display) def _output(self, msg, color=None): timestamp = datetime.now().strftime(""%Y-%m-%d %H:%M:%S.%f"") if isinstance(msg, list): output = ' | '.join([timestamp] + msg) else: output = timestamp + ' | ' + msg self._display.display(output, color=color) def v2_playbook_on_stats(self, stats): nodes_to_redeploy = [] # Find out which hosts failed to deploy; it would very likely # happen when max_fail_percentage was set to a percentage value and the # number of hosts which successfully deployed matched the criteria. hosts = sorted(stats.processed.keys()) for h in hosts: t = stats.summarize(h) if t['failures'] or t['unreachable']: nodes_to_redeploy.append(h) # Only display if there are nodes in error state for now but it might # change later if we add more information. if len(nodes_to_redeploy) > 0: self._output('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~' ' State Information ' '~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~') self._output( '~~~~~~~~~~~~~~~~~~' 'Number of nodes which did not deploy successfully: {} ' '~~~~~~~~~~~~~~~~~'.format(len(nodes_to_redeploy))) nodes_to_redeploy_list = "", "".join(nodes_to_redeploy) fail_msg = ' This or these node(s) failed to deploy: ' + \ '{}'.format(nodes_to_redeploy_list) self._output(fail_msg, 'red') self._output('~' * 89) ",,63,0
openstack%2Fpython-tripleoclient~master~I5e8bc9ac5cbf4a042b5cd7e27578092062839726,openstack/python-tripleoclient,master,I5e8bc9ac5cbf4a042b5cd7e27578092062839726,Use tripleo custom stdout plugins in utils,MERGED,2020-06-01 11:36:01.000000000,2020-07-14 17:55:01.000000000,2020-06-01 17:28:30.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-01 11:36:01.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ed470de9919b8dd7ec5e2e8ab70eeaac933f7252', 'message': ""Use tripleo custom stdout plugins in utils\n\nIff8eec43bd73bc6486f56e741e740869d1b8acbb adjusted ansible config for\ncustom 'tripleo_dense' and 'tripleo_profile_tasks' plugins.\n\nThat was not sufficient because of bug/1881254.\n\nAlign settings provided by run_ansible_playbook utility with that\nIff8eec43bd73bc6486f56e741e740869d1b8acbb provides for tripleo_common\nshared ansible configuration module. That is to have:\n- better coverage in CI jobs\n- users experience as well.\n\nCallbacks whitelist defaults switches to\ntripleo_dense,tripleo_profile_tasks. And default output callback\nbecomes tripleo_dense.\n\nChange-Id: I5e8bc9ac5cbf4a042b5cd7e27578092062839726\nRelated-Bug: #1881254\n""}]",0,732166,ed470de9919b8dd7ec5e2e8ab70eeaac933f7252,14,5,1,6926,,,0,"Use tripleo custom stdout plugins in utils

Iff8eec43bd73bc6486f56e741e740869d1b8acbb adjusted ansible config for
custom 'tripleo_dense' and 'tripleo_profile_tasks' plugins.

That was not sufficient because of bug/1881254.

Align settings provided by run_ansible_playbook utility with that
Iff8eec43bd73bc6486f56e741e740869d1b8acbb provides for tripleo_common
shared ansible configuration module. That is to have:
- better coverage in CI jobs
- users experience as well.

Callbacks whitelist defaults switches to
tripleo_dense,tripleo_profile_tasks. And default output callback
becomes tripleo_dense.

Change-Id: I5e8bc9ac5cbf4a042b5cd7e27578092062839726
Related-Bug: #1881254
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/66/732166/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/utils.py']",2,ed470de9919b8dd7ec5e2e8ab70eeaac933f7252,bug/1879455," connection='smart', output_callback='tripleo_dense', parallel_run=False, callback_whitelist=constants.ANSIBLE_CWL, :param output_callback: Callback for output format. Defaults to ""tripleo_dense"". Defaults to ""tripleo_dense,tripleo_profile_tasks"". Custom output_callback is also whitelisted. if output_callback not in callback_whitelist.split(','):"," connection='smart', output_callback='yaml', parallel_run=False, callback_whitelist=None, :param output_callback: Callback for output format. Defaults to ""json"". Defaults to the value of `output_callback`. When the verbosity is > 0 ""profile_tasks"" will also be whitelisted. if callback_whitelist: else: callback_whitelist = output_callback callback_whitelist = ','.join([callback_whitelist, 'profile_tasks'])",10,11
openstack%2Ftripleo-common~master~I82f4945bf1178fad1ff511c994518008f308d12e,openstack/tripleo-common,master,I82f4945bf1178fad1ff511c994518008f308d12e,Add tripleo_states to default callback whitelist,MERGED,2020-06-16 17:47:07.000000000,2020-07-14 17:46:04.000000000,2020-07-07 21:39:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-16 17:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ed465f9f5a5ee41894df04d954e052147b30157c', 'message': 'Add tripleo_states to default callback whitelist\n\ntripleo_states will be a useful callback to print out informations about\na deployment state (e.g. if a node failed but was ignored because of\nmax_failed_percentage).\n\nDepends-On: https://review.opendev.org/735962\nChange-Id: I82f4945bf1178fad1ff511c994518008f308d12e\n'}, {'number': 2, 'created': '2020-06-17 14:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/22faa4e5a370fe2485adb196033df87650b4cab3', 'message': 'Add tripleo_states to default callback whitelist\n\ntripleo_states will be a useful callback to print out informations about\na deployment state (e.g. if a node failed but was ignored because of\nmax_failed_percentage).\n\nDepends-On: https://review.opendev.org/735962\nChange-Id: I82f4945bf1178fad1ff511c994518008f308d12e\n'}, {'number': 3, 'created': '2020-06-22 12:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f0bc20c8f0161f278cb4f899d1767d1f6bb6e750', 'message': 'Add tripleo_states to default callback whitelist\n\ntripleo_states will be a useful callback to print out informations about\na deployment state (e.g. if a node failed but was ignored because of\nmax_failed_percentage).\n\nDepends-On: https://review.opendev.org/735962\nChange-Id: I82f4945bf1178fad1ff511c994518008f308d12e\n'}, {'number': 4, 'created': '2020-06-23 02:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6e6370d42c0ea8b7558488dd6948f2181e2a11f1', 'message': 'Add tripleo_states to default callback whitelist\n\ntripleo_states will be a useful callback to print out informations about\na deployment state (e.g. if a node failed but was ignored because of\nmax_failed_percentage).\n\nDepends-On: https://review.opendev.org/735962\nChange-Id: I82f4945bf1178fad1ff511c994518008f308d12e\n'}, {'number': 5, 'created': '2020-07-06 21:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/26ea9a8b6b04bb4a5747f2bb04919bf0fca0d7cc', 'message': 'Add tripleo_states to default callback whitelist\n\ntripleo_states will be a useful callback to print out informations about\na deployment state (e.g. if a node failed but was ignored because of\nmax_failed_percentage).\n\nDepends-On: https://review.opendev.org/735962\nChange-Id: I82f4945bf1178fad1ff511c994518008f308d12e\n'}, {'number': 6, 'created': '2020-07-07 11:32:50.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c1dad1ced1fffe3c8e8ec727fc81ccb601b61b8a', 'message': 'Add tripleo_states to default callback whitelist\n\ntripleo_states will be a useful callback to print out informations about\na deployment state (e.g. if a node failed but was ignored because of\nmax_failed_percentage).\n\nDepends-On: https://review.opendev.org/735962\nChange-Id: I82f4945bf1178fad1ff511c994518008f308d12e\n'}]",0,735986,c1dad1ced1fffe3c8e8ec727fc81ccb601b61b8a,40,5,6,3153,,,0,"Add tripleo_states to default callback whitelist

tripleo_states will be a useful callback to print out informations about
a deployment state (e.g. if a node failed but was ignored because of
max_failed_percentage).

Depends-On: https://review.opendev.org/735962
Change-Id: I82f4945bf1178fad1ff511c994518008f308d12e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/735986/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py']",2,ed465f9f5a5ee41894df04d954e052147b30157c,strategy-improvements," 'tripleo_dense,tripleo_profile_tasks,tripleo_states',"," 'tripleo_dense,tripleo_profile_tasks',",3,2
openstack%2Freleases~master~I5dfe5c9b74f760bcb7d127cf7b86b0066e165d68,openstack/releases,master,I5dfe5c9b74f760bcb7d127cf7b86b0066e165d68,Release 5.3.1 of python-openstackclient,MERGED,2020-07-14 17:23:35.000000000,2020-07-14 17:45:08.000000000,2020-07-14 17:45:08.000000000,"[{'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 17:23:35.000000000', 'files': ['deliverables/victoria/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/525a0e85a3e03bd9fcdefaf5e11b7651ca260859', 'message': 'Release 5.3.1 of python-openstackclient\n\nChange-Id: I5dfe5c9b74f760bcb7d127cf7b86b0066e165d68\n'}]",0,741009,525a0e85a3e03bd9fcdefaf5e11b7651ca260859,8,3,1,2,,,0,"Release 5.3.1 of python-openstackclient

Change-Id: I5dfe5c9b74f760bcb7d127cf7b86b0066e165d68
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/741009/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/python-openstackclient.yaml'],1,525a0e85a3e03bd9fcdefaf5e11b7651ca260859,, - version: 5.3.1 projects: - repo: openstack/python-openstackclient hash: 82ebddca006d1dc61855fdd34b0616222039ea58,,4,0
openstack%2Ftripleo-ansible~master~I4c84b389b595a8fe18ef6d31e896d6b6608b9920,openstack/tripleo-ansible,master,I4c84b389b595a8fe18ef6d31e896d6b6608b9920,"container_status: ""exec"" checks status",MERGED,2020-07-07 19:38:40.000000000,2020-07-14 17:41:43.000000000,2020-07-14 01:40:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 19:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/506ddf8d25ffd03d3311ec1d2fd8dbbe76623434', 'message': 'WIP - container_status: ""exec"" checks status\n\nSupport the checks of ""podman exec"" commands, and add the commands to\nthe list of things podman ran.\n\nIt reduces the number of tasks as it removes get_commands_exec and\nre-use the container_status action plugin.\n\nChange-Id: I4c84b389b595a8fe18ef6d31e896d6b6608b9920\n'}, {'number': 2, 'created': '2020-07-09 17:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/156108d9fef02a46b39fc552d7b187f576cd0202', 'message': 'container_status: ""exec"" checks status\n\nSupport the checks of ""podman exec"" commands, and add the commands to\nthe list of things podman ran.\n\nIt reduces the number of tasks as it removes get_commands_exec and\nre-use the container_status action plugin.\n\nChange-Id: I4c84b389b595a8fe18ef6d31e896d6b6608b9920\n'}, {'number': 3, 'created': '2020-07-13 01:31:30.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/manage.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/get_commands_exec.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ce9d50a7f3a62a63561c473b6dc764a458eb1e9', 'message': 'container_status: ""exec"" checks status\n\nSupport the checks of ""podman exec"" commands, and add the commands to\nthe list of things podman ran.\n\nIt reduces the number of tasks as it removes get_commands_exec and\nre-use the container_status action plugin.\n\nChange-Id: I4c84b389b595a8fe18ef6d31e896d6b6608b9920\n'}]",0,739839,3ce9d50a7f3a62a63561c473b6dc764a458eb1e9,20,5,3,3153,,,0,"container_status: ""exec"" checks status

Support the checks of ""podman exec"" commands, and add the commands to
the list of things podman ran.

It reduces the number of tasks as it removes get_commands_exec and
re-use the container_status action plugin.

Change-Id: I4c84b389b595a8fe18ef6d31e896d6b6608b9920
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/739839/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/manage.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/get_commands_exec.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py']",4,506ddf8d25ffd03d3311ec1d2fd8dbbe76623434,exec/ux," containers_exec = [] containers_run = [] if 'restart' in values: if 'action' in values: containers_exec.append(name) containers_run.append(name) if self.debug and len(containers_run) > 0: '{}'.format(containers_run)) if self.debug and len(containers_exec) > 0: DISPLAY.display('These containers exec are supposed to terminate' 'with a valid exit code and will be checked: ' '{}'.format(containers_exec)) return (containers_run, containers_exec) try: if item['changed']: commands.extend(item['podman_actions']) except KeyError: # TODO support execs pass (containers_run_to_check, containers_exec_to_check) = ( self._get_containers_to_check(container_data)) if len(valid_exit_codes) > 0 and len(containers_run_to_check) > 0: containers_run_to_check,"," containers = [] if 'action' in values or 'restart' in values: containers.append(name) if self.debug and len(containers) > 0: '{}'.format(containers)) return containers if item['changed']: commands.extend(item['podman_actions']) containers_to_check = self._get_containers_to_check(container_data) if len(valid_exit_codes) > 0 and len(containers_to_check) > 0: containers_to_check,",39,46
openstack%2Frequirements~master~Ifa17ec20be2a6bcb1432ef9b8c3eb9f89633f955,openstack/requirements,master,Ifa17ec20be2a6bcb1432ef9b8c3eb9f89633f955,[FIX] Fix the openstackclient and heatclient version,ABANDONED,2020-07-14 00:09:19.000000000,2020-07-14 17:12:17.000000000,,"[{'_account_id': 8863}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29161}]","[{'number': 1, 'created': '2020-07-14 00:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b115faac78a14c6c1f7a6959c0fc3ba13293a2c1', 'message': '[FIX] Fix the python-openstackclient version from 5.3.0 to 5.2.1\n\nUpdate the openstack client version to 5.2.1 as version 5.3.0 is not\navailable\n\nChange-Id: Ifa17ec20be2a6bcb1432ef9b8c3eb9f89633f955\n'}, {'number': 2, 'created': '2020-07-14 00:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bd3b18c2865078253968928377e55505eeb67bec', 'message': '[FIX] Fix the openstackclient and heatclient version from 5.3.0 to 5.2.1\n\nUpdate the openstack client version to 5.2.1 as version 5.3.0 is not\navailable\n\nUpdate the heat client version to 1.18.0 as 2.2.0 is not available\n\nChange-Id: Ifa17ec20be2a6bcb1432ef9b8c3eb9f89633f955\n'}, {'number': 3, 'created': '2020-07-14 00:26:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/df6fb398bae6a120e11d57d567476db8150361fd', 'message': '[FIX] Fix the openstackclient and heatclient version\n\nUpdate the openstack client version to 5.2.1 as version 5.3.0 is not\navailable\n\nUpdate the heat client version to 1.18.0 as 2.2.0 is not available\n\nChange-Id: Ifa17ec20be2a6bcb1432ef9b8c3eb9f89633f955\n'}]",0,740832,df6fb398bae6a120e11d57d567476db8150361fd,14,4,3,29161,,,0,"[FIX] Fix the openstackclient and heatclient version

Update the openstack client version to 5.2.1 as version 5.3.0 is not
available

Update the heat client version to 1.18.0 as 2.2.0 is not available

Change-Id: Ifa17ec20be2a6bcb1432ef9b8c3eb9f89633f955
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/740832/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b115faac78a14c6c1f7a6959c0fc3ba13293a2c1,,python-openstackclient===5.2.1,python-openstackclient===5.3.0,1,1
openstack%2Fswift~master~I337f8d0f1fbeee7ae927a581eecbbbcc6dc69340,openstack/swift,master,I337f8d0f1fbeee7ae927a581eecbbbcc6dc69340,Add a reminder to configure firewall at storage nodes,MERGED,2020-07-13 23:36:38.000000000,2020-07-14 17:11:19.000000000,2020-07-14 16:29:17.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 22696}]","[{'number': 1, 'created': '2020-07-13 23:36:38.000000000', 'files': ['doc/source/install/storage-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/a5ec383260303d6b035e19294967a63d092d55b5', 'message': 'Add a reminder to configure firewall at storage nodes\n\nMy customers use the upstream documentation for manual\ninstallation of Swift nodes and they come upon the lack\nof any mention that host firewall ought to accomodate\nservices running on the node. Perhaps we thought it\nself-evident in Swift.\n\nRelated RH bz#: 1797814\n\nChange-Id: I337f8d0f1fbeee7ae927a581eecbbbcc6dc69340\n'}]",2,740828,a5ec383260303d6b035e19294967a63d092d55b5,10,4,1,597,,,0,"Add a reminder to configure firewall at storage nodes

My customers use the upstream documentation for manual
installation of Swift nodes and they come upon the lack
of any mention that host firewall ought to accomodate
services running on the node. Perhaps we thought it
self-evident in Swift.

Related RH bz#: 1797814

Change-Id: I337f8d0f1fbeee7ae927a581eecbbbcc6dc69340
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/740828/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/storage-install-rdo.rst'],1,a5ec383260303d6b035e19294967a63d092d55b5,, 8. Enable necessary access in the firewall .. code-block:: console # firewall-cmd --permanent --add-port=6200/tcp # firewall-cmd --permanent --add-port=6201/tcp # firewall-cmd --permanent --add-port=6202/tcp The rsync service includes its own firewall configuration. Connect from one node to another to ensure that access is allowed.,,11,0
openstack%2Fideas~master~I0362be1dea3bd6ed7df83d2335ac4e29d4f63303,openstack/ideas,master,I0362be1dea3bd6ed7df83d2335ac4e29d4f63303,First (rough) draft for Dew project [RFC],ABANDONED,2020-07-14 16:51:33.000000000,2020-07-14 17:07:20.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 32199}]","[{'number': 1, 'created': '2020-07-14 16:51:33.000000000', 'files': ['doc/source/ideas/dew.rst'], 'web_link': 'https://opendev.org/openstack/ideas/commit/1aec0917f1f856f26c59b55c00f157613c4d165d', 'message': 'First (rough) draft for Dew project [RFC]\n\nChange-Id: I0362be1dea3bd6ed7df83d2335ac4e29d4f63303\n'}]",0,741005,1aec0917f1f856f26c59b55c00f157613c4d165d,5,3,1,32199,,,0,"First (rough) draft for Dew project [RFC]

Change-Id: I0362be1dea3bd6ed7df83d2335ac4e29d4f63303
",git fetch https://review.opendev.org/openstack/ideas refs/changes/05/741005/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ideas/dew.rst'],1,1aec0917f1f856f26c59b55c00f157613c4d165d,draft/dew,"Project Dew ============ Project Dew aims to bring an OpenCloud-compatible experience to unconventional, heterogeneous, low-powered hardware. Furthermore, it can introduce ""Cloud"" to hobbyists, DIY-ers, and to people with low resources, or low access to the computing world at large. Introduction ------------ *(Disclaimer; this introduction is fairly opinionated and largely serves as a viewpoint for it's premise and argument)* In the early 21st century, ""The Cloud"" has successfully reimagined the way that computing works on a large scale; Abstraction and Generalization truly allow applications to be less and less dependent on their environment, and their environment less and less dependent on their specific configuration, and with the extra added layer of dynamic routing, scaling, and stateless applications working off of a set of stateful redundant set of databases, ""Cloud"" means that applications are self-servicing the infrastructure it's running on. OpenStack largely runs off of this premise, however, it also largely focuses on the idea that all it's users run their services within datacenters or server racks, with budgets generally above the 5 figures. The missing user-base here then can be hobbyists, entrepreneurs, and low-budgeted communities. Openstack has the potential to empower these people, to provide a rich toolkit for their use. This project focuses on the idea to make Openstack ready for optimized usage, make it be able to deal with unconventional hardware and environments, and give more angles or tolerance and data-loss prevention. Targeted use-cases ------------------ The following section describes a few envisioned use-cases that Project Dew can address, each a different view on how Openstack can be used in an unconventional environment. The ""Tinkerer"" ^^^^^^^^^^^^^^ The first use-case is a fairly obvious one: a person that wants to refurbish a Desktop in their home. Maybe this person doesn't know that some cheap cloud providers could exist, maybe they're not able to pay for it financially, or maybe this person does not want to rely on a second party for their cloud services (for any reason), and simply wants to get the same experience with some hardware. The environment is thus: An old desktop with a quad-core 2.5Ghz x86 processor, with 4GB of RAM. The goal here is for Openstack services + OS services to not take up more than 1GB of memory, so that the Tinkerer can launch 3 * 1GB-RAM compute instances on this same machine, or launch 1 * 3GB-RAM instance managed by Zun. This is instantly a relatively powerful resource pool for a beginner developer, with 3GB of RAM now instantly available. On such a machine, the following (randomly picked) services could be ran: a Gitea host, a mysql Database, a Swift host, some Qinling functions, and a dozen containers. The benefit that Openstack brings to the table with this is that it turns the previous-desktop in an extendable and customizable cloud resource. The ""Scrap yard"" ^^^^^^^^^^^^^^^^ The next use-case is a somewhat-extension to the first, where a collector/hoarder of old computers wants to make use of their written-off hardware instead of disposing it for scrap. This environment is somewhat more tricky, as now the reliability of any component cannot be guaranteed in a long tail of the 99%, and the cloud needs to be tolerant to sudden and permanent failures due to the aging hardware. Furthermore, every piece of hardware is most likely not able to service much more than ""some"" resources. For example: one low-powered old desktop (dual-core 1.6Ghz. 2GB RAM) that acts as a compute node probably isn't going to have the VM's hard disk localized, or able to host more than 2 VM instances. Lastly, any failure on any node has a higher rate to be permanent and serious, thus there can be a lot of overhead preserving data loss at any risk by replicating the disk blocks across multiple physically-seperated storage nodes. The goal is to be tolerant of failures in such an environment, uptime is secondary. The end result is a Cloud environment which can be tolerant of hardware failure, has a high hardware turnover, but is still able to survive on aging and refurbished hardware. The ""Low-powered Cluster"" ^^^^^^^^^^^^^^^^^^^^^^^^^ The last use-case is a deliberately low-powered compute environment; a dozen raspberry PIs. Beyond the obvious problem of modern-day ``ARM/AArch(64)`` incompatibilities with a mostly-x86-based software environment, this use-case provides an different challenge compared to the Scrap Yard, as now all devices are homogeneous, but extremely low-powered. Take the Raspberry Pi 3B, for example, it has a quad-core 1.2GHz CPU with just 1 GB of RAM. This is more low-powered than ""modern scrap"", or at least in situations where the one who manages that scrap decides to source still-working components from failed cases to put into other machines. In such an environment, the idle memory and CPU usage of openstack components needs to be *extremely* optimized, as else it could take up a significant chunk of every device's resources for bedrock services alone. The goal is two-fold: #. Distribute openstack components across all of these devices dynamically (powered by technologies such as ``mDNS`` and ``ARP`` announcements (for floating IPs)) #. Optimize Openstack components to be low-resources, possibly requiring offloading to `Native Extensions <https://docs.python.org/3/extending/extending.html>`_ for more controlled and optimized memory usage. End Product ----------- The final result of this project could be something like a ""Compact Openstack"" Distribution or Flavour, making some services optional, most components optimized, and easily installable in the form of a ``.deb`` or ``.rpm`` package.",,102,0
openstack%2Fcinder~stable%2Ftrain~I05915f2e32b1229ad320cd1c5748de3d63183b91,openstack/cinder,stable/train,I05915f2e32b1229ad320cd1c5748de3d63183b91,Default volume_type set too early,MERGED,2020-07-12 20:11:51.000000000,2020-07-14 16:31:45.000000000,2020-07-14 16:29:15.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-12 20:11:51.000000000', 'files': ['cinder/tests/functional/functional_helpers.py', 'cinder/tests/functional/test_volumes.py', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/v3/volumes.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/api/v2/volumes.py', 'cinder/tests/functional/api/client.py', 'cinder/tests/unit/volume/flows/api/test_create_volume.py', 'cinder/tests/unit/api/v2/test_volumes.py', 'cinder/tests/unit/volume/flows/api/__init__.py', 'releasenotes/notes/bug-1879578-volume_type-regression-de82f4152c7b2f77.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5122b146589368189ae1645985cc10030c90ecc5', 'message': 'Default volume_type set too early\n\nIf a volume_type is not specified in a volume-create request, change\nI4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a\ndefault volume_type in the REST API layer.  This prevents the\nselection logic in cinder.volume.flows.api.create_volume.\nExtractVolumeRequestTask from being able to infer the appropriate\nvolume_type from the source volume, snapshot, or image metadata, and\nhas caused a regression where the created volume is of the default\ntype instead of the inferred type.\n\nThis patch removes setting the default volume_type in the REST API\nand modifies the selection code in ExtractVolumeRequestTask slightly\nto make sure a volume_type is always assigned in that function, and\nadds and revises some tests.\n\nChange-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91\nCloses-bug: #1879578\n(cherry picked from commit 674c8e7286999bb6408291de1dc6395aac2b04b1)\nConflicts:\n  cinder/tests/unit/volume/flows/api/test_create_volume.py\n  - cinder.tests.unit.test (victoria) -> cinder.test (pre-victoria)\n(cherry picked from commit c1bdb233cfd5b32a8b60b481e67abc9b4613893c)\nConflicts:\n  cinder/volume/flows/api/create_volume.py\n  - add six, remove collections\n  cinder/tests/unit/volume/flows/api/test_create_volume.py\n  - add mock, remove unittest.mock\n'}]",0,740598,5122b146589368189ae1645985cc10030c90ecc5,57,20,1,5314,,,0,"Default volume_type set too early

If a volume_type is not specified in a volume-create request, change
I4da0c13b5b3f8174a30b8557f968d6b9e641b091 (introduced in Train) sets a
default volume_type in the REST API layer.  This prevents the
selection logic in cinder.volume.flows.api.create_volume.
ExtractVolumeRequestTask from being able to infer the appropriate
volume_type from the source volume, snapshot, or image metadata, and
has caused a regression where the created volume is of the default
type instead of the inferred type.

This patch removes setting the default volume_type in the REST API
and modifies the selection code in ExtractVolumeRequestTask slightly
to make sure a volume_type is always assigned in that function, and
adds and revises some tests.

Change-Id: I05915f2e32b1229ad320cd1c5748de3d63183b91
Closes-bug: #1879578
(cherry picked from commit 674c8e7286999bb6408291de1dc6395aac2b04b1)
Conflicts:
  cinder/tests/unit/volume/flows/api/test_create_volume.py
  - cinder.tests.unit.test (victoria) -> cinder.test (pre-victoria)
(cherry picked from commit c1bdb233cfd5b32a8b60b481e67abc9b4613893c)
Conflicts:
  cinder/volume/flows/api/create_volume.py
  - add six, remove collections
  cinder/tests/unit/volume/flows/api/test_create_volume.py
  - add mock, remove unittest.mock
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/740598/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/functional_helpers.py', 'cinder/tests/functional/test_volumes.py', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/v3/volumes.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/api/v2/volumes.py', 'cinder/tests/functional/api/client.py', 'cinder/tests/unit/volume/flows/api/test_create_volume.py', 'cinder/tests/unit/api/v2/test_volumes.py', 'cinder/tests/unit/volume/flows/api/__init__.py', 'releasenotes/notes/bug-1879578-volume_type-regression-de82f4152c7b2f77.yaml']",12,5122b146589368189ae1645985cc10030c90ecc5,bug/1879578,"--- fixes: - | `Bug #1879578 <https://bugs.launchpad.net/cinder/+bug/1879578>`_: A regression in the Train release caused Cinder to assign the default volume type too aggressively when a volume type was not specified in a volume-create request. As a result, some alternative methods of specifying the volume type were ignored and the default type (either configured by the operator or the system default) would be assigned. This release restores the intended behavior, which is described as follows: If a ``volume_type`` is not specified when a volume is created, Cinder tries to infer the volume type from other information in the volume-create request: * if a ``source_volid`` is supplied in the request, the volume type is inferred from the source volume's volume type * if a ``snapshot_id`` is supplied in the request, the volume type is inferred from the volume type associated with the snapshot * if an ``imageRef`` is supplied in the request, and the image has a ``cinder_img_volume_type`` image property, the volume type is inferred from the value of that image property Otherwise, the volume type is the default volume type configured by the operator, and if no volume type is so configured, the volume type is the system default volume type, namely, ``__DEFAULT__``. When a volume type is specified explicitly in a volume-create call, Cinder will use the specified type. If the specified type cannot be assigned due to a conflict with other parameters in the volume-create call, however, the call will result in a 400 (Bad Request) response. ",,486,129
openstack%2Fdevstack~master~I8499d56901beed4f8288e3db813f871184388e49,openstack/devstack,master,I8499d56901beed4f8288e3db813f871184388e49,Add config to allow Glance not to run under uwsgi,ABANDONED,2018-02-16 23:06:23.000000000,2020-07-14 16:21:41.000000000,,"[{'_account_id': 5196}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 14595}, {'_account_id': 15002}, {'_account_id': 15993}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 23:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7257a6a3944cabb892fb881d9cbcf3ef723040be', 'message': ""Make Glance not run under uwsgi by default\n\nGlance's interoperable image import functionality and the Tasks API\ndo not work when Glance is run under uwsgi.  Introduce a configuration\noption GLANCE_USE_UWSGI, False by default, to control whether Glance\nis deployed under uwsgi.\n\nChange-Id: I8499d56901beed4f8288e3db813f871184388e49\n""}, {'number': 2, 'created': '2018-03-21 02:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9ba80bd5c89e848caf359078a2d2bfd7e7418665', 'message': ""Add config to allow Glance not to run under uwsgi\n\nIntroduce a configuration option GLANCE_USE_UWSGI to control whether\nGlance is deployed under uwsgi.  The option is True by default so\ncurrent grenade tests do not fail.  Having the option available will\nallow Glance to have dsvm functional tests as Glance's interoperable\nimage import functionality and the admin-only-by-default Tasks API do\nnot work when Glance is run under uwsgi.  The Glance release notes\nfor both the Pike and Queens releases recommend that Glance not be\nrun under uwsgi in production systems.\n\nChange-Id: I8499d56901beed4f8288e3db813f871184388e49\n""}, {'number': 3, 'created': '2018-05-24 16:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e5855b775a6882aafdc695a5e5a20eed16d5b10f', 'message': ""Add config to allow Glance not to run under uwsgi\n\nIntroduce a configuration option GLANCE_USE_UWSGI to control whether\nGlance is deployed under uwsgi.  The option is False by default\nbecause Glance's interoperable image import functionality and the\nadmin-only-by-default Tasks API do not work when Glance is run under\nuwsgi, and it is desirable that Glance be deployed by default in\ndevstack in a fully working configuration.\n\nHaving the option available will allow easy experimentation for any\ndevelopers who wish to tackle implementing a fully working Glance\nrunning in uwsgi.\n\nNote: The Glance release notes for both the Pike and Queens releases\nrecommend that Glance not be run under uwsgi in production systems.\n\nChange-Id: I8499d56901beed4f8288e3db813f871184388e49\n""}, {'number': 4, 'created': '2018-05-24 16:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9d2c4a757e0b5b99d7361705e6859c8cebd10997', 'message': ""Add config to allow Glance not to run under uwsgi\n\nIntroduce a configuration option GLANCE_USE_UWSGI to control whether\nGlance is deployed under uwsgi.  The option is False by default\nbecause Glance's interoperable image import functionality and the\nadmin-only-by-default Tasks API do not work when Glance is run under\nuwsgi, and it is desirable that Glance be deployed by default in\ndevstack in a fully working configuration.\n\nHaving the option available will allow easy experimentation for any\ndevelopers who wish to tackle implementing a fully working Glance\nrunning in uwsgi.\n\nNote: The Glance release notes for both the Pike and Queens releases\nrecommend that Glance not be run under uwsgi in production systems.\n\nChange-Id: I8499d56901beed4f8288e3db813f871184388e49\n""}, {'number': 5, 'created': '2018-12-17 15:34:49.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ffdf3066dd804a83b0fb231497d71838646f6c3', 'message': ""Add config to allow Glance not to run under uwsgi\n\nIntroduce a configuration option GLANCE_USE_UWSGI to control whether\nGlance is deployed under uwsgi.  The option is False by default\nbecause Glance's interoperable image import functionality and the\nadmin-only-by-default Tasks API do not work when Glance is run under\nuwsgi, and it is desirable that Glance be deployed by default in\ndevstack in a fully working configuration.\n\nHaving the option available will allow easy experimentation for any\ndevelopers who wish to tackle implementing a fully working Glance\nrunning in uwsgi.\n\nNote: The Glance release notes for both the Pike and Queens releases\nrecommend that Glance not be run under uwsgi in production systems.\n\nChange-Id: I8499d56901beed4f8288e3db813f871184388e49\n""}]",0,545483,4ffdf3066dd804a83b0fb231497d71838646f6c3,46,11,5,5314,,,0,"Add config to allow Glance not to run under uwsgi

Introduce a configuration option GLANCE_USE_UWSGI to control whether
Glance is deployed under uwsgi.  The option is False by default
because Glance's interoperable image import functionality and the
admin-only-by-default Tasks API do not work when Glance is run under
uwsgi, and it is desirable that Glance be deployed by default in
devstack in a fully working configuration.

Having the option available will allow easy experimentation for any
developers who wish to tackle implementing a fully working Glance
running in uwsgi.

Note: The Glance release notes for both the Pike and Queens releases
recommend that Glance not be run under uwsgi in production systems.

Change-Id: I8499d56901beed4f8288e3db813f871184388e49
",git fetch https://review.opendev.org/openstack/devstack refs/changes/83/545483/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,7257a6a3944cabb892fb881d9cbcf3ef723040be,glance-no-uwsgi,"GLANCE_USE_UWSGI=$(trueorfalse False GLANCE_USE_UWSGI)# Glance tasks (used by Tasks API, but also under the hood by interoperable # image import) do not currently work under uwsgi. So whether or not Glance # is run under uwsgi is set independently of the global WSGI_MODE setting if [[ ""$GLANCE_USE_UWSGI"" == ""True"" ]]; then if [[ ""$GLANCE_USE_UWSGI"" == ""True"" ]]; then if [[ ""$GLANCE_USE_UWSGI"" == ""False"" ]]; then if [[ ""$GLANCE_USE_UWSGI"" == ""True"" ]]; then","# If wsgi mode is uwsgi run glance under uwsgi, else default to eventlet # TODO(mtreinish): Remove the eventlet path here and in all the similar # conditionals below after the Pike release if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then if [[ ""$WSGI_MODE"" != ""uwsgi"" ]]; then if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then",8,7
openstack%2Ftempest~master~I4fbc5fc613e6eb64997935422697477db3ebcc91,openstack/tempest,master,I4fbc5fc613e6eb64997935422697477db3ebcc91,Fix pygments style,MERGED,2020-06-24 02:15:43.000000000,2020-07-14 16:21:31.000000000,2020-07-14 16:16:58.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-06-24 02:15:43.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/217eebd0bfb5f8ed4ec1ad75c07bb419534989f6', 'message': 'Fix pygments style\n\nNew theme of docs respects pygments_style.\n\nmore info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I4fbc5fc613e6eb64997935422697477db3ebcc91\n'}]",0,737668,217eebd0bfb5f8ed4ec1ad75c07bb419534989f6,10,5,1,17130,,,0,"Fix pygments style

New theme of docs respects pygments_style.

more info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I4fbc5fc613e6eb64997935422697477db3ebcc91
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/737668/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,217eebd0bfb5f8ed4ec1ad75c07bb419534989f6,sphinx,pygments_style = 'native',pygments_style = 'sphinx',2,2
openstack%2Fcinderlib~master~I87c14d236d7f2685315e4088db527090680c9523,openstack/cinderlib,master,I87c14d236d7f2685315e4088db527090680c9523,Prevent duplicated backend names,MERGED,2020-07-03 09:34:12.000000000,2020-07-14 16:21:30.000000000,2020-07-14 16:17:14.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 09:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/51c4c0e83489ff1c395fa3871338e9d7552e36fd', 'message': 'Prevent duplicated backend names\n\nWith this patch we prevent us from having duplicated backend names for\ndifferent driver configurations during the same run.\n\nIf we pass the same name and configuration to Backend a second time we\nget the Backend instance that was created on the first call.\n\nIf we pass the same name with a different configuration then we raise an\nexception on the second call.\n\nChange-Id: I87c14d236d7f2685315e4088db527090680c9523\nCloses-Bug: #1886164\n'}, {'number': 2, 'created': '2020-07-14 09:29:19.000000000', 'files': ['releasenotes/notes/backend-same-name-86a06844b57600a0.yaml', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/db573863aaf5a836ac63acbd55c42ba7677c0294', 'message': 'Prevent duplicated backend names\n\nWith this patch we prevent us from having duplicated backend names for\ndifferent driver configurations during the same run.\n\nIf we pass the same name and configuration to Backend a second time we\nget the Backend instance that was created on the first call.\n\nIf we pass the same name with a different configuration then we raise an\nexception on the second call.\n\nChange-Id: I87c14d236d7f2685315e4088db527090680c9523\nCloses-Bug: #1886164\n'}]",0,739190,db573863aaf5a836ac63acbd55c42ba7677c0294,13,5,2,9535,,,0,"Prevent duplicated backend names

With this patch we prevent us from having duplicated backend names for
different driver configurations during the same run.

If we pass the same name and configuration to Backend a second time we
get the Backend instance that was created on the first call.

If we pass the same name with a different configuration then we raise an
exception on the second call.

Change-Id: I87c14d236d7f2685315e4088db527090680c9523
Closes-Bug: #1886164
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/90/739190/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/backend-same-name-86a06844b57600a0.yaml', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py']",3,51c4c0e83489ff1c395fa3871338e9d7552e36fd,rbd_keyring_conf," def __new__(cls, volume_backend_name, **driver_cfg): # Prevent redefinition of an already initialized backend on the same # persistence storage with a different configuration. backend = Backend.backends.get(volume_backend_name) if backend: # If we are instantiating the same backend return the one we have # saved (singleton pattern). if driver_cfg == backend._original_driver_cfg: return backend raise ValueError('Backend named %s already exists with a different' ' configuration' % volume_backend_name) return super(Backend, cls).__new__(cls) # Instance already initialized if volume_backend_name in Backend.backends: return # Save the original config before we add the backend name and template # the values. self._original_driver_cfg = driver_cfg.copy() Backend.backends[volume_backend_name] = self", Backend.backends[volume_backend_name] = self,72,1
openstack%2Fglance~master~I789fa7adfb459e7861c90a51f418a635c0c22244,openstack/glance,master,I789fa7adfb459e7861c90a51f418a635c0c22244,Improve lazy loading mechanism for multiple stores,MERGED,2020-07-06 07:58:00.000000000,2020-07-14 16:20:22.000000000,2020-07-14 16:17:03.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 07:58:00.000000000', 'files': ['glance/tests/unit/common/test_utils.py', 'glance/api/authorization.py', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/common/store_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ab0e5268a9c2614572659d763b3c0b6fc36dd0cf', 'message': ""Improve lazy loading mechanism for multiple stores\n\nGlance has a facility lazy loading for legacy images which will be called\non get/list api calls to add store information in image's location metadata\nbased on location URL of image. Even if admin decides to change the store\nnames in glance-api.conf same will also be updated in location metadata\nfor all images related to that particular store. Current implementation of\nlegacy image performs this operation on each get/list call as location metadata\nis not getting updated in database or it doesn't handle to perform store name\ncheck in glance-api.conf.\n\nImprovements done:\n1. Save updated location metadata information in database permenantly\n2. Add logic to perform lazy loading only if store information is not present\nin location metadata or store present in location metadata is not defined in\nglance's enbaled_backends configuration option.\n\nChange-Id: I789fa7adfb459e7861c90a51f418a635c0c22244\nCloses-Bug: #1886374\n""}]",0,739423,ab0e5268a9c2614572659d763b3c0b6fc36dd0cf,11,5,1,9303,,,0,"Improve lazy loading mechanism for multiple stores

Glance has a facility lazy loading for legacy images which will be called
on get/list api calls to add store information in image's location metadata
based on location URL of image. Even if admin decides to change the store
names in glance-api.conf same will also be updated in location metadata
for all images related to that particular store. Current implementation of
legacy image performs this operation on each get/list call as location metadata
is not getting updated in database or it doesn't handle to perform store name
check in glance-api.conf.

Improvements done:
1. Save updated location metadata information in database permenantly
2. Add logic to perform lazy loading only if store information is not present
in location metadata or store present in location metadata is not defined in
glance's enbaled_backends configuration option.

Change-Id: I789fa7adfb459e7861c90a51f418a635c0c22244
Closes-Bug: #1886374
",git fetch https://review.opendev.org/openstack/glance refs/changes/23/739423/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_utils.py', 'glance/api/authorization.py', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/common/store_utils.py']",5,ab0e5268a9c2614572659d763b3c0b6fc36dd0cf,bug/1886374,"def update_store_in_locations(image, image_repo): for loc in image.locations: if (not loc['metadata'].get( 'store') or loc['metadata'].get( 'store') not in CONF.enabled_backends): store_id = _get_store_id_from_uri(loc['url']) if store_id: if 'store' in loc['metadata']: old_store = loc['metadata']['store'] if old_store != store_id: LOG.debug(""Store '%(old)s' has changed to "" ""'%(new)s' by operator, updating "" ""the same in the location of image "" ""'%(id)s'"", {'old': old_store, 'new': store_id, 'id': image.image_id}) loc['metadata']['store'] = store_id image_repo.save(image) def get_updated_store_location(locations): return locations ","def update_store_in_locations(locations, image_id): if 'store' in loc['metadata']: old_store = loc['metadata']['store'] if old_store != store_id: LOG.debug(""Store '%(old)s' has changed to "" ""'%(new)s' by operator, updating "" ""the same in the location of image "" ""'%(id)s'"", {'old': old_store, 'new': store_id, 'id': image_id}) ",78,28
openstack%2Fcinderlib~master~I967caa2df84d870c1be4d69f32481fc75c3be010,openstack/cinderlib,master,I967caa2df84d870c1be4d69f32481fc75c3be010,Fix rbd attach on python3,MERGED,2020-04-16 16:49:12.000000000,2020-07-14 16:19:49.000000000,2020-07-14 16:17:01.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-16 16:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/4465e9e9d3fbb6e39e6a0bda70765c776f8b7c03', 'message': 'WIP: fix rbd attach on python3\n\nAttaching an RBD volume fails when we run the code as root if we are\nusing Python 3.\n\nWe see a DeviceUnavailable exception:\n\n    conn.attach()\n  File ""/usr/lib/python3.6/site-packages/cinderlib/objects.py"", line\n    842, in attach reason=error_msg)\ncinder.exception.DeviceUnavailable: The device in the path None is\nunavailable: Unable to access the backend storage via path /dev/rbd0.\n\nThe exception message also shows None as the path, even though the\ndescription of the exception shows it correctly.\n\nThe underlying error is a UnicodeDecodeError that happens because when\nwe run as root we open the RBD device directly in Python to check if it\nis available, but we do it as text, not as binary.\n\nThis patch changes how we open the file, doing it as binary, and reports\nthe right path on the exception.\n\nCloses-Bug: #1873312\nChange-Id: I967caa2df84d870c1be4d69f32481fc75c3be010\n'}, {'number': 2, 'created': '2020-04-16 17:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/6bd91ada494d1d8612cfba53a46e011121100e25', 'message': 'Fix rbd attach on python3\n\nAttaching an RBD volume fails when we run the code as root if we are\nusing Python 3.\n\nWe see a DeviceUnavailable exception:\n\n    conn.attach()\n  File ""/usr/lib/python3.6/site-packages/cinderlib/objects.py"", line\n    842, in attach reason=error_msg)\ncinder.exception.DeviceUnavailable: The device in the path None is\nunavailable: Unable to access the backend storage via path /dev/rbd0.\n\nThe exception message also shows None as the path, even though the\ndescription of the exception shows it correctly.\n\nThe underlying error is a UnicodeDecodeError that happens because when\nwe run as root we open the RBD device directly in Python to check if it\nis available, but we do it as text, not as binary.\n\nThis patch changes how we open the file, doing it as binary, and reports\nthe right path on the exception.\n\nCloses-Bug: #1873312\nChange-Id: I967caa2df84d870c1be4d69f32481fc75c3be010\n'}, {'number': 3, 'created': '2020-04-17 10:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/5bca908ac65268a9776e956df389667af7f27afe', 'message': 'Fix rbd attach on python3\n\nAttaching an RBD volume fails when we run the code as root if we are\nusing Python 3.\n\nWe see a DeviceUnavailable exception:\n\n    conn.attach()\n  File ""/usr/lib/python3.6/site-packages/cinderlib/objects.py"", line\n    842, in attach reason=error_msg)\ncinder.exception.DeviceUnavailable: The device in the path None is\nunavailable: Unable to access the backend storage via path /dev/rbd0.\n\nThe exception message also shows None as the path, even though the\ndescription of the exception shows it correctly.\n\nThe underlying error is a UnicodeDecodeError that happens because when\nwe run as root we open the RBD device directly in Python to check if it\nis available, but we do it as text, not as binary.\n\nThis patch changes how we open the file, doing it as binary, and reports\nthe right path on the exception.\n\nCloses-Bug: #1873312\nChange-Id: I967caa2df84d870c1be4d69f32481fc75c3be010\n'}, {'number': 4, 'created': '2020-04-17 15:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/b97f1dc84f0b80f05156b48e3fb257dbe9ceab2b', 'message': 'Fix rbd attach on python3\n\nAttaching an RBD volume fails when we run the code as root if we are\nusing Python 3.\n\nWe see a DeviceUnavailable exception:\n\n    conn.attach()\n  File ""/usr/lib/python3.6/site-packages/cinderlib/objects.py"", line\n    842, in attach reason=error_msg)\ncinder.exception.DeviceUnavailable: The device in the path None is\nunavailable: Unable to access the backend storage via path /dev/rbd0.\n\nThe exception message also shows None as the path, even though the\ndescription of the exception shows it correctly.\n\nThe underlying error is a UnicodeDecodeError that happens because when\nwe run as root we open the RBD device directly in Python to check if it\nis available, but we do it as text, not as binary.\n\nThis patch changes how we open the file, doing it as binary, and reports\nthe right path on the exception.\n\nCloses-Bug: #1873312\nChange-Id: I967caa2df84d870c1be4d69f32481fc75c3be010\n'}, {'number': 5, 'created': '2020-04-17 17:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/6063e26361877f020e0a4bfbfd929cef4624427e', 'message': 'Fix rbd attach on python3\n\nAttaching an RBD volume fails when we run the code as root if we are\nusing Python 3.\n\nWe see a DeviceUnavailable exception:\n\n    conn.attach()\n  File ""/usr/lib/python3.6/site-packages/cinderlib/objects.py"", line\n    842, in attach reason=error_msg)\ncinder.exception.DeviceUnavailable: The device in the path None is\nunavailable: Unable to access the backend storage via path /dev/rbd0.\n\nThe exception message also shows None as the path, even though the\ndescription of the exception shows it correctly.\n\nThe underlying error is a UnicodeDecodeError that happens because when\nwe run as root we open the RBD device directly in Python to check if it\nis available, but we do it as text, not as binary.\n\nThis patch changes how we open the file, doing it as binary, and reports\nthe right path on the exception.\n\nCloses-Bug: #1873312\nChange-Id: I967caa2df84d870c1be4d69f32481fc75c3be010\n'}, {'number': 6, 'created': '2020-04-21 11:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/b4aa511bab7da698206bf9e54fa1f4babc9a315e', 'message': 'Fix rbd attach on python3\n\nAttaching an RBD volume fails when we run the code as root if we are\nusing Python 3.\n\nWe see a DeviceUnavailable exception:\n\n    conn.attach()\n  File ""/usr/lib/python3.6/site-packages/cinderlib/objects.py"", line\n    842, in attach reason=error_msg)\ncinder.exception.DeviceUnavailable: The device in the path None is\nunavailable: Unable to access the backend storage via path /dev/rbd0.\n\nThe exception message also shows None as the path, even though the\ndescription of the exception shows it correctly.\n\nThe underlying error is a UnicodeDecodeError that happens because when\nwe run as root we open the RBD device directly in Python to check if it\nis available, but we do it as text, not as binary.\n\nThis patch changes how we open the file, doing it as binary, and reports\nthe right path on the exception.\n\nCloses-Bug: #1873312\nChange-Id: I967caa2df84d870c1be4d69f32481fc75c3be010\n'}, {'number': 7, 'created': '2020-04-22 11:39:52.000000000', 'files': ['cinderlib/objects.py', 'cinderlib/tests/functional/base_tests.py', 'cinderlib/tests/unit/test_nos_brick.py', 'playbooks/setup-ceph.yaml', 'cinderlib/nos_brick.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/543fe8a7d299ff5c2f7df98c0bedba48a6d5b1f3', 'message': 'Fix rbd attach on python3\n\nAttaching an RBD volume fails when we run the code as root if we are\nusing Python 3.\n\nWe see a DeviceUnavailable exception:\n\n    conn.attach()\n  File ""/usr/lib/python3.6/site-packages/cinderlib/objects.py"", line\n    842, in attach reason=error_msg)\ncinder.exception.DeviceUnavailable: The device in the path None is\nunavailable: Unable to access the backend storage via path /dev/rbd0.\n\nThe exception message also shows None as the path, even though the\ndescription of the exception shows it correctly.\n\nThe underlying error is a UnicodeDecodeError that happens because when\nwe run as root we open the RBD device directly in Python to check if it\nis available, but we do it as text, not as binary.\n\nThis patch changes how we open the file, doing it as binary, and reports\nthe right path on the exception.\n\nCloses-Bug: #1873312\nChange-Id: I967caa2df84d870c1be4d69f32481fc75c3be010\n'}]",2,720553,543fe8a7d299ff5c2f7df98c0bedba48a6d5b1f3,29,9,7,9535,,,0,"Fix rbd attach on python3

Attaching an RBD volume fails when we run the code as root if we are
using Python 3.

We see a DeviceUnavailable exception:

    conn.attach()
  File ""/usr/lib/python3.6/site-packages/cinderlib/objects.py"", line
    842, in attach reason=error_msg)
cinder.exception.DeviceUnavailable: The device in the path None is
unavailable: Unable to access the backend storage via path /dev/rbd0.

The exception message also shows None as the path, even though the
description of the exception shows it correctly.

The underlying error is a UnicodeDecodeError that happens because when
we run as root we open the RBD device directly in Python to check if it
is available, but we do it as text, not as binary.

This patch changes how we open the file, doing it as binary, and reports
the right path on the exception.

Closes-Bug: #1873312
Change-Id: I967caa2df84d870c1be4d69f32481fc75c3be010
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/53/720553/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/objects.py', 'cinderlib/tests/unit/test_nos_brick.py', 'cinderlib/nos_brick.py']",3,4465e9e9d3fbb6e39e6a0bda70765c776f8b7c03,py3-rbd-error," with open(path, 'r+b') as f:"," with open(path, 'r') as f:",52,3
openstack%2Fpython-openstackclient~master~I0f3cc62e23efdc14203ce6645581d5ba5dbf7fa0,openstack/python-openstackclient,master,I0f3cc62e23efdc14203ce6645581d5ba5dbf7fa0,Fix compatibility issue in 5.3,MERGED,2020-07-13 17:03:37.000000000,2020-07-14 16:19:18.000000000,2020-07-14 16:17:07.000000000,"[{'_account_id': 2}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 17:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9d0d64df8b5569f02892b1fd8690043bea7bfde7', 'message': ""Fix compatibility issue in 5.3\n\nThe offending entry point object looks like:\nEntryPoint(name='compute', value='openstackclient.compute.client',\ngroup='openstack.cli.base')\n\nFixes https://storyboard.openstack.org/#!/story/2007917\n\nChange-Id: I0f3cc62e23efdc14203ce6645581d5ba5dbf7fa0\n""}, {'number': 2, 'created': '2020-07-13 17:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/25888dde80dd2f9af5648c1a254c6012e2cf49a1', 'message': ""Fix compatibility issue in 5.3\n\nThe offending entry point object looks like:\nEntryPoint(name='compute', value='openstackclient.compute.client',\ngroup='openstack.cli.base')\n\nStory: 2007917\nTask: 40323\nChange-Id: I0f3cc62e23efdc14203ce6645581d5ba5dbf7fa0\n""}, {'number': 3, 'created': '2020-07-14 13:06:59.000000000', 'files': ['releasenotes/notes/entrypoint-3.8-0597d159889042f7.yaml', 'openstackclient/common/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/82ebddca006d1dc61855fdd34b0616222039ea58', 'message': ""Fix compatibility issue in 5.3\n\nThe offending entry point object looks like:\nEntryPoint(name='compute', value='openstackclient.compute.client',\ngroup='openstack.cli.base')\n\nStory: 2007917\nTask: 40323\nChange-Id: I0f3cc62e23efdc14203ce6645581d5ba5dbf7fa0\n""}]",2,740730,82ebddca006d1dc61855fdd34b0616222039ea58,18,5,3,18841,,,0,"Fix compatibility issue in 5.3

The offending entry point object looks like:
EntryPoint(name='compute', value='openstackclient.compute.client',
group='openstack.cli.base')

Story: 2007917
Task: 40323
Change-Id: I0f3cc62e23efdc14203ce6645581d5ba5dbf7fa0
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/30/740730/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/common/clientmanager.py'],1,9d0d64df8b5569f02892b1fd8690043bea7bfde7,entry-point-compatibility, try: module_name = ep.entry_point.module except AttributeError: module_name = ep.entry_point.value, module_name = ep.entry_point.module,4,1
openstack%2Ftempest~master~Id2c662c0d6146423855714a0f240eed682e3c004,openstack/tempest,master,Id2c662c0d6146423855714a0f240eed682e3c004,Cap jsonschema 3.2.0 as the minimal version,MERGED,2020-05-26 20:14:13.000000000,2020-07-14 16:18:46.000000000,2020-07-14 16:16:56.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-26 20:14:13.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/eee87b504c180bd2b04110d5e4dce7d82819502b', 'message': ""Cap jsonschema 3.2.0 as the minimal version\n\nPrevious versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].\nPython 3.8 is part of the victoria supported runtimes [2] so we now force\nto use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure\nthat everything works with python 3 in general.\n\n[1] https://github.com/Julian/jsonschema/pull/627\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Id2c662c0d6146423855714a0f240eed682e3c004\n""}]",2,730978,eee87b504c180bd2b04110d5e4dce7d82819502b,13,5,1,28522,,,0,"Cap jsonschema 3.2.0 as the minimal version

Previous versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].
Python 3.8 is part of the victoria supported runtimes [2] so we now force
to use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure
that everything works with python 3 in general.

[1] https://github.com/Julian/jsonschema/pull/627
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Id2c662c0d6146423855714a0f240eed682e3c004
",git fetch https://review.opendev.org/openstack/tempest refs/changes/78/730978/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,eee87b504c180bd2b04110d5e4dce7d82819502b,cap_jsonschema,jsonschema>=3.2.0 # MIT,jsonschema>=2.6.0 # MIT,1,1
openstack%2Fcinderlib~master~I038da3637268c9e43c464e841f8c357b212fbc9f,openstack/cinderlib,master,I038da3637268c9e43c464e841f8c357b212fbc9f,Support references in driver configuration,MERGED,2020-07-01 15:15:06.000000000,2020-07-14 16:17:13.000000000,2020-07-14 16:17:12.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 15:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/1d0a81d38aed6b3c836869b85cb83500cbdd473d', 'message': ""Support references in driver configuration\n\nCinder, through Oslo Config, supports references as values in its\nconfiguration options, such as the default value used in\ntarget_ip_address which is $my_ip.\n\nThis patch adds the same functionality to cinderlib, which is convenient\nfor library users that use the default values reported by the\nlist_supported_drivers for the options to set the values.\n\nIn other words, if for example we don't pass target_ip_address for the\nLVM driver configuration, then it correctly uses the value of my_ip\nfield, but if we get the default value and pass it, the driver will\nfail, since the literal '$my_ip' is not usable as an IP address.\n\nChange-Id: I038da3637268c9e43c464e841f8c357b212fbc9f\n""}, {'number': 2, 'created': '2020-07-03 09:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/e298abbde99fb534142ba57b9415e9e7c39fa4c1', 'message': ""Support references in driver configuration\n\nCinder, through Oslo Config, supports references as values in its\nconfiguration options, such as the default value used in\ntarget_ip_address which is $my_ip.\n\nThis patch adds the same functionality to cinderlib, which is convenient\nfor library users that use the default values reported by the\nlist_supported_drivers for the options to set the values.\n\nIn other words, if for example we don't pass target_ip_address for the\nLVM driver configuration, then it correctly uses the value of my_ip\nfield, but if we get the default value and pass it, the driver will\nfail, since the literal '$my_ip' is not usable as an IP address.\n\nChange-Id: I038da3637268c9e43c464e841f8c357b212fbc9f\n""}, {'number': 3, 'created': '2020-07-14 09:29:19.000000000', 'files': ['releasenotes/notes/accept-template-values-e228d065800ac5b5.yaml', 'doc/source/topics/backends.rst', 'cinderlib/persistence/__init__.py', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/b6ddbcda43a0a5b0c11be2192165d9235b522fe9', 'message': ""Support references in driver configuration\n\nCinder, through Oslo Config, supports references as values in its\nconfiguration options, such as the default value used in\ntarget_ip_address which is $my_ip.\n\nThis patch adds the same functionality to cinderlib, which is convenient\nfor library users that use the default values reported by the\nlist_supported_drivers for the options to set the values.\n\nIn other words, if for example we don't pass target_ip_address for the\nLVM driver configuration, then it correctly uses the value of my_ip\nfield, but if we get the default value and pass it, the driver will\nfail, since the literal '$my_ip' is not usable as an IP address.\n\nChange-Id: I038da3637268c9e43c464e841f8c357b212fbc9f\n""}]",2,738866,b6ddbcda43a0a5b0c11be2192165d9235b522fe9,18,7,3,9535,,,0,"Support references in driver configuration

Cinder, through Oslo Config, supports references as values in its
configuration options, such as the default value used in
target_ip_address which is $my_ip.

This patch adds the same functionality to cinderlib, which is convenient
for library users that use the default values reported by the
list_supported_drivers for the options to set the values.

In other words, if for example we don't pass target_ip_address for the
LVM driver configuration, then it correctly uses the value of my_ip
field, but if we get the default value and pass it, the driver will
fail, since the literal '$my_ip' is not usable as an IP address.

Change-Id: I038da3637268c9e43c464e841f8c357b212fbc9f
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/66/738866/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/accept-template-values-e228d065800ac5b5.yaml', 'doc/source/topics/backends.rst', 'cinderlib/persistence/__init__.py', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py']",5,1d0a81d38aed6b3c836869b85cb83500cbdd473d,rbd_keyring_conf," cls._validate_and_set_options(cinder_config_params) def _validate_and_set_options(cls, kvs, group=None): """"""Validate options and substitute references."""""" # NOTE: Templating won't work on the rbd_keyring_conf, but it's # unlikely to be needed. oslo_group = getattr(cfg.CONF, str(group), cfg.CONF) # Now that we have validated/templated everything set updated values for k, v in kvs.items(): kvs[k] = getattr(oslo_group, k, v) # For global configuration we leave the overrides, but for drivers we # don't to prevent cross-driver config polination. The cfg will be # set as an attribute of the configuration that's passed to the driver. if group: for k in kvs.keys(): try: cfg.CONF.clear_override(k, group, clear_cache=True) except cfg.NoSuchOptError: pass self._validate_and_set_options(driver_cfg)"," cls._validate_options(cinder_config_params) for k, v in cinder_config_params.items(): setattr(cfg.CONF, k, v) def _validate_options(cls, kvs, group=None): # for correctness, don't leave it there cfg.CONF.clear_override(k, group) self._validate_options(driver_cfg)",106,40
openstack%2Fcinderlib~master~Idf664fdab3daf21b99215edfe3e2c053c3a9e85c,openstack/cinderlib,master,Idf664fdab3daf21b99215edfe3e2c053c3a9e85c,RBD: Fix missing root_helper,MERGED,2020-06-26 14:25:31.000000000,2020-07-14 16:17:12.000000000,2020-07-14 16:17:12.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-26 14:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/1c8aa11eabf1b77167241ed79e73b7c91606d3bc', 'message': 'RBD: Fix missing root_helper\n\nWhen using the RBD driver and running the cinderlib process as a\nnon-root user within a container we\'ll get a ""Command requested root,\nbut did not specify a root helper."" error.\n\nThis is error happens because the library is not passing the\n""root_helper"" parameter in a couple of ""_execute"" calls.\n\nTrivial-Fix\nCloses-Bug: #1885291\nChange-Id: Idf664fdab3daf21b99215edfe3e2c053c3a9e85c\n'}, {'number': 2, 'created': '2020-07-14 09:21:28.000000000', 'files': ['releasenotes/notes/rbd-non-root-ac971f51461d4d6b.yaml', 'cinderlib/tests/unit/test_nos_brick.py', 'cinderlib/nos_brick.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/9e17143194c2e62be9e0aa720b215e4b0b8082ce', 'message': 'RBD: Fix missing root_helper\n\nWhen using the RBD driver and running the cinderlib process as a\nnon-root user within a container we\'ll get a ""Command requested root,\nbut did not specify a root helper."" error.\n\nThis error happens because the library is not passing the ""root_helper""\nparameter in a couple of ""_execute"" calls.\n\nTrivial-Fix\nCloses-Bug: #1885291\nChange-Id: Idf664fdab3daf21b99215edfe3e2c053c3a9e85c\n'}]",2,738213,9e17143194c2e62be9e0aa720b215e4b0b8082ce,18,6,2,9535,,,0,"RBD: Fix missing root_helper

When using the RBD driver and running the cinderlib process as a
non-root user within a container we'll get a ""Command requested root,
but did not specify a root helper."" error.

This error happens because the library is not passing the ""root_helper""
parameter in a couple of ""_execute"" calls.

Trivial-Fix
Closes-Bug: #1885291
Change-Id: Idf664fdab3daf21b99215edfe3e2c053c3a9e85c
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/13/738213/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rbd-non-root-ac971f51461d4d6b.yaml', 'cinderlib/tests/unit/test_nos_brick.py', 'cinderlib/nos_brick.py']",3,1c8aa11eabf1b77167241ed79e73b7c91606d3bc,rbd-missing-root_helper," root_helper=self._root_helper, run_as_root=True) self._execute('mkdir', '-p', '-m0755', path, root_helper=self._root_helper, run_as_root=True)"," run_as_root=True) self._execute('mkdir', '-p', '-m0755', path, run_as_root=True)",15,6
openstack%2Fcinderlib~master~I2ade5d2e6b2c97d905e09fee509c81c2cfb602ed,openstack/cinderlib,master,I2ade5d2e6b2c97d905e09fee509c81c2cfb602ed,Improve cinder supported drivers output,MERGED,2020-06-29 16:05:33.000000000,2020-07-14 16:17:06.000000000,2020-07-14 16:17:06.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-29 16:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/c163739923c8e9599a2d3f8e8c2a26a76d1e6eda', 'message': ""Improve cinder supported drivers output\n\nMethod list_supported_drivers was intended for human consumption, so all\nvalues for the options in driver_options where strings, which makes it\nharder to parse by automation tools since they have to:\n\n- Convert values from 'None' to ``None``, 'False' to ``False``, etc.\n- Parse a string with type of the option to determine the additional\n  options, such as choices, max and min values.\n\nThis patch adds the possibility to get an output intended for automation\ntools.\n\nTo maintain backward compatibility the method accepts\n``output_version`` parameter that defaults to ``1`` (old output) but can get\n``2`` for the new output.\n\nChange-Id: I2ade5d2e6b2c97d905e09fee509c81c2cfb602ed\n""}, {'number': 2, 'created': '2020-06-29 17:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/a451db2d71dee9b792ad837737cb74b7133df8ce', 'message': ""Improve cinder supported drivers output\n\nMethod list_supported_drivers was intended for human consumption, so all\nvalues for the options in driver_options where strings, which makes it\nharder to parse by automation tools since they have to:\n\n- Convert values from 'None' to ``None``, 'False' to ``False``, etc.\n- Parse a string with type of the option to determine the additional\n  options, such as choices, max and min values.\n\nThis patch adds the possibility to get an output intended for automation\ntools.\n\nTo maintain backward compatibility the method accepts\n``output_version`` parameter that defaults to ``1`` (old output) but can get\n``2`` for the new output.\n\nChange-Id: I2ade5d2e6b2c97d905e09fee509c81c2cfb602ed\n""}, {'number': 3, 'created': '2020-07-01 15:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/258d04c41976bcb2b57aa6d568fbb2c31d11b30b', 'message': ""Improve cinder supported drivers output\n\nMethod list_supported_drivers was intended for human consumption, so all\nvalues for the options in driver_options where strings, which makes it\nharder to parse by automation tools since they have to:\n\n- Convert values from 'None' to ``None``, 'False' to ``False``, etc.\n- Parse a string with type of the option to determine the additional\n  options, such as choices, max and min values.\n\nThis patch adds the possibility to get an output intended for automation\ntools.\n\nTo maintain backward compatibility the method accepts\n``output_version`` parameter that defaults to ``1`` (old output) but can get\n``2`` for the new output.\n\nChange-Id: I2ade5d2e6b2c97d905e09fee509c81c2cfb602ed\n""}, {'number': 4, 'created': '2020-07-14 09:29:19.000000000', 'files': ['doc/source/topics/backends.rst', 'releasenotes/notes/improve-list-drivers-9bd501689d5eeb27.yaml', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py', 'cinderlib/tests/functional/test_basic.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/a37a93154f36ebe9a41b63fbb96d70499b54928c', 'message': ""Improve cinder supported drivers output\n\nMethod list_supported_drivers was intended for human consumption, so all\nvalues for the options in driver_options where strings, which makes it\nharder to parse by automation tools since they have to:\n\n- Convert values from 'None' to ``None``, 'False' to ``False``, etc.\n- Parse a string with type of the option to determine the additional\n  options, such as choices, max and min values.\n\nThis patch adds the possibility to get an output intended for automation\ntools.\n\nTo maintain backward compatibility the method accepts\n``output_version`` parameter that defaults to ``1`` (old output) but can get\n``2`` for the new output.\n\nChange-Id: I2ade5d2e6b2c97d905e09fee509c81c2cfb602ed\n""}]",2,738473,a37a93154f36ebe9a41b63fbb96d70499b54928c,21,5,4,9535,,,0,"Improve cinder supported drivers output

Method list_supported_drivers was intended for human consumption, so all
values for the options in driver_options where strings, which makes it
harder to parse by automation tools since they have to:

- Convert values from 'None' to ``None``, 'False' to ``False``, etc.
- Parse a string with type of the option to determine the additional
  options, such as choices, max and min values.

This patch adds the possibility to get an output intended for automation
tools.

To maintain backward compatibility the method accepts
``output_version`` parameter that defaults to ``1`` (old output) but can get
``2`` for the new output.

Change-Id: I2ade5d2e6b2c97d905e09fee509c81c2cfb602ed
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/73/738473/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/topics/backends.rst', 'releasenotes/notes/improve-list-drivers-9bd501689d5eeb27.yaml', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py', 'cinderlib/tests/functional/test_basic.py']",5,c163739923c8e9599a2d3f8e8c2a26a76d1e6eda,rbd_keyring_conf,"import ddt @ddt.ddt class BaseFunctTestCase(base_tests.unittest.TestCase): @ddt.data([], [1], [2]) def test_list_supported_drivers(self, args): is_v2 = args == [2] expected_type = dict if is_v2 else str drivers = cinderlib.Backend.list_supported_drivers(*args) expected_value = False if is_v2 else 'False' self.assertEqual(expected_value, for option in driver_info['driver_options']: self.assertIsInstance(option['type'], expected_type) if is_v2: self.assertTrue('type_class' in option['type']) else: for v in option.values(): self.assertIsInstance(v, str) ","class BaseFunctTestCase(base_tests.unittest.TestCase): def test_list_supported_drivers(self): drivers = cinderlib.Backend.list_supported_drivers() self.assertEqual('False',",167,39
openstack%2Fcinderlib~master~I7d3324e14494540f8c0d714682e1d0065c1735e3,openstack/cinderlib,master,I7d3324e14494540f8c0d714682e1d0065c1735e3,RBD: Ensure rbd_keyring_conf is available,MERGED,2020-06-29 16:05:33.000000000,2020-07-14 16:17:05.000000000,2020-07-14 16:17:05.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-29 16:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/ff16163996f145077d88674a9ab0fb2a48d76af3', 'message': ""RBD: Ensure rbd_keyring_conf is available\n\nWith the security vulnerability (OSSN-0085) Cinder deprecated the\n``rbd_keyring_conf`` option, but that's not a vulnerability for\ncinderlib, since the user of the library already has access to the\nkeyring (otherwise the library couldn't read it).\n\nCinderlib requires this configuration option for the RBD driver to work\nas expected, since cinderlib doesn't expect external user intervention\nto make the keyring available on all the hosts.\n\nIn this patch we ensure that we report in the ``list_supported_drivers``\nmethod option ``rbd_keyring_conf`` as an existing non-deprecated\nconfiguration option, regardless if it's present (current Cinder code)\nor if it has already been removed (which will happen soon).\n\nChange-Id: I7d3324e14494540f8c0d714682e1d0065c1735e3\n""}, {'number': 2, 'created': '2020-06-29 17:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/d347d867df5a3450810cc570e3c128abbdc00499', 'message': ""RBD: Ensure rbd_keyring_conf is available\n\nWith the security vulnerability (OSSN-0085) Cinder deprecated the\n``rbd_keyring_conf`` option, but that's not a vulnerability for\ncinderlib, since the user of the library already has access to the\nkeyring (otherwise the library couldn't read it).\n\nCinderlib requires this configuration option for the RBD driver to work\nas expected, since cinderlib doesn't expect external user intervention\nto make the keyring available on all the hosts.\n\nIn this patch we ensure that we report in the ``list_supported_drivers``\nmethod option ``rbd_keyring_conf`` as an existing non-deprecated\nconfiguration option, regardless if it's present (current Cinder code)\nor if it has already been removed (which will happen soon).\n\nChange-Id: I7d3324e14494540f8c0d714682e1d0065c1735e3\n""}, {'number': 3, 'created': '2020-07-14 09:29:19.000000000', 'files': ['cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py', 'cinderlib/tests/functional/test_basic.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/3a1ff321e8828f31b917313e50822ffc0ed4d704', 'message': ""RBD: Ensure rbd_keyring_conf is available\n\nWith the security vulnerability (OSSN-0085) Cinder deprecated the\n``rbd_keyring_conf`` option, but that's not a vulnerability for\ncinderlib, since the user of the library already has access to the\nkeyring (otherwise the library couldn't read it).\n\nCinderlib requires this configuration option for the RBD driver to work\nas expected, since cinderlib doesn't expect external user intervention\nto make the keyring available on all the hosts.\n\nIn this patch we ensure that we report in the ``list_supported_drivers``\nmethod option ``rbd_keyring_conf`` as an existing non-deprecated\nconfiguration option, regardless if it's present (current Cinder code)\nor if it has already been removed (which will happen soon).\n\nImplements: blueprint rbd-ossn-0085-workaround\nChange-Id: I7d3324e14494540f8c0d714682e1d0065c1735e3\n""}]",2,738472,3a1ff321e8828f31b917313e50822ffc0ed4d704,22,6,3,9535,,,0,"RBD: Ensure rbd_keyring_conf is available

With the security vulnerability (OSSN-0085) Cinder deprecated the
``rbd_keyring_conf`` option, but that's not a vulnerability for
cinderlib, since the user of the library already has access to the
keyring (otherwise the library couldn't read it).

Cinderlib requires this configuration option for the RBD driver to work
as expected, since cinderlib doesn't expect external user intervention
to make the keyring available on all the hosts.

In this patch we ensure that we report in the ``list_supported_drivers``
method option ``rbd_keyring_conf`` as an existing non-deprecated
configuration option, regardless if it's present (current Cinder code)
or if it has already been removed (which will happen soon).

Implements: blueprint rbd-ossn-0085-workaround
Change-Id: I7d3324e14494540f8c0d714682e1d0065c1735e3
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/72/738472/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py', 'cinderlib/tests/functional/test_basic.py']",3,ff16163996f145077d88674a9ab0fb2a48d76af3,rbd_keyring_conf," # Ensure that the RBDDriver has the rbd_keyring_conf option and # it's not deprecated if name == 'RBDDriver': keyring_conf = [conf for conf in driver_info['driver_options'] if conf['dest'] == 'rbd_keyring_conf'] self.assertEqual(1, len(keyring_conf)) self.assertEqual('False', keyring_conf[0]['deprecated_for_removal'])",,44,0
openstack%2Fcinderlib~master~Icad0340a9f805b59a5cddd7526a1efbb24ab652e,openstack/cinderlib,master,Icad0340a9f805b59a5cddd7526a1efbb24ab652e,RBD: Fix containerized detection,MERGED,2020-06-26 16:05:34.000000000,2020-07-14 16:17:02.000000000,2020-07-14 16:17:02.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-26 16:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/d931bb5572b11fbf47e5ed6175760766dd1682c4', 'message': 'RBD: Fix containerized detection\n\nOur detection mechanism of when we are running containerized has false\npositives, so we are not also checking /proc/1/mounts to see if the root\ndirectory is mounted from /var/lib/, which is the case when running\ncontainerized.\n\nChange-Id: Icad0340a9f805b59a5cddd7526a1efbb24ab652e\nCloses-Bug: #1885302\n'}, {'number': 2, 'created': '2020-07-14 09:19:29.000000000', 'files': ['releasenotes/notes/rbd-improve-containerized-detection-2bd8a2f995215cdd.yaml', 'cinderlib/tests/unit/test_nos_brick.py', 'cinderlib/nos_brick.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/669235b8abd23115b1954948ec96be124629482c', 'message': 'RBD: Fix containerized detection\n\nOur detection mechanism of when we are running containerized has false\npositives, so we are not also checking /proc/1/mounts to see if the root\ndirectory is mounted from /var/lib/, which is the case when running\ncontainerized.\n\nChange-Id: Icad0340a9f805b59a5cddd7526a1efbb24ab652e\nCloses-Bug: #1885302\n'}]",2,738230,669235b8abd23115b1954948ec96be124629482c,17,6,2,9535,,,0,"RBD: Fix containerized detection

Our detection mechanism of when we are running containerized has false
positives, so we are not also checking /proc/1/mounts to see if the root
directory is mounted from /var/lib/, which is the case when running
containerized.

Change-Id: Icad0340a9f805b59a5cddd7526a1efbb24ab652e
Closes-Bug: #1885302
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/30/738230/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rbd-improve-containerized-detection-2bd8a2f995215cdd.yaml', 'cinderlib/tests/unit/test_nos_brick.py', 'cinderlib/nos_brick.py']",3,d931bb5572b11fbf47e5ed6175760766dd1682c4,improve-container-detection," @staticmethod def _in_container(): if os.stat('/proc').st_dev <= 4: return False # When running containerized / is /var/lib/docker when running in # Docker /var/lib/containers when running in Podman, and /var/lib/lxc # when in LXC with open('/proc/1/mounts', 'r') as f: for line in f.readlines(): data = line.split(' ', 2) if data[1] == '/': return '/var/lib/' in data[2] # Just in case, say we are LOG.warning(""Couldn't detect if running on container, assuming we are"") return True RBDConnector.containerized = self._in_container()", RBDConnector.containerized = os.stat('/proc').st_dev > 4,72,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I24715f5e55d4cd6cf9879345980d3a3c5ab8830c,openstack/python-tripleoclient,stable/train,I24715f5e55d4cd6cf9879345980d3a3c5ab8830c,Identify not allowed parameters in upgrades.,MERGED,2020-07-06 09:37:45.000000000,2020-07-14 15:58:07.000000000,2020-07-14 15:56:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 09:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d95f8aae1a6ed47dae69e0a615ea5df0ebd6eed9', 'message': 'Identify not allowed parameters in upgrades.\n\nThis change allows us identifying a set of parameters which should\nnot been passed in the upgrade prepare or upgrade converge steps.\nAs it is now, it is mostly intended to block the converge step\nif the FFU parameters (Stein registry parameters)  were left in\nthe environment files before running the converge step, however\nit will allow blocking the upgrade prepare in the case that some\ndeprecated or not recommended parameter is provided in the templates.\n\nThe way how it works is by converting every single yaml passed in\nthe environment files into a  list of keys (only for the\nparameters_default so far), then it will try to intersect the list\nof forbidden parameters with the list of keys. If there is a match\nan exception will be raised showing those parameters:\n\nERROR openstack [-] The following parameters should be removed from\nthe environment files:\nceph3_namespace\nname_suffix_stein\ntag_stein\nname_prefix_stein\nceph3_image\nnamespace_stein\nceph3_tag\n\nChange-Id: I24715f5e55d4cd6cf9879345980d3a3c5ab8830c\n(cherry picked from commit fbc1eba88aa41d4a2ee73ebd4af3c212a4459829)\n(cherry picked from commit 3a86f9f7f54c68e1099b08d9a6b7ac1cc9eaaaa6)\n'}, {'number': 2, 'created': '2020-07-06 16:32:22.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/exceptions.py', 'tripleoclient/workflows/parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/57ed1b8872486dd00e47c336aaa7536deeb42d91', 'message': 'Identify not allowed parameters in upgrades.\n\nThis change allows us identifying a set of parameters which should\nnot been passed in the upgrade prepare or upgrade converge steps.\nAs it is now, it is mostly intended to block the converge step\nif the FFU parameters (Stein registry parameters)  were left in\nthe environment files before running the converge step, however\nit will allow blocking the upgrade prepare in the case that some\ndeprecated or not recommended parameter is provided in the templates.\n\nThe way how it works is by converting every single yaml passed in\nthe environment files into a  list of keys (only for the\nparameters_default so far), then it will try to intersect the list\nof forbidden parameters with the list of keys. If there is a match\nan exception will be raised showing those parameters:\n\nERROR openstack [-] The following parameters should be removed from\nthe environment files:\nceph3_namespace\nname_suffix_stein\ntag_stein\nname_prefix_stein\nceph3_image\nnamespace_stein\nceph3_tag\n\nChange-Id: I24715f5e55d4cd6cf9879345980d3a3c5ab8830c\n(cherry picked from commit fbc1eba88aa41d4a2ee73ebd4af3c212a4459829)\n(cherry picked from commit 3a86f9f7f54c68e1099b08d9a6b7ac1cc9eaaaa6)\n'}]",1,739443,57ed1b8872486dd00e47c336aaa7536deeb42d91,15,9,2,26343,,,0,"Identify not allowed parameters in upgrades.

This change allows us identifying a set of parameters which should
not been passed in the upgrade prepare or upgrade converge steps.
As it is now, it is mostly intended to block the converge step
if the FFU parameters (Stein registry parameters)  were left in
the environment files before running the converge step, however
it will allow blocking the upgrade prepare in the case that some
deprecated or not recommended parameter is provided in the templates.

The way how it works is by converting every single yaml passed in
the environment files into a  list of keys (only for the
parameters_default so far), then it will try to intersect the list
of forbidden parameters with the list of keys. If there is a match
an exception will be raised showing those parameters:

ERROR openstack [-] The following parameters should be removed from
the environment files:
ceph3_namespace
name_suffix_stein
tag_stein
name_prefix_stein
ceph3_image
namespace_stein
ceph3_tag

Change-Id: I24715f5e55d4cd6cf9879345980d3a3c5ab8830c
(cherry picked from commit fbc1eba88aa41d4a2ee73ebd4af3c212a4459829)
(cherry picked from commit 3a86f9f7f54c68e1099b08d9a6b7ac1cc9eaaaa6)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/739443/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/exceptions.py', 'tripleoclient/workflows/parameters.py']",4,d95f8aae1a6ed47dae69e0a615ea5df0ebd6eed9,," def check_forbidden_params(log, env_files, forbidden): """"""Looks for undesired parameters in the environment files. Each of the environment files pass in env_files will be parsed and if the parameters_default key is found, then all the keys from the nested dictionary found under will be converted into a list, for example: parameters_default: key1: value1 key2: value2 key3: - value3 - key31: key311: value311 key312: value312 key32: value32 Will be converted by get_all_keys into: [key1, key2, key3, key31, key311, key312, key32] This list provides us with all the parameters used in the environment file, without the values, in the format of a list. So we can use sets to find occurrences of the forbbiden paramenters. The variable matched_params will get all the ocurrences of forbidden parameters stored, so we can parse all the environment files and show all the parameters which should get removed from the environment files at once (saving the user to run the command, modify a template, run it again, modify another, etc...). If matched_params list is not empty, an exception will be raised, stopping the execution of the command and displaying the commands which need to be removed. :param log: logging object passed from the calling method :type log: Logging object :param env_files: list of the environment files passed in the command :type env_files: list of strings :param forbidden: list of the undesired parameters :type forbidden: list of strings :returns exception if some of the forbidden parameters are found in the environment files. """""" # Iterates over a nested dict and returns all the # keys from the dict in a list # example: # * input: {'a': '1', 'b': ['c': '2', 'd': {'e': '3'}]} # * output: ['a', 'b', 'c', 'd', 'e'] def get_all_keys(obj, keys_list): if isinstance(obj, dict): keys_list += obj.keys() for value in obj.values(): get_all_keys(value, keys_list) elif isinstance(obj, list): for value in obj: get_all_keys(value, keys_list) matched_params = [] for file in env_files: if os.path.exists(file): with open(file, 'r') as env_file: contents = yaml.safe_load(env_file) pd = contents.get('parameter_defaults', {}) if pd: # Intersection of values and forbidden params list_of_keys = [] get_all_keys(pd, list_of_keys) found_in_pd = list(set(list_of_keys) & set(forbidden)) # Combine them without duplicates matched_params = list(set(matched_params + found_in_pd)) if matched_params: raise exceptions.BannedParameters(""The following parameters should be "" ""removed from the environment files:"" ""\n{}\n"" .format('\n'.join(matched_params)))",,103,0
openstack%2Ftacker-specs~master~Icdf221b6193cee6ad79f030cd86ab8b10d9ffd57,openstack/tacker-specs,master,Icdf221b6193cee6ad79f030cd86ab8b10d9ffd57,Container Network Function with VNFM and CISM,MERGED,2020-05-29 07:40:00.000000000,2020-07-14 15:45:19.000000000,2020-07-14 15:40:59.000000000,"[{'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}]","[{'number': 1, 'created': '2020-05-29 07:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/55595dbbfb7f230826a2564c0ff91011fc043cbc', 'message': 'Container Network Function with VNFM and CISM\n\nChange-Id: Icdf221b6193cee6ad79f030cd86ab8b10d9ffd57\n'}, {'number': 2, 'created': '2020-06-04 04:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a199acfaf6c1b5d2bcfa9c9d746a186fd9158dc0', 'message': 'Container Network Function with VNFM and CISM\n\nThis specification describes enhancement of\nVNF Lifecycle Management for Container Network Function\non pre-installed Kubernetes cluster.\n\nThe CNF instantiation/termination\n* Load CNF definition files in CSAR artifact\n* Extend Kubernetes infra_driver for general APIs\n\nBlueprint: cnf-support-with-etsi-nfv-specs\nChange-Id: Icdf221b6193cee6ad79f030cd86ab8b10d9ffd57\n'}, {'number': 3, 'created': '2020-06-04 05:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bb7b885fd4e8b24a00c5802914016a5d933ee679', 'message': 'Container Network Function with VNFM and CISM\n\nThis specification describes enhancement of\nVNF Lifecycle Management for Container Network Function\non pre-installed Kubernetes cluster.\n\nThe CNF instantiation/termination\n* Load CNF definition files in CSAR artifact\n* Extend Kubernetes infra_driver for general APIs\n\nBlueprint: cnf-support-with-etsi-nfv-specs\nChange-Id: Icdf221b6193cee6ad79f030cd86ab8b10d9ffd57\n'}, {'number': 4, 'created': '2020-06-24 01:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c226fdf7bbafec9ed34e5adcc726ff306d94fe60', 'message': 'Container Network Function with VNFM and CISM\n\nThis specification describes enhancement of\nVNF Lifecycle Management for Container Network Function\non pre-installed Kubernetes cluster.\n\nThe CNF instantiation/termination\n* Load CNF definition files in CSAR artifact\n* Extend Kubernetes infra_driver for general APIs\n\nBlueprint: cnf-support-with-etsi-nfv-specs\nChange-Id: Icdf221b6193cee6ad79f030cd86ab8b10d9ffd57\n'}, {'number': 5, 'created': '2020-06-24 01:36:19.000000000', 'files': ['specs/victoria/container-network-function.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b88f9245a364d7f0ca6170d59da9cf66c9fcc73a', 'message': 'Container Network Function with VNFM and CISM\n\nThis specification describes enhancement of\nVNF Lifecycle Management for Container Network Function\non pre-installed Kubernetes cluster.\n\nThe CNF instantiation/termination\n* Load CNF definition files in CSAR artifact\n* Extend Kubernetes infra_driver for general APIs\n\nBlueprint: cnf-support-with-etsi-nfv-specs\nChange-Id: Icdf221b6193cee6ad79f030cd86ab8b10d9ffd57\n'}]",14,731677,b88f9245a364d7f0ca6170d59da9cf66c9fcc73a,23,7,5,27880,,,0,"Container Network Function with VNFM and CISM

This specification describes enhancement of
VNF Lifecycle Management for Container Network Function
on pre-installed Kubernetes cluster.

The CNF instantiation/termination
* Load CNF definition files in CSAR artifact
* Extend Kubernetes infra_driver for general APIs

Blueprint: cnf-support-with-etsi-nfv-specs
Change-Id: Icdf221b6193cee6ad79f030cd86ab8b10d9ffd57
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/77/731677/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/container-network-function.rst'],1,55595dbbfb7f230826a2564c0ff91011fc043cbc,bp/cnf-support-with-etsi-nfv-specs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= Container Network Function with VNFM and CISM ============================================= https://blueprints.launchpad.net/tacker/+spec/cnf-support-with-etsi-nfv-specs This specification describes enhancement of VNF Lifecycle Management for Container Network Function in Tacker. Problem description =================== Container based virtualization is OS level virtualization, whereas Virtual Machine (VM) is hypervisor-based virtualization. Advantages of container-based virtualization is that it is lighter for memory and CPU consumption. They are easier for deployment, migration and service chaining. Kubernetes is most widely used container orchestration platform with built in scalability and high availability feature. Tacker has Kubernetes infra driver which can instantiate CNF using TOSCA definitions provided in VNFD. It supports limited number of Kubernetes objects. Also it doesn't comply with VNF LCM APIs. This spec intends to add support for additional Kubernetes objects and VNF LCM APIs. Current ETSI SOL standards do not specify how to include CNF definitions in VNFD. Hence this spec proposes an additional way to read CNF definitions from artifacts provided in the CSAR package. .. note:: Although VNFD based CNF definitions will be supported in future, they are out of scope of this specification. The NFVO is expected to perform validation of artifacts provided in the CSAR package using APIs mentioned in spec `add-artifact-support-for-vnf-package`_. Such changes in NFVO will be a future work. In this spec the validation will be performed in VNFM. Proposed Change =============== This spec assumes the case of CNF deployment on pre-installed Kubernetes cluster. Kubernetes infra driver will need following changes: #. To load CNF definitions from artifact specified in additionalParams. #. To support additional Kubernetes objects specified in `Kubernetes resource kind support`_. #. To support VNF LCM APIs by implementing additional methods from ``VnfAbstractDriver``. * pre_instantiation_vnf * instantiate_vnf * post_vnf_instantiation Following block diagram shows components involved in CNF instantiation on pre-installed Kubernetes cluster: .. code-block:: none +----------------------+ +--------------------------+ | NFVO | | Instantiated CNF | | | | | +----------------------+ | +------+ +------+ | +----------------------+ | | App | | App | | | VNFM | | +------+ +------+ | | +-------------+ | | +---------+ +---------+ | | |Infra driver | | | |Container| |Container| | | +----+--------+ | | +---------+ +---------+ | | | | +--------------------------+ +-------+--------------+ +-------+--------------+ +--------------------------+ | v VIM | |+---------+ +---------+ | | +----------+ | || CISI | | CISI |<+----+--+ CISM | | |+---------+ +---------+ | | +----------+ | | | +----------------------+ | Pre-installed | | Kubernetes cluster | +--------------------------+ In this case CISM is embedded in VIM. Infra driver will instantiate a CNF on pre-installed Kubernetes cluster with help of CISM. The diagram below shows CNF instantiation on pre-installed Kubernetes cluster: .. code-block:: none +------------+ | VNFD | +----+-------+ +---------------+ | | Instantiation | +-----------+ +----v-------+ | Request with | |CNF +-----> | | | additional | |Definition | | CSAR | | Params | +-----------+ +--------+---+ +-+-------------+ | | | | +-----------+-----------+-----------+ | v v | | +----------------------+ | | | Tacker-server | | | +-----+----------------+ | | | | | v | | +------------------------------+ | Instantiate CNF | | +--------------+ | | +-------------+------------------------+-+--+ Kubernetes | | | | | | | | Infra Driver | | | v v | | +--------------+ | | +------------+ +-----------+ | | | | | Container | | Container | | | | | +------------+ +-----------+ | | | | +---------------------------+ | | | | | Pre-installed | | | Tacker conductor | | | Kubernetes cluster | | +------------------------------+ | +---------------------------+ +-----------------------------------+ The diagram shows that Kubernetes driver will use CNF definition in YAML format to instantiate CNF on pre-installed cluster. VNFD will not contain any resource information such as VDU, Connection points, Virtual links because all required components of CNF will be specified in CNF definition file. VNFD will be used only to identify the flavour of CNF. Sample VNFD file: .. code-block:: yaml tosca_definitions_version: tosca_simple_yaml_1_2 description: Deployment flavour for Kubernetes Cluster with ""pre_installed"" flavour ID imports: - etsi_nfv_sol001_common_types.yaml - etsi_nfv_sol001_vnfd_types.yaml topology_template: inputs: descriptor_id: type: string descriptor_version: type: string provider: type: string product_name: type: string software_version: type: string vnfm_info: type: list entry_schema: type: string flavour_id: type: string flavour_description: type: string substitution_mappings: node_type: NTT.Tacker.KubernetesCluster properties: flavour_id: pre_installed node_templates: VNF: type: NTT.Tacker.Kubernetes properties: flavour_description: The pre_installed flavour Sample CNF definition file: .. note:: CNF definition file can contain definitions of Kubernetes objects mentioned in `Kubernetes resource kind support`_ section. Sample contains definition of ``Deployment``. .. code-block:: yaml apiVersion: apps/v1 kind: Deployment metadata: name: curry-test001 namespace: curryns spec: replicas: 2 selector: matchLabels: app: webserver template: metadata: labels: app: webserver scaling_name: SP1 spec: containers: - env: - name: param0 valueFrom: configMapKeyRef: key: param0 name: curry-test001 - name: param1 valueFrom: configMapKeyRef: key: param1 name: curry-test001 image: celebdor/kuryr-demo imagePullPolicy: IfNotPresent name: web-server ports: - containerPort: 8080 resources: limits: cpu: 500m memory: 512M requests: cpu: 500m memory: 512M volumeMounts: - name: curry-claim-volume mountPath: /data volumes: - name: curry-claim-volume persistentVolumeClaim: claimName: curry-pv-claim terminationGracePeriodSeconds: 0 Register VIM ------------ VIM of type ``kubernetes`` need to be registered before CNF instantiation. The VIM registration process will remain same. Following sample `vim-config.yaml` provides necessary information to register VIM of type Kubernetes. .. code-block:: console auth_url: ""https://172.20.20.10:6443"" username: ""admin"" password: ""admin"" project_name: ""default"" ssl_ca_cert: None type: ""kubernetes"" This VIM can be used in the instantiation request for CNF. If VIM is not specified in the request, the user must ensure that the default VIM is of type ``kubernetes``. CNF instantiation ----------------- Following is a sample of instantiation request: .. code-block:: json { ""flavourId"": ""pre_installed"", ""additionalParams"": { ""lcm-kubernetes-def-files"": [ ""Files/kubernetes/sample1.yaml"", ""Files/kubernetes/sample2.yaml"" ] }, ""vimConnectionInfo"": [ { ""id"": ""8a3adb69-0784-43c7-833e-aab0b6ab4470"", ""vimId"": ""7dc3c839-bf15-45ac-8dff-fc5b95c2940e"", ""vimType"": ""kubernetes"" } ] } Kubernetes driver will need changes to introduce an additional way to load CNF definitions from artifacts provided in the CSAR package. The artifacts will be one or more YAML files. The list of such CNF definition YAML artifact files will be provided in ``lcm-kubernetes-def-files`` parameter in additionalParams of the instantiation request. The ``create()`` method of Kubernetes driver will look for this parameter and load the CNF definitions from YAML files. The table ``vnf_artifacts`` introduced by spec `add-artifact-support-for-vnf-package`_ will be used for validation of artifacts. The order of files specified in the list need to be maintained as the objects specified in those files may have dependency. Following sequence diagram describes the components involved and the flow of CNF instantiation: .. seqdiag:: seqdiag { node_width = 100; edge_length = 115; Client -> WSGIMiddleware [label = ""POST /vnflcm/v1/vnf_instances""]; Client <-- WSGIMiddleware [label = ""200 Success""]; Client -> WSGIMiddleware [label = ""POST /vnflcm/v1/vnf_instances/{id}/instantiate""]; WSGIMiddleware -->> WSGIMiddleware [label = ""request validation""]; Client <-- WSGIMiddleware [label = ""202 Accepted""]; NFVOPlugin; WSGIMiddleware -> VnfLcmDriver [label = ""Trigger asynchronous task ""]; VnfLcmDriver --> NFVOPlugin [label = ""get VNF Package""]; VnfLcmDriver <-- NFVOPlugin; VnfLcmDriver -->> VnfLcmDriver [label = ""create VIM connection object""]; VnfLcmDriver -> KubernetesDriver [label = ""pre_instantiation_vnf()""]; KubernetesDriver -->> KubernetesDriver [label = ""No Action""]; VnfLcmDriver <-- KubernetesDriver; VnfLcmDriver --> KubernetesDriver [label = ""instantiate_vnf()""]; KubernetesDriver --> KubernetesDriver [label = ""1 create()""] VnfLcmDriver <-- KubernetesDriver [label = ""instance_id""]; VnfLcmDriver --> KubernetesDriver [label =""create_wait()""]; KubernetesDriver -> KubernetesPythonClient [label = ""check deployment status""]; KubernetesPythonClient -> Kubernetes [label = ""get deployment status""]; KubernetesPythonClient <-- Kubernetes [label = ""status""]; KubernetesDriver <-- KubernetesPythonClient; VnfLcmDriver <-- KubernetesDriver; VnfLcmDriver -> KubernetesDriver [label = ""post_vnf_instantiation()""]; KubernetesDriver -->> KubernetesDriver[label = ""2. Update DB for VNFC resources[TBD]""]; VnfLcmDriver <-- KubernetesDriver; } #. ``create()`` method will get instantiation request and VNF package path as parameters. It will look for ``lcm-kubernetes-def-files`` in additionalParams to decide where to get CNF definitions. This spec focuses on the case when this parameter is present. The next sequence diagram shows details about ``create()`` method. #. TODO: As per discussion it has been decided that information about resources such as containers, pods etc. will not be stored in ``vnfc_resource_info`` because it is difficult to directly map such objects to existing vnfc_resource_info structure. The implication of this decision is that information about such resources will not be shown when user queries about the VNF instance. It still in discussion to decide where to store the information about resources created for CNF. Following sequence diagram shows operation of ``create()`` method in Kubernetes infra driver: .. seqdiag:: KubernetesDriver --> KubernetesUtil [label = ""1. cnf_to_kube_objects(\ncnf_def_dict)""]; KubernetesDriver <-- KubernetesUtil [label = ""Kubernetes model\nobjects""]; KubernetesDriver --> KubernetesPythonClient [label = ""2. call client APIs for each\nmodel object""]; KubernetesPythonClient --> Kubernetes [label = ""deploy kubernetes\nobjects""]; KubernetesPythonClient <-- Kubernetes [label = ""deployed objects info""]; KubernetesDriver <-- KubernetesPythonClient [label = ""3. deployed objects info""]; KubernetesDriver -->> KubernetesDriver [label = ""prepare\ninstance id""]; #. Definitions extracted from CNF definition YAML files will be translated into Kubernetes model objects [#kubernetes-model-objects]_. KubernetesUtils module will be added for the translation. #. Kubernetes model objects will be passed to Kubernetes-client APIs [#kubernetes-apis]_ to deploy objects. Kubernetes-client's APIs will be called depending on ``kind`` of an object. The order of objects in which they are deployed will be important considering their dependency. Refer `Kubernetes API group support`_ #. Deployed object's information will be used for preparing deployment names. Deployment names will be returned as instance_id to maintain compatibility with VNF LCM API. Following diagram shows how CNF will be deployed: .. code-block:: none +-----------+ +---------------+ | | |CNF definition | | VNFD | |YAML file | | | | | +--------+--+ +---+-----------+ | | | | |<-------+ | +---------+ +--v--------+ +-----------+ +------------+ +----------+ +----------+ |Command/ | | VNFM |No | Parse CNF | | Kubernetes | |Kubernetes| |Kubernetes| |REST Api +---->| +---->| definition+---->| Object +---->|Python +---->| | | | |Is CNF def | | YAML files| ^ | | |Client | | | +---------+ |VNFD Based?| +-----------+ | +------------+ +----------+ +----------+ +--+--------+ | | +-----------+ | |Yes | Parse | | +----->| TOSCA CNF +----------+ | definition| | from VNFD | +-----------+ This case is out of scope of this spec * The instantiation process will be called using either command or REST API call. * The VNFM will process the VNFD and CNF definitions depending on additionalParams in the instantiation request. * The VNFD will contain only the flavour definition. * The Kubernetes model objects [#kubernetes-model-objects]_ will be created from the definitions provided in CNF definition YAML files. * The `kubernetes-client`_ will instantiate objects on the Kubernetes cluster. CNF termination --------------- Following sequence diagram shows flow of termination of CNF. .. seqdiag:: seqdiag { node_width = 100; edge_length = 115; Client -> WSGIMiddleware [label = ""Terminate VNF""]; WSGIMiddleware -->> WSGIMiddleware [label = ""request validation""]; Client <-- WSGIMiddleware [label = ""202 Accepted""]; WSGIMiddleware -> TackerConductor [label = ""Trigger asynchronous task""]; TackerConductor --> VnfLcmDriver [label = ""terminate_vnf(vnf_instance, terminate_vnf_request)""]; VnfLcmDriver --> KubernetesDriver [label = ""delete(context, instance_id, access_info)""]; KubernetesDriver -->> KubernetesDriver [label = ""get deployment infromation""]; KubernetesDriver --> KubernetesPythonClient [label = ""delete deployment""]; KubernetesPythonClient --> Kubernetes [label = ""delete deployment""]; KubernetesPythonClient <-- Kubernetes [label = ""deployment deleted""]; KubernetesDriver <-- KubernetesPythonClient; VnfLcmDriver <-- KubernetesDriver; VnfLcmDriver --> KubernetesDriver [label = ""delete_wait(context, instance_id, access_info)""]; KubernetesDriver --> KubernetesPythonClient [label = ""get deployment status""]; KubernetesPythonClient --> Kubernetes [label = ""get deployment status""]; KubernetesPythonClient <-- Kubernetes [label = ""deployment status""]; KubernetesDriver <-- KubernetesPythonClient [label = ""deployment status(deleted)""]; VnfLcmDriver <-- KubernetesDriver [label = ""resources removed""]; TackerConductor <-- VnfLcmDriver [label = ""request successfully completed""]; TackerConductor -->> TackerConductor [label = ""update DB""]; } Current implementation of Kubernetes driver handles limited objects such as Service, Deployment, HorizontalPodAutoscaler etc. Since this spec introduces more objects mentioned in `Kubernetes resource kind support`_, the ``delete()`` APIs implementations need to delete such objects. Kubernetes API group support ---------------------------- Current Kubernetes infra driver supports following API groups: #. AutoscalingV1Api #. CoreApi #. CoreV1Api #. ExtensionsV1beta1Api This spec proposes to add support for following API groups: #. AppsV1Api #. ApiregistrationV1Api #. AuthenticationV1Api #. AuthorizationV1Api #. BatchV1Api #. CoordinationV1Api #. NetworkingV1Api #. RbacAuthorizationV1Api #. SchedulingV1Api #. StorageV1Api Kubernetes resource kind support -------------------------------- In this spec we will support Kubernetes v1.5.0 and Kubernetes python client v11.0. Following Kubernetes APIs will be supported. * API Group ``core`` (CoreV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | Container | v1 | +------------------------------------------+------------+ | Pod | v1 | +------------------------------------------+------------+ | Service | v1 | +------------------------------------------+------------+ | ConfigMap | v1 | +------------------------------------------+------------+ | Secret | v1 | +------------------------------------------+------------+ | PersistentVolumeClaim | v1 | +------------------------------------------+------------+ | Volume | v1 | +------------------------------------------+------------+ | LimitRange | v1 | +------------------------------------------+------------+ | PodTemplate | v1 | +------------------------------------------+------------+ | Bindings | v1 | +------------------------------------------+------------+ | ComponentStatus | v1 | +------------------------------------------+------------+ | Namespace | v1 | +------------------------------------------+------------+ | Node | v1 | +------------------------------------------+------------+ | PersistentVolume | v1 | +------------------------------------------+------------+ | ResourceQuota | v1 | +------------------------------------------+------------+ | ServiceAccount | v1 | +------------------------------------------+------------+ * API Group ``apiregistration.k8s.io`` (ApiregistrationV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | APIService | v1 | +------------------------------------------+------------+ * API Group ``apps`` (AppsV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | DaemonSet | v1 | +------------------------------------------+------------+ | Deployment | v1 | +------------------------------------------+------------+ | ReplicaSet | v1 | +------------------------------------------+------------+ | StatefulSet | v1 | +------------------------------------------+------------+ | ControllerRevision | v1 | +------------------------------------------+------------+ * API Group ``authentication.k8s.io`` (AuthenticationV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | TokenReview | v1 | +------------------------------------------+------------+ * API Group ``authorization.k8s.io`` (AuthorizationV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | LocalSubjectAccessReview | v1 | +------------------------------------------+------------+ | SelfSubjectAccessReview | v1 | +------------------------------------------+------------+ | SelfSubjectRulesReview | v1 | +------------------------------------------+------------+ | SubjectAccessReview | v1 | +------------------------------------------+------------+ * API Group ``autoscaling`` (AutoscalingV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | HorizontalPodAutoscaler | v1 | +------------------------------------------+------------+ * API Group ``batch`` (BatchV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | Job | v1 | +------------------------------------------+------------+ * API Group ``coordination.k8s.io`` (CoordinationV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | Lease | v1 | +------------------------------------------+------------+ * API Group ``networking.k8s.io`` (NetworkingV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | NetworkPolicy | v1 | +------------------------------------------+------------+ * API Group ``rbac.authorization.k8s.io`` (RbacAuthorizationV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | ClusterRole | v1 | +------------------------------------------+------------+ | ClusterRoleBinding | v1 | +------------------------------------------+------------+ | Role | v1 | +------------------------------------------+------------+ | RoleBinding | v1 | +------------------------------------------+------------+ * API Group ``scheduling.k8s.io`` (SchedulingV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | PriorityClass | v1 | +------------------------------------------+------------+ * API Group ``storage.k8s.io`` (StorageV1Api) +------------------------------------------+------------+ | API | Version | +==========================================+============+ | StorageClass | v1 | +------------------------------------------+------------+ | VolumeAttachment | v1 | +------------------------------------------+------------+ Data model impact ----------------- Table name: vnf_instantiated_info +----------------------------+----------------+---------------+ | Column Name | Old data type | New data type | +============================+================+===============+ | instance_id | VARCHAR(255) | TEXT | +----------------------------+----------------+---------------+ The instance id returned by Kubernetes driver will be a string containing deployment names. It can grow beyond 255 characters. Hence we propose to change the data type of ``instance_id`` field of ``vnf_instantiated_info`` table from VARCHAR(255) to TEXT. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Yoshito Ito <yoshito.itou.dr@hco.ntt.co.jp> Other contributors: Nitin Uikey <nitin.uikey@nttdata.com> Tushar Patil <tushar.vitthal.patil@gmail.com> Prashant Bhole <prashant.bhole@nttdata.com> Work Items ---------- * Kubernetes infra driver will be modified to implement: * VNF LCM compatibility * CNF instantiation from definitions provided in artifacts * Support for additional Kubernetes objects * Add new unit and functional tests. Dependencies ============ None Testing ======= Unit and functional tests will be added to cover cases required in the spec. TODO: Since there is assupmtion that Kubernetes cluster will be pre installed, gate job needs to fetch the information about existing cluster and create kubernetes VIM. Documentation Impact ==================== Complete user guide will be added to explain CNF instantiation and termination from the perspective of VNF LCM APIs. References ========== .. _kubernetes-client : https://github.com/kubernetes-client/python/releases/tag/v11.0.0 .. _add-artifact-support-for-vnf-package : add-artifacts.html .. [#kubernetes-model-objects] : https://github.com/kubernetes-client/python/blob/master/kubernetes/README.md#documentation-for-models .. [#kubernetes-apis] : https://github.com/kubernetes-client/python/blob/master/kubernetes/README.md#documentation-for-api-endpoints ",,756,0
openstack%2Fopenstack-zuul-jobs~master~Ib9ed240aef6680be7c972088ca5337b5740b9c36,openstack/openstack-zuul-jobs,master,Ib9ed240aef6680be7c972088ca5337b5740b9c36,Add template for charm check and gate,MERGED,2020-07-13 06:23:49.000000000,2020-07-14 15:44:45.000000000,2020-07-14 15:40:58.000000000,"[{'_account_id': 935}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 06:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c0d24abe104edcd00f73e341c351553cd2db7d8c', 'message': 'Add template for charm check and gate\n\nAdd new template to cover the required range of py3 versions\nthat the OpenStack Charms need to be validated against.\n\nThis is mainly driven by the Ubuntu versions the charms have\nto support which includes back to Ubuntu 14.04 LTS (Python 3.4)\nand to the current 20.04 LTS (Python 3.8).\n\nChange-Id: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}, {'number': 2, 'created': '2020-07-13 06:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/3ed89181a0829c61938daaa279222aecfe175378', 'message': 'Add template for charm check and gate\n\nAdd new template to cover the required range of py3 versions\nthat the OpenStack Charms need to be validated against.\n\nThis is mainly driven by the Ubuntu versions the charms have\nto support which includes back to Ubuntu 16.04 LTS (Python 3.5)\nand to the current 20.04 LTS (Python 3.8).\n\nChange-Id: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}, {'number': 3, 'created': '2020-07-13 15:49:51.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/231aa306d19c7138b139b0d54b1f6d8d8e787350', 'message': 'Add template for charm check and gate\n\nAdd new template to cover the required range of py3 versions\nthat the OpenStack Charms need to be validated against.\n\nThis is mainly driven by the Ubuntu versions the charms have\nto support which includes back to Ubuntu 16.04 LTS (Python 3.5)\nand to the current 20.04 LTS (Python 3.8).\n\nMaster branch of all charms will be switched to use this\ntemplate in time for the next charm release in August 2020.\n\nStable branches will not be updated however old templates\nhave been marked as DEPRECATED FOR REMOVAL.\n\nChange-Id: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}]",3,740614,231aa306d19c7138b139b0d54b1f6d8d8e787350,15,4,3,935,,,0,"Add template for charm check and gate

Add new template to cover the required range of py3 versions
that the OpenStack Charms need to be validated against.

This is mainly driven by the Ubuntu versions the charms have
to support which includes back to Ubuntu 16.04 LTS (Python 3.5)
and to the current 20.04 LTS (Python 3.8).

Master branch of all charms will be switched to use this
template in time for the next charm release in August 2020.

Stable branches will not be updated however old templates
have been marked as DEPRECATED FOR REMOVAL.

Change-Id: Ib9ed240aef6680be7c972088ca5337b5740b9c36
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/14/740614/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,c0d24abe104edcd00f73e341c351553cd2db7d8c,openstack-python3-charm-jobs, name: openstack-python3-charm-jobs description: | Runs unit tests for an OpenStack Charm project under the CPython version 3 releases designated for testing across OpenStack releases. check: jobs: - openstack-tox-pep8 - openstack-tox-py34 - openstack-tox-py35 - openstack-tox-py36 - openstack-tox-py38 gate: jobs: - openstack-tox-pep8 - openstack-tox-py34 - openstack-tox-py35 - openstack-tox-py36 - openstack-tox-py38 - project-template:,,20,0
openstack%2Fglance~master~Ib3deb9361887caeea606db4955cd9d35d263de0a,openstack/glance,master,Ib3deb9361887caeea606db4955cd9d35d263de0a,Update sample configs post deprecation removals,MERGED,2020-06-30 16:49:54.000000000,2020-07-14 15:34:58.000000000,2020-07-14 15:27:14.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-30 16:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/76b9bf2c90ab180d5fa583a6d0dd5c260114fbe6', 'message': 'Update sample configs post deprecation removals\n\nChange-Id: Ib3deb9361887caeea606db4955cd9d35d263de0a\n'}, {'number': 2, 'created': '2020-06-30 19:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a91b49df9ceb65e272905c698e6c5cde726bc48c', 'message': 'Update sample configs post deprecation removals\n\nChange-Id: Ib3deb9361887caeea606db4955cd9d35d263de0a\n'}, {'number': 3, 'created': '2020-07-03 17:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5f16098cb2c059cb50c7a10444221c8ae6e91396', 'message': 'Update sample configs post deprecation removals\n\nChange-Id: Ib3deb9361887caeea606db4955cd9d35d263de0a\n'}, {'number': 4, 'created': '2020-07-06 15:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9c51d0fd208262811748c69f65f9103836c518c3', 'message': 'Update sample configs post deprecation removals\n\nChange-Id: Ib3deb9361887caeea606db4955cd9d35d263de0a\n'}, {'number': 5, 'created': '2020-07-14 10:45:56.000000000', 'files': ['etc/glance-api.conf', 'etc/glance-scrubber.conf', 'etc/glance-cache.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/96507d3eaf3a032037d34c79b0c590752a473c72', 'message': 'Update sample configs post deprecation removals\n\nChange-Id: Ib3deb9361887caeea606db4955cd9d35d263de0a\n'}]",0,738674,96507d3eaf3a032037d34c79b0c590752a473c72,29,6,5,5202,,,0,"Update sample configs post deprecation removals

Change-Id: Ib3deb9361887caeea606db4955cd9d35d263de0a
",git fetch https://review.opendev.org/openstack/glance refs/changes/74/738674/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/glance-api.conf', 'etc/glance-scrubber.conf', 'etc/glance-cache.conf']",3,76b9bf2c90ab180d5fa583a6d0dd5c260114fbe6,cleanout_registry_simpledb,"# This option controls whether or not to use old deprecated defaults when # evaluating policies. If ``True``, the old deprecated defaults are not going to # be evaluated. This means if any existing token is allowed for old defaults but # is disallowed for new defaults, it will be disallowed. It is encouraged to # enable this flag along with the ``enforce_scope`` flag so that you can get the # benefits of new defaults and ``scope_type`` together (boolean value) #enforce_new_defaults = false ","# DEPRECATED: # Python module path of data access API. # # Specifies the path to the API to use for accessing the data model. # This option determines how the image catalog data will be accessed. # # Possible values: # * glance.db.sqlalchemy.api # * glance.db.registry.api # * glance.db.simple.api # # If this option is set to ``glance.db.sqlalchemy.api`` then the image # catalog data is stored in and read from the database via the # SQLAlchemy Core and ORM APIs. # # Setting this option to ``glance.db.registry.api`` will force all # database access requests to be routed through the Registry service. # This avoids data access from the Glance API nodes for an added layer # of security, scalability and manageability. # # NOTE: In v2 OpenStack Images API, the registry service is optional. # In order to use the Registry API in v2, the option # ``enable_v2_registry`` must be set to ``True``. # # Finally, when this configuration option is set to # ``glance.db.simple.api``, image catalog data is stored in and read # from an in-memory data structure. This is primarily used for testing. # # Related options: # * enable_v2_api # * enable_v2_registry # # (string value) # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html #data_api = glance.db.sqlalchemy.api # Deploy the v2 OpenStack Images API. # # When this option is set to ``True``, Glance service will respond # to requests on registered endpoints conforming to the v2 OpenStack # Images API. # # NOTES: # * If this option is disabled, then the ``enable_v2_registry`` # option, which is enabled by default, is also recommended # to be disabled. # # Possible values: # * True # * False # # Related options: # * enable_v2_registry # # (boolean value) #enable_v2_api = true # # DEPRECATED FOR REMOVAL # (boolean value) #enable_v1_registry = true # DEPRECATED: # Deploy the v2 API Registry service. # # When this option is set to ``True``, the Registry service # will be enabled in Glance for v2 API requests. # # NOTES: # * Use of Registry is optional in v2 API, so this option # must only be enabled if both ``enable_v2_api`` is set to # ``True`` and the ``data_api`` option is set to # ``glance.db.registry.api``. # # * If deploying only the v1 OpenStack Images API, this option, # which is enabled by default, should be disabled. # # Possible values: # * True # * False # # Related options: # * enable_v2_api # * data_api # # (boolean value) # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html #enable_v2_registry = true ## DEPRECATED: # Address the registry server is hosted on. # # Possible values: # * A valid IP or hostname # # Related options: # * None # # (host address value) # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html #registry_host = 0.0.0.0 # DEPRECATED: # Port the registry server is listening on. # # Possible values: # * A valid port number # # Related options: # * None # # (port value) # Minimum value: 0 # Maximum value: 65535 # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html #registry_port = 9191 # DEPRECATED: # Protocol to use for communication with the registry server. # # Provide a string value representing the protocol to use for # communication with the registry server. By default, this option is # set to ``http`` and the connection is not secure. # # This option can be set to ``https`` to establish a secure connection # to the registry server. In this case, provide a key to use for the # SSL connection using the ``registry_client_key_file`` option. Also # include the CA file and cert file using the options # ``registry_client_ca_file`` and ``registry_client_cert_file`` # respectively. # # Possible values: # * http # * https # # Related options: # * registry_client_key_file # * registry_client_cert_file # * registry_client_ca_file # # (string value) # Possible values: # http - <No description provided> # https - <No description provided> # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html #registry_client_protocol = http # DEPRECATED: # Absolute path to the private key file. # # Provide a string value representing a valid absolute path to the # private key file to use for establishing a secure connection to # the registry server. # # NOTE: This option must be set if ``registry_client_protocol`` is # set to ``https``. Alternatively, the GLANCE_CLIENT_KEY_FILE # environment variable may be set to a filepath of the key file. # # Possible values: # * String value representing a valid absolute path to the key # file. # # Related options: # * registry_client_protocol # # (string value) # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html # # This option has a sample default set, which means that # its actual default value may vary from the one documented # below. #registry_client_key_file = /etc/ssl/key/key-file.pem # DEPRECATED: # Absolute path to the certificate file. # # Provide a string value representing a valid absolute path to the # certificate file to use for establishing a secure connection to # the registry server. # # NOTE: This option must be set if ``registry_client_protocol`` is # set to ``https``. Alternatively, the GLANCE_CLIENT_CERT_FILE # environment variable may be set to a filepath of the certificate # file. # # Possible values: # * String value representing a valid absolute path to the # certificate file. # # Related options: # * registry_client_protocol # # (string value) # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html # # This option has a sample default set, which means that # its actual default value may vary from the one documented # below. #registry_client_cert_file = /etc/ssl/certs/file.crt # DEPRECATED: # Absolute path to the Certificate Authority file. # # Provide a string value representing a valid absolute path to the # certificate authority file to use for establishing a secure # connection to the registry server. # # NOTE: This option must be set if ``registry_client_protocol`` is # set to ``https``. Alternatively, the GLANCE_CLIENT_CA_FILE # environment variable may be set to a filepath of the CA file. # This option is ignored if the ``registry_client_insecure`` option # is set to ``True``. # # Possible values: # * String value representing a valid absolute path to the CA # file. # # Related options: # * registry_client_protocol # * registry_client_insecure # # (string value) # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html # # This option has a sample default set, which means that # its actual default value may vary from the one documented # below. #registry_client_ca_file = /etc/ssl/cafile/file.ca # DEPRECATED: # Set verification of the registry server certificate. # # Provide a boolean value to determine whether or not to validate # SSL connections to the registry server. By default, this option # is set to ``False`` and the SSL connections are validated. # # If set to ``True``, the connection to the registry server is not # validated via a certifying authority and the # ``registry_client_ca_file`` option is ignored. This is the # registry's equivalent of specifying --insecure on the command line # using glanceclient for the API. # # Possible values: # * True # * False # # Related options: # * registry_client_protocol # * registry_client_ca_file # # (boolean value) # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html #registry_client_insecure = false # DEPRECATED: # Timeout value for registry requests. # # Provide an integer value representing the period of time in seconds # that the API server will wait for a registry request to complete. # The default value is 600 seconds. # # A value of 0 implies that a request will never timeout. # # Possible values: # * Zero # * Positive integer # # Related options: # * None # # (integer value) # Minimum value: 0 # This option is deprecated for removal since Queens. # Its value may be silently ignored in the future. # Reason: # Glance registry service is deprecated for removal. # # More information can be found from the spec: # http://specs.openstack.org/openstack/glance- # specs/specs/queens/approved/glance/deprecate-registry.html #registry_client_timeout = 600 # DEPRECATED: Whether to pass through the user token when making requests to the # registry. To prevent failures with token expiration during big files upload, # it is recommended to set this parameter to False.If ""use_user_token"" is not in # effect, then admin credentials can be specified. (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: This option was considered harmful and has been deprecated in M # release. It will be removed in O release. For more information read OSSN-0060. # Related functionality with uploading big images has been implemented with # Keystone trusts support. #use_user_token = true # DEPRECATED: The administrators user name. If ""use_user_token"" is not in # effect, then admin credentials can be specified. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: This option was considered harmful and has been deprecated in M # release. It will be removed in O release. For more information read OSSN-0060. # Related functionality with uploading big images has been implemented with # Keystone trusts support. #admin_user = <None> # DEPRECATED: The administrators password. If ""use_user_token"" is not in effect, # then admin credentials can be specified. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: This option was considered harmful and has been deprecated in M # release. It will be removed in O release. For more information read OSSN-0060. # Related functionality with uploading big images has been implemented with # Keystone trusts support. #admin_password = <None> # DEPRECATED: The tenant name of the administrative user. If ""use_user_token"" is # not in effect, then admin tenant name can be specified. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: This option was considered harmful and has been deprecated in M # release. It will be removed in O release. For more information read OSSN-0060. # Related functionality with uploading big images has been implemented with # Keystone trusts support. #admin_tenant_name = <None> # DEPRECATED: The URL to the keystone service. If ""use_user_token"" is not in # effect and using keystone auth, then URL of keystone can be specified. (string # value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: This option was considered harmful and has been deprecated in M # release. It will be removed in O release. For more information read OSSN-0060. # Related functionality with uploading big images has been implemented with # Keystone trusts support. #auth_url = <None> # DEPRECATED: The strategy to use for authentication. If ""use_user_token"" is not # in effect, then auth strategy can be specified. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: This option was considered harmful and has been deprecated in M # release. It will be removed in O release. For more information read OSSN-0060. # Related functionality with uploading big images has been implemented with # Keystone trusts support. #auth_strategy = noauth # DEPRECATED: The region for the authentication service. If ""use_user_token"" is # not in effect and using keystone auth, then region name can be specified. # (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: This option was considered harmful and has been deprecated in M # release. It will be removed in O release. For more information read OSSN-0060. # Related functionality with uploading big images has been implemented with # Keystone trusts support. #auth_region = <None> ",24,998
openstack%2Fopenstacksdk~master~Ibe800e08cc8ea0e4277e4dc6339fdc9b53194057,openstack/openstacksdk,master,Ibe800e08cc8ea0e4277e4dc6339fdc9b53194057,Add block_storage find functions,MERGED,2020-07-09 14:09:40.000000000,2020-07-14 15:32:42.000000000,2020-07-14 15:27:08.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-09 14:09:40.000000000', 'files': ['openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3fb43bc134c19df80d3adff820260dcf25daf731', 'message': 'Add block_storage find functions\n\nin order to implement basic ansible block storage modules we also want\nto have an easy way to search to resources.\n\nChange-Id: Ibe800e08cc8ea0e4277e4dc6339fdc9b53194057\n'}]",0,740303,3fb43bc134c19df80d3adff820260dcf25daf731,12,4,1,27900,,,0,"Add block_storage find functions

in order to implement basic ansible block storage modules we also want
to have an easy way to search to resources.

Change-Id: Ibe800e08cc8ea0e4277e4dc6339fdc9b53194057
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/740303/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py']",2,3fb43bc134c19df80d3adff820260dcf25daf731,," def find_snapshot(self, name_or_id, ignore_missing=True, **attrs): """"""Find a single snapshot :param snapshot: The name or ID a snapshot :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the snapshot does not exist. :returns: One :class:`~openstack.volume.v3.snapshot.Snapshot` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._find(_snapshot.Snapshot, name_or_id, ignore_missing=ignore_missing) def find_type(self, name_or_id, ignore_missing=True, **attrs): """"""Find a single volume type :param snapshot: The name or ID a volume type :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the type does not exist. :returns: One :class:`~openstack.volume.v3.type.Type` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._find(_type.Type, name_or_id, ignore_missing=ignore_missing) def find_volume(self, name_or_id, ignore_missing=True, **attrs): """"""Find a single volume :param snapshot: The name or ID a volume :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the volume does not exist. :returns: One :class:`~openstack.volume.v3.volume.Volume` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" return self._find(_volume.Volume, name_or_id, ignore_missing=ignore_missing) def find_backup(self, name_or_id, ignore_missing=True, **attrs): """"""Find a single backup :param snapshot: The name or ID a backup :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the backup does not exist. :returns: One :class:`~openstack.volume.v3.backup.Backup` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. """""" if not self._connection.has_service('object-store'): raise exceptions.SDKException( 'Object-store service is required for block-store backups' ) return self._find(_backup.Backup, name_or_id, ignore_missing=ignore_missing) ",,79,0
openstack%2Fneutron~master~Ic61b636625824bbd6b7624a057db308a484ee463,openstack/neutron,master,Ic61b636625824bbd6b7624a057db308a484ee463,Remove tempest-integrated-networking job from neutron queue,MERGED,2020-06-17 12:32:58.000000000,2020-07-14 15:32:06.000000000,2020-07-14 15:27:03.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-17 12:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87c451fe246d2b56112c221ae2cc07a1ac619a02', 'message': 'Remove tempest-integrated-networking job from neutron queue\n\nAs we agreed during virtual PTG we want to change\ntempest-multinode-full-py3 that it will run only integrated-networking\ntests. And then promote it to be voting and gating job.\n\nThis new multinode job can replace singlenode tempest-integrated-networking\njob so this patch removes this one from the queues too.\n\nChange-Id: Ic61b636625824bbd6b7624a057db308a484ee463\n'}, {'number': 2, 'created': '2020-07-01 11:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6194decfc2096f90a2c1ddfe681db948c9ed5759', 'message': 'Remove tempest-integrated-networking job from neutron queue\n\nAs we agreed during virtual PTG we want to change\ntempest-multinode-full-py3 that it will run only integrated-networking\ntests. And then promote it to be voting and gating job.\n\nThis new multinode job can replace singlenode tempest-integrated-networking\njob so this patch removes this one from the queues too.\n\nChange-Id: Ic61b636625824bbd6b7624a057db308a484ee463\n'}, {'number': 3, 'created': '2020-07-08 14:05:53.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34b6833caa36a1005fa5b6da736ecb950b61479b', 'message': 'Remove tempest-integrated-networking job from neutron queue\n\nAs we agreed during virtual PTG we want to change\ntempest-multinode-full-py3 that it will run only integrated-networking\ntests. And then promote it to be voting and gating job.\n\nThis new multinode job can replace singlenode tempest-integrated-networking\njob so this patch removes this one from the queues too.\n\nChange-Id: Ic61b636625824bbd6b7624a057db308a484ee463\n'}]",0,736186,34b6833caa36a1005fa5b6da736ecb950b61479b,34,7,3,11975,,,0,"Remove tempest-integrated-networking job from neutron queue

As we agreed during virtual PTG we want to change
tempest-multinode-full-py3 that it will run only integrated-networking
tests. And then promote it to be voting and gating job.

This new multinode job can replace singlenode tempest-integrated-networking
job so this patch removes this one from the queues too.

Change-Id: Ic61b636625824bbd6b7624a057db308a484ee463
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/736186/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",3,87c451fe246d2b56112c221ae2cc07a1ac619a02,update-ci-jobs, |neutron-tempest-multinode-full-py3 |tempest.api (without slow tests) | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | | |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | |(non-voting) |tempest.scenario | | | | | dvr_snat | | | | |S, |tempest-integrated-networking |tempest.api (without slow tests) | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | Yes | | |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |tempest-multinode-full-py3 |tempest.api (without slow tests) | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | No | |(non-voting) |tempest.scenario | | | | | | | | | | |(non-voting) |tempest.scenario | | | | | dvr_snat | | | | |,19,18
openstack%2Fglance~master~I86a3cbf4374bc2b083ccd86f75b88490b305eaab,openstack/glance,master,I86a3cbf4374bc2b083ccd86f75b88490b305eaab,Cleanup remove api v1 and registry code,MERGED,2020-06-30 16:49:54.000000000,2020-07-14 15:32:02.000000000,2020-07-14 15:27:10.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-30 16:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/44710187a3f7ba1ef6a966080f71741926d42029', 'message': 'Cleanup remove api v1 and registry code\n\nChange-Id: I86a3cbf4374bc2b083ccd86f75b88490b305eaab\n'}, {'number': 2, 'created': '2020-06-30 19:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5da1a13c82aa363efc447350fce14dfb02104dd2', 'message': 'Cleanup remove api v1 and registry code\n\nChange-Id: I86a3cbf4374bc2b083ccd86f75b88490b305eaab\n'}, {'number': 3, 'created': '2020-07-03 17:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0411051ee1145fde22047f402771bb517e05a651', 'message': 'Cleanup remove api v1 and registry code\n\nChange-Id: I86a3cbf4374bc2b083ccd86f75b88490b305eaab\n'}, {'number': 4, 'created': '2020-07-06 15:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d54797e64f4de7dcb56c27d4a03cb26901c362da', 'message': 'Cleanup remove api v1 and registry code\n\nChange-Id: I86a3cbf4374bc2b083ccd86f75b88490b305eaab\n'}, {'number': 5, 'created': '2020-07-14 10:38:19.000000000', 'files': ['glance/registry/api/v1/images.py', 'glance/registry/api/v1/members.py', 'glance/tests/integration/v2/test_property_quota_violations.py', 'glance/registry/client/v1/__init__.py', 'glance/tests/stubs.py', 'glance/tests/unit/common/test_rpc.py', 'glance/db/registry/__init__.py', 'glance/registry/client/v2/__init__.py', 'glance/registry/client/v2/api.py', 'glance/tests/integration/v2/base.py', 'glance/registry/api/__init__.py', 'glance/registry/api/v1/__init__.py', 'glance/common/config.py', 'glance/registry/client/v1/api.py', 'glance/api/v1/__init__.py', 'glance/hacking/checks.py', 'glance/db/registry/api.py', 'glance/registry/client/v2/client.py', 'glance/opts.py', 'glance/common/rpc.py', 'glance/tests/integration/v2/test_tasks_api.py', 'glance/api/v1/upload_utils.py', 'glance/api/v1/filters.py', 'etc/glance-api-paste.ini', 'glance/api/cached_images.py', 'glance/registry/client/v1/client.py', 'glance/api/v1/router.py', 'glance/registry/client/__init__.py', 'glance/tests/unit/test_cached_images.py', 'glance/tests/functional/__init__.py', 'glance/api/v1/controller.py', 'glance/registry/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/30680961994b36ed12713c0f106b661535ce41c6', 'message': 'Cleanup remove api v1 and registry code\n\nChange-Id: I86a3cbf4374bc2b083ccd86f75b88490b305eaab\n'}]",0,738673,30680961994b36ed12713c0f106b661535ce41c6,48,6,5,5202,,,0,"Cleanup remove api v1 and registry code

Change-Id: I86a3cbf4374bc2b083ccd86f75b88490b305eaab
",git fetch https://review.opendev.org/openstack/glance refs/changes/73/738673/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/registry/api/v1/images.py', 'glance/registry/api/v1/members.py', 'glance/tests/integration/v2/test_property_quota_violations.py', 'glance/registry/client/v1/__init__.py', 'glance/tests/stubs.py', 'glance/tests/unit/common/test_rpc.py', 'glance/db/registry/__init__.py', 'glance/registry/client/v2/__init__.py', 'glance/registry/client/v2/api.py', 'glance/tests/integration/v2/base.py', 'glance/registry/api/__init__.py', 'glance/registry/api/v1/__init__.py', 'glance/common/config.py', 'glance/registry/client/v1/api.py', 'glance/api/v1/__init__.py', 'glance/hacking/checks.py', 'glance/db/registry/api.py', 'glance/registry/client/v2/client.py', 'glance/opts.py', 'glance/common/rpc.py', 'glance/tests/integration/v2/test_tasks_api.py', 'glance/api/v1/upload_utils.py', 'glance/api/v1/filters.py', 'etc/glance-api-paste.ini', 'glance/api/cached_images.py', 'glance/registry/client/v1/client.py', 'glance/api/v1/router.py', 'glance/registry/client/__init__.py', 'glance/tests/unit/test_cached_images.py', 'glance/tests/functional/__init__.py', 'glance/api/v1/controller.py', 'glance/registry/__init__.py']",32,44710187a3f7ba1ef6a966080f71741926d42029,cleanout_registry_simpledb,,"# Copyright 2010-2011 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Registry API """""" from oslo_config import cfg from glance.i18n import _ registry_addr_opts = [ cfg.HostAddressOpt('registry_host', default='0.0.0.0', deprecated_for_removal=True, deprecated_since=""Queens"", deprecated_reason=_("""""" Glance registry service is deprecated for removal. More information can be found from the spec: http://specs.openstack.org/openstack/glance-specs/specs/queens/approved/glance/deprecate-registry.html """"""), help=_("""""" Address the registry server is hosted on. Possible values: * A valid IP or hostname Related options: * None """""")), cfg.PortOpt('registry_port', default=9191, deprecated_for_removal=True, deprecated_since=""Queens"", deprecated_reason=_("""""" Glance registry service is deprecated for removal. More information can be found from the spec: http://specs.openstack.org/openstack/glance-specs/specs/queens/approved/glance/deprecate-registry.html """"""), help=_("""""" Port the registry server is listening on. Possible values: * A valid port number Related options: * None """""")), ] CONF = cfg.CONF CONF.register_opts(registry_addr_opts) ",5,3858
openstack%2Fopenstacksdk~master~I374b03130310e17b01d2b992eebe70658617e297,openstack/openstacksdk,master,I374b03130310e17b01d2b992eebe70658617e297,Functional tests to explicitly use ML2/OVS,MERGED,2020-07-13 14:38:29.000000000,2020-07-14 15:31:17.000000000,2020-07-14 15:27:06.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 14:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e2167f75338aa3dcb46385a3aa454855c6591817', 'message': 'Functional tests to explicitly use ML2/OVS\n\nThe Neutron project is changing DevStack to default to the ML2/OVN\nmechanism driver by default [0] but, a handful of functinal tests\nfor openstacksdk is not backend agnostic (see the Story linked with this\npatch) and needs to be adapted or skipped when running with ML2/OVN. As\na first step, just to unblock the DevStack gate this patch is explicitly\nconfiguring the functional tests to run against ML2/OVS.\n\n[0] ML2/OVS is and will be still full supported by the community.\n\nChange-Id: I374b03130310e17b01d2b992eebe70658617e297\nStory: 2007919\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-07-13 14:40:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c9f6b1043dbc4a0ddb8289b8777c8d97f14a6128', 'message': 'Functional tests to explicitly use ML2/OVS\n\nThe Neutron project is changing DevStack to default to the ML2/OVN\nmechanism driver by default [0] but, a handful of functinal tests\nfor openstacksdk is not backend agnostic (see the Story linked with this\npatch) and needs to be adapted or skipped when running with ML2/OVN. As\na first step, just to unblock the DevStack gate this patch is explicitly\nconfiguring the functional tests to run against ML2/OVS.\n\n[0] ML2/OVS is and will be still full supported by the community.\n\nChange-Id: I374b03130310e17b01d2b992eebe70658617e297\nStory: 2007919\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,740706,c9f6b1043dbc4a0ddb8289b8777c8d97f14a6128,10,2,2,6773,,,0,"Functional tests to explicitly use ML2/OVS

The Neutron project is changing DevStack to default to the ML2/OVN
mechanism driver by default [0] but, a handful of functinal tests
for openstacksdk is not backend agnostic (see the Story linked with this
patch) and needs to be adapted or skipped when running with ML2/OVN. As
a first step, just to unblock the DevStack gate this patch is explicitly
configuring the functional tests to run against ML2/OVS.

[0] ML2/OVS is and will be still full supported by the community.

Change-Id: I374b03130310e17b01d2b992eebe70658617e297
Story: 2007919
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/06/740706/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e2167f75338aa3dcb46385a3aa454855c6591817,ml2-ovs, Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch devstack_services: # OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true, devstack_services:,16,0
openstack%2Fos-net-config~stable%2Ftrain~I50af9f75b01addae0e13830cc7a863072f9be34c,openstack/os-net-config,stable/train,I50af9f75b01addae0e13830cc7a863072f9be34c,Skip VFs configured for DPDKs during NIC ordering,MERGED,2020-05-20 05:15:54.000000000,2020-07-14 15:27:01.000000000,2020-05-21 03:12:01.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-20 05:15:54.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b34a73016ab7d0067bd8e91039861672a49324ee', 'message': 'Skip VFs configured for DPDKs during NIC ordering\n\nDuring NIC ordering all the VFs are expected to be skipped.\nBut if DPDK drivers are bound to a VF, then those VFs are still taken\nin to account and is affecting the NIC ordering. The VFs bound to DPDK\ndrivers also shall be removed from the NIC ordering logic resulting in\nconsistency even with the re-run of os-net-config.\n\nChange-Id: I50af9f75b01addae0e13830cc7a863072f9be34c\n(cherry picked from commit 761b4621b0bb36d2658ca25929b0270e3cfc9c77)\n'}]",0,729509,b34a73016ab7d0067bd8e91039861672a49324ee,11,6,1,18904,,,0,"Skip VFs configured for DPDKs during NIC ordering

During NIC ordering all the VFs are expected to be skipped.
But if DPDK drivers are bound to a VF, then those VFs are still taken
in to account and is affecting the NIC ordering. The VFs bound to DPDK
drivers also shall be removed from the NIC ordering logic resulting in
consistency even with the re-run of os-net-config.

Change-Id: I50af9f75b01addae0e13830cc7a863072f9be34c
(cherry picked from commit 761b4621b0bb36d2658ca25929b0270e3cfc9c77)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/09/729509/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py']",2,b34a73016ab7d0067bd8e91039861672a49324ee,nic_ordering-stable/train," tmp_pci_dir = tempfile.mkdtemp() self.stub_out('os_net_config.utils._SYS_BUS_PCI_DEV', tmp_pci_dir) physfn_path = utils._SYS_BUS_PCI_DEV + '/0000:05:01.1/physfn' os.makedirs(physfn_path) utils._update_dpdk_map('p3p0_0', '0000:05:01.1', 'AA:02:03:04:05:FF', 'vfio-pci') shutil.rmtree(tmp_pci_dir)",,30,1
openstack%2Fproject-config~master~I8fc288e6c3978e20ddf48f905968931f89834e53,openstack/project-config,master,I8fc288e6c3978e20ddf48f905968931f89834e53,maintain-github-mirror: add requests dependency,MERGED,2020-07-13 15:10:15.000000000,2020-07-14 15:26:29.000000000,2020-07-14 15:26:29.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 15:10:15.000000000', 'files': ['playbooks/maintain-github-mirror/run.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/baa350ef2306963958c20742a863ac0b14bad961', 'message': ""maintain-github-mirror: add requests dependency\n\nmaintain-github-mirror makes direct use of the requests module. That\nmodule is currently installed as a dependency of PyGithub, but that's\nbrittle, as PyGithub may well opt for a different library in the\nfuture.\n\nLet's proactively fix that before it bites us.\n\nChange-Id: I8fc288e6c3978e20ddf48f905968931f89834e53\n""}]",0,740711,baa350ef2306963958c20742a863ac0b14bad961,8,4,1,308,,,0,"maintain-github-mirror: add requests dependency

maintain-github-mirror makes direct use of the requests module. That
module is currently installed as a dependency of PyGithub, but that's
brittle, as PyGithub may well opt for a different library in the
future.

Let's proactively fix that before it bites us.

Change-Id: I8fc288e6c3978e20ddf48f905968931f89834e53
",git fetch https://review.opendev.org/openstack/project-config refs/changes/11/740711/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/maintain-github-mirror/run.yaml'],1,baa350ef2306963958c20742a863ac0b14bad961,maintain-github-mirror, - requests,,1,0
openstack%2Ftripleo-quickstart~master~I3c7d3d90b3ad405ab28ff2fe5b1132e51075f449,openstack/tripleo-quickstart,master,I3c7d3d90b3ad405ab28ff2fe5b1132e51075f449,[WIP] Configure openshift-ci with net-iso,ABANDONED,2019-01-25 16:17:06.000000000,2020-07-14 15:26:26.000000000,,"[{'_account_id': 18846}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-25 16:17:06.000000000', 'files': ['config/general_config/featureset033.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1b67fdf627777feb2cea7061d52fad249f0244ca', 'message': '[WIP] Configure openshift-ci with net-iso\n\nChange-Id: I3c7d3d90b3ad405ab28ff2fe5b1132e51075f449\nDepends-On: I6c850d366cf96170ac010dd525fb7e8b508c622b\n'}]",0,633233,1b67fdf627777feb2cea7061d52fad249f0244ca,5,4,1,13039,,,0,"[WIP] Configure openshift-ci with net-iso

Change-Id: I3c7d3d90b3ad405ab28ff2fe5b1132e51075f449
Depends-On: I6c850d366cf96170ac010dd525fb7e8b508c622b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/33/633233/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset033.yml'],1,1b67fdf627777feb2cea7061d52fad249f0244ca,openshift-ovs,"network_isolation: true network_isolation_type: ""multiple-nics"" network_isolation_args: >- -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-isolation-absolute.yaml -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-environment-openshift.yaml ",network_isolation: false - StorageMgmt - Tenant tags: - compute networks: - External - InternalApi - Storage - StorageMgmt - Tenant,6,11
openstack%2Fcinder~stable%2Ftrain~I1fed4a550d60488cf2c47f5342bd30c2d16b1745,openstack/cinder,stable/train,I1fed4a550d60488cf2c47f5342bd30c2d16b1745,WIP dummy change,ABANDONED,2020-01-31 11:05:06.000000000,2020-07-14 15:26:18.000000000,,"[{'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2020-01-31 11:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04f53a1bdca757e3013d0546e181e3d8a8b03120', 'message': 'WIP dummy change\n\nDepends-On: https://review.opendev.org/672804\nChange-Id: I1fed4a550d60488cf2c47f5342bd30c2d16b1745\n'}, {'number': 2, 'created': '2020-01-31 12:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/767fb793f334a51b04f32836e6d68e71d6fa6ebb', 'message': 'WIP dummy change\n\nDepends-On: https://review.opendev.org/672804\nChange-Id: I1fed4a550d60488cf2c47f5342bd30c2d16b1745\n'}, {'number': 3, 'created': '2020-01-31 14:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1dce3b88993e1b8f7a835b548a2f83b8a64c48d', 'message': 'WIP dummy change\n\nDepends-On: https://review.opendev.org/672804\nChange-Id: I1fed4a550d60488cf2c47f5342bd30c2d16b1745\n'}, {'number': 4, 'created': '2020-01-31 17:40:05.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b05ccc5f0b884ebcf6ef2a8d6dad8de530a1df98', 'message': 'WIP dummy change\n\nDepends-On: https://review.opendev.org/672804\nDepends-On: https://review.opendev.org/697212\nChange-Id: I1fed4a550d60488cf2c47f5342bd30c2d16b1745\n'}]",0,705191,b05ccc5f0b884ebcf6ef2a8d6dad8de530a1df98,40,10,4,10459,,,0,"WIP dummy change

Depends-On: https://review.opendev.org/672804
Depends-On: https://review.opendev.org/697212
Change-Id: I1fed4a550d60488cf2c47f5342bd30c2d16b1745
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/705191/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,04f53a1bdca757e3013d0546e181e3d8a8b03120,,,,0,1
openstack%2Ftripleo-heat-templates~master~I6c850d366cf96170ac010dd525fb7e8b508c622b,openstack/tripleo-heat-templates,master,I6c850d366cf96170ac010dd525fb7e8b508c622b,[WIP] Add nic config for openshift all-in-on in CI,ABANDONED,2019-01-25 16:17:13.000000000,2020-07-14 15:26:04.000000000,,"[{'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-01-25 16:17:13.000000000', 'files': ['ci/environments/network/multiple-nics/network-environment-openshift.yaml', 'ci/environments/network/multiple-nics/nic-configs/openshift-allinone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f8288bf81d182004606e9e9a77b037d315c59a9', 'message': '[WIP] Add nic config for openshift all-in-on in CI\n\nChange-Id: I6c850d366cf96170ac010dd525fb7e8b508c622b\n'}]",0,633234,9f8288bf81d182004606e9e9a77b037d315c59a9,4,3,1,13039,,,0,"[WIP] Add nic config for openshift all-in-on in CI

Change-Id: I6c850d366cf96170ac010dd525fb7e8b508c622b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/633234/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/network/multiple-nics/network-environment-openshift.yaml', 'ci/environments/network/multiple-nics/nic-configs/openshift-allinone.yaml']",2,9f8288bf81d182004606e9e9a77b037d315c59a9,bug/1807745,"heat_template_version: rocky parameters: ControlPlaneIp: default: '' description: IP address/subnet on the ctlplane network type: string ExternalIpSubnet: default: '' description: IP address/subnet on the external network type: string ExternalInterfaceRoutes: default: [] description: > Routes for the external network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json ExternalMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the External network. type: number InternalApiIpSubnet: default: '' description: IP address/subnet on the internal_api network type: string InternalApiInterfaceRoutes: default: [] description: > Routes for the internal_api network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json InternalApiMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the InternalApi network. type: number StorageIpSubnet: default: '' description: IP address/subnet on the storage network type: string StorageInterfaceRoutes: default: [] description: > Routes for the storage network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json StorageMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the Storage network. type: number ExternalNetworkVlanID: default: 10 description: Vlan ID for the external network traffic. type: number InternalApiNetworkVlanID: default: 20 description: Vlan ID for the internal_api network traffic. type: number StorageNetworkVlanID: default: 30 description: Vlan ID for the storage network traffic. type: number ExternalInterfaceDefaultRoute: default: '10.0.0.1' description: default route for the external network type: string ControlPlaneSubnetCidr: default: '' description: > The subnet CIDR of the control plane network. (The parameter is automatically resolved from the ctlplane subnet's cidr attribute.) type: string ControlPlaneDefaultRoute: default: '' description: The default route of the control plane network. (The parameter is automatically resolved from the ctlplane subnet's gateway_ip attribute.) type: string ControlPlaneStaticRoutes: default: [] description: > Routes for the ctlplane network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json ControlPlaneMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the network. (The parameter is automatically resolved from the ctlplane network's mtu attribute.) type: number DnsServers: # Override this via parameter_defaults default: [] description: > DNS servers to use for the Overcloud (2 max for some implementations). If not set the nameservers configured in the ctlplane subnet's dns_nameservers attribute will be used. type: comma_delimited_list EC2MetadataIp: default: '' description: The IP address of the EC2 metadata server. (The parameter is automatically resolved from the ctlplane subnet's host_routes attribute.) type: string resources: OsNetConfigImpl: type: OS::Heat::SoftwareConfig properties: group: script config: str_replace: template: get_file: ../../../../../network/scripts/run-os-net-config.sh params: $network_config: network_config: - type: interface name: nic1 mtu: 1350 use_dhcp: false dns_servers: {get_param: DnsServers} addresses: - ip_netmask: list_join: - / - - {get_param: ControlPlaneIp} - {get_param: ControlPlaneSubnetCidr} routes: - ip_netmask: 169.254.169.254/32 next_hop: {get_param: EC2MetadataIp} - type: linux_bridge name: br-management use_dhcp: false members: - type: interface name: nic2 - type: vlan device: br-management vlan_id: {get_param: InternalApiNetworkVlanID} addresses: - ip_netmask: {get_param: InternalApiIpSubnet} - type: vlan device: br-management vlan_id: {get_param: StorageNetworkVlanID} addresses: - ip_netmask: {get_param: StorageIpSubnet} - type: interface name: nic3 mtu: 1350 use_dhcp: false addresses: - ip_netmask: {get_param: ExternalIpSubnet} routes: - ip_netmask: 0.0.0.0/0 next_hop: {get_param: ExternalInterfaceDefaultRoute} outputs: OS::stack_id: description: The OsNetConfigImpl resource. value: {get_resource: OsNetConfigImpl} ",,183,0
openstack%2Fopenstack-zuul-jobs~master~Ic7147170da6fb7f9f86022658a767e058b022ffb,openstack/openstack-zuul-jobs,master,Ic7147170da6fb7f9f86022658a767e058b022ffb,"Enable grenade again for Stein, Rocky and Queens",MERGED,2020-07-09 14:36:50.000000000,2020-07-14 15:25:38.000000000,2020-07-14 15:21:29.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 14:36:50.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1ef655f80caf34cf743dc990ecca4c10fdb2c0f4', 'message': 'Enable grenade again for Stein, Rocky and Queens\n\nDevstack and Tempest jobs were recently fixed for Rocky, Queens and\nPike, now we can restore the grenade testing of Stein, Rocky and\nQueens respectively.\n\nChange-Id: Ic7147170da6fb7f9f86022658a767e058b022ffb\n'}]",1,740310,1ef655f80caf34cf743dc990ecca4c10fdb2c0f4,9,4,1,17685,,,0,"Enable grenade again for Stein, Rocky and Queens

Devstack and Tempest jobs were recently fixed for Rocky, Queens and
Pike, now we can restore the grenade testing of Stein, Rocky and
Queens respectively.

Change-Id: Ic7147170da6fb7f9f86022658a767e058b022ffb
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/10/740310/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,1ef655f80caf34cf743dc990ecca4c10fdb2c0f4,grenade-em-nv, # NOTE(elod.illes): Queens is the first branch where # grenade jobs are working as grenade requires working # Devstack and Tempest on the previous branch branches: ^(?!(stable/(ocata|pike))).*$ # NOTE(elod.illes): Queens is the first branch where # grenade jobs are working as grenade requires working # Devstack and Tempest on the previous branch branches: ^(?!(stable/(ocata|pike))).*$, # NOTE(gmann): Do not run the grenade job for # Extended Maintainance or oldest stable branch. # We need to upate this list when any stable # is moved to Extended Maintainance state. branches: ^(?!(stable/(ocata|pike|queens|rocky|stein))).*$ # NOTE(gmann): Do not run the grenade job for # Extended Maintainance or oldest stable branch. # We need to upate this list when any stable # is moved to Extended Maintainance state. branches: ^(?!(stable/(ocata|pike|queens|rocky|stein))).*$,8,10
openstack%2Ftripleo-heat-templates~master~I4208343239bc3e2a7c47ac2585f2d09e35e31432,openstack/tripleo-heat-templates,master,I4208343239bc3e2a7c47ac2585f2d09e35e31432,[WIP] Order gluster inventory with new nodes last,ABANDONED,2019-03-19 11:10:42.000000000,2020-07-14 15:23:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-19 11:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45056a184645dcf28538f4ae837c0061fd29305a', 'message': '[WIP] Order gluster inventory with new nodes last\n\nJust a hunch this could help with https://bugzilla.redhat.com/show_bug.cgi?id=1653466\n\nChange-Id: I4208343239bc3e2a7c47ac2585f2d09e35e31432\n'}, {'number': 2, 'created': '2019-03-19 17:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c42f3820b22ebb92c5254f39463c8a553d1e17bc', 'message': '[WIP] Order gluster inventory with new nodes last\n\nJust a hunch this could help with https://bugzilla.redhat.com/show_bug.cgi?id=1653466\n\nChange-Id: I4208343239bc3e2a7c47ac2585f2d09e35e31432\n'}, {'number': 3, 'created': '2019-03-20 11:15:33.000000000', 'files': ['extraconfig/services/openshift-cns.yaml', 'extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-node.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4abcff641b8dffd6f776e2a948cb30dab3bcc44', 'message': '[WIP] Order gluster inventory with new nodes last\n\nJust a hunch this could help with https://bugzilla.redhat.com/show_bug.cgi?id=1653466\n\nChange-Id: I4208343239bc3e2a7c47ac2585f2d09e35e31432\n'}]",0,644543,f4abcff641b8dffd6f776e2a948cb30dab3bcc44,10,2,3,13039,,,0,"[WIP] Order gluster inventory with new nodes last

Just a hunch this could help with https://bugzilla.redhat.com/show_bug.cgi?id=1653466

Change-Id: I4208343239bc3e2a7c47ac2585f2d09e35e31432
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/644543/2 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/openshift-cns.yaml', 'extraconfig/services/openshift-node.yaml']",2,45056a184645dcf28538f4ae837c0061fd29305a,tripleo-openshift," # TODO(mandre) stop hardcoding openshift_storage_network: storage openshift_storage_ip: ""{{hostvars[item][openshift_storage_network + '_ip']}}""",,9,6
openstack%2Ftripleo-heat-templates~master~I2fed559a64c73ef1e98b681878d488ea055bcf90,openstack/tripleo-heat-templates,master,I2fed559a64c73ef1e98b681878d488ea055bcf90,Switch openshift deployment to use cri-o,ABANDONED,2019-03-27 16:15:04.000000000,2020-07-14 15:23:13.000000000,,"[{'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-27 16:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d810c8dace3010c8a74ea8a6d020e08a5a6eb6d', 'message': 'Switch openshift deployment to use cri-o\n\nUse the CRI-O container engine instead of Docker for OpenShift as the\ndocker binary may not be available on RHEL8-based images.\n\nhttps://docs.openshift.com/container-platform/3.11/crio/crio_runtime.html\n\nChange-Id: I2fed559a64c73ef1e98b681878d488ea055bcf90\n'}, {'number': 2, 'created': '2019-03-27 17:32:43.000000000', 'files': ['roles/OpenShiftMaster.yaml', 'roles/OpenShiftWorker.yaml', 'extraconfig/services/openshift-cns.yaml', 'extraconfig/services/openshift-master.yaml', 'roles/OpenShiftAllInOne.yaml', 'ci/environments/scenario009-multinode.yaml', 'roles/OpenShiftInfra.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2539dec2d4e0424e8083a66507a7b2c0bc8d811', 'message': 'Switch openshift deployment to use cri-o\n\nUse the CRI-O container engine instead of Docker for OpenShift as the\ndocker binary may not be available on RHEL8-based images.\n\nhttps://docs.openshift.com/container-platform/3.11/crio/crio_runtime.html\n\nChange-Id: I2fed559a64c73ef1e98b681878d488ea055bcf90\n'}]",0,648175,d2539dec2d4e0424e8083a66507a7b2c0bc8d811,7,4,2,13039,,,0,"Switch openshift deployment to use cri-o

Use the CRI-O container engine instead of Docker for OpenShift as the
docker binary may not be available on RHEL8-based images.

https://docs.openshift.com/container-platform/3.11/crio/crio_runtime.html

Change-Id: I2fed559a64c73ef1e98b681878d488ea055bcf90
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/648175/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/OpenShiftMaster.yaml', 'roles/OpenShiftWorker.yaml', 'extraconfig/services/openshift-master.yaml', 'roles/OpenShiftAllInOne.yaml', 'roles/OpenShiftInfra.yaml']",5,6d810c8dace3010c8a74ea8a6d020e08a5a6eb6d,openshift-crio, OpenShiftNodeGroupName: 'node-config-infra-crio', OpenShiftNodeGroupName: 'node-config-infra',6,4
openstack%2Fcinder~master~I8993337017df4deb0fedc1d77b9442c0554d84db,openstack/cinder,master,I8993337017df4deb0fedc1d77b9442c0554d84db,DNM test the coverage link,ABANDONED,2020-07-02 16:45:19.000000000,2020-07-14 15:23:07.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 31254}]","[{'number': 1, 'created': '2020-07-02 16:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd6da3665283163d1147f287edf3d6cd7c3bf32d', 'message': 'DNM test the coverage link\n\nDepends-On: https://review.opendev.org/739099\nChange-Id: I8993337017df4deb0fedc1d77b9442c0554d84db\n'}, {'number': 2, 'created': '2020-07-02 16:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d59a70b825db0c9f308ae7ce3b3e94a0f3f266d', 'message': 'DNM test the coverage link\n\nDepends-On: https://review.opendev.org/739099\nChange-Id: I8993337017df4deb0fedc1d77b9442c0554d84db\n'}, {'number': 3, 'created': '2020-07-02 17:02:27.000000000', 'files': ['cinder/tests/fake_driver.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b8b8cb0f8241a464efbac9e0aa46ff9bef6a170', 'message': 'DNM test the coverage link\n\nDepends-On: https://review.opendev.org/739099\nChange-Id: I8993337017df4deb0fedc1d77b9442c0554d84db\n'}]",0,739100,4b8b8cb0f8241a464efbac9e0aa46ff9bef6a170,72,27,3,10459,,,0,"DNM test the coverage link

Depends-On: https://review.opendev.org/739099
Change-Id: I8993337017df4deb0fedc1d77b9442c0554d84db
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/739100/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/fake_driver.py', '.zuul.yaml']",2,dd6da3665283163d1147f287edf3d6cd7c3bf32d,add-coverage-job, #- publish-openstack-docs-pti #- periodic-stable-jobs #- integrated-gate-storage #- cinder-rally-task: # voting: false #- openstack-tox-pylint: # voting: false # timeout: 5400 # irrelevant-files: *functional-irrelevant-files #- cinder-plugin-ceph-tempest: # irrelevant-files: &gate-irrelevant-files # - ^(test-|)requirements.txt$ # - ^lower-constraints.txt$ # - ^.*\.rst$ # - ^api-ref/.*$ # - ^cinder/cmd/status\.py$ # - ^cinder/locale/.*$ # - ^cinder/tests/functional.*$ # - ^cinder/tests/hacking/.*$ # - ^cinder/tests/unit.*$ # - ^contrib/block-box.*$ # - ^doc/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^tox.ini$ #- cinder-tempest-plugin-lvm-lio-barbican: # irrelevant-files: *functional-irrelevant-files #- cinder-grenade-mn-sub-volbak: # irrelevant-files: *gate-irrelevant-files #- cinder-tempest-lvm-multibackend: # voting: false # irrelevant-files: *gate-irrelevant-files #- devstack-plugin-nfs-tempest-full: # voting: false # irrelevant-files: *gate-irrelevant-files #- tempest-slow-py3: # irrelevant-files: *gate-irrelevant-files #- tempest-integrated-storage: # irrelevant-files: *gate-irrelevant-files #- grenade: # irrelevant-files: *gate-irrelevant-files #- tempest-ipv6-only: # irrelevant-files: *gate-irrelevant-files, - publish-openstack-docs-pti - periodic-stable-jobs - integrated-gate-storage - cinder-rally-task: voting: false - openstack-tox-pylint: voting: false timeout: 5400 irrelevant-files: *functional-irrelevant-files - cinder-plugin-ceph-tempest: irrelevant-files: &gate-irrelevant-files - ^(test-|)requirements.txt$ - ^lower-constraints.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/cmd/status\.py$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/hacking/.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - cinder-tempest-plugin-lvm-lio-barbican: irrelevant-files: *functional-irrelevant-files - cinder-grenade-mn-sub-volbak: irrelevant-files: *gate-irrelevant-files - cinder-tempest-lvm-multibackend: voting: false irrelevant-files: *gate-irrelevant-files - devstack-plugin-nfs-tempest-full: voting: false irrelevant-files: *gate-irrelevant-files - tempest-slow-py3: irrelevant-files: *gate-irrelevant-files - tempest-integrated-storage: irrelevant-files: *gate-irrelevant-files - grenade: irrelevant-files: *gate-irrelevant-files - tempest-ipv6-only: irrelevant-files: *gate-irrelevant-files,45,45
openstack%2Fopenstack-virtual-baremetal~master~Ieca4864e069148abb49eb709bf7f48a14ef04e77,openstack/openstack-virtual-baremetal,master,Ieca4864e069148abb49eb709bf7f48a14ef04e77,Add allocation-pool support for the public_net,MERGED,2020-06-04 12:46:47.000000000,2020-07-14 15:21:01.000000000,2020-07-14 15:21:01.000000000,"[{'_account_id': 6928}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-06-04 12:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/c616aa690ecf52b317e0299283cb6e2940754692', 'message': ""Add allocation-pool support for the public_net\n\nTripleO CI uses 10.0.0.1 statically for the undercloud's\npublic interface. When using extra node in some job's\nthere is sometime a conflict, because the extra node get's\nthe 10.0.0.1 address allocated.\n\nAdding support to define the allocation pools on the\npublic_net allows TripleO CI to define a pool with the\n10.0.0.1 address eliminated.\n\nA good practice would be to set up OVB to use\n[{start: 10.0.0.128, end: 10.0.0.253}], and then configure\nthe undercloud/overcloud deployed on the OVB infrastructure\nto use addresses in the range 10.0.0.1-10.0.0.127.\n\nThe parameter public_net_allocation_pools controls the\nallocation pool setting, by default all addresses of the\nsubnet is in the pool.\n\nRelated-Bug: #1874418\nChange-Id: Ieca4864e069148abb49eb709bf7f48a14ef04e77\n""}, {'number': 2, 'created': '2020-07-10 20:15:06.000000000', 'files': ['templates/undercloud-networks.yaml', 'sample-env-generator/environments.yaml', 'templates/undercloud-networks-existing.yaml', 'environments/base.yaml', 'templates/undercloud-networks-public-router.yaml', 'templates/undercloud-networks-routed.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/ccec11f9c870a49909255b1d67f1f5042993de0e', 'message': ""Add allocation-pool support for the public_net\n\nTripleO CI uses 10.0.0.1 statically for the undercloud's\npublic interface. When using extra node in some job's\nthere is sometime a conflict, because the extra node get's\nthe 10.0.0.1 address allocated.\n\nAdding support to define the allocation pools on the\npublic_net allows TripleO CI to define a pool with the\n10.0.0.1 address eliminated.\n\nA good practice would be to set up OVB to use\n[{start: 10.0.0.128, end: 10.0.0.253}], and then configure\nthe undercloud/overcloud deployed on the OVB infrastructure\nto use addresses in the range 10.0.0.1-10.0.0.127.\n\nThe parameter public_net_allocation_pools controls the\nallocation pool setting, by default all addresses of the\nsubnet is in the pool.\n\nRelated-Bug: #1874418\nChange-Id: Ieca4864e069148abb49eb709bf7f48a14ef04e77\n""}]",4,733598,ccec11f9c870a49909255b1d67f1f5042993de0e,22,8,2,24245,,,0,"Add allocation-pool support for the public_net

TripleO CI uses 10.0.0.1 statically for the undercloud's
public interface. When using extra node in some job's
there is sometime a conflict, because the extra node get's
the 10.0.0.1 address allocated.

Adding support to define the allocation pools on the
public_net allows TripleO CI to define a pool with the
10.0.0.1 address eliminated.

A good practice would be to set up OVB to use
[{start: 10.0.0.128, end: 10.0.0.253}], and then configure
the undercloud/overcloud deployed on the OVB infrastructure
to use addresses in the range 10.0.0.1-10.0.0.127.

The parameter public_net_allocation_pools controls the
allocation pool setting, by default all addresses of the
subnet is in the pool.

Related-Bug: #1874418
Change-Id: Ieca4864e069148abb49eb709bf7f48a14ef04e77
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/98/733598/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/undercloud-networks.yaml', 'sample-env-generator/environments.yaml', 'templates/undercloud-networks-existing.yaml', 'environments/base.yaml', 'templates/undercloud-networks-public-router.yaml', 'templates/undercloud-networks-routed.yaml']",6,c616aa690ecf52b317e0299283cb6e2940754692,bug/1874418, public_net_allocation_pools: type: comma_delimited_list description: Allocation Pools for the public network default: [] allocation_pools: {get_param: public_net_allocation_pools},,39,0
openstack%2Fzun-ui~stable%2Fussuri~I5a58cedffe0b6ada17c3aa0484725e4711b8914f,openstack/zun-ui,stable/ussuri,I5a58cedffe0b6ada17c3aa0484725e4711b8914f,Fix npm jobs,MERGED,2020-07-14 13:49:53.000000000,2020-07-14 15:13:57.000000000,2020-07-14 15:12:17.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 13:49:53.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/c4114bd4d1612a3610ddf4838528d587e219e619', 'message': 'Fix npm jobs\n\nhorizon is doing frequent releases, the install from source is not\nworking as is anymore. Remove it.\n\nChange-Id: I5a58cedffe0b6ada17c3aa0484725e4711b8914f\n'}]",0,740964,c4114bd4d1612a3610ddf4838528d587e219e619,7,2,1,29313,,,0,"Fix npm jobs

horizon is doing frequent releases, the install from source is not
working as is anymore. Remove it.

Change-Id: I5a58cedffe0b6ada17c3aa0484725e4711b8914f
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/64/740964/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,c4114bd4d1612a3610ddf4838528d587e219e619,," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt ../horizon; fi"",",1,1
openstack%2Ftripleo-upgrade~master~I35df29521c1807113710d7d6cc039551400ebe2f,openstack/tripleo-upgrade,master,I35df29521c1807113710d7d6cc039551400ebe2f,Fix RUN_ANSWER unbount variable issue,MERGED,2020-07-14 10:06:28.000000000,2020-07-14 15:10:19.000000000,2020-07-14 14:51:04.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 10:06:28.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/81314a4546c6f98c2e0de6898faf54ae8220a4e3', 'message': 'Fix RUN_ANSWER unbount variable issue\n\nSince merging Ibb0676e7a3d97645e4e8a2553e7ec175e96a14b4\n""Add --yes into update commands to autoconfirm."" into stable/train\nmy FFU attempts are failing with:\n/home/stack/overcloud_system_upgrade-controller-0.sh: line 11: RUN_ANSWER: unbound variable\n\nReason for this is that RUN_ANSWER gets set only inside the if ceph_osd_enabled\nbranch, which in my case is false. Let\'s move setting that variable\noutside the if so it gets set everytime.\n\nThis script seems to be the only one where it was inadvertently left\ninside the if.\n\nChange-Id: I35df29521c1807113710d7d6cc039551400ebe2f\n'}]",2,740930,81314a4546c6f98c2e0de6898faf54ae8220a4e3,11,3,1,20172,,,0,"Fix RUN_ANSWER unbount variable issue

Since merging Ibb0676e7a3d97645e4e8a2553e7ec175e96a14b4
""Add --yes into update commands to autoconfirm."" into stable/train
my FFU attempts are failing with:
/home/stack/overcloud_system_upgrade-controller-0.sh: line 11: RUN_ANSWER: unbound variable

Reason for this is that RUN_ANSWER gets set only inside the if ceph_osd_enabled
branch, which in my case is false. Let's move setting that variable
outside the if so it gets set everytime.

This script seems to be the only one where it was inadvertently left
inside the if.

Change-Id: I35df29521c1807113710d7d6cc039551400ebe2f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/30/740930/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'],1,81314a4546c6f98c2e0de6898faf54ae8220a4e3,fix-runanswer,"RUN_ANSWER="""" if openstack overcloud upgrade run --help | grep -qe ""--yes""; then RUN_ANSWER=""--yes"" fi ","RUN_ANSWER="""" if openstack overcloud upgrade run --help | grep -qe ""--yes""; then RUN_ANSWER=""--yes"" fi ",5,5
openstack%2Fopenstackdocstheme~master~I44b797e00be065e36cb3e7b447c83f8ab5fd69b5,openstack/openstackdocstheme,master,I44b797e00be065e36cb3e7b447c83f8ab5fd69b5,Add version dropdown on docs.starlingx.io,MERGED,2020-07-08 17:43:39.000000000,2020-07-14 15:08:29.000000000,2020-07-14 15:06:32.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30859}]","[{'number': 1, 'created': '2020-07-08 17:43:39.000000000', 'files': ['openstackdocstheme/theme/starlingxdocs/titlerow.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/0ef4eb20b4c74c70b934e6dca48525328c0577dd', 'message': 'Add version dropdown on docs.starlingx.io\n\nThis patch adds the version dropdown from the openstackdocstheme to the\nstarlingxdocstheme. Change will allow users to view different versions\nof StarlingX documentation.\n\nChange-Id: I44b797e00be065e36cb3e7b447c83f8ab5fd69b5\nSigned-off-by: MCamp859 <maryx.camp@intel.com>\n'}]",0,740072,0ef4eb20b4c74c70b934e6dca48525328c0577dd,12,7,1,30859,,,0,"Add version dropdown on docs.starlingx.io

This patch adds the version dropdown from the openstackdocstheme to the
starlingxdocstheme. Change will allow users to view different versions
of StarlingX documentation.

Change-Id: I44b797e00be065e36cb3e7b447c83f8ab5fd69b5
Signed-off-by: MCamp859 <maryx.camp@intel.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/72/740072/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/starlingxdocs/titlerow.html'],1,0ef4eb20b4c74c70b934e6dca48525328c0577dd,add-stx-version," {%- block otherversions %} {%- if other_versions %} <div class=""version-dropdown""> <span>{{ _('version') }}</span> <div class=""version-dropdown-content""> {%- for ver in other_versions: %} <p><a href=""../{{pathto(ver, 1) }}"" rel=""nofollow"">{{ ver }}</a></p> {%- endfor %} </div> </div> {%- endif %} {%- endblock %}",,12,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I40a75a14a5bb4e898229b6f2306bf4a784f26cf7,openstack/tripleo-ansible,stable/ussuri,I40a75a14a5bb4e898229b6f2306bf4a784f26cf7,tripleo_container_manage: only run exec/create playbooks when needed,MERGED,2020-07-13 21:16:44.000000000,2020-07-14 15:06:00.000000000,2020-07-14 15:06:00.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-13 21:16:44.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/manage.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/831e6f6f662ab764812dec53f4d00659c7710e64', 'message': 'tripleo_container_manage: only run exec/create playbooks when needed\n\nOnly run these playbooks when there are some containers to manage with\nexec/create actions.\n\nChange-Id: I40a75a14a5bb4e898229b6f2306bf4a784f26cf7\n(cherry picked from commit 636d7c1759666699e975c1bd04049c581e4a5fe3)\n'}]",0,740810,831e6f6f662ab764812dec53f4d00659c7710e64,7,3,1,3153,,,0,"tripleo_container_manage: only run exec/create playbooks when needed

Only run these playbooks when there are some containers to manage with
exec/create actions.

Change-Id: I40a75a14a5bb4e898229b6f2306bf4a784f26cf7
(cherry picked from commit 636d7c1759666699e975c1bd04049c581e4a5fe3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/10/740810/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/manage.yml'],1,831e6f6f662ab764812dec53f4d00659c7710e64,batch-stable/ussuri," when: - ((batched_container_data | haskey(attribute='action', value='exec') | default([])) | length > 0) when: - ((batched_container_data | haskey(attribute='action', reverse=True) | default([])) | length > 0)",,4,0
openstack%2Fmagnum-ui~stable%2Ftrain~I958f51d845f137ac20c1cdce8f55a3172e13246e,openstack/magnum-ui,stable/train,I958f51d845f137ac20c1cdce8f55a3172e13246e,Fix npm jobs,MERGED,2020-07-13 18:58:55.000000000,2020-07-14 15:02:07.000000000,2020-07-14 14:59:19.000000000,"[{'_account_id': 6547}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-07-13 18:58:55.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/304866417dd09bb9d3da238c4305d05b56a9bc56', 'message': 'Fix npm jobs\n\nhorizon is doing frequent releases, the install from source is not\nworking as is anymore. Remove it.\n\nChange-Id: I958f51d845f137ac20c1cdce8f55a3172e13246e\n(cherry picked from commit dbbe877c4b9ad41904a2eea7f4e0aa0fc65f9c73)\n'}]",0,740751,304866417dd09bb9d3da238c4305d05b56a9bc56,8,4,1,29313,,,0,"Fix npm jobs

horizon is doing frequent releases, the install from source is not
working as is anymore. Remove it.

Change-Id: I958f51d845f137ac20c1cdce8f55a3172e13246e
(cherry picked from commit dbbe877c4b9ad41904a2eea7f4e0aa0fc65f9c73)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/51/740751/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,304866417dd09bb9d3da238c4305d05b56a9bc56,fix-jobs-stable/train," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt ../horizon; fi"",",1,1
openstack%2Fcharm-ceph-mon~master~Idf3468d9ae28dafc09c86f08b7f8c6470a665b7a,openstack/charm-ceph-mon,master,Idf3468d9ae28dafc09c86f08b7f8c6470a665b7a,Enable passing of integer value for pool-set action,MERGED,2020-07-02 13:59:12.000000000,2020-07-14 15:01:56.000000000,2020-07-14 15:01:56.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-02 13:59:12.000000000', 'files': ['actions/pool_set.py', 'lib/charms_ceph/broker.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b34d85ee81769a39e34d540699d4b5cf392736ae', 'message': 'Enable passing of integer value for pool-set action\n\nEnable passing of an integer to the pool-set function.  Due to how juju\nappears to parse things on the command line, setting type to string\ncauses it to fail to accept \'3\', ""3"" or 3 as a string.  Only ""\'3\'""\nworks.  However, if we remove the type from actions.yaml and do the\nvalidation in the charm, any value can be passed.\n\nDepends-On: I6081c23af61fd5e872982ff477b0a5cb27141d11\n\nChange-Id: Idf3468d9ae28dafc09c86f08b7f8c6470a665b7a\nCloses-Bug: #1838650\n'}]",0,739048,b34d85ee81769a39e34d540699d4b5cf392736ae,10,4,1,20870,,,0,"Enable passing of integer value for pool-set action

Enable passing of an integer to the pool-set function.  Due to how juju
appears to parse things on the command line, setting type to string
causes it to fail to accept '3', ""3"" or 3 as a string.  Only ""'3'""
works.  However, if we remove the type from actions.yaml and do the
validation in the charm, any value can be passed.

Depends-On: I6081c23af61fd5e872982ff477b0a5cb27141d11

Change-Id: Idf3468d9ae28dafc09c86f08b7f8c6470a665b7a
Closes-Bug: #1838650
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/48/739048/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/pool_set.py', 'lib/charms_ceph/broker.py', 'actions.yaml']",3,b34d85ee81769a39e34d540699d4b5cf392736ae,bug/1838650," # LP: #1838650 - unfortunately, Juju appears to consider '3' on the # command line as not being a string, and has to be quoted as ""'3'"". So, # we actually let the charm do the verification, and let any value # through here.", type: string,19,3
openstack%2Fcharm-mysql-innodb-cluster~master~I9cb4937207fcd0b8045b8b67f63c5e9397decfb4,openstack/charm-mysql-innodb-cluster,master,I9cb4937207fcd0b8045b8b67f63c5e9397decfb4,Reuse database connections.,MERGED,2020-06-11 17:55:25.000000000,2020-07-14 15:01:34.000000000,2020-07-14 15:01:34.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-11 17:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/639d0b0e9833b1226c972ece6df03fbc897dfc0f', 'message': 'Reuse database connections.\n\nThis PR should only speed up charm hook execution be reusing database\nconnections. Tested with ~35 client units connected to the shared-db\nrelation and execution time of db_router_respond dripped from >5mins\nto ~1min.\n\nTested with https://github.com/juju/charm-helpers/pull/478\n\nChange-Id: I9cb4937207fcd0b8045b8b67f63c5e9397decfb4\n'}, {'number': 2, 'created': '2020-07-08 11:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/d7d39b31971eec9753a48928b06ad3732425549a', 'message': 'Reuse database connections.\n\nThis PR should only speed up charm hook execution be reusing database\nconnections. Tested with ~35 client units connected to the shared-db\nrelation and execution time of db_router_respond dripped from >5mins\nto ~1min.\n\nTested with https://github.com/juju/charm-helpers/pull/478\n\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I9cb4937207fcd0b8045b8b67f63c5e9397decfb4\n'}, {'number': 3, 'created': '2020-07-08 12:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/468e88e092639e348664b97791bebc8284f54572', 'message': 'Reuse database connections.\n\nThis PR should only speed up charm hook execution be reusing database\nconnections. Tested with ~35 client units connected to the shared-db\nrelation and execution time of db_router_respond dripped from >5mins\nto ~1min.\n\nTested with https://github.com/juju/charm-helpers/pull/478\n\nChange-Id: I9cb4937207fcd0b8045b8b67f63c5e9397decfb4\n'}, {'number': 4, 'created': '2020-07-09 13:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/dfa4cf1313bf8715afbe3e6b4deb017024c625ca', 'message': 'Reuse database connections.\n\nThis PR should only speed up charm hook execution be reusing database\nconnections. Tested with ~35 client units connected to the shared-db\nrelation and execution time of db_router_respond dripped from >5mins\nto ~1min.\n\nTested with https://github.com/juju/charm-helpers/pull/478\n\nChange-Id: I9cb4937207fcd0b8045b8b67f63c5e9397decfb4\n'}, {'number': 5, 'created': '2020-07-12 09:02:15.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ecb0062f721ac9d674e287b50a1dd50fc07b8ece', 'message': 'Reuse database connections.\n\nThis PR should only speed up charm hook execution be reusing database\nconnections. Tested with ~35 client units connected to the shared-db\nrelation and execution time of db_router_respond dripped from >5mins\nto ~1min.\n\nTested with https://github.com/juju/charm-helpers/pull/478\n\nChange-Id: I9cb4937207fcd0b8045b8b67f63c5e9397decfb4\n'}]",0,735206,ecb0062f721ac9d674e287b50a1dd50fc07b8ece,39,5,5,12549,,,0,"Reuse database connections.

This PR should only speed up charm hook execution be reusing database
connections. Tested with ~35 client units connected to the shared-db
relation and execution time of db_router_respond dripped from >5mins
to ~1min.

Tested with https://github.com/juju/charm-helpers/pull/478

Change-Id: I9cb4937207fcd0b8045b8b67f63c5e9397decfb4
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/06/735206/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",2,639d0b0e9833b1226c972ece6df03fbc897dfc0f,perfomance," def get_allowed_units(self, database, username, relation_id, db_helper=None): if not db_helper: db_helper = self.get_db_helper() db_host = ch_net_ip.get_relation_ip(interface.endpoint_name) db_helper = self.get_db_helper() rw_helper = self.get_cluster_rw_db_helper() for unit in interface.all_joined_units: hostname, database, username, rw_helper=rw_helper) unit.relation.relation_id, db_helper=db_helper) password = self.configure_db_router( hostname, username, rw_helper=rw_helper) def configure_db_for_hosts(self, hosts, database, username, rw_helper=None): :param rw_helper: Instance of MySQL8Helper :type rw_helper: charmhelpers.contrib.database.mysql.MySQL8Helper if not rw_helper: rw_helper = self.get_cluster_rw_db_helper() def configure_db_router(self, hosts, username, rw_helper=None): :param rw_helper: Instance of MySQL8Helper :type rw_helper: charmhelpers.contrib.database.mysql.MySQL8Helper if not rw_helper: rw_helper = self.get_cluster_rw_db_helper()"," def get_allowed_units(self, database, username, relation_id): db_helper = self.get_db_helper() for unit in interface.all_joined_units: db_host = ch_net_ip.get_relation_ip(interface.endpoint_name) hostname, database, username) unit.relation.relation_id) password = self.configure_db_router(hostname, username) def configure_db_for_hosts(self, hosts, database, username): rw_helper = self.get_cluster_rw_db_helper() def configure_db_router(self, hosts, username): rw_helper = self.get_cluster_rw_db_helper()",79,33
openstack%2Fmagnum-ui~stable%2Fussuri~I958f51d845f137ac20c1cdce8f55a3172e13246e,openstack/magnum-ui,stable/ussuri,I958f51d845f137ac20c1cdce8f55a3172e13246e,Fix npm jobs,MERGED,2020-07-13 18:57:40.000000000,2020-07-14 14:53:28.000000000,2020-07-14 14:51:53.000000000,"[{'_account_id': 6547}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-07-13 18:57:40.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/1852c359d8d4c8726e2c4246cee9ed22ee806399', 'message': 'Fix npm jobs\n\nhorizon is doing frequent releases, the install from source is not\nworking as is anymore. Remove it.\n\nChange-Id: I958f51d845f137ac20c1cdce8f55a3172e13246e\n(cherry picked from commit dbbe877c4b9ad41904a2eea7f4e0aa0fc65f9c73)\n'}]",0,740750,1852c359d8d4c8726e2c4246cee9ed22ee806399,8,4,1,29313,,,0,"Fix npm jobs

horizon is doing frequent releases, the install from source is not
working as is anymore. Remove it.

Change-Id: I958f51d845f137ac20c1cdce8f55a3172e13246e
(cherry picked from commit dbbe877c4b9ad41904a2eea7f4e0aa0fc65f9c73)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/50/740750/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,1852c359d8d4c8726e2c4246cee9ed22ee806399,fix-jobs-stable/ussuri," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt ../horizon; fi"",",1,1
openstack%2Fproject-config~master~Ic2f7c1d106a43126492349180518cbefaba59624,openstack/project-config,master,Ic2f7c1d106a43126492349180518cbefaba59624,Add openstack/horizon to the vexxhost tenant,MERGED,2020-07-14 14:06:22.000000000,2020-07-14 14:52:47.000000000,2020-07-14 14:43:15.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 14:06:22.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b92c5159cfc30564abef71049e9a07e77b2e4f10', 'message': 'Add openstack/horizon to the vexxhost tenant\n\nChange-Id: Ic2f7c1d106a43126492349180518cbefaba59624\n'}]",0,740969,b92c5159cfc30564abef71049e9a07e77b2e4f10,10,3,1,31746,,,0,"Add openstack/horizon to the vexxhost tenant

Change-Id: Ic2f7c1d106a43126492349180518cbefaba59624
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/740969/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,b92c5159cfc30564abef71049e9a07e77b2e4f10,, - openstack/horizon,,1,0
openstack%2Fpython-magnumclient~master~Idff7f518485528da45430ae85a1580ed9d306330,openstack/python-magnumclient,master,Idff7f518485528da45430ae85a1580ed9d306330,Use overlay2 driver by default,MERGED,2020-07-10 14:33:42.000000000,2020-07-14 14:50:03.000000000,2020-07-14 14:48:12.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 14:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/a2e3e503afa486ce36ebbd8e8377a33e3948c33c', 'message': 'Use overlay2 driver by default\n\nAlso print deprecation message for devicemapper and overlay.\n\nChange-Id: Idff7f518485528da45430ae85a1580ed9d306330\n'}, {'number': 2, 'created': '2020-07-10 14:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/aa51f8eb3d304ac1e44a463b8846543e5020ddeb', 'message': 'Use overlay2 driver by default\n\nAlso print deprecation message for devicemapper and overlay.\n\nChange-Id: Idff7f518485528da45430ae85a1580ed9d306330\n'}, {'number': 3, 'created': '2020-07-10 15:22:45.000000000', 'files': ['magnumclient/osc/v1/cluster_templates.py', 'magnumclient/tests/osc/unit/v1/test_cluster_templates.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/3da3b4896fa5f7525a346966501c80ab971c8706', 'message': 'Use overlay2 driver by default\n\nAlso print deprecation message for devicemapper and overlay.\n\nChange-Id: Idff7f518485528da45430ae85a1580ed9d306330\n'}]",1,740482,3da3b4896fa5f7525a346966501c80ab971c8706,12,3,3,28022,,,0,"Use overlay2 driver by default

Also print deprecation message for devicemapper and overlay.

Change-Id: Idff7f518485528da45430ae85a1580ed9d306330
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/82/740482/2 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/osc/v1/cluster_templates.py'],1,a2e3e503afa486ce36ebbd8e8377a33e3948c33c,clone," default='overlay2', 'overlay, overlay2. Default: overlay2')) deprecated = ['devicemapper', 'overlay'] if args['docker_storage_driver'] in deprecated: print(""WARNING: Docker storage drivers %s are deprecated and will be "" ""be removed in a future release. Use overlay2 instead."" % deprecated) "," default='devicemapper', 'overlay. Default: devicemapper'))",8,2
openstack%2Fglance~master~Iac75956e314ec6f41db18430486bd8be9754e780,openstack/glance,master,Iac75956e314ec6f41db18430486bd8be9754e780,Make import task capable of running as admin on behalf of user,MERGED,2020-06-25 20:33:18.000000000,2020-07-14 14:45:19.000000000,2020-07-14 14:40:37.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 20:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/06b8875b8a8f93eead8ddf44edbc7e870f29b666', 'message': 'WIP: Admin import action wrapper\n\nThis is a PoC of my proposed way to encapsulate admin metadata\nmanipulation for copy-image imports.\n\nChange-Id: Iac75956e314ec6f41db18430486bd8be9754e780\n'}, {'number': 2, 'created': '2020-06-30 17:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/09c9c141f629dfc024c15055ffdd44135d8ee49c', 'message': 'WIP: Admin import action wrapper\n\nThis is a PoC of my proposed way to encapsulate admin metadata\nmanipulation for copy-image imports.\n\nChange-Id: Iac75956e314ec6f41db18430486bd8be9754e780\n'}, {'number': 3, 'created': '2020-06-30 21:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/316d45f02910855b5078ef1e4a34134aa7018d2c', 'message': 'Make import task capable of running as admin on behalf of user\n\nThis makes the api_image_import task capable of running as an admin on\nbehalf of a user if so authorized by the API. It includes a new object\ncalled ImportActionWrapper which provides a bundle of utility methods\nwhich can be run either against the user-authorized or admin-authorized\nImageRepo passed in from the API. It encapsulates all the actions\nwe are able and willing to run as an admin for the user.\n\nThis is currently not drivable by the API because the policy check is\nstill statically defined as ""admin or owner"" but this change is\noffered without any needed modification to the functional tests to\nprove that it does not regress existing functionality. The following\npatch will introduce a more robust knob for allowing users to do this,\nand it brings the functional test changes with it.\n\nChange-Id: Iac75956e314ec6f41db18430486bd8be9754e780\n'}, {'number': 4, 'created': '2020-07-01 15:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/55e0eff6e0dbb1399e4e96bf0f268caced6f9eef', 'message': 'Make import task capable of running as admin on behalf of user\n\nThis makes the api_image_import task capable of running as an admin on\nbehalf of a user if so authorized by the API. It includes a new object\ncalled ImportActionWrapper which provides a bundle of utility methods\nwhich can be run either against the user-authorized or admin-authorized\nImageRepo passed in from the API. It encapsulates all the actions\nwe are able and willing to run as an admin for the user.\n\nThis is currently not drivable by the API because the policy check is\nstill statically defined as ""admin or owner"" but this change is\noffered without any needed modification to the functional tests to\nprove that it does not regress existing functionality. The following\npatch will introduce a more robust knob for allowing users to do this,\nand it brings the functional test changes with it.\n\nChange-Id: Iac75956e314ec6f41db18430486bd8be9754e780\n'}, {'number': 5, 'created': '2020-07-09 14:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7673ce0750fa439d47c782905a039f6ab7aa1658', 'message': 'Make import task capable of running as admin on behalf of user\n\nThis makes the api_image_import task capable of running as an admin on\nbehalf of a user if so authorized by the API. It includes a new object\ncalled ImportActionWrapper which provides a bundle of utility methods\nwhich can be run either against the user-authorized or admin-authorized\nImageRepo passed in from the API. It encapsulates all the actions\nwe are able and willing to run as an admin for the user.\n\nThis is currently not drivable by the API because the policy check is\nstill statically defined as ""admin or owner"" but this change is\noffered without any needed modification to the functional tests to\nprove that it does not regress existing functionality. The following\npatch will introduce a more robust knob for allowing users to do this,\nand it brings the functional test changes with it.\n\nChange-Id: Iac75956e314ec6f41db18430486bd8be9754e780\n'}, {'number': 6, 'created': '2020-07-10 15:59:47.000000000', 'files': ['glance/api/v2/images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2fd0c2573311db6a50228ed22adf8bc2b5638cfe', 'message': 'Make import task capable of running as admin on behalf of user\n\nThis makes the api_image_import task capable of running as an admin on\nbehalf of a user if so authorized by the API. It includes a new object\ncalled ImportActionWrapper which provides a bundle of utility methods\nwhich can be run either against the user-authorized or admin-authorized\nImageRepo passed in from the API. It encapsulates all the actions\nwe are able and willing to run as an admin for the user.\n\nThis is currently not drivable by the API because the policy check is\nstill statically defined as ""admin or owner"" but this change is\noffered without any needed modification to the functional tests to\nprove that it does not regress existing functionality. The following\npatch will introduce a more robust knob for allowing users to do this,\nand it brings the functional test changes with it.\n\nChange-Id: Iac75956e314ec6f41db18430486bd8be9754e780\n'}]",6,738103,2fd0c2573311db6a50228ed22adf8bc2b5638cfe,43,7,6,4393,,,0,"Make import task capable of running as admin on behalf of user

This makes the api_image_import task capable of running as an admin on
behalf of a user if so authorized by the API. It includes a new object
called ImportActionWrapper which provides a bundle of utility methods
which can be run either against the user-authorized or admin-authorized
ImageRepo passed in from the API. It encapsulates all the actions
we are able and willing to run as an admin for the user.

This is currently not drivable by the API because the policy check is
still statically defined as ""admin or owner"" but this change is
offered without any needed modification to the functional tests to
prove that it does not regress existing functionality. The following
patch will introduce a more robust knob for allowing users to do this,
and it brings the functional test changes with it.

Change-Id: Iac75956e314ec6f41db18430486bd8be9754e780
",git fetch https://review.opendev.org/openstack/glance refs/changes/03/738103/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",4,06b8875b8a8f93eead8ddf44edbc7e870f29b666,bp/copy-unowned-image," def test_init_copy_flow_as_non_owner(self, mock_import): img_repo = mock.MagicMock() admin_repo = mock.MagicMock() fake_img = mock.MagicMock() fake_img.id = IMAGE_ID1 fake_img.status = 'active' fake_img.extra_properties = {} admin_repo.get.return_value = fake_img import_flow.get_flow(task_id=TASK_ID1, task_type=TASK_TYPE, task_repo=mock.MagicMock(), image_repo=img_repo, admin_repo=admin_repo, image_id=IMAGE_ID1, import_req=fake_req, backend=['cheap']) # Assert that we saved the image with the admin repo instead of the # user-context one at the end of get_flow() when we initialize the # parameters. admin_repo.save.assert_called_once_with(fake_img, 'active') img_repo.save.assert_not_called()","from glance.api import authorizationfrom glance.common import exception def test_copy_as_non_owner(self, mock_import): img_repo_db = mock.MagicMock() img_repo = authorization.ImageRepoProxy(img_repo_db, self.context) # FIXME(danms): Right now, this fails with Forbidden because we # don't own the image self.assertRaises(exception.Forbidden, import_flow.get_flow, task_id=TASK_ID1, task_type=TASK_TYPE, task_repo=mock.MagicMock(), image_repo=img_repo, image_id=IMAGE_ID1, import_req=fake_req, backend=['cheap'])",154,24
openstack%2Fglance~master~I5499946425b1c32476c57241b4b14b601daa841f,openstack/glance,master,I5499946425b1c32476c57241b4b14b601daa841f,Add context.elevated() helper for getting admin privileges,MERGED,2020-07-01 15:41:55.000000000,2020-07-14 14:43:31.000000000,2020-07-14 14:40:35.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 15:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4e84909c10578151d65edc96b9fe310fb913072e', 'message': 'Add context.elevated() helper for getting admin privileges\n\nThis adds an elevated() method to glance.context.RequestContext similar\nto what Nova and other projects use. When doing something as admin on\nbehalf of a user, this results in a whole context, including information\nabout the user and the request, but with is_admin==True.\n\nChange-Id: I5499946425b1c32476c57241b4b14b601daa841f\n'}, {'number': 2, 'created': '2020-07-09 14:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bd9a20adbe7b665f3569e7616275a77521abcc76', 'message': 'Add context.elevated() helper for getting admin privileges\n\nThis adds an elevated() method to glance.context.RequestContext similar\nto what Nova and other projects use. When doing something as admin on\nbehalf of a user, this results in a whole context, including information\nabout the user and the request, but with is_admin==True.\n\nChange-Id: I5499946425b1c32476c57241b4b14b601daa841f\n'}, {'number': 3, 'created': '2020-07-10 15:59:47.000000000', 'files': ['glance/tests/unit/test_context.py', 'glance/context.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c59ed1bce82c960b205663ba9ac6d038633588dc', 'message': 'Add context.elevated() helper for getting admin privileges\n\nThis adds an elevated() method to glance.context.RequestContext similar\nto what Nova and other projects use. When doing something as admin on\nbehalf of a user, this results in a whole context, including information\nabout the user and the request, but with is_admin==True.\n\nChange-Id: I5499946425b1c32476c57241b4b14b601daa841f\n'}]",0,738871,c59ed1bce82c960b205663ba9ac6d038633588dc,16,4,3,4393,,,0,"Add context.elevated() helper for getting admin privileges

This adds an elevated() method to glance.context.RequestContext similar
to what Nova and other projects use. When doing something as admin on
behalf of a user, this results in a whole context, including information
about the user and the request, but with is_admin==True.

Change-Id: I5499946425b1c32476c57241b4b14b601daa841f
",git fetch https://review.opendev.org/openstack/glance refs/changes/71/738871/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_context.py', 'glance/context.py']",2,4e84909c10578151d65edc96b9fe310fb913072e,bp/copy-unowned-image,"import copy def elevated(self): """"""Return a copy of this context with admin flag set."""""" context = copy.copy(self) context.roles = copy.deepcopy(self.roles) if 'admin' not in context.roles: context.roles.append('admin') context.is_admin = True return context ",,43,0
openstack%2Fproject-config~master~Ic6444e6c186c82a21e7fe2868c27fda3378c187a,openstack/project-config,master,Ic6444e6c186c82a21e7fe2868c27fda3378c187a,update-constraints: Install pip for all versions,MERGED,2020-07-01 19:53:33.000000000,2020-07-14 14:43:17.000000000,2020-07-14 14:43:17.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-01 19:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a4d14a44fcacdd9cdf1a50ddbd76548ad7e1883f', 'message': 'update-constraints: Install pip for all versions\n\nChange-Id: Ic6444e6c186c82a21e7fe2868c27fda3378c187a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-03 18:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4e4ddf128aed7b5f8d4b6389e013a4150d85b165', 'message': 'update-constraints: Install pip for all versions\n\nDepends-on: https://review.opendev.org/739272\n\nChange-Id: Ic6444e6c186c82a21e7fe2868c27fda3378c187a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-07-03 18:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d3729739d065c70aa8b49f3ea7502f9c56b13156', 'message': 'update-constraints: Install pip for all versions\n\nDepends-on: https://review.opendev.org/739272\n\nChange-Id: Ic6444e6c186c82a21e7fe2868c27fda3378c187a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2020-07-03 18:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/25d411ad1918b921dd3c60db38f1e0e235dbfd1d', 'message': 'update-constraints: Install pip for all versions\n\nDepends-on: https://review.opendev.org/739272\n\nChange-Id: Ic6444e6c186c82a21e7fe2868c27fda3378c187a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 5, 'created': '2020-07-10 13:56:04.000000000', 'files': ['playbooks/proposal/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/848d080c1aed90e8de81ab418ecff3e91c5cad5b', 'message': 'update-constraints: Install pip for all versions\n\nDepends-on: https://review.opendev.org/739272\n\nChange-Id: Ic6444e6c186c82a21e7fe2868c27fda3378c187a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",4,738926,848d080c1aed90e8de81ab418ecff3e91c5cad5b,24,6,5,11904,,,0,"update-constraints: Install pip for all versions

Depends-on: https://review.opendev.org/739272

Change-Id: Ic6444e6c186c82a21e7fe2868c27fda3378c187a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/738926/5 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/proposal/pre.yaml'],1,a4d14a44fcacdd9cdf1a50ddbd76548ad7e1883f,, ensure_pip_from_packages: false ensure_pip_from_upstream: true ensure_pip_from_upstream_interpreters: - python3.6 - python3.7 - python3.8,,6,0
openstack%2Fcastellan~stable%2Fstein~I83bafe5b7e0c4cca67f773858007fb59d98a93a5,openstack/castellan,stable/stein,I83bafe5b7e0c4cca67f773858007fb59d98a93a5,"add ""verify_ssl_path"" config for barbican key manager",MERGED,2020-06-29 08:28:10.000000000,2020-07-14 14:29:13.000000000,2020-07-14 14:26:43.000000000,"[{'_account_id': 6928}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 15334}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 24849}, {'_account_id': 27594}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-29 08:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/3a1afd1b0bb1e2f7cc3de6018ed2688458e8ce2f', 'message': 'add ""verify_ssl_path"" config for barbican key manager\n\nNow we cann\'t use the verify_ssl if we set True, so we\nadd the ""verify_ssl_path"" config to solve it.\n\nCloses-Bug: #1876102\n(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)\nConflicts:\n\tcastellan/options.py\n\nChange-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5\n'}, {'number': 2, 'created': '2020-06-29 10:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/be5918a97521a50e4d2d6ea98b8cc01e049fda42', 'message': 'add ""verify_ssl_path"" config for barbican key manager\n\nNow we cann\'t use the verify_ssl if we set True, so we\nadd the ""verify_ssl_path"" config to solve it.\n\nCloses-Bug: #1876102\n(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)\n\nChange-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5\n'}, {'number': 3, 'created': '2020-07-13 11:16:18.000000000', 'files': ['castellan/key_manager/barbican_key_manager.py', 'releasenotes/notes/bug-1876102-7c7288fb6e90b11d.yaml', 'castellan/options.py', 'castellan/tests/unit/test_options.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/46575f02e8a9288bce1b646bcb777143451b1d4b', 'message': 'add ""verify_ssl_path"" config for barbican key manager\n\nNow we cann\'t use the verify_ssl if we set True, so we\nadd the ""verify_ssl_path"" config to solve it.\n\nCloses-Bug: #1876102\n(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)\n\nChange-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5\n'}]",1,738396,46575f02e8a9288bce1b646bcb777143451b1d4b,20,11,3,27594,,,0,"add ""verify_ssl_path"" config for barbican key manager

Now we cann't use the verify_ssl if we set True, so we
add the ""verify_ssl_path"" config to solve it.

Closes-Bug: #1876102
(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)

Change-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5
",git fetch https://review.opendev.org/openstack/castellan refs/changes/96/738396/2 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/key_manager/barbican_key_manager.py', 'releasenotes/notes/bug-1876102-7c7288fb6e90b11d.yaml', 'castellan/options.py', 'castellan/tests/unit/test_options.py']",4,3a1afd1b0bb1e2f7cc3de6018ed2688458e8ce2f,bug/1876102," verify_ssl = False options.set_defaults(conf, verify_ssl=False) verify_ssl_path = '/mnt' options.set_defaults(conf, verify_ssl_path='/mnt') self.assertEqual(verify_ssl_path, conf.barbican.verify_ssl_path) "," verify_ssl = True options.set_defaults(conf, verify_ssl=True)",30,5
openstack%2Fzun-ui~master~I5a58cedffe0b6ada17c3aa0484725e4711b8914f,openstack/zun-ui,master,I5a58cedffe0b6ada17c3aa0484725e4711b8914f,Fix npm jobs,MERGED,2020-07-13 18:46:14.000000000,2020-07-14 14:22:58.000000000,2020-07-14 14:21:37.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:46:14.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/2e67f89f769fe32d124b9c99e3e3dc9ba917b1dc', 'message': 'Fix npm jobs\n\nhorizon is doing frequent releases, the install from source is not\nworking as is anymore. Remove it.\n\nChange-Id: I5a58cedffe0b6ada17c3aa0484725e4711b8914f\n'}]",0,740745,2e67f89f769fe32d124b9c99e3e3dc9ba917b1dc,10,2,1,29313,,,0,"Fix npm jobs

horizon is doing frequent releases, the install from source is not
working as is anymore. Remove it.

Change-Id: I5a58cedffe0b6ada17c3aa0484725e4711b8914f
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/45/740745/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,2e67f89f769fe32d124b9c99e3e3dc9ba917b1dc,," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt ../horizon; fi"",",1,1
openstack%2Fcinderlib~master~I4837b6e0894e0b58cfa606c701e6564a1f87943c,openstack/cinderlib,master,I4837b6e0894e0b58cfa606c701e6564a1f87943c,Add Wiki and Source links to readme,ABANDONED,2019-10-18 07:51:18.000000000,2020-07-14 14:10:40.000000000,,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 30077}]","[{'number': 1, 'created': '2019-10-18 07:51:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/8c6fd709423b12d54c643677b98f25ba98d1d159', 'message': 'Add Wiki and Source links to readme\n\nChange-Id: I4837b6e0894e0b58cfa606c701e6564a1f87943c\n'}]",6,689331,8c6fd709423b12d54c643677b98f25ba98d1d159,8,5,1,30077,,,0,"Add Wiki and Source links to readme

Change-Id: I4837b6e0894e0b58cfa606c701e6564a1f87943c
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/31/689331/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8c6fd709423b12d54c643677b98f25ba98d1d159,,* Release notes: https://docs.openstack.org/releasenotes/cinderlib/ * Source: https://opendev.org/openstack/cinderlib * Bugs: https://bugs.launchpad.net/cinderlib * Wiki: https://wiki.openstack.org/wiki/cinderlib,,4,0
openstack%2Fbarbican~master~Id7ac6a3bec8fcde15a4c798e75329107ba65a1c5,openstack/barbican,master,Id7ac6a3bec8fcde15a4c798e75329107ba65a1c5,Imported Translations from Zanata,MERGED,2020-06-16 06:06:09.000000000,2020-07-14 14:00:46.000000000,2020-07-14 13:59:05.000000000,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-06-16 06:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/181401d79f87c4dc3f2500666e472b20102350c8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id7ac6a3bec8fcde15a4c798e75329107ba65a1c5\n'}, {'number': 2, 'created': '2020-06-24 06:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c00a2eb5e431eb19425d82a318cc29782a1add7d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id7ac6a3bec8fcde15a4c798e75329107ba65a1c5\n'}, {'number': 3, 'created': '2020-07-03 06:11:55.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/549e06244d8fff8d7dc0756ef9cd3645cf6f73e2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id7ac6a3bec8fcde15a4c798e75329107ba65a1c5\n'}]",0,735772,549e06244d8fff8d7dc0756ef9cd3645cf6f73e2,15,4,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id7ac6a3bec8fcde15a4c798e75329107ba65a1c5
",git fetch https://review.opendev.org/openstack/barbican refs/changes/72/735772/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,181401d79f87c4dc3f2500666e472b20102350c8,zanata/translations,"""POT-Creation-Date: 2020-06-09 14:37+0000\n""""PO-Revision-Date: 2020-06-15 05:25+0000\n""msgid ""10.0.0"" msgstr ""10.0.0"" ","""POT-Creation-Date: 2020-06-04 15:50+0000\n""""PO-Revision-Date: 2020-05-04 08:03+0000\n""",5,2
openstack%2Fironic~master~I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7,openstack/ironic,master,I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7,Block port deletions where vif is present,MERGED,2019-06-18 00:15:45.000000000,2020-07-14 13:57:18.000000000,2020-06-18 11:50:29.000000000,"[{'_account_id': 4571}, {'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-06-18 00:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/add1314adb1a3b839779b0d975d0a21a30338259', 'message': 'Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present.\n\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n'}, {'number': 2, 'created': '2019-06-18 21:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/343143c4e6ee1acbfaf8d918f5b13120d2bb3299', 'message': 'Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present.\n\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n'}, {'number': 3, 'created': '2019-09-19 07:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3294c83e2061b4c4e5e1e85340e3c3b73211727a', 'message': ""Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present.\nFollowing condition holds true for port deletion:\n\n* Allow port deletion only when no VIF is attached\n  to it be the node in maintenance or not.\n* Block port deletion if VIF is attached to it, be\n  the node in maintenance or not.\n* Port deletion now doesn't depend on node being active\n  or in maintenance mode\n\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n""}, {'number': 4, 'created': '2019-10-11 17:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b7b4569ffb267a9dcb4258a6411d0f5b58be5d07', 'message': ""Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present.\nFollowing condition holds true for port deletion:\n\n* Allow port deletion only when no VIF is attached\n  to it be the node in maintenance or not.\n* Block port deletion if VIF is attached to it, be\n  the node in maintenance or not.\n* Port deletion now doesn't depend on node being active\n  or in maintenance mode\n\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n""}, {'number': 5, 'created': '2019-10-17 22:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba23e3f3eefaff99213b37ae9645669a6611afcf', 'message': ""Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present.\nFollowing condition holds true for port deletion:\n\n* Allow port deletion only when no VIF is attached\n  to it be the node in maintenance or not.\n* Block port deletion if VIF is attached to it, be\n  the node in maintenance or not.\n* Port deletion now doesn't depend on node being active\n  or in maintenance mode\n\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n""}, {'number': 6, 'created': '2019-12-11 18:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/931dc0d9182a62c5d64ea2288e27e73449738e31', 'message': ""Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present.\nFollowing condition holds true for port deletion:\n\n* Allow port deletion only when no VIF is attached\n  to it be the node in maintenance or not.\n* Block port deletion if VIF is attached to it, be\n  the node in maintenance or not.\n* Port deletion now doesn't depend on node being active\n  or in maintenance mode\n\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n""}, {'number': 7, 'created': '2019-12-11 18:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ba0780c118c397ca4ddcf59b2a9784220b9906d', 'message': ""Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present.\nFollowing condition holds true for port deletion:\n\n* Allow port deletion only when no VIF is attached\n  to it be the node in maintenance or not.\n* Block port deletion if VIF is attached to it, be\n  the node in maintenance or not.\n* Port deletion now doesn't depend on node being active\n  or in maintenance mode\n\nCo-Authored-By: Madhuri Kumari <madhuri.kumari@intel.com>\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n""}, {'number': 8, 'created': '2020-01-06 17:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4e4552ffd88d646ee14c5242ce3b571b75af7be1', 'message': ""Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present.\nFollowing condition holds true for port deletion:\n\n* Allow port deletion only when no VIF is attached\n  to it be the node in maintenance or not.\n* Block port deletion if VIF is attached to it, be\n  the node in maintenance or not.\n* Port deletion now doesn't depend on node being active\n  or in maintenance mode\n\nCo-Authored-By: Madhuri Kumari <madhuri.kumari@intel.com>\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n""}, {'number': 9, 'created': '2020-03-12 00:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/757c14edba607df411e10d1339a3318e0ac587a0', 'message': 'Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present. If they are\nable to, then the user risks orphaning ports in\nneutron which could result in address depletion\nprevent the port from being able to be used again.\n\nCo-Authored-By: Madhuri Kumari <madhuri.kumari@intel.com>\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n'}, {'number': 10, 'created': '2020-03-29 16:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9fcf6d1337cd52ea42f9bbdc18a51cf7bed1ba0', 'message': 'Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present. If they are\nable to, then the user risks orphaning ports in\nneutron which could result in address depletion\nprevent the port from being able to be used again.\n\nCo-Authored-By: Madhuri Kumari <madhuri.kumari@intel.com>\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n'}, {'number': 11, 'created': '2020-04-06 14:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/896e2c73d41e6ef102ca525d890bd5060f67d852', 'message': 'Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present. If they are\nable to, then the user risks orphaning ports in\nneutron which could result in address depletion\nprevent the port from being able to be used again.\n\nCo-Authored-By: Madhuri Kumari <madhuri.kumari@intel.com>\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n'}, {'number': 12, 'created': '2020-04-16 23:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/03acd1b8f3bf05f7f6772635f29c91b553acb58c', 'message': 'Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present. If they are\nable to, then the user risks orphaning ports in\nneutron which could result in address depletion\nprevent the port from being able to be used again.\n\nCo-Authored-By: Madhuri Kumari <madhuri.kumari@intel.com>\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n'}, {'number': 13, 'created': '2020-06-02 21:13:32.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'releasenotes/notes/prevent-ports-with-vif-deletion-3edac3df5aa1becf.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/64674bf0ed966c3e8f241d555b772f03e7407951', 'message': 'Block port deletions where vif is present\n\nWe must not allow users to be able to delete\nports when a VIF record is present. If they are\nable to, then the user risks orphaning ports in\nneutron which could result in address depletion\nprevent the port from being able to be used again.\n\nCo-Authored-By: Madhuri Kumari <madhuri.kumari@intel.com>\nStory: 2006710\nTask: 37074\nChange-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7\n'}]",74,665835,64674bf0ed966c3e8f241d555b772f03e7407951,108,14,13,11655,,,0,"Block port deletions where vif is present

We must not allow users to be able to delete
ports when a VIF record is present. If they are
able to, then the user risks orphaning ports in
neutron which could result in address depletion
prevent the port from being able to be used again.

Co-Authored-By: Madhuri Kumari <madhuri.kumari@intel.com>
Story: 2006710
Task: 37074
Change-Id: I9f8eaf94a375984ea2f567f0a87c2ed1ed5cb3b7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/665835/11 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/prevent-ports-with-vif-deletion-3edac3df5aa1becf.yaml']",3,add1314adb1a3b839779b0d975d0a21a30338259,port_deletion,"--- fixes: - | Fixes logic that is applied to port deletions to also consider the presence of a VIF attachment record, which should be removed before attempting to delete the node. Failure to do so can result in erroneous records in the Networking Service. ",,28,1
openstack%2Fzun-ui~master~I35bb3868cc58c9096802577cc58e50e0a685a177,openstack/zun-ui,master,I35bb3868cc58c9096802577cc58e50e0a685a177,[DNM] Testing CI,ABANDONED,2020-07-13 14:10:23.000000000,2020-07-14 13:51:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-13 14:10:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/0edb81f326b1fdade8259c376abc37d2b4b97694', 'message': '[DNM] Testing CI\n\nChange-Id: I35bb3868cc58c9096802577cc58e50e0a685a177\n'}]",0,740701,0edb81f326b1fdade8259c376abc37d2b4b97694,4,1,1,29313,,,0,"[DNM] Testing CI

Change-Id: I35bb3868cc58c9096802577cc58e50e0a685a177
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/01/740701/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0edb81f326b1fdade8259c376abc37d2b4b97694,,,,1,0
openstack%2Fovn-octavia-provider~master~I64847f329ee3e1a3377a8c63df90c697d8b74c86,openstack/ovn-octavia-provider,master,I64847f329ee3e1a3377a8c63df90c697d8b74c86,Add a hacking check for importing mock library,MERGED,2020-06-09 18:48:12.000000000,2020-07-14 13:51:13.000000000,2020-07-14 13:48:50.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 18:48:12.000000000', 'files': ['ovn_octavia_provider/tests/unit/hacking/test_checks.py', 'ovn_octavia_provider/hacking/checks.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6ed2660676a2bc74fcc36835b34bcbf858fa96f6', 'message': ""Add a hacking check for importing mock library\n\nWe should only be using unittest.mock since we're python3-only,\nso add and enable a hacking check that will catch it.\n\nChange-Id: I64847f329ee3e1a3377a8c63df90c697d8b74c86\n""}]",0,734670,6ed2660676a2bc74fcc36835b34bcbf858fa96f6,9,4,1,1131,,,0,"Add a hacking check for importing mock library

We should only be using unittest.mock since we're python3-only,
so add and enable a hacking check that will catch it.

Change-Id: I64847f329ee3e1a3377a8c63df90c697d8b74c86
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/70/734670/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/hacking/test_checks.py', 'ovn_octavia_provider/hacking/checks.py', 'tox.ini', 'HACKING.rst']",4,6ed2660676a2bc74fcc36835b34bcbf858fa96f6,,- [N347] Test code must not import mock library,,46,0
openstack%2Fzun-ui~stable%2Fussuri~I35bb3868cc58c9096802577cc58e50e0a685a177,openstack/zun-ui,stable/ussuri,I35bb3868cc58c9096802577cc58e50e0a685a177,[DNM] Testing CI,ABANDONED,2020-07-13 18:59:53.000000000,2020-07-14 13:51:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-13 18:59:53.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/af169853a32d2b48cf173b1e1bf55d5a9c73304a', 'message': '[DNM] Testing CI\n\nChange-Id: I35bb3868cc58c9096802577cc58e50e0a685a177\n'}]",0,740761,af169853a32d2b48cf173b1e1bf55d5a9c73304a,4,1,1,29313,,,0,"[DNM] Testing CI

Change-Id: I35bb3868cc58c9096802577cc58e50e0a685a177
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/61/740761/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,af169853a32d2b48cf173b1e1bf55d5a9c73304a,,,,1,0
openstack%2Fzun-ui~stable%2Ftrain~I35bb3868cc58c9096802577cc58e50e0a685a177,openstack/zun-ui,stable/train,I35bb3868cc58c9096802577cc58e50e0a685a177,[DNM] Testing CI,ABANDONED,2020-07-13 19:00:15.000000000,2020-07-14 13:50:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-13 19:00:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/5dc6554c76b21fcdd0a7fa62678c0adf21c65296', 'message': '[DNM] Testing CI\n\nChange-Id: I35bb3868cc58c9096802577cc58e50e0a685a177\n'}]",0,740766,5dc6554c76b21fcdd0a7fa62678c0adf21c65296,3,1,1,29313,,,0,"[DNM] Testing CI

Change-Id: I35bb3868cc58c9096802577cc58e50e0a685a177
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/66/740766/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5dc6554c76b21fcdd0a7fa62678c0adf21c65296,,,,1,0
openstack%2Fovn-octavia-provider~master~Ic02c1af784e37f954de1e4edbd9127410aaca0ee,openstack/ovn-octavia-provider,master,Ic02c1af784e37f954de1e4edbd9127410aaca0ee,Update ROUND_ROBIN to SOURCE_IP_PORT in docs,MERGED,2020-07-13 06:55:04.000000000,2020-07-14 13:22:10.000000000,2020-07-14 13:19:24.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 06:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e37ab8b25404dabf09833319ed29c35d94033cc4', 'message': 'Update ROUND_ROBIN to SOURCE_IP_PORT in docs\n\nIn docs there was a leftover in sample commands.\nIt should be SOURCE_IP_PORT algorithm used instead\nROUND_ROBIN.\n\nChange-Id: Ic02c1af784e37f954de1e4edbd9127410aaca0ee\n'}, {'number': 2, 'created': '2020-07-13 07:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/731bedfeec34c5b5f7e117acb2531c0b56e1988b', 'message': 'Update ROUND_ROBIN to SOURCE_IP_PORT in docs\n\nIn docs there was a leftover in sample commands.\nIt should be SOURCE_IP_PORT algorithm used instead\nROUND_ROBIN.\n\nChange-Id: Ic02c1af784e37f954de1e4edbd9127410aaca0ee\n'}, {'number': 3, 'created': '2020-07-13 09:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fb2d6d9c80f69af6b44c40f1ce7b359578c16c30', 'message': 'Update ROUND_ROBIN to SOURCE_IP_PORT in docs\n\nIn docs there was a leftover in sample commands.\nIt should be SOURCE_IP_PORT algorithm used instead\nROUND_ROBIN.\n\nChange-Id: Ic02c1af784e37f954de1e4edbd9127410aaca0ee\n'}, {'number': 4, 'created': '2020-07-14 12:30:48.000000000', 'files': ['doc/source/admin/driver.rst'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3445f5fabf089b0d56a387f0a39a3d5feb478610', 'message': 'Update ROUND_ROBIN to SOURCE_IP_PORT in docs\n\nIn docs there was a leftover in sample commands.\nIt should be SOURCE_IP_PORT algorithm used instead\nROUND_ROBIN.\n\nChange-Id: Ic02c1af784e37f954de1e4edbd9127410aaca0ee\n'}]",0,740620,3445f5fabf089b0d56a387f0a39a3d5feb478610,14,3,4,24791,,,0,"Update ROUND_ROBIN to SOURCE_IP_PORT in docs

In docs there was a leftover in sample commands.
It should be SOURCE_IP_PORT algorithm used instead
ROUND_ROBIN.

Change-Id: Ic02c1af784e37f954de1e4edbd9127410aaca0ee
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/20/740620/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/driver.rst'],1,e37ab8b25404dabf09833319ed29c35d94033cc4,, SOURCE_IP_PORT --listener 21e77cde-854f-4c3e-bd8c-9536ae0443bc | lb_algorithm | SOURCE_IP_PORT |, ROUND_ROBIN --listener 21e77cde-854f-4c3e-bd8c-9536ae0443bc | lb_algorithm | ROUND_ROBIN |,2,2
openstack%2Fpython-openstackclient~master~Ia904e011531c1dbe197613c23c00d3ecb9acd79e,openstack/python-openstackclient,master,Ia904e011531c1dbe197613c23c00d3ecb9acd79e,Fix plugin loading for 3.8,ABANDONED,2020-07-14 13:00:40.000000000,2020-07-14 13:07:40.000000000,,[],"[{'number': 1, 'created': '2020-07-14 13:00:40.000000000', 'files': ['openstackclient/common/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/197842bff563013b3bd442e3dbe67462717dce6d', 'message': 'Fix plugin loading for 3.8\n\nChange-Id: Ia904e011531c1dbe197613c23c00d3ecb9acd79e\n'}]",0,740950,197842bff563013b3bd442e3dbe67462717dce6d,2,0,1,2,,,0,"Fix plugin loading for 3.8

Change-Id: Ia904e011531c1dbe197613c23c00d3ecb9acd79e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/50/740950/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/common/clientmanager.py'],1,197842bff563013b3bd442e3dbe67462717dce6d,," module = None try: module_name = ep.entry_point.module except AttributeError: module = ep.entry_point.load() if not module: try: module = importlib.import_module(module_name) except Exception as err: sys.stderr.write( ""WARNING: Failed to import plugin %s: %s.\n"" % (ep.name, err)) continue getattr(sys.modules[module.__name__], 'make_client', None)"," module_name = ep.entry_point.module try: module = importlib.import_module(module_name) except Exception as err: sys.stderr.write( ""WARNING: Failed to import plugin %s: %s.\n"" % (ep.name, err)) continue getattr(sys.modules[module_name], 'make_client', None)",13,8
openstack%2Fcharm-ceph-mon~master~Ieaf3b9c2700bcf72ebb34b159cf5c9b761b1514d,openstack/charm-ceph-mon,master,Ieaf3b9c2700bcf72ebb34b159cf5c9b761b1514d,Improve README,MERGED,2020-07-08 18:05:51.000000000,2020-07-14 13:01:20.000000000,2020-07-14 13:01:20.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 18:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/de6eb14d859cd813ebedc9d1e5d10243033a116a', 'message': 'Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nChange-Id: Ieaf3b9c2700bcf72ebb34b159cf5c9b761b1514d\n'}, {'number': 2, 'created': '2020-07-08 22:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0ab88cd5c5747c10223f73ce4d8e26a170c6ad07', 'message': ""Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nIn config.yaml, modernise example values for 'source'\nand use consistent words with the ceph-osd, ceph-mon,\nand ceph-fs charms.\n\nChange-Id: Ieaf3b9c2700bcf72ebb34b159cf5c9b761b1514d\n""}, {'number': 3, 'created': '2020-07-09 16:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c1abd37039c7bd9ee9c89a7bdda84891c0190b62', 'message': ""Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nIn config.yaml, modernise example values for 'source'\nand use consistent words with the ceph-osd, ceph-mon,\nand ceph-fs charms. Also improve description for\n'expected-osd-count'.\n\nChange-Id: Ieaf3b9c2700bcf72ebb34b159cf5c9b761b1514d\n""}, {'number': 4, 'created': '2020-07-10 22:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e36c83180eb7c22528aa2065bd0d43906a5c5fee', 'message': ""Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nIn config.yaml, modernise example values for 'source'\nand use consistent words with the ceph-osd, ceph-mon,\nand ceph-fs charms. Also improve description for\n'expected-osd-count'.\n\nChange-Id: Ieaf3b9c2700bcf72ebb34b159cf5c9b761b1514d\n""}, {'number': 5, 'created': '2020-07-13 16:40:06.000000000', 'files': ['config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/258d00f9bf34143be7cb9c722ff82961d7478d86', 'message': ""Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nIn config.yaml, modernise example values for 'source'\nand use consistent words with the ceph-osd, ceph-mon,\nand ceph-fs charms. Also improve description for\n'expected-osd-count'.\n\nChange-Id: Ieaf3b9c2700bcf72ebb34b159cf5c9b761b1514d\n""}]",1,740075,258d00f9bf34143be7cb9c722ff82961d7478d86,20,3,5,30561,,,0,"Improve README

This improvement is part of a wave of polish
in preparation for the launch of the Ceph product.

In config.yaml, modernise example values for 'source'
and use consistent words with the ceph-osd, ceph-mon,
and ceph-fs charms. Also improve description for
'expected-osd-count'.

Change-Id: Ieaf3b9c2700bcf72ebb34b159cf5c9b761b1514d
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/75/740075/3 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'README.md']",2,de6eb14d859cd813ebedc9d1e5d10243033a116a,prep-for-ceph-launch,"## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `customize-failure-domain` The `customize-failure-domain` option determines how a Ceph CRUSH map is configured. A value of 'false' (the default) will lead to a map that will replicate data across hosts (implemented as [Ceph bucket type][upstream-ceph-buckets] 'host'). With a value of 'true' all MAAS-defined zones will be used to generate a map that will replicate data across Ceph availability zones (implemented as bucket type 'rack'). This option is also supported by the ceph-osd charm. Its value must be the same for both charms. #### `monitor-count` The `monitor-count` option gives the number of ceph-mon units in the MON sub-cluster. The default value is '3' and is generally a good choice, but it is good practice to set this explicitly to avoid a possible race condition. Test environments can use a single ceph-mon unit by setting this option to '1'. To establish quorum and enable partition tolerance an odd number of ceph-mon units is required. #### `source` The `source` option states the software sources. A common value is an OpenStack UCA release (e.g. 'cloud:xenial-queens' or 'cloud:bionic-ussuri'). See [Ceph and the UCA][cloud-archive-ceph]. The underlying host's existing apt sources will be used if this option is not specified (this behaviour can be explicitly chosen by using the value of 'distro'). juju deploy -n 3 --to lxd:0,lxd:1,lxd:2 ceph-mon juju add-relation ceph-osd:mon ceph-mon:osd Here, a containerised MON is running alongside each OSD. We've assumed that the machines spawned in the first command are assigned IDs of 0, 1, and 2.* 'public' (front-side) * 'cluster' (back-side)[juju-docs-config-apps]: https://juju.is/docs/configuring-applications[cloud-archive-ceph]: https://wiki.ubuntu.com/OpenStack/CloudArchive#Ceph_and_the_UCA [upstream-ceph-buckets]: https://docs.ceph.com/docs/master/rados/operations/crush-map/#types-and-buckets"," juju deploy --to lxd:0 ceph-mon juju add-unit --to lxd:1 ceph-mon juju add-unit --to lxd:2 ceph-mon juju add-relation ceph-osd ceph-mon Here, a containerised MON is running alongside each OSD.- 'public' (front-side) - 'cluster' (back-side)",50,8
openstack%2Fcharm-aodh~master~I759c391307a88e6c9a8a19c6dce1cad7c01029b9,openstack/charm-aodh,master,I759c391307a88e6c9a8a19c6dce1cad7c01029b9,Add victoria package version,MERGED,2020-07-13 18:35:54.000000000,2020-07-14 12:53:21.000000000,2020-07-14 12:53:21.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:35:54.000000000', 'files': ['src/lib/charm/openstack/aodh.py'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/95a5896b5e6b4124f0cb7ada582e276a625b7400', 'message': 'Add victoria package version\n\nChange-Id: I759c391307a88e6c9a8a19c6dce1cad7c01029b9\n'}]",0,740739,95a5896b5e6b4124f0cb7ada582e276a625b7400,7,3,1,11805,,,0,"Add victoria package version

Change-Id: I759c391307a88e6c9a8a19c6dce1cad7c01029b9
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/39/740739/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/aodh.py'],1,95a5896b5e6b4124f0cb7ada582e276a625b7400,batch-update," ('11', 'victoria'),",,1,0
openstack%2Ftripleo-operator-ansible~master~I70aa6775ce6795e8302523079a0db7933aa87693,openstack/tripleo-operator-ansible,master,I70aa6775ce6795e8302523079a0db7933aa87693,"Revert ""New parameters in order to set how we want to redirect logs""",MERGED,2020-07-13 15:34:30.000000000,2020-07-14 12:47:35.000000000,2020-07-14 00:28:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-13 15:34:30.000000000', 'files': ['roles/tripleo_overcloud_deploy/defaults/main.yml', 'roles/tripleo_undercloud_install/README.md', 'roles/tripleo_overcloud_container_image_prepare/defaults/main.yml', 'roles/tripleo_overcloud_container_image_prepare/README.md', 'roles/tripleo_undercloud_upgrade/README.md', 'roles/tripleo_overcloud_container_image_build/tasks/main.yml', 'roles/tripleo_overcloud_config_download/README.md', 'roles/tripleo_overcloud_deploy/tasks/main.yml', 'roles/tripleo_overcloud_container_image_upload/tasks/main.yml', 'roles/tripleo_container_image_prepare/tasks/main.yml', 'roles/tripleo_overcloud_config_download/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_converge/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/tasks/main.yml', 'roles/tripleo_overcloud_container_image_upload/defaults/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/README.md', 'roles/tripleo_overcloud_update_prepare/README.md', 'roles/tripleo_overcloud_update_run/tasks/main.yml', 'roles/tripleo_overcloud_upgrade_converge/README.md', 'roles/tripleo_overcloud_netenv_validate/tasks/main.yml', 'roles/tripleo_overcloud_node_import/README.md', 'roles/tripleo_overcloud_delete/defaults/main.yml', 'roles/tripleo_undercloud_minion_upgrade/tasks/main.yml', 'roles/tripleo_overcloud_credentials/README.md', 'roles/tripleo_overcloud_node_unprovision/tasks/main.yml', 'roles/tripleo_overcloud_container_image_prepare/tasks/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/tasks/main.yml', 'roles/tripleo_overcloud_update_run/README.md', 'roles/tripleo_overcloud_generate_fencing/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/tasks/main.yml', 'roles/tripleo_overcloud_image_build/tasks/main.yml', 'roles/tripleo_undercloud_minion_install/tasks/main.yml', 'roles/tripleo_overcloud_external_upgrade_run/defaults/main.yml', 'roles/tripleo_overcloud_container_image_build/defaults/main.yml', 'roles/tripleo_overcloud_raid_create/tasks/main.yml', 'roles/tripleo_overcloud_upgrade_prepare/tasks/main.yml', 'roles/tripleo_container_image_prepare/README.md', 'roles/tripleo_overcloud_cell_export/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_converge/README.md', 'roles/tripleo_overcloud_image_build/defaults/main.yml', 'roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_prepare/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_run/tasks/main.yml', 'roles/tripleo_overcloud_generate_fencing/README.md', 'roles/tripleo_overcloud_container_image_build/README.md', 'roles/tripleo_undercloud_minion_upgrade/defaults/main.yml', 'roles/tripleo_overcloud_node_provision/README.md', 'roles/tripleo_undercloud_backup/README.md', 'roles/tripleo_overcloud_node_import/defaults/main.yml', 'roles/tripleo_overcloud_external_upgrade_run/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/README.md', 'roles/tripleo_overcloud_node_provide/README.md', 'roles/tripleo_container_image_build/tasks/main.yml', 'roles/tripleo_undercloud_install/tasks/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_run/defaults/main.yml', 'roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_external_update_run/README.md', 'roles/tripleo_overcloud_update_converge/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/defaults/main.yml', 'roles/tripleo_overcloud_node_import/tasks/main.yml', 'roles/tripleo_deploy/tasks/main.yml', 'roles/tripleo_overcloud_external_upgrade_run/README.md', 'roles/tripleo_overcloud_image_build/README.md', 'roles/tripleo_overcloud_external_update_run/defaults/main.yml', 'roles/tripleo_overcloud_generate_fencing/tasks/main.yml', 'roles/tripleo_overcloud_node_provide/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/tasks/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_run/README.md', 'roles/tripleo_overcloud_delete/tasks/main.yml', 'roles/tripleo_undercloud_install/defaults/main.yml', 'roles/tripleo_overcloud_raid_create/README.md', 'roles/tripleo_overcloud_update_prepare/defaults/main.yml', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml', 'roles/tripleo_undercloud_upgrade/tasks/main.yml', 'roles/tripleo_overcloud_upgrade_prepare/README.md', 'roles/tripleo_overcloud_credentials/tasks/main.yml', 'roles/tripleo_overcloud_external_update_run/tasks/main.yml', 'roles/tripleo_undercloud_backup/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_update_prepare/tasks/main.yml', 'roles/tripleo_overcloud_raid_create/defaults/main.yml', 'roles/tripleo_overcloud_cell_export/README.md', 'roles/tripleo_undercloud_minion_upgrade/README.md', 'roles/tripleo_undercloud_minion_install/README.md', 'roles/tripleo_overcloud_upgrade_converge/defaults/main.yml', 'roles/tripleo_undercloud_minion_install/defaults/main.yml', 'roles/tripleo_overcloud_node_provide/defaults/main.yml', 'roles/tripleo_overcloud_node_unprovision/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_converge/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/README.md', 'roles/tripleo_overcloud_cell_export/tasks/main.yml', 'roles/tripleo_container_image_prepare/defaults/main.yml', 'roles/tripleo_overcloud_update_run/defaults/main.yml', 'roles/tripleo_overcloud_config_download/tasks/main.yml', 'roles/tripleo_container_image_build/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_run/tasks/main.yml', 'roles/tripleo_undercloud_upgrade/defaults/main.yml', 'roles/tripleo_overcloud_credentials/defaults/main.yml', 'roles/tripleo_container_image_build/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_converge/tasks/main.yml', 'roles/README.md', 'roles/tripleo_overcloud_upgrade_run/README.md', 'roles/tripleo_overcloud_netenv_validate/README.md', 'roles/tripleo_undercloud_backup/defaults/main.yml', 'roles/tripleo_overcloud_container_image_upload/README.md', 'roles/tripleo_overcloud_upgrade_run/defaults/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/defaults/main.yml', 'roles/tripleo_overcloud_netenv_validate/defaults/main.yml', 'roles/tripleo_overcloud_delete/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/14ddf27b9c45edee458329f4b3dfd2ecd6bb25c0', 'message': 'Revert ""New parameters in order to set how we want to redirect logs""\n\nThis reverts commit 80106333b0221b9cc4ee361e616fd0efb1380170.\n\nThis incorrectly breaks the output so the 2>&1 is on a\nseparate line which eats failures.\n\nChange-Id: I70aa6775ce6795e8302523079a0db7933aa87693\n'}]",0,740715,14ddf27b9c45edee458329f4b3dfd2ecd6bb25c0,11,6,1,14985,,,0,"Revert ""New parameters in order to set how we want to redirect logs""

This reverts commit 80106333b0221b9cc4ee361e616fd0efb1380170.

This incorrectly breaks the output so the 2>&1 is on a
separate line which eats failures.

Change-Id: I70aa6775ce6795e8302523079a0db7933aa87693
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/15/740715/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_deploy/defaults/main.yml', 'roles/tripleo_undercloud_install/README.md', 'roles/tripleo_overcloud_container_image_prepare/defaults/main.yml', 'roles/tripleo_overcloud_container_image_prepare/README.md', 'roles/tripleo_undercloud_upgrade/README.md', 'roles/tripleo_overcloud_container_image_build/tasks/main.yml', 'roles/tripleo_overcloud_config_download/README.md', 'roles/tripleo_overcloud_deploy/tasks/main.yml', 'roles/tripleo_overcloud_container_image_upload/tasks/main.yml', 'roles/tripleo_container_image_prepare/tasks/main.yml', 'roles/tripleo_overcloud_config_download/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_converge/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/tasks/main.yml', 'roles/tripleo_overcloud_container_image_upload/defaults/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/README.md', 'roles/tripleo_overcloud_update_prepare/README.md', 'roles/tripleo_overcloud_update_run/tasks/main.yml', 'roles/tripleo_overcloud_upgrade_converge/README.md', 'roles/tripleo_overcloud_netenv_validate/tasks/main.yml', 'roles/tripleo_overcloud_node_import/README.md', 'roles/tripleo_overcloud_delete/defaults/main.yml', 'roles/tripleo_undercloud_minion_upgrade/tasks/main.yml', 'roles/tripleo_overcloud_credentials/README.md', 'roles/tripleo_overcloud_node_unprovision/tasks/main.yml', 'roles/tripleo_overcloud_container_image_prepare/tasks/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/tasks/main.yml', 'roles/tripleo_overcloud_update_run/README.md', 'roles/tripleo_overcloud_generate_fencing/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/tasks/main.yml', 'roles/tripleo_overcloud_image_build/tasks/main.yml', 'roles/tripleo_undercloud_minion_install/tasks/main.yml', 'roles/tripleo_overcloud_external_upgrade_run/defaults/main.yml', 'roles/tripleo_overcloud_container_image_build/defaults/main.yml', 'roles/tripleo_overcloud_raid_create/tasks/main.yml', 'roles/tripleo_overcloud_upgrade_prepare/tasks/main.yml', 'roles/tripleo_container_image_prepare/README.md', 'roles/tripleo_overcloud_cell_export/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_converge/README.md', 'roles/tripleo_overcloud_image_build/defaults/main.yml', 'roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_prepare/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_run/tasks/main.yml', 'roles/tripleo_overcloud_generate_fencing/README.md', 'roles/tripleo_overcloud_container_image_build/README.md', 'roles/tripleo_undercloud_minion_upgrade/defaults/main.yml', 'roles/tripleo_overcloud_node_provision/README.md', 'roles/tripleo_undercloud_backup/README.md', 'roles/tripleo_overcloud_node_import/defaults/main.yml', 'roles/tripleo_overcloud_external_upgrade_run/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/README.md', 'roles/tripleo_overcloud_node_provide/README.md', 'roles/tripleo_container_image_build/tasks/main.yml', 'roles/tripleo_undercloud_install/tasks/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_run/defaults/main.yml', 'roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_external_update_run/README.md', 'roles/tripleo_overcloud_update_converge/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/defaults/main.yml', 'roles/tripleo_overcloud_node_import/tasks/main.yml', 'roles/tripleo_deploy/tasks/main.yml', 'roles/tripleo_overcloud_external_upgrade_run/README.md', 'roles/tripleo_overcloud_image_build/README.md', 'roles/tripleo_overcloud_external_update_run/defaults/main.yml', 'roles/tripleo_overcloud_generate_fencing/tasks/main.yml', 'roles/tripleo_overcloud_node_provide/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/tasks/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_run/README.md', 'roles/tripleo_overcloud_delete/tasks/main.yml', 'roles/tripleo_undercloud_install/defaults/main.yml', 'roles/tripleo_overcloud_raid_create/README.md', 'roles/tripleo_overcloud_update_prepare/defaults/main.yml', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml', 'roles/tripleo_undercloud_upgrade/tasks/main.yml', 'roles/tripleo_overcloud_upgrade_prepare/README.md', 'roles/tripleo_overcloud_credentials/tasks/main.yml', 'roles/tripleo_overcloud_external_update_run/tasks/main.yml', 'roles/tripleo_undercloud_backup/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_update_prepare/tasks/main.yml', 'roles/tripleo_overcloud_raid_create/defaults/main.yml', 'roles/tripleo_overcloud_cell_export/README.md', 'roles/tripleo_undercloud_minion_upgrade/README.md', 'roles/tripleo_undercloud_minion_install/README.md', 'roles/tripleo_overcloud_upgrade_converge/defaults/main.yml', 'roles/tripleo_undercloud_minion_install/defaults/main.yml', 'roles/tripleo_overcloud_node_provide/defaults/main.yml', 'roles/tripleo_overcloud_node_unprovision/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_converge/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/README.md', 'roles/tripleo_overcloud_cell_export/tasks/main.yml', 'roles/tripleo_container_image_prepare/defaults/main.yml', 'roles/tripleo_overcloud_update_run/defaults/main.yml', 'roles/tripleo_overcloud_config_download/tasks/main.yml', 'roles/tripleo_container_image_build/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_run/tasks/main.yml', 'roles/tripleo_undercloud_upgrade/defaults/main.yml', 'roles/tripleo_overcloud_credentials/defaults/main.yml', 'roles/tripleo_container_image_build/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_converge/tasks/main.yml', 'roles/README.md', 'roles/tripleo_overcloud_upgrade_run/README.md', 'roles/tripleo_overcloud_netenv_validate/README.md', 'roles/tripleo_undercloud_backup/defaults/main.yml', 'roles/tripleo_overcloud_container_image_upload/README.md', 'roles/tripleo_overcloud_upgrade_run/defaults/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/defaults/main.yml', 'roles/tripleo_overcloud_netenv_validate/defaults/main.yml', 'roles/tripleo_overcloud_delete/README.md']",108,14ddf27b9c45edee458329f4b3dfd2ecd6bb25c0,log-tee,,* `tripleo_overcloud_delete_log_redirect`: (String) How to redirect the log output. By default uses the value of `tripleo_log_redirect` or '>' if `tripleo_log_redirect` is not defined.,36,132
openstack%2Ftripleo-ci~master~I425a2f4565e870633df87b6c5624fb998bcf09cc,openstack/tripleo-ci,master,I425a2f4565e870633df87b6c5624fb998bcf09cc,Add support for authfile in buildcontainers role,MERGED,2020-07-07 11:09:30.000000000,2020-07-14 12:46:18.000000000,2020-07-14 12:46:18.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 11:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8549894233df1384ddf0de6e94a33ae67c0fc32e', 'message': 'Add support for authfile in buildcontainers role\n\nWhen push_containers is set to true, then authfile is needed only\nwhen buildah or podman login has not done previously. The authfile\ncan be generated using sudo buildah login -u and -p, it defaults\ngenerates the authfile in /run/containers/0/auth.json and\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nChange-Id: I425a2f4565e870633df87b6c5624fb998bcf09cc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-07 12:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/170445cff4640df2751b480f1cd6734bee10c3a6', 'message': 'Add support for authfile in buildcontainers role\n\nWhen push_containers is set to true, then authfile is needed only\nwhen buildah or podman login has not done previously. The authfile\ncan be generated using sudo buildah login -u and -p, it defaults\ngenerates the authfile in /run/containers/0/auth.json and\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nChange-Id: I425a2f4565e870633df87b6c5624fb998bcf09cc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-07-08 05:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/829c52ffae4748d89cc82593016c6e89275f9c1a', 'message': 'Add support for authfile in buildcontainers role\n\nWhen push_containers is set to true, then authfile is needed only\nwhen buildah or podman login has not done previously. The authfile\ncan be generated using sudo buildah login -u and -p, it defaults\ngenerates the authfile in /run/containers/0/auth.json and\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nChange-Id: I425a2f4565e870633df87b6c5624fb998bcf09cc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-07-09 05:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aa6f8db7cf72206c260d34ec0b16482c7c6e9052', 'message': 'Add support for authfile in buildcontainers role\n\nWhen push_containers is set to true, then authfile is needed only\nwhen buildah or podman login has not done previously. The authfile\ncan be generated using sudo buildah login -u and -p, it defaults\ngenerates the authfile in /run/containers/0/auth.json and\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nChange-Id: I425a2f4565e870633df87b6c5624fb998bcf09cc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-07-09 08:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8891e7b63db89d6d9632aed3051a6339fdcfd812', 'message': 'Add support for authfile in buildcontainers role\n\nWhen push_containers is set to true, then authfile is needed only\nwhen buildah or podman login has not done previously. The authfile\ncan be generated using sudo buildah login -u and -p, it defaults\ngenerates the authfile in /run/containers/0/auth.json and\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\n\nauthfile path can be setted by set using the\nbuildcontainers_authfile_path var in build containers role.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\n[1.] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nChange-Id: I425a2f4565e870633df87b6c5624fb998bcf09cc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-07-13 05:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2cdd52079fb8a7fb70a8e32123ee4b0ff2d2c9e6', 'message': 'Add support for authfile in buildcontainers role\n\nWhen push_containers is set to true, then authfile is needed only\nwhen buildah or podman login has not done previously. The authfile\ncan be generated using sudo buildah login -u and -p --authfile\n<dir path>, The custom generated authfile can be passed via\n--authfile [1] with\nopenstack tripleo container image build command\n\nauthfile path can be setted by set using the\nbuildcontainers_authfile_path var in build containers role.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\n[1.] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nChange-Id: I425a2f4565e870633df87b6c5624fb998bcf09cc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-07-13 08:03:08.000000000', 'files': ['roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/build.sh.j2', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/939c7a51c4cdead57a0d480b0eaf328935ff14e7', 'message': 'Add support for authfile in buildcontainers role\n\nWhen push_containers is set to true, then authfile is needed only\nwhen buildah or podman login has not done previously. The authfile\ncan be generated using sudo buildah login -u and -p --authfile\n<dir path>, The custom generated authfile can be passed via\n--authfile [1] with\nopenstack tripleo container image build command\n\nauthfile path can be setted by set using the\nbuildcontainers_authfile_path var in build containers role.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\n[1.] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nChange-Id: I425a2f4565e870633df87b6c5624fb998bcf09cc\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",12,739710,939c7a51c4cdead57a0d480b0eaf328935ff14e7,43,11,7,12393,,,0,"Add support for authfile in buildcontainers role

When push_containers is set to true, then authfile is needed only
when buildah or podman login has not done previously. The authfile
can be generated using sudo buildah login -u and -p --authfile
<dir path>, The custom generated authfile can be passed via
--authfile [1] with
openstack tripleo container image build command

authfile path can be setted by set using the
buildcontainers_authfile_path var in build containers role.

It will be used while pushing container to registry using new
container workflow.

[1.] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build

Change-Id: I425a2f4565e870633df87b6c5624fb998bcf09cc
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/10/739710/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/build.sh.j2', 'roles/build-containers/defaults/main.yaml']",3,8549894233df1384ddf0de6e94a33ae67c0fc32e,newcontainerbuild,"When push_containers is set to true, then --authfile is needed for # pushing containers to registry. The default auth file is # /run/containers/0/auth.json, It will be auto # generated on doing sudo buildah login -u <user> -p <pass> registry url # buildcontainers_authfile_path: '/run/containers/0/auth.json'",,22,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2670840c9beac06f8b8ffc6eaecc88b9119ad298,openstack/tripleo-heat-templates,stable/ussuri,I2670840c9beac06f8b8ffc6eaecc88b9119ad298,Collapse host prep tasks,MERGED,2020-07-06 14:17:27.000000000,2020-07-14 12:46:16.000000000,2020-07-14 12:46:16.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/245e5db61c4559157827b8a196658a9f80bfdb2b', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n(cherry picked from commit 3ef8f6008d41a88642d66a6a24c67210f773f87e)\n'}, {'number': 2, 'created': '2020-07-06 19:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bea5bc75ef32530e13ccdce56fecf79ceb222abe', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n(cherry picked from commit 3ef8f6008d41a88642d66a6a24c67210f773f87e)\n'}, {'number': 3, 'created': '2020-07-07 11:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/edf3a4cda6f89e9907dca9b4f99a581d94dd2c92', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n(cherry picked from commit 3ef8f6008d41a88642d66a6a24c67210f773f87e)\n'}, {'number': 4, 'created': '2020-07-13 01:32:24.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3166f641c197c03ebf8facbdc225be814614c95c', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n(cherry picked from commit 3ef8f6008d41a88642d66a6a24c67210f773f87e)\n'}]",0,739502,3166f641c197c03ebf8facbdc225be814614c95c,41,5,4,3153,,,0,"Collapse host prep tasks

Since plays cannot be parallelized with a free-like strategy, we should
have a single play that runs all host prep tasks rather than blocks of
plays for each defined role. By switching to this method we have a
single play that handles the host prep tasks concept that can be run all
at once across a cloud.

Change-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298
(cherry picked from commit 3ef8f6008d41a88642d66a6a24c67210f773f87e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/739502/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,245e5db61c4559157827b8a196658a9f80bfdb2b,strategy-improvements-stable/ussuri, - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Host prep steps{%- for role in roles %} - name: {{role.name}} Host prep block when: - tripleo_role_name == '{{role.name}}' block: - name: {{role.name}} Host prep steps delegate_to: localhost run_once: true debug: msg: Use --start-at-task '{{role.name}} Host prep steps' to resume from this task - import_tasks: {{role.name}}/host_prep_tasks.yaml {%- endfor %},{%- for role in roles %} - hosts: {{role.name}} name: {{role.name}} Host prep steps - name: {{role.name}} Host prep steps delegate_to: localhost run_once: true debug: msg: Use --start-at-task '{{role.name}} Host prep steps' to resume from this task - import_tasks: {{role.name}}/host_prep_tasks.yaml{%- endfor %},14,10
openstack%2Ftripleo-heat-templates~master~I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac,openstack/tripleo-heat-templates,master,I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac,Generate container startup configs with a new module,MERGED,2020-06-23 21:53:10.000000000,2020-07-14 12:46:13.000000000,2020-07-14 12:46:13.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-23 21:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33945cb73658330608412cfd1fb4c9667f85d42e', 'message': 'WIP - generate container startup configs with a new module\n\nDepends-On: https://review.opendev.org/737624\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n'}, {'number': 2, 'created': '2020-06-24 03:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60403eaf16f0a6827c6e6d16d101765b61b8e80e', 'message': 'WIP - generate container startup configs with a new module\n\nDepends-On: https://review.opendev.org/737624\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n'}, {'number': 3, 'created': '2020-06-25 19:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fe01c149a129af6eeb77b7b55268df01bfb011f', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nDepends-On: https://review.opendev.org/737624\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n""}, {'number': 4, 'created': '2020-07-01 01:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71e7cf31be8c80b162cc109ac772014da7e56cb7', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nDepends-On: https://review.opendev.org/737624\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n""}, {'number': 5, 'created': '2020-07-03 20:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47e3dc16f7502d389837c080209eb2313c710609', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n""}, {'number': 6, 'created': '2020-07-04 12:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a67c448f3b9421391bee19f29aded3ee485e361', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n""}, {'number': 7, 'created': '2020-07-06 18:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4c4ee68d106ec4ed25811e379162146cba1a623', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n""}, {'number': 8, 'created': '2020-07-07 13:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91bdc59ebf261027174c4008fa69dc7bc41c4c86', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n""}, {'number': 9, 'created': '2020-07-13 01:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c0f82b73141e76f832fcaaf2ca7014d247548bb', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n""}, {'number': 10, 'created': '2020-07-13 15:53:49.000000000', 'files': ['common/container_startup_configs_tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c587d74ae192fa9562b42ed118fc946547a6c899', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n""}]",5,737644,c587d74ae192fa9562b42ed118fc946547a6c899,92,7,10,3153,,,0,"Generate container startup configs with a new module

Remove container_startup_configs_tasks.yaml playbook, and some set_fact
tasks that aren't needed anymore; since we now have a module to generate
container startup config files.

Change-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/737644/7 && git format-patch -1 --stdout FETCH_HEAD,"['common/container_startup_configs_tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml']",2,33945cb73658330608412cfd1fb4c9667f85d42e,container/configs," container_startup_config: config_base_dir: /var/lib/tripleo-config/container-startup-config config_data: ""{{ lookup('file', tripleo_role_name + '/docker_config.yaml', errors='ignore') | default({}, True) | from_yaml }}""","# Here we are dumping all the container startup configuration data # so that we can have access to how they are started outside of heat # and container cmd. This lets us create command line tools to test containers. - name: Set container_config_default fact no_log: True set_fact: container_config_default: ""{{ container_config_default | default({}) | combine( {'step_' + item: {}} ) }}"" with_sequence: count={{ deploy_steps_max }} tags: - container_startup_configs - name: Set container_startup_configs_with_default fact no_log: True set_fact: container_config_with_default: ""{{ container_config_default | combine(role_data_container_config) }}"" vars: role_data_container_config: ""{{ lookup('file', tripleo_role_name + '/docker_config.yaml', errors='ignore') | default({}, True) | from_yaml }}"" tags: - container_startup_configs no_log: True include_tasks: container_startup_configs_tasks.yaml loop: ""{{ container_config_with_default | dictsort }}""",3,44
openstack%2Fcharm-designate~master~I1669c6af8d7a2494605b905256fdd4dd40440817,openstack/charm-designate,master,I1669c6af8d7a2494605b905256fdd4dd40440817,Add victoria package version,MERGED,2020-07-13 18:37:52.000000000,2020-07-14 12:42:32.000000000,2020-07-14 12:42:32.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:37:52.000000000', 'files': ['src/lib/charm/openstack/designate.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/5fe0604b72066a834db360630a4b9e29b95c373d', 'message': 'Add victoria package version\n\nChange-Id: I1669c6af8d7a2494605b905256fdd4dd40440817\n'}]",0,740741,5fe0604b72066a834db360630a4b9e29b95c373d,7,3,1,11805,,,0,"Add victoria package version

Change-Id: I1669c6af8d7a2494605b905256fdd4dd40440817
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/41/740741/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/designate.py'],1,5fe0604b72066a834db360630a4b9e29b95c373d,batch-update," ('11', 'victoria'),",,1,0
