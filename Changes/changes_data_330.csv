id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-ansible-os_masakari~master~I87cf6db6e5497ea3c69242b4eaffad7f533448c7,openstack/openstack-ansible-os_masakari,master,I87cf6db6e5497ea3c69242b4eaffad7f533448c7,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 14:58:07.000000000,2019-11-18 20:02:56.000000000,2019-11-18 20:01:39.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 14:58:07.000000000', 'files': ['defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/f6a45448ad0ac197dcb3461c9d76395e1f0231c0', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I87cf6db6e5497ea3c69242b4eaffad7f533448c7\n'}]",0,694319,f6a45448ad0ac197dcb3461c9d76395e1f0231c0,10,4,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I87cf6db6e5497ea3c69242b4eaffad7f533448c7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/19/694319/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'releasenotes/source/conf.py']",2,f6a45448ad0ac197dcb3461c9d76395e1f0231c0,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name) , 'https://git.openstack.org/cgit/openstack/{}'.format(target_name) ,3,3
openstack%2Fopenstack-ansible-os_heat~master~Ib569c0ba340fac7e10a3e7ce6923dc63f43bc060,openstack/openstack-ansible-os_heat,master,Ib569c0ba340fac7e10a3e7ce6923dc63f43bc060,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 14:28:05.000000000,2019-11-18 20:01:00.000000000,2019-11-18 19:59:00.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 14:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/06b811e05798b7d585fcee8d495d59d1271c1291', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ib569c0ba340fac7e10a3e7ce6923dc63f43bc060\n'}, {'number': 2, 'created': '2019-11-14 17:39:21.000000000', 'files': ['defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/fc4457e37950d6df9d2260acad7875670115703f', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nDepends-On: https://review.opendev.org/693841/\nChange-Id: Ib569c0ba340fac7e10a3e7ce6923dc63f43bc060\n'}]",0,694309,fc4457e37950d6df9d2260acad7875670115703f,10,3,2,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Depends-On: https://review.opendev.org/693841/
Change-Id: Ib569c0ba340fac7e10a3e7ce6923dc63f43bc060
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/09/694309/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'releasenotes/source/conf.py']",2,06b811e05798b7d585fcee8d495d59d1271c1291,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),3,3
openstack%2Fopenstack-ansible-os_keystone~master~I960e6ce75e9106f340b32d355949db31d907b3cc,openstack/openstack-ansible-os_keystone,master,I960e6ce75e9106f340b32d355949db31d907b3cc,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 14:44:50.000000000,2019-11-18 20:00:38.000000000,2019-11-18 19:59:14.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 14:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/31f11a0434f035f515829b40077ebd63af957743', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I960e6ce75e9106f340b32d355949db31d907b3cc\n'}, {'number': 2, 'created': '2019-11-14 17:39:41.000000000', 'files': ['defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/633405db12a9bf1315a9c18bfda340bd6c25f64b', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nDepends-On: https://review.opendev.org/693841/\nChange-Id: I960e6ce75e9106f340b32d355949db31d907b3cc\n'}]",0,694315,633405db12a9bf1315a9c18bfda340bd6c25f64b,12,4,2,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Depends-On: https://review.opendev.org/693841/
Change-Id: I960e6ce75e9106f340b32d355949db31d907b3cc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/15/694315/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'releasenotes/source/conf.py']",2,31f11a0434f035f515829b40077ebd63af957743,osa/opendev," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",2,2
openstack%2Fopenstack-ansible-os_neutron~master~I8d47a48220a3d83f1836f1b96bdd33c8f8c80342,openstack/openstack-ansible-os_neutron,master,I8d47a48220a3d83f1836f1b96bdd33c8f8c80342,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 15:13:31.000000000,2019-11-18 19:56:24.000000000,2019-11-18 19:54:58.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 15:13:31.000000000', 'files': ['tests/os_neutron-overrides.yml', 'tests/neutron-overrides-ovs.yml', 'tests/neutron-overrides-opendaylight.yml', 'tests/neutron-overrides-ovs-nsh.yml', 'doc/source/conf.py', 'tests/neutron-overrides-ovs-sfc.yml', 'tests/neutron-overrides-ovs-fwaasv2.yml', 'defaults/main.yml', 'tests/neutron-overrides-odl-sfc.yml', 'tests/neutron-overrides-ovn.yml', 'tests/neutron-overrides-opendaylight-bgpvpn.yml', 'tests/neutron-overrides-calico.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ab363fd2e6c0b2ca744cae8f757450f81dbad0c3', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I8d47a48220a3d83f1836f1b96bdd33c8f8c80342\n'}]",0,694325,ab363fd2e6c0b2ca744cae8f757450f81dbad0c3,10,4,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I8d47a48220a3d83f1836f1b96bdd33c8f8c80342
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/25/694325/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/os_neutron-overrides.yml', 'tests/neutron-overrides-ovs.yml', 'tests/neutron-overrides-opendaylight.yml', 'tests/neutron-overrides-ovs-nsh.yml', 'doc/source/conf.py', 'tests/neutron-overrides-ovs-sfc.yml', 'tests/neutron-overrides-ovs-fwaasv2.yml', 'defaults/main.yml', 'tests/neutron-overrides-odl-sfc.yml', 'tests/neutron-overrides-ovn.yml', 'tests/neutron-overrides-opendaylight-bgpvpn.yml', 'tests/neutron-overrides-calico.yml', 'releasenotes/source/conf.py']",13,ab363fd2e6c0b2ca744cae8f757450f81dbad0c3,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://opendev.org/cgit/openstack/{}'.format(target_name),35,35
openstack%2Foslo.messaging~master~I4b72d8feb85c2b9b4657510c356cd21e22fe40c2,openstack/oslo.messaging,master,I4b72d8feb85c2b9b4657510c356cd21e22fe40c2,Make sure minimum amqp is 2.5.2,MERGED,2019-11-17 10:59:43.000000000,2019-11-18 19:55:15.000000000,2019-11-18 19:53:58.000000000,"[{'_account_id': 8731}, {'_account_id': 8770}, {'_account_id': 9029}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-17 10:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/292c3c863f3a0c00e4c6e2e798f97c8640c283b1', 'message': 'Make sure minimum amqp is 2.5.2\n\namqp fixed a bug in 2.5.2 that is needed\nalso update kombu to support amqp 2.5.2\n\nChange-Id: I4b72d8feb85c2b9b4657510c356cd21e22fe40c2\nCloses-bug: #1852058\n'}, {'number': 2, 'created': '2019-11-18 15:05:37.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c8d6fed762607fad8f73ade531cb06d6b919b096', 'message': 'Make sure minimum amqp is 2.5.2\n\namqp fixed a bug in 2.5.2 that is needed\nalso update kombu to support amqp 2.5.2\n\nsee \nhttps://review.opendev.org/#/c/693704/\nhttps://github.com/celery/py-amqp/commit/86cb254dceab75e0240b4fa6b97249de70036a4b\n\n\nChange-Id: I4b72d8feb85c2b9b4657510c356cd21e22fe40c2\nCloses-bug: #1852058\n'}]",0,694686,c8d6fed762607fad8f73ade531cb06d6b919b096,13,5,2,19134,,,0,"Make sure minimum amqp is 2.5.2

amqp fixed a bug in 2.5.2 that is needed
also update kombu to support amqp 2.5.2

see 
https://review.opendev.org/#/c/693704/
https://github.com/celery/py-amqp/commit/86cb254dceab75e0240b4fa6b97249de70036a4b


Change-Id: I4b72d8feb85c2b9b4657510c356cd21e22fe40c2
Closes-bug: #1852058
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/86/694686/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,292c3c863f3a0c00e4c6e2e798f97c8640c283b1,amqp,amqp==2.5.2kombu==4.6.6,amqp==2.4.1kombu==4.6.1,4,4
openstack%2Ftripleo-quickstart-extras~master~I5f2686c3aad7b8ed902748dd063e086e254eee0d,openstack/tripleo-quickstart-extras,master,I5f2686c3aad7b8ed902748dd063e086e254eee0d,"skip stein delete_saving_image, timeout",ABANDONED,2019-11-15 16:55:57.000000000,2019-11-18 19:53:32.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-15 16:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/705180b4e89a32b445059608c0b209a4f397b2b5', 'message': 'skip stein delete_saving_image, timeout\n\nThis should be fixed or the timeout\nadjusted to pass reliably\n\nChange-Id: I5f2686c3aad7b8ed902748dd063e086e254eee0d\n'}, {'number': 2, 'created': '2019-11-15 16:56:23.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_stein.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7eb02bbf077913ae4680aea1c6ae22c4851e4d11', 'message': 'skip stein delete_saving_image, timeout\n\nThis should be fixed or the timeout\nadjusted to pass reliably\n\nRelated-Bug: #1852771\nChange-Id: I5f2686c3aad7b8ed902748dd063e086e254eee0d\n'}]",0,694601,7eb02bbf077913ae4680aea1c6ae22c4851e4d11,6,3,2,9592,,,0,"skip stein delete_saving_image, timeout

This should be fixed or the timeout
adjusted to pass reliably

Related-Bug: #1852771
Change-Id: I5f2686c3aad7b8ed902748dd063e086e254eee0d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/01/694601/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_stein.yml'],1,705180b4e89a32b445059608c0b209a4f397b2b5,, - test: 'tempest.api.compute.images.test_images.ImagesTestJSON' reason: 'failed to reach SAVING state (current state ACTIVE) within the required time (500 s)' lp: 'https://bugs.launchpad.net/tripleo/+bug/1852771',,3,0
openstack%2Fopenstack-ansible-os_blazar~master~I124f77a92a9d34a55c1c39f1e27cde49bb3bd7aa,openstack/openstack-ansible-os_blazar,master,I124f77a92a9d34a55c1c39f1e27cde49bb3bd7aa,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 12:24:33.000000000,2019-11-18 19:51:19.000000000,2019-11-18 19:49:45.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 12:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/409d248c0e2e213dd80e34dd5e8765280f1fd5e4', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I124f77a92a9d34a55c1c39f1e27cde49bb3bd7aa\n'}, {'number': 2, 'created': '2019-11-14 16:21:58.000000000', 'files': ['defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/4c4600c307f894e59b2a4c0152e06e9ab7636693', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nDepends-On: https://review.opendev.org/693841/\nChange-Id: I124f77a92a9d34a55c1c39f1e27cde49bb3bd7aa\n'}]",0,694282,4c4600c307f894e59b2a4c0152e06e9ab7636693,10,3,2,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Depends-On: https://review.opendev.org/693841/
Change-Id: I124f77a92a9d34a55c1c39f1e27cde49bb3bd7aa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/82/694282/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'releasenotes/source/conf.py']",2,409d248c0e2e213dd80e34dd5e8765280f1fd5e4,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),3,3
openstack%2Fopenstack-ansible-repo_server~master~I0877731deb4816960b47a8c76eee64171dee5b44,openstack/openstack-ansible-repo_server,master,I0877731deb4816960b47a8c76eee64171dee5b44,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 17:23:47.000000000,2019-11-18 19:49:43.000000000,2019-11-18 19:47:57.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 17:23:47.000000000', 'files': ['tests/test-repo-server-functional.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/0fad87541a2278be7288b1358ad46861cbc5d87e', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\n\nChange-Id: I0877731deb4816960b47a8c76eee64171dee5b44\n'}]",0,694367,0fad87541a2278be7288b1358ad46861cbc5d87e,10,4,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.

Change-Id: I0877731deb4816960b47a8c76eee64171dee5b44
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/67/694367/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-repo-server-functional.yml', 'releasenotes/source/conf.py']",2,0fad87541a2278be7288b1358ad46861cbc5d87e,osa/opendev," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",2,2
openstack%2Fopenstack-ansible-os_magnum~master~I837aefc043d91212b21ca3cb3d9851e3a33b358e,openstack/openstack-ansible-os_magnum,master,I837aefc043d91212b21ca3cb3d9851e3a33b358e,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 14:51:31.000000000,2019-11-18 19:43:44.000000000,2019-11-18 19:42:34.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 14:51:31.000000000', 'files': ['tests/os_magnum-overrides.yml', 'defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/6c7bf4652a688c474e1a4c427c35ab40eb8d7c43', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I837aefc043d91212b21ca3cb3d9851e3a33b358e\n'}]",0,694318,6c7bf4652a688c474e1a4c427c35ab40eb8d7c43,12,4,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I837aefc043d91212b21ca3cb3d9851e3a33b358e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/18/694318/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/os_magnum-overrides.yml', 'defaults/main.yml', 'releasenotes/source/conf.py']",3,6c7bf4652a688c474e1a4c427c35ab40eb8d7c43,osa/opendev," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",4,4
openstack%2Fopenstack-ansible-os_nova~master~I4f6fc9144bee0cf49326cc9df8b0f972d8bd5064,openstack/openstack-ansible-os_nova,master,I4f6fc9144bee0cf49326cc9df8b0f972d8bd5064,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 15:19:56.000000000,2019-11-18 19:32:48.000000000,2019-11-18 19:31:13.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 15:19:56.000000000', 'files': ['tox.ini', 'defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/72e0a52d533683535bd67bffa80cf63b5e47beda', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I4f6fc9144bee0cf49326cc9df8b0f972d8bd5064\n'}]",0,694328,72e0a52d533683535bd67bffa80cf63b5e47beda,10,4,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I4f6fc9144bee0cf49326cc9df8b0f972d8bd5064
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/28/694328/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'defaults/main.yml', 'releasenotes/source/conf.py']",3,72e0a52d533683535bd67bffa80cf63b5e47beda,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),4,4
openstack%2Fopenstack-ansible-os_cinder~master~Iafcaac9c1f67daf06dfca5a3a49e96b3bc72a11d,openstack/openstack-ansible-os_cinder,master,Iafcaac9c1f67daf06dfca5a3a49e96b3bc72a11d,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 13:36:08.000000000,2019-11-18 19:28:17.000000000,2019-11-18 19:26:48.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 13:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/c5d508d8eeeeb77ea1d9e3ebdfa48520653f3312', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Iafcaac9c1f67daf06dfca5a3a49e96b3bc72a11d\n'}, {'number': 2, 'created': '2019-11-14 16:22:17.000000000', 'files': ['defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/1d45ccefce071ff7c725a235f3828583c1d57c2f', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nDepends-On: https://review.opendev.org/693841/\nChange-Id: Iafcaac9c1f67daf06dfca5a3a49e96b3bc72a11d\n'}]",0,694295,1d45ccefce071ff7c725a235f3828583c1d57c2f,10,3,2,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Depends-On: https://review.opendev.org/693841/
Change-Id: Iafcaac9c1f67daf06dfca5a3a49e96b3bc72a11d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/95/694295/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'releasenotes/source/conf.py']",2,c5d508d8eeeeb77ea1d9e3ebdfa48520653f3312,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),3,3
openstack%2Fneutron-lib~stable%2Fstein~I3d13a747f31e39c11f42e2f543eae3823cfbe356,openstack/neutron-lib,stable/stein,I3d13a747f31e39c11f42e2f543eae3823cfbe356,rehome used neutron.tests.tools,ABANDONED,2019-11-16 19:39:53.000000000,2019-11-18 19:00:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-16 19:39:53.000000000', 'files': ['neutron_lib/fixture.py', 'releasenotes/notes/rehome-testools-6fba053249e14d42.yaml', 'neutron_lib/tests/tools.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4674fd8408a496e5fa8a5a192aa2f49cce5bbf4e', 'message': 'rehome used neutron.tests.tools\n\nThis patch rehomes the OpenFixture class and reset_random_seed function\nboth which are from neutron.tests.tools as they are used by consumers\ntoday [1].\n\n[1] http://codesearch.openstack.org/?q=from%20neutron.tests%20import%20tools\n\nChange-Id: I3d13a747f31e39c11f42e2f543eae3823cfbe356\n(cherry picked from commit ef9c2ae11198172b9980f033721bbcaf3b797909)\n'}]",0,694680,4674fd8408a496e5fa8a5a192aa2f49cce5bbf4e,9,6,1,16688,,,0,"rehome used neutron.tests.tools

This patch rehomes the OpenFixture class and reset_random_seed function
both which are from neutron.tests.tools as they are used by consumers
today [1].

[1] http://codesearch.openstack.org/?q=from%20neutron.tests%20import%20tools

Change-Id: I3d13a747f31e39c11f42e2f543eae3823cfbe356
(cherry picked from commit ef9c2ae11198172b9980f033721bbcaf3b797909)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/80/694680/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/fixture.py', 'releasenotes/notes/rehome-testools-6fba053249e14d42.yaml', 'neutron_lib/tests/tools.py']",3,4674fd8408a496e5fa8a5a192aa2f49cce5bbf4e,rehome-test-tools-stable/stein,"import osimport time def reset_random_seed(): # reset random seed to make sure other processes extracting values from RNG # don't get the same results (useful especially when you then use the # random values to allocate system resources from global pool, like ports # to listen). Use both current time and pid to make sure no tests started # at the same time get the same values from RNG seed = time.time() + os.getpid() random.seed(seed)",,39,0
openstack%2Ftripleo-heat-templates~master~I9462e0451b3be054568d951252fa7b1d3802c180,openstack/tripleo-heat-templates,master,I9462e0451b3be054568d951252fa7b1d3802c180,Incorrect group name issue on non DPDK compute,MERGED,2019-08-29 10:33:59.000000000,2019-11-18 18:57:36.000000000,2019-11-18 18:57:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-29 10:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f578b10888bf0a1567b43220515d996822877874', 'message': ""Incorrect group name issue on non DPDK compute\n\nThis change is to fix the incorrect grouo name issue on non DPDK compute\nnode, currently pushes incorrect group 'hugetlbfs' to non DPDK node\ninstead of group 'qemu' when DPDK environment with 2 different roles\nfor compute nodes DPDK and non-DPDK.\n\nChange-Id: I9462e0451b3be054568d951252fa7b1d3802c180\nCloses-Bug: #1837034\n""}, {'number': 2, 'created': '2019-09-12 08:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9489490e1baea78a96114863f34376ceb332edfb', 'message': ""Incorrect group name issue on non DPDK compute\n\nThis change is to fix the incorrect grouo name issue on non DPDK compute\nnode, currently pushes incorrect group 'hugetlbfs' to non DPDK node\ninstead of group 'qemu' when DPDK environment with 2 different roles\nfor compute nodes DPDK and non-DPDK.\n\nChange-Id: I9462e0451b3be054568d951252fa7b1d3802c180\nCloses-Bug: #1837034\n""}, {'number': 3, 'created': '2019-09-27 16:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d5d97173b852ee784dbb24abc22b37a069f9f49', 'message': ""Incorrect group name issue on non DPDK compute\n\nThis change is to fix the incorrect grouo name issue on non DPDK compute\nnode, currently pushes incorrect group 'hugetlbfs' to non DPDK node\ninstead of group 'qemu' when DPDK environment with 2 different roles\nfor compute nodes DPDK and non-DPDK.\n\nChange-Id: I9462e0451b3be054568d951252fa7b1d3802c180\nCloses-Bug: #1837034\n""}, {'number': 4, 'created': '2019-10-16 06:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed52a35ad8a02e824cf0e950427370575a5e87db', 'message': ""Incorrect group name issue on non DPDK compute\n\nThis change is to fix the incorrect grouo name issue on non DPDK compute\nnode, currently pushes incorrect group 'hugetlbfs' to non DPDK node\ninstead of group 'qemu' when DPDK environment with 2 different roles\nfor compute nodes DPDK and non-DPDK.\n\nChange-Id: I9462e0451b3be054568d951252fa7b1d3802c180\nCloses-Bug: #1837034\n""}, {'number': 5, 'created': '2019-11-18 12:39:02.000000000', 'files': ['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e83f2e99fbd4189c06212c9e15ec9ee1da3635c0', 'message': ""Incorrect group name issue on non DPDK compute\n\nThis change is to fix the incorrect grouo name issue on non DPDK compute\nnode, currently pushes incorrect group 'hugetlbfs' to non DPDK node\ninstead of group 'qemu' when DPDK environment with 2 different roles\nfor compute nodes DPDK and non-DPDK.\n\nChange-Id: I9462e0451b3be054568d951252fa7b1d3802c180\nCloses-Bug: #1837034\n""}]",3,679227,e83f2e99fbd4189c06212c9e15ec9ee1da3635c0,43,9,5,22865,,,0,"Incorrect group name issue on non DPDK compute

This change is to fix the incorrect grouo name issue on non DPDK compute
node, currently pushes incorrect group 'hugetlbfs' to non DPDK node
instead of group 'qemu' when DPDK environment with 2 different roles
for compute nodes DPDK and non-DPDK.

Change-Id: I9462e0451b3be054568d951252fa7b1d3802c180
Closes-Bug: #1837034
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/679227/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml']",2,f578b10888bf0a1567b43220515d996822877874,incorrect-group-issue," VhostuserSocketGroup: default: ""qemu"" description: > The vhost-user socket directory group name. Defaults to 'qemu'. When vhostuser mode is 'dpdkvhostuserclient' (which is the default mode), the vhost socket is created by qemu. type: string tags: - role_specific nova::compute::libvirt::qemu::group: {get_param: VhostuserSocketGroup}",,13,5
openstack%2Fkolla-ansible~master~If45d4877c3fa125a3abc71f0a84883fad0a0cf6e,openstack/kolla-ansible,master,If45d4877c3fa125a3abc71f0a84883fad0a0cf6e,Vitrage: typo in precheck task,MERGED,2019-11-18 14:41:05.000000000,2019-11-18 18:50:10.000000000,2019-11-18 17:58:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-18 14:41:05.000000000', 'files': ['ansible/roles/vitrage/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0217ebb82f11e4cefb3a39a4a6ee0f0c8b73bf2b', 'message': 'Vitrage: typo in precheck task\n\nChange-Id: If45d4877c3fa125a3abc71f0a84883fad0a0cf6e\nCloses-Bug: 1853011\n'}]",0,694788,0217ebb82f11e4cefb3a39a4a6ee0f0c8b73bf2b,9,3,1,28374,,,0,"Vitrage: typo in precheck task

Change-Id: If45d4877c3fa125a3abc71f0a84883fad0a0cf6e
Closes-Bug: 1853011
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/694788/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/vitrage/tasks/precheck.yml'],1,0217ebb82f11e4cefb3a39a4a6ee0f0c8b73bf2b,bug/1853011," local_action: stat path=""{{ node_custom_config }}/vitrage/prometheus_conf.yaml"""," local_action: stat_path=""{{ node_custom_config }}/vitrage/prometheus_conf.yaml""",1,1
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Ia19612b668313752b62545ce5cae49396671b939,openstack/puppet-openstack-integration,stable/train,Ia19612b668313752b62545ce5cae49396671b939,Reduce fernet_rotate frequency,MERGED,2019-11-18 10:57:34.000000000,2019-11-18 18:49:36.000000000,2019-11-18 18:49:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 10:57:34.000000000', 'files': ['manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8a4e19ff190c8f5e900089b3b9a160e90653b312', 'message': ""Reduce fernet_rotate frequency\n\nCurrently it's every 10 minutes. When using expiration time of 40\nminutes (scenario001) or longer, this is too frequent and in some cases,\njobs are failing with InvalidToken in scenario001. To avoid this we can\nrun fernet_rotate less often or increase max_active_keys [1]. In this\ncase i'm making it to rotate every 30 minutes instead of 10.\n\n[1] https://docs.openstack.org/keystone/latest/admin/fernet-token-faq.html#i-rotated-keys-and-now-tokens-are-invalidating-early-what-did-i-do\n\nChange-Id: Ia19612b668313752b62545ce5cae49396671b939\n(cherry picked from commit fc3f3e14f5d736a185b9e545e889093bc57d2299)\n""}]",0,694745,8a4e19ff190c8f5e900089b3b9a160e90653b312,7,4,1,13861,,,0,"Reduce fernet_rotate frequency

Currently it's every 10 minutes. When using expiration time of 40
minutes (scenario001) or longer, this is too frequent and in some cases,
jobs are failing with InvalidToken in scenario001. To avoid this we can
run fernet_rotate less often or increase max_active_keys [1]. In this
case i'm making it to rotate every 30 minutes instead of 10.

[1] https://docs.openstack.org/keystone/latest/admin/fernet-token-faq.html#i-rotated-keys-and-now-tokens-are-invalidating-early-what-did-i-do

Change-Id: Ia19612b668313752b62545ce5cae49396671b939
(cherry picked from commit fc3f3e14f5d736a185b9e545e889093bc57d2299)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/45/694745/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone.pp'],1,8a4e19ff190c8f5e900089b3b9a160e90653b312,invalidtoken-stable/train," minute => '*/30',"," minute => '*/10',",1,1
openstack%2Freleases~master~I935c855886fd2bef61ef3c23453f06ac2b14955d,openstack/releases,master,I935c855886fd2bef61ef3c23453f06ac2b14955d,Make Dmitriy release liaison for OSA,MERGED,2019-11-13 10:49:21.000000000,2019-11-18 18:47:50.000000000,2019-11-18 18:47:50.000000000,"[{'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-13 10:49:21.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/55d3c0a6a4bfe7b95217df1acefba837006b3af8', 'message': 'Make Dmitriy release liaison for OSA\n\nAs I have stepped out, and trained noonedeadpunk for release\nbusiness, I now have the impression I can remove this from my belt.\n\nI trust him to do the right thing, and he can ask for my help if\nnecessary.\n\nChange-Id: I935c855886fd2bef61ef3c23453f06ac2b14955d\n'}]",2,694040,55d3c0a6a4bfe7b95217df1acefba837006b3af8,11,6,1,17068,,,0,"Make Dmitriy release liaison for OSA

As I have stepped out, and trained noonedeadpunk for release
business, I now have the impression I can remove this from my belt.

I trust him to do the right thing, and he can ask for my help if
necessary.

Change-Id: I935c855886fd2bef61ef3c23453f06ac2b14955d
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/694040/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,55d3c0a6a4bfe7b95217df1acefba837006b3af8,update_OSA_liaison, - name: 'Dmitriy Rabotyagov' irc: noonedeadpunk email: noonedeadpunk@ya.ru, - name: 'Jean-Philippe Evrard' irc: evrardjp email: jean-philippe@evrard.me,3,3
openstack%2Foctavia~master~I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56,openstack/octavia,master,I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56,Fix filtering for provider capabilities list API,MERGED,2019-11-12 01:35:37.000000000,2019-11-18 18:19:59.000000000,2019-11-16 03:24:53.000000000,"[{'_account_id': 2245}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-11-12 01:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1c1a40882560b0ee440c12db2bcdd71afa54ea96', 'message': 'Fix filtering for provider capabilities list API\n\nThe ""Show Provider Flavor Capabilities"" would silently ignore\nfiltering parameters passed into the API. This patch corrects this\nsuch that you can filter the providers capabilities list.\n\nChange-Id: I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56\nStory: 2006817\nTask: 37377\n'}, {'number': 2, 'created': '2019-11-12 18:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c3fbb4c29a9635f8e602958e4e23ab1de87faf13', 'message': 'Fix filtering for provider capabilities list API\n\nThe ""Show Provider Flavor Capabilities"" would silently ignore\nfiltering parameters passed into the API. This patch corrects this\nsuch that you can filter the providers capabilities list.\n\nChange-Id: I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56\nStory: 2006817\nTask: 37377\n'}, {'number': 3, 'created': '2019-11-12 21:39:52.000000000', 'files': ['octavia/api/v2/controllers/provider.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-provider-capabilities-filtering-8bd12b2cf7b37a84.yaml', 'octavia/tests/functional/api/v2/test_provider.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/28c936ec7101a03496558bcda311edf205ee74b4', 'message': 'Fix filtering for provider capabilities list API\n\nThe ""Show Provider Flavor Capabilities"" would silently ignore\nfiltering parameters passed into the API. This patch corrects this\nsuch that you can filter the providers capabilities list.\n\nChange-Id: I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56\nStory: 2006817\nTask: 37377\n'}]",1,693760,28c936ec7101a03496558bcda311edf205ee74b4,21,8,3,11628,,,0,"Fix filtering for provider capabilities list API

The ""Show Provider Flavor Capabilities"" would silently ignore
filtering parameters passed into the API. This patch corrects this
such that you can filter the providers capabilities list.

Change-Id: I9a2aa4ed5b4ef60545c60a6d5bd06066ef361a56
Story: 2006817
Task: 37377
",git fetch https://review.opendev.org/openstack/octavia refs/changes/60/693760/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/provider.py', 'octavia/common/constants.py']",2,1c1a40882560b0ee440c12db2bcdd71afa54ea96,,DESCRIPTION = 'description',,20,0
openstack%2Foctavia~master~I8e449b19af72d72f6effd52e0a2debb5754a19b3,openstack/octavia,master,I8e449b19af72d72f6effd52e0a2debb5754a19b3,Fix a potential race condition with certs-ramfs,MERGED,2019-11-08 21:42:54.000000000,2019-11-18 18:17:29.000000000,2019-11-15 13:34:35.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-11-08 21:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/75f9a7777980da514eef8f71d08e20120f3971d9', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n'}, {'number': 2, 'created': '2019-11-11 21:45:41.000000000', 'files': ['elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.service', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.init', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.conf', 'releasenotes/notes/fix-certs-ramfs-race-561f355d13fc6d14.yaml', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1900ee71a51c25d4c0fa1ee79447219cef05b5ef', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n'}]",2,693591,1900ee71a51c25d4c0fa1ee79447219cef05b5ef,19,6,2,11628,,,0,"Fix a potential race condition with certs-ramfs

There is a potential race condition in the start order for the
amphora-agent service and the certs-ramfs service.
This patch configures an explict ordering for the services.

Change-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3
Story: 2006823
Task: 37396
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/693591/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.service', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.init', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.conf', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service']",4,75f9a7777980da514eef8f71d08e20120f3971d9,,Before=amphora-agent.service,,5,3
openstack%2Fopenstack-ansible-os_zun~master~I0675fb5e77171a1456c08ef4d6bfe0b0d949bbf6,openstack/openstack-ansible-os_zun,master,I0675fb5e77171a1456c08ef4d6bfe0b0d949bbf6,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 17:09:28.000000000,2019-11-18 18:15:36.000000000,2019-11-18 18:12:40.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 17:09:28.000000000', 'files': ['tests/test.yml', 'defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/f006a0c00af133d26fb994e8c61148f6f49c5ac3', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nDepends-On: https://review.opendev.org/693841/\nChange-Id: I0675fb5e77171a1456c08ef4d6bfe0b0d949bbf6\n'}]",0,694361,f006a0c00af133d26fb994e8c61148f6f49c5ac3,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Depends-On: https://review.opendev.org/693841/
Change-Id: I0675fb5e77171a1456c08ef4d6bfe0b0d949bbf6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/61/694361/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test.yml', 'defaults/main.yml', 'releasenotes/source/conf.py']",3,f006a0c00af133d26fb994e8c61148f6f49c5ac3,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),5,5
openstack%2Freleases~master~I348886db00a292468d16ba8bb46a67a648872e9c,openstack/releases,master,I348886db00a292468d16ba8bb46a67a648872e9c,python-openstackclient: release stein 3.18.1,MERGED,2019-10-26 05:14:57.000000000,2019-11-18 18:13:09.000000000,2019-11-18 18:13:09.000000000,"[{'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-26 05:14:57.000000000', 'files': ['deliverables/stein/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/085d68886a881ee0eeba26a607a0dd18c00f5a26', 'message': 'python-openstackclient: release stein 3.18.1\n\nThis release contains bug fixes:\n\n$ git log --no-merges --oneline 3.18.0..\n111d6a9 Document 2.53 behavior for compute service list/delete\n100d34c Fix compute service set handling for 2.53+\n83359fb Fix BFV server list handling with --name-lookup-one-by-one\nfd3a94d Fix bug in endpoint group deletion\nb507f60 Stable branch combination fix\n97da13d OpenDev Migration Patch\n8fe4557 Fix service discovery in functional tests\nb90a5d0 Fix: set invalid None project_id on range creation\n5e1ae22 Update UPPER_CONSTRAINTS_FILE for stable/stein\na95a6b6 Update .gitreview for stable/stein\n\nChange-Id: I348886db00a292468d16ba8bb46a67a648872e9c\n'}]",0,691464,085d68886a881ee0eeba26a607a0dd18c00f5a26,9,6,1,4690,,,0,"python-openstackclient: release stein 3.18.1

This release contains bug fixes:

$ git log --no-merges --oneline 3.18.0..
111d6a9 Document 2.53 behavior for compute service list/delete
100d34c Fix compute service set handling for 2.53+
83359fb Fix BFV server list handling with --name-lookup-one-by-one
fd3a94d Fix bug in endpoint group deletion
b507f60 Stable branch combination fix
97da13d OpenDev Migration Patch
8fe4557 Fix service discovery in functional tests
b90a5d0 Fix: set invalid None project_id on range creation
5e1ae22 Update UPPER_CONSTRAINTS_FILE for stable/stein
a95a6b6 Update .gitreview for stable/stein

Change-Id: I348886db00a292468d16ba8bb46a67a648872e9c
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/691464/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-openstackclient.yaml'],1,085d68886a881ee0eeba26a607a0dd18c00f5a26,stein-openstackclient-3.18.1, - version: 3.18.1 projects: - hash: 111d6a9b23d8c6b9bcce437039ff49536f0b5dd1 repo: openstack/python-openstackclient,,4,0
openstack%2Foctavia~master~I2f3c7ab4137dbd84d77a6a6b675975af406249d0,openstack/octavia,master,I2f3c7ab4137dbd84d77a6a6b675975af406249d0,Fix listeners with SNI certificates,MERGED,2019-10-22 23:23:23.000000000,2019-11-18 17:57:49.000000000,2019-11-14 20:43:30.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-10-22 23:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5c4f4ce144db75c0079f342bdea476ffb4ff0ec8', 'message': 'Fix listeners with SNI certificates\n\nThe single process patch changed the way listeners and load balancers\nare deployed inside the amphora. This caused listeners with SNI\nenabled to load all of the certificates for all of the TLS enabled\nlisteners on a load balancer.\nThis patch corrects that by configuring each listener with a\nspecific list of certificates.\n\nChange-Id: I2f3c7ab4137dbd84d77a6a6b675975af406249d0\nStory: 2006758\nTask: 37252\n'}, {'number': 2, 'created': '2019-10-22 23:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/67160e3b0c7f702fe556b3c01b4e165ee10c0f19', 'message': 'Fix listeners with SNI certificates\n\nThe single process patch changed the way listeners and load balancers\nare deployed inside the amphora. This caused listeners with SNI\nenabled to load all of the certificates for all of the TLS enabled\nlisteners on a load balancer.\nThis patch corrects that by configuring each listener with a\nspecific list of certificates.\n\nChange-Id: I2f3c7ab4137dbd84d77a6a6b675975af406249d0\nStory: 2006758\nTask: 37252\n'}, {'number': 3, 'created': '2019-10-23 18:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e7609606d6dcd1ffa69c25ac5bc0f8a8bd1c2da5', 'message': 'Fix listeners with SNI certificates\n\nThe single process patch changed the way listeners and load balancers\nare deployed inside the amphora. This caused listeners with SNI\nenabled to load all of the certificates for all of the TLS enabled\nlisteners on a load balancer.\nThis patch corrects that by configuring each listener with a\nspecific list of certificates.\n\nChange-Id: I2f3c7ab4137dbd84d77a6a6b675975af406249d0\nStory: 2006758\nTask: 37252\n'}, {'number': 4, 'created': '2019-10-25 21:16:02.000000000', 'files': ['releasenotes/notes/fix-SNI-single-process-879ffce5eaa6c1c3.yaml', 'octavia/tests/unit/common/jinja/haproxy/split_listeners/test_jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c05ce1297492ad1346ace3377f700c062e628da', 'message': 'Fix listeners with SNI certificates\n\nThe single process patch changed the way listeners and load balancers\nare deployed inside the amphora. This caused listeners with SNI\nenabled to load all of the certificates for all of the TLS enabled\nlisteners on a load balancer.\nThis patch corrects that by configuring each listener with a\nspecific list of certificates.\n\nChange-Id: I2f3c7ab4137dbd84d77a6a6b675975af406249d0\nStory: 2006758\nTask: 37252\n'}]",1,690444,3c05ce1297492ad1346ace3377f700c062e628da,28,6,4,11628,,,0,"Fix listeners with SNI certificates

The single process patch changed the way listeners and load balancers
are deployed inside the amphora. This caused listeners with SNI
enabled to load all of the certificates for all of the TLS enabled
listeners on a load balancer.
This patch corrects that by configuring each listener with a
specific list of certificates.

Change-Id: I2f3c7ab4137dbd84d77a6a6b675975af406249d0
Story: 2006758
Task: 37252
",git fetch https://review.opendev.org/openstack/octavia refs/changes/44/690444/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-SNI-single-process-879ffce5eaa6c1c3.yaml', 'octavia/tests/unit/common/jinja/haproxy/split_listeners/test_jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",12,5c4f4ce144db75c0079f342bdea476ffb4ff0ec8,fix-SNI," exc.NotFound, 'Fake_MD5', 'aaaaa', 'aaaaa'] 4, self.driver.clients[API_VERSION].upload_cert_pem.call_count)"," exc.NotFound, 'Fake_MD5', 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'] 3, self.driver.clients[API_VERSION].upload_cert_pem.call_count)",115,151
openstack%2Fnetworking-ovn~stable%2Fstein~I0d96efe4ceef4168039930738285c19d5c003951,openstack/networking-ovn,stable/stein,I0d96efe4ceef4168039930738285c19d5c003951,Support for Router Scheduling on addition/removal of chassis,MERGED,2019-11-14 17:13:41.000000000,2019-11-18 17:53:09.000000000,2019-11-18 17:51:11.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-14 17:13:41.000000000', 'files': ['networking_ovn/common/utils.py', 'networking_ovn/tests/unit/common/test_utils.py', 'networking_ovn/tests/unit/l3/test_l3_ovn_scheduler.py', 'doc/source/admin/routing.rst', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/l3/l3_ovn.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/common/constants.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_router.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/l3/l3_ovn_scheduler.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/156d271ae721ef219c0b64c659dd60e19c95858c', 'message': 'Support for Router Scheduling on addition/removal of chassis\n\nThe following patch provides L3HA Rescheduling of gateways when chassis\nare added/removed. It reschedules the gateway ports when a new chassis\nis added/old one removed. However, the number of chassis where a\ngateway can be hosted is limited by the constant MAX_GW_CHASSIS.\n\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n\nChange-Id: I0d96efe4ceef4168039930738285c19d5c003951\nCloses-Bug: #1762691\n(cherry picked from commit 12070403db4851ef73011c52124cd335b6807521)\n'}]",0,694362,156d271ae721ef219c0b64c659dd60e19c95858c,12,4,1,24791,,,0,"Support for Router Scheduling on addition/removal of chassis

The following patch provides L3HA Rescheduling of gateways when chassis
are added/removed. It reschedules the gateway ports when a new chassis
is added/old one removed. However, the number of chassis where a
gateway can be hosted is limited by the constant MAX_GW_CHASSIS.

Co-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>

Change-Id: I0d96efe4ceef4168039930738285c19d5c003951
Closes-Bug: #1762691
(cherry picked from commit 12070403db4851ef73011c52124cd335b6807521)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/62/694362/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/utils.py', 'networking_ovn/tests/unit/common/test_utils.py', 'networking_ovn/tests/unit/l3/test_l3_ovn_scheduler.py', 'doc/source/admin/routing.rst', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/l3/l3_ovn.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/common/constants.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_router.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/l3/l3_ovn_scheduler.py', 'networking_ovn/tests/unit/fakes.py']",13,156d271ae721ef219c0b64c659dd60e19c95858c,, self.get_chassis_and_physnets = mock.Mock() self.get_gateway_chassis_from_cms_options = mock.Mock(),,411,55
openstack%2Ftripleo-ansible~master~I0a970ae73f01c6ff181a67367cf668091748fc9c,openstack/tripleo-ansible,master,I0a970ae73f01c6ff181a67367cf668091748fc9c,fix typo,MERGED,2019-11-18 16:35:59.000000000,2019-11-18 17:48:12.000000000,2019-11-18 17:48:12.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 16:35:59.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3720b41a7f10e937c265a710071ca03fedf2ec70', 'message': 'fix typo\n\nChange-Id: I0a970ae73f01c6ff181a67367cf668091748fc9c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,694805,3720b41a7f10e937c265a710071ca03fedf2ec70,6,2,1,7353,,,0,"fix typo

Change-Id: I0a970ae73f01c6ff181a67367cf668091748fc9c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/694805/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/molecule/default/prepare.yml'],1,3720b41a7f10e937c265a710071ca03fedf2ec70,, - name: Prepare the container configs directory, - name: Prepare the contianer configs directory,1,1
openstack%2Fansible-role-python_venv_build~master~I25008ce16c4d1b7516683b68bba3b318cdc424e2,openstack/ansible-role-python_venv_build,master,I25008ce16c4d1b7516683b68bba3b318cdc424e2,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 17:59:42.000000000,2019-11-18 17:39:24.000000000,2019-11-18 17:38:13.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 17:59:42.000000000', 'files': ['tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/b16372aefd7265173b66f69c72aa77e12dad7eaf', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I25008ce16c4d1b7516683b68bba3b318cdc424e2\n'}]",0,694375,b16372aefd7265173b66f69c72aa77e12dad7eaf,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I25008ce16c4d1b7516683b68bba3b318cdc424e2
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/75/694375/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'releasenotes/source/conf.py']",2,b16372aefd7265173b66f69c72aa77e12dad7eaf,osa/opendev," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",2,2
openstack%2Fnetworking-ovn~master~Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c,openstack/networking-ovn,master,Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c,Devstack: Install six via pip,MERGED,2019-10-30 10:08:59.000000000,2019-11-18 17:37:52.000000000,2019-11-18 17:36:18.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-10-30 10:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7c657a6f9a2aeb173a82e36fffe89365af48a751', 'message': ""Devstack: Install six via pip\n\nThere's no python3 on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 2, 'created': '2019-10-30 21:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5921f1da4b3ec5ddf3b22cc30b6455004ae52959', 'message': ""Devstack: Install six via pip\n\nThere's no python3 on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 3, 'created': '2019-10-31 19:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/389c39e63d02ec8b84dd216c18ff1d39515443ac', 'message': ""Devstack: Install six via pip\n\nThere's no python3 on centos7. It is better to use pip\nto install six.\n\nAlso needed to tweak legacy-networking-ovn-jobs to persuade\njob to use python 3 and include openstack/requirements\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 4, 'created': '2019-10-31 19:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/63fb88308a14712638ac5e977c4b563ada837b9f', 'message': ""Devstack: Install six via pip\n\nThere's no python3 on centos7. It is better to use pip\nto install six.\n\nAlso needed to tweak legacy-networking-ovn-jobs to persuade\njob to use python 3 and include openstack/requirements\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 5, 'created': '2019-10-31 20:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2b22fb453134784546124ed7676719c60b0eefa6', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nWIP: Also needed to tweak legacy-networking-ovn-jobs to persuade\njob to use python 3 and include openstack/requirements in /opt/stack\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 6, 'created': '2019-11-01 10:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/de812b3606d6f5de9edc9d110f8f1f13cf9995e5', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 7, 'created': '2019-11-01 10:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a08862a4d7ff9dfb8be360fac613af2b8e74190d', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 8, 'created': '2019-11-01 10:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9bacae5a5ef17a1d7d353409893d82d7fe31e6c5', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 9, 'created': '2019-11-01 13:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/31711cc6fd4ff391d25699c31dc15d0d7c0371a3', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 10, 'created': '2019-11-01 17:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2cfd1f361fcb784faaa25147438de74be2bbde45', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 11, 'created': '2019-11-01 19:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/15cc13f877a70cdfbd736f35f44a9899cc037c6c', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 12, 'created': '2019-11-03 01:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8cf30aa71a3f1c1032bd232f14059cd411a90a1e', 'message': ""Devstack: Install python-six\n\nThere's no python3-six pkg: use python-six, which includes\nsupport for python3.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 13, 'created': '2019-11-03 02:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ad7eae2eecaf1a2360673b3a366d77e83700a21e', 'message': ""Devstack: Avoid installing python-six at compile_ovn\n\nThere's no python3-six package in centos-7 distro,\nwhich makes devstack fail with the message:\n\n    No package python3-six available.\n\nInterestingly, the provision of python3 as well as\nsix are taken care of prior to the compile_ovn\ncall, making the install python-six there unnecessary.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 14, 'created': '2019-11-05 15:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/de586e1f4a9983b600fa6ef3859f5886939fa0cf', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 15, 'created': '2019-11-05 16:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/78c5994c405004589390b05b9d1aef27d41cdcc3', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 16, 'created': '2019-11-05 17:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aea2afe15e53971d400be740e4b7e6530281bbed', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 17, 'created': '2019-11-05 18:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4bc0b44d09ae0dda0e166555ad6b32478d80dfb5', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 18, 'created': '2019-11-05 18:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c4949dbda3c1ea5aee147bc429d0132fce121b17', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 19, 'created': '2019-11-06 12:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e61bcd7069e712b4795e9bd02b8fab4689469636', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nNote that six -- a required python package for buildong ovs -- was\nalready being installed in gate_hook.sh. This change moves that\ninstall closer to where it is used: _compile_ovs\n\nWould prefer to use pip_install wrapper, but that is not useable\nright now because REQUIREMENTS_DIR variable is being explicitly\nset in starckrc:\nhttps://github.com/openstack/devstack/blob/63ab664baf99716e9a5d29eb82f974f8c3456816/stackrc#L242-L243\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 20, 'created': '2019-11-06 12:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8cc3cd6e00a3eb1a7124f8fa35f0c9978d882a69', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nNote that six -- a required python package for buildong ovs -- was\nalready being installed in gate_hook.sh. This change moves that\ninstall closer to where it is used: _compile_ovs\n\nWould prefer to use pip_install wrapper, but that is not useable\nright now because REQUIREMENTS_DIR variable is being explicitly\nset in starckrc:\nhttps://github.com/openstack/devstack/blob/63ab664baf99716e9a5d29eb82f974f8c3456816/stackrc#L242-L243\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 21, 'created': '2019-11-06 12:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9fc37877a4aee492d285fe2e15fb3d81847108d7', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nNote that six -- a required python package for building ovs -- was\nalready being installed in gate_hook.sh. This change moves that\ninstall closer to where it is used: _compile_ovs\n\nWould prefer to use pip_install wrapper, but that is not useable\nright now because REQUIREMENTS_DIR variable is being explicitly\nset in starckrc:\nhttps://github.com/openstack/devstack/blob/63ab664baf99716e9a5d29eb82f974f8c3456816/stackrc#L242-L243\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 22, 'created': '2019-11-06 19:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1aa46a11c74aa5ea03353ee594abf21ad6487892', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nNote that six -- a required python package for building ovs -- was\nalready being installed in gate_hook.sh. This change moves that\ninstall closer to where it is used: _compile_ovs\n\nWould prefer to use pip_install wrapper, but that is not useable\nright now because REQUIREMENTS_DIR variable is being explicitly\nset in starckrc:\nhttps://github.com/openstack/devstack/blob/63ab664baf99716e9a5d29eb82f974f8c3456816/stackrc#L242-L243\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}, {'number': 23, 'created': '2019-11-15 10:48:15.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'devstack/lib/ovn'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6efae0f7223f26755e8f24c2cdc097397af47e1e', 'message': ""Devstack: Install six via pip\n\nThere's no python3-six pkg on centos7. It is better to use pip\nto install six.\n\nNote that six -- a required python package for building ovs -- was\nalready being installed in gate_hook.sh. This change moves that\ninstall closer to where it is used: _compile_ovs\n\nWould prefer to use pip_install wrapper, but that is not useable\nright now because REQUIREMENTS_DIR variable is being explicitly\nset in starckrc:\nhttps://github.com/openstack/devstack/blob/63ab664baf99716e9a5d29eb82f974f8c3456816/stackrc#L242-L243\n\nRelated change: https://review.opendev.org/#/c/685122/\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c\n""}]",14,692096,6efae0f7223f26755e8f24c2cdc097397af47e1e,72,8,23,11952,,,0,"Devstack: Install six via pip

There's no python3-six pkg on centos7. It is better to use pip
to install six.

Note that six -- a required python package for building ovs -- was
already being installed in gate_hook.sh. This change moves that
install closer to where it is used: _compile_ovs

Would prefer to use pip_install wrapper, but that is not useable
right now because REQUIREMENTS_DIR variable is being explicitly
set in starckrc:
https://github.com/openstack/devstack/blob/63ab664baf99716e9a5d29eb82f974f8c3456816/stackrc#L242-L243

Related change: https://review.opendev.org/#/c/685122/

Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Iadbf7bbab8b7ffd646e5bcb8235fa3f1f890271c
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/96/692096/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ovn'],1,7c657a6f9a2aeb173a82e36fffe89365af48a751,, install_package autoconf automake libtool gcc patch make pip_install six, install_package autoconf automake libtool gcc patch make python3-six,2,1
openstack%2Fosprofiler~master~I6ebc393576f4fc3f8b4134164bafc2e09f102ebd,openstack/osprofiler,master,I6ebc393576f4fc3f8b4134164bafc2e09f102ebd,Handle driver initialization errors to avoid service crash,MERGED,2019-04-08 14:48:16.000000000,2019-11-18 17:26:33.000000000,2019-11-18 17:24:15.000000000,"[{'_account_id': 5950}, {'_account_id': 6928}, {'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-04-08 14:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/9a26e930a3914c98d5674fdc45ad9413faad4c80', 'message': 'Do not crash service if driver fails to initialize\n\nThis patch fixes an issue when failed osprofiler driver brings the\nwhole service down. Instead of failing osprofiler is switched to\ndefault no-op behaviour.\n\nChange-Id: I6ebc393576f4fc3f8b4134164bafc2e09f102ebd\n'}, {'number': 2, 'created': '2019-04-09 08:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/b205d0bee3e6ee74b59c15b536e2499bc765026f', 'message': ""Don't bring a service down if driver fails to initialize\n\nThis patch fixes an issue when failed osprofiler driver brings\nthe whole service down. With this patch in case of failure\nosprofiler is switched to default no-op behaviour.\n\nChange-Id: I6ebc393576f4fc3f8b4134164bafc2e09f102ebd\n""}, {'number': 3, 'created': '2019-04-10 07:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/bf1aaf582695533aa5031dca2d3396180f08f46e', 'message': 'Handle driver initialisation errors to avoid service crash\n\nThis patch fixes the issue when failed osprofiler driver brings\nthe whole service down. With this patch in case of failure\nosprofiler is switched to default no-op behaviour.\n\nChange-Id: I6ebc393576f4fc3f8b4134164bafc2e09f102ebd\n'}, {'number': 4, 'created': '2019-04-10 10:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/3a6581746b0a05c71e4ad09f39dd510c872c5064', 'message': 'Handle driver initialization errors to avoid service crash\n\nThis patch fixes the issue when failed osprofiler driver brings\nthe whole service down. With this patch the default no-op behaviour\nis used in case of initialization failure.\n\nChange-Id: I6ebc393576f4fc3f8b4134164bafc2e09f102ebd\n'}, {'number': 5, 'created': '2019-07-24 12:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/38040afa4ab7092994032b566616130ebef6e604', 'message': 'Handle driver initialization errors to avoid service crash\n\nThis patch fixes the issue when failed osprofiler driver brings\nthe whole service down. With this patch the default no-op behaviour\nis used in case of initialization failure.\n\nChange-Id: I6ebc393576f4fc3f8b4134164bafc2e09f102ebd\n'}, {'number': 6, 'created': '2019-07-24 15:03:04.000000000', 'files': ['osprofiler/drivers/elasticsearch_driver.py', 'osprofiler/drivers/jaeger.py', 'osprofiler/drivers/redis_driver.py', 'osprofiler/tests/unit/test_notifier.py', 'osprofiler/drivers/mongodb.py', 'osprofiler/notifier.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/34ca7ab4b5f5c04986bc97e13cf411a1e8d7334e', 'message': 'Handle driver initialization errors to avoid service crash\n\nThis patch fixes the issue when failed osprofiler driver brings\nthe whole service down. With this patch the default no-op behaviour\nis used in case of initialization failure.\n\nChange-Id: I6ebc393576f4fc3f8b4134164bafc2e09f102ebd\n'}]",3,650915,34ca7ab4b5f5c04986bc97e13cf411a1e8d7334e,34,5,6,5950,,,0,"Handle driver initialization errors to avoid service crash

This patch fixes the issue when failed osprofiler driver brings
the whole service down. With this patch the default no-op behaviour
is used in case of initialization failure.

Change-Id: I6ebc393576f4fc3f8b4134164bafc2e09f102ebd
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/15/650915/5 && git format-patch -1 --stdout FETCH_HEAD,"['osprofiler/drivers/elasticsearch_driver.py', 'osprofiler/drivers/jaeger.py', 'osprofiler/drivers/redis_driver.py', 'osprofiler/tests/unit/test_notifier.py', 'osprofiler/drivers/mongodb.py', 'osprofiler/notifier.py']",6,9a26e930a3914c98d5674fdc45ad9413faad4c80,fix-driver-initialization,"import logging LOG = logging.getLogger(__name__) :param args: args that will be passed to the driver's __init__ method :param kwargs: kwargs that will be passed to the driver's __init__ method try: driver = base.get_driver(connection_string, *args, **kwargs) __driver_cache[connection_string] = driver.notify except Exception: LOG.exception(""Could not initialize driver for connection string "" ""%s. Profiling is disabled."", connection_string) __driver_cache[connection_string] = _noop_notifier "," :param *args: args that will be passed to the driver's __init__ method :param **kwargs: kwargs that will be passed to the driver's __init__ method :raises TypeError: In case of invalid name of plugin raises TypeError __driver_cache[connection_string] = base.get_driver(connection_string, *args, **kwargs).notify",34,17
openstack%2Fkolla-ansible~master~I85b2a1b224d4c4d85c32c4922a2cd2c41171a1dc,openstack/kolla-ansible,master,I85b2a1b224d4c4d85c32c4922a2cd2c41171a1dc,Attempt to pull image before stopping and removing container,MERGED,2019-11-14 12:14:15.000000000,2019-11-18 17:26:27.000000000,2019-11-18 15:39:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 12:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f357114f76de6b18759728aed84de557002718e', 'message': 'Attempt to pull image before stopping and removing container\n\n* Deploy services using kolla-ansible deploy\n* Reconfigure the image for one or more services to use an invalid\n* config\n* Deploy/reconfigure services using kolla-ansible reconfigure\n\nThe invalid config could be a wrong docker registry, wrong image name,\nwrong tag, etc.\n\nThe restart handler for the service fails, and the old container is\nleft running.\n\nThe restart handler for the service fails, and the old container is\nstopped and removed. This leaves the service in a broken state.\n\nThis change fixes the issue by pulling the image if necessary prior to\nstopping and removing the container.\n\nChange-Id: I85b2a1b224d4c4d85c32c4922a2cd2c41171a1dc\nCloses-Bug: #1852572\n'}, {'number': 2, 'created': '2019-11-14 12:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6173215bfd2f56179726d10cb32b689e5f5d94f', 'message': 'Attempt to pull image before stopping and removing container\n\n* Deploy services using kolla-ansible deploy\n* Reconfigure the image for one or more services to use an invalid\n* config\n* Deploy/reconfigure services using kolla-ansible reconfigure\n\nThe invalid config could be a wrong docker registry, wrong image name,\nwrong tag, etc.\n\nThe restart handler for the service fails, and the old container is\nleft running.\n\nThe restart handler for the service fails, and the old container is\nstopped and removed. This leaves the service in a broken state.\n\nThis change fixes the issue by pulling the image if necessary prior to\nstopping and removing the container.\n\nChange-Id: I85b2a1b224d4c4d85c32c4922a2cd2c41171a1dc\nCloses-Bug: #1852572\n'}, {'number': 3, 'created': '2019-11-14 15:08:19.000000000', 'files': ['tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py', 'releasenotes/notes/fix-recreate-missing-pull-dba93327fd4c94c3.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64d07c0b7fedf96c489772f7e6619fe112e4189a', 'message': 'Attempt to pull image before stopping and removing container\n\n* Deploy services using kolla-ansible deploy\n* Reconfigure the image for one or more services to use an invalid\n* config\n* Deploy/reconfigure services using kolla-ansible reconfigure\n\nThe invalid config could be a wrong docker registry, wrong image name,\nwrong tag, etc.\n\nThe restart handler for the service fails, and the old container is\nleft running.\n\nThe restart handler for the service fails, and the old container is\nstopped and removed. This leaves the service in a broken state.\n\nThis change fixes the issue by pulling the image if necessary prior to\nstopping and removing the container.\n\nChange-Id: I85b2a1b224d4c4d85c32c4922a2cd2c41171a1dc\nCloses-Bug: #1852572\n'}]",3,694278,64d07c0b7fedf96c489772f7e6619fe112e4189a,17,4,3,14826,,,0,"Attempt to pull image before stopping and removing container

* Deploy services using kolla-ansible deploy
* Reconfigure the image for one or more services to use an invalid
* config
* Deploy/reconfigure services using kolla-ansible reconfigure

The invalid config could be a wrong docker registry, wrong image name,
wrong tag, etc.

The restart handler for the service fails, and the old container is
left running.

The restart handler for the service fails, and the old container is
stopped and removed. This leaves the service in a broken state.

This change fixes the issue by pulling the image if necessary prior to
stopping and removing the container.

Change-Id: I85b2a1b224d4c4d85c32c4922a2cd2c41171a1dc
Closes-Bug: #1852572
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/694278/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/library/kolla_docker.py'],1,1f357114f76de6b18759728aed84de557002718e,bug/1852572," # NOTE(mgoddard): Pull the image if necessary before stopping the # container, otherwise a failure to pull the image will leave the # container stopped. if not self.check_image(): self.pull_image()",,5,0
openstack%2Fopenstack-ansible-haproxy_server~master~Ie654eb6666aca0a8128c3b694d976c2276094cd2,openstack/openstack-ansible-haproxy_server,master,Ie654eb6666aca0a8128c3b694d976c2276094cd2,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 18:33:48.000000000,2019-11-18 17:17:04.000000000,2019-11-18 17:16:01.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 18:33:48.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/aeb258a988595e73127dd4bd30b74e81b2f6322b', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\n\nChange-Id: Ie654eb6666aca0a8128c3b694d976c2276094cd2\n'}]",0,694378,aeb258a988595e73127dd4bd30b74e81b2f6322b,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.

Change-Id: Ie654eb6666aca0a8128c3b694d976c2276094cd2
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/78/694378/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,aeb258a988595e73127dd4bd30b74e81b2f6322b,osa/opendev, src: https://opendev.org/openstack/openstack-ansible-apt_package_pinning, src: https://git.openstack.org/openstack/openstack-ansible-apt_package_pinning,1,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ibc57c51ff19ebad093c887bee545ca6a7d51827f,openstack/tripleo-upgrade,stable/train,Ibc57c51ff19ebad093c887bee545ca6a7d51827f,Sync up upgrades and updates workarounds mechanism.,MERGED,2019-11-14 22:43:41.000000000,2019-11-18 17:14:27.000000000,2019-11-18 17:14:27.000000000,"[{'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-14 22:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fc08d07f7febb6c7f414a4ffbe47c0bf945d95e4', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit ef1545650338f9e70bd98e18a2517e63e23cd0a9)\n'}, {'number': 2, 'created': '2019-11-18 10:12:02.000000000', 'files': ['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'templates/update_workarounds.sh.j2', 'tasks/update/create-undercloud-update-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3e37882f0755b92bf9fc2c882111310615ee68c9', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit ef1545650338f9e70bd98e18a2517e63e23cd0a9)\n'}]",1,694415,3e37882f0755b92bf9fc2c882111310615ee68c9,12,4,2,11166,,,0,"Sync up upgrades and updates workarounds mechanism.

Up to now, the minor updates workarounds was not being used very much
being a little bit left away in comparision with what it was implemented
for the upgrades one. This patch allows minor updates to benefit from
the same workarounds mechanism, at the same time that any improvement
in the upgrades mechanism will be available for updates too.

Also, it was removed the references to the {{ working_dir }} variable
in those shell tasks which have the argument changing directory to that
very same {{ working_dir }}, mostly to simplify the tasks and remove
redundancy.

Change-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f
(cherry picked from commit ef1545650338f9e70bd98e18a2517e63e23cd0a9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/15/694415/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'templates/update_workarounds.sh.j2', 'tasks/update/create-undercloud-update-scripts.yaml']",10,fc08d07f7febb6c7f414a4ffbe47c0bf945d95e4,,"- name: create update workaround scripts for undercloud template: src: workarounds.sh.j2 dest: ""{{ working_dir }}/{{ item }}.sh"" mode: 0775 loop: - 'pre_undercloud_update_workarounds' - 'post_undercloud_update_workarounds'","- name: create scripts with workarounds template: src: ""{{ update_workarounds_template }}"" dest: ""{{ working_dir }}/{{ item.script }}"" mode: 0755 loop: '{{ pre_undercloud_update_workarounds|default([]) + post_undercloud_update_workarounds|default([]) }}'",191,92
openstack%2Ftripleo-upgrade~stable%2Fqueens~I014474001882874d84c4a60f35bd33db77baf55a,openstack/tripleo-upgrade,stable/queens,I014474001882874d84c4a60f35bd33db77baf55a,Autodiscover SSL cert after uc upgrade,MERGED,2019-11-13 19:12:47.000000000,2019-11-18 17:14:27.000000000,2019-11-18 17:14:27.000000000,"[{'_account_id': 11166}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-13 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4c0aeb213d132b6de415f7897c5ace79c716acc1', 'message': ""Autodiscover SSL cert after uc upgrade\n\nSSL is enabled on uc by default starting from R,\nso here is a way how ssl cert path is resolved:\n  1. If undercloud_service_certificate configured in undercloud.conf\n      use it\n  2. Check if generate_service_certificate is specified and\n      set to 'true' in undercloud.conf, or not present in undercloud.conf\n     (defaults to 'true')\n  3. Find autogenerated file in format:\n     /etc/pki/tls/certs/undercloud-[undercloud_public_host].pem\n\nChange-Id: I014474001882874d84c4a60f35bd33db77baf55a\n(cherry picked from commit 96b4bec38d6662e1b2776d255ef1dc5155934e3c)\n""}, {'number': 2, 'created': '2019-11-14 09:32:52.000000000', 'files': ['tasks/upgrade/undercloud_ssl_camap.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2d32930020173ad59e34a9ff92905c7e28578ac2', 'message': ""Autodiscover SSL cert after uc upgrade\n\nSSL is enabled on uc by default starting from R,\nso here is a way how ssl cert path is resolved:\n  1. If undercloud_service_certificate configured in undercloud.conf\n      use it\n  2. Check if generate_service_certificate is specified and\n      set to 'true' in undercloud.conf, or not present in undercloud.conf\n     (defaults to 'true')\n  3. Find autogenerated file in format:\n     /etc/pki/tls/certs/undercloud-[undercloud_public_host].pem\n\nChange-Id: I014474001882874d84c4a60f35bd33db77baf55a\n(cherry picked from commit 96b4bec38d6662e1b2776d255ef1dc5155934e3c)\n""}]",0,694141,2d32930020173ad59e34a9ff92905c7e28578ac2,10,4,2,11166,,,0,"Autodiscover SSL cert after uc upgrade

SSL is enabled on uc by default starting from R,
so here is a way how ssl cert path is resolved:
  1. If undercloud_service_certificate configured in undercloud.conf
      use it
  2. Check if generate_service_certificate is specified and
      set to 'true' in undercloud.conf, or not present in undercloud.conf
     (defaults to 'true')
  3. Find autogenerated file in format:
     /etc/pki/tls/certs/undercloud-[undercloud_public_host].pem

Change-Id: I014474001882874d84c4a60f35bd33db77baf55a
(cherry picked from commit 96b4bec38d6662e1b2776d255ef1dc5155934e3c)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/41/694141/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/undercloud_ssl_camap.yaml'],1,4c0aeb213d132b6de415f7897c5ace79c716acc1,," # # SSL is enabled on uc by default, so here is a way how ssl cert path is resolved # 1. If undercloud_service_certificate configured in undercloud.conf # use it # 2. Check if generate_service_certificate is specified and set to 'true' in undercloud.conf # or not present in undercloud.conf (defaults to 'true') # 3. Find autogenerated file in format: /etc/pki/tls/certs/undercloud-[undercloud_public_host].pem # - name: get ssl certificate location from undercloud.conf awk -F '=' '/^[[:space:]]*undercloud_service_certificate/ {gsub(/[[:space:]]/, """", $2); print $2}' {{ undercloud_conf }} register: uc_undercloud_service_certificate changed_when: uc_undercloud_service_certificate.stdout|length > 0 - name: get generate_service_certificate option from undercloud.conf shell: | awk -F '=' '/^[[:space:]]*generate_service_certificate/ {gsub(/[[:space:]]/, """", $2) ; print tolower($2)}' {{ undercloud_conf}} register: uc_generate_service_certificate changed_when: uc_generate_service_certificate.stdout|length > 0 - name: get undercloud_public_host option from undercloud.conf shell: | awk -F '=' '/^[[:space:]]*undercloud_public_host/ {gsub(/[[:space:]]/, """", $2) ; print $2}' {{ undercloud_conf}} register: uc_undercloud_public_host changed_when: uc_undercloud_public_host.stdout|length > 0 - name: get undercloud_public_vip option from undercloud.conf # undercloud_public_vip is deprecated name of undercloud_public_host shell: | awk -F '=' '/^[[:space:]]*undercloud_public_vip/ {gsub(/[[:space:]]/, """", $2) ; print $2}' {{ undercloud_conf}} register: uc_undercloud_public_vip changed_when: uc_undercloud_public_vip.stdout|length > 0 - name: find autogenerated SSL cert vars: uc_ssl_part: ""{{ uc_undercloud_public_host.stdout if uc_undercloud_public_host.stdout|length > 0 else uc_undercloud_public_vip.stdout }}"" find: path: /etc/pki/tls/certs/ patterns: 'undercloud-{{uc_ssl_part}}*.pem$' use_regex: true register: autogenerated_ssl_cert - name: fail if SSL cert for undercloud not found fail: msg: cannot determine SSL cert for undercloud when: - uc_undercloud_service_certificate.stdout|length == 0 - autogenerated_ssl_cert.files|length == 0 - name: set undercloud ssl cert fact set_fact: undercloud_cert: ""{{ uc_undercloud_service_certificate.stdout if uc_undercloud_service_certificate.stdout else autogenerated_ssl_cert.files[0].path }}"" src: ""{{ undercloud_cert }}"""," - name: register ssl certificate location grep 13000 /etc/haproxy/haproxy.cfg | awk {'print $6'} become: true become_user: root register: undercloudcert src: ""{{ undercloudcert.stdout }}""",52,6
openstack%2Fopenstack-ansible-lxc_container_create~master~I3be8e9e27bcba824012299f320d7f9389caba7ed,openstack/openstack-ansible-lxc_container_create,master,I3be8e9e27bcba824012299f320d7f9389caba7ed,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 18:37:34.000000000,2019-11-18 17:14:03.000000000,2019-11-18 17:12:35.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 18:37:34.000000000', 'files': ['tests/test-containers-functional.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/724c9efb1ac3fd1d6fb153cb46af51721c6fbc38', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\n\nChange-Id: I3be8e9e27bcba824012299f320d7f9389caba7ed\n'}]",0,694381,724c9efb1ac3fd1d6fb153cb46af51721c6fbc38,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.

Change-Id: I3be8e9e27bcba824012299f320d7f9389caba7ed
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/81/694381/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-containers-functional.yml', 'releasenotes/source/conf.py']",2,724c9efb1ac3fd1d6fb153cb46af51721c6fbc38,osa/opendev," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",2,2
openstack%2Foctavia~master~Ia9da64d76e31422464af9d24b675094f25350f48,openstack/octavia,master,Ia9da64d76e31422464af9d24b675094f25350f48,Fix name of VRRP configuration option,MERGED,2019-11-17 14:43:46.000000000,2019-11-18 17:11:40.000000000,2019-11-18 17:09:48.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-17 14:43:46.000000000', 'files': ['etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8178bd37a2cd345728f20163940a44b65a2e2e88', 'message': 'Fix name of VRRP configuration option\n\nThe provided etc/octavia.conf file is typically installed by system\npackages. It is important to set correct configuration option names and\ndefault values even when commented out.\n\nTask: 37525\nStory: 2006891\n\nChange-Id: Ia9da64d76e31422464af9d24b675094f25350f48\n'}]",0,694698,8178bd37a2cd345728f20163940a44b65a2e2e88,8,3,1,6469,,,0,"Fix name of VRRP configuration option

The provided etc/octavia.conf file is typically installed by system
packages. It is important to set correct configuration option names and
default values even when commented out.

Task: 37525
Story: 2006891

Change-Id: Ia9da64d76e31422464af9d24b675094f25350f48
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/694698/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/octavia.conf'],1,8178bd37a2cd345728f20163940a44b65a2e2e88,story/2006891,# vrrp_fail_count = 2,# vrpp_fail_count = 2,1,1
openstack%2Fopenstack-ansible-ceph_client~master~Ifbc75308e24ee1ef49698848ff8999ea0574c3fe,openstack/openstack-ansible-ceph_client,master,Ifbc75308e24ee1ef49698848ff8999ea0574c3fe,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 18:46:49.000000000,2019-11-18 17:09:22.000000000,2019-11-18 17:07:44.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 18:46:49.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/d3c6ebf03ea44ea09475462e49605f55f275941a', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\n\nChange-Id: Ifbc75308e24ee1ef49698848ff8999ea0574c3fe\n'}]",0,694383,d3c6ebf03ea44ea09475462e49605f55f275941a,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.

Change-Id: Ifbc75308e24ee1ef49698848ff8999ea0574c3fe
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/83/694383/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,d3c6ebf03ea44ea09475462e49605f55f275941a,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Iec59cd328b4a76b966f9c25fad4a1dc7012b4154,openstack/openstack-ansible-lxc_hosts,master,Iec59cd328b4a76b966f9c25fad4a1dc7012b4154,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 18:35:20.000000000,2019-11-18 17:05:10.000000000,2019-11-18 17:03:36.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 18:35:20.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3c46f249072ec3d506a5323abe0a6a03e0cac95a', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\n\nChange-Id: Iec59cd328b4a76b966f9c25fad4a1dc7012b4154\n'}]",0,694380,3c46f249072ec3d506a5323abe0a6a03e0cac95a,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.

Change-Id: Iec59cd328b4a76b966f9c25fad4a1dc7012b4154
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/80/694380/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,3c46f249072ec3d506a5323abe0a6a03e0cac95a,osa/opendev," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",1,1
openstack%2Fopenstack-ansible-os_manila~master~If100cd2ba80a274375e015cd4b7f5c7e130fd26c,openstack/openstack-ansible-os_manila,master,If100cd2ba80a274375e015cd4b7f5c7e130fd26c,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 15:05:31.000000000,2019-11-18 17:02:16.000000000,2019-11-18 17:00:44.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 15:05:31.000000000', 'files': ['defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/8836cac7e07f97bc12118d4554e506d589ba2169', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: If100cd2ba80a274375e015cd4b7f5c7e130fd26c\n'}]",0,694323,8836cac7e07f97bc12118d4554e506d589ba2169,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: If100cd2ba80a274375e015cd4b7f5c7e130fd26c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/23/694323/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'releasenotes/source/conf.py']",2,8836cac7e07f97bc12118d4554e506d589ba2169,osa/opendev,role_name = 'os_manila' 'https://opendev.org/openstack/{}'.format(target_name),role_name = 'os_placement' 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),4,4
openstack%2Fopenstack-ansible-openstack_openrc~master~I811ce0f7adfb00377c31338a7b823f710f558fcd,openstack/openstack-ansible-openstack_openrc,master,I811ce0f7adfb00377c31338a7b823f710f558fcd,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 17:20:12.000000000,2019-11-18 17:01:11.000000000,2019-11-18 16:59:56.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 17:20:12.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/75e64674a8905e11850175cb7a848c23c34f1033', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\n\nChange-Id: I811ce0f7adfb00377c31338a7b823f710f558fcd\n'}]",0,694365,75e64674a8905e11850175cb7a848c23c34f1033,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.

Change-Id: I811ce0f7adfb00377c31338a7b823f710f558fcd
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/65/694365/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,75e64674a8905e11850175cb7a848c23c34f1033,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),1,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~Iae8d1f21e85f73efb56230cffc3ad39793ec3f3b,openstack/openstack-ansible-rabbitmq_server,master,Iae8d1f21e85f73efb56230cffc3ad39793ec3f3b,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 17:22:01.000000000,2019-11-18 17:00:28.000000000,2019-11-18 16:59:06.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 17:22:01.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/9521d57251731bcb0754c2a13fcd326a8a8eb4a2', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\n\nChange-Id: Iae8d1f21e85f73efb56230cffc3ad39793ec3f3b\n'}]",0,694366,9521d57251731bcb0754c2a13fcd326a8a8eb4a2,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.

Change-Id: Iae8d1f21e85f73efb56230cffc3ad39793ec3f3b
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/66/694366/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,9521d57251731bcb0754c2a13fcd326a8a8eb4a2,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),1,1
openstack%2Fironic~master~I60a7e8ae62543304cff87eeb3c7006444899a2d2,openstack/ironic,master,I60a7e8ae62543304cff87eeb3c7006444899a2d2,Switch legacy jobs to Py3,MERGED,2019-11-13 12:46:35.000000000,2019-11-18 16:54:34.000000000,2019-11-18 16:52:23.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26297}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-11-13 12:46:35.000000000', 'files': ['playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c6722199f28324571c8d7e5f040d7d521c90eb5', 'message': ""Switch legacy jobs to Py3\n\nOur legacy jobs were running on py2.7, let's switch to py3\nbefore dropping py2.7\n\nChange-Id: I60a7e8ae62543304cff87eeb3c7006444899a2d2\n""}]",0,694060,2c6722199f28324571c8d7e5f040d7d521c90eb5,35,9,1,15519,,,0,"Switch legacy jobs to Py3

Our legacy jobs were running on py2.7, let's switch to py3
before dropping py2.7

Change-Id: I60a7e8ae62543304cff87eeb3c7006444899a2d2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/694060/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml']",2,2c6722199f28324571c8d7e5f040d7d521c90eb5,legacy_py3, export DEVSTACK_GATE_USE_PYTHON3=True,,2,0
openstack%2Ftripleo-ansible~master~Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88,openstack/tripleo-ansible,master,Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88,Improve molecule tests for tripleo-container-manage (systemd),MERGED,2019-11-15 14:04:23.000000000,2019-11-18 16:40:34.000000000,2019-11-18 16:40:34.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-15 14:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98d627887ec5d8b20e14d704ebe1cc1d0f012d8c', 'message': 'WIP - improve molecule tests for tripleo-container-manage\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n'}, {'number': 2, 'created': '2019-11-15 14:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd27b20e4b7a75ba20ebc25fd2cb8c281190332c', 'message': 'WIP - improve molecule tests for tripleo-container-manage\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n'}, {'number': 3, 'created': '2019-11-15 14:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e08720de443afab2090a9bb6c509bb42ff07a357', 'message': 'WIP - improve molecule tests for tripleo-container-manage\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n'}, {'number': 4, 'created': '2019-11-15 15:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b49cbabc3564cc13edc06f37a575184e11c7b4a7', 'message': 'WIP - improve molecule tests for tripleo-container-manage\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n'}, {'number': 5, 'created': '2019-11-15 15:50:55.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/484faa7e8016781afa86c099032b511bf90ef4fb', 'message': 'Improve molecule tests for tripleo-container-manage (systemd)\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n'}]",1,694541,484faa7e8016781afa86c099032b511bf90ef4fb,16,4,5,3153,,,0,"Improve molecule tests for tripleo-container-manage (systemd)

Change-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/694541/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/molecule/default/prepare.yml'],1,98d627887ec5d8b20e14d704ebe1cc1d0f012d8c,molecule," ""net"": ""host"", ""command"": ""sleep 3600"", ""restart"": ""always"",",,3,0
openstack%2Fcloudkitty~master~I8fcc3115aae5c33a815980f6946da224000d541a,openstack/cloudkitty,master,I8fcc3115aae5c33a815980f6946da224000d541a,Load drivers only once in the v2 API,MERGED,2019-10-03 12:50:11.000000000,2019-11-18 16:40:22.000000000,2019-11-18 16:39:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}, {'_account_id': 30960}]","[{'number': 1, 'created': '2019-10-03 12:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/20a74ad54740c885c971a53c443dd54f384a032f', 'message': 'Load drivers only once in the v2 API\n\nThis adds two functions to the BaseResource class of the v2 API: ""load""\nand ""reload"". Since flask_restful resources are instanciated on each request,\nthis allows to load drivers only once.\n\nStory: 2006654\nTask 36900\n\nChange-Id: I8fcc3115aae5c33a815980f6946da224000d541a\n'}, {'number': 2, 'created': '2019-10-18 08:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/4c94fc7d67f6b733d4f3372bf4dae171f64f4cba', 'message': 'Load drivers only once in the v2 API\n\nThis adds two functions to the BaseResource class of the v2 API: ""load""\nand ""reload"". Since flask_restful resources are instantiated on each request,\nthis allows to load drivers only once.\n\nStory: 2006654\nTask 36900\n\nChange-Id: I8fcc3115aae5c33a815980f6946da224000d541a\n'}, {'number': 3, 'created': '2019-11-05 09:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6c96762a3b65d47824cb6b29085cdc5f64313a11', 'message': 'Load drivers only once in the v2 API\n\nThis adds two functions to the BaseResource class of the v2 API: ""load""\nand ""reload"". Since flask_restful resources are instantiated on each request,\nthis allows to load drivers only once.\n\nStory: 2006654\nTask 36900\n\nChange-Id: I8fcc3115aae5c33a815980f6946da224000d541a\n'}, {'number': 4, 'created': '2019-11-06 14:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3dca7045a2f13b43aeecbb449f6a679c5a6e3072', 'message': 'Load drivers only once in the v2 API\n\nThis adds two functions to the BaseResource class of the v2 API: ""load""\nand ""reload"". Since flask_restful resources are instantiated on each request,\nthis allows to load drivers only once.\n\nStory: 2006654\nTask 36900\n\nChange-Id: I8fcc3115aae5c33a815980f6946da224000d541a\n'}, {'number': 5, 'created': '2019-11-18 13:54:21.000000000', 'files': ['cloudkitty/api/v2/scope/state.py', 'cloudkitty/api/v2/base.py', 'cloudkitty/tests/gabbi/fixtures.py', 'doc/source/developer/api/tutorial.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/daafaade8f58b6bfb7f1da0d8302c89743be3a39', 'message': 'Load drivers only once in the v2 API\n\nThis adds two functions to the BaseResource class of the v2 API: ""load""\nand ""reload"". Since flask_restful resources are instantiated on each request,\nthis allows to load drivers only once.\n\nStory: 2006654\nTask 36900\n\nChange-Id: I8fcc3115aae5c33a815980f6946da224000d541a\n'}]",4,686393,daafaade8f58b6bfb7f1da0d8302c89743be3a39,22,4,5,23060,,,0,"Load drivers only once in the v2 API

This adds two functions to the BaseResource class of the v2 API: ""load""
and ""reload"". Since flask_restful resources are instantiated on each request,
this allows to load drivers only once.

Story: 2006654
Task 36900

Change-Id: I8fcc3115aae5c33a815980f6946da224000d541a
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/93/686393/4 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/api/v2/scope/state.py', 'cloudkitty/api/v2/base.py', 'doc/source/developer/api/tutorial.rst']",3,20a74ad54740c885c971a53c443dd54f384a032f,,"Loading drivers --------------- Most of the time, resources need to load some drivers (storage, SQL...). As the instanciation of these drivers can take some time, this should be done only once. Some drivers (like the storage driver) are loaded in ``BaseResource`` and are thus available to all resources. Resources requiring some additional drivers should implement the ``reload`` function: .. code-block:: python class BaseResource(flask_restful.Resource): @classmethod def reload(cls): """"""Reloads all required drivers"""""" Here's an example taken from ``cloudkitty.api.v2.scope.state.ScopeState``: .. code-block:: python @classmethod def reload(cls): super(ScopeState, cls).reload() cls._client = messaging.get_client() cls._storage_state = storage_state.StateManager() ",,55,5
openstack%2Fkolla-ansible~stable%2Frocky~I49b24545501085d5a44f4de73f0c6dd21e06e2a0,openstack/kolla-ansible,stable/rocky,I49b24545501085d5a44f4de73f0c6dd21e06e2a0,Collect rabbitmq logs by fluentd,MERGED,2019-11-14 12:06:32.000000000,2019-11-18 16:36:28.000000000,2019-11-18 16:34:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22206}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 12:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/80110d8f02cd9033bbbcfa2bb6346a1c3c214728', 'message': 'Collect rabbitmq logs by fluentd\n\nChange-Id: I49b24545501085d5a44f4de73f0c6dd21e06e2a0\nCloses-Bug: #1835501\n(cherry picked from commit bf979282a1bf31a4897e007589e029ba92d2b40a)\n'}, {'number': 2, 'created': '2019-11-18 13:56:09.000000000', 'files': ['ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5845f02a1f0e9dafa9932ff17d7c5d293cfed12', 'message': 'Collect rabbitmq logs by fluentd\n\nThis patch has been modified for Rocky - only the log path needed to\nchange here as Rocky used RabbitMQ 3.6.\n\nChange-Id: I49b24545501085d5a44f4de73f0c6dd21e06e2a0\nCloses-Bug: #1835501\n(cherry picked from commit bf979282a1bf31a4897e007589e029ba92d2b40a)\n'}]",1,694275,c5845f02a1f0e9dafa9932ff17d7c5d293cfed12,15,5,2,14826,,,0,"Collect rabbitmq logs by fluentd

This patch has been modified for Rocky - only the log path needed to
change here as Rocky used RabbitMQ 3.6.

Change-Id: I49b24545501085d5a44f4de73f0c6dd21e06e2a0
Closes-Bug: #1835501
(cherry picked from commit bf979282a1bf31a4897e007589e029ba92d2b40a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/694275/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2'],1,80110d8f02cd9033bbbcfa2bb6346a1c3c214728,bug/1835501, path /var/log/kolla/rabbitmq/rabbit@{{ ansible_hostname }}.log format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\.\d{3}/ format1 /^(?<Timestamp>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\.\d{3}) \[(?<log_level>\w+)\] (?<Payload>.*)/, path /var/log/kolla/rabbitmq/rabbit.log format_firstline /^\s*$/ format1 /^=(?<log_level>\w+) REPORT==== (?<Times>[^ ]+) ===\n/ format2 /^(?<Payload>.*)/,3,4
openstack%2Fnetworking-ovn~stable%2Ftrain~I211713908352fd6328ff066c4ed792c99ab38296,openstack/networking-ovn,stable/train,I211713908352fd6328ff066c4ed792c99ab38296,[metadata-agent] Fix issue with TLS/SSL connections,MERGED,2019-11-18 10:42:30.000000000,2019-11-18 16:35:53.000000000,2019-11-18 16:34:42.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11082}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-11-18 10:42:30.000000000', 'files': ['networking_ovn/agent/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/48daa78006b142f0d2a2a4de182aff42daf55309', 'message': '[metadata-agent] Fix issue with TLS/SSL connections\n\nWhen working with TLS/SSL connections, we need to configure\nthe private key and certificates prior to retrieving\nthe schema from ovsdb-servers. This patch is fixing it.\n\nChange-Id: I211713908352fd6328ff066c4ed792c99ab38296\nCloses-Bug: #1850160\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 9c1dd65c8c94fe4217dbe1f96ad38ca77a9f318b)\n'}]",0,694742,48daa78006b142f0d2a2a4de182aff42daf55309,11,7,1,23804,,,0,"[metadata-agent] Fix issue with TLS/SSL connections

When working with TLS/SSL connections, we need to configure
the private key and certificates prior to retrieving
the schema from ovsdb-servers. This patch is fixing it.

Change-Id: I211713908352fd6328ff066c4ed792c99ab38296
Closes-Bug: #1850160
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 9c1dd65c8c94fe4217dbe1f96ad38ca77a9f318b)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/42/694742/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/ovsdb.py'],1,48daa78006b142f0d2a2a4de182aff42daf55309,bug/1850160-stable/train, ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA), ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA),1,1
openstack%2Fcookbook-openstack-telemetry~master~I938219bfdcfa69a910cae4b72a40c19d5124d99e,openstack/cookbook-openstack-telemetry,master,I938219bfdcfa69a910cae4b72a40c19d5124d99e,Allow ability to configure pipeline publishers,MERGED,2019-11-05 23:59:43.000000000,2019-11-18 16:11:13.000000000,2019-11-18 16:11:13.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 23:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/161320908e89cf1b14863604860ce55a51f6ab13', 'message': 'Allow ability to configure pipeline publishers\n\nThis adds a template for managing the pipeline.yaml file which allows one to\nconfigure the pipeline publishers such as gnocchi or prometheus. The template\nfile was taken from the latest Rocky tarball for ceilometer.\n\nChange-Id: I938219bfdcfa69a910cae4b72a40c19d5124d99e\n'}, {'number': 2, 'created': '2019-11-06 01:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/d88ca6b233b3841674b4d0528a23c3f4ae9163ea', 'message': 'Allow ability to configure pipeline publishers\n\nThis adds a template for managing the pipeline.yaml file which allows one to\nconfigure the pipeline publishers such as gnocchi or prometheus. The template\nfile was taken from the latest Rocky tarball for ceilometer.\n\nChange-Id: I938219bfdcfa69a910cae4b72a40c19d5124d99e\n'}, {'number': 3, 'created': '2019-11-06 03:12:15.000000000', 'files': ['spec/common_spec.rb', 'spec/agent-compute_spec.rb', 'recipes/agent-central.rb', 'templates/pipeline.yaml.erb', 'recipes/agent-notification.rb', 'spec/agent-central_spec.rb', 'attributes/default.rb', 'spec/agent-notification_spec.rb', 'recipes/common.rb', 'recipes/agent-compute.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/e416ba5d72b37ac8d770fbe3a2ca95a2be5263c5', 'message': 'Allow ability to configure pipeline publishers\n\nThis adds a template for managing the pipeline.yaml file which allows one to\nconfigure the pipeline publishers such as gnocchi or prometheus. The template\nfile was taken from the latest Rocky tarball for ceilometer.\n\nChange-Id: I938219bfdcfa69a910cae4b72a40c19d5124d99e\n'}]",0,693099,e416ba5d72b37ac8d770fbe3a2ca95a2be5263c5,10,2,3,21961,,,0,"Allow ability to configure pipeline publishers

This adds a template for managing the pipeline.yaml file which allows one to
configure the pipeline publishers such as gnocchi or prometheus. The template
file was taken from the latest Rocky tarball for ceilometer.

Change-Id: I938219bfdcfa69a910cae4b72a40c19d5124d99e
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/99/693099/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/common_spec.rb', 'spec/agent-compute_spec.rb', 'recipes/agent-central.rb', 'templates/pipeline.yaml.erb', 'recipes/agent-notification.rb', 'spec/agent-central_spec.rb', 'attributes/default.rb', 'spec/agent-notification_spec.rb', 'recipes/common.rb', 'recipes/agent-compute.rb']",10,161320908e89cf1b14863604860ce55a51f6ab13,pipeline.yaml," subscribes :restart, ""template[#{::File.join(node['openstack']['telemetry']['conf_dir'], 'pipeline.yaml')}]""",,154,0
openstack%2Fdevstack-plugin-ceph~master~I6436a6f836ad1ab9594858986bfdb8d6d6dbc392,openstack/devstack-plugin-ceph,master,I6436a6f836ad1ab9594858986bfdb8d6d6dbc392,Use vercmp,MERGED,2019-08-08 13:58:25.000000000,2019-11-18 16:10:53.000000000,2019-11-18 16:10:53.000000000,"[{'_account_id': 4523}, {'_account_id': 9236}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-08 13:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ffecad40a840421a80d054785ea7cea489161d67', 'message': 'Use vercmp\n\nChange-Id: I6436a6f836ad1ab9594858986bfdb8d6d6dbc392\n'}, {'number': 2, 'created': '2019-08-09 14:17:11.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/874e54abeb50601a89f8193b941d26e3f916c1dc', 'message': ""Use vercmp\n\nUse devstack's vercmp function instead of\nbc for version comparisons.\n\nChange-Id: I6436a6f836ad1ab9594858986bfdb8d6d6dbc392\n""}]",0,675340,874e54abeb50601a89f8193b941d26e3f916c1dc,11,3,2,4523,,,0,"Use vercmp

Use devstack's vercmp function instead of
bc for version comparisons.

Change-Id: I6436a6f836ad1ab9594858986bfdb8d6d6dbc392
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/40/675340/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,ffecad40a840421a80d054785ea7cea489161d67,," if vercmp ""$ceph_version"" "">="" ""14.0""; then", if [[ $(echo $ceph_version '>=' 14.0 | bc -l) == 1 ]] ; then,1,1
openstack%2Fcookbook-openstack-telemetry~master~Ia75850fd53829593d556e1e3fb1650f8ad919415,openstack/cookbook-openstack-telemetry,master,Ia75850fd53829593d556e1e3fb1650f8ad919415,Don't copy gnocchi_resources.yaml for RHEL,MERGED,2019-10-23 22:34:44.000000000,2019-11-18 15:59:04.000000000,2019-11-18 15:59:04.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 22:34:44.000000000', 'files': ['spec/gnocchi_configure-rhel_spec.rb', 'recipes/gnocchi_configure.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/ec8989cfcacc4297e580b97441fac18c52258109', 'message': ""Don't copy gnocchi_resources.yaml for RHEL\n\nRDO provides a sane copy of this file and it's causing issues on RHEL platforms.\n\nChange-Id: Ia75850fd53829593d556e1e3fb1650f8ad919415\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,690756,ec8989cfcacc4297e580b97441fac18c52258109,6,2,1,21961,,,0,"Don't copy gnocchi_resources.yaml for RHEL

RDO provides a sane copy of this file and it's causing issues on RHEL platforms.

Change-Id: Ia75850fd53829593d556e1e3fb1650f8ad919415
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/56/690756/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/gnocchi_configure-rhel_spec.rb', 'recipes/gnocchi_configure.rb']",2,ec8989cfcacc4297e580b97441fac18c52258109,gnocchi_resources.yaml-centos, only_if { node['platform'] == 'ubuntu' },,24,0
openstack%2Fdevstack-plugin-ceph~master~I293ccf2111e2983465fcd8c12b3ea931ad446344,openstack/devstack-plugin-ceph,master,I293ccf2111e2983465fcd8c12b3ea931ad446344,Allow choosing Ceph release on CentOS,MERGED,2019-08-05 21:06:15.000000000,2019-11-18 15:55:02.000000000,2019-11-18 15:55:02.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 9236}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 21:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1ec1c03c878f2a66404a5b1482a5d7e546a2ac70', 'message': 'Allow choosing Ceph release on CentOS\n\nChange-Id: I293ccf2111e2983465fcd8c12b3ea931ad446344\n'}, {'number': 2, 'created': '2019-08-06 13:53:05.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/1413355064d1416317ee87a48f53a1232e796d0a', 'message': 'Allow choosing Ceph release on CentOS\n\nChange-Id: I293ccf2111e2983465fcd8c12b3ea931ad446344\n'}]",0,674699,1413355064d1416317ee87a48f53a1232e796d0a,11,4,2,4523,,,0,"Allow choosing Ceph release on CentOS

Change-Id: I293ccf2111e2983465fcd8c12b3ea931ad446344
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/99/674699/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,1ec1c03c878f2a66404a5b1482a5d7e546a2ac70,," if [ ${CEPH_RELEASE} > 'jewel' ]; then repo=${CEPH_RELEASE} else repo=""jewel"" fi configure_repo_ceph ""yum"" $repo ""${DISTRO_TYPE}"" ""${RELEASE}"""," configure_repo_ceph ""yum"" ""jewel"" ""${DISTRO_TYPE}"" ""${RELEASE}""",6,1
openstack%2Fdevstack-plugin-ceph~master~Ia0fa8d0a0093810a4925563b9a12a4b06e2d386a,openstack/devstack-plugin-ceph,master,Ia0fa8d0a0093810a4925563b9a12a4b06e2d386a,Test attach encrypted volume on stable branches,ABANDONED,2018-12-11 15:19:01.000000000,2019-11-18 15:50:24.000000000,,"[{'_account_id': 4523}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-11 15:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/80cd34e52a2a4ccfbcdc0fa3c8e5f720d2b95a4d', 'message': 'Test attach encrypted volume on stable branches\n\nThis should work on Queens and Rocky.\n\nChange-Id: Ia0fa8d0a0093810a4925563b9a12a4b06e2d386a\n'}, {'number': 2, 'created': '2018-12-13 13:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/9e4a75a21a9065165eb5407e96755bab7b2a5400', 'message': 'Test attach encrypted volume on stable branches\n\nThis should work on Queens and Rocky.\n\nChange-Id: Ia0fa8d0a0093810a4925563b9a12a4b06e2d386a\n'}, {'number': 3, 'created': '2018-12-18 19:33:27.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5c91016f756113ad44a2b6068c4e54acee173f52', 'message': 'Test attach encrypted volume on stable branches\n\nThis should work on Queens and Rocky.\n\nChange-Id: Ia0fa8d0a0093810a4925563b9a12a4b06e2d386a\n'}]",0,624423,5c91016f756113ad44a2b6068c4e54acee173f52,9,3,3,4523,,,0,"Test attach encrypted volume on stable branches

This should work on Queens and Rocky.

Change-Id: Ia0fa8d0a0093810a4925563b9a12a4b06e2d386a
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/23/624423/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,80cd34e52a2a4ccfbcdc0fa3c8e5f720d2b95a4d,570015,"if [[ ""$TARGET_BRANCH"" =~ (master|stable/rocky|stable/queens) ]]; then","if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then # TODO: enable this for Queens and later",1,2
openstack%2Fgovernance-uc~master~Ic0f1c17ea22635cfbf90df0fa5b9a6ad0056a491,openstack/governance-uc,master,Ic0f1c17ea22635cfbf90df0fa5b9a6ad0056a491,Remove Public Cloud WG,MERGED,2019-04-24 08:46:04.000000000,2019-11-18 15:36:32.000000000,2019-11-18 15:34:07.000000000,"[{'_account_id': 7272}, {'_account_id': 12404}, {'_account_id': 13629}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23924}]","[{'number': 1, 'created': '2019-04-24 08:46:04.000000000', 'files': ['reference/working-groups.yaml'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/61b86c19ab918bbdae702505329794b1b8596bee', 'message': 'Remove Public Cloud WG\n\nOnce Public Cloud SIG formed, we should be\nable to remove WG and switch governence to sig.\n\nDepends-On: https://review.opendev.org/655354\nChange-Id: Ic0f1c17ea22635cfbf90df0fa5b9a6ad0056a491\n'}]",0,655355,61b86c19ab918bbdae702505329794b1b8596bee,11,7,1,12404,,,0,"Remove Public Cloud WG

Once Public Cloud SIG formed, we should be
able to remove WG and switch governence to sig.

Depends-On: https://review.opendev.org/655354
Change-Id: Ic0f1c17ea22635cfbf90df0fa5b9a6ad0056a491
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/55/655355/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/working-groups.yaml'],1,61b86c19ab918bbdae702505329794b1b8596bee,create-public-cloud-sig,," Public Cloud Working Group: chairs: - name: Tobias Rydberg irc: email: tobias.rydberg@citynetwork.eu - name: Howard Huang irc: email: huangzhipeng@huawei.com mission: > The aim of this group is to represent the interests of the OpenStack public cloud provider community, and to further adoption of OpenStack public cloud usage. url: https://wiki.openstack.org/wiki/PublicCloudWorkingGroup status: active aucs: - name: irc: email: expires-in: extra-aucs: - name: email: expires-in: comment:",0,23
openstack%2Fgovernance-uc~master~I5015714caaed5b031a2ebdbaec4cb934cd29b455,openstack/governance-uc,master,I5015714caaed5b031a2ebdbaec4cb934cd29b455,Update sphinx extension logging,MERGED,2018-10-16 19:19:24.000000000,2019-11-18 15:34:59.000000000,2019-11-18 15:33:18.000000000,"[{'_account_id': 2033}, {'_account_id': 7272}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 24100}, {'_account_id': 28738}]","[{'number': 1, 'created': '2018-10-16 19:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/d1a5e7b63efaf948cc600f986cce1dd75967b705', 'message': 'Update sphinx extension logging\n\nSphinx 1.6 deprecated using the application object to perform logging\nand it will be removed in the upcoming 2.0 release. This updates our\nextensions to use the recommended sphinx.util.logging instead.\n\nChange-Id: I5015714caaed5b031a2ebdbaec4cb934cd29b455\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2018-10-16 21:43:47.000000000', 'files': ['doc/source/_exts/members.py', 'doc/source/_exts/teamtable.py'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/8883c5cd1cef3e58959e86227b93eb0aa84561fc', 'message': 'Update sphinx extension logging\n\nSphinx 1.6 deprecated using the application object to perform logging\nand it will be removed in the upcoming 2.0 release. This updates our\nextensions to use the recommended sphinx.util.logging instead.\n\nChange-Id: I5015714caaed5b031a2ebdbaec4cb934cd29b455\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,611134,8883c5cd1cef3e58959e86227b93eb0aa84561fc,14,6,2,11904,,,0,"Update sphinx extension logging

Sphinx 1.6 deprecated using the application object to perform logging
and it will be removed in the upcoming 2.0 release. This updates our
extensions to use the recommended sphinx.util.logging instead.

Change-Id: I5015714caaed5b031a2ebdbaec4cb934cd29b455
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/34/611134/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/members.py', 'doc/source/_exts/teamtable.py']",2,d1a5e7b63efaf948cc600f986cce1dd75967b705,sphinx-logging,"""""""Build a table of the current teams"""""" import yamlfrom sphinx.util import logging LOG = logging.getLogger(__name__) LOG.info('loading teamtable') LOG.info('reading %s' % filename)","""""""Build a table of the current teams """""" import yaml env = self.state.document.settings.env app = env.app app.info('loading teamtable') app.info('reading %s' % filename)",12,10
openstack%2Fkolla-ansible~master~I3a61bfbcbf366c327ea3e25d2424bc3fedca29f0,openstack/kolla-ansible,master,I3a61bfbcbf366c327ea3e25d2424bc3fedca29f0,Remove OpenDaylight role,MERGED,2019-11-15 12:05:47.000000000,2019-11-18 15:32:17.000000000,2019-11-18 15:30:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-15 12:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f6c5225dbe37c69fd0757a09951cc36d6d65cd6', 'message': 'Remove OpenDaylight role\n\nOpendaylight support has been deprecated in Rocky - time to remove it.\n\nChange-Id: I3a61bfbcbf366c327ea3e25d2424bc3fedca29f0\n'}, {'number': 2, 'created': '2019-11-15 12:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/861aa9ab60e2b2f5b75906bc582d076fd308d7a3', 'message': 'Remove OpenDaylight role\n\nOpendaylight support has been deprecated in Train - time to remove it.\n\nChange-Id: I3a61bfbcbf366c327ea3e25d2424bc3fedca29f0\n'}, {'number': 3, 'created': '2019-11-15 13:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6d2d377fdfb7d5b21b98375b81ab876a5bf8601', 'message': 'Remove OpenDaylight role\n\nOpendaylight support has been deprecated in Train - time to remove it.\n\nChange-Id: I3a61bfbcbf366c327ea3e25d2424bc3fedca29f0\n'}, {'number': 4, 'created': '2019-11-18 11:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/172f07cf36f067847ff5016ee3d8652cacd83119', 'message': 'Remove OpenDaylight role\n\nOpendaylight support has been deprecated in Train - time to remove it.\n\nChange-Id: I3a61bfbcbf366c327ea3e25d2424bc3fedca29f0\n'}, {'number': 5, 'created': '2019-11-18 11:57:38.000000000', 'files': ['ansible/roles/opendaylight/tasks/main.yml', 'ansible/roles/opendaylight/tasks/deploy.yml', 'ansible/roles/opendaylight/templates/module-shards.conf.j2', 'ansible/roles/opendaylight/templates/tomcat-server.xml.j2', 'ansible/site.yml', 'ansible/roles/opendaylight/templates/opendaylight.json.j2', 'ansible/roles/opendaylight/templates/setenv.j2', 'ansible/roles/opendaylight/templates/org.ops4j.pax.logging.cfg.j2', 'ansible/roles/opendaylight/templates/jetty.xml.j2', 'etc/kolla/globals.yml', 'releasenotes/notes/remove-opendaylight-4caac9fbf25b8015.yaml', 'ansible/roles/opendaylight/templates/custom.properties.j2', 'doc/source/reference/networking/index.rst', 'ansible/roles/skydive/templates/skydive-agent.conf.j2', 'ansible/roles/opendaylight/defaults/main.yml', 'ansible/roles/opendaylight/templates/org.opendaylight.ovsdb.library.cfg.j2', 'ansible/roles/neutron/templates/neutron-server.json.j2', 'ansible/roles/opendaylight/templates/org.apache.karaf.features.cfg.j2', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/opendaylight/tasks/deploy-containers.yml', 'ansible/roles/opendaylight/tasks/check-containers.yml', 'ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/tasks/reconfigure.yml', 'ansible/roles/opendaylight/meta/main.yml', 'ansible/roles/opendaylight/tasks/pull.yml', 'tests/templates/inventory.j2', 'ansible/inventory/multinode', 'ansible/roles/opendaylight/templates/modules.conf.j2', 'ansible/roles/common/templates/cron.json.j2', 'ansible/roles/opendaylight/tasks/upgrade.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/opendaylight/tasks/precheck.yml', 'ansible/roles/opendaylight/tasks/check.yml', 'ansible/roles/openvswitch/templates/start-ovs.j2', 'doc/source/reference/networking/opendaylight.rst', 'ansible/roles/common/templates/cron-logrotate-opendaylight.conf.j2', 'ansible/roles/opendaylight/templates/netvirt-aclservice-config.xml.j2', 'etc/kolla/passwords.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/opendaylight/templates/akka.conf.j2', 'ansible/roles/opendaylight/tasks/loadbalancer.yml', 'ansible/roles/neutron/templates/dhcp_agent.ini.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/opendaylight/tasks/stop.yml', 'ansible/roles/opendaylight/templates/netvirt-impl-config_netvirt-impl-config.xml.j2', 'ansible/roles/common/templates/conf/input/08-opendaylight.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/opendaylight/templates/org.ops4j.pax.url.mvn.cfg.j2', 'ansible/roles/opendaylight/templates/10-rest-connector.xml.j2', 'ansible/roles/opendaylight/templates/start-odl.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eec6831fff96147f442935c5d0050974fbed349b', 'message': 'Remove OpenDaylight role\n\nOpendaylight support has been deprecated in Train - time to remove it.\n\nChange-Id: I3a61bfbcbf366c327ea3e25d2424bc3fedca29f0\n'}]",11,694523,eec6831fff96147f442935c5d0050974fbed349b,25,4,5,22629,,,0,"Remove OpenDaylight role

Opendaylight support has been deprecated in Train - time to remove it.

Change-Id: I3a61bfbcbf366c327ea3e25d2424bc3fedca29f0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/694523/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/opendaylight/tasks/main.yml', 'ansible/roles/opendaylight/tasks/deploy.yml', 'ansible/roles/opendaylight/templates/module-shards.conf.j2', 'ansible/roles/opendaylight/templates/tomcat-server.xml.j2', 'ansible/site.yml', 'ansible/roles/opendaylight/templates/opendaylight.json.j2', 'ansible/roles/opendaylight/templates/setenv.j2', 'ansible/roles/opendaylight/templates/org.ops4j.pax.logging.cfg.j2', 'ansible/roles/opendaylight/templates/jetty.xml.j2', 'etc/kolla/globals.yml', 'releasenotes/notes/remove-opendaylight-4caac9fbf25b8015.yaml', 'ansible/roles/opendaylight/templates/custom.properties.j2', 'doc/source/reference/networking/index.rst', 'ansible/roles/skydive/templates/skydive-agent.conf.j2', 'ansible/roles/opendaylight/defaults/main.yml', 'ansible/roles/opendaylight/templates/org.opendaylight.ovsdb.library.cfg.j2', 'ansible/roles/neutron/templates/neutron-server.json.j2', 'ansible/roles/opendaylight/templates/org.apache.karaf.features.cfg.j2', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/opendaylight/tasks/deploy-containers.yml', 'ansible/roles/opendaylight/tasks/check-containers.yml', 'ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/tasks/reconfigure.yml', 'ansible/roles/opendaylight/meta/main.yml', 'ansible/roles/opendaylight/tasks/pull.yml', 'tests/templates/inventory.j2', 'ansible/inventory/multinode', 'ansible/roles/opendaylight/templates/modules.conf.j2', 'ansible/roles/common/templates/cron.json.j2', 'ansible/roles/opendaylight/tasks/upgrade.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/opendaylight/tasks/precheck.yml', 'ansible/roles/opendaylight/tasks/check.yml', 'ansible/roles/openvswitch/templates/start-ovs.j2', 'doc/source/reference/networking/opendaylight.rst', 'ansible/roles/common/templates/cron-logrotate-opendaylight.conf.j2', 'ansible/roles/opendaylight/templates/netvirt-aclservice-config.xml.j2', 'etc/kolla/passwords.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/opendaylight/templates/akka.conf.j2', 'ansible/roles/opendaylight/tasks/loadbalancer.yml', 'ansible/roles/neutron/templates/dhcp_agent.ini.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/opendaylight/tasks/stop.yml', 'ansible/roles/opendaylight/templates/netvirt-impl-config_netvirt-impl-config.xml.j2', 'ansible/roles/common/templates/conf/input/08-opendaylight.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/opendaylight/templates/org.ops4j.pax.url.mvn.cfg.j2', 'ansible/roles/opendaylight/templates/10-rest-connector.xml.j2', 'ansible/roles/opendaylight/templates/start-odl.j2']",53,5f6c5225dbe37c69fd0757a09951cc36d6d65cd6,,,#!/usr/bin/env bash java -jar /opt/opendaylight/bin/aaa-cli-jar.jar --dbd /opt/opendaylight/ --nu admin -p {{ opendaylight_password }} /opt/opendaylight/bin/karaf ,22,1242
openstack%2Fgovernance-sigs~master~Ie52a94aab7fe7141dc5fef69b97ed925b0a1e32d,openstack/governance-sigs,master,Ie52a94aab7fe7141dc5fef69b97ed925b0a1e32d,Add new chairs for the Baremetal SIG,MERGED,2019-10-23 09:04:50.000000000,2019-11-18 15:31:48.000000000,2019-11-18 15:30:08.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 09:04:50.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/35d563d11656d857cfd6e9da04344218d5fb82cd', 'message': 'Add new chairs for the Baremetal SIG\n\nReplace Chris by Arne and Dmitry.\n\nChange-Id: Ie52a94aab7fe7141dc5fef69b97ed925b0a1e32d\n'}]",0,690519,35d563d11656d857cfd6e9da04344218d5fb82cd,11,6,1,11292,,,0,"Add new chairs for the Baremetal SIG

Replace Chris by Arne and Dmitry.

Change-Id: Ie52a94aab7fe7141dc5fef69b97ed925b0a1e32d
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/19/690519/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,35d563d11656d857cfd6e9da04344218d5fb82cd,baremetal_sig, - name: Arne Wiebalck irc: arne_wiebalck email: arne.wiebalck@cern.ch - name: Dmitry Tantsur irc: dtantsur email: dtantsur@protonmail.com, - name: Chris Hoge irc: hogepodge email: chris@openstack.org,6,3
openstack%2Frpm-packaging~master~I76ee6a17ba74b76419b5279974ca776c390bba81,openstack/rpm-packaging,master,I76ee6a17ba74b76419b5279974ca776c390bba81,[TEST DNM] Testing updated Zuul jobs in RDO CI,ABANDONED,2019-11-18 14:34:54.000000000,2019-11-18 15:29:52.000000000,,"[{'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-18 14:34:54.000000000', 'files': ['openstack/pbr/pbr.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8c7eca90743a3268b67a1841c9d871cb89a89c53', 'message': '[TEST DNM] Testing updated Zuul jobs in RDO CI\n\nDepends-On: https://review.rdoproject.org/r/23742\nChange-Id: I76ee6a17ba74b76419b5279974ca776c390bba81\n'}]",0,694785,8c7eca90743a3268b67a1841c9d871cb89a89c53,6,3,1,13294,,,0,"[TEST DNM] Testing updated Zuul jobs in RDO CI

Depends-On: https://review.rdoproject.org/r/23742
Change-Id: I76ee6a17ba74b76419b5279974ca776c390bba81
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/85/694785/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pbr/pbr.spec.j2'],1,8c7eca90743a3268b67a1841c9d871cb89a89c53,, ,,2,0
openstack%2Fheat~master~Iae43580a5e5245a3b431f66ea5ee9cf46582480a,openstack/heat,master,Iae43580a5e5245a3b431f66ea5ee9cf46582480a,[WIP] KeystoneClientPlugin user ID case insensitivity,ABANDONED,2019-11-13 17:15:03.000000000,2019-11-18 15:23:07.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-11-13 17:15:03.000000000', 'files': ['heat/engine/clients/os/keystone/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d0ff922ce4124621ffdd8e6e60c9a4be0e63b6d6', 'message': '[WIP] KeystoneClientPlugin user ID case insensitivity\n\nThis patch changes the get_user_id() method in the Keystone\nClient Plugin to be case insensitive.\n\nChange-Id: Iae43580a5e5245a3b431f66ea5ee9cf46582480a\n'}]",0,694117,d0ff922ce4124621ffdd8e6e60c9a4be0e63b6d6,7,5,1,22636,,,0,"[WIP] KeystoneClientPlugin user ID case insensitivity

This patch changes the get_user_id() method in the Keystone
Client Plugin to be case insensitive.

Change-Id: Iae43580a5e5245a3b431f66ea5ee9cf46582480a
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/694117/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/keystone/__init__.py'],1,d0ff922ce4124621ffdd8e6e60c9a4be0e63b6d6,, if (user_obj.name == user or user_obj.name.lower() == user.lower()):, if user_obj.name == user:,2,1
openstack%2Fsearchlight~master~I6b1d709f5d0e4b43e371c4bf856a250a27834e03,openstack/searchlight,master,I6b1d709f5d0e4b43e371c4bf856a250a27834e03,Add option to support python3 in devstack,MERGED,2019-11-18 13:05:50.000000000,2019-11-18 15:01:11.000000000,2019-11-18 14:59:36.000000000,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-18 13:05:50.000000000', 'files': ['devstack/local.conf.example'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/2f2b2aa3c849c3fe265c43e8587a7b57bfe73e32', 'message': 'Add option to support python3 in devstack\n\nBy default stack.sh uses python2.\nYou can ignore this, so devstack runs python3.\nSo in local.conf.example you can use python3 for options\nUSE_PYTHON3 = True has been added.\n\nChange-Id: I6b1d709f5d0e4b43e371c4bf856a250a27834e03\n'}]",0,694763,2f2b2aa3c849c3fe265c43e8587a7b57bfe73e32,8,3,1,31300,,,0,"Add option to support python3 in devstack

By default stack.sh uses python2.
You can ignore this, so devstack runs python3.
So in local.conf.example you can use python3 for options
USE_PYTHON3 = True has been added.

Change-Id: I6b1d709f5d0e4b43e371c4bf856a250a27834e03
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/63/694763/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.example'],1,2f2b2aa3c849c3fe265c43e8587a7b57bfe73e32,,USE_PYTHON3=True,,1,0
openstack%2Fnetworking-odl~master~I93c3a18fef275d6ad99acc7e459445599f119f84,openstack/networking-odl,master,I93c3a18fef275d6ad99acc7e459445599f119f84,Remove the remaining neutron-lbaas related constants,MERGED,2019-06-28 12:23:21.000000000,2019-11-18 14:46:16.000000000,2019-11-18 14:44:48.000000000,"[{'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 25550}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-06-28 12:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/204e7e389dcf8fd40b62e7ec3e5faff3158cbff9', 'message': 'Remove the remaining neutron-lbaas related constants\n\nChange-Id: I93c3a18fef275d6ad99acc7e459445599f119f84\n'}, {'number': 2, 'created': '2019-10-03 11:41:34.000000000', 'files': ['networking_odl/tests/unit/journal/test_full_sync.py', 'networking_odl/common/constants.py', 'networking_odl/common/lightweight_testing.py', 'networking_odl/journal/full_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b24529823aaca1a6f63fd6c62e61b1df740e0338', 'message': 'Remove the remaining neutron-lbaas related constants\n\nChange-Id: I93c3a18fef275d6ad99acc7e459445599f119f84\n'}]",0,668161,b24529823aaca1a6f63fd6c62e61b1df740e0338,11,7,2,8313,,,0,"Remove the remaining neutron-lbaas related constants

Change-Id: I93c3a18fef275d6ad99acc7e459445599f119f84
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/61/668161/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/journal/test_full_sync.py', 'networking_odl/common/constants.py', 'networking_odl/common/lightweight_testing.py', 'networking_odl/journal/full_sync.py']",4,204e7e389dcf8fd40b62e7ec3e5faff3158cbff9,bandit-blacklist,," odl_const.ODL_LOADBALANCER, odl_const.ODL_LISTENER, odl_const.ODL_POOL, odl_const.ODL_MEMBER, odl_const.ODL_HEALTHMONITOR,",2,26
openstack%2Fnetworking-ovn~stable%2Fstein~Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a,openstack/networking-ovn,stable/stein,Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a,Add missing unittests to OVN provider driver,MERGED,2019-11-13 08:11:59.000000000,2019-11-18 14:08:30.000000000,2019-11-18 14:07:00.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-13 08:11:59.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/68ae720bb42bf9a9efc528158d4643c08daeeda7', 'message': ""Add missing unittests to OVN provider driver\n\nThis change bumps up test coverage.\nDuring writing those tests I found also a few issues:\n\n1) In method pool_update the operating_status shouldn't\nbe set with veryfing if the pool has members or not.\nThe only way of setting operating_status to OFFLINE is\nto administratively disable it or via member healt monitor,\nwhich we don't yet support. Dropping this wrong code.\nhttps://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool\n\n2) _check_monitor_options() logic was wrong - fixed it\n\n3) In pool_delete() in some coditions the external_ids\ncould be used, but not initlized. I moved it to be on the top\nof function.\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n(cherry picked from commit 77d03f6f17081e0f8c15cab0444261bc4e517055)\n""}]",0,694005,68ae720bb42bf9a9efc528158d4643c08daeeda7,10,4,1,24791,,,0,"Add missing unittests to OVN provider driver

This change bumps up test coverage.
During writing those tests I found also a few issues:

1) In method pool_update the operating_status shouldn't
be set with veryfing if the pool has members or not.
The only way of setting operating_status to OFFLINE is
to administratively disable it or via member healt monitor,
which we don't yet support. Dropping this wrong code.
https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool

2) _check_monitor_options() logic was wrong - fixed it

3) In pool_delete() in some coditions the external_ids
could be used, but not initlized. I moved it to be on the top
of function.

Change-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a
(cherry picked from commit 77d03f6f17081e0f8c15cab0444261bc4e517055)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/05/694005/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,68ae720bb42bf9a9efc528158d4643c08daeeda7,,"from neutronclient.common import exceptions as n_exc self.pool_id = uuidutils.generate_uuid() self.member_port = ""1010"" self.member_pool_id = self.pool_id self.member_address = ""192.168.2.149"" def test_member_create_different_ip_version_lb_disable(self): self.driver._ovn_helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.ref_member.address = 'fc00::1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.ref_member) self.driver._ovn_helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_create_no_subnet_provided(self): self.ref_member.subnet_id = data_models.UnsetType() self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.ref_member) def test_member_create_monitor_opts(self): self.ref_member.monitor_address = '172.20.20.1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.ref_member) self.ref_member.monitor_port = '80' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.ref_member) def test_member_create_no_set_admin_state_up(self): self.ref_member.admin_state_up = data_models.UnsetType() info = {'id': self.ref_member.member_id, 'address': self.ref_member.address, 'protocol_port': self.ref_member.protocol_port, 'pool_id': self.ref_member.pool_id, 'subnet_id': self.ref_member.subnet_id, 'admin_state_up': True} expected_dict = {'type': ovn_driver.REQ_TYPE_MEMBER_CREATE, 'info': info} self.driver.member_create(self.ref_member) self.mock_add_request.assert_called_once_with(expected_dict) def test_member_batch_update(self): def test_member_batch_update_no_members(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_batch_update, []) def test_member_batch_update_missing_pool(self): delattr(self.ref_member, 'pool_id') self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_batch_update, [self.ref_member]) def test_member_batch_update_skipped_monitor(self): self.ref_member.monitor_address = '10.11.1.1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_batch_update, [self.ref_member]) def test_member_batch_update_skipped_mixed_ip(self): self.ref_member.address = 'fc00::1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_batch_update, [self.ref_member]) def test_member_batch_update_unset_admin_state_up(self): self.ref_member.admin_state_up = data_models.UnsetType() self.driver.member_batch_update([self.ref_member]) self.assertEqual(self.mock_add_request.call_count, 2) def test_listener_create_unset_admin_state_up(self): self.ref_listener.admin_state_up = data_models.UnsetType() info = {'id': self.ref_listener.listener_id, 'protocol': self.ref_listener.protocol, 'protocol_port': self.ref_listener.protocol_port, 'default_pool_id': self.ref_listener.default_pool_id, 'admin_state_up': True, 'loadbalancer_id': self.ref_listener.loadbalancer_id} expected_dict = {'type': ovn_driver.REQ_TYPE_LISTENER_CREATE, 'info': info} self.driver.listener_create(self.ref_listener) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_create_unset_admin_state_up(self): self.ref_lb0.admin_state_up = data_models.UnsetType() info = {'id': self.ref_lb0.loadbalancer_id, 'vip_address': self.ref_lb0.vip_address, 'vip_network_id': self.ref_lb0.vip_network_id, 'admin_state_up': True} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_CREATE, 'info': info} self.driver.loadbalancer_create(self.ref_lb0) self.mock_add_request.assert_called_once_with(expected_dict) self.ref_pool.protocol = 'HTTP' self.driver.pool_create, self.ref_pool) self.ref_pool.lb_algorithm = constants.LB_ALGORITHM_LEAST_CONNECTIONS self.driver.pool_create, self.ref_pool) def test_pool_create(self): def test_pool_create_unset_admin_state_up(self): self.ref_pool.admin_state_up = data_models.UnsetType() info = {'id': self.ref_pool.pool_id, 'loadbalancer_id': self.ref_pool.loadbalancer_id, 'listener_id': self.ref_pool.listener_id, 'admin_state_up': True} expected_dict = {'type': ovn_driver.REQ_TYPE_POOL_CREATE, 'info': info} self.driver.pool_create(self.ref_pool) self.mock_add_request.assert_called_once_with(expected_dict) def test_create_vip_port_exception(self): with mock.patch.object(ovn_driver, 'get_network_driver', side_effect=[RuntimeError]): self.assertRaises( exceptions.DriverError, self.driver.create_vip_port, self.loadbalancer_id, self.project_id, self.vip_dict) self.member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) self.ovn_lb.external_ids = { ovn_driver.LB_EXT_IDS_VIP_KEY: '10.22.33.4', ovn_driver.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.123', ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', 'enabled': True, 'pool_%s' % self.pool_id: self.member_line, 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} mock.patch.object(ovn_driver.OvnProviderHelper, '_find_ovn_lb', return_value=self.ovn_lb).start() 'ports': [], (self.helper.ovn_nbdb_api.ls_get.return_value. execute.return_value) = self.network def test_lb_create_disabled(self, net_dr): self.lb['admin_state_up'] = False self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_driver.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'False'}, name=mock.ANY, protocol='tcp') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_create_enabled(self, net_dr): net_dr.return_value.neutron_client.list_ports.return_value = ( self.ports) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_driver.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'True'}, name=mock.ANY, protocol='tcp') @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_create_exception(self, del_port, net_dr): self.helper._find_ovn_lb.side_effect = [RuntimeError] net_dr.return_value.neutron_client.list_ports.return_value = ( self.ports) status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) del_port.assert_called_once_with(self.ports.get('ports')[0]['id']) @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_delete(self, del_port, net_dr): status = self.helper.lb_delete(self.ovn_lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) del_port.assert_called_once_with('foo_port') @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_delete_row_not_found(self, del_port): self.helper._find_ovn_lb.side_effect = [idlutils.RowNotFound] self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_not_called() @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_delete_exception(self, del_port, net_dr): del_port.side_effect = [RuntimeError] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_called_once_with('foo_port') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_delete_port_not_found(self, del_port, net_dr): del_port.side_effect = [n_exc.PortNotFoundClient] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_called_once_with('foo_port') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_delete_cascade(self, net_dr): net_dr.return_value.neutron_client.delete_port.return_value = None self.assertEqual(status['listeners'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['pools'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['members'][0]['provisioning_status'], constants.DELETED) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_delete_ls_lr(self, net_dr): self.ovn_lb.external_ids.update({ ovn_driver.LB_EXT_IDS_LR_REF_KEY: self.router.name, ovn_driver.LB_EXT_IDS_LS_REFS_KEY: '{\""neutron-%s\"": 1}' % self.network.uuid}) net_dr.return_value.neutron_client.delete_port.return_value = None (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = self.network (self.helper.ovn_nbdb_api.tables['Logical_Router'].rows. values.return_value) = [self.router] self.helper.lb_delete(self.ovn_lb) self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ovn_lb.uuid) self.helper.ovn_nbdb_api.lr_lb_del.assert_called_once_with( self.router.uuid, self.ovn_lb.uuid) def test_lb_failover(self): status = self.helper.lb_failover(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_lb_update_disabled(self, refresh_vips): refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'False'})) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_lb_update_enabled(self, refresh_vips): refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'True'})) def test_lb_update_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_create_disabled(self, refresh_vips): self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) status = self.helper.listener_create(self.listener) # Set expected as disabled self.ovn_lb.external_ids.update({ 'listener_%s:D' % self.listener_id: '80:pool_%s' % self.pool_id}) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) expected_calls = [ mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s:D' % self.listener_id: '80:pool_%s' % self.pool_id})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('protocol', 'tcp'))] self.helper.ovn_nbdb_api.db_set.assert_has_calls(expected_calls) self.assertEqual( len(expected_calls), self.helper.ovn_nbdb_api.db_set.call_count) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_create_enabled(self, refresh_vips): self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) expected_calls = [ mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls(expected_calls) self.assertEqual( len(expected_calls), self.helper.ovn_nbdb_api.db_set.call_count) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) def test_listener_create_no_default_pool(self): self.listener['admin_state_up'] = True self.listener.pop('default_pool_id') self.helper.listener_create(self.listener) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s' % self.listener_id: '80:'})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) self.assertEqual( len(expected_calls), self.helper.ovn_nbdb_api.db_set.call_count) def test_listener_create_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.listener_create(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_listener_update_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.listener_update(self.listener) constants.ERROR) self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_update_listener_enabled(self, refresh_vips): # Update the listener port. self.listener.update({'protocol_port': 123}) status = self.helper.listener_update(self.listener) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s' % self.listener_id: '123:pool_%s' % self.pool_id})) # Update expected listener, because it was updated. self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.update( {'listener_%s' % self.listener_id: '123:pool_%s' % self.pool_id}) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_update_listener_disabled(self, refresh_vips): self.listener['admin_state_up'] = False status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) # It gets disabled, so update the key self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.update( {'listener_%s:D' % self.listener_id: '80:pool_%s' % self.pool_id}) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) def test_listener_delete_no_external_id(self): self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.helper.ovn_nbdb_api.db_remove.assert_not_called() def test_listener_delete_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_delete_external_id(self, refresh_vips): status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) def test_pool_create_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.pool_update(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) constants.ONLINE) def test_pool_update_exception(self): self.helper._get_pool_listeners.side_effect = [RuntimeError] status = self.helper.pool_update(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) def test_pool_update_unset_admin_state_up(self): self.pool.pop('admin_state_up') status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_pool_update_pool_disabled_change_to_up(self): self.pool.update({'admin_state_up': True}) disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s' % self.pool_id: self.member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {'10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_pool_update_pool_up_change_to_disabled(self): self.pool.update({'admin_state_up': False}) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s:D' % self.pool_id: self.member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_pool_update_listeners(self): self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.pool_update(self.pool) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_clear.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'vips') self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'pool_%s' % self.pool_id) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {})), mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { ovn_driver.LB_EXT_IDS_VIP_KEY: '10.22.33.4', ovn_driver.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.123', ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', 'enabled': True, 'listener_%s' % self.listener_id: '80:'}))] self.assertEqual(self.helper.ovn_nbdb_api.db_set.call_count, len(expected_calls)) self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_pool_delete_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) self.helper.ovn_nbdb_api.db_remove.assert_not_called() self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_pool_delete_associated_listeners(self): self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.pool_delete(self.pool) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'enabled': True, 'listener_%s' % self.listener_id: '80:', ovn_driver.LB_EXT_IDS_VIP_KEY: '10.22.33.4', ovn_driver.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.123', ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port'})) def test_pool_delete_pool_disabled(self): disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.DELETED) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'pool_%s:D' % self.pool_id) self.ovn_lb.external_ids = mock.MagicMock() @mock.patch.object(ovn_driver.OvnProviderHelper, '_add_member') def test_member_create_exception(self, mock_add_member): mock_add_member.side_effect = [RuntimeError] status = self.helper.member_create(self.member) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) def test_member_create_lb_disabled(self): self.helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.helper.member_create(self.member) self.helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_create_listener(self): self.ovn_lb.external_ids = mock.MagicMock() self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.member_create(self.member) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['id'], 'listener1') def test_member_create_already_exists(self): self.helper.member_create(self.member) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_member_create_first_member_in_pool(self): self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: ''}) self.helper.member_create(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s' % self.pool_id: self.member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_create_second_member_in_pool(self): member2_id = uuidutils.generate_uuid() member2_port = ""1010"" member2_address = ""192.168.2.150"" member2_line = ('member_%s_%s:%s' % (member2_id, member2_address, member2_port)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member2_line}) self.helper.member_create(self.member) all_member_line = ( '%s,member_%s_%s:%s' % (member2_line, self.member_id, self.member_address, self.member_port)) # We have two members now. expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: all_member_line})), mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.150:1010,192.168.2.149:1010', '123.123.123.123:80': '192.168.2.150:1010,192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update(self): self.ovn_lb.external_ids = mock.MagicMock() def test_member_update_disabled_lb(self): self.helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.helper.member_update(self.member) self.helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_update_pool_listeners(self): self.ovn_lb.external_ids = mock.MagicMock() self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.member_update(self.member) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['id'], 'listener1') @mock.patch.object(ovn_driver.OvnProviderHelper, '_update_member') def test_member_update_exception(self, mock_update_member): mock_update_member.side_effect = [RuntimeError] status = self.helper.member_update(self.member) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_member_update_new_port(self): new_port = 11 member_line = ('member_%s_%s:%s' % (self.member_id, self.member_address, new_port)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member_line}) self.helper.member_update(self.member) new_member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_delete_one_left(self): member2_id = uuidutils.generate_uuid() member2_port = ""1010"" member2_address = ""192.168.2.150"" member_line = ( 'member_%s_%s:%s,member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port, member2_id, member2_address, member2_port)) self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: member_line}) status = self.helper.member_delete(self.member) self.assertEqual(status['members'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) @mock.patch.object(ovn_driver.OvnProviderHelper, '_remove_member') def test_member_delete_exception(self, mock_remove_member): mock_remove_member.side_effect = [RuntimeError] status = self.helper.member_delete(self.member) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_member_delete_disabled_lb(self): self.helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.helper.member_delete(self.member) self.helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_delete_pool_listeners(self): self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: 'member_' + self.member_id + '_' + self.member_address + ':' + self.member_port}) self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.member_delete(self.member) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['id'], 'listener1') def test_lb_create_lrp_assoc_handler_row_not_found(self): self.mock_get_nw.stop() self.helper.ovn_nbdb_api.lookup.side_effect = [idlutils.RowNotFound] lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'} }) self.helper.lb_create_lrp_assoc_handler(lrp) self.mock_add_request.assert_not_called() @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_handle_vip_fip_lb_not_found(self, net_dr, fb): fip_info = {'lb_id': 'foo'} fb.side_effect = [idlutils.RowNotFound] self.helper.handle_vip_fip(fip_info) self.helper.ovn_nbdb_api.assert_not_called() def test_get_member_info(self): ret = self.helper.get_member_info(self.pool_id) self.assertEqual([(self.member_id, '%s:%s' % (self.member_address, self.member_port))], ret) def test_get_pool_member_id(self): ret = self.helper.get_pool_member_id( self.pool_id, mem_addr_port='192.168.2.149:1010') self.assertEqual(self.member_id, ret) def test__get_existing_pool_members(self): ret = self.helper._get_existing_pool_members(self.pool_id) self.assertEqual(ret, self.member_line)"," self.pool_id = uuidutils.generate_uuid() self.member_port = ""1010"" self.member_pool_id = self.pool_id self.member_subnet_id = uuidutils.generate_uuid() def test_member_update_batch(self): self.driver.pool_create, self.ref_http_pool) self.driver.pool_create, self.ref_lc_pool) def test_pool_create_tcp(self): self.logical_sw = self.helper.ovn_nbdb_api.ls_get.return_value self.logical_sw.execute.return_value.ports = [] self.ovn_lb.external_ids.get.return_value = {} def test_lb_create(self, net_dr): @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') def test_lb_delete(self, net_dr, lb): lb.return_value.external_ids.get.return_value = {} @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') def test_lb_cascade_delete(self, net_dr, lb): lb.return_value.external_ids.get.return_value = {} def test_lb_update(self): self.assertEqual(status['pools'], []) self.assertEqual(status['pools'], []) def test_listener_create(self): status = self.helper.listener_create(self.listener) constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) status = self.helper.listener_create(self.listener) mock.patch.object(self.helper, ""_is_listener_in_lb"", return_value=True).start() status = self.helper.listener_create(self.listener) def test_listener_delete(self): def test_member_update(self): self.ovn_lb.external_ids = { 'pool_' + self.pool_id: 'member_' + self.member_id + '_' + self.member_address + ':' + self.member_port}",752,54
openstack%2Fcloudkitty-dashboard~master~I1fa9967774b7e5f04957ff81488715155a94170b,openstack/cloudkitty-dashboard,master,I1fa9967774b7e5f04957ff81488715155a94170b,Imported Translations from Zanata,MERGED,2019-11-15 09:57:15.000000000,2019-11-18 14:07:40.000000000,2019-11-18 14:05:46.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-11-15 09:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/03fdfc21992eb480d6a2ff7d62169629bc20376a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1fa9967774b7e5f04957ff81488715155a94170b\n'}, {'number': 2, 'created': '2019-11-18 08:48:34.000000000', 'files': ['cloudkittydashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/d4d2ddf4a5057bfbf2038f3bc2063c4f6652d0f2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1fa9967774b7e5f04957ff81488715155a94170b\n'}]",0,694495,d4d2ddf4a5057bfbf2038f3bc2063c4f6652d0f2,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1fa9967774b7e5f04957ff81488715155a94170b
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/95/694495/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittydashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,03fdfc21992eb480d6a2ff7d62169629bc20376a,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-10-22 10:11+0000\n""""PO-Revision-Date: 2019-11-14 11:11+0000\n""msgid ""8.1.0"" msgstr ""8.1.0"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" msgid """" ""The \""reporting\"" tab has been reworked and the dashboard does not require "" ""D3pie anymore. The colors between the charts are now consistent and a color "" ""legend has been added."" msgstr """" ""The \""reporting\"" tab has been reworked and the dashboard does not require "" ""D3pie anymore. The colors between the charts are now consistent and a colour "" ""legend has been added."" msgid """" ""The predictive pricing has been updated. It is now possible to specify the "" ""HashMap service to use for predictive pricing in Horizon's configuration "" ""file through the ``CLOUDKITTY_QUOTATION_SERVICE`` option."" msgstr """" ""The predictive pricing has been updated. It is now possible to specify the "" ""HashMap service to use for predictive pricing in Horizon's configuration "" ""file through the ``CLOUDKITTY_QUOTATION_SERVICE`` option."" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" ","""POT-Creation-Date: 2019-09-25 10:04+0000\n""""PO-Revision-Date: 2018-11-05 09:18+0000\n""",85,4
openstack%2Fmistral~stable%2Ftrain~I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,openstack/mistral,stable/train,I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,Mask sensitive data when logging action results,MERGED,2019-11-18 09:21:48.000000000,2019-11-18 14:05:50.000000000,2019-11-18 14:04:05.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 09:21:48.000000000', 'files': ['mistral/engine/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9726c1a5938ba9d04d3bb1dd8c3bea5d0c4b10b9', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)\n'}]",0,694731,9726c1a5938ba9d04d3bb1dd8c3bea5d0c4b10b9,9,2,1,9712,,,0,"Mask sensitive data when logging action results

When passwords or other sensible data is returned by a Action, they can
be logged by Mistral. This change uses the password masking
functionality used in mistral-lib and privided by oslo-utils.

This function uses the standard cut_repr method in mistral-lib, which
also means the output is more standardised.

Related-Bug: #1850843
Change-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe
(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/31/694731/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine/actions.py'],1,9726c1a5938ba9d04d3bb1dd8c3bea5d0c4b10b9,bug/1850843, result.cut_repr())," def _result_msg(): if state == states.ERROR: return ""error = %s"" % utils.cut(result.error) return ""result = %s"" % utils.cut(result.data) _result_msg())",1,7
openstack%2Fpython-cloudkittyclient~master~Id3372998715f13f7641d11a4a1d9d16629acfd18,openstack/python-cloudkittyclient,master,Id3372998715f13f7641d11a4a1d9d16629acfd18,Adapt functional tests to python3,MERGED,2019-11-18 09:32:14.000000000,2019-11-18 14:04:02.000000000,2019-11-18 14:02:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-11-18 09:32:14.000000000', 'files': ['cloudkittyclient/tests/functional/v2/test_dataframes.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/584046761a3840aede0292613cc90db69197e145', 'message': 'Adapt functional tests to python3\n\nA test looking for a regex in an argparse error message is failing when ran\non python3. Since this is now the default python runtime for devstack-based\njobs, this updates the message.\n\nChange-Id: Id3372998715f13f7641d11a4a1d9d16629acfd18\nStory: 2006896\nTask: 37530\n'}]",0,694735,584046761a3840aede0292613cc90db69197e145,8,3,1,23060,,,0,"Adapt functional tests to python3

A test looking for a regex in an argparse error message is failing when ran
on python3. Since this is now the default python runtime for devstack-based
jobs, this updates the message.

Change-Id: Id3372998715f13f7641d11a4a1d9d16629acfd18
Story: 2006896
Task: 37530
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/35/694735/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittyclient/tests/functional/v2/test_dataframes.py'],1,584046761a3840aede0292613cc90db69197e145,python3," 'error: the following arguments are required: datafile',"," 'error: too few arguments',",1,1
openstack%2Fnetworking-ovn~stable%2Ftrain~Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a,openstack/networking-ovn,stable/train,Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a,Add missing unittests to OVN provider driver,MERGED,2019-11-13 08:11:51.000000000,2019-11-18 13:59:50.000000000,2019-11-18 13:58:15.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-13 08:11:51.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/050b14255f1a304d01e91e2aba10242e1a7d26b1', 'message': ""Add missing unittests to OVN provider driver\n\nThis change bumps up test coverage.\nDuring writing those tests I found also a few issues:\n\n1) In method pool_update the operating_status shouldn't\nbe set with veryfing if the pool has members or not.\nThe only way of setting operating_status to OFFLINE is\nto administratively disable it or via member healt monitor,\nwhich we don't yet support. Dropping this wrong code.\nhttps://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool\n\n2) _check_monitor_options() logic was wrong - fixed it\n\n3) In pool_delete() in some coditions the external_ids\ncould be used, but not initlized. I moved it to be on the top\nof function.\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n(cherry picked from commit 77d03f6f17081e0f8c15cab0444261bc4e517055)\n""}]",0,694004,050b14255f1a304d01e91e2aba10242e1a7d26b1,10,4,1,24791,,,0,"Add missing unittests to OVN provider driver

This change bumps up test coverage.
During writing those tests I found also a few issues:

1) In method pool_update the operating_status shouldn't
be set with veryfing if the pool has members or not.
The only way of setting operating_status to OFFLINE is
to administratively disable it or via member healt monitor,
which we don't yet support. Dropping this wrong code.
https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool

2) _check_monitor_options() logic was wrong - fixed it

3) In pool_delete() in some coditions the external_ids
could be used, but not initlized. I moved it to be on the top
of function.

Change-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a
(cherry picked from commit 77d03f6f17081e0f8c15cab0444261bc4e517055)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/04/694004/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,050b14255f1a304d01e91e2aba10242e1a7d26b1,,"from neutronclient.common import exceptions as n_exc self.pool_id = uuidutils.generate_uuid() self.member_port = ""1010"" self.member_pool_id = self.pool_id self.member_address = ""192.168.2.149"" def test_member_create_different_ip_version_lb_disable(self): self.driver._ovn_helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.ref_member.address = 'fc00::1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.ref_member) self.driver._ovn_helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_create_no_subnet_provided(self): self.ref_member.subnet_id = data_models.UnsetType() self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.ref_member) def test_member_create_monitor_opts(self): self.ref_member.monitor_address = '172.20.20.1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.ref_member) self.ref_member.monitor_port = '80' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.ref_member) def test_member_create_no_set_admin_state_up(self): self.ref_member.admin_state_up = data_models.UnsetType() info = {'id': self.ref_member.member_id, 'address': self.ref_member.address, 'protocol_port': self.ref_member.protocol_port, 'pool_id': self.ref_member.pool_id, 'subnet_id': self.ref_member.subnet_id, 'admin_state_up': True} expected_dict = {'type': ovn_driver.REQ_TYPE_MEMBER_CREATE, 'info': info} self.driver.member_create(self.ref_member) self.mock_add_request.assert_called_once_with(expected_dict) def test_member_batch_update(self): def test_member_batch_update_no_members(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_batch_update, []) def test_member_batch_update_missing_pool(self): delattr(self.ref_member, 'pool_id') self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_batch_update, [self.ref_member]) def test_member_batch_update_skipped_monitor(self): self.ref_member.monitor_address = '10.11.1.1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_batch_update, [self.ref_member]) def test_member_batch_update_skipped_mixed_ip(self): self.ref_member.address = 'fc00::1' self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_batch_update, [self.ref_member]) def test_member_batch_update_unset_admin_state_up(self): self.ref_member.admin_state_up = data_models.UnsetType() self.driver.member_batch_update([self.ref_member]) self.assertEqual(self.mock_add_request.call_count, 2) def test_listener_create_unset_admin_state_up(self): self.ref_listener.admin_state_up = data_models.UnsetType() info = {'id': self.ref_listener.listener_id, 'protocol': self.ref_listener.protocol, 'protocol_port': self.ref_listener.protocol_port, 'default_pool_id': self.ref_listener.default_pool_id, 'admin_state_up': True, 'loadbalancer_id': self.ref_listener.loadbalancer_id} expected_dict = {'type': ovn_driver.REQ_TYPE_LISTENER_CREATE, 'info': info} self.driver.listener_create(self.ref_listener) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_create_unset_admin_state_up(self): self.ref_lb0.admin_state_up = data_models.UnsetType() info = {'id': self.ref_lb0.loadbalancer_id, 'vip_address': self.ref_lb0.vip_address, 'vip_network_id': self.ref_lb0.vip_network_id, 'admin_state_up': True} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_CREATE, 'info': info} self.driver.loadbalancer_create(self.ref_lb0) self.mock_add_request.assert_called_once_with(expected_dict) self.ref_pool.protocol = 'HTTP' self.driver.pool_create, self.ref_pool) self.ref_pool.lb_algorithm = constants.LB_ALGORITHM_LEAST_CONNECTIONS self.driver.pool_create, self.ref_pool) def test_pool_create(self): def test_pool_create_unset_admin_state_up(self): self.ref_pool.admin_state_up = data_models.UnsetType() info = {'id': self.ref_pool.pool_id, 'loadbalancer_id': self.ref_pool.loadbalancer_id, 'listener_id': self.ref_pool.listener_id, 'admin_state_up': True} expected_dict = {'type': ovn_driver.REQ_TYPE_POOL_CREATE, 'info': info} self.driver.pool_create(self.ref_pool) self.mock_add_request.assert_called_once_with(expected_dict) def test_create_vip_port_exception(self): with mock.patch.object(ovn_driver, 'get_network_driver', side_effect=[RuntimeError]): self.assertRaises( exceptions.DriverError, self.driver.create_vip_port, self.loadbalancer_id, self.project_id, self.vip_dict) self.member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) self.ovn_lb.external_ids = { ovn_driver.LB_EXT_IDS_VIP_KEY: '10.22.33.4', ovn_driver.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.123', ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', 'enabled': True, 'pool_%s' % self.pool_id: self.member_line, 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} mock.patch.object(ovn_driver.OvnProviderHelper, '_find_ovn_lb', return_value=self.ovn_lb).start() 'ports': [], (self.helper.ovn_nbdb_api.ls_get.return_value. execute.return_value) = self.network def test_lb_create_disabled(self, net_dr): self.lb['admin_state_up'] = False self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_driver.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'False'}, name=mock.ANY, protocol='tcp') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_create_enabled(self, net_dr): net_dr.return_value.neutron_client.list_ports.return_value = ( self.ports) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_driver.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'True'}, name=mock.ANY, protocol='tcp') @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_create_exception(self, del_port, net_dr): self.helper._find_ovn_lb.side_effect = [RuntimeError] net_dr.return_value.neutron_client.list_ports.return_value = ( self.ports) status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) del_port.assert_called_once_with(self.ports.get('ports')[0]['id']) @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_delete(self, del_port, net_dr): status = self.helper.lb_delete(self.ovn_lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) del_port.assert_called_once_with('foo_port') @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_delete_row_not_found(self, del_port): self.helper._find_ovn_lb.side_effect = [idlutils.RowNotFound] self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_not_called() @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_delete_exception(self, del_port, net_dr): del_port.side_effect = [RuntimeError] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_called_once_with('foo_port') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') @mock.patch.object(ovn_driver.OvnProviderHelper, 'delete_vip_port') def test_lb_delete_port_not_found(self, del_port, net_dr): del_port.side_effect = [n_exc.PortNotFoundClient] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_called_once_with('foo_port') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_delete_cascade(self, net_dr): net_dr.return_value.neutron_client.delete_port.return_value = None self.assertEqual(status['listeners'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['pools'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['members'][0]['provisioning_status'], constants.DELETED) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_delete_ls_lr(self, net_dr): self.ovn_lb.external_ids.update({ ovn_driver.LB_EXT_IDS_LR_REF_KEY: self.router.name, ovn_driver.LB_EXT_IDS_LS_REFS_KEY: '{\""neutron-%s\"": 1}' % self.network.uuid}) net_dr.return_value.neutron_client.delete_port.return_value = None (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = self.network (self.helper.ovn_nbdb_api.tables['Logical_Router'].rows. values.return_value) = [self.router] self.helper.lb_delete(self.ovn_lb) self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ovn_lb.uuid) self.helper.ovn_nbdb_api.lr_lb_del.assert_called_once_with( self.router.uuid, self.ovn_lb.uuid) def test_lb_failover(self): status = self.helper.lb_failover(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_lb_update_disabled(self, refresh_vips): refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'False'})) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_lb_update_enabled(self, refresh_vips): refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'True'})) def test_lb_update_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_create_disabled(self, refresh_vips): self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) status = self.helper.listener_create(self.listener) # Set expected as disabled self.ovn_lb.external_ids.update({ 'listener_%s:D' % self.listener_id: '80:pool_%s' % self.pool_id}) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) expected_calls = [ mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s:D' % self.listener_id: '80:pool_%s' % self.pool_id})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('protocol', 'tcp'))] self.helper.ovn_nbdb_api.db_set.assert_has_calls(expected_calls) self.assertEqual( len(expected_calls), self.helper.ovn_nbdb_api.db_set.call_count) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_create_enabled(self, refresh_vips): self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) expected_calls = [ mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls(expected_calls) self.assertEqual( len(expected_calls), self.helper.ovn_nbdb_api.db_set.call_count) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) def test_listener_create_no_default_pool(self): self.listener['admin_state_up'] = True self.listener.pop('default_pool_id') self.helper.listener_create(self.listener) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s' % self.listener_id: '80:'})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) self.assertEqual( len(expected_calls), self.helper.ovn_nbdb_api.db_set.call_count) def test_listener_create_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.listener_create(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_listener_update_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.listener_update(self.listener) constants.ERROR) self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_update_listener_enabled(self, refresh_vips): # Update the listener port. self.listener.update({'protocol_port': 123}) status = self.helper.listener_update(self.listener) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s' % self.listener_id: '123:pool_%s' % self.pool_id})) # Update expected listener, because it was updated. self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.update( {'listener_%s' % self.listener_id: '123:pool_%s' % self.pool_id}) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_update_listener_disabled(self, refresh_vips): self.listener['admin_state_up'] = False status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) # It gets disabled, so update the key self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.update( {'listener_%s:D' % self.listener_id: '80:pool_%s' % self.pool_id}) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) def test_listener_delete_no_external_id(self): self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.helper.ovn_nbdb_api.db_remove.assert_not_called() def test_listener_delete_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_driver.OvnProviderHelper, '_refresh_lb_vips') def test_listener_delete_external_id(self, refresh_vips): status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) def test_pool_create_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.pool_update(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) constants.ONLINE) def test_pool_update_exception(self): self.helper._get_pool_listeners.side_effect = [RuntimeError] status = self.helper.pool_update(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) def test_pool_update_unset_admin_state_up(self): self.pool.pop('admin_state_up') status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_pool_update_pool_disabled_change_to_up(self): self.pool.update({'admin_state_up': True}) disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s' % self.pool_id: self.member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {'10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_pool_update_pool_up_change_to_disabled(self): self.pool.update({'admin_state_up': False}) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s:D' % self.pool_id: self.member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_pool_update_listeners(self): self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.pool_update(self.pool) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_clear.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'vips') self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'pool_%s' % self.pool_id) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {})), mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { ovn_driver.LB_EXT_IDS_VIP_KEY: '10.22.33.4', ovn_driver.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.123', ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', 'enabled': True, 'listener_%s' % self.listener_id: '80:'}))] self.assertEqual(self.helper.ovn_nbdb_api.db_set.call_count, len(expected_calls)) self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_pool_delete_exception(self): self.helper._find_ovn_lb.side_effect = [RuntimeError] status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) self.helper.ovn_nbdb_api.db_remove.assert_not_called() self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_pool_delete_associated_listeners(self): self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.pool_delete(self.pool) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'enabled': True, 'listener_%s' % self.listener_id: '80:', ovn_driver.LB_EXT_IDS_VIP_KEY: '10.22.33.4', ovn_driver.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.123', ovn_driver.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port'})) def test_pool_delete_pool_disabled(self): disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.DELETED) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'pool_%s:D' % self.pool_id) self.ovn_lb.external_ids = mock.MagicMock() @mock.patch.object(ovn_driver.OvnProviderHelper, '_add_member') def test_member_create_exception(self, mock_add_member): mock_add_member.side_effect = [RuntimeError] status = self.helper.member_create(self.member) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) def test_member_create_lb_disabled(self): self.helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.helper.member_create(self.member) self.helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_create_listener(self): self.ovn_lb.external_ids = mock.MagicMock() self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.member_create(self.member) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['id'], 'listener1') def test_member_create_already_exists(self): self.helper.member_create(self.member) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_member_create_first_member_in_pool(self): self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: ''}) self.helper.member_create(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s' % self.pool_id: self.member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_create_second_member_in_pool(self): member2_id = uuidutils.generate_uuid() member2_port = ""1010"" member2_address = ""192.168.2.150"" member2_line = ('member_%s_%s:%s' % (member2_id, member2_address, member2_port)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member2_line}) self.helper.member_create(self.member) all_member_line = ( '%s,member_%s_%s:%s' % (member2_line, self.member_id, self.member_address, self.member_port)) # We have two members now. expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: all_member_line})), mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.150:1010,192.168.2.149:1010', '123.123.123.123:80': '192.168.2.150:1010,192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update(self): self.ovn_lb.external_ids = mock.MagicMock() def test_member_update_disabled_lb(self): self.helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.helper.member_update(self.member) self.helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_update_pool_listeners(self): self.ovn_lb.external_ids = mock.MagicMock() self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.member_update(self.member) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['id'], 'listener1') @mock.patch.object(ovn_driver.OvnProviderHelper, '_update_member') def test_member_update_exception(self, mock_update_member): mock_update_member.side_effect = [RuntimeError] status = self.helper.member_update(self.member) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_member_update_new_port(self): new_port = 11 member_line = ('member_%s_%s:%s' % (self.member_id, self.member_address, new_port)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member_line}) self.helper.member_update(self.member) new_member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_delete_one_left(self): member2_id = uuidutils.generate_uuid() member2_port = ""1010"" member2_address = ""192.168.2.150"" member_line = ( 'member_%s_%s:%s,member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port, member2_id, member2_address, member2_port)) self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: member_line}) status = self.helper.member_delete(self.member) self.assertEqual(status['members'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) @mock.patch.object(ovn_driver.OvnProviderHelper, '_remove_member') def test_member_delete_exception(self, mock_remove_member): mock_remove_member.side_effect = [RuntimeError] status = self.helper.member_delete(self.member) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_member_delete_disabled_lb(self): self.helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.helper.member_delete(self.member) self.helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_delete_pool_listeners(self): self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: 'member_' + self.member_id + '_' + self.member_address + ':' + self.member_port}) self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.member_delete(self.member) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['id'], 'listener1') def test_lb_create_lrp_assoc_handler_row_not_found(self): self.mock_get_nw.stop() self.helper.ovn_nbdb_api.lookup.side_effect = [idlutils.RowNotFound] lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'} }) self.helper.lb_create_lrp_assoc_handler(lrp) self.mock_add_request.assert_not_called() @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_handle_vip_fip_lb_not_found(self, net_dr, fb): fip_info = {'lb_id': 'foo'} fb.side_effect = [idlutils.RowNotFound] self.helper.handle_vip_fip(fip_info) self.helper.ovn_nbdb_api.assert_not_called() def test_get_member_info(self): ret = self.helper.get_member_info(self.pool_id) self.assertEqual([(self.member_id, '%s:%s' % (self.member_address, self.member_port))], ret) def test_get_pool_member_id(self): ret = self.helper.get_pool_member_id( self.pool_id, mem_addr_port='192.168.2.149:1010') self.assertEqual(self.member_id, ret) def test__get_existing_pool_members(self): ret = self.helper._get_existing_pool_members(self.pool_id) self.assertEqual(ret, self.member_line)"," self.pool_id = uuidutils.generate_uuid() self.member_port = ""1010"" self.member_pool_id = self.pool_id self.member_subnet_id = uuidutils.generate_uuid() def test_member_update_batch(self): self.driver.pool_create, self.ref_http_pool) self.driver.pool_create, self.ref_lc_pool) def test_pool_create_tcp(self): self.logical_sw = self.helper.ovn_nbdb_api.ls_get.return_value self.logical_sw.execute.return_value.ports = [] self.ovn_lb.external_ids.get.return_value = {} def test_lb_create(self, net_dr): @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') def test_lb_delete(self, net_dr, lb): lb.return_value.external_ids.get.return_value = {} @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') def test_lb_cascade_delete(self, net_dr, lb): lb.return_value.external_ids.get.return_value = {} def test_lb_update(self): self.assertEqual(status['pools'], []) self.assertEqual(status['pools'], []) def test_listener_create(self): status = self.helper.listener_create(self.listener) constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) status = self.helper.listener_create(self.listener) mock.patch.object(self.helper, ""_is_listener_in_lb"", return_value=True).start() status = self.helper.listener_create(self.listener) def test_listener_delete(self): def test_member_update(self): self.ovn_lb.external_ids = { 'pool_' + self.pool_id: 'member_' + self.member_id + '_' + self.member_address + ':' + self.member_port}",752,54
openstack%2Ftripleo-heat-templates~master~Ia1c22b8981fb735a052707516f73313c4e5ca93c,openstack/tripleo-heat-templates,master,Ia1c22b8981fb735a052707516f73313c4e5ca93c,Fix neutron api TLS issues,MERGED,2019-11-15 17:54:06.000000000,2019-11-18 13:55:32.000000000,2019-11-18 13:55:32.000000000,"[{'_account_id': 6926}, {'_account_id': 7294}, {'_account_id': 9914}, {'_account_id': 11082}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-11-15 17:54:06.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7db39af7cf779e5e236c6f9b54c260feba24b98', 'message': 'Fix neutron api TLS issues\n\nThere are two tls issues currently in neutron:\nA) neutron_api is doing bind mounting tls certs directly from the host and then chowning them from then container.\n""Source"": ""/etc/pki/tls/private/ovn_neutron_client.key"",\n""Destination"": ""/etc/pki/tls/private/ovn_neutron_client.key"",\n\n""Source"": ""/etc/pki/tls/certs/ovn_neutron_client.crt"",\n""Destination"": ""/etc/pki/tls/certs/ovn_neutron_client.crt"",\n\nAnd then it thinks it can chown it inside the container via the kolla script:\n[root@controller-0 stdouts]# more /var/lib/kolla/config_files/neutron_api.json\n...\n        {\n            ""optional"": true,\n            ""owner"": ""neutron:neutron"",\n            ""path"": ""/etc/pki/tls/certs/ovn_neutron_client.crt"",\n            ""perm"": ""0644""\n        },\n        {\n            ""optional"": true,\n            ""owner"": ""neutron:neutron"",\n            ""path"": ""/etc/pki/tls/private/ovn_neutron_client.key"",\n            ""perm"": ""0644""\n        }\n\nWhat needs to happen here is that we drop the direct bind mounts, and copy in the certs via kolla. Just like galera is doing.\n\nTested and with this patch I correctly get a Train/OSP16 TLS everywhere\ndeployment with a working neutron:\nBefore:\n(overcloud) [stack@undercloud-0 ~]$ openstack network list\nHttpException: 503: Server Error for url: https://overcloud.redhat.local:13696/v2.0/networks, No server is available to handle this request.: 503 Service Unavailable\n\nAfter:\n(overcloud) [stack@undercloud-0 ~]$ openstack network list\n(overcloud) [stack@undercloud-0 ~]$\n\nB) The logging in the neutron_server_tls_proxy container is not persisted to the host\n\nBefore:\n[root@controller-0 ~]# ls -l /var/log/containers/httpd/neutron-api/\n[root@controller-0 ~]#\n\nAfter:\n[root@controller-0 ~]# ls -l /var/log/containers/httpd/neutron-api/\ntotal 136\n-rw-r--r--. 1 root root   400 Nov 15 17:43 error_log\n-rw-r--r--. 1 root root 72784 Nov 15 17:53 neutron-api-proxy_access_ssl.log\n-rw-r--r--. 1 root root  2748 Nov 15 17:43 neutron-api-proxy_error_ssl.log\n[root@controller-0 ~]#\n\nChange-Id: Ia1c22b8981fb735a052707516f73313c4e5ca93c\nCloses-Bug: #1852779\n'}]",3,694614,a7db39af7cf779e5e236c6f9b54c260feba24b98,16,9,1,20172,,,0,"Fix neutron api TLS issues

There are two tls issues currently in neutron:
A) neutron_api is doing bind mounting tls certs directly from the host and then chowning them from then container.
""Source"": ""/etc/pki/tls/private/ovn_neutron_client.key"",
""Destination"": ""/etc/pki/tls/private/ovn_neutron_client.key"",

""Source"": ""/etc/pki/tls/certs/ovn_neutron_client.crt"",
""Destination"": ""/etc/pki/tls/certs/ovn_neutron_client.crt"",

And then it thinks it can chown it inside the container via the kolla script:
[root@controller-0 stdouts]# more /var/lib/kolla/config_files/neutron_api.json
...
        {
            ""optional"": true,
            ""owner"": ""neutron:neutron"",
            ""path"": ""/etc/pki/tls/certs/ovn_neutron_client.crt"",
            ""perm"": ""0644""
        },
        {
            ""optional"": true,
            ""owner"": ""neutron:neutron"",
            ""path"": ""/etc/pki/tls/private/ovn_neutron_client.key"",
            ""perm"": ""0644""
        }

What needs to happen here is that we drop the direct bind mounts, and copy in the certs via kolla. Just like galera is doing.

Tested and with this patch I correctly get a Train/OSP16 TLS everywhere
deployment with a working neutron:
Before:
(overcloud) [stack@undercloud-0 ~]$ openstack network list
HttpException: 503: Server Error for url: https://overcloud.redhat.local:13696/v2.0/networks, No server is available to handle this request.: 503 Service Unavailable

After:
(overcloud) [stack@undercloud-0 ~]$ openstack network list
(overcloud) [stack@undercloud-0 ~]$

B) The logging in the neutron_server_tls_proxy container is not persisted to the host

Before:
[root@controller-0 ~]# ls -l /var/log/containers/httpd/neutron-api/
[root@controller-0 ~]#

After:
[root@controller-0 ~]# ls -l /var/log/containers/httpd/neutron-api/
total 136
-rw-r--r--. 1 root root   400 Nov 15 17:43 error_log
-rw-r--r--. 1 root root 72784 Nov 15 17:53 neutron-api-proxy_access_ssl.log
-rw-r--r--. 1 root root  2748 Nov 15 17:43 neutron-api-proxy_error_ssl.log
[root@controller-0 ~]#

Change-Id: Ia1c22b8981fb735a052707516f73313c4e5ca93c
Closes-Bug: #1852779
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/694614/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,a7db39af7cf779e5e236c6f9b54c260feba24b98,ovn_tls_fixes," - source: ""/var/lib/kolla/config_files/src-tls/*"" dest: ""/"" merge: true optional: true preserve_properties: true - /etc/pki/tls/certs/ovn_neutron_client.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/ovn_neutron_client.crt:ro - /etc/pki/tls/private/ovn_neutron_client.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/ovn_neutron_client.key:ro - {get_attr: [NeutronLogging, volumes]}", - /etc/pki/tls/certs/ovn_neutron_client.crt:/etc/pki/tls/certs/ovn_neutron_client.crt - /etc/pki/tls/private/ovn_neutron_client.key:/etc/pki/tls/private/ovn_neutron_client.key,8,2
openstack%2Fdesignate~master~I961aecf23ee1a76e15c716c0733bd418b21efb58,openstack/designate,master,I961aecf23ee1a76e15c716c0733bd418b21efb58,Don't install Horizon as part of the upgrade test,MERGED,2019-11-16 01:03:01.000000000,2019-11-18 13:36:29.000000000,2019-11-18 13:35:06.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-11-16 01:03:01.000000000', 'files': ['devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/designate/commit/306e231c4ba63fcfd2bbafc34718c1aba333c755', 'message': ""Don't install Horizon as part of the upgrade test\n\nChange-Id: I961aecf23ee1a76e15c716c0733bd418b21efb58\n""}]",0,694655,306e231c4ba63fcfd2bbafc34718c1aba333c755,9,4,1,22623,,,0,"Don't install Horizon as part of the upgrade test

Change-Id: I961aecf23ee1a76e15c716c0733bd418b21efb58
",git fetch https://review.opendev.org/openstack/designate refs/changes/55/694655/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/settings'],1,306e231c4ba63fcfd2bbafc34718c1aba333c755,skip_horizon,devstack_localrc base enable_service designate-api designate-central designate-producer designate-worker designate-mdns designate-agent designate-sink designate devstack_localrc target enable_service designate-api designate-central designate-producer designate-worker designate-mdns designate-agent designate-sink designate,devstack_localrc base enable_service designate-api designate-central designate-producer designate-worker designate-mdns designate-agent designate-sink designate horizon devstack_localrc target enable_service designate-api designate-central designate-producer designate-worker designate-mdns designate-agent designate-sink designate horizon,2,2
openstack%2Fcookbook-openstack-network~master~Ief1b1146ef0b9473e3f9f3bb3358a7f27dbd51ee,openstack/cookbook-openstack-network,master,Ief1b1146ef0b9473e3f9f3bb3358a7f27dbd51ee,WIP: Use python3 packages and uwsgi on Ubuntu,ABANDONED,2019-10-10 11:35:58.000000000,2019-11-18 13:34:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-10 11:35:58.000000000', 'files': ['attributes/default.rb', 'spec/default_spec.rb', 'spec/lbaas_spec.rb', 'recipes/server.rb', 'templates/default/wsgi-template.conf.erb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/47ba4c35cca54a0db5dedf6a1da73d89cc673011', 'message': ""WIP: Use python3 packages and uwsgi on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later. Also run the neutron server\nunder apache2 like we do for most other services already.\n\nTODO: This isn't working yet, seems upstream still needs to implement\nbetter testing.\n\nDepends-On: https://review.opendev.org/682918\nChange-Id: Ief1b1146ef0b9473e3f9f3bb3358a7f27dbd51ee\n""}]",0,687866,47ba4c35cca54a0db5dedf6a1da73d89cc673011,3,1,1,13252,,,0,"WIP: Use python3 packages and uwsgi on Ubuntu

Python2.7 is going EOL soon, let us deploy python3 for Rocky from the
start, so we avoid having to switch later. Also run the neutron server
under apache2 like we do for most other services already.

TODO: This isn't working yet, seems upstream still needs to implement
better testing.

Depends-On: https://review.opendev.org/682918
Change-Id: Ief1b1146ef0b9473e3f9f3bb3358a7f27dbd51ee
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/66/687866/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/default_spec.rb', 'spec/lbaas_spec.rb', 'recipes/server.rb', 'templates/default/wsgi-template.conf.erb']",5,47ba4c35cca54a0db5dedf6a1da73d89cc673011,chef-py3,"<%= node[""openstack""][""network""][""custom_template_banner""] %> Listen <%= @params[:server_host] %>:<%= @params[:server_port] %> <VirtualHost <%= @params[:server_host] %>:<%= @params[:server_port] %>> WSGIDaemonProcess <%= @params[:daemon_process] %> processes=2 threads=10 user=<%= @params[:user] %> group=<%= @params[:group] %> display-name=%{GROUP} WSGIProcessGroup <%= @params[:daemon_process] %> WSGIScriptAlias / <%= @params[:server_entry] %> WSGIApplicationGroup %{GLOBAL} WSGIPassAuthorization On <Directory /usr/bin> Require all granted </Directory> ErrorLogFormat ""%{cu}t %M"" ErrorLog <%= @params[:log_dir] %>/<%= @params[:daemon_process] %>_error.log CustomLog <%= @params[:log_dir] %>/<%= @params[:daemon_process] %>_access.log combined <% if [true, 'true', 'True'].include?(@params[:log_debug]) -%> LogLevel debug <% end -%> </VirtualHost> WSGISocketPrefix <%= @params[:run_dir] -%> ",,110,9
openstack%2Fironic~master~I36c3e4fbb465bb9163cf0a387e9efb36dba27a60,openstack/ironic,master,I36c3e4fbb465bb9163cf0a387e9efb36dba27a60,Stop supporting incompatible heartbeat interfaces,MERGED,2019-11-15 08:35:09.000000000,2019-11-18 13:32:44.000000000,2019-11-18 13:30:55.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-11-15 08:35:09.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/needs-agent-version-in-heartbeat-4e6806b679c53ec5.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/61a3e833f24112ed4837a6820cb7689e27b4ecd9', 'message': ""Stop supporting incompatible heartbeat interfaces\n\nagent_version is required for the heartbeat interfaces, we kept it for\nquite a long time and now it's time to remove the support.\n\nChange-Id: I36c3e4fbb465bb9163cf0a387e9efb36dba27a60\nStory: 1602265\nTask: 10478\n""}]",0,694473,61a3e833f24112ed4837a6820cb7689e27b4ecd9,22,7,1,24828,,,0,"Stop supporting incompatible heartbeat interfaces

agent_version is required for the heartbeat interfaces, we kept it for
quite a long time and now it's time to remove the support.

Change-Id: I36c3e4fbb465bb9163cf0a387e9efb36dba27a60
Story: 1602265
Task: 10478
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/694473/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/needs-agent-version-in-heartbeat-4e6806b679c53ec5.yaml']",3,61a3e833f24112ed4837a6820cb7689e27b4ecd9,agent-version,--- upgrade: - | The argument ``agent_version`` of the heartbeat interface is now mandatory to all interfaces that inherit from HeartbeatMixin. ,,8,77
openstack%2Fmistral~stable%2Fstein~I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,openstack/mistral,stable/stein,I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,Mask sensitive data when logging action results,MERGED,2019-11-18 09:21:54.000000000,2019-11-18 13:02:08.000000000,2019-11-18 13:00:54.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 09:21:54.000000000', 'files': ['mistral/engine/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6399f9b7e0133202f2d63896b44628668cdc212f', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)\n'}]",0,694732,6399f9b7e0133202f2d63896b44628668cdc212f,8,2,1,9712,,,0,"Mask sensitive data when logging action results

When passwords or other sensible data is returned by a Action, they can
be logged by Mistral. This change uses the password masking
functionality used in mistral-lib and privided by oslo-utils.

This function uses the standard cut_repr method in mistral-lib, which
also means the output is more standardised.

Related-Bug: #1850843
Change-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe
(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/32/694732/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine/actions.py'],1,6399f9b7e0133202f2d63896b44628668cdc212f,bug/1850843, result.cut_repr())," def _result_msg(): if state == states.ERROR: return ""error = %s"" % utils.cut(result.error) return ""result = %s"" % utils.cut(result.data) _result_msg())",1,7
openstack%2Fopenstack-ansible~master~Iabccc8bffaa0dfc27613772970991997d88b5052,openstack/openstack-ansible,master,Iabccc8bffaa0dfc27613772970991997d88b5052,Collect etcd logs,MERGED,2019-11-11 15:41:30.000000000,2019-11-18 12:58:09.000000000,2019-11-18 12:55:33.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-11 15:41:30.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b3de0e3f9f3a2fe7efd6768d307056b7dfa31b07', 'message': 'Collect etcd logs\n\nCollecting the etcd logs will be useful for debugging calico.\n\nChange-Id: Iabccc8bffaa0dfc27613772970991997d88b5052\n'}]",0,693717,b3de0e3f9f3a2fe7efd6768d307056b7dfa31b07,9,3,1,29865,,,0,"Collect etcd logs

Collecting the etcd logs will be useful for debugging calico.

Change-Id: Iabccc8bffaa0dfc27613772970991997d88b5052
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/693717/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,b3de0e3f9f3a2fe7efd6768d307056b7dfa31b07,, etcd \,,1,0
openstack%2Faodh~master~I905db33eb1300d2a3f7f3e6821a46baf77fd37eb,openstack/aodh,master,I905db33eb1300d2a3f7f3e6821a46baf77fd37eb,Imported Translations from Zanata,MERGED,2019-11-15 10:06:31.000000000,2019-11-18 12:54:24.000000000,2019-11-18 12:52:45.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 10:06:31.000000000', 'files': ['aodh/locale/en_GB/LC_MESSAGES/aodh.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/aodh/commit/4c9e95d68524eae3bdc18d1c887a56282bb79dae', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I905db33eb1300d2a3f7f3e6821a46baf77fd37eb\n'}]",0,694498,4c9e95d68524eae3bdc18d1c887a56282bb79dae,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I905db33eb1300d2a3f7f3e6821a46baf77fd37eb
",git fetch https://review.opendev.org/openstack/aodh refs/changes/98/694498/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/locale/en_GB/LC_MESSAGES/aodh.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,4c9e95d68524eae3bdc18d1c887a56282bb79dae,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-10-31 03:03+0000\n""""PO-Revision-Date: 2019-11-14 11:06+0000\n""msgid ""9.0.0"" msgstr ""9.0.0"" msgid ""9.0.0-3"" msgstr ""9.0.0-3"" msgid """" ""Added a new evaluator for the alarms of type ``loadbalancer_member_health`` "" ""which evaluates the alarm by checking the operating status of the members in "" ""a given load balancer pool."" msgstr """" ""Added a new evaluator for the alarms of type ``loadbalancer_member_health`` "" ""which evaluates the alarm by checking the operating status of the members in "" ""a given load balancer pool."" msgid """" ""Added a new notifier(``trust+heat``) that works together with "" ""``loadbalancer_member_health`` evaluator for auto-healing purpose."" msgstr """" ""Added a new notifier(``trust+heat``) that works together with "" ""``loadbalancer_member_health`` evaluator for auto-healing purpose."" msgid ""Added new tool ``aodh-status upgrade check``."" msgstr ""Added new tool ``aodh-status upgrade check``."" msgid """" ""New framework for ``aodh-status upgrade check`` command is added. This "" ""framework allows adding various checks which can be run before a Aodh "" ""upgrade to ensure if the upgrade can be performed safely."" msgstr """" ""New framework for ``aodh-status upgrade check`` command is added. This "" ""framework allows adding various checks which can be run before a Aodh "" ""upgrade to ensure if the upgrade can be performed safely."" msgid """" ""Operator can now use new CLI tool ``aodh-status upgrade check`` to check if "" ""Aodh deployment can be safely upgraded from N-1 to N release."" msgstr """" ""Operator can now use new CLI tool ``aodh-status upgrade check`` to check if "" ""Aodh deployment can be safely upgraded from N-1 to N release."" msgid ""Prelude"" msgstr ""Prelude"" msgid """" ""Python 2.7 support has been dropped. Last release of Aodh to support py2.7 "" ""is OpenStack Train. The minimum version of Python now supported by Aodh is "" ""Python 3.6."" msgstr """" ""Python 2.7 support has been dropped. Last release of Aodh to support py2.7 "" ""is OpenStack Train. The minimum version of Python now supported by Aodh is "" ""Python 3.6."" msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" ","""POT-Creation-Date: 2019-01-23 11:09+0000\n""""PO-Revision-Date: 2018-08-17 09:21+0000\n""",68,4
openstack%2Fopenstack-ansible~stable%2Fqueens~Ic0c066f734a95585c66fe6c68ec762afe52125ad,openstack/openstack-ansible,stable/queens,Ic0c066f734a95585c66fe6c68ec762afe52125ad,Bump SHAs for stable/queens,ABANDONED,2019-10-20 15:15:17.000000000,2019-11-18 12:53:06.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-10-20 15:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/603c64658128f497dbe9aca9ef71f7ae1fc2ccb8', 'message': 'Bump SHAs for stable/queens\n\nChange-Id: Ic0c066f734a95585c66fe6c68ec762afe52125ad\n'}, {'number': 2, 'created': '2019-11-11 15:14:26.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3f22d9dbb745c5fb0fa950aad7f3bcb90934c052', 'message': 'Bump SHAs for stable/queens\n\nUpdated to include Ib764c70e483513bec5bd97d4499e67beb4501826.\n\nChange-Id: Ic0c066f734a95585c66fe6c68ec762afe52125ad\n'}]",0,689650,3f22d9dbb745c5fb0fa950aad7f3bcb90934c052,18,5,2,17068,,,0,"Bump SHAs for stable/queens

Updated to include Ib764c70e483513bec5bd97d4499e67beb4501826.

Change-Id: Ic0c066f734a95585c66fe6c68ec762afe52125ad
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/689650/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,603c64658128f497dbe9aca9ef71f7ae1fc2ccb8,bump_osa, version: 8c8607ba975e8c9e308255c22071cdbbc0e0eb81 version: 3f61c16358020d4d44e7ef81524ac58899f4df8e version: 8407a5aeb7c3d0be1231173555badd878b1dfc3c version: 8ca0a331993518aecfa7f05aab249ed4c472be61 version: 088514969cd221685be93e090a311322d9f5f939 version: a96f923d8c57237128003ed1ecf3c6c2551f0f9e version: 3d7413e7f0369f3e82447ea80ad2cda72129713e version: 21dc10a7b2ef70221c7eb380a4ca85aecef5b5bf version: 6f663a49d7d901aa4cb7279366c734b0d6b6bfdb version: 97e463440c4c697e2383be58c5edcf3a1e164dd9 version: 4c387b4789e17f19a804ac886f9c748c4324b51f version: e545e9b37829e45d735ba3119506c9052ad6f42e version: 881473d0f6f54ff8030b8400db183731d9fcf483 version: ba892fe7ce83feab1f4e433f25c40ec31807f236 version: 6770101a2bdc5ad52deb4bd5727878af3d918565 version: ef60f71bf769fcf47793360b0ffd4dada657988f version: 92f239ebfd8b9ab97a295fdd33b13de5bba64c9d version: 454fb46591aefcd2a84298d3f2ca039518d7bb98 version: d4ab2d90938babb73a16deb6c70aef5d0742db3b version: 8e066a203fd99979c9ab262a8485d92b13d98670 version: 078aa4c27b3a2dedbfa82443d3dcdfa820a14b83 version: e4ca16482b67435595028934ba3b67208f9dd4c1 version: f964ebc09af89b44a74802fa9b96ce286dccac38 version: 51ef36a5f62d70e9c2f03e2d1231ef2882717546 version: 19b9f38d576ec7c5d0f8edfb1b703d5d0ba24022 version: 89a16a2c5dc6c053b6b376d5f1cc1d596f32b43d version: 2df86e6c8b58f86c0ca67cdb2c521062b4c56fa8 version: dc4d0683bfcf5f1888a411f12e7dac6eca2ec315 version: f90f3e20ae43e12e6421015c689c87e9d924f592, version: fd9b8108f1944d2563a8047549e8a094d8c0bc3c version: c8c4dbef7c8d133a891667c811c6b496936c4956 version: 40a743c72d5e91be3354fdc55662b408b426ffd3 version: 5c65525009133111a9714be2100c2f9df0f86524 version: 2de976eb18951a9c416e7930c9f23e4601e5476b version: 46c7c7005c36d24ac56d971ce75018b411201223 version: c8095fc486252cae2b401e9ca2fe23b5f7d72dde version: 59c6ba2eaa940ca25d692284f3961f30219db8da version: 6cdcebe201aa9a2f5da0c11eeefeab74b428d2d0 version: 30d7f6536cce7c6a150c8314df59223823741414 version: 6ca9bbf5c7567c2952cd420afb851a81727be3a1 version: 1b53ff193c4655fc8f12e95c0dcd6d7eccbcb589 version: b180454346cc84dc2e70a14d95ba2ea5614928e8 version: 2d166e07585987825773abe8aee977943f04e96d version: 7d9fb1d70c8b87c6c0a4a0abd9f8d734494c8f3f version: 51b558103ef9c90b19d1aea455ca3a121eb5dcf8 version: 9eb599da3b7b4cd145f48f2c2e755e73df04864a version: ad4e25720982d0c31f473296722f33505dbf78c9 version: 1de2442b348934281e28ef42f36941f229233b9c version: 2dae463c2c539089b623db704c0bee942a91bb29 version: 0ada03961cc7efe5241ea6a34c105a6859fd8cfd version: 98624f55d28609576fdcbcec3a0a13849676542d version: 51b277159cca5e4076cc206cee56b12911b7d822 version: 8e57491ee5cda12effc2739a853c3dae2e9c3c62 version: 7d038991c6d74d4eb7b0dac79fd7e535b697c5e3 version: 28eb77b1053fc175823f570ce9fad131974c1ab8 version: ea151abb64cb1eeca2e3e3c4905e1429b4e20295 version: 4ac95b2d04897710593bec8a5c6249e883c17b02 version: daf0e968d6e2be7ce8e767bd54ce38c39ccd6e3e,69,69
openstack%2Ftempest~master~I0f55ffaa844736056769f1fbeca82fc0cb0a9a86,openstack/tempest,master,I0f55ffaa844736056769f1fbeca82fc0cb0a9a86,Set irrelevant-files for bashate job,MERGED,2019-09-25 02:41:20.000000000,2019-11-18 12:48:17.000000000,2019-11-18 12:45:50.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-09-25 02:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/872e6aa739f35237c00b1186ec2d3981075df87a', 'message': 'Set irrelevant-files for bashate job\n\nThis commit sets the tempest-irrelevant-files-2 for the bashate job. We\njust need to run the job when we change bash scripts. Currently, bash\nscripts are located in the tools/ directory only. So,\n""tempest-irrelevant-files-2"" is better than ""tempest-irrelevant-files"".\n\nChange-Id: I0f55ffaa844736056769f1fbeca82fc0cb0a9a86\n'}, {'number': 2, 'created': '2019-09-25 02:47:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f2104a8460bbd09f063d412fb64ed63c5bf4368f', 'message': 'Set irrelevant-files for bashate job\n\nThis commit sets the tempest-irrelevant-files-2 for the bashate job. We\njust need to run the job when we change bash scripts. Currently, bash\nscripts are located in the tools/ directory only. So,\n""tempest-irrelevant-files-2"" is better than ""tempest-irrelevant-files"".\n\nChange-Id: I0f55ffaa844736056769f1fbeca82fc0cb0a9a86\n'}]",0,684447,f2104a8460bbd09f063d412fb64ed63c5bf4368f,39,7,2,5689,,,0,"Set irrelevant-files for bashate job

This commit sets the tempest-irrelevant-files-2 for the bashate job. We
just need to run the job when we change bash scripts. Currently, bash
scripts are located in the tools/ directory only. So,
""tempest-irrelevant-files-2"" is better than ""tempest-irrelevant-files"".

Change-Id: I0f55ffaa844736056769f1fbeca82fc0cb0a9a86
",git fetch https://review.opendev.org/openstack/tempest refs/changes/47/684447/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,872e6aa739f35237c00b1186ec2d3981075df87a,irrelevant-files-bashate, irrelevant-files: *tempest-irrelevant-files-2,,1,0
openstack%2Fopenstack-ansible-os_tempest~master~I50777211012ac07f5db95f10d4bfdfe39d8c77db,openstack/openstack-ansible-os_tempest,master,I50777211012ac07f5db95f10d4bfdfe39d8c77db,Make smoke tests as a default whitelist tests,MERGED,2019-04-12 12:40:56.000000000,2019-11-18 12:45:02.000000000,2019-11-18 12:43:52.000000000,"[{'_account_id': 1004}, {'_account_id': 8367}, {'_account_id': 8944}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 25023}, {'_account_id': 27379}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-04-12 12:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3227803afc77a194a87535d4036927daba571c8c', 'message': ""Use tempest_run_smoke for running smoke tests\n\nTempest testsuite provides a lot of smoke tests and it is always\ngood for validating the whole openstack.\n\nTempest run commands also provides --smoke option to trigger\nthat. Other way one can trigger it using complex smoke\nregex '\\[.*\\bsmoke\\b.*\\]'. Using simpler option makes the\nuser experience easier.\n\nJust toggling tempest_run_smoke to true, it will run the\nsmoke tests.\n\nChange-Id: I50777211012ac07f5db95f10d4bfdfe39d8c77db\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 2, 'created': '2019-04-12 12:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/532d04a757462785d3deb5d58e4005d13c99749c', 'message': ""Use tempest_run_smoke for running smoke tests\n\nTempest testsuite provides a lot of smoke tests and it is always\ngood for validating the whole openstack.\n\nTempest run commands also provides --smoke option to trigger\nthat. Other way one can trigger it using complex smoke\nregex '\\[.*\\bsmoke\\b.*\\]'. Using simpler option makes the\nuser experience easier.\n\nJust toggling tempest_run_smoke to true, it will run the\nsmoke tests.\n\nChange-Id: I50777211012ac07f5db95f10d4bfdfe39d8c77db\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 3, 'created': '2019-04-16 13:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6752cdac64ad8fbf606d6900ebdbbeb934ae99e4', 'message': ""Make smoke tests as a default whitelist tests\n\nTempest tests with tag 'smoke' are a default list of tempest\ntests which are quite useful for doing the sanity of the system.\nBy adding this as a default in tempest_test_whitelist, would be\neasier for the same.\n\nChange-Id: I50777211012ac07f5db95f10d4bfdfe39d8c77db\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 4, 'created': '2019-04-17 07:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/72c07073481be8118a5719f1c615d18c299300a0', 'message': ""Make smoke tests as a default whitelist tests\n\nTempest tests with tag 'smoke' are a default list of tempest\ntests which are quite useful for doing the sanity of the system.\nBy adding this as a default in tempest_test_whitelist, would be\neasier for the same.\n\nDepends-On: https://review.openstack.org/#/c/653308/\n\nChange-Id: I50777211012ac07f5db95f10d4bfdfe39d8c77db\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 5, 'created': '2019-06-06 12:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7bf34a5dc25098ca744766c6814f4c8513888358', 'message': ""Make smoke tests as a default whitelist tests\n\nTempest tests with tag 'smoke' are a default list of tempest\ntests which are quite useful for doing the sanity of the system.\nBy adding this as a default in tempest_test_whitelist, would be\neasier for the same.\n\nDepends-On: https://review.openstack.org/#/c/653308/\n\nChange-Id: I50777211012ac07f5db95f10d4bfdfe39d8c77db\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 6, 'created': '2019-08-26 14:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/61e9bf902117a9cbff0e1adf0232ab23eb1e0475', 'message': ""Make smoke tests as a default whitelist tests\n\nTempest tests with tag 'smoke' are a default list of tempest\ntests which are quite useful for doing the sanity of the system.\nBy adding this as a default in tempest_test_whitelist, would be\neasier for the same.\n\nChange-Id: I50777211012ac07f5db95f10d4bfdfe39d8c77db\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 7, 'created': '2019-11-12 05:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6d754be2bbb467d7901915da504fa39455e9bff4', 'message': ""Make smoke tests as a default whitelist tests\n\nTempest tests with tag 'smoke' are a default list of tempest\ntests which are quite useful for doing the sanity of the system.\nBy adding this as a default in tempest_test_whitelist, would be\neasier for the same.\n\nChange-Id: I50777211012ac07f5db95f10d4bfdfe39d8c77db\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}, {'number': 8, 'created': '2019-11-13 12:08:55.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6116c681a4119aed9b1fa7723de18ae0731ff500', 'message': ""Make smoke tests as a default whitelist tests\n\nTempest tests with tag 'smoke' are a default list of tempest\ntests which are quite useful for doing the sanity of the system.\nBy adding this as a default in tempest_test_whitelist, would be\neasier for the same.\n\nDepends-On: https://review.opendev.org/#/c/693841/\n\nChange-Id: I50777211012ac07f5db95f10d4bfdfe39d8c77db\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\n""}]",2,652060,6116c681a4119aed9b1fa7723de18ae0731ff500,48,11,8,12393,,,0,"Make smoke tests as a default whitelist tests

Tempest tests with tag 'smoke' are a default list of tempest
tests which are quite useful for doing the sanity of the system.
By adding this as a default in tempest_test_whitelist, would be
easier for the same.

Depends-On: https://review.opendev.org/#/c/693841/

Change-Id: I50777211012ac07f5db95f10d4bfdfe39d8c77db
Signed-off-by: Chandan Kumar <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/60/652060/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_run.yml', 'defaults/main.yml']",2,3227803afc77a194a87535d4036927daba571c8c,smoke,# Run all tempest smoke test tempest_run_smoke: false,,7,0
openstack%2Ffreezer-api~master~I0088d63f46fd18dfe265f81fe1ce218ff0546ba7,openstack/freezer-api,master,I0088d63f46fd18dfe265f81fe1ce218ff0546ba7,Add cover job,ABANDONED,2018-11-07 03:57:20.000000000,2019-11-18 12:23:02.000000000,,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-07 03:57:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/bb81ff6a1e1c130dca83af055a375440e7075ae8', 'message': 'Add cover job\n\nInsert python coverage job for py-test.\n\nChange-Id: I0088d63f46fd18dfe265f81fe1ce218ff0546ba7\n'}]",0,616057,bb81ff6a1e1c130dca83af055a375440e7075ae8,8,2,1,28956,,,0,"Add cover job

Insert python coverage job for py-test.

Change-Id: I0088d63f46fd18dfe265f81fe1ce218ff0546ba7
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/57/616057/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bb81ff6a1e1c130dca83af055a375440e7075ae8,cover-job, - openstack-cover-jobs,,1,0
openstack%2Fcharm-deployment-guide~master~I956baf7c32b696553176cd6e7f16c9ea89009781,openstack/charm-deployment-guide,master,I956baf7c32b696553176cd6e7f16c9ea89009781,Managing power events,MERGED,2019-08-26 23:42:03.000000000,2019-11-18 12:22:12.000000000,2019-11-18 12:20:37.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 10058}, {'_account_id': 10086}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24890}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-08-26 23:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/94dca27a38cb877d04a979eb18e741bd884d1916', 'message': 'present the skeleton\n\nThis is the beginning of a significant document whose purpose is\nto assist cloud administrators with critical cloud procedures\n(aka the ""cloud-reboot"" project).\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 2, 'created': '2019-08-28 17:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/30a329e2e780e605eb428b230590248baeb74cd5', 'message': 'present the skeleton\n\nThis is the beginning of a significant document whose purpose is\nto assist cloud administrators with critical cloud procedures\n(aka the ""cloud-reboot"" project, now named ""Managing Power Events"").\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 3, 'created': '2019-09-05 19:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4fa2085592e99423bc9ab2100ac76491c7c5c4cf', 'message': 'present the skeleton\n\nThis is the beginning of a significant document whose purpose is\nto assist cloud administrators with critical cloud procedures.\n\nCurrently a work in progress.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 4, 'created': '2019-09-05 21:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/400f67f16d56648b8f0f7d009f0fc546e3c26197', 'message': 'present the skeleton\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 5, 'created': '2019-09-09 20:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3d9527eb0722d32156b9b01d372e09a6ba7064d4', 'message': 'present the skeleton\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 6, 'created': '2019-09-09 23:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4e2aa8391cccc8fc2bbccdcfb24c013fca320131', 'message': 'present the skeleton\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 7, 'created': '2019-09-10 03:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5956515260b836861bcf518c76cffb2f4002f860', 'message': 'present the skeleton\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 8, 'created': '2019-09-11 21:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/eb07301bf74c7a39eaf13563f35c2a64301e4293', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 9, 'created': '2019-09-12 22:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d6ad94a5cf606e49b86eb1c27415cbc5d8f28168', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 10, 'created': '2019-09-13 19:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0e2e81f4585b2f8ed02926583ab3b20480c7626a', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 11, 'created': '2019-09-17 07:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f67b6dba39e30141ba43e167569d7457dec92482', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 12, 'created': '2019-09-18 12:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9ed10e7eb6fd1b9fa9a93566727846bd4031dfbd', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 13, 'created': '2019-09-18 13:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6544166f99f84d9e7c8e66e4bbefec83a172cfac', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 14, 'created': '2019-09-18 13:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/8fa7526a75643576a5753c1338dc848c49bb156d', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 15, 'created': '2019-09-18 14:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/626ef1e4182429c89d916dd8a90d1a198318c36f', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 16, 'created': '2019-09-18 15:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3a65de7512958c456822d153924c1d6ab6fd2db9', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 17, 'created': '2019-09-19 09:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/47bf45bb9f22b7b1396f0fd9ce8af37419781c1a', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 18, 'created': '2019-09-19 15:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a8805f34617cccbcc89ea72da1e35ef6a657306c', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 19, 'created': '2019-09-25 19:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f041836ff5321be61a98fc837e936f53b3d5ff4d', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 20, 'created': '2019-09-30 22:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/58689f77cbbfc58abb44adfc8ccca9b1e111a041', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 21, 'created': '2019-10-01 02:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3b2c67389fd589a7fedbb6a9063eeae7fb31dac0', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 22, 'created': '2019-10-02 00:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1e5e63ff6a0478eed888d543abb6a70569be9896', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 23, 'created': '2019-10-02 19:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ff995795415fb79760b0aea2f9822b890c8ac145', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 24, 'created': '2019-10-02 20:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/59ae6eb39329c13fd8c807da613cc85d12df6579', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 25, 'created': '2019-10-03 01:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/46c222518ea273eebc36987501073bc9dff36489', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 26, 'created': '2019-10-03 01:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1eec5e09154b185f3013b95cfe77b08b7fd1b2b9', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 27, 'created': '2019-10-03 17:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/91544a9e487beb7dbb76e6849dcb5089b27689fa', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 28, 'created': '2019-10-03 22:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/69c4f2414ef7f5e007ca09c7e59c44fd3928f5b3', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 29, 'created': '2019-10-04 23:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6cd4bc0f3b00dc8a1ee355c9ec393d603e5a3529', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 30, 'created': '2019-10-16 17:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/88e6e97f11ba83ace8859f58a03e11d7e9d07fe0', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 31, 'created': '2019-10-22 04:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/2717b4feb537997c60c73ce8bfbdfb096f329f90', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 32, 'created': '2019-10-22 18:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/2b636196ad50127b1374443c19219ee7cb3ca112', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nThis is a DRAFT.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}, {'number': 33, 'created': '2019-10-28 20:45:22.000000000', 'files': ['deploy-guide/source/app.rst', 'deploy-guide/source/app-managing-power-events.rst', 'deploy-guide/source/app-managing-power-events-juju-status.rst', 'deploy-guide/source/app-managing-power-events-topology.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/57eaaf574717a2f848c992e6899ef4ec8d779b81', 'message': 'Managing power events\n\nThis is a significant document whose purpose is to assist\ncloud administrators manage power events in their cloud.\n\nChange-Id: I956baf7c32b696553176cd6e7f16c9ea89009781\n'}]",96,678701,57eaaf574717a2f848c992e6899ef4ec8d779b81,86,10,33,30561,,,0,"Managing power events

This is a significant document whose purpose is to assist
cloud administrators manage power events in their cloud.

Change-Id: I956baf7c32b696553176cd6e7f16c9ea89009781
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/01/678701/29 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/app-critical-cloud-procedures.rst', 'deploy-guide/source/app.rst']",2,94dca27a38cb877d04a979eb18e741bd884d1916,add-appendix-critical-cloud-procedures, app-critical-cloud-procedures.rst,,73,0
openstack%2Ffreezer~master~I1935268db988aa22a6d9f146214e93b56f35143a,openstack/freezer,master,I1935268db988aa22a6d9f146214e93b56f35143a,Update tox.ini,ABANDONED,2019-11-04 09:12:01.000000000,2019-11-18 12:20:15.000000000,,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 09:12:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer/commit/1f7888ad0745e7f57105ea970a9b5b6f900608d1', 'message': 'Update tox.ini\n\nAdd py36 in envlist.\n\nChange-Id: I1935268db988aa22a6d9f146214e93b56f35143a\n'}]",0,692778,1f7888ad0745e7f57105ea970a9b5b6f900608d1,11,2,1,21069,,,0,"Update tox.ini

Add py36 in envlist.

Change-Id: I1935268db988aa22a6d9f146214e93b56f35143a
",git fetch https://review.opendev.org/openstack/freezer refs/changes/78/692778/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1f7888ad0745e7f57105ea970a9b5b6f900608d1,,"envlist = py27,py36,py37,pep8,pylint,docs","envlist = py27,py37,pep8,pylint,docs",1,1
openstack%2Fneutron-lib~stable%2Ftrain~I76ab222da64589528defe434589b92a033ef8cdf,openstack/neutron-lib,stable/train,I76ab222da64589528defe434589b92a033ef8cdf,install neutron_lib international messages,MERGED,2019-10-19 11:26:24.000000000,2019-11-18 12:04:18.000000000,2019-11-18 12:02:42.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-10-19 11:26:24.000000000', 'files': ['neutron_lib/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d53744e0370096048aea8f394fa1a7342c774fd6', 'message': 'install neutron_lib international messages\n\nneutron-lib needs to load internationalized file at initialization,\notherwise, international logging message will not work. refer to [1]\nzh_CN neutron_lib.po has been completed.\n\n[1] https://review.opendev.org/#/c/536011/\n\nChange-Id: I76ab222da64589528defe434589b92a033ef8cdf\nCloses-Bug: #1847586\n(cherry picked from commit 66cbfc813ac5caa29b35b659e54935917471f00c)\n'}]",0,689619,d53744e0370096048aea8f394fa1a7342c774fd6,10,7,1,27079,,,0,"install neutron_lib international messages

neutron-lib needs to load internationalized file at initialization,
otherwise, international logging message will not work. refer to [1]
zh_CN neutron_lib.po has been completed.

[1] https://review.opendev.org/#/c/536011/

Change-Id: I76ab222da64589528defe434589b92a033ef8cdf
Closes-Bug: #1847586
(cherry picked from commit 66cbfc813ac5caa29b35b659e54935917471f00c)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/19/689619/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/__init__.py'],1,d53744e0370096048aea8f394fa1a7342c774fd6,bug/1847586-stable/train,"import gettext import six if six.PY2: # pylint: disable=unexpected-keyword-arg gettext.install('neutron_lib', unicode=1) else: gettext.install('neutron_lib') ",,11,0
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Ftrain~Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00,openstack/openstack-ansible-rabbitmq_server,stable/train,Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00,Drop erlang bump for suse,MERGED,2019-11-16 22:04:02.000000000,2019-11-18 11:57:51.000000000,2019-11-18 11:56:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-16 22:04:02.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f5453d41032c927fd69daade10e722084591d86c', 'message': 'Drop erlang bump for suse\n\nAs we\'re using ""upstream"" suse repo for retrieving erlang\nwhich don\'t store previous versions, we have to drop\nerlang bump for suse. This will allow to install latest available erlang\nwhich should work.\n\nChange-Id: Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00\n(cherry picked from commit 8c43ee95560b242dd9153cd6a2d5c1449f93088e)\n'}]",0,694683,f5453d41032c927fd69daade10e722084591d86c,8,3,1,28619,,,0,"Drop erlang bump for suse

As we're using ""upstream"" suse repo for retrieving erlang
which don't store previous versions, we have to drop
erlang bump for suse. This will allow to install latest available erlang
which should work.

Change-Id: Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00
(cherry picked from commit 8c43ee95560b242dd9153cd6a2d5c1449f93088e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/83/694683/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,f5453d41032c927fd69daade10e722084591d86c,, - erlang, - erlang-22.1.5-lp151.1.1.x86_64,1,1
openstack%2Fopenstacksdk~master~I6417735b0fb784d500f9d33adca4fcd92cdf7966,openstack/openstacksdk,master,I6417735b0fb784d500f9d33adca4fcd92cdf7966,Add router add/remove route operations,MERGED,2019-08-02 14:44:29.000000000,2019-11-18 11:55:03.000000000,2019-11-18 11:53:25.000000000,"[{'_account_id': 3099}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-08-02 14:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c681f5d9300129aaa3d250d370fe8d994df26a80', 'message': 'Add router add/remove route operations\n\nAdd methods to the SDK to call the two new member actions introduced by\nnew Neutron extension: extraroute-atomic.\n\nChange-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966\nDepends-On: https://review.opendev.org/670851\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n'}, {'number': 2, 'created': '2019-08-09 12:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/48be3879564c383a9a727acd7e863b04540296bd', 'message': 'Add router add/remove route operations\n\nAdd methods to the SDK to call the two new member actions introduced by\nnew Neutron extension: extraroute-atomic.\n\nChange-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966\nDepends-On: https://review.opendev.org/670851\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n'}, {'number': 3, 'created': '2019-08-12 10:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a833ab71be32d741705b8925986d1eac2c3cb888', 'message': 'Add router add/remove route operations\n\nAdd methods to the SDK to call the two new member actions introduced by\nnew Neutron extension: extraroute-atomic.\n\nChange-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966\nDepends-On: https://review.opendev.org/670851\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n'}, {'number': 4, 'created': '2019-09-02 13:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/49e15f29aa9a717be534e1ae7d7cdb3d98fcd76c', 'message': 'Add router add/remove route operations\n\nAdd methods to the SDK to call the two new member actions introduced by\nnew Neutron extension: extraroute-atomic.\n\nChange-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966\nDepends-On: https://review.opendev.org/670851\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n'}, {'number': 5, 'created': '2019-10-08 13:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f2ff84649414bb1e7da56a076f67e840561b82cf', 'message': 'Add router add/remove route operations\n\nAdd methods to the SDK to call the two new member actions introduced by\nnew Neutron extension: extraroute-atomic.\n\nChange-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966\nDepends-On: https://review.opendev.org/670851\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n'}, {'number': 6, 'created': '2019-10-14 12:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/17805f402a3f3191ed101ea296361f421e9e0ed8', 'message': 'Add router add/remove route operations\n\nAdd methods to the SDK to call the two new member actions introduced by\nnew Neutron extension: extraroute-atomic.\n\nChange-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966\nDepends-On: https://review.opendev.org/670851\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n'}, {'number': 7, 'created': '2019-11-04 09:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1417e71b1f6c5e2b9760a07aaae814255dd20ec9', 'message': 'Add router add/remove route operations\n\nAdd methods to the SDK to call the two new member actions introduced by\nnew Neutron extension: extraroute-atomic.\n\nChange-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966\nDepends-On: https://review.opendev.org/670851\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n'}, {'number': 8, 'created': '2019-11-05 07:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b828a88880064e68f7c055395d8115810067882b', 'message': 'Add router add/remove route operations\n\nAdd methods to the SDK to call the two new member actions introduced by\nnew Neutron extension: extraroute-atomic.\n\nChange-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966\nDepends-On: https://review.opendev.org/670851\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n'}, {'number': 9, 'created': '2019-11-06 01:27:42.000000000', 'files': ['openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'releasenotes/notes/router-extraroute-atomic-1a0c84c3fd90ceb1.yaml', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/28fcf6e313f431ffd411f7ef4cb73bdcb3e70484', 'message': 'Add router add/remove route operations\n\nAdd methods to the SDK to call the two new member actions introduced by\nnew Neutron extension: extraroute-atomic.\n\nChange-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966\nDepends-On: https://review.opendev.org/670851\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n'}]",19,674324,28fcf6e313f431ffd411f7ef4cb73bdcb3e70484,53,6,9,15554,,,0,"Add router add/remove route operations

Add methods to the SDK to call the two new member actions introduced by
new Neutron extension: extraroute-atomic.

Change-Id: I6417735b0fb784d500f9d33adca4fcd92cdf7966
Depends-On: https://review.opendev.org/670851
Partial-Bug: #1826396 (rfe)
Related-Change: https://review.opendev.org/655680 (spec)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/24/674324/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/router.py', 'openstack/network/v2/_proxy.py', 'releasenotes/notes/router-extraroute-atomic-1a0c84c3fd90ceb1.yaml', 'openstack/tests/unit/network/v2/test_router.py']",4,c681f5d9300129aaa3d250d370fe8d994df26a80,extraroute," def test_add_extra_routes(self): r = router.Router(**EXAMPLE) response = mock.Mock() response.body = {} response.json = mock.Mock(return_value=response.body) sess = mock.Mock() sess.put = mock.Mock(return_value=response) r.add_extra_routes(sess, response.body) url = 'routers/IDENTIFIER/add_extraroutes' sess.put.assert_called_with(url, json=response.body) def test_remove_extra_routes(self): r = router.Router(**EXAMPLE) response = mock.Mock() response.body = {} response.json = mock.Mock(return_value=response.body) sess = mock.Mock() sess.put = mock.Mock(return_value=response) r.remove_extra_routes(sess, response.body) url = 'routers/IDENTIFIER/remove_extraroutes' sess.put.assert_called_with(url, json=response.body) ",,78,0
openstack%2Fpython-freezerclient~master~I69c8240c88952008536b1f2581facf80596bb3c8,openstack/python-freezerclient,master,I69c8240c88952008536b1f2581facf80596bb3c8,"Modify ""backup-list"" show",MERGED,2019-11-16 03:35:37.000000000,2019-11-18 11:51:53.000000000,2019-11-18 11:50:54.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-16 03:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/d4db8f72b1449b80ab9d584fd22ac3e34a5cec2e', 'message': 'Modify ""backup-list"" show\n\nSorted by the time of the backup task is createdw.\n\nChange-Id: I69c8240c88952008536b1f2581facf80596bb3c8\n'}, {'number': 2, 'created': '2019-11-18 08:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/79459315444c92d331bd73ed90d69214a6d95472', 'message': 'Modify ""backup-list"" show\n\nSorted by the time of the backup task is createdw.\n\nChange-Id: I69c8240c88952008536b1f2581facf80596bb3c8\n'}, {'number': 3, 'created': '2019-11-18 10:03:18.000000000', 'files': ['freezerclient/v2/backups.py'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/990f31e53f4b446c9cfa32d97328c2e3e275d479', 'message': 'Modify ""backup-list"" show\n\nSorted by the time of the backup task is createdw.\n\nChange-Id: I69c8240c88952008536b1f2581facf80596bb3c8\n'}]",0,694658,990f31e53f4b446c9cfa32d97328c2e3e275d479,11,2,3,21069,,,0,"Modify ""backup-list"" show

Sorted by the time of the backup task is createdw.

Change-Id: I69c8240c88952008536b1f2581facf80596bb3c8
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/58/694658/1 && git format-patch -1 --stdout FETCH_HEAD,['freezerclient/v2/backups.py'],1,d4db8f72b1449b80ab9d584fd22ac3e34a5cec2e,," columns = ('Created at', 'Backup ID', 'Backup UUID', 'Hostname', 'Path', 'Level') # sort by the time of backup task is created backups_l = sorted(backups, key=lambda x: x.get('backup_metadata', '').get('time_stamp', '')) data = ((datetime.datetime.fromtimestamp( int(b.get('backup_metadata', {}).get('time_stamp', ''))) if b.get('backup_metadata') else '', b.get('backup_id', ''), ) for b in backups_l)"," columns = ('Backup ID', 'Backup UUID', 'Hostname', 'Path', 'Created at', 'Level') data = ((b.get('backup_id', ''), datetime.datetime.fromtimestamp( int(b.get('backup_metadata', {}).get( 'time_stamp', ''))) if b.get( 'backup_metadata') else '', ) for b in backups)",12,8
openstack%2Fmurano-dashboard~master~I3f8e04952b21a2f88c10461ce90c614b94a8eeb9,openstack/murano-dashboard,master,I3f8e04952b21a2f88c10461ce90c614b94a8eeb9,Imported Translations from Zanata,MERGED,2019-11-15 10:19:10.000000000,2019-11-18 11:49:47.000000000,2019-11-18 11:48:26.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 10:19:10.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8d66fe7814f88ad5a112d737cfeb460c0e77c4cb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3f8e04952b21a2f88c10461ce90c614b94a8eeb9\n'}]",0,694500,8d66fe7814f88ad5a112d737cfeb460c0e77c4cb,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3f8e04952b21a2f88c10461ce90c614b94a8eeb9
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/00/694500/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,8d66fe7814f88ad5a112d737cfeb460c0e77c4cb,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-10-08 01:38+0000\n""""PO-Revision-Date: 2019-11-14 11:18+0000\n""msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" ","""POT-Creation-Date: 2018-08-09 00:39+0000\n""""PO-Revision-Date: 2018-08-11 03:11+0000\n""",9,2
openstack%2Ffreezer-tempest-plugin~master~I938ab7fd94f59f6721236ec0c10876cf42b3acb9,openstack/freezer-tempest-plugin,master,I938ab7fd94f59f6721236ec0c10876cf42b3acb9,Update Devstack doc,MERGED,2019-11-18 11:04:33.000000000,2019-11-18 11:39:09.000000000,2019-11-18 11:39:09.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 11:04:33.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/a4085100941f62f0a126f50903e6bb3504518ecc', 'message': 'Update Devstack doc\n\n Add a sample file ""tempest.conf"" and some commands to debug for developer.\n\nChange-Id: I938ab7fd94f59f6721236ec0c10876cf42b3acb9\n'}]",0,694746,a4085100941f62f0a126f50903e6bb3504518ecc,6,2,1,21069,,,0,"Update Devstack doc

 Add a sample file ""tempest.conf"" and some commands to debug for developer.

Change-Id: I938ab7fd94f59f6721236ec0c10876cf42b3acb9
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/46/694746/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,a4085100941f62f0a126f50903e6bb3504518ecc,," export FREEZER_BACKEND='sqlalchemy'2. Config the ""tempest.conf"" file:: tox -e genconfig cd /opt/stack/tempest/etc cp tempest.conf.sample tempest.conf 3. This is a sample ""tempest.conf"" file:: [auth] admin_username = admin admin_project_name = admin admin_password = stack admin_domain_name = Default [identity] uri_v3 = http://172.16.1.108/identity/v3 3. Running freezer tempest tests:: cd /opt/stack/tempest tempest run -r freezer_tempest_plugin 4. Running one tempest test case:: cd /opt/stack/tempest tempest run -r freezer_tempest_plugin.tests.freezer_api.api.test_api_jobs.TestFreezerApiJobs.test_api_jobs_post For more informatin, see: https://docs.openstack.org/tempest/latest/", #export FREEZER_BACKEND='sqlalchemy'2. Running freezer tempest tests:: tempest run -r freezer_tempest_test,29,3
openstack%2Fkuryr-kubernetes~master~I2b2ef73859fd7b86dc0c03af010570569854d568,openstack/kuryr-kubernetes,master,I2b2ef73859fd7b86dc0c03af010570569854d568,Set explicitly type of language in code-block directive.,MERGED,2019-11-18 11:05:11.000000000,2019-11-18 11:36:44.000000000,2019-11-18 11:35:09.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 11:05:11.000000000', 'files': ['doc/source/installation/testing_sriov_functional.rst', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/devref/port_crd_usage.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5a8681a582dc8eeb294d0d0a490d44b064c33c96', 'message': 'Set explicitly type of language in code-block directive.\n\nIt might happen, that on older version of Sphinx code-block directive\nwill fail without an argument - which is type of language/output/type\nused by pygments for syntax highlight. We fix it in this patch.\n\nChange-Id: I2b2ef73859fd7b86dc0c03af010570569854d568\n'}]",0,694747,5a8681a582dc8eeb294d0d0a490d44b064c33c96,7,2,1,13692,,,0,"Set explicitly type of language in code-block directive.

It might happen, that on older version of Sphinx code-block directive
will fail without an argument - which is type of language/output/type
used by pygments for syntax highlight. We fix it in this patch.

Change-Id: I2b2ef73859fd7b86dc0c03af010570569854d568
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/47/694747/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/testing_sriov_functional.rst', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/devref/port_crd_usage.rst']",3,5a8681a582dc8eeb294d0d0a490d44b064c33c96,fix-code-block,.. code-block:: text,.. code-block::,3,3
openstack%2Fvitrage~stable%2Ftrain~I67e4c59fc1170b07e8f7c50416de8e8598152f09,openstack/vitrage,stable/train,I67e4c59fc1170b07e8f7c50416de8e8598152f09,Bugfix - Processor check if neighbors are newer before updating them,MERGED,2019-11-14 08:40:15.000000000,2019-11-18 11:21:01.000000000,2019-11-18 11:19:11.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 08:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/47cf3434912dcf0e94ebf2a00597cf6da5736727', 'message': 'Bugfix - Processor check if neighbors are newer before updating them\n\nThe bug is that the processor may update a vertex to an older timestamp\n than the existing.\n\nChange-Id: I67e4c59fc1170b07e8f7c50416de8e8598152f09\n'}, {'number': 2, 'created': '2019-11-17 08:09:09.000000000', 'files': ['vitrage/entity_graph/processor/processor.py', 'vitrage/tests/functional/evaluator/test_action_executor.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/02260800eaf70d04e52ed1b05e4e17d02436eb32', 'message': 'Bugfix - Processor check if neighbors are newer before updating them\n\nThe bug is that the processor may update a vertex to an older timestamp\n than the existing.\n\nChange-Id: I67e4c59fc1170b07e8f7c50416de8e8598152f09\n'}]",0,694213,02260800eaf70d04e52ed1b05e4e17d02436eb32,10,3,2,19184,,,0,"Bugfix - Processor check if neighbors are newer before updating them

The bug is that the processor may update a vertex to an older timestamp
 than the existing.

Change-Id: I67e4c59fc1170b07e8f7c50416de8e8598152f09
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/13/694213/2 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/entity_graph/processor/processor.py'],1,47cf3434912dcf0e94ebf2a00597cf6da5736727,bugfix_update_neighbor-stable/train," if graph_vertex and not PUtils.is_newer_vertex(graph_vertex, vertex): LOG.warning(""Neighbor update event arrived later than expected - "" ""graph_vertex: %s --- updated_vertex: %s"", graph_vertex, vertex) continue elif not graph_vertex or not PUtils.is_deleted(graph_vertex):", if not graph_vertex or not PUtils.is_deleted(graph_vertex):,6,1
openstack%2Fopenstacksdk~master~I6f628787dcf458ff9149dbb3502e7beeded70d9e,openstack/openstacksdk,master,I6f628787dcf458ff9149dbb3502e7beeded70d9e,baremetal node: 'error' is a failed state,MERGED,2019-11-15 22:07:47.000000000,2019-11-18 11:15:28.000000000,2019-11-18 10:36:28.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-11-15 22:07:47.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3c6dae3a657f556adc7e34a22831261e66b1da39', 'message': ""baremetal node: 'error' is a failed state\n\nFor baremetal.wait_for_provision_state(), if abort_on_failed_state\nis True, we need to abort if the node goes into the 'error'\nprovision state (which happens if a failure occurs while trying\nto delete the BM node).\n\nChange-Id: I6f628787dcf458ff9149dbb3502e7beeded70d9e\nStory: #2006860\n""}]",0,694634,3c6dae3a657f556adc7e34a22831261e66b1da39,9,3,1,6618,,,0,"baremetal node: 'error' is a failed state

For baremetal.wait_for_provision_state(), if abort_on_failed_state
is True, we need to abort if the node goes into the 'error'
provision state (which happens if a failure occurs while trying
to delete the BM node).

Change-Id: I6f628787dcf458ff9149dbb3502e7beeded70d9e
Story: #2006860
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/34/694634/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/node.py']",2,3c6dae3a657f556adc7e34a22831261e66b1da39,bug/2006860, if (self.provision_state.endswith(' failed') or self.provision_state == 'error'):, if self.provision_state.endswith(' failed'):,14,1
openstack%2Fvitrage~master~I67e4c59fc1170b07e8f7c50416de8e8598152f09,openstack/vitrage,master,I67e4c59fc1170b07e8f7c50416de8e8598152f09,Bugfix - Processor check if neighbors are newer before updating them,MERGED,2019-11-14 08:39:04.000000000,2019-11-18 11:12:06.000000000,2019-11-18 11:10:53.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 08:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/496ca7b5d699281e0ba5a04f5128fbcb62c12776', 'message': 'Bugfix - Processor check if neighbors are newer before updating them\n\nThe bug is that the processor may update a vertex to an older timestamp\n than the existing.\n\nChange-Id: I67e4c59fc1170b07e8f7c50416de8e8598152f09\n'}, {'number': 2, 'created': '2019-11-14 13:00:37.000000000', 'files': ['vitrage/entity_graph/processor/processor.py', 'vitrage/tests/functional/evaluator/test_action_executor.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e2a792a1c71fa7b1d3d8bbb821943bbf4a882ac6', 'message': 'Bugfix - Processor check if neighbors are newer before updating them\n\nThe bug is that the processor may update a vertex to an older timestamp\n than the existing.\n\nChange-Id: I67e4c59fc1170b07e8f7c50416de8e8598152f09\n'}]",0,694212,e2a792a1c71fa7b1d3d8bbb821943bbf4a882ac6,13,3,2,19184,,,0,"Bugfix - Processor check if neighbors are newer before updating them

The bug is that the processor may update a vertex to an older timestamp
 than the existing.

Change-Id: I67e4c59fc1170b07e8f7c50416de8e8598152f09
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/12/694212/2 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/entity_graph/processor/processor.py'],1,496ca7b5d699281e0ba5a04f5128fbcb62c12776,bugfix_update_neighbor," if graph_vertex and not PUtils.is_newer_vertex(graph_vertex, vertex): LOG.warning(""Neighbor update event arrived later than expected - "" ""graph_vertex: %s --- updated_vertex: %s"", graph_vertex, vertex) continue elif not graph_vertex or not PUtils.is_deleted(graph_vertex):", if not graph_vertex or not PUtils.is_deleted(graph_vertex):,6,1
openstack%2Fglance~master~I538c8db4b45eb3f65dfe48f0c3ce006a8dfee4df,openstack/glance,master,I538c8db4b45eb3f65dfe48f0c3ce006a8dfee4df,Start README.rst with a better title,MERGED,2019-11-13 16:06:52.000000000,2019-11-18 11:06:48.000000000,2019-11-18 11:04:01.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 16:06:52.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/35d9ec3f598773e1f17e97b4467dccc156de4427', 'message': 'Start README.rst with a better title\n\nNow that we are using gitea the contents of our README.rst are\nmore prominently displayed. Starting it with a ""Team and repository\ntags"" title is a bit confusing. This change makes it start with the\nname of the project instead.\n\nChange-Id: I538c8db4b45eb3f65dfe48f0c3ce006a8dfee4df\n'}]",0,694107,35d9ec3f598773e1f17e97b4467dccc156de4427,8,3,1,308,,,0,"Start README.rst with a better title

Now that we are using gitea the contents of our README.rst are
more prominently displayed. Starting it with a ""Team and repository
tags"" title is a bit confusing. This change makes it start with the
name of the project instead.

Change-Id: I538c8db4b45eb3f65dfe48f0c3ce006a8dfee4df
",git fetch https://review.opendev.org/openstack/glance refs/changes/07/694107/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,35d9ec3f598773e1f17e97b4467dccc156de4427,better-readme,================ OpenStack Glance ================Glance is an OpenStack project that provides services and associated libraries-------------,======================== Team and repository tags ============================== Glance ====== Glance is a project that provides services and associated libraries-----------------,5,9
openstack%2Fglance~master~I1bb5759e6b1e3f8545ab417617072a61323b59a7,openstack/glance,master,I1bb5759e6b1e3f8545ab417617072a61323b59a7,Install requirements during the correct tox phase,MERGED,2019-11-13 00:39:17.000000000,2019-11-18 11:05:33.000000000,2019-11-18 11:03:58.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 00:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9880dec689bebf77aad87b71262bdeaae34c2f0a', 'message': ""Install requirements during the correct tox phase\n\nGlance isn't explicitly installing requirements, so add requirements\nas tox deps in such a way that they'll be properly constrained by the\ncurrent openstack upper-constraints.\n\nChange-Id: I1bb5759e6b1e3f8545ab417617072a61323b59a7\nCloses-bug: #1852356\n""}, {'number': 2, 'created': '2019-11-14 13:35:03.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/d2d67ae3a1e7f4e482adf6b2e050f81cf57ec9e7', 'message': 'Install requirements during the correct tox phase\n\nGlance isn\'t explicitly installing requirements, so add requirements\nas tox deps in such a way that they\'ll be properly constrained by the\ncurrent openstack upper-constraints.\n\nThis change also bumps the version of psycopg to that of the current\nupper-constraints in test-requirements and lower-constraints.  (The\nversion in our current lower-constraints is subject to the ""could not\ndetermine PostgreSQL version from \'10.x\'"" error, which causes the\nlower-constraints job to fail.)\n\nChange-Id: I1bb5759e6b1e3f8545ab417617072a61323b59a7\nCloses-bug: #1852356\n'}]",0,693951,d2d67ae3a1e7f4e482adf6b2e050f81cf57ec9e7,21,5,2,5314,,,0,"Install requirements during the correct tox phase

Glance isn't explicitly installing requirements, so add requirements
as tox deps in such a way that they'll be properly constrained by the
current openstack upper-constraints.

This change also bumps the version of psycopg to that of the current
upper-constraints in test-requirements and lower-constraints.  (The
version in our current lower-constraints is subject to the ""could not
determine PostgreSQL version from '10.x'"" error, which causes the
lower-constraints job to fail.)

Change-Id: I1bb5759e6b1e3f8545ab417617072a61323b59a7
Closes-bug: #1852356
",git fetch https://review.opendev.org/openstack/glance refs/changes/51/693951/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9880dec689bebf77aad87b71262bdeaae34c2f0a,bug/1852356,install_command = pip install {opts} {packages} deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} deps = -r{toxinidir}/test-requirements.txt,4,2
openstack%2Fglance~master~I35bdacd154b2c8d18ce268a5e6e8aba710e41108,openstack/glance,master,I35bdacd154b2c8d18ce268a5e6e8aba710e41108,Use FakePolicyEnforcer for deserialization tests,MERGED,2019-11-13 00:45:06.000000000,2019-11-18 11:03:59.000000000,2019-11-18 11:03:59.000000000,"[{'_account_id': 4257}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 00:45:06.000000000', 'files': ['glance/tests/unit/v2/test_tasks_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7c85bdcf837da06463dbea0cd5171b1f5b3e726d', 'message': ""Use FakePolicyEnforcer for deserialization tests\n\nThe tasks unit tests that test the RequestDeserializer\nare using the real policy engine.  They should be using\na mock because we're testing the deserialization, not the\npolicies.\n\nCloses-bug: #1852354\n\nChange-Id: I35bdacd154b2c8d18ce268a5e6e8aba710e41108\n""}]",0,693952,7c85bdcf837da06463dbea0cd5171b1f5b3e726d,9,5,1,5314,,,0,"Use FakePolicyEnforcer for deserialization tests

The tasks unit tests that test the RequestDeserializer
are using the real policy engine.  They should be using
a mock because we're testing the deserialization, not the
policies.

Closes-bug: #1852354

Change-Id: I35bdacd154b2c8d18ce268a5e6e8aba710e41108
",git fetch https://review.opendev.org/openstack/glance refs/changes/52/693952/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/v2/test_tasks_resource.py'],1,7c85bdcf837da06463dbea0cd5171b1f5b3e726d,bug/1852354, self.policy = unit_test_utils.FakePolicyEnforcer() self.deserializer = glance.api.v2.tasks.RequestDeserializer( policy_engine=self.policy), self.deserializer = glance.api.v2.tasks.RequestDeserializer(),3,1
openstack%2Fplacement~master~I484390bddf2b9613a122d784dff6fb7eaaf625df,openstack/placement,master,I484390bddf2b9613a122d784dff6fb7eaaf625df,Introduce jitter during allocations replace_all retry,ABANDONED,2019-08-28 18:05:03.000000000,2019-11-18 11:02:19.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-28 18:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d3982f117c6bb39e4842a6acd9544f183d3c9671', 'message': ""Introduce jitter during allocations replace_all retry\n\nWhen there are highly concurrent allocation writes for the same\nresource provider, the retry loop in replace_all can reach the\nend of its retries quite often. It's common wisdom that such\nretry loops should introduce a bit of random jitter so we do that\nhere.\n\nIn the unlikely event the loop sleeps the maximum per iteration and\nretries its default maximum, the time used by the request will be\nextended by a bit more than 10 seconds.\n\nThe functional test changes confirm that the sleep is called. The\nsomewhat complex gyrations to make sure we are mocking only the\ntime module imported into placement.objects.allocation is\nbecause sqlalchemy also does sleeps of its own (sleep(0) to get\nthreads to yield) and we do not wish to count those.\n\nChange-Id: I484390bddf2b9613a122d784dff6fb7eaaf625df\nStory: 2006467\nTask: 36404\n""}, {'number': 2, 'created': '2019-08-29 09:48:54.000000000', 'files': ['placement/tests/functional/db/test_allocation.py', 'placement/objects/allocation.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/49cf31a336527956d9ada3f61072d34955c4e558', 'message': ""Introduce jitter during allocations replace_all retry\n\nWhen there are highly concurrent allocation writes for the same\nresource provider, the retry loop in replace_all can reach the\nend of its retries quite often. It's common wisdom that such\nretry loops should introduce a bit of random jitter so we do that\nhere.\n\nIn the unlikely event the loop sleeps the maximum per iteration and\nretries its default maximum, the time used by the request will be\nextended by a bit more than 10 seconds.\n\nThe functional test changes confirm that the sleep is called. The\nsomewhat complex gyrations to make sure we are mocking only the\ntime module imported into placement.objects.allocation is\nbecause sqlalchemy also does sleeps of its own (sleep(0) to get\nthreads to yield) and we do not wish to count those.\n\nChange-Id: I484390bddf2b9613a122d784dff6fb7eaaf625df\nStory: 2006467\nTask: 36404\n""}]",2,679109,49cf31a336527956d9ada3f61072d34955c4e558,7,3,2,11564,,,0,"Introduce jitter during allocations replace_all retry

When there are highly concurrent allocation writes for the same
resource provider, the retry loop in replace_all can reach the
end of its retries quite often. It's common wisdom that such
retry loops should introduce a bit of random jitter so we do that
here.

In the unlikely event the loop sleeps the maximum per iteration and
retries its default maximum, the time used by the request will be
extended by a bit more than 10 seconds.

The functional test changes confirm that the sleep is called. The
somewhat complex gyrations to make sure we are mocking only the
time module imported into placement.objects.allocation is
because sqlalchemy also does sleeps of its own (sleep(0) to get
threads to yield) and we do not wish to count those.

Change-Id: I484390bddf2b9613a122d784dff6fb7eaaf625df
Story: 2006467
Task: 36404
",git fetch https://review.opendev.org/openstack/placement refs/changes/09/679109/2 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_allocation.py', 'placement/objects/allocation.py']",2,d3982f117c6bb39e4842a6acd9544f183d3c9671,story/2006467,import random import time # ResourceProviderConcurrentUpdateDetected. Sleep a fraction of a # second to introduce some jitter and then reset the resource provider # objects and try again. For sake of simplicity (and because we don't have # Sleep for up to 1 second to add some jitter to the retrying. time.sleep(random.random())," # ResourceProviderConcurrentUpdateDetected. We don't care about # sleeping, we simply want to reset the resource provider objects # and try again. For sake of simplicity (and because we don't have",31,24
openstack%2Fpuppet-openstack-integration~master~Ia19612b668313752b62545ce5cae49396671b939,openstack/puppet-openstack-integration,master,Ia19612b668313752b62545ce5cae49396671b939,Reduce fernet_rotate frequency,MERGED,2019-11-15 14:48:05.000000000,2019-11-18 10:57:34.000000000,2019-11-18 10:50:59.000000000,"[{'_account_id': 9414}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-15 14:48:05.000000000', 'files': ['manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fc3f3e14f5d736a185b9e545e889093bc57d2299', 'message': ""Reduce fernet_rotate frequency\n\nCurrently it's every 10 minutes. When using expiration time of 40\nminutes (scenario001) or longer, this is too frequent and in some cases,\njobs are failing with InvalidToken in scenario001. To avoid this we can\nrun fernet_rotate less often or increase max_active_keys [1]. In this\ncase i'm making it to rotate every 30 minutes instead of 10.\n\n[1] https://docs.openstack.org/keystone/latest/admin/fernet-token-faq.html#i-rotated-keys-and-now-tokens-are-invalidating-early-what-did-i-do\n\nChange-Id: Ia19612b668313752b62545ce5cae49396671b939\n""}]",0,694557,fc3f3e14f5d736a185b9e545e889093bc57d2299,11,6,1,16312,,,0,"Reduce fernet_rotate frequency

Currently it's every 10 minutes. When using expiration time of 40
minutes (scenario001) or longer, this is too frequent and in some cases,
jobs are failing with InvalidToken in scenario001. To avoid this we can
run fernet_rotate less often or increase max_active_keys [1]. In this
case i'm making it to rotate every 30 minutes instead of 10.

[1] https://docs.openstack.org/keystone/latest/admin/fernet-token-faq.html#i-rotated-keys-and-now-tokens-are-invalidating-early-what-did-i-do

Change-Id: Ia19612b668313752b62545ce5cae49396671b939
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/57/694557/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone.pp'],1,fc3f3e14f5d736a185b9e545e889093bc57d2299,invalidtoken," minute => '*/30',"," minute => '*/10',",1,1
openstack%2Fironic~master~If08586f3e9705dd38ff83e4b500d9ee3cd45bce3,openstack/ironic,master,If08586f3e9705dd38ff83e4b500d9ee3cd45bce3,Allow node owners to administer nodes,MERGED,2019-10-18 17:16:50.000000000,2019-11-18 10:56:17.000000000,2019-11-18 10:53:54.000000000,"[{'_account_id': 7386}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-10-18 17:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a533a46e7581d704c4f3174e20716232dd3f73b', 'message': ""Allow node owners to administer nodes\n\nIntroduce is_node_owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions\non that node.\n\nChange-Id: If08586f3e9705dd38ff83e4b500d9ee3cd45bce3\nStory: #2006506\nTask: #37214\n""}, {'number': 2, 'created': '2019-10-29 20:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/48e4570b2295db09acfbe6200102440b2051309a', 'message': ""Allow node owners to administer nodes\n\nIntroduce is_node_owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions\non that node.\n\nChange-Id: If08586f3e9705dd38ff83e4b500d9ee3cd45bce3\nStory: #2006506\nTask: #37214\n""}, {'number': 3, 'created': '2019-10-30 15:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c6fb3a4346400b8f0faee13853c953eede8baedf', 'message': ""Allow node owners to administer nodes\n\nIntroduce is_node_owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions\non that node.\n\nChange-Id: If08586f3e9705dd38ff83e4b500d9ee3cd45bce3\nStory: #2006506\nTask: #37214\n""}, {'number': 4, 'created': '2019-11-05 19:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4def91511b061e35a58d1a5617358d699ba667e1', 'message': ""Allow node owners to administer nodes\n\nIntroduce is_node_owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions\non that node.\n\nChange-Id: If08586f3e9705dd38ff83e4b500d9ee3cd45bce3\nStory: #2006506\nTask: #37214\n""}, {'number': 5, 'created': '2019-11-06 15:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a3e2d206647b45be70435452bbba4b1ce7128f53', 'message': ""Allow node owners to administer nodes\n\nIntroduce is_node_owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions\non that node.\n\nChange-Id: If08586f3e9705dd38ff83e4b500d9ee3cd45bce3\nStory: #2006506\nTask: #37214\n""}, {'number': 6, 'created': '2019-11-12 15:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2b8c89b592e32dad402d8cfd5b2824fd4001e0a', 'message': ""Allow node owners to administer nodes\n\nIntroduce is_node_owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions\non that node.\n\nChange-Id: If08586f3e9705dd38ff83e4b500d9ee3cd45bce3\nStory: #2006506\nTask: #37214\n""}, {'number': 7, 'created': '2019-11-14 15:53:57.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/common/test_policy.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'releasenotes/notes/node-owner-policy-d7168976bba70566.yaml', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8253826e86928cd722e1363ca3701f48b36b8dd0', 'message': ""Allow node owners to administer nodes\n\nIntroduce is_node_owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions\non that node.\n\nChange-Id: If08586f3e9705dd38ff83e4b500d9ee3cd45bce3\nStory: #2006506\nTask: #37214\n""}]",35,689551,8253826e86928cd722e1363ca3701f48b36b8dd0,54,9,7,7386,,,0,"Allow node owners to administer nodes

Introduce is_node_owner to policy, giving Ironic admins
the option of modifying the policy file to allow users
specified by a node's owner field to perform API actions
on that node.

Change-Id: If08586f3e9705dd38ff83e4b500d9ee3cd45bce3
Story: #2006506
Task: #37214
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/689551/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/common/test_policy.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",7,3a533a46e7581d704c4f3174e20716232dd3f73b,bp/node-owner-policy," def _get_boot_device(self, rpc_node, supported=False): rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:set_boot_device', node_ident) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:get_boot_device', node_ident) return self._get_boot_device(rpc_node) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:get_boot_device', node_ident) boot_devices = self._get_boot_device(rpc_node, supported=True) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:inject_nmi', node_ident) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:get_console', node_ident) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:set_console_state', node_ident) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:get_states', node_ident) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:set_raid_state', node_ident) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:set_power_state', node_ident) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:set_provision_state', node_ident) node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:traits:list', self.node_ident) node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:traits:set', self.node_ident) node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:traits:delete', self.node_ident) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:vendor_passthru', node_ident) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:vendor_passthru', node_ident) def _set_maintenance(self, rpc_node, maintenance_mode, reason=None): rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:set_maintenance', node_ident) self._set_maintenance(rpc_node, True, reason=reason) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:clear_maintenance', node_ident) self._set_maintenance(rpc_node, False) def _get_node_and_topic(self, policy_name): rpc_node = api_utils.check_node_policy_and_retrieve( policy_name, self.node_ident) rpc_node, topic = self._get_node_and_topic('baremetal:node:vif:list') rpc_node, topic = self._get_node_and_topic('baremetal:node:vif:attach') rpc_node, topic = self._get_node_and_topic('baremetal:node:vif:detach') try: policy.authorize('baremetal:node:list_all', cdict, cdict) except exception.HTTPForbidden: if (api.request.version.minor < versions.MINOR_50_NODE_OWNER or not cdict[""project_id""]): raise policy.authorize('baremetal:node:list', cdict, cdict) owner = cdict[""project_id""] try: policy.authorize('baremetal:node:list_all', cdict, cdict) except exception.HTTPForbidden: if (api.request.version.minor < versions.MINOR_50_NODE_OWNER or not cdict[""project_id""]): raise policy.authorize('baremetal:node:list', cdict, cdict) owner = cdict[""project_id""] rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:validate', node_uuid or node) rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:get', node_ident, with_suffix=True) if self.from_chassis: raise exception.OperationNotPermitted() context = api.request.context rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:update', node_ident, with_suffix=True) context = api.request.context rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:delete', node_ident, with_suffix=True) "," def _get_boot_device(self, node_ident, supported=False): rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:set_boot_device', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:get_boot_device', cdict, cdict) return self._get_boot_device(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:get_boot_device', cdict, cdict) boot_devices = self._get_boot_device(node_ident, supported=True) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:inject_nmi', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:get_console', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:set_console_state', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:get_states', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:set_raid_state', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:set_power_state', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:set_provision_state', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:traits:list', cdict, cdict) node = api_utils.get_rpc_node(self.node_ident) cdict = context.to_policy_values() policy.authorize('baremetal:node:traits:set', cdict, cdict) node = api_utils.get_rpc_node(self.node_ident) cdict = context.to_policy_values() policy.authorize('baremetal:node:traits:delete', cdict, cdict) node = api_utils.get_rpc_node(self.node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:vendor_passthru', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:vendor_passthru', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_ident) def _set_maintenance(self, node_ident, maintenance_mode, reason=None): rpc_node = api_utils.get_rpc_node(node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:set_maintenance', cdict, cdict) self._set_maintenance(node_ident, True, reason=reason) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:clear_maintenance', cdict, cdict) self._set_maintenance(node_ident, False) def _get_node_and_topic(self): rpc_node = api_utils.get_rpc_node(self.node_ident) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:vif:list', cdict, cdict) rpc_node, topic = self._get_node_and_topic() cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:vif:attach', cdict, cdict) rpc_node, topic = self._get_node_and_topic() cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:vif:detach', cdict, cdict) rpc_node, topic = self._get_node_and_topic() policy.authorize('baremetal:node:get', cdict, cdict) policy.authorize('baremetal:node:get', cdict, cdict) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:validate', cdict, cdict) rpc_node = api_utils.get_rpc_node(node_uuid or node) cdict = api.request.context.to_policy_values() policy.authorize('baremetal:node:get', cdict, cdict) rpc_node = api_utils.get_rpc_node_with_suffix(node_ident) if self.from_chassis: raise exception.OperationNotPermitted() context = api.request.context cdict = context.to_policy_values() policy.authorize('baremetal:node:update', cdict, cdict) rpc_node = api_utils.get_rpc_node_with_suffix(node_ident) context = api.request.context cdict = context.to_policy_values() policy.authorize('baremetal:node:delete', cdict, cdict) rpc_node = api_utils.get_rpc_node_with_suffix(node_ident)",403,99
openstack%2Fmistral~master~I4d0fdff54de9bee70aeaf10a4ef483ad7000840b,openstack/mistral,master,I4d0fdff54de9bee70aeaf10a4ef483ad7000840b,Make action heartbeats work for all executor types,MERGED,2019-11-13 09:37:08.000000000,2019-11-18 10:54:21.000000000,2019-11-18 04:49:28.000000000,"[{'_account_id': 7700}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-11-13 09:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bd7f89eb479c54056339d9547fce524795d46568', 'message': 'WIP: Make action heartbeats work for all executor types\n\nChange-Id: I4d0fdff54de9bee70aeaf10a4ef483ad7000840b\n'}, {'number': 2, 'created': '2019-11-15 09:57:11.000000000', 'files': ['mistral/services/action_heartbeat_sender.py', 'mistral/engine/engine_server.py', 'mistral/services/action_heartbeat_checker.py', 'mistral/tests/unit/engine/test_action_heartbeat_checker.py', 'mistral/tests/unit/engine/test_action_heartbeat_sender.py', 'mistral/executors/default_executor.py', 'mistral/engine/base.py', 'mistral/tests/unit/engine/test_default_engine.py', 'mistral/executors/executor_server.py', 'mistral/rpc/clients.py', 'mistral/engine/default_engine.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/7ec4f26744ac17151adae4c06cd8a17b71f409a7', 'message': ""Make action heartbeats work for all executor types\n\n* Previously action hearbeats didn't work in case of using local\n  executors because the component responsible for sending heartbeats\n  was started by the executor RPC server which doesn't make sense to\n  initialize for a local executor. This patch refactors the code\n  so that now heartbeats get sent for any type of executors. For\n  local executors it is also useful because a cluster node that\n  runs an engine and a local executor may also crash. With this\n  change, remaining cluster nodes will be able to understand that\n  the action will never complete and one of them will time it out.\n  If all is fine with the node where the local executor is running\n  then heartbeats will be sent normally and the action won't time\n  out. Before this change, in case of local executors a long running\n  action would always time out after a configured amount of time\n  (by default, 60 mins) just because local executors never sent\n  heartbeats.\n* Made a lot of renamings to clearly see what component is\n  responsible for.\n* Wrote the tests that check the heartbeat sender, both positive\n  and negative scenarios for local and remote executor types.\n\nCloses-Bug: #1852722\n\nChange-Id: I4d0fdff54de9bee70aeaf10a4ef483ad7000840b\n""}]",0,694023,7ec4f26744ac17151adae4c06cd8a17b71f409a7,11,6,2,8731,,,0,"Make action heartbeats work for all executor types

* Previously action hearbeats didn't work in case of using local
  executors because the component responsible for sending heartbeats
  was started by the executor RPC server which doesn't make sense to
  initialize for a local executor. This patch refactors the code
  so that now heartbeats get sent for any type of executors. For
  local executors it is also useful because a cluster node that
  runs an engine and a local executor may also crash. With this
  change, remaining cluster nodes will be able to understand that
  the action will never complete and one of them will time it out.
  If all is fine with the node where the local executor is running
  then heartbeats will be sent normally and the action won't time
  out. Before this change, in case of local executors a long running
  action would always time out after a configured amount of time
  (by default, 60 mins) just because local executors never sent
  heartbeats.
* Made a lot of renamings to clearly see what component is
  responsible for.
* Wrote the tests that check the heartbeat sender, both positive
  and negative scenarios for local and remote executor types.

Closes-Bug: #1852722

Change-Id: I4d0fdff54de9bee70aeaf10a4ef483ad7000840b
",git fetch https://review.opendev.org/openstack/mistral refs/changes/23/694023/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/services/action_heartbeat_sender.py', 'mistral/engine/engine_server.py', 'mistral/services/action_heartbeat_checker.py', 'mistral/executors/default_executor.py', 'mistral/engine/base.py', 'mistral/executors/executor_server.py', 'mistral/tests/unit/engine/test_default_engine.py', 'mistral/rpc/clients.py', 'mistral/engine/default_engine.py']",9,bd7f89eb479c54056339d9547fce524795d46568,bug/1852722," def process_action_heartbeats(self, action_ex_ids): LOG.debug( ""Action execution heartbeat update failed. {}"" .format(exec_id), exc_info=True )"," def report_running_actions(self, action_ex_ids): LOG.debug(""Action execution heartbeat update failed. {}"" .format(exec_id), exc_info=True)",112,81
openstack%2Fopenstack-ansible-os_cloudkitty~master~I190ba64e727def3202821f943004c87a14a58818,openstack/openstack-ansible-os_cloudkitty,master,I190ba64e727def3202821f943004c87a14a58818,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 13:38:22.000000000,2019-11-18 10:51:47.000000000,2019-11-18 10:50:24.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 13:38:22.000000000', 'files': ['defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/229f170c78aa5dcb5d75e2551e72d2ceb73fe5f2', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I190ba64e727def3202821f943004c87a14a58818\n'}]",0,694296,229f170c78aa5dcb5d75e2551e72d2ceb73fe5f2,8,3,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I190ba64e727def3202821f943004c87a14a58818
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/96/694296/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'releasenotes/source/conf.py']",2,229f170c78aa5dcb5d75e2551e72d2ceb73fe5f2,osa/opendev," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",3,3
openstack%2Fnetworking-ovn~master~I211713908352fd6328ff066c4ed792c99ab38296,openstack/networking-ovn,master,I211713908352fd6328ff066c4ed792c99ab38296,[metadata-agent] Fix issue with TLS/SSL connections,MERGED,2019-10-28 14:26:17.000000000,2019-11-18 10:42:30.000000000,2019-10-29 11:59:43.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 11082}, {'_account_id': 11952}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-28 14:26:17.000000000', 'files': ['networking_ovn/agent/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9c1dd65c8c94fe4217dbe1f96ad38ca77a9f318b', 'message': '[metadata-agent] Fix issue with TLS/SSL connections\n\nWhen working with TLS/SSL connections, we need to configure\nthe private key and certificates prior to retrieving\nthe schema from ovsdb-servers. This patch is fixing it.\n\nChange-Id: I211713908352fd6328ff066c4ed792c99ab38296\nCloses-Bug: #1850160\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,691681,9c1dd65c8c94fe4217dbe1f96ad38ca77a9f318b,14,8,1,23804,,,0,"[metadata-agent] Fix issue with TLS/SSL connections

When working with TLS/SSL connections, we need to configure
the private key and certificates prior to retrieving
the schema from ovsdb-servers. This patch is fixing it.

Change-Id: I211713908352fd6328ff066c4ed792c99ab38296
Closes-Bug: #1850160
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/81/691681/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/ovsdb.py'],1,9c1dd65c8c94fe4217dbe1f96ad38ca77a9f318b,bug/1850160, ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA), ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA),1,1
openstack%2Fopenstack-ansible-ceph_client~master~Iba63fe7399d67267c3914df1cf98e3d8eccc83a4,openstack/openstack-ansible-ceph_client,master,Iba63fe7399d67267c3914df1cf98e3d8eccc83a4,tox: Keeping going with docs,MERGED,2019-10-23 17:19:03.000000000,2019-11-18 10:41:41.000000000,2019-11-18 10:39:45.000000000,"[{'_account_id': 13095}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-23 17:19:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/79d47c1da20f858ab0e4869bdecbd13d99290d29', 'message': 'tox: Keeping going with docs\n\nChange-Id: Iba63fe7399d67267c3914df1cf98e3d8eccc83a4\n'}]",0,690653,79d47c1da20f858ab0e4869bdecbd13d99290d29,10,5,1,28614,,,0,"tox: Keeping going with docs

Change-Id: Iba63fe7399d67267c3914df1cf98e3d8eccc83a4
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/53/690653/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,79d47c1da20f858ab0e4869bdecbd13d99290d29,, sphinx-build --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ,3,16
openstack%2Fopenstack-ansible~master~I5be44aec352223a8df69eefe79f0909dc0d04fec,openstack/openstack-ansible,master,I5be44aec352223a8df69eefe79f0909dc0d04fec,tox: Keeping going with docs,MERGED,2019-10-23 15:35:38.000000000,2019-11-18 10:35:50.000000000,2019-11-18 10:33:50.000000000,"[{'_account_id': 13095}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27822}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-23 15:35:38.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/655d265df78f1fd714e3e435ede0f6f00b9f3f49', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n2. Remove the unnecessary blank line for tox.ini\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I5be44aec352223a8df69eefe79f0909dc0d04fec\n""}]",0,690611,655d265df78f1fd714e3e435ede0f6f00b9f3f49,11,6,1,28614,,,0,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.
2. Remove the unnecessary blank line for tox.ini

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I5be44aec352223a8df69eefe79f0909dc0d04fec
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/690611/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,655d265df78f1fd714e3e435ede0f6f00b9f3f49,,commands = sphinx-build -a -E -W -d deploy-guide/build/doctrees --keep-going -b html deploy-guide/source deploy-guide/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, commands = sphinx-build -a -E -W -d deploy-guide/build/doctrees -b html deploy-guide/source deploy-guide/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ,5,32
openstack%2Fopenstack-ansible~stable%2Frocky~If21e19ad436178bab30059a5637885e1dc8ec85b,openstack/openstack-ansible,stable/rocky,If21e19ad436178bab30059a5637885e1dc8ec85b,Set tempest_image_dir to /opt/cache/files in openstack CI,ABANDONED,2019-10-30 22:49:14.000000000,2019-11-18 10:34:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-30 22:49:14.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d752e114c2f968f86e2fe5acd071cc6a161731fe', 'message': ""Set tempest_image_dir to /opt/cache/files in openstack CI\n\nhttps://review.openstack.org/#/c/640742 fix tempest_image_dir\ndefault var to user's home tempest-image dir. But in OpenStack CI,\nthe cirros image is cached already and we can use the same path\nand reuse the downloaded image.\n\nChange-Id: If21e19ad436178bab30059a5637885e1dc8ec85b\n(cherry picked from commit 1930244bd8e3c6c274b3e57d810cb29702d3de9d)\n""}]",0,692240,d752e114c2f968f86e2fe5acd071cc6a161731fe,4,2,1,25023,,,0,"Set tempest_image_dir to /opt/cache/files in openstack CI

https://review.openstack.org/#/c/640742 fix tempest_image_dir
default var to user's home tempest-image dir. But in OpenStack CI,
the cirros image is cached already and we can use the same path
and reuse the downloaded image.

Change-Id: If21e19ad436178bab30059a5637885e1dc8ec85b
(cherry picked from commit 1930244bd8e3c6c274b3e57d810cb29702d3de9d)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/692240/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,d752e114c2f968f86e2fe5acd071cc6a161731fe,img_dir-stable/rocky,"# The location where images are downloaded in openstack-infra tempest_image_dir: ""/opt/cache/files""",,2,0
openstack%2Fopenstack-ansible-os_glance~master~I8e1352d6c3f0e440f2e86f71728ea8d3b0850b8b,openstack/openstack-ansible-os_glance,master,I8e1352d6c3f0e440f2e86f71728ea8d3b0850b8b,[DNM] test patch,ABANDONED,2019-11-06 15:48:16.000000000,2019-11-18 10:33:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-06 15:48:16.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/1c40bc3c0b1ea1d2984395d977671e84e8748aba', 'message': '[DNM] test patch\n\nDepends-On: https://review.opendev.org/693185\nChange-Id: I8e1352d6c3f0e440f2e86f71728ea8d3b0850b8b\n'}]",0,693203,1c40bc3c0b1ea1d2984395d977671e84e8748aba,3,1,1,25023,,,0,"[DNM] test patch

Depends-On: https://review.opendev.org/693185
Change-Id: I8e1352d6c3f0e440f2e86f71728ea8d3b0850b8b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/03/693203/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,1c40bc3c0b1ea1d2984395d977671e84e8748aba,,,,0,0
openstack%2Fneutron-fwaas~stable%2Frocky~Ia6fa9a230853311849e327029ef7f0ad7d5d0451,openstack/neutron-fwaas,stable/rocky,Ia6fa9a230853311849e327029ef7f0ad7d5d0451,Fix list_entries for netlink_lib when running on py3,MERGED,2019-11-12 12:33:25.000000000,2019-11-18 10:32:55.000000000,2019-11-18 10:32:55.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 12:33:25.000000000', 'files': ['neutron_fwaas/privileged/netlink_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2f528c33fe5d21c5b06a084e9967a6a6e3b7d44a', 'message': 'Fix list_entries for netlink_lib when running on py3\n\nAs privsep communicates with main process via socket, data passed\nthrough this socket must be string type in Python 3. This patch\nconverts bytes to string, then privsep works correctly.\n\nChange-Id: Ia6fa9a230853311849e327029ef7f0ad7d5d0451\n(cherry picked from commit d3efc3ed550236a459477449f151e392f7f8ec3d)\n'}]",0,693835,2f528c33fe5d21c5b06a084e9967a6a6e3b7d44a,8,4,1,13252,,,0,"Fix list_entries for netlink_lib when running on py3

As privsep communicates with main process via socket, data passed
through this socket must be string type in Python 3. This patch
converts bytes to string, then privsep works correctly.

Change-Id: Ia6fa9a230853311849e327029ef7f0ad7d5d0451
(cherry picked from commit d3efc3ed550236a459477449f151e392f7f8ec3d)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/35/693835/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/privileged/netlink_lib.py'],1,2f528c33fe5d21c5b06a084e9967a6a6e3b7d44a,Ia9daa3e7ed6b690bd168eabceb0a380d351f38bf-stable/rocky, entries.append(raw_entry.value.decode('utf-8')), entries.append(raw_entry.value),1,1
openstack%2Fopenstack-ansible-os_murano~stable%2Ftrain~I780719281e7d548b9ed3adb98b87784f68727fbc,openstack/openstack-ansible-os_murano,stable/train,I780719281e7d548b9ed3adb98b87784f68727fbc,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-11-14 10:39:41.000000000,2019-11-18 10:32:35.000000000,2019-11-18 10:29:47.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 10:39:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/4619a475aff42d9801a088e842cb36e65f5f54d9', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I780719281e7d548b9ed3adb98b87784f68727fbc\n'}]",0,694241,4619a475aff42d9801a088e842cb36e65f5f54d9,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I780719281e7d548b9ed3adb98b87784f68727fbc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/41/694241/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4619a475aff42d9801a088e842cb36e65f5f54d9,create-train, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_murano~master~I27578007011f6e12faa1c559e488c106c73af68b,openstack/openstack-ansible-os_murano,master,I27578007011f6e12faa1c559e488c106c73af68b,Update master for stable/train,MERGED,2019-11-14 10:39:43.000000000,2019-11-18 10:31:58.000000000,2019-11-18 10:29:46.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 10:39:43.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/2f7bc217ea1f58d0676061f1976b5afdd528f89b', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I27578007011f6e12faa1c559e488c106c73af68b\nSem-Ver: feature\n'}]",0,694242,2f7bc217ea1f58d0676061f1976b5afdd528f89b,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I27578007011f6e12faa1c559e488c106c73af68b
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/42/694242/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,2f7bc217ea1f58d0676061f1976b5afdd528f89b,reno-train, train,,7,0
openstack%2Fopenstack-ansible-os_murano~stable%2Ftrain~I2ebd7568ac310ca745e8627628c05475ee4845a3,openstack/openstack-ansible-os_murano,stable/train,I2ebd7568ac310ca745e8627628c05475ee4845a3,Update .gitreview for stable/train,MERGED,2019-11-14 10:39:39.000000000,2019-11-18 10:31:04.000000000,2019-11-18 10:29:46.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-14 10:39:39.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/197f5397cc3882d3bfcbb2d119764357591e04f3', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I2ebd7568ac310ca745e8627628c05475ee4845a3\n'}]",0,694240,197f5397cc3882d3bfcbb2d119764357591e04f3,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I2ebd7568ac310ca745e8627628c05475ee4845a3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/40/694240/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,197f5397cc3882d3bfcbb2d119764357591e04f3,create-train,defaultbranch=stable/train,,1,0
openstack%2Fopenstack-ansible-os_heat~master~I5e8e1ed95b962d46324f26cf7614075ff6412acd,openstack/openstack-ansible-os_heat,master,I5e8e1ed95b962d46324f26cf7614075ff6412acd,tox: Keeping going with docs,MERGED,2019-10-23 17:23:11.000000000,2019-11-18 10:26:42.000000000,2019-11-18 10:25:16.000000000,"[{'_account_id': 13095}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-23 17:23:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/b5f39edfa944600786c50f0dbb96a9d692b913ee', 'message': 'tox: Keeping going with docs\n\nChange-Id: I5e8e1ed95b962d46324f26cf7614075ff6412acd\n'}]",0,690668,b5f39edfa944600786c50f0dbb96a9d692b913ee,10,5,1,28614,,,0,"tox: Keeping going with docs

Change-Id: I5e8e1ed95b962d46324f26cf7614075ff6412acd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/68/690668/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b5f39edfa944600786c50f0dbb96a9d692b913ee,, sphinx-build --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ,3,17
openstack%2Fopenstack-ansible-os_magnum~master~I33bdb936a2090aed35e1f46daba0dcc334614f80,openstack/openstack-ansible-os_magnum,master,I33bdb936a2090aed35e1f46daba0dcc334614f80,tox: Keeping going with docs,MERGED,2019-10-23 17:19:04.000000000,2019-11-18 10:26:37.000000000,2019-11-18 10:25:01.000000000,"[{'_account_id': 13095}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-23 17:19:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/346cf9d55e0667fafea8920889066019df11011e', 'message': 'tox: Keeping going with docs\n\nChange-Id: I33bdb936a2090aed35e1f46daba0dcc334614f80\n'}]",0,690656,346cf9d55e0667fafea8920889066019df11011e,10,5,1,28614,,,0,"tox: Keeping going with docs

Change-Id: I33bdb936a2090aed35e1f46daba0dcc334614f80
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/56/690656/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,346cf9d55e0667fafea8920889066019df11011e,, sphinx-build --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ,3,16
openstack%2Fopenstack-ansible-specs~master~Ib54892df6c23a27c625bd4818dd03989c30f4141,openstack/openstack-ansible-specs,master,Ib54892df6c23a27c625bd4818dd03989c30f4141,tox: Keeping going with docs,MERGED,2019-10-23 17:23:18.000000000,2019-11-18 10:24:11.000000000,2019-11-18 10:22:29.000000000,"[{'_account_id': 13095}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-23 17:23:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/5e992058eee2d9d7ced610fd156e190490fa6327', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ib54892df6c23a27c625bd4818dd03989c30f4141\n'}]",0,690669,5e992058eee2d9d7ced610fd156e190490fa6327,10,5,1,28614,,,0,"tox: Keeping going with docs

Change-Id: Ib54892df6c23a27c625bd4818dd03989c30f4141
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/69/690669/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5e992058eee2d9d7ced610fd156e190490fa6327,,,,0,4
openstack%2Foctavia-tempest-plugin~master~Ib6b673fda822a9658fec13d0223a8b46ed33a721,openstack/octavia-tempest-plugin,master,Ib6b673fda822a9658fec13d0223a8b46ed33a721,Add octavia-v2-dsvm-scenario-ipv6 to check queue,ABANDONED,2018-08-21 08:56:52.000000000,2019-11-18 10:09:46.000000000,,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-21 08:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/49e31b8ad0a5520d523390a3bf597836e98a8062', 'message': 'WIP: Add octavia-v2-dsvm-scenario-ipv6\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}, {'number': 2, 'created': '2018-08-21 09:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/baf62f720045a5ef6c3843344f6a1d62cd68cf0c', 'message': 'WIP: Add octavia-v2-dsvm-scenario-ipv6\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nDepends-On: https://review.openstack.org/#/c/588883/\n\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}, {'number': 3, 'created': '2018-08-23 16:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/96a0adede2ba108cc01199d6f7996d3a52d626c2', 'message': 'WIP: Add octavia-v2-dsvm-scenario-ipv6\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nDepends-On: https://review.openstack.org/#/c/588883/\n\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}, {'number': 4, 'created': '2018-09-28 21:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/225b5756c0351279a7e60d7aa908a636ce6194ea', 'message': 'Add octavia-v2-dsvm-scenario-ipv6 to the check queue\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}, {'number': 5, 'created': '2019-06-13 10:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/885220c418a2a52828710e315f7d3582e8e9c870', 'message': 'Add octavia-v2-dsvm-scenario-ipv6 to check queue\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nDepends-On: https://review.opendev.org/#/c/665103/\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}, {'number': 6, 'created': '2019-06-13 13:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/befe4bc593bac33d84f1beca6d8b0747335cd3f9', 'message': 'Add octavia-v2-dsvm-scenario-ipv6 to check queue\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nDepends-On: https://review.opendev.org/#/c/665103/\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}, {'number': 7, 'created': '2019-06-13 22:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0db2bc4f03d0943f4771cfd03c737915185fa75f', 'message': 'Add octavia-v2-dsvm-scenario-ipv6 to check queue\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nDepends-On: https://review.opendev.org/#/c/665103/\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}, {'number': 8, 'created': '2019-06-14 00:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0d85d4ae10f01ee87e7bc8e3d5d5e20b47f882bb', 'message': 'Add octavia-v2-dsvm-scenario-ipv6 to check queue\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nDepends-On: https://review.opendev.org/#/c/665103/\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}, {'number': 9, 'created': '2019-06-18 09:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/88fd245c92955c9c38618e1625da7464844f9b10', 'message': 'Add octavia-v2-dsvm-scenario-ipv6 to check queue\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nDepends-On: https://review.opendev.org/#/c/665103/\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}, {'number': 10, 'created': '2019-06-19 00:42:36.000000000', 'files': ['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/test_base.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/89fb83b3ae15ab6eac78083385d012bb07823bbd', 'message': 'Add octavia-v2-dsvm-scenario-ipv6 to check queue\n\noctavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service\noperation over IPv6 and configures Neutron to create IPv6 self-service\nproject data-network.\n\nDepends-On: https://review.opendev.org/#/c/665103/\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nChange-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721\n'}]",2,594078,89fb83b3ae15ab6eac78083385d012bb07823bbd,32,3,10,6469,,,0,"Add octavia-v2-dsvm-scenario-ipv6 to check queue

octavia-v2-dsvm-scenario-ipv6 is a IPv6-only job. It enables service
operation over IPv6 and configures Neutron to create IPv6 self-service
project data-network.

Depends-On: https://review.opendev.org/#/c/665103/
Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Change-Id: Ib6b673fda822a9658fec13d0223a8b46ed33a721
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/78/594078/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,49e31b8ad0a5520d523390a3bf597836e98a8062,ipv6, - job: name: octavia-v2-dsvm-scenario-ipv6 parent: octavia-v2-dsvm-scenario vars: devstack_localrc: IP_VERSION: 6 SERVICE_IP_VERSION: 6 ,,11,0
openstack%2Foctavia~master~Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54,openstack/octavia,master,Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54,WIP: Switch Fedora-based amphora to fedora-minimal,ABANDONED,2019-07-28 14:32:35.000000000,2019-11-18 10:09:26.000000000,,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-28 14:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/deb7abfdfd698c99dbce6ff75f012b2fe8934943', 'message': 'Switch Fedora-based amphora to fedora-minimal\n\nThis patch also upgrades to Fedora 29 (28 reached end of life).\n\nChange-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54\n'}, {'number': 2, 'created': '2019-08-05 16:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d8e3892bf6f63818c14be95a12336bfd57a2e318', 'message': 'WIP: Switch Fedora-based amphora to fedora-minimal\n\nThis patch also upgrades to Fedora 29 (28 reached end of life).\n\nChange-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54\n'}, {'number': 3, 'created': '2019-08-05 17:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/34ceac4922cc30af41605d2eb935cc29e941f4d6', 'message': 'WIP: Switch Fedora-based amphora to fedora-minimal\n\nThis patch also upgrades to Fedora 29 (28 reached end of life).\n\nChange-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54\n'}, {'number': 4, 'created': '2019-09-14 10:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/13d7070f9df1be5d1af6384cb9440a289aba59fb', 'message': 'WIP: Switch Fedora-based amphora to fedora-minimal\n\nThis patch also upgrades to Fedora 30 (28 reached end of life).\n\nChange-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54\n'}, {'number': 5, 'created': '2019-09-14 10:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/df0a38a3ef55a418b5bac227006b3666bd1d9c00', 'message': 'WIP: Switch Fedora-based amphora to fedora-minimal\n\nThis patch also upgrades to Fedora 30 (28 reached end of life).\n\nChange-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54\n'}, {'number': 6, 'created': '2019-09-16 16:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/87557fc9933f10fdd434bd238d80feea4ed5c63f', 'message': 'WIP: Switch Fedora-based amphora to fedora-minimal\n\nThis patch also upgrades to Fedora 30 (28 reached end of life).\n\nChange-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54\n'}, {'number': 7, 'created': '2019-09-16 18:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/27fd0e810d278af9834bb361df76c5830422096d', 'message': 'WIP: Switch Fedora-based amphora to fedora-minimal\n\nThis patch also upgrades to Fedora 30 (28 reached end of life).\n\nChange-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54\n'}, {'number': 8, 'created': '2019-09-18 06:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0a7b3c86250b28b24afb53a2d138463cc404b89d', 'message': 'WIP: Switch Fedora-based amphora to fedora-minimal\n\nThis patch also upgrades to Fedora 30 (28 reached end of life).\n\nChange-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54\n'}, {'number': 9, 'created': '2019-09-18 06:36:57.000000000', 'files': ['diskimage-create/README.rst', 'diskimage-create/diskimage-create.sh', 'elements/amphora-agent/post-install.d/90-remove-build-deps', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/eeddec11ea5c5fd7d5bfe5d0d313b78dd363a998', 'message': 'WIP: Switch Fedora-based amphora to fedora-minimal\n\nThis patch also upgrades to Fedora 30 (28 reached end of life).\n\nChange-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54\n'}]",2,673173,eeddec11ea5c5fd7d5bfe5d0d313b78dd363a998,27,3,9,6469,,,0,"WIP: Switch Fedora-based amphora to fedora-minimal

This patch also upgrades to Fedora 30 (28 reached end of life).

Change-Id: Ib7bb36264892b4dc5ac14f972e5bb2b6b1fa5c54
",git fetch https://review.opendev.org/openstack/octavia refs/changes/73/673173/4 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/README.rst', 'diskimage-create/diskimage-create.sh', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",4,deb7abfdfd698c99dbce6ff75f012b2fe8934943,, name: publish-openstack-octavia-amphora-image-fedora29 Publish Fedora 29 based amphora image to tarballs.o.o. amphora_os_release: 29, name: publish-openstack-octavia-amphora-image-fedora28 Publish Fedora 28 based amphora image to tarballs.o.o. amphora_os_release: 28,15,13
openstack%2Freleases~master~Ibc57762233cc85066a97d234c9b10d660c727b8d,openstack/releases,master,Ibc57762233cc85066a97d234c9b10d660c727b8d,Release networking-hyperv 7.0.1 (rocky),MERGED,2019-11-15 12:47:16.000000000,2019-11-18 10:01:24.000000000,2019-11-18 10:01:24.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 12:47:16.000000000', 'files': ['deliverables/rocky/networking-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e5856f578b4a88bbf509532b7f6d27c30c8ab05d', 'message': 'Release networking-hyperv 7.0.1 (rocky)\n\nThis release provides an important bug fix, covering port\nbinding failures.\n\nChange-Id: Ibc57762233cc85066a97d234c9b10d660c727b8d\n'}]",0,694531,e5856f578b4a88bbf509532b7f6d27c30c8ab05d,7,3,1,8543,,,0,"Release networking-hyperv 7.0.1 (rocky)

This release provides an important bug fix, covering port
binding failures.

Change-Id: Ibc57762233cc85066a97d234c9b10d660c727b8d
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/694531/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/networking-hyperv.yaml'],1,e5856f578b4a88bbf509532b7f6d27c30c8ab05d,nhv-rocky, - projects: - repo: openstack/networking-hyperv hash: 4bc34c3178e31b78df186ff82dcc5c2bd602ec59 version: 7.0.1,,4,0
openstack%2Freleases~master~I7fa706f4e9dc574d664c74be0ac44784fcf5ec0b,openstack/releases,master,I7fa706f4e9dc574d664c74be0ac44784fcf5ec0b,Release networking-hyperv 7.2.1 (stein),MERGED,2019-11-15 12:47:59.000000000,2019-11-18 10:01:23.000000000,2019-11-18 10:01:23.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 12:47:59.000000000', 'files': ['deliverables/stein/networking-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5f72c44325b3ccff0adc9d78fb2029e0aab823a4', 'message': 'Release networking-hyperv 7.2.1 (stein)\n\nThis release provides an important bug fix, covering port binding failures.\n\nChange-Id: I7fa706f4e9dc574d664c74be0ac44784fcf5ec0b\n'}]",0,694532,5f72c44325b3ccff0adc9d78fb2029e0aab823a4,7,3,1,8543,,,0,"Release networking-hyperv 7.2.1 (stein)

This release provides an important bug fix, covering port binding failures.

Change-Id: I7fa706f4e9dc574d664c74be0ac44784fcf5ec0b
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/694532/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/networking-hyperv.yaml'],1,5f72c44325b3ccff0adc9d78fb2029e0aab823a4,nhv-stein, - projects: - hash: dd15b0e6c4b553b7120aa06054cfce5010e7c304 repo: openstack/networking-hyperv version: 7.2.1,,4,0
openstack%2Fgovernance~master~I0bd5ac2e1a8a657d7df2c014af559b1f436d5966,openstack/governance,master,I0bd5ac2e1a8a657d7df2c014af559b1f436d5966,Name releases after movie 'release' quotes,ABANDONED,2019-09-25 10:23:58.000000000,2019-11-18 09:58:30.000000000,,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 10:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/216ad97b78bb6f3189784628c2f364ae5e0f58ad', 'message': 'Name releases after movie \'release\' quotes\n\nThis is an attempt to preserve the fun of naming releases while\nremoving the potential for conflict over subjective rules.\n\nThis change proposes that after V (for which we should just pick\nVancouver, if only to bring closure to a naming model that started\nin Austin), we switch to naming releases after movie quotes that\ninclude the word ""release"".\n\nUsing an objective criteria (presence of the word in the QuoDB movie\nquote database) over a very large number of quotes (37806 phrases\nincluding the word ""release"" in the database) should remove most of\nthe tension around choosing a geographic scope and then vetting\nproposals subjectively.\n\nAlso, we really want to name the next K release ""Kraken"".\n\nAnd for W...\n\n\'Yeah! Release ""Wodewick""! Release ""Wodewick""!\'\n  -- Monty Python, Life of Brian\n\nChange-Id: I0bd5ac2e1a8a657d7df2c014af559b1f436d5966\n'}, {'number': 2, 'created': '2019-10-16 08:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/97e514ffe7988bd015166ecc7e6c050ce4c2a156', 'message': 'Name releases after movie \'release\' quotes\n\nThis is an attempt to preserve the fun of naming releases while\nremoving the potential for conflict over subjective rules.\n\nThis change proposes that after V (for which we should just pick\nVancouver, if only to bring closure to a naming model that started\nin Austin), we switch to naming releases after movie quotes that\ninclude the word ""release"".\n\nUsing an objective criteria (presence of the word in the QuoDB movie\nquote database) over a very large number of quotes (37806 phrases\nincluding the word ""release"" in the database) should remove most of\nthe tension around choosing a geographic scope and then vetting\nproposals subjectively.\n\nAlso, we really want to name the next K release ""Kraken"".\n\nAnd for W...\n\n\'Yeah! Release ""Wodewick""! Release ""Wodewick""!\'\n  -- Monty Python, Life of Brian\n\nChange-Id: I0bd5ac2e1a8a657d7df2c014af559b1f436d5966\n'}, {'number': 3, 'created': '2019-10-16 08:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6046b7cc49c8af66c9aad22dee94b44872035e10', 'message': 'Name releases after movie \'release\' quotes\n\nThis is an attempt to preserve the fun of naming releases while\nremoving the potential for conflict over subjective rules.\n\nThis change proposes that after V (for which we should just pick\nVancouver, if only to bring closure to a naming model that started\nin Austin), we switch to naming releases after movie quotes that\ninclude the word ""release"".\n\nUsing an objective criteria (presence of the word in the QuoDB movie\nquote database) over a very large number of quotes (37806 phrases\nincluding the word ""release"" in the database) should remove most of\nthe tension around choosing a geographic scope and then vetting\nproposals subjectively.\n\nAlso, we really want to name the next K release ""Kraken"".\n\nAnd for W...\n\n\'Yeah! Release ""Wodewick""! Release ""Wodewick""!\'\n  -- Monty Python, Life of Brian\n\nChange-Id: I0bd5ac2e1a8a657d7df2c014af559b1f436d5966\n'}, {'number': 4, 'created': '2019-10-18 07:48:08.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/d4349c8fac2fdfaa58445a0f4b04556d0899910c', 'message': 'Name releases after movie \'release\' quotes\n\nThis is an attempt to preserve the fun of naming releases while\nremoving the potential for conflict over subjective rules.\n\nThis change proposes that after V (for which we should just pick\nVancouver, if only to bring closure to a naming model that started\nin Austin), we switch to naming releases after movie quotes that\ninclude the word ""release"".\n\nUsing an objective criteria (presence of the word in the QuoDB movie\nquote database) over a very large number of quotes (37806 phrases\nincluding the word ""release"" in the database) should remove most of\nthe tension around choosing a geographic scope and then vetting\nproposals subjectively.\n\nAlso, we really want to name the next K release ""Kraken"".\n\nAnd for W...\n\n\'Yeah! Release ""Wodewick""! Release ""Wodewick""!\'\n  -- Monty Python, Life of Brian\n\nChange-Id: I0bd5ac2e1a8a657d7df2c014af559b1f436d5966\n'}]",22,684688,d4349c8fac2fdfaa58445a0f4b04556d0899910c,50,14,4,308,,,0,"Name releases after movie 'release' quotes

This is an attempt to preserve the fun of naming releases while
removing the potential for conflict over subjective rules.

This change proposes that after V (for which we should just pick
Vancouver, if only to bring closure to a naming model that started
in Austin), we switch to naming releases after movie quotes that
include the word ""release"".

Using an objective criteria (presence of the word in the QuoDB movie
quote database) over a very large number of quotes (37806 phrases
including the word ""release"" in the database) should remove most of
the tension around choosing a geographic scope and then vetting
proposals subjectively.

Also, we really want to name the next K release ""Kraken"".

And for W...

'Yeah! Release ""Wodewick""! Release ""Wodewick""!'
  -- Monty Python, Life of Brian

Change-Id: I0bd5ac2e1a8a657d7df2c014af559b1f436d5966
",git fetch https://review.opendev.org/openstack/governance refs/changes/88/684688/4 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,216ad97b78bb6f3189784628c2f364ae5e0f58ad,formal-vote,"The first release of OpenStack was named after the city where the first design summit happened (Austin), so we started with a tradition of naming after cities linked to our events, then geographical features close to where events happened. This created unnecessary tension as officials had to decide of a scope and then vet proposals against that scope. As we reduce our number of events, and enter the rare letters part of the alphabet, those tensions are likely to be exacerbated. This new process aims at preserving the fun part while reducing the likelihood for tension. For 'V', we will pick 'Vancouver'. This is a direct match with the city where the next event will happen, and provides a form of closure for a way of naming that started in Austin. Starting with W until Z, then rolling over back to A, we will use the following process: #. The process to choose the name for a release begins at milestone-1 of release N-2. Example: we should start the W naming process at ussuri-1. That will allow us to have a clear way to designate the next two releases, without waiting for external events like event location announcements. #. The Technical Committee will designate an official to be responsible for announcing and executing the release naming process. OpenStack wiki. The naming official will check that proposed names fit the objective criteria, and remove the ones that do not fit. #. The community may identify any names of particular concern from a marketing or cultural standpoint and discuss such issues publicly on the OpenStack mailing list. This information will be communicated during the election, but the names will not be removed from the poll. discussions provided by the community. basic Latin alphabet. #. The name must appear in the QuoDB movie quotes database, associated with the word ""release"". In practice, it needs to be found in the results of the search at http://www.quodb.com/search/release #. The name must be a single word with a maximum of 10 characters. It may be formed of consecutive words in the quote. Examples -------- There currently are about 37806 phrases including the word ""release"" in the database. Those are all valid choices: - *Kraken* ('Release the Kraken.' -- Clash of the Titans) - *Wodewick* ('Yeah! Release ""Wodewick""! Release ""Wodewick""!' -- Life of Brian) - *X* ('Sign this release. Make an X if you can't write.' -- Carrie) - *Zoomonkey* ('like releasing a zoo monkey into the wild?' -- Review: Road Rage; Orgy)","The Technical Committee will designate an official to be responsible for executing the release naming process, which consists of the following steps: #. The process to chose the name for a release begins once the location of the summit that takes place during the development cycle of the release to be named is announced. OpenStack wiki. #. The marketing community may identify any names of particular concern from a marketing standpoint and discuss such issues publicly on the Marketing mailing list. The marketing community may produce a list of problematic items (with citations to the mailing list discussion of the rationale) to the election official. This information will be communicated during the election, but the names will not be removed from the poll. #. After the close of nominations, the election official will finalize the list of proposed names and publicize it. In general, the official should strive to make objective determinations as to whether a name meets the `Release Name Criteria`_, but if subjective evaluation is required, should be generous in interpreting the rules. It is not necessary to reduce the list of proposed names to a small number. #. The election official, in consultation with the TC, should remove from the list any name that feedback suggests would be culturally inappropriate in any sector of the OpenStack community. The purpose of naming the release after a geographical feature is in part to honor the host city, and we owe it to our hosts not to associate them with terms that unwittingly conflict with the `Code of Conduct <https://www.openstack.org/legal/community-code-of-conduct/>`_'s goal to be considerate once we are aware of them. #. Once the list is finalized and publicized, a one-week period shall elapse before the start of the election so that any names removed from consideration because they did not meet the `Release Name Criteria`_ may be discussed. Names erroneously removed may be re-added during this period, and the Technical Committee may vote to add exceptional names (which do not meet the standard criteria). discussions provided by the marketing community. basic Latin alphabet. Names which can be transliterated into this character set are also acceptable. #. The name must refer to the physical or human geography of the region encompassing the location of the OpenStack summit for the corresponding release. The exact boundaries of the geographic region under consideration must be declared before the opening of nominations, as part of the initiation of the selection process. #. The name must be a single word with a maximum of 10 characters. Words that describe the feature should not be included, so ""Foo City"" or ""Foo Peak"" would both be eligible as ""Foo"". #. The name must refer to the *name* of the geographic feature, not merely describe the generic type of geographic feature (e.g. ""City"" or ""Peak"" would not be eligible in the above example). This does not prevent an otherwise eligible name that also happens to be another type of geographic feature (e.g. ""Hill Street"" would be eligible as ""Hill"", but not as ""Street""). Names which do not meet these criteria but otherwise sound really cool should be added to a separate section of the wiki page and the TC may make an exception for one or more of them to be considered in the Condorcet poll. The naming official is responsible for presenting the list of exceptional names for consideration to the TC before the poll opens. Polls ----- ======= ============= ================ ========== ========== ================== Release Coordinator Nominations Open Poll Open Poll Close Geographic Region ======= ============= ================ ========== ========== ================== M Monty Taylor 2015-06-01 2015-06-08 2015-06-15 Tokyo N Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Texas Hill Country O Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Catalonia P Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New England Q Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New South Wales R Monty Taylor 2017-03-22 2017-04-05 2017-04-12 British Columbia S Paul Belanger 2018-02-21 2018-03-14 2018-03-21 Berlin T Tony Breeds 2018-09-15 2018-10-15 2018-10-22 Colorado U Rico Lin 2019-07-01 2019-08-12 2019-08-19 China ======= ============= ================ ========== ========== ==================",47,76
openstack%2Freleases~master~I013c32001fbb96b3b068bcbd5de6c60f026debd9,openstack/releases,master,I013c32001fbb96b3b068bcbd5de6c60f026debd9,Release networking-hyperv 7.3.1 (train),MERGED,2019-11-15 12:48:22.000000000,2019-11-18 09:55:36.000000000,2019-11-18 09:55:36.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 12:48:22.000000000', 'files': ['deliverables/train/networking-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f88f2e59df9c160397b2fd7eba7e4d2f0624ed99', 'message': 'Release networking-hyperv 7.3.1 (train)\n\nThis release provides an important bug fix, covering port binding\nfailures.\n\nChange-Id: I013c32001fbb96b3b068bcbd5de6c60f026debd9\n'}]",0,694533,f88f2e59df9c160397b2fd7eba7e4d2f0624ed99,7,3,1,8543,,,0,"Release networking-hyperv 7.3.1 (train)

This release provides an important bug fix, covering port binding
failures.

Change-Id: I013c32001fbb96b3b068bcbd5de6c60f026debd9
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/694533/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/networking-hyperv.yaml'],1,f88f2e59df9c160397b2fd7eba7e4d2f0624ed99,nhv-train, - projects: - hash: 537e9aeb7841f810e49cd157295468441ecda981 repo: openstack/networking-hyperv version: 7.3.1,,4,0
openstack%2Ftripleo-ansible~master~I58d42c74295f031b260c0b67dbc12336fc31db1f,openstack/tripleo-ansible,master,I58d42c74295f031b260c0b67dbc12336fc31db1f,Don't fail hard when facter cache doesn't work correctly,MERGED,2019-11-14 16:48:30.000000000,2019-11-18 09:52:23.000000000,2019-11-18 09:52:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 16:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/deac00733b314feae270c3da17e3879b4a47f07d', 'message': ""Don't fail hard when facter cache doesn't work correctly\n\nSince the facter cache is supposed to be a help but not necessarily a\nhard requirement, let's make sure the tasks don't fail if something goes\nwrong. We should output the error if the facter execution fails, but we\ndon't want to always output it.\n\nChange-Id: I58d42c74295f031b260c0b67dbc12336fc31db1f\nRelated-Bug: #1852606\n""}, {'number': 2, 'created': '2019-11-14 17:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e0383f8f2727f2d5911f93c64d255b6b49cbfb2', 'message': ""Don't fail hard when facter cache doesn't work correctly\n\nSince the facter cache is supposed to be a help but not necessarily a\nhard requirement, let's make sure the tasks don't fail if something goes\nwrong. We should output the error if the facter execution fails, but we\ndon't want to always output it.\n\nChange-Id: I58d42c74295f031b260c0b67dbc12336fc31db1f\nRelated-Bug: #1852606\n""}, {'number': 3, 'created': '2019-11-14 19:52:26.000000000', 'files': ['tripleo_ansible/roles/tripleo-puppet-cache/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/79f41d1d41a23b8b851410a912fd352c5e6fac32', 'message': ""Don't fail hard when facter cache doesn't work correctly\n\nSince the facter cache is supposed to be a help but not necessarily a\nhard requirement, let's make sure the tasks don't fail if something goes\nwrong. We should output the error if the facter execution fails, but we\ndon't want to always output it.\n\nChange-Id: I58d42c74295f031b260c0b67dbc12336fc31db1f\nRelated-Bug: #1852606\n""}]",1,694353,79f41d1d41a23b8b851410a912fd352c5e6fac32,18,6,3,14985,,,0,"Don't fail hard when facter cache doesn't work correctly

Since the facter cache is supposed to be a help but not necessarily a
hard requirement, let's make sure the tasks don't fail if something goes
wrong. We should output the error if the facter execution fails, but we
don't want to always output it.

Change-Id: I58d42c74295f031b260c0b67dbc12336fc31db1f
Related-Bug: #1852606
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/694353/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-puppet-cache/tasks/main.yml'],1,deac00733b314feae270c3da17e3879b4a47f07d,bug/1852606," register: _facter_cache_run - name: Facter error output when failed check_mode: false fail: msg: ""{{ _facter_cache_run.stderr }}"" ignore_error: true when: _facter_cache_run is failed when: _facter_cache_run is succeeded ",,10,0
openstack%2Ftripleo-ansible~master~I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe,openstack/tripleo-ansible,master,I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe,Check that facter.conf is a file,MERGED,2019-11-14 16:17:49.000000000,2019-11-18 09:52:23.000000000,2019-11-18 09:52:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 16:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/105a0e112d8837056eb0920b8c4dbad2ea832ffc', 'message': 'Check that facter.conf is a file\n\nIf docker-puppet.py (or container-puppet.py) is run under docker prior\nto the facter config being generated, the file is created as a\ndirectory. This causes a failure later when we try to write the file\nout.\n\nChange-Id: I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe\nCloses-Bug: #1852606\n'}, {'number': 2, 'created': '2019-11-14 16:31:58.000000000', 'files': ['tripleo_ansible/roles/tripleo-puppet-cache/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e25c2c48308694bbae737ad7699fe540ed1a098', 'message': 'Check that facter.conf is a file\n\nIf docker-puppet.py (or container-puppet.py) is run under docker prior\nto the facter config being generated, the file is created as a\ndirectory. This causes a failure later when we try to write the file\nout.\n\nChange-Id: I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe\nCloses-Bug: #1852606\n'}]",0,694342,3e25c2c48308694bbae737ad7699fe540ed1a098,14,6,2,14985,,,0,"Check that facter.conf is a file

If docker-puppet.py (or container-puppet.py) is run under docker prior
to the facter config being generated, the file is created as a
directory. This causes a failure later when we try to write the file
out.

Change-Id: I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe
Closes-Bug: #1852606
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/694342/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-puppet-cache/tasks/main.yml'],1,105a0e112d8837056eb0920b8c4dbad2ea832ffc,bug/1852606,"- name: Check for facter.conf check_mode: false stat: path: ""{{ tripleo_puppet_cache_base_dir }}/facter.conf"" register: _facter_conf_file # See LP#1852606 for context - name: Remove facter.conf if directory check_mode: false become: true file: path: ""{{ tripleo_puppet_cache_base_dir }}/facter.conf"" state: absent force: true when: - _facter_conf_file.stat.isdir is defined - _facter_conf_file.stat.isdir ",,18,0
openstack%2Fneutron-fwaas~stable%2Fstein~Ia6fa9a230853311849e327029ef7f0ad7d5d0451,openstack/neutron-fwaas,stable/stein,Ia6fa9a230853311849e327029ef7f0ad7d5d0451,Fix list_entries for netlink_lib when running on py3,MERGED,2019-11-12 12:33:12.000000000,2019-11-18 09:46:22.000000000,2019-11-18 09:44:59.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 12:33:12.000000000', 'files': ['neutron_fwaas/privileged/netlink_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7470cde0661c461f6c3775f7139cd87ec6093afc', 'message': 'Fix list_entries for netlink_lib when running on py3\n\nAs privsep communicates with main process via socket, data passed\nthrough this socket must be string type in Python 3. This patch\nconverts bytes to string, then privsep works correctly.\n\nChange-Id: Ia6fa9a230853311849e327029ef7f0ad7d5d0451\n(cherry picked from commit d3efc3ed550236a459477449f151e392f7f8ec3d)\n'}]",0,693834,7470cde0661c461f6c3775f7139cd87ec6093afc,9,4,1,13252,,,0,"Fix list_entries for netlink_lib when running on py3

As privsep communicates with main process via socket, data passed
through this socket must be string type in Python 3. This patch
converts bytes to string, then privsep works correctly.

Change-Id: Ia6fa9a230853311849e327029ef7f0ad7d5d0451
(cherry picked from commit d3efc3ed550236a459477449f151e392f7f8ec3d)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/34/693834/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/privileged/netlink_lib.py'],1,7470cde0661c461f6c3775f7139cd87ec6093afc,Ia9daa3e7ed6b690bd168eabceb0a380d351f38bf-stable/stein, entries.append(raw_entry.value.decode('utf-8')), entries.append(raw_entry.value),1,1
openstack%2Fkuryr-kubernetes~master~I77c4aa2fa333a3968daf8cdf9440848c51374582,openstack/kuryr-kubernetes,master,I77c4aa2fa333a3968daf8cdf9440848c51374582,Correct ordered/unordered lists.,MERGED,2019-11-13 09:58:51.000000000,2019-11-18 09:44:26.000000000,2019-11-18 09:41:18.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 09:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/74e05bcc36bd0068ef5c048e057dab1f8df4e50d', 'message': 'Correct ordered/unordered lists.\n\nThere is a lot of lists in documentation, unfortunately they were used\nincorrectly. In this patch we fix that. For ordered lists we use\nauto numbering restructuredtext feature.\n\nChange-Id: I77c4aa2fa333a3968daf8cdf9440848c51374582\n'}, {'number': 2, 'created': '2019-11-13 10:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2225229869e244cf3379438830e21bb736c53444', 'message': 'Correct ordered/unordered lists.\n\nThere is a lot of lists in documentation, unfortunately they were used\nincorrectly. In this patch we fix that. For ordered lists we use\nauto numbering restructuredtext feature.\n\nChange-Id: I77c4aa2fa333a3968daf8cdf9440848c51374582\n'}, {'number': 3, 'created': '2019-11-13 11:53:08.000000000', 'files': ['doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'doc/source/installation/services.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/installation/sriov.rst', 'doc/source/installation/ocp_route.rst', 'doc/source/installation/devstack/ports-pool.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/installation/network_namespace.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/installation/multi_vif_with_npwg_spec.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'doc/source/installation/network_policy.rst', 'doc/source/installation/trunk_ports.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ad4c4600937d371828bc47e27a6d99865a28e049', 'message': 'Correct ordered/unordered lists.\n\nThere is a lot of lists in documentation, unfortunately they were used\nincorrectly. In this patch we fix that. For ordered lists we use\nauto numbering restructuredtext feature.\n\nChange-Id: I77c4aa2fa333a3968daf8cdf9440848c51374582\n'}]",0,694027,ad4c4600937d371828bc47e27a6d99865a28e049,13,4,3,13692,,,0,"Correct ordered/unordered lists.

There is a lot of lists in documentation, unfortunately they were used
incorrectly. In this patch we fix that. For ordered lists we use
auto numbering restructuredtext feature.

Change-Id: I77c4aa2fa333a3968daf8cdf9440848c51374582
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/27/694027/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'doc/source/installation/services.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/installation/sriov.rst', 'doc/source/installation/ocp_route.rst', 'doc/source/installation/devstack/ports-pool.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/installation/network_namespace.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/installation/multi_vif_with_npwg_spec.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'doc/source/installation/network_policy.rst', 'doc/source/installation/trunk_ports.rst']",18,74e05bcc36bd0068ef5c048e057dab1f8df4e50d,unify-rst,"#. Use the demo tenant and create a key to be used to log in into the overcloud#. Ensure the demo default security group allows ping and ssh access:#. Download and import an image that allows vlans, as cirros does not support#. Create a port for the overcloud VM and create the trunk with that port as#. Create the overcloud VM and assign a floating ip to it to be able to log in Note subports can be added to the trunk port, and be used inside the VM with the specific vlan, 102 in the example, by doing: .. code-block:: console $ openstack network trunk set --subport port=subport0,segmentation-type=vlan,segmentation-id=102 trunk0","1. Use the demo tenant and create a key to be used to log in into the overcloud2. Ensure the demo default security group allows ping and ssh access:3. Download and import an image that allows vlans, as cirros does not support4. Create a port for the overcloud VM and create the trunk with that port as5. Create the overcloud VM and assign a floating ip to it to be able to log inNote subports can be added to the trunk port, and be used inside the VM with the specific vlan, 102 in the example, by doing: .. code-block:: console $ openstack network trunk set --subport port=subport0,segmentation-type=vlan,segmentation-id=102 trunk0",581,584
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec,openstack/kuryr-kubernetes,stable/train,I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec,Ensure Network Policy handles egress traffic to a SVC,MERGED,2019-11-13 08:17:01.000000000,2019-11-18 09:44:12.000000000,2019-11-18 09:41:13.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-13 08:17:01.000000000', 'files': ['kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0750ec9c5cba627692cff22b0c179951e94818b3', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nRelated-Bug: 1849139\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n(cherry picked from commit db1b24fcf627e00ca7a541164538bdfe860ddf2c)\n""}]",0,694008,0750ec9c5cba627692cff22b0c179951e94818b3,10,6,1,23567,,,0,"Ensure Network Policy handles egress traffic to a SVC

We're not taking into account the case of a Network Policy
with an egress rule to a pod that contains a Service sitting
in front of it. Right now, only an egress rule to the matched
pod is created, when one for the matched SVC is also required.

Related-Bug: 1849139
Change-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec
(cherry picked from commit db1b24fcf627e00ca7a541164538bdfe860ddf2c)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/08/694008/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py']",2,0750ec9c5cba627692cff22b0c179951e94818b3,fix-egress-to-pod-stable/train," @mock.patch('kuryr_kubernetes.controller.drivers.utils.get_services') m_get_resource_details, m_get_svcs): @mock.patch('kuryr_kubernetes.controller.drivers.utils.get_services') self, m_create, m_get_namespaces, m_get_resource_details, m_get_svcs):"," m_get_resource_details): self, m_create, m_get_namespaces, m_get_resource_details):",106,7
openstack%2Fkuryr-kubernetes~master~I2dfe9aea36299e3986acb16b1805a4dc0cd952d2,openstack/kuryr-kubernetes,master,I2dfe9aea36299e3986acb16b1805a4dc0cd952d2,Fix inconsistency in headlines format.,MERGED,2019-11-12 20:45:22.000000000,2019-11-18 09:42:50.000000000,2019-11-18 09:41:14.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-12 20:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f2cb655959e637323d04fa4fac0c544cb93db01e', 'message': ""Fix inconsistency in headlines format.\n\nThere are several restructuredtext files, which don't follow guide for\ndocument contribution. Also made a rule for having additional line\nbetween section body and folowing section headline.\n\nChange-Id: I2dfe9aea36299e3986acb16b1805a4dc0cd952d2\n""}, {'number': 2, 'created': '2019-11-13 09:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e8d037db2e07f6bd6dd03462cc04184dce37f59e', 'message': ""Fix inconsistency in headlines format.\n\nThere are several restructuredtext files, which don't follow guide for\ndocument contribution. Also made a rule for having additional line\nbetween section body and folowing section headline.\n\nChange-Id: I2dfe9aea36299e3986acb16b1805a4dc0cd952d2\n""}, {'number': 3, 'created': '2019-11-13 11:53:08.000000000', 'files': ['doc/source/installation/https_kubernetes.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'README.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/installation/devstack/index.rst', 'doc/source/devref/high_availability.rst', 'releasenotes/source/rocky.rst', 'releasenotes/source/README.rst', 'doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/devref/network_policy.rst', 'doc/source/installation/devstack/containerized.rst', 'doc/source/installation/services.rst', 'releasenotes/source/index.rst', 'doc/source/devref/kuryr_kubernetes_ingress_design.rst', 'doc/source/devref/port_manager.rst', 'doc/source/devref/updating_pod_resources_api.rst', 'doc/source/installation/multi_vif_with_npwg_spec.rst', 'doc/source/installation/testing_nested_connectivity.rst', 'doc/source/devref/index.rst', 'contrib/devstack-heat/README.rst', 'doc/source/installation/network_policy.rst', 'contrib/pools-management/README.rst', 'doc/source/installation/ipv6.rst', 'doc/source/installation/testing_connectivity.rst', 'doc/source/contributing.rst', 'doc/source/installation/upgrades.rst', 'doc/source/installation/sriov.rst', 'doc/source/installation/default_configuration.rst', 'doc/source/installation/ocp_route.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/installation/network_namespace.rst', 'doc/source/devref/service_support.rst', 'doc/source/installation/manual.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'releasenotes/source/stein.rst', 'doc/source/installation/trunk_ports.rst', 'doc/source/installation/testing_udp_services.rst', 'doc/source/installation/devstack/ports-pool.rst', 'contrib/kubectl_plugins/README.rst', 'doc/source/devref/health_manager.rst', 'doc/source/index.rst', 'releasenotes/source/queens.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e32d796ac702ae6da7261d9c265937119e3e3484', 'message': ""Fix inconsistency in headlines format.\n\nThere are several restructuredtext files, which don't follow guide for\ndocument contribution. Also made a rule for having additional line\nbetween section body and folowing section headline.\n\nChange-Id: I2dfe9aea36299e3986acb16b1805a4dc0cd952d2\n""}]",0,693927,e32d796ac702ae6da7261d9c265937119e3e3484,14,5,3,13692,,,0,"Fix inconsistency in headlines format.

There are several restructuredtext files, which don't follow guide for
document contribution. Also made a rule for having additional line
between section body and folowing section headline.

Change-Id: I2dfe9aea36299e3986acb16b1805a4dc0cd952d2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/27/693927/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/https_kubernetes.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'README.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/installation/devstack/index.rst', 'doc/source/devref/high_availability.rst', 'releasenotes/source/rocky.rst', 'releasenotes/source/README.rst', 'doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/devref/network_policy.rst', 'doc/source/installation/devstack/containerized.rst', 'doc/source/installation/services.rst', 'releasenotes/source/index.rst', 'doc/source/devref/kuryr_kubernetes_ingress_design.rst', 'doc/source/devref/port_manager.rst', 'doc/source/devref/updating_pod_resources_api.rst', 'doc/source/installation/multi_vif_with_npwg_spec.rst', 'doc/source/installation/testing_nested_connectivity.rst', 'doc/source/devref/index.rst', 'contrib/devstack-heat/README.rst', 'doc/source/installation/network_policy.rst', 'contrib/pools-management/README.rst', 'doc/source/installation/ipv6.rst', 'doc/source/installation/testing_connectivity.rst', 'doc/source/contributing.rst', 'doc/source/installation/upgrades.rst', 'doc/source/installation/sriov.rst', 'doc/source/installation/default_configuration.rst', 'doc/source/installation/ocp_route.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/installation/network_namespace.rst', 'doc/source/devref/service_support.rst', 'doc/source/installation/manual.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'releasenotes/source/stein.rst', 'doc/source/installation/trunk_ports.rst', 'doc/source/installation/testing_udp_services.rst', 'doc/source/installation/devstack/ports-pool.rst', 'contrib/kubectl_plugins/README.rst', 'doc/source/devref/health_manager.rst', 'doc/source/index.rst', 'releasenotes/source/queens.rst', 'HACKING.rst']",51,f2cb655959e637323d04fa4fac0c544cb93db01e,unify-rst,===================================,,321,83
openstack%2Fkuryr-kubernetes~stable%2Ftrain~Idcdef5c4f2f47a165bfb9b38779b591d5b995216,openstack/kuryr-kubernetes,stable/train,Idcdef5c4f2f47a165bfb9b38779b591d5b995216,Ensure LB SG is not updated for egress only policy,MERGED,2019-11-13 08:17:33.000000000,2019-11-18 09:42:29.000000000,2019-11-18 09:41:13.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-13 08:17:33.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/controller/handlers/policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e6a3ca3410bf902cfd137f7ec15c4a992e29b2ef', 'message': 'Ensure LB SG is not updated for egress only policy\n\nWhen an egress Network Policy is enforced, there is no\nneed to allow the update of the LB SG. Right now, as this\noperation is being allowed, we can end up with ingress\nrules being removed from the LB.\n\nCloses-Bug: 1850715\nChange-Id: Idcdef5c4f2f47a165bfb9b38779b591d5b995216\n(cherry picked from commit b0b78b423c37c3a959da1e3ec417e0b980b29f3b)\n'}]",0,694009,e6a3ca3410bf902cfd137f7ec15c4a992e29b2ef,9,5,1,23567,,,0,"Ensure LB SG is not updated for egress only policy

When an egress Network Policy is enforced, there is no
need to allow the update of the LB SG. Right now, as this
operation is being allowed, we can end up with ingress
rules being removed from the LB.

Closes-Bug: 1850715
Change-Id: Idcdef5c4f2f47a165bfb9b38779b591d5b995216
(cherry picked from commit b0b78b423c37c3a959da1e3ec417e0b980b29f3b)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/09/694009/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/controller/handlers/policy.py']",4,e6a3ca3410bf902cfd137f7ec15c4a992e29b2ef,ensure-lbaas-sg-not-updated-on-egress-stable/train," oslo_cfg.CONF.octavia_defaults.enforce_sg_rules and not self._is_egress_only_policy(policy)): if (oslo_cfg.CONF.octavia_defaults.enforce_sg_rules and not self._is_egress_only_policy(policy)): def _is_egress_only_policy(self, policy): policy_types = policy['spec'].get('policyTypes', []) return (policy_types == ['Egress'] or (policy['spec'].get('egress') and not policy['spec'].get('ingress')))", oslo_cfg.CONF.octavia_defaults.enforce_sg_rules): if oslo_cfg.CONF.octavia_defaults.enforce_sg_rules:,17,2
openstack%2Fkuryr-kubernetes~master~Ia4f4c66f51ea193dc201b3dba5be2788f20765e0,openstack/kuryr-kubernetes,master,Ia4f4c66f51ea193dc201b3dba5be2788f20765e0,Change inline hyperlinks to link-target pairs.,MERGED,2019-11-13 09:58:51.000000000,2019-11-18 09:41:17.000000000,2019-11-18 09:41:17.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 09:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/18188fa875ca4d3a8204faf13ca4a79fa432ecd5', 'message': 'Change inline hyperlinks to link-target pairs.\n\nInline, named hyperlinks seems to be fine, but often they just provides\nnoise to the paragrafs. In this patch we propose to use link-target\nstyle for hyperlinks, where named link(s) is (are) placed in paragraph\nwhile its target is at the bottom of the document.\n\nChange-Id: Ia4f4c66f51ea193dc201b3dba5be2788f20765e0\n'}, {'number': 2, 'created': '2019-11-13 11:53:08.000000000', 'files': ['releasenotes/source/README.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'README.rst', 'doc/source/installation/services.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/sriov.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/devref/kuryr_kubernetes_ingress_design.rst', 'doc/source/devref/service_support.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/installation/multi_vif_with_npwg_spec.rst', 'doc/source/devref/high_availability.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/dragonflow_support.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/80b5ecd41b1d3855f27f1de6d872e81d0696ecaf', 'message': 'Change inline hyperlinks to link-target pairs.\n\nInline, named hyperlinks seems to be fine, but often they just provides\nnoise to the paragrafs. In this patch we propose to use link-target\nstyle for hyperlinks, where named link(s) is (are) placed in paragraph\nwhile its target is at the bottom of the document.\n\nChange-Id: Ia4f4c66f51ea193dc201b3dba5be2788f20765e0\n'}]",2,694026,80b5ecd41b1d3855f27f1de6d872e81d0696ecaf,12,5,2,13692,,,0,"Change inline hyperlinks to link-target pairs.

Inline, named hyperlinks seems to be fine, but often they just provides
noise to the paragrafs. In this patch we propose to use link-target
style for hyperlinks, where named link(s) is (are) placed in paragraph
while its target is at the bottom of the document.

Change-Id: Ia4f4c66f51ea193dc201b3dba5be2788f20765e0
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/26/694026/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/README.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'README.rst', 'doc/source/installation/services.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/sriov.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/devref/kuryr_kubernetes_ingress_design.rst', 'doc/source/devref/service_support.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/installation/multi_vif_with_npwg_spec.rst', 'doc/source/devref/high_availability.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/dragonflow_support.rst']",17,18188fa875ca4d3a8204faf13ca4a79fa432ecd5,unify-rst,.. _How to enable ports pool with devstack: https://docs.openstack.org/kuryr-kubernetes/latest/installation/devstack/ports-pool.html .. _Inspect default Configuration: https://docs.openstack.org/kuryr-kubernetes/latest/installation/default_configuration.html .. _Testing Network Connectivity: https://docs.openstack.org/kuryr-kubernetes/latest/installation/testing_connectivity.html .. _Boot VM with a Trunk Port: https://docs.openstack.org/kuryr-kubernetes/latest/installation/trunk_ports.html .. _How to try out nested-pods locally (VLAN + trunk): https://docs.openstack.org/kuryr-kubernetes/latest/installation/devstack/nested-vlan.html,.. _How to enable ports pool with devstack: https://docs.openstack.org/kuryr-kubernetes/latest/installation/devstack/ports-pool.html .. _Inspect default Configuration: https://docs.openstack.org/kuryr-kubernetes/latest/installation/default_configuration.html .. _Testing Network Connectivity: https://docs.openstack.org/kuryr-kubernetes/latest/installation/testing_connectivity.html .. _Boot VM with a Trunk Port: https://docs.openstack.org/kuryr-kubernetes/latest/installation/trunk_ports.html .. _How to try out nested-pods locally (VLAN + trunk): https://docs.openstack.org/kuryr-kubernetes/latest/installation/devstack/nested-vlan.html,116,130
openstack%2Fkuryr-kubernetes~master~I9db48fbb169263e3bf66eacca7d9bce6c355739f,openstack/kuryr-kubernetes,master,I9db48fbb169263e3bf66eacca7d9bce6c355739f,Explicitly use code-block.,MERGED,2019-11-12 20:45:22.000000000,2019-11-18 09:41:17.000000000,2019-11-18 09:41:16.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-12 20:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b1bb6f862ba7edf8f6a385993c541d85a9aee0cf', 'message': 'Explicitly use code-block.\n\nIn this patch we convert preformatted directive (double colon at the end\nof line) to code-block sphinx directive. Also, fixed formatting for\nexisting code-block directives, and changes restructuredtext code\ndirective into sphinx code-block.\n\nChange-Id: I9db48fbb169263e3bf66eacca7d9bce6c355739f\n'}, {'number': 2, 'created': '2019-11-13 09:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/68d385a7662684a13f6632ff7a17e00759921f70', 'message': 'Explicitly use code-block.\n\nIn this patch we convert preformatted directive (double colon at the end\nof line) to code-block sphinx directive. Also, fixed formatting for\nexisting code-block directives, and changes restructuredtext code\ndirective into sphinx code-block.\n\nChange-Id: I9db48fbb169263e3bf66eacca7d9bce6c355739f\n'}, {'number': 3, 'created': '2019-11-13 11:53:08.000000000', 'files': ['doc/source/installation/ipv6.rst', 'doc/source/installation/testing_connectivity.rst', 'doc/source/installation/upgrades.rst', 'doc/source/installation/https_kubernetes.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/installation/sriov.rst', 'doc/source/installation/default_configuration.rst', 'doc/source/installation/ocp_route.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/installation/network_namespace.rst', 'doc/source/installation/manual.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/devref/high_availability.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'doc/source/installation/trunk_ports.rst', 'doc/source/installation/testing_udp_services.rst', 'doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/devref/network_policy.rst', 'doc/source/installation/devstack/containerized.rst', 'doc/source/installation/services.rst', 'doc/source/installation/devstack/ports-pool.rst', 'doc/source/devref/health_manager.rst', 'doc/source/devref/kuryr_kubernetes_ingress_design.rst', 'doc/source/devref/updating_pod_resources_api.rst', 'doc/source/installation/testing_nested_connectivity.rst', 'doc/source/installation/network_policy.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fd440fcdcb4016dc7f4952bbc6aeb454bbd64287', 'message': 'Explicitly use code-block.\n\nIn this patch we convert preformatted directive (double colon at the end\nof line) to code-block sphinx directive. Also, fixed formatting for\nexisting code-block directives, and changes restructuredtext code\ndirective into sphinx code-block.\n\nChange-Id: I9db48fbb169263e3bf66eacca7d9bce6c355739f\n'}]",5,693930,fd440fcdcb4016dc7f4952bbc6aeb454bbd64287,14,4,3,13692,,,0,"Explicitly use code-block.

In this patch we convert preformatted directive (double colon at the end
of line) to code-block sphinx directive. Also, fixed formatting for
existing code-block directives, and changes restructuredtext code
directive into sphinx code-block.

Change-Id: I9db48fbb169263e3bf66eacca7d9bce6c355739f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/30/693930/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/ipv6.rst', 'doc/source/installation/testing_connectivity.rst', 'doc/source/installation/upgrades.rst', 'doc/source/installation/https_kubernetes.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/installation/sriov.rst', 'doc/source/installation/default_configuration.rst', 'doc/source/installation/ocp_route.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/installation/network_namespace.rst', 'doc/source/installation/manual.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/devref/high_availability.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'doc/source/installation/trunk_ports.rst', 'doc/source/installation/testing_udp_services.rst', 'doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/devref/network_policy.rst', 'doc/source/installation/devstack/containerized.rst', 'doc/source/installation/services.rst', 'doc/source/installation/devstack/ports-pool.rst', 'doc/source/devref/health_manager.rst', 'doc/source/devref/kuryr_kubernetes_ingress_design.rst', 'doc/source/devref/updating_pod_resources_api.rst', 'doc/source/installation/testing_nested_connectivity.rst', 'doc/source/installation/network_policy.rst']",34,b1bb6f862ba7edf8f6a385993c541d85a9aee0cf,unify-rst,"be found at :doc:`./devstack/containerized`): .. code-block:: ini [kubernetes] enabled_handlers=vif,lb,lbaasspec,policy,pod_label,namespace,kuryrnetpolicy:doc:`./ports-pool`): .. code-block:: ini [kubernetes] enabled_handlers=vif,lb,lbaasspec,policy,pod_label,namespace,kuryrnetpolicy,kuryrnet After that, enable also the security group drivers for policies: .. code-block:: ini [kubernetes] service_security_groups_driver = policy pod_security_groups_driver = policy ``[neutron_defaults]pod_security_groups`` setting in ``kuryr.conf``: .. code-block:: ini [neutron_defaults] pod_security_groups = ALLOW_ALL_SG_IDoption: .. code-block:: ini [kubernetes] pod_subnets_driver = namespace Select the subnet pool from where the new subnets will get their CIDR: .. code-block:: ini [namespace_subnet] pod_subnet_pool = SUBNET_POOL_ID Lastly, select the router where the new subnet will be connected: .. code-block:: ini [namespace_subnet] pod_router = ROUTER_IDFor devstack non-containerized deployments: .. code-block:: console $ sudo systemctl restart devstack@kuryr-kubernetes.service Same for containerized deployments: .. code-block:: console $ kubectl -n kube-system get pod | grep kuryr-controller $ kubectl -n kube-system delete pod KURYR_CONTROLLER_POD_NAMEto add the policy, pod_label and namespace handler and drivers with: .. code-block:: KURYR_ENABLED_HANDLERS=vif,lb,lbaasspec,policy,pod_label,namespace,kuryrnetpolicy KURYR_SG_DRIVER=policy KURYR_SUBNET_DRIVER=namespace .. code-block:: KURYR_ENFORCE_SG_RULES=False1. Given a yaml file with a network policy, such as: .. code-block:: yaml apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: test-network-policy namespace: default spec: podSelector: matchLabels: project: default policyTypes: - Ingress - Egress - protocol: TCP port: 6379 egress: - to: ports: - protocol: TCP port: 5978 2. Apply the network policy: .. code-block:: console $ kubectl apply -f network_policy.yml 3. Check that the resources has been created: .. code-block:: console $ kubectl get kuryrnetpolicies NAME AGE np-test-network-policy 2s $ kubectl get networkpolicies NAME POD-SELECTOR AGE test-network-policy role=db 2s $ openstack security group list | grep sg-test-network-policy | dabdf308-7eed-43ef-a058-af84d1954acb | sg-test-network-policy 4. Check that the rules are in place for the security group: .. code-block:: console $ kubectl get kuryrnetpolicy np-test-network-policy -o yaml apiVersion: openstack.org/v1 kind: KuryrNetPolicy metadata: annotations: networkpolicy_name: test-network-policy networkpolicy_namespace: default networkpolicy_uid: aee1c59f-c634-11e8-b63d-002564fdd760 clusterName: """" creationTimestamp: 2018-10-02T11:17:02Z generation: 0 name: np-test-network-policy namespace: default resourceVersion: ""2117"" selfLink: /apis/openstack.org/v1/namespaces/default/kuryrnetpolicies/np-test-network-policy uid: afb99326-c634-11e8-b63d-002564fdd760 spec: egressSgRules: - security_group_rule: description: Kuryr-Kubernetes NetPolicy SG rule direction: egress ethertype: IPv4 id: 6297c198-b385-44f3-8b43-29951f933a8f port_range_max: 5978 port_range_min: 5978 protocol: tcp security_group_id: cdee7815-3b49-4a3e-abc8-31e384ab75c5 ingressSgRules: - security_group_rule: description: Kuryr-Kubernetes NetPolicy SG rule direction: ingress ethertype: IPv4 id: f4e11e73-81c6-4c1b-9760-714eedff417b port_range_max: 6379 port_range_min: 6379 protocol: tcp security_group_id: cdee7815-3b49-4a3e-abc8-31e384ab75c5 securityGroupId: cdee7815-3b49-4a3e-abc8-31e384ab75c5 securityGroupName: sg-test-network-policy networkpolicy_spec: egress: - to: - namespaceSelector: matchLabels: project: default ports: - port: 5978 protocol: TCP ingress: - from: - namespaceSelector: matchLabels: project: default ports: - port: 6379 protocol: TCP podSelector: matchLabels: project: default policyTypes: - Ingress - Egress $ openstack security group rule list sg-test-network-policy --protocol tcp -c ""IP Protocol"" -c ""Port Range"" -c ""Direction"" --long +-------------+------------+-----------+ | IP Protocol | Port Range | Direction | +-------------+------------+-----------+ | tcp | 6379:6379 | ingress | | tcp | 5978:5978 | egress | +-------------+------------+-----------+ 5. Create a pod: .. code-block:: console $ kubectl create deployment --image kuryr/demo demo deployment ""demo"" created $ kubectl get pod -o wide NAME READY STATUS RESTARTS AGE IP demo-5558c7865d-fdkdv 1/1 Running 0 44s 10.0.0.68 6. Get the pod port and check its security group rules: .. code-block:: console $ openstack port list --fixed-ip ip-address=10.0.0.68 -f value -c ID 5d29b83c-714c-4579-8987-d0c0558420b3 $ openstack port show 5d29b83c-714c-4579-8987-d0c0558420b3 | grep security_group_ids | security_group_ids | bb2ac605-56ff-4688-b4f1-1d045ad251d0 $ openstack security group rule list bb2ac605-56ff-4688-b4f1-1d045ad251d0 --protocol tcp -c ""IP Protocol"" -c ""Port Range"" +-------------+------------+-----------+ | IP Protocol | Port Range | Direction | +-------------+------------+-----------+ | tcp | 6379:6379 | ingress | | tcp | 5978:5978 | egress | +-------------+------------+-----------+ 7. Try to curl the pod on port 8080 (hint: it won't work!): .. code-block:: console $ curl 10.0.0.68:8080 8. Update network policy to allow ingress 8080 port: .. code-block:: console $ kubectl patch networkpolicy test-network-policy -p '{""spec"":{""ingress"":[{""ports"":[{""port"": 8080,""protocol"": ""TCP""}]}]}}' networkpolicy ""test-network-policy"" patched $ kubectl get knp np-test-network-policy -o yaml apiVersion: openstack.org/v1 kind: KuryrNetPolicy metadata: annotations: networkpolicy_name: test-network-policy networkpolicy_namespace: default networkpolicy_uid: aee1c59f-c634-11e8-b63d-002564fdd760 clusterName: """" creationTimestamp: 2018-10-02T11:17:02Z generation: 0 name: np-test-network-policy namespace: default resourceVersion: ""1546"" selfLink: /apis/openstack.org/v1/namespaces/default/kuryrnetpolicies/np-test-network-policy uid: afb99326-c634-11e8-b63d-002564fdd760 spec: egressSgRules: - security_group_rule: description: Kuryr-Kubernetes NetPolicy SG rule direction: egress ethertype: IPv4 id: 1969a0b3-55e1-43d7-ba16-005b4ed4cbb7 port_range_max: 5978 port_range_min: 5978 protocol: tcp security_group_id: cdee7815-3b49-4a3e-abc8-31e384ab75c5 ingressSgRules: - security_group_rule: description: Kuryr-Kubernetes NetPolicy SG rule direction: ingress ethertype: IPv4 id: 6598aa1f-4f94-4fb2-81ce-d3649ba28f33 port_range_max: 8080 port_range_min: 8080 protocol: tcp security_group_id: cdee7815-3b49-4a3e-abc8-31e384ab75c5 securityGroupId: cdee7815-3b49-4a3e-abc8-31e384ab75c5 networkpolicy_spec: egress: - ports: - port: 5978 protocol: TCP to: - namespaceSelector: matchLabels: project: default ingress: - ports: - port: 8080 protocol: TCP from: - namespaceSelector: matchLabels: project: default podSelector: matchLabels: project: default policyTypes: - Ingress - Egress $ openstack security group rule list sg-test-network-policy -c ""IP Protocol"" -c ""Port Range"" -c ""Direction"" --long +-------------+------------+-----------+ | IP Protocol | Port Range | Direction | +-------------+------------+-----------+ | tcp | 8080:8080 | ingress | | tcp | 5978:5978 | egress | +-------------+------------+-----------+ 9. Try to curl the pod ip after patching the network policy: .. code-block:: console $ curl 10.0.0.68:8080 demo-5558c7865d-fdkdv: HELLO! I AM ALIVE!!! podSelector: .. code-block:: console pod, and the traffic will be allowed: .. code-block:: console12. Confirm the teardown of the resources once the network policy is removed: .. code-block:: console $ kubectl delete -f network_policy.yml $ kubectl get kuryrnetpolicies $ kubectl get networkpolicies $ openstack security group list | grep sg-test-network-policy","be found at :doc:`./devstack/containerized`):: [kubernetes] enabled_handlers=vif,lb,lbaasspec,policy,pod_label,namespace,kuryrnetpolicy :doc:`./ports-pool`):: [kubernetes] enabled_handlers=vif,lb,lbaasspec,policy,pod_label,namespace,kuryrnetpolicy,kuryrnet After that, enable also the security group drivers for policies:: [kubernetes] service_security_groups_driver = policy pod_security_groups_driver = policy ``[neutron_defaults]pod_security_groups`` setting in ``kuryr.conf``:: [neutron_defaults] pod_security_groups = ALLOW_ALL_SG_IDoption:: [kubernetes] pod_subnets_driver = namespace Select the subnet pool from where the new subnets will get their CIDR:: [namespace_subnet] pod_subnet_pool = SUBNET_POOL_ID Lastly, select the router where the new subnet will be connected:: [namespace_subnet] pod_router = ROUTER_IDFor devstack non-containerized deployments:: $ sudo systemctl restart devstack@kuryr-kubernetes.service Same for containerized deployments:: $ kubectl -n kube-system get pod | grep kuryr-controller $ kubectl -n kube-system delete pod KURYR_CONTROLLER_POD_NAMEto add the policy, pod_label and namespace handler and drivers with:: KURYR_ENABLED_HANDLERS=vif,lb,lbaasspec,policy,pod_label,namespace,kuryrnetpolicy KURYR_SG_DRIVER=policy KURYR_SUBNET_DRIVER=namespace KURYR_ENFORCE_SG_RULES=False1. Given a yaml file with a network policy, such as:: apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: test-network-policy namespace: default spec: podSelector: matchLabels: project: default policyTypes: - Ingress - Egress ingress: - from: - namespaceSelector: matchLabels: project: default ports: - protocol: TCP port: 6379 egress: - to: - namespaceSelector: matchLabels: project: default ports: - protocol: TCP port: 5978 2. Apply the network policy:: $ kubectl apply -f network_policy.yml 3. Check that the resources has been created:: $ kubectl get kuryrnetpolicies NAME AGE np-test-network-policy 2s $ kubectl get networkpolicies NAME POD-SELECTOR AGE test-network-policy role=db 2s $ openstack security group list | grep sg-test-network-policy | dabdf308-7eed-43ef-a058-af84d1954acb | sg-test-network-policy 4. Check that the rules are in place for the security group:: $ kubectl get kuryrnetpolicy np-test-network-policy -o yaml apiVersion: openstack.org/v1 kind: KuryrNetPolicy metadata: annotations: networkpolicy_name: test-network-policy networkpolicy_namespace: default networkpolicy_uid: aee1c59f-c634-11e8-b63d-002564fdd760 clusterName: """" creationTimestamp: 2018-10-02T11:17:02Z generation: 0 name: np-test-network-policy namespace: default resourceVersion: ""2117"" selfLink: /apis/openstack.org/v1/namespaces/default/kuryrnetpolicies/np-test-network-policy uid: afb99326-c634-11e8-b63d-002564fdd760 spec: egressSgRules: - security_group_rule: description: Kuryr-Kubernetes NetPolicy SG rule direction: egress ethertype: IPv4 id: 6297c198-b385-44f3-8b43-29951f933a8f port_range_max: 5978 port_range_min: 5978 protocol: tcp security_group_id: cdee7815-3b49-4a3e-abc8-31e384ab75c5 ingressSgRules: - security_group_rule: description: Kuryr-Kubernetes NetPolicy SG rule direction: ingress ethertype: IPv4 id: f4e11e73-81c6-4c1b-9760-714eedff417b port_range_max: 6379 port_range_min: 6379 protocol: tcp security_group_id: cdee7815-3b49-4a3e-abc8-31e384ab75c5 securityGroupId: cdee7815-3b49-4a3e-abc8-31e384ab75c5 securityGroupName: sg-test-network-policy networkpolicy_spec: egress: - to: - namespaceSelector: matchLabels: project: default ports: - port: 5978 protocol: TCP - port: 6379 protocol: TCP podSelector: matchLabels: project: default policyTypes: - Ingress - Egress $ openstack security group rule list sg-test-network-policy --protocol tcp -c ""IP Protocol"" -c ""Port Range"" -c ""Direction"" --long +-------------+------------+-----------+ | IP Protocol | Port Range | Direction | +-------------+------------+-----------+ | tcp | 6379:6379 | ingress | | tcp | 5978:5978 | egress | +-------------+------------+-----------+ 5. Create a pod:: $ kubectl create deployment --image kuryr/demo demo deployment ""demo"" created $ kubectl get pod -o wide NAME READY STATUS RESTARTS AGE IP demo-5558c7865d-fdkdv 1/1 Running 0 44s 10.0.0.68 6. Get the pod port and check its security group rules:: $ openstack port list --fixed-ip ip-address=10.0.0.68 -f value -c ID 5d29b83c-714c-4579-8987-d0c0558420b3 $ openstack port show 5d29b83c-714c-4579-8987-d0c0558420b3 | grep security_group_ids | security_group_ids | bb2ac605-56ff-4688-b4f1-1d045ad251d0 $ openstack security group rule list bb2ac605-56ff-4688-b4f1-1d045ad251d0 --protocol tcp -c ""IP Protocol"" -c ""Port Range"" +-------------+------------+-----------+ | IP Protocol | Port Range | Direction | +-------------+------------+-----------+ | tcp | 6379:6379 | ingress | | tcp | 5978:5978 | egress | +-------------+------------+-----------+ 7. Try to curl the pod on port 8080 (hint: it won't work!):: $ curl 10.0.0.68:8080 8. Update network policy to allow ingress 8080 port:: $ kubectl patch networkpolicy test-network-policy -p '{""spec"":{""ingress"":[{""ports"":[{""port"": 8080,""protocol"": ""TCP""}]}]}}' networkpolicy ""test-network-policy"" patched $ kubectl get knp np-test-network-policy -o yaml apiVersion: openstack.org/v1 kind: KuryrNetPolicy metadata: annotations: networkpolicy_name: test-network-policy networkpolicy_namespace: default networkpolicy_uid: aee1c59f-c634-11e8-b63d-002564fdd760 clusterName: """" creationTimestamp: 2018-10-02T11:17:02Z generation: 0 name: np-test-network-policy namespace: default resourceVersion: ""1546"" selfLink: /apis/openstack.org/v1/namespaces/default/kuryrnetpolicies/np-test-network-policy uid: afb99326-c634-11e8-b63d-002564fdd760 spec: egressSgRules: - security_group_rule: description: Kuryr-Kubernetes NetPolicy SG rule direction: egress ethertype: IPv4 id: 1969a0b3-55e1-43d7-ba16-005b4ed4cbb7 port_range_max: 5978 port_range_min: 5978 protocol: tcp security_group_id: cdee7815-3b49-4a3e-abc8-31e384ab75c5 ingressSgRules: - security_group_rule: description: Kuryr-Kubernetes NetPolicy SG rule direction: ingress ethertype: IPv4 id: 6598aa1f-4f94-4fb2-81ce-d3649ba28f33 port_range_max: 8080 port_range_min: 8080 protocol: tcp security_group_id: cdee7815-3b49-4a3e-abc8-31e384ab75c5 securityGroupId: cdee7815-3b49-4a3e-abc8-31e384ab75c5 networkpolicy_spec: egress: - ports: - port: 5978 protocol: TCP to: ingress: - ports: - port: 8080 protocol: TCP from: - namespaceSelector: matchLabels: project: default podSelector: matchLabels: project: default policyTypes: - Ingress - Egress $ openstack security group rule list sg-test-network-policy -c ""IP Protocol"" -c ""Port Range"" -c ""Direction"" --long +-------------+------------+-----------+ | IP Protocol | Port Range | Direction | +-------------+------------+-----------+ | tcp | 8080:8080 | ingress | | tcp | 5978:5978 | egress | +-------------+------------+-----------+ 9. Try to curl the pod ip after patching the network policy:: $ curl 10.0.0.68:8080 demo-5558c7865d-fdkdv: HELLO! I AM ALIVE!!! podSelector:: pod, and the traffic will be allowed:: 12. Confirm the teardown of the resources once the network policy is removed:: $ kubectl delete -f network_policy.yml $ kubectl get kuryrnetpolicies $ kubectl get networkpolicies $ openstack security group list | grep sg-test-network-policy",2667,2321
openstack%2Fkuryr-kubernetes~master~Ic970f72aeb93bcda82f02e57b70370ab79d6855d,openstack/kuryr-kubernetes,master,Ic970f72aeb93bcda82f02e57b70370ab79d6855d,Fix directives formatting.,MERGED,2019-11-12 20:45:22.000000000,2019-11-18 09:41:16.000000000,2019-11-18 09:41:15.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-12 20:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0ad601232de34207ae4212098dd540693aacf356', 'message': 'Fix directives formatting.\n\nAccording to restructuredtext guidelines, directives should have\nfollowing formatting:\n\n.. directive_name:: param\n   :option:\n\n   body\n\nSo it starts with the leading two dots and the space. Next directive\nname follows with two colons, and finally optional parameter. Than, line\nbelow it is either some options delimited with colons, or an empty line.\nAfter which body of the directive follows. It should be positioned just\nat the same column as directive name, so exactly 3 spaces. Most of the\ndirectives are formatted wrong, including:\n\n- note\n- image\n- todo\n- toctree\n- warning\n- figure\n\nThis patch fixes that.\n\nChange-Id: Ic970f72aeb93bcda82f02e57b70370ab79d6855d\n'}, {'number': 2, 'created': '2019-11-13 09:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5260eeef63d6755738e2a6ff08d18b1f5af7651c', 'message': 'Fix directives formatting.\n\nAccording to restructuredtext guidelines, directives should have\nfollowing formatting:\n\n.. directive_name:: param\n   :option:\n\n   body\n\nSo it starts with the leading two dots and the space. Next directive\nname follows with two colons, and finally optional parameter. Than, line\nbelow it is either some options delimited with colons, or an empty line.\nAfter which body of the directive follows. It should be positioned just\nat the same column as directive name, so exactly 3 spaces. Most of the\ndirectives are formatted wrong, including:\n\n- note\n- image\n- todo\n- toctree\n- warning\n- figure\n\nThis patch fixes that.\n\nChange-Id: Ic970f72aeb93bcda82f02e57b70370ab79d6855d\n'}, {'number': 3, 'created': '2019-11-13 11:53:08.000000000', 'files': ['doc/source/specs/queens/network_policy.rst', 'doc/source/installation/upgrades.rst', 'doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/specs/pike/fuxi_kubernetes.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'README.rst', 'doc/source/devref/network_policy.rst', 'doc/source/installation/services.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/devref/health_manager.rst', 'doc/source/installation/index.rst', 'doc/source/installation/network_namespace.rst', 'doc/source/devref/kuryr_kubernetes_ingress_design.rst', 'doc/source/installation/manual.rst', 'doc/source/devref/updating_pod_resources_api.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/installation/devstack/index.rst', 'doc/source/devref/index.rst', 'doc/source/installation/network_policy.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/feff260509b82feb934f5c91c90456d8fa8d7d71', 'message': 'Fix directives formatting.\n\nAccording to restructuredtext guidelines, directives should have\nfollowing formatting:\n\n.. directive_name:: param\n   :option:\n\n   body\n\nSo it starts with the leading two dots and the space. Next directive\nname follows with two colons, and finally optional parameter. Than, line\nbelow it is either some options delimited with colons, or an empty line.\nAfter which body of the directive follows. It should be positioned just\nat the same column as directive name, so exactly 3 spaces. Most of the\ndirectives are formatted wrong, including:\n\n- note\n- image\n- todo\n- toctree\n- warning\n- figure\n\nThis patch fixes that.\n\nChange-Id: Ic970f72aeb93bcda82f02e57b70370ab79d6855d\n'}]",2,693929,feff260509b82feb934f5c91c90456d8fa8d7d71,13,4,3,13692,,,0,"Fix directives formatting.

According to restructuredtext guidelines, directives should have
following formatting:

.. directive_name:: param
   :option:

   body

So it starts with the leading two dots and the space. Next directive
name follows with two colons, and finally optional parameter. Than, line
below it is either some options delimited with colons, or an empty line.
After which body of the directive follows. It should be positioned just
at the same column as directive name, so exactly 3 spaces. Most of the
directives are formatted wrong, including:

- note
- image
- todo
- toctree
- warning
- figure

This patch fixes that.

Change-Id: Ic970f72aeb93bcda82f02e57b70370ab79d6855d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/29/693929/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/queens/network_policy.rst', 'doc/source/installation/upgrades.rst', 'doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/specs/pike/fuxi_kubernetes.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'README.rst', 'doc/source/devref/network_policy.rst', 'doc/source/installation/services.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/devref/health_manager.rst', 'doc/source/installation/index.rst', 'doc/source/installation/network_namespace.rst', 'doc/source/devref/kuryr_kubernetes_ingress_design.rst', 'doc/source/installation/manual.rst', 'doc/source/devref/updating_pod_resources_api.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/installation/devstack/index.rst', 'doc/source/devref/index.rst', 'doc/source/installation/network_policy.rst']",22,0ad601232de34207ae4212098dd540693aacf356,unify-rst," The correct behavior for pods that have no network policy applied is to allow all ingress and egress traffic. If you want that to be enforced, please make sure to create an SG allowing all traffic and add it to ``[neutron_defaults]pod_security_groups`` setting in ``kuryr.conf``:: If the loadbalancer maintains the source IP (such as ovn-octavia driver), there is no need to enforce sg rules at the load balancer level. To disable the enforcement, you need to set the following variable: KURYR_ENFORCE_SG_RULES=False"," The correct behavior for pods that have no network policy applied is to allow all ingress and egress traffic. If you want that to be enforced, please make sure to create an SG allowing all traffic and add it to ``[neutron_defaults]pod_security_groups`` setting in ``kuryr.conf``:: If the loadbalancer maintains the source IP (such as ovn-octavia driver), there is no need to enforce sg rules at the load balancer level. To disable the enforcement, you need to set the following variable: KURYR_ENFORCE_SG_RULES=False",178,161
openstack%2Fkuryr-kubernetes~master~I78c20cbb45c74e817d60582439acc7b01b577a83,openstack/kuryr-kubernetes,master,I78c20cbb45c74e817d60582439acc7b01b577a83,Fix text blocks formatting,MERGED,2019-11-12 20:45:22.000000000,2019-11-18 09:41:15.000000000,2019-11-18 09:41:15.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-12 20:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/49c78b065768f07b45d9286290674c4c3f4fa88c', 'message': 'Fix text blocks formatting\n\nThere are the cases, where text blocks in restructuredtext files are\nexceeding text 79 column, or are formatted in weeird way. In this patch\nit is fixed. Also couple of typos were tided up.\n\nChange-Id: I78c20cbb45c74e817d60582439acc7b01b577a83\n'}, {'number': 2, 'created': '2019-11-13 09:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2e6392cbcc70b4f93f9f19db0d64da15e5344e38', 'message': 'Fix text blocks formatting\n\nThere are the cases, where text blocks in restructuredtext files are\nexceeding text 79 column, or are formatted in weeird way. In this patch\nit is fixed. Also couple of typos were tided up.\n\nChange-Id: I78c20cbb45c74e817d60582439acc7b01b577a83\n'}, {'number': 3, 'created': '2019-11-13 11:53:08.000000000', 'files': ['doc/source/installation/ipv6.rst', 'doc/source/installation/upgrades.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'README.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/installation/sriov.rst', 'doc/source/installation/ocp_route.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/devref/service_support.rst', 'CONTRIBUTING.rst', 'doc/source/installation/manual.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'doc/source/installation/trunk_ports.rst', 'doc/source/installation/testing_udp_services.rst', 'releasenotes/source/README.rst', 'doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/installation/devstack/containerized.rst', 'doc/source/installation/services.rst', 'doc/source/installation/devstack/ports-pool.rst', 'contrib/devstack-heat/README.rst', 'doc/source/installation/network_policy.rst', 'contrib/pools-management/README.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c3c270c75203a86f366edfd9295aea534b7d4c4b', 'message': 'Fix text blocks formatting\n\nThere are the cases, where text blocks in restructuredtext files are\nexceeding text 79 column, or are formatted in weeird way. In this patch\nit is fixed. Also couple of typos were tided up.\n\nChange-Id: I78c20cbb45c74e817d60582439acc7b01b577a83\n'}]",0,693928,c3c270c75203a86f366edfd9295aea534b7d4c4b,11,3,3,13692,,,0,"Fix text blocks formatting

There are the cases, where text blocks in restructuredtext files are
exceeding text 79 column, or are formatted in weeird way. In this patch
it is fixed. Also couple of typos were tided up.

Change-Id: I78c20cbb45c74e817d60582439acc7b01b577a83
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/28/693928/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/installation/ipv6.rst', 'doc/source/installation/upgrades.rst', 'doc/source/devref/kuryr_kubernetes_ocp_route_design.rst', 'README.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/installation/containerized.rst', 'doc/source/installation/devstack/basic.rst', 'doc/source/installation/ports-pool.rst', 'doc/source/installation/sriov.rst', 'doc/source/installation/ocp_route.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/devstack/odl_support.rst', 'doc/source/devref/service_support.rst', 'CONTRIBUTING.rst', 'doc/source/installation/manual.rst', 'doc/source/installation/testing_sriov_functional.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/installation/devstack/nested-vlan.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'doc/source/installation/trunk_ports.rst', 'doc/source/installation/testing_udp_services.rst', 'releasenotes/source/README.rst', 'doc/source/installation/devstack/nested-macvlan.rst', 'doc/source/installation/devstack/containerized.rst', 'doc/source/installation/services.rst', 'doc/source/installation/devstack/ports-pool.rst', 'contrib/devstack-heat/README.rst', 'doc/source/installation/network_policy.rst', 'contrib/pools-management/README.rst']",29,49c78b065768f07b45d9286290674c4c3f4fa88c,unify-rst,"``/etc/kuryr/kuryr.conf``::``/run/kuryr/kuryr_manage.sock``overcloud VMs, with subports. From the *undercloud* we just need to make use","`/etc/kuryr/kuryr.conf`::`/run/kuryr/kuryr_manage.sock`overcloud VMs, with subports. From the `undercloud` we just need to make use",375,352
openstack%2Fmistral~stable%2Ftrain~I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6,openstack/mistral,stable/train,I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6,Refactor action execution reporter,MERGED,2019-11-18 04:59:49.000000000,2019-11-18 09:35:21.000000000,2019-11-18 09:34:04.000000000,"[{'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 04:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/229da9aa1ffe040acc86311822c2a0b231095651', 'message': ""Refactor action execution reporter\n\n* Moved away from using Oslo periodic tasks in the action execution\n  reporter since in this case they don't make the code more readable.\n  Also, now it is symmetric with other similar components like action\n  execution checker.\n* Refactored action execution checker w/o using classes since having\n  many instances of it doesn't make sense.\n* Small style changes\n\nChange-Id: I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6\n(cherry picked from commit 0e758e16e1abdb2440e28d270457f7329b876708)\n""}, {'number': 2, 'created': '2019-11-18 05:01:25.000000000', 'files': ['mistral/services/action_execution_reporter.py', 'mistral/services/action_execution_checker.py', 'mistral/executors/executor_server.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/24254685778c028792793774c0f8072a02e09614', 'message': ""Refactor action execution reporter\n\n* Moved away from using Oslo periodic tasks in the action execution\n  reporter since in this case they don't make the code more readable.\n  Also, now it is symmetric with other similar components like action\n  execution checker.\n* Refactored action execution checker w/o using classes since having\n  many instances of it doesn't make sense.\n* Small style changes\n\nPartial-Bug: #1852722\nChange-Id: I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6\n(cherry picked from commit 0e758e16e1abdb2440e28d270457f7329b876708)\n""}]",0,694712,24254685778c028792793774c0f8072a02e09614,9,3,2,8731,,,0,"Refactor action execution reporter

* Moved away from using Oslo periodic tasks in the action execution
  reporter since in this case they don't make the code more readable.
  Also, now it is symmetric with other similar components like action
  execution checker.
* Refactored action execution checker w/o using classes since having
  many instances of it doesn't make sense.
* Small style changes

Partial-Bug: #1852722
Change-Id: I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6
(cherry picked from commit 0e758e16e1abdb2440e28d270457f7329b876708)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/12/694712/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/services/action_execution_reporter.py', 'mistral/services/action_execution_checker.py', 'mistral/executors/executor_server.py']",3,229da9aa1ffe040acc86311822c2a0b231095651,refactor_action_hearbeat_mechanism-stable/train, action_execution_reporter.start() action_execution_reporter.stop() action_execution_reporter.add_action_ex_id(action_ex_id) action_execution_reporter.remove_action_ex_id(action_ex_id), self._reporter = None self._aer = None self._aer = action_execution_reporter.ActionExecutionReporter(CONF) self._reporter = action_execution_reporter.setup(self._aer) if self._reporter: self._reporter.stop(graceful) self._aer.add_action_ex_id(action_ex_id) self._aer.remove_action_ex_id(action_ex_id),82,62
openstack%2Fmistral~master~I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,openstack/mistral,master,I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,Mask sensitive data when logging action results,MERGED,2019-11-06 14:48:27.000000000,2019-11-18 09:21:54.000000000,2019-11-15 17:37:15.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-11-06 14:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1005b393d7ff3180ffe289795a19f4b002787879', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n'}, {'number': 2, 'created': '2019-11-07 10:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/716b67656e8faf4b61f30a1253ce67e654eee8b2', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nRelated-Bug: #1850843\nDepends-on: Iea7280546122199e4ebc603be473b470f2d817fe\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n'}, {'number': 3, 'created': '2019-11-11 12:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cefc03abd35d70f70a2ef466bc42b962394ae8e2', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n'}, {'number': 4, 'created': '2019-11-11 15:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ab6f202d8c210c1cd37d0e584b4182a9c66d3c39', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n'}, {'number': 5, 'created': '2019-11-13 11:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6480ee85eeb3eafff1f3b743d206b158dd83283b', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n'}, {'number': 6, 'created': '2019-11-15 12:20:05.000000000', 'files': ['mistral/engine/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/a25c8fab881decff0e61deffe1895f1d99132f9f', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n'}]",0,693189,a25c8fab881decff0e61deffe1895f1d99132f9f,28,9,6,9712,,,0,"Mask sensitive data when logging action results

When passwords or other sensible data is returned by a Action, they can
be logged by Mistral. This change uses the password masking
functionality used in mistral-lib and privided by oslo-utils.

This function uses the standard cut_repr method in mistral-lib, which
also means the output is more standardised.

Related-Bug: #1850843
Change-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe
",git fetch https://review.opendev.org/openstack/mistral refs/changes/89/693189/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'mistral/engine/actions.py']",2,1005b393d7ff3180ffe289795a19f4b002787879,bug/1850843," return ""error = %s"" % utils.cut(utils.mask_data(result.error)) return ""result = %s"" % utils.cut(utils.mask_data(result.data))"," return ""error = %s"" % utils.cut(result.error) return ""result = %s"" % utils.cut(result.data)",3,3
openstack%2Fnetworking-ovn~master~I150671582ec45a926f3461da314ff73b8e922e26,openstack/networking-ovn,master,I150671582ec45a926f3461da314ff73b8e922e26,[vagrants] Move to Ubuntu 18.04 by default,MERGED,2019-11-04 09:58:03.000000000,2019-11-18 09:07:46.000000000,2019-11-18 09:06:30.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-04 09:58:03.000000000', 'files': ['vagrant/provisioning/boxes.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aa7481daf7b389950e1e750b88b8ca76f9958313', 'message': '[vagrants] Move to Ubuntu 18.04 by default\n\nCurrent reference vagrant files in our repo use Xenial.\nThis patch is updating them to use Ubuntu Bionic 18.04 by\ndefault.\n\nChange-Id: I150671582ec45a926f3461da314ff73b8e922e26\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,692790,aa7481daf7b389950e1e750b88b8ca76f9958313,9,4,1,23804,,,0,"[vagrants] Move to Ubuntu 18.04 by default

Current reference vagrant files in our repo use Xenial.
This patch is updating them to use Ubuntu Bionic 18.04 by
default.

Change-Id: I150671582ec45a926f3461da314ff73b8e922e26
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/90/692790/1 && git format-patch -1 --stdout FETCH_HEAD,['vagrant/provisioning/boxes.yml'],1,aa7481daf7b389950e1e750b88b8ca76f9958313,, virtualbox: bento/ubuntu-18.04 libvirt: generic/ubuntu1804 parallels: bento/ubuntu-18.04 openstack: bionic64, virtualbox: bento/ubuntu-16.04 libvirt: elastic/ubuntu-16.04-x86_64 parallels: bento/ubuntu-16.04 openstack: xenial64,4,4
openstack%2Fnetworking-baremetal~master~I07ed8b02a869bad5074aef985cf3f8e8a9a83ce3,openstack/networking-baremetal,master,I07ed8b02a869bad5074aef985cf3f8e8a9a83ce3,Add genconfig env to tox,MERGED,2019-11-15 09:42:26.000000000,2019-11-18 09:07:07.000000000,2019-11-18 09:05:27.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-15 09:42:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/f1500ede44c3748682d1feddeecd59f73539ab82', 'message': 'Add genconfig env to tox\n\nAlign with other projects that could generate configuration file\nlocally. Also gives a little love to people behind proxy.\n\nChange-Id: I07ed8b02a869bad5074aef985cf3f8e8a9a83ce3\n'}]",0,694492,f1500ede44c3748682d1feddeecd59f73539ab82,8,3,1,24828,,,0,"Add genconfig env to tox

Align with other projects that could generate configuration file
locally. Also gives a little love to people behind proxy.

Change-Id: I07ed8b02a869bad5074aef985cf3f8e8a9a83ce3
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/92/694492/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f1500ede44c3748682d1feddeecd59f73539ab82,genconfig,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY[testenv:genconfig] basepython = python3 commands = oslo-config-generator --config-file=tools/config/networking-baremetal-config-generator.conf ,,6,0
openstack%2Fmistral~master~I7d82be4c9174676539d9ea4132504a47ff6e5e0b,openstack/mistral,master,I7d82be4c9174676539d9ea4132504a47ff6e5e0b,Make sure minimum amqp is 2.5.2,MERGED,2019-11-14 10:29:24.000000000,2019-11-18 09:04:29.000000000,2019-11-15 09:45:59.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 10:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2979dfa078f87d9bee3a9bae8f9c3785dac192fe', 'message': 'Make sure minimum amqp is 2.5.2\n\namqp fixed a bug in 2.5.2 that is needed\n\nChange-Id: I7d82be4c9174676539d9ea4132504a47ff6e5e0b\nCloses-bug: #1852058\n'}, {'number': 2, 'created': '2019-11-14 11:43:48.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/80ff52284e6db62e914ff05cc1b1b44d9d126583', 'message': 'Make sure minimum amqp is 2.5.2\n\namqp fixed a bug in 2.5.2 that is needed\n\nDepends-On: https://review.opendev.org/#/c/694248/\nCloses-bug: #1852058\n\nChange-Id: I7d82be4c9174676539d9ea4132504a47ff6e5e0b\n'}]",0,694233,80ff52284e6db62e914ff05cc1b1b44d9d126583,11,3,2,19134,,,0,"Make sure minimum amqp is 2.5.2

amqp fixed a bug in 2.5.2 that is needed

Depends-On: https://review.opendev.org/#/c/694248/
Closes-bug: #1852058

Change-Id: I7d82be4c9174676539d9ea4132504a47ff6e5e0b
",git fetch https://review.opendev.org/openstack/mistral refs/changes/33/694233/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,2979dfa078f87d9bee3a9bae8f9c3785dac192fe,eyalb/requirments,amqp==2.5.2,amqp==2.1.1,1,1
openstack%2Fhorizon~master~I5923f08752e6a5ccd4c9cf2fa1deb6c879111f43,openstack/horizon,master,I5923f08752e6a5ccd4c9cf2fa1deb6c879111f43,Enable OPENSTACK_NEUTRON_NETWORK[enable_quotas] by default,MERGED,2019-10-16 06:16:25.000000000,2019-11-18 08:39:00.000000000,2019-11-18 08:36:45.000000000,"[{'_account_id': 1736}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-16 06:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bd8e50041021e5c962d79be1d3b66ff4a8aa3d34', 'message': 'Enable OPENSTACK_NEUTRON_NETWORK[enable_quotas] by default\n\nneutron supports the qutoas API from long ago and most deployments\nare expected to enable the neutron quotas support in horizon.\nThis commit changes the default value of enable_quotas in\nOPENSTACK_NEUTRON_NETWORK to True.\n\nPart of blueprint ini-based-configuration\n\nChange-Id: I5923f08752e6a5ccd4c9cf2fa1deb6c879111f43\n'}, {'number': 2, 'created': '2019-10-18 05:27:21.000000000', 'files': ['doc/source/configuration/settings.rst', 'releasenotes/notes/enable-neutron-quotas-by-default-7c89cda96a972a48.yaml', 'openstack_dashboard/defaults.py', 'openstack_dashboard/local/local_settings.py.example'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3282bf20f70839183f103ab2c4e4739407eb2fbf', 'message': 'Enable OPENSTACK_NEUTRON_NETWORK[enable_quotas] by default\n\nneutron supports the qutoas API from long ago and most deployments\nare expected to enable the neutron quotas support in horizon.\nThis commit changes the default value of enable_quotas in\nOPENSTACK_NEUTRON_NETWORK to True.\n\nPart of blueprint ini-based-configuration\n\nChange-Id: I5923f08752e6a5ccd4c9cf2fa1deb6c879111f43\n'}]",0,688858,3282bf20f70839183f103ab2c4e4739407eb2fbf,11,4,2,841,,,0,"Enable OPENSTACK_NEUTRON_NETWORK[enable_quotas] by default

neutron supports the qutoas API from long ago and most deployments
are expected to enable the neutron quotas support in horizon.
This commit changes the default value of enable_quotas in
OPENSTACK_NEUTRON_NETWORK to True.

Part of blueprint ini-based-configuration

Change-Id: I5923f08752e6a5ccd4c9cf2fa1deb6c879111f43
",git fetch https://review.opendev.org/openstack/horizon refs/changes/58/688858/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/settings.rst', 'releasenotes/notes/enable-neutron-quotas-by-default-7c89cda96a972a48.yaml', 'openstack_dashboard/defaults.py', 'openstack_dashboard/local/local_settings.py.example']",4,bd8e50041021e5c962d79be1d3b66ff4a8aa3d34,bp/ini-based-configuration,,"# The OPENSTACK_NEUTRON_NETWORK settings can be used to enable optional # services provided by neutron. Options currently available are load # balancer service, security groups, quotas, VPN service. OPENSTACK_NEUTRON_NETWORK = { 'enable_auto_allocated_network': False, 'enable_distributed_router': False, 'enable_fip_topology_check': True, 'enable_ha_router': False, 'enable_ipv6': True, # TODO(amotoki): Drop OPENSTACK_NEUTRON_NETWORK completely from here. # enable_quotas has the different default value here. 'enable_quotas': True, 'enable_rbac_policy': True, 'enable_router': True, 'default_dns_nameservers': [], 'supported_provider_types': ['*'], 'segmentation_id_range': {}, 'extra_provider_types': {}, 'supported_vnic_types': ['*'], 'physical_networks': [], } ",15,28
openstack%2Fcloudkitty-dashboard~master~I44a317a3551c108b3872e4c8c37ccdbd414972b2,openstack/cloudkitty-dashboard,master,I44a317a3551c108b3872e4c8c37ccdbd414972b2,tox: Keeping going with docs,MERGED,2019-10-24 12:45:50.000000000,2019-11-18 08:29:14.000000000,2019-11-18 08:28:05.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-10-24 12:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/0b36ed3047b03428480e3f08658cd28e4407350c', 'message': 'tox: Keeping going with docs\n\nChange-Id: I44a317a3551c108b3872e4c8c37ccdbd414972b2\n'}, {'number': 2, 'created': '2019-10-24 12:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/a94afce78c39affceb275cea239265aaf4484f1f', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I44a317a3551c108b3872e4c8c37ccdbd414972b2\n""}, {'number': 3, 'created': '2019-11-14 02:33:09.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/99993584bb077a917c8ea641820f9ed738dc961d', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I44a317a3551c108b3872e4c8c37ccdbd414972b2\n""}]",2,690957,99993584bb077a917c8ea641820f9ed738dc961d,13,4,3,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I44a317a3551c108b3872e4c8c37ccdbd414972b2
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/57/690957/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,0b36ed3047b03428480e3f08658cd28e4407350c,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Fzaqar~master~I482fbdae6fc44a64ad2baa18bbb3897aa4c4f60a,openstack/zaqar,master,I482fbdae6fc44a64ad2baa18bbb3897aa4c4f60a,Update master for stable/train,MERGED,2019-09-25 09:07:26.000000000,2019-11-18 08:16:21.000000000,2019-11-18 08:14:43.000000000,"[{'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6427}, {'_account_id': 6484}, {'_account_id': 7385}, {'_account_id': 8846}, {'_account_id': 12321}, {'_account_id': 14203}, {'_account_id': 15054}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 09:07:26.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e443cf6a25ad1e32a96527858a76c0616a36b7f4', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I482fbdae6fc44a64ad2baa18bbb3897aa4c4f60a\nSem-Ver: feature\n'}]",0,684649,e443cf6a25ad1e32a96527858a76c0616a36b7f4,8,11,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I482fbdae6fc44a64ad2baa18bbb3897aa4c4f60a
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/49/684649/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,e443cf6a25ad1e32a96527858a76c0616a36b7f4,reno-train, train,,7,0
openstack%2Ftripleo-common~stable%2Frocky~Ib15f1ec4766bf4d64a2860422c230e4d514bc224,openstack/tripleo-common,stable/rocky,Ib15f1ec4766bf4d64a2860422c230e4d514bc224,Improve Swift healthchecks,MERGED,2019-11-13 06:34:59.000000000,2019-11-18 07:20:45.000000000,2019-11-18 07:19:15.000000000,"[{'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 06:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fa5d3765f4c43e478d69792b96a3c4fb46cda753', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nCo-Authored-By: Christian Schwede <cschwede@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n(cherry picked from commit 0862fcf98fab43cce64979a1d4a9849498e496fb)\n'}, {'number': 2, 'created': '2019-11-15 11:54:01.000000000', 'files': ['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'container-images/tripleo_kolla_template_overrides.j2', 'healthcheck/swift-object-expirer', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d0b72ccf8f586673300bcc3d788aaf0d8f86057', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nCo-Authored-By: Christian Schwede <cschwede@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n(cherry picked from commit 0862fcf98fab43cce64979a1d4a9849498e496fb)\n'}]",0,693986,5d0b72ccf8f586673300bcc3d788aaf0d8f86057,17,4,2,3153,,,0,"Improve Swift healthchecks

This patch adds checks for the replicators.

It also removes some unused or invalid code from other checks. Checking
modification time of the recon files is not enough, these might also be
changed by other Swift processes and are not a good indicator for stuck
processes.

Co-Authored-By: Christian Schwede <cschwede@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224
(cherry picked from commit 0862fcf98fab43cce64979a1d4a9849498e496fb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/693986/2 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-object-expirer', 'healthcheck/swift-proxy']",10,fa5d3765f4c43e478d69792b96a3c4fb46cda753,rocky/swift,,"else # TODO(mmagr): Remove this once swift_object_expirer container will start # using swift-object-expirer kolla image conf=/etc/swift/object-expirer.conf cache=/var/cache/swift/object.recon interval=$(get_config_val $conf object-expirer interval 300) if ! healthcheck_file_modification $cache $interval; then echo ""Cache file $cache was not updated within interval of $interval seconds."" exit 1 fi",42,71
openstack%2Ftripleo-common~stable%2Ftrain~Ib15f1ec4766bf4d64a2860422c230e4d514bc224,openstack/tripleo-common,stable/train,Ib15f1ec4766bf4d64a2860422c230e4d514bc224,Improve Swift healthchecks,MERGED,2019-11-13 06:31:05.000000000,2019-11-18 07:19:10.000000000,2019-11-18 07:17:13.000000000,"[{'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 06:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5b0936fabe17281d856791b46ff4742c154ea258', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nCo-Authored-By: Christian Schwede <cschwede@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n(cherry picked from commit 0862fcf98fab43cce64979a1d4a9849498e496fb)\n'}, {'number': 2, 'created': '2019-11-15 11:55:33.000000000', 'files': ['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'container-images/tripleo_kolla_template_overrides.j2', 'healthcheck/swift-object-expirer', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7948344c88a6c73794bce813994028f69c4cd15b', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nCo-Authored-By: Christian Schwede <cschwede@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n(cherry picked from commit 0862fcf98fab43cce64979a1d4a9849498e496fb)\n'}]",0,693984,7948344c88a6c73794bce813994028f69c4cd15b,17,4,2,3153,,,0,"Improve Swift healthchecks

This patch adds checks for the replicators.

It also removes some unused or invalid code from other checks. Checking
modification time of the recon files is not enough, these might also be
changed by other Swift processes and are not a good indicator for stuck
processes.

Co-Authored-By: Christian Schwede <cschwede@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224
(cherry picked from commit 0862fcf98fab43cce64979a1d4a9849498e496fb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/693984/2 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-object-expirer', 'healthcheck/swift-proxy']",10,5b0936fabe17281d856791b46ff4742c154ea258,,,"else # TODO(mmagr): Remove this once swift_object_expirer container will start # using swift-object-expirer kolla image conf=/etc/swift/object-expirer.conf cache=/var/cache/swift/object.recon interval=$(get_config_val $conf object-expirer interval 300) if ! healthcheck_file_modification $cache $interval; then echo ""Cache file $cache was not updated within interval of $interval seconds."" exit 1 fi",42,71
openstack%2Ftripleo-common~stable%2Fstein~Ib15f1ec4766bf4d64a2860422c230e4d514bc224,openstack/tripleo-common,stable/stein,Ib15f1ec4766bf4d64a2860422c230e4d514bc224,Improve Swift healthchecks,MERGED,2019-11-13 06:31:15.000000000,2019-11-18 07:18:59.000000000,2019-11-18 07:17:14.000000000,"[{'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 06:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7db3a6f698e12ec24f3d23e8f43d30f4a0746ce7', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nCo-Authored-By: Christian Schwede <cschwede@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n(cherry picked from commit 0862fcf98fab43cce64979a1d4a9849498e496fb)\n'}, {'number': 2, 'created': '2019-11-15 11:55:01.000000000', 'files': ['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'container-images/tripleo_kolla_template_overrides.j2', 'healthcheck/swift-object-expirer', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a60453eaa0eabe1531a8e3cd4f328cd53ca47dc0', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nCo-Authored-By: Christian Schwede <cschwede@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n(cherry picked from commit 0862fcf98fab43cce64979a1d4a9849498e496fb)\n'}]",0,693985,a60453eaa0eabe1531a8e3cd4f328cd53ca47dc0,17,4,2,3153,,,0,"Improve Swift healthchecks

This patch adds checks for the replicators.

It also removes some unused or invalid code from other checks. Checking
modification time of the recon files is not enough, these might also be
changed by other Swift processes and are not a good indicator for stuck
processes.

Co-Authored-By: Christian Schwede <cschwede@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224
(cherry picked from commit 0862fcf98fab43cce64979a1d4a9849498e496fb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/85/693985/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-object-expirer', 'healthcheck/swift-proxy']",10,7db3a6f698e12ec24f3d23e8f43d30f4a0746ce7,,,"else # TODO(mmagr): Remove this once swift_object_expirer container will start # using swift-object-expirer kolla image conf=/etc/swift/object-expirer.conf cache=/var/cache/swift/object.recon interval=$(get_config_val $conf object-expirer interval 300) if ! healthcheck_file_modification $cache $interval; then echo ""Cache file $cache was not updated within interval of $interval seconds."" exit 1 fi",42,71
openstack%2Fmistral~master~Ica51b3b36f3784b4b04731406b6bf8320d5de4b8,openstack/mistral,master,Ica51b3b36f3784b4b04731406b6bf8320d5de4b8,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 14:46:28.000000000,2019-11-18 06:36:57.000000000,2019-11-18 06:34:27.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 14:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0c8f84b96a6bfd523d4743c599658856fb5306d9', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nMistral is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ica51b3b36f3784b4b04731406b6bf8320d5de4b8\n'}, {'number': 2, 'created': '2019-11-16 14:08:08.000000000', 'files': ['releasenotes/notes/drop-py-2-7-d6ce46d3dc571c01.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini', 'playbooks/legacy/mistral-ha/run.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/fa2042a8213a07c21dcec500e5a290996346afd0', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nMistral is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ica51b3b36f3784b4b04731406b6bf8320d5de4b8\n'}]",0,694556,fa2042a8213a07c21dcec500e5a290996346afd0,10,3,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Mistral is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ica51b3b36f3784b4b04731406b6bf8320d5de4b8
",git fetch https://review.opendev.org/openstack/mistral refs/changes/56/694556/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-d6ce46d3dc571c01.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini', 'playbooks/legacy/mistral-ha/run.yaml']",5,0c8f84b96a6bfd523d4743c599658856fb5306d9,drop-py27-support, export DEVSTACK_GATE_USE_PYTHON3=1,,12,7
openstack%2Fwatcher-dashboard~master~I421c88c7c5d2b494443986607e9ddfb87c02bc72,openstack/watcher-dashboard,master,I421c88c7c5d2b494443986607e9ddfb87c02bc72,tox: Keeping going with docs and cleanup setup.cfg,MERGED,2019-10-24 00:50:37.000000000,2019-11-18 06:36:52.000000000,2019-11-18 06:35:35.000000000,"[{'_account_id': 17130}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 00:50:37.000000000', 'files': ['doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/e5535b47c2ec9c68f7b3842e97286500df2d01a4', 'message': ""tox: Keeping going with docs and cleanup setup.cfg\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. pbr hasn't need the hook configuration since forever [2]\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://opendev.org/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n\nChange-Id: I421c88c7c5d2b494443986607e9ddfb87c02bc72\n""}]",0,690774,e5535b47c2ec9c68f7b3842e97286500df2d01a4,11,5,1,28614,,,0,"tox: Keeping going with docs and cleanup setup.cfg

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

2. pbr hasn't need the hook configuration since forever [2]

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045
[2] https://opendev.org/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2

Change-Id: I421c88c7c5d2b494443986607e9ddfb87c02bc72
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/74/690774/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg', 'tox.ini']",3,e5535b47c2ec9c68f7b3842e97286500df2d01a4,,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdf,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html sphinx-build -W -b latex doc/source doc/build/pdf,4,8
openstack%2Fdevstack~master~I8aca204689629e7726b0769d60ab2adcd8b9c06d,openstack/devstack,master,I8aca204689629e7726b0769d60ab2adcd8b9c06d,[dnm] testing openstacksdk functional,ABANDONED,2019-11-07 04:12:50.000000000,2019-11-18 06:36:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-07 04:12:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/81e2ecd5085b40b3fcfc16e1453766a41550da64', 'message': '[dnm] testing openstacksdk functional\n\nChange-Id: I8aca204689629e7726b0769d60ab2adcd8b9c06d\nDepends-On: https://review.opendev.org/693285\n'}]",0,693287,81e2ecd5085b40b3fcfc16e1453766a41550da64,3,1,1,7118,,,0,"[dnm] testing openstacksdk functional

Change-Id: I8aca204689629e7726b0769d60ab2adcd8b9c06d
Depends-On: https://review.opendev.org/693285
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/693287/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,81e2ecd5085b40b3fcfc16e1453766a41550da64,openstacksdk-failure, - openstacksdk-functional-devstack - openstacksdk-functional-devstack," templates: - integrated-gate - integrated-gate-py3 - publish-openstack-docs-pti - devstack - devstack-xenial - devstack-ipv6 - devstack-platform-centos-7 - devstack-platform-opensuse-15 - devstack-platform-fedora-latest - devstack-platform-xenial - devstack-multinode - devstack-multinode-xenial - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false - swift-dsvm-functional: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-tempest-linuxbridge: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - devstack - devstack-xenial - devstack-ipv6 - devstack-multinode - devstack-multinode-xenial - devstack-unit-tests - openstack-tox-bashate - neutron-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-tempest-linuxbridge: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ # Please add a note on each job and conditions for the job not # being experimental any more, so we can keep this list somewhat # pruned. # # * nova-next: maintained by nova for unreleased/undefaulted # things # * neutron-fullstack-with-uwsgi: maintained by neutron for fullstack test # when neutron-api is served by uwsgi, it's in exprimental for testing. # the next cycle we can remove this job if things turn out to be # stable enough. # * neutron-functional-with-uwsgi: maintained by neutron for functional # test. Next cycle we can remove this one if things turn out to be # stable engouh with uwsgi. # * neutron-tempest-with-uwsgi: maintained by neutron for tempest test. # Next cycle we can remove this if everything run out stable enough. # * nova-multi-cell: maintained by nova and currently non-voting in the # check queue for nova changes but relies on devstack configuration ",2,92
openstack%2Fkolla-ansible~master~I3dddb5611959b5d2e9fbadd5945d55d0dbb88089,openstack/kolla-ansible,master,I3dddb5611959b5d2e9fbadd5945d55d0dbb88089,[Animbus]fix: Extend the counts of subproject by Kolla-Ansible,ABANDONED,2019-11-18 05:38:31.000000000,2019-11-18 06:13:39.000000000,,[],"[{'number': 1, 'created': '2019-11-18 05:38:31.000000000', 'files': ['ansible/roles/horizon/templates/local_settings.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b67167df61ac2c74cc5d28900035dbc05f0d3bc5', 'message': '[Animbus]fix: Extend the counts of subproject by Kolla-Ansible\n\nRefer to review 11598\nModify deploing configuration\n\nIssue: 41652\nChange-Id: I3dddb5611959b5d2e9fbadd5945d55d0dbb88089\n'}]",0,694714,b67167df61ac2c74cc5d28900035dbc05f0d3bc5,2,0,1,30728,,,0,"[Animbus]fix: Extend the counts of subproject by Kolla-Ansible

Refer to review 11598
Modify deploing configuration

Issue: 41652
Change-Id: I3dddb5611959b5d2e9fbadd5945d55d0dbb88089
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/694714/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/horizon/templates/local_settings.j2'],1,b67167df61ac2c74cc5d28900035dbc05f0d3bc5,,DROPDOWN_MAX_ITEMS = 100,DROPDOWN_MAX_ITEMS = 30,1,1
openstack%2Fstorlets~master~If671a4f73d8a0279f8ef18938380e3d67ab23add,openstack/storlets,master,If671a4f73d8a0279f8ef18938380e3d67ab23add,Use binary I/O mode instead of str/unicode,ABANDONED,2019-09-05 12:45:58.000000000,2019-11-18 05:21:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-05 12:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2a4a6d758ce2e8d6405f01adcaa72efd7191e06a', 'message': 'Py3: Pass binary file for put_object\n\nChange-Id: If671a4f73d8a0279f8ef18938380e3d67ab23add\n'}, {'number': 2, 'created': '2019-09-05 13:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0e7a63fc5cd29c292c5f983a0a606d82016ad7e0', 'message': 'Py3: Pass binary file for put_object\n\nChange-Id: If671a4f73d8a0279f8ef18938380e3d67ab23add\n'}, {'number': 3, 'created': '2019-09-08 02:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/edb59fccc837e2f8a3a26b0a14a3f89e76f1f85d', 'message': 'Py3: Pass binary file for put_object\n\nChange-Id: If671a4f73d8a0279f8ef18938380e3d67ab23add\n'}, {'number': 4, 'created': '2019-09-14 08:10:04.000000000', 'files': ['storlets/gateway/gateways/docker/gateway.py', 'storlets/tools/utils.py', 'storlets/gateway/gateways/docker/runtime.py', 'tests/functional/java/test_SLO.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/6a7f57d90cbcba20efa66cab816cdea3a8fd4d67', 'message': 'Use binary I/O mode instead of str/unicode\n\nChange-Id: If671a4f73d8a0279f8ef18938380e3d67ab23add\n'}]",0,680398,6a7f57d90cbcba20efa66cab816cdea3a8fd4d67,9,2,4,9816,,,0,"Use binary I/O mode instead of str/unicode

Change-Id: If671a4f73d8a0279f8ef18938380e3d67ab23add
",git fetch https://review.opendev.org/openstack/storlets refs/changes/98/680398/2 && git format-patch -1 --stdout FETCH_HEAD,['storlets/tools/utils.py'],1,2a4a6d758ce2e8d6405f01adcaa72efd7191e06a,py3," with open(os.path.join(local_dir, local_file), 'rb') as f:"," with open(os.path.join(local_dir, local_file), 'r') as f:",1,1
openstack%2Fmistral~master~I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6,openstack/mistral,master,I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6,Refactor action execution reporter,MERGED,2019-11-12 09:48:37.000000000,2019-11-18 04:59:49.000000000,2019-11-18 04:49:27.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-11-12 09:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/221d6336fad7f75f2dfe2c72e1db0f00742de7af', 'message': 'WIP: refactor action execution reporter\n\nChange-Id: I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6\n'}, {'number': 2, 'created': '2019-11-12 10:47:24.000000000', 'files': ['mistral/services/action_execution_reporter.py', 'mistral/services/action_execution_checker.py', 'mistral/executors/executor_server.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0e758e16e1abdb2440e28d270457f7329b876708', 'message': ""Refactor action execution reporter\n\n* Moved away from using Oslo periodic tasks in the action execution\n  reporter since in this case they don't make the code more readable.\n  Also, now it is symmetric with other similar components like action\n  execution checker.\n* Refactored action execution checker w/o using classes since having\n  many instances of it doesn't make sense.\n* Small style changes\n\nChange-Id: I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6\n""}]",2,693796,0e758e16e1abdb2440e28d270457f7329b876708,12,9,2,8731,,,0,"Refactor action execution reporter

* Moved away from using Oslo periodic tasks in the action execution
  reporter since in this case they don't make the code more readable.
  Also, now it is symmetric with other similar components like action
  execution checker.
* Refactored action execution checker w/o using classes since having
  many instances of it doesn't make sense.
* Small style changes

Change-Id: I9a97c40222e8dc4870c9b6a7c5f5e3c14f37bdd6
",git fetch https://review.opendev.org/openstack/mistral refs/changes/96/693796/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/services/action_execution_reporter.py', 'mistral/services/action_execution_checker.py', 'mistral/executors/executor_server.py']",3,221d6336fad7f75f2dfe2c72e1db0f00742de7af,refactor_action_hearbeat_mechanism, action_execution_reporter.start() action_execution_reporter.stop(), self._reporter = None self._aer = None self._aer = action_execution_reporter.ActionExecutionReporter(CONF) self._reporter = action_execution_reporter.setup(self._aer) if self._reporter: self._reporter.stop(graceful),80,60
openstack%2Fmistral~master~I4d027fb28f95c3aa0803f7b5a011f835ec7d615a,openstack/mistral,master,I4d027fb28f95c3aa0803f7b5a011f835ec7d615a,Stop testing python2.7,ABANDONED,2019-10-28 05:47:23.000000000,2019-11-18 04:37:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-10-28 05:47:23.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/e8fd91ec865e5d24d7f447115c99ebed3faf5c28', 'message': 'Stop testing python2.7\n\nChange-Id: I4d027fb28f95c3aa0803f7b5a011f835ec7d615a\n'}]",0,691585,e8fd91ec865e5d24d7f447115c99ebed3faf5c28,5,3,1,30384,,,0,"Stop testing python2.7

Change-Id: I4d027fb28f95c3aa0803f7b5a011f835ec7d615a
",git fetch https://review.opendev.org/openstack/mistral refs/changes/85/691585/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,e8fd91ec865e5d24d7f447115c99ebed3faf5c28,,"envlist = py37,pep8","envlist = py27,py37,pep8",1,3
openstack%2Fironic-python-agent~master~If9b0da28cd2479e996f4d4d6f838049806981330,openstack/ironic-python-agent,master,If9b0da28cd2479e996f4d4d6f838049806981330,Make network-wait-timeout configurable.,ABANDONED,2019-11-14 02:07:23.000000000,2019-11-18 02:29:30.000000000,,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 29139}, {'_account_id': 29147}]","[{'number': 1, 'created': '2019-11-14 02:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/206511d0abe0ec43fd95d93a657dd323051dd168', 'message': ""Make network-wait-timeout configurable.\n\nFor some baremetal servers, it takes more than 90 seconds\nto obtain ipaddress with dhcp-interface service. it's better\nto make the network-wait-timeout configurable.\n\nChange-Id: If9b0da28cd2479e996f4d4d6f838049806981330\n""}, {'number': 2, 'created': '2019-11-14 05:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/65f1a12b4ec990e6486786604fc2d2c4612f45c4', 'message': ""Make network-wait-timeout configurable.\n\nFor some baremetal servers, it takes more than 90 seconds\nto obtain ipaddress with dhcp-interface service. it's better\nto make the network-wait-timeout configurable.\n\nChange-Id: If9b0da28cd2479e996f4d4d6f838049806981330\n""}, {'number': 3, 'created': '2019-11-14 07:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f85ba20c4bf46675fd0e61e19a162460982d884d', 'message': ""Make network-wait-timeout configurable.\n\nFor some baremetal servers, it takes more than 90 seconds\nto obtain ipaddress with dhcp-interface service. it's better\nto make the network-wait-timeout configurable.\n\nChange-Id: If9b0da28cd2479e996f4d4d6f838049806981330\n""}, {'number': 4, 'created': '2019-11-15 00:58:26.000000000', 'files': ['releasenotes/notes/configurable-network-timeout-b1d30720d9d913d7.yaml', 'ironic_python_agent/config.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/99e1edec1d28d61b3c29a7474cef50d717439c31', 'message': ""Make network-wait-timeout configurable.\n\nFor some baremetal servers, it takes more than 90 seconds\nto obtain ipaddress with dhcp-interface service. it's better\nto make the network-wait-timeout configurable.\n\nChange-Id: If9b0da28cd2479e996f4d4d6f838049806981330\n""}]",14,694187,99e1edec1d28d61b3c29a7474cef50d717439c31,23,7,4,29147,,,0,"Make network-wait-timeout configurable.

For some baremetal servers, it takes more than 90 seconds
to obtain ipaddress with dhcp-interface service. it's better
to make the network-wait-timeout configurable.

Change-Id: If9b0da28cd2479e996f4d4d6f838049806981330
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/87/694187/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/config.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_agent.py']",3,206511d0abe0ec43fd95d93a657dd323051dd168,,from ironic_python_agent import config expected_sleep_calls = [mock.call(config.NETWORK_WAIT_RETRY)] * 2, expected_sleep_calls = [mock.call(agent.NETWORK_WAIT_RETRY)] * 2,33,10
openstack%2Frequirements~master~Iafa7fc5be697f3786094c69343e26abb8671cc18,openstack/requirements,master,Iafa7fc5be697f3786094c69343e26abb8671cc18,Updated from generate-constraints,MERGED,2019-11-11 06:23:46.000000000,2019-11-18 01:24:46.000000000,2019-11-18 01:23:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-11 06:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bc82d85824547aa3ec85354cbe148250818c3fc3', 'message': 'Updated from generate-constraints\n\nChange-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18\n'}, {'number': 2, 'created': '2019-11-13 06:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9a15cdeb4e6ddcc797d4868b0fc9cc90a17c9fc7', 'message': 'Updated from generate-constraints\n\nChange-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18\n'}, {'number': 3, 'created': '2019-11-14 06:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/87fdf85c80eb126bf8105d0a692ee02ee5314185', 'message': 'Updated from generate-constraints\n\nChange-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18\n'}, {'number': 4, 'created': '2019-11-15 06:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/06d16f14131d660d05db6c86bff32a793c3b7bf8', 'message': 'Updated from generate-constraints\n\nChange-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18\n'}, {'number': 5, 'created': '2019-11-16 06:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fa4ae18a7e13d5ca6eb0fdc1437763dd0f2d5048', 'message': 'Updated from generate-constraints\n\nChange-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18\n'}, {'number': 6, 'created': '2019-11-17 06:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7d53c79fbe458c287ec0a82036a6ce379033784a', 'message': 'Updated from generate-constraints\n\nChange-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18\n'}, {'number': 7, 'created': '2019-11-17 18:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ca632fa9d37c7ae11cf187903db64a33d1dc9ffc', 'message': 'Updated from generate-constraints\n\nChange-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18\n'}, {'number': 8, 'created': '2019-11-17 20:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d1fdc51f309276b77b8625c5a5c0e738d8537233', 'message': 'Updated from generate-constraints\n\nChange-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18\n'}, {'number': 9, 'created': '2019-11-17 22:10:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fc12b9da7985936b03686de43985389a22c65cd7', 'message': 'Updated from generate-constraints\n\nChange-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18\n'}]",0,693653,fc12b9da7985936b03686de43985389a22c65cd7,24,2,9,11131,,,0,"Updated from generate-constraints

Change-Id: Iafa7fc5be697f3786094c69343e26abb8671cc18
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/693653/9 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bc82d85824547aa3ec85354cbe148250818c3fc3,openstack/requirements/constraints/noclob,networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'pycryptodomex===3.9.2amqp===2.5.2tinyrpc===1.0.4boto3===1.10.14numpy===1.17.4;python_version=='3.4' numpy===1.17.4;python_version=='3.5' numpy===1.17.4;python_version=='3.6' numpy===1.17.4;python_version=='3.7'pyparsing===2.4.5botocore===1.13.14kombu===4.6.6,networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'pycryptodomex===3.9.1amqp===2.5.1tinyrpc===1.0.3boto3===1.10.8numpy===1.17.3;python_version=='3.4' numpy===1.17.3;python_version=='3.5' numpy===1.17.3;python_version=='3.6' numpy===1.17.3;python_version=='3.7'pyparsing===2.4.4botocore===1.13.8kombu===4.6.5,15,15
openstack%2Fmasakari~master~I7be60b8873488927e367bb732a6711c3c2fe49f8,openstack/masakari,master,I7be60b8873488927e367bb732a6711c3c2fe49f8,Cap sphinx for py2 to match global requirements,ABANDONED,2019-05-17 10:09:47.000000000,2019-11-18 01:12:27.000000000,,"[{'_account_id': 8556}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24628}, {'_account_id': 25267}, {'_account_id': 25553}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 28935}, {'_account_id': 30356}, {'_account_id': 30395}]","[{'number': 1, 'created': '2019-05-17 10:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/01a1c3272d9c7d680cdbc7c693008bdbc3755b94', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I7be60b8873488927e367bb732a6711c3c2fe49f8\n'}, {'number': 2, 'created': '2019-05-23 11:14:45.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/masakari/commit/42bda12669c96ba13998f3bf9886fa028a89cc9d', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I7be60b8873488927e367bb732a6711c3c2fe49f8\n'}]",1,659770,42bda12669c96ba13998f3bf9886fa028a89cc9d,15,13,2,30395,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I7be60b8873488927e367bb732a6711c3c2fe49f8
",git fetch https://review.opendev.org/openstack/masakari refs/changes/70/659770/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,01a1c3272d9c7d680cdbc7c693008bdbc3755b94,659770,"sphinx!=1.6.6,!=1.6.7,>=1.6.3,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.3;python_version>='3.4' #BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Ftripleo-heat-templates~master~I9640529455e1d14c98c3b53993a71d77de8d7a25,openstack/tripleo-heat-templates,master,I9640529455e1d14c98c3b53993a71d77de8d7a25,ovn-db standalone: Create ovndbs before starting the OVN ovsdb servers,MERGED,2019-11-15 14:13:43.000000000,2019-11-17 22:23:50.000000000,2019-11-17 22:23:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10237}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-15 14:13:43.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8ecbecb6a36c1222a5ff4459ceaa6e7e3b9a680', 'message': 'ovn-db standalone: Create ovndbs before starting the OVN ovsdb servers\n\nThe kolla commit [1] deleted the extend_start script for ovn-nb-db-server/ovn-sb-db-server\nkolla images. This script created the ovn dbs from the schema. After this commit\ntripleo CI is broken as the ovn dbs are not present.\n\nTo fix this issue, this patch first creates OVN dbs before starting the OVN ovsdb-servers.\n\n[1] -  I31a372d801dace92950cd85b29b308431f78bbdb\nCloses-bug: #1852682\nChange-Id: I9640529455e1d14c98c3b53993a71d77de8d7a25\nSigned-off-by: Numan Siddique <nusiddiq@redhat.com>\n'}]",3,694543,e8ecbecb6a36c1222a5ff4459ceaa6e7e3b9a680,16,9,1,10237,,,0,"ovn-db standalone: Create ovndbs before starting the OVN ovsdb servers

The kolla commit [1] deleted the extend_start script for ovn-nb-db-server/ovn-sb-db-server
kolla images. This script created the ovn dbs from the schema. After this commit
tripleo CI is broken as the ovn dbs are not present.

To fix this issue, this patch first creates OVN dbs before starting the OVN ovsdb-servers.

[1] -  I31a372d801dace92950cd85b29b308431f78bbdb
Closes-bug: #1852682
Change-Id: I9640529455e1d14c98c3b53993a71d77de8d7a25
Signed-off-by: Numan Siddique <nusiddiq@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/694543/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,e8ecbecb6a36c1222a5ff4459ceaa6e7e3b9a680,bz1852682," step_3: ovn_north_db_init: image: &northd_db_image {get_param: ContainerOvnNbDbImage} net: host privileged: false detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_north_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z command: ""ovsdb-tool create /var/lib/openvswitch/ovnnb.db /usr/share/openvswitch/ovn-nb.ovsschema"" ovn_south_db_init: image: &south_db_image {get_param: ContainerOvnSbDbImage} net: host privileged: false detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_north_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z command: ""ovsdb-tool create /var/lib/openvswitch/ovnsb.db /usr/share/openvswitch/ovn-sb.ovsschema"" image: *northd_db_image image: *south_db_image", image: {get_param: ContainerOvnNbDbImage} image: {get_param: ContainerOvnSbDbImage},35,2
openstack%2Frequirements~stable%2Ftrain~I4c858e0790a842c36f9a92edd7ac658220af9ca4,openstack/requirements,stable/train,I4c858e0790a842c36f9a92edd7ac658220af9ca4,update constraint for mistral-lib to new release 1.2.1,MERGED,2019-11-12 11:40:28.000000000,2019-11-17 22:06:21.000000000,2019-11-17 22:06:21.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 11:40:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0e22fcb6e7c4654caaa362be544a70e60b8907f7', 'message': 'update constraint for mistral-lib to new release 1.2.1\n\nChange-Id: I4c858e0790a842c36f9a92edd7ac658220af9ca4\nmeta:version: 1.2.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dougal Matthews <dougal@redhat.com>\nmeta:release:Commit: Dougal Matthews <dougal@redhat.com>\nmeta:release:Change-Id: Iea7280546122199e4ebc603be473b470f2d817fe\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,693819,0e22fcb6e7c4654caaa362be544a70e60b8907f7,17,3,1,11131,,,0,"update constraint for mistral-lib to new release 1.2.1

Change-Id: I4c858e0790a842c36f9a92edd7ac658220af9ca4
meta:version: 1.2.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dougal Matthews <dougal@redhat.com>
meta:release:Commit: Dougal Matthews <dougal@redhat.com>
meta:release:Change-Id: Iea7280546122199e4ebc603be473b470f2d817fe
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/693819/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0e22fcb6e7c4654caaa362be544a70e60b8907f7,new-release,mistral-lib===1.2.1,mistral-lib===1.2.0,1,1
openstack%2Frequirements~stable%2Fstein~Iab126ed08031569089371d5b3a132f3aa37ec657,openstack/requirements,stable/stein,Iab126ed08031569089371d5b3a132f3aa37ec657,update constraint for mistral-lib to new release 1.1.1,MERGED,2019-11-12 11:40:34.000000000,2019-11-17 22:04:31.000000000,2019-11-17 22:04:31.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 11:40:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/645f554c805a8625fba0f06447659753c1159e0e', 'message': 'update constraint for mistral-lib to new release 1.1.1\n\nChange-Id: Iab126ed08031569089371d5b3a132f3aa37ec657\nmeta:version: 1.1.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dougal Matthews <dougal@redhat.com>\nmeta:release:Commit: Dougal Matthews <dougal@redhat.com>\nmeta:release:Change-Id: Ic48f6ef8421ddae8aa53d550e67d746187d961e8\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,693820,645f554c805a8625fba0f06447659753c1159e0e,17,3,1,11131,,,0,"update constraint for mistral-lib to new release 1.1.1

Change-Id: Iab126ed08031569089371d5b3a132f3aa37ec657
meta:version: 1.1.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dougal Matthews <dougal@redhat.com>
meta:release:Commit: Dougal Matthews <dougal@redhat.com>
meta:release:Change-Id: Ic48f6ef8421ddae8aa53d550e67d746187d961e8
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/693820/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,645f554c805a8625fba0f06447659753c1159e0e,new-release,mistral-lib===1.1.1,mistral-lib===1.1.0,1,1
openstack%2Frequirements~stable%2Fstein~I1d5984585739736a97cc45663f2973ab31a3b292,openstack/requirements,stable/stein,I1d5984585739736a97cc45663f2973ab31a3b292,update constraint for python-novaclient to new release 13.0.2,MERGED,2019-11-12 11:48:03.000000000,2019-11-17 22:04:30.000000000,2019-11-17 22:04:30.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 11:48:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a5512fbdf779fe51d20bafd0cfd739c330f85ee8', 'message': 'update constraint for python-novaclient to new release 13.0.2\n\nChange-Id: I1d5984585739736a97cc45663f2973ab31a3b292\nmeta:version: 13.0.2\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Change-Id: Ic6e481abd78a1d5633d1da611bac66b0f97ba1fd\nmeta:release:Code-Review+1: Eric Fried <openstack@fried.cc>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,693824,a5512fbdf779fe51d20bafd0cfd739c330f85ee8,18,3,1,11131,,,0,"update constraint for python-novaclient to new release 13.0.2

Change-Id: I1d5984585739736a97cc45663f2973ab31a3b292
meta:version: 13.0.2
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Change-Id: Ic6e481abd78a1d5633d1da611bac66b0f97ba1fd
meta:release:Code-Review+1: Eric Fried <openstack@fried.cc>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/693824/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a5512fbdf779fe51d20bafd0cfd739c330f85ee8,new-release,python-novaclient===13.0.2,python-novaclient===13.0.1,1,1
openstack%2Foctavia~master~I723e025e9bfbfe71e4804de13e5625769827f7cd,openstack/octavia,master,I723e025e9bfbfe71e4804de13e5625769827f7cd,Fix two bugs with in-use flavor deletion,ABANDONED,2019-11-16 08:07:53.000000000,2019-11-17 20:44:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-16 08:07:53.000000000', 'files': ['octavia/db/repositories.py', 'octavia/tests/functional/db/base.py', 'octavia/api/v2/controllers/flavor_profiles.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4d493e4412ffefd85703d08458985bac605dc81f', 'message': 'Fix two bugs with in-use flavor deletion\n\nChange-Id: I723e025e9bfbfe71e4804de13e5625769827f7cd\n'}]",0,694663,4d493e4412ffefd85703d08458985bac605dc81f,3,1,1,10273,,,0,"Fix two bugs with in-use flavor deletion

Change-Id: I723e025e9bfbfe71e4804de13e5625769827f7cd
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/694663/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/repositories.py', 'octavia/tests/functional/db/base.py', 'octavia/api/v2/controllers/flavor_profiles.py']",3,4d493e4412ffefd85703d08458985bac605dc81f,," if flavor_profile_id == constants.NIL_UUID: raise exceptions.NotFound(resource='Flavor profile', id=constants.NIL_UUID)"," if flavor_profile_id == constants.NIL_UUID: raise exceptions.NotFound(resource='Flavor profile', id=constants.NIL_UUID)",5,3
openstack%2Fcinder~master~I5bd185d04dbda673a5882d61aaab7acdd99b74a6,openstack/cinder,master,I5bd185d04dbda673a5882d61aaab7acdd99b74a6,RemoteFS: Use dest vol id instead of source id in snapshot temp name,MERGED,2019-08-19 20:30:29.000000000,2019-11-17 15:30:58.000000000,2019-11-15 23:27:36.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7130}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9816}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16668}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}, {'_account_id': 30843}]","[{'number': 1, 'created': '2019-08-19 20:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6dd4230bcd98857f442771379572f76158f4a76b', 'message': 'Use desination id instead of source id in template temp name\n\nUse desintation id instead of source id in template temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 2, 'created': '2019-08-19 20:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6666dd147cd1b6adcfe0cf680d2f7b11600f5725', 'message': 'Use desination id instead of source id in template temp name\n\nUse desintation id instead of source id in template temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 3, 'created': '2019-08-19 20:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb74f19522318b2c52e2ccc4b403f147bf6501dc', 'message': 'Use desination id instead of source id in template temp name\n\nUse desintation id instead of source id in template temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 4, 'created': '2019-08-19 23:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/732ec74c4afce25dd6b4d82211503e99ef6b42d2', 'message': 'Use desination id instead of source id in template temp name\n\nUse desintation id instead of source id in template temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 5, 'created': '2019-08-19 23:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ddbc82aed58cb3e988fdb09a12ab6f8931246fe', 'message': 'Use desination id instead of source id in template temp name\n\nUse desintation id instead of source id in template temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 6, 'created': '2019-08-20 11:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fed84d67648b72a228233cb139c00c6fd6a7053b', 'message': 'Use desination id instead of source id in template temp name\n\nUse desintation id instead of source id in template temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 7, 'created': '2019-08-20 11:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad0def567975caa92c8b85456665d18ea1bebd4d', 'message': 'Use desination id instead of source id in template temp name\n\nUse desintation id instead of source id in template temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 8, 'created': '2019-08-20 11:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1502bfc8c6b038667b3ab6a49aa2b676291d52e9', 'message': 'Use desination id instead of source id in snapshot temp name\n\nUse desintation id instead of source id in snapshot temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 9, 'created': '2019-08-20 15:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a84d8a13990d11a6dff417e554ff15240bd6cfb9', 'message': 'Use destination id instead of source id in snapshot temp name\n\nUse destintation id instead of source id in snapshot temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 10, 'created': '2019-08-20 15:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31d42307e29f3f666ee581577458fb24c3a56c9a', 'message': 'Use destination id instead of source id in snapshot temp name\n\nUse destintation id instead of source id in snapshot temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 11, 'created': '2019-09-10 11:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31632797b03b9baa7c9ee171c90401a8ea251a95', 'message': 'Use destination id instead of source id in snapshot temp name\n\nUse destintation id instead of source id in snapshot temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nCloses-bug: #1840712\n'}, {'number': 12, 'created': '2019-11-12 19:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21e79f5c4ac7ea0a354cdb7717fa95ccd2575be3', 'message': ""RemoteFS: Use dest vol id instead of source id in snapshot temp name\n\nUse the destination volume id instead of the source volume id\nin the temporary snapshot file name.  This is likely not strictly\nneeded after Change I64e041fe, which ensures that multiple clone\nvolume operations won't run simultaneously from the same source\nvolume, but is still a good idea to ensure that there is less\nthat can go wrong in a failure scenario.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nRelated-Bug: #1851512\nCloses-Bug: #1840712\n""}, {'number': 13, 'created': '2019-11-13 15:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ae579754ab6bfd1c6e34feb5c5ae54b870e0897', 'message': ""RemoteFS: Use dest vol id instead of source id in snapshot temp name\n\nUse the destination volume id instead of the source volume id\nin the temporary snapshot file name.  This is likely not strictly\nneeded after Change I64e041fe, which ensures that multiple clone\nvolume operations won't run simultaneously from the same source\nvolume, but is still a good idea to ensure that there is less\nthat can go wrong in a failure scenario.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nRelated-Bug: #1851512\nCloses-Bug: #1840712\n""}, {'number': 14, 'created': '2019-11-13 15:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/606538120fc673edf9d7b7c670d7aded0117d6e8', 'message': ""RemoteFS: Use dest vol id instead of source id in snapshot temp name\n\nUse the destination volume id instead of the source volume id\nin the temporary snapshot file name.  This is likely not strictly\nneeded after Change I64e041fe, which ensures that multiple clone\nvolume operations won't run simultaneously from the same source\nvolume, but is still a good idea to ensure that there is less\nthat can go wrong in a failure scenario.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nRelated-Bug: #1851512\nCloses-Bug: #1840712\n""}, {'number': 15, 'created': '2019-11-13 17:21:10.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3ed9d436bdac7368068853991e9314fbccc0a00', 'message': ""RemoteFS: Use dest vol id instead of source id in snapshot temp name\n\nUse the destination volume id instead of the source volume id\nin the temporary snapshot file name.  This is likely not strictly\nneeded after Change I64e041fe, which ensures that multiple clone\nvolume operations won't run simultaneously from the same source\nvolume, but is still a good idea to ensure that there is less\nthat can go wrong in a failure scenario.\n\nChange-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6\nRelated-Bug: #1851512\nCloses-Bug: #1840712\n""}]",12,677292,f3ed9d436bdac7368068853991e9314fbccc0a00,234,43,15,7130,,,0,"RemoteFS: Use dest vol id instead of source id in snapshot temp name

Use the destination volume id instead of the source volume id
in the temporary snapshot file name.  This is likely not strictly
needed after Change I64e041fe, which ensures that multiple clone
volume operations won't run simultaneously from the same source
volume, but is still a good idea to ensure that there is less
that can go wrong in a failure scenario.

Change-Id: I5bd185d04dbda673a5882d61aaab7acdd99b74a6
Related-Bug: #1851512
Closes-Bug: #1840712
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/677292/10 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,6dd4230bcd98857f442771379572f76158f4a76b,bug/1840712, id='tmp-snap-%s' % volume.id ," id='tmp-snap-%s' % src_vref.id,",1,1
openstack%2Fsearchlight-ui~master~I8163ff42f8302b1a52de46187c9730dfa73500d5,openstack/searchlight-ui,master,I8163ff42f8302b1a52de46187c9730dfa73500d5,Stop testing Python 2,MERGED,2019-10-28 04:35:19.000000000,2019-11-17 15:28:48.000000000,2019-10-28 06:21:50.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-10-28 04:35:19.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-python-2-7-73d3113c69d724d2.yaml'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/8aed4827ec662a891738cc439d80a3d0fcd155a4', 'message': ""Stop testing Python 2\n\nIt's Ussuri. We can *finally* stop testing Python 2 [1]. Time to party.\nWe don't attempt any cleanup but simply stop testing with Python 2,\nindicate that we only support Python 3 via 'setup.cfg' and remove any\nPython 2 only dependencies.\n\nThis should free up a significant amount of resources from the gate and\nlet us start using Python 3 idioms in our code. Win-win.\n\nDepends-on: Ib027d829e1315ea31b90b39eaed9fb7c4c90f192\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html#python2-deprecation-timeline\n\nChange-Id: I8163ff42f8302b1a52de46187c9730dfa73500d5\n""}]",0,691575,8aed4827ec662a891738cc439d80a3d0fcd155a4,8,2,1,22165,,,0,"Stop testing Python 2

It's Ussuri. We can *finally* stop testing Python 2 [1]. Time to party.
We don't attempt any cleanup but simply stop testing with Python 2,
indicate that we only support Python 3 via 'setup.cfg' and remove any
Python 2 only dependencies.

This should free up a significant amount of resources from the gate and
let us start using Python 3 idioms in our code. Win-win.

Depends-on: Ib027d829e1315ea31b90b39eaed9fb7c4c90f192

[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html#python2-deprecation-timeline

Change-Id: I8163ff42f8302b1a52de46187c9730dfa73500d5
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/75/691575/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-python-2-7-73d3113c69d724d2.yaml']",4,8aed4827ec662a891738cc439d80a3d0fcd155a4,,--- upgrade: - | Python 2.7 support has been dropped. The minimum version of Python now supported by searchlight-ui is Python 3.6. ,,9,13
openstack%2Fqinling~master~I82e9b43ba70313ccf94badccc6d607c3b8920e4e,openstack/qinling,master,I82e9b43ba70313ccf94badccc6d607c3b8920e4e,Stop testing python2.7,MERGED,2019-10-26 10:17:49.000000000,2019-11-17 13:23:31.000000000,2019-10-27 17:18:48.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-26 10:17:49.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/qinling/commit/815ec7764c995f29a8b510d7910c0dfe01b01f4b', 'message': 'Stop testing python2.7\n\nChange-Id: I82e9b43ba70313ccf94badccc6d607c3b8920e4e\n'}]",0,691475,815ec7764c995f29a8b510d7910c0dfe01b01f4b,9,2,1,30092,,,0,"Stop testing python2.7

Change-Id: I82e9b43ba70313ccf94badccc6d607c3b8920e4e
",git fetch https://review.opendev.org/openstack/qinling refs/changes/75/691475/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,815ec7764c995f29a8b510d7910c0dfe01b01f4b,,"envlist = py37,pep8basepython = python3","envlist = py27,py37,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",4,11
openstack%2Fneutron~master~I82b91153e697cd78bf7d7212bb842ea733d0ca66,openstack/neutron,master,I82b91153e697cd78bf7d7212bb842ea733d0ca66,"Remove info about ""ovsdb_interface"" from config description",MERGED,2019-10-30 09:16:03.000000000,2019-11-17 12:58:50.000000000,2019-11-17 12:57:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-30 09:16:03.000000000', 'files': ['neutron/conf/agent/ovsdb_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5537a81fbbc6848aabe6ed9f43a82d421684600e', 'message': 'Remove info about ""ovsdb_interface"" from config description\n\nConfig option ""ovsdb_interface"" was removed from neutron with [1]\nbut some small leftovers were still in description of other config\noptions.\nSo this patch cleans them.\n\nTrivialFix\n\n[1] https://review.opendev.org/#/c/570259/\n\nChange-Id: I82b91153e697cd78bf7d7212bb842ea733d0ca66\n'}]",0,692085,5537a81fbbc6848aabe6ed9f43a82d421684600e,61,9,1,11975,,,0,"Remove info about ""ovsdb_interface"" from config description

Config option ""ovsdb_interface"" was removed from neutron with [1]
but some small leftovers were still in description of other config
options.
So this patch cleans them.

TrivialFix

[1] https://review.opendev.org/#/c/570259/

Change-Id: I82b91153e697cd78bf7d7212bb842ea733d0ca66
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/692085/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/agent/ovsdb_api.py'],1,5537a81fbbc6848aabe6ed9f43a82d421684600e,fix-config-option-description, 'Will be used for all ovsdb commands and ' 'by ovsdb-client when monitoring', 'Will be used by ovsdb-client when monitoring and ' 'used for the all ovsdb commands when native ' 'ovsdb_interface is enabled',2,3
openstack%2Fneutron~master~I5c847a255b4b973add7fce5a38a2594912c491ac,openstack/neutron,master,I5c847a255b4b973add7fce5a38a2594912c491ac,Add profiler decorator to Neutron,MERGED,2019-08-26 00:31:07.000000000,2019-11-17 12:51:55.000000000,2019-11-17 12:49:55.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-08-26 00:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/179166aac73ba0251259744945e2c1c298f81d7a', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile. The profiling data generated can be visualized with\nKCachegrind [0]\n\n[0] https://kcachegrind.github.io/html/Home.html\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 2, 'created': '2019-08-26 00:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74228e153d0769cd428b4f0c6263f050ee09ba03', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile. The profiling data generated can be visualized with\nKCachegrind [0].\n\nThe profiling approach used was adapted from [1].\n\n[0] https://kcachegrind.github.io/html/Home.html\n[1] https://gist.github.com/ionelmc/5735205\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 3, 'created': '2019-09-09 15:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6688c8b9d27d5b2bb2f53fcd82442f46a625e4a', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile. The profiling data generated can be visualized with\nKCachegrind [0].\n\nThe profiling approach used was adapted from [1].\n\n[0] https://kcachegrind.github.io/html/Home.html\n[1] https://github.com/django-extensions/django-extensions/blob/8bc17b395b24a2b733d8035c270ae0c97e4909e4/django_extensions/management/commands/runprofileserver.py\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 4, 'created': '2019-09-22 00:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eef9e0d74878899c4e82908b72d30acdf1170b00', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile. The profiling data generated can be visualized with\nKCachegrind [0].\n\nThe profiling approach used was adapted from [1].\n\n[0] https://kcachegrind.github.io/html/Home.html\n[1] https://github.com/django-extensions/django-extensions/blob/8bc17b395b24a2b733d8035c270ae0c97e4909e4/django_extensions/management/commands/runprofileserver.py\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 5, 'created': '2019-09-22 03:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33edb78e0919937e351feb08ee46c159c41cb0ce', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile. The profiling data generated can be visualized with\nKCachegrind [0].\n\nThe profiling approach used was adapted from [1].\n\n[0] https://kcachegrind.github.io/html/Home.html\n[1] https://github.com/django-extensions/django-extensions/blob/8bc17b395b24a2b733d8035c270ae0c97e4909e4/django_extensions/management/commands/runprofileserver.py\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 6, 'created': '2019-09-22 03:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dba59f27cd29a0247e7ede63eecd943cd16ff61e', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile. The profiling data generated can be visualized with\nKCachegrind [0].\n\nThe profiling approach used was adapted from [1].\n\n[0] https://kcachegrind.github.io/html/Home.html\n[1] https://github.com/django-extensions/django-extensions/blob/8bc17b395b24a2b733d8035c270ae0c97e4909e4/django_extensions/management/commands/runprofileserver.py\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 7, 'created': '2019-09-22 14:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3eac71a53fc7a9c46c321ed8ba1b27868d20730', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile. The profiling data generated can be visualized with\nKCachegrind [0].\n\nThe profiling approach used was adapted from [1].\n\n[0] https://kcachegrind.github.io/html/Home.html\n[1] https://github.com/django-extensions/django-extensions/blob/8bc17b395b24a2b733d8035c270ae0c97e4909e4/django_extensions/management/commands/runprofileserver.py\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 8, 'created': '2019-09-22 22:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e30bd534e661630636829fbe127d3d6f00b2e1b2', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 9, 'created': '2019-09-22 22:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7aaa28609da692d675da95594fd5d67971990703', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 10, 'created': '2019-09-22 23:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a0c486543087096410113e0252d03122ae160e9', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 11, 'created': '2019-09-23 00:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/034c300c0407bd7f8b4ba8d72854da3ebd01e831', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 12, 'created': '2019-09-23 00:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff03c996bcbaa9a7b0ec6e7d052a8296934a2e64', 'message': 'PoC: Add profiler decorator to Neutron\n\nThis patch proposes a decorator that can be used to profile code with\ncProfile.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 13, 'created': '2019-10-06 00:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5166f247901e9ece76b71cc9b109196f9bcedbeb', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base controller for the\nindex, show, create, delete and update operations. The rpc_loop method\nof the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 14, 'created': '2019-10-06 17:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1ce93c00130e1454939266b9a4894ecda32a9a8', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base and Pecan controllers\nfor the index, show, create, delete and update operations. The rpc_loop\nmethod of the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 15, 'created': '2019-10-20 00:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61a4370a97434a33e328fb3c1c737f85e6fcaf71', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base and Pecan controllers\nfor the index, show, create, delete and update operations. The rpc_loop\nmethod of the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 16, 'created': '2019-10-20 21:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30591a780f3a2437a1f14cdc765f43ed54ed8fe8', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base and Pecan controllers\nfor the index, show, create, delete and update operations. The rpc_loop\nmethod of the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 17, 'created': '2019-10-21 15:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72f42825a5e4965d6036402a6475beccfe8cd3a3', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base and Pecan controllers\nfor the index, show, create, delete and update operations. The rpc_loop\nmethod of the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 18, 'created': '2019-10-21 19:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f765332fddb15ed25421c28503bf6ad58bf5dd28', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base and Pecan controllers\nfor the index, show, create, delete and update operations. The rpc_loop\nmethod of the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 19, 'created': '2019-10-26 22:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdd81e20a48340053fc86d3b03a59882d8de6903', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base and Pecan controllers\nfor the index, show, create, delete and update operations. The rpc_loop\nmethod of the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 20, 'created': '2019-10-27 16:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa89eb1a8550224e4f5f3c73dd9745fbd47fe879', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base and Pecan controllers\nfor the index, show, create, delete and update operations. The rpc_loop\nmethod of the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 21, 'created': '2019-10-27 21:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cabec7bf67511002ffcb9eaf4cf53b332ff0623', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base and Pecan controllers\nfor the index, show, create, delete and update operations. The rpc_loop\nmethod of the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}, {'number': 22, 'created': '2019-10-31 15:05:23.000000000', 'files': ['neutron/profiling/__init__.py', 'neutron/profiling/profiled_decorator.py', 'doc/source/contributor/internals/code_profiling.rst', '.zuul.yaml', 'neutron/common/utils.py', 'neutron/conf/profiling.py', 'doc/source/contributor/internals/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb3302207ff83b189f607570fe1c39cd370da0ad', 'message': 'Add profiler decorator to Neutron\n\nThis patch proposes a decorator to be used to profile code with\ncProfile. Config options are added to control whether the code is\nprofiled or not. The default is no profiling performed.\n\nThe decorator is then used in the Neutron API base and Pecan controllers\nfor the index, show, create, delete and update operations. The rpc_loop\nmethod of the OVS agent is also decorated.\n\nFinally, profiling is enabled for neutron-rally-task.\n\nChange-Id: I5c847a255b4b973add7fce5a38a2594912c491ac\n'}]",14,678438,eb3302207ff83b189f607570fe1c39cd370da0ad,170,14,22,4694,,,0,"Add profiler decorator to Neutron

This patch proposes a decorator to be used to profile code with
cProfile. Config options are added to control whether the code is
profiled or not. The default is no profiling performed.

The decorator is then used in the Neutron API base and Pecan controllers
for the index, show, create, delete and update operations. The rpc_loop
method of the OVS agent is also decorated.

Finally, profiling is enabled for neutron-rally-task.

Change-Id: I5c847a255b4b973add7fce5a38a2594912c491ac
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/678438/22 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/profiling/__init__.py', 'neutron/profiling/profiled_decorator.py', 'neutron/plugins/ml2/plugin.py']",3,179166aac73ba0251259744945e2c1c298f81d7a,call-tree,from neutron.profiling import profiled_decorator @profiled_decorator.profile @profiled_decorator.profile,,129,0
openstack%2Fkolla-ansible~master~I580517d5b95dcaa34841def70ec6f57a5cbe0229,openstack/kolla-ansible,master,I580517d5b95dcaa34841def70ec6f57a5cbe0229,Adjust the order of src and dest for template module,MERGED,2019-11-16 15:24:36.000000000,2019-11-17 10:44:00.000000000,2019-11-17 10:42:50.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-16 15:24:36.000000000', 'files': ['ansible/roles/module-load/tasks/main.yaml', 'ansible/roles/module-load/templates/module-load.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/052bc86e34ee7d5e30ed4eaccf6c7f98a63d1119', 'message': 'Adjust the order of src and dest for template module\n\n1. Adjust the order of src and dest for template module\n2. Remove the double quotes from task\'s name to keep consistence with\nthe others.\n3. Add a space after ""|""\n\nChange-Id: I580517d5b95dcaa34841def70ec6f57a5cbe0229\n'}]",0,694667,052bc86e34ee7d5e30ed4eaccf6c7f98a63d1119,7,2,1,22165,,,0,"Adjust the order of src and dest for template module

1. Adjust the order of src and dest for template module
2. Remove the double quotes from task's name to keep consistence with
the others.
3. Add a space after ""|""

Change-Id: I580517d5b95dcaa34841def70ec6f57a5cbe0229
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/694667/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/module-load/tasks/main.yaml', 'ansible/roles/module-load/templates/module-load.conf.j2']",2,052bc86e34ee7d5e30ed4eaccf6c7f98a63d1119,,{{ item.name }} {{ item.params | default('') }},{{ item.name }} {{ item.params |default('') }},6,6
openstack%2Fopenstack-helm-infra~master~I25edc58fc951e7f81f7275ade6cf9c97e0afae02,openstack/openstack-helm-infra,master,I25edc58fc951e7f81f7275ade6cf9c97e0afae02,Add zookeeper chart to osh-infra,MERGED,2019-09-13 16:21:02.000000000,2019-11-17 08:46:38.000000000,2019-11-17 08:45:01.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28543}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-09-13 16:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e6bf27f9aec7428c0e61c4dfdd8e0394fcfb5ff7', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 2, 'created': '2019-09-13 16:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0a633b05e49ea29792f3020376196ec6fa873c6', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 3, 'created': '2019-09-17 13:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1914c3ebdb26ec9dac57f0cc8cdc7d47e565df18', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 4, 'created': '2019-09-17 13:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b851516ca69dcf5c874274b3ee0839c765a1d0a', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 5, 'created': '2019-09-18 02:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f1b951987b4662925ca0d82f4e73c28c332b49a6', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 6, 'created': '2019-09-18 20:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/39f103215d1c30f928bfc1ff43fb6db814ccb748', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 7, 'created': '2019-09-19 19:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab8d3dccafb523c72b906ad4114a44db7d76be5d', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 8, 'created': '2019-09-25 15:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eca102c9c9376dfdf055d575953cbb048be1b28c', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 9, 'created': '2019-09-25 17:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30d8cd4e146ff440c09c3ba05eeea07d3c92d7fb', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 10, 'created': '2019-09-25 20:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/12f8beca669b8547ce6c61e99a3f37fd27861905', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 11, 'created': '2019-10-21 15:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/28dfcb3cb4aff4cd576803394d3ed8fd90f275b9', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 12, 'created': '2019-10-24 18:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f307e40c1d753cdbdfbb4f3d19bc14a10ced2a47', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 13, 'created': '2019-10-25 14:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4960e86bcf88ffe436f3a2018b671f33e6ab957c', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 14, 'created': '2019-10-25 18:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1138c947b0061162cafadd6503aff07cc214a488', 'message': 'DNM/WIP: Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 15, 'created': '2019-10-25 18:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e443e1481b63813cca0d29bdebe7631a8b102608', 'message': 'Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 16, 'created': '2019-10-25 19:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/053479b4ee2a87c8a80c98d7e01feba1cce2ed06', 'message': 'Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 17, 'created': '2019-10-25 19:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0008bc5c6d7772b1da16a352b230209432363663', 'message': 'Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 18, 'created': '2019-10-28 17:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e5cd146c9941e04a1315b9e0a0d609c21ccb797', 'message': 'Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 19, 'created': '2019-10-31 19:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a60142abcb0dc50f111109909a9202ff656e23a0', 'message': 'Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 20, 'created': '2019-11-11 07:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0f4bceecc9d54185971d08e33fa7de7a81f595b', 'message': 'Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}, {'number': 21, 'created': '2019-11-14 19:51:20.000000000', 'files': ['zookeeper/templates/bin/_zookeeper.sh.tpl', 'tools/deployment/multinode/160-zookeeper.sh', 'zookeeper/templates/service-ingress-zookeeper.yaml', 'zookeeper/templates/job-image-repo-sync.yaml', 'zookeeper/templates/service.yaml', 'zookeeper/requirements.yaml', 'zookeeper/templates/service-discovery.yaml', 'zookeeper/templates/network_policy.yaml', 'zookeeper/templates/ingress-zookeeper.yaml', 'zookeeper/templates/configmap-bin.yaml', 'zookeeper/templates/bin/_generate-myid.sh.tpl', 'zookeeper/templates/secret-zookeeper.yaml', 'zookeeper/templates/statefulset.yaml', 'tools/deployment/common/zookeeper.sh', 'zookeeper/Chart.yaml', 'zookeeper/templates/bin/_zookeeper-probe.sh.tpl', 'zuul.d/project.yaml', 'zookeeper/values.yaml', 'zookeeper/templates/secret-ingress-tls.yaml', 'zuul.d/jobs.yaml', 'zookeeper/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/608d75ec8db678cb69b7fad6f66b17a37442cb41', 'message': 'Add zookeeper chart to osh-infra\n\nThis proposes adding a zookeeper chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\nCo-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>\n'}]",1,682104,608d75ec8db678cb69b7fad6f66b17a37442cb41,61,6,21,17591,,,0,"Add zookeeper chart to osh-infra

This proposes adding a zookeeper chart to osh-infra that aligns
with the design patterns laid out by the other charts in osh-infra
and osh.

Change-Id: I25edc58fc951e7f81f7275ade6cf9c97e0afae02
Signed-off-by: Steve Wilkerson <sw5822@att.com>
Co-Authored-By: Steven Fitzpatrick <steven.fitzpatrick@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/04/682104/16 && git format-patch -1 --stdout FETCH_HEAD,"['zookeeper/templates/bin/_zookeeper.sh.tpl', 'tools/deployment/multinode/160-zookeeper.sh', 'zookeeper/templates/service-ingress-zookeeper.yaml', 'zookeeper/templates/job-image-repo-sync.yaml', 'zookeeper/templates/service.yaml', 'zookeeper/requirements.yaml', 'zookeeper/templates/service-discovery.yaml', 'zookeeper/templates/network_policy.yaml', 'zookeeper/templates/ingress-zookeeper.yaml', 'zookeeper/templates/configmap-bin.yaml', 'zookeeper/templates/bin/_generate-myid.sh.tpl', 'zookeeper/templates/secret-zookeeper.yaml', 'zookeeper/templates/statefulset.yaml', 'zookeeper/Chart.yaml', 'zookeeper/templates/bin/_zookeeper-probe.sh.tpl', 'zuul.d/project.yaml', 'zookeeper/values.yaml', 'zookeeper/templates/secret-ingress-tls.yaml', 'zuul.d/jobs.yaml', 'tools/deployment/osh-infra-logging/080-zookeeper.sh', 'zookeeper/templates/configmap-etc.yaml']",21,e6bf27f9aec7428c0e61c4dfdd8e0394fcfb5ff7,zookeeper,"{{/* Copyright 2019 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.configmap_etc }} {{- $envAll := . }} --- apiVersion: v1 kind: Secret metadata: name: zookeeper-etc type: Opaque data: {{- include ""helm-toolkit.snippets.values_template_renderer"" (dict ""envAll"" $envAll ""template"" .Values.conf.zookeeper.template ""key"" ""zoo.cfg"" ""format"" ""Secret"") | indent 2 }} {{- end }} ",,954,5
openstack%2Fopenstack-helm-infra~master~I51d567c57604150cba2274c153817b4401a8e707,openstack/openstack-helm-infra,master,I51d567c57604150cba2274c153817b4401a8e707,Fix K8s version,MERGED,2019-11-08 04:24:50.000000000,2019-11-17 08:35:25.000000000,2019-11-17 08:34:06.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28543}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-11-08 04:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47a0e4c1f739b5d46df34c2c7c0674790f4081bc', 'message': 'Fix K8s version\n\nTrivial fix to make all kubernetes version consistently 1.16.2.\n\nChange-Id: I51d567c57604150cba2274c153817b4401a8e707\n'}, {'number': 2, 'created': '2019-11-11 00:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dba6c35b3bf42f29262e2b25a0aec205cfd8ca0a', 'message': 'Fix K8s version\n\nTrivial fix to make all kubernetes version consistently 1.16.2.\n\nChange-Id: I51d567c57604150cba2274c153817b4401a8e707\n'}, {'number': 3, 'created': '2019-11-11 06:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/804789d1afdd8b295344bd1695513d0ede4e8cf4', 'message': 'Fix K8s version\n\nTrivial fix to make all kubernetes version consistently 1.16.2.\n\nChange-Id: I51d567c57604150cba2274c153817b4401a8e707\n'}, {'number': 4, 'created': '2019-11-17 06:20:33.000000000', 'files': ['roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b332076d7df96ad07a4745ab0469f1d20ac2d43', 'message': 'Fix K8s version\n\nTrivial fix to make all kubernetes version consistently 1.16.2.\n\nChange-Id: I51d567c57604150cba2274c153817b4401a8e707\n'}]",0,693476,7b332076d7df96ad07a4745ab0469f1d20ac2d43,18,6,4,20466,,,0,"Fix K8s version

Trivial fix to make all kubernetes version consistently 1.16.2.

Change-Id: I51d567c57604150cba2274c153817b4401a8e707
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/76/693476/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-images/defaults/main.yml'],1,47a0e4c1f739b5d46df34c2c7c0674790f4081bc,fix/versions, kubernetes: v1.16.2, kubernetes: v1.16.0,1,1
openstack%2Fcinder~master~I64e041feaeb50c95808da46a34f334a9985018a8,openstack/cinder,master,I64e041feaeb50c95808da46a34f334a9985018a8,Fix remotefs clone volume locking,MERGED,2019-11-06 14:29:27.000000000,2019-11-17 07:42:09.000000000,2019-11-15 02:32:36.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-06 14:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7176505472580b23ea13e9d9cc78e2096db735c', 'message': 'WIP: Fix remotefs clone volume locking\n\ncreate_cloned_volume was presumably intending to\nlock against src_vref.id, where snapshots etc are\nmanipulated rather than on volume.id.\n\nChange-Id: I64e041feaeb50c95808da46a34f334a9985018a8\n'}, {'number': 2, 'created': '2019-11-12 16:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae60515bd3363d4c02622d03f0dc68ce14dd8ef7', 'message': ""Fix remotefs clone volume locking\n\nAny method in the remotefs/nfs code that manipulates\nthe qcow2 snapshot chain must be run separately\nfrom other methods that may touch this snapshot chain.\n\nThis code intended to do this with a lock on the\nvolume id, but it unintentionally locked only on\nthe destination volume id rather than the source\nvolume id where the snapshots are.\n\nThis causes concurrent clone operations to fail in\nthe NFS driver.  This patch fixes this in the\nRemoteFSSnapDriverDistributed class which fixes the\nNFS driver and a handful of others.\n\nA follow up patch should be applied for the\nRemoteFSSnapDriver class with a similar change, but as\nthat class is only used by one driver (which I can't\ntest), this patch only adds a TODO for that change.\n\nCloses-Bug: #1851512\n\nChange-Id: I64e041feaeb50c95808da46a34f334a9985018a8\n""}, {'number': 3, 'created': '2019-11-12 19:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96130141063dffbca9c5325db7e63d2fe744cd4b', 'message': ""Fix remotefs clone volume locking\n\nAny method in the remotefs/nfs code that manipulates\nthe qcow2 snapshot chain must be run separately\nfrom other methods that may touch this snapshot chain.\n\nThis code intended to do this with a lock on the\nvolume id, but it unintentionally locked only on\nthe destination volume id rather than the source\nvolume id where the snapshots are.\n\nThis causes concurrent clone operations to fail in\nthe NFS driver.  This patch fixes this in the\nRemoteFSSnapDriverDistributed class which fixes the\nNFS driver and a handful of others.\n\nA follow up patch should be applied for the\nRemoteFSSnapDriver class with a similar change, but as\nthat class is only used by one driver (which I can't\ntest), this patch only adds a TODO for that change.\n\nRelated-Bug: #1840712\nCloses-Bug: #1851512\n\nChange-Id: I64e041feaeb50c95808da46a34f334a9985018a8\n""}, {'number': 4, 'created': '2019-11-13 15:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2b12a5fca7f3179e005cba4dbcaf4ececdd5a75', 'message': ""Fix remotefs clone volume locking\n\nAny method in the remotefs/nfs code that manipulates\nthe qcow2 snapshot chain must be run separately\nfrom other methods that may touch this snapshot chain.\n\nThis code intended to do this with a lock on the\nvolume id, but it unintentionally locked only on\nthe destination volume id rather than the source\nvolume id where the snapshots are.\n\nThis causes concurrent clone operations to fail in\nthe NFS driver.  This patch fixes this in the\nRemoteFSSnapDriverDistributed class which fixes the\nNFS driver and a handful of others.\n\nA follow up patch should be applied for the\nRemoteFSSnapDriver class with a similar change, but as\nthat class is only used by one driver (which I can't\ntest), this patch only adds a TODO for that change.\n\nRelated-Bug: #1840712\nRelated-Bug: #1852449\nCloses-Bug: #1851512\n\nChange-Id: I64e041feaeb50c95808da46a34f334a9985018a8\n""}, {'number': 5, 'created': '2019-11-13 15:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b7152b8a7b1111c835268b7110ca6309bfe0768', 'message': ""Fix remotefs clone volume locking\n\nAny method in the remotefs/nfs code that manipulates\nthe qcow2 snapshot chain must be run separately\nfrom other methods that may touch this snapshot chain.\n\nThis code intended to do this with a lock on the\nvolume id, but it unintentionally locked only on\nthe destination volume id rather than the source\nvolume id where the snapshots are.\n\nThis causes concurrent clone operations to fail in\nthe NFS driver.  This patch fixes this in the\nRemoteFSSnapDriverDistributed class which fixes the\nNFS driver and a handful of others.\n\nA follow up patch should be applied for the\nRemoteFSSnapDriver class with a similar change, but as\nthat class is only used by one driver (which I can't\ntest), this patch only adds a TODO for that change.\n\nRelated-Bug: #1840712\nRelated-Bug: #1852449\nCloses-Bug: #1851512\n\nChange-Id: I64e041feaeb50c95808da46a34f334a9985018a8\n""}, {'number': 6, 'created': '2019-11-13 17:21:10.000000000', 'files': ['releasenotes/notes/fix-remotefs-clone-volume-locking-385e740d4a5a813b.yaml', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7cc2e402f95371fa8d94295016127eb3b716508f', 'message': ""Fix remotefs clone volume locking\n\nAny method in the remotefs/nfs code that manipulates\nthe qcow2 snapshot chain must be run separately\nfrom other methods that may touch this snapshot chain.\n\nThis code intended to do this with a lock on the\nvolume id, but it unintentionally locked only on\nthe destination volume id rather than the source\nvolume id where the snapshots are.\n\nThis causes concurrent clone operations to fail in\nthe NFS driver.  This patch fixes this in the\nRemoteFSSnapDriverDistributed class which fixes the\nNFS driver and a handful of others.\n\nA follow up patch should be applied for the\nRemoteFSSnapDriver class with a similar change, but as\nthat class is only used by one driver (which I can't\ntest), this patch only adds a TODO for that change.\n\nRelated-Bug: #1840712\nRelated-Bug: #1852449\nCloses-Bug: #1851512\n\nChange-Id: I64e041feaeb50c95808da46a34f334a9985018a8\n""}]",2,693186,7cc2e402f95371fa8d94295016127eb3b716508f,169,36,6,4523,,,0,"Fix remotefs clone volume locking

Any method in the remotefs/nfs code that manipulates
the qcow2 snapshot chain must be run separately
from other methods that may touch this snapshot chain.

This code intended to do this with a lock on the
volume id, but it unintentionally locked only on
the destination volume id rather than the source
volume id where the snapshots are.

This causes concurrent clone operations to fail in
the NFS driver.  This patch fixes this in the
RemoteFSSnapDriverDistributed class which fixes the
NFS driver and a handful of others.

A follow up patch should be applied for the
RemoteFSSnapDriver class with a similar change, but as
that class is only used by one driver (which I can't
test), this patch only adds a TODO for that change.

Related-Bug: #1840712
Related-Bug: #1852449
Closes-Bug: #1851512

Change-Id: I64e041feaeb50c95808da46a34f334a9985018a8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/693186/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,d7176505472580b23ea13e9d9cc78e2096db735c,bug/1840712, # TODO: should be locking on src_vref id @coordination.synchronized('{self.driver_prefix}-{src_vref.id}'),,2,0
openstack%2Fopenstack-helm-infra~master~I9821983b61d90e73e62c5ac669eefeb4ba9999d2,openstack/openstack-helm-infra,master,I9821983b61d90e73e62c5ac669eefeb4ba9999d2,Add RabbitMQ ingress Network Policy rules,MERGED,2019-09-16 21:22:10.000000000,2019-11-17 07:19:20.000000000,2019-11-17 07:18:12.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 30777}, {'_account_id': 31030}]","[{'number': 1, 'created': '2019-09-16 21:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/960770b7e11a654e100850d54e53995bc57ba0b2', 'message': 'Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n'}, {'number': 2, 'created': '2019-09-20 16:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c70720e09deefb03d022c7d06dae9348381b9b8d', 'message': 'Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n'}, {'number': 3, 'created': '2019-09-26 13:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8818c4283639ee182022ba3e31c6886994480885', 'message': 'Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n'}, {'number': 4, 'created': '2019-09-26 18:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2da6b7840238e1b6406c566ece27824e8d235cd', 'message': 'Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n'}, {'number': 5, 'created': '2019-09-26 18:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b8b381ffe20b2aae8f99ebf424b1de1837facc1', 'message': 'Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n'}, {'number': 6, 'created': '2019-09-26 19:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/641e859aae9585eccb4afc36342a5ec557ebcc87', 'message': 'Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n'}, {'number': 7, 'created': '2019-09-26 19:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61f046f30153e948f0b8cd5e8c313c0aec9e98e3', 'message': ""Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ\nand Prometheus RabbitMQ exporter.\n\nIt also fixes name generation for network policies,\nto make sure they do not contain a prohibited '_' symbols,\nwhich may appear in some label names.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n""}, {'number': 8, 'created': '2019-09-27 14:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0893d748752a8e546cd47cc83a02642710d7aa8', 'message': ""Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ\nand Prometheus RabbitMQ exporter.\n\nIt also fixes name generation for network policies,\nto make sure they do not contain a prohibited '_' symbols,\nwhich may appear in some label names.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n""}, {'number': 9, 'created': '2019-10-02 03:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e5ad3843cb231c9e65562e900485f12408d0a82', 'message': ""Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ\nand Prometheus RabbitMQ exporter.\n\nIt also fixes name generation for network policies,\nto make sure they do not contain a prohibited '_' symbols,\nwhich may appear in some label names.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n""}, {'number': 10, 'created': '2019-10-14 18:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0dec0b97623f9324abd6cc2a55ad4fb861d77a18', 'message': ""Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ\nand Prometheus RabbitMQ exporter.\n\nIt also fixes name generation for network policies,\nto make sure they do not contain a prohibited '_' symbol,\nwhich may appear in some label names.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n""}, {'number': 11, 'created': '2019-10-17 20:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/17c038029a03c357e5aba113ab9f2fad35bd9b7d', 'message': ""Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ\nand Prometheus RabbitMQ exporter.\n\nIt also fixes name generation for network policies,\nto make sure they do not contain a prohibited '_' symbol,\nwhich may appear in some label names.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n""}, {'number': 12, 'created': '2019-10-18 14:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c8d838e398ae1bec4c7854eda3c7087f99d722e', 'message': ""Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ\nand Prometheus RabbitMQ exporter.\n\nIt also fixes name generation for network policies,\nto make sure they do not contain a prohibited '_' symbol,\nwhich may appear in some label names.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n""}, {'number': 13, 'created': '2019-11-04 18:22:16.000000000', 'files': ['rabbitmq/values_overrides/netpol.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-network-policy.yaml', 'rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/762dc76b5cf744871e0bf3c5381f34bf2e94f031', 'message': ""Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for RabbitMQ\nand Prometheus RabbitMQ exporter.\n\nIt also fixes name generation for network policies,\nto make sure they do not contain a prohibited '_' symbol,\nwhich may appear in some label names.\n\nChange-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2\n""}]",5,682490,762dc76b5cf744871e0bf3c5381f34bf2e94f031,52,14,13,8749,,,0,"Add RabbitMQ ingress Network Policy rules

The patch adds Network Policy ingress rules for RabbitMQ
and Prometheus RabbitMQ exporter.

It also fixes name generation for network policies,
to make sure they do not contain a prohibited '_' symbol,
which may appear in some label names.

Change-Id: I9821983b61d90e73e62c5ac669eefeb4ba9999d2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/682490/12 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/values.yaml'],1,960770b7e11a654e100850d54e53995bc57ba0b2,netpol, - from: - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: glance - podSelector: matchLabels: application: cinder - podSelector: matchLabels: application: keystone - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: neutron - podSelector: matchLabels: application: rabbitmq ports: # AMQP port - protocol: TCP port: 5672 # HTTP API ports - protocol: TCP port: 15672 - protocol: TCP port: 80 - from: - podSelector: matchLabels: application: rabbitmq ports: # Clustering port AMQP + 20000 - protocol: TCP port: 25672 # Erlang Port Mapper Daemon (epmd) - protocol: TCP port: 4369, - {},42,1
openstack%2Fneutron~master~Icde5e15bd97578f5ec8273f22ef8384502be1850,openstack/neutron,master,Icde5e15bd97578f5ec8273f22ef8384502be1850,Catch FileNotFoundError when listing namespace PIDs,MERGED,2019-10-31 15:38:21.000000000,2019-11-17 02:00:46.000000000,2019-11-17 01:59:08.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-31 15:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3070786012eb0603c49abd94ad2a5243c2e85b4', 'message': 'Catch FileNotFoundError when listing namespace PIDs\n\nDuring the namespace PID listing, if a process is stopped, it will\ndisappear from ""/proc/<pid>"". When ""os.stat(path)"" is executed on\nan unexistent path, returns ""FileNotFoundError"". This exception\nshould be catched and ignored.\n\nChange-Id: Icde5e15bd97578f5ec8273f22ef8384502be1850\nRelated-Bug: #1841753\n'}, {'number': 2, 'created': '2019-11-05 15:21:43.000000000', 'files': ['neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ad03dcf96b9b2fbe43dede8b59c99542bda237a', 'message': 'Catch FileNotFoundError when listing namespace PIDs\n\nDuring the namespace PID listing, if a process is stopped, it will\ndisappear from ""/proc/<pid>"". When ""os.stat(path)"" is executed on\nan unexistent path, returns ""FileNotFoundError"". This exception\nshould be catched and ignored.\n\nChange-Id: Icde5e15bd97578f5ec8273f22ef8384502be1850\nRelated-Bug: #1841753\n'}]",3,692396,9ad03dcf96b9b2fbe43dede8b59c99542bda237a,43,8,2,16688,,,0,"Catch FileNotFoundError when listing namespace PIDs

During the namespace PID listing, if a process is stopped, it will
disappear from ""/proc/<pid>"". When ""os.stat(path)"" is executed on
an unexistent path, returns ""FileNotFoundError"". This exception
should be catched and ignored.

Change-Id: Icde5e15bd97578f5ec8273f22ef8384502be1850
Related-Bug: #1841753
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/692396/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/ip_lib.py'],1,c3070786012eb0603c49abd94ad2a5243c2e85b4,bug/1841753," except (OSError, FileNotFoundError):", except OSError:,1,1
openstack%2Fswift~master~I395f78516b33b675eab4aa7397742bff90e0167a,openstack/swift,master,I395f78516b33b675eab4aa7397742bff90e0167a,Imported Translations from Zanata,MERGED,2019-11-15 10:25:50.000000000,2019-11-17 02:00:20.000000000,2019-11-17 01:59:10.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 10:25:50.000000000', 'files': ['swift/locale/en_GB/LC_MESSAGES/swift.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/d6db7360e751e12895a5ba7b9d82db2df01fa057', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I395f78516b33b675eab4aa7397742bff90e0167a\n'}]",0,694504,d6db7360e751e12895a5ba7b9d82db2df01fa057,14,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I395f78516b33b675eab4aa7397742bff90e0167a
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/694504/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/locale/en_GB/LC_MESSAGES/swift.po'],1,d6db7360e751e12895a5ba7b9d82db2df01fa057,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-11-14 20:48+0000\n""""PO-Revision-Date: 2019-11-14 11:34+0000\n""msgid ""Exception in top-level reconstruction loop"" msgstr ""Exception in top-level reconstruction loop"" msgid ""Trying to read object during GET (retrying)"" msgstr ""Trying to read object during GET (retrying)"" #, python-format msgid """" ""Unexpected fragment data type (not quarantined) %(datadir)s: %(type)s at "" ""offset 0x%(offset)x"" msgstr """" ""Unexpected fragment data type (not quarantined) %(datadir)s: %(type)s at "" ""offset 0x%(offset)x"" msgid """" ""WARNING: object-expirer.conf is deprecated. Move object-expirers' "" ""configuration into object-server.conf."" msgstr """" ""WARNING: object-expirer.conf is deprecated. Move object-expirers' "" ""configuration into object-server.conf."" ","""POT-Creation-Date: 2019-10-04 06:59+0000\n""""PO-Revision-Date: 2018-08-08 09:56+0000\n""",24,2
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00,openstack/openstack-ansible-rabbitmq_server,master,Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00,Drop erlang bump for suse,MERGED,2019-11-12 13:09:30.000000000,2019-11-16 22:04:02.000000000,2019-11-16 12:18:43.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-12 13:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f57396904e1e7e0af31d5b77fd16eb610dbc66c3', 'message': 'Drop erlang bump for suse\n\nAs we\'re using ""upstream"" suse repo for retrieving erlang\nwhich don\'t store previous versions, we have to drop\nerlang bump for suse. This will allow to install latest available erlang\nwhich should work.\n\nChange-Id: Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00\n'}, {'number': 2, 'created': '2019-11-13 12:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/c46c269fb335b0197faa431299a41549e9ad11d4', 'message': 'Drop erlang bump for suse\n\nAs we\'re using ""upstream"" suse repo for retrieving erlang\nwhich don\'t store previous versions, we have to drop\nerlang bump for suse. This will allow to install latest available erlang\nwhich should work.\n\nChange-Id: Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00\n'}, {'number': 3, 'created': '2019-11-14 11:29:56.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/8c43ee95560b242dd9153cd6a2d5c1449f93088e', 'message': 'Drop erlang bump for suse\n\nAs we\'re using ""upstream"" suse repo for retrieving erlang\nwhich don\'t store previous versions, we have to drop\nerlang bump for suse. This will allow to install latest available erlang\nwhich should work.\n\nChange-Id: Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00\n'}]",0,693841,8c43ee95560b242dd9153cd6a2d5c1449f93088e,23,5,3,28619,,,0,"Drop erlang bump for suse

As we're using ""upstream"" suse repo for retrieving erlang
which don't store previous versions, we have to drop
erlang bump for suse. This will allow to install latest available erlang
which should work.

Change-Id: Ibc0cfa87a57b4f3fb181158f15bb4bf586199d00
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/41/693841/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,f57396904e1e7e0af31d5b77fd16eb610dbc66c3,, - erlang, - erlang-22.1.5-lp151.1.1.x86_64,1,1
openstack%2Fneutron-lib~master~I3d13a747f31e39c11f42e2f543eae3823cfbe356,openstack/neutron-lib,master,I3d13a747f31e39c11f42e2f543eae3823cfbe356,rehome used neutron.tests.tools,MERGED,2019-03-08 21:53:28.000000000,2019-11-16 19:39:53.000000000,2019-03-27 01:15:26.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 21:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/39c9f00371a508341dc7506f475e895b53091608', 'message': 'rehome use neutron.tests.tools\n\nThis patch rehomes the OpenFixture class and reset_random_seed function\nboth which are from neutron.tests.tools as they are used by consumers\ntoday [1].\n\n[1] http://codesearch.openstack.org/?q=from%20neutron.tests%20import%20tools\n\nChange-Id: I3d13a747f31e39c11f42e2f543eae3823cfbe356\n'}, {'number': 2, 'created': '2019-03-08 21:53:48.000000000', 'files': ['neutron_lib/fixture.py', 'releasenotes/notes/rehome-testools-6fba053249e14d42.yaml', 'neutron_lib/tests/tools.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ef9c2ae11198172b9980f033721bbcaf3b797909', 'message': 'rehome used neutron.tests.tools\n\nThis patch rehomes the OpenFixture class and reset_random_seed function\nboth which are from neutron.tests.tools as they are used by consumers\ntoday [1].\n\n[1] http://codesearch.openstack.org/?q=from%20neutron.tests%20import%20tools\n\nChange-Id: I3d13a747f31e39c11f42e2f543eae3823cfbe356\n'}]",0,642165,ef9c2ae11198172b9980f033721bbcaf3b797909,12,5,2,5367,,,0,"rehome used neutron.tests.tools

This patch rehomes the OpenFixture class and reset_random_seed function
both which are from neutron.tests.tools as they are used by consumers
today [1].

[1] http://codesearch.openstack.org/?q=from%20neutron.tests%20import%20tools

Change-Id: I3d13a747f31e39c11f42e2f543eae3823cfbe356
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/65/642165/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/fixture.py', 'releasenotes/notes/rehome-testools-6fba053249e14d42.yaml', 'neutron_lib/tests/tools.py']",3,39c9f00371a508341dc7506f475e895b53091608,rehome-test-tools,"import osimport time def reset_random_seed(): # reset random seed to make sure other processes extracting values from RNG # don't get the same results (useful especially when you then use the # random values to allocate system resources from global pool, like ports # to listen). Use both current time and pid to make sure no tests started # at the same time get the same values from RNG seed = time.time() + os.getpid() random.seed(seed)",,39,0
openstack%2Fdevstack~master~Iafbf4038bab08c261d45d117b12d4629ba32d65e,openstack/devstack,master,Iafbf4038bab08c261d45d117b12d4629ba32d65e,Fix brctl calls,MERGED,2019-10-31 18:53:02.000000000,2019-11-16 16:50:11.000000000,2019-11-16 16:49:02.000000000,"[{'_account_id': 1131}, {'_account_id': 7118}, {'_account_id': 11952}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 18:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2280b1963328483a62e2c405548bbd58f4da2839', 'message': 'Fix brctl calls\n\nSome distros no longer ship brctl, iproute2 should be used\nin its place. The linuxbridge agent plugin script was still\nusing it, as was worlddump, which generates this warning on\na failure:\n\n    Running devstack worlddump.py\n    /bin/sh: 1: brctl: not found\n\nConditionalizing worlddump based on whether brctl is installed\nto make this go away.\n\nChange-Id: Iafbf4038bab08c261d45d117b12d4629ba32d65e\n'}, {'number': 2, 'created': '2019-11-01 20:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/59aeaff9381e49af8d3de644c0d5de51c253f398', 'message': 'Fix brctl calls\n\nSome distros no longer ship brctl, iproute2 should be used\nin its place. The linuxbridge agent plugin script was still\nusing it, as was worlddump, which generates this warning on\na failure:\n\n    Running devstack worlddump.py\n    /bin/sh: 1: brctl: not found\n\nConditionalizing worlddump based on whether brctl is installed\nto make this go away.\n\nChange-Id: Iafbf4038bab08c261d45d117b12d4629ba32d65e\n'}, {'number': 3, 'created': '2019-11-06 01:56:27.000000000', 'files': ['lib/neutron_plugins/linuxbridge_agent', 'tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/da18895162bababea638b3f28c76cb9766e821b6', 'message': 'Fix brctl calls\n\nSome distros no longer ship brctl, iproute2 should be used\nin its place. The linuxbridge agent plugin script was still\nusing it, as was worlddump, which generates this warning on\na failure:\n\n    Running devstack worlddump.py\n    /bin/sh: 1: brctl: not found\n\nConditionalizing worlddump based on whether brctl is installed\nto make this go away.\n\nChange-Id: Iafbf4038bab08c261d45d117b12d4629ba32d65e\n'}]",1,692429,da18895162bababea638b3f28c76cb9766e821b6,22,5,3,1131,,,0,"Fix brctl calls

Some distros no longer ship brctl, iproute2 should be used
in its place. The linuxbridge agent plugin script was still
using it, as was worlddump, which generates this warning on
a failure:

    Running devstack worlddump.py
    /bin/sh: 1: brctl: not found

Conditionalizing worlddump based on whether brctl is installed
to make this go away.

Change-Id: Iafbf4038bab08c261d45d117b12d4629ba32d65e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/29/692429/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/linuxbridge_agent', 'tools/worlddump.py']",2,2280b1963328483a62e2c405548bbd58f4da2839,brctl," if [[ -x $(which brctl) ]]; then _dump_cmd(""brctl show"") fi"," _dump_cmd(""brctl show"")",4,2
openstack%2Foslo.service~master~Iffcedff0a78b05804d17eae9eb933558dfe405a2,openstack/oslo.service,master,Iffcedff0a78b05804d17eae9eb933558dfe405a2,WIP: Add looping_call_delay_warn_threshold config option,ABANDONED,2019-11-06 19:32:34.000000000,2019-11-16 14:33:21.000000000,,"[{'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 19:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/d02918acdfa9debbd0f5dcff252ce1c12ad2e63c', 'message': ""WIP: Add looping_call_delay_warn_threshold config option\n\nToday any looping call that overruns its interval generates a warning.\nSometimes these are just a couple of seconds but we sometimes see\nnearly a minute in the gate [1]:\n\n  2019-11-05 23:12:57.389957 | ubuntu-bionic | 2019-11-05 23:11:23,400\n  WARNING [oslo.service.loopingcall] Function 'nova.servicegroup.drivers.\n  db.DbDriver._report_state' run outlasted interval by 59.77 sec\n\nIn that warning above, the looping call runs in a threadgroup by default\nevery 10 seconds. Having it take nearly a minute is a pretty good indication\nthat the node is overloaded.\n\nTrying to query on that kind of warning in logstash though isn't very\nhelpful because it also picks up all of the 1-2 second overrun warnings.\n\nThis change introduces a new option, looping_call_delay_warn_threshold,\nwhich by default is backward compatible with the existing looping call\nbehavior of logging a warning if there is any delay, but can be configured\nto (1) not log anything for delays or (2) set a threshold such that if\nthe delay is greater than or equal to that threshold, a warning is logged\n(like today) but if the delay is below the threshold then it's only logged\nat INFO.\n\nPractically speaking, in the gate we could set the threshold in devstack\nto 10 seconds and then anything going over that is logged at WARNING\nindicating a load problem on the node and we can query and track that\nusing logstash which also helps indicate which node providers are hitting\nthis issue.\n\nQuestions to answer before going further:\n\n- do we care about this? is it useful? obviously a real production\n  deployment should have sensors and alarms set up when node load\n  goes too high.\n- the global conf is naughty, is there a better way?\n- the option isn't specific to periodic tasks really, so while this\n  is in the [DEFAULT] group it shows up under periodic_tasks in the\n  docs, is that OK?\n- obviously tests and a release note would be needed\n\n[1] https://bugs.launchpad.net/nova/+bug/1844929/comments/16\n\nChange-Id: Iffcedff0a78b05804d17eae9eb933558dfe405a2\n""}, {'number': 2, 'created': '2019-11-06 19:36:05.000000000', 'files': ['oslo_service/_options.py', 'oslo_service/tests/test_threadgroup.py', 'oslo_service/tests/test_loopingcall.py', 'oslo_service/loopingcall.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/a2379f8ccc3558ac0e94a4f9f260ca0cc1edd674', 'message': ""WIP: Add looping_call_delay_warn_threshold config option\n\nToday any looping call that overruns its interval generates a warning.\nSometimes these are just a couple of seconds but we sometimes see\nnearly a minute in the gate [1]:\n\n  2019-11-05 23:12:57.389957 | ubuntu-bionic | 2019-11-05 23:11:23,400\n  WARNING [oslo.service.loopingcall] Function 'nova.servicegroup.drivers.\n  db.DbDriver._report_state' run outlasted interval by 59.77 sec\n\nIn that warning above, the looping call runs in a threadgroup by default\nevery 10 seconds. Having it take nearly a minute is a pretty good indication\nthat the node is overloaded.\n\nTrying to query on that kind of warning in logstash though isn't very\nhelpful because it also picks up all of the 1-2 second overrun warnings.\n\nThis change introduces a new option, looping_call_delay_warn_threshold,\nwhich by default is backward compatible with the existing looping call\nbehavior of logging a warning if there is any delay, but can be configured\nto (1) not log anything for delays or (2) set a threshold such that if\nthe delay is greater than or equal to that threshold, a warning is logged\n(like today) but if the delay is below the threshold then it's only logged\nat INFO.\n\nPractically speaking, in the gate we could set the threshold in devstack\nto 10 seconds and then anything going over that is logged at WARNING\nindicating a load problem on the node and we can query and track that\nusing logstash which also helps indicate which node providers are hitting\nthis issue.\n\nQuestions to answer before going further:\n\n- do we care about this? is it useful? obviously a real production\n  deployment should have sensors and alarms set up when node load\n  goes too high.\n- the global conf is naughty, is there a better way?\n- the option isn't specific to periodic tasks really, so while this\n  is in the [DEFAULT] group it shows up under periodic_tasks in the\n  docs, is that OK?\n- obviously tests and a release note would be needed\n\n[1] https://bugs.launchpad.net/nova/+bug/1844929/comments/16\n\nChange-Id: Iffcedff0a78b05804d17eae9eb933558dfe405a2\n""}]",0,693237,a2379f8ccc3558ac0e94a4f9f260ca0cc1edd674,5,2,2,6873,,,0,"WIP: Add looping_call_delay_warn_threshold config option

Today any looping call that overruns its interval generates a warning.
Sometimes these are just a couple of seconds but we sometimes see
nearly a minute in the gate [1]:

  2019-11-05 23:12:57.389957 | ubuntu-bionic | 2019-11-05 23:11:23,400
  WARNING [oslo.service.loopingcall] Function 'nova.servicegroup.drivers.
  db.DbDriver._report_state' run outlasted interval by 59.77 sec

In that warning above, the looping call runs in a threadgroup by default
every 10 seconds. Having it take nearly a minute is a pretty good indication
that the node is overloaded.

Trying to query on that kind of warning in logstash though isn't very
helpful because it also picks up all of the 1-2 second overrun warnings.

This change introduces a new option, looping_call_delay_warn_threshold,
which by default is backward compatible with the existing looping call
behavior of logging a warning if there is any delay, but can be configured
to (1) not log anything for delays or (2) set a threshold such that if
the delay is greater than or equal to that threshold, a warning is logged
(like today) but if the delay is below the threshold then it's only logged
at INFO.

Practically speaking, in the gate we could set the threshold in devstack
to 10 seconds and then anything going over that is logged at WARNING
indicating a load problem on the node and we can query and track that
using logstash which also helps indicate which node providers are hitting
this issue.

Questions to answer before going further:

- do we care about this? is it useful? obviously a real production
  deployment should have sensors and alarms set up when node load
  goes too high.
- the global conf is naughty, is there a better way?
- the option isn't specific to periodic tasks really, so while this
  is in the [DEFAULT] group it shows up under periodic_tasks in the
  docs, is that OK?
- obviously tests and a release note would be needed

[1] https://bugs.launchpad.net/nova/+bug/1844929/comments/16

Change-Id: Iffcedff0a78b05804d17eae9eb933558dfe405a2
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/37/693237/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_service/_options.py', 'oslo_service/tests/test_threadgroup.py', 'oslo_service/tests/test_loopingcall.py', 'oslo_service/loopingcall.py']",4,d02918acdfa9debbd0f5dcff252ce1c12ad2e63c,looping-call-warn-threshold,"from oslo_config import cfgCONF = cfg.CONF threshold = CONF.looping_call_delay_warn_threshold if threshold != -1: # -1 means don't log anything log_func = LOG.warning if delay >= threshold else LOG.info log_func('Function %(func_name)r run outlasted ' 'interval by %(delay).2f sec', {'func_name': func_name, 'delay': delay}) threshold = CONF.looping_call_delay_warn_threshold if threshold != -1: # -1 means don't log anything log_func = LOG.warning if delay >= threshold else LOG.info log_func('Function %(func_name)r run outlasted ' 'interval by %(delay).2f sec', {'func_name': func_name, 'delay': delay})"," if delay > 0: LOG.warning('Function %(func_name)r run outlasted ' 'interval by %(delay).2f sec', {'func_name': func_name, 'delay': delay}) if delay > 0: LOG.warning('Function %(func_name)r run outlasted ' 'interval by %(delay).2f sec', {'func_name': func_name, 'delay': delay})",38,12
openstack%2Fneutron~master~I04ea8eb63de07a6e1e51c2790c5920b086b8542c,openstack/neutron,master,I04ea8eb63de07a6e1e51c2790c5920b086b8542c,SR-IOV: macvtap assigned vf check using sysfs,MERGED,2019-08-18 15:47:07.000000000,2019-11-16 14:09:12.000000000,2019-11-16 14:07:35.000000000,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-08-18 15:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddbd9b6320db2cbb5e9698ef27507f1fc3b4e128', 'message': 'SR-IOV: macvtap assigned vf check using sysfs\n\nThis reverts commits:\n 9a022e7d7b85b7c21cf26698fe59c818c4577194\n d7604169988726d121cdc9727accfeb6e29f4aed\n\nAs the issue is relevant only for old kernels and almost 4 years\nhave passed since this fix was introduced, it is safe to undo the\nworkaround to use ip link show command for determining whether or not\na VF is assigned with macvtap(and followup patch that fixed excessive\nuse of ip link show commans).\n\nreverting this commit will benefit the agent by reducing the amount of\nip link calls.\n\nWhile it is possible to perform a revert-per-commit, this change should\nreally go in as one commit for clarity and avoid introducing a\nperformance degradation in case one is merged without the other.\n\n Conflicts:\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py\n\n Conflicts details:\n   In eswitch_manager: merge tool was unable to properly revert\n                       is_assigned_vf() due to changes in later patches.\n   In pci_lib: conflicts with later changes to is_macvtap_assigned()\n               and link_show() that are no longer required and revert\n               of IPCommandDeviceError definition.\n   In unit tests: conflicts due to newly added tests and reverting the\n                  IPCommandDeviceError exception definition.\n                  Sorting out mocks as link_show() method was removed\n\nChange-Id: I04ea8eb63de07a6e1e51c2790c5920b086b8542c\n'}, {'number': 2, 'created': '2019-08-18 15:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd0a4c5a731bd52f2006a037fd870ffdbc301787', 'message': 'SR-IOV: macvtap assigned vf check using sysfs\n\nThis reverts commits:\n 9a022e7d7b85b7c21cf26698fe59c818c4577194\n d7604169988726d121cdc9727accfeb6e29f4aed\n\nAs the issue is relevant only for old kernels and almost 4 years\nhave passed since this fix was introduced, it is safe to undo the\nworkaround to use ip link show command for determining whether or not\na VF is assigned with macvtap(and followup patch that fixed excessive\nuse of ip link show commans).\n\nreverting this commit will benefit the agent by reducing the amount of\nip link calls.\n\nWhile it is possible to perform a revert-per-commit, this change should\nreally go in as one commit for clarity and avoid introducing a\nperformance degradation in case one is merged without the other.\n\n Conflicts:\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py\n\n Conflicts details:\n   In eswitch_manager: merge tool was unable to properly revert\n                       is_assigned_vf() due to changes in later patches.\n   In pci_lib: conflicts with later changes to is_macvtap_assigned()\n               and link_show() that are no longer required and revert\n               of IPCommandDeviceError definition.\n   In unit tests: conflicts due to newly added tests and reverting the\n                  IPCommandDeviceError exception definition.\n                  Sorting out mocks as link_show() method was removed\n\nChange-Id: I04ea8eb63de07a6e1e51c2790c5920b086b8542c\n'}, {'number': 3, 'created': '2019-08-18 17:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5e07733eafd6553692130e34deed4ac3aefed3a', 'message': 'SR-IOV: macvtap assigned vf check using sysfs\n\nThis reverts commits:\n 9a022e7d7b85b7c21cf26698fe59c818c4577194\n d7604169988726d121cdc9727accfeb6e29f4aed\n\nAs the issue is relevant only for old kernels and almost 4 years\nhave passed since this fix was introduced, it is safe to undo the\nworkaround to use ip link show command for determining whether or not\na VF is assigned with macvtap(and followup patch that fixed excessive\nuse of ip link show commans).\n\nreverting this commit will benefit the agent by reducing the amount of\nip link calls.\n\nWhile it is possible to perform a revert-per-commit, this change should\nreally go in as one commit for clarity and avoid introducing a\nperformance degradation in case one is merged without the other.\n\n Conflicts:\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py\n\n Conflicts details:\n   In eswitch_manager: merge tool was unable to properly revert\n                       is_assigned_vf() due to changes in later patches.\n   In pci_lib: conflicts with later changes to is_macvtap_assigned()\n               and link_show() that are no longer required and revert\n               of IPCommandDeviceError definition.\n   In unit tests: conflicts due to newly added tests and reverting the\n                  IPCommandDeviceError exception definition.\n                  Sorting out mocks as link_show() method was removed\n\nChange-Id: I04ea8eb63de07a6e1e51c2790c5920b086b8542c\n'}, {'number': 4, 'created': '2019-08-22 14:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1b92b1870a97de5eed0ad3dc0e3ccb016e18382', 'message': 'SR-IOV: macvtap assigned vf check using sysfs\n\nThis reverts commits:\n 9a022e7d7b85b7c21cf26698fe59c818c4577194\n d7604169988726d121cdc9727accfeb6e29f4aed\n\nAs the issue is relevant only for old kernels and almost 4 years\nhave passed since this fix was introduced, it is safe to undo the\nworkaround to use ip link show command for determining whether or not\na VF is assigned with macvtap(and followup patch that fixed excessive\nuse of ip link show commans).\n\nreverting this commit will benefit the agent by reducing the amount of\nip link calls.\n\nWhile it is possible to perform a revert-per-commit, this change should\nreally go in as one commit for clarity and avoid introducing a\nperformance degradation in case one is merged without the other.\n\n Conflicts:\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py\n\n Conflicts details:\n   In eswitch_manager: merge tool was unable to properly revert\n                       is_assigned_vf() due to changes in later patches.\n   In pci_lib: conflicts with later changes to is_macvtap_assigned()\n               and link_show() that are no longer required and revert\n               of IPCommandDeviceError definition.\n   In unit tests: conflicts due to newly added tests and reverting the\n                  IPCommandDeviceError exception definition.\n                  Sorting out mocks as link_show() method was removed\n\nRelated-bug: #1523083\n\nChange-Id: I04ea8eb63de07a6e1e51c2790c5920b086b8542c\n'}, {'number': 5, 'created': '2019-10-27 07:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6643c211e53c9a0a56a27579c609e7c50100a31', 'message': 'SR-IOV: macvtap assigned vf check using sysfs\n\nThis reverts commits:\n 9a022e7d7b85b7c21cf26698fe59c818c4577194\n d7604169988726d121cdc9727accfeb6e29f4aed\n\nAs the issue is relevant only for old kernels and almost 4 years\nhave passed since this fix was introduced, it is safe to undo the\nworkaround to use ip link show command for determining whether or not\na VF is assigned with macvtap(and followup patch that fixed excessive\nuse of ip link show commans).\n\nreverting this commit will benefit the agent by reducing the amount of\nip link calls.\n\nWhile it is possible to perform a revert-per-commit, this change should\nreally go in as one commit for clarity and avoid introducing a\nperformance degradation in case one is merged without the other.\n\n Conflicts:\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py\n\n Conflicts details:\n   In eswitch_manager: merge tool was unable to properly revert\n                       is_assigned_vf() due to changes in later patches.\n   In pci_lib: conflicts with later changes to is_macvtap_assigned()\n               and link_show() that are no longer required and revert\n               of IPCommandDeviceError definition.\n   In unit tests: conflicts due to newly added tests and reverting the\n                  IPCommandDeviceError exception definition.\n                  Sorting out mocks as link_show() method was removed\n\nRelated-bug: #1523083\n\nChange-Id: I04ea8eb63de07a6e1e51c2790c5920b086b8542c\n'}, {'number': 6, 'created': '2019-10-30 11:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a0b8cc4109bc8a2ec05f5d7b846143e2d793500', 'message': 'SR-IOV: macvtap assigned vf check using sysfs\n\nThis reverts commits:\n 9a022e7d7b85b7c21cf26698fe59c818c4577194\n d7604169988726d121cdc9727accfeb6e29f4aed\n\nAs the issue is relevant only for old kernels and almost 4 years\nhave passed since this fix was introduced, it is safe to undo the\nworkaround to use ip link show command for determining whether or not\na VF is assigned with macvtap(and followup patch that fixed excessive\nuse of ip link show commans).\n\nreverting this commit will benefit the agent by reducing the amount of\nip link calls.\n\nWhile it is possible to perform a revert-per-commit, this change should\nreally go in as one commit for clarity and avoid introducing a\nperformance degradation in case one is merged without the other.\n\n Conflicts:\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py\n\n Conflicts details:\n   In eswitch_manager: merge tool was unable to properly revert\n                       is_assigned_vf() due to changes in later patches.\n   In pci_lib: conflicts with later changes to is_macvtap_assigned()\n               and link_show() that are no longer required and revert\n               of IPCommandDeviceError definition.\n   In unit tests: conflicts due to newly added tests and reverting the\n                  IPCommandDeviceError exception definition.\n                  Sorting out mocks as link_show() method was removed\n\nRelated-bug: #1523083\n\nChange-Id: I04ea8eb63de07a6e1e51c2790c5920b086b8542c\n'}, {'number': 7, 'created': '2019-11-11 15:14:01.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/common/exceptions.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py', 'releasenotes/notes/sriov-agent-kernel-3.13-removed-support-8bb00902dd607746.yaml', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/76de8a715d0f48b24fccc06459e9413b96a0449c', 'message': 'SR-IOV: macvtap assigned vf check using sysfs\n\nThis reverts commits:\n 9a022e7d7b85b7c21cf26698fe59c818c4577194\n d7604169988726d121cdc9727accfeb6e29f4aed\n\nAs the issue is relevant only for old kernels and almost 4 years\nhave passed since this fix was introduced, it is safe to undo the\nworkaround to use ip link show command for determining whether or not\na VF is assigned with macvtap(and followup patch that fixed excessive\nuse of ip link show commans).\n\nreverting this commit will benefit the agent by reducing the amount of\nip link calls.\n\nWhile it is possible to perform a revert-per-commit, this change should\nreally go in as one commit for clarity and avoid introducing a\nperformance degradation in case one is merged without the other.\n\n Conflicts:\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py\n\tneutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py\n\tneutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py\n\n Conflicts details:\n   In eswitch_manager: merge tool was unable to properly revert\n                       is_assigned_vf() due to changes in later patches.\n   In pci_lib: conflicts with later changes to is_macvtap_assigned()\n               and link_show() that are no longer required and revert\n               of IPCommandDeviceError definition.\n   In unit tests: conflicts due to newly added tests and reverting the\n                  IPCommandDeviceError exception definition.\n                  Sorting out mocks as link_show() method was removed\n\nRelated-bug: #1523083\n\nChange-Id: I04ea8eb63de07a6e1e51c2790c5920b086b8542c\n'}]",16,677095,76de8a715d0f48b24fccc06459e9413b96a0449c,74,10,7,28714,,,0,"SR-IOV: macvtap assigned vf check using sysfs

This reverts commits:
 9a022e7d7b85b7c21cf26698fe59c818c4577194
 d7604169988726d121cdc9727accfeb6e29f4aed

As the issue is relevant only for old kernels and almost 4 years
have passed since this fix was introduced, it is safe to undo the
workaround to use ip link show command for determining whether or not
a VF is assigned with macvtap(and followup patch that fixed excessive
use of ip link show commans).

reverting this commit will benefit the agent by reducing the amount of
ip link calls.

While it is possible to perform a revert-per-commit, this change should
really go in as one commit for clarity and avoid introducing a
performance degradation in case one is merged without the other.

 Conflicts:
	neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py
	neutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py
	neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py
	neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py

 Conflicts details:
   In eswitch_manager: merge tool was unable to properly revert
                       is_assigned_vf() due to changes in later patches.
   In pci_lib: conflicts with later changes to is_macvtap_assigned()
               and link_show() that are no longer required and revert
               of IPCommandDeviceError definition.
   In unit tests: conflicts due to newly added tests and reverting the
                  IPCommandDeviceError exception definition.
                  Sorting out mocks as link_show() method was removed

Related-bug: #1523083

Change-Id: I04ea8eb63de07a6e1e51c2790c5920b086b8542c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/677095/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/macvtap_assigned_vf_check-f4d07660ffd82a24.yaml', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/common/exceptions.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_pci_lib.py']",6,ddbd9b6320db2cbb5e9698ef27507f1fc3b4e128,macvtap-use-sysfs," self.assertRaises(exc.IpCommandError, self.assertRaises(exc.IpCommandError, self.assertRaises(exc.IpCommandError, self.assertRaises(exc.IpCommandError, self.assertRaises(exc.IpCommandError,"," MACVTAP_LINK_SHOW = ('63: macvtap1@enp129s0f1: <BROADCAST,MULTICAST> mtu ' '1500 qdisc noop state DOWN mode DEFAULT group ' 'default qlen 500 link/ether 4a:9b:6d:de:65:b5 brd ' 'ff:ff:ff:ff:ff:ff') MACVTAP_LINK_SHOW2 = ('64: macvtap2@p1p2_1: <BROADCAST,MULTICAST> mtu ' '1500 qdisc noop state DOWN mode DEFAULT group ' 'default qlen 500 link/ether 4a:9b:6d:de:65:b5 brd ' 'ff:ff:ff:ff:ff:ff') IP_LINK_SHOW_WITH_MACVTAP = '\n'.join((VF_LINK_SHOW, MACVTAP_LINK_SHOW)) IP_LINK_SHOW_WITH_MACVTAP2 = '\n'.join((VF_LINK_SHOW, MACVTAP_LINK_SHOW2)) self.assertRaises(exc.IpCommandDeviceError, self.assertRaises(exc.IpCommandDeviceError, self.assertRaises(exc.IpCommandDeviceError, self.assertRaises(exc.IpCommandDeviceError, self.assertRaises(exc.IpCommandDeviceError, def test_is_macvtap_assigned(self): self.assertTrue(pci_lib.PciDeviceIPWrapper.is_macvtap_assigned( 'enp129s0f1', self.IP_LINK_SHOW_WITH_MACVTAP)) def test_is_macvtap_assigned_interface_with_underscore(self): self.assertTrue(pci_lib.PciDeviceIPWrapper.is_macvtap_assigned( 'p1p2_1', self.IP_LINK_SHOW_WITH_MACVTAP2)) def test_is_macvtap_assigned_not_assigned(self): self.assertFalse(pci_lib.PciDeviceIPWrapper.is_macvtap_assigned( 'enp129s0f2', self.IP_LINK_SHOW_WITH_MACVTAP)) def test_link_show_command_failed(self): with mock.patch.object(pci_lib.PciDeviceIPWrapper, ""_as_root"") as mock_as_root: mock_as_root.side_effect = Exception() self.assertRaises(exc.IpCommandError, self.pci_wrapper.link_show)",59,155
openstack%2Fkolla-ansible~master~I932ea55a3c2a411557c34361db08bcb3a2b27eaf,openstack/kolla-ansible,master,I932ea55a3c2a411557c34361db08bcb3a2b27eaf,Use internal API for heat -> heat communication,MERGED,2019-08-15 15:13:13.000000000,2019-11-16 13:41:15.000000000,2019-10-08 09:03:32.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-15 15:13:13.000000000', 'files': ['ansible/roles/heat/templates/heat.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d54c8fbdccfd8145b65d0fcc50dc8628b37c1a88', 'message': ""Use internal API for heat -> heat communication\n\nHeat has a new option (server_keystone_endpoint_type), which can be used\nto set the keystone endpoint used by instances to make callbacks to\nheat. This needs to be public, since we can't assume users have access\nto the internal API. However, the current method of setting\n[clients_heat] endpoint_type means that communication from heat to its\nown API (e.g. when a stack is a resource in another stack) uses the\npublic network also, and this might not work if TLS is enabled.\n\nThis change uses server_keystone_endpoint_type to keep instance traffic\non the public API, and removes the [clients_heat] endpoint_type option\nto use the default in [clients] endpoint_type of internalURL.\n\nThis feature was added to heat in https://review.opendev.org/#/c/650967.\n\nChange-Id: I932ea55a3c2a411557c34361db08bcb3a2b27eaf\nCloses-Bug: #1812864\nRelated-Bug: #1762754\nRelated-Bug: #1688331\n""}]",1,676716,d54c8fbdccfd8145b65d0fcc50dc8628b37c1a88,11,4,1,14826,,,0,"Use internal API for heat -> heat communication

Heat has a new option (server_keystone_endpoint_type), which can be used
to set the keystone endpoint used by instances to make callbacks to
heat. This needs to be public, since we can't assume users have access
to the internal API. However, the current method of setting
[clients_heat] endpoint_type means that communication from heat to its
own API (e.g. when a stack is a resource in another stack) uses the
public network also, and this might not work if TLS is enabled.

This change uses server_keystone_endpoint_type to keep instance traffic
on the public API, and removes the [clients_heat] endpoint_type option
to use the default in [clients] endpoint_type of internalURL.

This feature was added to heat in https://review.opendev.org/#/c/650967.

Change-Id: I932ea55a3c2a411557c34361db08bcb3a2b27eaf
Closes-Bug: #1812864
Related-Bug: #1762754
Related-Bug: #1688331
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/676716/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/heat/templates/heat.conf.j2'],1,d54c8fbdccfd8145b65d0fcc50dc8628b37c1a88,bug/1812864,server_keystone_endpoint_type = public ,[clients_heat] endpoint_type = publicURL ,2,3
openstack%2Fkolla~master~I26ab8824d8c6c108eadb85698dc8367b576f485c,openstack/kolla,master,I26ab8824d8c6c108eadb85698dc8367b576f485c,Drop openstack-tox-py27 job,MERGED,2019-11-14 10:31:03.000000000,2019-11-16 12:21:30.000000000,2019-11-16 12:19:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 10:31:03.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9c9106bcc18b7bc92074bd4afeb091840843c0c1', 'message': 'Drop openstack-tox-py27 job\n\nChange-Id: I26ab8824d8c6c108eadb85698dc8367b576f485c\n'}]",0,694235,9c9106bcc18b7bc92074bd4afeb091840843c0c1,13,4,1,24072,,,0,"Drop openstack-tox-py27 job

Change-Id: I26ab8824d8c6c108eadb85698dc8367b576f485c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/694235/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,9c9106bcc18b7bc92074bd4afeb091840843c0c1,no-py27-jobs,, - openstack-python-jobs,0,1
openstack%2Fnova~master~I70e06c607045a1c0842f13069e51fef438012a9c,openstack/nova,master,I70e06c607045a1c0842f13069e51fef438012a9c,Block deleting compute services with in-progress migrations,MERGED,2019-11-14 19:24:28.000000000,2019-11-16 08:50:04.000000000,2019-11-16 08:28:41.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-14 19:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/831a792b4539423f7f09aeceee962ee4a3ed22d3', 'message': 'Block deleting compute services with in-progress migrations\n\nThis builds on I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a\nwhich made DELETE /os-services/{service_id} fail with a 409\nresponse if the host has instances on it. This change checks\nfor in-progress migrations involving the nodes on the host,\neither as the source or destination nodes, and returns a 409\nerror response if any are found.\n\nFailling to do this can lead to orphaned resource providers\nin placement and also failing to properly confirm or revert\na pending resize or cold migration.\n\nA release note is included for the (justified) behavior\nchange in the API. A new microversion should not be required\nfor this since admins should not have to opt out of broken\nbehavior.\n\nChange-Id: I70e06c607045a1c0842f13069e51fef438012a9c\nCloses-Bug: #1852610\n'}, {'number': 2, 'created': '2019-11-14 19:30:03.000000000', 'files': ['nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/integrated_helpers.py', 'releasenotes/notes/bug-1852610-service-delete-with-migrations-ca0565fc0b503519.yaml', 'api-ref/source/os-services.inc', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92fed026103b47fa2a76ea09204a4ba24c21e191', 'message': 'Block deleting compute services with in-progress migrations\n\nThis builds on I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a\nwhich made DELETE /os-services/{service_id} fail with a 409\nresponse if the host has instances on it. This change checks\nfor in-progress migrations involving the nodes on the host,\neither as the source or destination nodes, and returns a 409\nerror response if any are found.\n\nFailling to do this can lead to orphaned resource providers\nin placement and also failing to properly confirm or revert\na pending resize or cold migration.\n\nA release note is included for the (justified) behavior\nchange in the API. A new microversion should not be required\nfor this since admins should not have to opt out of broken\nbehavior.\n\nChange-Id: I70e06c607045a1c0842f13069e51fef438012a9c\nCloses-Bug: #1852610\n'}]",2,694389,92fed026103b47fa2a76ea09204a4ba24c21e191,45,12,2,6873,,,0,"Block deleting compute services with in-progress migrations

This builds on I0bd63b655ad3d3d39af8d15c781ce0a45efc8e3a
which made DELETE /os-services/{service_id} fail with a 409
response if the host has instances on it. This change checks
for in-progress migrations involving the nodes on the host,
either as the source or destination nodes, and returns a 409
error response if any are found.

Failling to do this can lead to orphaned resource providers
in placement and also failing to properly confirm or revert
a pending resize or cold migration.

A release note is included for the (justified) behavior
change in the API. A new microversion should not be required
for this since admins should not have to opt out of broken
behavior.

Change-Id: I70e06c607045a1c0842f13069e51fef438012a9c
Closes-Bug: #1852610
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/694389/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/wsgi/test_services.py', 'releasenotes/notes/bug-1852610-service-delete-with-migrations-ca0565fc0b503519.yaml', 'api-ref/source/os-services.inc', 'nova/api/openstack/compute/services.py']",4,831a792b4539423f7f09aeceee962ee4a3ed22d3,bug/1852610," # Similarly, check to see if the are any in-progress migrations # involving this host because if there are we need to block the # service delete since we could orphan resource providers and # break the ability to do things like confirm/revert instances # in VERIFY_RESIZE status. compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host) self._assert_no_in_progress_migrations( context, id, compute_nodes) @staticmethod def _assert_no_in_progress_migrations(context, service_id, compute_nodes): """"""Ensures there are no in-progress migrations on the given nodes. :param context: nova auth RequestContext :param service_id: id of the Service being deleted :param compute_nodes: ComputeNodeList of nodes on a compute service :raises: HTTPConflict if there are any in-progress migrations on the nodes """""" for cn in compute_nodes: migrations = ( objects.MigrationList.get_in_progress_by_host_and_node( context, cn.host, cn.hypervisor_hostname)) if migrations: # Log the migrations for the operator and then raise # a 409 error. LOG.info('Unable to delete compute service with id %s ' 'for host %s. There are %i in-progress ' 'migrations involving the host. Migrations ' '(uuid:status): %s', service_id, cn.host, len(migrations), ','.join(['%s:%s' % (mig.uuid, mig.status) for mig in migrations])) raise webob.exc.HTTPConflict( explanation=_( 'Unable to delete compute service that has ' 'in-progress migrations. Complete the ' 'migrations or delete the instances first.')) "," compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host)",104,24
openstack%2Fnova~master~I58411a40c7d2b0d7f50b8d9c29c748438b1e1420,openstack/nova,master,I58411a40c7d2b0d7f50b8d9c29c748438b1e1420,Remove super old br-<uuid> neutron network id compat code,MERGED,2019-11-07 19:15:00.000000000,2019-11-16 08:49:47.000000000,2019-11-16 07:50:16.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 19:15:00.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42e65eea6c2b76ed50e90bc49ef6492df77c0091', 'message': ""Remove super old br-<uuid> neutron network id compat code\n\nThis removes some really old compat code from when what was\noriginally neutron (quantum) would allow network ids with a br-\nprefix for some reason. If I had to guess I'd guess it was some\nrackspace quirk.\n\nAnyway, with the neutron network data model [1] the id field is\nrestricted to 36 characters [2][3] so br-<uuid> isn't going to\nhappen in reality so we can drop this old compat code.\n\n[1] https://opendev.org/openstack/neutron/src/tag/15.0.0/neutron/db/models_v2.py#L255\n[2] https://opendev.org/openstack/neutron-lib/src/tag/1.29.1/neutron_lib/db/model_base.py#L68\n[3] https://opendev.org/openstack/neutron-lib/src/tag/1.29.1/neutron_lib/db/constants.py#L20\n\nChange-Id: I58411a40c7d2b0d7f50b8d9c29c748438b1e1420\n""}]",0,693411,42e65eea6c2b76ed50e90bc49ef6492df77c0091,26,12,1,6873,,,0,"Remove super old br-<uuid> neutron network id compat code

This removes some really old compat code from when what was
originally neutron (quantum) would allow network ids with a br-
prefix for some reason. If I had to guess I'd guess it was some
rackspace quirk.

Anyway, with the neutron network data model [1] the id field is
restricted to 36 characters [2][3] so br-<uuid> isn't going to
happen in reality so we can drop this old compat code.

[1] https://opendev.org/openstack/neutron/src/tag/15.0.0/neutron/db/models_v2.py#L255
[2] https://opendev.org/openstack/neutron-lib/src/tag/1.29.1/neutron_lib/db/model_base.py#L68
[3] https://opendev.org/openstack/neutron-lib/src/tag/1.29.1/neutron_lib/db/constants.py#L20

Change-Id: I58411a40c7d2b0d7f50b8d9c29c748438b1e1420
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/693411/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py']",2,42e65eea6c2b76ed50e90bc49ef6492df77c0091,rm-old-network-id-br-compat," msg = _(""Bad networks format: network uuid is "" ""not in proper format (%s)"") % net_id raise exc.HTTPBadRequest(explanation=msg)"," # NOTE(mriedem): Neutron would allow a network id with a br- prefix # back in Folsom so continue to honor that. # TODO(mriedem): Need to figure out if this is still a valid case. br_uuid = net_id.split('-', 1)[-1] if not uuidutils.is_uuid_like(br_uuid): msg = _(""Bad networks format: network uuid is "" ""not in proper format (%s)"") % net_id raise exc.HTTPBadRequest(explanation=msg)",11,10
openstack%2Fpython-swiftclient~master~If4af9141fe4f3436a4e9e0e2dfc24c6ec7292996,openstack/python-swiftclient,master,If4af9141fe4f3436a4e9e0e2dfc24c6ec7292996,Fix printed object names on successful bulk-delete,MERGED,2019-11-15 21:39:19.000000000,2019-11-16 07:51:17.000000000,2019-11-16 07:50:14.000000000,"[{'_account_id': 10068}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 31293}]","[{'number': 1, 'created': '2019-11-15 21:39:19.000000000', 'files': ['swiftclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/709ab385c6eb3d3c7b313bc48c959e9ace606ae5', 'message': 'Fix printed object names on successful bulk-delete\n\nReplace the 1 always concatenated to printed object names for each\nsuccessfully deleted object in bulk-delete with an optional [after x\nattempts] if x > 1\n\nChange-Id: If4af9141fe4f3436a4e9e0e2dfc24c6ec7292996\nCloses-Bug: 1852808\n'}]",3,694629,709ab385c6eb3d3c7b313bc48c959e9ace606ae5,9,4,1,31293,,,0,"Fix printed object names on successful bulk-delete

Replace the 1 always concatenated to printed object names for each
successfully deleted object in bulk-delete with an optional [after x
attempts] if x > 1

Change-Id: If4af9141fe4f3436a4e9e0e2dfc24c6ec7292996
Closes-Bug: 1852808
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/29/694629/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftclient/shell.py'],1,709ab385c6eb3d3c7b313bc48c959e9ace606ae5,bug/1852808, a = (' [after {0} attempts]'.format(r.get('attempts')) if r.get('attempts') > 1 else ''), a = r.get('attempts') a = (' [after {0} attempts]'.format(a) if a > 1 else '') ,2,4
openstack%2Fneutron~master~I92dbdb02742af55534e16b87be551bae101262a1,openstack/neutron,master,I92dbdb02742af55534e16b87be551bae101262a1,Trivial: fix firewall_refresh_needed return value type,MERGED,2019-09-22 09:46:42.000000000,2019-11-16 07:50:46.000000000,2019-11-16 07:48:31.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-22 09:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d564f787cea0a69a87ff103144d3c24dc56d486', 'message': 'Trivial: fix firewall_refresh_needed return value type\n\nCommit 614b95c83759f6476841f405b08806601a3c89a0 changed\nthe return value type of funcion firewall_refresh_needed\nunexpectedly. This one fixes it.\n\nChange-Id: I92dbdb02742af55534e16b87be551bae101262a1\n'}, {'number': 2, 'created': '2019-11-12 01:01:13.000000000', 'files': ['neutron/agent/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c03b263a67998fef4a6508beaf629bfe27f9d05f', 'message': 'Trivial: fix firewall_refresh_needed return value type\n\nCommit 614b95c83759f6476841f405b08806601a3c89a0 changed\nthe return value type of funcion firewall_refresh_needed\nunexpectedly. This one fixes it.\n\nChange-Id: I92dbdb02742af55534e16b87be551bae101262a1\n'}]",0,683813,c03b263a67998fef4a6508beaf629bfe27f9d05f,19,7,2,9531,,,0,"Trivial: fix firewall_refresh_needed return value type

Commit 614b95c83759f6476841f405b08806601a3c89a0 changed
the return value type of funcion firewall_refresh_needed
unexpectedly. This one fixes it.

Change-Id: I92dbdb02742af55534e16b87be551bae101262a1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/683813/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/securitygroups_rpc.py'],1,2d564f787cea0a69a87ff103144d3c24dc56d486,, return bool(self.devices_to_refilter), return self.devices_to_refilter,1,1
openstack%2Fnova~master~Id24cb48b1b70848d2ce7020d114a843c509ab81c,openstack/nova,master,Id24cb48b1b70848d2ce7020d114a843c509ab81c,api-ref: re-work migrate action post-conditions,MERGED,2019-11-13 15:53:48.000000000,2019-11-16 07:50:33.000000000,2019-11-16 07:48:36.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-13 15:53:48.000000000', 'files': ['api-ref/source/servers-admin-action.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa0239f44df058d9ef4479cf4b1c5e39ff85081c', 'message': 'api-ref: re-work migrate action post-conditions\n\nThis is a follow up to [1] and borrows the same wording\nfrom the resize action post-conditions except uses\n""migrate(d)"" instead of ""resize(d)"" where appropriate.\n\n[1] I77830dfb738cd78c830dc3ce7ea88216c1eac7ef\n\nChange-Id: Id24cb48b1b70848d2ce7020d114a843c509ab81c\n'}]",0,694103,aa0239f44df058d9ef4479cf4b1c5e39ff85081c,15,9,1,6873,,,0,"api-ref: re-work migrate action post-conditions

This is a follow up to [1] and borrows the same wording
from the resize action post-conditions except uses
""migrate(d)"" instead of ""resize(d)"" where appropriate.

[1] I77830dfb738cd78c830dc3ce7ea88216c1eac7ef

Change-Id: Id24cb48b1b70848d2ce7020d114a843c509ab81c
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/694103/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/servers-admin-action.inc'],1,aa0239f44df058d9ef4479cf4b1c5e39ff85081c,bug/1558880,"A successfully migrated server shows a ``VERIFY_RESIZE`` status and ``finished`` migration status. If the cloud has configured the `resize_confirm_window`_ option of the Compute service to a positive value, the Compute service automatically confirms the migrate operation after the configured interval. .. _resize_confirm_window: https://docs.openstack.org/nova/latest/configuration/config.html#DEFAULT.resize_confirm_window","The server goes to a ``VERIFY_RESIZE`` status, ``RESIZED`` VM status, and ``finished`` migration status after a successful cold migration and then must be confirmed or reverted. If you set the ``resize_confirm_window`` option of the Compute service to a positive integer value, the Compute service automatically confirms the migrate operation after the set interval in seconds.",6,6
openstack%2Fnova~master~I085bb3f01802332fcf4820d3ead6f74785dff8b9,openstack/nova,master,I085bb3f01802332fcf4820d3ead6f74785dff8b9,doc: mention that rescuing a volume-backed server is not supported,MERGED,2019-11-15 16:02:27.000000000,2019-11-16 07:48:43.000000000,2019-11-16 07:48:43.000000000,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23950}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-15 16:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30fa7e9c42b3c3763d2969cec08c6ac38f56935e', 'message': 'doc: mention that rescuing a volume-backed server is not supported\n\nThe API reference also says this [1] so the doc should also.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=rescue-server-rescue-action-detail#rescue-server-rescue-action\n\nChange-Id: I085bb3f01802332fcf4820d3ead6f74785dff8b9\n'}, {'number': 2, 'created': '2019-11-15 16:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4de8d50c3ebcd9321c58eb8be0d66acc5a958d88', 'message': 'doc: mention that rescuing a volume-backed server is not supported\n\nThe API reference already says this [1] so the doc should also.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=rescue-server-rescue-action-detail#rescue-server-rescue-action\n\nChange-Id: I085bb3f01802332fcf4820d3ead6f74785dff8b9\n'}, {'number': 3, 'created': '2019-11-15 19:21:45.000000000', 'files': ['doc/source/user/rescue.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b609bdc20ed387b1e4bcb0ad638393c7d3ec4d8e', 'message': 'doc: mention that rescuing a volume-backed server is not supported\n\nThe API reference already says this [1] so the doc should also.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=rescue-server-rescue-action-detail#rescue-server-rescue-action\n\nChange-Id: I085bb3f01802332fcf4820d3ead6f74785dff8b9\n'}]",2,694584,b609bdc20ed387b1e4bcb0ad638393c7d3ec4d8e,19,9,3,6873,,,0,"doc: mention that rescuing a volume-backed server is not supported

The API reference already says this [1] so the doc should also.

[1] https://docs.openstack.org/api-ref/compute/?expanded=rescue-server-rescue-action-detail#rescue-server-rescue-action

Change-Id: I085bb3f01802332fcf4820d3ead6f74785dff8b9
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/694584/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/rescue.rst'],1,30fa7e9c42b3c3763d2969cec08c6ac38f56935e,bug/1852609," Also, as of the 20.0.0 (Train) release rescuing a volume-backed server is not supported. ",,3,0
openstack%2Fneutron~master~Ic84e1ef507f017516d47a6b66e646e7e7b5ded8d,openstack/neutron,master,Ic84e1ef507f017516d47a6b66e646e7e7b5ded8d,[Fullstack] Fix waiting for packet with DSCP mark in test,MERGED,2019-11-15 10:26:31.000000000,2019-11-16 07:15:42.000000000,2019-11-16 07:13:40.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-15 10:26:31.000000000', 'files': ['neutron/tests/common/agents/l2_extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/458fd224db8cb263b8872ae8d0b7c893e9fd8de2', 'message': ""[Fullstack] Fix waiting for packet with DSCP mark in test\n\nIn test_dscp_marking_packets, sender vm is sending ICMP packets to the\nreceiver_vm.\nBefore this patch even if first ICMP packet wasn't send properly, test\nfailed due to exception raised in execute method.\n\nIt can happend sometimes that first packet will fail to be send as there\ncan be e.g. some configuration on agent's side not done yet. So we\nshould try to ping receiver_vm for 60 seconds instead of failing on\nfirst attempt.\nThis patch changes that behaviour in test.\n\nChange-Id: Ic84e1ef507f017516d47a6b66e646e7e7b5ded8d\nCloses-Bug: #1852724\n""}]",1,694505,458fd224db8cb263b8872ae8d0b7c893e9fd8de2,13,6,1,11975,,,0,"[Fullstack] Fix waiting for packet with DSCP mark in test

In test_dscp_marking_packets, sender vm is sending ICMP packets to the
receiver_vm.
Before this patch even if first ICMP packet wasn't send properly, test
failed due to exception raised in execute method.

It can happend sometimes that first packet will fail to be send as there
can be e.g. some configuration on agent's side not done yet. So we
should try to ping receiver_vm for 60 seconds instead of failing on
first attempt.
This patch changes that behaviour in test.

Change-Id: Ic84e1ef507f017516d47a6b66e646e7e7b5ded8d
Closes-Bug: #1852724
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/694505/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/agents/l2_extensions.py'],1,458fd224db8cb263b8872ae8d0b7c893e9fd8de2,bug/1852724, sender_vm.block_until_ping(receiver_vm.ip),"import timefrom neutron.tests.common import net_helpers with net_helpers.async_ping(sender_vm.namespace, [receiver_vm.ip]) as done: while not done(): time.sleep(0.25)",1,5
openstack%2Fkolla-ansible~stable%2Ftrain~I36c875611931163ca2c29ae93b71d3af64cb197c,openstack/kolla-ansible,stable/train,I36c875611931163ca2c29ae93b71d3af64cb197c,Fix restart policy after MariaDB recovery,MERGED,2019-11-15 14:22:15.000000000,2019-11-16 03:53:13.000000000,2019-11-16 03:52:10.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-15 14:22:15.000000000', 'files': ['ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a56767caed7fe89150e55ca7b9d3f546b5b865f', 'message': ""Fix restart policy after MariaDB recovery\n\nAfter performing a recovery of MariaDB, the mariadb containers are left\nwithout a restart policy. This leaves them unable to recover from the\ncrash of a single galera node. There is another issue, in that the\n'master' node is left in a bootstrap configuration, with the\n--wsrep-new-cluster argument configured as BOOTSTRAP_ARGS.\n\nThis change fixes these issues by removing the restart policy of 'no'\nfrom the 'slave' containers, and recreating the master container without\nthe restart policy or bootstrap arguments.\n\nChange-Id: I36c875611931163ca2c29ae93b71d3af64cb197c\nCloses-Bug: #1851594\n(cherry picked from commit f979ae1f8ee182a8bc6fde4b23b95a460cb81488)\n""}]",0,694550,0a56767caed7fe89150e55ca7b9d3f546b5b865f,8,3,1,14826,,,0,"Fix restart policy after MariaDB recovery

After performing a recovery of MariaDB, the mariadb containers are left
without a restart policy. This leaves them unable to recover from the
crash of a single galera node. There is another issue, in that the
'master' node is left in a bootstrap configuration, with the
--wsrep-new-cluster argument configured as BOOTSTRAP_ARGS.

This change fixes these issues by removing the restart policy of 'no'
from the 'slave' containers, and recreating the master container without
the restart policy or bootstrap arguments.

Change-Id: I36c875611931163ca2c29ae93b71d3af64cb197c
Closes-Bug: #1851594
(cherry picked from commit f979ae1f8ee182a8bc6fde4b23b95a460cb81488)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/694550/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/tasks/recover_cluster.yml'],1,0a56767caed7fe89150e55ca7b9d3f546b5b865f,bug/1851594-stable/train," image: ""{{ mariadb_service.image }}"" dimensions: ""{{ mariadb_service.dimensions }}""- name: Restart master MariaDB container become: true kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ mariadb_service.container_name }}"" image: ""{{ mariadb_service.image }}"" volumes: ""{{ mariadb_service.volumes }}"" dimensions: ""{{ mariadb_service.dimensions }}"" when: - bootstrap_host is defined - bootstrap_host == inventory_hostname - name: Wait for master mariadb wait_for: host: ""{{ api_interface_address }}"" port: ""{{ mariadb_port }}"" connect_timeout: 1 timeout: 60 search_regex: ""MariaDB"" register: check_mariadb_port until: check_mariadb_port is success retries: 10 delay: 6 when: - bootstrap_host is defined - bootstrap_host == inventory_hostname "," environment: KOLLA_CONFIG_STRATEGY: ""{{ config_strategy }}"" BOOTSTRAP_ARGS: "" "" image: ""{{ mariadb_service.image }}"" labels: BOOTSTRAP: restart_policy: no",30,7
openstack%2Ffreezer-web-ui~master~Iee12d4c186a373c5d8987dd48ece2b7a6eef446c,openstack/freezer-web-ui,master,Iee12d4c186a373c5d8987dd48ece2b7a6eef446c,Update devstack doc,MERGED,2019-11-16 01:29:07.000000000,2019-11-16 03:40:41.000000000,2019-11-16 03:40:40.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-16 01:29:07.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/1fc38359338b514fba631b32ceb6059b10f10485', 'message': 'Update devstack doc\n\nAdd a sampe ""local.conf"" file for freezer developer.\n\nChange-Id: Iee12d4c186a373c5d8987dd48ece2b7a6eef446c\n'}]",0,694656,1fc38359338b514fba631b32ceb6059b10f10485,6,2,1,21069,,,0,"Update devstack doc

Add a sampe ""local.conf"" file for freezer developer.

Change-Id: Iee12d4c186a373c5d8987dd48ece2b7a6eef446c
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/56/694656/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,1fc38359338b514fba631b32ceb6059b10f10485,,"This is a sample ``local.conf`` file for freezer developer:: [[local|localrc]] ADMIN_PASSWORD=stack DATABASE_PASSWORD=stack RABBIT_PASSWORD=stack SERVICE_PASSWORD=$ADMIN_PASSWORD DEST=/opt/stack LOGFILE=$DEST/logs/stack.sh.log # only install keystone/horizon/swift in devstack # disable_all_services # enable_service key mysql s-proxy s-object s-container s-account horizon enable_plugin freezer http://git.openstack.org/openstack/freezer master enable_plugin freezer-api http://git.openstack.org/openstack/freezer-api.git master enable_plugin freezer-tempest-plugin http://git.openstack.org/openstack/freezer-tempest-plugin.git master enable_plugin freezer-web-ui http://git.openstack.org/openstack/freezer-web-ui.git master export FREEZER_BACKEND='sqlalchemy' For more information, see: https://docs.openstack.org/devstack/latest/index.html","For more information, see: https://docs.openstack.org/devstack/latest/plugins.html",23,1
openstack%2Fansible-role-collect-logs~master~Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d,openstack/ansible-role-collect-logs,master,Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d,Run Sova patterns parsing in CI jobs,MERGED,2019-08-26 18:39:15.000000000,2019-11-16 02:52:40.000000000,2019-11-16 02:52:40.000000000,"[{'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-08-26 18:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2c0d406aa6d15136dfafcd3ba2811b7bc5808071', 'message': 'Run Sova patterns parsing in CI jobs\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 2, 'created': '2019-08-26 19:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/16f4bf3149824aebca4050dc7da5384e4915fe99', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 3, 'created': '2019-08-26 20:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/7a3072e3d21fe9437f50c81fa051d53bbd853aab', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 4, 'created': '2019-08-27 09:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/289bc7d1682335fcf174e31aee1beb911ebb4cbf', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 5, 'created': '2019-08-27 13:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/050c2db93aaf0e7389e8a5ea3e9f6435cf135fb8', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 6, 'created': '2019-08-27 15:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2fd316c3cdae7487deeea0f90442a9822bf56458', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 7, 'created': '2019-09-11 16:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/57670f8aaab28c422176964c7d03e74209b3368d', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 8, 'created': '2019-09-12 05:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/732a8036883209b139ea2b5d68b2fa9ff5a1c97a', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 9, 'created': '2019-09-12 11:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6afbcdcf6790f1ddcec3fc51a1350630b1056e8b', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 10, 'created': '2019-09-12 16:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b5fec2543b34e3f1d4c1dd6dc6bbad6c23b19ccb', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 11, 'created': '2019-10-24 11:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b2e9e6988d538a1eda860a66316b69d4f3660a28', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 12, 'created': '2019-10-27 09:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ea6289bf3a17a5fde6114291fa56aaaae2690a6c', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 13, 'created': '2019-10-30 22:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d4976d76a0357a08cf0091d02584512d0a405d0c', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 14, 'created': '2019-10-31 11:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/21a62b3b2c7ef891a930366af180413ab0d668f7', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 15, 'created': '2019-10-31 13:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a9f3b1a636915afe8a3337f9ea88ae2ca5b22824', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 16, 'created': '2019-10-31 13:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/eaca2f524e754a74760e4fa71365763abedc5715', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 17, 'created': '2019-10-31 13:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/86c306e7e1dcefae389ff77758e0d149c4a86013', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 18, 'created': '2019-10-31 14:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2922a73cc167284b4ba01218cb4e653246e42e3c', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 19, 'created': '2019-10-31 14:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/22eec86038a188245380a7358a6af5eb4b9c672d', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 20, 'created': '2019-11-01 10:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/820c4e8846a230e1cd66239c13cca434cd090dcb', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 21, 'created': '2019-11-03 10:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/081a4425d8814ae578ddfd96538efd58929f7d4d', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 22, 'created': '2019-11-04 09:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/764f030cea3afc990dca42ae5a6a1c424047d4f1', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\nThe original service code is in https://github.com/sshnaidm/sova\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}, {'number': 23, 'created': '2019-11-15 21:17:58.000000000', 'files': ['molecule/sova/prepare.yml', 'module_utils/sova_lib.py', 'molecule/sova/molecule.yml', 'library/sova.py', 'molecule/sova/verify.yml', 'vars/sova-patterns.yml', 'README.rst', 'molecule/sova/playbook.yml', 'tasks/sova.yml', 'setup.cfg', 'tasks/publish.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/50e357a4a37a6819c68b705734a79e8044d44732', 'message': 'Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\nThe original service code is in https://github.com/sshnaidm/sova\n\nChange-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d\n'}]",59,678630,50e357a4a37a6819c68b705734a79e8044d44732,91,12,23,10969,,,0,"Run Sova patterns parsing in CI jobs

Using regexps and string patterns, analyze logs and save failure
messages in file.
The original service code is in https://github.com/sshnaidm/sova

Change-Id: Ib55d1b025c4ad9e1775d7918d052ef5a27682c3d
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/30/678630/13 && git format-patch -1 --stdout FETCH_HEAD,"['module_utils/config.py', 'module_utils/sova_lib.py', 'library/sova.py', 'tasks/sova.yml', 'tasks/publish.yml']",5,2c0d406aa6d15136dfafcd3ba2811b7bc5808071,sova,- include: sova.yml ignore_errors: true ,,937,0
openstack%2Fnova~stable%2Ftrain~I3cf6eb4654663865d9258c38f05cd05974ffcf9d,openstack/nova,stable/train,I3cf6eb4654663865d9258c38f05cd05974ffcf9d,Use admin neutron client to see if instance has qos ports,MERGED,2019-11-13 09:21:00.000000000,2019-11-16 00:42:16.000000000,2019-11-16 00:39:11.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-13 09:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c60dcb3d52da2ef0919cc11aa63663b29dbff3e', 'message': 'Use admin neutron client to see if instance has qos ports\n\nThe nova-api checks at each move* operation if the instance has qos port\nattached as not all the move operations are supported for such servers.\nNova uses the request context to initialize the neutron client for the\nport query. However neutron does not return the value of the\nresource_request of the port if it is queried with a non admin client.\nThis causes that if the move operation is initiated by a non admin\nthen nova thinks that the ports do not have resource request.\n\nThis patch creates an admin context for this neutron query.\n\nThe new functional tests are not added before this patch in a regression\ntest like way as existing functional tests are reused with different\nsetup and doing that without the fix causes a lot of different failure\nscenarios.\n\nNote that neutron fixture is changed to simulate the different behavior\nin case of different request context are used to initialize the client.\n\n*: Note that Id5f2f4f22b856c989e2eef8ed56b9829d1bcefb6 removed the check\n   for evacuate in Ussuri but exists in Train and Stein.\n\nConflicts:\n      nova/tests/fixtures.py\nDue to d2d4317e1a31f6ac40c5f29b57cd4ea196dc8780 is missing from\nstable/train\n\nChange-Id: I3cf6eb4654663865d9258c38f05cd05974ffcf9d\nCloses-Bug: #1850280\n(cherry picked from commit 899976960503524b8e5c6588e339742ca4bf8158)\n'}, {'number': 2, 'created': '2019-11-13 12:45:53.000000000', 'files': ['nova/tests/unit/api/openstack/test_common.py', 'nova/api/openstack/compute/shelve.py', 'nova/tests/fixtures.py', 'nova/tests/functional/integrated_helpers.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/common.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4cb493fe4f79e736ae4fd7874b02d1d5ceed02c1', 'message': 'Use admin neutron client to see if instance has qos ports\n\nThe nova-api checks at each move* operation if the instance has qos port\nattached as not all the move operations are supported for such servers.\nNova uses the request context to initialize the neutron client for the\nport query. However neutron does not return the value of the\nresource_request of the port if it is queried with a non admin client.\nThis causes that if the move operation is initiated by a non admin\nthen nova thinks that the ports do not have resource request.\n\nThis patch creates an admin context for this neutron query.\n\nThe new functional tests are not added before this patch in a regression\ntest like way as existing functional tests are reused with different\nsetup and doing that without the fix causes a lot of different failure\nscenarios.\n\nNote that neutron fixture is changed to simulate the different behavior\nin case of different request context are used to initialize the client.\n\n*: Note that Id5f2f4f22b856c989e2eef8ed56b9829d1bcefb6 removed the check\n   for evacuate in Ussuri but exists in Train and Stein.\n\nConflicts:\n      nova/tests/fixtures.py\nDue to d2d4317e1a31f6ac40c5f29b57cd4ea196dc8780 is missing from\nstable/train\n\nAnother difference from the original patch is in\nnova/api/openstack/compute/evacuate.py due to\nId5f2f4f22b856c989e2eef8ed56b9829d1bcefb6 is only merged in Ussuri.\n\nChange-Id: I3cf6eb4654663865d9258c38f05cd05974ffcf9d\nCloses-Bug: #1850280\n(cherry picked from commit 899976960503524b8e5c6588e339742ca4bf8158)\n'}]",2,694018,4cb493fe4f79e736ae4fd7874b02d1d5ceed02c1,31,9,2,9708,,,0,"Use admin neutron client to see if instance has qos ports

The nova-api checks at each move* operation if the instance has qos port
attached as not all the move operations are supported for such servers.
Nova uses the request context to initialize the neutron client for the
port query. However neutron does not return the value of the
resource_request of the port if it is queried with a non admin client.
This causes that if the move operation is initiated by a non admin
then nova thinks that the ports do not have resource request.

This patch creates an admin context for this neutron query.

The new functional tests are not added before this patch in a regression
test like way as existing functional tests are reused with different
setup and doing that without the fix causes a lot of different failure
scenarios.

Note that neutron fixture is changed to simulate the different behavior
in case of different request context are used to initialize the client.

*: Note that Id5f2f4f22b856c989e2eef8ed56b9829d1bcefb6 removed the check
   for evacuate in Ussuri but exists in Train and Stein.

Conflicts:
      nova/tests/fixtures.py
Due to d2d4317e1a31f6ac40c5f29b57cd4ea196dc8780 is missing from
stable/train

Another difference from the original patch is in
nova/api/openstack/compute/evacuate.py due to
Id5f2f4f22b856c989e2eef8ed56b9829d1bcefb6 is only merged in Ussuri.

Change-Id: I3cf6eb4654663865d9258c38f05cd05974ffcf9d
Closes-Bug: #1850280
(cherry picked from commit 899976960503524b8e5c6588e339742ca4bf8158)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/694018/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/test_common.py', 'nova/api/openstack/compute/shelve.py', 'nova/tests/fixtures.py', 'nova/tests/functional/integrated_helpers.py', 'nova/api/openstack/common.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",10,2c60dcb3d52da2ef0919cc11aa63663b29dbff3e,bug/1850280," instance['uuid'], self.controller.network_api)"," self.req.environ['nova.context'], instance['uuid'], self.controller.network_api)",81,13
openstack%2Fnova~stable%2Ftrain~I1178fb77a74010c3b9f51eea22c7e7576b600015,openstack/nova,stable/train,I1178fb77a74010c3b9f51eea22c7e7576b600015,Use admin neutron client to gather port resource requests,MERGED,2019-11-13 09:07:07.000000000,2019-11-16 00:41:08.000000000,2019-11-16 00:39:06.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-13 09:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eedc3a1933c89e73543f60ffc3a96838a77b3d6c', 'message': 'Use admin neutron client to gather port resource requests\n\nThe network_api get_requested_resource_for_instance() creates a neutron\nclient with the current request context and uses the client to query\nneutron ports. Neutron does not return the resource_request of the\nneutron port if it is queried by a non-admin. So if the request context\nwas a non admin context nova thought that none of the ports have resource\nrequests.\n\nThis patch ensures that an admin client is used to query the ports.\n\nChange-Id: I1178fb77a74010c3b9f51eea22c7e7576b600015\nCloses-Bug: #1849695\n(cherry picked from commit 38a214466fa2cccc3808ca6d7d7140cf56f733ba)\n'}, {'number': 2, 'created': '2019-11-13 09:10:13.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c7a43d342735c93ef33208af9de06ce2d743e477', 'message': 'Use admin neutron client to gather port resource requests\n\nThe network_api get_requested_resource_for_instance() creates a neutron\nclient with the current request context and uses the client to query\nneutron ports. Neutron does not return the resource_request of the\nneutron port if it is queried by a non-admin. So if the request context\nwas a non admin context nova thought that none of the ports have resource\nrequests.\n\nThis patch ensures that an admin client is used to query the ports.\n\nChange-Id: I1178fb77a74010c3b9f51eea22c7e7576b600015\nCloses-Bug: #1849695\n(cherry picked from commit 38a214466fa2cccc3808ca6d7d7140cf56f733ba)\n'}]",0,694015,c7a43d342735c93ef33208af9de06ce2d743e477,28,9,2,9708,,,0,"Use admin neutron client to gather port resource requests

The network_api get_requested_resource_for_instance() creates a neutron
client with the current request context and uses the client to query
neutron ports. Neutron does not return the resource_request of the
neutron port if it is queried by a non-admin. So if the request context
was a non admin context nova thought that none of the ports have resource
requests.

This patch ensures that an admin client is used to query the ports.

Change-Id: I1178fb77a74010c3b9f51eea22c7e7576b600015
Closes-Bug: #1849695
(cherry picked from commit 38a214466fa2cccc3808ca6d7d7140cf56f733ba)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/694015/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,eedc3a1933c89e73543f60ffc3a96838a77b3d6c,bug/1849695," mock_get_client.assert_called_once_with(self.context, admin=True) ",,7,1
openstack%2Fpanko~master~Ife902b86c2fea327f101408d0e6ef1ab49c70c06,openstack/panko,master,Ife902b86c2fea327f101408d0e6ef1ab49c70c06,Switch to Ussuri jobs,NEW,2019-10-22 04:26:31.000000000,2019-11-15 23:41:05.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 04:26:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/panko/commit/1846324f25d1b1ad284de6d720030d2f5447d9e1', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ife902b86c2fea327f101408d0e6ef1ab49c70c06\n'}]",0,689927,1846324f25d1b1ad284de6d720030d2f5447d9e1,3,2,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Ife902b86c2fea327f101408d0e6ef1ab49c70c06
",git fetch https://review.opendev.org/openstack/panko refs/changes/27/689927/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1846324f25d1b1ad284de6d720030d2f5447d9e1,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fosc-placement~master~I48b56f4e1942cad86cf9084a8ef48a910988f045,openstack/osc-placement,master,I48b56f4e1942cad86cf9084a8ef48a910988f045,WIP: resource provider trait set --amend --[no-]trait,NEW,2019-10-21 15:30:07.000000000,2019-11-15 23:24:32.000000000,,"[{'_account_id': 970}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 15:30:07.000000000', 'files': ['osc_placement/resources/trait.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/b69c41f01540460919d499d0826b45327cb5c317', 'message': 'WIP: resource provider trait set --amend --[no-]trait\n\nPreviously\n\n openstack resource provider trait set\n\nwould replace the entire trait list with whatever items you specified to\nthe (multiple) ``--trait`` options.\n\nWith [1] we added the ability to amend/append inventories with a new\n``--amend`` option. This follows a similar principle for amending the\ntrait list in place: you can now specify ``--amend`` and any\n``--trait``s are appended to the existing trait list. A new\n``--no-trait`` option, which may similarly be repeated, allows you to\nremove traits from the existing trait list.\n\n openstack resource provider trait set --amend \\\n    --trait CUSTOM_ADD_THIS_ONE --trait CUSTOM_AND_THIS_ONE \\\n    --no-trait CUSTOM_REMOVE_THIS_ONE --no-trait CUSTOM_ALSO_THIS\n\nOther semantics of note:\n- Works with standard and custom traits.\n- With --amend, both --trait and --no-trait are idempotent (traits\n  specified to ``--trait``/``--no-trait`` which are already\n  present/absent, respectively, will be ignored).\n- As previously, custom traits must be registered (``openstack trait\n  add``) before they can be added to a resource provider. However,\n  existence is not checked for removals, meaning that a nonexistent\n  custom trait on the removal list is ignored (because it is obviously\n  not already on the resource provider, because it would have needed to\n  exist).\n\nWIP: test, reno\n\n[1] I4ed1016852144377485959e65077803f5f2c672c\n\nChange-Id: I48b56f4e1942cad86cf9084a8ef48a910988f045\nStory: #2005258\nTask: #30061\n'}]",9,689823,b69c41f01540460919d499d0826b45327cb5c317,6,6,1,14070,,,0,"WIP: resource provider trait set --amend --[no-]trait

Previously

 openstack resource provider trait set

would replace the entire trait list with whatever items you specified to
the (multiple) ``--trait`` options.

With [1] we added the ability to amend/append inventories with a new
``--amend`` option. This follows a similar principle for amending the
trait list in place: you can now specify ``--amend`` and any
``--trait``s are appended to the existing trait list. A new
``--no-trait`` option, which may similarly be repeated, allows you to
remove traits from the existing trait list.

 openstack resource provider trait set --amend \
    --trait CUSTOM_ADD_THIS_ONE --trait CUSTOM_AND_THIS_ONE \
    --no-trait CUSTOM_REMOVE_THIS_ONE --no-trait CUSTOM_ALSO_THIS

Other semantics of note:
- Works with standard and custom traits.
- With --amend, both --trait and --no-trait are idempotent (traits
  specified to ``--trait``/``--no-trait`` which are already
  present/absent, respectively, will be ignored).
- As previously, custom traits must be registered (``openstack trait
  add``) before they can be added to a resource provider. However,
  existence is not checked for removals, meaning that a nonexistent
  custom trait on the removal list is ignored (because it is obviously
  not already on the resource provider, because it would have needed to
  exist).

WIP: test, reno

[1] I4ed1016852144377485959e65077803f5f2c672c

Change-Id: I48b56f4e1942cad86cf9084a8ef48a910988f045
Story: #2005258
Task: #30061
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/23/689823/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_placement/resources/trait.py'],1,b69c41f01540460919d499d0826b45327cb5c317,story/2005258," '--amend', action='store_true', help='If this option is specified, traits given via the --trait ' 'option will be added to the existing traits on the provider ' 'and traits given via the --no-trait option will be removed.' ) parser.add_argument( help='Name of the trait. May be repeated. When used with the ' '--amend option, traits are added idempotently (ignored if ' 'already present on the provider).', default=[], action='append' ) parser.add_argument( '--no-trait', metavar='<trait>', help='Name of a trait to be removed. May be repeated. Only valid ' 'with the --amend option. This option is idempotent: traits ' 'already absent from the provider are ignored.', payload = http.request('GET', url).json() if parsed_args.amend: payload['traits'] = list( (set(payload['traits']) | set(parsed_args.trait)) - set(parsed_args.no_trait)) else: payload['traits'] = parsed_args.trait"," help='Name of the trait. May be repeated.', url = RP_BASE_URL.format(uuid=parsed_args.uuid) rp = http.request('GET', url).json() payload = { 'resource_provider_generation': rp['generation'], 'traits': parsed_args.trait }",28,7
openstack%2Fcharm-glance-simplestreams-sync~master~If21d33062c01a0a711d0c880c713d2169be5ffaa,openstack/charm-glance-simplestreams-sync,master,If21d33062c01a0a711d0c880c713d2169be5ffaa,Add custom_properties config option,ABANDONED,2019-10-25 21:04:00.000000000,2019-11-15 23:23:03.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 28744}]","[{'number': 1, 'created': '2019-10-25 21:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/d0c5914d465891640e7f8a248a400d28161a4661', 'message': 'Fix custom properties in do_sync()\n\nChange-Id: If21d33062c01a0a711d0c880c713d2169be5ffaa\n'}, {'number': 2, 'created': '2019-10-25 22:03:04.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_hooks.py', 'config.yaml', 'files/glance-simplestreams-sync.py', 'templates/mirrors.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/070da2d38fb4b1b43ad63dbfe8368dac042ab56d', 'message': 'Add custom_properties config option\n\nThis change add ""custom_properties"" configuration option which\nallows custom image properties to be added to glance.\n\nChange-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2\nCloses-Bug: #1783125\n\nMake use of auth_host config and set it in openstack env\n\nChange-Id: I153f3815b5ec39fae5492a229d2fcb1140cefc09\n\nFix custom properties in do_sync()\n\nChange-Id: If21d33062c01a0a711d0c880c713d2169be5ffaa\n'}]",1,691433,070da2d38fb4b1b43ad63dbfe8368dac042ab56d,8,4,2,29444,,,0,"Add custom_properties config option

This change add ""custom_properties"" configuration option which
allows custom image properties to be added to glance.

Change-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2
Closes-Bug: #1783125

Make use of auth_host config and set it in openstack env

Change-Id: I153f3815b5ec39fae5492a229d2fcb1140cefc09

Fix custom properties in do_sync()

Change-Id: If21d33062c01a0a711d0c880c713d2169be5ffaa
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/33/691433/2 && git format-patch -1 --stdout FETCH_HEAD,['files/glance-simplestreams-sync.py'],1,d0c5914d465891640e7f8a248a400d28161a4661,bug/1783125," mirror_args['custom_properties'] = charm_conf.get('custom_properties', False)"," 'custom_properties': charm_conf.get('custom_properties', False),",2,2
openstack%2Fcharm-glance-simplestreams-sync~master~I153f3815b5ec39fae5492a229d2fcb1140cefc09,openstack/charm-glance-simplestreams-sync,master,I153f3815b5ec39fae5492a229d2fcb1140cefc09,Make use of auth_host config and set it in openstack env,ABANDONED,2019-10-25 21:04:00.000000000,2019-11-15 23:22:27.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 21:04:00.000000000', 'files': ['files/glance-simplestreams-sync.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/767ed5c24c4506ae2ed89a16397bcfc605d67d93', 'message': 'Make use of auth_host config and set it in openstack env\n\nChange-Id: I153f3815b5ec39fae5492a229d2fcb1140cefc09\n'}]",0,691432,767ed5c24c4506ae2ed89a16397bcfc605d67d93,4,2,1,29444,,,0,"Make use of auth_host config and set it in openstack env

Change-Id: I153f3815b5ec39fae5492a229d2fcb1140cefc09
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/32/691432/1 && git format-patch -1 --stdout FETCH_HEAD,['files/glance-simplestreams-sync.py'],1,767ed5c24c4506ae2ed89a16397bcfc605d67d93,bug/1783125," host=id_conf['auth_host'], port=id_conf['auth_port'], public_auth_url = (""{protocol}://{host}:{port}/{version}"" .format(protocol=id_conf['service_protocol'], host=id_conf['service_host'], port=id_conf['service_port'], version=version)) os.environ['OS_PUBLIC_AUTH_URL'] = public_auth_url if 'cacert' in id_conf.keys(): os.environ['OS_CACERT'] = id_conf['cacert'] if 'interface' in id_conf.keys(): os.environ['OS_INTERFACE'] = id_conf['interface'] os.environ['OS_ENDPOINT_TYPE'] = id_conf['interface']"," host=id_conf['service_host'], port=id_conf['service_port'],",13,2
openstack%2Fcinder~master~Idb3841f39428de93f0482cf7785fcf398487e595,openstack/cinder,master,Idb3841f39428de93f0482cf7785fcf398487e595,PowerMax Driver - QoS calculation failure,MERGED,2019-10-11 16:06:07.000000000,2019-11-15 23:15:29.000000000,2019-11-15 23:14:08.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 29855}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-11 16:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f025693135d692475ea2fc84c001ef03c59bc3f', 'message': ""PowerMax Driver - QoS calculation failure\n\nThe value for 'host_io_limit_mb_sec' is not correctly being cast to\nan int and U4P REST will only accept an whole int between 1 and\n100000.\n\nChange-Id: Idb3841f39428de93f0482cf7785fcf398487e595\n""}, {'number': 2, 'created': '2019-10-25 14:42:14.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/99916612d361186c889b32a19bea6fb28eaf8b70', 'message': ""PowerMax Driver - QoS calculation failure\n\nThe value for 'host_io_limit_mb_sec' is not correctly being cast to\nan int and U4P REST will only accept an whole int between 1 and\n100000.\n\nChange-Id: Idb3841f39428de93f0482cf7785fcf398487e595\n""}]",0,688159,99916612d361186c889b32a19bea6fb28eaf8b70,82,38,2,12670,,,0,"PowerMax Driver - QoS calculation failure

The value for 'host_io_limit_mb_sec' is not correctly being cast to
an int and U4P REST will only accept an whole int between 1 and
100000.

Change-Id: Idb3841f39428de93f0482cf7785fcf398487e595
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/688159/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py']",2,3f025693135d692475ea2fc84c001ef03c59bc3f,cast_int_issue, input_value = int( int(qos_extra_spec['total_bytes_sec']) / units.Mi), input_value = int(qos_extra_spec['total_bytes_sec']) / units.Mi,14,1
openstack%2Fnova~master~Idf2cf26d64e0a535291f710d1b510f4780e40587,openstack/nova,master,Idf2cf26d64e0a535291f710d1b510f4780e40587,Remove fixed sqlalchemy-migrate deprecation warning filters,MERGED,2019-10-23 18:11:11.000000000,2019-11-15 23:13:02.000000000,2019-11-15 23:11:07.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-23 18:11:11.000000000', 'files': ['requirements.txt', 'nova/tests/fixtures.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/b972f23ba6d3f60d647930f7b3a569d66d7c91c1', 'message': 'Remove fixed sqlalchemy-migrate deprecation warning filters\n\nBoth [1] and [2] are fixed in sqlalchemy-migrate 0.13.0 so\nwe can bump requirements and drop the warnings filters.\n\nDepends-On: https://review.opendev.org/690419/\n\n[1] https://review.opendev.org/682518/\n[2] https://review.opendev.org/671040/\n\nChange-Id: Idf2cf26d64e0a535291f710d1b510f4780e40587\n'}]",0,690704,b972f23ba6d3f60d647930f7b3a569d66d7c91c1,56,15,1,6873,,,0,"Remove fixed sqlalchemy-migrate deprecation warning filters

Both [1] and [2] are fixed in sqlalchemy-migrate 0.13.0 so
we can bump requirements and drop the warnings filters.

Depends-On: https://review.opendev.org/690419/

[1] https://review.opendev.org/682518/
[2] https://review.opendev.org/671040/

Change-Id: Idf2cf26d64e0a535291f710d1b510f4780e40587
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/690704/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/tests/fixtures.py', 'lower-constraints.txt']",3,b972f23ba6d3f60d647930f7b3a569d66d7c91c1,bug/1814288,sqlalchemy-migrate==0.13.0,sqlalchemy-migrate==0.11.0,2,17
openstack%2Fnova~master~I4ce8874aa3e879e89ab5c7c76162561acbdea5c4,openstack/nova,master,I4ce8874aa3e879e89ab5c7c76162561acbdea5c4,docs: Extract rescue from reboot,MERGED,2019-11-15 12:37:59.000000000,2019-11-15 23:04:56.000000000,2019-11-15 23:01:37.000000000,"[{'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-15 12:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3cf51ef6e83ad55bd8284f2cae3cbd343d1594a2', 'message': 'docs: Extract rescue from reboot\n\nThis change simply extracts and slightly reorders the existing rescue\ndocumentation from the reboot reference page.\n\nCloses-Bug: #1852609\nChange-Id: I4ce8874aa3e879e89ab5c7c76162561acbdea5c4\n'}, {'number': 2, 'created': '2019-11-15 12:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e95afd1ede6b5187749ad60a4a8d38e686d383f', 'message': 'docs: Extract rescue from reboot\n\nThis change simply extracts and slightly reorders the existing rescue\ndocumentation from the reboot reference page.\n\nCloses-Bug: #1852609\nChange-Id: I4ce8874aa3e879e89ab5c7c76162561acbdea5c4\n'}, {'number': 3, 'created': '2019-11-15 15:56:20.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/rescue.rst', 'doc/source/user/reboot.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f46b9b281be5c026647496702f1330dca624b37', 'message': 'docs: Extract rescue from reboot\n\nThis change simply extracts and slightly reorders the existing rescue\ndocumentation from the reboot reference page.\n\nCloses-Bug: #1852609\nChange-Id: I4ce8874aa3e879e89ab5c7c76162561acbdea5c4\n'}]",6,694529,7f46b9b281be5c026647496702f1330dca624b37,22,7,3,10135,,,0,"docs: Extract rescue from reboot

This change simply extracts and slightly reorders the existing rescue
documentation from the reboot reference page.

Closes-Bug: #1852609
Change-Id: I4ce8874aa3e879e89ab5c7c76162561acbdea5c4
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/694529/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/rescue.rst', 'doc/source/user/reboot.rst']",3,3cf51ef6e83ad55bd8284f2cae3cbd343d1594a2,bug/1852609,this operation may be required if a filesystem of an instance becomes corrupted with prolonged use. See the `Rescue an instance`__ section for more details. .. __ : rescue.html,"this operation may be required if a filesystem of an instance becomes corrupted with prolonged use. .. note:: Pause, suspend, and stop operations are not allowed when an instance is running in rescue mode, as triggering these actions causes the loss of the original instance state and makes it impossible to unrescue the instance. Rescue mode provides a mechanism for access, even if an image renders the instance inaccessible. By default, it starts an instance from the initial image attaching the current boot disk as a secondary one. To perform an instance reboot into rescue mode, use the :command:`openstack server rescue` command: .. code-block:: console $ openstack server rescue SERVER .. note:: On running the :command:`openstack server rescue` command, an instance performs a soft shutdown first. This means that the guest operating system has a chance to perform a controlled shutdown before the instance is powered off. The shutdown behavior is configured by the :oslo.config:option:`shutdown_timeout` parameter that can be set in the ``nova.conf`` file. Its value stands for the overall period (in seconds) a guest operating system is allowed to complete the shutdown. The timeout value can be overridden on a per image basis by means of ``os_shutdown_timeout`` that is an image metadata setting allowing different types of operating systems to specify how much time they need to shut down cleanly. To restart the instance from the normal boot disk, run the following command: .. code-block:: console $ openstack server unrescue SERVER If you want to rescue an instance with a specific image, rather than the default one, use the ``--image`` parameter: .. code-block:: console $ openstack server rescue --image IMAGE_ID SERVER",66,50
openstack%2Fnova~master~I4cb9cbe1e02c3f6c6148f73a38d10e8db7e61b1a,openstack/nova,master,I4cb9cbe1e02c3f6c6148f73a38d10e8db7e61b1a,Always trait the compute node RP with COMPUTE_NODE,MERGED,2019-10-16 17:00:29.000000000,2019-11-15 23:03:44.000000000,2019-11-15 23:01:32.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29745}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-16 17:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55cb458f8c94bb62066da4bb4a1e010a5898444b', 'message': 'Always trait the compute node RP with COMPUTE_NODE\n\nWe have at least one use case [1] for identifying resource providers\nwhich represent compute nodes. There are a few ways we could do that\nhackishly (e.g. [2], [3]) but the clean way is to have nova-compute mark\nthe provider with a trait, since nova-compute knows which one it is\nanyway.\n\nThis commit uses the COMPUTE_NODE trait for this purpose, and bumps the\nos-traits requirement to 1.1.0 where it is introduced.\n\n[1] https://review.opendev.org/#/c/670112/7/nova/cmd/manage.py@2921\n[2] Assume a provider with a certain resource class, like MEMORY_MB, is\nalways a compute node. This is not necessarily future-proof (maybe all\nMEMORY_MB will someday reside on NUMA node providers; similar for other\nresource classes) and isn\'t necessarily true in all cases today anyway\n(ironic nodes don\'t have MEMORY_MB inventory) and there\'s also currently\nno easy way to query for that (GET /resource_providers?MEMORY_MB:1 won\'t\nreturn ""full"" providers, and you can\'t ask for :0).\n[3] Assume a root provider without the MISC_SHARES_VIA_AGGREGATE trait\nis a compute node. This assumes you\'re only using placement for nova-ish\nthings.\n\nChange-Id: I4cb9cbe1e02c3f6c6148f73a38d10e8db7e61b1a\n'}, {'number': 2, 'created': '2019-10-18 14:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8895fdec7aea40abf4d58d0f17d104d27a8c503d', 'message': 'Always trait the compute node RP with COMPUTE_NODE\n\nWe have at least one use case [1] for identifying resource providers\nwhich represent compute nodes. There are a few ways we could do that\nhackishly (e.g. [2], [3]) but the clean way is to have nova-compute mark\nthe provider with a trait, since nova-compute knows which one it is\nanyway.\n\nThis commit uses the COMPUTE_NODE trait for this purpose, and bumps the\nos-traits requirement to 1.1.0 where it is introduced.\n\n[1] https://review.opendev.org/#/c/670112/7/nova/cmd/manage.py@2921\n[2] Assume a provider with a certain resource class, like MEMORY_MB, is\nalways a compute node. This is not necessarily future-proof (maybe all\nMEMORY_MB will someday reside on NUMA node providers; similar for other\nresource classes) and isn\'t necessarily true in all cases today anyway\n(ironic nodes don\'t have MEMORY_MB inventory) and there\'s also currently\nno easy way to query for that (GET /resource_providers?MEMORY_MB:1 won\'t\nreturn ""full"" providers, and you can\'t ask for :0).\n[3] Assume a root provider without the MISC_SHARES_VIA_AGGREGATE trait\nis a compute node. This assumes you\'re only using placement for nova-ish\nthings.\n\nChange-Id: I4cb9cbe1e02c3f6c6148f73a38d10e8db7e61b1a\n'}, {'number': 3, 'created': '2019-10-18 19:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29760c1a99cdb82611880d5da289a8368c4ae03a', 'message': 'Always trait the compute node RP with COMPUTE_NODE\n\nWe have at least one use case [1] for identifying resource providers\nwhich represent compute nodes. There are a few ways we could do that\nhackishly (e.g. [2], [3]) but the clean way is to have nova-compute mark\nthe provider with a trait, since nova-compute knows which one it is\nanyway.\n\nThis commit uses the COMPUTE_NODE trait for this purpose, and bumps the\nos-traits requirement to 1.1.0 where it is introduced.\n\n[1] https://review.opendev.org/#/c/670112/7/nova/cmd/manage.py@2921\n[2] Assume a provider with a certain resource class, like MEMORY_MB, is\nalways a compute node. This is not necessarily future-proof (maybe all\nMEMORY_MB will someday reside on NUMA node providers; similar for other\nresource classes) and isn\'t necessarily true in all cases today anyway\n(ironic nodes don\'t have MEMORY_MB inventory) and there\'s also currently\nno easy way to query for that (GET /resource_providers?MEMORY_MB:1 won\'t\nreturn ""full"" providers, and you can\'t ask for :0).\n[3] Assume a root provider without the MISC_SHARES_VIA_AGGREGATE trait\nis a compute node. This assumes you\'re only using placement for nova-ish\nthings.\n\nChange-Id: I4cb9cbe1e02c3f6c6148f73a38d10e8db7e61b1a\n'}, {'number': 4, 'created': '2019-10-21 16:35:28.000000000', 'files': ['requirements.txt', 'releasenotes/notes/new-COMPUTE_NODE-trait-06701d03b17d179f.yaml', 'nova/tests/unit/compute/test_resource_tracker.py', 'lower-constraints.txt', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a79d3d546bbf679fdc7d337824dbe1a26451fbaa', 'message': 'Always trait the compute node RP with COMPUTE_NODE\n\nWe have at least one use case [1] for identifying resource providers\nwhich represent compute nodes. There are a few ways we could do that\nhackishly (e.g. [2], [3]) but the clean way is to have nova-compute mark\nthe provider with a trait, since nova-compute knows which one it is\nanyway.\n\nThis commit uses the COMPUTE_NODE trait for this purpose, and bumps the\nos-traits requirement to 1.1.0 where it is introduced.\n\nArguably this is a no-op until something starts using it, but a release\nnote is added anyway warning that all compute nodes should be upgraded\nto ussuri (or the trait added manually) for the trait to be useful.\n\n[1] https://review.opendev.org/#/c/670112/7/nova/cmd/manage.py@2921\n[2] Assume a provider with a certain resource class, like MEMORY_MB, is\nalways a compute node. This is not necessarily future-proof (maybe all\nMEMORY_MB will someday reside on NUMA node providers; similar for other\nresource classes) and isn\'t necessarily true in all cases today anyway\n(ironic nodes don\'t have MEMORY_MB inventory) and there\'s also currently\nno easy way to query for that (GET /resource_providers?MEMORY_MB:1 won\'t\nreturn ""full"" providers, and you can\'t ask for :0).\n[3] Assume a root provider without the MISC_SHARES_VIA_AGGREGATE trait\nis a compute node. This assumes you\'re only using placement for nova-ish\nthings.\n\nChange-Id: I4cb9cbe1e02c3f6c6148f73a38d10e8db7e61b1a\n'}]",2,688979,a79d3d546bbf679fdc7d337824dbe1a26451fbaa,94,16,4,14070,,,0,"Always trait the compute node RP with COMPUTE_NODE

We have at least one use case [1] for identifying resource providers
which represent compute nodes. There are a few ways we could do that
hackishly (e.g. [2], [3]) but the clean way is to have nova-compute mark
the provider with a trait, since nova-compute knows which one it is
anyway.

This commit uses the COMPUTE_NODE trait for this purpose, and bumps the
os-traits requirement to 1.1.0 where it is introduced.

Arguably this is a no-op until something starts using it, but a release
note is added anyway warning that all compute nodes should be upgraded
to ussuri (or the trait added manually) for the trait to be useful.

[1] https://review.opendev.org/#/c/670112/7/nova/cmd/manage.py@2921
[2] Assume a provider with a certain resource class, like MEMORY_MB, is
always a compute node. This is not necessarily future-proof (maybe all
MEMORY_MB will someday reside on NUMA node providers; similar for other
resource classes) and isn't necessarily true in all cases today anyway
(ironic nodes don't have MEMORY_MB inventory) and there's also currently
no easy way to query for that (GET /resource_providers?MEMORY_MB:1 won't
return ""full"" providers, and you can't ask for :0).
[3] Assume a root provider without the MISC_SHARES_VIA_AGGREGATE trait
is a compute node. This assumes you're only using placement for nova-ish
things.

Change-Id: I4cb9cbe1e02c3f6c6148f73a38d10e8db7e61b1a
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/688979/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'nova/compute/resource_tracker.py']",3,55cb458f8c94bb62066da4bb4a1e010a5898444b,COMPUTE_NODE, # Always mark the compute node. This lets other processes (possibly # unrelated to nova or even OpenStack) find and distinguish these # providers easily. traits.add(os_traits.COMPUTE_NODE) ,,7,2
openstack%2Fcinder~master~Id7131a34f5c4c44b15bed5ac1bc9f10d0d72d7ca,openstack/cinder,master,Id7131a34f5c4c44b15bed5ac1bc9f10d0d72d7ca,"Fix ""is""/""is not"" with a literal usage",MERGED,2019-11-08 15:04:06.000000000,2019-11-15 22:23:23.000000000,2019-11-15 22:22:02.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23950}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-08 15:04:06.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/volume/drivers/hedvig/rest_client.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'cinder/utils.py', 'cinder/tests/unit/volume/drivers/inspur/as13000/test_as13000_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3182a9c92af25a2a022bc96c5a63ab0d816caf61', 'message': 'Fix ""is""/""is not"" with a literal usage\n\nPython 3.8 throws a SyntaxWarning for these,\nshould use ""=="" or ""!="" instead of ""is"" or ""is not"".\n\nChange-Id: Id7131a34f5c4c44b15bed5ac1bc9f10d0d72d7ca\n'}]",0,693548,3182a9c92af25a2a022bc96c5a63ab0d816caf61,53,31,1,4523,,,0,"Fix ""is""/""is not"" with a literal usage

Python 3.8 throws a SyntaxWarning for these,
should use ""=="" or ""!="" instead of ""is"" or ""is not"".

Change-Id: Id7131a34f5c4c44b15bed5ac1bc9f10d0d72d7ca
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/693548/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/hedvig/rest_client.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'cinder/utils.py', 'cinder/tests/unit/volume/drivers/inspur/as13000/test_as13000_driver.py']",8,3182a9c92af25a2a022bc96c5a63ab0d816caf61,, if host_ip == 'fake_ip3':, if host_ip is 'fake_ip3':,26,26
openstack%2Fansible-role-collect-logs~master~I333e52613d73d3c7c10808d141a8e899970723f5,openstack/ansible-role-collect-logs,master,I333e52613d73d3c7c10808d141a8e899970723f5,"DNM, wes test molecule Run Sova patterns parsing in CI jobs",ABANDONED,2019-11-15 21:21:11.000000000,2019-11-15 22:02:38.000000000,,[{'_account_id': 10969}],"[{'number': 1, 'created': '2019-11-15 21:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/8a34f04dacd5b7521bd065dbab32ae6b67b318ad', 'message': 'DNM, wes test molecule Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\nThe original service code is in https://github.com/sshnaidm/sova\n\nChange-Id: I333e52613d73d3c7c10808d141a8e899970723f5\n'}, {'number': 2, 'created': '2019-11-15 21:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/afa21766979ba2e63b9e51cacd904c1d4501477c', 'message': 'DNM, wes test molecule Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\nThe original service code is in https://github.com/sshnaidm/sova\n\nChange-Id: I333e52613d73d3c7c10808d141a8e899970723f5\n'}, {'number': 3, 'created': '2019-11-15 21:38:47.000000000', 'files': ['module_utils/sova_lib.py', 'molecule/sova/molecule.yml', 'library/sova.py', 'molecule/sova/verify.yml', 'README.rst', 'molecule/sova/playbook.yml', 'tasks/sova.yml', 'molecule/sova/prepare.yml', 'vars/sova-patterns.yml', 'zuul.d/layout.yaml', 'setup.cfg', 'tox.ini', 'tasks/publish.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/033333b7c8c52dcde7e7586de91d5ade3d1d809a', 'message': 'DNM, wes test molecule Run Sova patterns parsing in CI jobs\n\nUsing regexps and string patterns, analyze logs and save failure\nmessages in file.\nThe original service code is in https://github.com/sshnaidm/sova\n\nChange-Id: I333e52613d73d3c7c10808d141a8e899970723f5\n'}]",0,694624,033333b7c8c52dcde7e7586de91d5ade3d1d809a,8,1,3,9592,,,0,"DNM, wes test molecule Run Sova patterns parsing in CI jobs

Using regexps and string patterns, analyze logs and save failure
messages in file.
The original service code is in https://github.com/sshnaidm/sova

Change-Id: I333e52613d73d3c7c10808d141a8e899970723f5
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/24/694624/1 && git format-patch -1 --stdout FETCH_HEAD,"['module_utils/sova_lib.py', 'molecule/sova/molecule.yml', 'library/sova.py', 'molecule/sova/verify.yml', 'README.rst', 'molecule/sova/playbook.yml', 'tasks/sova.yml', 'molecule/sova/prepare.yml', 'vars/sova-patterns.yml', 'setup.cfg', 'tox.ini', 'tasks/publish.yml']",12,8a34f04dacd5b7521bd065dbab32ae6b67b318ad,sova,- include: sova.yml ignore_errors: true ,,1123,3
openstack%2Fnova~master~I398aeb73da6bf09e177e5f1fdc668f59f06de8dd,openstack/nova,master,I398aeb73da6bf09e177e5f1fdc668f59f06de8dd,Start functional testing for cross-cell resize,MERGED,2019-02-12 01:09:10.000000000,2019-11-15 20:55:39.000000000,2019-11-14 19:52:22.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-02-12 01:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daa521828640dfd077a485f81f086b7b04a9784e', 'message': 'WIP: Start functional testing for cross-cell resize\n\nTODO: lots of stuff fixed in here which needs to be split out\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 2, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bbbfa176befa9dfa0df84c1de155d1c016f365b', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 3, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bd45aac642c18f18ddc48d575351657e3aec2bc', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 4, 'created': '2019-02-14 21:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/312380146d894dff2f3d1dc10a06dcb5a991009a', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 5, 'created': '2019-02-18 19:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd3e63e3a43a7b3a15c033873b039c8f17fa4c17', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 6, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a21a2289071395fbcc71afe1c63f65075a4ff7be', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 7, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7200a89ba5f421a447558e5844ebe360af57a0f', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 8, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc9a9cdddf1c64a208afe03b6873d9f74d923ac0', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 9, 'created': '2019-03-08 23:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae2344172c8529c568320c7152493f6a31ee012a', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 10, 'created': '2019-03-11 22:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94848cce76e1e50f2927d6b9aea901dfcd404fff', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 11, 'created': '2019-03-14 20:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/949345cafa521f724e571ca2886d783adb6f98d8', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 12, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c78f75d255af6566b5187774e4274f949767cda8', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 13, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b21f81cc8f71cc3a197c23e532fa9197ff49d216', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 14, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07c2fbeb434c718aaa2dcbac2dba14a2ba7a0806', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 15, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a75f75c03b0c1d9551b44f4acbb3583d2f20d07e', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 16, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f01d6b5d8e74ef4459c2b5db8619616f1fe7b0b', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 17, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f0ef854559188683b9c16748317999de0c1459a', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 18, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2d2e2dffee32f92d61b1ef3b512643cd87f3fc5', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 19, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad2c1eeaab8d23375118b7a18644f8d3cd8a1f19', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 20, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53877449e4a8af2bfc20ae1d10155added093332', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 21, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83aee68bfa0d0142e06cfbad9137bbf6002bb723', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 22, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2042004596cec477c215b177499127aa9a35889', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 23, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a1389d3995308cfa8ab1b3963f62ecb8221c4fe', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 24, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0b22ecda01a5975dc301bcfc4e4c55f631c226b', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 25, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66857ec644e80bb07552220c401e8beb109b2543', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 26, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/057223feed8e5e070970fb774345f21cf0526260', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 27, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cddf411be6d9061a3b60187a34425b2798a02742', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 28, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6d1e8506105696f5e80dc05dd2d0f2724bbd18d', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 29, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9731f37a6e1c1ef425c20de4e559cd51a5805fb9', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 30, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2245df2520460cbcee51849168a84f6a06920f1', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 31, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ba314693c5decccf2ec64c5f55218259d2aa453', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 32, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5935b6f2f2c9e7a4fe2e9bd9d9c244ee2cfdef27', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 33, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc9d180089b8c1e083f7df052b755151af5dba8', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 34, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feedafd0448af80e83f74ffd54964c52179d92d9', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 35, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e668f54ac806261d786f93085e1f0fd63f4939ba', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 36, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bba090f8ea459b0117a4ab474c5b4e7122250ec', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 37, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45ff97534889329488086febca9779657d8c585c', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 38, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55133dead7809faad37eedf627173f820ec280c1', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 39, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/137176ccdcf79f1516feb462d2bd850b2de31e9a', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 40, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e11f4a0043d58f320b314c140967d33df753b4ab', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 41, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/213d44a4e4a8b644124936052f4aec14d32bf6a3', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 42, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27e25c89725b3e2ee2dadac8e453ec1c64079fe4', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 43, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7a7a2e60c723e5499df9236cd1555cb09604622', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 44, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/563db75450cdd1c89bc8058e4f7281806ef659dc', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 45, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/482f2de13fd34708e7fb23892ac3dbbc57cc74da', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 46, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6672404364508b9663c115395127bc1647a5bf67', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 47, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9aaed3dda873639095fed90a090f697c05ee247a', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 48, 'created': '2019-10-21 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cab5b2d4f863f85d591715e9ba3228dd3b343a4', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 49, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56542f71113f28418d1cb7929bfe02aff3487a1f', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 50, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4498be7975ae2d8d2d2b1c6cf1888da336ce15d2', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 51, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5696129fb44af95421450681395a3b6fa5808912', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 52, 'created': '2019-11-05 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab4524a0c0a7b0765f8174e935e5bbea3a75052f', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 53, 'created': '2019-11-12 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f609db89f84720c0a9b192d5cf2002e964674105', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}, {'number': 54, 'created': '2019-11-13 15:21:12.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/fixtures.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/functional/integrated_helpers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3b60442456ffa4470d0219d3ddf9ba6a572ee87e', 'message': 'Start functional testing for cross-cell resize\n\nThis adds the beginning of functional tests for\ncross-cell resize which get the instance to VERIFY_RESIZE\nstate and assert various aspects of the instance both in\nthe source cell and target cell.\n\nThe fake virt driver is updated to support creating a\nserver with device tags and also to have a host-specific\nvolume connector dict to aid in debugging test failures.\n\nConfirm/revert resize flows will build on these tests.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd\n'}]",40,636253,3b60442456ffa4470d0219d3ddf9ba6a572ee87e,541,18,54,6873,,,0,"Start functional testing for cross-cell resize

This adds the beginning of functional tests for
cross-cell resize which get the instance to VERIFY_RESIZE
state and assert various aspects of the instance both in
the source cell and target cell.

The fake virt driver is updated to support creating a
server with device tags and also to have a host-specific
volume connector dict to aid in debugging test failures.

Confirm/revert resize flows will build on these tests.

Part of blueprint cross-cell-resize

Change-Id: I398aeb73da6bf09e177e5f1fdc668f59f06de8dd
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/636253/40 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/virt/fake.py', 'nova/tests/fixtures.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py', 'nova/compute/claims.py', 'nova/compute/api.py', 'nova/compute/resource_tracker.py', 'nova/conductor/tasks/cross_cell_migrate.py']",10,daa521828640dfd077a485f81f086b7b04a9784e,bp/cross-cell-resize, self._target_cell_instance.new_flavor = self.flavor,,420,10
openstack%2Fmanila-tempest-plugin~master~If5d8ad1ce5c03ab4b8c64f3501b1e5841300045a,openstack/manila-tempest-plugin,master,If5d8ad1ce5c03ab4b8c64f3501b1e5841300045a,Added script to test create share network,ABANDONED,2019-11-15 18:53:06.000000000,2019-11-15 20:23:49.000000000,,[],"[{'number': 1, 'created': '2019-11-15 18:53:06.000000000', 'files': ['manila_tempest_tests/tests/api/test_share_networks.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4d805cc70abf2466deff2bcde3e1153f6ec81e7e', 'message': 'Added script to test create share network\n\nChange-Id: If5d8ad1ce5c03ab4b8c64f3501b1e5841300045a\n'}]",0,694618,4d805cc70abf2466deff2bcde3e1153f6ec81e7e,2,0,1,30025,,,0,"Added script to test create share network

Change-Id: If5d8ad1ce5c03ab4b8c64f3501b1e5841300045a
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/18/694618/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_share_networks.py'],1,4d805cc70abf2466deff2bcde3e1153f6ec81e7e,share-networks," def test_create_share_network(self): # generate data for share network data = self.generate_share_network_data() # create share network sn1 = self.shares_client.create_share_network(**data) self.assertDictContainsSubset(data, sn1) # Delete first share network self.shares_client.delete_share_network(sn1[""id""]) @tc.attr(base.TAG_POSITIVE, base.TAG_API)",,12,0
openstack%2Fneutron-interconnection~master~I853e65db7035588d97a901291bcd1f98d212f01a,openstack/neutron-interconnection,master,I853e65db7035588d97a901291bcd1f98d212f01a,"Implements OVO, DB models and alembic DB migration",ABANDONED,2019-01-16 10:17:52.000000000,2019-11-15 20:09:01.000000000,,"[{'_account_id': 4187}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-16 10:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/1e5311dac9f01a0e6e6e1e4c01e3449c6ba709a8', 'message': 'Implements OVO, DB models and alembic DB migration\n\n* Defines OVO and DB models for Interconnection resource.\n* Adds corresponding unit tests.\n* Adds Alembic DB migration framework.\n* Updates tox.ini for PEP8 alembic migration check.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nDepends-On: I7c16ffb21f88de88ab80a19d91b898be53419514\nChange-Id: I853e65db7035588d97a901291bcd1f98d212f01a\n'}, {'number': 2, 'created': '2019-01-16 12:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/c392d19f77eb39c2235ffcb418e68de5c4e67d6e', 'message': 'Implements OVO, DB models and alembic DB migration\n\n* Defines OVO and DB models for Interconnection resource.\n* Adds corresponding unit tests.\n* Adds Alembic DB migration framework.\n* Updates tox.ini for PEP8 alembic migration check.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I853e65db7035588d97a901291bcd1f98d212f01a\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 3, 'created': '2019-01-16 14:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/25aea1c3533d541e12d8da5e620e88b115bdd178', 'message': 'Implements OVO, DB models and alembic DB migration\n\n* Defines OVO and DB models for Interconnection resource.\n* Adds corresponding unit tests.\n* Adds Alembic DB migration framework.\n* Updates tox.ini for PEP8 alembic migration check.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I853e65db7035588d97a901291bcd1f98d212f01a\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 4, 'created': '2019-02-22 16:28:39.000000000', 'files': ['neutron_interconnection/db/migration/alembic_migrations/versions/stein/contract/bac2e083247c_initial.py', 'neutron_interconnection/db/migration/alembic_migrations/versions/stein/expand/8a3d0c8cc7c0_initial.py', 'neutron_interconnection/db/interconnection_db.py', 'neutron_interconnection/tests/unit/objects/__init__.py', 'neutron_interconnection/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron_interconnection/tests/unit/objects/test_interconnection.py', 'neutron_interconnection/db/migration/alembic_migrations/README', 'neutron_interconnection/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron_interconnection/objects/__init__.py', 'neutron_interconnection/db/migration/alembic_migrations/env.py', 'neutron_interconnection/db/migration/alembic_migrations/versions/start_neutron_interconnnection.py', 'neutron_interconnection/objects/interconnection.py', 'requirements.txt', 'neutron_interconnection/db/migration/alembic_migrations/script.py.mako', 'neutron_interconnection/db/__init__.py', 'neutron_interconnection/db/migration/__init__.py', 'neutron_interconnection/db/models/head.py', 'neutron_interconnection/db/models/__init__.py', 'setup.cfg', 'tox.ini', 'neutron_interconnection/tests/unit/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/d2ca6fdbfa5a3a372ed12b4601d2d984d4cf542f', 'message': 'Implements OVO, DB models and alembic DB migration\n\n* Defines OVO and DB models for Interconnection resource.\n* Adds corresponding unit tests.\n* Adds Alembic DB migration framework.\n* Updates tox.ini for PEP8 alembic migration check.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I853e65db7035588d97a901291bcd1f98d212f01a\nDepends-On: https://review.openstack.org/626871\n'}]",0,631182,d2ca6fdbfa5a3a372ed12b4601d2d984d4cf542f,9,3,4,19990,,,0,"Implements OVO, DB models and alembic DB migration

* Defines OVO and DB models for Interconnection resource.
* Adds corresponding unit tests.
* Adds Alembic DB migration framework.
* Updates tox.ini for PEP8 alembic migration check.

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I853e65db7035588d97a901291bcd1f98d212f01a
Depends-On: https://review.openstack.org/626871
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/82/631182/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_interconnection/db/migration/alembic_migrations/versions/stein/contract/bac2e083247c_initial.py', 'neutron_interconnection/db/migration/alembic_migrations/versions/stein/expand/8a3d0c8cc7c0_initial.py', 'neutron_interconnection/db/interconnection_db.py', 'neutron_interconnection/tests/unit/objects/__init__.py', 'neutron_interconnection/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron_interconnection/tests/unit/objects/test_interconnection.py', 'neutron_interconnection/db/migration/alembic_migrations/README', 'neutron_interconnection/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron_interconnection/objects/__init__.py', 'neutron_interconnection/db/migration/alembic_migrations/env.py', 'neutron_interconnection/db/migration/alembic_migrations/versions/start_neutron_interconnnection.py', 'neutron_interconnection/objects/interconnection.py', 'requirements.txt', 'neutron_interconnection/db/migration/alembic_migrations/script.py.mako', 'neutron_interconnection/db/__init__.py', 'neutron_interconnection/db/migration/__init__.py', 'neutron_interconnection/db/models/head.py', 'neutron_interconnection/db/models/__init__.py', 'setup.cfg', 'tox.ini', 'neutron_interconnection/tests/unit/__init__.py']",21,1e5311dac9f01a0e6e6e1e4c01e3449c6ba709a8,ovo_db,,,531,2
openstack%2Fneutron-interconnection~master~Icb2bba0913dfd70c20b4afc64f94648c9c7b1a2e,openstack/neutron-interconnection,master,Icb2bba0913dfd70c20b4afc64f94648c9c7b1a2e,Adds configuration framework and utils,ABANDONED,2019-03-29 15:58:39.000000000,2019-11-15 20:08:57.000000000,,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-29 15:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/5aae2b80f1e94d3d8d4b3d5370499d5e3cf50d64', 'message': 'Adds configuration framework and utils\n\n* Adds configuration framework and autogeneration,\n* Defines utils and adds a method to get neutronclient instance based on\n  configuration to connect to remote Neutron.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Icb2bba0913dfd70c20b4afc64f94648c9c7b1a2e\n'}, {'number': 2, 'created': '2019-03-29 16:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/710938b6664f3cef8ab8024f5f782936e083a413', 'message': 'Adds configuration framework and utils\n\n* Adds configuration framework and autogeneration,\n* Defines utils and adds a method to get neutronclient instance based on\n  configuration to connect to remote Neutron.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Icb2bba0913dfd70c20b4afc64f94648c9c7b1a2e\n'}, {'number': 3, 'created': '2019-04-01 09:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/cd8b16b1d640d7f0bcdc5cf7cb13109deeb6e09f', 'message': 'Adds configuration framework and utils\n\n* Adds configuration framework and autogeneration,\n* Defines utils and adds a method to get neutronclient instance based on\n  configuration to connect to remote Neutron.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Icb2bba0913dfd70c20b4afc64f94648c9c7b1a2e\n'}, {'number': 4, 'created': '2019-04-01 11:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/d2ebd7d752055776eb250c543ae8a1e4b6a87afb', 'message': 'Adds configuration framework and utils\n\n* Adds configuration framework and autogeneration,\n* Defines utils and adds a method to get neutronclient instance based on\n  configuration to connect to remote Neutron.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Icb2bba0913dfd70c20b4afc64f94648c9c7b1a2e\n'}, {'number': 5, 'created': '2019-04-01 11:46:08.000000000', 'files': ['.gitignore', 'etc/README.txt', 'doc/source/conf.py', 'neutron_interconnection/services/common/config.py', 'neutron_interconnection/_i18n.py', 'doc/source/configuration/index.rst', 'doc/source/configuration/neutron-interconnection.rst', 'setup.cfg', 'etc/oslo-config-generator/neutron-interconnection.conf', 'neutron_interconnection/services/common/utils.py', 'tox.ini', 'doc/source/configuration/samples/neutron-interconnection.rst', 'neutron_interconnection/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/4748f70ccacc1dfd7ff5dcfe63ceab49716e5537', 'message': 'Adds configuration framework and utils\n\n* Adds configuration framework and autogeneration,\n* Defines utils and adds a method to get neutronclient instance based on\n  configuration to connect to remote Neutron.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Icb2bba0913dfd70c20b4afc64f94648c9c7b1a2e\n'}]",0,648717,4748f70ccacc1dfd7ff5dcfe63ceab49716e5537,11,2,5,19990,,,0,"Adds configuration framework and utils

* Adds configuration framework and autogeneration,
* Defines utils and adds a method to get neutronclient instance based on
  configuration to connect to remote Neutron.

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: Icb2bba0913dfd70c20b4afc64f94648c9c7b1a2e
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/17/648717/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'etc/README.txt', 'doc/source/conf.py', 'neutron_interconnection/services/common/config.py', 'neutron_interconnection/_i18n.py', 'doc/source/configuration/index.rst', 'doc/source/configuration/neutron-interconnection.rst', 'setup.cfg', 'etc/oslo-config-generator/neutron-interconnection.conf', 'neutron_interconnection/services/common/utils.py', 'tox.ini', 'doc/source/configuration/samples/neutron-interconnection.rst', 'neutron_interconnection/opts.py']",13,5aae2b80f1e94d3d8d4b3d5370499d5e3cf50d64,config_utils,"# Copyright (c) 2018 Orange. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_interconnection.services.common import config as inter_config def list_remote_keystone_auth_opts(): return [ ('remote_keystone_auth', inter_config.remote_keystone_auth_opts), ] ",,215,11
openstack%2Fneutron-interconnection~master~Ice4952b8d29488d3a37d5d80894c762971f9c8c4,openstack/neutron-interconnection,master,Ice4952b8d29488d3a37d5d80894c762971f9c8c4,Implements lifecycle state machine,ABANDONED,2019-01-31 16:59:07.000000000,2019-11-15 20:08:54.000000000,,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-31 16:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/3c547c9167468eaac5bd21fa4e4ca891a00928e1', 'message': 'Implements lifecycle state machine\n\n* Update requirements.\n* Adds lifecycle state machine based on Openstack automaton project which will be\nused to handle interconnection lifecycle.\n* Adds corresponding documentation.\n* Adds unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ice4952b8d29488d3a37d5d80894c762971f9c8c4\n'}, {'number': 2, 'created': '2019-02-01 13:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/ebc71c8fa41c33aade975b43ea83e265097f92ac', 'message': 'Implements lifecycle state machine\n\n* Update requirements.\n* Adds lifecycle state machine based on Openstack automaton project which will be\nused to handle interconnection lifecycle.\n* Adds corresponding documentation.\n* Adds unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ice4952b8d29488d3a37d5d80894c762971f9c8c4\n'}, {'number': 3, 'created': '2019-02-22 16:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/2962a9b838a8259ad481b6843c7fc46b90d358da', 'message': 'Implements lifecycle state machine\n\n* Update requirements.\n* Adds lifecycle state machine based on Openstack automaton project which will be\nused to handle interconnection lifecycle.\n* Adds corresponding documentation.\n* Adds unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ice4952b8d29488d3a37d5d80894c762971f9c8c4\n'}, {'number': 4, 'created': '2019-03-29 16:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/db822527f4cee6c4ab4f0bbb01b1283e6c4deb6a', 'message': 'Implements lifecycle state machine\n\n* Update requirements.\n* Adds lifecycle state machine based on Openstack automaton project which will be\nused to handle interconnection lifecycle.\n* Adds corresponding documentation.\n* Adds unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ice4952b8d29488d3a37d5d80894c762971f9c8c4\n'}, {'number': 5, 'created': '2019-04-01 09:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/7630377495accabb6da3718a7c5e05c35c1889c8', 'message': 'Implements lifecycle state machine\n\n* Update requirements.\n* Adds lifecycle state machine based on Openstack automaton project which will be\nused to handle interconnection lifecycle.\n* Adds corresponding documentation.\n* Adds unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ice4952b8d29488d3a37d5d80894c762971f9c8c4\n'}, {'number': 6, 'created': '2019-04-01 11:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/ccad5f58273e9d9133025af162c1149332dd5bdf', 'message': 'Implements lifecycle state machine\n\n* Update requirements.\n* Adds lifecycle state machine based on Openstack automaton project which will be\nused to handle interconnection lifecycle.\n* Adds corresponding documentation.\n* Adds unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ice4952b8d29488d3a37d5d80894c762971f9c8c4\n'}, {'number': 7, 'created': '2019-04-01 12:07:23.000000000', 'files': ['doc/source/contributor/lifecycle_fsm.rst', 'neutron_interconnection/tests/unit/services/test_lifecycle_fsm.py', 'requirements.txt', 'doc/source/contributor/index.rst', 'neutron_interconnection/services/lifecycle_fsm.py', 'doc/source/contributor/lifecycle_fsm_delete_workflow.svg', 'doc/source/contributor/lifecycle_fsm_create_workflow.svg', 'doc/source/contributor/lifecycle_fsm.svg', 'neutron_interconnection/tests/unit/services/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/491857cd34374b96edf327aadbea6da6f4a5a804', 'message': 'Implements lifecycle state machine\n\n* Update requirements.\n* Adds lifecycle state machine based on Openstack automaton project which will be\nused to handle interconnection lifecycle.\n* Adds corresponding documentation.\n* Adds unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ice4952b8d29488d3a37d5d80894c762971f9c8c4\n'}]",0,634275,491857cd34374b96edf327aadbea6da6f4a5a804,15,2,7,19990,,,0,"Implements lifecycle state machine

* Update requirements.
* Adds lifecycle state machine based on Openstack automaton project which will be
used to handle interconnection lifecycle.
* Adds corresponding documentation.
* Adds unit tests.

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: Ice4952b8d29488d3a37d5d80894c762971f9c8c4
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/75/634275/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/lifecycle_fsm.rst', 'neutron_interconnection/services/common/config.py', 'doc/source/contributor/lifecycle_fsm.svg', 'neutron_interconnection/_i18n.py', 'neutron_interconnection/tests/unit/services/__init__.py', 'neutron_interconnection/tests/unit/services/test_lifecycle_fsm.py', 'requirements.txt', 'doc/source/contributor/index.rst', 'neutron_interconnection/services/lifecycle_fsm.py', 'doc/source/contributor/lifecycle_fsm_delete_workflow.svg', 'doc/source/contributor/lifecycle_fsm_create_workflow.svg', 'neutron_interconnection/services/common/utils.py', 'neutron_interconnection/opts.py']",13,3c547c9167468eaac5bd21fa4e4ca891a00928e1,lifecycle_fsm,"# Copyright (c) 2018 Orange. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_interconnection.services.common import config as inter_config def list_neutron_interconnection_opts(): return [ ('neutron_interconnection', inter_config.neutron_interconnection_opts), ] ",,976,0
openstack%2Fneutron-interconnection~master~Ia00d28652be80fe0d70e695872bcee8ded4ad0f8,openstack/neutron-interconnection,master,Ia00d28652be80fe0d70e695872bcee8ded4ad0f8,Add interconnection state scheduler worker,ABANDONED,2019-02-26 16:38:10.000000000,2019-11-15 20:08:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-26 16:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/ee430708cce26e663895d1f0db579da2c34c7b42', 'message': 'Add interconnection state scheduler worker\n\nAdd a worker running, at a fixed interval, a task to check interconnection\nresources state in database :\n- left in xxxxING state since several seconds,\n- or in PRE_xxxx state.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ia00d28652be80fe0d70e695872bcee8ded4ad0f8\n'}, {'number': 2, 'created': '2019-02-27 13:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/b25d9958de8d845a94bcd231bf10adcb60e176c1', 'message': 'Add interconnection state scheduler worker\n\nAdd a worker running, at a fixed interval, a task to check interconnection\nresources state in database :\n- left in xxxxING state since several seconds,\n- or in PRE_xxxx state.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ia00d28652be80fe0d70e695872bcee8ded4ad0f8\n'}, {'number': 3, 'created': '2019-04-01 09:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/a73b4364e8f03e268474419eba12346a4fc5474d', 'message': 'Add interconnection state scheduler worker\n\nAdd a worker running, at a fixed interval, a task to check interconnection\nresources state in database :\n- left in xxxxING state since several seconds,\n- or in PRE_xxxx state.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ia00d28652be80fe0d70e695872bcee8ded4ad0f8\n'}, {'number': 4, 'created': '2019-04-01 12:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/d6e9f947875401732000f82ab6b9f57461e4bbdb', 'message': 'Add interconnection state scheduler worker\n\nAdd a worker running, at a fixed interval, a task to check interconnection\nresources state in database :\n- left in xxxxING state since several seconds,\n- or in PRE_xxxx state.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ia00d28652be80fe0d70e695872bcee8ded4ad0f8\n'}, {'number': 5, 'created': '2019-04-01 14:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/f9274a4defc5628e675964d0d1c569199169f9e1', 'message': 'Add interconnection state scheduler worker\n\nAdd a worker running, at a fixed interval, a task to check interconnection\nresources state in database :\n- left in xxxxING state since several seconds,\n- or in PRE_xxxx state.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ia00d28652be80fe0d70e695872bcee8ded4ad0f8\n'}, {'number': 6, 'created': '2019-04-01 15:03:23.000000000', 'files': ['neutron_interconnection/services/state_scheduler_worker.py', 'neutron_interconnection/services/common/constants.py', 'neutron_interconnection/tests/unit/services/test_state_scheduler_worker.py', 'neutron_interconnection/services/common/config.py', 'setup.cfg', 'etc/oslo-config-generator/neutron-interconnection.conf', 'neutron_interconnection/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/3c4a6d2f7450f7ef073d504b7f9dea426951db2b', 'message': 'Add interconnection state scheduler worker\n\nAdd a worker running, at a fixed interval, a task to check interconnection\nresources state in database :\n- left in xxxxING state since several seconds,\n- or in PRE_xxxx state.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ia00d28652be80fe0d70e695872bcee8ded4ad0f8\n'}]",0,639381,3c4a6d2f7450f7ef073d504b7f9dea426951db2b,13,1,6,19990,,,0,"Add interconnection state scheduler worker

Add a worker running, at a fixed interval, a task to check interconnection
resources state in database :
- left in xxxxING state since several seconds,
- or in PRE_xxxx state.

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: Ia00d28652be80fe0d70e695872bcee8ded4ad0f8
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/81/639381/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_interconnection/services/state_scheduler_worker.py', 'neutron_interconnection/services/common/constants.py', 'neutron_interconnection/tests/unit/services/test_state_scheduler_worker.py', 'neutron_interconnection/services/common/config.py']",4,ee430708cce26e663895d1f0db579da2c34c7b42,state_scheduler_worker," cfg.IntOpt('check_state_interval', default=10, help=_('Check state interval in seconds.')),",,199,0
openstack%2Fneutron-interconnection~master~I14e516f9e626548ef3d081f71ff07b4038f3983e,openstack/neutron-interconnection,master,I14e516f9e626548ef3d081f71ff07b4038f3983e,Implements interconnection API extension,ABANDONED,2019-01-16 15:31:58.000000000,2019-11-15 20:08:47.000000000,,"[{'_account_id': 4187}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-16 15:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/1016cfea1873ff6a58c7e483484dee35e1f49eb2', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 2, 'created': '2019-02-22 08:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/624bcd28a0092b039c30de6080415876f2f0cc68', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 3, 'created': '2019-02-22 09:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/1f8a3aac2421d30aaef2499d046e664e3c8672ce', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 4, 'created': '2019-02-22 14:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/4919c45b27b976b2a2c9ce622f1e21bf89c00df8', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 5, 'created': '2019-02-27 16:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/b5b9bea94b076ae5e03115b4b1616aedf5602244', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 6, 'created': '2019-02-27 16:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/aca715a770c57af2166837b1ff38d57d307aede8', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 7, 'created': '2019-04-01 09:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/fc7891a8a5d93981bec15715263a9ed3195a8e6f', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 8, 'created': '2019-04-01 13:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/0936d78e44c4f0b6c8ac5848280c4b35d055c6fd', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 9, 'created': '2019-04-01 14:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/bbdfe4451ec649adbdcba296be47e38388b57a6d', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}, {'number': 10, 'created': '2019-04-02 07:57:53.000000000', 'files': ['neutron_interconnection/extensions/interconnection.py', 'test-requirements.txt', 'neutron_interconnection/tests/unit/extensions/__init__.py', 'neutron_interconnection/extensions/__init__.py', 'neutron_interconnection/tests/unit/extensions/test_interconnection.py'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/32928283f574d8e2659b9e9dbdd1c2dd5487883d', 'message': 'Implements interconnection API extension\n\n* Adds interconnection API extension and base plugin class\n* Adds unit tests\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e\nDepends-On: https://review.openstack.org/626871\n'}]",0,631254,32928283f574d8e2659b9e9dbdd1c2dd5487883d,21,3,10,19990,,,0,"Implements interconnection API extension

* Adds interconnection API extension and base plugin class
* Adds unit tests

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I14e516f9e626548ef3d081f71ff07b4038f3983e
Depends-On: https://review.openstack.org/626871
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/54/631254/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_interconnection/extensions/interconnection.py', 'requirements.txt', 'neutron_interconnection/tests/unit/extensions/__init__.py', 'test-requirements.txt', 'neutron_interconnection/extensions/__init__.py', 'neutron_interconnection/tests/unit/extensions/test_interconnection.py', 'neutron_interconnection/tests/unit/__init__.py']",7,1016cfea1873ff6a58c7e483484dee35e1f49eb2,extensions,,,294,0
openstack%2Fneutron-interconnection~master~I68780e9f5653723148949aeba478d4eb711c2ee6,openstack/neutron-interconnection,master,I68780e9f5653723148949aeba478d4eb711c2ee6,Fix rules path and default policies,ABANDONED,2019-06-20 09:32:05.000000000,2019-11-15 20:08:43.000000000,,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 09:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/e1a106d3beccf4025b1d006c61d4b415862dfefe', 'message': 'Fix rules path and default policies\n\n* Modify API prefix to ""interconnection"" in rules path\n* Allow user with neutron_interconnection_peer role to list interconnections\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I68780e9f5653723148949aeba478d4eb711c2ee6\nCloses-Bug: 1823009\n'}, {'number': 2, 'created': '2019-06-20 10:01:25.000000000', 'files': ['neutron_interconnection/policies/base.py', 'neutron_interconnection/policies/interconnection.py'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/30dae4990d965c2b2e9b465167edd07c286e5559', 'message': 'Fix rules path and default policies\n\n* Modify API prefix to ""interconnection"" in rules path\n* Allow user with neutron_interconnection_peer role to list interconnections\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I68780e9f5653723148949aeba478d4eb711c2ee6\nCloses-Bug: 1823009\n'}]",0,666527,30dae4990d965c2b2e9b465167edd07c286e5559,5,2,2,19990,,,0,"Fix rules path and default policies

* Modify API prefix to ""interconnection"" in rules path
* Allow user with neutron_interconnection_peer role to list interconnections

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I68780e9f5653723148949aeba478d4eb711c2ee6
Closes-Bug: 1823009
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/27/666527/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_interconnection/policies/base.py', 'neutron_interconnection/policies/interconnection.py']",2,e1a106d3beccf4025b1d006c61d4b415862dfefe,bug/1823009," 'path': '/interconnection/interconnections', 'path': '/interconnection/interconnections/{id}', 'path': '/interconnection/interconnections/{id}', base.RULE_ADMIN_OR_OWNER_OR_NEUTRON_INTERCONNECTION_PEER, 'path': '/interconnection/interconnections', 'path': '/interconnection/interconnections/{id}', 'path': '/interconnection/interconnections', 'path': '/interconnection/interconnections/{id}', 'path': '/interconnection/interconnections', 'path': '/interconnection/interconnections/{id}', 'path': '/interconnection/interconnections/{id}/refresh',"," 'path': '/inter/interconnections', 'path': '/inter/interconnections/{id}', 'path': '/inter/interconnections/{id}', base.RULE_ADMIN_OR_OWNER, 'path': '/inter/interconnections', 'path': '/inter/interconnections/{id}', 'path': '/inter/interconnections', 'path': '/inter/interconnections/{id}', 'path': '/inter/interconnections', 'path': '/inter/interconnections/{id}', 'path': '/inter/interconnections/{id}/refresh',",14,11
openstack%2Fneutron-interconnection~master~I24cda604a0de83649b177887c812f88f34054c37,openstack/neutron-interconnection,master,I24cda604a0de83649b177887c812f88f34054c37,Add driver for BGPVPN interconnection mechanism,ABANDONED,2019-05-27 16:16:46.000000000,2019-11-15 20:08:39.000000000,,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-27 16:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/35cf8125f67d5ab562dd439e26532fc45b9196fe', 'message': 'Add driver for BGPVPN interconnection mechanism\n\nThis driver can be configured to support each interconnection mechanisms (network_l2,\nnetwork_l3 and router).\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I24cda604a0de83649b177887c812f88f34054c37\n'}, {'number': 2, 'created': '2019-05-28 09:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/1a5f33dceca71e4b538708a75955adc04e5a2539', 'message': 'Add driver for BGPVPN interconnection mechanism\n\nThis driver can be configured to support each interconnection mechanisms (network_l2,\nnetwork_l3 and router).\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I24cda604a0de83649b177887c812f88f34054c37\n'}, {'number': 3, 'created': '2019-05-28 14:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/aa9e05cf9ee5b70bac520cb1f0f796b14acb6cc6', 'message': 'Add driver for BGPVPN interconnection mechanism\n\nThis driver can be configured to support each interconnection mechanisms (network_l2,\nnetwork_l3 and router).\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I24cda604a0de83649b177887c812f88f34054c37\n'}, {'number': 4, 'created': '2019-05-29 14:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/1517c349a0ff77e578a987a0aaeb97f1819d98f2', 'message': 'Add driver for BGPVPN interconnection mechanism\n\nThis driver can be configured to support each interconnection mechanisms (network_l2,\nnetwork_l3 and router).\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I24cda604a0de83649b177887c812f88f34054c37\n'}, {'number': 5, 'created': '2019-06-20 07:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/afb8b6a75ab024960067bf418be2475fa6726f7b', 'message': 'Add driver for BGPVPN interconnection mechanism\n\nThis driver can be configured to support each interconnection mechanisms (network_l2,\nnetwork_l3 and router).\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I24cda604a0de83649b177887c812f88f34054c37\n'}, {'number': 6, 'created': '2019-06-20 08:36:54.000000000', 'files': ['neutron_interconnection/services/drivers/bgpvpn/__init__.py', 'neutron_interconnection/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron_interconnection/services/drivers/base.py', 'lower-constraints.txt', 'neutron_interconnection/services/drivers/bgpvpn/db.py', 'neutron_interconnection/tests/unit/services/drivers/__init__.py', 'requirements.txt', 'neutron_interconnection/db/migration/alembic_migrations/versions/stein/expand/efa861884fe7_bgpvpn_data_model.py', 'neutron_interconnection/tests/unit/services/drivers/bgpvpn/test_driver.py', 'zuul.d/project.yaml', 'setup.cfg', 'etc/oslo-config-generator/neutron-interconnection.conf', 'tox.ini', 'neutron_interconnection/opts.py', 'neutron_interconnection/services/drivers/bgpvpn/driver.py', 'neutron_interconnection/tests/unit/services/drivers/bgpvpn/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/c752ce09a273a1b6f6140f9689f807108e9fbea7', 'message': 'Add driver for BGPVPN interconnection mechanism\n\nThis driver can be configured to support each interconnection mechanisms (network_l2,\nnetwork_l3 and router).\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I24cda604a0de83649b177887c812f88f34054c37\n'}]",0,661639,c752ce09a273a1b6f6140f9689f807108e9fbea7,13,2,6,19990,,,0,"Add driver for BGPVPN interconnection mechanism

This driver can be configured to support each interconnection mechanisms (network_l2,
network_l3 and router).

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I24cda604a0de83649b177887c812f88f34054c37
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/39/661639/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_interconnection/services/drivers/bgpvpn/__init__.py', 'neutron_interconnection/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron_interconnection/services/drivers/base.py', 'lower-constraints.txt', 'neutron_interconnection/services/drivers/bgpvpn/db.py', 'neutron_interconnection/tests/unit/services/drivers/__init__.py', 'requirements.txt', 'neutron_interconnection/db/migration/alembic_migrations/versions/stein/expand/efa861884fe7_bgpvpn_data_model.py', 'neutron_interconnection/tests/unit/services/drivers/bgpvpn/test_driver.py', 'zuul.d/project.yaml', 'setup.cfg', 'tox.ini', 'neutron_interconnection/opts.py', 'neutron_interconnection/services/drivers/bgpvpn/driver.py', 'neutron_interconnection/tests/unit/services/drivers/bgpvpn/__init__.py']",15,35cf8125f67d5ab562dd439e26532fc45b9196fe,bgpvpn_driver,,,586,12
openstack%2Fneutron-interconnection~master~Ic1f1690423f2a61a04494259d29b85815f6826d4,openstack/neutron-interconnection,master,Ic1f1690423f2a61a04494259d29b85815f6826d4,Implements 'neutron-interconnection' plugin,ABANDONED,2019-02-27 16:29:32.000000000,2019-11-15 20:08:34.000000000,,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-27 16:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/49739ea1790787f32873325ad5835fe75b068d0f', 'message': ""Implements 'neutron-interconnection' plugin\n\n* Defines 'neutron-interconnection' plugin.\n* Adds driver support with dummy test driver.\n* Adds corresponding unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ic1f1690423f2a61a04494259d29b85815f6826d4\nDepends-On: https://review.openstack.org/631254\n""}, {'number': 2, 'created': '2019-02-27 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/504034414bb98296612731259e50f39fe52d0e72', 'message': ""Implements 'neutron-interconnection' plugin\n\n* Defines 'neutron-interconnection' plugin.\n* Adds driver support with dummy test driver.\n* Adds corresponding unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ic1f1690423f2a61a04494259d29b85815f6826d4\n""}, {'number': 3, 'created': '2019-04-01 09:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/e265a0c90b32a2dd96082821f9d724904c90aa33', 'message': ""Implements 'neutron-interconnection' plugin\n\n* Defines 'neutron-interconnection' plugin.\n* Adds driver support with dummy test driver.\n* Adds corresponding unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ic1f1690423f2a61a04494259d29b85815f6826d4\n""}, {'number': 4, 'created': '2019-04-02 09:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/8501869e7a7f7de5c13ddd321ae8152826b7713e', 'message': ""Implements 'neutron-interconnection' plugin\n\n* Defines 'neutron-interconnection' plugin.\n* Adds driver support with dummy test driver.\n* Adds corresponding unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ic1f1690423f2a61a04494259d29b85815f6826d4\n""}, {'number': 5, 'created': '2019-04-04 15:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/fe8433194fb39eaf1d78a4d1431abce3e08f39b2', 'message': ""Implements 'neutron-interconnection' plugin\n\n* Defines 'neutron-interconnection' plugin.\n* Adds driver support with dummy test driver.\n* Adds corresponding unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ic1f1690423f2a61a04494259d29b85815f6826d4\n""}, {'number': 6, 'created': '2019-05-27 15:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/a1ea0642ff1bfd7b8a082fa95aa0fde2e71e23d0', 'message': ""Implements 'neutron-interconnection' plugin\n\n* Defines 'neutron-interconnection' plugin.\n* Adds driver support with dummy test driver.\n* Adds corresponding unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ic1f1690423f2a61a04494259d29b85815f6826d4\n""}, {'number': 7, 'created': '2019-05-27 15:51:08.000000000', 'files': ['neutron_interconnection/services/common/callbacks.py', 'neutron_interconnection/services/drivers/base.py', 'neutron_interconnection/services/common/exceptions.py', 'neutron_interconnection/services/common/config.py', 'neutron_interconnection/services/drivers/__init__.py', 'neutron_interconnection/services/plugin.py', 'neutron_interconnection/services/drivers/dummy/driver.py', 'doc/source/configuration/neutron-interconnection.rst', 'neutron_interconnection/services/drivers/dummy/__init__.py', 'neutron_interconnection/tests/unit/services/test_plugin.py', 'setup.cfg', 'etc/oslo-config-generator/neutron-interconnection.conf', 'neutron_interconnection/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/249dd1453a96b3411d308556f0da0975c45a4ab1', 'message': ""Implements 'neutron-interconnection' plugin\n\n* Defines 'neutron-interconnection' plugin.\n* Adds driver support with dummy test driver.\n* Adds corresponding unit tests.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Ic1f1690423f2a61a04494259d29b85815f6826d4\n""}]",0,639735,249dd1453a96b3411d308556f0da0975c45a4ab1,15,2,7,19990,,,0,"Implements 'neutron-interconnection' plugin

* Defines 'neutron-interconnection' plugin.
* Adds driver support with dummy test driver.
* Adds corresponding unit tests.

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: Ic1f1690423f2a61a04494259d29b85815f6826d4
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/35/639735/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_interconnection/services/drivers/dummy/driver.py', 'neutron_interconnection/services/common/callbacks.py', 'neutron_interconnection/services/drivers/base.py', 'neutron_interconnection/services/common/exceptions.py', 'neutron_interconnection/services/drivers/dummy/__init__.py', 'neutron_interconnection/tests/unit/services/test_plugin.py', 'neutron_interconnection/services/common/config.py', 'setup.cfg', 'neutron_interconnection/services/drivers/__init__.py', 'neutron_interconnection/services/plugin.py']",10,49739ea1790787f32873325ad5835fe75b068d0f,plugin,"# Copyright (c) 2018 Orange. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from oslo_log import log as logging from neutronclient.common import exceptions as neutronclient_exc from neutron_lib.api.definitions import interconnection as inter_api_def from neutron_lib.callbacks import events from neutron_lib.callbacks import registry from neutron_lib.db import api as db_api from neutron.db import common_db_mixin from neutron.db import db_base_plugin_common from neutron.objects import base as objects_base from neutron_interconnection.extensions import interconnection as inter_ext from neutron_interconnection.objects import interconnection as inter_objs from neutron_interconnection.services.common import callbacks \ as inter_callbacks from neutron_interconnection.services.common import constants as inter_consts from neutron_interconnection.services.common import exceptions as inter_exc from neutron_interconnection.services.common import utils as inter_utils from neutron_interconnection.services.drivers import base as driver_base from neutron_interconnection.services import lifecycle_fsm from neutron_interconnection.services import state_scheduler_worker LOG = logging.getLogger(__name__) class NeutronInterconnectionPlugin(inter_ext.NeutronInterconnectionPluginBase, common_db_mixin.CommonDbMixin): supported_extension_aliases = [inter_api_def.ALIAS] path_prefix = inter_api_def.API_PREFIX def __init__(self): super(NeutronInterconnectionPlugin, self).__init__() self.drivers = driver_base.register_drivers() state_scheduler = ( state_scheduler_worker.StateSchedulerWorker(self.drivers) ) self.add_worker(state_scheduler) def _get_interconnection(self, context, interconnection_id): """"""Return interconnection object or raise if not found."""""" obj = inter_objs.Interconnection.get_object(context, id=interconnection_id) if obj is None: raise inter_exc.InterconnectionNotFound(id=interconnection_id) return obj def _check_type_compatibility_with_symmetric(self, interconnection_obj): """"""Check interconnection type compatibility with symmetric one."""""" neutron_client = inter_utils.get_neutron_client( interconnection_obj.remote_keystone, interconnection_obj.remote_region ) filters = { 'local_resource_id': interconnection_obj.remote_resource_id, 'remote_resource_id': interconnection_obj.local_resource_id } try: remote_interconnections = ( neutron_client.list_interconnections( **filters)['interconnections'] ) if remote_interconnections: remote_interconnection = remote_interconnections.pop() if interconnection_obj.type != remote_interconnection['type']: raise inter_exc.IncompatibleInterconnectionType() except neutronclient_exc.ConnectionFailed: LOG.error(""Interconnection type compatibility not verified: "" ""Can't connect to remote neutron"") except neutronclient_exc.Unauthorized: LOG.error(""Connection refused to remote neutron"") @db_base_plugin_common.convert_result_to_dict def create_interconnection(self, context, interconnection): """"""Create an interconnection."""""" interconnection_data = interconnection['interconnection'] # interconnection data contains both tenant_id and project_id, so we # need to remove redundant keyword. interconnection_data.pop('tenant_id', None) interconnection_obj = inter_objs.Interconnection( context, **interconnection_data ) self._check_type_compatibility_with_symmetric(interconnection_obj) with db_api.autonested_transaction(context.session): interconnection_obj.create() payload = inter_callbacks.InterconnectionPayload( context, interconnection_obj.id, current_interconnection=interconnection_obj) registry.notify( inter_consts.INTERCONNECTION, events.PRECOMMIT_CREATE, self, payload=payload) registry.notify( inter_consts.INTERCONNECTION, events.AFTER_CREATE, self, payload=payload) return interconnection_obj @db_base_plugin_common.convert_result_to_dict def update_interconnection(self, context, interconnection_id, interconnection): """"""Update information for the specified interconnection."""""" interconnection_data = interconnection['interconnection'] with db_api.autonested_transaction(context.session): interconnection_obj = self._get_interconnection(context, interconnection_id) original_interconnection = copy.deepcopy(interconnection_obj) interconnection_obj.update(**interconnection_data) payload = events.DBEventPayload(context, resource_id=interconnection_id, states=(original_interconnection,), desired_state=interconnection_obj, request_body=interconnection_data) registry.notify( inter_consts.INTERCONNECTION, events.PRECOMMIT_UPDATE, self, payload=payload) payload = inter_callbacks.InterconnectionPayload( context, interconnection_obj.id, original_interconnection=original_interconnection, current_interconnection=interconnection_obj) registry.notify( inter_consts.INTERCONNECTION, events.AFTER_UPDATE, self, payload=payload) return interconnection_obj def delete_interconnection(self, context, interconnection_id): """"""Delete the specified interconnection."""""" with db_api.autonested_transaction(context.session): interconnection_obj = self._get_interconnection(context, interconnection_id) interconnection_obj.delete() payload = inter_callbacks.InterconnectionPayload( context, interconnection_obj.id, original_interconnection=interconnection_obj) registry.notify( inter_consts.INTERCONNECTION, events.PRECOMMIT_DELETE, self, payload=payload) registry.notify( inter_consts.INTERCONNECTION, events.AFTER_DELETE, self, payload=payload) @db_base_plugin_common.filter_fields @db_base_plugin_common.convert_result_to_dict def get_interconnection(self, context, interconnection_id, fields=None): """"""Return details for the specified interconnection."""""" return self._get_interconnection(context, interconnection_id) @db_base_plugin_common.filter_fields @db_base_plugin_common.convert_result_to_dict def get_interconnections(self, context, filters=None, fields=None, sorts=None, limit=None, marker=None, page_reverse=False): """"""Return details for available interconnections."""""" filters = filters or {} pager = objects_base.Pager(sorts=sorts, limit=limit, page_reverse=page_reverse, marker=marker) return inter_objs.Interconnection.get_objects(context, _pager=pager, **filters) def refresh(self, context, interconnection_id, interconnection=None): with db_api.autonested_transaction(context.session): interconnection_obj = self._get_interconnection(context, interconnection_id) fsm = lifecycle_fsm.LifecycleFSM(self.drivers, interconnection_obj) if fsm.is_actionable_event('refresh_requested'): fsm.process_event('refresh_requested') ",,600,0
openstack%2Fneutron-interconnection~master~I5df2caa41dd9ca253f206fccf8b6001459c25b90,openstack/neutron-interconnection,master,I5df2caa41dd9ca253f206fccf8b6001459c25b90,Add devstack plugin,ABANDONED,2019-06-20 13:47:07.000000000,2019-11-15 20:08:30.000000000,,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 13:47:07.000000000', 'files': ['tools/generate_config_file_samples.sh', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/4d6eccf0a62677b9570d6919c73e569ef11852e6', 'message': 'Add devstack plugin\n\nAdd plugin.sh dispatch script and settings file.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I5df2caa41dd9ca253f206fccf8b6001459c25b90\n'}]",0,666581,4d6eccf0a62677b9570d6919c73e569ef11852e6,3,2,1,19990,,,0,"Add devstack plugin

Add plugin.sh dispatch script and settings file.

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I5df2caa41dd9ca253f206fccf8b6001459c25b90
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/81/666581/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/generate_config_file_samples.sh', 'devstack/plugin.sh', 'devstack/settings']",3,4d6eccf0a62677b9570d6919c73e569ef11852e6,devstack,"# settings for neutron-interconnection devstack plugin NEUTRON_INTERCONNECTION_DIR=${NEUTRON_INTERCONNECTION_DIR:-""$DEST/neutron-interconnection""} NEUTRON_INTERCONNECTION_CONF=""$NEUTRON_CONF_DIR/neutron_interconnection.conf"" NEUTRON_INTERCONNECTION_USERNAME=${NEUTRON_INTERCONNECTION_USERNAME:-""neutron_interconnection_user""} NEUTRON_INTERCONNECTION_PASSWORD=${NEUTRON_INTERCONNECTION_PASSWORD:-""neutron_interconnection_password""} NEUTRON_INTERCONNECTION_PROJECT=${NEUTRON_INTERCONNECTION_PROJECT:-""neutron_interconnection_project""} NEUTRON_INTERCONNECTION_NETWORK_L2_DRIVER=${NEUTRON_INTERCONNECTION_NETWORK_L2_DRIVER:-""dummy""} NEUTRON_INTERCONNECTION_NETWORK_L3_DRIVER=${NEUTRON_INTERCONNECTION_NETWORK_L3_DRIVER:-""dummy""} NEUTRON_INTERCONNECTION_ROUTER_DRIVER=${NEUTRON_INTERCONNECTION_ROUTER_DRIVER:-""dummy""} ",,98,0
openstack%2Fopenstack-ansible~master~I4d15dcd0261e19f4e4117cee839774b84f2ebcb2,openstack/openstack-ansible,master,I4d15dcd0261e19f4e4117cee839774b84f2ebcb2,Use tests repo for common role test requirements,ABANDONED,2018-07-01 20:24:34.000000000,2019-11-15 19:32:25.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}, {'_account_id': 28521}]","[{'number': 1, 'created': '2018-07-01 20:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3e57490a69b29f7b7fc9fa9bee1a70198d68ddff', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: I4d15dcd0261e19f4e4117cee839774b84f2ebcb2\n""}, {'number': 2, 'created': '2018-07-02 12:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/203ef62bb3f9d6f7bfb57d9c8117060065bb99ad', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: I4d15dcd0261e19f4e4117cee839774b84f2ebcb2\n""}, {'number': 3, 'created': '2018-07-02 13:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/04503e253e98ca2c8d0c07aae60c3298addfda29', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: I4d15dcd0261e19f4e4117cee839774b84f2ebcb2\n""}, {'number': 4, 'created': '2018-07-02 16:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9193b5274749dc25e1175ae9f3f692aae7e4b0e1', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: I4d15dcd0261e19f4e4117cee839774b84f2ebcb2\n""}, {'number': 5, 'created': '2018-07-02 16:24:07.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fec81c5fe93432f08d71a20ed8f49e73e5bbb55d', 'message': ""Use tests repo for common role test requirements\n\nUsing tox for requirements management requires in-repo\nrequirements files for all our repositories. Rather than\ndo that, we make use of the tests repo to capture our\ncommon requirements and use this to install them.\n\nThis reduces our review requirement rate and simplifies\nmaintenance for us for the tox config. It also makes it\nusable with 'Depends-On', which is marvellous!\n\nThe tox requirements definitions for docs/releasenotes\nbuilds are left in-place as those are standard entries\nacross the community. If that changes at some point, we\ncan re-assess those entries too.\n\nDepends-On: https://review.openstack.org/579208\nChange-Id: I4d15dcd0261e19f4e4117cee839774b84f2ebcb2\n""}]",5,579397,fec81c5fe93432f08d71a20ed8f49e73e5bbb55d,22,5,5,28521,,,0,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: I4d15dcd0261e19f4e4117cee839774b84f2ebcb2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/97/579397/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,3e57490a69b29f7b7fc9fa9bee1a70198d68ddff,common-role-python-reqs," bash -c ""{toxinidir}/tests/common/test-ansible-env-prep.sh""", -r{toxinidir}/test-requirements.txt[testenv:ansible] deps = {[testenv]deps} -r{toxinidir}/global-requirement-pins.txt -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt deps = {[testenv:ansible]deps}deps = {[testenv:ansible]deps} {[testenv:ansible]deps},1,22
openstack%2Fopenstack-ansible-os_magnum~master~Id1209740b0b7f5345f5d8e6ab90320da080e4f03,openstack/openstack-ansible-os_magnum,master,Id1209740b0b7f5345f5d8e6ab90320da080e4f03,Switch to using project-templates,ABANDONED,2018-06-22 19:06:47.000000000,2019-11-15 19:31:54.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-22 19:06:47.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/b595af6dad7e5c2e9865c20a08901ab92c4086e0', 'message': 'Switch to using project-templates\n\nIn order to have more centralized configuration, switch the role\nto use the project-template instead.\n\nChange-Id: Id1209740b0b7f5345f5d8e6ab90320da080e4f03\n'}]",0,577509,b595af6dad7e5c2e9865c20a08901ab92c4086e0,8,4,1,28521,,,0,"Switch to using project-templates

In order to have more centralized configuration, switch the role
to use the project-template instead.

Change-Id: Id1209740b0b7f5345f5d8e6ab90320da080e4f03
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/09/577509/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b595af6dad7e5c2e9865c20a08901ab92c4086e0,, templates: - openstack-ansible-role-jobs, - openstack-ansible-linters - openstack-ansible-functional-centos-7-nv - openstack-ansible-functional-opensuse-423-nv - openstack-ansible-functional-ubuntu-xenial experimental: jobs: - openstack-ansible-integrated-deploy-aio gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-ubuntu-xenial,2,11
openstack%2Fmagnum~master~I75836b15349e05283da1f2b13bec897d3074f39f,openstack/magnum,master,I75836b15349e05283da1f2b13bec897d3074f39f,tox: stop using sitepackages,ABANDONED,2019-08-03 20:51:56.000000000,2019-11-15 19:27:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-03 20:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/830f3750f6ab573962e32cc03b03ae6b594a214d', 'message': ""tox: stop using sitepackages\n\nDue to the fact we use sitepackages in the gate, it tries to use\nthe local 'stestr' binary which doesn't end up using the venv\nthat tox creates, leading to import failures.\n\nThis patch resolves this and it shouldn't add much more to our\nruntime.\n\nChange-Id: I75836b15349e05283da1f2b13bec897d3074f39f\n""}, {'number': 2, 'created': '2019-08-03 21:03:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3f362686da82c412b69e029ee88a38cfb1ec9812', 'message': ""tox: stop using sitepackages\n\nDue to the fact we use sitepackages in the gate, it tries to use\nthe local 'stestr' binary which doesn't end up using the venv\nthat tox creates, leading to import failures.\n\nThis patch resolves this and it shouldn't add much more to our\nruntime.\n\nChange-Id: I75836b15349e05283da1f2b13bec897d3074f39f\n""}]",0,674474,3f362686da82c412b69e029ee88a38cfb1ec9812,4,1,2,1004,,,0,"tox: stop using sitepackages

Due to the fact we use sitepackages in the gate, it tries to use
the local 'stestr' binary which doesn't end up using the venv
that tox creates, leading to import failures.

This patch resolves this and it shouldn't add much more to our
runtime.

Change-Id: I75836b15349e05283da1f2b13bec897d3074f39f
",git fetch https://review.opendev.org/openstack/magnum refs/changes/74/674474/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,830f3750f6ab573962e32cc03b03ae6b594a214d,add-ci,,sitepackages = Truesitepackages = Truesitepackages = Truesitepackages = Truesitepackages = Truesitepackages = Truesitepackages = True,0,7
openstack%2Fmagnum~master~Ie3e863440d73414224bb7dbb1ab05a5bcf0b74b1,openstack/magnum,master,Ie3e863440d73414224bb7dbb1ab05a5bcf0b74b1,driver: refactor k8s templatedef,ABANDONED,2019-06-20 20:12:13.000000000,2019-11-15 19:26:57.000000000,,"[{'_account_id': 1004}, {'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-06-20 20:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2e2c3e46465b7129dd784fe1dc0259e375c57433', 'message': 'driver: refactor k8s templatedef\n\nThere is a lot of duplicated templatedef code which is living\nin two places.  This refactors it to the parent class to make\nlife much easier.\n\nChange-Id: Ie3e863440d73414224bb7dbb1ab05a5bcf0b74b1\n'}, {'number': 2, 'created': '2019-06-20 20:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e755a420f498111ca2724ec841eac5f81cbb0d6a', 'message': 'driver: refactor k8s templatedef\n\nThere is a lot of duplicated templatedef code which is living\nin two places.  This refactors it to the parent class to make\nlife much easier.\n\nChange-Id: Ie3e863440d73414224bb7dbb1ab05a5bcf0b74b1\n'}, {'number': 3, 'created': '2019-08-02 13:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3d9c61b00f72750aa1faa56aad7873b7e2378e44', 'message': 'driver: refactor k8s templatedef\n\nThere is a lot of duplicated templatedef code which is living\nin two places.  This refactors it to the parent class to make\nlife much easier.\n\nChange-Id: Ie3e863440d73414224bb7dbb1ab05a5bcf0b74b1\n'}, {'number': 4, 'created': '2019-08-02 14:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/04d89f80389effb13c6913bd1bd96cd3d54ecde3', 'message': 'driver: refactor k8s templatedef\n\nThere is a lot of duplicated templatedef code which is living\nin two places.  This refactors it to the parent class to make\nlife much easier.\n\nChange-Id: Ie3e863440d73414224bb7dbb1ab05a5bcf0b74b1\n'}, {'number': 5, 'created': '2019-08-02 14:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7f49b1eb037363609d16d0cb747c27207635a665', 'message': 'driver: refactor k8s templatedef\n\nThere is a lot of duplicated templatedef code which is living\nin two places.  This refactors it to the parent class to make\nlife much easier.\n\nChange-Id: Ie3e863440d73414224bb7dbb1ab05a5bcf0b74b1\n'}, {'number': 6, 'created': '2019-08-03 19:41:21.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/k8s_fedora_template_def.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/95d3e625331c2f8702f601adad9585c45793ed55', 'message': 'driver: refactor k8s templatedef\n\nThere is a lot of duplicated templatedef code which is living\nin two places.  This refactors it to the parent class to make\nlife much easier.\n\nChange-Id: Ie3e863440d73414224bb7dbb1ab05a5bcf0b74b1\n'}]",0,666722,95d3e625331c2f8702f601adad9585c45793ed55,15,4,6,1004,,,0,"driver: refactor k8s templatedef

There is a lot of duplicated templatedef code which is living
in two places.  This refactors it to the parent class to make
life much easier.

Change-Id: Ie3e863440d73414224bb7dbb1ab05a5bcf0b74b1
",git fetch https://review.opendev.org/openstack/magnum refs/changes/22/666722/6 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/k8s_fedora_template_def.py']",3,2e2c3e46465b7129dd784fe1dc0259e375c57433,feature/kubeadm,,"class MasterAddressOutputMapping(ServerAddressOutputMapping): public_ip_output_key = 'kube_masters' private_ip_output_key = 'kube_masters_private' class NodeAddressOutputMapping(ServerAddressOutputMapping): public_ip_output_key = 'kube_minions' private_ip_output_key = 'kube_minions_private' def __init__(self): super(K8sFedoraTemplateDefinition, self).__init__() self.add_parameter('docker_volume_size', cluster_attr='docker_volume_size') self.add_parameter('docker_storage_driver', cluster_template_attr='docker_storage_driver') def update_outputs(self, stack, cluster_template, cluster): worker_ng = cluster.default_ng_worker master_ng = cluster.default_ng_master self.add_output('kube_minions', nodegroup_attr='node_addresses', nodegroup_uuid=worker_ng.uuid, mapping_type=NodeAddressOutputMapping) self.add_output('kube_masters', nodegroup_attr='node_addresses', nodegroup_uuid=master_ng.uuid, mapping_type=MasterAddressOutputMapping) super(K8sFedoraTemplateDefinition, self).update_outputs(stack, cluster_template, cluster) extra_params['username'] = context.user_name osc = self.get_osc(context) extra_params['region_name'] = osc.cinder_region_name() # set docker_volume_type # use the configuration default if None provided docker_volume_type = cluster.labels.get( 'docker_volume_type', CONF.cinder.default_docker_volume_type) extra_params['docker_volume_type'] = docker_volume_type extra_params['nodes_affinity_policy'] = \ CONF.cluster.nodes_affinity_policy if cluster_template.network_driver == 'flannel': extra_params[""pods_network_cidr""] = \ cluster.labels.get('flannel_network_cidr', '10.100.0.0/16') if cluster_template.network_driver == 'calico': extra_params[""pods_network_cidr""] = \ cluster.labels.get('calico_ipv4pool', '192.168.0.0/16') self._set_cert_manager_params(cluster, extra_params) def _set_cert_manager_params(self, cluster, extra_params): cert_manager_api = cluster.labels.get('cert_manager_api') if strutils.bool_from_string(cert_manager_api): extra_params['cert_manager_api'] = cert_manager_api ca_cert = cert_manager.get_cluster_ca_certificate(cluster) if six.PY3 and isinstance(ca_cert.get_private_key_passphrase(), six.text_type): extra_params['ca_key'] = x509.decrypt_key( ca_cert.get_private_key(), ca_cert.get_private_key_passphrase().encode() ).decode().replace(""\n"", ""\\n"") else: extra_params['ca_key'] = x509.decrypt_key( ca_cert.get_private_key(), ca_cert.get_private_key_passphrase()).replace(""\n"", ""\\n"") def get_env_files(self, cluster_template, cluster): env_files = [] template_def.add_priv_net_env_file(env_files, cluster_template) template_def.add_etcd_volume_env_file(env_files, cluster_template) template_def.add_volume_env_file(env_files, cluster) template_def.add_lb_env_file(env_files, cluster_template) template_def.add_fip_env_file(env_files, cluster_template, cluster) return env_files",73,173
openstack%2Fmagnum~master~I7aea42ee65e2aa8119fbdad341f8df637c683e6f,openstack/magnum,master,I7aea42ee65e2aa8119fbdad341f8df637c683e6f,ccm: run without hostNetwork,ABANDONED,2019-06-28 01:11:29.000000000,2019-11-15 19:26:32.000000000,,"[{'_account_id': 6484}, {'_account_id': 16006}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 01:11:29.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/67b970a7fdba9a06776a89e8884c60f6502bb422', 'message': ""ccm: run without hostNetwork\n\nThe cloud controller manager is currently running with hostNetwork\nmode turned on which means there is no pods in the master that are\nrunning without hostNetwork, which means flannel won't even setup\nthe network on the master, making it unable to reach any pods on\nany of the workers.\n\nThis small change drops hostNetwork which means that it will create\nit under a pod network which will make sure that the masters properly\nget network connectivity.\n\nChange-Id: I7aea42ee65e2aa8119fbdad341f8df637c683e6f\n""}]",0,668074,67b970a7fdba9a06776a89e8884c60f6502bb422,9,4,1,1004,,,0,"ccm: run without hostNetwork

The cloud controller manager is currently running with hostNetwork
mode turned on which means there is no pods in the master that are
running without hostNetwork, which means flannel won't even setup
the network on the master, making it unable to reach any pods on
any of the workers.

This small change drops hostNetwork which means that it will create
it under a pod network which will make sure that the masters properly
get network connectivity.

Change-Id: I7aea42ee65e2aa8119fbdad341f8df637c683e6f
",git fetch https://review.opendev.org/openstack/magnum refs/changes/74/668074/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh'],1,67b970a7fdba9a06776a89e8884c60f6502bb422,,, hostNetwork: true,0,1
openstack%2Fmagnum~master~I117fb5599460db2eae67dee686a13571c3c6b72b,openstack/magnum,master,I117fb5599460db2eae67dee686a13571c3c6b72b,k8s: start using kube_tag,ABANDONED,2019-06-27 13:21:55.000000000,2019-11-15 19:26:29.000000000,,"[{'_account_id': 6484}, {'_account_id': 16006}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-06-27 13:21:55.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/51ea6c71be2693e4e88b22347c9856e460287a19', 'message': ""k8s: start using kube_tag\n\nThe kube_tag variable was not being used at all\nand only the {master,minion}_kube_tag was being\nused which was confusing for the user.\n\nThis drops the tag so that it's only one variable\nto override to get the right version.\n\nChange-Id: I117fb5599460db2eae67dee686a13571c3c6b72b\n""}]",1,667927,51ea6c71be2693e4e88b22347c9856e460287a19,10,5,1,1004,,,0,"k8s: start using kube_tag

The kube_tag variable was not being used at all
and only the {master,minion}_kube_tag was being
used which was confusing for the user.

This drops the tag so that it's only one variable
to override to get the right version.

Change-Id: I117fb5599460db2eae67dee686a13571c3c6b72b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/27/667927/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py']",2,51ea6c71be2693e4e88b22347c9856e460287a19,,," heat_params[""master_kube_tag""] = cluster_template.labels[""kube_tag""] heat_params[""minion_kube_tag""] = cluster_template.labels[""kube_tag""]",2,14
openstack%2Fmagnum~master~Id15f23a26ec83ba2e14feb033856234ab7a3efbc,openstack/magnum,master,Id15f23a26ec83ba2e14feb033856234ab7a3efbc,"k8s: drop {master,minion}_image paramters",ABANDONED,2019-06-20 20:15:35.000000000,2019-11-15 19:26:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-20 20:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e2677f089158b3fb7c14471d9bc45b39e3aaf64d', 'message': 'k8s: drop {master,minion}_image paramters\n\nThose two parameters were not really being used, they were always\nset to the same value.\n\nChange-Id: Id15f23a26ec83ba2e14feb033856234ab7a3efbc\n'}, {'number': 2, 'created': '2019-06-20 20:22:35.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/21edc187dde00cd774c597e89ebdf0a3b0224db7', 'message': 'k8s: drop {master,minion}_image paramters\n\nThose two parameters were not really being used, they were always\nset to the same value.\n\nChange-Id: Id15f23a26ec83ba2e14feb033856234ab7a3efbc\n'}]",0,666725,21edc187dde00cd774c597e89ebdf0a3b0224db7,4,1,2,1004,,,0,"k8s: drop {master,minion}_image paramters

Those two parameters were not really being used, they were always
set to the same value.

Change-Id: Id15f23a26ec83ba2e14feb033856234ab7a3efbc
",git fetch https://review.opendev.org/openstack/magnum refs/changes/25/666725/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py']",3,e2677f089158b3fb7c14471d9bc45b39e3aaf64d,ubuntu/kubeadm,," heat_params[""master_image""] = cluster_template.image_id heat_params[""minion_image""] = cluster_template.image_id",2,15
openstack%2Fmagnum~master~Ic41a5fe99ad98543799f935290c34467b6fd0a4d,openstack/magnum,master,Ic41a5fe99ad98543799f935290c34467b6fd0a4d,"Revert ""Enable DeprecationWarning in test environments""",ABANDONED,2019-08-03 19:30:29.000000000,2019-11-15 19:26:20.000000000,,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 12404}, {'_account_id': 15123}, {'_account_id': 21469}, {'_account_id': 22348}, {'_account_id': 23733}]","[{'number': 1, 'created': '2019-08-03 19:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/58603fcd32759d366d7b26be17a413e91593169a', 'message': 'Revert ""Enable DeprecationWarning in test environments""\n\nThis is significantly polluting the unit test output making\nit very hard to process the information.\n\nThis reverts commit 97cb24ba012b12f02cb93517f2bc829eb8a79819.\n\nChange-Id: Ic41a5fe99ad98543799f935290c34467b6fd0a4d\n'}, {'number': 2, 'created': '2019-08-03 19:41:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/099d87b96a246bb5678295c5e9f81a898333d82f', 'message': 'Revert ""Enable DeprecationWarning in test environments""\n\nThis is significantly polluting the unit test output making\nit very hard to process the information.\n\nThis reverts commit 97cb24ba012b12f02cb93517f2bc829eb8a79819.\n\nChange-Id: Ic41a5fe99ad98543799f935290c34467b6fd0a4d\n'}]",0,674473,099d87b96a246bb5678295c5e9f81a898333d82f,4,7,2,1004,,,0,"Revert ""Enable DeprecationWarning in test environments""

This is significantly polluting the unit test output making
it very hard to process the information.

This reverts commit 97cb24ba012b12f02cb93517f2bc829eb8a79819.

Change-Id: Ic41a5fe99ad98543799f935290c34467b6fd0a4d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/73/674473/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,58603fcd32759d366d7b26be17a413e91593169a,feature/kubeadm,, PYTHONWARNINGS=default::DeprecationWarning,0,1
openstack%2Fkolla~master~If2ae00e79d1f1d457b672e69fdb9939ea0041a52,openstack/kolla,master,If2ae00e79d1f1d457b672e69fdb9939ea0041a52,"Revert ""Switch OPENSTACK_RELEASE to train""",MERGED,2019-10-21 12:23:32.000000000,2019-11-15 19:20:58.000000000,2019-11-15 19:19:47.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-21 12:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8edd413b8bb6f9cc20c5c768a0efbb9eaa85769c', 'message': 'Revert ""Switch OPENSTACK_RELEASE to train""\n\nThis reverts commit 392f1c53a5310daa98e7535579319b4cf19743fd.\n\nThis should only be merged on master after stable/train has been\ncreated for kolla.\n\nChange-Id: If2ae00e79d1f1d457b672e69fdb9939ea0041a52\n'}, {'number': 2, 'created': '2019-11-15 16:01:14.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/56c22d7324bc01ec79b7cdc8cd5d3db49b2f577d', 'message': 'Revert ""Switch OPENSTACK_RELEASE to train""\n\nThis reverts commit 392f1c53a5310daa98e7535579319b4cf19743fd.\n\nThis should only be merged on master after stable/train has been\ncreated for kolla.\n\nChange-Id: If2ae00e79d1f1d457b672e69fdb9939ea0041a52\n'}]",0,689731,56c22d7324bc01ec79b7cdc8cd5d3db49b2f577d,23,5,2,14826,,,0,"Revert ""Switch OPENSTACK_RELEASE to train""

This reverts commit 392f1c53a5310daa98e7535579319b4cf19743fd.

This should only be merged on master after stable/train has been
created for kolla.

Change-Id: If2ae00e79d1f1d457b672e69fdb9939ea0041a52
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/689731/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,8edd413b8bb6f9cc20c5c768a0efbb9eaa85769c,,OPENSTACK_RELEASE = 'master',OPENSTACK_RELEASE = 'train',1,1
openstack%2Fopenstack-helm-images~master~I4fd6571a5d90e01d002376a8daee15167d0ed040,openstack/openstack-helm-images,master,I4fd6571a5d90e01d002376a8daee15167d0ed040,Add elasticsearch 7.1.0 image and update jq install,MERGED,2019-11-14 20:44:32.000000000,2019-11-15 19:18:58.000000000,2019-11-15 19:16:32.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-11-14 20:44:32.000000000', 'files': ['zuul.d/elasticsearch-s3.yaml', 'elasticsearch-s3/Dockerfile.7_1_0', 'elasticsearch-s3/Dockerfile.5_6_4'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e06dfa0189b8c5074c6a96512defde5f59c86aea', 'message': 'Add elasticsearch 7.1.0 image and update jq install\n\nThis updates the Dockerfile for elasticsearch-s3:5_6_4 to install\njq by downloading the file directly instead of using apt-get.\nThis also adds a Dockerfile for building an Elasticsearch image\nwith version 7.1.0\n\nChange-Id: I4fd6571a5d90e01d002376a8daee15167d0ed040\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,694403,e06dfa0189b8c5074c6a96512defde5f59c86aea,8,3,1,17591,,,0,"Add elasticsearch 7.1.0 image and update jq install

This updates the Dockerfile for elasticsearch-s3:5_6_4 to install
jq by downloading the file directly instead of using apt-get.
This also adds a Dockerfile for building an Elasticsearch image
with version 7.1.0

Change-Id: I4fd6571a5d90e01d002376a8daee15167d0ed040
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/03/694403/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/elasticsearch-s3.yaml', 'elasticsearch-s3/Dockerfile.7_1_0', 'elasticsearch-s3/Dockerfile.5_6_4']",3,e06dfa0189b8c5074c6a96512defde5f59c86aea,elasticsearch-version-update,RUN wget -O jq https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64 \ && chmod +x ./jq \ && cp jq /usr/bin,RUN apt-get -o Acquire::ForceIPv4=true -y update \ && apt-get -y install jq \ && apt-get clean \ && rm -rf /var/lib/apt/lists/*,16,4
openstack%2Fpython-senlinclient~master~Ie6089c5de6c7e76380003080ac79db18ac1127e0,openstack/python-senlinclient,master,Ie6089c5de6c7e76380003080ac79db18ac1127e0,Add action update command,MERGED,2019-09-18 05:03:41.000000000,2019-11-15 18:53:04.000000000,2019-11-15 18:51:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28691}]","[{'number': 1, 'created': '2019-09-18 05:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/f5bdded6f9f5c03bf9e41d4ae2410b6fb9cc0480', 'message': '[WIP] Add action update command\n\nAdd support for action update API [1]\n\n[1] https://docs.openstack.org/api-ref/clustering/#update-action\n\nChange-Id: Ie6089c5de6c7e76380003080ac79db18ac1127e0\n'}, {'number': 2, 'created': '2019-09-18 05:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/e1f5e43971612f2b4c539df08d08e8923a593a1d', 'message': '[WIP] Add action update command\n\nAdd support for action update API [1]\n\n[1] https://docs.openstack.org/api-ref/clustering/#update-action\n\nChange-Id: Ie6089c5de6c7e76380003080ac79db18ac1127e0\nDepends-On: https://review.opendev.org/#/c/682787/\n'}, {'number': 3, 'created': '2019-09-18 16:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/aaa234e570bd8ab505b608e532a8ea96c9c30b8c', 'message': 'Add action update command\n\nAdd support for action update API [1]\n\n[1] https://docs.openstack.org/api-ref/clustering/#update-action\n\nChange-Id: Ie6089c5de6c7e76380003080ac79db18ac1127e0\nDepends-On: https://review.opendev.org/#/c/682787/\n'}, {'number': 4, 'created': '2019-11-15 17:20:13.000000000', 'files': ['senlinclient/v1/client.py', 'senlinclient/tests/unit/v1/test_client.py', 'senlinclient/tests/unit/v1/test_action.py', 'setup.cfg', 'senlinclient/v1/action.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/e414a43951580398dfc5ebda17c53fb95c1e9f14', 'message': 'Add action update command\n\nAdd support for action update API [1]\n\n[1] https://docs.openstack.org/api-ref/clustering/#update-action\n\nChange-Id: Ie6089c5de6c7e76380003080ac79db18ac1127e0\nDepends-On: https://review.opendev.org/#/c/682787/\n'}]",0,682789,e414a43951580398dfc5ebda17c53fb95c1e9f14,13,3,4,27224,,,0,"Add action update command

Add support for action update API [1]

[1] https://docs.openstack.org/api-ref/clustering/#update-action

Change-Id: Ie6089c5de6c7e76380003080ac79db18ac1127e0
Depends-On: https://review.opendev.org/#/c/682787/
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/89/682789/3 && git format-patch -1 --stdout FETCH_HEAD,"['senlinclient/v1/client.py', 'setup.cfg', 'senlinclient/v1/action.py']",3,f5bdded6f9f5c03bf9e41d4ae2410b6fb9cc0480,udpate_action," return _show_action(senlin_client, parsed_args.action) def _show_action(senlin_client, action_id): try: action = senlin_client.get_action(action_id) except sdk_exc.ResourceNotFound: raise exc.CommandError(_('Action not found: %s') % action_id) formatters = { 'inputs': senlin_utils.json_formatter, 'outputs': senlin_utils.json_formatter, 'metadata': senlin_utils.json_formatter, 'data': senlin_utils.json_formatter, 'depends_on': senlin_utils.list_formatter, 'depended_by': senlin_utils.list_formatter, } data = action.to_dict() columns = sorted(data.keys()) return columns, utils.get_dict_properties(data, columns, formatters=formatters) class UpdateAction(command.ShowOne): """"""Update an action."""""" log = logging.getLogger(__name__ + "".UpdateAction"") def get_parser(self, prog_name): parser = super(UpdateAction, self).get_parser(prog_name) parser.add_argument( '--status', metavar='<status>', help=_('The new status for the action') ) parser.add_argument( 'action', metavar='<action>', help=_('ID of the action to update') ) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"", parsed_args) senlin_client = self.app.client_manager.clustering params = { 'status': parsed_args.status, } senlin_client.update_action(parsed_args.action, **params) return _show_action(senlin_client, parsed_args.action)"," try: action = senlin_client.get_action(parsed_args.action) except sdk_exc.ResourceNotFound: raise exc.CommandError(_('Action not found: %s') % parsed_args.action) formatters = { 'inputs': senlin_utils.json_formatter, 'outputs': senlin_utils.json_formatter, 'metadata': senlin_utils.json_formatter, 'data': senlin_utils.json_formatter, 'depends_on': senlin_utils.list_formatter, 'depended_by': senlin_utils.list_formatter, } data = action.to_dict() columns = sorted(data.keys()) return columns, utils.get_dict_properties(data, columns, formatters=formatters)",60,16
openstack%2Fcinder~master~Ia8fdf69e968b6d3f414aa0dacecef28b6bf4c6f5,openstack/cinder,master,Ia8fdf69e968b6d3f414aa0dacecef28b6bf4c6f5,Use destination id instead of source id in snapshot temp name,ABANDONED,2019-10-03 11:57:06.000000000,2019-11-15 18:50:29.000000000,,"[{'_account_id': 7130}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2019-10-03 11:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96b15500ea9e90466054a7d98496bec366a12667', 'message': 'Use destination id instead of source id in snapshot temp name\n\nUse destintation id instead of source id in snapshot temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: Ia8fdf69e968b6d3f414aa0dacecef28b6bf4c6f5\nCloses-bug: #1840712\n'}, {'number': 2, 'created': '2019-10-03 12:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82120ace8096ba9cf72ae94855196ea92ce7b345', 'message': 'Use destination id instead of source id in snapshot temp name\n\nUse destintation id instead of source id in snapshot temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: Ia8fdf69e968b6d3f414aa0dacecef28b6bf4c6f5\nCloses-bug: #1840712\n'}, {'number': 3, 'created': '2019-10-03 12:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf49c80700833e2cb7428316e972eb015e3d9621', 'message': 'Use destination id instead of source id in snapshot temp name\n\nUse destintation id instead of source id in snapshot temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: Ia8fdf69e968b6d3f414aa0dacecef28b6bf4c6f5\nCloses-bug: #1840712\n'}, {'number': 4, 'created': '2019-10-07 12:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c24473cc3cb47571398c262a0c701762c13baf38', 'message': 'Use destination id instead of source id in snapshot temp name\n\nUse destintation id instead of source id in snapshot temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: Ia8fdf69e968b6d3f414aa0dacecef28b6bf4c6f5\nCloses-bug: #1840712\n'}, {'number': 5, 'created': '2019-10-07 12:18:47.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad30b97617f2343395ebb173feef4101ea26bf2b', 'message': 'Use destination id instead of source id in snapshot temp name\n\nUse destintation id instead of source id in snapshot temp name as\nthis will prevent concurrency due to file system requirement of\nhaving unique file names.\n\nChange-Id: Ia8fdf69e968b6d3f414aa0dacecef28b6bf4c6f5\nCloses-bug: #1840712\n'}]",2,686386,ad30b97617f2343395ebb173feef4101ea26bf2b,65,20,5,7130,,,0,"Use destination id instead of source id in snapshot temp name

Use destintation id instead of source id in snapshot temp name as
this will prevent concurrency due to file system requirement of
having unique file names.

Change-Id: Ia8fdf69e968b6d3f414aa0dacecef28b6bf4c6f5
Closes-bug: #1840712
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/686386/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",2,96b15500ea9e90466054a7d98496bec366a12667,bug/1840712.0," 'volume_id': volume.id, 'display_name': 'tmp-snap-%s' % volume.id,"," 'volume_id': src_vref.id, 'display_name': 'tmp-snap-%s' % src_vref.id,",4,4
openstack%2Fmonasca-persister~master~I4136df1d43954eb026a104f3f85b3a58197f5435,openstack/monasca-persister,master,I4136df1d43954eb026a104f3f85b3a58197f5435,Support default_retention_hours for influxdb,MERGED,2019-10-21 11:01:29.000000000,2019-11-15 18:05:33.000000000,2019-11-15 18:03:38.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26297}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-21 11:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/e0edc4cf26db030b0803a85c5a3526ee05210168', 'message': 'Support default_retention_policy for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default retention policy in influxdb configuration so that\nnew projects are automatically assigned this retention policy when\ndb_per_tenant is enabled.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 2, 'created': '2019-10-21 15:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/cf27c681df05e57854611d800849b9c840baaf65', 'message': 'Support default_retention_policy for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default retention policy in influxdb configuration so that\nnew projects are automatically assigned this retention policy when\ndb_per_tenant is enabled.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 3, 'created': '2019-10-21 15:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/21819eaad7722b01985ca07041fea812e6c9e33e', 'message': 'Support default_retention_policy for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default retention policy in influxdb configuration so that\nnew projects are automatically assigned this retention policy when\ndb_per_tenant is enabled.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 4, 'created': '2019-10-21 16:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/c3d16deef9b8c174e7d3c46d8d3e509144e904ff', 'message': 'Support default_retention_policy for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default retention policy in influxdb configuration so that\nnew projects are automatically assigned this retention policy when\ndb_per_tenant is enabled.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 5, 'created': '2019-10-23 16:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/c2e5e4a3aa75362b66dbb4c26c9488410a1859da', 'message': 'Support default_retention_hours for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default retention period (in hours) in influxdb\nconfiguration so that new projects are automatically assigned this\nretention policy but only when db_per_tenant is enabled to preserve\noriginal behaviour.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 6, 'created': '2019-10-23 16:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/322ee438ffed9d69557da63a8d28f513b826d2e8', 'message': 'Support default_retention_hours for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default retention period (in hours) in influxdb\nconfiguration so that new projects are automatically assigned this\nretention policy but only when db_per_tenant is enabled to preserve\noriginal behaviour.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 7, 'created': '2019-10-31 12:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/6ed3b5c35d3c049f3508c46ecce57e6b8db9d59c', 'message': 'Support default_retention_hours for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default retention period (in hours) in influxdb\nconfiguration so that new projects are automatically assigned this\nretention policy but only when db_per_tenant is enabled to preserve\noriginal behaviour.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 8, 'created': '2019-10-31 12:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/52c28ef89bd84e9c46cb7c008b5e0bef9f22dd52', 'message': 'Support default_retention_hours for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default_retention_hours (defaults to 0) in the influxdb\nsection of monasca persister configuration so that new projects are\nautomatically assigned this retention policy when the given hour is\ngreater than 0 to preserve original behaviour.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 9, 'created': '2019-10-31 13:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/df1f9dcb1cdf258b0518f89117b9e1c73e5b5a97', 'message': 'Support default_retention_hours for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default_retention_hours (defaults to 0) in the influxdb\nsection of monasca persister configuration so that new projects are\nautomatically assigned this retention policy when the given hour is\ngreater than 0 to preserve original behaviour.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 10, 'created': '2019-10-31 23:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/b3a30d5516a2c3e4debba29e9a348f47d949ecd3', 'message': 'Support default_retention_hours for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default_retention_hours (defaults to 0 meaning unlimited\nretention) in the influxdb section of monasca persister configuration so\nthat new projects are automatically assigned this retention policy when\nthe given hour is greater than 0 to preserve original behaviour.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 11, 'created': '2019-11-13 15:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/45b373c7a46e25d9593ec493d1d3e207207f9fbe', 'message': 'Support default_retention_hours for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default_retention_hours (defaults to 0 meaning unlimited\nretention) in the influxdb section of monasca persister configuration so\nthat new projects are automatically assigned this retention policy when\nthe given hour is greater than 0 to preserve original behaviour.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}, {'number': 12, 'created': '2019-11-15 13:49:57.000000000', 'files': ['monasca_persister/repositories/influxdb/abstract_repository.py', 'monasca_persister/tools/influxdb/db-per-tenant/migrate-to-db-per-tenant.py', 'releasenotes/notes/influxdb-default-retention-policy-aaa446ebe6fc3cb5.yaml', 'monasca_persister/conf/influxdb.py', 'monasca_persister/tests/test_influxdb_metrics_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/97aab2f0044d53b965605b9986ad0f5133480aa0', 'message': 'Support default_retention_hours for influxdb\n\nAt the moment, all data is retained infinitely. This change allows users\nto specify a default_retention_hours (defaults to 0 meaning unlimited\nretention) in the influxdb section of monasca persister configuration so\nthat new projects are automatically assigned this retention policy when\nthe given hour is greater than 0 to preserve original behaviour.\n\nStory: 2006331\nTask: 37234\n\nChange-Id: I4136df1d43954eb026a104f3f85b3a58197f5435\n'}]",12,689712,97aab2f0044d53b965605b9986ad0f5133480aa0,39,7,12,28022,,,0,"Support default_retention_hours for influxdb

At the moment, all data is retained infinitely. This change allows users
to specify a default_retention_hours (defaults to 0 meaning unlimited
retention) in the influxdb section of monasca persister configuration so
that new projects are automatically assigned this retention policy when
the given hour is greater than 0 to preserve original behaviour.

Story: 2006331
Task: 37234

Change-Id: I4136df1d43954eb026a104f3f85b3a58197f5435
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/12/689712/9 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/repositories/influxdb/abstract_repository.py', 'monasca_persister/tools/influxdb/db-per-tenant/migrate-to-db-per-tenant.py', 'monasca_persister/conf/influxdb.py']",3,e0edc4cf26db030b0803a85c5a3526ee05210168,story/2006331," cfg.BoolOpt('default_retention_policy', help='Default retention policy', default=None),",,15,1
openstack%2Fneutron-interconnection~master~I0763772655b5afe977376e3f2d26d5a7f80f7c87,openstack/neutron-interconnection,master,I0763772655b5afe977376e3f2d26d5a7f80f7c87,Retire neutron-interconnection project,MERGED,2019-11-15 09:36:09.000000000,2019-11-15 17:49:05.000000000,2019-11-15 17:49:04.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 09:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/69f30cafdadd92e8e1dd2282a0b2437d14f263c0', 'message': 'Retire neutron-interconnection project\n\nGovernance change is proposed at [1].\nProject config patch, which moves repo to x/ namespace is\navailable at [2].\n\n[1] https://review.opendev.org/#/c/694480/\n[2] https://review.opendev.org/#/c/694478/\n\nChange-Id: I0763772655b5afe977376e3f2d26d5a7f80f7c87\n'}, {'number': 2, 'created': '2019-11-15 15:41:06.000000000', 'files': ['doc/source/configuration/policy-sample.rst', 'test-requirements.txt', 'README.rst', 'setup.py', 'neutron_interconnection/tests/__init__.py', 'neutron_interconnection/tests/base.py', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'doc/source/install/install-ubuntu.rst', 'neutron_interconnection/tests/test_neutron_interconnection.py', '.coveragerc', 'LICENSE', 'doc/source/user/index.rst', 'doc/source/install/common_prerequisites.rst', '.mailmap', 'lower-constraints.txt', 'neutron_interconnection/services/common/constants.py', 'neutron_interconnection/services/__init__.py', 'releasenotes/source/index.rst', 'doc/source/install/install-obs.rst', 'doc/source/configuration/index.rst', 'doc/source/cli/index.rst', 'setup.cfg', 'tox.ini', 'doc/source/admin/index.rst', '.gitignore', 'neutron_interconnection/policies/base.py', 'doc/source/install/index.rst', 'doc/source/library/index.rst', 'doc/source/install/get_started.rst', 'releasenotes/source/_templates/.placeholder', 'etc/oslo-policy-generator/policy.conf', 'doc/source/contributor/contributing.rst', 'neutron_interconnection/services/common/__init__.py', 'requirements.txt', 'doc/source/contributor/index.rst', 'neutron_interconnection/policies/__init__.py', 'doc/source/install/common_configure.rst', 'releasenotes/source/_static/.placeholder', 'doc/source/install/next-steps.rst', 'doc/source/configuration/policy.rst', '.stestr.conf', 'doc/source/reference/index.rst', 'babel.cfg', 'doc/source/conf.py', 'doc/source/install/install-rdo.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/install/verify.rst', 'doc/source/install/install.rst', 'zuul.d/project.yaml', 'doc/requirements.txt', 'doc/source/readme.rst', 'neutron_interconnection/policies/interconnection.py', 'neutron_interconnection/__init__.py', 'HACKING.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron-interconnection/commit/e74810f3f077b4f2715a8ddb1ebf992d73ea70c2', 'message': 'Retire neutron-interconnection project\n\nGovernance change is proposed at [1].\nProject config patch, which moves repo to x/ namespace is\navailable at [2].\n\n[1] https://review.opendev.org/#/c/694480/\n[2] https://review.opendev.org/#/c/694478/\n\nChange-Id: I0763772655b5afe977376e3f2d26d5a7f80f7c87\n'}]",3,694490,e74810f3f077b4f2715a8ddb1ebf992d73ea70c2,14,5,2,11975,,,0,"Retire neutron-interconnection project

Governance change is proposed at [1].
Project config patch, which moves repo to x/ namespace is
available at [2].

[1] https://review.opendev.org/#/c/694480/
[2] https://review.opendev.org/#/c/694478/

Change-Id: I0763772655b5afe977376e3f2d26d5a7f80f7c87
",git fetch https://review.opendev.org/openstack/neutron-interconnection refs/changes/90/694490/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/policy-sample.rst', 'test-requirements.txt', 'README.rst', 'setup.py', 'neutron_interconnection/tests/__init__.py', 'neutron_interconnection/tests/base.py', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'doc/source/install/install-ubuntu.rst', 'neutron_interconnection/tests/test_neutron_interconnection.py', '.coveragerc', 'LICENSE', 'doc/source/user/index.rst', 'doc/source/install/common_prerequisites.rst', '.mailmap', 'lower-constraints.txt', 'neutron_interconnection/services/common/constants.py', 'neutron_interconnection/services/__init__.py', 'releasenotes/source/index.rst', 'doc/source/install/install-obs.rst', 'doc/source/configuration/index.rst', 'doc/source/cli/index.rst', 'setup.cfg', 'tox.ini', 'doc/source/admin/index.rst', '.gitignore', 'neutron_interconnection/policies/base.py', 'doc/source/install/index.rst', 'doc/source/library/index.rst', 'doc/source/install/get_started.rst', 'releasenotes/source/_templates/.placeholder', 'etc/oslo-policy-generator/policy.conf', 'doc/source/contributor/contributing.rst', 'neutron_interconnection/services/common/__init__.py', 'requirements.txt', 'doc/source/contributor/index.rst', 'neutron_interconnection/policies/__init__.py', 'doc/source/install/common_configure.rst', 'releasenotes/source/_static/.placeholder', 'doc/source/install/next-steps.rst', 'doc/source/configuration/policy.rst', '.stestr.conf', 'doc/source/reference/index.rst', 'babel.cfg', 'doc/source/conf.py', 'doc/source/install/install-rdo.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/install/verify.rst', 'doc/source/install/install.rst', 'zuul.d/project.yaml', 'doc/requirements.txt', 'doc/source/readme.rst', 'neutron_interconnection/policies/interconnection.py', 'neutron_interconnection/__init__.py', 'HACKING.rst', 'releasenotes/source/conf.py']",57,69f30cafdadd92e8e1dd2282a0b2437d14f263c0,neutron-interconnection-retire,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'neutron_interconnection Release Notes' copyright = u'2017, OpenStack Developers' # openstackdocstheme options repository_name = 'openstack/neutron-interconnection' bug_project = 'neutron-interconnection' bug_tag = '' html_last_updated_fmt = '%Y-%m-%d %H:%M' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'neutron_interconnectionReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'neutron_interconnectionReleaseNotes.tex', u'neutron_interconnection Release Notes Documentation', u'OpenStack Foundation', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'neutron_interconnectionrereleasenotes', u'neutron_interconnection Release Notes Documentation', [u'OpenStack Foundation'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'neutron_interconnection ReleaseNotes', u'neutron_interconnection Release Notes Documentation', u'OpenStack Foundation', 'neutron_interconnectionReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",10,1674
openstack%2Fkolla-ansible~master~Iee445a260ef98c1686571df9d6850ab9bc337740,openstack/kolla-ansible,master,Iee445a260ef98c1686571df9d6850ab9bc337740,Update fluentd filter for consistencies of log,NEW,2019-05-21 11:54:26.000000000,2019-11-15 17:19:10.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25314}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 29915}, {'_account_id': 30356}, {'_account_id': 30427}, {'_account_id': 30438}]","[{'number': 1, 'created': '2019-05-21 11:54:26.000000000', 'files': ['ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/785fb36c6b2d835098ddf4a1ba5a45863c097954', 'message': 'Update fluentd filter for consistencies of log\n\nChange-Id: Iee445a260ef98c1686571df9d6850ab9bc337740\nCloses-Bug: #1829272\n'}]",0,660359,785fb36c6b2d835098ddf4a1ba5a45863c097954,14,12,1,19779,,,0,"Update fluentd filter for consistencies of log

Change-Id: Iee445a260ef98c1686571df9d6850ab9bc337740
Closes-Bug: #1829272
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/660359/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2'],1,785fb36c6b2d835098ddf4a1ba5a45863c097954,bug/1829272," log_level ${record[""log_level""].upcase} Hostname ${hostname} log_level ${record[""log_level""].upcase} Hostname ${hostname} log_level ${record[""log_level""].upcase}",,5,0
openstack%2Fnova~stable%2Fqueens~I8e400da9445101b9ff5240511c56105e26e16e4c,openstack/nova,stable/queens,I8e400da9445101b9ff5240511c56105e26e16e4c,"Revert ""openstack server create"" to ""nova boot"" in nova docs",MERGED,2019-11-06 19:37:51.000000000,2019-11-15 17:17:34.000000000,2019-11-15 17:17:34.000000000,"[{'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27478}]","[{'number': 1, 'created': '2019-11-06 19:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9154c38bf17ffcbee4dbcc9a52b9cfff2d86765', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n'}, {'number': 2, 'created': '2019-11-08 00:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb4aa38af9962a9dabadab562f7bdf2cfdbe6fa4', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\nConflicts:\n      doc/source/user/launch-instance-from-volume.rst\n\nNOTE(amodi): The conflict is due to not having\n16027094ebabc5cd9f2e766431f18aadeff54a40 commit in Queens\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)\n(cherry picked from commit f2d6dbd77144caf561615d0f552f4e2dc94b7d19)\n(cherry picked from commit a6d245aa41ae0de2da7ef387fae1aa8745e9956d)\n'}, {'number': 3, 'created': '2019-11-08 13:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3778568deff5e7b3b76871041b07de79f80deb9c', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)\n(cherry picked from commit f2d6dbd77144caf561615d0f552f4e2dc94b7d19)\n(cherry picked from commit a6d245aa41ae0de2da7ef387fae1aa8745e9956d)\n'}, {'number': 4, 'created': '2019-11-14 17:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89bb9eb90268ab39e6355b8939de7b8e18fa5284', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)\n(cherry picked from commit f2d6dbd77144caf561615d0f552f4e2dc94b7d19)\n(cherry picked from commit a6d245aa41ae0de2da7ef387fae1aa8745e9956d)\n'}, {'number': 5, 'created': '2019-11-14 20:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e68669f204d15785e89410f12121c3bada31a87', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)\n(cherry picked from commit f2d6dbd77144caf561615d0f552f4e2dc94b7d19)\n(cherry picked from commit a6d245aa41ae0de2da7ef387fae1aa8745e9956d)\n'}, {'number': 6, 'created': '2019-11-14 20:51:19.000000000', 'files': ['doc/source/user/launch-instance-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b2d7e2228d05172075b5a243eda322aa0ec1f8c6', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)\n(cherry picked from commit f2d6dbd77144caf561615d0f552f4e2dc94b7d19)\n(cherry picked from commit 7bb5a11f701704530cf756cd5776f0997d104250)\n'}]",3,693239,b2d7e2228d05172075b5a243eda322aa0ec1f8c6,24,4,6,27478,,,0,"Revert ""openstack server create"" to ""nova boot"" in nova docs

When this patch [1] was introduced, it didn't take into consideration,
the updated/changed/modified parameters when using OSC vs nova CLI, so not
every option can be used in ""openstack server create"" which was used in ""nova boot""
and vice versa. This bug would track reverting some of these incorrect commands usage.

For example- ""nova boot --block device <params1>"" can be translated as
""openstack server create --block-device-mapping <params2>"" where params1 and
params2 are formatted differently (hence needs more than a simple search/replace)

[1] https://review.opendev.org/#/c/404623/

Related-To: https://review.opendev.org/#/c/404623/
Change-Id: I8e400da9445101b9ff5240511c56105e26e16e4c
Closes-Bug: #1851425
(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)
(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)
(cherry picked from commit f2d6dbd77144caf561615d0f552f4e2dc94b7d19)
(cherry picked from commit 7bb5a11f701704530cf756cd5776f0997d104250)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/693239/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/launch-instance-from-volume.rst'],1,f9154c38bf17ffcbee4dbcc9a52b9cfff2d86765,bug/1851425,:command:`nova boot` command: - nova boot parameter $ nova boot --flavor 2 --image 98901246-af91-43d8-b5e6-a4506aa8f369 \ | Property | Value | $ nova boot --flavor FLAVOR --block-device \ $ nova boot --flavor 2 --volume VOLUME_ID \ | Property | Value |,:command:`openstack server create` command: - openstack server create parameter $ openstack server create --flavor 2 --image 98901246-af91-43d8-b5e6-a4506aa8f369 \ | Field | Value | $ openstack server create --flavor FLAVOR --block-device \ $ openstack server create --flavor 2 --volume VOLUME_ID \ | Field | Value |,7,7
openstack%2Felection~master~Idfa9734761236ed581511f69d3085b554f9f977a,openstack/election,master,Idfa9734761236ed581511f69d3085b554f9f977a,Record nonmember OSF profile IDs,MERGED,2019-09-21 19:07:54.000000000,2019-11-15 17:13:07.000000000,2019-11-15 17:11:56.000000000,"[{'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-21 19:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/98d72e2fa0b1a53d9e0af410321359916c6877ce', 'message': 'Record nonmember OSF profile IDs\n\nIn the structured data and invite files, include OSF profile ID\nnumbers of non-members, when those can be found. This is done\nindependently of member profile ID tracking, so does not alter\nelectoral rolls.\n\nChange-Id: Idfa9734761236ed581511f69d3085b554f9f977a\n'}, {'number': 2, 'created': '2019-10-07 20:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/b381abe168509892c759f7be36999c327bd3753e', 'message': 'Record nonmember OSF profile IDs\n\nIn the structured data and invite files, include OSF profile ID\nnumbers of non-members, when those can be found. This is done\nindependently of member profile ID tracking, so does not alter\nelectoral rolls.\n\nChange-Id: Idfa9734761236ed581511f69d3085b554f9f977a\n'}, {'number': 3, 'created': '2019-10-11 12:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/732e1bae9622571832479277c88aa415798da7cb', 'message': 'Record nonmember OSF profile IDs\n\nIn the structured data and invite files, include OSF profile ID\nnumbers of non-members, when those can be found. This is done\nindependently of member profile ID tracking, so does not alter\nelectoral rolls.\n\nChange-Id: Idfa9734761236ed581511f69d3085b554f9f977a\n'}, {'number': 4, 'created': '2019-10-11 13:42:54.000000000', 'files': ['openstack_election/owners.py', 'openstack_election/utils.py'], 'web_link': 'https://opendev.org/openstack/election/commit/593db0ecc027dde04100efaf38c0b3e0690774a7', 'message': 'Record nonmember OSF profile IDs\n\nIn the structured data and invite files, include OSF profile ID\nnumbers of non-members, when those can be found. This is done\nindependently of member profile ID tracking, so does not alter\nelectoral rolls.\n\nChange-Id: Idfa9734761236ed581511f69d3085b554f9f977a\n'}]",0,683795,593db0ecc027dde04100efaf38c0b3e0690774a7,18,3,4,5263,,,0,"Record nonmember OSF profile IDs

In the structured data and invite files, include OSF profile ID
numbers of non-members, when those can be found. This is done
independently of member profile ID tracking, so does not alter
electoral rolls.

Change-Id: Idfa9734761236ed581511f69d3085b554f9f977a
",git fetch https://review.opendev.org/openstack/election refs/changes/95/683795/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_election/owners.py', 'openstack_election/utils.py']",2,98d72e2fa0b1a53d9e0af410321359916c6877ce,transparent-verification,"def lookup_osf(email, group_slug=None): params = {'filter[]': ['email==%s' % email]} if group_slug: params['filter[]'].append('group_slug==%s' % group_slug) # URL pattern for querying foundation profiles by E-mail address return decode_json(requester( 'https://openstackid-resources.openstack.org/api/public/v1/members', params, headers={'Accept': 'application/json'},)) def lookup_member(email): """"""Lookup profiles of OSF members"""""" return lookup_osf(email=email, group_slug='foundation-members')","def lookup_member(email): # The OpenStack foundation member directory lookup API endpoint MEMBER_LOOKUP_URL = 'https://openstackid-resources.openstack.org/' # URL pattern for querying foundation members by E-mail address raw = requester(MEMBER_LOOKUP_URL + '/api/public/v1/members', params={'filter[]': [ 'group_slug==foundation-members', 'email==' + email, ]}, headers={'Accept': 'application/json'}, ) return decode_json(raw)",23,13
openstack%2Felection~master~I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e,openstack/election,master,I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e,Include a -v/--verbose option for check commands,MERGED,2019-08-29 19:20:50.000000000,2019-11-15 17:11:35.000000000,2019-11-15 17:10:24.000000000,"[{'_account_id': 5263}, {'_account_id': 12898}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-29 19:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/9bf1b5d72caf133e24b9cb2017ac0bb8fec7b306', 'message': 'Include a -v/--verbose option for check commands\n\nSo as to increase transparency of the candidate verification checks,\nadd a --verbose option to all of the various candidate checking\ncommand scripts. Supplying it once returns check result URLs for\nclarity, while adding it twice also displays the query URLs used.\n\nSet double verbosity for the check review tox testenv, to aid\nelection officials in reviewing nominees for valid candidacy.\n\nAlso update the Gerrit and Git URLs for the OpenDev transition.\n\nChange-Id: I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e\n'}, {'number': 2, 'created': '2019-08-29 20:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/cc6076c636491ad63fd4c1925589772239c69377', 'message': 'Include a -v/--verbose option for check commands\n\nSo as to increase transparency of the candidate verification checks,\nadd a --verbose option to all of the various candidate checking\ncommand scripts. Supplying it once returns check result URLs for\nclarity, while adding it twice also displays the query URLs used.\n\nSet double verbosity for the check review tox testenv, to aid\nelection officials in reviewing nominees for valid candidacy.\n\nAlso update the Gerrit and Git URLs for the OpenDev transition.\n\nChange-Id: I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e\n'}, {'number': 3, 'created': '2019-08-29 20:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/c00999e6ed2e8d35ba6ab6592025597d3994509a', 'message': 'Include a -v/--verbose option for check commands\n\nSo as to increase transparency of the candidate verification checks,\nadd a --verbose option to all of the various candidate checking\ncommand scripts. Supplying it once returns check result URLs for\nclarity, while adding it twice also displays the query URLs used.\n\nSet double verbosity for the check review tox testenv, to aid\nelection officials in reviewing nominees for valid candidacy.\n\nAlso update the Gerrit and Git URLs for the OpenDev transition.\n\nChange-Id: I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e\n'}, {'number': 4, 'created': '2019-08-29 21:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/8a361a5f05438453bffdb7f61cb52201660172eb', 'message': 'Include a -v/--verbose option for check commands\n\nSo as to increase transparency of the candidate verification checks,\nadd a --verbose option to all of the various candidate checking\ncommand scripts. Supplying it once returns check result URLs for\nclarity, while adding it twice also displays the query URLs used.\n\nSet double verbosity for the check review tox testenv, to aid\nelection officials in reviewing nominees for valid candidacy.\n\nAlso update the Gerrit and Git URLs for the OpenDev transition.\n\nChange-Id: I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e\n'}, {'number': 5, 'created': '2019-08-30 18:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/c88f61a25af0d44679469dd382e741305f93d404', 'message': 'Include a -v/--verbose option for check commands\n\nSo as to increase transparency of the candidate verification checks,\nadd a --verbose option to all of the various candidate checking\ncommand scripts. Supplying it once returns check result URLs for\nclarity, while adding it twice also displays the query URLs used.\n\nSet double verbosity for the check review tox testenv, to aid\nelection officials in reviewing nominees for valid candidacy.\n\nAlso update the Gerrit and Git URLs for the OpenDev transition.\n\nChange-Id: I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e\n'}, {'number': 6, 'created': '2019-08-30 19:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/5b4dde175d487145719ea5d0c8a756e445ab26e4', 'message': 'Include a -v/--verbose option for check commands\n\nSo as to increase transparency of the candidate verification checks,\nadd a --verbose option to all of the various candidate checking\ncommand scripts. Supplying it once returns check result URLs for\nclarity, while adding it twice also displays the query URLs used.\n\nSet double verbosity for the check review tox testenv, to aid\nelection officials in reviewing nominees for valid candidacy.\n\nAlso update the Gerrit and Git URLs for the OpenDev transition.\n\nChange-Id: I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e\n'}, {'number': 7, 'created': '2019-10-11 12:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/21ecde9d66b6eee622eb601113de0876bc70439e', 'message': 'Include a -v/--verbose option for check commands\n\nSo as to increase transparency of the candidate verification checks,\nadd a --verbose option to all of the various candidate checking\ncommand scripts. Supplying it once returns check result URLs for\nclarity, while adding it twice also displays the query URLs used.\n\nSet double verbosity for the check review tox testenv, to aid\nelection officials in reviewing nominees for valid candidacy.\n\nAlso update the Gerrit and Git URLs for the OpenDev transition and\ncorrect a couple of docstrings for utility functions.\n\nChange-Id: I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e\n'}, {'number': 8, 'created': '2019-10-11 13:42:54.000000000', 'files': ['openstack_election/cmds/check_all_candidacies.py', 'openstack_election/owners.py', 'openstack_election/check_candidacy.py', 'openstack_election/cmds/check_candidacy.py', 'openstack_election/cmds/ci_check_all_candidate_files.py', 'openstack_election/cmds/check_manual.py', 'openstack_election/utils.py', 'openstack_election/cmds/template_emails.py', 'tox.ini', 'openstack_election/templates/tc_campaigning_kickoff.j2'], 'web_link': 'https://opendev.org/openstack/election/commit/c24fab9d73c4a7d782051687b8c9ea494935a328', 'message': 'Include a -v/--verbose option for check commands\n\nSo as to increase transparency of the candidate verification checks,\nadd a --verbose option to all of the various candidate checking\ncommand scripts. Supplying it once returns check result URLs for\nclarity, while adding it twice also displays the query URLs used.\n\nSet double verbosity for the check review tox testenv, to aid\nelection officials in reviewing nominees for valid candidacy.\n\nAlso update the Gerrit and Git URLs for the OpenDev transition and\ncorrect a couple of docstrings for utility functions.\n\nChange-Id: I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e\n'}]",13,679323,c24fab9d73c4a7d782051687b8c9ea494935a328,31,4,8,5263,,,0,"Include a -v/--verbose option for check commands

So as to increase transparency of the candidate verification checks,
add a --verbose option to all of the various candidate checking
command scripts. Supplying it once returns check result URLs for
clarity, while adding it twice also displays the query URLs used.

Set double verbosity for the check review tox testenv, to aid
election officials in reviewing nominees for valid candidacy.

Also update the Gerrit and Git URLs for the OpenDev transition and
correct a couple of docstrings for utility functions.

Change-Id: I5f6fa4e2c2c6058ba5090078bbdf9dd9f31f692e
",git fetch https://review.opendev.org/openstack/election refs/changes/23/679323/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_election/cmds/check_all_candidacies.py', 'openstack_election/owners.py', 'openstack_election/check_candidacy.py', 'openstack_election/cmds/check_candidacy.py', 'openstack_election/cmds/ci_check_all_candidate_files.py', 'openstack_election/cmds/check_manual.py', 'openstack_election/cmds/template_emails.py', 'openstack_election/utils.py', 'tox.ini', 'openstack_election/templates/tc_campaigning_kickoff.j2']",10,9bf1b5d72caf133e24b9cb2017ac0bb8fec7b306,transparent-verification,[2] https://opendev.org/openstack/election/src/branch/master/candidates/{{ release }}/TC,[2] https://git.openstack.org/cgit/openstack/election/tree/candidates/{{ release }}/TC,86,59
openstack%2Ftripleo-heat-templates~master~I48b969941c3c6cb1a5b39c8292f461c61b3dabd7,openstack/tripleo-heat-templates,master,I48b969941c3c6cb1a5b39c8292f461c61b3dabd7,Resolve FIXME for NeutronServer mapping,MERGED,2019-10-02 21:20:03.000000000,2019-11-15 16:54:28.000000000,2019-11-15 16:52:26.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 21:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48f41f1238daa37a41a67e2da7bfe9c9865887cd', 'message': ""Remove outdated FIXME's\n\nThese comments are outdated and can be removed.\n\nChange-Id: I48b969941c3c6cb1a5b39c8292f461c61b3dabd7\n""}, {'number': 2, 'created': '2019-10-22 20:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce0ee4df3c56dff2236a15eabcc4a736bab02e28', 'message': 'Resolve FIXME for NeutronServer mapping\n\nThe NeutronServer service mapping has been outdated for a while in favor\nof using the NeutronApi service name. Previously, the 2 service mappings\njust pointed at the same service template.\n\nThis patch properly cleans up any old files still using NeutronServer,\nand adds a deprecation for the old mapping. An environment file is added\nto enable the old mapping if needed.\n\nThis patch will be backported to train, and then the environment file\ncan be removed in ussuri in a subsequent patch.\n\nAlso cleans up an outdated FIXME comment in\novercloud-resource-registry.j2.yaml.\n\nChange-Id: I48b969941c3c6cb1a5b39c8292f461c61b3dabd7\n'}, {'number': 3, 'created': '2019-10-23 15:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f3c5a2ce1bc3db48a2252bece6ea36dbde9c918', 'message': 'Resolve FIXME for NeutronServer mapping\n\nThe NeutronServer service mapping has been outdated for a while in favor\nof using the NeutronApi service name. Previously, the 2 service mappings\njust pointed at the same service template.\n\nThis patch properly cleans up any old files still using NeutronServer,\nand adds a deprecation for the old mapping. An environment file is added\nto enable the old mapping if needed.\n\nThis patch will be backported to train, and then the environment file\ncan be removed in ussuri in a subsequent patch.\n\nAlso cleans up an outdated FIXME comment in\novercloud-resource-registry.j2.yaml.\n\nChange-Id: I48b969941c3c6cb1a5b39c8292f461c61b3dabd7\n'}, {'number': 4, 'created': '2019-11-14 16:29:09.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'releasenotes/notes/deprecate-neutron-server-mapping-af17af3d8e09ade4.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/scenario007-standalone.yaml', 'environments/services/neutron-ovs-dvr.yaml', 'environments/undercloud/undercloud-minion.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'environments/docker-uc-light.yaml', 'environments/services/neutron-server.yaml', 'ci/environments/scenario006-multinode.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'sample-env-generator/undercloud-minion.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/neutron-ovs-dvr.yaml', 'environments/services/neutron-ovs.yaml', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6687758c7a59449e3f4bf7de9bdd7290c2db7f2d', 'message': 'Resolve FIXME for NeutronServer mapping\n\nThe NeutronServer service mapping has been outdated for a while in favor\nof using the NeutronApi service name. Previously, the 2 service mappings\njust pointed at the same service template.\n\nThis patch properly cleans up any old files still using NeutronServer,\nand adds a deprecation for the old mapping. An environment file is added\nto enable the old mapping if needed.\n\nThis patch will be backported to train, and then the environment file\ncan be removed in ussuri in a subsequent patch.\n\nAlso cleans up an outdated FIXME comment in\novercloud-resource-registry.j2.yaml.\n\nChange-Id: I48b969941c3c6cb1a5b39c8292f461c61b3dabd7\n'}]",2,686299,6687758c7a59449e3f4bf7de9bdd7290c2db7f2d,30,5,4,7144,,,0,"Resolve FIXME for NeutronServer mapping

The NeutronServer service mapping has been outdated for a while in favor
of using the NeutronApi service name. Previously, the 2 service mappings
just pointed at the same service template.

This patch properly cleans up any old files still using NeutronServer,
and adds a deprecation for the old mapping. An environment file is added
to enable the old mapping if needed.

This patch will be backported to train, and then the environment file
can be removed in ussuri in a subsequent patch.

Also cleans up an outdated FIXME comment in
overcloud-resource-registry.j2.yaml.

Change-Id: I48b969941c3c6cb1a5b39c8292f461c61b3dabd7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/686299/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,48f41f1238daa37a41a67e2da7bfe9c9865887cd,686299,, # FIXME(shardy) the duplicate NeutronServer line can be removed when we've updated # the multinode job ControllerServices after this patch merges # Default Neutron ML2 puppet plugin to use when NeutronCorePlugin is set to ML2 # FIXME(bogdando): can not be switched yet due to puppet-base issues # see https://review.opendev.org/#/c/563443,0,6
openstack%2Fopenstack-helm-infra~master~Ib9f013f97a83da0c2e36f2d38e54ae0a906700e5,openstack/openstack-helm-infra,master,Ib9f013f97a83da0c2e36f2d38e54ae0a906700e5,Add default Network Policies for Mariadb Prometheus Exporter,MERGED,2019-11-08 19:40:45.000000000,2019-11-15 16:42:55.000000000,2019-11-15 16:41:22.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-11-08 19:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd14d1a128a8eeb6ec0599f3213e508c5e0e485c', 'message': 'Add default Network Policies for MySQL Prometheus Exporter\n\nDue to missing default policies for MySQL Prometheus\nExporter the Pod fails to start.\n\nChange-Id: Ib9f013f97a83da0c2e36f2d38e54ae0a906700e5\n'}, {'number': 2, 'created': '2019-11-08 19:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/479b0b5aa9bf7d1f56e4409bea121858b1527bfb', 'message': 'Add default Network Policies for Mariadb Prometheus Exporter\n\nDue to missing default policies for MySQL Prometheus\nExporter the Pod fails to start.\n\nChange-Id: Ib9f013f97a83da0c2e36f2d38e54ae0a906700e5\n'}, {'number': 3, 'created': '2019-11-11 07:46:26.000000000', 'files': ['mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f173d6103f6d061cf7bda008e36155eb878d1b8d', 'message': 'Add default Network Policies for Mariadb Prometheus Exporter\n\nDue to missing default policies for MySQL Prometheus\nExporter the Pod fails to start.\n\nChange-Id: Ib9f013f97a83da0c2e36f2d38e54ae0a906700e5\n'}]",0,693584,f173d6103f6d061cf7bda008e36155eb878d1b8d,14,6,3,8749,,,0,"Add default Network Policies for Mariadb Prometheus Exporter

Due to missing default policies for MySQL Prometheus
Exporter the Pod fails to start.

Change-Id: Ib9f013f97a83da0c2e36f2d38e54ae0a906700e5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/84/693584/3 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/values.yaml'],1,fd14d1a128a8eeb6ec0599f3213e508c5e0e485c,netpol, prometheus-mysql-exporter: ingress: - {} egress: - {},,5,0
openstack%2Fkolla-ansible~stable%2Ftrain~Ib79796d49c415d8314ea5661a16bd2dac8ba7188,openstack/kolla-ansible,stable/train,Ib79796d49c415d8314ea5661a16bd2dac8ba7188,Fix indentation of HAProxy internal http-request config,MERGED,2019-11-14 12:02:13.000000000,2019-11-15 16:41:37.000000000,2019-11-15 16:40:06.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 12:02:13.000000000', 'files': ['ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/254e4a2117f78a2520266bffdf680c1c427366f2', 'message': 'Fix indentation of HAProxy internal http-request config\n\nRelated: blueprint add-ssl-internal-network\nCo-Authored-By: generalfuzz <generalfuzz@gmail.com>\n\nChange-Id: Ib79796d49c415d8314ea5661a16bd2dac8ba7188\n(cherry picked from commit 76ae7eff7f494193e42fae5b0ceac92766e76114)\n'}]",0,694269,254e4a2117f78a2520266bffdf680c1c427366f2,8,3,1,14826,,,0,"Fix indentation of HAProxy internal http-request config

Related: blueprint add-ssl-internal-network
Co-Authored-By: generalfuzz <generalfuzz@gmail.com>

Change-Id: Ib79796d49c415d8314ea5661a16bd2dac8ba7188
(cherry picked from commit 76ae7eff7f494193e42fae5b0ceac92766e76114)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/694269/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2'],1,254e4a2117f78a2520266bffdf680c1c427366f2,bp/add-ssl-internal-network-stable/train, http-request set-header X-Forwarded-Proto https if { ssl_fc }, http-request set-header X-Forwarded-Proto https if { ssl_fc },1,1
openstack%2Fkolla-ansible~stable%2Frocky~Ib49ea586d36ae32d01b9610a48b13798db4a4cd5,openstack/kolla-ansible,stable/rocky,Ib49ea586d36ae32d01b9610a48b13798db4a4cd5,Fix keystone fernet rotation for source images,MERGED,2019-11-14 12:02:47.000000000,2019-11-15 16:41:25.000000000,2019-11-15 16:40:07.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 12:02:47.000000000', 'files': ['ansible/roles/keystone/templates/crontab.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/006f7944b6e5a27c6404af1513a60b12ebe82e71', 'message': 'Fix keystone fernet rotation for source images\n\nIn source images, keystone-manage is installed to a virtualenv in\n/var/lib/kolla/venv. This is not in the PATH for cron jobs, which always\nuse PATH=/usr/bin:/bin. This results in the following error:\n\n/usr/bin/fernet-rotate.sh: line 3: keystone-manage: command not found\n\nHowever this error is not typically visible, since cron logs to syslog\nand we do not configure fluentd to collect these logs.\n\nThis change configures the PATH in the fernet-rotate.sh script for\nsource images.\n\nChange-Id: Ib49ea586d36ae32d01b9610a48b13798db4a4cd5\nCloses-Bug: #1850711\n(cherry picked from commit d09ee49afc19ad5e752755e14ac46b9af1524bdf)\n'}]",0,694272,006f7944b6e5a27c6404af1513a60b12ebe82e71,8,3,1,14826,,,0,"Fix keystone fernet rotation for source images

In source images, keystone-manage is installed to a virtualenv in
/var/lib/kolla/venv. This is not in the PATH for cron jobs, which always
use PATH=/usr/bin:/bin. This results in the following error:

/usr/bin/fernet-rotate.sh: line 3: keystone-manage: command not found

However this error is not typically visible, since cron logs to syslog
and we do not configure fluentd to collect these logs.

This change configures the PATH in the fernet-rotate.sh script for
source images.

Change-Id: Ib49ea586d36ae32d01b9610a48b13798db4a4cd5
Closes-Bug: #1850711
(cherry picked from commit d09ee49afc19ad5e752755e14ac46b9af1524bdf)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/694272/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/templates/crontab.j2'],1,006f7944b6e5a27c6404af1513a60b12ebe82e71,bug/1850711-stable/rocky,"{# Cron uses a PATH of /usr/bin:/bin by default, which does not include the #} {# virtualenv in source images. #} {% if keystone_install_type == 'source' %} PATH=/var/lib/kolla/venv/bin:/usr/bin:/bin {% endif %} ",,6,0
openstack%2Fkolla-ansible~stable%2Fstein~Ie7ee70e19536c2d8f4300df55c9c6ca38abb7ae4,openstack/kolla-ansible,stable/stein,Ie7ee70e19536c2d8f4300df55c9c6ca38abb7ae4,"CI: Add more service list checks to OS ""smoke testing""",ABANDONED,2019-11-15 11:36:48.000000000,2019-11-15 16:37:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-15 11:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df08f3d349ea2371fde7e21b0c4d56765548eaca', 'message': 'CI: Add more service list checks to OS ""smoke testing""\n\nChange-Id: Ie7ee70e19536c2d8f4300df55c9c6ca38abb7ae4\n'}, {'number': 2, 'created': '2019-11-15 12:37:31.000000000', 'files': ['tests/test-openstack.sh', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b2a3239b516b54546d2e2cba55ab797083e9c3f', 'message': 'CI: Add more service list checks to OS ""smoke testing""\n\nChange-Id: Ie7ee70e19536c2d8f4300df55c9c6ca38abb7ae4\n'}]",0,694518,4b2a3239b516b54546d2e2cba55ab797083e9c3f,8,2,2,30491,,,0,"CI: Add more service list checks to OS ""smoke testing""

Change-Id: Ie7ee70e19536c2d8f4300df55c9c6ca38abb7ae4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/694518/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-openstack.sh'],1,df08f3d349ea2371fde7e21b0c4d56765548eaca,ci-more-checks-stable/stein," openstack --debug orchestration service list if [[ $ACTION =~ ""ceph"" ]] || [[ $ACTION == ""cinder-lvm"" ]]; then openstack --debug volume service list fi",,4,0
openstack%2Fmonasca-agent~master~Ic964802c63816adaf7808024d93fff9fd8028fed,openstack/monasca-agent,master,Ic964802c63816adaf7808024d93fff9fd8028fed,Fix TOC section reference,MERGED,2019-11-14 16:54:14.000000000,2019-11-15 16:35:47.000000000,2019-11-15 16:35:47.000000000,"[{'_account_id': 10311}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 16:54:14.000000000', 'files': ['docs/Plugins.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/e62dcef4c4b1329f79bd247e47b961ed9a304b6e', 'message': 'Fix TOC section reference\n\nChange-Id: Ic964802c63816adaf7808024d93fff9fd8028fed\nStory: 2006753\nTask: 37448\n'}]",0,694356,e62dcef4c4b1329f79bd247e47b961ed9a304b6e,8,3,1,16222,,,0,"Fix TOC section reference

Change-Id: Ic964802c63816adaf7808024d93fff9fd8028fed
Story: 2006753
Task: 37448
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/56/694356/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/Plugins.md'],1,e62dcef4c4b1329f79bd247e47b961ed9a304b6e,, - [Certificate Expiration (PEM File)](#certificate-expiration-pem-file), - [Certificate Expiration (PEM File)](#certificate-expiration-file),1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab,openstack/tripleo-heat-templates,stable/queens,Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab,Add ../network/scripts/ to search path for run-os-net-config.sh,MERGED,2019-11-14 20:17:12.000000000,2019-11-15 16:27:34.000000000,2019-11-15 16:27:34.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 20:17:12.000000000', 'files': ['tools/yaml-nic-config-2-script.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/456f2355f55e0323190603674a6d0229054f4a3d', 'message': 'Add ../network/scripts/ to search path for run-os-net-config.sh\n\nIn some customer deployments, the run-os-net-config.sh script exists at\nthe relative path ../network/scripts/ so add that to the path search.\n\nDownstream bug: https://bugzilla.redhat.com/show_bug.cgi?id=1724165\n\nChange-Id: Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab\n(cherry picked from commit 29614f90a0d2b2192ed994736cf8e81ea8fcc5b3)\n'}]",0,694400,456f2355f55e0323190603674a6d0229054f4a3d,7,3,1,13995,,,0,"Add ../network/scripts/ to search path for run-os-net-config.sh

In some customer deployments, the run-os-net-config.sh script exists at
the relative path ../network/scripts/ so add that to the path search.

Downstream bug: https://bugzilla.redhat.com/show_bug.cgi?id=1724165

Change-Id: Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab
(cherry picked from commit 29614f90a0d2b2192ed994736cf8e81ea8fcc5b3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/694400/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/yaml-nic-config-2-script.py'],1,456f2355f55e0323190603674a6d0229054f4a3d,fix-yaml-nic-config-2-script-path-stable/queens, script_paths.append('../network/scripts/run-os-net-config.sh'),,1,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab,openstack/tripleo-heat-templates,stable/rocky,Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab,Add ../network/scripts/ to search path for run-os-net-config.sh,MERGED,2019-11-14 20:16:50.000000000,2019-11-15 16:27:33.000000000,2019-11-15 16:27:32.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 20:16:50.000000000', 'files': ['tools/yaml-nic-config-2-script.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa23028742c533debf754708110eb2ed86778f0a', 'message': 'Add ../network/scripts/ to search path for run-os-net-config.sh\n\nIn some customer deployments, the run-os-net-config.sh script exists at\nthe relative path ../network/scripts/ so add that to the path search.\n\nDownstream bug: https://bugzilla.redhat.com/show_bug.cgi?id=1724165\n\nChange-Id: Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab\n(cherry picked from commit 29614f90a0d2b2192ed994736cf8e81ea8fcc5b3)\n'}]",0,694399,fa23028742c533debf754708110eb2ed86778f0a,7,3,1,13995,,,0,"Add ../network/scripts/ to search path for run-os-net-config.sh

In some customer deployments, the run-os-net-config.sh script exists at
the relative path ../network/scripts/ so add that to the path search.

Downstream bug: https://bugzilla.redhat.com/show_bug.cgi?id=1724165

Change-Id: Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab
(cherry picked from commit 29614f90a0d2b2192ed994736cf8e81ea8fcc5b3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/694399/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/yaml-nic-config-2-script.py'],1,fa23028742c533debf754708110eb2ed86778f0a,fix-yaml-nic-config-2-script-path-stable/rocky, script_paths.append('../network/scripts/run-os-net-config.sh'),,1,0
openstack%2Fproject-config~master~I6bc0ffe1ca2268ee3495e786767abfc7d4696273,openstack/project-config,master,I6bc0ffe1ca2268ee3495e786767abfc7d4696273,Add noop-jobs template for neutron-interconnection project,MERGED,2019-11-15 15:55:14.000000000,2019-11-15 16:19:25.000000000,2019-11-15 16:19:25.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 15:55:14.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cec4261dd02c4065ae910189ede3473beb2bf04b', 'message': 'Add noop-jobs template for neutron-interconnection project\n\nAs we decided during Shanghai PTG and what is already proposed in [1] to\nthe governance repo, we will retire neutron-interconnection project due\nto lack of any development activity since this project was created.\n\n[1] https://review.opendev.org/#/c/694480/\n\nChange-Id: I6bc0ffe1ca2268ee3495e786767abfc7d4696273\n'}]",0,694582,cec4261dd02c4065ae910189ede3473beb2bf04b,7,3,1,11975,,,0,"Add noop-jobs template for neutron-interconnection project

As we decided during Shanghai PTG and what is already proposed in [1] to
the governance repo, we will retire neutron-interconnection project due
to lack of any development activity since this project was created.

[1] https://review.opendev.org/#/c/694480/

Change-Id: I6bc0ffe1ca2268ee3495e786767abfc7d4696273
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/694582/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,cec4261dd02c4065ae910189ede3473beb2bf04b,neutron-interconnection-retire, name: openstack/neutron-interconnection templates: - noop-jobs - project:,,5,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7520d148067c205d4286ddec9b53e900f023f816,openstack/tripleo-heat-templates,stable/train,I7520d148067c205d4286ddec9b53e900f023f816,"ooo updates/upgrades working well on train, move to vote/gate",MERGED,2019-11-14 21:29:47.000000000,2019-11-15 16:16:47.000000000,2019-11-15 16:16:47.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 17735}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 21:29:47.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88e764ba1737288b556cfcee5a9cac31da26425e', 'message': 'ooo updates/upgrades working well on train, move to vote/gate\n\nupdates was already voting, gating on train\nupgrades was non-voting, but is working well\nadd upgrades as voting, gating\n\nChange-Id: I7520d148067c205d4286ddec9b53e900f023f816\n'}]",0,694405,88e764ba1737288b556cfcee5a9cac31da26425e,11,9,1,9592,,,0,"ooo updates/upgrades working well on train, move to vote/gate

updates was already voting, gating on train
upgrades was non-voting, but is working well
add upgrades as voting, gating

Change-Id: I7520d148067c205d4286ddec9b53e900f023f816
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/694405/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,88e764ba1737288b556cfcee5a9cac31da26425e,train, voting: true - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades,,2,0
openstack%2Fnova~stable%2Ftrain~Icc631cf2e81a5c78cb7fb1d0b625d19bd8f5a274,openstack/nova,stable/train,Icc631cf2e81a5c78cb7fb1d0b625d19bd8f5a274,Use admin neutron client to query ports for binding,MERGED,2019-11-13 09:06:04.000000000,2019-11-15 16:16:29.000000000,2019-11-15 16:13:18.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-13 09:06:04.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6989836dde792dfbde2bbc8b4fe8d4cfb448f47', 'message': ""Use admin neutron client to query ports for binding\n\nThe compute service updates the binding:profile of the neutron port\nduring server create. If the port has resource_request then the\n'allocation' key need to point to the resource provider the port is\nallocating resources. Unfortunately this code used a non admin client to\nquery the port data and therefore if the original server create request\nwas sent by a non admin user the returned port does not have its\nresource_request filled and as a consequence nova does not add the\nallocation key to the binding profile.\n\nThis patch makes sure that the port is queried with an admin client.\n\nThere is a tempest test change that reproduces the issue:\nhttps://review.opendev.org/#/c/690934\n\nChange-Id: Icc631cf2e81a5c78cb7fb1d0b625d19bd8f5a274\nCloses-Bug: #1849657\n(cherry picked from commit aab4b7a0e2504c04e08389145bcb1414dea63631)\n""}]",0,694013,b6989836dde792dfbde2bbc8b4fe8d4cfb448f47,25,9,1,9708,,,0,"Use admin neutron client to query ports for binding

The compute service updates the binding:profile of the neutron port
during server create. If the port has resource_request then the
'allocation' key need to point to the resource provider the port is
allocating resources. Unfortunately this code used a non admin client to
query the port data and therefore if the original server create request
was sent by a non admin user the returned port does not have its
resource_request filled and as a consequence nova does not add the
allocation key to the binding profile.

This patch makes sure that the port is queried with an admin client.

There is a tempest test change that reproduces the issue:
https://review.opendev.org/#/c/690934

Change-Id: Icc631cf2e81a5c78cb7fb1d0b625d19bd8f5a274
Closes-Bug: #1849657
(cherry picked from commit aab4b7a0e2504c04e08389145bcb1414dea63631)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/694013/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,b6989836dde792dfbde2bbc8b4fe8d4cfb448f47,bug/1849657," mock_get_client.assert_has_calls([ mock.call(ctxt), mock.call(ctxt, admin=True)], any_order=True) net_idx=2, exception=exception.NetworkAmbiguous) net_idx=3, exception=exception.NetworkAmbiguous) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) exception=exception.PortInUse, _break='pre_list_networks', _device=True) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) mock_validate_ports.assert_called_once_with( self.context, self.instance, ""admin"", None, attach=False) "," get_client_admin_call=True, if get_client_admin_call: mock_get_client.assert_has_calls([ mock.call(ctxt), mock.call(ctxt, admin=True)], any_order=True) else: mock_get_client.assert_called_once_with(mock.ANY) net_idx=2, exception=exception.NetworkAmbiguous, get_client_admin_call=False) net_idx=3, exception=exception.NetworkAmbiguous, get_client_admin_call=False) get_client_admin_call=False, get_client_admin_call=False, mock_get_client.assert_called_once_with(self.context) mock_get_client.assert_called_once_with(self.context) mock_get_client.assert_called_once_with(self.context) exception=exception.PortInUse, get_client_admin_call=False, _break='pre_list_networks', _device=True) get_client_admin_call=False, get_client_admin_call=False, mock_get_client.assert_called_once_with(self.context) mock_get_client.assert_called_once_with(self.context) get_client_admin_call=False,",36,29
openstack%2Fmanila-ui~master~Ie2ddfebdf6f133ac2a13314092bb06d240ca76c4,openstack/manila-ui,master,Ie2ddfebdf6f133ac2a13314092bb06d240ca76c4,Imported Translations from Zanata,MERGED,2019-11-15 10:32:33.000000000,2019-11-15 16:15:57.000000000,2019-11-15 16:13:38.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 10:32:33.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/c20a5e02860ec721a9e7596b43e9c1db2487c287', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie2ddfebdf6f133ac2a13314092bb06d240ca76c4\n'}]",0,694508,c20a5e02860ec721a9e7596b43e9c1db2487c287,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie2ddfebdf6f133ac2a13314092bb06d240ca76c4
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/08/694508/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po']",2,c20a5e02860ec721a9e7596b43e9c1db2487c287,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-11-09 20:46+0000\n""""PO-Revision-Date: 2019-11-14 11:18+0000\n""msgid ""Network Details"" msgstr ""Network Details"" #, python-format msgid ""Unable to retrieve details of replica %s"" msgstr ""Unable to retrieve details of replica %s"" msgid ""Unable to retrieve share quotas."" msgstr ""Unable to retrieve share quotas."" ","""POT-Creation-Date: 2019-09-16 12:05+0000\n""""PO-Revision-Date: 2018-08-10 11:35+0000\n""",117,4
openstack%2Fpython-tripleoclient~stable%2Fstein~I8bd9f4c4512279a291963d0b6df62316e7410f2b,openstack/python-tripleoclient,stable/stein,I8bd9f4c4512279a291963d0b6df62316e7410f2b,Drop Mistral support for the Validations CLI,MERGED,2019-11-14 09:47:32.000000000,2019-11-15 16:11:19.000000000,2019-11-15 16:08:05.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-14 09:47:32.000000000', 'files': ['tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/drop_mistral_support_for_the_validations_CLI-081bc5cd6e7db056.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/751324eb5d7994101523bffe1de2cd5876ac63d2', 'message': 'Drop Mistral support for the Validations CLI\n\nThis patch removes the possibility to run the validations through the\nCLI with Mistral. Ansible is now the only way to run the validations.\n\nChange-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit c6616f8d96013bd5f5ccfec54e3eb2b37fd7884b)\n(cherry picked from commit 251cfe807d603790edc703ee170147314164192a)\n'}]",0,694218,751324eb5d7994101523bffe1de2cd5876ac63d2,9,8,1,11491,,,0,"Drop Mistral support for the Validations CLI

This patch removes the possibility to run the validations through the
CLI with Mistral. Ansible is now the only way to run the validations.

Change-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit c6616f8d96013bd5f5ccfec54e3eb2b37fd7884b)
(cherry picked from commit 251cfe807d603790edc703ee170147314164192a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/18/694218/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/drop_mistral_support_for_the_validations_CLI-081bc5cd6e7db056.yaml']",5,751324eb5d7994101523bffe1de2cd5876ac63d2,,--- deprecations: - | The TripleO Validator CLI doesn't support Mistral anymore for listing and running the Validations. Ansible is now the way to run them. ,,6,176
openstack%2Fnova~master~Ia24a12c8346983caef21bba6674a78cf4b3bf6f2,openstack/nova,master,Ia24a12c8346983caef21bba6674a78cf4b3bf6f2,[DNM] numa + pcpus in placment live migration tests,ABANDONED,2019-09-12 14:54:40.000000000,2019-11-15 16:10:20.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-12 14:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a2779e6e77c2aed77f69e5fff0d51172f0cc087', 'message': '[DNM] numa + pcpus in placment live migration tests\n\ntesting all the not merged yet things...\n\nDepends-on: https://review.opendev.org/#/c/674895\nChange-Id: Ia24a12c8346983caef21bba6674a78cf4b3bf6f2\n'}, {'number': 2, 'created': '2019-09-12 19:12:53.000000000', 'files': ['playbooks/nfv/nfv.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/01413ab5b1a7403bbcfaebf5486d8d9e28729bd8', 'message': '[DNM] numa + pcpus in placment live migration tests\n\ntesting all the not merged yet things...\n\nDepends-on: https://review.opendev.org/#/c/674895\nChange-Id: Ia24a12c8346983caef21bba6674a78cf4b3bf6f2\n'}]",0,681771,01413ab5b1a7403bbcfaebf5486d8d9e28729bd8,31,13,2,11604,,,0,"[DNM] numa + pcpus in placment live migration tests

testing all the not merged yet things...

Depends-on: https://review.opendev.org/#/c/674895
Change-Id: Ia24a12c8346983caef21bba6674a78cf4b3bf6f2
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/681771/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/nfv/nfv.yaml', '.zuul.yaml']",2,8a2779e6e77c2aed77f69e5fff0d51172f0cc087,bp/numa-aware-live-migration,"# - integrated-gate-compute # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python-jobs # - openstack-python3-train-jobs # - periodic-stable-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3# # We define our own irrelevant-files so we don't run the job # # on things like nova docs-only changes. # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false # irrelevant-files: *dsvm-irrelevant-files # - devstack-plugin-ceph-tempest: # voting: false # irrelevant-files: *dsvm-irrelevant-files # - neutron-grenade-multinode: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-linuxbridge: # irrelevant-files: # # NOTE(mriedem): This job has its own irrelevant-files section # # so that we only run it on changes to networking and libvirt/vif # # code; we don't need to run this on all changes, nor do we run # # it in the gate. # - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ # - nova-grenade-multinode # - nova-live-migration # - nova-lvm # - nova-multi-cell # - nova-next # - nova-tox-functional # - nova-tox-functional-py36 # - tempest-integrated-compute: # irrelevant-files: *dsvm-irrelevant-files # - tempest-slow-py3: # irrelevant-files: *dsvm-irrelevant-files # - grenade-py3: # irrelevant-files: *dsvm-irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *dsvm-irrelevant-files - noop# - ironic-tempest-bfv: # irrelevant-files: *dsvm-irrelevant-files # - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: # irrelevant-files: *dsvm-irrelevant-files # - barbican-simple-crypto-devstack-tempest: # irrelevant-files: *dsvm-irrelevant-files # - devstack-plugin-ceph-tempest-py3: # irrelevant-files: *dsvm-irrelevant-files # - legacy-grenade-dsvm-neutron-multinode-zero-downtime: # irrelevant-files: *dsvm-irrelevant-files # - legacy-tempest-dsvm-full-devstack-plugin-nfs: # irrelevant-files: *dsvm-irrelevant-files # - nova-osprofiler-redis # - tempest-full-py3-opensuse150: # irrelevant-files: *dsvm-irrelevant-files # - tempest-pg-full: # irrelevant-files: *dsvm-irrelevant-files # - nova-tempest-full-oslo.versionedobjects: # irrelevant-files: *dsvm-irrelevant-files # - legacy-tempest-dsvm-nova-libvirt-kvm-apr: # irrelevant-files: *dsvm-irrelevant-files # - nova-tempest-v2-api: # irrelevant-files: *dsvm-irrelevant-files # - legacy-tempest-dsvm-neutron-dvr-multinode-full: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-dvr-ha-multinode-full: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-iptables_hybrid: # irrelevant-files: *dsvm-irrelevant-files # - os-vif-ovs: # irrelevant-files: *dsvm-irrelevant-files # # NOTE(mriedem): Consider moving nova-tox-functional-py37 to the # # check and gate queues once it's stable (like openstack-python37-jobs) # - nova-tox-functional-py37"," - integrated-gate-compute - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-train-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *dsvm-irrelevant-files - devstack-plugin-ceph-tempest: voting: false irrelevant-files: *dsvm-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-linuxbridge: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes, nor do we run # it in the gate. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-grenade-multinode - nova-live-migration - nova-lvm - nova-multi-cell - nova-next - nova-tox-functional - nova-tox-functional-py36 - tempest-integrated-compute: irrelevant-files: *dsvm-irrelevant-files - tempest-slow-py3: irrelevant-files: *dsvm-irrelevant-files - grenade-py3: irrelevant-files: *dsvm-irrelevant-files - tempest-ipv6-only: irrelevant-files: *dsvm-irrelevant-files - ironic-tempest-bfv: irrelevant-files: *dsvm-irrelevant-files - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: irrelevant-files: *dsvm-irrelevant-files - barbican-simple-crypto-devstack-tempest: irrelevant-files: *dsvm-irrelevant-files - devstack-plugin-ceph-tempest-py3: irrelevant-files: *dsvm-irrelevant-files - legacy-grenade-dsvm-neutron-multinode-zero-downtime: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-full-devstack-plugin-nfs: irrelevant-files: *dsvm-irrelevant-files - nova-osprofiler-redis - tempest-full-py3-opensuse150: irrelevant-files: *dsvm-irrelevant-files - tempest-pg-full: irrelevant-files: *dsvm-irrelevant-files - nova-tempest-full-oslo.versionedobjects: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-nova-libvirt-kvm-apr: irrelevant-files: *dsvm-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-iptables_hybrid: irrelevant-files: *dsvm-irrelevant-files - os-vif-ovs: irrelevant-files: *dsvm-irrelevant-files # NOTE(mriedem): Consider moving nova-tox-functional-py37 to the # check and gate queues once it's stable (like openstack-python37-jobs) - nova-tox-functional-py37",79,75
openstack%2Fnova~master~I528492deb26ba3eb5c7b4b6d6c4f3a268f940826,openstack/nova,master,I528492deb26ba3eb5c7b4b6d6c4f3a268f940826,[DNM] cpu pinning testing,ABANDONED,2019-09-12 16:17:23.000000000,2019-11-15 16:10:15.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-12 16:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fed17e2ebd3875208062e753bbc38eee6e76645e', 'message': '[DNM] cpu pinning testing\n\nDepends-On: https://review.opendev.org/#/c/674895\nChange-Id: I528492deb26ba3eb5c7b4b6d6c4f3a268f940826\n'}, {'number': 2, 'created': '2019-09-12 16:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3af734ec2c164fb390bd209654f5899abbc9369', 'message': '[DNM] cpu pinning testing\n\nDepends-On: https://review.opendev.org/#/c/674895\nChange-Id: I528492deb26ba3eb5c7b4b6d6c4f3a268f940826\n'}, {'number': 3, 'created': '2019-09-12 17:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff2c378aadb40b9a934cf6cd6aece8af67279283', 'message': '[DNM] cpu pinning testing\n\nDepends-On: https://review.opendev.org/#/c/674895\nChange-Id: I528492deb26ba3eb5c7b4b6d6c4f3a268f940826\n'}, {'number': 4, 'created': '2019-10-09 10:52:16.000000000', 'files': ['playbooks/nfv/pinning.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/82b9016af33672ae05e6f5cb4c440e69c0d4213d', 'message': '[DNM] cpu pinning testing\n\nDepends-On: https://review.opendev.org/#/c/686079/\nChange-Id: I528492deb26ba3eb5c7b4b6d6c4f3a268f940826\n'}]",0,681807,82b9016af33672ae05e6f5cb4c440e69c0d4213d,51,14,4,11604,,,0,"[DNM] cpu pinning testing

Depends-On: https://review.opendev.org/#/c/686079/
Change-Id: I528492deb26ba3eb5c7b4b6d6c4f3a268f940826
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/681807/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/nfv/pinning.yaml', '.zuul.yaml']",2,fed17e2ebd3875208062e753bbc38eee6e76645e,bugfix/1439247-small-pages-accounting,"- nodeset: name: nfv-single-node nodes: - name: controller # note this is a vexxhost specific label with nested virt label: ubuntu-bionic-vexxhost groups: # Node where tests are executed and test results collected - name: tempest nodes: - controller # Nodes running the compute service - name: compute nodes: - controller - nodeset: # nested virt multinode nodeset name: nfv-multinode nodes: - name: controller label: ubuntu-bionic-vexxhost - name: compute label: ubuntu-bionic-vexxhost groups: # Node where tests are executed and test results collected - name: tempest nodes: - controller # Nodes running the compute service - name: compute nodes: - controller - compute # Nodes that are not the controller - name: subnode nodes: - compute # Switch node for multinode networking setup - name: switch nodes: - controller # Peer nodes for multinode networking setup - name: peers nodes: - compute - job: name: nova-nfv # TODO(sean-k-mooney): this is too high but it will do for now. # This job appears to take a little over an hour so reduce this to 90 mins # if that trend holds. current values is 2 hours, previous value was 3 hours. timeout: 7200 nodeset: nfv-single-node parent: tempest-full pre-run: - playbooks/nfv/pinning.yaml vars: # we should increase this once the job works tempest_concurrency: 1 devstack_services: dstat: true etcd3: true peakmem_tracker: true rabbit: true # This is required as we do not currently copy the CA created # by devstack to other nodes. As a result connection to placement # or other ssl endpoints may fail from the compute nodes in a # multi node deployment. set this to true when that is fixed. tls-proxy: false # disable swift s-account: false s-container: false s-object: false s-proxy: false # enable cinder services c-api: true c-bak: false c-sch: true c-vol: true cinder: true devstack_localrc: USE_PYTHON3: true LIBVIRT_TYPE: kvm devstack_local_conf: post-config: $NOVA_CONF: compute: cpu_shared_set: 0 cpu_dedicated_set: 1-7 scheduler: enabled_filters: 'AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter,PciPassthroughFilter,NUMATopologyFilter' max_attempts: 10 libvirt: cpu_mode: custom cpu_model: kvm64 workarounds: enable_numa_live_migration: true test-config: $TEMPEST_CONFIG: compute: flavor_ref: 420 flavor_ref_alt: 840 # network tweaks should not be needed but don't hurt. network: ping_timeout: 180 connect_timeout: 180 ssh_timeout: 300 volume-feature-enabled: backup: False compute-feature-enabled: # turn on this later once basic job works and enable cinder cold_migration: True live_migration: True live_migrate_back_and_forth: True block_migration_for_live_migration: True volume_backed_live_migration: True resize: True scheduler_enabled_filters: 'AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter,PciPassthroughFilter,NUMATopologyFilter' - job: name: nova-nfv-multinode parent: nova-nfv nodeset: nfv-multinode vars: # cpu pinning disables cpu oversubscrition, as a result test concurrency # can lead to random failures due to the limited cpus available. # As a result we set this to 1 even though we can often run with a concurrency # of ~3 when we do not have resource races. tempest_concurrency: 1 group-vars: subnode: devstack_localrc: USE_PYTHON3: true LIBVIRT_TYPE: kvm devstack_services: dstat: true tls-proxy: false etcd3: false peakmem_tracker: true rabbit: false # Cinder services c-api: false c-bak: false c-sch: false c-vol: true cinder: false devstack_local_conf: post-config: $NOVA_CONF: compute: cpu_shared_set: 0 cpu_dedicated_set: 1-7 libvirt: cpu_mode: custom cpu_model: kvm64 virt_type: kvm workarounds: enable_numa_live_migration: true # - integrated-gate-compute # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python-jobs # - openstack-python3-train-jobs # - periodic-stable-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3# # We define our own irrelevant-files so we don't run the job # # on things like nova docs-only changes. # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false # irrelevant-files: *dsvm-irrelevant-files # - devstack-plugin-ceph-tempest: # voting: false # irrelevant-files: *dsvm-irrelevant-files # - neutron-grenade-multinode: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-linuxbridge: # irrelevant-files: # # NOTE(mriedem): This job has its own irrelevant-files section # # so that we only run it on changes to networking and libvirt/vif # # code; we don't need to run this on all changes, nor do we run # # it in the gate. # - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ # - nova-grenade-multinode # - nova-live-migration # - nova-lvm # - nova-multi-cell # - nova-next # - nova-tox-functional # - nova-tox-functional-py36 # - tempest-integrated-compute: # irrelevant-files: *dsvm-irrelevant-files # - tempest-slow-py3: # irrelevant-files: *dsvm-irrelevant-files # - grenade-py3: # irrelevant-files: *dsvm-irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *dsvm-irrelevant-files - noop# - ironic-tempest-bfv: # irrelevant-files: *dsvm-irrelevant-files # - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: # irrelevant-files: *dsvm-irrelevant-files # - barbican-simple-crypto-devstack-tempest: # irrelevant-files: *dsvm-irrelevant-files # - devstack-plugin-ceph-tempest-py3: # irrelevant-files: *dsvm-irrelevant-files # - legacy-grenade-dsvm-neutron-multinode-zero-downtime: # irrelevant-files: *dsvm-irrelevant-files # - legacy-tempest-dsvm-full-devstack-plugin-nfs: # irrelevant-files: *dsvm-irrelevant-files # - nova-osprofiler-redis # - tempest-full-py3-opensuse150: # irrelevant-files: *dsvm-irrelevant-files # - tempest-pg-full: # irrelevant-files: *dsvm-irrelevant-files # - nova-tempest-full-oslo.versionedobjects: # irrelevant-files: *dsvm-irrelevant-files # - legacy-tempest-dsvm-nova-libvirt-kvm-apr: # irrelevant-files: *dsvm-irrelevant-files # - nova-tempest-v2-api: # irrelevant-files: *dsvm-irrelevant-files # - legacy-tempest-dsvm-neutron-dvr-multinode-full: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-dvr-ha-multinode-full: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-iptables_hybrid: # irrelevant-files: *dsvm-irrelevant-files # - os-vif-ovs: # irrelevant-files: *dsvm-irrelevant-files # # NOTE(mriedem): Consider moving nova-tox-functional-py37 to the # # check and gate queues once it's stable (like openstack-python37-jobs) # - nova-tox-functional-py37 # - nova-nfv-multi-numa-multinode: # irrelevant-files: &nfv-irrelevant-files # # NOTE(sean-k-mooney): This job has its own irrelevant-files # # section so that we only run it on changes to networking, # # object and libvirt code; we don't need to run this on # # all changes, nor do we run it in the gate. # # We also run it on change to the .zuul.yaml to ensure it does # # not break. # - ^(?!nova/network/.*)(?!nova/objects/.*)(?!nova/virt/libvirt/.*)(?!\.zuul\.yaml).*$ - nova-nfv-multinode"," - integrated-gate-compute - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-train-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *dsvm-irrelevant-files - devstack-plugin-ceph-tempest: voting: false irrelevant-files: *dsvm-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-linuxbridge: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes, nor do we run # it in the gate. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-grenade-multinode - nova-live-migration - nova-lvm - nova-multi-cell - nova-next - nova-tox-functional - nova-tox-functional-py36 - tempest-integrated-compute: irrelevant-files: *dsvm-irrelevant-files - tempest-slow-py3: irrelevant-files: *dsvm-irrelevant-files - grenade-py3: irrelevant-files: *dsvm-irrelevant-files - tempest-ipv6-only: irrelevant-files: *dsvm-irrelevant-files - ironic-tempest-bfv: irrelevant-files: *dsvm-irrelevant-files - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: irrelevant-files: *dsvm-irrelevant-files - barbican-simple-crypto-devstack-tempest: irrelevant-files: *dsvm-irrelevant-files - devstack-plugin-ceph-tempest-py3: irrelevant-files: *dsvm-irrelevant-files - legacy-grenade-dsvm-neutron-multinode-zero-downtime: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-full-devstack-plugin-nfs: irrelevant-files: *dsvm-irrelevant-files - nova-osprofiler-redis - tempest-full-py3-opensuse150: irrelevant-files: *dsvm-irrelevant-files - tempest-pg-full: irrelevant-files: *dsvm-irrelevant-files - nova-tempest-full-oslo.versionedobjects: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-nova-libvirt-kvm-apr: irrelevant-files: *dsvm-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-iptables_hybrid: irrelevant-files: *dsvm-irrelevant-files - os-vif-ovs: irrelevant-files: *dsvm-irrelevant-files # NOTE(mriedem): Consider moving nova-tox-functional-py37 to the # check and gate queues once it's stable (like openstack-python37-jobs) - nova-tox-functional-py37",291,74
openstack%2Fpython-tripleoclient~stable%2Fstein~If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0,openstack/python-tripleoclient,stable/stein,If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0,Get rid of Mistral for running Validations by Groups,MERGED,2019-11-14 09:47:32.000000000,2019-11-15 16:09:59.000000000,2019-11-15 16:08:04.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-14 09:47:32.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/635bd17c88eacd7e457f4854a92450c68180a824', 'message': ""Get rid of Mistral for running Validations by Groups\n\nThe CLI doesn't depend on Mistral for running Validations anymore.\n\nChange-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit db6aa7b4f3393aee7946d4f57eac6eff03e99453)\n(cherry picked from commit ea64bef8c2adcb79c22d648cf8b6dba7c99907c4)\n""}]",0,694217,635bd17c88eacd7e457f4854a92450c68180a824,9,8,1,11491,,,0,"Get rid of Mistral for running Validations by Groups

The CLI doesn't depend on Mistral for running Validations anymore.

Change-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit db6aa7b4f3393aee7946d4f57eac6eff03e99453)
(cherry picked from commit ea64bef8c2adcb79c22d648cf8b6dba7c99907c4)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/694217/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,635bd17c88eacd7e457f4854a92450c68180a824,," output = oooutils.parse_all_validations_on_disk( constants.ANSIBLE_VALIDATION_DIR, parsed_args.group)"," clients = self.app.client_manager workflow_input = { ""group_names"": parsed_args.group } output = validations.list_validations( clients, workflow_input)",2,7
openstack%2Fceilometermiddleware~stable%2Fstein~I255c0ddd220633b566b9376473ede4b7ed16ca34,openstack/ceilometermiddleware,stable/stein,I255c0ddd220633b566b9376473ede4b7ed16ca34,Replace lib-forward-testing-plugin,MERGED,2019-11-02 14:10:29.000000000,2019-11-15 16:05:25.000000000,2019-11-15 16:00:14.000000000,"[{'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-02 14:10:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/2ae97a50caf5b025eb21b464ee6054e2e73a3b15', 'message': 'Replace lib-forward-testing-plugin\n\nThis repo is the only user of lib-forward-testing-plugin template,\nreplace it with a native integration job that installs all repos from\nsource and runs ceilometer - as the only job in\nlib-forward-testing-plugin does.\n\nChange-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34\n(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)\n'}]",0,692670,2ae97a50caf5b025eb21b464ee6054e2e73a3b15,8,4,1,6547,,,0,"Replace lib-forward-testing-plugin

This repo is the only user of lib-forward-testing-plugin template,
replace it with a native integration job that installs all repos from
source and runs ceilometer - as the only job in
lib-forward-testing-plugin does.

Change-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34
(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/70/692670/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2ae97a50caf5b025eb21b464ee6054e2e73a3b15,stein/backport/692642,- job: name: ceilometermiddleware-integration parent: telemetry-dsvm-integration required-projects: - openstack/ceilometermiddleware check: jobs: - ceilometermiddleware-integration gate: jobs: - ceilometermiddleware-integration, - lib-forward-testing-plugin,12,1
openstack%2Fceilometermiddleware~stable%2Ftrain~I255c0ddd220633b566b9376473ede4b7ed16ca34,openstack/ceilometermiddleware,stable/train,I255c0ddd220633b566b9376473ede4b7ed16ca34,Replace lib-forward-testing-plugin,MERGED,2019-11-02 14:10:11.000000000,2019-11-15 16:04:36.000000000,2019-11-15 16:00:13.000000000,"[{'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-02 14:10:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/93e08e78e97f47392f0bc30c50c1c583036710f1', 'message': 'Replace lib-forward-testing-plugin\n\nThis repo is the only user of lib-forward-testing-plugin template,\nreplace it with a native integration job that installs all repos from\nsource and runs ceilometer - as the only job in\nlib-forward-testing-plugin does.\n\nChange-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34\n(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)\n'}]",0,692669,93e08e78e97f47392f0bc30c50c1c583036710f1,8,4,1,6547,,,0,"Replace lib-forward-testing-plugin

This repo is the only user of lib-forward-testing-plugin template,
replace it with a native integration job that installs all repos from
source and runs ceilometer - as the only job in
lib-forward-testing-plugin does.

Change-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34
(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/69/692669/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,93e08e78e97f47392f0bc30c50c1c583036710f1,train/backport/692642,- job: name: ceilometermiddleware-integration parent: telemetry-dsvm-integration required-projects: - openstack/ceilometermiddleware check: jobs: - ceilometermiddleware-integration gate: jobs: - ceilometermiddleware-integration, - lib-forward-testing-plugin,12,1
openstack%2Fceilometermiddleware~stable%2Fpike~I255c0ddd220633b566b9376473ede4b7ed16ca34,openstack/ceilometermiddleware,stable/pike,I255c0ddd220633b566b9376473ede4b7ed16ca34,Replace lib-forward-testing-plugin,MERGED,2019-11-02 14:15:05.000000000,2019-11-15 16:00:16.000000000,2019-11-15 16:00:15.000000000,"[{'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-02 14:15:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/f55f3448e5559c036f0f2dab7eeef9aa50d99682', 'message': 'Replace lib-forward-testing-plugin\n\nThis repo is the only user of lib-forward-testing-plugin template,\nreplace it with a native integration job that installs all repos from\nsource and runs ceilometer - as the only job in\nlib-forward-testing-plugin does.\n\nChange-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34\n(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)\n'}]",0,692673,f55f3448e5559c036f0f2dab7eeef9aa50d99682,7,4,1,6547,,,0,"Replace lib-forward-testing-plugin

This repo is the only user of lib-forward-testing-plugin template,
replace it with a native integration job that installs all repos from
source and runs ceilometer - as the only job in
lib-forward-testing-plugin does.

Change-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34
(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/73/692673/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f55f3448e5559c036f0f2dab7eeef9aa50d99682,pike/backport/692642,- job: name: ceilometermiddleware-integration parent: telemetry-dsvm-integration required-projects: - openstack/ceilometermiddleware check: jobs: - ceilometermiddleware-integration gate: jobs: - ceilometermiddleware-integration, - lib-forward-testing-plugin,12,1
openstack%2Fceilometermiddleware~stable%2Fqueens~I255c0ddd220633b566b9376473ede4b7ed16ca34,openstack/ceilometermiddleware,stable/queens,I255c0ddd220633b566b9376473ede4b7ed16ca34,Replace lib-forward-testing-plugin,MERGED,2019-11-02 14:14:19.000000000,2019-11-15 16:00:15.000000000,2019-11-15 16:00:15.000000000,"[{'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-02 14:14:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/9184840872844cb2c21f43e8e8738f07646e883b', 'message': 'Replace lib-forward-testing-plugin\n\nThis repo is the only user of lib-forward-testing-plugin template,\nreplace it with a native integration job that installs all repos from\nsource and runs ceilometer - as the only job in\nlib-forward-testing-plugin does.\n\nChange-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34\n(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)\n'}]",0,692672,9184840872844cb2c21f43e8e8738f07646e883b,7,4,1,6547,,,0,"Replace lib-forward-testing-plugin

This repo is the only user of lib-forward-testing-plugin template,
replace it with a native integration job that installs all repos from
source and runs ceilometer - as the only job in
lib-forward-testing-plugin does.

Change-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34
(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/72/692672/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9184840872844cb2c21f43e8e8738f07646e883b,queens/backport/692642,- job: name: ceilometermiddleware-integration parent: telemetry-dsvm-integration required-projects: - openstack/ceilometermiddleware check: jobs: - ceilometermiddleware-integration gate: jobs: - ceilometermiddleware-integration, - lib-forward-testing-plugin,12,1
openstack%2Fceilometermiddleware~stable%2Frocky~I255c0ddd220633b566b9376473ede4b7ed16ca34,openstack/ceilometermiddleware,stable/rocky,I255c0ddd220633b566b9376473ede4b7ed16ca34,Replace lib-forward-testing-plugin,MERGED,2019-11-02 14:11:43.000000000,2019-11-15 16:00:14.000000000,2019-11-15 16:00:14.000000000,"[{'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-02 14:11:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/043749a98aa65941896778bb90ebee3aad5c9aad', 'message': 'Replace lib-forward-testing-plugin\n\nThis repo is the only user of lib-forward-testing-plugin template,\nreplace it with a native integration job that installs all repos from\nsource and runs ceilometer - as the only job in\nlib-forward-testing-plugin does.\n\nChange-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34\n(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)\n'}]",0,692671,043749a98aa65941896778bb90ebee3aad5c9aad,7,4,1,6547,,,0,"Replace lib-forward-testing-plugin

This repo is the only user of lib-forward-testing-plugin template,
replace it with a native integration job that installs all repos from
source and runs ceilometer - as the only job in
lib-forward-testing-plugin does.

Change-Id: I255c0ddd220633b566b9376473ede4b7ed16ca34
(cherry picked from commit e0c8d972f405b11c1c799d121a74f778567b2938)
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/71/692671/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,043749a98aa65941896778bb90ebee3aad5c9aad,rocky/backport/692642,- job: name: ceilometermiddleware-integration parent: telemetry-dsvm-integration required-projects: - openstack/ceilometermiddleware check: jobs: - ceilometermiddleware-integration gate: jobs: - ceilometermiddleware-integration, - lib-forward-testing-plugin,12,1
openstack%2Fwhereto~master~Id2c181b40f1bfeee364bff28db55fb7586f309ca,openstack/whereto,master,Id2c181b40f1bfeee364bff28db55fb7586f309ca,Move to Launchpad,MERGED,2019-10-28 17:58:23.000000000,2019-11-15 15:54:08.000000000,2019-11-15 15:52:55.000000000,"[{'_account_id': 5263}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 17:58:23.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/whereto/commit/4a0ae55492b46aa972d0c0b3732a290314341533', 'message': 'Move to Launchpad\n\nAs part of moving to Oslo, use openstack-doc-tools launchpad\nproject instead of Storyboard.\n\nChange-Id: Id2c181b40f1bfeee364bff28db55fb7586f309ca\n'}]",0,691730,4a0ae55492b46aa972d0c0b3732a290314341533,9,4,1,6547,,,0,"Move to Launchpad

As part of moving to Oslo, use openstack-doc-tools launchpad
project instead of Storyboard.

Change-Id: Id2c181b40f1bfeee364bff28db55fb7586f309ca
",git fetch https://review.opendev.org/openstack/whereto refs/changes/30/691730/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/conf.py']",4,4a0ae55492b46aa972d0c0b3732a290314341533,launchpad,bug_project = 'openstack-doc-tools' bug_tag = 'whereto',use_storyboard = True,6,5
openstack%2Fdevstack-plugin-ceph~master~I42775be8ba88b5e0d9acb9f55eac4d294a88ec01,openstack/devstack-plugin-ceph,master,I42775be8ba88b5e0d9acb9f55eac4d294a88ec01,DNM - debugging,ABANDONED,2019-10-12 23:38:07.000000000,2019-11-15 15:52:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-12 23:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/60ced7ca421649d2c57b9f9cce2091938d5070ad', 'message': 'DNM - debugging\n\nChange-Id: I42775be8ba88b5e0d9acb9f55eac4d294a88ec01\n'}, {'number': 2, 'created': '2019-10-13 22:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5b7401ff816f0fd7b94a817c69ca0e5a9bd0cbc3', 'message': 'DNM - debugging\n\nChange-Id: I42775be8ba88b5e0d9acb9f55eac4d294a88ec01\n'}, {'number': 3, 'created': '2019-10-14 11:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/f0095317b3d1bb4f9385104e4d141a6bd8bfc866', 'message': 'DNM - debugging\n\nChange-Id: I42775be8ba88b5e0d9acb9f55eac4d294a88ec01\n'}, {'number': 4, 'created': '2019-10-14 13:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/baf49c9ab7cd7f77fd6b2f4be0d6e624142d4f01', 'message': 'DNM - debugging\n\nChange-Id: I42775be8ba88b5e0d9acb9f55eac4d294a88ec01\n'}, {'number': 5, 'created': '2019-10-14 19:10:52.000000000', 'files': ['manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e72bb263adb388bc157ef2d801fe99c62f9205a2', 'message': 'DNM - debugging\n\nChange-Id: I42775be8ba88b5e0d9acb9f55eac4d294a88ec01\n'}]",0,688286,e72bb263adb388bc157ef2d801fe99c62f9205a2,11,1,5,9003,,,0,"DNM - debugging

Change-Id: I42775be8ba88b5e0d9acb9f55eac4d294a88ec01
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/86/688286/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/post_test_hook.sh'],1,60ced7ca421649d2c57b9f9cce2091938d5070ad,,#export MANILA_TEMPEST_CONCURRENCY=${MANILA_TEMPEST_CONCURRENCY:-$_DEFAULT_TEST_CONCURRENCY} export MANILA_TEMPEST_CONCURRENCY=1,export MANILA_TEMPEST_CONCURRENCY=${MANILA_TEMPEST_CONCURRENCY:-$_DEFAULT_TEST_CONCURRENCY},2,1
openstack%2Fpython-tripleoclient~stable%2Fstein~I5730fb2e23775f1d666276b6b4d46bcb550fc928,openstack/python-tripleoclient,stable/stein,I5730fb2e23775f1d666276b6b4d46bcb550fc928,Get rid of Mistral for listing validations,MERGED,2019-11-14 09:43:03.000000000,2019-11-15 15:51:00.000000000,2019-11-15 15:48:54.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-14 09:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b4731d321bbb7dc1c556a65dc1fd3f535a7d46c7', 'message': 'Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster:\n- ~6s with Mistral\n- ~1.3s w/o Mistral\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 746b97f19a67989f200365fa9ffc3df569091f2f)\n(cherry picked from commit 97d1e93d4b1274df1649af1df5b20b703beba2ed)\n'}, {'number': 2, 'created': '2019-11-14 09:47:32.000000000', 'files': ['tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/get_rid_of_mistral_for_listing_validations-1e9dedf33675f1d6.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dcad928d0ba592aa895b2477eb4b93f67be99060', 'message': 'Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster:\n- ~6s with Mistral\n- ~1.3s w/o Mistral\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 746b97f19a67989f200365fa9ffc3df569091f2f)\n(cherry picked from commit 97d1e93d4b1274df1649af1df5b20b703beba2ed)\n'}]",0,694216,dcad928d0ba592aa895b2477eb4b93f67be99060,10,8,2,11491,,,0,"Get rid of Mistral for listing validations

Until now, we were using Mistral to get all the validations available on
the Undercloud. This patch drops the Mistral support for the validations
listing through the CLI and will parse them directly on the filesystem
instead of parsing from the *tripleo-validations* Swift container.

This change makes the CLI faster:
- ~6s with Mistral
- ~1.3s w/o Mistral

Change-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 746b97f19a67989f200365fa9ffc3df569091f2f)
(cherry picked from commit 97d1e93d4b1274df1649af1df5b20b703beba2ed)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/694216/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/get_rid_of_mistral_for_listing_validations-1e9dedf33675f1d6.yaml']",6,b4731d321bbb7dc1c556a65dc1fd3f535a7d46c7,mistral-removal-train-stable/stein,"--- deprecations: - | The TripleO Validator was using Mistral to get all the Validations available on the Undercloud. From now, The CLI is parsing the Validations directly from the filesystem and the Mistral support has been removed. ",,84,65
openstack%2Fnova-specs~master~I253faf65a64df11a671446d519626c5fd67ed151,openstack/nova-specs,master,I253faf65a64df11a671446d519626c5fd67ed151,Virtual instance rescue with stable disk devices,MERGED,2019-11-12 13:56:38.000000000,2019-11-15 15:46:25.000000000,2019-11-15 15:42:39.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9373}, {'_account_id': 9555}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 13:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/edbd353eccc915542095647edcfe94b5ee9a2d71', 'message': ""Virtual instance rescue with stable disk devices\n\nThis will provide the ability to indicate that the rescue disk image\nshould be attached as a transient disk device (ie USB stick), so that\nexisting storage attached to an instance doesn't change its device\naddress during rescue mode.\n\nPreviously approved for Mitaka and Newton.\n\nChange-Id: I253faf65a64df11a671446d519626c5fd67ed151\n""}, {'number': 2, 'created': '2019-11-12 16:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5b8e32e60390e105742c38d694ea5fe01c5da579', 'message': ""WIP Virtual instance rescue with stable disk devices\n\nThis will provide the ability to indicate that the rescue disk image\nshould be attached as a transient disk device (ie USB stick), so that\nexisting storage attached to an instance doesn't change its device\naddress during rescue mode.\n\nPreviously approved for Mitaka and Newton.\n\nChange-Id: I253faf65a64df11a671446d519626c5fd67ed151\n""}, {'number': 3, 'created': '2019-11-13 12:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9266c4fbec3181d06634a3591863100ce117f717', 'message': ""Virtual instance rescue with stable disk devices\n\nThis will provide the ability to indicate that the rescue disk image\nshould be attached as a transient disk device (ie USB stick), so that\nexisting storage attached to an instance doesn't change its device\naddress during rescue mode.\n\nPreviously approved for Mitaka and Newton.\n\nChange-Id: I253faf65a64df11a671446d519626c5fd67ed151\n""}, {'number': 4, 'created': '2019-11-13 20:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/de045576a1562776b731893a651238a3edb790e6', 'message': ""Virtual instance rescue with stable disk devices\n\nThis will provide the ability to indicate that the rescue disk image\nshould be attached as a transient disk device (ie USB stick), so that\nexisting storage attached to an instance doesn't change its device\naddress during rescue mode.\n\nPreviously approved for Mitaka and Newton.\n\nChange-Id: I253faf65a64df11a671446d519626c5fd67ed151\n""}, {'number': 5, 'created': '2019-11-14 13:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/aa535442d54eaae5c00c7d195bd87264193172d5', 'message': ""Virtual instance rescue with stable disk devices\n\nThis will provide the ability to indicate that the rescue disk image\nshould be attached as a transient disk device (ie USB stick), so that\nexisting storage attached to an instance doesn't change its device\naddress during rescue mode.\n\nPreviously approved for Mitaka and Newton.\n\nChange-Id: I253faf65a64df11a671446d519626c5fd67ed151\n""}, {'number': 6, 'created': '2019-11-15 11:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3e4c7b21341f0141a402565aeb1147c5adb595ae', 'message': ""Virtual instance rescue with stable disk devices\n\nThis will provide the ability to indicate that the rescue disk image\nshould be attached as a transient disk device (ie USB stick), so that\nexisting storage attached to an instance doesn't change its device\naddress during rescue mode.\n\nPreviously approved for Mitaka and Newton.\n\nChange-Id: I253faf65a64df11a671446d519626c5fd67ed151\n""}, {'number': 7, 'created': '2019-11-15 12:45:48.000000000', 'files': ['specs/ussuri/approved/virt-rescue-stable-disk-devices.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7e3a03897595593830eedd73bc580528c97439f3', 'message': ""Virtual instance rescue with stable disk devices\n\nThis will provide the ability to indicate that the rescue disk image\nshould be attached as a transient disk device (ie USB stick), so that\nexisting storage attached to an instance doesn't change its device\naddress during rescue mode.\n\nPreviously approved for Mitaka and Newton.\n\nChange-Id: I253faf65a64df11a671446d519626c5fd67ed151\n""}]",64,693849,7e3a03897595593830eedd73bc580528c97439f3,36,6,7,10135,,,0,"Virtual instance rescue with stable disk devices

This will provide the ability to indicate that the rescue disk image
should be attached as a transient disk device (ie USB stick), so that
existing storage attached to an instance doesn't change its device
address during rescue mode.

Previously approved for Mitaka and Newton.

Change-Id: I253faf65a64df11a671446d519626c5fd67ed151
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/49/693849/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/virt-rescue-stable-disk-devices.rst'],1,edbd353eccc915542095647edcfe94b5ee9a2d71,bp/virt-rescue-stable-disk-devices,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Virtual instance rescue with stable disk devices ================================================ https://blueprints.launchpad.net/nova/+spec/virt-rescue-stable-disk-devices This will provide the ability to indicate that the rescue disk image should be attached as a transient disk device (ie USB stick), so that existing storage attached to an instance doesn't change its device address during rescue mode. Problem description =================== When an instance is booted normally there are a number of possible disks that will be attached to the instance - A ephemeral/persistent root disk - Zero or more ephemeral non-root disks - Zero or more persistent non-root cinder volumes - An optional swap disk - An optional config drive disk When the instance is booted in rescue mode though, this storage setup changes significantly, and differently depending on virt drivers. In the libvirt driver, the rescue instance gets - A rescue root disk - The original root disk - An optional config drive disk There are multiple problems with this. First of all several of the disk are missing entirely, eg the ephemeral non-root disks, all cinder volumes and the swap disk. This missing storage limits the scope of work the admin can do in rescue mode. The rescue root disk is put on a device that previously held the real root disk. ie the rescue root is /dev/vda and the real root image is now shifted to a different device /dev/vdb. Although a well designed OS setup should not rely on the root device appearing at a fixed device name, some OS none the less do depend on this. Moving the root disk during rescue mode can thus introduce problems of its own, and in fact contribute to mistakes in rescue mode. eg it may confuse the admin into setting up their fstab to refer to /dev/vdb, when the root disk will go back to /dev/vda after rescue mode is finished. This change in disk presence during rescue mode is very different to what happens to disks on a baremetal machine when booted from rescue media. This means that admin knowledge from working in a bare metal world needs to be re-learnt for OpenStack rescue mode, which adds an undesirable learning burden for the admin. When disks change what address they appear at, this can cause upset licensing checks of some guests OS too. For example, if hardware devices change their address too frequently, Windows may decide to ask for license re-activation. This is again an undesirable thing for admins in general. Use Cases ---------- When the tenant user boots a VM in rescue mode they expect the existing storage device configuration to be identical to that seen when running in normal mode, but with an extra transient disk hotplugged to represent the rescue media. Project Priority ----------------- None Proposed change =============== The compute manager code will be changed such that when rescue is performed the full block device mapping will be present. This will allow instnaces to be configured with the full set of cinder volumes that would appear during normal boot. A new image property will be defined to indicate the type of device to use as the rescue disk - hw_rescue_bus=virtio|ide|usb|scsi - hw_rescue_device=disk|floppy|cdrom If omitted, the virt driver will default to whatever behaviour it currently has for setting up the rescue disk. For the libvirt driver, this means the default bus would match the hw_disk_bus, and the device type would be ""disk"". The expected recommended setup would be to tag the rescue image in glance with hw_rescue_bus=usb, which would indicate to the virt driver that it should attach a USB flash drive to the guest, containing the rescue image. For hypervisor which can't supposed an alternative recommendation would be to tag the rescue image with hw_rescue_bus=ide and hw_rescue_device=cdrom to cause a new CDROM device to be exposed with the rescue media. The libvirt nova driver will be changed so that when booting in rescue mode, all the cinder volumes, local ephemeral non-root disks and swap disks are present in rescue mode. The rescue root device will be added as the *last* device in the configuration, but will be marked as bootable for the BIOS, so it takes priority over the existing root device. This relies on KVM/QEMU supporting the ""bootindex"" parameter, which all supported versions do. This new rescue mode would not be supported by Xen, nor LXC. Other virt driver maintainers may wish to also implement this blueprint, so approval should be considered to give blessing to all virt drivers. If other virt driver maintainers wish to commit to doing this in Ocata the list of assignees will be updated Alternatives ------------ Do nothing is always an option, but the current setup has a number of undesirable characteristics described earlier. An alternative might be to simply hardcode a different approach. eg when using KVM simply always use a USB flash device as the rescue media, and don't bother with supporting an image property. This is certainly a viable option, and if it were not for the sake of maintaining backwards compatibility with earlier OpenStack, it might even be the preferred approach. Data model impact ----------------- None, it merely leverages a glance image meta property REST API impact --------------- None, it merely leverages a glance image meta property Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- The tenant user will gain the ability to set a new image meta property against rescue disk images which will indicate the type of disk bus and device to use when rescuing instances. Performance Impact ------------------ None Other deployer impact --------------------- If the admin pre-populates any rescue disk images, they may wish to set the disk bus and device type to override the historic default behaviour. Developer impact ---------------- None Upgrade impact -------------- When attempting to rescue a volume backed instance or use the newly introduced image properties a minimum compute service version check will be preformed to ensure the compute service is upgraded and capable of preforming the required rescue. Failure will result in the same InstanceNotRescuable exception being raised as in previous versions. Implementation ============== Assignee(s) ----------- Primary assignee: lyarwood (libvirt impl) Other contributors: None Feature Liaison --------------- Work Items ---------- Extend the compute manager rescue code to handle the full block device mapping including cinder volume attachment. Extend the ImageMetaProps object to add the two new properties described. Extend the nova libvirt driver to setup all disks when running in rescue mode. Extend the nova libvirt driver to honour the new image meta properties in rescue mode disk config Dependencies ============ None Testing ======= A new tempest test can be used to validate correct operation of the new code. Documentation Impact ==================== The new image properties should be documented, and any information about rescue mode should be updated to explain how disks appear. References ========== None ",,231,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If1e4e149100dccfe76ccd807997a611d0fc8841f,openstack/tripleo-heat-templates,stable/train,If1e4e149100dccfe76ccd807997a611d0fc8841f,Add NovaAZConfig service to compute roles,MERGED,2019-11-14 21:33:00.000000000,2019-11-15 15:41:23.000000000,2019-11-15 15:41:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 21:33:00.000000000', 'files': ['roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeRBDEphemeral.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27863851159125846680469aa6c88668f23f813f', 'message': 'Add NovaAZConfig service to compute roles\n\nThe NovaAZConfig service is added to all the compute related roles\nof the box so that the nodes are automatically in a new AZ when the\nservice is enabled.\n\nBy default, the service is mapped to OS::Heat::None so no change in\ndefault behavior is made.\n\nChange-Id: If1e4e149100dccfe76ccd807997a611d0fc8841f\n(cherry picked from commit 45c226c8fe9e0da6f62841608a2c635d7eec8ad8)\n'}]",0,694407,27863851159125846680469aa6c88668f23f813f,11,7,1,17216,,,0,"Add NovaAZConfig service to compute roles

The NovaAZConfig service is added to all the compute related roles
of the box so that the nodes are automatically in a new AZ when the
service is enabled.

By default, the service is mapped to OS::Heat::None so no change in
default behavior is made.

Change-Id: If1e4e149100dccfe76ccd807997a611d0fc8841f
(cherry picked from commit 45c226c8fe9e0da6f62841608a2c635d7eec8ad8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/694407/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeRBDEphemeral.yaml']",26,27863851159125846680469aa6c88668f23f813f,686768-stable/train, - OS::TripleO::Services::NovaAZConfig,,27,0
openstack%2Fopenstack-doc-tools~master~Ief136815d6a0e1dfa0b8d1ffb42500fef38e39fe,openstack/openstack-doc-tools,master,Ief136815d6a0e1dfa0b8d1ffb42500fef38e39fe,tox: Keeping going with docs,MERGED,2019-11-01 06:31:08.000000000,2019-11-15 15:36:23.000000000,2019-11-15 15:34:45.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-11-01 06:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/c2bde53a9b3c798c84412e18b5ef89452994ba0a', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ief136815d6a0e1dfa0b8d1ffb42500fef38e39fe\n'}, {'number': 2, 'created': '2019-11-01 06:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/c1070e9a191581717cb7d2fc27392055242cd306', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ief136815d6a0e1dfa0b8d1ffb42500fef38e39fe\n'}, {'number': 3, 'created': '2019-11-01 06:54:42.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/70cef7f849e2fdb3f03a179fab9e814c95cdf7b3', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ief136815d6a0e1dfa0b8d1ffb42500fef38e39fe\n""}]",0,692497,70cef7f849e2fdb3f03a179fab9e814c95cdf7b3,11,4,3,30356,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ief136815d6a0e1dfa0b8d1ffb42500fef38e39fe
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/97/692497/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,c2bde53a9b3c798c84412e18b5ef89452994ba0a,,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html sphinx-build -W --keep-going -b html -d doc/build/doctrees doc/source doc/build/html,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html,3,3
openstack%2Ftripleo-docs~master~I18aaee1467d0f7b11d3a5a43b3ee0b35e9f90148,openstack/tripleo-docs,master,I18aaee1467d0f7b11d3a5a43b3ee0b35e9f90148,Update docs for rerunning undercloud install,MERGED,2019-11-15 15:02:16.000000000,2019-11-15 15:35:57.000000000,2019-11-15 15:33:33.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 15:02:16.000000000', 'files': ['deploy-guide/source/deployment/install_undercloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/530ec48e707e8371ef949f5e751e49ed69104df8', 'message': 'Update docs for rerunning undercloud install\n\nThe note about not running the undercloud install command if an\novercloud were already deployed was outdated. We now allow undercloud\ninstall reruns when the overcloud is already deployed. In some cases it\nis required, such as when adding new ctlplane subnets for spine/leaf\nprovisioning.\n\nThis patch updates the note and adds some points to watch out for when\nmaking changes.\n\nChange-Id: I18aaee1467d0f7b11d3a5a43b3ee0b35e9f90148\n'}]",0,694567,530ec48e707e8371ef949f5e751e49ed69104df8,8,3,1,7144,,,0,"Update docs for rerunning undercloud install

The note about not running the undercloud install command if an
overcloud were already deployed was outdated. We now allow undercloud
install reruns when the overcloud is already deployed. In some cases it
is required, such as when adding new ctlplane subnets for spine/leaf
provisioning.

This patch updates the note and adds some points to watch out for when
making changes.

Change-Id: I18aaee1467d0f7b11d3a5a43b3ee0b35e9f90148
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/67/694567/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/install_undercloud.rst'],1,530ec48e707e8371ef949f5e751e49ed69104df8,," The undercloud installation command can be rerun to reapply changes from ``undercloud.conf`` to the undercloud. Note that this should be done with caution if an overcloud has already been deployed or is in progress as some configuration changes could affect the overcloud. These changes include but are not limited to: #. Package repository changes on the undercloud, followed by running the installation command could update the undercloud such that further management operations are not possible on the overcloud until the overcloud update or upgrade procedure is followed. #. Reconfiguration of the undercloud container registry if the overcloud is using the undercloud as the source for container images. #. Networking configuration changes on the undercloud which may affect the overcloud's ability to connect to the undercloud for instance metadata services. ", The used undercloud installation command can be rerun to reapply changes from ``undercloud.conf`` to the undercloud. Note that this should **not** be done if an overcloud has already been deployed or is in progress.,16,3
openstack%2Fgovernance~master~I5054ca7e37d065cfc9e395a585e8225abd2e3b09,openstack/governance,master,I5054ca7e37d065cfc9e395a585e8225abd2e3b09,Add regular work chair duties,MERGED,2019-11-13 07:01:38.000000000,2019-11-15 15:35:26.000000000,2019-11-15 15:34:15.000000000,"[{'_account_id': 308}, {'_account_id': 4257}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 07:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/259d5aac4dd7eb3ebeda500256e374d4cddc31dd', 'message': ""Add regular work chair duties\n\nThe CHAIR.rst contain the information the chair should ensure are\ndone each cycle. This list doesn't contain very important steps\nfor the community like preparing the next release python version or\nnaming (necessary for the release team).\n\nThis should improve the current documentation.\n\nChange-Id: I5054ca7e37d065cfc9e395a585e8225abd2e3b09\n""}, {'number': 2, 'created': '2019-11-15 07:49:17.000000000', 'files': ['CHAIR.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/2ed47d55c4ec4edffd71d1152077664477007a3a', 'message': ""Add regular work chair duties\n\nThe CHAIR.rst contain the information the chair should ensure are\ndone each cycle. This list doesn't contain very important steps\nfor the community like preparing the next release python version or\nnaming (necessary for the release team).\n\nThis should improve the current documentation.\n\nChange-Id: I5054ca7e37d065cfc9e395a585e8225abd2e3b09\n""}]",1,693989,2ed47d55c4ec4edffd71d1152077664477007a3a,15,5,2,17068,,,0,"Add regular work chair duties

The CHAIR.rst contain the information the chair should ensure are
done each cycle. This list doesn't contain very important steps
for the community like preparing the next release python version or
naming (necessary for the release team).

This should improve the current documentation.

Change-Id: I5054ca7e37d065cfc9e395a585e8225abd2e3b09
",git fetch https://review.opendev.org/openstack/governance refs/changes/89/693989/1 && git format-patch -1 --stdout FETCH_HEAD,['CHAIR.rst'],1,259d5aac4dd7eb3ebeda500256e374d4cddc31dd,documentation-change,* Ensure the release naming is started * Ensure PTI update is done,,2,0
openstack%2Fsearchlight-ui~master~Ib6c1cded700ab959238d6eaa30efa8b01003e9fd,openstack/searchlight-ui,master,Ib6c1cded700ab959238d6eaa30efa8b01003e9fd,Imported Translations from Zanata,MERGED,2019-11-15 11:11:45.000000000,2019-11-15 15:35:23.000000000,2019-11-15 15:33:50.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-15 11:11:45.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/1a1ded8494299ce4e768ac8c731aa36b18fb8cc6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib6c1cded700ab959238d6eaa30efa8b01003e9fd\n'}]",0,694513,1a1ded8494299ce4e768ac8c731aa36b18fb8cc6,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib6c1cded700ab959238d6eaa30efa8b01003e9fd
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/13/694513/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,1a1ded8494299ce4e768ac8c731aa36b18fb8cc6,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""Project-Id-Version: searchlight-ui\n""""POT-Creation-Date: 2019-10-28 06:34+0000\n""""PO-Revision-Date: 2019-11-14 11:30+0000\n""msgid ""7.0.0-6"" msgstr ""7.0.0-6"" msgid """" ""Python 2.7 support has been dropped. The minimum version of Python now "" ""supported by searchlight-ui is Python 3.6."" msgstr """" ""Python 2.7 support has been dropped. The minimum version of Python now "" ""supported by Searchlight-UI is Python 3.6."" msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" msgid ""Upgrade Notes"" msgstr ""Upgrade Notes"" ","""Project-Id-Version: Searchlight UI Release Notes\n""""POT-Creation-Date: 2018-02-20 19:19+0000\n""""PO-Revision-Date: 2018-03-02 12:01+0000\n""",23,3
openstack%2Fgovernance~master~Ibf3ebb585174aaf5e3e428ce0674f46aa8380dc2,openstack/governance,master,Ibf3ebb585174aaf5e3e428ce0674f46aa8380dc2,Begin the 'V' release naming process,MERGED,2019-11-06 23:04:17.000000000,2019-11-15 15:26:05.000000000,2019-11-15 15:24:43.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 4257}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 23:04:17.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/1c862db6f9ece054262832480a088b721ec041b4', 'message': ""Begin the 'V' release naming process\n\nWe have had several proposals for changing the release\nnaming process, but have yet to find one that has\nagreement that would be better than the current process.\n\nUntil we decide on a new naming scheme, we should\ncontinue the process in place. This kicks off the\nnaming for the V release that will be based on the\ncollaboration event that will take place in Vancouver\nsince we will no longer have a Summit event.\n\nName nominations will use the pattern we have established\nand are detailed in:\n\nhttps://wiki.openstack.org/wiki/Release_Naming/V_Proposals\n\nChange-Id: Ibf3ebb585174aaf5e3e428ce0674f46aa8380dc2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,693266,1c862db6f9ece054262832480a088b721ec041b4,21,14,1,11904,,,0,"Begin the 'V' release naming process

We have had several proposals for changing the release
naming process, but have yet to find one that has
agreement that would be better than the current process.

Until we decide on a new naming scheme, we should
continue the process in place. This kicks off the
naming for the V release that will be based on the
collaboration event that will take place in Vancouver
since we will no longer have a Summit event.

Name nominations will use the pattern we have established
and are detailed in:

https://wiki.openstack.org/wiki/Release_Naming/V_Proposals

Change-Id: Ibf3ebb585174aaf5e3e428ce0674f46aa8380dc2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/66/693266/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,1c862db6f9ece054262832480a088b721ec041b4,formal-vote,#. The process to choose the name for a release begins once theV Sean McGinnis 2019-11-11 2019-12-09 2019-12-16 British Columbia,#. The process to chose the name for a release begins once the,2,1
openstack%2Ftripleo-validations~stable%2Ftrain~I56b9d39c113cfb30695fe8cf2740ae147b0dd3e4,openstack/tripleo-validations,stable/train,I56b9d39c113cfb30695fe8cf2740ae147b0dd3e4,Add groups.yaml containing Validation Groups definition,MERGED,2019-11-14 09:36:10.000000000,2019-11-15 15:22:32.000000000,2019-11-15 15:22:32.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-14 09:36:10.000000000', 'files': ['groups.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f43f1cf9f753b4b8d911e6ca61e8cc7cdab5a0e2', 'message': 'Add groups.yaml containing Validation Groups definition\n\nThis file will be the source of reference for all the groups used by\ntripleo-Validations. It will be deployed next to the playbooks/roles[1]\nin order to parsed by the TripleO Validator CLI and its new\nsubcommand[2].\n\nIt will also be the reference for the tripleo-validations documentation\nand will be automated in a follow up patch.\n\n[1] - /usr/share/openstack-tripleo-validations/groups.yaml\n[2] - openstack tripleo validator group list\n\nChange-Id: I56b9d39c113cfb30695fe8cf2740ae147b0dd3e4\n(cherry picked from commit 6df86cdffe3d92b493926140076686c6352c432c)\n'}]",0,694215,f43f1cf9f753b4b8d911e6ca61e8cc7cdab5a0e2,10,6,1,11491,,,0,"Add groups.yaml containing Validation Groups definition

This file will be the source of reference for all the groups used by
tripleo-Validations. It will be deployed next to the playbooks/roles[1]
in order to parsed by the TripleO Validator CLI and its new
subcommand[2].

It will also be the reference for the tripleo-validations documentation
and will be automated in a follow up patch.

[1] - /usr/share/openstack-tripleo-validations/groups.yaml
[2] - openstack tripleo validator group list

Change-Id: I56b9d39c113cfb30695fe8cf2740ae147b0dd3e4
(cherry picked from commit 6df86cdffe3d92b493926140076686c6352c432c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/15/694215/1 && git format-patch -1 --stdout FETCH_HEAD,"['groups.yaml', 'setup.cfg']",2,f43f1cf9f753b4b8d911e6ca61e8cc7cdab5a0e2,, share/openstack-tripleo-validations/ = groups.yaml,,35,0
openstack%2Fpython-glanceclient~master~I5aba524becc1b1f95facba2a3674596744e76963,openstack/python-glanceclient,master,I5aba524becc1b1f95facba2a3674596744e76963,Remove obsolete glanceclient-dsvm-functional-v1 job,ABANDONED,2019-10-30 07:06:45.000000000,2019-11-15 15:19:04.000000000,,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 07:06:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/049c94bb1a77872ea89aabbabc47077c531b9076', 'message': ""Remove obsolete glanceclient-dsvm-functional-v1 job\n\nThis should have been removed at beginning of S cycle - we're at U now.\nRemove the job.\n\nChange-Id: I5aba524becc1b1f95facba2a3674596744e76963\n""}]",0,692047,049c94bb1a77872ea89aabbabc47077c531b9076,8,3,1,6547,,,0,"Remove obsolete glanceclient-dsvm-functional-v1 job

This should have been removed at beginning of S cycle - we're at U now.
Remove the job.

Change-Id: I5aba524becc1b1f95facba2a3674596744e76963
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/47/692047/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,049c94bb1a77872ea89aabbabc47077c531b9076,api-v1,," name: glanceclient-dsvm-functional-v1 parent: devstack-tox-functional description: | Devstack-based functional tests for glanceclient against the Image API v1. The Image API v1 is removed from glance in Rocky, but is still supported by glanceclient until the S cycle, so we test it against glance stable/queens. THIS JOB SHOULD BE REMOVED AT THE BEGINNING OF THE S CYCLE. override-checkout: stable/queens required-projects: - name: openstack/python-glanceclient override-checkout: master timeout: 4200 vars: tox_envlist: functional-v1 devstack_localrc: GLANCE_V1_ENABLED: true devstack_services: # turn off ceilometer ceilometer-acentral: false ceilometer-acompute: false ceilometer-alarm-evaluator: false ceilometer-alarm-notifier: false ceilometer-anotification: false ceilometer-api: false ceilometer-collector: false # turn on swift s-account: true s-container: true s-object: true s-proxy: true # Hardcode glanceclient path so the job can be run on glance patches zuul_work_dir: src/opendev.org/openstack/python-glanceclient irrelevant-files: - ^doc/.*$ - ^releasenotes/.*$ - ^.*\.rst$ - ^(test-|)requirements.txt$ - ^lower-constraints.txt$ - ^setup.cfg$ - ^tox.ini$ - ^\.zuul\.yaml$ - job: - glanceclient-dsvm-functional-v1 - glanceclient-dsvm-functional-v1",0,50
openstack%2Fbifrost~stable%2Ftrain~Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,openstack/bifrost,stable/train,Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,Fix XFS disk image builds,MERGED,2019-11-12 08:56:26.000000000,2019-11-15 15:16:57.000000000,2019-11-15 15:14:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-12 08:56:26.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/454feef4c4c20b857d87017ec6e6962eb5ad3d60', 'message': 'Fix XFS disk image builds\n\nIt is possible to use DIB to build XFS formatted disk images, via the\nFS_TYPE environment variable. This fails currently due to the lack of an\nxfsprogs package on the host.\n\nThis change installs xfsprogs to the host.\n\nChange-Id: Ibf64d69596eb852a2a1c62cb0a202ec552cf1437\nStory: 2006831\nTask: 37404\n(cherry picked from commit 6a958704373c34397f788e287c76d0be6d592f46)\n'}]",0,693789,454feef4c4c20b857d87017ec6e6962eb5ad3d60,9,4,1,10239,,,0,"Fix XFS disk image builds

It is possible to use DIB to build XFS formatted disk images, via the
FS_TYPE environment variable. This fails currently due to the lack of an
xfsprogs package on the host.

This change installs xfsprogs to the host.

Change-Id: Ibf64d69596eb852a2a1c62cb0a202ec552cf1437
Story: 2006831
Task: 37404
(cherry picked from commit 6a958704373c34397f788e287c76d0be6d592f46)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/89/693789/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-dib-image/vars/main.yml'],1,454feef4c4c20b857d87017ec6e6962eb5ad3d60,, - xfsprogs,,1,0
openstack%2Fbifrost~stable%2Ftrain~Ib2ced2c9970d45c8b9a2fa6be036f26f9b792e6b,openstack/bifrost,stable/train,Ib2ced2c9970d45c8b9a2fa6be036f26f9b792e6b,Use master branch for ipa builder,MERGED,2019-11-13 07:23:37.000000000,2019-11-15 15:15:48.000000000,2019-11-15 15:14:01.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-13 07:23:37.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ff101e09d1571c0e3ecaa8a2703a58b78f80029c', 'message': 'Use master branch for ipa builder\n\nipa builder repo has no stable branches\n\nNeeds backporting to Train to fix the issue.\nIt does not affect master because it matches the branch.\n\nThis did not affect CI because it provided its own repos.\n\nChange-Id: Ib2ced2c9970d45c8b9a2fa6be036f26f9b792e6b\nStory: 2006836\nTask: 37411\n(cherry picked from commit 66ef0f105c8d06bb794927f2c43a1717b7195afa)\n'}]",0,693996,ff101e09d1571c0e3ecaa8a2703a58b78f80029c,14,5,1,30491,,,0,"Use master branch for ipa builder

ipa builder repo has no stable branches

Needs backporting to Train to fix the issue.
It does not affect master because it matches the branch.

This did not affect CI because it provided its own repos.

Change-Id: Ib2ced2c9970d45c8b9a2fa6be036f26f9b792e6b
Story: 2006836
Task: 37411
(cherry picked from commit 66ef0f105c8d06bb794927f2c43a1717b7195afa)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/96/693996/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-prep-for-install/defaults/main.yml'],1,ff101e09d1571c0e3ecaa8a2703a58b78f80029c,story/2006836,ipa_builder_git_branch: master,"ipa_builder_git_branch: ""{{ git_branch }}""",1,1
openstack%2Fbifrost~stable%2Fstein~Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,openstack/bifrost,stable/stein,Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,Fix XFS disk image builds,MERGED,2019-11-12 13:44:13.000000000,2019-11-15 15:15:09.000000000,2019-11-15 15:14:04.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-12 13:44:13.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b2e52abd3f7a1311868cc7ceb04d725dea397f35', 'message': 'Fix XFS disk image builds\n\nIt is possible to use DIB to build XFS formatted disk images, via the\nFS_TYPE environment variable. This fails currently due to the lack of an\nxfsprogs package on the host.\n\nThis change installs xfsprogs to the host.\n\nChange-Id: Ibf64d69596eb852a2a1c62cb0a202ec552cf1437\nStory: 2006831\nTask: 37404\n(cherry picked from commit 6a958704373c34397f788e287c76d0be6d592f46)\n'}]",0,693847,b2e52abd3f7a1311868cc7ceb04d725dea397f35,10,3,1,14826,,,0,"Fix XFS disk image builds

It is possible to use DIB to build XFS formatted disk images, via the
FS_TYPE environment variable. This fails currently due to the lack of an
xfsprogs package on the host.

This change installs xfsprogs to the host.

Change-Id: Ibf64d69596eb852a2a1c62cb0a202ec552cf1437
Story: 2006831
Task: 37404
(cherry picked from commit 6a958704373c34397f788e287c76d0be6d592f46)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/47/693847/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-dib-image/vars/main.yml'],1,b2e52abd3f7a1311868cc7ceb04d725dea397f35,, - xfsprogs,,1,0
openstack%2Fpuppet-ironic~master~I9e4517e1fd1f6247b0d570df06371125900f34d5,openstack/puppet-ironic,master,I9e4517e1fd1f6247b0d570df06371125900f34d5,"Added 'ironic/ironic_url','swift/container' to manifests/inspector.pp",MERGED,2019-11-11 15:21:52.000000000,2019-11-15 15:13:09.000000000,2019-11-15 15:11:59.000000000,"[{'_account_id': 3153}, {'_account_id': 10068}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-11 15:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e7130addd52ce64d120dcf06787ee939246fdfab', 'message': ""Added 'ironic/ironic_url','swift/container' to manifests/inspector.pp\n\nChange-Id: I9e4517e1fd1f6247b0d570df06371125900f34d5\nSigned-off-by: Zygimantas Matonis <zygimantas.matonis@cern.ch>\n""}, {'number': 2, 'created': '2019-11-11 16:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/02a82e5fc1bf2aea5a8fedf1e4fadaad9cf2fab8', 'message': ""Added 'ironic/ironic_url','swift/container' to manifests/inspector.pp\n\nChange-Id: I9e4517e1fd1f6247b0d570df06371125900f34d5\nSigned-off-by: Zygimantas Matonis <zygimantas.matonis@cern.ch>\n""}, {'number': 3, 'created': '2019-11-11 16:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ba76a4c2da739d0a5d41d2dfc441cef7d3245249', 'message': ""Added 'ironic/ironic_url','swift/container' to manifests/inspector.pp\n\nChange-Id: I9e4517e1fd1f6247b0d570df06371125900f34d5\nSigned-off-by: Zygimantas Matonis <zygimantas.matonis@cern.ch>\n""}, {'number': 4, 'created': '2019-11-11 16:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/14cc4cf862de088c6b9acda8d853755e9cb1e508', 'message': ""Added 'ironic/ironic_url','swift/container' to manifests/inspector.pp\n\nChange-Id: I9e4517e1fd1f6247b0d570df06371125900f34d5\nSigned-off-by: Zygimantas Matonis <zygimantas.matonis@cern.ch>\n""}, {'number': 5, 'created': '2019-11-11 16:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/473a0f3673cb01a5d7978939aea920e2e7a16115', 'message': ""Added 'ironic/ironic_url','swift/container' to manifests/inspector.pp\n\nChange-Id: I9e4517e1fd1f6247b0d570df06371125900f34d5\nSigned-off-by: Zygimantas Matonis <zygimantas.matonis@cern.ch>\n""}, {'number': 6, 'created': '2019-11-12 10:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ab2c56395d588c4c3273d67f790a9353f97c80cd', 'message': ""Added 'ironic/ironic_url','swift/container' to manifests/inspector.pp\n\nChange-Id: I9e4517e1fd1f6247b0d570df06371125900f34d5\nSigned-off-by: Zygimantas Matonis <zygimantas.matonis@cern.ch>\n""}, {'number': 7, 'created': '2019-11-13 10:24:52.000000000', 'files': ['manifests/inspector.pp', 'releasenotes/notes/update-inspector-manifest-49feae86530015d7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f8fa738c986a9238c7b589d9cff45c9cea46caf6', 'message': ""Added 'ironic/ironic_url','swift/container' to manifests/inspector.pp\n\nChange-Id: I9e4517e1fd1f6247b0d570df06371125900f34d5\nSigned-off-by: Zygimantas Matonis <zygimantas.matonis@cern.ch>\n""}]",1,693712,f8fa738c986a9238c7b589d9cff45c9cea46caf6,23,6,7,31258,,,0,"Added 'ironic/ironic_url','swift/container' to manifests/inspector.pp

Change-Id: I9e4517e1fd1f6247b0d570df06371125900f34d5
Signed-off-by: Zygimantas Matonis <zygimantas.matonis@cern.ch>
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/12/693712/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/inspector.pp'],1,e7130addd52ce64d120dcf06787ee939246fdfab,inspector_update," $ironic_url = undef, $swift_container = 'ironic-inspector', 'ironic/ironic_url': value => $ironic_url; 'swift/container': value => $swift_container;",,4,0
openstack%2Fbifrost~stable%2Ftrain~I36a0e31ecba1dc9d5eec1d2338dc752467be5ac0,openstack/bifrost,stable/train,I36a0e31ecba1dc9d5eec1d2338dc752467be5ac0,Fix install-deps.sh failing on bare CentOS 7 due to old pip,MERGED,2019-11-13 07:23:18.000000000,2019-11-15 14:59:21.000000000,2019-11-15 14:57:36.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-13 07:23:18.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/89ddbd4341e5c240aea72bc0fc92a2c58d109a46', 'message': 'Fix install-deps.sh failing on bare CentOS 7 due to old pip\n\nThis change upgrades pip instead of just ensuring it meets\nthe lowest version constraint.\n\nThis is in line with the setuptools being upgraded just below.\n\nThis did not affect CI because it provided its own pip.\n\nChange-Id: I36a0e31ecba1dc9d5eec1d2338dc752467be5ac0\nStory: 2006833\nTask: 37406\n(cherry picked from commit c5745daf004e3c8e40a6cd22ff407e79cc529dc9)\n'}]",0,693995,89ddbd4341e5c240aea72bc0fc92a2c58d109a46,10,4,1,30491,,,0,"Fix install-deps.sh failing on bare CentOS 7 due to old pip

This change upgrades pip instead of just ensuring it meets
the lowest version constraint.

This is in line with the setuptools being upgraded just below.

This did not affect CI because it provided its own pip.

Change-Id: I36a0e31ecba1dc9d5eec1d2338dc752467be5ac0
Story: 2006833
Task: 37406
(cherry picked from commit c5745daf004e3c8e40a6cd22ff407e79cc529dc9)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/95/693995/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,89ddbd4341e5c240aea72bc0fc92a2c58d109a46,story/2006833,"sudo -H -E ${PIP} install --upgrade ""pip>6.0""","sudo -H -E ${PIP} install ""pip>6.0""",1,1
openstack%2Ftenks~master~Iea4cfde0143acbb4cdd15f5b6b5e81dbe093fea4,openstack/tenks,master,Iea4cfde0143acbb4cdd15f5b6b5e81dbe093fea4,Add missing ws between words,MERGED,2019-11-15 07:35:03.000000000,2019-11-15 14:57:39.000000000,2019-11-15 14:56:18.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-15 07:35:03.000000000', 'files': ['ansible/roles/wait-for-resources/library/wait_for_resources.py'], 'web_link': 'https://opendev.org/openstack/tenks/commit/b783f1c66daeb4a8c2636025c74d17f167d9ca11', 'message': 'Add missing ws between words\n\nThis is to add missing white space between words.\n\nChange-Id: Iea4cfde0143acbb4cdd15f5b6b5e81dbe093fea4\n'}]",0,694464,b783f1c66daeb4a8c2636025c74d17f167d9ca11,7,2,1,20190,,,0,"Add missing ws between words

This is to add missing white space between words.

Change-Id: Iea4cfde0143acbb4cdd15f5b6b5e81dbe093fea4
",git fetch https://review.opendev.org/openstack/tenks refs/changes/64/694464/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/wait-for-resources/library/wait_for_resources.py'],1,b783f1c66daeb4a8c2636025c74d17f167d9ca11,missing_ws," module.debug(""Provider can't provide {}, as the following traits """," module.debug(""Provider can't provide {}, as the following traits""",1,1
openstack%2Fpuppet-swift~master~Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693,openstack/puppet-swift,master,Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693,Add parameter memcache_max_connections,MERGED,2019-11-08 10:02:52.000000000,2019-11-15 14:53:01.000000000,2019-11-15 14:51:44.000000000,"[{'_account_id': 3153}, {'_account_id': 6476}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 29349}]","[{'number': 1, 'created': '2019-11-08 10:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/518b2125eeb045fc9225b7821fb5304a96cf2334', 'message': 'Add parameter memcache_max_connections\n\nThis add parameter memcache_max_connections as new parameter for class\nproxy::cache.\n\nChange-Id: Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693\n'}, {'number': 2, 'created': '2019-11-12 13:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/e37b7c7fec2860f1c633d9abb19096a69c8002c5', 'message': 'Add parameter memcache_max_connections\n\nThis add parameter memcache_max_connections as new parameter for class\nproxy::cache.\n\nChange-Id: Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693\n'}, {'number': 3, 'created': '2019-11-13 07:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/007e95ad743018fb5299a32b2ace859c339de100', 'message': 'Add parameter memcache_max_connections\n\nThis add parameter memcache_max_connections as new parameter for class\nproxy::cache.\n\nChange-Id: Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693\n'}, {'number': 4, 'created': '2019-11-13 17:12:20.000000000', 'files': ['releasenotes/notes/swift-memcache-max-connections-50876054c14dbdd5.yaml', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/proxy/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/2a6175e2f7b1300ef26e0c12172a53a81cdeb166', 'message': 'Add parameter memcache_max_connections\n\nThis add parameter memcache_max_connections as new parameter for class\nproxy::cache.\n\nChange-Id: Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693\n'}]",1,693511,2a6175e2f7b1300ef26e0c12172a53a81cdeb166,25,7,4,29349,,,0,"Add parameter memcache_max_connections

This add parameter memcache_max_connections as new parameter for class
proxy::cache.

Change-Id: Ifbedd1b48f45f2d8970d4f6a787d0da4e442d693
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/11/693511/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift-memcache-max-connections-50876054c14dbdd5.yaml', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/proxy/cache.pp']",3,518b2125eeb045fc9225b7821fb5304a96cf2334,memcache_max_connections,"# [*memcache_max_connections*] Sets the maximum number of connections to # each memcached server per worker # $memcache_servers = ['127.0.0.1:11211'], $memcache_max_connections = '2' 'filter:cache/use': value => 'egg:swift#memcache'; 'filter:cache/memcache_servers': value => join(any2array($memcache_servers), ','); 'filter:cache/memcache_max_connections': value => $memcache_max_connections;"," $memcache_servers = ['127.0.0.1:11211'] 'filter:cache/use': value => 'egg:swift#memcache'; 'filter:cache/memcache_servers': value => join(any2array($memcache_servers), ',');",24,3
openstack%2Fnova~master~I2dcb1cb3e1f8ed469a4c5bf81ca5ca2fcf1fa73c,openstack/nova,master,I2dcb1cb3e1f8ed469a4c5bf81ca5ca2fcf1fa73c,Add functional recreate revert resize test for bug 1852610,MERGED,2019-11-14 17:18:38.000000000,2019-11-15 14:50:05.000000000,2019-11-15 14:47:28.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-14 17:18:38.000000000', 'files': ['nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7dde6054e559752d8e9be044c32c0741f8f39c5', 'message': 'Add functional recreate revert resize test for bug 1852610\n\nThis builds on I644608b4e197ddea31c5f264adb492f2c8931f04 and\nadds a revert resize test which deletes the source compute service\nwhile the server is in VERIFY_RESIZE status and then reverts the\nresize. The results are a bit different from the confirm scenario\nbecause the confirm fails while the revert actually works which\nis more dumb luck based on where the compute service drops the\nmove claim during the revert process (on the dest which still exists\nrather than the source).\n\nChange-Id: I2dcb1cb3e1f8ed469a4c5bf81ca5ca2fcf1fa73c\nRelated-Bug: #1852610\n'}]",4,694364,f7dde6054e559752d8e9be044c32c0741f8f39c5,16,11,1,6873,,,0,"Add functional recreate revert resize test for bug 1852610

This builds on I644608b4e197ddea31c5f264adb492f2c8931f04 and
adds a revert resize test which deletes the source compute service
while the server is in VERIFY_RESIZE status and then reverts the
resize. The results are a bit different from the confirm scenario
because the confirm fails while the revert actually works which
is more dumb luck based on where the compute service drops the
move claim during the revert process (on the dest which still exists
rather than the source).

Change-Id: I2dcb1cb3e1f8ed469a4c5bf81ca5ca2fcf1fa73c
Related-Bug: #1852610
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/694364/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/integrated_helpers.py']",2,f7dde6054e559752d8e9be044c32c0741f8f39c5,bug/1852610," def _resize_and_check_allocations(self, server, old_flavor, new_flavor, source_rp_uuid, dest_rp_uuid): request = { 'resize': { 'flavorRef': new_flavor['id'] } } self._move_and_check_allocations( server, request=request, old_flavor=old_flavor, new_flavor=new_flavor, source_rp_uuid=source_rp_uuid, dest_rp_uuid=dest_rp_uuid) ",,53,0
openstack%2Fbifrost~stable%2Ftrain~I4a0b866a422414baf9e0992edb99e60f8721a914,openstack/bifrost,stable/train,I4a0b866a422414baf9e0992edb99e60f8721a914,Use the infra-cached cirros image,MERGED,2019-11-04 15:16:42.000000000,2019-11-15 14:28:20.000000000,2019-11-15 14:26:55.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-04 15:16:42.000000000', 'files': ['playbooks/test-bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0308e20c444847417def629e0296d81a8b185602', 'message': 'Use the infra-cached cirros image\n\nChange-Id: I4a0b866a422414baf9e0992edb99e60f8721a914\n(cherry picked from commit fa808100461a981489e043f26c5934922811741b)\n'}]",0,692841,0308e20c444847417def629e0296d81a8b185602,8,3,1,10239,,,0,"Use the infra-cached cirros image

Change-Id: I4a0b866a422414baf9e0992edb99e60f8721a914
(cherry picked from commit fa808100461a981489e043f26c5934922811741b)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/41/692841/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/test-bifrost.yaml'],1,0308e20c444847417def629e0296d81a8b185602,cirros-stable/train," - name: ""Use a cached cirros image"" set_fact: cirros_deploy_image_upstream_url: file:///opt/cache/files/cirros-0.3.4-x86_64-disk.img when: ci_testing is defined",,4,0
openstack%2Fkolla-ansible~stable%2Ftrain~Ib49ea586d36ae32d01b9610a48b13798db4a4cd5,openstack/kolla-ansible,stable/train,Ib49ea586d36ae32d01b9610a48b13798db4a4cd5,Fix keystone fernet rotation for source images,MERGED,2019-11-14 12:02:32.000000000,2019-11-15 14:27:37.000000000,2019-11-15 14:26:26.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 12:02:32.000000000', 'files': ['ansible/roles/keystone/templates/crontab.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7adf7b1d56060b6998ce2884a38f12446b92d606', 'message': 'Fix keystone fernet rotation for source images\n\nIn source images, keystone-manage is installed to a virtualenv in\n/var/lib/kolla/venv. This is not in the PATH for cron jobs, which always\nuse PATH=/usr/bin:/bin. This results in the following error:\n\n/usr/bin/fernet-rotate.sh: line 3: keystone-manage: command not found\n\nHowever this error is not typically visible, since cron logs to syslog\nand we do not configure fluentd to collect these logs.\n\nThis change configures the PATH in the fernet-rotate.sh script for\nsource images.\n\nChange-Id: Ib49ea586d36ae32d01b9610a48b13798db4a4cd5\nCloses-Bug: #1850711\n(cherry picked from commit d09ee49afc19ad5e752755e14ac46b9af1524bdf)\n'}]",0,694270,7adf7b1d56060b6998ce2884a38f12446b92d606,9,4,1,14826,,,0,"Fix keystone fernet rotation for source images

In source images, keystone-manage is installed to a virtualenv in
/var/lib/kolla/venv. This is not in the PATH for cron jobs, which always
use PATH=/usr/bin:/bin. This results in the following error:

/usr/bin/fernet-rotate.sh: line 3: keystone-manage: command not found

However this error is not typically visible, since cron logs to syslog
and we do not configure fluentd to collect these logs.

This change configures the PATH in the fernet-rotate.sh script for
source images.

Change-Id: Ib49ea586d36ae32d01b9610a48b13798db4a4cd5
Closes-Bug: #1850711
(cherry picked from commit d09ee49afc19ad5e752755e14ac46b9af1524bdf)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/694270/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/templates/crontab.j2'],1,7adf7b1d56060b6998ce2884a38f12446b92d606,bug/1850711-stable/train,"{# Cron uses a PATH of /usr/bin:/bin by default, which does not include the #} {# virtualenv in source images. #} {% if keystone_install_type == 'source' %} PATH=/var/lib/kolla/venv/bin:/usr/bin:/bin {% endif %} ",,6,0
openstack%2Fkolla-ansible~stable%2Fstein~Ib49ea586d36ae32d01b9610a48b13798db4a4cd5,openstack/kolla-ansible,stable/stein,Ib49ea586d36ae32d01b9610a48b13798db4a4cd5,Fix keystone fernet rotation for source images,MERGED,2019-11-14 12:02:40.000000000,2019-11-15 14:27:36.000000000,2019-11-15 14:26:25.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 12:02:40.000000000', 'files': ['ansible/roles/keystone/templates/crontab.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72e8aaabff413ffaa44411ee7632a43c38fc5390', 'message': 'Fix keystone fernet rotation for source images\n\nIn source images, keystone-manage is installed to a virtualenv in\n/var/lib/kolla/venv. This is not in the PATH for cron jobs, which always\nuse PATH=/usr/bin:/bin. This results in the following error:\n\n/usr/bin/fernet-rotate.sh: line 3: keystone-manage: command not found\n\nHowever this error is not typically visible, since cron logs to syslog\nand we do not configure fluentd to collect these logs.\n\nThis change configures the PATH in the fernet-rotate.sh script for\nsource images.\n\nChange-Id: Ib49ea586d36ae32d01b9610a48b13798db4a4cd5\nCloses-Bug: #1850711\n(cherry picked from commit d09ee49afc19ad5e752755e14ac46b9af1524bdf)\n'}]",0,694271,72e8aaabff413ffaa44411ee7632a43c38fc5390,8,3,1,14826,,,0,"Fix keystone fernet rotation for source images

In source images, keystone-manage is installed to a virtualenv in
/var/lib/kolla/venv. This is not in the PATH for cron jobs, which always
use PATH=/usr/bin:/bin. This results in the following error:

/usr/bin/fernet-rotate.sh: line 3: keystone-manage: command not found

However this error is not typically visible, since cron logs to syslog
and we do not configure fluentd to collect these logs.

This change configures the PATH in the fernet-rotate.sh script for
source images.

Change-Id: Ib49ea586d36ae32d01b9610a48b13798db4a4cd5
Closes-Bug: #1850711
(cherry picked from commit d09ee49afc19ad5e752755e14ac46b9af1524bdf)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/694271/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/templates/crontab.j2'],1,72e8aaabff413ffaa44411ee7632a43c38fc5390,bug/1850711-stable/stein,"{# Cron uses a PATH of /usr/bin:/bin by default, which does not include the #} {# virtualenv in source images. #} {% if keystone_install_type == 'source' %} PATH=/var/lib/kolla/venv/bin:/usr/bin:/bin {% endif %} ",,6,0
openstack%2Fbifrost~stable%2Frocky~Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,openstack/bifrost,stable/rocky,Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,Fix XFS disk image builds,MERGED,2019-11-12 13:45:28.000000000,2019-11-15 14:26:56.000000000,2019-11-15 14:26:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-12 13:45:28.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a0e151d0654c1db5e8514cc7302069d5a8d23a03', 'message': 'Fix XFS disk image builds\n\nIt is possible to use DIB to build XFS formatted disk images, via the\nFS_TYPE environment variable. This fails currently due to the lack of an\nxfsprogs package on the host.\n\nThis change installs xfsprogs to the host.\n\nChange-Id: Ibf64d69596eb852a2a1c62cb0a202ec552cf1437\nStory: 2006831\nTask: 37404\n(cherry picked from commit 6a958704373c34397f788e287c76d0be6d592f46)\n'}]",0,693848,a0e151d0654c1db5e8514cc7302069d5a8d23a03,7,3,1,14826,,,0,"Fix XFS disk image builds

It is possible to use DIB to build XFS formatted disk images, via the
FS_TYPE environment variable. This fails currently due to the lack of an
xfsprogs package on the host.

This change installs xfsprogs to the host.

Change-Id: Ibf64d69596eb852a2a1c62cb0a202ec552cf1437
Story: 2006831
Task: 37404
(cherry picked from commit 6a958704373c34397f788e287c76d0be6d592f46)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/48/693848/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-dib-image/vars/main.yml'],1,a0e151d0654c1db5e8514cc7302069d5a8d23a03,, - xfsprogs,,1,0
openstack%2Fkolla-ansible~master~I36c875611931163ca2c29ae93b71d3af64cb197c,openstack/kolla-ansible,master,I36c875611931163ca2c29ae93b71d3af64cb197c,Fix restart policy after MariaDB recovery,MERGED,2019-11-07 10:11:58.000000000,2019-11-15 14:22:15.000000000,2019-11-15 12:17:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-07 10:11:58.000000000', 'files': ['ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f979ae1f8ee182a8bc6fde4b23b95a460cb81488', 'message': ""Fix restart policy after MariaDB recovery\n\nAfter performing a recovery of MariaDB, the mariadb containers are left\nwithout a restart policy. This leaves them unable to recover from the\ncrash of a single galera node. There is another issue, in that the\n'master' node is left in a bootstrap configuration, with the\n--wsrep-new-cluster argument configured as BOOTSTRAP_ARGS.\n\nThis change fixes these issues by removing the restart policy of 'no'\nfrom the 'slave' containers, and recreating the master container without\nthe restart policy or bootstrap arguments.\n\nChange-Id: I36c875611931163ca2c29ae93b71d3af64cb197c\nCloses-Bug: #1851594\n""}]",0,693329,f979ae1f8ee182a8bc6fde4b23b95a460cb81488,10,4,1,14826,,,0,"Fix restart policy after MariaDB recovery

After performing a recovery of MariaDB, the mariadb containers are left
without a restart policy. This leaves them unable to recover from the
crash of a single galera node. There is another issue, in that the
'master' node is left in a bootstrap configuration, with the
--wsrep-new-cluster argument configured as BOOTSTRAP_ARGS.

This change fixes these issues by removing the restart policy of 'no'
from the 'slave' containers, and recreating the master container without
the restart policy or bootstrap arguments.

Change-Id: I36c875611931163ca2c29ae93b71d3af64cb197c
Closes-Bug: #1851594
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/693329/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/tasks/recover_cluster.yml'],1,f979ae1f8ee182a8bc6fde4b23b95a460cb81488,bug/1851594," image: ""{{ mariadb_service.image }}"" dimensions: ""{{ mariadb_service.dimensions }}""- name: Restart master MariaDB container become: true kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ mariadb_service.container_name }}"" image: ""{{ mariadb_service.image }}"" volumes: ""{{ mariadb_service.volumes }}"" dimensions: ""{{ mariadb_service.dimensions }}"" when: - bootstrap_host is defined - bootstrap_host == inventory_hostname - name: Wait for master mariadb wait_for: host: ""{{ api_interface_address }}"" port: ""{{ mariadb_port }}"" connect_timeout: 1 timeout: 60 search_regex: ""MariaDB"" register: check_mariadb_port until: check_mariadb_port is success retries: 10 delay: 6 when: - bootstrap_host is defined - bootstrap_host == inventory_hostname "," environment: KOLLA_CONFIG_STRATEGY: ""{{ config_strategy }}"" BOOTSTRAP_ARGS: "" "" image: ""{{ mariadb_service.image }}"" labels: BOOTSTRAP: restart_policy: no",30,7
openstack%2Fkolla-ansible~master~If6e9c91f3e8d0ec366eea7ca506c6d10dbf11c3a,openstack/kolla-ansible,master,If6e9c91f3e8d0ec366eea7ca506c6d10dbf11c3a,Start Docker after upgrade,MERGED,2019-11-11 11:16:18.000000000,2019-11-15 14:21:52.000000000,2019-11-15 13:00:04.000000000,"[{'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-11 11:16:18.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/82e58a7a5a66a2b4094f7f0bccf316f846f3243b', 'message': ""Start Docker after upgrade\n\nIf you do the following:\n\n* Install legacy Docker (1.12.0) using kolla-ansible bootstrap-servers\n  with the Rocky release or earlier.\n* Update to Docker CE, using kolla-ansible bootstrap-servers with the\n  Stein release or later\n\nThe package is upgraded, but docker is stopped. This prevents the 'Wait\nfor Docker to start' task from completing, since Docker will not start.\nSeen on CentOS 7.6, Docker CE 19.03.4.\n\nThis was tested and working previously, perhaps something changed with\nthe Docker package.\n\nThis change fixes the issue by starting and enabling Docker after the\nupgrade.\n\nChange-Id: If6e9c91f3e8d0ec366eea7ca506c6d10dbf11c3a\nCloses-Bug: #1852066\n""}]",1,693682,82e58a7a5a66a2b4094f7f0bccf316f846f3243b,17,8,1,14826,,,0,"Start Docker after upgrade

If you do the following:

* Install legacy Docker (1.12.0) using kolla-ansible bootstrap-servers
  with the Rocky release or earlier.
* Update to Docker CE, using kolla-ansible bootstrap-servers with the
  Stein release or later

The package is upgraded, but docker is stopped. This prevents the 'Wait
for Docker to start' task from completing, since Docker will not start.
Seen on CentOS 7.6, Docker CE 19.03.4.

This was tested and working previously, perhaps something changed with
the Docker package.

This change fixes the issue by starting and enabling Docker after the
upgrade.

Change-Id: If6e9c91f3e8d0ec366eea7ca506c6d10dbf11c3a
Closes-Bug: #1852066
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/693682/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/install.yml'],1,82e58a7a5a66a2b4094f7f0bccf316f846f3243b,bug/1852066, # At some point (at least on CentOS 7) Docker CE stopped starting # automatically after an upgrade from legacy docker . Start it manually. - name: Start docker service: name: docker state: started enabled: yes become: True ,,9,0
openstack%2Fneutron~stable%2Fqueens~I1137eb18efaf51c67fab145e645f58cbd3772e40,openstack/neutron,stable/queens,I1137eb18efaf51c67fab145e645f58cbd3772e40,Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall,MERGED,2019-10-29 13:31:15.000000000,2019-11-15 14:17:37.000000000,2019-11-15 14:17:37.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-29 13:31:15.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d581e94aa9a42894ebb9161790e64b2b60828b0', 'message': 'Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall\n\nThis will prevent ovs agent from endless fail loop when dealing\nwith unbound port: like when port was created in neutron before\nagent become alive, then agent gets online and and starts processing\ndevices.\nThis patch adds exception handling to prepare_port_filter() -\nsame as done in update_port_filter().\n\nChange-Id: I1137eb18efaf51c67fab145e645f58cbd3772e40\nCloses-Bug: #1849098\n(cherry picked from commit e801159003978f7c5c67eb3e9fe36fa690656d77)\n'}]",0,691861,6d581e94aa9a42894ebb9161790e64b2b60828b0,27,6,1,9531,,,0,"Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall

This will prevent ovs agent from endless fail loop when dealing
with unbound port: like when port was created in neutron before
agent become alive, then agent gets online and and starts processing
devices.
This patch adds exception handling to prepare_port_filter() -
same as done in update_port_filter().

Change-Id: I1137eb18efaf51c67fab145e645f58cbd3772e40
Closes-Bug: #1849098
(cherry picked from commit e801159003978f7c5c67eb3e9fe36fa690656d77)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/691861/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,6d581e94aa9a42894ebb9161790e64b2b60828b0,bug/1849098-stable/queens," try: old_of_port = self.get_ofport(port) of_port = self.get_or_create_ofport(port) if old_of_port: LOG.info(""Initializing port %s that was already initialized."", port['device']) self._update_flows_for_port(of_port, old_of_port) else: self._set_port_filters(of_port) except exceptions.OVSFWPortNotFound as not_found_error: LOG.info(""port %(port_id)s does not exist in ovsdb: %(err)s."", {'port_id': port['device'], 'err': not_found_error}) except exceptions.OVSFWTagNotFound as tag_not_found: LOG.info(""Tag was not found for port %(port_id)s: %(err)s."", {'port_id': port['device'], 'err': tag_not_found})"," old_of_port = self.get_ofport(port) of_port = self.get_or_create_ofport(port) if old_of_port: LOG.info(""Initializing port %s that was already initialized."", port['device']) self._update_flows_for_port(of_port, old_of_port) else: self._set_port_filters(of_port)",17,8
openstack%2Fpuppet-ceilometer~master~I446af549752cf4872b98e3320353bd93a8a9ab2f,openstack/puppet-ceilometer,master,I446af549752cf4872b98e3320353bd93a8a9ab2f,Add executor_thread_pool_size,MERGED,2019-11-13 06:54:22.000000000,2019-11-15 14:13:52.000000000,2019-11-15 14:12:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 06:54:22.000000000', 'files': ['releasenotes/notes/add_executor_thread_pool_size-6f4ffd7ffd0f117a.yaml', 'manifests/init.pp', 'spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f289344487662b8d23deb0e48ceb45dd72c616d3', 'message': 'Add executor_thread_pool_size\n\nChange I36324bae39e05dde57b962948f832c22599c13d2 added\nexecutor_thread_pool_size as a new param to oslo::messaging::default,\nbut that option was not updated in many modules like this one. This\nmeans a user cannot set executor_thread_pool_size, as setting it\nanywhere else will throw a duplicate declaration error.\n\nThis change update the oslo::messaging::default call accordingly, and\nadds an option to set it, similar to Change\nId4a61c39ef6392a3d656952467c756be9e68de91\n\nChange-Id: I446af549752cf4872b98e3320353bd93a8a9ab2f\n'}]",0,693988,f289344487662b8d23deb0e48ceb45dd72c616d3,9,4,1,8064,,,0,"Add executor_thread_pool_size

Change I36324bae39e05dde57b962948f832c22599c13d2 added
executor_thread_pool_size as a new param to oslo::messaging::default,
but that option was not updated in many modules like this one. This
means a user cannot set executor_thread_pool_size, as setting it
anywhere else will throw a duplicate declaration error.

This change update the oslo::messaging::default call accordingly, and
adds an option to set it, similar to Change
Id4a61c39ef6392a3d656952467c756be9e68de91

Change-Id: I446af549752cf4872b98e3320353bd93a8a9ab2f
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/88/693988/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_executor_thread_pool_size-6f4ffd7ffd0f117a.yaml', 'manifests/init.pp', 'spec/classes/ceilometer_init_spec.rb']",3,f289344487662b8d23deb0e48ceb45dd72c616d3,add_executor_thread_pool_size," is_expected.to contain_ceilometer_config('DEFAULT/executor_thread_pool_size').with_value('<SERVICE DEFAULT>') :executor_thread_pool_size => '128', :default_transport_url => 'rabbit://rabbit_user:password@localhost:5673', :rpc_response_timeout => '120', :control_exchange => 'ceilometer', is_expected.to contain_ceilometer_config('DEFAULT/executor_thread_pool_size').with_value('128')"," :default_transport_url => 'rabbit://rabbit_user:password@localhost:5673', :rpc_response_timeout => '120', :control_exchange => 'ceilometer',",18,6
openstack%2Fkolla-ansible~master~Ieb247f36af932d3a357504c7419ead44b10d1301,openstack/kolla-ansible,master,Ieb247f36af932d3a357504c7419ead44b10d1301,Remove transitional support for influxdb in cloudkitty upgrade,MERGED,2019-11-14 11:42:22.000000000,2019-11-15 14:10:11.000000000,2019-11-15 14:08:15.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 11:42:22.000000000', 'files': ['ansible/roles/cloudkitty/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6c5aa4a0864b94328f193370da4b2ce82eb1520', 'message': 'Remove transitional support for influxdb in cloudkitty upgrade\n\nDuring the Stein release the default storage backend for cloudkitty was\nswitched to influxdb. To aid this transition we added creation of the\ninfluxdb database during upgrade. Now that this transition is complete\nwe can remove it.\n\nChange-Id: Ieb247f36af932d3a357504c7419ead44b10d1301\n'}]",0,694259,e6c5aa4a0864b94328f193370da4b2ce82eb1520,9,4,1,14826,,,0,"Remove transitional support for influxdb in cloudkitty upgrade

During the Stein release the default storage backend for cloudkitty was
switched to influxdb. To aid this transition we added creation of the
influxdb database during upgrade. Now that this transition is complete
we can remove it.

Change-Id: Ieb247f36af932d3a357504c7419ead44b10d1301
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/694259/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/tasks/upgrade.yml'],1,e6c5aa4a0864b94328f193370da4b2ce82eb1520,,,"# NOTE(mgoddard): Transition support for upgrades from Rocky or Stein which may # be using the SQLAlchemy storage backend. # TODO(mgoddard): Remove in U cycle. - name: Creating Cloudkitty influxdb database become: true kolla_toolbox: module_name: influxdb_database module_args: hostname: ""{{ influxdb_address }}"" port: ""{{ influxdb_http_port }}"" database_name: ""{{ cloudkitty_influxdb_name }}"" when: cloudkitty_storage_backend == 'influxdb' ",0,13
openstack%2Fpuppet-aodh~master~I92ff2d3fbf038c84a15eaa0a06283a731ec48809,openstack/puppet-aodh,master,I92ff2d3fbf038c84a15eaa0a06283a731ec48809,Add executor_thread_pool_size,MERGED,2019-11-13 04:40:50.000000000,2019-11-15 14:09:54.000000000,2019-11-15 14:08:55.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 04:40:50.000000000', 'files': ['manifests/init.pp', 'spec/classes/aodh_init_spec.rb', 'releasenotes/notes/add_executor_thread_pool_size-f39600c510541493.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/663a81983107ea571e785691943ed742f7b0c686', 'message': 'Add executor_thread_pool_size\n\nChange I36324bae39e05dde57b962948f832c22599c13d2 added\nexecutor_thread_pool_size as a new param to oslo::messaging::default,\nbut that option was not updated in many modules like this one. This\nmeans a user cannot set executor_thread_pool_size, as setting it\nanywhere else will throw a duplicate declaration error.\n\nThis change update the oslo::messaging::default call accordingly, and\nadds an option to set it, similar to Change\nId4a61c39ef6392a3d656952467c756be9e68de91\n\nChange-Id: I92ff2d3fbf038c84a15eaa0a06283a731ec48809\n'}]",0,693970,663a81983107ea571e785691943ed742f7b0c686,10,4,1,8064,,,0,"Add executor_thread_pool_size

Change I36324bae39e05dde57b962948f832c22599c13d2 added
executor_thread_pool_size as a new param to oslo::messaging::default,
but that option was not updated in many modules like this one. This
means a user cannot set executor_thread_pool_size, as setting it
anywhere else will throw a duplicate declaration error.

This change update the oslo::messaging::default call accordingly, and
adds an option to set it, similar to Change
Id4a61c39ef6392a3d656952467c756be9e68de91

Change-Id: I92ff2d3fbf038c84a15eaa0a06283a731ec48809
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/70/693970/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/aodh_init_spec.rb', 'releasenotes/notes/add_executor_thread_pool_size-f39600c510541493.yaml']",3,663a81983107ea571e785691943ed742f7b0c686,add_executor_thread_pool_size,--- features: - Add possibility to configure the size of executor thread pool. ,,15,3
openstack%2Fbifrost~stable%2Fstein~I4a0b866a422414baf9e0992edb99e60f8721a914,openstack/bifrost,stable/stein,I4a0b866a422414baf9e0992edb99e60f8721a914,Use the infra-cached cirros image,MERGED,2019-11-04 15:16:53.000000000,2019-11-15 14:09:24.000000000,2019-11-15 14:07:50.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-04 15:16:53.000000000', 'files': ['playbooks/test-bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d7372745fcf46a3ea027fe13dca7a888732d8dec', 'message': 'Use the infra-cached cirros image\n\nChange-Id: I4a0b866a422414baf9e0992edb99e60f8721a914\n(cherry picked from commit fa808100461a981489e043f26c5934922811741b)\n'}]",0,692842,d7372745fcf46a3ea027fe13dca7a888732d8dec,8,3,1,10239,,,0,"Use the infra-cached cirros image

Change-Id: I4a0b866a422414baf9e0992edb99e60f8721a914
(cherry picked from commit fa808100461a981489e043f26c5934922811741b)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/42/692842/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/test-bifrost.yaml'],1,d7372745fcf46a3ea027fe13dca7a888732d8dec,cirros-stable/stein," - name: ""Use a cached cirros image"" set_fact: cirros_deploy_image_upstream_url: file:///opt/cache/files/cirros-0.3.4-x86_64-disk.img when: ci_testing is defined",,4,0
openstack%2Ftripleo-docs~master~I5a04af4e285d1fb081f428ef89ed248c735bfcaf,openstack/tripleo-docs,master,I5a04af4e285d1fb081f428ef89ed248c735bfcaf,Document ManageNetworks,MERGED,2019-11-14 22:35:22.000000000,2019-11-15 13:46:18.000000000,2019-11-15 13:44:54.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 22:35:22.000000000', 'files': ['deploy-guide/source/features/distributed_compute_node.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1c904911580785df52bbc831b095b9df3f3ef4d8', 'message': 'Document ManageNetworks\n\nAdd documentation around the ManageNetworks paramter that was added in\naade43dd12498a54fba34e056342ed480ae9c5f7.\n\nAlso corrects a misuse of ` throughout the doc. The terms should be\ninlined literals, not italics.\n\nChange-Id: I5a04af4e285d1fb081f428ef89ed248c735bfcaf\n'}]",0,694411,1c904911580785df52bbc831b095b9df3f3ef4d8,9,4,1,7144,,,0,"Document ManageNetworks

Add documentation around the ManageNetworks paramter that was added in
aade43dd12498a54fba34e056342ed480ae9c5f7.

Also corrects a misuse of ` throughout the doc. The terms should be
inlined literals, not italics.

Change-Id: I5a04af4e285d1fb081f428ef89ed248c735bfcaf
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/11/694411/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/distributed_compute_node.rst'],1,1c904911580785df52bbc831b095b9df3f3ef4d8,,"In a default undercloud configuration, ironic deploys nodes using the ``iscsi`` deploy interface. When using the ``iscsi`` deploy interface, the deploy ramdisk publishes the nodes disk as an iSCSI target, and the ``ironic-conductor``distributed compute nodes should be configured to use the ``direct`` deployWhen using the ``direct`` deploy interface, the deploy ramdisk will download theusing the ``direct`` deploy interface provides a more stable node deploymentover the ``direct`` deploy interface. To allow Swift to create temporary URLs, itexample, ``uuidgen`` is used to randomly create a key value. You should choose astructure for each node. For example, see the ``deploy_interface: direct``Existing nodes can be updated to use the ``direct`` deploy interface. Forplane stack could be called ``control-plane`` and set by passing ``--stack control-plane`` to the ``openstack overcloud deploy`` command. The ``control-plane-export.yaml`` generated in the previous command containsManageNetworks ############## The ``ManageNetworks`` parameter can be set to ``false`` so that the same ``network_data.yaml`` file can be used across all the stacks. When ``ManageNetworks`` is set to false, ports will be created for the nodes in the separate stacks on the existing networks that were already created in the ``control-plane`` stack. When ``ManageNetworks`` is used, it's a global option for the whole stack and applies to all of the network, subnet, and segment resources. To use ``ManageNetworks``, create an environment file which sets the parameter value to ``false``:: parameter_defaults: ManageNetworks: false External UUID's ############### If more fine grained control over which networks should be reused from the ``control-plane`` stack is needed, then various ``external_resource_*`` fields can be added to ``network_data.yaml``. When these fields are present on network, subnet, segment, or vip resources, Heat will mark the resources in the separate stack as being externally managed, and it won't try to any create, update, or delete operations on those resources. ``ManageNetworks`` should not be set when when the ``external_resource_*`` fields are used. The external resource fields that can be used in ``network_data.yaml`` are as follows::These fields can be set on each network definition in the `network_data.yaml`` file used for the deployment of the separate stack.`external_resource_*` fields can be set for only the networks that areFor example, to reuse the ``internal_api`` network from the control plane stacknetwork definition for the ``internal_api`` network in the ``network_data.yaml`` file for the separate stack. An example network definition would look like: ``network_data.yaml`` must have a unique name across all deployed stacks. For example, the network name ``internal_api`` can't be reused between The network would need to be given a different ``name`` and ``name_lower`` property such as ``InternalApiCompute0`` and ``internal_api_compute_0``.Different roles are provided within ``tripleo-heat-templates``, depending on theThe default compute role at ``roles/Compute.yaml`` can be used if that isThe first is ``roles/DistributedCompute.yaml``. This role includes the defaultThe second is ``roles/DistributedComputeHCI.yaml``. This role includes the#######################then the ``tripleo-ansible-inventory`` command's ``--stack`` option","In a default undercloud configuration, ironic deploys nodes using the `iscsi` deploy interface. When using the `iscsi` deploy interface, the deploy ramdisk publishes the nodes disk as an iSCSI target, and the `ironic-conductor`distributed compute nodes should be configured to use the `direct` deployWhen using the `direct` deploy interface, the deploy ramdisk will download theusing the `direct` deploy interface provides a more stable node deploymentover the `direct` deploy interface. To allow Swift to create temporary URLs, itexample, `uuidgen` is used to randomly create a key value. You should choose astructure for each node. For example, see the `deploy_interface: direct`Existing nodes can be updated to use the `direct` deploy interface. Forplane stack could be called `control-plane` and set by passing `--stack control-plane` to the `openstack overcloud deploy` command. The `control-plane-export.yaml` generated in the previous command containsTo reuse network related resources between stacks, the following parameters have been added to the network definitions in the `network_data.yaml` file format::These parameters can be set on each network definition in the `network_data.yaml` file used for the deployment of the separate stack.`external_resource_*` parameters can be set for only the networks that areFor example, to reuse the `internal_api` network from the control plane stacknetwork definition for the `internal_api` network in the `network_data.yaml` file for the separate stack. An example network definition would look like: `network_data.yaml` must have a unique name across all deployed stacks. For example, the network name `internal_api` can't be reused between The network would need to be given a different `name` and `name_lower` property such as `InternalApiCompute0` and `internal_api_compute_0`.Different roles are provided within `tripleo-heat-templates`, depending on theThe default compute role at `roles/Compute.yaml` can be used if that isThe first is `roles/DistributedCompute.yaml`. This role includes the defaultThe second is `roles/DistributedComputeHCI.yaml`. This role includes the########################then the `tripleo-ansible-inventory` command's `--stack` option",62,32
openstack%2Fdesignate~stable%2Ftrain~I7ebc7991bd4f59579195d337f1787fd8abefbe90,openstack/designate,stable/train,I7ebc7991bd4f59579195d337f1787fd8abefbe90,Don't install v1 dashboard panel,MERGED,2019-11-15 07:04:21.000000000,2019-11-15 13:35:46.000000000,2019-11-15 13:34:07.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-11-15 07:04:21.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/1ac9251b89da4ce9c270beff01d241b50eaf2bf6', 'message': ""Don't install v1 dashboard panel\n\nThe panel _1720_project_dns_panel.py has been removed in [0], stop\ntrying to install it in our devstack plugin.\n\n[0] Iabf7d396ea6feb0cd7de1c5408a81a7a3ce1efbf\n\nChange-Id: I7ebc7991bd4f59579195d337f1787fd8abefbe90\n(cherry picked from commit b9e6549ad30b2b06ef6ca409a3a89e1c68ad6a47)\n""}]",0,694458,1ac9251b89da4ce9c270beff01d241b50eaf2bf6,9,4,1,22623,,,0,"Don't install v1 dashboard panel

The panel _1720_project_dns_panel.py has been removed in [0], stop
trying to install it in our devstack plugin.

[0] Iabf7d396ea6feb0cd7de1c5408a81a7a3ce1efbf

Change-Id: I7ebc7991bd4f59579195d337f1787fd8abefbe90
(cherry picked from commit b9e6549ad30b2b06ef6ca409a3a89e1c68ad6a47)
",git fetch https://review.opendev.org/openstack/designate refs/changes/58/694458/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,1ac9251b89da4ce9c270beff01d241b50eaf2bf6,,, _1720_project_dns_panel.py \,0,1
openstack%2Fcharm-deployment-guide~master~Ibeb901cc7f6048742f99be93b05a5f35fb6adffb,openstack/charm-deployment-guide,master,Ibeb901cc7f6048742f99be93b05a5f35fb6adffb,Review and refactor app-upgrade-openstack.rst,MERGED,2019-10-23 00:58:23.000000000,2019-11-15 13:16:27.000000000,2019-11-15 13:15:07.000000000,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-10-23 00:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d275adf27a530fe0a3dd56a39e321d8a23b49943', 'message': 'WIP - Review and refactor app-upgrade-openstack.rst\n\nChange-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb\n'}, {'number': 2, 'created': '2019-10-23 22:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/fef2486d6ed9e4931681d744d1491761171667c1', 'message': 'WIP - Review and refactor app-upgrade-openstack.rst\n\nChange-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb\n'}, {'number': 3, 'created': '2019-10-24 22:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/8b4458e74c39e07b210c442af449219487b725ca', 'message': 'WIP - Review and refactor app-upgrade-openstack.rst\n\nChange-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb\n'}, {'number': 4, 'created': '2019-10-25 22:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5e7a0c1787747fe90714a710286168f31beff505', 'message': 'WIP - Review and refactor app-upgrade-openstack.rst\n\nChange-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb\n'}, {'number': 5, 'created': '2019-10-26 02:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/fd62b937ba3c6a3f90454de6b94a6fe66b2c9a8f', 'message': 'WIP - Review and refactor app-upgrade-openstack.rst\n\nChange-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb\n'}, {'number': 6, 'created': '2019-10-28 02:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/31b149468ca0c7b6d18347d0478d3892536d1a6d', 'message': 'WIP - Review and refactor app-upgrade-openstack.rst\n\nChange-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb\n'}, {'number': 7, 'created': '2019-10-28 17:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/2cfffbb090a2b95f48becf2c599a01ad700fb9be', 'message': 'Review and refactor app-upgrade-openstack.rst\n\nChange-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb\n'}, {'number': 8, 'created': '2019-11-07 00:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/80cd0f3ed8f1620c345775837b5e7ac33076d8cb', 'message': 'Review and refactor app-upgrade-openstack.rst\n\nChange-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb\n'}, {'number': 9, 'created': '2019-11-12 23:33:56.000000000', 'files': ['deploy-guide/source/app-upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1198e1c7f40909b28f105213bfd9363f112ed113', 'message': 'Review and refactor app-upgrade-openstack.rst\n\nChange-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb\n'}]",26,690454,1198e1c7f40909b28f105213bfd9363f112ed113,33,5,9,30561,,,0,"Review and refactor app-upgrade-openstack.rst

Change-Id: Ibeb901cc7f6048742f99be93b05a5f35fb6adffb
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/54/690454/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-upgrade-openstack.rst'],1,d275adf27a530fe0a3dd56a39e321d8a23b49943,ensure-stein-train-upgradability,"==============================.. warning:: Upgrading an OpenStack cloud is not risk-free. The procedures outlined here should first be tested in a non-production environment. Definitions ----------- Charm upgrade This is an upgrade of the charm software which is used to deploy and manage OpenStack. This will include charms that manage applications which are not part of the OpenStack project such as Rabbitmq and MySQL. OpenStack upgrade This is an upgrade of the OpenStack software (packages) that are installed and managed by the charms. Ubuntu Server package upgrade This is an upgrade of the deb packages on the server that are not part of the OpenStack project such as kernel modules, QEMU binaries, KVM kernel module, etc. Ubuntu release upgrade This is an upgrade from one Ubuntu release to the next. Skipping releases or fast forward upgradeQueens to Rocky, then Rocky to Stein, Stein to Train and so on.""Fast-forward-upgrade"" is also not supported by the charms. FFU/FFWD is anCharm upgrades --------------but check the `Release Notes`_ for each release to ensure there are no special requirements. To upgrade a charm that was deployed from the Charm Store, say keystone: juju upgrade-charm keystone The progress of the upgrade can be monitored by checking the workload status of the charm which can be seen in :command:`juju status` output. Once the upgrade is complete, the output should contain the message 'Unit is ready'. .. code:: App Version Status Scale Charm Store Rev OS Notes keystone 16.0.0 active 1 keystone jujucharms 306 ubuntu Unit Workload Agent Machine Public address Ports Message keystone/0* active idle 3/lxd/1 10.248.64.69 5000/tcp Unit is ready This shows that the new version of keystone is 16.0.0 (Train). Do not proceed to the next charm if there are any unforeseen errors.charm upgrades in series rather than in parallel. OpenStack upgrades ------------------ Go through each of the following sections to ensure a trouble-free OpenStack upgrade. Release Notes ~~~~~~~~~~~~~ The `Release Notes`_ for the current and target versions of OpenStack should be consulted for any special instructions and known issues. In particular, pay attention to services and/or configuration options that may be retired, deprecated, or changed. Wherever possible, the latest version of a charm has code to handle almost all changes such that the resultant system should be configured in the same way. However, removed, added, or replaced services **will** require manual intervention. Known issues ~~~~~~~~~~~~ While the Release Notes may contain known issues specific to an OpenStack release or upgrade path there are also some general issues that an operator should be aware of. When charms *can't* perform a change, either due to a bug in the charm (i.e. a system configuration that the charms haven't been programmed to handle) or because *at the individual charm level* the charm can't change the service (i.e. when a service is replaced with another service, a *different* charm would be needed). Below is a list of known issues related to charms that an operator may encounter when a charm does not automatically take care of, along with mitigation strategies to help resolve the situation. Verify current deployment ~~~~~~~~~~~~~~~~~~~~~~~~~ Check for any errors in the :command:`juju status` output. If monitoring is in use (e.g. Nagios) make sure any alerts have been cleared before continuing. This is to ensure that any alerts that may appear after the upgrade are not pre-existing problems. .. caution:: Any software customisations in the current charms will be overwritten by the upgrade. Archive old database data ~~~~~~~~~~~~~~~~~~~~~~~~~ During the upgrade database migrations will be run. This operation can be optimised by first archiving any stale data (e.g. deleted instances). Do this by running the ``archive-data`` action on any single nova-cloud-controller unit: juju run-action --wait nova-cloud-controller/0 archive-data'Nothing was archived'. Purge old compute service entries ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Old compute service entries for units which are no longer part of the model should be purged before the upgrade. These entries will show as 'down' (and on machines no longer in the model) in the current list of compute services: openstack compute service list To remove a compute service: openstack compute service delete <service-id> Upgrade order ~~~~~~~~~~~~~ The charms are grouped together below. The upgrade order within a group does not matter but all the charms in each group should be upgraded before moving on to the next group. Any Release Notes guidance overrides the order listed here.Perform the upgrade ~~~~~~~~~~~~~~~~~~~ If the service to be upgraded **is clustered** (highly-available) then the best**not clustered** then follow the ""Action managed"" instructions. Finally, if there is a single unit then follow ""Application one-shot"". Some parts of the upgrade, like database migrations, only need to be run once per application and these tasks are handled by the unit leader. It is advisable that these tasks are run first (this is not applicable for one-shot deployments). To achieve this run the upgrade on the unit leader first. The leader is the unit with a '*' next to it in the :command:`juju status` output or run: juju run --application application-name is-leader Extra care must be taken when performing OpenStack upgrades in an environment with a converged architecture. If two principle charms have been placed on the same unit (e.g. nova-compute and ceph-osd), then upgrading one of the charms will cause the underlying system to be updated to point at packages from the next OpenStack release. If the machine has unattended-upgrades enabled, which is the default, the second charm may have its packages updated outside of Juju's control. **It is therefore recommended to disable unattended upgrades for the duration of the upgrade process**, and renable them afterwards.^^^^^^^^^^^^^^^^^^^^a charm to be removed from service, upgraded, and returned to service. juju config nova-cloud-controller action-managed-upgrade=True juju config nova-cloud-controller openstack-origin='cloud:xenial-pike' juju run-action nova-cloud-controller-hacluster/2 --wait pause juju run-action nova-cloud-controller/2 --wait pause juju run-action nova-cloud-controller/2 --wait openstack-upgrade juju run-action nova-cloud-controller/2 --wait resume juju run-action nova-cloud-controller-hacluster/2 --wait resume juju run-action nova-cloud-controller-hacluster/1 --wait pause juju run-action nova-cloud-controller/1 --wait pause juju run-action nova-cloud-controller/1 --wait openstack-upgrade juju run-action nova-cloud-controller/1 --wait resume juju run-action nova-cloud-controller-hacluster/1 --wait resume juju run-action nova-cloud-controller-hacluster/0 --wait pause juju run-action nova-cloud-controller/0 --wait pause juju run-action nova-cloud-controller/0 --wait openstack-upgrade juju run-action nova-cloud-controller/0 --wait resume juju run-action nova-cloud-controller-hacluster/0 --wait resume The hacluster unit numbers may not correspond to the parent unit number. In the example above nova-cloud-controller-hacluster/2 might not be the hacluster subordinate of nova-cloud-controller/2. You should always pause the hacluster subordinate unit respective to the parent unit you wish to upgrade, starting from the leader.^^^^^^^^^^^^^^one at a time using Juju actions. This allows for rolling upgrades. To use this feature the charm configuration option ``action-managed-upgrade`` must be set to 'True'. For example to upgrade a three-node Keystone service from Ocata to Pike where juju config keystone action-managed-upgrade=True juju config keystone openstack-origin='cloud:xenial-pike' juju run-action keystone/1 --wait openstack-upgrade juju run-action keystone/0 --wait openstack-upgrade juju run-action keystone/2 --wait openstack-upgrade^^^^^^^^^^^^^^^^^^^^ This is the simplest and quickest way to perform the upgrade. This method will cause all of an application's units to be upgraded simultaneously. However, this is likely to cause a service outage. If the application has but a single unit, then this is the only available method: juju config keystone openstack-origin='cloud:xenial-pike' Verify new deployment ~~~~~~~~~~~~~~~~~~~~~ Check for errors in :command:`juju status` output and any monitoring service. Application-specific charm upgrade notes ----------------------------------------.. code:: bash juju config ceph-mon source=cloud:bionic-train juju config ceph-osd source=cloud:bionic-train Known issues affecting OpenStack upgrades ----------------------------------------- Do not attempt to migrate a deployment with existing volumes to use the cinder-ceph charm prior to Ocata. If cinder is directly related to ceph-mon rather than via the cinder-ceph charm then upgrading from Newton to Ocata will result in the loss of some block storage functionality, specifically live migration and snapshotting. To remedy this situation the deployment should migrate to using the cinder-ceph charm, this can be done after the upgrade to Ocata.^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Confirm existing volumes are in rbd pool called 'cinder': .. code:: juju run --unit cinder/0 ""rbd --name client.cinder -p cinder ls"" Sample output: .. code:: volume-b45066d3-931d-406e-a43e-ad4eca12cf34 volume-dd733b26-2c56-4355-a8fc-347a964d5d55^^^^^^^^^^^^^^^^^^^^^^^^^^^ Deploy cinder-ceph charm and set the rbd-pool-name to match the pool that any existing volumes are in (see above): juju deploy --config rbd-pool-name=cinder cs:~openstack-charmers-next/cinder-ceph juju add-relation cinder cinder-ceph juju add-relation cinder-ceph ceph-mon juju remove-relation cinder ceph-mon juju add-relation cinder-ceph nova-compute^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The existing volumes now need to be updated to associate them with the newly defined cinder-ceph backend: juju run-action cinder/0 rename-volume-host currenthost='cinder' \ newhost='cinder@cinder-ceph#cinder.volume.drivers.rbd.RBDDriver'As of Train, the placement API is managed by the new ``placement`` charm and is no longer managed by the ``nova-cloud-controller`` charm. The upgrade to Train.. code:: bash juju deploy --series bionic --config openstack-origin=cloud:bionic-train cs:placement juju run-action nova-cloud-controller/leader pause juju add-relation placement mysql juju add-relation placement keystone juju add-relation placement nova-cloud-controller openstack endpoint list # ensure placement endpoints are listening on new placment IP address juju run-action nova-cloud-controller/leader resume.. code:: bash juju config nova-cloud-controller openstack-origin=cloud:bionic-train .. LINKS .. _Release Notes: https://docs.openstack.org/charm-guide/latest/release-notes.html",".. note:: Upgrading an OpenStack cloud is not without risk; upgrades should be tested in pre-production testing environments prior to production deployment upgrades. Definitions and Terms --------------------- Charm Upgrade ~~~~~~~~~~~~~ This is an upgrade of the charm software which is used to deploy and manage OpenStack. This will include charms that manage applications which are not part of the OpenStack project such as Rabbitmq and MySQL. OpenStack Upgrade ~~~~~~~~~~~~~~~~~ This is an upgrade of the OpenStack software (packages) that are installed and managed by the charms. Ubuntu Server Package Upgrade ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is an upgrade of the Ubuntu packages on the server that are not part of the OpenStack project such as kernel modules, QEMU binaries, KVM kernel module etc. Ubuntu Release Upgrade ~~~~~~~~~~~~~~~~~~~~~~ This is an upgrade from one Ubuntu release to the next. Testing ------- All procedures outlined below should be tested in a non-production environment first. Skipping Releases or Fast Forward UpgradeOcata to Pike, then Pike to Queens, Queens to Rocky and so on.""Fast-forward-upgrade"" is also not supported by the charms. FFU/FFWD is an1. Charm Upgrades -----------------but check the release notes for each release to ensure there are no special requirements. To upgrade a charm that was deployed from the charm store: juju upgrade-charm <charm name> The progress of the upgrade can be monitored by checking the workload status of the charm which can been with **juju status**. Once the upgrade is complete the charm status should contain the message 'Unit is ready'. The version of the deployed software can also been seen from **juju status**: .. code:: bash juju status ... App Version Status Scale Charm Store Rev OS Notes keystone 11.0.3 active 1 keystone local 0 ubuntu ... This shows that the deployed version of keystone is 11.0.3 (Ocata)charm upgrades in series rather than in parallel. After each charm upgrade check for any unforeseen errors reported in **juju status** before proceeding. 2. Pre-Upgrade Tasks -------------------- 2.1 Release Notes ~~~~~~~~~~~~~~~~~ Check the release notes for the charm releases for any special instructions. 2.2 Check current deployment ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Check for any charm errors in **juju status**. If a monitor is in use like Nagios then make sure any alerts have been cleared before proceeding. This is to ensure that alerts after the upgrade are not pre-existing problems. Also ensure that the current charms must not do not contain any customisations since that is not supported and they will be overwritten by the upgrade. 2.3 Database row archiving ~~~~~~~~~~~~~~~~~~~~~~~~~~ During the upgrade, database migrations will be run. These can be significantly sped up by archiving any stale data (such as deleted instances). To perform the archive of nova data run the nova-cloud-controller action: juju run-action nova-cloud-controller/0 archive-data'Nothing was archived' 2.4 Purge old compute service entries ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Old service entries for compute services on units which are no longer part of the model should be purged before upgrade. Any old service entries will show as 'down' and on machines no longer in the model when looking at the current list of compute services: openstack compute service list Services can be removed using the 'compute service delete' command: openstack compute service delete <ID of service> 3. Upgrade Order ---------------- The charms are grouped together below. The ordering of upgrade within a group does not matter but all the charms in each group should be upgraded before moving on to the next group. Any release note guidance overrides the order listed here.4. Performing The Upgrade ------------------------- If the service to be upgraded is in a highly-available cluster then the bestnot clustered then follow the ""Action managed"" instructions. Finally, if there is a single unit then follow ""Application one-shot"". Some parts of the upgrade, like database migrations, only need to run once per application and these tasks are handled by the lead unit. It is advisable that these tasks are run first (this is not applicable for one-shot deployments). To achieve this run the upgrade on the lead unit first. To check which unit is the lead unit either check which unit has a '*' next to it in **juju status** or run: juju run --application application-name is-leader Extra care must be taken when performing OpenStack upgrades in an environment with a converged architecture. If two principle charms have been placed on the same unit (e.g. nova-compute and ceph-osd), then upgrading one of the charms will cause the underlying system to be updated to point at packages from the next Openstack release. If the machine has unattended-upgrades enabled, which is the default in xenial and bionic, the second charm may have its packages updated outside of juju's control. We recommend disabling unattended upgrades for the duration of the upgrade process, and to renable unattended-upgrades once complete. ~~~~~~~~~~~~~~~~~~~~a charm to be removed from service, upgraded and returned to service. juju config nova-cloud-controller action-managed-upgrade=True juju config nova-cloud-controller openstack-origin='cloud:xenial-pike' juju run-action nova-cloud-controller-hacluster/2 --wait pause juju run-action nova-cloud-controller/2 --wait pause juju run-action nova-cloud-controller/2 --wait openstack-upgrade juju run-action nova-cloud-controller/2 --wait resume juju run-action nova-cloud-controller-hacluster/2 --wait resume juju run-action nova-cloud-controller-hacluster/1 --wait pause juju run-action nova-cloud-controller/1 --wait pause juju run-action nova-cloud-controller/1 --wait openstack-upgrade juju run-action nova-cloud-controller/1 --wait resume juju run-action nova-cloud-controller-hacluster/1 --wait resume juju run-action nova-cloud-controller-hacluster/0 --wait pause juju run-action nova-cloud-controller/0 --wait pause juju run-action nova-cloud-controller/0 --wait openstack-upgrade juju run-action nova-cloud-controller/0 --wait resume juju run-action nova-cloud-controller-hacluster/0 --wait resume The hacluster unit numbers may not match the parent unit number. In the example above nova-cloud-controller-hacluster/2 might not be the hacluster subordinate of nova-cloud-controller/2. You should always pause the hacluster subordinate unit respective to the parent unit you wish to upgrade, starting from the leader. ~~~~~~~~~~~~~~one at a time using Juju actions. This allows for rolling upgrades. To use this feature the charm configuration option action-managed-upgrade must be set to True. For example to upgrade a three node keystone service from Ocata to Pike where juju config keystone action-managed-upgrade=True juju config keystone openstack-origin='cloud:xenial-pike' juju run-action keystone/1 --wait openstack-upgrade juju run-action keystone/0 --wait openstack-upgrade juju run-action keystone/2 --wait openstack-upgrade ~~~~~~~~~~~~~~~~~~~~ This is the simplest and quickest way to perform the upgrade. Using this method will cause all the units in the application to be upgraded at the same time. This is likely to cause a service outage while the upgrade completes. If there is only one unit in the application then this is the only option. juju config keystone openstack-origin='cloud:xenial-pike' 5. Post-Upgrade Tasks --------------------- Check **juju status** and any monitoring solution for errors. Application-specific Upgrade notes ----------------------------------.. code:: juju config ceph-mon source=cloud:bionic-train juju config ceph-osd source=cloud:bionic-train Known Issues to be aware of during Upgrades ------------------------------------------- Before doing an *OpenStack* upgrade (rather than a charm upgrade), the release notes for the original and target versions of OpenStack should be read. In particular pay attention to services or configuration parameters that have retired, deprecated or changed. Wherever possible, the latest version of a charm has code to handle almost all changes such that the resultant system should be configured in the same way. However, removed, added or replaced services **will** require manual intervention. When charms *can't* perform a change, either due to a bug in the charm (i.e. a system configuration that the charms haven't been programmed to handle) or because *at the individual charm level* the charm can't change the service (i.e. when a service is replaced with another service, a *different* charm would be needed). However, the following list is known issues that an operator may encounter that the charm does not automatically take care of, along with mitigation strategies to resolve the situation. Do not attempt to migrate a deployment with existing volumes to use the cinder-ceph charm prior to Ocata. If cinder is directly related to ceph-mon rather than via the cinder-ceph charm then upgrading from Newton to Ocata will result in the loss of some block storage functionality, specifically live migration and snapshotting. To remedy this situation the deployment should migrate to using the cinder-ceph charm, this can be done after the upgrade to Ocata.++++++++++++++++++++++++++++++++++++ Confirm existing volumes are in rbd pool called 'cinder' .. code:: bash $ juju run --unit cinder/0 ""rbd --name client.cinder -p cinder ls"" volume-b45066d3-931d-406e-a43e-ad4eca12cf34 volume-dd733b26-2c56-4355-a8fc-347a964d5d55+++++++++++++++++++++++++++ Deploy cinder-ceph charm and set the rbd-pool-name to match the pool that any existing volumes are in (see above): juju deploy --config rbd-pool-name=cinder cs:~openstack-charmers-next/cinder-ceph juju add-relation cinder cinder-ceph juju add-relation cinder-ceph ceph-mon juju remove-relation cinder ceph-mon juju add-relation cinder-ceph nova-compute+++++++++++++++++++++++++++++++++++ The existing volumes now need to be updated to associate them with the newly defined cinder-ceph backend: juju run-action cinder/0 rename-volume-host currenthost='cinder' \ newhost='cinder@cinder-ceph#cinder.volume.drivers.rbd.RBDDriver'As of Train, the placement API is managed by the new placement charm and is no longer managed by the nova-cloud-controller charm. The upgrade to Train.. code:: juju deploy --series bionic --config openstack-origin=cloud:bionic-train cs:placement juju run-action nova-cloud-controller/leader pause juju add-relation placement mysql juju add-relation placement keystone juju add-relation placement nova-cloud-controller openstack endpoint list # ensure placement endpoints are listening on new placment IP address juju run-action nova-cloud-controller/leader resume.. code:: juju config nova-cloud-controller openstack-origin=cloud:bionic-train",222,227
openstack%2Fcharm-deployment-guide~master~Iab0807cd5079a030a4dc367366713ef04227ce42,openstack/charm-deployment-guide,master,Iab0807cd5079a030a4dc367366713ef04227ce42,Review installing OpenStack from a bundle,MERGED,2019-11-12 22:26:34.000000000,2019-11-15 13:11:53.000000000,2019-11-15 13:10:54.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 22:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ff53359c07cea31002adf1f5589a23f17bad7789', 'message': ""Review installing OpenStack from a bundle\n\nI don't mind moving the majority of the bundle's\nREADME to this guide instead but I don't want to\nduplicate instructions.\n\nThe configure aspect of this is also awkward as\nthe README provides network configuration via\n(currently broken) scripts (see https://is.gd/IFCo91).\nShould we forgo that and force people to use the\nguide's configure page? Will that apply cleanly\nto this bundle's resultant cloud?\n\nRelated-Bug: #1833709\nCloses-Bug: #1833533\n\nChange-Id: Iab0807cd5079a030a4dc367366713ef04227ce42\n""}, {'number': 2, 'created': '2019-11-12 22:29:39.000000000', 'files': ['deploy-guide/source/install-openstack-bundle.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/63ae35300d18979d69c36e7ecd434a86e09d8fe0', 'message': ""Review installing OpenStack from a bundle\n\nI don't mind moving the majority of the bundle's\nREADME to this guide instead but I don't want to\nduplicate instructions.\n\nThe configure aspect of this is also awkward as\nthe README provides network configuration via\n(currently broken) scripts (see https://is.gd/IFCo91).\nShould we forgo that and force people to use the\nguide's configure page? Will that apply cleanly\nto this bundle's resultant cloud? See this bug\nfor related brokenness: https://pad.lv/1833709.\n\nCloses-Bug: #1833533\n\nChange-Id: Iab0807cd5079a030a4dc367366713ef04227ce42\n""}]",0,693942,63ae35300d18979d69c36e7ecd434a86e09d8fe0,8,2,2,30561,,,0,"Review installing OpenStack from a bundle

I don't mind moving the majority of the bundle's
README to this guide instead but I don't want to
duplicate instructions.

The configure aspect of this is also awkward as
the README provides network configuration via
(currently broken) scripts (see https://is.gd/IFCo91).
Should we forgo that and force people to use the
guide's configure page? Will that apply cleanly
to this bundle's resultant cloud? See this bug
for related brokenness: https://pad.lv/1833709.

Closes-Bug: #1833533

Change-Id: Iab0807cd5079a030a4dc367366713ef04227ce42
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/42/693942/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/install-openstack-bundle.rst'],1,ff53359c07cea31002adf1f5589a23f17bad7789,bug/1833533,"===============================A Juju charm *bundle* is an encapsulation of a multitude of charm deployments, and includes all the associated relations and configurations that are required (see `Charm bundles`_ in the Juju documentation). It is possible to therefore install OpenStack from a bundle. .. tip:: The `Install OpenStack`_ page shows how to install by deploying, configuring, and relating applications on an individual basis using Juju. It is the recommended install method for getting a high level view of how OpenStack is put together. It also provides an opportunity to gain experience with Juju, which will in turn prepare you for post-deployment management of the cloud. The bundle featured here provides a minimal OpenStack cloud and assumes that `MAAS`_ is used as a backing cloud to Juju. Due to unknown factors in the local environment (usually hardware-related) the bundle will most likely need to be modified prior to deployment. The bundle and its deployment are described in great detail in its Charm Store entry here: `openstack-base`_. Once the bundle configuration has been confirmed OpenStack can be deployed: .. code-block:: console juju deploy /path/to/bundle/file The time required for the install to complete will depend on the hardware capabilities of the underlying MAAS nodes. Once finished, you should go on to `Configure OpenStack`_ if not already done. Finally, once cloud functionality has been verified see the `OpenStack Administrator Guides`_ for long-term guidance. .. LINKS .. _Install OpenStack: install-openstack .. _Configure OpenStack: config-openstack .. _Charm bundles: https://jaas.ai/docs/charm-bundles .. _MAAS: https://maas.io .. _openstack-base: https://jaas.ai/openstack-base .. _OpenStack Administrator Guides: http://docs.openstack.org/admin",":doc:`Stepping through the deployment <install-openstack>` of each OpenStack application is the best way to understanding how OpenStack and Juju operate, and how each application relates to one another. But it's a labour intensive process. A bundle allows you to accomplish the same deployment with a single command: .. code:: bash juju deploy openstack.bundle A `bundle <https://jujucharms.com/docs/stable/charms-bundles>`__, as used above, encapsulates the entire deployment process, including all applications, their configuration parameters and any relations that need to be made. Generally, you can use a local file, as above, or deploy a curated bundle from the `charm store <https://jujucharms.com/store>`__. For our project, `download <https://api.jujucharms.com/charmstore/v5/openstack-base/archive>`__ the `OpenStack <https://jujucharms.com/openstack-base/>`__ and deploy OpenStack using the above command. .. note:: You will probably need to edit the bundle information to match the actual hardware that you have. The speed of the deployment depends on your hardware, but may take some time. Monitor the output of ``juju status`` to see when everything is ready. Next steps ---------- See the :ref:`Install OpenStack <test_openstack>` documentation for details on testing your OpenStack deployment, or jump directly to :doc:`Configure OpenStack <config-openstack>` to start using OpenStack productively as quickly as possible. .. raw:: html <!-- LINKS -->",32,32
openstack%2Fkolla-ansible~stable%2Ftrain~Id611fd2fa71eb54ca08d1f68de9505d28ad4ea40,openstack/kolla-ansible,stable/train,Id611fd2fa71eb54ca08d1f68de9505d28ad4ea40,CI: Don't always build images for Debian,MERGED,2019-11-14 12:01:38.000000000,2019-11-15 13:02:06.000000000,2019-11-15 13:00:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 12:01:38.000000000', 'files': ['tests/run.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15370e94f7eaa0e894a035ab7331515b4a95d8ff', 'message': ""CI: Don't always build images for Debian\n\nDebian source images are published now.\n\nChange-Id: Id611fd2fa71eb54ca08d1f68de9505d28ad4ea40\n(cherry picked from commit e18e40eb6a374eff57c19989217cd8afbce45a25)\n""}]",0,694268,15370e94f7eaa0e894a035ab7331515b4a95d8ff,8,3,1,14826,,,0,"CI: Don't always build images for Debian

Debian source images are published now.

Change-Id: Id611fd2fa71eb54ca08d1f68de9505d28ad4ea40
(cherry picked from commit e18e40eb6a374eff57c19989217cd8afbce45a25)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/694268/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'zuul.d/jobs.yaml']",2,15370e94f7eaa0e894a035ab7331515b4a95d8ff,,, required-projects: - openstack/kolla,0,9
openstack%2Fglance-specs~master~I336af638d44bdc3056d0ac60d764339f53be7e4a,openstack/glance-specs,master,I336af638d44bdc3056d0ac60d764339f53be7e4a,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:38:01.000000000,2019-11-15 13:01:27.000000000,,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 23294}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 11:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/361371d96ed003687352aa7ebfd738e701e9a66e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I336af638d44bdc3056d0ac60d764339f53be7e4a\n'}, {'number': 2, 'created': '2019-06-28 13:14:52.000000000', 'files': ['doc/source/index.rst', 'specs/template.rst', 'specs/newton/approved/glance/lite-specs.rst', 'specs/liberty/approved/image-signing-and-verification-support.rst', 'specs/pike/implemented/glance/add-protected-filter.rst', 'specs/mitaka/approved/swift-multi-tenant-store-service-token-support.rst', 'specs/juno/metadata-schema-catalog.rst', 'specs/ocata/implemented/glance/alembic-migrations.rst', 'specs/rocky/approved/glance/image-import/image-import-refactor.rst', 'specs/ocata/implemented/glance/lite-specs.rst', 'specs/mitaka/implemented/image-signing-and-verification-support.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/c0a7af09c07317b7d1c7c6fcf0b28cd72819f84f', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I336af638d44bdc3056d0ac60d764339f53be7e4a\n'}]",17,655005,c0a7af09c07317b7d1c7c6fcf0b28cd72819f84f,14,10,2,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I336af638d44bdc3056d0ac60d764339f53be7e4a
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/05/655005/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/template.rst', 'specs/newton/approved/glance/lite-specs.rst', 'specs/liberty/approved/image-signing-and-verification-support.rst', 'specs/mitaka/approved/swift-multi-tenant-store-service-token-support.rst', 'specs/pike/implemented/glance/add-protected-filter.rst', 'specs/juno/metadata-schema-catalog.rst', 'specs/ocata/implemented/glance/alembic-migrations.rst', 'specs/ocata/implemented/glance/lite-specs.rst', 'specs/rocky/approved/glance/image-import/image-import-refactor.rst', 'specs/mitaka/implemented/image-signing-and-verification-support.rst']",11,361371d96ed003687352aa7ebfd738e701e9a66e,,[3] http://opendev.org/openstack/castellan,[3] http://git.openstack.org/cgit/openstack/castellan,14,14
openstack%2Fnova~master~I644608b4e197ddea31c5f264adb492f2c8931f04,openstack/nova,master,I644608b4e197ddea31c5f264adb492f2c8931f04,Add functional recreate test for bug 1852610,MERGED,2019-11-14 16:39:57.000000000,2019-11-15 12:59:22.000000000,2019-11-15 12:56:11.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-14 16:39:57.000000000', 'files': ['nova/tests/functional/wsgi/test_services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/94d3743b185d22c07504f5d878dff2f9ef42cee3', 'message': 'Add functional recreate test for bug 1852610\n\nIt is possible to delete a source compute service which has\npending migration-based allocations and servers in VERIFY_RESIZE\nstatus. Doing so deletes the compute service and compute node\nbut orphans the source node resource provider along with its\nresource allocations held by the migration record while there\nis a pending resized server.\n\nThis adds a simple cold migrate test which deletes the source\ncompute service while the server is in VERIFY_RESIZE status and\nthen tries to confirm the resize which fails.\n\nChange-Id: I644608b4e197ddea31c5f264adb492f2c8931f04\nRelated-Bug: #1852610\n'}]",1,694351,94d3743b185d22c07504f5d878dff2f9ef42cee3,15,9,1,6873,,,0,"Add functional recreate test for bug 1852610

It is possible to delete a source compute service which has
pending migration-based allocations and servers in VERIFY_RESIZE
status. Doing so deletes the compute service and compute node
but orphans the source node resource provider along with its
resource allocations held by the migration record while there
is a pending resized server.

This adds a simple cold migrate test which deletes the source
compute service while the server is in VERIFY_RESIZE status and
then tries to confirm the resize which fails.

Change-Id: I644608b4e197ddea31c5f264adb492f2c8931f04
Related-Bug: #1852610
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/694351/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/wsgi/test_services.py'],1,94d3743b185d22c07504f5d878dff2f9ef42cee3,bug/1852610," def test_migrate_confirm_after_deleted_source_compute(self): """"""Tests a scenario where a server is cold migrated and while in VERIFY_RESIZE status the admin attempts to delete the source compute and then the user tries to confirm the resize. """""" # Start a compute service and create a server there. self._start_compute('host1') host1_rp_uuid = self._get_provider_uuid_by_host('host1') flavor = self.api.get_flavors()[0] server = self._boot_and_check_allocations(flavor, 'host1') # Start a second compute service so we can cold migrate there. self._start_compute('host2') host2_rp_uuid = self._get_provider_uuid_by_host('host2') # Cold migrate the server to host2. self._migrate_and_check_allocations( server, flavor, host1_rp_uuid, host2_rp_uuid) # Delete the source compute service. service = self.admin_api.get_services( binary='nova-compute', host='host1')[0] self.admin_api.api_delete('/os-services/%s' % service['id']) # FIXME(mriedem): This is bug 1852610 where the compute service is # deleted but the resource provider is not because there are still # migration-based allocations against the source node provider. resp = self.placement_api.get('/resource_providers/%s' % host1_rp_uuid) self.assertEqual(200, resp.status) self.assertFlavorMatchesUsage(host1_rp_uuid, flavor) # Now try to confirm the migration. # FIXME(mriedem): This will fail until bug 1852610 is fixed and the # source compute service delete is blocked while there is an # in-progress migration involving the node. self.assertNotIn('ComputeHostNotFound', self.stdlog.logger.output) self.api.post_server_action(server['id'], {'confirmResize': None}) self._wait_for_state_change(self.api, server, 'ERROR') self.assertIn('ComputeHostNotFound', self.stdlog.logger.output) ",,35,0
openstack%2Fpython-barbicanclient~master~I9c8135054f6248a50a5c7b93b1cfeb14abf55418,openstack/python-barbicanclient,master,I9c8135054f6248a50a5c7b93b1cfeb14abf55418,Add [testenv:releasenotes] to tox.ini,ABANDONED,2019-06-25 08:21:00.000000000,2019-11-15 12:55:04.000000000,,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-25 08:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/4f16f7d780a64faffde98cf1e6f3a749112aecb5', 'message': 'Add [testenv:releasenotes] to tox.ini\n\nChange-Id: I9c8135054f6248a50a5c7b93b1cfeb14abf55418\n'}, {'number': 2, 'created': '2019-06-26 01:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/1d2877d46a8ec37cd9ea4d160f63213339a7661f', 'message': 'Add [testenv:releasenotes] to tox.ini\n\nChange-Id: I9c8135054f6248a50a5c7b93b1cfeb14abf55418\n'}, {'number': 3, 'created': '2019-09-19 03:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/5355122b27b1bce954fcefd1e234acbce7786ea9', 'message': 'Add [testenv:releasenotes] to tox.ini\n\nChange-Id: I9c8135054f6248a50a5c7b93b1cfeb14abf55418\n'}, {'number': 4, 'created': '2019-10-08 07:55:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/5afa77cfa9cce3d8a039ca9815ed0d05962b3378', 'message': 'Add [testenv:releasenotes] to tox.ini\n\nChange-Id: I9c8135054f6248a50a5c7b93b1cfeb14abf55418\n'}]",2,667285,5afa77cfa9cce3d8a039ca9815ed0d05962b3378,16,3,4,27822,,,0,"Add [testenv:releasenotes] to tox.ini

Change-Id: I9c8135054f6248a50a5c7b93b1cfeb14abf55418
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/85/667285/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4f16f7d780a64faffde98cf1e6f3a749112aecb5,Bug#1,[testenv:releasenotes] basepython = python3 deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ,,6,0
openstack%2Fneutron~stable%2Fqueens~I833b07fdbb4a57bdf8bd4255e61098ec512d1a5b,openstack/neutron,stable/queens,I833b07fdbb4a57bdf8bd4255e61098ec512d1a5b,TEST!,ABANDONED,2019-11-13 11:24:47.000000000,2019-11-15 12:53:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-13 11:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1436cea409d1699afb0d0efd0aceaebbf9157a50', 'message': ""TEST!\n\nobjects: don't refetch a non-list object field if it's None\nWhen an object field has the value of corresponding model attribute set to\nNone, it means that it's indeed unset, and there is no need to refetch it from\nthe database (it will still be None).\n\nThis becomes a more noticeable problem when we introduce security field to\nNetwork (part of I57395d0f646ffa3089c1ac6c5a68d952ccd0b42c) that is exactly\nthis type of field, because with the auto-expiry patch included\n(I0d65d19204da8ce30addfa5faff68544534b7853) those redundant fetches trigger\nactual SELECT statements that affect performance and break\ntest_get_objects_queries_constant regression test case.\n\nThe patch also changes the type of 'distributed_binding' Port object field from\nObjectField to ListOfObjectFields, and also renames the field into\n'distributed_bindings' to reflect actual possibilities allowed by database\nschema. Note this patch is NOT expected to enable actual support for multiple\nbinding values, which would belong to a separate patch, but just attempts to\napply the minimal needed changes required because of the other changes included\nwhile making sure that consequent changes for the field don't need to change\nobject definition.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\nChange-Id: I833b07fdbb4a57bdf8bd4255e61098ec512d1a5b\n(cherry picked from commit 752c33e92b13758acfae56657b90e5dfbe73df62)\n""}, {'number': 2, 'created': '2019-11-14 09:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eeb82d3eeaf3ba22e3324de4d5c8fe056728d16b', 'message': ""TEST!\n\nobjects: don't refetch a non-list object field if it's None\nWhen an object field has the value of corresponding model attribute set to\nNone, it means that it's indeed unset, and there is no need to refetch it from\nthe database (it will still be None).\n\nThis becomes a more noticeable problem when we introduce security field to\nNetwork (part of I57395d0f646ffa3089c1ac6c5a68d952ccd0b42c) that is exactly\nthis type of field, because with the auto-expiry patch included\n(I0d65d19204da8ce30addfa5faff68544534b7853) those redundant fetches trigger\nactual SELECT statements that affect performance and break\ntest_get_objects_queries_constant regression test case.\n\nThe patch also changes the type of 'distributed_binding' Port object field from\nObjectField to ListOfObjectFields, and also renames the field into\n'distributed_bindings' to reflect actual possibilities allowed by database\nschema. Note this patch is NOT expected to enable actual support for multiple\nbinding values, which would belong to a separate patch, but just attempts to\napply the minimal needed changes required because of the other changes included\nwhile making sure that consequent changes for the field don't need to change\nobject definition.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\nChange-Id: I833b07fdbb4a57bdf8bd4255e61098ec512d1a5b\n(cherry picked from commit 752c33e92b13758acfae56657b90e5dfbe73df62)\n""}, {'number': 3, 'created': '2019-11-15 09:20:32.000000000', 'files': ['neutron/objects/base.py', 'neutron/objects/ports.py', 'neutron/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c4586c919b93d62593136f0a008c8e6e6d4497e', 'message': ""TEST!\n\nobjects: don't refetch a non-list object field if it's None\nWhen an object field has the value of corresponding model attribute set to\nNone, it means that it's indeed unset, and there is no need to refetch it from\nthe database (it will still be None).\n\nThis becomes a more noticeable problem when we introduce security field to\nNetwork (part of I57395d0f646ffa3089c1ac6c5a68d952ccd0b42c) that is exactly\nthis type of field, because with the auto-expiry patch included\n(I0d65d19204da8ce30addfa5faff68544534b7853) those redundant fetches trigger\nactual SELECT statements that affect performance and break\ntest_get_objects_queries_constant regression test case.\n\nThe patch also changes the type of 'distributed_binding' Port object field from\nObjectField to ListOfObjectFields, and also renames the field into\n'distributed_bindings' to reflect actual possibilities allowed by database\nschema. Note this patch is NOT expected to enable actual support for multiple\nbinding values, which would belong to a separate patch, but just attempts to\napply the minimal needed changes required because of the other changes included\nwhile making sure that consequent changes for the field don't need to change\nobject definition.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\nChange-Id: I833b07fdbb4a57bdf8bd4255e61098ec512d1a5b\n(cherry picked from commit 752c33e92b13758acfae56657b90e5dfbe73df62)\n""}]",0,694046,3c4586c919b93d62593136f0a008c8e6e6d4497e,10,2,3,5948,,,0,"TEST!

objects: don't refetch a non-list object field if it's None
When an object field has the value of corresponding model attribute set to
None, it means that it's indeed unset, and there is no need to refetch it from
the database (it will still be None).

This becomes a more noticeable problem when we introduce security field to
Network (part of I57395d0f646ffa3089c1ac6c5a68d952ccd0b42c) that is exactly
this type of field, because with the auto-expiry patch included
(I0d65d19204da8ce30addfa5faff68544534b7853) those redundant fetches trigger
actual SELECT statements that affect performance and break
test_get_objects_queries_constant regression test case.

The patch also changes the type of 'distributed_binding' Port object field from
ObjectField to ListOfObjectFields, and also renames the field into
'distributed_bindings' to reflect actual possibilities allowed by database
schema. Note this patch is NOT expected to enable actual support for multiple
binding values, which would belong to a separate patch, but just attempts to
apply the minimal needed changes required because of the other changes included
while making sure that consequent changes for the field don't need to change
object definition.

Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
Change-Id: I833b07fdbb4a57bdf8bd4255e61098ec512d1a5b
(cherry picked from commit 752c33e92b13758acfae56657b90e5dfbe73df62)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/694046/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/base.py', 'neutron/objects/ports.py', 'neutron/tests/unit/objects/test_objects.py']",3,1436cea409d1699afb0d0efd0aceaebbf9157a50,bp/adopt-oslo-versioned-objects-for-db," 'Port': '1.2-4cb798ffc8b08f2657c0bd8afa708e9e',"," 'Port': '1.1-5bf48d12a7bf7f5b7a319e8003b437a5',",37,25
openstack%2Fneutron-fwaas-dashboard~master~Ief9a8fd7a67b3744e01ad65609b126a18177d1e7,openstack/neutron-fwaas-dashboard,master,Ief9a8fd7a67b3744e01ad65609b126a18177d1e7,Imported Translations from Zanata,MERGED,2019-11-15 10:36:57.000000000,2019-11-15 12:48:15.000000000,2019-11-15 12:46:12.000000000,"[{'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 10:36:57.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/fd90544deca36667b06ff55931e321ed315a7210', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ief9a8fd7a67b3744e01ad65609b126a18177d1e7\n'}]",0,694509,fd90544deca36667b06ff55931e321ed315a7210,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ief9a8fd7a67b3744e01ad65609b126a18177d1e7
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/09/694509/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,fd90544deca36667b06ff55931e321ed315a7210,zanata/translations,"""POT-Creation-Date: 2019-10-21 14:11+0000\n""""PO-Revision-Date: 2019-11-14 11:20+0000\n""msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" ","""POT-Creation-Date: 2019-03-06 13:28+0000\n""""PO-Revision-Date: 2019-03-06 03:26+0000\n""",8,2
openstack%2Fgovernance~master~I1ba531a91c0ac5ab4b560f0b60d1363aa2b74b74,openstack/governance,master,I1ba531a91c0ac5ab4b560f0b60d1363aa2b74b74,"Name releases after cities with 100,000+ inhabitants",ABANDONED,2019-10-10 02:08:36.000000000,2019-11-15 12:47:19.000000000,,"[{'_account_id': 308}, {'_account_id': 4257}, {'_account_id': 7198}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 02:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a762e533d27cf6c2d31eb7d8cd30a7656fedd204', 'message': 'Name releases after cities with 100,000+ inhabitants\n\nThis is an attempt to make the OpenStack name selection process\nsignificantly easier and less controversial by using a dictionary of\npossibilities furnished by a third party as the list of available\noptions for each OpenStack release name.  This also preserves the use of\ngeographic names for releases.\n\nThis change proposes that after V (for which we should just pick\nVancouver, if only to bring closure to the naming model that started\nin Austin), we switch to naming releases from the dynamically\nconstructed list of cities with populations greater than 100,000\nprovided by Wikipedia.\n\nChange-Id: I1ba531a91c0ac5ab4b560f0b60d1363aa2b74b74\n'}, {'number': 2, 'created': '2019-10-10 02:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a5580555522a4b83dd1aaa7fdd32bc6bf4774207', 'message': 'Name releases after cities with 100,000+ inhabitants\n\nThis is an attempt to make the OpenStack name selection process\nsignificantly easier and less controversial by using a dictionary of\npossibilities furnished by a third party as the list of available\noptions for each OpenStack release name.  This also preserves the use of\ngeographic names for releases.\n\nThis change proposes that after V (for which we should just pick\nVancouver, if only to bring closure to the naming model that started\nin Austin), we switch to naming releases from the dynamically\nconstructed list of cities with populations greater than 100,000\nprovided by Wikipedia.\n\nChange-Id: I1ba531a91c0ac5ab4b560f0b60d1363aa2b74b74\n'}, {'number': 3, 'created': '2019-10-10 11:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/b4cc26ebcec9d9ae85b67d34ebe8f0b40b3d91dc', 'message': 'Name releases after cities with 100,000+ inhabitants\n\nThis is an attempt to make the OpenStack name selection process\nsignificantly easier and less controversial by using a dictionary of\npossibilities furnished by a third party as the list of available\noptions for each OpenStack release name.  This also preserves the use of\ngeographic names for releases.\n\nThis change proposes that after V (for which we should just pick\nVancouver, if only to bring closure to the naming model that started\nin Austin), we switch to naming releases from the dynamically\nconstructed list of cities with populations greater than 100,000\nprovided by Wikipedia.\n\nChange-Id: I1ba531a91c0ac5ab4b560f0b60d1363aa2b74b74\n'}, {'number': 4, 'created': '2019-10-17 18:01:42.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/99b5180879e09c25418275c90ca6f734c317a564', 'message': 'Name releases after cities with 100,000+ inhabitants\n\nThis is an attempt to make the OpenStack name selection process\nsignificantly easier and less controversial by using a dictionary of\npossibilities furnished by a third party as the list of available\noptions for each OpenStack release name.  This also preserves the use of\ngeographic names for releases.\n\nThis change proposes that after V (for which we should just pick\nVancouver, if only to bring closure to the naming model that started\nin Austin), we switch to naming releases from the dynamically\nconstructed list of cities with populations greater than 100,000\nprovided by Wikipedia.\n\nChange-Id: I1ba531a91c0ac5ab4b560f0b60d1363aa2b74b74\n'}]",19,687764,99b5180879e09c25418275c90ca6f734c317a564,37,11,4,13995,,,0,"Name releases after cities with 100,000+ inhabitants

This is an attempt to make the OpenStack name selection process
significantly easier and less controversial by using a dictionary of
possibilities furnished by a third party as the list of available
options for each OpenStack release name.  This also preserves the use of
geographic names for releases.

This change proposes that after V (for which we should just pick
Vancouver, if only to bring closure to the naming model that started
in Austin), we switch to naming releases from the dynamically
constructed list of cities with populations greater than 100,000
provided by Wikipedia.

Change-Id: I1ba531a91c0ac5ab4b560f0b60d1363aa2b74b74
",git fetch https://review.opendev.org/openstack/governance refs/changes/64/687764/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,a762e533d27cf6c2d31eb7d8cd30a7656fedd204,formal-vote,"The first release of OpenStack was named after the city where the first design summit happened (Austin), so we started with a tradition of naming after cities linked to our events, then geographical features close to where events happened. This created unnecessary tension as officials had to decide of a scope and then vet proposals against that scope. As we reduce our number of events, and enter the rare letters part of the alphabet, those tensions are likely to be exacerbated. This new process aims at preserving the fun part while reducing the likelihood for tension. For 'V', we will pick 'Vancouver'. This is a direct match with the city where the next event will happen, and provides a form of closure for a way of naming that started in Austin. Starting with W until Z, then rolling over back to A, we will use the following process: #. The process to choose the name for a release begins at milestone-1 of release N-2. Example: we should start the W naming process at ussuri-1. That will allow us to have a clear way to designate the next two releases, without waiting for external events like event location announcements. #. The Technical Committee will designate an official to be responsible for announcing and executing the release naming process. OpenStack wiki. The naming official will check that proposed names fit the objective criteria, and remove the ones that do not fit. #. The community may identify any names of particular concern from a marketing or cultural standpoint and discuss such issues publicly on the OpenStack mailing list. This information will be communicated during the election, but the names will not be removed from the poll. discussions provided by the community. basic Latin alphabet. #. The name must appear in the Wikipedia page that lists cities of population greater than 100,000 inhabitants whose name starts with the specified letter. There is no requirement that the location of the city bear any relation to the geography or environs of the OpenStack summit for the corresponding release.Links to Letter-Specific City Lists ----------------------------------- `A <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_A>`_ - `B <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_B>`_ - `C <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_C>`_ - `D <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_D>`_ - `X <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_A>`_ - `X <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_A>`_ - `E <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_E>`_ - `F <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_F>`_ - `G <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_G>`_ - `H <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_H>`_ - `I <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_I>`_ - `J <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_J>`_ - `K <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_K>`_ - `L <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_L>`_ - `M <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_M>`_ - `N <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_N>`_ - `O <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_O>`_ - `P <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_P>`_ - `Q <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_Q>`_ - `R <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_R>`_ - `S <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_S>`_ - `T <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_T>`_ - `U <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_U>`_ - `V <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_V>`_ - `W <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_W>`_ - `X <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_X>`_ - `Y <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_Y>`_ - `Z <https://en.wikipedia.org/wiki/List_of_towns_and_cities_with_100,000_or_more_inhabitants/cityname:_Z>`_","The Technical Committee will designate an official to be responsible for executing the release naming process, which consists of the following steps: #. The process to chose the name for a release begins once the location of the summit that takes place during the development cycle of the release to be named is announced. OpenStack wiki. #. The marketing community may identify any names of particular concern from a marketing standpoint and discuss such issues publicly on the Marketing mailing list. The marketing community may produce a list of problematic items (with citations to the mailing list discussion of the rationale) to the election official. This information will be communicated during the election, but the names will not be removed from the poll. #. After the close of nominations, the election official will finalize the list of proposed names and publicize it. In general, the official should strive to make objective determinations as to whether a name meets the `Release Name Criteria`_, but if subjective evaluation is required, should be generous in interpreting the rules. It is not necessary to reduce the list of proposed names to a small number. #. The election official, in consultation with the TC, should remove from the list any name that feedback suggests would be culturally inappropriate in any sector of the OpenStack community. The purpose of naming the release after a geographical feature is in part to honor the host city, and we owe it to our hosts not to associate them with terms that unwittingly conflict with the `Code of Conduct <https://www.openstack.org/legal/community-code-of-conduct/>`_'s goal to be considerate once we are aware of them. #. Once the list is finalized and publicized, a one-week period shall elapse before the start of the election so that any names removed from consideration because they did not meet the `Release Name Criteria`_ may be discussed. Names erroneously removed may be re-added during this period, and the Technical Committee may vote to add exceptional names (which do not meet the standard criteria). discussions provided by the marketing community. basic Latin alphabet. Names which can be transliterated into this character set are also acceptable. #. The name must refer to the physical or human geography of the region encompassing the location of the OpenStack summit for the corresponding release. The exact boundaries of the geographic region under consideration must be declared before the opening of nominations, as part of the initiation of the selection process.#. The name must refer to the *name* of the geographic feature, not merely describe the generic type of geographic feature (e.g. ""City"" or ""Peak"" would not be eligible in the above example). This does not prevent an otherwise eligible name that also happens to be another type of geographic feature (e.g. ""Hill Street"" would be eligible as ""Hill"", but not as ""Street""). Names which do not meet these criteria but otherwise sound really cool should be added to a separate section of the wiki page and the TC may make an exception for one or more of them to be considered in the Condorcet poll. The naming official is responsible for presenting the list of exceptional names for consideration to the TC before the poll opens. Polls ----- ======= ============= ================ ========== ========== ================== Release Coordinator Nominations Open Poll Open Poll Close Geographic Region ======= ============= ================ ========== ========== ================== M Monty Taylor 2015-06-01 2015-06-08 2015-06-15 Tokyo N Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Texas Hill Country O Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Catalonia P Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New England Q Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New South Wales R Monty Taylor 2017-03-22 2017-04-05 2017-04-12 British Columbia S Paul Belanger 2018-02-21 2018-03-14 2018-03-21 Berlin T Tony Breeds 2018-09-15 2018-10-15 2018-10-22 Colorado U Rico Lin 2019-07-01 2019-08-12 2019-08-19 China ======= ============= ================ ========== ========== ==================",68,75
openstack%2Fnetworking-odl~master~Ibc2a5337a54eff5b595a760df764074c97dc10fa,openstack/networking-odl,master,Ibc2a5337a54eff5b595a760df764074c97dc10fa,Bump pylint version to one that supports python3.7,MERGED,2019-09-19 13:18:44.000000000,2019-11-15 12:43:27.000000000,2019-11-15 12:42:02.000000000,"[{'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25550}]","[{'number': 1, 'created': '2019-09-19 13:18:44.000000000', 'files': ['.pylintrc', 'test-requirements.txt', 'networking_odl/common/callback.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f8336170a0c5c51c80c5706f17df1965b182260a', 'message': 'Bump pylint version to one that supports python3.7\n\nChange-Id: Ibc2a5337a54eff5b595a760df764074c97dc10fa\n'}]",0,683151,f8336170a0c5c51c80c5706f17df1965b182260a,16,7,1,8313,,,0,"Bump pylint version to one that supports python3.7

Change-Id: Ibc2a5337a54eff5b595a760df764074c97dc10fa
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/51/683151/1 && git format-patch -1 --stdout FETCH_HEAD,"['.pylintrc', 'test-requirements.txt', 'networking_odl/common/callback.py']",3,f8336170a0c5c51c80c5706f17df1965b182260a,use-latest-odl_and_python3, 'exc_info': lvl >= logging.ERROR}), 'exc_info': True if lvl >= logging.ERROR else False}),15,3
openstack%2Fnetworking-hyperv~stable%2Frocky~Ic36d405b7163eaeb71f53a56a386bc42094d58fa,openstack/networking-hyperv,stable/rocky,Ic36d405b7163eaeb71f53a56a386bc42094d58fa,"Update RPC call, allowing the agent to retrieve port info",MERGED,2019-11-15 10:24:26.000000000,2019-11-15 12:29:20.000000000,2019-11-15 12:29:20.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 10:24:26.000000000', 'files': ['networking_hyperv/neutron/agent/layer2.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/4bc34c3178e31b78df186ff82dcc5c2bd602ec59', 'message': 'Update RPC call, allowing the agent to retrieve port info\n\nThe host argument used when calling ""get_devices_details_list"" used\nto be optional until Rocky. The Hyper-V agent isn\'t passing this host\nargument, preventing it from getting port details from the Neutron\nserver, thus failing to process those ports.\n\nThis change updates this RPC call accordingly.\n\nChange-Id: Ic36d405b7163eaeb71f53a56a386bc42094d58fa\nCloses-Bug: #1852612\n(cherry picked from commit 1b1ee11fb075f489d497579a3d75a8060abae15f)\n'}]",0,694503,4bc34c3178e31b78df186ff82dcc5c2bd602ec59,6,2,1,8543,,,0,"Update RPC call, allowing the agent to retrieve port info

The host argument used when calling ""get_devices_details_list"" used
to be optional until Rocky. The Hyper-V agent isn't passing this host
argument, preventing it from getting port details from the Neutron
server, thus failing to process those ports.

This change updates this RPC call accordingly.

Change-Id: Ic36d405b7163eaeb71f53a56a386bc42094d58fa
Closes-Bug: #1852612
(cherry picked from commit 1b1ee11fb075f489d497579a3d75a8060abae15f)
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/03/694503/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_hyperv/neutron/agent/layer2.py'],1,4bc34c3178e31b78df186ff82dcc5c2bd602ec59,bug/1852612-stable/stein-stable/rocky," self._context, self._added_ports, self._agent_id, self._host)"," self._context, self._added_ports, self._agent_id)",1,1
openstack%2Fnetworking-hyperv~stable%2Fstein~Ic36d405b7163eaeb71f53a56a386bc42094d58fa,openstack/networking-hyperv,stable/stein,Ic36d405b7163eaeb71f53a56a386bc42094d58fa,"Update RPC call, allowing the agent to retrieve port info",MERGED,2019-11-15 10:24:18.000000000,2019-11-15 12:29:19.000000000,2019-11-15 12:29:19.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 10:24:18.000000000', 'files': ['networking_hyperv/neutron/agent/layer2.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/dd15b0e6c4b553b7120aa06054cfce5010e7c304', 'message': 'Update RPC call, allowing the agent to retrieve port info\n\nThe host argument used when calling ""get_devices_details_list"" used\nto be optional until Rocky. The Hyper-V agent isn\'t passing this host\nargument, preventing it from getting port details from the Neutron\nserver, thus failing to process those ports.\n\nThis change updates this RPC call accordingly.\n\nChange-Id: Ic36d405b7163eaeb71f53a56a386bc42094d58fa\nCloses-Bug: #1852612\n(cherry picked from commit 1b1ee11fb075f489d497579a3d75a8060abae15f)\n'}]",0,694502,dd15b0e6c4b553b7120aa06054cfce5010e7c304,7,2,1,8543,,,0,"Update RPC call, allowing the agent to retrieve port info

The host argument used when calling ""get_devices_details_list"" used
to be optional until Rocky. The Hyper-V agent isn't passing this host
argument, preventing it from getting port details from the Neutron
server, thus failing to process those ports.

This change updates this RPC call accordingly.

Change-Id: Ic36d405b7163eaeb71f53a56a386bc42094d58fa
Closes-Bug: #1852612
(cherry picked from commit 1b1ee11fb075f489d497579a3d75a8060abae15f)
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/02/694502/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_hyperv/neutron/agent/layer2.py'],1,dd15b0e6c4b553b7120aa06054cfce5010e7c304,bug/1852612-stable/stein," self._context, self._added_ports, self._agent_id, self._host)"," self._context, self._added_ports, self._agent_id)",1,1
openstack%2Fnetworking-hyperv~stable%2Ftrain~Ic36d405b7163eaeb71f53a56a386bc42094d58fa,openstack/networking-hyperv,stable/train,Ic36d405b7163eaeb71f53a56a386bc42094d58fa,"Update RPC call, allowing the agent to retrieve port info",MERGED,2019-11-15 10:24:03.000000000,2019-11-15 12:23:41.000000000,2019-11-15 12:23:41.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 10:24:03.000000000', 'files': ['networking_hyperv/neutron/agent/layer2.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/537e9aeb7841f810e49cd157295468441ecda981', 'message': 'Update RPC call, allowing the agent to retrieve port info\n\nThe host argument used when calling ""get_devices_details_list"" used\nto be optional until Rocky. The Hyper-V agent isn\'t passing this host\nargument, preventing it from getting port details from the Neutron\nserver, thus failing to process those ports.\n\nThis change updates this RPC call accordingly.\n\nChange-Id: Ic36d405b7163eaeb71f53a56a386bc42094d58fa\nCloses-Bug: #1852612\n(cherry picked from commit 1b1ee11fb075f489d497579a3d75a8060abae15f)\n'}]",0,694501,537e9aeb7841f810e49cd157295468441ecda981,6,2,1,8543,,,0,"Update RPC call, allowing the agent to retrieve port info

The host argument used when calling ""get_devices_details_list"" used
to be optional until Rocky. The Hyper-V agent isn't passing this host
argument, preventing it from getting port details from the Neutron
server, thus failing to process those ports.

This change updates this RPC call accordingly.

Change-Id: Ic36d405b7163eaeb71f53a56a386bc42094d58fa
Closes-Bug: #1852612
(cherry picked from commit 1b1ee11fb075f489d497579a3d75a8060abae15f)
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/01/694501/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_hyperv/neutron/agent/layer2.py'],1,537e9aeb7841f810e49cd157295468441ecda981,bug/1852612-stable/train," self._context, self._added_ports, self._agent_id, self._host)"," self._context, self._added_ports, self._agent_id)",1,1
openstack%2Fkolla-ansible~stable%2Ftrain~I562f8affb489ae641fc761c02e890133b25c7951,openstack/kolla-ansible,stable/train,I562f8affb489ae641fc761c02e890133b25c7951,Deprecate ONOS,MERGED,2019-11-14 16:49:18.000000000,2019-11-15 12:19:41.000000000,2019-11-15 12:17:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 16:49:18.000000000', 'files': ['releasenotes/notes/deprecate-onos-fc86ff2a08979083.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b384b5ea395493e8a6cd4e437686e95a210a2a34', 'message': 'Deprecate ONOS\n\nChange-Id: I562f8affb489ae641fc761c02e890133b25c7951\n'}]",0,694354,b384b5ea395493e8a6cd4e437686e95a210a2a34,9,4,1,30491,,,0,"Deprecate ONOS

Change-Id: I562f8affb489ae641fc761c02e890133b25c7951
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/694354/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-onos-fc86ff2a08979083.yaml'],1,b384b5ea395493e8a6cd4e437686e95a210a2a34,deprecate-onos,--- deprecations: - | Support for deploying ONOS integration config is deprecated. In the Ussuri cycle it will be removed. The Neutron (networking) project does not support ONOS at all since 2017. ,,6,0
openstack%2Fkolla-ansible~master~Ie336f68c710616de29f34dd4011e137ec056973b,openstack/kolla-ansible,master,Ie336f68c710616de29f34dd4011e137ec056973b,Remove transitional support for neutron-lbaas removal,MERGED,2019-11-14 11:50:54.000000000,2019-11-15 12:18:56.000000000,2019-11-15 12:17:09.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28471}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 11:50:54.000000000', 'files': ['ansible/roles/neutron/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0bd60388a8599da1d2118388d8fe49dadea5b7e9', 'message': 'Remove transitional support for neutron-lbaas removal\n\nSupport for deploying neutron-lbaas was removed in the Train release. We\nno longer need the task to remove the container in the upgrade process.\n\nChange-Id: Ie336f68c710616de29f34dd4011e137ec056973b\n'}]",0,694262,0bd60388a8599da1d2118388d8fe49dadea5b7e9,10,4,1,14826,,,0,"Remove transitional support for neutron-lbaas removal

Support for deploying neutron-lbaas was removed in the Train release. We
no longer need the task to remove the container in the upgrade process.

Change-Id: Ie336f68c710616de29f34dd4011e137ec056973b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/694262/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/upgrade.yml'],1,0bd60388a8599da1d2118388d8fe49dadea5b7e9,,,"# TODO(mgoddard): Remove this in U cycle once all old containers have been # stopped. - name: Stopping old neutron-lbaas-agent containers become: true kolla_docker: action: ""stop_and_remove_container"" common_options: ""{{ docker_common_options }}"" name: ""neutron_lbaas_agent"" ",0,9
openstack%2Fopenstack-ansible~master~Ie1d44b995e7f4de9bfedc33cd6cf6d443f4d0349,openstack/openstack-ansible,master,Ie1d44b995e7f4de9bfedc33cd6cf6d443f4d0349,Imported Translations from Zanata,MERGED,2019-11-14 09:47:48.000000000,2019-11-15 12:18:33.000000000,2019-11-15 12:16:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 09:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7dae41ebd30c8ddab7820126bf0a4b25863313d0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie1d44b995e7f4de9bfedc33cd6cf6d443f4d0349\n'}, {'number': 2, 'created': '2019-11-15 11:15:26.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/28da36da788094da27b42c8b352950ecf7a6000e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie1d44b995e7f4de9bfedc33cd6cf6d443f4d0349\n'}]",0,694219,28da36da788094da27b42c8b352950ecf7a6000e,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie1d44b995e7f4de9bfedc33cd6cf6d443f4d0349
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/694219/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/fr/LC_MESSAGES/doc.po'],1,7dae41ebd30c8ddab7820126bf0a4b25863313d0,zanata/translations,"# Corinne Verheyde <cverheyd@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: openstack-ansible\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-11-10 16:47+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-11-13 08:51+0000\n"" ""Last-Translator: Corinne Verheyde <cverheyd@gmail.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid ""Abstract"" msgstr ""Sommaire"" msgid ""Documentation for each of the following releases is available."" msgstr """" ""De la documentation est disponible pour chacune des livraisons suivantes."" msgid ""Mitaka: EOL (end-of-life)"" msgstr ""Mitaka: EOL (fin-de-vie)"" msgid ""Newton: EOL (end-of-life)"" msgstr ""Newton: EOL (fin-de-vie)"" msgid ""Ocata: Extended Maintenance"" msgstr ""Ocata: Maintenance tendue"" msgid ""OpenStack-Ansible Documentation"" msgstr ""Documentation OpenStack-Ansible"" msgid ""OpenStack-Ansible Train is currently in development."" msgstr ""Train OpenStack-Ansible est actuellement en dveloppement."" msgid ""OpenStack-Ansible Ussuri is currently in development."" msgstr ""Ussuri OpenStack-Ansible est actuellement en dveloppement."" msgid """" ""OpenStack-Ansible provides Ansible playbooks and roles for the deployment "" ""and configuration of an OpenStack environment."" msgstr """" ""OpenStack-Ansible fournit des roles et des playbooks Ansible pour le "" ""dploiement et la configuration d'un environnement OpenStack."" msgid ""OpenStack-Ansible's Mitaka series was EOL'd on 10 April 2017."" msgstr ""Mitaka OpenStack-Ansible est en fin de vie depuis le 10 avril 2017."" msgid ""OpenStack-Ansible's Newton series was EOL'd on 3 April 2018."" msgstr ""Newton OpenStack-Ansible est en fin de vie depuis le 3 avril 2018."" msgid """" ""OpenStack-Ansible's Ocata series was first released with the 15.0.0 tag on 8 "" ""March 2017."" msgstr """" ""Ocata OpenStack-Ansible a t livr initialement avec la version 15.0.0 du 8 "" ""mars 2017."" msgid """" ""OpenStack-Ansible's Pike series was first released with the 16.0.0 tag on 14 "" ""September 2017."" msgstr """" ""Pike OpenStack-Ansible a t livr initialement avec la version 16.0.0 du 14 "" ""septembre 2017."" msgid """" ""OpenStack-Ansible's Queens series was first released with the 17.0.0 tag on "" ""14 March 2018."" msgstr """" ""Queens OpenStack-Ansible a t livr initialement avec la version 17.0.0 du "" ""14 mars 2018."" msgid """" ""OpenStack-Ansible's Rocky series was first released with the 18.0.0 tag on "" ""16 October 2018."" msgstr """" ""Rocky OpenStack-Ansible a t livr initialement avec la version 19.0.0 du "" ""16 octobre 2018."" msgid """" ""OpenStack-Ansible's Stein series was first released with the 19.0.0 tag on "" ""30 June 2019."" msgstr """" ""Stein OpenStack-Ansible a t livr initialement avec la version 19.0.0 du "" ""30 juin 2019."" msgid ""Pike: Extended Maintenance"" msgstr ""Pike: Maintenance tendue"" msgid ""Queens: Extended Maintenance"" msgstr ""Queens: Maintenance tendue"" msgid ""Rocky: Maintained"" msgstr ""Rocky: Maintenu"" msgid ""Stein: Maintained"" msgstr ""Stein: Maintenu"" msgid """" ""To view the documentation only, see the `OpenStack-Ansible Mitaka "" ""Documentation <https://docs.openstack.org/openstack-ansible/mitaka/>`_."" msgstr """" ""Pour seulement consulter la documentation, voir la `Documentation Mitaka "" ""OpenStack-Ansible <https://docs.openstack.org/openstack-ansible/mitaka/>`_."" msgid """" ""To view the documentation only, see the `OpenStack-Ansible Newton "" ""Documentation <https://docs.openstack.org/openstack-ansible/newton/>`_."" msgstr """" ""Pour consulter la documentation seulement, voir la `Documentation Newton "" ""OpenStack-Ansible <https://docs.openstack.org/openstack-ansible/newton/>`_."" msgid ""Train: Release Candidate"" msgstr ""Train: Version Candidate"" msgid ""Ussuri: Under development"" msgstr ""Ussuri: En dveloppement"" msgid ""`OpenStack-Ansible Ocata Documentation`_"" msgstr ""`Documentation Ocata OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Ocata series release notes`_"" msgstr ""`Notes de version pour Ocata OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Pike Documentation`_"" msgstr ""`Documentation Pike OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Pike series release notes`_"" msgstr ""`Notes de version pour Pike OpenStack-Ansible Pike`_"" msgid ""`OpenStack-Ansible Queens Documentation`_"" msgstr ""`Documentation Queens OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Queens series release notes`_"" msgstr ""`Notes de version pour Queens OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Rocky Documentation`_"" msgstr ""`Documentation Rocky OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Rocky series release notes`_"" msgstr ""`Notes de version Rocky OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Stein Documentation`_"" msgstr ""`Documentation Stein OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Stein series release notes`_"" msgstr ""`Notes de version pour Stein OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Train Documentation`_"" msgstr ""`Documentation OpenStack-Ansible Train`_"" msgid ""`OpenStack-Ansible Train series release notes`_"" msgstr ""`Notes de version pour Train OpenStack-Ansible`_"" ",,156,0
openstack%2Ftripleo-heat-templates~master~Iab87530e2c0c3952bf46022cf5bee5ad337c78f8,openstack/tripleo-heat-templates,master,Iab87530e2c0c3952bf46022cf5bee5ad337c78f8,container without paunch: set tripleo_container_manage_systemd_order,MERGED,2019-11-13 08:25:57.000000000,2019-11-15 12:17:17.000000000,2019-11-15 12:17:17.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-13 08:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97796947f8cbb2643b1e95b1ca71db9d7ba15ca3', 'message': 'container without paunch: set tripleo_container_manage_systemd_order\n\ntripleo_container_manage_systemd_order is needed to have proper\ndependencies when a host is started or stopped, so containers managed by\nsystemd and tripleo-ansible will stop before pacemaker and start after\npacemaker.\n\nChange-Id: Iab87530e2c0c3952bf46022cf5bee5ad337c78f8\n'}, {'number': 2, 'created': '2019-11-14 07:55:57.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0171d11c64f40c51a2828c4d754a1785203453d9', 'message': 'container without paunch: set tripleo_container_manage_systemd_order\n\ntripleo_container_manage_systemd_order is needed to have proper\ndependencies when a host is started or stopped, so containers managed by\nsystemd and tripleo-ansible will stop before pacemaker and start after\npacemaker.\n\nChange-Id: Iab87530e2c0c3952bf46022cf5bee5ad337c78f8\n'}]",0,694010,0171d11c64f40c51a2828c4d754a1785203453d9,24,6,2,3153,,,0,"container without paunch: set tripleo_container_manage_systemd_order

tripleo_container_manage_systemd_order is needed to have proper
dependencies when a host is started or stopped, so containers managed by
systemd and tripleo-ansible will stop before pacemaker and start after
pacemaker.

Change-Id: Iab87530e2c0c3952bf46022cf5bee5ad337c78f8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/694010/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,97796947f8cbb2643b1e95b1ca71db9d7ba15ca3,shutdown, tripleo_container_manage_systemd_order: true,,1,0
openstack%2Fkolla-ansible~master~I6d9f0b577631ff9443deecf8ef9d94ca217674c5,openstack/kolla-ansible,master,I6d9f0b577631ff9443deecf8ef9d94ca217674c5,Remove precheck for nova_enable_rolling_upgrade,MERGED,2019-11-14 11:55:06.000000000,2019-11-15 12:17:10.000000000,2019-11-15 12:17:10.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28471}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 11:55:06.000000000', 'files': ['ansible/roles/nova/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d98be11e46ee73e5590dd2eaa1393c6d92fcaca4', 'message': 'Remove precheck for nova_enable_rolling_upgrade\n\nThis variable was removed in the Train cycle, and a precheck added for\nits use. This precheck can now be removed.\n\nChange-Id: I6d9f0b577631ff9443deecf8ef9d94ca217674c5\n'}]",0,694265,d98be11e46ee73e5590dd2eaa1393c6d92fcaca4,9,4,1,14826,,,0,"Remove precheck for nova_enable_rolling_upgrade

This variable was removed in the Train cycle, and a precheck added for
its use. This precheck can now be removed.

Change-Id: I6d9f0b577631ff9443deecf8ef9d94ca217674c5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/694265/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/precheck.yml'],1,d98be11e46ee73e5590dd2eaa1393c6d92fcaca4,,, # TODO(mgoddard): Remove this task in the Ussuri cycle. - name: Check that legacy upgrade is not enabled fail: msg: > Legacy upgrade support has been removed. 'nova_enable_rolling_upgrade' should no longer be set. when: not nova_enable_rolling_upgrade | default(true) | bool,0,8
openstack%2Ffreezer-web-ui~master~Ibb7a5ad85343d0ffe5c50d6c72865bce6657ea36,openstack/freezer-web-ui,master,Ibb7a5ad85343d0ffe5c50d6c72865bce6657ea36,Add  py37 and remove py35 in envlst,MERGED,2019-11-15 09:23:20.000000000,2019-11-15 12:07:18.000000000,2019-11-15 12:07:18.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 09:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/3c06c3bf39b70e34dd3296cee215bc24865b1348', 'message': 'Add  py37 and remove py35 in envlst\n\nUpdate tox.ini file, add py37 and remove py35 in envlst for UT.\n\nChange-Id: Ibb7a5ad85343d0ffe5c50d6c72865bce6657ea36\n'}, {'number': 2, 'created': '2019-11-15 09:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/a8f6365c1f234510aa86bcba30c6ce30e2f87a79', 'message': 'Add  py37 and remove py35 in envlst\n\nUpdate tox.ini file, add py37 and remove py35 in envlst for UT.\n\nChange-Id: Ibb7a5ad85343d0ffe5c50d6c72865bce6657ea36\n'}, {'number': 3, 'created': '2019-11-15 10:25:13.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/f894d59db0ce07e81d6f780a4090821f45b5b3d8', 'message': 'Add  py37 and remove py35 in envlst\n\n1. Update tox.ini file, add py37 and remove py35 in envlst for UT.\n2. Upgrade pylint,astroid,keystoneauth1  version\n\nChange-Id: Ibb7a5ad85343d0ffe5c50d6c72865bce6657ea36\n'}]",0,694489,f894d59db0ce07e81d6f780a4090821f45b5b3d8,9,2,3,21069,,,0,"Add  py37 and remove py35 in envlst

1. Update tox.ini file, add py37 and remove py35 in envlst for UT.
2. Upgrade pylint,astroid,keystoneauth1  version

Change-Id: Ibb7a5ad85343d0ffe5c50d6c72865bce6657ea36
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/89/694489/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3c06c3bf39b70e34dd3296cee215bc24865b1348,,"envlist = py27,py36,py37,py3-{dj111,dj22},pep8,pylint,docs[testenv:py27] basepython = python2.7 [testenv:py36] basepython = python3.6 [testenv:py37] basepython = python3.7 ","envlist = py27,pep8,py35,py36,py3-{dj111,dj22},pylint",10,1
openstack%2Fkolla-ansible~master~I9bac5c230b82ac7c097fe6ca2556e428abda31a1,openstack/kolla-ansible,master,I9bac5c230b82ac7c097fe6ca2556e428abda31a1,CI: Remove Stein upgrade support from CI,MERGED,2019-11-14 11:58:44.000000000,2019-11-15 12:03:22.000000000,2019-11-15 11:59:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28471}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 11:58:44.000000000', 'files': ['tests/run.yml', 'tests/templates/globals-default.j2', 'tests/templates/inventory.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f876254570196ccfdf5eeb0bcd16e9f56d53a13', 'message': 'CI: Remove Stein upgrade support from CI\n\nResolves a number of TODOs in the CI configuration that provide support\nfor upgrading from the Stein release.\n\nChange-Id: I9bac5c230b82ac7c097fe6ca2556e428abda31a1\nDepends-On: https://review.opendev.org/694254\n'}]",0,694267,6f876254570196ccfdf5eeb0bcd16e9f56d53a13,13,5,1,14826,,,0,"CI: Remove Stein upgrade support from CI

Resolves a number of TODOs in the CI configuration that provide support
for upgrading from the Stein release.

Change-Id: I9bac5c230b82ac7c097fe6ca2556e428abda31a1
Depends-On: https://review.opendev.org/694254
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/694267/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/templates/globals-default.j2', 'tests/templates/inventory.j2']",3,6f876254570196ccfdf5eeb0bcd16e9f56d53a13,,,# TODO(yoctozepto): Remove completely in the Ussuri cycle. {% if is_previous_release and previous_release == 'stein' %} [nova-consoleauth:children] nova {% endif %} # TODO(yoctozepto): Remove completely in the Ussuri cycle. {% if is_previous_release and previous_release == 'stein' %} [neutron-lbaas-agent:children] neutron {% endif %} ,0,21
openstack%2Fkolla-ansible~master~I9d903543936e59aeeee939b32afce3e63b8c4394,openstack/kolla-ansible,master,I9d903543936e59aeeee939b32afce3e63b8c4394,Set previous release to Train,MERGED,2019-11-14 11:34:56.000000000,2019-11-15 12:02:03.000000000,2019-11-15 11:59:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 11:34:56.000000000', 'files': ['ansible/group_vars/all.yml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d4f719e95a76760f9c6db0e085fc3bb2ca2ca2eb', 'message': 'Set previous release to Train\n\nNow that the stable/train branch has been cut, we can set the previous\nrelease to Train. This is done in kolla-ansible for rolling upgrades,\nand in CI configuration for upgrade tests.\n\nChange-Id: I9d903543936e59aeeee939b32afce3e63b8c4394\n'}]",0,694254,d4f719e95a76760f9c6db0e085fc3bb2ca2ca2eb,14,4,1,14826,,,0,"Set previous release to Train

Now that the stable/train branch has been cut, we can set the previous
release to Train. This is done in kolla-ansible for rolling upgrades,
and in CI configuration for upgrade tests.

Change-Id: I9d903543936e59aeeee939b32afce3e63b8c4394
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/694254/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'zuul.d/base.yaml']",2,d4f719e95a76760f9c6db0e085fc3bb2ca2ca2eb,kolla-train-release, previous_release: train, previous_release: stein,2,2
openstack%2Fnova~master~Idde7ef4e91d516b8f225118862e36feda4c8a9d4,openstack/nova,master,Idde7ef4e91d516b8f225118862e36feda4c8a9d4,FUP for Ib62ac0b692eb92a2ed364ec9f486ded05def39ad,MERGED,2019-11-08 16:16:49.000000000,2019-11-15 11:57:56.000000000,2019-11-15 11:53:50.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-08 16:16:49.000000000', 'files': ['doc/source/reference/update-provider-tree.rst', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9fd0b9a85013429c1cc2f53de1b9ff04dfc91935', 'message': 'FUP for Ib62ac0b692eb92a2ed364ec9f486ded05def39ad\n\nThis addresses some nits from that review related to\nthe tense in the docs and no longer valid code comments\nin the resource tracker.\n\nChange-Id: Idde7ef4e91d516b8f225118862e36feda4c8a9d4\n'}]",0,693556,9fd0b9a85013429c1cc2f53de1b9ff04dfc91935,50,17,1,6873,,,0,"FUP for Ib62ac0b692eb92a2ed364ec9f486ded05def39ad

This addresses some nits from that review related to
the tense in the docs and no longer valid code comments
in the resource tracker.

Change-Id: Idde7ef4e91d516b8f225118862e36feda4c8a9d4
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/693556/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/update-provider-tree.rst', 'nova/compute/resource_tracker.py']",2,9fd0b9a85013429c1cc2f53de1b9ff04dfc91935,update_provider_tree," # resource is reported by driver's update_provider_tree(). So even if # there is no resource change for compute_node, we need proceed # If the compute_node's resource changed, update to DB. Note that # _update_to_placement below does not supersede the need to do this # because there are stats-related fields in the ComputeNode object # which could have changed and still need to be reported to the # scheduler filters/weighers (which could be out of tree as well)."," # resource is reported by driver's get_inventory(). So even there # is no resource change for compute_node as above, we need proceed # First try update_provider_tree # If the compute_node's resource changed, update to DB. # NOTE(jianghuaw): Once we completely move to use get_inventory() # for all resource provider's inv data. We can remove this check. # At the moment we still need this check and save compute_node.",9,9
openstack%2Fhorizon~stable%2Fstein~Icc5e9c6447253d6087c578ab931b52a923128e38,openstack/horizon,stable/stein,Icc5e9c6447253d6087c578ab931b52a923128e38,Modify the regex for name on import public key form,MERGED,2019-10-18 04:57:31.000000000,2019-11-15 11:55:11.000000000,2019-11-15 11:51:52.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-18 04:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f61ebd276fd339089604ddefe27e0654e665bcf8', 'message': 'Modify the regex for name on import public key form\n\nThis patch fix does not match the regex in horizon and nova [1].\n\nThe service supports underscores, but the restriction imposed in horizon\nis different, so the regex is updated.\n\n[1] https://github.com/openstack/nova/blob/6ebb2c4cae65cb437e17a8c02fe5174a9825d8e0/nova/compute/api.py#L5674-L5690\n\nChange-Id: Icc5e9c6447253d6087c578ab931b52a923128e38\n(cherry picked from commit 42349acc2fa08cadb8d37616d0262838c4629039)\n'}, {'number': 2, 'created': '2019-10-18 04:58:54.000000000', 'files': ['openstack_dashboard/static/app/core/keypairs/actions/import.service.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4343aaa9a2aac370f2f32ecf24d5936982b91fc2', 'message': 'Modify the regex for name on import public key form\n\nThis patch fix does not match the regex in horizon and nova [1].\n\nThe service supports underscores, but the restriction imposed in horizon\nis different, so the regex is updated.\n\n[1] https://github.com/openstack/nova/blob/6ebb2c4cae65cb437e17a8c02fe5174a9825d8e0/nova/compute/api.py#L5674-L5690\n\nCloses-Bug: #1848383\nChange-Id: Icc5e9c6447253d6087c578ab931b52a923128e38\n(cherry picked from commit 42349acc2fa08cadb8d37616d0262838c4629039)\n'}]",0,689304,4343aaa9a2aac370f2f32ecf24d5936982b91fc2,11,6,2,841,,,0,"Modify the regex for name on import public key form

This patch fix does not match the regex in horizon and nova [1].

The service supports underscores, but the restriction imposed in horizon
is different, so the regex is updated.

[1] https://github.com/openstack/nova/blob/6ebb2c4cae65cb437e17a8c02fe5174a9825d8e0/nova/compute/api.py#L5674-L5690

Closes-Bug: #1848383
Change-Id: Icc5e9c6447253d6087c578ab931b52a923128e38
(cherry picked from commit 42349acc2fa08cadb8d37616d0262838c4629039)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/04/689304/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/keypairs/actions/import.service.js'],1,f61ebd276fd339089604ddefe27e0654e665bcf8,bug/1848383," pattern: ""^[A-Za-z0-9 _-]+$"""," pattern: ""^[A-Za-z0-9 -]+$""",1,1
openstack%2Fneutron~master~Ied2ffb5ed58007789b0f5157731687dc2e0b9bb1,openstack/neutron,master,Ied2ffb5ed58007789b0f5157731687dc2e0b9bb1,[fullstack] find ip based on allocation_pool,MERGED,2019-10-30 13:15:04.000000000,2019-11-15 11:51:13.000000000,2019-11-15 11:48:08.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-30 13:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/570a9f407e2e287700aa99fddd2057a96b2290fa', 'message': ""[fullstack] find ip based on allocation_pool\n\n_find_available_ips tried to find available ips based on the given\nsubnet's cidr field, which can be misleading if random selection goes\nout-of allocation-pool. This patch changes this behaviour to use\ncidr's allocation_pool field.\n\nCloses-Bug: #1850292\nChange-Id: Ied2ffb5ed58007789b0f5157731687dc2e0b9bb1\n""}, {'number': 2, 'created': '2019-11-12 13:58:36.000000000', 'files': ['neutron/tests/fullstack/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c9b0a5fac2e3a1321eadc272c8ed46aa61efd3e', 'message': ""[fullstack] find ip based on allocation_pool\n\n_find_available_ips tried to find available ips based on the given\nsubnet's cidr field, which can be misleading if random selection goes\nout-of allocation-pool. This patch changes this behaviour to use\ncidr's allocation_pool field.\n\nCloses-Bug: #1850292\nChange-Id: Ied2ffb5ed58007789b0f5157731687dc2e0b9bb1\n""}]",4,692135,3c9b0a5fac2e3a1321eadc272c8ed46aa61efd3e,19,10,2,8313,,,0,"[fullstack] find ip based on allocation_pool

_find_available_ips tried to find available ips based on the given
subnet's cidr field, which can be misleading if random selection goes
out-of allocation-pool. This patch changes this behaviour to use
cidr's allocation_pool field.

Closes-Bug: #1850292
Change-Id: Ied2ffb5ed58007789b0f5157731687dc2e0b9bb1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/692135/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/base.py'],1,570a9f407e2e287700aa99fddd2057a96b2290fa,bug/1850292," # Note(lajoskatona): Suppose that we have 1 allocation pool for the # subnet, that should be quite good for testing. valid_ip_pool = subnet['allocation_pools'][0] valid_ips = netaddr.IPSet((netaddr.iter_iprange( valid_ip_pool['start'], valid_ip_pool['end'])) )", valid_ips = netaddr.IPSet(netaddr.IPNetwork(subnet['cidr'])),7,1
openstack%2Fpython-swiftclient~master~Ie6987f5de48914ec8932254cde79a973a0264877,openstack/python-swiftclient,master,Ie6987f5de48914ec8932254cde79a973a0264877,v1auth: support endpoint_data_for() api,MERGED,2019-10-10 04:09:10.000000000,2019-11-15 11:49:28.000000000,2019-11-15 11:48:11.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 04:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/8cdbe05f8663a278273fcfc7acde87ad75d66d0f', 'message': 'v1auth: support endpoint_data_for() api\n\n...so we can be used with openstacksdk.\n\nAlso, add a few functests that use openstacksdk.\n\nChange-Id: Ie6987f5de48914ec8932254cde79a973a0264877\n'}, {'number': 2, 'created': '2019-10-11 00:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/32bb467d09365c23e689ee54ac55e381bcd12634', 'message': 'v1auth: support endpoint_data_for() api\n\n...so we can be used with openstacksdk.\n\nAlso, add a few functests that use openstacksdk.\n\nChange-Id: Ie6987f5de48914ec8932254cde79a973a0264877\n'}, {'number': 3, 'created': '2019-10-11 01:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/1b45c0457a27b1d743831d04eefe95e8e38c4aad', 'message': 'v1auth: support endpoint_data_for() api\n\n...so we can be used with openstacksdk.\n\nAlso, add a few functests that use openstacksdk.\n\nChange-Id: Ie6987f5de48914ec8932254cde79a973a0264877\n'}, {'number': 4, 'created': '2019-11-06 03:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/e4531c5b00668b5533fc47e2238edc9d3c8eadda', 'message': 'v1auth: support endpoint_data_for() api\n\n...so we can be used with openstacksdk.\n\nAlso, add a few functests that use openstacksdk.\n\nChange-Id: Ie6987f5de48914ec8932254cde79a973a0264877\n'}, {'number': 5, 'created': '2019-11-06 04:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/4a4c93820826dd8827b1a5d483fafb050005337d', 'message': 'v1auth: support endpoint_data_for() api\n\n...so we can be used with openstacksdk.\n\nAlso, add a few functests that use openstacksdk.\n\nChange-Id: Ie6987f5de48914ec8932254cde79a973a0264877\n'}, {'number': 6, 'created': '2019-11-06 08:55:45.000000000', 'files': ['test-requirements.txt', 'test/functional/test_openstacksdk.py', 'test/functional/__init__.py', 'test/functional/test_swiftclient.py', 'lower-constraints.txt', 'swiftclient/authv1.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/c4bef14fc1975f2e115a6ec8560e674e8aa5b1bf', 'message': 'v1auth: support endpoint_data_for() api\n\n...so we can be used with openstacksdk.\n\nAlso, add a few functests that use openstacksdk.\n\nChange-Id: Ie6987f5de48914ec8932254cde79a973a0264877\n'}]",0,687774,c4bef14fc1975f2e115a6ec8560e674e8aa5b1bf,21,2,6,15343,,,0,"v1auth: support endpoint_data_for() api

...so we can be used with openstacksdk.

Also, add a few functests that use openstacksdk.

Change-Id: Ie6987f5de48914ec8932254cde79a973a0264877
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/74/687774/6 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'swiftclient/authv1.py', 'tests/functional/__init__.py', 'tests/functional/test_openstacksdk.py', 'tests/functional/test_swiftclient.py']",5,8cdbe05f8663a278273fcfc7acde87ad75d66d0f,687774,"from . import TEST_CONFIG self.skip_tests = (TEST_CONFIG is None) if not self.skip_tests: self._get_config() self.auth_url = TEST_CONFIG['auth_url'] self.auth_version = TEST_CONFIG['auth_version'] self.account_username = TEST_CONFIG['account_username'] self.password = TEST_CONFIG['password'] account = username = None account = TEST_CONFIG['account'] username = TEST_CONFIG['username'] except KeyError: self.auth_url, username, self.password, auth_version=self.auth_version, os_options={'tenant_name': account}) try: account = TEST_CONFIG['account4'] username = TEST_CONFIG['username4'] user_domain = TEST_CONFIG['domain4'] project_domain = TEST_CONFIG['domain4'] password = TEST_CONFIG['password4'] except KeyError:"," self.skip_tests = False self._get_config() config_file = os.environ.get('SWIFT_TEST_CONFIG_FILE', '/etc/swift/test.conf') config = configparser.ConfigParser({'auth_version': '1'}) config.read(config_file) self.config = config if config.has_section('func_test'): if config.has_option('func_test', 'auth_uri'): self.auth_url = config.get('func_test', 'auth_uri') try: self.auth_version = config.get('func_test', 'auth_version') except configparser.NoOptionError: last_piece = self.auth_url.rstrip('/').rsplit('/', 1)[1] if last_piece.endswith('.0'): last_piece = last_piece[:-2] if last_piece in ('1', '2', '3'): self.auth_version = last_piece else: raise else: auth_host = config.get('func_test', 'auth_host') auth_port = config.getint('func_test', 'auth_port') auth_ssl = config.getboolean('func_test', 'auth_ssl') auth_prefix = config.get('func_test', 'auth_prefix') self.auth_version = config.get('func_test', 'auth_version') self.auth_url = """" if auth_ssl: self.auth_url += ""https://"" else: self.auth_url += ""http://"" self.auth_url += ""%s:%s%s"" % ( auth_host, auth_port, auth_prefix) if self.auth_version == ""1"": self.auth_url += 'v1.0' try: self.account_username = config.get('func_test', 'account_username') except configparser.NoOptionError: account = config.get('func_test', 'account') username = config.get('func_test', 'username') self.account_username = ""%s:%s"" % (account, username) self.password = config.get('func_test', 'password') else: self.skip_tests = True account = username = password = None account = self.config.get('func_test', 'account') username = self.config.get('func_test', 'username') password = self.config.get('func_test', 'password') except Exception: os_options = {'tenant_name': account} self.auth_url, username, password, auth_version=self.auth_version, os_options=os_options) try: account = self.config.get('func_test', 'account4') username = self.config.get('func_test', 'username4') user_domain = self.config.get('func_test', 'domain4') project_domain = self.config.get('func_test', 'domain4') password = self.config.get('func_test', 'password4') except Exception:",206,61
openstack%2Frequirements~stable%2Frocky~Ifa9fc84ec3664c9b2b1bf228e12903ba6402a631,openstack/requirements,stable/rocky,Ifa9fc84ec3664c9b2b1bf228e12903ba6402a631,update constraint for os_vif to new release 1.11.2,MERGED,2019-11-12 11:45:30.000000000,2019-11-15 11:48:21.000000000,2019-11-15 11:48:20.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 11:45:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7e39edc1536981507966f64c619606226517a7d1', 'message': 'update constraint for os_vif to new release 1.11.2\n\nChange-Id: Ifa9fc84ec3664c9b2b1bf228e12903ba6402a631\nmeta:version: 1.11.2\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Change-Id: I2347ac7bebbe59c42f3f92640bcc7fdadadabb15\nmeta:release:Code-Review+1: Eric Fried <openstack@fried.cc>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,693822,7e39edc1536981507966f64c619606226517a7d1,14,3,1,11131,,,0,"update constraint for os_vif to new release 1.11.2

Change-Id: Ifa9fc84ec3664c9b2b1bf228e12903ba6402a631
meta:version: 1.11.2
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Change-Id: I2347ac7bebbe59c42f3f92640bcc7fdadadabb15
meta:release:Code-Review+1: Eric Fried <openstack@fried.cc>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/693822/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7e39edc1536981507966f64c619606226517a7d1,new-release,os-vif===1.11.2,os-vif===1.11.1,1,1
openstack%2Ftripleo-quickstart~master~I3050325dcf963e8660271f3ca40e526ba93e33ad,openstack/tripleo-quickstart,master,I3050325dcf963e8660271f3ca40e526ba93e33ad,DNM: testing async for tripleo-container-manage,ABANDONED,2019-11-01 20:03:30.000000000,2019-11-15 11:48:20.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 20:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/86cce5904de88b6ef8ad72fbef95f104fc5df61e', 'message': 'DNM: testing include_tasks\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\nDepends-On: https://review.opendev.org/#/c/692600/\n'}, {'number': 2, 'created': '2019-11-02 22:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b2c086f36f5851e39b038c67368ca25c346dec63', 'message': 'DNM: testing include_tasks\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\nDepends-On: https://review.opendev.org/#/c/692600/\n'}, {'number': 3, 'created': '2019-11-05 10:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2a610d47573eb88ce4fb2fc833e998610f308044', 'message': 'DNM: testing batching for tripleo-container-manage\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\nDepends-On: https://review.opendev.org/#/c/692600/\n'}, {'number': 4, 'created': '2019-11-05 10:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/666aad42021bbf38e816803530ca09d673ecc4cb', 'message': 'DNM: testing batching for tripleo-container-manage\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\nDepends-On: https://review.opendev.org/#/c/692600/\n'}, {'number': 5, 'created': '2019-11-05 12:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7785d3bcfef20cfcf524c56ed8ae0b2a6e37f02c', 'message': 'DNM: testing batching for tripleo-container-manage\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\nDepends-On: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 6, 'created': '2019-11-05 21:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/62e0904e4abff55d43c09f77e9db4367a762ee44', 'message': 'DNM: testing batching for tripleo-container-manage\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n\nDepends-On: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 7, 'created': '2019-11-06 09:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/017cd6c854d7cb72e1d907d9ad11a8e352e82bbd', 'message': 'DNM: testing batching for tripleo-container-manage\n\nDepends-On: I60a14721ed978dddbebfd28f830fb2c50f326ce0\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 8, 'created': '2019-11-07 15:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e5182d5f69e39388f810f5c1fe356a16c829c4ab', 'message': 'DNM: testing batching for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 9, 'created': '2019-11-07 15:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/52e00f16d2b7c9da0ebe1e2113167e87db030eee', 'message': 'DNM: testing batching for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 10, 'created': '2019-11-07 16:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c19809c9087d1745372ded8fa760211adcb7bf55', 'message': 'DNM: testing batching for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 11, 'created': '2019-11-07 17:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ed2552a93be9291f60700bad99a1bb23357dbabc', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\nDepends-On: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 12, 'created': '2019-11-07 20:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a46639f5f22e9f3013756eda822d0ec26b261cf8', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\nDepends-On: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 13, 'created': '2019-11-07 20:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ee11ba1394862e0c5b6df9714e6c36ac65f3f360', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\nDepends-On: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 14, 'created': '2019-11-07 21:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/71c59c242e0a41c96c24a858a089ff1900555692', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\nDepends-On: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 15, 'created': '2019-11-08 07:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9baf268dae83b1f35313a8ccbb117447cb1c86ce', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\nDepends-On: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 16, 'created': '2019-11-08 15:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a21044117b19aa7e8e664d4e1153b7d66883e1a6', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\nDepends-On: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 17, 'created': '2019-11-08 16:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ec1bdbe6e23920b1238b3fac09cc177f20d3bb3b', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: Ice92cd5f90039e685c171e9035f929349a67ff2c\nDepends-On: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 18, 'created': '2019-11-09 06:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ca6ef4c7a3a4b56378315144ac1059b7fb7b7510', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 19, 'created': '2019-11-12 14:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0869c3c08e3154c8421b61b7f14bbf1418bf3784', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 20, 'created': '2019-11-12 16:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1063c324525c7d393049d2352c3761b5fbfad67', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 21, 'created': '2019-11-12 18:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/61534a2e3df3eb9ee69923610eece5baf0c8a039', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 22, 'created': '2019-11-12 18:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/884e1fda174060326950dbc856e865be8a72dce6', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 23, 'created': '2019-11-13 07:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ed83831096e6a2abdee56f52c7eb666768342c37', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 24, 'created': '2019-11-13 08:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8280344a839cbc194833b4a9e28978a873f7b2b9', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69\nDepends-On: Iab87530e2c0c3952bf46022cf5bee5ad337c78f8\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 25, 'created': '2019-11-13 12:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d915a0f768cfd9e669b546dcc75d49ade7cec80a', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69\nDepends-On: Iab87530e2c0c3952bf46022cf5bee5ad337c78f8\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}, {'number': 26, 'created': '2019-11-14 09:48:27.000000000', 'files': ['config/general_config/featureset027.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5104f2fe500a030b38fbaad328b62673d31e3fcf', 'message': 'DNM: testing async for tripleo-container-manage\n\nDepends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69\nDepends-On: Iab87530e2c0c3952bf46022cf5bee5ad337c78f8\n\nChange-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad\n'}]",0,692608,5104f2fe500a030b38fbaad328b62673d31e3fcf,92,4,26,14985,,,0,"DNM: testing async for tripleo-container-manage

Depends-On: I5e68fdb2d872c741f00a1a24bac33112ba630f69
Depends-On: Iab87530e2c0c3952bf46022cf5bee5ad337c78f8

Change-Id: I3050325dcf963e8660271f3ca40e526ba93e33ad
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/08/692608/7 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,86cce5904de88b6ef8ad72fbef95f104fc5df61e,disable/paunch,#,,1,0
openstack%2Frequirements~stable%2Frocky~Iedf07e82f60b2b2a95531cc506a1006a5b2c2836,openstack/requirements,stable/rocky,Iedf07e82f60b2b2a95531cc506a1006a5b2c2836,update constraint for python-novaclient to new release 11.0.1,MERGED,2019-11-12 11:46:45.000000000,2019-11-15 11:48:13.000000000,2019-11-15 11:48:13.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 11:46:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7c07423dbd94dafac593fd69a13d146afb7f56ff', 'message': 'update constraint for python-novaclient to new release 11.0.1\n\nChange-Id: Iedf07e82f60b2b2a95531cc506a1006a5b2c2836\nmeta:version: 11.0.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Change-Id: I3b114c3d0e7f595f34a557f38a2f8395f0be0d4f\nmeta:release:Code-Review+1: Eric Fried <openstack@fried.cc>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,693823,7c07423dbd94dafac593fd69a13d146afb7f56ff,14,3,1,11131,,,0,"update constraint for python-novaclient to new release 11.0.1

Change-Id: Iedf07e82f60b2b2a95531cc506a1006a5b2c2836
meta:version: 11.0.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Change-Id: I3b114c3d0e7f595f34a557f38a2f8395f0be0d4f
meta:release:Code-Review+1: Eric Fried <openstack@fried.cc>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/693823/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7c07423dbd94dafac593fd69a13d146afb7f56ff,new-release,python-novaclient===11.0.1,python-novaclient===11.0.0,1,1
openstack%2Frequirements~stable%2Frocky~Ia4477ceb00560955e74bd0b080138f48637a2704,openstack/requirements,stable/rocky,Ia4477ceb00560955e74bd0b080138f48637a2704,update constraint for mistral-lib to new release 1.0.1,MERGED,2019-11-13 09:20:20.000000000,2019-11-15 11:48:12.000000000,2019-11-15 11:48:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 09:20:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3a3f5f763bb17b8fff600da02ea7706fc04a2978', 'message': 'update constraint for mistral-lib to new release 1.0.1\n\nChange-Id: Ia4477ceb00560955e74bd0b080138f48637a2704\nmeta:version: 1.0.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dougal Matthews <dougal@redhat.com>\nmeta:release:Commit: Dougal Matthews <dougal@redhat.com>\nmeta:release:Change-Id: Id4dcc5c39767eb3610c888f18515a67bcd20ab12\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Vieri <15050873171@163.com>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,694017,3a3f5f763bb17b8fff600da02ea7706fc04a2978,8,2,1,11131,,,0,"update constraint for mistral-lib to new release 1.0.1

Change-Id: Ia4477ceb00560955e74bd0b080138f48637a2704
meta:version: 1.0.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dougal Matthews <dougal@redhat.com>
meta:release:Commit: Dougal Matthews <dougal@redhat.com>
meta:release:Change-Id: Id4dcc5c39767eb3610c888f18515a67bcd20ab12
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Vieri <15050873171@163.com>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
meta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/694017/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3a3f5f763bb17b8fff600da02ea7706fc04a2978,new-release,mistral-lib===1.0.1,mistral-lib===1.0.0,1,1
openstack%2Fsahara-dashboard~master~I29e67b8899bceecf691f378c30a63163262fc416,openstack/sahara-dashboard,master,I29e67b8899bceecf691f378c30a63163262fc416,Imported Translations from Zanata,MERGED,2019-11-15 08:01:43.000000000,2019-11-15 11:39:48.000000000,2019-11-15 11:38:21.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 08:01:43.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/en_GB/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/fb3782e9e09396d59375926d81fea3a80817ecec', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I29e67b8899bceecf691f378c30a63163262fc416\n'}]",0,694467,fb3782e9e09396d59375926d81fea3a80817ecec,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I29e67b8899bceecf691f378c30a63163262fc416
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/67/694467/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'sahara_dashboard/locale/en_GB/LC_MESSAGES/django.po']",2,fb3782e9e09396d59375926d81fea3a80817ecec,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-11-08 04:41+0000\n""""PO-Revision-Date: 2019-11-14 11:29+0000\n""msgid ""Attached storage location"" msgstr ""Attached storage location"" msgid ""Boot Volume AZ"" msgstr ""Boot Volume AZ"" msgid ""Boot Volume locality"" msgstr ""Boot Volume locality"" msgid ""Boot Volume type"" msgstr ""Boot Volume type"" msgid ""Boot storage location"" msgstr ""Boot storage location"" msgid ""Boot volume availability Zone"" msgstr ""Boot volume availability Zone"" msgid ""Boot volume availability zone"" msgstr ""Boot volume availability zone"" msgid ""Boot volume local to instance"" msgstr ""Boot volume local to instance"" msgid ""Boot volume locality"" msgstr ""Boot volume locality"" msgid ""Boot volume type"" msgstr ""Boot volume type"" msgid ""Choose a boot mode"" msgstr ""Choose a boot mode"" msgid ""Create boot volume in this availability zone."" msgstr ""Create boot volume in this availability zone."" msgid ""Unable to retrieve Nova availability zones."" msgstr ""Unable to retrieve Nova availability zones."" msgid ""Unable to retrieve volumes availability zones."" msgstr ""Unable to retrieve volumes availability zones."" ","""POT-Creation-Date: 2019-04-22 11:41+0000\n""""PO-Revision-Date: 2018-07-30 12:06+0000\n""",90,4
openstack%2Fkolla-cli~master~I23127fe6c0fc31c7da64abaa763d55536ab87cec,openstack/kolla-cli,master,I23127fe6c0fc31c7da64abaa763d55536ab87cec,Add Generating Documentation,MERGED,2019-10-14 08:59:01.000000000,2019-11-15 11:29:39.000000000,2019-11-15 11:28:27.000000000,"[{'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-14 08:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a1d9ce888c38bf6fc0de3f12f9ea1a479d2abd36', 'message': 'Add Generating Documentation\n\nChange-Id: I23127fe6c0fc31c7da64abaa763d55536ab87cec\n'}, {'number': 2, 'created': '2019-11-15 08:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/d35c845786e1670abfb32ad8d847966bba850b3a', 'message': 'Add Generating Documentation\n\nChange-Id: I23127fe6c0fc31c7da64abaa763d55536ab87cec\n'}, {'number': 3, 'created': '2019-11-15 09:01:01.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/2fdd3889442d1f0e78199ecf7be3cd36bff645af', 'message': 'Add Generating Documentation\n\n1. Add Generating Documentation\n\nChange-Id: I23127fe6c0fc31c7da64abaa763d55536ab87cec\n'}]",0,688355,2fdd3889442d1f0e78199ecf7be3cd36bff645af,13,5,3,22165,,,0,"Add Generating Documentation

1. Add Generating Documentation

Change-Id: I23127fe6c0fc31c7da64abaa763d55536ab87cec
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/55/688355/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a1d9ce888c38bf6fc0de3f12f9ea1a479d2abd36,,"Generating Documentation ======================== We use `Sphinx <https://pypi.python.org/pypi/Sphinx>`_ to maintain the documentation. You can install Sphinx using pip. :: $ pip install -U Sphinx In addition to Sphinx you will also need the following requirements (not covered by `requirements.txt`):: $ pip install openstackdocstheme reno 'reno[sphinx]' The source code of the documentation are under *doc*, you can generate the html files using the following command. If the generation succeeds,a *build/html* dir will be created under *doc*. :: $ cd doc $ make html Now you can serve the documentation at http://localhost:8080 as a simple website. :: $ cd build/html $ python -m SimpleHTTPServer 8080 ",,32,0
openstack%2Fcharm-guide~master~I66c0ad4b273121f698bc6eed5f657d9ba3546d21,openstack/charm-guide,master,I66c0ad4b273121f698bc6eed5f657d9ba3546d21,How to find openstack-dashboard's password,MERGED,2019-11-15 10:00:55.000000000,2019-11-15 11:12:36.000000000,2019-11-15 11:11:25.000000000,"[{'_account_id': 10068}, {'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-11-15 10:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f6d2708e03daccdcf0b25c32c04ae2595032a5e2', 'message': ""How to find openstack-dashboard's password.\n\nChange-Id: I66c0ad4b273121f698bc6eed5f657d9ba3546d21\n""}, {'number': 2, 'created': '2019-11-15 10:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9e6451aac719c5b08a50d582646b16210b403387', 'message': ""How to find openstack-dashboard's password\n\nChange-Id: I66c0ad4b273121f698bc6eed5f657d9ba3546d21\n""}, {'number': 3, 'created': '2019-11-15 10:55:52.000000000', 'files': ['doc/source/openstack-on-lxd.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4ca4340c8d25f5755d770e803a082f4d28bc609a', 'message': ""How to find openstack-dashboard's password\n\nChange-Id: I66c0ad4b273121f698bc6eed5f657d9ba3546d21\n""}]",4,694496,4ca4340c8d25f5755d770e803a082f4d28bc609a,15,4,3,31289,,,0,"How to find openstack-dashboard's password

Change-Id: I66c0ad4b273121f698bc6eed5f657d9ba3546d21
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/96/694496/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/openstack-on-lxd.rst'],1,f6d2708e03daccdcf0b25c32c04ae2595032a5e2,openstack-dashboard-password,"First, find the IP address and the password of the openstack-dashboard unit by querying juju: juju run --application keystone leader-get admin_passwd","First, find the IP address of the openstack-dashboard unit by querying juju status:",2,1
openstack%2Fneutron~master~I614ccda40b5fb2dd6548c4c7b880393cf71bfc87,openstack/neutron,master,I614ccda40b5fb2dd6548c4c7b880393cf71bfc87,[WIP] Remove PostgreSQL support from Neutron,ABANDONED,2019-10-17 16:49:42.000000000,2019-11-15 11:00:12.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28581}]","[{'number': 1, 'created': '2019-10-17 16:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e204de7f8b1789d69b1c54143007d196e2d2b21', 'message': 'Remove PostgreSQL support from Neutron\n\nPostgreSQL support was deprecated for removal in Pike. [1] removes it\nfrom devstack and Neutron needs to remove it too.\n\n[1] https://review.opendev.org/#/c/678496/\n\nChange-Id: I614ccda40b5fb2dd6548c4c7b880393cf71bfc87\nCloses-Bug: #1848545\n'}, {'number': 2, 'created': '2019-10-17 17:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1279cad046c2f53112451a9661ef90aa829d625', 'message': 'Remove PostgreSQL support from Neutron\n\nPostgreSQL support was deprecated for removal in Pike. [1] removes it\nfrom devstack and Neutron needs to remove it too.\n\n[1] https://review.opendev.org/#/c/678496/\n\nChange-Id: I614ccda40b5fb2dd6548c4c7b880393cf71bfc87\nCloses-Bug: #1848545\n'}, {'number': 3, 'created': '2019-10-17 17:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61b29e74c821ea037aaf7a8820cc640a8cb0b746', 'message': 'Remove PostgreSQL support from Neutron\n\nPostgreSQL support was deprecated for removal in Pike. [1] removes it\nfrom devstack and Neutron needs to remove it too.\n\n[1] https://review.opendev.org/#/c/678496/\n\nChange-Id: I614ccda40b5fb2dd6548c4c7b880393cf71bfc87\nCloses-Bug: #1848545\n'}, {'number': 4, 'created': '2019-10-17 17:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14c3c18ceb501285d2ef677ccbede917868667b7', 'message': 'Remove PostgreSQL support from Neutron\n\nPostgreSQL support was deprecated for removal in Pike. [1] removes it\nfrom devstack and Neutron needs to remove it too.\n\n[1] https://review.opendev.org/#/c/678496/\n\nChange-Id: I614ccda40b5fb2dd6548c4c7b880393cf71bfc87\nCloses-Bug: #1848545\n'}, {'number': 5, 'created': '2019-10-18 08:51:07.000000000', 'files': ['neutron/tests/functional/db/migrations/test_3b935b28e7a0_migrate_to_pluggable_ipam.py', 'tools/configure_for_func_testing.sh', '.zuul.yaml', 'neutron/tests/functional/db/migrations/test_2e0d7a8a1586_add_binding_index_to_routerl3agentbinding.py', 'neutron/tests/functional/db/migrations/test_b12a3ef66e62_add_standardattr_to_qos_policies.py', 'neutron/tests/functional/db/test_ipam.py', 'bindep.txt', 'neutron/tests/unit/testlib_api.py', 'neutron/tests/functional/db/migrations/test_97c25b0d2353_add_name_desc.py', 'neutron/tests/functional/db/migrations/test_a8b517cff8ab_add_routerport_bindings_for_ha.py', 'neutron/tests/functional/db/test_migrations.py', 'doc/source/contributor/testing/template_model_sync_test.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2486cce908e14b1b20b65bda77fe4e991ccbd5f3', 'message': '[WIP] Remove PostgreSQL support from Neutron\n\n--------------------------------------------------------\nNOTE: according to https://review.opendev.org/#/c/689250/, the original\npatch is reverted. The removal of this backend should be discussed in\nthe community first.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-October/010196.html\nfor more information.\n\nEND NOTE.\n--------------------------------------------------------\n\nPostgreSQL support was deprecated for removal in Pike. [1] removes it\nfrom devstack and Neutron needs to remove it too.\n\n[1] https://review.opendev.org/#/c/678496/\n\nChange-Id: I614ccda40b5fb2dd6548c4c7b880393cf71bfc87\nCloses-Bug: #1848545\n'}]",17,689215,2486cce908e14b1b20b65bda77fe4e991ccbd5f3,28,12,5,16688,,,0,"[WIP] Remove PostgreSQL support from Neutron

--------------------------------------------------------
NOTE: according to https://review.opendev.org/#/c/689250/, the original
patch is reverted. The removal of this backend should be discussed in
the community first.

http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010196.html
for more information.

END NOTE.
--------------------------------------------------------

PostgreSQL support was deprecated for removal in Pike. [1] removes it
from devstack and Neutron needs to remove it too.

[1] https://review.opendev.org/#/c/678496/

Change-Id: I614ccda40b5fb2dd6548c4c7b880393cf71bfc87
Closes-Bug: #1848545
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/689215/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/configure_for_func_testing.sh', 'neutron/tests/unit/testlib_api.py', 'neutron/tests/functional/db/test_migrations.py']",3,8e204de7f8b1789d69b1c54143007d196e2d2b21,bug/1848545,,"class TestModelsMigrationsPsql(testlib_api.PostgreSQLTestCaseMixin, _TestModelsMigrations, testlib_api.SqlTestCaseLight): pass class TestWalkMigrationsPsql(testlib_api.PostgreSQLTestCaseMixin, _TestWalkMigrations, testlib_api.SqlTestCaseLight): pass",2,43
openstack%2Fneutron~master~Ic0ebffb631f9dcaf679cfd701d46e7d43267aeb5,openstack/neutron,master,Ic0ebffb631f9dcaf679cfd701d46e7d43267aeb5,"Implement ""delete_tc_filter"" using Pyroute2",ABANDONED,2019-07-01 17:13:29.000000000,2019-11-15 10:58:01.000000000,,"[{'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-01 17:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e12cd2c536df0e8d436b73af12aa7122910533a', 'message': '[WIP] Implement ""delete_tc_filter"" using Pyroute2\n\nChange-Id: Ic0ebffb631f9dcaf679cfd701d46e7d43267aeb5\nRelated-Bug: #1492714\n'}, {'number': 2, 'created': '2019-07-03 16:00:26.000000000', 'files': ['neutron/tests/functional/privileged/agent/linux/test_tc_lib.py', 'neutron/agent/linux/l3_tc_lib.py', 'neutron/agent/linux/tc_lib.py', 'neutron/privileged/agent/linux/tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c1acee26037d53817ec60a5cab03d7535bf6bdb', 'message': 'Implement ""delete_tc_filter"" using Pyroute2\n\nThis new method is used in agent.linux.l3_tc_lib.\n\nChange-Id: Ic0ebffb631f9dcaf679cfd701d46e7d43267aeb5\nRelated-Bug: #1492714\n'}]",0,668531,3c1acee26037d53817ec60a5cab03d7535bf6bdb,10,4,2,16688,,,0,"Implement ""delete_tc_filter"" using Pyroute2

This new method is used in agent.linux.l3_tc_lib.

Change-Id: Ic0ebffb631f9dcaf679cfd701d46e7d43267aeb5
Related-Bug: #1492714
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/668531/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/privileged/agent/linux/test_tc_lib.py', 'neutron/agent/linux/tc_lib.py', 'neutron/privileged/agent/linux/tc_lib.py']",3,2e12cd2c536df0e8d436b73af12aa7122910533a,bug/1492714," @privileged.default.entrypoint def delete_tc_filter(device, parent, priority, filter_id, keys=None, namespace=None, **kwargs): """"""Delete a TC filter"""""" keys = keys if keys else ['0x0/0x0'] try: index = ip_lib.get_link_id(device, namespace) with ip_lib.get_iproute(namespace) as ip: ip.tc('del-filter', kind='u32', index=index, parent=parent, prio=priority, target=filter_id, keys=keys, **kwargs) except OSError as e: if e.errno == errno.ENOENT: raise ip_lib.NetworkNamespaceNotFound(netns_name=namespace) raise",,84,0
openstack%2Fneutron~master~I17f886a6b37da989afb0671758481544d64a8e3b,openstack/neutron,master,I17f886a6b37da989afb0671758481544d64a8e3b,"Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib",ABANDONED,2019-06-29 18:18:28.000000000,2019-11-15 10:57:31.000000000,,"[{'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-29 18:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2eb6dcb474a7e6c3281c66831937ede12687c5ca', 'message': 'Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib\n\nChange-Id: I17f886a6b37da989afb0671758481544d64a8e3b\nRelated-Bug: #1492714\n'}, {'number': 2, 'created': '2019-06-29 18:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9ac20a36351e40c1a43a2b0dae4cdea1d489310', 'message': 'Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib\n\nChange-Id: I17f886a6b37da989afb0671758481544d64a8e3b\nRelated-Bug: #1492714\n'}, {'number': 3, 'created': '2019-07-01 11:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82cec3d4ab55e7f43c17d844e426cdf476ad3bac', 'message': 'Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib\n\nChange-Id: I17f886a6b37da989afb0671758481544d64a8e3b\nRelated-Bug: #1492714\n'}, {'number': 4, 'created': '2019-07-01 14:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee1b2e30651f430da44c44e76aea30594b87de48', 'message': 'Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib\n\nChange-Id: I17f886a6b37da989afb0671758481544d64a8e3b\nRelated-Bug: #1492714\n'}, {'number': 5, 'created': '2019-07-02 10:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfce9ad717d0c36cfd4623d01dd2bbe918da061c', 'message': 'Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib\n\nChange-Id: I17f886a6b37da989afb0671758481544d64a8e3b\nRelated-Bug: #1492714\n'}, {'number': 6, 'created': '2019-07-03 10:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fd01bcc91fcd57530562494b61ea8aaaa27bbd7', 'message': 'Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib\n\nChange-Id: I17f886a6b37da989afb0671758481544d64a8e3b\nRelated-Bug: #1492714\n'}, {'number': 7, 'created': '2019-07-05 10:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c4b1d6e1f135286f522a996827a5fa5eccea6d4', 'message': 'Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib\n\nChange-Id: I17f886a6b37da989afb0671758481544d64a8e3b\nRelated-Bug: #1492714\n'}, {'number': 8, 'created': '2019-07-11 10:57:00.000000000', 'files': ['neutron/tests/unit/agent/linux/test_l3_tc_lib.py', 'neutron/tests/functional/privileged/agent/linux/test_tc_lib.py', 'neutron/agent/linux/l3_tc_lib.py', 'neutron/agent/linux/tc_lib.py', 'neutron/privileged/agent/linux/tc_lib.py', 'etc/neutron/rootwrap.d/l3.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/30235f48ba122fdf8f0e2e26e63c6cb2824491a1', 'message': 'Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib\n\nChange-Id: I17f886a6b37da989afb0671758481544d64a8e3b\nRelated-Bug: #1492714\n'}]",5,668304,30235f48ba122fdf8f0e2e26e63c6cb2824491a1,41,6,8,16688,,,0,"Use Pyroute2 ""add_tc_filter_policy"" function in l3_tc_lib

Change-Id: I17f886a6b37da989afb0671758481544d64a8e3b
Related-Bug: #1492714
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/668304/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/privileged/agent/linux/test_tc_lib.py', 'neutron/agent/linux/l3_tc_lib.py', 'neutron/agent/linux/tc_lib.py']",3,2eb6dcb474a7e6c3281c66831937ede12687c5ca,bug/1492714,"from neutron_lib import constantsdef ip_to_pyroute2_keys(ip_address, direction): """"""Convert an IP to a filter key For example: IP: '10.0.0.1', direction: ingress keys: ['0x0a000001/0xffffffff+12'] IP: '10.0.0.1', direction: egress keys: ['0x0a000001/0xffffffff+16'] :param ip_address: (string) IP address :param direction: (string) ingress ('src'), egress ('dst') """""" value = netaddr.IPAddress(ip_address).value mask = 0xffffffff offset = 12 if direction == constants.EGRESS_DIRECTION else 16 return {'value': value, 'mask': mask, 'offset': offset, 'key': (hex(value) + '/' + hex(mask) + '+' + str(offset))} priority=0, protocol=None, keys=None, flowid=None, namespace=None): :param keys: (list) filter pattern with mask and offset, e.g.: '0x0a000001/0xffffffff+12' :param flowid: (string) references the class to which this filter is attached mtu, action, protocol=protocol, keys=keys, flowid=flowid, namespace=namespace) value['flowid'] = _handle_from_hex_to_string(_get_attr( tca_options, 'TCA_U32_CLASSID')) "," priority=0, protocol=None, namespace=None): mtu, action, protocol=protocol, namespace=namespace)",64,18
openstack%2Fnetworking-hyperv~master~Ic36d405b7163eaeb71f53a56a386bc42094d58fa,openstack/networking-hyperv,master,Ic36d405b7163eaeb71f53a56a386bc42094d58fa,"Update RPC call, allowing the agent to retrieve port info",MERGED,2019-11-14 17:40:25.000000000,2019-11-15 10:24:18.000000000,2019-11-14 18:13:13.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 17:40:25.000000000', 'files': ['networking_hyperv/neutron/agent/layer2.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/1b1ee11fb075f489d497579a3d75a8060abae15f', 'message': 'Update RPC call, allowing the agent to retrieve port info\n\nThe host argument used when calling ""get_devices_details_list"" used\nto be optional until Rocky. The Hyper-V agent isn\'t passing this host\nargument, preventing it from getting port details from the Neutron\nserver, thus failing to process those ports.\n\nThis change updates this RPC call accordingly.\n\nChange-Id: Ic36d405b7163eaeb71f53a56a386bc42094d58fa\nCloses-Bug: #1852612\n'}]",0,694370,1b1ee11fb075f489d497579a3d75a8060abae15f,8,2,1,8543,,,0,"Update RPC call, allowing the agent to retrieve port info

The host argument used when calling ""get_devices_details_list"" used
to be optional until Rocky. The Hyper-V agent isn't passing this host
argument, preventing it from getting port details from the Neutron
server, thus failing to process those ports.

This change updates this RPC call accordingly.

Change-Id: Ic36d405b7163eaeb71f53a56a386bc42094d58fa
Closes-Bug: #1852612
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/70/694370/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_hyperv/neutron/agent/layer2.py'],1,1b1ee11fb075f489d497579a3d75a8060abae15f,bug/1852612," self._context, self._added_ports, self._agent_id, self._host)"," self._context, self._added_ports, self._agent_id)",1,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ic6b76e31885d0e0b59a650dbd4148b245f6057d6,openstack/python-tripleoclient,stable/train,Ic6b76e31885d0e0b59a650dbd4148b245f6057d6,Fix overcloud cell export after refactoring,MERGED,2019-11-14 10:22:24.000000000,2019-11-15 10:09:11.000000000,2019-11-15 10:08:03.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 10:22:24.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/315f6d4d21780f77bd39d12be761a5c74627feca', 'message': 'Fix overcloud cell export after refactoring\n\nhttps://review.opendev.org/692909 introduced overcloud export and\nrefactored the overcloud cell export command which introduces an\nissue when calling the cell export:\n\n  File ""/usr/lib/python2.7/site-packages/tripleoclient/v1/overcloud_cell.py"",\nline 94, in take_action\n    data[\'parameter_defaults\'].update(export.export_stack(\nKeyError: \'parameter_defaults\'\n\'parameter_defaults\'\n\nChange-Id: Ic6b76e31885d0e0b59a650dbd4148b245f6057d6\nCloses-Bug: #1852402\nRelated-Bug: #1850636\n(cherry picked from commit 2f16fd696d6a086404beb29fcaaf264b597338c1)\n'}]",0,694231,315f6d4d21780f77bd39d12be761a5c74627feca,15,6,1,17216,,,0,"Fix overcloud cell export after refactoring

https://review.opendev.org/692909 introduced overcloud export and
refactored the overcloud cell export command which introduces an
issue when calling the cell export:

  File ""/usr/lib/python2.7/site-packages/tripleoclient/v1/overcloud_cell.py"",
line 94, in take_action
    data['parameter_defaults'].update(export.export_stack(
KeyError: 'parameter_defaults'
'parameter_defaults'

Change-Id: Ic6b76e31885d0e0b59a650dbd4148b245f6057d6
Closes-Bug: #1852402
Related-Bug: #1850636
(cherry picked from commit 2f16fd696d6a086404beb29fcaaf264b597338c1)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/31/694231/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,315f6d4d21780f77bd39d12be761a5c74627feca,1850636-stable/train," data.update(export.export_stack( data = dict(parameter_defaults=data) For more details check https://docs.openstack.org/ project-deploy-guide/tripleo-docs/latest/features/deploy_cellv2.html """""".format(output_file=output_file)"," data['parameter_defaults'].update(export.export_stack( For more details check https://docs.openstack.org/tripleo-docs/ latest/install/advanced_deployment/deploy_cellv2.html# deploy-the-cell"""""".format(output_file=output_file)",5,4
openstack%2Fmonasca-persister~master~I3734e764debf13f8f86f8fcc031c2798e779056e,openstack/monasca-persister,master,I3734e764debf13f8f86f8fcc031c2798e779056e,Support Kafka events enable option,MERGED,2019-11-08 07:55:37.000000000,2019-11-15 09:54:58.000000000,2019-11-15 09:54:58.000000000,"[{'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 29970}]","[{'number': 1, 'created': '2019-11-08 07:55:37.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/53fd59fddda27cc93411eb46dabe333ece8b3e7a', 'message': 'Support Kafka events enable option\n\nSupport Kakfa events enable option.This option alread suppprted\nin monasca_persister/conf/kafka_events.py file.and described in\nReadme file.\n\nChange-Id: I3734e764debf13f8f86f8fcc031c2798e779056e\n'}]",0,693494,53fd59fddda27cc93411eb46dabe333ece8b3e7a,11,3,1,29970,,,0,"Support Kafka events enable option

Support Kakfa events enable option.This option alread suppprted
in monasca_persister/conf/kafka_events.py file.and described in
Readme file.

Change-Id: I3734e764debf13f8f86f8fcc031c2798e779056e
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/94/693494/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,53fd59fddda27cc93411eb46dabe333ece8b3e7a,support-docker-kafka-event-option," KAFKA_EVENTS_ENABLE=""false"" \",,1,0
openstack%2Fstorlets~master~Ib41735d8801f0c99ed0563213dcf414fefb5cbb2,openstack/storlets,master,Ib41735d8801f0c99ed0563213dcf414fefb5cbb2,Avoid broken http header including white space,MERGED,2019-11-14 07:32:33.000000000,2019-11-15 09:11:53.000000000,2019-11-15 09:10:42.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-14 07:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a7064014cee2c5843fd3cd1658ab26fc4613b41a', 'message': ""WIP: try broken http header\n\nI'm not sure if this is true solution but the execution result header\nin user metadata looks invalid because it includes space in the header key.\n\nSo try to remove the dengerous space in the http header key with this patch.\n\nChange-Id: Ib41735d8801f0c99ed0563213dcf414fefb5cbb2\n""}, {'number': 2, 'created': '2019-11-14 10:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4b22322f57657f14d36182b70a5ffc942e3d144a', 'message': ""Avoid broken http header including white space\n\nThe execution result header in user metadata looks invalid\nand it cuases the hang in the func CI tessting.\nSo let's remove the dangerous white space in the http\nheader key with this patch.\n\nChange-Id: Ib41735d8801f0c99ed0563213dcf414fefb5cbb2\n""}, {'number': 3, 'created': '2019-11-15 07:43:53.000000000', 'files': ['StorletSamples/java/IdentityStorlet/src/org/openstack/storlet/identity/IdentityStorlet.java', 'tests/functional/java/test_identity_storlet.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/b4af2b12b690ba8d6a59307108930ef3c4364751', 'message': ""Avoid broken http header including white space\n\nThe execution result header in user metadata looks invalid\nand it cuases the hang in the func CI tessting.\nSo let's remove the dangerous white space in the http\nheader key with this patch.\n\nThe skip test removed in this patch has been since\nhttps://review.opendev.org/#/c/693549 . The skipping\npurpose was to progress py3 migration (we'd like to find\nany other issues than this at the time) so the test is still\nworth, then this fix enables to pass the test.\n\nChange-Id: Ib41735d8801f0c99ed0563213dcf414fefb5cbb2\n""}]",8,694208,b4af2b12b690ba8d6a59307108930ef3c4364751,19,4,3,4608,,,0,"Avoid broken http header including white space

The execution result header in user metadata looks invalid
and it cuases the hang in the func CI tessting.
So let's remove the dangerous white space in the http
header key with this patch.

The skip test removed in this patch has been since
https://review.opendev.org/#/c/693549 . The skipping
purpose was to progress py3 migration (we'd like to find
any other issues than this at the time) so the test is still
worth, then this fix enables to pass the test.

Change-Id: Ib41735d8801f0c99ed0563213dcf414fefb5cbb2
",git fetch https://review.opendev.org/openstack/storlets refs/changes/08/694208/1 && git format-patch -1 --stdout FETCH_HEAD,"['StorletSamples/java/IdentityStorlet/src/org/openstack/storlet/identity/IdentityStorlet.java', 'tests/functional/java/test_identity_storlet.py']",2,a7064014cee2c5843fd3cd1658ab26fc4613b41a,, mdv = processed_h['X-Object-Meta-Execution-Result'.lower()] mdv = resp_headers['X-Object-Meta-Execution-Result'.lower()]," mdv = processed_h['X-Object-Meta-Execution result'.lower()] mdv = resp_headers['X-Object-Meta-Execution result'.lower()] @unittest.skipIf(six.PY3, 'execute can hang on py3 for some reason') @unittest.skipIf(six.PY3, 'execute can hang on py3 for some reason')",3,5
openstack%2Ffreezer~master~I556f72efc9541a550855e3617bfeb5cfee92ad30,openstack/freezer,master,I556f72efc9541a550855e3617bfeb5cfee92ad30,Update devstack doc,MERGED,2019-11-14 11:39:53.000000000,2019-11-15 09:03:14.000000000,2019-11-15 09:01:38.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-11-14 11:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/214935c5e73906157860c1e3e13352210efc41a6', 'message': 'Update devstack doc\n\nAdd a same local.conf file for freezer devloper.\n\nChange-Id: I556f72efc9541a550855e3617bfeb5cfee92ad30\n'}, {'number': 2, 'created': '2019-11-15 00:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/232538502228978917a3c04353dedd676e8eb383', 'message': 'Update devstack doc\n\nAdd a same local.conf file for freezer devloper.\n\nChange-Id: I556f72efc9541a550855e3617bfeb5cfee92ad30\n'}, {'number': 3, 'created': '2019-11-15 01:20:16.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/freezer/commit/3ffcc0c657f0303081f0e087b932f6348335340a', 'message': 'Update devstack doc\n\nAdd a same local.conf file for freezer devloper.\n\nChange-Id: I556f72efc9541a550855e3617bfeb5cfee92ad30\n'}]",0,694257,3ffcc0c657f0303081f0e087b932f6348335340a,12,3,3,21069,,,0,"Update devstack doc

Add a same local.conf file for freezer devloper.

Change-Id: I556f72efc9541a550855e3617bfeb5cfee92ad30
",git fetch https://review.opendev.org/openstack/freezer refs/changes/57/694257/3 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'devstack/README.rst']",2,214935c5e73906157860c1e3e13352210efc41a6,,"This is a sample ``local.conf`` file for freezer developer:: [[local|localrc]] ADMIN_PASSWORD=stack DATABASE_PASSWORD=stack RABBIT_PASSWORD=stack SERVICE_PASSWORD=$ADMIN_PASSWORD DEST=/opt/stack LOGFILE=$DEST/logs/stack.sh.log # only install keystone/horizon/swift in devstack # disable_all_services # enable_service key mysql s-proxy s-object s-container s-account horizon enable_plugin freezer http://git.openstack.org/openstack/freezer master enable_plugin freezer-api http://git.openstack.org/openstack/freezer-api.git master enable_plugin freezer-tempest-plugin http://git.openstack.org/openstack/freezer-tempest-plugin.git master enable_plugin freezer-web-ui http://git.openstack.org/openstack/freezer-web-ui.git master export FREEZER_BACKEND='sqlalchemy' For more information, see: https://docs.openstack.org/devstack/latest/index.html","For more information, see: https://docs.openstack.org/devstack/latest/plugins.html",25,2
openstack%2Fsenlin~master~I432ae5415b9ab8ca7247fb5fb2a8b6e1819029ba,openstack/senlin,master,I432ae5415b9ab8ca7247fb5fb2a8b6e1819029ba,Bump the openstackdocstheme extension to 1.20,MERGED,2019-08-01 09:15:21.000000000,2019-11-15 09:00:13.000000000,2019-11-15 08:58:05.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 28471}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-08-01 09:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/81555fca0807f74eca87690647d63e93260939d5', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I432ae5415b9ab8ca7247fb5fb2a8b6e1819029ba\n'}, {'number': 2, 'created': '2019-08-11 14:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d5c599b726016e6825fddadb778bfdd56938cb76', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I432ae5415b9ab8ca7247fb5fb2a8b6e1819029ba\n'}, {'number': 3, 'created': '2019-11-15 02:47:26.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/9523029e026fb71f3f09bcc6542a178c7b6f19c0', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I432ae5415b9ab8ca7247fb5fb2a8b6e1819029ba\n'}]",0,673968,9523029e026fb71f3f09bcc6542a178c7b6f19c0,20,10,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I432ae5415b9ab8ca7247fb5fb2a8b6e1819029ba
",git fetch https://review.opendev.org/openstack/senlin refs/changes/68/673968/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,81555fca0807f74eca87690647d63e93260939d5,openstackdocstheme,,"project = u'Senlin Release Notes'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,52
openstack%2Fcyborg~master~I534f652c098ed91afb8f52cfc6bb78268a4d5f21,openstack/cyborg,master,I534f652c098ed91afb8f52cfc6bb78268a4d5f21,Exclude cyborg tests dir in UT cover report,MERGED,2019-10-29 14:38:38.000000000,2019-11-15 08:57:15.000000000,2019-11-15 08:54:41.000000000,"[{'_account_id': 14070}, {'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-10-29 14:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a5a8a851af17bc5e62511ed2b03e0b725a4435cd', 'message': 'Exclude the tests dir in the test cover report\n\nThis part[1] of the report will interfere with us, so remove it.\n\n[1]. https://4e9470b351b17cbb3518-980dc61496a4ee6111bf6d34d70d10e6.ssl.cf5.rackcdn.com/690950/1/check/openstack-tox-cover/cb174f6/cover/\n\nChange-Id: I534f652c098ed91afb8f52cfc6bb78268a4d5f21\n'}, {'number': 2, 'created': '2019-10-29 14:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e2fd2041cdebac1791ab3eea0ac533feb57c224f', 'message': 'Exclude cyborg tests dir in UT cover report\n\nThis part[1] of the report will interfere with us, so remove it.\n\n[1]. https://4e9470b351b17cbb3518-980dc61496a4ee6111bf6d34d70d10e6.ssl.cf5.rackcdn.com/690950/1/check/openstack-tox-cover/cb174f6/cover/\n\nChange-Id: I534f652c098ed91afb8f52cfc6bb78268a4d5f21\n'}, {'number': 3, 'created': '2019-10-30 01:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b2a6260a0603b707264e3f9836c485fec8343677', 'message': 'Exclude cyborg tests dir in UT cover report\n\nThe cyborg/tests dir cover report will interfere with us, so remove it.\n\nChange-Id: I534f652c098ed91afb8f52cfc6bb78268a4d5f21\n'}, {'number': 4, 'created': '2019-10-30 01:42:06.000000000', 'files': ['.gitignore', '.coveragerc', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5751cebaa25d6e78ad2ccee8bfe1b4d936d63f48', 'message': ""Exclude cyborg tests dir in UT cover report\n\nWe don't care about coverage of actual test code, So exclude\ncyborg/tests dir.\n\nChange-Id: I534f652c098ed91afb8f52cfc6bb78268a4d5f21\n""}]",2,691872,5751cebaa25d6e78ad2ccee8bfe1b4d936d63f48,19,10,4,28748,,,0,"Exclude cyborg tests dir in UT cover report

We don't care about coverage of actual test code, So exclude
cyborg/tests dir.

Change-Id: I534f652c098ed91afb8f52cfc6bb78268a4d5f21
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/72/691872/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.coveragerc', '.stestr.conf']",3,a5a8a851af17bc5e62511ed2b03e0b725a4435cd,,test_path=./cyborg/tests,test_path=./,13,2
openstack%2Fneutron~master~Ic21e34462aabd5cc2aa879ec4f47e2b1bc1dd934,openstack/neutron,master,Ic21e34462aabd5cc2aa879ec4f47e2b1bc1dd934,"""round"" with ndigits=None returns an integer",MERGED,2019-10-29 15:08:16.000000000,2019-11-15 08:48:37.000000000,2019-11-15 08:43:47.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-29 15:08:16.000000000', 'files': ['neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb2ebcc998336f60f78c9dea81453b0771fabe5c', 'message': '""round"" with ndigits=None returns an integer\n\nTrivial-Fix\n\nChange-Id: Ic21e34462aabd5cc2aa879ec4f47e2b1bc1dd934\n'}]",0,691883,cb2ebcc998336f60f78c9dea81453b0771fabe5c,11,6,1,16688,,,0,"""round"" with ndigits=None returns an integer

Trivial-Fix

Change-Id: Ic21e34462aabd5cc2aa879ec4f47e2b1bc1dd934
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/691883/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/common/test_utils.py'],1,cb2ebcc998336f60f78c9dea81453b0771fabe5c,round_returns_int," self.assertEqual(1, round(timer.total_seconds())) self.assertEqual(1, round(timer.total_seconds()))"," self.assertEqual(1.0, round(timer.total_seconds(), 0)) self.assertEqual(1.0, round(timer.total_seconds(), 0))",2,2
openstack%2Fneutron~master~I354182b900bdd04b4fcd64dcf2adbe00d7f8df5a,openstack/neutron,master,I354182b900bdd04b4fcd64dcf2adbe00d7f8df5a,doc: Adjust heading levels,MERGED,2019-11-13 14:43:42.000000000,2019-11-15 08:43:43.000000000,2019-11-15 08:43:43.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-13 14:43:42.000000000', 'files': ['doc/source/contributor/internals/layer3.rst', 'doc/source/contributor/policies/neutron-teams.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eeefd54c53ae759ea731c47049b2e500e3000c83', 'message': 'doc: Adjust heading levels\n\nIn the openstackdocstheme, one page should have a single title heading\n(the highest level). If we have multiple title headings, only the first\none is shown at the top of the page and the remaining one(s) are not\nshown in the main contents. (They are shown only in ""Page Contents""\nof the left TOC.) It is confusing a bit.\n\nAs far as I checked, this happens in two files in the current neutron doc.\n\ncontributor/policies/neutron-teams.rst:\nIt looks better to introduce a page title and keep the existing\ntitles as subsections.\n\ncontributor/internals/layer3.rst:\nThere is no need to include a page on the L3 agent\nas it is a separate page.\n\nChange-Id: I354182b900bdd04b4fcd64dcf2adbe00d7f8df5a\n'}]",0,694088,eeefd54c53ae759ea731c47049b2e500e3000c83,10,6,1,841,,,0,"doc: Adjust heading levels

In the openstackdocstheme, one page should have a single title heading
(the highest level). If we have multiple title headings, only the first
one is shown at the top of the page and the remaining one(s) are not
shown in the main contents. (They are shown only in ""Page Contents""
of the left TOC.) It is confusing a bit.

As far as I checked, this happens in two files in the current neutron doc.

contributor/policies/neutron-teams.rst:
It looks better to introduce a page title and keep the existing
titles as subsections.

contributor/internals/layer3.rst:
There is no need to include a page on the L3 agent
as it is a separate page.

Change-Id: I354182b900bdd04b4fcd64dcf2adbe00d7f8df5a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/694088/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/layer3.rst', 'doc/source/contributor/policies/neutron-teams.rst']",2,eeefd54c53ae759ea731c47049b2e500e3000c83,doc-headings,====================== Neutron Team Structure ====================== Neutron Lieutenants ~~~~~~~~~~~~~~~~~~~ Sub-project Lieutenants ~~~~~~~~~~~~~~~~~~~~~~~ | networking-bgpvpn / | Mathieu Rohon | matrohon |Core Reviewer Teams for Plugins and Drivers -------------------------------------------,* Services includes FWaaS and VPNaaS.| networking-bgpvpn | Mathieu Rohon | matrohon |Neutron Core Reviewer Teams for Plugins and Drivers ---------------------------------------------------,17,5
openstack%2Fneutron~master~Iea9fbf997130e95252fcd1063fd7a28ad84dd369,openstack/neutron,master,Iea9fbf997130e95252fcd1063fd7a28ad84dd369,Update liaison for networking-sfc project,MERGED,2019-11-13 21:44:11.000000000,2019-11-15 08:43:41.000000000,2019-11-15 08:43:41.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 13995}, {'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-13 21:44:11.000000000', 'files': ['doc/source/contributor/policies/neutron-teams.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d6207187c1d8dc41efbedec9a4184a929f7d23e', 'message': 'Update liaison for networking-sfc project\n\nDuring Shanghai PTG Akihiro talked with Dharmendra, who is the Tacker\nPTL that Dharmendra can be maintainer of networking-sfc project for now\nas Tacker is using this project.\nSo lets say that officially in our documentation now.\n\nChange-Id: Iea9fbf997130e95252fcd1063fd7a28ad84dd369\n'}]",0,694169,1d6207187c1d8dc41efbedec9a4184a929f7d23e,11,7,1,11975,,,0,"Update liaison for networking-sfc project

During Shanghai PTG Akihiro talked with Dharmendra, who is the Tacker
PTL that Dharmendra can be maintainer of networking-sfc project for now
as Tacker is using this project.
So lets say that officially in our documentation now.

Change-Id: Iea9fbf997130e95252fcd1063fd7a28ad84dd369
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/694169/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies/neutron-teams.rst'],1,1d6207187c1d8dc41efbedec9a4184a929f7d23e,update-sfc-liaison,| networking-sfc | Dharmendra Kushwaha | dkushwaha |,| networking-sfc | N/A | N/A |,1,1
openstack%2Fneutron-tempest-plugin~master~I2c9fe4873b481e39ca4bd25e326ec9a19e482455,openstack/neutron-tempest-plugin,master,I2c9fe4873b481e39ca4bd25e326ec9a19e482455,bgp_speaker_extensions: Don't execute the negative tests under smoke,MERGED,2019-10-30 18:17:27.000000000,2019-11-15 08:43:38.000000000,2019-11-15 08:43:38.000000000,"[{'_account_id': 1916}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-30 18:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cc707525ac436de94e08a22058cf5bebb693d072', 'message': ""bgp_speaker_extensions: Don't execute the negative tests under smoke\n\nThe positive tests aren't smoke tests either, so lets be consistent.\n\nChange-Id: I2c9fe4873b481e39ca4bd25e326ec9a19e482455\n""}, {'number': 2, 'created': '2019-11-05 12:38:12.000000000', 'files': ['neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b367e6d208e3a6e331862714beb8077d5c6a6fd2', 'message': ""bgp_speaker_extensions: Don't execute the negative tests under smoke\n\nThe positive tests aren't smoke tests either, so lets be consistent.\n\nChange-Id: I2c9fe4873b481e39ca4bd25e326ec9a19e482455\n""}]",0,692204,b367e6d208e3a6e331862714beb8077d5c6a6fd2,16,6,2,6593,,,0,"bgp_speaker_extensions: Don't execute the negative tests under smoke

The positive tests aren't smoke tests either, so lets be consistent.

Change-Id: I2c9fe4873b481e39ca4bd25e326ec9a19e482455
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/04/692204/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions_negative.py'],1,cc707525ac436de94e08a22058cf5bebb693d072,, @decorators.attr(type=['negative']) @decorators.attr(type=['negative']) @decorators.attr(type=['negative']) @decorators.attr(type=['negative'])," @decorators.attr(type=['negative', 'smoke']) @decorators.attr(type=['negative', 'smoke']) @decorators.attr(type=['negative', 'smoke']) @decorators.attr(type=['negative', 'smoke'])",4,4
openstack%2Fneutron-lib~master~I7c16ffb21f88de88ab80a19d91b898be53419514,openstack/neutron-lib,master,I7c16ffb21f88de88ab80a19d91b898be53419514,'interconnection' API extension definition (neutron-interconnection),MERGED,2018-12-21 10:50:52.000000000,2019-11-15 07:57:16.000000000,2019-02-22 15:07:58.000000000,"[{'_account_id': 841}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 19990}, {'_account_id': 22348}, {'_account_id': 27546}]","[{'number': 1, 'created': '2018-12-21 10:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c81e8532721a3e91176c5607fb2fb38345082776', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 2, 'created': '2018-12-21 15:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9732d079739e93bd86c84106817d7b99ff5e39ad', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 3, 'created': '2019-01-09 09:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c5e6c5fe97470bf13f863e6550eeab387f8b4143', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 4, 'created': '2019-01-14 15:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cbd75d1c9e486490e2c8507f6d248215592a847c', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 5, 'created': '2019-01-24 17:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5c481b3c6392fe6d0f8d7c81607ec23589d7d218', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 6, 'created': '2019-01-24 21:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/875fcda6262fe9e43daa2e9a464ddefc57e93ad3', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 7, 'created': '2019-01-25 10:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/871772f6f7ffdee663be19371de2f50fe168eeec', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 8, 'created': '2019-02-13 15:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/231fddec20a7c975c6e3550170e9b674371e0f42', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 9, 'created': '2019-02-13 17:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9c8ea26e35e5c74091e29824522413ad0f2530ab', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 10, 'created': '2019-02-14 07:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/02a424823d7dac1a80d4f31864df6ca7033ef601', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 11, 'created': '2019-02-14 15:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/dde69023466091a30c7da42cc470cec921be84f6', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 12, 'created': '2019-02-19 14:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3b4724881122e8db3d1bcc30955a69d6037f2e1d', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 13, 'created': '2019-02-21 13:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b552f0001fd45b73f1510ce61ddfb38a54015d31', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}, {'number': 14, 'created': '2019-02-22 09:30:21.000000000', 'files': ['releasenotes/notes/interconnection-api-def-cbec5e4f77852fe7.yaml', 'api-ref/source/v2/samples/interconnection/interconnection-create-request.json', 'api-ref/source/v2/samples/interconnection/interconnection-update-request.json', 'api-ref/source/v2/samples/interconnection/interconnection-update-response.json', 'api-ref/source/v2/samples/interconnection/interconnection-show-response.json', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/interconnection.inc', 'neutron_lib/api/definitions/base.py', 'neutron_lib/tests/unit/api/definitions/test_interconnection.py', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/interconnection/interconnection-create-response.json', 'api-ref/source/v2/samples/interconnection/interconnections-list-response.json', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/interconnection.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/888a28d5982a763d8fc8f8211b3c00f763e8b099', 'message': ""'interconnection' API extension definition (neutron-interconnection)\n\nAdds definition for 'interconnection' API extension for\nneutron-interconnection project.\n\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7c16ffb21f88de88ab80a19d91b898be53419514\n""}]",57,626871,888a28d5982a763d8fc8f8211b3c00f763e8b099,59,9,14,19990,,,0,"'interconnection' API extension definition (neutron-interconnection)

Adds definition for 'interconnection' API extension for
neutron-interconnection project.

This patch partially implements the following spec:
https://specs.openstack.org/openstack/neutron-specs/specs/rocky/neutron-inter.html

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I7c16ffb21f88de88ab80a19d91b898be53419514
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/71/626871/12 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/interconnection/interconnection-create-request.json', 'api-ref/source/v2/samples/interconnection/interconnection-update-request.json', 'api-ref/source/v2/samples/interconnection/interconnection-update-response.json', 'api-ref/source/v2/samples/interconnection/interconnection-show-response.json', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/interconnection.inc', 'neutron_lib/api/definitions/base.py', 'neutron_lib/tests/unit/api/definitions/test_interconnection.py', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/interconnection/interconnection-create-response.json', 'api-ref/source/v2/samples/interconnection/interconnections-list-response.json', 'neutron_lib/api/definitions/interconnection.py']",12,c81e8532721a3e91176c5607fb2fb38345082776,neutron-interconnection,"# All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib import constants from neutron_lib.db import constants as db_const # The alias of the extension. ALIAS = 'interconnection' # Whether or not this extension is simply signaling behavior to the user # or it actively modifies the attribute map. IS_SHIM_EXTENSION = False # Whether the extension is marking the adoption of standardattr model for # legacy resources, or introducing new standardattr attributes. False or # None if the standardattr model is adopted since the introduction of # resource extension. # If this is True, the alias for the extension should be prefixed with # 'standard-attr-'. IS_STANDARD_ATTR_EXTENSION = False # The name of the extension. NAME = 'Neutron-Neutron Interconnection' # The description of the extension. DESCRIPTION = ""Provides support for Neutron-Neutron Interconnections"" # A timestamp of when the extension was introduced. UPDATED_TIMESTAMP = ""2018-07-05T15:30:00-00:00"" API_PREFIX = '/inter' # The specific resources and/or attributes for the extension (optional). RESOURCE_NAME = 'interconnection' COLLECTION_NAME = 'interconnections' ROUTER = 'router' NETWORK_L2 = 'network_l2' NETWORK_L3 = 'network_l3' VALID_TYPES = [ROUTER, NETWORK_L2, NETWORK_L3] TO_VALIDATE = 'TO_VALIDATE' PRE_VALIDATE = 'PRE_VALIDATE' VALIDATING = 'VALIDATING' VALIDATED = 'VALIDATED' PRE_ACTIVATE = 'PRE_ACTIVATE' ACTIVATING = 'ACTIVATING' ACTIVE = 'ACTIVE' PRE_ACTIVE_CHECK = 'PRE_ACTIVE_CHECK' ACTIVE_CHECKING = 'ACTIVE_CHECKING' TEARDOWN = 'TEARDOWN' VALID_STATES = [TO_VALIDATE, PRE_VALIDATE, VALIDATING, VALIDATED, PRE_ACTIVATE, ACTIVATING, ACTIVE, PRE_ACTIVE_CHECK, ACTIVE_CHECKING, TEARDOWN] # Common definitions for maximum string field length KEYSTONE_URL_LEN = 2000 REGION_LEN = 255 # The resource attribute map for the extension. RESOURCE_ATTRIBUTE_MAP = { COLLECTION_NAME: { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True, 'enforce_policy': True}, 'project_id': {'allow_post': True, 'allow_put': False, 'validate': { 'type:string': db_const.PROJECT_ID_FIELD_SIZE}, 'required_by_policy': True, 'is_visible': True, 'enforce_policy': True}, 'name': {'allow_post': True, 'allow_put': True, 'default': '', 'validate': {'type:string': db_const.NAME_FIELD_SIZE}, 'is_visible': True, 'enforce_policy': True}, 'type': {'allow_post': True, 'allow_put': False, 'default': ROUTER, 'validate': {'type:values': VALID_TYPES}, 'is_visible': True, 'enforce_policy': True}, 'state': {'allow_post': False, 'allow_put': False, 'validate': {'type:values': VALID_STATES}, 'is_visible': True, 'enforce_policy': True}, 'local_resource_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'enforce_policy': True}, 'remote_resource_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'enforce_policy': True}, 'remote_keystone': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': KEYSTONE_URL_LEN}, 'is_visible': True, 'enforce_policy': True}, 'remote_region': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': REGION_LEN}, 'is_visible': True, 'enforce_policy': True}, 'remote_interconnection_id': {'allow_post': False, 'allow_put': False, 'is_visible': True, 'enforce_policy': True}, 'local_parameters': {'allow_post': False, 'allow_put': False, 'is_visible': True, 'enforce_policy': True}, 'remote_parameters': {'allow_post': False, 'allow_put': False, 'is_visible': True, 'enforce_policy': True} }, } # The subresource attribute map for the extension. It adds child resources # to main extension's resource. The subresource map must have a parent and # a parameters entry. If an extension does not need such a map, None can # be specified (mandatory). SUB_RESOURCE_ATTRIBUTE_MAP = None # The action map: it associates verbs with methods to be performed on # the API resource. ACTION_MAP = { RESOURCE_NAME: { 'refresh': 'PUT' } } # The action status. ACTION_STATUS = { } # The list of required extensions. REQUIRED_EXTENSIONS = [ ] # The list of optional extensions. OPTIONAL_EXTENSIONS = [ ] ",,502,0
openstack%2Fopenstack-zuul-jobs~master~I93dc3c8352184d8f6516d2f31b3082bf1a3ab999,openstack/openstack-zuul-jobs,master,I93dc3c8352184d8f6516d2f31b3082bf1a3ab999,Run neutron-grenade job only for branches before Ussuri,MERGED,2019-11-14 10:45:08.000000000,2019-11-15 07:52:48.000000000,2019-11-15 07:49:34.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 10:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/3d4854aec05de575902a91d9d761d7e5eb74524c', 'message': 'Drop old neutron-grenade job from integrated-gate template\n\nThis job is still running python 2.7. As we are dropping py2 support in\nUssuri cycle, lets drop this job now.\nThere is same job called ""grenade-py3"" which runs on python 3 already\nand this is still used in projects CI.\n\nChange-Id: I93dc3c8352184d8f6516d2f31b3082bf1a3ab999\n'}, {'number': 2, 'created': '2019-11-14 11:20:47.000000000', 'files': ['zuul.d/zuul-legacy-project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/7fce37a849ece42e3a5fb7b0943b4583e9dbfedc', 'message': 'Run neutron-grenade job only for branches before Ussuri\n\nThis job is still running python 2.7. As we are dropping py2 support in\nUssuri cycle, lets drop this job from the integrated-gate template for\nbranches newer than Train.\nThere is same job called ""grenade-py3"" which runs on python 3 already\nand this is still used in projects CI.\n\nChange-Id: I93dc3c8352184d8f6516d2f31b3082bf1a3ab999\n'}]",8,694244,7fce37a849ece42e3a5fb7b0943b4583e9dbfedc,15,5,2,11975,,,0,"Run neutron-grenade job only for branches before Ussuri

This job is still running python 2.7. As we are dropping py2 support in
Ussuri cycle, lets drop this job from the integrated-gate template for
branches newer than Train.
There is same job called ""grenade-py3"" which runs on python 3 already
and this is still used in projects CI.

Change-Id: I93dc3c8352184d8f6516d2f31b3082bf1a3ab999
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/44/694244/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-project-templates.yaml'],1,3d4854aec05de575902a91d9d761d7e5eb74524c,drop-py27-support,, - neutron-grenade: branches: ^(?!stable/(newton|ocata)).*$ - neutron-grenade: branches: ^(?!stable/(newton|ocata)).*$,0,4
openstack%2Fkarbor~master~Ic055aaf38f1e99d21ca1ada3055048ee72a360d9,openstack/karbor,master,Ic055aaf38f1e99d21ca1ada3055048ee72a360d9,Fix unit test error,MERGED,2019-11-15 02:58:15.000000000,2019-11-15 07:28:25.000000000,2019-11-15 07:26:36.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29147}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-15 02:58:15.000000000', 'files': ['karbor/tests/unit/protection/test_provider.py', 'karbor/tests/unit/clients/test_eisoo.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/95c1a0e7e22c83f07eadd9c052651933038ccc08', 'message': 'Fix unit test error\n\nFix all the order of decorators and parameters in unittest.\n\nChange-Id: Ic055aaf38f1e99d21ca1ada3055048ee72a360d9\n'}]",0,694436,95c1a0e7e22c83f07eadd9c052651933038ccc08,7,4,1,29139,,,0,"Fix unit test error

Fix all the order of decorators and parameters in unittest.

Change-Id: Ic055aaf38f1e99d21ca1ada3055048ee72a360d9
",git fetch https://review.opendev.org/openstack/karbor refs/changes/36/694436/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/tests/unit/protection/test_provider.py', 'karbor/tests/unit/clients/test_eisoo.py']",2,95c1a0e7e22c83f07eadd9c052651933038ccc08,order_dismatch," def test_create_client_by_config_file(self, mock_abspath, mock_findconfig):"," def test_create_client_by_config_file(self, mock_findconfig, mock_abspath):",2,2
openstack%2Fproject-config~master~Iaccf11e11119e9b30188e74172ebc7a41880566d,openstack/project-config,master,Iaccf11e11119e9b30188e74172ebc7a41880566d,Normalize projects.yaml,MERGED,2019-11-15 06:08:01.000000000,2019-11-15 07:24:06.000000000,2019-11-15 07:24:05.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 06:08:01.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/448a7848ea42e6d6469280fd3034d0d9c6b970bd', 'message': 'Normalize projects.yaml\n\nChange-Id: Iaccf11e11119e9b30188e74172ebc7a41880566d\n'}]",0,694455,448a7848ea42e6d6469280fd3034d0d9c6b970bd,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Iaccf11e11119e9b30188e74172ebc7a41880566d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/694455/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,448a7848ea42e6d6469280fd3034d0d9c6b970bd,project-yaml-normalization,, upstream: https://github.com/openstack-charmers/charm-manila-ganesha.git,0,1
openstack%2Fkarbor-dashboard~master~I79e078ad944db19c24d1df99a853590b857a85ad,openstack/karbor-dashboard,master,I79e078ad944db19c24d1df99a853590b857a85ad,Switch to Ussuri jobs,MERGED,2019-11-12 07:15:32.000000000,2019-11-15 07:04:15.000000000,2019-11-15 07:04:15.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 07:15:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/2859b78e82ca3b6bf2704d04089b9fd34a24371d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I79e078ad944db19c24d1df99a853590b857a85ad\n'}]",0,693778,2859b78e82ca3b6bf2704d04089b9fd34a24371d,6,2,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: I79e078ad944db19c24d1df99a853590b857a85ad
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/78/693778/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2859b78e82ca3b6bf2704d04089b9fd34a24371d,dev, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftripleo-quickstart~master~Id7be72c04374dea9b420bd926b6c9819bddf31b3,openstack/tripleo-quickstart,master,Id7be72c04374dea9b420bd926b6c9819bddf31b3,Disable Paunch on the undercloud job (fs027),MERGED,2019-11-01 15:31:22.000000000,2019-11-15 06:49:15.000000000,2019-11-14 21:56:14.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 15:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/06130b3e84f92292af25f555ff448b9bbe32b0ba', 'message': 'WIP - disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: I67c1f61d8422fba1d70f6075bbb116305513acf6\nDepends-On: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\nDepends-On: I6f9498f2e8e54c6b670d616a3122263cd42c44e8\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 2, 'created': '2019-11-02 22:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3878a18c7ef8161bb25c20279207e36a4bc19552', 'message': 'WIP - disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 3, 'created': '2019-11-04 21:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/10890e556c8fbb3a22634c7fec98908ed947e8b5', 'message': 'WIP - disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: I60a14721ed978dddbebfd28f830fb2c50f326ce0\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 4, 'created': '2019-11-05 10:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a0c48259d610f8b0bb15e3fc7a551f719376e69b', 'message': 'WIP - disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 5, 'created': '2019-11-06 16:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f5818a57e2da05052baf23acb3cb8e5c2cfc50ef', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 6, 'created': '2019-11-08 07:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1f9d0634787efd3eda0d22604ac935c7e2386547', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 7, 'created': '2019-11-08 15:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/78813fc16407cfa875644a12492a10859f4dff11', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: I9c6ad6c0d1b41bbe0bb64c7c1bc9e9ef159ed172\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 8, 'created': '2019-11-12 14:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a3c0420d212a28f74dd98d20c194452fa76e9865', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: I9c6ad6c0d1b41bbe0bb64c7c1bc9e9ef159ed172\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 9, 'created': '2019-11-12 16:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f2c790ed9657c1f61d05f3c8d4106840ae2193eb', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 10, 'created': '2019-11-12 16:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ca0c6b127d19d461922e77acdab0df894f970adf', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 11, 'created': '2019-11-12 18:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4710826538b53d0da6119dd96fbe4b7462c691e2', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: I6eca0eaec3f251414df7e92386f9c6978a212a81\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 12, 'created': '2019-11-13 07:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cee4d8dbbac23477b904a216d050340f830253af', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nDepends-On: I731b09fe98a01758bd86e6211b7a5fd51e889526\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 13, 'created': '2019-11-14 09:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/18f8d07ef466945ef1c2c1007a8124b54e2e094b', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}, {'number': 14, 'created': '2019-11-14 09:47:07.000000000', 'files': ['config/general_config/featureset027.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1e2976d687a1c070fd68601c3361c3b6385197df', 'message': 'Disable Paunch on the undercloud job (fs027)\n\nThis patch will change the fs027 (undercloud job) to start containers\nwithout Paunch in TripleO.\n\nChange-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3\n'}]",0,692568,1e2976d687a1c070fd68601c3361c3b6385197df,69,6,14,3153,,,0,"Disable Paunch on the undercloud job (fs027)

This patch will change the fs027 (undercloud job) to start containers
without Paunch in TripleO.

Change-Id: Id7be72c04374dea9b420bd926b6c9819bddf31b3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/68/692568/12 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,06130b3e84f92292af25f555ff448b9bbe32b0ba,disable/paunch, undercloud_enable_paunch: false,,2,0
openstack%2Fnova~master~I3c49825ac0d70152b6c8ee4c8ca01546265f4b80,openstack/nova,master,I3c49825ac0d70152b6c8ee4c8ca01546265f4b80,Consolidate [image_cache] conf options,MERGED,2019-10-23 19:46:09.000000000,2019-11-15 06:29:23.000000000,2019-11-14 08:29:44.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-23 19:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4c8f4672c1a932fd022bad48bdb5e1b330932a0', 'message': 'Consolidate [image_cache] conf options\n\nBlueprint image-precache-support added a conf section called\n[image_cache], so it makes sense to move all the existing image\ncache-related conf options into it.\n\nOld:\n[DEFAULT]image_cache_manager_interval\n[DEFAULT]image_cache_subdirectory_name\n[DEFAULT]remove_unused_base_images\n[DEFAULT]remove_unused_original_minimum_age_seconds\n[libvirt]remove_unused_resized_minimum_age_seconds\n\nNew:\n[image_cache]manager_interval\n[image_cache]subdirectory_name\n[image_cache]remove_unused_base_images\n[image_cache]remove_unused_original_minimum_age_seconds\n[image_cache]remove_unused_resized_minimum_age_seconds\n\nChange-Id: I3c49825ac0d70152b6c8ee4c8ca01546265f4b80\nPartial-Bug: #1847302\n'}, {'number': 2, 'created': '2019-10-23 20:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c4e1ebf29aa8443ac37450b531bfa986e439211', 'message': 'Consolidate [image_cache] conf options\n\nBlueprint image-precache-support added a conf section called\n[image_cache], so it makes sense to move all the existing image\ncache-related conf options into it.\n\nOld:\n[DEFAULT]image_cache_manager_interval\n[DEFAULT]image_cache_subdirectory_name\n[DEFAULT]remove_unused_base_images\n[DEFAULT]remove_unused_original_minimum_age_seconds\n[libvirt]remove_unused_resized_minimum_age_seconds\n\nNew:\n[image_cache]manager_interval\n[image_cache]subdirectory_name\n[image_cache]remove_unused_base_images\n[image_cache]remove_unused_original_minimum_age_seconds\n[image_cache]remove_unused_resized_minimum_age_seconds\n\nChange-Id: I3c49825ac0d70152b6c8ee4c8ca01546265f4b80\nPartial-Bug: #1847302\n'}, {'number': 3, 'created': '2019-11-13 17:09:10.000000000', 'files': ['nova/conf/compute.py', 'nova/conf/imagecache.py', 'nova/virt/libvirt/imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/virt/hyperv/imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/conf/libvirt.py', 'nova/virt/vmwareapi/imagecache.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/virt/hyperv/test_imagecache.py', 'nova/virt/vmwareapi/vmops.py', 'nova/virt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/compute/manager.py', 'doc/source/admin/image-caching.rst', 'releasenotes/notes/image_cache-conf-opts-moved-e552e4a2d59e056e.yaml', 'nova/virt/libvirt/imagebackend.py', 'doc/source/admin/configuration/hypervisor-vmware.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/828e8047e5c8651ea757bda7922670889d5e8818', 'message': 'Consolidate [image_cache] conf options\n\nBlueprint image-precache-support added a conf section called\n[image_cache], so it makes sense to move all the existing image\ncache-related conf options into it.\n\nOld:\n[DEFAULT]image_cache_manager_interval\n[DEFAULT]image_cache_subdirectory_name\n[DEFAULT]remove_unused_base_images\n[DEFAULT]remove_unused_original_minimum_age_seconds\n[libvirt]remove_unused_resized_minimum_age_seconds\n\nNew:\n[image_cache]manager_interval\n[image_cache]subdirectory_name\n[image_cache]remove_unused_base_images\n[image_cache]remove_unused_original_minimum_age_seconds\n[image_cache]remove_unused_resized_minimum_age_seconds\n\nChange-Id: I3c49825ac0d70152b6c8ee4c8ca01546265f4b80\nPartial-Bug: #1847302\n'}]",12,690723,828e8047e5c8651ea757bda7922670889d5e8818,41,13,3,14070,,,0,"Consolidate [image_cache] conf options

Blueprint image-precache-support added a conf section called
[image_cache], so it makes sense to move all the existing image
cache-related conf options into it.

Old:
[DEFAULT]image_cache_manager_interval
[DEFAULT]image_cache_subdirectory_name
[DEFAULT]remove_unused_base_images
[DEFAULT]remove_unused_original_minimum_age_seconds
[libvirt]remove_unused_resized_minimum_age_seconds

New:
[image_cache]manager_interval
[image_cache]subdirectory_name
[image_cache]remove_unused_base_images
[image_cache]remove_unused_original_minimum_age_seconds
[image_cache]remove_unused_resized_minimum_age_seconds

Change-Id: I3c49825ac0d70152b6c8ee4c8ca01546265f4b80
Partial-Bug: #1847302
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/690723/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/conf/imagecache.py', 'nova/virt/libvirt/imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/virt/hyperv/imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/conf/libvirt.py', 'nova/virt/vmwareapi/imagecache.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/virt/hyperv/test_imagecache.py', 'nova/virt/vmwareapi/vmops.py', 'nova/virt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/compute/manager.py', 'doc/source/admin/image-caching.rst', 'releasenotes/notes/image_cache-conf-opts-moved-e552e4a2d59e056e.yaml', 'nova/virt/libvirt/imagebackend.py', 'doc/source/admin/configuration/hypervisor-vmware.rst']",21,e4c8f4672c1a932fd022bad48bdb5e1b330932a0,bug/1847302,"configure this action, set these options in the :oslo.config:group`image_cache` section in the ``nova.conf`` file: :oslo.config:option:`image_cache.remove_unused_base_images` :oslo.config:option:`image_cache.remove_unused_original_minimum_age_seconds` option. The default is ``True``. :oslo.config:option:`image_cache.remove_unused_original_minimum_age_seconds`","configure this action, set these options in the ``DEFAULT`` section in the ``nova.conf`` file: ``remove_unused_base_images`` ``remove_unused_original_minimum_age_seconds`` option. The default is ``True``. ``remove_unused_original_minimum_age_seconds``",141,92
openstack%2Fneutron~stable%2Frocky~I1137eb18efaf51c67fab145e645f58cbd3772e40,openstack/neutron,stable/rocky,I1137eb18efaf51c67fab145e645f58cbd3772e40,Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall,MERGED,2019-11-11 11:12:41.000000000,2019-11-15 06:24:47.000000000,2019-11-15 06:24:47.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-11 11:12:41.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/879bb9032857bf0109185e85095ef4b5c77bcbde', 'message': 'Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall\n\nThis will prevent ovs agent from endless fail loop when dealing\nwith unbound port: like when port was created in neutron before\nagent become alive, then agent gets online and and starts processing\ndevices.\nThis patch adds exception handling to prepare_port_filter() -\nsame as done in update_port_filter().\n\nChange-Id: I1137eb18efaf51c67fab145e645f58cbd3772e40\nCloses-Bug: #1849098\n(cherry picked from commit e801159003978f7c5c67eb3e9fe36fa690656d77)\n(cherry picked from commit 0fb7f8ddac0d55dfc64c0c0c2931b3c17cb00d37)\n'}]",0,693681,879bb9032857bf0109185e85095ef4b5c77bcbde,11,7,1,9531,,,0,"Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall

This will prevent ovs agent from endless fail loop when dealing
with unbound port: like when port was created in neutron before
agent become alive, then agent gets online and and starts processing
devices.
This patch adds exception handling to prepare_port_filter() -
same as done in update_port_filter().

Change-Id: I1137eb18efaf51c67fab145e645f58cbd3772e40
Closes-Bug: #1849098
(cherry picked from commit e801159003978f7c5c67eb3e9fe36fa690656d77)
(cherry picked from commit 0fb7f8ddac0d55dfc64c0c0c2931b3c17cb00d37)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/693681/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,879bb9032857bf0109185e85095ef4b5c77bcbde,bug/1849098-stable/stein-stable/rocky," try: old_of_port = self.get_ofport(port) of_port = self.get_or_create_ofport(port) if old_of_port: LOG.info(""Initializing port %s that was already initialized."", port['device']) self._update_flows_for_port(of_port, old_of_port) else: self._set_port_filters(of_port) except exceptions.OVSFWPortNotFound as not_found_error: LOG.info(""port %(port_id)s does not exist in ovsdb: %(err)s."", {'port_id': port['device'], 'err': not_found_error}) except exceptions.OVSFWTagNotFound as tag_not_found: LOG.info(""Tag was not found for port %(port_id)s: %(err)s."", {'port_id': port['device'], 'err': tag_not_found})"," old_of_port = self.get_ofport(port) of_port = self.get_or_create_ofport(port) if old_of_port: LOG.info(""Initializing port %s that was already initialized."", port['device']) self._update_flows_for_port(of_port, old_of_port) else: self._set_port_filters(of_port)",17,8
openstack%2Fheat~stable%2Fqueens~I18cde971248eff5783f97c9e7a60316d7dd93431,openstack/heat,stable/queens,I18cde971248eff5783f97c9e7a60316d7dd93431,Add retries when loading keystone data and fetching endpoints,MERGED,2019-08-24 10:41:37.000000000,2019-11-15 06:19:54.000000000,2019-11-15 06:19:54.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-08-24 10:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2308fe5c5fcc179517cbfc89f13076dde33f844d', 'message': 'Add retries when loading keystone data and fetching endpoints\n\nWe may end up loading lots of nested stacks concurrently with\nconvergence and those would try to discover endpoints and fetch\naccess info objects from keystone. This at times results in\nConnectTimeout errors from keystone. We can avoid these errors\nby adding some retries.\n\nAlso adds retries to client_plugin get_endpoint() calls, which has\nsimillar issue.\n\nChange-Id: I18cde971248eff5783f97c9e7a60316d7dd93431\nTask: 36349\n(cherry picked from commit 6fb8ac250ae27810516b89f273923d6b786606b5)\n'}, {'number': 2, 'created': '2019-10-23 10:19:57.000000000', 'files': ['heat/common/context.py', 'heat/engine/clients/client_plugin.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/33cdf77cc7f26da36447e8d223eba29d9678a02c', 'message': 'Add retries when loading keystone data and fetching endpoints\n\nWe may end up loading lots of nested stacks concurrently with\nconvergence and those would try to discover endpoints and fetch\naccess info objects from keystone. This at times results in\nConnectTimeout errors from keystone. We can avoid these errors\nby adding some retries.\n\nAlso adds retries to client_plugin get_endpoint() calls, which has\nsimillar issue.\n\nChange-Id: I18cde971248eff5783f97c9e7a60316d7dd93431\nTask: 36349\n(cherry picked from commit 6fb8ac250ae27810516b89f273923d6b786606b5)\n'}]",0,678346,33cdf77cc7f26da36447e8d223eba29d9678a02c,24,7,2,8833,,,0,"Add retries when loading keystone data and fetching endpoints

We may end up loading lots of nested stacks concurrently with
convergence and those would try to discover endpoints and fetch
access info objects from keystone. This at times results in
ConnectTimeout errors from keystone. We can avoid these errors
by adding some retries.

Also adds retries to client_plugin get_endpoint() calls, which has
simillar issue.

Change-Id: I18cde971248eff5783f97c9e7a60316d7dd93431
Task: 36349
(cherry picked from commit 6fb8ac250ae27810516b89f273923d6b786606b5)
",git fetch https://review.opendev.org/openstack/heat refs/changes/46/678346/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/common/context.py', 'heat/engine/clients/client_plugin.py']",2,2308fe5c5fcc179517cbfc89f13076dde33f844d,,from heat.common import context @context.retry_on_connection_timeout,,15,0
openstack%2Fproject-config~master~I0c20c3c227f4436a087601eef186e2f04348d40c,openstack/project-config,master,I0c20c3c227f4436a087601eef186e2f04348d40c,New charm for manila-ganesha,MERGED,2019-11-08 01:47:12.000000000,2019-11-15 05:55:01.000000000,2019-11-15 05:55:01.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 01:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6a2fda4c36911f7a493e68d5be39000dd34f43d7', 'message': 'New charm for manila-ganesha\n\nAdd manila-ganesha charm to enable the CephFS Ganesha\nbackend for the manila charm\n\nChange-Id: I0c20c3c227f4436a087601eef186e2f04348d40c\n'}, {'number': 2, 'created': '2019-11-08 06:47:34.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c4998528324ad2a869a4d11a608a83f0a36981be', 'message': 'New charm for manila-ganesha\n\nAdd manila-ganesha charm to enable the CephFS Ganesha\nbackend for the manila charm\n\nNeeded-By: I1398552c487a8e7a7a500269de055ad1a7874e22\nChange-Id: I0c20c3c227f4436a087601eef186e2f04348d40c\n'}]",0,693462,c4998528324ad2a869a4d11a608a83f0a36981be,12,4,2,20634,,,0,"New charm for manila-ganesha

Add manila-ganesha charm to enable the CephFS Ganesha
backend for the manila charm

Needed-By: I1398552c487a8e7a7a500269de055ad1a7874e22
Change-Id: I0c20c3c227f4436a087601eef186e2f04348d40c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/693462/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,6a2fda4c36911f7a493e68d5be39000dd34f43d7,new-project, - openstack/charm-manila-ganesha,,7,0
openstack%2Fproject-config~master~Id201b8c7f624287021492daa80b4bd2f57efc855,openstack/project-config,master,Id201b8c7f624287021492daa80b4bd2f57efc855,Grant permissions for murano-dashboard to horizon-core,MERGED,2019-10-25 01:51:59.000000000,2019-11-15 05:54:59.000000000,2019-11-15 05:54:59.000000000,"[{'_account_id': 1736}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-10-25 01:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d969b6792e20409f81aea0dcfea16669926eeff5', 'message': 'Grant permissions for murano-dashboard to horizon-core\n\nChange-Id: Id201b8c7f624287021492daa80b4bd2f57efc855\n'}, {'number': 2, 'created': '2019-10-25 02:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9461853bfb7e3ac99ec176c0a07b29f278e10d30', 'message': 'Grant permissions for murano-dashboard to horizon-core\n\nChange-Id: Id201b8c7f624287021492daa80b4bd2f57efc855\n'}, {'number': 3, 'created': '2019-10-25 07:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b75d19151b9519ea1ee533b0f7590d48c608bf7e', 'message': 'Grant permissions for murano-dashboard to horizon-core\n\nChange-Id: Id201b8c7f624287021492daa80b4bd2f57efc855\n'}, {'number': 4, 'created': '2019-10-26 07:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/60fdf6364ad7e512d61bf3d077bbc00811c88ac6', 'message': 'Grant permissions for murano-dashboard to horizon-core\n\nChange-Id: Id201b8c7f624287021492daa80b4bd2f57efc855\n'}, {'number': 5, 'created': '2019-11-13 00:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aec963c0d2a160a56a9fc95a0113d0f96c98cde8', 'message': 'Grant permissions for murano-dashboard to horizon-core\n\nChange-Id: Id201b8c7f624287021492daa80b4bd2f57efc855\n'}, {'number': 6, 'created': '2019-11-13 01:06:05.000000000', 'files': ['gerrit/acls/openstack/murano-dashboard.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/eb2bdfaf945ca835ff08caa8faefe244aac5f934', 'message': 'Grant permissions for murano-dashboard to horizon-core\n\nChange-Id: Id201b8c7f624287021492daa80b4bd2f57efc855\n'}]",4,691140,eb2bdfaf945ca835ff08caa8faefe244aac5f934,26,7,6,14107,,,0,"Grant permissions for murano-dashboard to horizon-core

Change-Id: Id201b8c7f624287021492daa80b4bd2f57efc855
",git fetch https://review.opendev.org/openstack/project-config refs/changes/40/691140/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/murano-dashboard.config', 'gerrit/projects.yaml']",2,d969b6792e20409f81aea0dcfea16669926eeff5,,, acl-config: /home/gerrit2/acls/openstack/murano.config,14,1
openstack%2Fproject-config~master~I9b46c176d25e2186af579ed3ca97cedfaa20e564,openstack/project-config,master,I9b46c176d25e2186af579ed3ca97cedfaa20e564,Add tracking for Train jobs,MERGED,2019-10-15 21:41:44.000000000,2019-11-15 05:54:57.000000000,2019-11-15 05:54:57.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 21:41:44.000000000', 'files': ['grafana/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4f654256f86ea230b6c8556c82c81d93eeeef4e4', 'message': 'Add tracking for Train jobs\n\nAdd tracking for Train jobs added in [1]\n\n[1] https://review.opendev.org/#/c/685213/\n\nDepends-On: https://review.opendev.org/#/c/685213/\nChange-Id: I9b46c176d25e2186af579ed3ca97cedfaa20e564\n'}]",0,688822,4f654256f86ea230b6c8556c82c81d93eeeef4e4,11,7,1,13995,,,0,"Add tracking for Train jobs

Add tracking for Train jobs added in [1]

[1] https://review.opendev.org/#/c/685213/

Depends-On: https://review.opendev.org/#/c/685213/
Change-Id: I9b46c176d25e2186af579ed3ca97cedfaa20e564
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/688822/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron-tempest-plugin.yaml'],1,4f654256f86ea230b6c8556c82c81d93eeeef4e4,update_neutron_tempest_plugin_grafana," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-sfc') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-sfc') - title: Train Release Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-train (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-sfc-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-fwaas-train') type: graph - title: Number of Train Release Failures (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-train (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-sfc-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-fwaas-train') type: graph"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-sfc') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-sfc')",30,2
openstack%2Fstorlets~master~I90fa2ff50b9cd2d5e4679168ae22fe99834ac435,openstack/storlets,master,I90fa2ff50b9cd2d5e4679168ae22fe99834ac435,Fix wrong return codes in restart_docker_container,ABANDONED,2019-11-15 04:16:33.000000000,2019-11-15 05:02:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-15 04:16:33.000000000', 'files': ['scripts/restart_docker_container.c'], 'web_link': 'https://opendev.org/openstack/storlets/commit/0ce045118b9e0ce98291ace58d20e2ccbd8c5dc8', 'message': 'Fix wrong return codes in restart_docker_container\n\nChange-Id: I90fa2ff50b9cd2d5e4679168ae22fe99834ac435\n'}]",0,694445,0ce045118b9e0ce98291ace58d20e2ccbd8c5dc8,3,1,1,9816,,,0,"Fix wrong return codes in restart_docker_container

Change-Id: I90fa2ff50b9cd2d5e4679168ae22fe99834ac435
",git fetch https://review.opendev.org/openstack/storlets refs/changes/45/694445/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/restart_docker_container.c'],1,0ce045118b9e0ce98291ace58d20e2ccbd8c5dc8,wrong-code, return 1; } return 0;, return EXIT_FAILURE; } return EXIT_SUCCESS;,2,2
openstack%2Fheat~master~I6f248dfd82502ef225ba755246c2de385d30f4b2,openstack/heat,master,I6f248dfd82502ef225ba755246c2de385d30f4b2,Drop Python2 support,MERGED,2019-10-29 19:49:25.000000000,2019-11-15 05:00:07.000000000,2019-11-15 04:57:49.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-29 19:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ba2cf675cde9a6c8f848aa79b432d4f560f27c17', 'message': 'Drop Python2 support\n\nChange-Id: I6f248dfd82502ef225ba755246c2de385d30f4b2\n'}, {'number': 2, 'created': '2019-10-30 02:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/be9b27450e54046beb03e28f8d2753bbc72faf91', 'message': 'Drop Python2 support\n\nChange-Id: I6f248dfd82502ef225ba755246c2de385d30f4b2\n'}, {'number': 3, 'created': '2019-11-06 08:57:20.000000000', 'files': ['releasenotes/notes/python2-7125a4d5b441e7a6.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/e0dbb3f7fa7450ae577f707c8942f452171551b6', 'message': 'Drop Python2 support\n\nChange-Id: I6f248dfd82502ef225ba755246c2de385d30f4b2\n'}]",0,691956,e0dbb3f7fa7450ae577f707c8942f452171551b6,18,5,3,4257,,,0,"Drop Python2 support

Change-Id: I6f248dfd82502ef225ba755246c2de385d30f4b2
",git fetch https://review.opendev.org/openstack/heat refs/changes/56/691956/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,ba2cf675cde9a6c8f848aa79b432d4f560f27c17,drop-py27-support,"envlist = py36,py37,pep8whitelist_externals = rm","envlist = py36,py37,py27,pep8 find {toxinidir} -type f -not -path '{toxinidir}/.tox/*' -not -path '*/__pycache__/*' -name '*.py[c|o]' -deletewhitelist_externals = bash find[testenv:py27log] commands = find {toxinidir} -type f -not -path '{toxinidir}/.tox/*' -not -path '*/__pycache__/*' -name '*.py[c|o]' -delete stestr run '^(?!heat_integrationtests){posargs}' find {toxinidir} -not -path '{toxinidir}/.tox/*' -not -path '*/__pycache__/*' -name '*.py[c|o]' -deletewhitelist_externals = bash rm",8,28
openstack%2Fnova~master~Ide8eb9e09d22f20165474d499ef0524aefc67854,openstack/nova,master,Ide8eb9e09d22f20165474d499ef0524aefc67854,Use named kwargs in compute.API.resize,MERGED,2019-11-07 20:35:21.000000000,2019-11-15 04:26:03.000000000,2019-11-14 03:08:05.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 20:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc836cda1d7a7872df49ca7c2bfed0ad105c087a', 'message': 'Use named kwargs in compute.API.resize\n\nThe only kwarg passed to resize() is the auto_disk_config\nkwarg during resize (not cold migrate). This expands it out\nto a named kwarg to resolve the TODO. The same is done with\n_check_auto_disk_config and as a result there is a hit to\nrebuild as well, but the same TODO exists on rebuild() to use\nnamed kwargs but that can be dealt with separately.\n\nChange-Id: Ide8eb9e09d22f20165474d499ef0524aefc67854\n'}, {'number': 2, 'created': '2019-11-07 22:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57f03ce85bdd03f2e933bf9b4a7ba89e02ca45fe', 'message': 'Use named kwargs in compute.API.resize\n\nThe only kwarg passed to resize() is the auto_disk_config\nkwarg during resize (not cold migrate). This expands it out\nto a named kwarg to resolve the TODO. The same is done with\n_check_auto_disk_config and as a result there is a hit to\nrebuild as well, but the same TODO exists on rebuild() to use\nnamed kwargs but that can be dealt with separately.\n\nChange-Id: Ide8eb9e09d22f20165474d499ef0524aefc67854\n'}, {'number': 3, 'created': '2019-11-13 15:30:23.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/891b8f9e987ba0a39ce4dc97b8e1d3602db15ba5', 'message': 'Use named kwargs in compute.API.resize\n\nThe only kwarg passed to resize() is the auto_disk_config\nkwarg during resize (not cold migrate). This expands it out\nto a named kwarg to resolve the TODO. The same is done with\n_check_auto_disk_config and as a result there is a hit to\nrebuild as well, but the same TODO exists on rebuild() to use\nnamed kwargs but that can be dealt with separately.\n\nChange-Id: Ide8eb9e09d22f20165474d499ef0524aefc67854\n'}]",1,693425,891b8f9e987ba0a39ce4dc97b8e1d3602db15ba5,42,15,3,6873,,,0,"Use named kwargs in compute.API.resize

The only kwarg passed to resize() is the auto_disk_config
kwarg during resize (not cold migrate). This expands it out
to a named kwarg to resolve the TODO. The same is done with
_check_auto_disk_config and as a result there is a hit to
rebuild as well, but the same TODO exists on rebuild() to use
named kwargs but that can be dealt with separately.

Change-Id: Ide8eb9e09d22f20165474d499ef0524aefc67854
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/693425/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",4,cc836cda1d7a7872df49ca7c2bfed0ad105c087a,compute-api-resize-kwargs," def _resize(self, req, instance_id, flavor_id, auto_disk_config=None): self.compute_api.resize(context, instance, flavor_id, auto_disk_config=auto_disk_config)"," def _resize(self, req, instance_id, flavor_id, **kwargs): self.compute_api.resize(context, instance, flavor_id, **kwargs)",26,19
openstack%2Ftaskflow~master~Ife31d353ba80824ebc63c8b21ee90943badc8da3,openstack/taskflow,master,Ife31d353ba80824ebc63c8b21ee90943badc8da3,Update TaskFlow for networkx 2.x,MERGED,2019-10-19 01:05:45.000000000,2019-11-15 04:25:49.000000000,2019-11-15 04:24:16.000000000,"[{'_account_id': 4523}, {'_account_id': 6928}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-19 01:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/cd6c95e0ce1b97fc6ba784c50385c842fbebf46c', 'message': 'Update TaskFlow for networkx 2.x\n\nThe networkx 2.x series has been out for two years now and supports\npython 3.6 and greater[1]. This patch updates TaskFlow to require\na minimum of networkx 2.1. It also updates the code to support\nrecent deprecation expiration introduced in the 2.4 release.\n\n[1] https://networkx.github.io/documentation/stable/news.html\n\nChange-Id: Ife31d353ba80824ebc63c8b21ee90943badc8da3\n'}, {'number': 2, 'created': '2019-10-19 01:11:50.000000000', 'files': ['taskflow/types/graph.py', 'taskflow/engines/action_engine/runtime.py', 'taskflow/engines/action_engine/traversal.py', 'lower-constraints.txt', 'taskflow/engines/action_engine/deciders.py', 'taskflow/tests/unit/action_engine/test_compile.py', 'taskflow/patterns/graph_flow.py', 'taskflow/patterns/linear_flow.py', 'taskflow/tests/unit/action_engine/test_builder.py', 'requirements.txt', 'taskflow/engines/action_engine/engine.py', 'taskflow/patterns/unordered_flow.py', 'taskflow/engines/action_engine/scopes.py', 'taskflow/engines/action_engine/compiler.py', 'taskflow/tests/unit/test_types.py', 'taskflow/utils/misc.py', 'taskflow/formatters.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dc6495cfa1c8e1dc95bad554a55f0b4e8e360abe', 'message': 'Update TaskFlow for networkx 2.x\n\nThe networkx 2.x series has been out for two years now and supports\npython 3.6 and greater[1]. This patch updates TaskFlow to require\na minimum of networkx 2.1. It also updates the code to support\nrecent deprecation expiration introduced in the 2.4 release.\n\n[1] https://networkx.github.io/documentation/stable/news.html\n\nChange-Id: Ife31d353ba80824ebc63c8b21ee90943badc8da3\n'}]",0,689611,dc6495cfa1c8e1dc95bad554a55f0b4e8e360abe,23,6,2,11628,,,0,"Update TaskFlow for networkx 2.x

The networkx 2.x series has been out for two years now and supports
python 3.6 and greater[1]. This patch updates TaskFlow to require
a minimum of networkx 2.1. It also updates the code to support
recent deprecation expiration introduced in the 2.4 release.

[1] https://networkx.github.io/documentation/stable/news.html

Change-Id: Ife31d353ba80824ebc63c8b21ee90943badc8da3
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/11/689611/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/types/graph.py', 'taskflow/engines/action_engine/runtime.py', 'taskflow/engines/action_engine/traversal.py', 'lower-constraints.txt', 'taskflow/engines/action_engine/deciders.py', 'taskflow/tests/unit/action_engine/test_compile.py', 'taskflow/patterns/graph_flow.py', 'taskflow/patterns/linear_flow.py', 'taskflow/tests/unit/action_engine/test_builder.py', 'requirements.txt', 'taskflow/engines/action_engine/engine.py', 'taskflow/patterns/unordered_flow.py', 'taskflow/engines/action_engine/scopes.py', 'taskflow/engines/action_engine/compiler.py', 'taskflow/tests/unit/test_types.py', 'taskflow/utils/misc.py', 'taskflow/formatters.py']",17,cd6c95e0ce1b97fc6ba784c50385c842fbebf46c,, for pred_node in graph.predecessors(node): pred_node_data = graph.nodes[pred_node] for pred_pred_node in graph.predecessors(pred_node):, for pred_node in graph.predecessors_iter(node): pred_node_data = graph.node[pred_node] for pred_pred_node in graph.predecessors_iter(pred_node):,76,168
openstack%2Fstorlets~master~I3f58945d49b2da77a371f4ed5acc76e32e3a8639,openstack/storlets,master,I3f58945d49b2da77a371f4ed5acc76e32e3a8639,DNM: Check command output,ABANDONED,2019-11-15 01:10:22.000000000,2019-11-15 04:07:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-15 01:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3aef796d23630956d7b6bf208887af542c5a4cf6', 'message': 'DNM: Check command output\n\nChange-Id: I3f58945d49b2da77a371f4ed5acc76e32e3a8639\n'}, {'number': 2, 'created': '2019-11-15 01:55:58.000000000', 'files': ['bin/init_container.sh'], 'web_link': 'https://opendev.org/openstack/storlets/commit/12d8a25a00d1eec0f4dc901e2002a3d5aed06142', 'message': 'DNM: Check command output\n\nChange-Id: I3f58945d49b2da77a371f4ed5acc76e32e3a8639\n'}]",0,694432,12d8a25a00d1eec0f4dc901e2002a3d5aed06142,5,1,2,9816,,,0,"DNM: Check command output

Change-Id: I3f58945d49b2da77a371f4ed5acc76e32e3a8639
",git fetch https://review.opendev.org/openstack/storlets refs/changes/32/694432/2 && git format-patch -1 --stdout FETCH_HEAD,['bin/init_container.sh'],1,3aef796d23630956d7b6bf208887af542c5a4cf6,py3-agent, PYTHONPATH='/usr/lib/storlets/python' /usr/local/libexec/storlets/storlets-daemon-factory $2 $3 $HOSTNAME 2>&1 | logger -p daemon.error, PYTHONPATH='/usr/lib/storlets/python' /usr/local/libexec/storlets/storlets-daemon-factory $2 $3 $HOSTNAME,1,1
openstack%2Fnova~master~I4d5276a2f8dc185fdead4592e1801411566558cb,openstack/nova,master,I4d5276a2f8dc185fdead4592e1801411566558cb,Remove TODO from ComputeTaskManager._live_migrate,MERGED,2019-11-11 13:38:39.000000000,2019-11-15 03:13:15.000000000,2019-11-15 03:10:15.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-11 13:38:39.000000000', 'files': ['nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/996a4bbbd93a089830637166df8800e10c353772', 'message': 'Remove TODO from ComputeTaskManager._live_migrate\n\nBack when this TODO was written [1] the wrap_instance_event\ndecorator was not on the migrate_server method that calls\n_live_migrate and the other caller, live_migrate_instance,\ndid not exist (but also has the wrap_instance_event decorator).\nBecause _live_migrate re-raises and both callers are using the\nwrap_instance_event decorator which will update the instance\naction created in the API live_migrate method, the TODO is\nessentially already resolved.\n\n[1] I4120156db1499dfd3ed22095e528787eb73d33a6\n\nChange-Id: I4d5276a2f8dc185fdead4592e1801411566558cb\n'}]",0,693696,996a4bbbd93a089830637166df8800e10c353772,36,13,1,6873,,,0,"Remove TODO from ComputeTaskManager._live_migrate

Back when this TODO was written [1] the wrap_instance_event
decorator was not on the migrate_server method that calls
_live_migrate and the other caller, live_migrate_instance,
did not exist (but also has the wrap_instance_event decorator).
Because _live_migrate re-raises and both callers are using the
wrap_instance_event decorator which will update the instance
action created in the API live_migrate method, the TODO is
essentially already resolved.

[1] I4120156db1499dfd3ed22095e528787eb73d33a6

Change-Id: I4d5276a2f8dc185fdead4592e1801411566558cb
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/693696/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,996a4bbbd93a089830637166df8800e10c353772,_live_migrate,, # TODO(johngarbutt) - eventually need instance actions here,0,1
openstack%2Frequirements~master~I5c0cf8857641cf6d6ef0368f9923fe8b741c318f,openstack/requirements,master,I5c0cf8857641cf6d6ef0368f9923fe8b741c318f,update constraint for oslo.utils to new release 3.42.0,MERGED,2019-11-14 04:39:29.000000000,2019-11-15 03:11:25.000000000,2019-11-15 03:10:19.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 04:39:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7181c08ef25ae66a562986c935e6a0a7f492f439', 'message': 'update constraint for oslo.utils to new release 3.42.0\n\nChange-Id: I5c0cf8857641cf6d6ef0368f9923fe8b741c318f\nmeta:version: 3.42.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I9fcaeb4f883ec3440a6859ff206640af08c0f00e\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,694197,7181c08ef25ae66a562986c935e6a0a7f492f439,9,2,1,11131,,,0,"update constraint for oslo.utils to new release 3.42.0

Change-Id: I5c0cf8857641cf6d6ef0368f9923fe8b741c318f
meta:version: 3.42.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I9fcaeb4f883ec3440a6859ff206640af08c0f00e
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/694197/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7181c08ef25ae66a562986c935e6a0a7f492f439,new-release,oslo.utils===3.42.0,oslo.utils===3.41.2,1,1
openstack%2Frequirements~stable%2Ftrain~Ife0dd98d26447603e344a6ef08495bd1ee3adafe,openstack/requirements,stable/train,Ife0dd98d26447603e344a6ef08495bd1ee3adafe,update constraint for oslo.utils to new release 3.41.3,MERGED,2019-11-14 04:42:50.000000000,2019-11-15 03:10:20.000000000,2019-11-15 03:10:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 04:42:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/37b4e18d038b6e59979a50b12dd7927eef47e2b9', 'message': 'update constraint for oslo.utils to new release 3.41.3\n\nChange-Id: Ife0dd98d26447603e344a6ef08495bd1ee3adafe\nmeta:version: 3.41.3\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Iba1ba1ca02b68247728d8dbb78c7e472e4cd12fd\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: yanghongyu <yang.hongyu@99cloud.net>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,694198,37b4e18d038b6e59979a50b12dd7927eef47e2b9,8,2,1,11131,,,0,"update constraint for oslo.utils to new release 3.41.3

Change-Id: Ife0dd98d26447603e344a6ef08495bd1ee3adafe
meta:version: 3.41.3
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Iba1ba1ca02b68247728d8dbb78c7e472e4cd12fd
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: yanghongyu <yang.hongyu@99cloud.net>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/694198/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,37b4e18d038b6e59979a50b12dd7927eef47e2b9,new-release,oslo.utils===3.41.3,oslo.utils===3.41.2,1,1
openstack%2Fnova~master~I459a605b4a9390f0e36356ca1fe432948159acd4,openstack/nova,master,I459a605b4a9390f0e36356ca1fe432948159acd4,Stop using NoAuthMiddleware in tests,MERGED,2019-10-08 20:33:03.000000000,2019-11-15 03:04:22.000000000,2019-11-15 02:59:54.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9725}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-08 20:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd5524822b17f21ef9833552213ef680e1eed8de', 'message': ""WIP: Murder NoAuthMiddleware\n\nThis rips NoAuthMiddleware completely out of functional tests by:\n- Removing our override of [api]auth_strategy in ConfFixture, allowing\n  it to default to ``keystone``. This causes the fake wsgi setup to go\n  through the same pipeline as real API requests; so making that work\n  entails...\n- Stubbing out the keystonemiddleware and NovaKeystoneContext pieces of\n  the paste pipeline. In the future it might be nice to stub one or both\n  of these more shallowly so our tests can occur in a more realistic\n  environment, but for now this is just mimicking what the noauth2\n  pipeline used to do; except for...\n- Simplifying the authentication portion of the TestOpenStackClient.\n  This used to make an actual request(), which landed in\n  NoAuthMiddleware, which was just hacking together some headers (based,\n  it appears, on a protocol which is many years out of date and no\n  longer approximates what keystone does, which should be the point if\n  it's going to exist at all). So now we just hack up the one necessary\n  header inline.\n\nThis is a WIP at the moment just showing that actually bypassing\nNoAuthMiddleware is fairly straightforward. To make this go, we would\nalso want to rip out hundreds of lines of now-unused code, including\nNoAuthMiddleware itself and all its tests, as well as references to it\nfrom conf and paste.ini.\n\nChange-Id: I459a605b4a9390f0e36356ca1fe432948159acd4\n""}, {'number': 2, 'created': '2019-10-08 22:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35c988443495569511e0cb5465501f72fe95070b', 'message': ""WIP: Murder NoAuthMiddleware\n\nThis rips NoAuthMiddleware completely out of functional tests by:\n- Removing our override of [api]auth_strategy in ConfFixture, allowing\n  it to default to ``keystone``. This causes the fake wsgi setup to go\n  through the same pipeline as real API requests; so making that work\n  entails...\n- Stubbing out the keystonemiddleware and NovaKeystoneContext pieces of\n  the paste pipeline. In the future it might be nice to stub one or both\n  of these more shallowly so our tests can occur in a more realistic\n  environment, but for now this is just mimicking what the noauth2\n  pipeline used to do; except for...\n- Simplifying the authentication portion of the TestOpenStackClient.\n  This used to make an actual request(), which landed in\n  NoAuthMiddleware, which was just hacking together some headers (based,\n  it appears, on a protocol which is many years out of date and no\n  longer approximates what keystone does, which should be the point if\n  it's going to exist at all). So now we just hack up the one necessary\n  header inline.\n\nThis is a WIP at the moment just showing that actually bypassing\nNoAuthMiddleware is fairly straightforward. To make this go, we would\nalso want to rip out hundreds of lines of now-unused code, including\nNoAuthMiddleware itself and all its tests, as well as references to it\nfrom conf and paste.ini.\n\nChange-Id: I459a605b4a9390f0e36356ca1fe432948159acd4\n""}, {'number': 3, 'created': '2019-10-09 14:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aab6234997619f00072b3c71a794a972d5f9ea32', 'message': ""Stop using NoAuthMiddleware in tests\n\nThis rips NoAuthMiddleware completely out of functional tests by:\n- Removing our override of [api]auth_strategy in ConfFixture, allowing\n  it to default to ``keystone``. This causes the fake wsgi setup to go\n  through the same pipeline as real API requests; so making that work\n  entails...\n- Mocking out the keystonecontext piece of the paste pipeline to create\n  the context previously mashed (somewhat inappropriately) into\n  NoAuthMiddleware. In the future we may want to mock this more\n  shallowly or find a way to make the req more realistic so it needn't\n  be mocked at all, but for now this is close to what the noauth2\n  pipeline used to do.\n- Stubbing out the keystonemiddleware piece of the paste pipeline. In\n  the future we should try to use keystonemiddleware's AuthTokenFixture\n  so our tests can occur in a more realistic environment, but for now\n  this is just mimicking what the noauth2 pipeline used to do; except\n  for...\n- Removing the authentication portion of the TestOpenStackClient. This\n  used to make an actual request(), which landed in NoAuthMiddleware,\n  which was hacking together some headers (based, it appears, on a\n  protocol which is many years out of date and no longer approximates\n  what keystone does, which should be the point if it's going to exist\n  at all). So now we just hack up the necessary headers inline.\n- Doing the addition of project_id in request URIs in OSAPIFixture.\n  This is another thing that NoAuthMiddleware was doing inappropriately\n  (IRL the project_id will either be part of the request from the start,\n  or it won't). It was also only doing it part of the time; as a result,\n  a couple of tests requesting version documents, which were previously\n  not expecting the project ID to be present, needed to be modified to\n  expect it. This better reflects reality.\n\nChange-Id: I459a605b4a9390f0e36356ca1fe432948159acd4\n""}, {'number': 4, 'created': '2019-10-09 20:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20d8263a63444b8160259d955f3488dfd65399a7', 'message': ""Stop using NoAuthMiddleware in tests\n\nThis rips NoAuthMiddleware completely out of functional tests by:\n- Removing our override of [api]auth_strategy in ConfFixture, allowing\n  it to default to ``keystone``. This causes the fake wsgi setup to go\n  through the same pipeline as real API requests; so making that work\n  entails...\n- Mocking out the keystonecontext piece of the paste pipeline to create\n  the context previously mashed (somewhat inappropriately) into\n  NoAuthMiddleware. In the future we may want to mock this more\n  shallowly or find a way to make the req more realistic so it needn't\n  be mocked at all, but for now this is close to what the noauth2\n  pipeline used to do.\n- Stubbing out the keystonemiddleware piece of the paste pipeline. In\n  the future we should try to use keystonemiddleware's AuthTokenFixture\n  so our tests can occur in a more realistic environment, but for now\n  this is just mimicking what the noauth2 pipeline used to do; except\n  for...\n- Removing the authentication portion of the TestOpenStackClient. This\n  used to make an actual request(), which landed in NoAuthMiddleware,\n  which was hacking together some headers (based, it appears, on a\n  protocol which is many years out of date and no longer approximates\n  what keystone does, which should be the point if it's going to exist\n  at all). So now we just hack up the necessary headers inline.\n- Doing the addition of project_id in request URIs in OSAPIFixture.\n  This is another thing that NoAuthMiddleware was doing inappropriately\n  (IRL the project_id will either be part of the request from the start,\n  or it won't). It was also only doing it part of the time; as a result,\n  a couple of tests requesting version documents, which were previously\n  not expecting the project ID to be present, needed to be modified to\n  expect it. This better reflects reality.\n\nChange-Id: I459a605b4a9390f0e36356ca1fe432948159acd4\n""}, {'number': 5, 'created': '2019-10-09 20:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/170a3e1c10a9f6236f6b64ed1fcc1b64f2583ada', 'message': ""Stop using NoAuthMiddleware in tests\n\nThis rips NoAuthMiddleware completely out of functional tests by:\n- Removing our override of [api]auth_strategy in ConfFixture, allowing\n  it to default to ``keystone``. This causes the fake wsgi setup to go\n  through the same pipeline as real API requests; so making that work\n  entails...\n- Mocking out the keystonecontext piece of the paste pipeline to create\n  the context previously mashed (somewhat inappropriately) into\n  NoAuthMiddleware. In the future we may want to mock this more\n  shallowly or find a way to make the req more realistic so it needn't\n  be mocked at all, but for now this is close to what the noauth2\n  pipeline used to do.\n- Stubbing out the keystonemiddleware piece of the paste pipeline. In\n  the future we should try to use keystonemiddleware's AuthTokenFixture\n  so our tests can occur in a more realistic environment, but for now\n  this is just mimicking what the noauth2 pipeline used to do; except\n  for...\n- Removing the authentication portion of the TestOpenStackClient. This\n  used to make an actual request(), which landed in NoAuthMiddleware,\n  which was hacking together some headers (based, it appears, on a\n  protocol which is many years out of date and no longer approximates\n  what keystone does, which should be the point if it's going to exist\n  at all). So now we just hack up the necessary headers inline.\n- Doing the addition of project_id in request URIs in OSAPIFixture.\n  This is another thing that NoAuthMiddleware was doing inappropriately\n  (IRL the project_id will either be part of the request from the start,\n  or it won't). It was also only doing it part of the time; as a result,\n  a couple of tests requesting version documents, which were previously\n  not expecting the project ID to be present, needed to be modified to\n  expect it. This better reflects reality.\n\nChange-Id: I459a605b4a9390f0e36356ca1fe432948159acd4\n""}, {'number': 6, 'created': '2019-10-14 16:45:07.000000000', 'files': ['nova/api/auth.py', 'nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api_sample_tests/test_versions.py', 'nova/tests/fixtures.py', 'nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api/client.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/unit/conf_fixture.py', 'nova/tests/functional/test_middleware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/52fe8c028578e750fec2add978182707733a13fa', 'message': ""Stop using NoAuthMiddleware in tests\n\nThis rips NoAuthMiddleware completely out of functional tests by:\n- Removing our override of [api]auth_strategy in ConfFixture, allowing\n  it to default to ``keystone``. This causes the fake wsgi setup to go\n  through the same pipeline as real API requests; so making that work\n  entails...\n- Mocking out the keystonecontext piece of the paste pipeline to create\n  the context previously mashed (somewhat inappropriately) into\n  NoAuthMiddleware. In the future we may want to mock this more\n  shallowly or find a way to make the req more realistic so it needn't\n  be mocked at all, but for now this is close to what the noauth2\n  pipeline used to do.\n- Stubbing out the keystonemiddleware piece of the paste pipeline. In\n  the future we should try to use keystonemiddleware's AuthTokenFixture\n  so our tests can occur in a more realistic environment, but for now\n  this is just mimicking what the noauth2 pipeline used to do; except\n  for...\n- Removing the authentication portion of the TestOpenStackClient. This\n  used to make an actual request(), which landed in NoAuthMiddleware,\n  which was hacking together some headers (based, it appears, on a\n  protocol which is many years out of date and no longer approximates\n  what keystone does, which should be the point if it's going to exist\n  at all). So now we just hack up the necessary headers inline.\n- Doing the addition of project_id in request URIs in OSAPIFixture.\n  This is another thing that NoAuthMiddleware was doing inappropriately\n  (IRL the project_id will either be part of the request from the start,\n  or it won't). It was also only doing it part of the time; as a result,\n  a couple of tests requesting version documents, which were previously\n  not expecting the project ID to be present, needed to be modified to\n  expect it. This better reflects reality.\n\nChange-Id: I459a605b4a9390f0e36356ca1fe432948159acd4\n""}]",15,687416,52fe8c028578e750fec2add978182707733a13fa,89,14,6,14070,,,0,"Stop using NoAuthMiddleware in tests

This rips NoAuthMiddleware completely out of functional tests by:
- Removing our override of [api]auth_strategy in ConfFixture, allowing
  it to default to ``keystone``. This causes the fake wsgi setup to go
  through the same pipeline as real API requests; so making that work
  entails...
- Mocking out the keystonecontext piece of the paste pipeline to create
  the context previously mashed (somewhat inappropriately) into
  NoAuthMiddleware. In the future we may want to mock this more
  shallowly or find a way to make the req more realistic so it needn't
  be mocked at all, but for now this is close to what the noauth2
  pipeline used to do.
- Stubbing out the keystonemiddleware piece of the paste pipeline. In
  the future we should try to use keystonemiddleware's AuthTokenFixture
  so our tests can occur in a more realistic environment, but for now
  this is just mimicking what the noauth2 pipeline used to do; except
  for...
- Removing the authentication portion of the TestOpenStackClient. This
  used to make an actual request(), which landed in NoAuthMiddleware,
  which was hacking together some headers (based, it appears, on a
  protocol which is many years out of date and no longer approximates
  what keystone does, which should be the point if it's going to exist
  at all). So now we just hack up the necessary headers inline.
- Doing the addition of project_id in request URIs in OSAPIFixture.
  This is another thing that NoAuthMiddleware was doing inappropriately
  (IRL the project_id will either be part of the request from the start,
  or it won't). It was also only doing it part of the time; as a result,
  a couple of tests requesting version documents, which were previously
  not expecting the project ID to be present, needed to be modified to
  expect it. This better reflects reality.

Change-Id: I459a605b4a9390f0e36356ca1fe432948159acd4
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/687416/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/functional/api/client.py', 'nova/tests/unit/conf_fixture.py']",3,fd5524822b17f21ef9833552213ef680e1eed8de,kill-noauth2,," # api group self.conf.set_default('auth_strategy', 'noauth2', group='api') ",20,34
openstack%2Fnova~master~I159f3d4b979da7d2a6be977e79a0b11ea9f2c425,openstack/nova,master,I159f3d4b979da7d2a6be977e79a0b11ea9f2c425,Remove get_minimum_version mocks from test_resource_tracker,MERGED,2019-11-07 22:38:23.000000000,2019-11-15 02:25:17.000000000,2019-11-15 02:20:33.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 22:38:23.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f199811af482aee1d1a9acd8c7e6106fa2eb7fb5', 'message': 'Remove get_minimum_version mocks from test_resource_tracker\n\nSince [1] the ResourceTracker has no longer called\nService.get_minimum_version so we can remove all of\nthe unnecessary mocks from the unit test code.\n\n[1] I39d93dbf8552605e34b9f146e3613e6af62a1774\n\nChange-Id: I159f3d4b979da7d2a6be977e79a0b11ea9f2c425\n'}]",0,693439,f199811af482aee1d1a9acd8c7e6106fa2eb7fb5,29,11,1,6873,,,0,"Remove get_minimum_version mocks from test_resource_tracker

Since [1] the ResourceTracker has no longer called
Service.get_minimum_version so we can remove all of
the unnecessary mocks from the unit test code.

[1] I39d93dbf8552605e34b9f146e3613e6af62a1774

Change-Id: I159f3d4b979da7d2a6be977e79a0b11ea9f2c425
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/693439/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_resource_tracker.py'],1,f199811af482aee1d1a9acd8c7e6106fa2eb7fb5,update_provider_tree," def _update_available_resources(self, **kwargs): is_bfv_mock): pci_dev_save_mock, pci_supports_mock, get_cn_mock, pci_mock, instance_pci_mock, pci_mock, instance_pci_mock, bfv_check_mock): def test(uufi):"," @mock.patch('nova.objects.Service.get_minimum_version', return_value=22) def _update_available_resources(self, version_mock, **kwargs): @mock.patch('nova.objects.Service.get_minimum_version', return_value=22) version_mock, is_bfv_mock): @mock.patch('nova.objects.Service.get_minimum_version', return_value=22) version_mock, @mock.patch('nova.objects.Service.get_minimum_version', return_value=22) pci_dev_save_mock, pci_supports_mock, version_mock, @mock.patch('nova.objects.Service.get_minimum_version', return_value=22) get_cn_mock, pci_mock, instance_pci_mock, version_mock, @mock.patch('nova.objects.Service.get_minimum_version', return_value=22) pci_mock, instance_pci_mock, version_mock, bfv_check_mock): @mock.patch('nova.objects.Service.get_minimum_version', return_value=22) def test(version_mock, uufi):",6,21
openstack%2Fnova~master~I016765112b4d7a811a855da5e503a8cb870afbbe,openstack/nova,master,I016765112b4d7a811a855da5e503a8cb870afbbe,Move compute_node_to_inventory_dict to test-only code,MERGED,2019-11-07 22:35:16.000000000,2019-11-15 02:23:56.000000000,2019-11-15 02:20:27.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 22:35:16.000000000', 'files': ['nova/tests/functional/test_report_client.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cea4f391f3a1856c9e2a23d9747779016f12006c', 'message': 'Move compute_node_to_inventory_dict to test-only code\n\nSince [1] the only thing still using this utility method\nis some functional report client test code so this change\nmoves it to the test class that needs it.\n\n[1] Ib62ac0b692eb92a2ed364ec9f486ded05def39ad\n\nChange-Id: I016765112b4d7a811a855da5e503a8cb870afbbe\n'}]",0,693438,cea4f391f3a1856c9e2a23d9747779016f12006c,41,14,1,6873,,,0,"Move compute_node_to_inventory_dict to test-only code

Since [1] the only thing still using this utility method
is some functional report client test code so this change
moves it to the test class that needs it.

[1] Ib62ac0b692eb92a2ed364ec9f486ded05def39ad

Change-Id: I016765112b4d7a811a855da5e503a8cb870afbbe
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/693438/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_report_client.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py']",3,cea4f391f3a1856c9e2a23d9747779016f12006c,update_provider_tree,,"import os_resource_classes as orc # TODO(mriedem): We should be able to remove this now that the ResourceTracker # requires drivers to implement the update_provider_tree interface. def compute_node_to_inventory_dict(compute_node): """"""Given a supplied `objects.ComputeNode` object, return a dict, keyed by resource class, of various inventory information. :param compute_node: `objects.ComputeNode` object to translate """""" result = {} # NOTE(jaypipes): Ironic virt driver will return 0 values for vcpus, # memory_mb and disk_gb if the Ironic node is not available/operable if compute_node.vcpus > 0: result[orc.VCPU] = { 'total': compute_node.vcpus, 'reserved': CONF.reserved_host_cpus, 'min_unit': 1, 'max_unit': compute_node.vcpus, 'step_size': 1, 'allocation_ratio': compute_node.cpu_allocation_ratio, } if compute_node.memory_mb > 0: result[orc.MEMORY_MB] = { 'total': compute_node.memory_mb, 'reserved': CONF.reserved_host_memory_mb, 'min_unit': 1, 'max_unit': compute_node.memory_mb, 'step_size': 1, 'allocation_ratio': compute_node.ram_allocation_ratio, } if compute_node.local_gb > 0: # TODO(johngarbutt) We should either move to reserved_host_disk_gb # or start tracking DISK_MB. reserved_disk_gb = convert_mb_to_ceil_gb( CONF.reserved_host_disk_mb) result[orc.DISK_GB] = { 'total': compute_node.local_gb, 'reserved': reserved_disk_gb, 'min_unit': 1, 'max_unit': compute_node.local_gb, 'step_size': 1, 'allocation_ratio': compute_node.disk_allocation_ratio, } return result",36,115
openstack%2Ftripleo-upgrade~stable%2Fstein~Ibc57c51ff19ebad093c887bee545ca6a7d51827f,openstack/tripleo-upgrade,stable/stein,Ibc57c51ff19ebad093c887bee545ca6a7d51827f,Sync up upgrades and updates workarounds mechanism.,MERGED,2019-11-13 10:37:43.000000000,2019-11-15 02:23:44.000000000,2019-11-15 02:23:44.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-13 10:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d1fc4c36d0e010914f939e426601379e52129471', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n'}, {'number': 2, 'created': '2019-11-13 17:06:48.000000000', 'files': ['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'templates/update_workarounds.sh.j2', 'tasks/update/create-undercloud-update-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/22fc161e15c16c3cb27ea859df73ff37da9345f3', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n'}]",0,694034,22fc161e15c16c3cb27ea859df73ff37da9345f3,10,4,2,8297,,,0,"Sync up upgrades and updates workarounds mechanism.

Up to now, the minor updates workarounds was not being used very much
being a little bit left away in comparision with what it was implemented
for the upgrades one. This patch allows minor updates to benefit from
the same workarounds mechanism, at the same time that any improvement
in the upgrades mechanism will be available for updates too.

Also, it was removed the references to the {{ working_dir }} variable
in those shell tasks which have the argument changing directory to that
very same {{ working_dir }}, mostly to simplify the tasks and remove
redundancy.

Change-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f
(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/694034/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'templates/update_workarounds.sh.j2', 'tasks/update/create-undercloud-update-scripts.yaml']",10,d1fc4c36d0e010914f939e426601379e52129471,,"- name: create update workaround scripts for undercloud template: src: workarounds.sh.j2 dest: ""{{ working_dir }}/{{ item }}.sh"" mode: 0775 loop: - 'pre_undercloud_update_workarounds' - 'post_undercloud_update_workarounds'","- name: create scripts with workarounds template: src: ""{{ update_workarounds_template }}"" dest: ""{{ working_dir }}/{{ item.script }}"" mode: 0755 loop: '{{ pre_undercloud_update_workarounds|default([]) + post_undercloud_update_workarounds|default([]) }}'",188,90
openstack%2Ffreezer-tempest-plugin~master~Iad288fe17db561cf266ae3db5a66ea250fbace33,openstack/freezer-tempest-plugin,master,Iad288fe17db561cf266ae3db5a66ea250fbace33,[train][goal] Define new 'freezer-tempest-ipv6-only' job,NEW,2019-09-17 20:25:46.000000000,2019-11-15 02:22:42.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 20:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/1a70f9f8b7c829ce1f522ab04a5863a4f24c2712', 'message': ""[train][goal] Define new 'freezer-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'freezer-tempest-ipv6-only'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'freezer-tempest-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35890\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Iad288fe17db561cf266ae3db5a66ea250fbace33\n""}, {'number': 2, 'created': '2019-11-15 01:38:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/63ee0464792b9c729c6adbe603fc66bd74bce4d4', 'message': ""[train][goal] Define new 'freezer-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'freezer-tempest-ipv6-only'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'freezer-tempest-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35890\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Iad288fe17db561cf266ae3db5a66ea250fbace33\n""}]",0,682742,63ee0464792b9c729c6adbe603fc66bd74bce4d4,7,2,2,8556,,,0,"[train][goal] Define new 'freezer-tempest-ipv6-only' job

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the base job 'devstack-tempest-ipv6' which will
deploy services on IPv6.

This commit adds the new job 'freezer-tempest-ipv6-only'
run on gate which is derived from 'devstack-tempest-ipv6'.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'freezer-tempest-ipv6-only' will run the tests.

Story: #2005477
Task: #35890

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: Iad288fe17db561cf266ae3db5a66ea250fbace33
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/42/682742/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1a70f9f8b7c829ce1f522ab04a5863a4f24c2712,ipv6-only-deployment-and-testing, - freezer-tempest-ipv6-only - freezer-tempest-ipv6-only required-projects: &base_required_projects vars: &base_vars name: freezer-tempest-ipv6-only parent: devstack-tempest-ipv6 description: | Freezer devstack tempest tests job for IPv6-only deployment timeout: 7200 required-projects: *base_required_projects vars: *base_vars - job:, required-projects: vars:,13,2
openstack%2Fnova~stable%2Fqueens~I985b870759d6c21ef9357b04f39099c02354f135,openstack/nova,stable/queens,I985b870759d6c21ef9357b04f39099c02354f135,doc: fix and clarify --block-device usage in user docs,MERGED,2019-11-14 16:56:34.000000000,2019-11-15 02:20:42.000000000,2019-11-15 02:20:42.000000000,"[{'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-14 16:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb9948344a87ae1ea11b186857ea67cade187374', 'message': 'doc: fix and clarify --block-device usage in user docs\n\nThe docs on create a volume-backed server from the command\nline were wrong in a few ways:\n\n* The openstack server create command does not currently allow\n  booting from a volume where a source image is provided and\n  nova creates the volume from the image and uses that volume\n  as the root disk. The nova boot command supports that, so the\n  docs are updated to call out the nova boot command since that\n  is the appropriate command in this case (even the syntax with\n  the openstack server create --block-device was wrong).\n\n* When creating a server from a bootable volume with the OSC CLI,\n  either the --volume or --block-device options should be used\n  for a single volume, but not both. The docs were using both, so\n  the latter is dropped and a note is added which links to the CLI\n  documentation for more details on --block-device option usage.\n\nChange-Id: I985b870759d6c21ef9357b04f39099c02354f135\nCloses-Bug: #1794827\n(cherry picked from commit 16027094ebabc5cd9f2e766431f18aadeff54a40)\n(cherry picked from commit 6a6d0e943443a9cdd9b56aa9a93768d05e4dde0e)\n'}, {'number': 2, 'created': '2019-11-14 17:09:26.000000000', 'files': ['doc/source/user/launch-instance-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c55eff39f22bec875d7be296fef7f72585689729', 'message': 'doc: fix and clarify --block-device usage in user docs\n\nThe docs on create a volume-backed server from the command\nline were wrong in a few ways:\n\n* The openstack server create command does not currently allow\n  booting from a volume where a source image is provided and\n  nova creates the volume from the image and uses that volume\n  as the root disk. The nova boot command supports that, so the\n  docs are updated to call out the nova boot command since that\n  is the appropriate command in this case (even the syntax with\n  the openstack server create --block-device was wrong).\n\n* When creating a server from a bootable volume with the OSC CLI,\n  either the --volume or --block-device options should be used\n  for a single volume, but not both. The docs were using both, so\n  the latter is dropped and a note is added which links to the CLI\n  documentation for more details on --block-device option usage.\n\nChange-Id: I985b870759d6c21ef9357b04f39099c02354f135\nCloses-Bug: #1794827\n(cherry picked from commit 16027094ebabc5cd9f2e766431f18aadeff54a40)\n(cherry picked from commit 6a6d0e943443a9cdd9b56aa9a93768d05e4dde0e)\n'}]",0,694357,c55eff39f22bec875d7be296fef7f72585689729,9,3,2,27478,,,0,"doc: fix and clarify --block-device usage in user docs

The docs on create a volume-backed server from the command
line were wrong in a few ways:

* The openstack server create command does not currently allow
  booting from a volume where a source image is provided and
  nova creates the volume from the image and uses that volume
  as the root disk. The nova boot command supports that, so the
  docs are updated to call out the nova boot command since that
  is the appropriate command in this case (even the syntax with
  the openstack server create --block-device was wrong).

* When creating a server from a bootable volume with the OSC CLI,
  either the --volume or --block-device options should be used
  for a single volume, but not both. The docs were using both, so
  the latter is dropped and a note is added which links to the CLI
  documentation for more details on --block-device option usage.

Change-Id: I985b870759d6c21ef9357b04f39099c02354f135
Closes-Bug: #1794827
(cherry picked from commit 16027094ebabc5cd9f2e766431f18aadeff54a40)
(cherry picked from commit 6a6d0e943443a9cdd9b56aa9a93768d05e4dde0e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/694357/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/launch-instance-from-volume.rst'],1,fb9948344a87ae1ea11b186857ea67cade187374,bug/1851425," this volume, use the ``--block-device`` parameter with the ``nova boot`` command. $ nova boot --flavor FLAVOR --block-device \ See the `nova boot`_ command documentation and :doc:`block-device-mapping` for more details on these parameters. .. note:: As of the Stein release, the ``openstack server create`` command does not support creating a volume-backed server from a source image like the ``nova boot`` command. The next steps will show how to create a bootable volume from an image and then create a server from that boot volume using the ``openstack server create`` command. .. note:: The example here uses the ``--volume`` option for simplicity. The ``--block-device`` option could also be used for more granular control over the parameters. See the `openstack server create`_ documentation for details. $ openstack server create --flavor 2 --volume VOLUME_ID myInstanceFromVolume.. _nova boot: https://docs.openstack.org/python-novaclient/latest/cli/nova.html#nova-boot .. _openstack server create: https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/server.html#server-create "," this volume, use the ``--block-device`` parameter. $ openstack server create --flavor FLAVOR --block-device \ See :doc:`block-device-mapping` for more details on these parameters. $ openstack server create --flavor 2 --volume VOLUME_ID \ --block-device source=volume,id=$VOLUME_ID,dest=volume,size=10,shutdown=preserve,bootindex=0 \ myInstanceFromVolume",20,6
openstack%2Fstorlets~master~I03abba86ce9690e0e44aaa95600f9ba202c87afe,openstack/storlets,master,I03abba86ce9690e0e44aaa95600f9ba202c87afe,DNM: Check json content in metadata response,ABANDONED,2019-11-15 01:08:31.000000000,2019-11-15 02:01:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-15 01:08:31.000000000', 'files': ['storlets/gateway/gateways/docker/runtime.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/12dee2948be783a822540859e734840d938fd8ff', 'message': 'DNM: Check json content in metadata response\n\nChange-Id: I03abba86ce9690e0e44aaa95600f9ba202c87afe\n'}]",0,694431,12dee2948be783a822540859e734840d938fd8ff,3,1,1,9816,,,0,"DNM: Check json content in metadata response

Change-Id: I03abba86ce9690e0e44aaa95600f9ba202c87afe
",git fetch https://review.opendev.org/openstack/storlets refs/changes/31/694431/1 && git format-patch -1 --stdout FETCH_HEAD,['storlets/gateway/gateways/docker/runtime.py'],1,12dee2948be783a822540859e734840d938fd8ff,694208, self.logger.debug('METADAT JSON %s' % flat_json),,1,0
openstack%2Fsearchlight-specs~master~I3460f2721a662ba4c4c6cc82dead763d6d9932ef,openstack/searchlight-specs,master,I3460f2721a662ba4c4c6cc82dead763d6d9932ef,tox: Keeping going with docs,MERGED,2019-10-24 12:04:27.000000000,2019-11-15 01:57:41.000000000,2019-11-15 01:55:33.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 27781}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 12:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/fe0eb8bb143c11e3085b604fc7ebe24f868998aa', 'message': 'tox: Keeping going with docs\n\nChange-Id: I3460f2721a662ba4c4c6cc82dead763d6d9932ef\n'}, {'number': 2, 'created': '2019-10-25 02:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/9eabbc797e61e0f12dee2192a1adce6566ebb804', 'message': 'tox: Keeping going with docs\n\nChange-Id: I3460f2721a662ba4c4c6cc82dead763d6d9932ef\n'}, {'number': 3, 'created': '2019-10-25 02:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/6ef62340ffc3b5fc498f4e8263258d48713f8cab', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n2. The 'wheel' group is renamed to 'bdist_wheel' [2]\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: I3460f2721a662ba4c4c6cc82dead763d6d9932ef\n""}, {'number': 4, 'created': '2019-10-25 02:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/797b3ea76544265a2437e3416f3bdd03d31225c7', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n2. The 'wheel' group is renamed to 'bdist_wheel' [2]\n3. Update some urls to latest\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: I3460f2721a662ba4c4c6cc82dead763d6d9932ef\n""}, {'number': 5, 'created': '2019-11-14 02:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/12670ce06d376a12630070fcab06e98ab983e268', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n2. The 'wheel' group is renamed to 'bdist_wheel' [2]\n3. Update some urls to latest\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: I3460f2721a662ba4c4c6cc82dead763d6d9932ef\n""}, {'number': 6, 'created': '2019-11-14 02:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/4ddd498a791e4b2b42fa5a2c8569508c9635ada7', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n2. The 'wheel' group is renamed to 'bdist_wheel' [2]\n3. Update some urls to latest\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: I3460f2721a662ba4c4c6cc82dead763d6d9932ef\n""}, {'number': 7, 'created': '2019-11-14 03:02:41.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/327bec69c2ba4c10dbebf558316fc9761443b248', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n2. The 'wheel' group is renamed to 'bdist_wheel' [2]\n3. Update some urls to latest\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: I3460f2721a662ba4c4c6cc82dead763d6d9932ef\n""}]",2,690938,327bec69c2ba4c10dbebf558316fc9761443b248,23,4,7,22165,,,0,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.
2. The 'wheel' group is renamed to 'bdist_wheel' [2]
3. Update some urls to latest

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045
[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b

Change-Id: I3460f2721a662ba4c4c6cc82dead763d6d9932ef
",git fetch https://review.opendev.org/openstack/searchlight-specs refs/changes/38/690938/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fe0eb8bb143c11e3085b604fc7ebe24f868998aa,, sphinx-build -W --keep-going -b html doc/source doc/build/html, sphinx-build -W -b html doc/source doc/build/html,1,1
openstack%2Ffreezer~master~If9e8913e49d9ecf561a7e1824245a995fc6ac6db,openstack/freezer,master,If9e8913e49d9ecf561a7e1824245a995fc6ac6db,[train][goal] Run 'freezer-tempest-ipv6-only' job in gate,NEW,2019-09-17 20:29:26.000000000,2019-11-15 01:38:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-17 20:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/971ec0787d27e6e3d8c83fb89d18e4462b906b49', 'message': ""[train][goal] Run 'freezer-tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit Run 'freezer-tempest-ipv6-only' job in cyborg gate.\n\nDepends-On: https://review.opendev.org/#/c/682742\n\nStory: #2005477\nTask: #35890\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: If9e8913e49d9ecf561a7e1824245a995fc6ac6db\n""}, {'number': 2, 'created': '2019-09-17 20:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/fa908a5237bce7a47fa95f4cbd0e072a191e6d91', 'message': ""[train][goal] Run 'freezer-tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit Run 'freezer-tempest-ipv6-only' job in freezer gate.\n\nDepends-On: https://review.opendev.org/#/c/682742\n\nStory: #2005477\nTask: #35890\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: If9e8913e49d9ecf561a7e1824245a995fc6ac6db\n""}, {'number': 3, 'created': '2019-11-15 01:37:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/c3c8b1c76a5e5f41b8c1e9483baec6864a2a1520', 'message': ""[train][goal] Run 'freezer-tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit Run 'freezer-tempest-ipv6-only' job in freezer gate.\n\nDepends-On: https://review.opendev.org/#/c/682742\n\nStory: #2005477\nTask: #35890\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: If9e8913e49d9ecf561a7e1824245a995fc6ac6db\n""}]",0,682744,c3c8b1c76a5e5f41b8c1e9483baec6864a2a1520,6,1,3,8556,,,0,"[train][goal] Run 'freezer-tempest-ipv6-only' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the base job 'devstack-tempest-ipv6' which will
deploy services on IPv6.

This commit Run 'freezer-tempest-ipv6-only' job in freezer gate.

Depends-On: https://review.opendev.org/#/c/682742

Story: #2005477
Task: #35890

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: If9e8913e49d9ecf561a7e1824245a995fc6ac6db
",git fetch https://review.opendev.org/openstack/freezer refs/changes/44/682744/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,971ec0787d27e6e3d8c83fb89d18e4462b906b49,ipv6-only-deployment-and-testing, - freezer-tempest-ipv6-only - freezer-tempest-ipv6-only,,2,0
openstack%2Fhorizon~master~I6345ebbcd24afc358555e9be4b2ca700c4b33861,openstack/horizon,master,I6345ebbcd24afc358555e9be4b2ca700c4b33861,tox: Move doc8 to docs related envs,MERGED,2019-10-02 07:21:13.000000000,2019-11-15 01:35:04.000000000,2019-11-15 01:33:29.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-02 07:21:13.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/205ebe0f47e4f6ba493f106f9d82a67847c7e205', 'message': 'tox: Move doc8 to docs related envs\n\nPreviously doc8 is run as part of pep8 tox env. This leads to some tricky\n\'deps\' in pep8 which installs the docs dependencies. This can be fixed by\nmoving doc8 to the docs related tox envs (docs and releasenotes).\n\nThis also helps developers using devstack avoid hitting an error in\n""manage.py compilemessages"" in stack.sh. The error is caused by sphinx\ninstalled under .tox directory (as compilemessages tries to compile all\nmessage catalogs even under dot directories like .tox).\nDevelopers sometimes change the horizon code under /opt/stack/horizon\nand it is not surprising to run ""tox -e pep8"".\n(I think it is more common compared to a chance to run ""tox -e docs"".)\nThus I believe it is reasonable to move doc8 to the docs env.\n\nChange-Id: I6345ebbcd24afc358555e9be4b2ca700c4b33861\n'}]",0,686091,205ebe0f47e4f6ba493f106f9d82a67847c7e205,13,5,1,841,,,0,"tox: Move doc8 to docs related envs

Previously doc8 is run as part of pep8 tox env. This leads to some tricky
'deps' in pep8 which installs the docs dependencies. This can be fixed by
moving doc8 to the docs related tox envs (docs and releasenotes).

This also helps developers using devstack avoid hitting an error in
""manage.py compilemessages"" in stack.sh. The error is caused by sphinx
installed under .tox directory (as compilemessages tries to compile all
message catalogs even under dot directories like .tox).
Developers sometimes change the horizon code under /opt/stack/horizon
and it is not surprising to run ""tox -e pep8"".
(I think it is more common compared to a chance to run ""tox -e docs"".)
Thus I believe it is reasonable to move doc8 to the docs env.

Change-Id: I6345ebbcd24afc358555e9be4b2ca700c4b33861
",git fetch https://review.opendev.org/openstack/horizon refs/changes/91/686091/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",4,205ebe0f47e4f6ba493f106f9d82a67847c7e205,tox-update,envdir = {toxworkdir}/venvenvdir = {toxworkdir}/venv doc8 doc/source doc8 doc/source,"# NOTE: Due to doc dependencies, we don't share envdir with ""venv"". # sphinx (precisely Pygments) needs to be installed to make doc8 work properly deps = {[testenv]deps} -r{toxinidir}/doc/requirements.txt doc8 doc/source releasenotes/source releasenotes/notes",5,8
openstack%2Freleases~master~I74805f37373338d1c5763eb7d6af1d29f219e5ea,openstack/releases,master,I74805f37373338d1c5763eb7d6af1d29f219e5ea,Skip jobs on data file only changes,MERGED,2019-10-23 14:23:30.000000000,2019-11-15 01:00:20.000000000,2019-11-15 01:00:20.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 14:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/edb156f6a2fcab1b27747b16c94313f288330208', 'message': 'Skip jobs on data file only changes\n\nThis adds some zuul checks to not run jobs when only the data files have\nbeen changed.\n\nChange-Id: I74805f37373338d1c5763eb7d6af1d29f219e5ea\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-11-14 22:29:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/32b3fefda57c7260fef1e4356c7528d43515748f', 'message': 'Skip jobs on data file only changes\n\nThis adds some zuul checks to not run jobs when only the data files have\nbeen changed.\n\nChange-Id: I74805f37373338d1c5763eb7d6af1d29f219e5ea\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,690583,32b3fefda57c7260fef1e4356c7528d43515748f,14,4,2,11904,,,0,"Skip jobs on data file only changes

This adds some zuul checks to not run jobs when only the data files have
been changed.

Change-Id: I74805f37373338d1c5763eb7d6af1d29f219e5ea
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/690583/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,edb156f6a2fcab1b27747b16c94313f288330208,skip-data, - ^data/.*$ - ^data/.*$ - ^data/.*$ - ^data/.*$ - ^data/.*$ - ^data/.*$ - ^data/.*$ - ^data/.*$,,8,0
openstack%2Fheat~stable%2Fpike~Id94d009d69342f311a00ed3859f4ca8ac6b0af09,openstack/heat,stable/pike,Id94d009d69342f311a00ed3859f4ca8ac6b0af09,[DEBUG] Eliminate client races in legacy operations,ABANDONED,2019-10-14 18:57:59.000000000,2019-11-15 00:57:55.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 18:57:59.000000000', 'files': ['heat/tests/engine/service/test_stack_action.py', 'heat/tests/engine/service/test_stack_update.py', 'heat/tests/engine/service/test_stack_events.py', 'releasenotes/notes/legacy-client-races-ba7a60cef5ec1694.yaml', 'heat/engine/stack.py', 'tox.ini', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/024b58a0e81335a2aeeaa50b7bcb1175e2febeea', 'message': ""[DEBUG] Eliminate client races in legacy operations\n\nWait for the legacy stack to move to the IN_PROGRESS state before returning\nfrom the API call in the stack update, suspend, resume, check, and restore\noperations.\n\nFor the stack delete operation, do the same provided that we can acquire\nthe stack lock immediately, and thus don't need to wait for existing\noperations to be cancelled before we can change the state to IN_PROGRESS.\nIn other cases there is still a race.\n\nConflicts for not having policy in code.\n\nConflicts:\n    heat/engine/service.py\n\nChange-Id: Id94d009d69342f311a00ed3859f4ca8ac6b0af09\nStory: #1669608\nTask: 23175\n(cherry picked from commit 2d2da745931bceeb784984a44d747fcaf6264a30)\n(cherry picked from commit 1f08105fbd17f8f51999689f8b0113201870475c)\n""}]",0,688536,024b58a0e81335a2aeeaa50b7bcb1175e2febeea,5,2,1,14567,,,0,"[DEBUG] Eliminate client races in legacy operations

Wait for the legacy stack to move to the IN_PROGRESS state before returning
from the API call in the stack update, suspend, resume, check, and restore
operations.

For the stack delete operation, do the same provided that we can acquire
the stack lock immediately, and thus don't need to wait for existing
operations to be cancelled before we can change the state to IN_PROGRESS.
In other cases there is still a race.

Conflicts for not having policy in code.

Conflicts:
    heat/engine/service.py

Change-Id: Id94d009d69342f311a00ed3859f4ca8ac6b0af09
Story: #1669608
Task: 23175
(cherry picked from commit 2d2da745931bceeb784984a44d747fcaf6264a30)
(cherry picked from commit 1f08105fbd17f8f51999689f8b0113201870475c)
",git fetch https://review.opendev.org/openstack/heat refs/changes/36/688536/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/service/test_stack_action.py', 'heat/tests/engine/service/test_stack_update.py', 'heat/tests/engine/service/test_stack_events.py', 'heat/engine/stack.py', 'releasenotes/notes/legacy-client-races-ba7a60cef5ec1694.yaml', 'tox.ini', 'heat/engine/service.py']",7,024b58a0e81335a2aeeaa50b7bcb1175e2febeea,1669608_pike_backport," notify = kwargs.get('notify') if notify is not None: assert not notify.signalled() notify.signal()class NotifyEvent(object): def __init__(self): self._queue = eventlet.queue.LightQueue(1) self._signalled = False def signalled(self): return self._signalled def signal(self): """"""Signal the event."""""" if self._signalled: return self._signalled = True self._queue.put(None) # Yield control so that the waiting greenthread will get the message # as soon as possible, so that the API handler can respond to the user. # Another option would be to set the queue length to 0 (which would # cause put() to block until the event has been seen, but many unit # tests run in a single greenthread and would thus deadlock. eventlet.sleep(0) def wait(self): """"""Wait for the event."""""" try: # There's no timeout argument to eventlet.event.Event available # until eventlet 0.22.1, so use a queue. self._queue.get(timeout=cfg.CONF.rpc_response_timeout) except eventlet.queue.Empty: LOG.warning('Timed out waiting for operation to start') stored_event = NotifyEvent() msg_queue=msg_queue, notify=stored_event) stored_event.wait() stored = NotifyEvent() stack.delete, notify=stored) stored.wait() stored_event = NotifyEvent() stack.suspend, notify=stored_event) stored_event.wait() stored_event = NotifyEvent() stack.resume, notify=stored_event) stored_event.wait() stored_event = NotifyEvent() stack.check, notify=stored_event) stored_event.wait() stored_event = NotifyEvent() cnxt, stack, self.engine_id, stack.restore, snapshot, notify=stored_event) stored_event.wait()"," msg_queue=msg_queue) stack.delete) def _stack_suspend(stack): LOG.debug(""suspending stack %s"", stack.name) stack.suspend() _stack_suspend, stack) def _stack_resume(stack): LOG.debug(""resuming stack %s"", stack.name) stack.resume() _stack_resume, stack) stack.check) def _stack_restore(stack, snapshot): LOG.debug(""restoring stack %s"", stack.name) stack.restore(snapshot) cnxt, stack, self.engine_id, _stack_restore, stack, snapshot)",137,39
openstack%2Fheat~stable%2Fpike~I8ff787dc02dd76f99e9ece073b2f700c1922104d,openstack/heat,stable/pike,I8ff787dc02dd76f99e9ece073b2f700c1922104d,[DEBUG] Add functional tests for stack cancel,ABANDONED,2019-10-14 18:57:59.000000000,2019-11-15 00:57:49.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 14567}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 18:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e6d5c7c0f7084b63799ed58bef2fa2e7c5f421f3', 'message': '[DEBUG] Add functional tests for stack cancel\n\nThis adds tests for user initiated stack cancel operations\nw/ or w/o rollback.\n\nChange-Id: I8ff787dc02dd76f99e9ece073b2f700c1922104d\nRelated-Bug: #1709041\n(cherry picked from commit 6c7d0596892f848d6df368867e9644b7b38d1bed)\n'}, {'number': 2, 'created': '2019-10-15 12:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a6525426a006c21a5295f4da936bc0af83cb945e', 'message': '[DEBUG] Add functional tests for stack cancel\n\nThis adds tests for user initiated stack cancel operations\nw/ or w/o rollback.\n\nChange-Id: I8ff787dc02dd76f99e9ece073b2f700c1922104d\nRelated-Bug: #1709041\n(cherry picked from commit 6c7d0596892f848d6df368867e9644b7b38d1bed)\n'}, {'number': 3, 'created': '2019-10-15 19:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ad3b0fa258887a32503841f9e491b1860f9b4c31', 'message': '[DEBUG] Add functional tests for stack cancel\n\nThis adds tests for user initiated stack cancel operations\nw/ or w/o rollback.\n\nBackport for pike: Removed cancel_without_rollback tests.\n\nChange-Id: I8ff787dc02dd76f99e9ece073b2f700c1922104d\nDepends-on: Ie674fd556418f6aa8e79654458cbe43648851db2\nRelated-Bug: #1709041\n(cherry picked from commit 6c7d0596892f848d6df368867e9644b7b38d1bed)\n'}, {'number': 4, 'created': '2019-10-16 10:32:21.000000000', 'files': ['heat_integrationtests/common/test.py', 'heat_integrationtests/functional/test_stack_cancel.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e6b2775196efd58a08aeef1ea15cfeedfdcfc4f9', 'message': '[DEBUG] Add functional tests for stack cancel\n\nThis adds tests for user initiated stack cancel operations\nw/ or w/o rollback.\n\nBackport for pike: Removed cancel_without_rollback tests.\n\nChange-Id: I8ff787dc02dd76f99e9ece073b2f700c1922104d\nDepends-on: Ie674fd556418f6aa8e79654458cbe43648851db2\nRelated-Bug: #1709041\n(cherry picked from commit 6c7d0596892f848d6df368867e9644b7b38d1bed)\n'}]",0,688537,e6b2775196efd58a08aeef1ea15cfeedfdcfc4f9,18,4,4,14567,,,0,"[DEBUG] Add functional tests for stack cancel

This adds tests for user initiated stack cancel operations
w/ or w/o rollback.

Backport for pike: Removed cancel_without_rollback tests.

Change-Id: I8ff787dc02dd76f99e9ece073b2f700c1922104d
Depends-on: Ie674fd556418f6aa8e79654458cbe43648851db2
Related-Bug: #1709041
(cherry picked from commit 6c7d0596892f848d6df368867e9644b7b38d1bed)
",git fetch https://review.opendev.org/openstack/heat refs/changes/37/688537/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/common/test.py', 'heat_integrationtests/functional/test_stack_cancel.py']",2,e6d5c7c0f7084b63799ed58bef2fa2e7c5f421f3,1669608_pike_backport,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy import eventlet from heat_integrationtests.common import test from heat_integrationtests.functional import functional_base template = { 'heat_template_version': 'pike', 'resources': { 'test1': { 'type': 'OS::Heat::TestResource', 'properties': { 'value': 'Test1', 'action_wait_secs': { 'update': 30, } } }, 'test2': { 'type': 'OS::Heat::TestResource', 'properties': { 'value': 'Test1', }, 'depends_on': ['test1'] }, } } def get_templates(delay_s=None): before = copy.deepcopy(template) after = copy.deepcopy(before) for r in after['resources'].values(): r['properties']['value'] = 'Test2' if delay_s: before_props = before['resources']['test1']['properties'] before_props['action_wait_secs']['create'] = delay_s return before, after class StackCancelTest(functional_base.FunctionalTestsBase): def _test_cancel_update(self, rollback=True, expected_status='ROLLBACK_COMPLETE'): before, after = get_templates() stack_id = self.stack_create(template=before) self.update_stack(stack_id, template=after, expected_status='UPDATE_IN_PROGRESS') self._wait_for_resource_status(stack_id, 'test1', 'UPDATE_IN_PROGRESS') self.cancel_update_stack(stack_id, rollback, expected_status) return stack_id def test_cancel_update_with_rollback(self): self._test_cancel_update() def test_cancel_update_without_rollback(self): stack_id = self._test_cancel_update(rollback=False, expected_status='UPDATE_FAILED') self.assertTrue(test.call_until_true( 60, 2, self.verify_resource_status, stack_id, 'test1', 'UPDATE_COMPLETE')) eventlet.sleep(2) self.assertTrue(self.verify_resource_status(stack_id, 'test2', 'CREATE_COMPLETE')) def test_cancel_create_without_rollback(self): before, after = get_templates(delay_s=30) stack_id = self.stack_create(template=before, expected_status='CREATE_IN_PROGRESS') self._wait_for_resource_status(stack_id, 'test1', 'CREATE_IN_PROGRESS') self.cancel_update_stack(stack_id, rollback=False, expected_status='CREATE_FAILED') self.assertTrue(test.call_until_true( 60, 2, self.verify_resource_status, stack_id, 'test1', 'CREATE_COMPLETE')) eventlet.sleep(2) self.assertTrue(self.verify_resource_status(stack_id, 'test2', 'INIT_COMPLETE')) ",,108,5
openstack%2Fheat~stable%2Fpike~I5bf7ed6cb9ba6c77a77dd36eb173e1927065c53e,openstack/heat,stable/pike,I5bf7ed6cb9ba6c77a77dd36eb173e1927065c53e,[DEBUG] Remove handling for client status races,ABANDONED,2019-10-14 18:57:59.000000000,2019-11-15 00:57:33.000000000,,"[{'_account_id': 4257}, {'_account_id': 10058}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 18:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3d014a35d4439015cc0a0505a9548d04c6b8170d', 'message': '[DEBUG] Remove handling for client status races\n\nNow that we guarantee that resources are UPDATE_IN_PROGRESS before the\nstack update call returns for legacy stacks (this was already true for\nconvergence stacks), there is no need to have special handling to check the\nupdated_time either in StackResources or in functional tests.\n\nChange-Id: I5bf7ed6cb9ba6c77a77dd36eb173e1927065c53e\nStory: #1669608\nTask: 23176\n(cherry picked from commit a70f0aff6d72d5da3f4a5d634f93eded2aa3a82b)\n'}, {'number': 2, 'created': '2019-10-15 12:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e4e68e72972f252e718b8baf8b380888a4cccfba', 'message': '[DEBUG] Remove handling for client status races\n\nNow that we guarantee that resources are UPDATE_IN_PROGRESS before the\nstack update call returns for legacy stacks (this was already true for\nconvergence stacks), there is no need to have special handling to check the\nupdated_time either in StackResources or in functional tests.\n\nChange-Id: I5bf7ed6cb9ba6c77a77dd36eb173e1927065c53e\nStory: #1669608\nTask: 23176\n(cherry picked from commit a70f0aff6d72d5da3f4a5d634f93eded2aa3a82b)\n'}, {'number': 3, 'created': '2019-10-15 19:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/358fe2ab9056bb52fd5df334ad05f8a86da77ee7', 'message': '[DEBUG] Remove handling for client status races\n\nNow that we guarantee that resources are UPDATE_IN_PROGRESS before the\nstack update call returns for legacy stacks (this was already true for\nconvergence stacks), there is no need to have special handling to check the\nupdated_time either in StackResources or in functional tests.\n\nChange-Id: I5bf7ed6cb9ba6c77a77dd36eb173e1927065c53e\nStory: #1669608\nTask: 23176\n(cherry picked from commit a70f0aff6d72d5da3f4a5d634f93eded2aa3a82b)\n'}, {'number': 4, 'created': '2019-10-16 10:32:21.000000000', 'files': ['heat_integrationtests/common/test.py', 'heat/engine/resources/stack_resource.py', 'heat_integrationtests/functional/test_update_restricted.py', 'heat/tests/test_stack_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0f61311a9e1cd9b5b231e4a63e3f79cedb960275', 'message': '[DEBUG] Remove handling for client status races\n\nNow that we guarantee that resources are UPDATE_IN_PROGRESS before the\nstack update call returns for legacy stacks (this was already true for\nconvergence stacks), there is no need to have special handling to check the\nupdated_time either in StackResources or in functional tests.\n\nChange-Id: I5bf7ed6cb9ba6c77a77dd36eb173e1927065c53e\nStory: #1669608\nTask: 23176\n(cherry picked from commit a70f0aff6d72d5da3f4a5d634f93eded2aa3a82b)\n'}]",0,688539,0f61311a9e1cd9b5b231e4a63e3f79cedb960275,12,3,4,14567,,,0,"[DEBUG] Remove handling for client status races

Now that we guarantee that resources are UPDATE_IN_PROGRESS before the
stack update call returns for legacy stacks (this was already true for
convergence stacks), there is no need to have special handling to check the
updated_time either in StackResources or in functional tests.

Change-Id: I5bf7ed6cb9ba6c77a77dd36eb173e1927065c53e
Story: #1669608
Task: 23176
(cherry picked from commit a70f0aff6d72d5da3f4a5d634f93eded2aa3a82b)
",git fetch https://review.opendev.org/openstack/heat refs/changes/39/688539/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/common/test.py', 'heat/engine/resources/stack_resource.py', 'heat_integrationtests/functional/test_update_restricted.py', 'heat/tests/test_stack_resource.py']",4,3d014a35d4439015cc0a0505a9548d04c6b8170d,1669608_pike_backport,," def test_update_not_started(self): if self.action != 'update': # only valid for updates at the moment. return self.status[1] = 'COMPLETE' self.status[3] = 'test' cookie = {'previous': {'state': ('UPDATE', 'COMPLETE'), 'updated_at': 'test'}} complete = getattr(self.parent_resource, 'check_%s_complete' % self.action) self.assertFalse(complete(cookie=cookie)) self.mock_status.assert_called_once_with( self.parent_resource.context, self.parent_resource.resource_id) ",7,83
openstack%2Fmasakari-specs~master~Iee6ee2a8e076623afd32f01b1b5c2c473d9cb263,openstack/masakari-specs,master,Iee6ee2a8e076623afd32f01b1b5c2c473d9cb263,Add Ussuri cycle specs,ABANDONED,2019-11-14 11:47:37.000000000,2019-11-15 00:38:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-14 11:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/f3acb5c5ac05f71023775a62356ce18392712a40', 'message': 'Add Ussuri cycle specs\n\nChange-Id: Iee6ee2a8e076623afd32f01b1b5c2c473d9cb263\n'}, {'number': 2, 'created': '2019-11-14 12:42:23.000000000', 'files': ['doc/source/specs/ussuri/redirects', 'specs/ussuri-template.rst', 'specs/ussuri/approved/ussuri-template.rst', 'specs/ussuri/implemented/ussuri-template.rst', 'doc/source/index.rst', 'doc/source/specs/ussuri/approved', 'doc/source/specs/ussuri/implemented', 'doc/source/specs/ussuri/index.rst', 'specs/ussuri/redirects'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/59b6c804e2302493db2d75ebf15c15610076acb6', 'message': 'Add Ussuri cycle specs\n\nChange-Id: Iee6ee2a8e076623afd32f01b1b5c2c473d9cb263\n'}]",0,694261,59b6c804e2302493db2d75ebf15c15610076acb6,5,1,2,24501,,,0,"Add Ussuri cycle specs

Change-Id: Iee6ee2a8e076623afd32f01b1b5c2c473d9cb263
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/61/694261/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/ussuri/redirects', 'specs/ussuri-template.rst', 'specs/ussuri/approved/ussuri-template.rst', 'specs/ussuri/implemented/ussuri-template.rst', 'doc/source/index.rst', 'doc/source/specs/ussuri/approved', 'doc/source/specs/ussuri/implemented', 'doc/source/specs/ussuri/index.rst', 'specs/ussuri/redirects']",9,f3acb5c5ac05f71023775a62356ce18392712a40,,,,1190,0
openstack%2Fneutron-specs~master~I762a9673ee8906d3eb448808b1ec6ed4dd570469,openstack/neutron-specs,master,I762a9673ee8906d3eb448808b1ec6ed4dd570469,Fix some invalid links in the spec file,MERGED,2017-09-11 05:53:08.000000000,2019-11-15 00:36:30.000000000,2019-11-15 00:35:01.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22104}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-09-11 05:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2ee11e443d1ae77ed197ea4783fd8d731b560cea', 'message': 'Fix some invalid links in the spec file\n\nChange-Id: I762a9673ee8906d3eb448808b1ec6ed4dd570469\n'}, {'number': 2, 'created': '2017-09-11 05:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/edccdde4d9adef284849e5d69a2bdba97f2c0c5d', 'message': ""Fix some invalid links in the spec file\n\nThe old link is invalid, we can't access any more.\n\nChange-Id: I762a9673ee8906d3eb448808b1ec6ed4dd570469\n""}, {'number': 3, 'created': '2017-09-11 06:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/05fdc4767cb3a633bfbc5d1c80fa948b38859f23', 'message': ""Fix some invalid links in the spec file\n\nThe old link is invalid, we can't access any more.\n\nChange-Id: I762a9673ee8906d3eb448808b1ec6ed4dd570469\n""}, {'number': 4, 'created': '2017-11-22 06:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7447133a98beac0037f1de1bc658ef7219e98410', 'message': ""Fix some invalid links in the spec file\n\nThe old link is invalid, we can't access any more.\n\nCloses-Bug: #1733783\nChange-Id: I762a9673ee8906d3eb448808b1ec6ed4dd570469\n""}, {'number': 5, 'created': '2018-01-26 01:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5d885444bb67583d9e77244e97ad262130c89c82', 'message': ""Fix some invalid links in the spec file\n\nThe old link is invalid, we can't access any more.\n\nCloses-Bug: #1733783\nChange-Id: I762a9673ee8906d3eb448808b1ec6ed4dd570469\n""}, {'number': 6, 'created': '2019-11-14 13:49:15.000000000', 'files': ['specs/pike/qos-detailed-reporting-of-available-rules.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9d2df833d277331c2466e282a375f40068619216', 'message': ""Fix some invalid links in the spec file\n\nThe old link is invalid, we can't access any more.\n\nCloses-Bug: #1733783\nChange-Id: I762a9673ee8906d3eb448808b1ec6ed4dd570469\n""}]",4,502391,9d2df833d277331c2466e282a375f40068619216,38,9,6,22104,,,0,"Fix some invalid links in the spec file

The old link is invalid, we can't access any more.

Closes-Bug: #1733783
Change-Id: I762a9673ee8906d3eb448808b1ec6ed4dd570469
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/91/502391/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,2ee11e443d1ae77ed197ea4783fd8d731b560cea,I762a9673ee8906d3eb448808b1ec6ed4dd570469,,,0,0
openstack%2Ftripleo-ansible~master~I1815ea5b0e22dddf13b07851272cf75d8b65e793,openstack/tripleo-ansible,master,I1815ea5b0e22dddf13b07851272cf75d8b65e793,Don't install docker on rhel/centos 8,MERGED,2019-11-13 01:36:36.000000000,2019-11-15 00:07:25.000000000,2019-11-15 00:07:24.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 01:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abe45668fc681995d12edaa3a507c61a48025ae9', 'message': ""Don't install docker on rhel/centos 8\n\nChange-Id: I1815ea5b0e22dddf13b07851272cf75d8b65e793\n""}, {'number': 2, 'created': '2019-11-13 01:47:27.000000000', 'files': ['zuul.d/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57dfe084daa417bb2aa9745d165e44a15f08b12c', 'message': ""Don't install docker on rhel/centos 8\n\nChange-Id: I1815ea5b0e22dddf13b07851272cf75d8b65e793\n""}]",0,693957,57dfe084daa417bb2aa9745d165e44a15f08b12c,12,5,2,10969,,,0,"Don't install docker on rhel/centos 8

Change-Id: I1815ea5b0e22dddf13b07851272cf75d8b65e793
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/693957/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre.yml'],1,abe45668fc681995d12edaa3a507c61a48025ae9,srcdir, when: - (ansible_distribution_major_version | int) < 8,,2,0
openstack%2Ftripleo-docs~master~I3ae044b448f98f244b2ded4071c4fd2346adb4dd,openstack/tripleo-docs,master,I3ae044b448f98f244b2ded4071c4fd2346adb4dd,Document openstack overcloud export,MERGED,2019-11-12 22:32:21.000000000,2019-11-15 00:02:35.000000000,2019-11-15 00:01:13.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-12 22:32:21.000000000', 'files': ['deploy-guide/source/features/distributed_compute_node.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/252e86c9303340b76ad35694709f6c03f35bbdb7', 'message': 'Document openstack overcloud export\n\nReplaces the manual export commands with the tripleoclient equivalent:\nopenstack overcloud export\n\nChange-Id: I3ae044b448f98f244b2ded4071c4fd2346adb4dd\nDepends-On: https://review.opendev.org/#/c/692909/\n'}]",0,693943,252e86c9303340b76ad35694709f6c03f35bbdb7,9,4,1,7144,,,0,"Document openstack overcloud export

Replaces the manual export commands with the tripleoclient equivalent:
openstack overcloud export

Change-Id: I3ae044b448f98f244b2ded4071c4fd2346adb4dd
Depends-On: https://review.opendev.org/#/c/692909/
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/43/693943/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/distributed_compute_node.rst'],1,252e86c9303340b76ad35694709f6c03f35bbdb7,,"consume exported data from the overcloud stack to reuse asExtract the needed data from the control plane stack: # Pass --help to see a full list of options openstack overcloud export \ --stack control-plane \ --output-file control-plane-export.yaml The `control-plane-export.yaml` generated in the previous command contains sensitive security data such as passwords and TLS certificates that are used in the overcloud deployment. Some passwords in the file may be removed if they are not needed by DCN. For example, the passwords for RabbitMQ, MySQL, Keystone, Nova and Neutron should be sufficient to launch an instance. When the export comman is run, the Ceph passwords are excluded so that DCN deployments which include Ceph do not reuse the same Ceph password and instead new ones are generated per DCN deployment.As documented in export_dcn_, the following command is run to save needed openstack overcloud export \ --stack control-plane \ --output-file control-plane-export.yaml -e /home/centos/control-plane-export.yamlThe ``control-plane-export.yaml`` file was generated from the command from example_export_dcn_. -e /home/centos/control-plane-export.yamlThe ``control-plane-export.yaml`` file was generated from the command from example_export_dcn_, and is the same file that was used with the ``central`` stack.Once the central stack is updated, re-run the export command from :ref:`export_dcn` to recreate the required input file for each separate When re-running the export command, save the generated file in a new directory so that the previous version is not overwritten. In the event the minor update procedure, the previous version of the exported file","consume some of the stack outputs from the overcloud stack to reuse asExtract the needed data from the stack outputs: # EndpointMap: Cloud service to URL mapping openstack stack output show control-plane EndpointMap --format json \ | jq '{""parameter_defaults"": {""EndpointMapOverride"": .output_value}}' \ > endpoint-map.json # GlobalConfig: Service specific hieradata set on all nodes openstack stack output show $STACK GlobalConfig --format json \ | jq '{""parameter_defaults"": {""GlobalConfigExtraMapData"": .output_value}}' \ > global-config-extra-map-data.json # HostsEntry: Entries for /etc/hosts set on all nodes openstack stack output show control-plane HostsEntry -f json \ | jq -r '{""parameter_defaults"":{""ExtraHostFileEntries"": .output_value}}' \ > extra-host-file-entries.json Save the hieradata from the stack for input into the compute stacks: .. code-block:: bash # AllNodesConfig: Node specific hieradata (hostnames, etc) set on all nodes cat /var/lib/mistral/control-plane/group_vars/overcloud.json \ | jq '{""parameter_defaults"": {""AllNodesExtraMapData"": .}}' \ > all-nodes-extra-map-data.json The same passwords and secrets should be reused when deploying the additional compute stacks. These values can be saved from the existing control plane stack deployment with the following command: .. code-block:: bash openstack object save overcloud plan-environment.yaml python -c ""import yaml; data=yaml.safe_load(open('plan-environment.yaml').read()); print yaml.dump(dict(parameter_defaults=data['passwords']))"" | grep -vi ceph > passwords.yaml Use the passwords.yaml enviornment file generated by the previous command, or reuse the environment file used to set the values for the control plane stack. The `passwords.yaml` generated in the previous command contains sensitive security data such as passwords and TLS certificates that are used in the overcloud deployment. Some passwords in the file may be removed if they are not needed by the DCN. For example, the passwords for RabbitMQ, MySQL, Keystone, Nova and Neutron should be sufficient to launch an instance. In the example above the Ceph passwords are excluded so that DCN deployments which include Ceph do not reuse the same Ceph password and instead new ones are generated per DCN deployment.As documented in export_dcn_, the following commands are run to save needed # EndpointMap: Cloud service to URL mapping openstack stack output show control-plane EndpointMap --format json \ | jq '{""parameter_defaults"": {""EndpointMapOverride"": .output_value}}' \ > endpoint-map.json # GlobalConfig: Service specific hieradata set on all nodes openstack stack output show $STACK GlobalConfig --format json \ | jq '{""parameter_defaults"": {""GlobalConfigExtraMapData"": .output_value}}' \ > $DIR/global-config-extra-map-data.json # HostsEntry: Entries for /etc/hosts set on all nodes openstack stack output show control-plane HostsEntry -f json \ | jq -r '{""parameter_defaults"":{""ExtraHostFileEntries"": .output_value}}' \ > extra-host-file-entries.json # AllNodesConfig: Node specific hieradata (hostnames, etc) set on all nodes cat /var/lib/mistral/control-plane/group_vars/overcloud.json \ | jq '{""parameter_defaults"": {""AllNodesExtraMapData"": .}}' \ > all-nodes-extra-map-data.json openstack object save control-plane plan-environment.yaml python -c ""import yaml; data=yaml.safe_load(open('plan-environment.yaml').read()); print yaml.dump(dict(parameter_defaults=data['passwords']))"" > passwords.yaml -e /home/centos/control-plane-export/endpoint-map.json \ -e /home/centos/control-plane-export/all-nodes-extra-map-data.json \ -e /home/centos/control-plane-export/global-config-extra-map-data.json \ -e /home/centos/control-plane-export/extra-host-file-entries.json \ -e /home/centos/control-plane-export/oslo.yaml \ -e /home/centos/control-plane-export/passwords.yamlAll of the environment files under the ``control-plane-export`` subdirectory were generated from the commands from example_export_dcn_. -e /home/centos/control-plane-export/endpoint-map.json \ -e /home/centos/control-plane-export/all-nodes-extra-map-data.json \ -e /home/centos/control-plane-export/global-config-extra-map-data.json \ -e /home/centos/control-plane-export/extra-host-file-entries.json \ -e /home/centos/control-plane-export/oslo.yaml \ -e /home/centos/control-plane-export/passwords.yamlAll of the environment files under the ``control-plane-export`` subdirectory were generated from the commands from example_export_dcn_ and are the same files that were used with the ``central`` stack.Once the central stack is updated, re-run the export commands from :ref:`export_dcn` to recreate the required input files for each separate When re-running the export commands, save the generated files in a new directory so that the previous versions are not overwritten. In the event the minor update procedure, the previous versions of the exported files",30,92
openstack%2Ftripleo-puppet-elements~master~I0985e31d1a51ef2f7a5176ab33b8bda62a0eb8af,openstack/tripleo-puppet-elements,master,I0985e31d1a51ef2f7a5176ab33b8bda62a0eb8af,"Revert ""Fix permissions on 51-enable-network-service""",ABANDONED,2019-11-14 11:33:05.000000000,2019-11-14 23:54:01.000000000,,"[{'_account_id': 3153}, {'_account_id': 8161}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 11:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/f6c4c9b0935e22fde164a0e0e34e905d924abcad', 'message': 'Revert ""Fix permissions on 51-enable-network-service""\n\nThis reverts commit eb3fb3db4af243236da46d5f5858f056bd2e4096.\n\nChange-Id: I0985e31d1a51ef2f7a5176ab33b8bda62a0eb8af\n'}, {'number': 2, 'created': '2019-11-14 11:37:20.000000000', 'files': ['elements/overcloud-base/post-install.d/51-enable-network-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/15ae8cf6945948909f7cd16127568962e6d49a88', 'message': 'Revert ""Fix permissions on 51-enable-network-service""\n\nThis reverts commit eb3fb3db4af243236da46d5f5858f056bd2e4096.\n\nChange-Id: I0985e31d1a51ef2f7a5176ab33b8bda62a0eb8af\n'}]",0,694252,15ae8cf6945948909f7cd16127568962e6d49a88,12,10,2,10969,,,0,"Revert ""Fix permissions on 51-enable-network-service""

This reverts commit eb3fb3db4af243236da46d5f5858f056bd2e4096.

Change-Id: I0985e31d1a51ef2f7a5176ab33b8bda62a0eb8af
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/52/694252/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/post-install.d/51-enable-network-service'],1,f6c4c9b0935e22fde164a0e0e34e905d924abcad,,,,0,0
openstack%2Fnova~master~I7de14456d04370c842b4c35597dca3a628a826a2,openstack/nova,master,I7de14456d04370c842b4c35597dca3a628a826a2,Improve metadata server performance with large security groups,MERGED,2019-04-27 22:35:55.000000000,2019-11-14 23:39:02.000000000,2019-11-14 21:57:54.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10980}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-04-27 22:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3535730cd11df9579dc90407c1af50ac389f4066', 'message': ""Improve metadata server performance with large security groups\n\nDon't include the rules in the SG fetch in the metadata server, since\nwe don't need them there, and with >1000 rules, it starts to get\nreally slow, especially in Pike and later.\n\nChange-Id: I7de14456d04370c842b4c35597dca3a628a826a2\n""}, {'number': 2, 'created': '2019-04-28 01:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39efa7319a5b1245a243eba1724f9ea660f0ea1c', 'message': ""Improve metadata server performance with large security groups\n\nDon't include the rules in the SG fetch in the metadata server, since\nwe don't need them there, and with >1000 rules, it starts to get\nreally slow, especially in Pike and later.\n\nChange-Id: I7de14456d04370c842b4c35597dca3a628a826a2\n""}, {'number': 3, 'created': '2019-05-17 17:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac397d50481cc16afe12ea15c4354d17c3aa30b6', 'message': ""Improve metadata server performance with large security groups\n\nDon't include the rules in the SG fetch in the metadata server, since\nwe don't need them there, and with >1000 rules, it starts to get\nreally slow, especially in Pike and later.\n\nChange-Id: I7de14456d04370c842b4c35597dca3a628a826a2\n""}, {'number': 4, 'created': '2019-11-05 22:30:34.000000000', 'files': ['nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/network/security_group/neutron_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eaf16fdde59a14fb38df669b21a911a0c2d2576f', 'message': ""Improve metadata server performance with large security groups\n\nDon't include the rules in the SG fetch in the metadata server, since\nwe don't need them there, and with >1000 rules, it starts to get\nreally slow, especially in Pike and later.\n\nCloses-Bug: #1851430\n\nCo-Authored-By: Doug Wiegley <dougwig@parkside.io>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I7de14456d04370c842b4c35597dca3a628a826a2\n""}]",17,656084,eaf16fdde59a14fb38df669b21a911a0c2d2576f,124,18,4,10980,,,0,"Improve metadata server performance with large security groups

Don't include the rules in the SG fetch in the metadata server, since
we don't need them there, and with >1000 rules, it starts to get
really slow, especially in Pike and later.

Closes-Bug: #1851430

Co-Authored-By: Doug Wiegley <dougwig@parkside.io>
Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/656084/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/metadata/base.py', 'nova/network/security_group/neutron_driver.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/network/security_group/security_group_base.py', 'nova/compute/api.py']",6,3535730cd11df9579dc90407c1af50ac389f4066,faster-sg-pull," def get_instance_security_groups(self, context, instance, detailed=False, fields=None):"," def get_instance_security_groups(self, context, instance, detailed=False):",19,11
openstack%2Fosc-placement~master~Ifa1fd55b2c8a3f65a74d9e5e2f0482d015c97723,openstack/osc-placement,master,Ifa1fd55b2c8a3f65a74d9e5e2f0482d015c97723,Fix deps for using venv tox target to create a release note,MERGED,2019-10-25 19:34:43.000000000,2019-11-14 23:32:07.000000000,2019-11-14 23:31:02.000000000,"[{'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-10-25 19:34:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/3ac639bcf766bc05c1899ca5cec91e415d4f8456', 'message': 'Fix deps for using venv tox target to create a release note\n\nThe reno package dependency is in doc/requirements.txt which\nneeds to be in the tox venv target deps if you want to create\na release note using:\n\n  tox -e venv -- reno new <slug>\n\nChange-Id: Ifa1fd55b2c8a3f65a74d9e5e2f0482d015c97723\n'}]",0,691421,3ac639bcf766bc05c1899ca5cec91e415d4f8456,9,4,1,6873,,,0,"Fix deps for using venv tox target to create a release note

The reno package dependency is in doc/requirements.txt which
needs to be in the tox venv target deps if you want to create
a release note using:

  tox -e venv -- reno new <slug>

Change-Id: Ifa1fd55b2c8a3f65a74d9e5e2f0482d015c97723
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/21/691421/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3ac639bcf766bc05c1899ca5cec91e415d4f8456,story/2006779,"# The docs requirements are included here for creating release notes, e.g.: # tox -e venv -- reno new <slug> deps = {[testenv]deps} -r{toxinidir}/doc/requirements.txt",,5,0
openstack%2Fcharm-keystone~master~Ib965a7e2a7afcd36423dadf548d33a8efbfaf6fe,openstack/charm-keystone,master,Ib965a7e2a7afcd36423dadf548d33a8efbfaf6fe,Update README.md and gitkeep consistancy,MERGED,2019-11-14 11:36:27.000000000,2019-11-14 23:31:40.000000000,2019-11-14 23:31:40.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 11:36:27.000000000', 'files': ['lib/.gitkeep', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/a85ae0e852657adf4a630511ce131dc467ada473', 'message': 'Update README.md and gitkeep consistancy\n\nRemove 2 extra lines, and capitilsation of Juju, so the doc is\nconsitent. 2 empty directories either have .keep or .gitkeep\nchange .keep to .gitkeep to be consistent\n\nChange-Id: Ib965a7e2a7afcd36423dadf548d33a8efbfaf6fe\n'}]",0,694255,a85ae0e852657adf4a630511ce131dc467ada473,7,3,1,9247,,,0,"Update README.md and gitkeep consistancy

Remove 2 extra lines, and capitilsation of Juju, so the doc is
consitent. 2 empty directories either have .keep or .gitkeep
change .keep to .gitkeep to be consistent

Change-Id: Ib965a7e2a7afcd36423dadf548d33a8efbfaf6fe
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/55/694255/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/.gitkeep', 'README.md']",2,a85ae0e852657adf4a630511ce131dc467ada473,minor_fix,"Alternatively, these can also be provided as part of a Juju native bundle","Alternatively, these can also be provided as part of a juju native bundle",1,3
openstack%2Fnova~master~I613ad054f77b1a0a9d2e7718c0c531d11525283c,openstack/nova,master,I613ad054f77b1a0a9d2e7718c0c531d11525283c,Join migration_context and flavor in Migration.instance,MERGED,2019-10-21 17:03:51.000000000,2019-11-14 22:28:01.000000000,2019-11-14 21:57:49.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-21 17:03:51.000000000', 'files': ['nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/objects/migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c15e36e5849b6baddebb4b39475a6bf03ec5908b', 'message': ""Join migration_context and flavor in Migration.instance\n\nThis builds on Ifc7dcde8a659710acecb1967da15c632c69d675c\nby joining the Migration.instance migration_context and\nflavor to avoid lazy-loading those later.\n\nWhen tracking an incoming migration, the ResourceTracker\n_pair_instances_to_migrations can hit a KeyError since it's\nnot yet tracking the instance on that dest host yet. Then\n_update_usage_from_migrations will lazy-load the Migration.instance\nfield and access the migration_context and flavor fields on the\ninstance, which get lazy-loaded, which kind of defeats part of\nthe purpose of that optimization.\n\nChange-Id: I613ad054f77b1a0a9d2e7718c0c531d11525283c\nRelated-Bug: #1540526\n""}]",0,689846,c15e36e5849b6baddebb4b39475a6bf03ec5908b,43,15,1,6873,,,0,"Join migration_context and flavor in Migration.instance

This builds on Ifc7dcde8a659710acecb1967da15c632c69d675c
by joining the Migration.instance migration_context and
flavor to avoid lazy-loading those later.

When tracking an incoming migration, the ResourceTracker
_pair_instances_to_migrations can hit a KeyError since it's
not yet tracking the instance on that dest host yet. Then
_update_usage_from_migrations will lazy-load the Migration.instance
field and access the migration_context and flavor fields on the
instance, which get lazy-loaded, which kind of defeats part of
the purpose of that optimization.

Change-Id: I613ad054f77b1a0a9d2e7718c0c531d11525283c
Related-Bug: #1540526
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/689846/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/objects/migration.py']",3,c15e36e5849b6baddebb4b39475a6bf03ec5908b,bug/1540526," self._context, self.instance_uuid, expected_attrs=['migration_context', 'flavor'])"," self._context, self.instance_uuid)",11,6
openstack%2Ftripleo-ci~master~I9d5480a63b9dca7c4e034252f8b3a33d62e85a21,openstack/tripleo-ci,master,I9d5480a63b9dca7c4e034252f8b3a33d62e85a21,Don't collect Tobiko subunit results files,MERGED,2019-10-16 13:15:38.000000000,2019-11-14 22:07:09.000000000,2019-11-14 22:07:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-16 13:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8c5e36900ebb222d99e27c98f6158190e1813b49', 'message': ""Don't collect Tobiko subunit results files\n\nSubunit files are not needed to be collected in logs after\nCI jobs' runs.\n\nChange-Id: I9d5480a63b9dca7c4e034252f8b3a33d62e85a21\n""}, {'number': 2, 'created': '2019-10-21 09:47:56.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1ee30effc0ee1d2796a3a0bf2ce8513fdd6b7132', 'message': ""Don't collect Tobiko subunit results files\n\nSubunit files are not needed to be collected in logs after\nCI jobs' runs.\n\nChange-Id: I9d5480a63b9dca7c4e034252f8b3a33d62e85a21\n""}]",0,688923,1ee30effc0ee1d2796a3a0bf2ce8513fdd6b7132,34,10,2,11975,,,0,"Don't collect Tobiko subunit results files

Subunit files are not needed to be collected in logs after
CI jobs' runs.

Change-Id: I9d5480a63b9dca7c4e034252f8b3a33d62e85a21
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/23/688923/2 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,8c5e36900ebb222d99e27c98f6158190e1813b49,fetch-tobiko-logs-properly, - /home/{{ undercloud_user }}/.tobiko/*.subunit,,1,0
openstack%2Fnova~master~Ib76779a8e34b2c68b0f4af190f71576180360d0f,openstack/nova,master,Ib76779a8e34b2c68b0f4af190f71576180360d0f,docs: update SUSPENDED server status wrt supported drivers,MERGED,2019-11-14 15:27:23.000000000,2019-11-14 22:05:13.000000000,2019-11-14 20:34:43.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-14 15:27:23.000000000', 'files': ['api-guide/source/server_concepts.rst', 'api-ref/source/servers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d91a8463f194edae863b51b2224bbec5cd8c68a', 'message': ""docs: update SUSPENDED server status wrt supported drivers\n\nTwo things here:\n\n1. The API guide was missing the hyper-v driver which supports\n   the suspend operation. Rather than hard-code a list of supported\n   drivers in the doc, this change just links to the entry in the\n   feature support matrix.\n\n2. The supported hypervisors mention in the API reference is removed\n   because the end user using the API should not need to know or care\n   what backend hypervisor on which their server is running. They can\n   either suspend or not, but we don't need to mention the supporting\n   drivers for that in the API reference.\n\nChange-Id: Ib76779a8e34b2c68b0f4af190f71576180360d0f\nRelated-Bug: #1815403\n""}]",0,694329,2d91a8463f194edae863b51b2224bbec5cd8c68a,14,8,1,6873,,,0,"docs: update SUSPENDED server status wrt supported drivers

Two things here:

1. The API guide was missing the hyper-v driver which supports
   the suspend operation. Rather than hard-code a list of supported
   drivers in the doc, this change just links to the entry in the
   feature support matrix.

2. The supported hypervisors mention in the API reference is removed
   because the end user using the API should not need to know or care
   what backend hypervisor on which their server is running. They can
   either suspend or not, but we don't need to mention the supporting
   drivers for that in the API reference.

Change-Id: Ib76779a8e34b2c68b0f4af190f71576180360d0f
Related-Bug: #1815403
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/694329/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-guide/source/server_concepts.rst', 'api-ref/source/servers.inc']",2,2d91a8463f194edae863b51b2224bbec5cd8c68a,bug/1815403," necessity. When you suspend a server, its state is stored"," necessity. This status appears for only the following hypervisors: XenServer/XCP, KVM, and ESXi. When you suspend a server, its state is stored",4,4
openstack%2Frequirements~master~If5de7301d998bc0ec5034afd853426ae393d1064,openstack/requirements,master,If5de7301d998bc0ec5034afd853426ae393d1064,Requirements-check fails,MERGED,2019-11-14 10:58:51.000000000,2019-11-14 21:58:35.000000000,2019-11-14 21:57:29.000000000,"[{'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-14 10:58:51.000000000', 'files': ['playbooks/requirements-check.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1c270c8dd53f2aa37d93e21d353f885682cdcf08', 'message': 'Requirements-check fails\n\nopenstack_requirements is installed in python2\nproject-requirements-change.py is run in python3\n\nsee:\nhttps://openstack.fortnebula.com:13808/v1/AUTH_e8fd161dc34c421a979a9e6421f823e9/zuul_opendev_logs_91b/694233/1/check/requirements-check/91b72b0/job-output.txt\n\nChange-Id: If5de7301d998bc0ec5034afd853426ae393d1064\n'}]",0,694248,1c270c8dd53f2aa37d93e21d353f885682cdcf08,18,8,1,19134,,,0,"Requirements-check fails

openstack_requirements is installed in python2
project-requirements-change.py is run in python3

see:
https://openstack.fortnebula.com:13808/v1/AUTH_e8fd161dc34c421a979a9e6421f823e9/zuul_opendev_logs_91b/694233/1/check/requirements-check/91b72b0/job-output.txt

Change-Id: If5de7301d998bc0ec5034afd853426ae393d1064
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/694248/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/requirements-check.yaml'],1,1c270c8dd53f2aa37d93e21d353f885682cdcf08,py3," command: ""pip3 install --user {{ zuul.projects['opendev.org/openstack/requirements'].src_dir }}"""," command: ""pip install --user {{ zuul.projects['opendev.org/openstack/requirements'].src_dir }}""",1,1
openstack%2Ftripleo-common~master~If455efc0702c2cfbd84b390bb9433a11e3fcebef,openstack/tripleo-common,master,If455efc0702c2cfbd84b390bb9433a11e3fcebef,"Revert ""Revert ""Improve Swift healthchecks""""",MERGED,2019-11-13 18:40:42.000000000,2019-11-14 21:49:36.000000000,2019-11-14 21:47:42.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 18:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/79f4b7d30141cadc550b8c0c8867e8299d40787c', 'message': 'Revert ""Revert ""Improve Swift healthchecks""""\n\nThis reverts commit 6aa6a78fb71dace9f1e8d5f7cacf67ecd57f6419.\n\nChange-Id: If455efc0702c2cfbd84b390bb9433a11e3fcebef\n'}, {'number': 2, 'created': '2019-11-13 21:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ef125143ac91df601dc1cf9c1c2114c06c1605b0', 'message': 'Revert ""Revert ""Improve Swift healthchecks""""\n\nThis reverts commit 6aa6a78fb71dace9f1e8d5f7cacf67ecd57f6419.\n\nDepends-On: https://review.opendev.org/#/c/694122/\nChange-Id: If455efc0702c2cfbd84b390bb9433a11e3fcebef\n'}, {'number': 3, 'created': '2019-11-14 06:19:22.000000000', 'files': ['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'container-images/tripleo_kolla_template_overrides.j2', 'healthcheck/swift-object-expirer', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c2f520e6c5cf0a0d01f6d0d012fa488bf6e3d179', 'message': 'Revert ""Revert ""Improve Swift healthchecks""""\n\nThis reverts commit 6aa6a78fb71dace9f1e8d5f7cacf67ecd57f6419.\n\nDepends-On: https://review.opendev.org/#/c/694122/\nChange-Id: If455efc0702c2cfbd84b390bb9433a11e3fcebef\n'}]",0,694137,c2f520e6c5cf0a0d01f6d0d012fa488bf6e3d179,13,4,3,3153,,,0,"Revert ""Revert ""Improve Swift healthchecks""""

This reverts commit 6aa6a78fb71dace9f1e8d5f7cacf67ecd57f6419.

Depends-On: https://review.opendev.org/#/c/694122/
Change-Id: If455efc0702c2cfbd84b390bb9433a11e3fcebef
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/694137/2 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'container-images/tripleo_kolla_template_overrides.j2', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-object-expirer', 'healthcheck/swift-proxy']",11,79f4b7d30141cadc550b8c0c8867e8299d40787c,revert,,"else # TODO(mmagr): Remove this once swift_object_expirer container will start # using swift-object-expirer kolla image conf=/etc/swift/object-expirer.conf cache=/var/cache/swift/object.recon interval=$(get_config_val $conf object-expirer interval 300) if ! healthcheck_file_modification $cache $interval; then echo ""Cache file $cache was not updated within interval of $interval seconds."" exit 1 fi",42,80
openstack%2Fkolla~master~I61c68bf738673a96dd5ba256e40e8532364ff281,openstack/kolla,master,I61c68bf738673a96dd5ba256e40e8532364ff281,"Revert ""Move to RDO Train packages""",MERGED,2019-11-13 12:08:49.000000000,2019-11-14 21:44:10.000000000,2019-11-14 21:42:47.000000000,"[{'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 26297}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-13 12:08:49.000000000', 'files': ['docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a8abbf34c0373f24d6417f19a2ba27f3d017e10f', 'message': 'Revert ""Move to RDO Train packages""\n\nThis reverts commit c78c82c9630b334cbaef040d68bce7e5ae8cc118.\n\nChange-Id: I61c68bf738673a96dd5ba256e40e8532364ff281\n'}]",0,694054,a8abbf34c0373f24d6417f19a2ba27f3d017e10f,22,9,1,30491,,,0,"Revert ""Move to RDO Train packages""

This reverts commit c78c82c9630b334cbaef040d68bce7e5ae8cc118.

Change-Id: I61c68bf738673a96dd5ba256e40e8532364ff281
",git fetch https://review.opendev.org/openstack/kolla refs/changes/54/694054/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'kolla/common/config.py']",4,a8abbf34c0373f24d6417f19a2ba27f3d017e10f,feature/rdo_train," cfg.ListOpt('rpm_setup_config', default=[DELOREAN, DELOREAN_DEPS],"," cfg.ListOpt('rpm_setup_config', default=[],",6,4
openstack%2Ftripleo-heat-templates~master~If1e4e149100dccfe76ccd807997a611d0fc8841f,openstack/tripleo-heat-templates,master,If1e4e149100dccfe76ccd807997a611d0fc8841f,Add NovaAZConfig service to compute roles,MERGED,2019-10-04 16:22:24.000000000,2019-11-14 21:33:00.000000000,2019-10-29 02:57:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 16:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/853c89a58162b8e20a6e66f5937f5d6c5473a437', 'message': 'Add NovaAZConfig service to compute roles\n\nThe NovaAZConfig service is added to all the compute related roles\nof the box so that the nodes are automatically in a new AZ when the\nservice is enabled.\n\nBy default, the service is mapped to OS::Heat::None so no change in\ndefault behavior is made.\n\nChange-Id: If1e4e149100dccfe76ccd807997a611d0fc8841f\n'}, {'number': 2, 'created': '2019-10-10 14:37:52.000000000', 'files': ['roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeRBDEphemeral.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45c226c8fe9e0da6f62841608a2c635d7eec8ad8', 'message': 'Add NovaAZConfig service to compute roles\n\nThe NovaAZConfig service is added to all the compute related roles\nof the box so that the nodes are automatically in a new AZ when the\nservice is enabled.\n\nBy default, the service is mapped to OS::Heat::None so no change in\ndefault behavior is made.\n\nChange-Id: If1e4e149100dccfe76ccd807997a611d0fc8841f\n'}]",0,686768,45c226c8fe9e0da6f62841608a2c635d7eec8ad8,23,6,2,7144,,,0,"Add NovaAZConfig service to compute roles

The NovaAZConfig service is added to all the compute related roles
of the box so that the nodes are automatically in a new AZ when the
service is enabled.

By default, the service is mapped to OS::Heat::None so no change in
default behavior is made.

Change-Id: If1e4e149100dccfe76ccd807997a611d0fc8841f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/686768/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/DistributedComputeHCI.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeDVR.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml']",19,853c89a58162b8e20a6e66f5937f5d6c5473a437,686768, - OS::TripleO::Services::NovaAZConfig,,19,0
openstack%2Fdesignate~stable%2Ftrain~I6873f89c507f7d3aa70c7ccc63744fa2fc12e7b7,openstack/designate,stable/train,I6873f89c507f7d3aa70c7ccc63744fa2fc12e7b7,Set default branches to stable/train,MERGED,2019-11-11 09:48:29.000000000,2019-11-14 21:31:12.000000000,2019-11-14 21:30:05.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-11-11 09:48:29.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/designate/commit/de062fac006f8ee1391da847a85c60e9a98c96f6', 'message': 'Set default branches to stable/train\n\nWhen installing designate as a devstack plugin, we want to use the\nmatching stable branches for dependencies by default.\n\nChange-Id: I6873f89c507f7d3aa70c7ccc63744fa2fc12e7b7\n'}]",0,693670,de062fac006f8ee1391da847a85c60e9a98c96f6,8,3,1,13252,,,0,"Set default branches to stable/train

When installing designate as a devstack plugin, we want to use the
matching stable branches for dependencies by default.

Change-Id: I6873f89c507f7d3aa70c7ccc63744fa2fc12e7b7
",git fetch https://review.opendev.org/openstack/designate refs/changes/70/693670/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,de062fac006f8ee1391da847a85c60e9a98c96f6,fix-stable-branches-train,"DESIGNATE_BRANCH=${DESIGNATE_BRANCH:-stable/train}GITBRANCH[""designate-dashboard""]=${DESIGNATEDASHBOARD_BRANCH:-stable/train}GITBRANCH[""python-designateclient""]=${DESIGNATECLIENT_BRANCH:-stable/train}","DESIGNATE_BRANCH=${DESIGNATE_BRANCH:-master}GITBRANCH[""designate-dashboard""]=${DESIGNATEDASHBOARD_BRANCH:-master}GITBRANCH[""python-designateclient""]=${DESIGNATECLIENT_BRANCH:-master}",3,3
openstack%2Fsenlin~master~I1ad628d23b16454e572f65b8845ab8d70d5915b9,openstack/senlin,master,I1ad628d23b16454e572f65b8845ab8d70d5915b9,Bumping worker count during testing,MERGED,2019-10-31 04:01:02.000000000,2019-11-14 21:29:46.000000000,2019-11-14 21:27:14.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-10-31 04:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/693756a5c066e2b583f73eca0ce88b951d25efd6', 'message': 'Bumping worker count during testing\n\nChange-Id: I1ad628d23b16454e572f65b8845ab8d70d5915b9\n'}, {'number': 2, 'created': '2019-11-01 08:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/fee86fcb32d5f2e962558a2a6a481b182ab12b64', 'message': 'Bumping worker count during testing\n\nChange-Id: I1ad628d23b16454e572f65b8845ab8d70d5915b9\n'}, {'number': 3, 'created': '2019-11-01 22:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/9ac2cbcc5c4641dbef1090fc1f943c7b874b0984', 'message': 'Bumping worker count during testing\n\nWe should always be testing with at least two workers\nto make sure that we catch bugs when running multiple\ncopies of each process.\n\nChange-Id: I1ad628d23b16454e572f65b8845ab8d70d5915b9\n'}, {'number': 4, 'created': '2019-11-03 02:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a8c3c367d6cf8975056a6133d62927dc51f6f673', 'message': 'Bumping worker count during testing\n\nWe should always be testing with at least two workers\nto make sure that we catch bugs when running multiple\ncopies of each process.\n\nChange-Id: I1ad628d23b16454e572f65b8845ab8d70d5915b9\n'}, {'number': 5, 'created': '2019-11-04 21:27:56.000000000', 'files': ['devstack/lib/senlin'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3c7a24a010e706d6d237e602f135c7aa1f79b8da', 'message': 'Bumping worker count during testing\n\nWe should always be testing with at least two workers\nto make sure that we catch bugs when running multiple\ncopies of each process.\n\nChange-Id: I1ad628d23b16454e572f65b8845ab8d70d5915b9\n'}]",0,692257,3c7a24a010e706d6d237e602f135c7aa1f79b8da,18,4,5,22623,,,0,"Bumping worker count during testing

We should always be testing with at least two workers
to make sure that we catch bugs when running multiple
copies of each process.

Change-Id: I1ad628d23b16454e572f65b8845ab8d70d5915b9
",git fetch https://review.opendev.org/openstack/senlin refs/changes/57/692257/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/senlin'],1,693756a5c066e2b583f73eca0ce88b951d25efd6,workers_during_tests, iniset $SENLIN_CONF DEFAULT num_engine_workers $API_WORKERS # Senlin Conductor options iniset $SENLIN_CONF conductor workers $API_WORKERS # Senlin Health-Manager options iniset $SENLIN_CONF health_manager workers $API_WORKERS ,,7,0
openstack%2Fsenlin~master~Ieaec56e66e6804c09827f39bf68d9ec935c42183,openstack/senlin,master,Ieaec56e66e6804c09827f39bf68d9ec935c42183,Standardize worker / thread config,MERGED,2019-11-03 01:56:31.000000000,2019-11-14 21:28:45.000000000,2019-11-14 21:27:14.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 28691}]","[{'number': 1, 'created': '2019-11-03 01:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/22e32668c0c29f42303a586caafb65783f44e2ff', 'message': 'Standardize worker / thread config\n\nMove all worker and thread configuration\nto their individual sections in the config.\n\nChange-Id: Ieaec56e66e6804c09827f39bf68d9ec935c42183\n'}, {'number': 2, 'created': '2019-11-03 02:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2bfc195d91b2cc05a22fbced5a92033083954ba7', 'message': 'Standardize worker / thread config\n\nMove all worker and thread configuration\nto their individual sections in the config.\n\nChange-Id: Ieaec56e66e6804c09827f39bf68d9ec935c42183\n'}, {'number': 3, 'created': '2019-11-03 02:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ae2aa04f148568075c8c070361a276e15ffb5438', 'message': 'Standardize worker / thread config\n\nMove all worker and thread configuration\nto their individual sections in the config.\n\nChange-Id: Ieaec56e66e6804c09827f39bf68d9ec935c42183\n'}, {'number': 4, 'created': '2019-11-03 09:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/895dda0f1727b74b1157dcbe8f6144a95f1c7bb2', 'message': 'Standardize worker / thread config\n\nMoved all worker and thread configuration\nto their individual sections in the config,\nand deprecated the old options.\n\nChange-Id: Ieaec56e66e6804c09827f39bf68d9ec935c42183\n'}, {'number': 5, 'created': '2019-11-04 19:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/515089e1c0eac575e5d353bf097ba0acdfcb6f84', 'message': 'Standardize worker / thread config\n\nMoved all worker and thread configuration\nto their individual sections in the config,\nand deprecated the old options.\n\nChange-Id: Ieaec56e66e6804c09827f39bf68d9ec935c42183\n'}, {'number': 6, 'created': '2019-11-04 19:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d0bfab7c6aadb8a9729aa3751e3af5fe5d59ea8e', 'message': 'Standardize worker / thread config\n\nMoved all worker and thread configuration\nto their individual sections in the config,\nand deprecated the old options.\n\nChange-Id: Ieaec56e66e6804c09827f39bf68d9ec935c42183\n'}, {'number': 7, 'created': '2019-11-04 19:43:29.000000000', 'files': ['senlin/engine/service.py', 'senlin/health_manager/service.py', 'senlin/cmd/engine.py', 'senlin/tests/unit/engine/test_service.py', 'senlin/conductor/service.py', 'senlin/common/config.py', 'senlin/tests/unit/cmd/test_engine.py', 'senlin/tests/unit/conductor/test_service.py', 'senlin/tests/unit/health_manager/test_service.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3cb8f2bf3e8283af3b1b7b41ea46dd8602083781', 'message': 'Standardize worker / thread config\n\nMoved all worker and thread configuration\nto their individual sections in the config,\nand deprecated the old options.\n\nChange-Id: Ieaec56e66e6804c09827f39bf68d9ec935c42183\n'}]",1,692691,3cb8f2bf3e8283af3b1b7b41ea46dd8602083781,20,4,7,22623,,,0,"Standardize worker / thread config

Moved all worker and thread configuration
to their individual sections in the config,
and deprecated the old options.

Change-Id: Ieaec56e66e6804c09827f39bf68d9ec935c42183
",git fetch https://review.opendev.org/openstack/senlin refs/changes/91/692691/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/service.py', 'senlin/health_manager/service.py', 'senlin/cmd/engine.py', 'senlin/tests/unit/engine/test_service.py', 'senlin/conductor/service.py', 'senlin/common/config.py', 'senlin/tests/unit/conductor/test_service.py', 'senlin/tests/unit/health_manager/test_service.py']",8,22e32668c0c29f42303a586caafb65783f44e2ff,new_opts,"from oslo_config import cfg @mock.patch('oslo_service.service.Service.__init__') def test_service_thread_numbers(self, mock_service_init): service.HealthManagerService('HOST', self.topic) mock_service_init.assert_called_once_with(1000) @mock.patch('oslo_service.service.Service.__init__') def test_service_thread_numbers_override(self, mock_service_init): cfg.CONF.set_override('threads', 100, group='health_manager') service.HealthManagerService('HOST', self.topic) mock_service_init.assert_called_once_with(100) @mock.patch('oslo_service.service.Service.__init__') def test_service_thread_numbers_override_legacy(self, mock_service_init): cfg.CONF.set_override('health_manager_thread_pool_size', 101) service.HealthManagerService('HOST', self.topic) mock_service_init.assert_called_once_with(101) ",,96,19
openstack%2Fsenlin~master~Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877,openstack/senlin,master,Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877,Split engine service into three services,MERGED,2019-10-15 18:48:51.000000000,2019-11-14 21:19:52.000000000,2019-11-14 21:18:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 28471}, {'_account_id': 28614}, {'_account_id': 28691}]","[{'number': 1, 'created': '2019-10-15 18:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2720f0351e57d3ecee0acaea9571d464b5419c92', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 2, 'created': '2019-10-15 19:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a0dcb2f95a681c00a2a1f0263fd79d779015778f', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 3, 'created': '2019-10-15 20:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/9c66fbd6fe4dad74541a16348c7a5fd0c2bf6fa8', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nThe goal here is to make the engine more\nresilent by isolating the pieces.\n\nBefore this patch each engine worker could have\nmany thousands of threads. Now each worker will\nhave a single thread group, instead of many thread\ngroups.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 4, 'created': '2019-10-15 23:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c3f360959a04df629d868472651583021d3d845c', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nThe goal here is to make the engine more\nresilent by isolating the pieces.\n\nBefore this patch each engine worker could have\nmany thousands of threads. Now each worker will\nhave a single thread group, instead of many thread\ngroups.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 5, 'created': '2019-10-16 20:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/cf91ed940dd5956d352eab8555e177cc122a8a4d', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nThe goal here is to make the engine more\nresilent by isolating the pieces.\n\nBefore this patch each engine worker could have\nmany thousands of threads. Now each worker will\nhave a single thread group, instead of many thread\ngroups.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 6, 'created': '2019-10-17 01:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/77eb03706506b6629d30996f3883582ea8a8fbe9', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nThe goal here is to make the engine more\nresilent by isolating the pieces.\n\nBefore this patch each engine worker could have\nmany thousands of threads. Now each worker will\nhave a single thread group, instead of many thread\ngroups.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nDepends-On: https://review.opendev.org/#/c/689054/\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 7, 'created': '2019-10-17 01:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/53f24a3772098d0bed0fa5f050705ac730daf9d6', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nThe goal here is to make the engine more\nresilent by isolating the pieces.\n\nBefore this patch each engine worker could have\nmany thousands of threads. Now each worker will\nhave a single thread group, instead of many thread\ngroups.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nDepends-On: https://review.opendev.org/#/c/689054/\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 8, 'created': '2019-10-17 02:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/51e2770fff56145d9c5fb3b5bda90bd5863799e6', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nThe goal here is to make the engine more\nresilent by isolating the pieces.\n\nBefore this patch each engine worker could have\nmany thousands of threads. Now each worker will\nhave a single thread group, instead of many thread\ngroups.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nDepends-On: https://review.opendev.org/#/c/689065/\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 9, 'created': '2019-10-17 05:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/3e6dc0d8994f63d3f1372ce3efbe23e729f37a12', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nThe goal here is to make the engine more\nresilent by isolating the pieces.\n\nBefore this patch each engine worker could have\nmany thousands of threads. Now each worker will\nhave a single thread group, instead of many thread\ngroups.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nDepends-On: https://review.opendev.org/#/c/689065/\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 10, 'created': '2019-10-17 16:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/6e22475f643ed3dbb649295edb1bdab9ed450fd7', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nThe goal here is to make the engine more\nresilent by isolating the pieces.\n\nBefore this patch each engine worker could have\nmany thousands of threads. Now each worker will\nhave a single thread group, instead of many thread\ngroups.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 11, 'created': '2019-10-17 16:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/1b34c949d599254fc9cfceaf2162b0ac89fbc50c', 'message': 'Split engine service\n\nThis patch splits the engine into 3 services,\nconductor, engine and health-manager.\n\nThe goal here is to make the engine more\nresilent by isolating the pieces.\n\nBefore this patch each engine worker could have\nmany thousands of threads. Now each worker will\nhave a single thread group, instead of many thread\ngroups.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 12, 'created': '2019-10-19 21:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a3ecda617597229556db27cac3d34c3067f8d297', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process\nwith context switching.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 13, 'created': '2019-10-19 22:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2137c5cd7e24c6443569381c15a4a59ce0b179ab', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 14, 'created': '2019-10-22 03:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/3f2047f2b2a239f6287598ffca4b1e17fdb21f54', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 15, 'created': '2019-10-23 02:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ebaeea0e297f692a74ce339048efd1b3a189fd73', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 16, 'created': '2019-10-24 04:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/27afa7726f7c2e04ea25ad8e086f5a0de005a4b0', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 17, 'created': '2019-10-27 03:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c8b6391415281a779fbb3988b4a2679b8f326906', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 18, 'created': '2019-10-27 04:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/e086a6af122d35771367536b81a4c3e39ca4951c', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 19, 'created': '2019-10-30 08:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/4fe858fce0c8c9a48338bde4d1d4291fee9917ec', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 20, 'created': '2019-10-30 08:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/1223f370f8989ef6b7151e312de07cd988e85f92', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 21, 'created': '2019-10-30 08:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/30cf64b17ab50c767abce3082605cc3930892791', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 22, 'created': '2019-10-30 18:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2214f6efc53297ed68f67da74eb3a8b986f86cf1', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 23, 'created': '2019-10-31 04:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/90a20e9c444d62bb872988719272a8edbc906ed0', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 24, 'created': '2019-11-01 08:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5a14b8f9ace7f0e2f030841f76254a160701d3cc', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 25, 'created': '2019-11-03 01:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5b8e0abc998a349ea4fe4c80ef5c518fb54e4878', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 26, 'created': '2019-11-04 19:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b93ed46343b34687810c8e0cd19e3c239fc9a9a5', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}, {'number': 27, 'created': '2019-11-04 19:36:37.000000000', 'files': ['senlin/tests/unit/conductor/service/test_cluster_op.py', 'releasenotes/notes/split-engine-service-acea7821cadf9d00.yaml', 'senlin/tests/unit/conductor/service/test_policy_types.py', 'senlin/tests/unit/conductor/service/test_receivers.py', 'senlin/tests/unit/conductor/test_service.py', 'devstack/settings', 'senlin/tests/unit/conductor/service/test_profiles.py', 'senlin/tests/unit/conductor/service/test_credentials.py', 'senlin/tests/unit/health_manager/test_service.py', 'senlin/engine/health_manager.py', 'senlin/tests/unit/conductor/service/test_nodes.py', 'senlin/tests/unit/conductor/service/test_clusters.py', 'senlin/engine/scheduler.py', 'devstack/lib/senlin', 'doc/source/reference/man/senlin-engine.rst', 'senlin/tests/unit/cmd/test_engine.py', 'senlin/tests/unit/engine/test_health_manager.py', 'senlin/tests/unit/conductor/service/__init__.py', 'senlin/tests/unit/conductor/service/test_events.py', 'senlin/tests/unit/conductor/__init__.py', 'senlin/tests/unit/engine/test_scheduler.py', 'senlin/tests/unit/engine/test_dispatcher.py', 'doc/source/reference/man/index.rst', 'setup.cfg', 'doc/source/reference/man/senlin-health-manager.rst', 'senlin/health_manager/__init__.py', 'senlin/engine/dispatcher.py', 'senlin/tests/unit/cmd/test_health_manager.py', 'senlin/cmd/engine.py', 'senlin/tests/unit/engine/test_service.py', 'senlin/common/config.py', 'senlin/tests/unit/cmd/test_conductor.py', 'senlin/tests/unit/conductor/service/test_profile_types.py', 'senlin/cmd/health_manager.py', 'senlin/engine/service.py', 'senlin/cmd/conductor.py', 'doc/source/reference/man/senlin-conductor.rst', 'senlin/tests/unit/conductor/service/test_policies.py', 'senlin/tests/unit/engine/test_engine_startstop.py', 'senlin/engine/actions/cluster_action.py', 'senlin/conductor/__init__.py', 'senlin/tests/unit/health_manager/__init__.py', 'senlin/tests/unit/common/base.py', 'senlin/common/service.py', 'doc/source/install/install-rdo.rst', 'senlin/tests/unit/conductor/service/test_webhooks.py', 'senlin/health_manager/service.py', 'senlin/tests/unit/engine/actions/test_wait.py', 'senlin/conductor/service.py', 'senlin/tests/unit/conductor/service/test_actions.py', 'senlin/tests/unit/conductor/service/test_cluster_policies.py', 'doc/source/install/install-source.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/54997a14ea2f3f2817fb8066d3e691e1d2880ed1', 'message': 'Split engine service into three services\n\nThis patch splits the engine into 3 services, conductor, engine and\nhealth-manager.\n\nThe goal here is to make the engine more resilent by isolating the\npieces.\n\nBefore this patch each Engine worker could potentially be running many\nthousands of threads and multiple thread groups, starving the process.\nAfter this change each process would be limited to a single thread\ngroup of 1000 threads, and more predictable and balanced workloads.\n\n* Added two new services.\n* Added workers opt to conductor and health manager.\n* Merged Thread Group Manager into Engine Service code.\n\nChange-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877\n'}]",0,688784,54997a14ea2f3f2817fb8066d3e691e1d2880ed1,86,7,27,22623,,,0,"Split engine service into three services

This patch splits the engine into 3 services, conductor, engine and
health-manager.

The goal here is to make the engine more resilent by isolating the
pieces.

Before this patch each Engine worker could potentially be running many
thousands of threads and multiple thread groups, starving the process.
After this change each process would be limited to a single thread
group of 1000 threads, and more predictable and balanced workloads.

* Added two new services.
* Added workers opt to conductor and health manager.
* Merged Thread Group Manager into Engine Service code.

Change-Id: Id4a27ba934dc9777f7ae5b4d7d0a751318ea7877
",git fetch https://review.opendev.org/openstack/senlin refs/changes/84/688784/9 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/health_manager/__init__.py', 'senlin/engine/dispatcher.py', 'senlin/cmd/engine.py', 'senlin/tests/unit/engine/service/test_events.py', 'senlin/common/config.py', 'senlin/tests/unit/engine/service/test_profiles.py', 'devstack/settings', 'senlin/tests/unit/engine/service/test_nodes.py', 'senlin/cmd/health_manager.py', 'senlin/engine/service.py', 'senlin/cmd/conductor.py', 'senlin/tests/unit/engine/service/test_profile_types.py', 'senlin/tests/unit/engine/test_engine_startstop.py', 'senlin/tests/unit/engine/service/test_credentials.py', 'senlin/conductor/__init__.py', 'senlin/tests/unit/engine/service/test_policy_types.py', 'senlin/engine/health_manager.py', 'senlin/tests/unit/engine/service/test_cluster_policies.py', 'senlin/tests/unit/engine/service/test_policies.py', 'senlin/engine/scheduler.py', 'senlin/tests/unit/engine/service/test_webhooks.py', 'devstack/lib/senlin', 'senlin/tests/unit/engine/test_health_manager.py', 'senlin/tests/unit/engine/service/test_cluster_op.py', 'senlin/tests/unit/engine/service/test_receivers.py', 'senlin/tests/unit/engine/service/test_actions.py', 'senlin/dispatcher/__init__.py', 'senlin/health_manager/service.py', 'senlin/tests/unit/engine/service/test_clusters.py', 'senlin/conductor/service.py', 'senlin/tests/unit/engine/test_scheduler.py', 'senlin/tests/unit/engine/test_dispatcher.py', 'setup.cfg']",33,2720f0351e57d3ecee0acaea9571d464b5419c92,split_service, senlin-dispatcher = senlin.cmd.dispatcher:main senlin-health-manager = senlin.cmd.health_manager:main,,3261,3275
openstack%2Fplacement~master~Iaa2c9007d8656dd02cda9313459a233efd38c841,openstack/placement,master,Iaa2c9007d8656dd02cda9313459a233efd38c841,Add allocation_conflict_retry_count conf setting,MERGED,2019-08-28 18:05:03.000000000,2019-11-14 21:08:12.000000000,2019-11-14 21:07:05.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-08-28 18:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/63386c0117f7b2faed001ffa1cd17fda405ca0f5', 'message': 'Add allocation_conflict_retry_count conf setting\n\nA [placement]/allocation_conflict_retry_count config setting\nhas been added to replace the RP_CONFLICT_RETRY_COUNT constant\nprevious used to set the number of retries that will be\nattempted when there is a resource provider generation conflict\nwhen writing allocations.\n\nChange-Id: Iaa2c9007d8656dd02cda9313459a233efd38c841\nStory: 2006467\nTask: 36398\n'}, {'number': 2, 'created': '2019-08-29 09:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e2599b3af155111e9ddd30f227bfc751b50690df', 'message': 'Add allocation_conflict_retry_count conf setting\n\nA [placement]/allocation_conflict_retry_count config setting\nhas been added to replace the RP_CONFLICT_RETRY_COUNT constant\nprevious used to set the number of retries that will be\nattempted when there is a resource provider generation conflict\nwhen writing allocations.\n\nChange-Id: Iaa2c9007d8656dd02cda9313459a233efd38c841\nStory: 2006467\nTask: 36398\n'}, {'number': 3, 'created': '2019-11-13 12:13:53.000000000', 'files': ['placement/tests/functional/fixtures/gabbits.py', 'releasenotes/notes/allocation_conflict_retry_count-329daae86059f5ec.yaml', 'placement/tests/functional/db/test_allocation.py', 'placement/objects/allocation.py', 'placement/conf/placement.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/7753694d29330262e3c56be9457d315855f9e4b2', 'message': 'Add allocation_conflict_retry_count conf setting\n\nA [placement]/allocation_conflict_retry_count config setting\nhas been added to replace the RP_CONFLICT_RETRY_COUNT constant\nprevious used to set the number of retries that will be\nattempted when there is a resource provider generation conflict\nwhen writing allocations.\n\nChange-Id: Iaa2c9007d8656dd02cda9313459a233efd38c841\nStory: 2006467\nTask: 36398\n'}]",8,679108,7753694d29330262e3c56be9457d315855f9e4b2,28,7,3,11564,,,0,"Add allocation_conflict_retry_count conf setting

A [placement]/allocation_conflict_retry_count config setting
has been added to replace the RP_CONFLICT_RETRY_COUNT constant
previous used to set the number of retries that will be
attempted when there is a resource provider generation conflict
when writing allocations.

Change-Id: Iaa2c9007d8656dd02cda9313459a233efd38c841
Story: 2006467
Task: 36398
",git fetch https://review.opendev.org/openstack/placement refs/changes/08/679108/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/fixtures/gabbits.py', 'releasenotes/notes/allocation_conflict_retry_count-329daae86059f5ec.yaml', 'placement/tests/functional/db/test_allocation.py', 'placement/objects/allocation.py', 'placement/conf/placement.py']",5,63386c0117f7b2faed001ffa1cd17fda405ca0f5,story/2006467," cfg.IntOpt( 'allocation_conflict_retry_count', default=10, help="""""" The number of times to retry, server-side, writing allocations when there is a resource provider generation conflict. Raising this value may be useful when many concurrent allocations to the same resource provider are expected. """"""),",,61,32
openstack%2Ftripleo-ansible~master~I8473c9118dbce2b04eeb2c01bcc1e55232325a67,openstack/tripleo-ansible,master,I8473c9118dbce2b04eeb2c01bcc1e55232325a67,tripleo-container-manage: add no_log to podman create,MERGED,2019-11-13 14:03:56.000000000,2019-11-14 20:47:01.000000000,2019-11-14 20:47:01.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-13 14:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/08fc416d7e71436ff2b3b5b28e0038786586c35c', 'message': ""tripleo-container-manage: add no_log to podman create\n\nSo we don't leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n""}, {'number': 2, 'created': '2019-11-14 06:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86ffca2719096022e2d60eaacff75cf0cb32c504', 'message': ""tripleo-container-manage: add no_log to podman create\n\nSo we don't leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n""}, {'number': 3, 'created': '2019-11-14 06:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d84ecfd8619bbd88e92c7b65178c4956b7652bb', 'message': ""tripleo-container-manage: add no_log to podman create\n\nSo we don't leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n""}, {'number': 4, 'created': '2019-11-14 09:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/62c08340849bdc936b348d41c741d201fc2f62b0', 'message': ""tripleo-container-manage: add no_log to podman create\n\nSo we don't leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n""}, {'number': 5, 'created': '2019-11-14 09:58:41.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac8cff4ebbbb6964255b2eb45b9cfbfd5394ef65', 'message': ""tripleo-container-manage: add no_log to podman create\n\nSo we don't leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n""}]",2,694078,ac8cff4ebbbb6964255b2eb45b9cfbfd5394ef65,20,6,5,3153,,,0,"tripleo-container-manage: add no_log to podman create

So we don't leak confidential informations like passwords and others in
the logs.
Note that if debug is enabled, the infos are displayed in the ansible
logs.

Change-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/694078/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'],1,08fc416d7e71436ff2b3b5b28e0038786586c35c,nolog," no_log: ""{{ false if tripleo_container_manage_debug else true }}""",,1,0
openstack%2Ftripleo-ansible~master~I5e68fdb2d872c741f00a1a24bac33112ba630f69,openstack/tripleo-ansible,master,I5e68fdb2d872c741f00a1a24bac33112ba630f69,tripleo-container-manage: skip some tasks in check mode,MERGED,2019-11-08 10:04:01.000000000,2019-11-14 20:47:01.000000000,2019-11-14 20:47:00.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-08 10:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/539750f30411583c2ac9baf8e12641bcf930a0e8', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 2, 'created': '2019-11-08 10:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46ec2c395d238ba681b31d3ae79f1428ee563852', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 3, 'created': '2019-11-08 10:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b96850cf53c564563be5e2c5dd619151e7d77250', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 4, 'created': '2019-11-08 13:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1dbee6daaeca7bef8e55a3e59cfa2cfbd578d71b', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 5, 'created': '2019-11-08 17:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c5eabe5854a0554cdb591670916d169025335e4d', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 6, 'created': '2019-11-08 22:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1991eb950d0729c7f3582a3fbe6c203a3ba593e', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 7, 'created': '2019-11-09 06:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f04b38f7f6d526c11ac7f533a1dc9a5fef2d083', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 8, 'created': '2019-11-12 08:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51fd35d352cb9744ee3fac91ad4fe3e4d6577c22', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 9, 'created': '2019-11-12 14:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fd8f42b77eee83783ddc89079e09ad8e24f66458', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 10, 'created': '2019-11-12 18:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/00145a72ea1a8e5e95467fd0f87cb5fcd1bf631e', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 11, 'created': '2019-11-13 07:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5a3dde05f9163bfee4eaddcde9c89e488f06d1a6', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 12, 'created': '2019-11-13 08:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a7e87e04e21a60853389a193651371aebf4a35b', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 13, 'created': '2019-11-13 11:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76e19fe0e654a3ccea3ba150438ac018c5749661', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 14, 'created': '2019-11-13 11:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3bf5fb1468f0dc4cda77a89af6606281cc120cfe', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 15, 'created': '2019-11-13 12:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47b261e45d9e67f6e4b819429a80ee74cfa83c83', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 16, 'created': '2019-11-13 13:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ae328ec441fe62900c748ecfb169c047e6709fae', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 17, 'created': '2019-11-13 13:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d1e42bed571f919b1cd476e4e277ac8e9474249', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 18, 'created': '2019-11-13 14:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46c9be788db56d3a64344a6e0564a13664ba4e72', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 19, 'created': '2019-11-14 06:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cbe08ffc902d72fe7387d3ea69cdc6dbb4250141', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 20, 'created': '2019-11-14 09:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e54c423f21ba92aecc37e821e27e75b708fb20d8', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}, {'number': 21, 'created': '2019-11-14 09:58:36.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f506dd6994c398669ae0b20d36ecce18d0ffbc4b', 'message': 'tripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n'}]",2,693512,f506dd6994c398669ae0b20d36ecce18d0ffbc4b,54,8,21,3153,,,0,"tripleo-container-manage: skip some tasks in check mode

Change-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/693512/17 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml']",2,539750f30411583c2ac9baf8e12641bcf930a0e8,check_mode, when: not ansible_check_mode|bool, check_mode: false,2,1
openstack%2Ftripleo-ansible~master~Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee,openstack/tripleo-ansible,master,Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee,tripleo-container-manage: fix duplicated loop vars,MERGED,2019-11-08 09:24:45.000000000,2019-11-14 20:39:22.000000000,2019-11-14 20:39:22.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-08 09:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/13735efd0a6456c8bcf21991627641e600e11846', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 2, 'created': '2019-11-08 09:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6294164a298f54f4987817d491b63d1cd633a9b6', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 3, 'created': '2019-11-08 10:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f0a2cb1a95209b34fd033962e1f25d8ae12b38b', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 4, 'created': '2019-11-08 10:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96e671bfaf6ed46ce298122d257b078d02413c8b', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 5, 'created': '2019-11-08 13:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7dc1f0601b05ab8a7a1708324038ee233ffd3797', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 6, 'created': '2019-11-08 17:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/855274c25ae9e40da14fa7c12d4bf0fb7b687555', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 7, 'created': '2019-11-08 22:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bb639840c1276d387886490fd04e756813f7204', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 8, 'created': '2019-11-09 06:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac98e0c61d25512875e2d7dac28fc8866eda3d40', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 9, 'created': '2019-11-09 06:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/179209fce6a54b384c7af40ef960a9f81e0c2ff6', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 10, 'created': '2019-11-12 08:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1da45c007e83044ccd3f22e3d47f584547264705', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 11, 'created': '2019-11-12 14:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5f52ecefc3aa12cdf84f0397a3bc0948f2f30f2', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 12, 'created': '2019-11-12 18:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ad6e631fd57d2f41a365d53a240002e62c982b3', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 13, 'created': '2019-11-13 07:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0d69643367d8df36f76795591a916f24521bd5c', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 14, 'created': '2019-11-13 08:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7565c1ed1abd71a4d6ea4df541e9745626884c1b', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 15, 'created': '2019-11-13 11:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad1763e237815d48c8a8bd7ab57638246d02fe99', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 16, 'created': '2019-11-13 11:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac6d8dffa287039fa3f2d3fa33d45799ce8a6086', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 17, 'created': '2019-11-13 12:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/729ebefb638114f8b87f6c8115d335b395787cb8', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 18, 'created': '2019-11-13 13:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92b59328b375cc649064a19809a2d840e2a9d688', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 19, 'created': '2019-11-13 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f66b487d1ddf73fe74cd31977309d74559cb060c', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 20, 'created': '2019-11-13 14:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/076e9020131d99549ee8bb0d0e63c89e19a510e3', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 21, 'created': '2019-11-14 06:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b872b092b9180ac6981d6831d08739fd4a39a4f', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 22, 'created': '2019-11-14 09:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4cad4abf65f937fb72e175d5369fba030964d8ad', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}, {'number': 23, 'created': '2019-11-14 09:58:30.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/container_running.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-healthcheck.j2', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-service.j2', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-timer.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/80e0476f78c654f3bd563efb62a2acdc96e6df86', 'message': ""tripleo-container-manage: fix duplicated loop vars\n\nSo we don't have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n""}]",0,693506,80e0476f78c654f3bd563efb62a2acdc96e6df86,59,7,23,3153,,,0,"tripleo-container-manage: fix duplicated loop vars

So we don't have the Ansible warning saying the loop var is already used
for another loop.

Change-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/693506/11 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml'],1,13735efd0a6456c8bcf21991627641e600e11846,loopvars,"- name: ""Check if {{ lookup('dict', container_exists_data).value.command.0 }} container is running"" command: ""podman container exists {{ lookup('dict', container_exists_data).value.command.0 }}"" loop_var: container_exists_data argv: ""{{ cmd_template + lookup('dict', container_exec_data).value.command }}"" - ""{{ lookup('dict', container_exec_data).value.user if lookup('dict', container_exec_data).value.user is defined else 'root' }}"" loop_var: container_exec_data","- name: ""Check if {{ lookup('dict', container_data).value.command.0 }} container is running"" command: ""podman container exists {{ lookup('dict', container_data).value.command.0 }}"" loop_var: container_data argv: ""{{ cmd_template + lookup('dict', container_data).value.command }}"" - ""{{ lookup('dict', container_data).value.user if lookup('dict', container_data).value.user is defined else 'root' }}"" loop_var: container_data",6,6
openstack%2Fnova~master~I48719c02713113a41176b8f5cc3c5831f1284a39,openstack/nova,master,I48719c02713113a41176b8f5cc3c5831f1284a39,libvirt: Ignore DiskNotFound during update_available_resource,MERGED,2019-09-27 16:05:29.000000000,2019-11-14 20:37:40.000000000,2019-11-14 20:34:31.000000000,"[{'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-27 16:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f26a909895ce398a86c17455724c8011263e0b74', 'message': ""libvirt: Ignore DiskNotFound during update_available_resource\n\nThere was a previous attempt to fix this in\nchange Id687e11e235fd6c2f99bb647184310dfdce9a08d. However, there were 2\nproblems with the previous fix:\n\n1. The handling of missing volumes and disks, while typically having the\n   same cause, was inconsistent.\n\n2. It failed to consider the very wide race opportunity in\n   _get_disk_over_committed_size_total between initially fetching the\n   instance list from the DB and later getting disk sizes.\n\nBecause _get_disk_over_committed_size_total() can be a very long\noperation, we found that we were reliably hitting this race in CI.\nIt might be possible to fix the race, but this would add unnecessary\ncomplication to code which isn't critical. It's far more robust just to\nlog it and ignore it, which is also consistent with the handling of\nmissing volumes.\n\nChange-Id: I48719c02713113a41176b8f5cc3c5831f1284a39\n""}, {'number': 2, 'created': '2019-09-27 16:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c94032d67da6406e9fbc8a27bd0cf95bfb5f083', 'message': ""libvirt: Ignore DiskNotFound during update_available_resource\n\nThere was a previous attempt to fix this in\nchange Id687e11e235fd6c2f99bb647184310dfdce9a08d. However, there were 2\nproblems with the previous fix:\n\n1. The handling of missing volumes and disks, while typically having the\n   same cause, was inconsistent.\n\n2. It failed to consider the very wide race opportunity in\n   _get_disk_over_committed_size_total between initially fetching the\n   instance list from the DB and later getting disk sizes.\n\nBecause _get_disk_over_committed_size_total() can be a very long\noperation, we found that we were reliably hitting this race in CI.\nIt might be possible to fix the race, but this would add unnecessary\ncomplication to code which isn't critical. It's far more robust just to\nlog it and ignore it, which is also consistent with the handling of\nmissing volumes.\n\nCloses-Bug: #1774249\n\nChange-Id: I48719c02713113a41176b8f5cc3c5831f1284a39\n""}, {'number': 3, 'created': '2019-10-01 10:21:51.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6198f317be549e6d2bd324a48f226b379556e945', 'message': ""libvirt: Ignore DiskNotFound during update_available_resource\n\nThere was a previous attempt to fix this in\nchange Id687e11e235fd6c2f99bb647184310dfdce9a08d. However, there were 2\nproblems with the previous fix:\n\n1. The handling of missing volumes and disks, while typically having the\n   same cause, was inconsistent.\n\n2. It failed to consider the very wide race opportunity in\n   _get_disk_over_committed_size_total between initially fetching the\n   instance list from the DB and later getting disk sizes.\n\nBecause _get_disk_over_committed_size_total() can be a very long\noperation, we found that we were reliably hitting this race in CI.\nIt might be possible to fix the race, but this would add unnecessary\ncomplication to code which isn't critical. It's far more robust just to\nlog it and ignore it, which is also consistent with the handling of\nmissing volumes.\n\nCloses-Bug: #1774249\n\nChange-Id: I48719c02713113a41176b8f5cc3c5831f1284a39\n""}]",8,685391,6198f317be549e6d2bd324a48f226b379556e945,64,14,3,9555,,,0,"libvirt: Ignore DiskNotFound during update_available_resource

There was a previous attempt to fix this in
change Id687e11e235fd6c2f99bb647184310dfdce9a08d. However, there were 2
problems with the previous fix:

1. The handling of missing volumes and disks, while typically having the
   same cause, was inconsistent.

2. It failed to consider the very wide race opportunity in
   _get_disk_over_committed_size_total between initially fetching the
   instance list from the DB and later getting disk sizes.

Because _get_disk_over_committed_size_total() can be a very long
operation, we found that we were reliably hitting this race in CI.
It might be possible to fix the race, but this would add unnecessary
complication to code which isn't critical. It's far more robust just to
log it and ignore it, which is also consistent with the handling of
missing volumes.

Closes-Bug: #1774249

Change-Id: I48719c02713113a41176b8f5cc3c5831f1284a39
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/685391/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,f26a909895ce398a86c17455724c8011263e0b74,bug1774249,," @mock.patch('nova.virt.libvirt.host.Host.list_instance_domains') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_get_instance_disk_info_from_config', side_effect=exception.DiskNotFound(location='/opt/stack/foo')) @mock.patch('nova.objects.BlockDeviceMappingList.bdms_by_instance_uuid', return_value=objects.BlockDeviceMappingList()) @mock.patch('nova.objects.InstanceList.get_by_filters', return_value=objects.InstanceList(objects=[ objects.Instance(uuid=uuids.instance, vm_state=vm_states.ACTIVE, task_state=None)])) def test_disk_over_committed_size_total_disk_not_found_reraise( self, mock_get, mock_bdms, mock_get_disk_info, mock_list_domains): """"""Tests that we handle DiskNotFound gracefully for an instance that is NOT undergoing a task_state transition and the error is re-raised. """""" mock_dom = mock.Mock() mock_dom.XMLDesc.return_value = ""<domain/>"" mock_dom.UUIDString.return_value = uuids.instance mock_list_domains.return_value = [mock_dom] drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.assertRaises(exception.DiskNotFound, drvr._get_disk_over_committed_size_total) ",13,51
openstack%2Fswift~master~I3e5229d2fb04be67e53533ff65b0870038accbb7,openstack/swift,master,I3e5229d2fb04be67e53533ff65b0870038accbb7,Seamlessly reload servers with SIGUSR1,MERGED,2019-10-25 19:49:52.000000000,2019-11-14 20:37:05.000000000,2019-11-14 20:34:48.000000000,"[{'_account_id': 1179}, {'_account_id': 2696}, {'_account_id': 9625}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 19:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b8a5b2d0cd9cf51ec578a0de9f766290c6a19cf1', 'message': 'WIP: prep for seamless WSGI server reload via SIGUSR1\n\nThis is just some preparatory changes that I want to run through Zuul\nearly.  I think all tests should pass at this point.\n\nTODO: make SIGUSR1 do a seamless daemon reload and figure out how to\ntest that (functests? probetests?)\n\nChange-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7\n'}, {'number': 2, 'created': '2019-10-25 20:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c15042eee37b7834418bc2df8dba286c8f0b4583', 'message': 'WIP: prep for seamless WSGI server reload via SIGUSR1\n\nThis is just some preparatory changes that I want to run through Zuul\nearly.  I think all tests should pass at this point.\n\nTODO: make SIGUSR1 do a seamless daemon reload and figure out how to\ntest that (functests? probetests?)\n\nChange-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7\n'}, {'number': 3, 'created': '2019-11-01 00:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b61b00cb205fadd68c4d13019f63763ce2a13581', 'message': 'Seamlessly reload servers with SIGUSR1\n\nSwift servers can now be seamlessly reloaded by sending them a SIGUSR1\n(instead of a SIGHUP).  The server forks off a synchronized child to\nwait to close the old listen socket(s) until the new server has started\nup and bound its listen socket(s).  The new server is exec\'ed from the\nold one so its PID doesn\'t change.  This makes Systemd happier, so a\nReloadExec= stanza can now be used.\n\nThe seamless part means that incoming connections will alwyas get\naccepted either by the old server or the new one.  This eliminates\nclient-perceived ""downtime"" during server reloads, while allowing the\nserver to fully reload, re-reading configuration, becomign a fresh\nPython interpreter instance, etc.  The SO_REUSEPORT socket option has\nalready been getting used, so nothing had to change there.\n\nThis patch also includes a non-invasive fix for a current eventlet bug;\nsee https://github.com/eventlet/eventlet/pull/590\nThat bug prevents a SIGHUP ""reload"" from properly servicing existing\nrequests before old worker processes close sockets and exit.  The\nexisting probtests missed this, but the new ones, in this patch, caught\nit.\n\nNew probe tests cover both old SIGHUP ""reload"" behavior as well as the\nnew SIGUSR1 seamless reload behavior.\n\nChange-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7\n'}, {'number': 4, 'created': '2019-11-01 07:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/170a5d328742ab3435a09717861dbed2ea947187', 'message': 'Seamlessly reload servers with SIGUSR1\n\nSwift servers can now be seamlessly reloaded by sending them a SIGUSR1\n(instead of a SIGHUP).  The server forks off a synchronized child to\nwait to close the old listen socket(s) until the new server has started\nup and bound its listen socket(s).  The new server is exec\'ed from the\nold one so its PID doesn\'t change.  This makes Systemd happier, so a\nReloadExec= stanza can now be used.\n\nThe seamless part means that incoming connections will alwyas get\naccepted either by the old server or the new one.  This eliminates\nclient-perceived ""downtime"" during server reloads, while allowing the\nserver to fully reload, re-reading configuration, becomign a fresh\nPython interpreter instance, etc.  The SO_REUSEPORT socket option has\nalready been getting used, so nothing had to change there.\n\nThis patch also includes a non-invasive fix for a current eventlet bug;\nsee https://github.com/eventlet/eventlet/pull/590\nThat bug prevents a SIGHUP ""reload"" from properly servicing existing\nrequests before old worker processes close sockets and exit.  The\nexisting probtests missed this, but the new ones, in this patch, caught\nit.\n\nNew probe tests cover both old SIGHUP ""reload"" behavior as well as the\nnew SIGUSR1 seamless reload behavior.\n\nChange-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7\n'}, {'number': 5, 'created': '2019-11-01 15:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4a01e7a0df7b7d7a4b1d5166b022678b7e9991b', 'message': 'Seamlessly reload servers with SIGUSR1\n\nSwift servers can now be seamlessly reloaded by sending them a SIGUSR1\n(instead of a SIGHUP).  The server forks off a synchronized child to\nwait to close the old listen socket(s) until the new server has started\nup and bound its listen socket(s).  The new server is exec\'ed from the\nold one so its PID doesn\'t change.  This makes Systemd happier, so a\nReloadExec= stanza can now be used.\n\nThe seamless part means that incoming connections will alwyas get\naccepted either by the old server or the new one.  This eliminates\nclient-perceived ""downtime"" during server reloads, while allowing the\nserver to fully reload, re-reading configuration, becomign a fresh\nPython interpreter instance, etc.  The SO_REUSEPORT socket option has\nalready been getting used, so nothing had to change there.\n\nThis patch also includes a non-invasive fix for a current eventlet bug;\nsee https://github.com/eventlet/eventlet/pull/590\nThat bug prevents a SIGHUP ""reload"" from properly servicing existing\nrequests before old worker processes close sockets and exit.  The\nexisting probtests missed this, but the new ones, in this patch, caught\nit.\n\nNew probe tests cover both old SIGHUP ""reload"" behavior as well as the\nnew SIGUSR1 seamless reload behavior.\n\nChange-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7\n'}, {'number': 6, 'created': '2019-11-01 19:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/600a88e3bc08a08892f6fbd380eee529e9ee9b8e', 'message': 'Seamlessly reload servers with SIGUSR1\n\nSwift servers can now be seamlessly reloaded by sending them a SIGUSR1\n(instead of a SIGHUP).  The server forks off a synchronized child to\nwait to close the old listen socket(s) until the new server has started\nup and bound its listen socket(s).  The new server is exec\'ed from the\nold one so its PID doesn\'t change.  This makes Systemd happier, so a\nReloadExec= stanza can now be used.\n\nThe seamless part means that incoming connections will alwyas get\naccepted either by the old server or the new one.  This eliminates\nclient-perceived ""downtime"" during server reloads, while allowing the\nserver to fully reload, re-reading configuration, becomign a fresh\nPython interpreter instance, etc.  The SO_REUSEPORT socket option has\nalready been getting used, so nothing had to change there.\n\nThis patch also includes a non-invasive fix for a current eventlet bug;\nsee https://github.com/eventlet/eventlet/pull/590\nThat bug prevents a SIGHUP ""reload"" from properly servicing existing\nrequests before old worker processes close sockets and exit.  The\nexisting probtests missed this, but the new ones, in this patch, caught\nit.\n\nNew probe tests cover both old SIGHUP ""reload"" behavior as well as the\nnew SIGUSR1 seamless reload behavior.\n\nChange-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7\n'}, {'number': 7, 'created': '2019-11-01 22:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df72cc9f61392bc831a2601eca4cbf52be19bfbd', 'message': 'Seamlessly reload servers with SIGUSR1\n\nSwift servers can now be seamlessly reloaded by sending them a SIGUSR1\n(instead of a SIGHUP).  The server forks off a synchronized child to\nwait to close the old listen socket(s) until the new server has started\nup and bound its listen socket(s).  The new server is exec\'ed from the\nold one so its PID doesn\'t change.  This makes Systemd happier, so a\nReloadExec= stanza can now be used.\n\nThe seamless part means that incoming connections will alwyas get\naccepted either by the old server or the new one.  This eliminates\nclient-perceived ""downtime"" during server reloads, while allowing the\nserver to fully reload, re-reading configuration, becomign a fresh\nPython interpreter instance, etc.  The SO_REUSEPORT socket option has\nalready been getting used, so nothing had to change there.\n\nThis patch also includes a non-invasive fix for a current eventlet bug;\nsee https://github.com/eventlet/eventlet/pull/590\nThat bug prevents a SIGHUP ""reload"" from properly servicing existing\nrequests before old worker processes close sockets and exit.  The\nexisting probtests missed this, but the new ones, in this patch, caught\nit.\n\nNew probe tests cover both old SIGHUP ""reload"" behavior as well as the\nnew SIGUSR1 seamless reload behavior.\n\nChange-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7\n'}, {'number': 8, 'created': '2019-11-01 23:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c7253361900d2b9ea51a293c7bbd70f5d16dd9a3', 'message': 'Seamlessly reload servers with SIGUSR1\n\nSwift servers can now be seamlessly reloaded by sending them a SIGUSR1\n(instead of a SIGHUP).  The server forks off a synchronized child to\nwait to close the old listen socket(s) until the new server has started\nup and bound its listen socket(s).  The new server is exec\'ed from the\nold one so its PID doesn\'t change.  This makes Systemd happier, so a\nReloadExec= stanza can now be used.\n\nThe seamless part means that incoming connections will alwyas get\naccepted either by the old server or the new one.  This eliminates\nclient-perceived ""downtime"" during server reloads, while allowing the\nserver to fully reload, re-reading configuration, becomign a fresh\nPython interpreter instance, etc.  The SO_REUSEPORT socket option has\nalready been getting used, so nothing had to change there.\n\nThis patch also includes a non-invasive fix for a current eventlet bug;\nsee https://github.com/eventlet/eventlet/pull/590\nThat bug prevents a SIGHUP ""reload"" from properly servicing existing\nrequests before old worker processes close sockets and exit.  The\nexisting probtests missed this, but the new ones, in this patch, caught\nit.\n\nNew probe tests cover both old SIGHUP ""reload"" behavior as well as the\nnew SIGUSR1 seamless reload behavior.\n\nChange-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7\n'}, {'number': 9, 'created': '2019-11-07 18:16:30.000000000', 'files': ['test/probe/test_signals.py', 'swift/common/daemon.py', 'swift/common/utils.py', 'doc/manpages/swift-init.1', 'swift/common/manager.py', 'swift/common/wsgi.py', 'tox.ini', 'test/unit/common/test_wsgi.py', 'test/unit/common/test_utils.py', 'doc/source/admin_guide.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/1107f24179c0c6fdcb58771f3a6e6c025352b5d3', 'message': 'Seamlessly reload servers with SIGUSR1\n\nSwift servers can now be seamlessly reloaded by sending them a SIGUSR1\n(instead of a SIGHUP).  The server forks off a synchronized child to\nwait to close the old listen socket(s) until the new server has started\nup and bound its listen socket(s).  The new server is exec\'ed from the\nold one so its PID doesn\'t change.  This makes Systemd happier, so a\nReloadExec= stanza can now be used.\n\nThe seamless part means that incoming connections will alwyas get\naccepted either by the old server or the new one.  This eliminates\nclient-perceived ""downtime"" during server reloads, while allowing the\nserver to fully reload, re-reading configuration, becoming a fresh\nPython interpreter instance, etc.  The SO_REUSEPORT socket option has\nalready been getting used, so nothing had to change there.\n\nThis patch also includes a non-invasive fix for a current eventlet bug;\nsee https://github.com/eventlet/eventlet/pull/590\nThat bug prevents a SIGHUP ""reload"" from properly servicing existing\nrequests before old worker processes close sockets and exit.  The\nexisting probtests missed this, but the new ones, in this patch, caught\nit.\n\nNew probe tests cover both old SIGHUP ""reload"" behavior as well as the\nnew SIGUSR1 seamless reload behavior.\n\nChange-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7\n'}]",14,691423,1107f24179c0c6fdcb58771f3a6e6c025352b5d3,35,6,9,2696,,,0,"Seamlessly reload servers with SIGUSR1

Swift servers can now be seamlessly reloaded by sending them a SIGUSR1
(instead of a SIGHUP).  The server forks off a synchronized child to
wait to close the old listen socket(s) until the new server has started
up and bound its listen socket(s).  The new server is exec'ed from the
old one so its PID doesn't change.  This makes Systemd happier, so a
ReloadExec= stanza can now be used.

The seamless part means that incoming connections will alwyas get
accepted either by the old server or the new one.  This eliminates
client-perceived ""downtime"" during server reloads, while allowing the
server to fully reload, re-reading configuration, becoming a fresh
Python interpreter instance, etc.  The SO_REUSEPORT socket option has
already been getting used, so nothing had to change there.

This patch also includes a non-invasive fix for a current eventlet bug;
see https://github.com/eventlet/eventlet/pull/590
That bug prevents a SIGHUP ""reload"" from properly servicing existing
requests before old worker processes close sockets and exit.  The
existing probtests missed this, but the new ones, in this patch, caught
it.

New probe tests cover both old SIGHUP ""reload"" behavior as well as the
new SIGUSR1 seamless reload behavior.

Change-Id: I3e5229d2fb04be67e53533ff65b0870038accbb7
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/691423/8 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/daemon.py', 'swift/common/utils.py', 'swift/common/wsgi.py', 'test/unit/common/test_utils.py', 'test/unit/common/test_wsgi.py']",5,b8a5b2d0cd9cf51ec578a0de9f766290c6a19cf1,seamless-reload," mock.patch.object(wsgi, 'drop_privileges') as _d_privs, \ mock.patch.object(wsgi, 'clean_up_daemon_hygene') as _c_hyg, \ # run_wsgi() no longer calls drop_privileges() in the parent process, # just clean_up_deemon_hygene() self.assertEqual([], _d_privs.mock_calls) self.assertEqual([mock.call()], _c_hyg.mock_calls) # strategy binding no longer does clean_up_deemon_hygene() actions, the # user of the strategy does. self.assertEqual([], self.mock_setsid.mock_calls) self.assertEqual([], self.mock_chdir.mock_calls) self.assertEqual([], self.mock_umask.mock_calls) mock.call('bob'), patcher = mock.patch('swift.common.wsgi.clean_up_daemon_hygene') self.mock_clean_up_daemon_hygene = patcher.start() self.addCleanup(patcher.stop) # strategy binding no longer drops privileges nor does # clean_up_deemon_hygene() actions. self.assertEqual([], self.mock_drop_privileges.mock_calls) self.assertEqual([], self.mock_clean_up_daemon_hygene.mock_calls)"," mock.patch.object(wsgi, 'drop_privileges'), \ self.assertEqual([mock.call()], self.mock_setsid.mock_calls) self.assertEqual([mock.call('/')], self.mock_chdir.mock_calls) self.assertEqual([mock.call(0o22)], self.mock_umask.mock_calls) def test_bind_ports_ignores_setsid_errors(self): self.mock_setsid.side_effect = OSError() self.strategy.do_bind_ports() self.assertEqual(set((6006, 6007)), self.strategy.bind_ports) self.assertEqual([ mock.call({'workers': 100, # ignored 'user': 'bob', 'swift_dir': '/jim/cricket', 'ring_check_interval': '76', 'bind_ip': '2.3.4.5', 'bind_port': 6006}), mock.call({'workers': 100, # ignored 'user': 'bob', 'swift_dir': '/jim/cricket', 'ring_check_interval': '76', 'bind_ip': '2.3.4.5', 'bind_port': 6007}), ], self.mock_get_socket.mock_calls) self.assertEqual( 6006, self.strategy.port_pid_state.port_for_sock(self.s1)) self.assertEqual( 6007, self.strategy.port_pid_state.port_for_sock(self.s2)) self.assertEqual([mock.call()], self.mock_setsid.mock_calls) self.assertEqual([mock.call('/')], self.mock_chdir.mock_calls) self.assertEqual([mock.call(0o22)], self.mock_umask.mock_calls) mock.call('bob', call_setsid=False), self.assertEqual([ mock.call('bob'), ], self.mock_drop_privileges.mock_calls)",67,85
openstack%2Fnova~master~I8b41f8313f74aa3766c13c1265f6ee1f0fc03f67,openstack/nova,master,I8b41f8313f74aa3766c13c1265f6ee1f0fc03f67,Log reason for remove_host action failing,MERGED,2019-11-04 14:41:56.000000000,2019-11-14 20:34:37.000000000,2019-11-14 20:34:37.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-04 14:41:56.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0982a3fa622e57542f5875b92829b6e683a620af', 'message': 'Log reason for remove_host action failing\n\nIf removing a host from an aggregate fails, the API route handler\njust returns a new error message without the original failure being\nlogged. This logs the error before returning the error response with\nthe generic message.\n\nAlternative to this we could just put the exception message in the\nresponse text but I figured people might bristle at changing the\n(mostly unhelpful) error message so I went the non-controversial route.\n\nChange-Id: I8b41f8313f74aa3766c13c1265f6ee1f0fc03f67\n'}]",1,692833,0982a3fa622e57542f5875b92829b6e683a620af,31,13,1,6873,,,0,"Log reason for remove_host action failing

If removing a host from an aggregate fails, the API route handler
just returns a new error message without the original failure being
logged. This logs the error before returning the error response with
the generic message.

Alternative to this we could just put the exception message in the
response text but I figured people might bristle at changing the
(mostly unhelpful) error message so I went the non-controversial route.

Change-Id: I8b41f8313f74aa3766c13c1265f6ee1f0fc03f67
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/692833/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py']",2,0982a3fa622e57542f5875b92829b6e683a620af,rm-placement-connect-failure-aggs,"from oslo_log import log as logging import sixLOG = logging.getLogger(__name__) except (exception.AggregateNotFound, exception.AggregateHostNotFound, exception.HostMappingNotFound, exception.ComputeHostNotFound) as e: LOG.error('Failed to remove host %s from aggregate %s. Error: %s', host, id, six.text_type(e)) exception.ResourceProviderUpdateConflict) as e: LOG.error('Failed to remove host %s from aggregate %s. Error: %s', host, id, six.text_type(e))"," except (exception.AggregateNotFound, exception.AggregateHostNotFound, exception.HostMappingNotFound, exception.ComputeHostNotFound): exception.ResourceProviderUpdateConflict):",19,3
openstack%2Fsphinx-feature-classification~master~Ic748f82b875af571125fd55619f0c40de03e61c0,openstack/sphinx-feature-classification,master,Ic748f82b875af571125fd55619f0c40de03e61c0,Do not copy css assets if not building html docs,ABANDONED,2019-09-04 17:42:00.000000000,2019-11-14 20:33:38.000000000,,"[{'_account_id': 841}, {'_account_id': 6928}, {'_account_id': 10607}, {'_account_id': 14070}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-04 17:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/9209ff9ba54a9777ebda5484022fde11196fb8cf', 'message': 'Do not copy css assets if not building html docs\n\nThe css assets are not necessary for builders other than html.\n\nChange-Id: Ic748f82b875af571125fd55619f0c40de03e61c0\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n'}, {'number': 2, 'created': '2019-11-14 16:08:04.000000000', 'files': ['sphinx_feature_classification/support_matrix.py'], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/aa26d9d942559d8cc4c2e9370a874e0d7eaa7fc2', 'message': 'Do not copy css assets if not building html docs\n\nThe css assets are not necessary for builders other than html.\n\nChange-Id: Ic748f82b875af571125fd55619f0c40de03e61c0\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n'}]",0,680104,aa26d9d942559d8cc4c2e9370a874e0d7eaa7fc2,21,6,2,19298,,,0,"Do not copy css assets if not building html docs

The css assets are not necessary for builders other than html.

Change-Id: Ic748f82b875af571125fd55619f0c40de03e61c0
Signed-off-by: Nicolas Bock <nicolas.bock@suse.com>
",git fetch https://review.opendev.org/openstack/sphinx-feature-classification refs/changes/04/680104/2 && git format-patch -1 --stdout FETCH_HEAD,['sphinx_feature_classification/support_matrix.py'],1,9209ff9ba54a9777ebda5484022fde11196fb8cf,build-pdf-docs, if app.builder.name != 'html': return,,2,0
openstack%2Fkolla~master~I31a372d801dace92950cd85b29b308431f78bbdb,openstack/kolla,master,I31a372d801dace92950cd85b29b308431f78bbdb,Use ovn-ctl script to start OVN ovsdb-servers,MERGED,2019-10-27 07:17:48.000000000,2019-11-14 20:31:47.000000000,2019-11-14 20:29:21.000000000,"[{'_account_id': 7035}, {'_account_id': 10237}, {'_account_id': 11952}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 24072}, {'_account_id': 26343}, {'_account_id': 28471}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-27 07:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/872600578e9454f2a60981a5b6f2f137367eaa06', 'message': ""Use ovn-ctl script to start OVN ovsdb-servers\n\nUsing the ovn-ctl script to start the OVN ovsdb-server is the better\nway. This script is used to start and stop all OVN systemd services.\nThis script takes care of creating the database from the schema,\nupdating the database from the schema when the schema version gets\nupdated.\n\nThe present scripts - start_nb_db_server.sh and start_sb_db_server.sh\ndoesn't take care of schema updates.\n\nWith this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server\nto create the database from the schema.\n\nCloses-bug: 1850025\nChange-Id: I31a372d801dace92950cd85b29b308431f78bbdb\n""}, {'number': 2, 'created': '2019-10-27 07:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ecb84d45dd7b5c960bb2cfc7b2a507d63466f175', 'message': ""Use ovn-ctl script to start OVN ovsdb-servers\n\nUsing the ovn-ctl script to start the OVN ovsdb-server is the better\nway. This script is used to start and stop all OVN systemd services.\nThis script takes care of creating the database from the schema,\nupdating the database from the schema when the schema version gets\nupdated.\n\nThe present scripts - start_nb_db_server.sh and start_sb_db_server.sh\ndoesn't take care of schema updates.\n\nWith this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server\nto create the database from the schema.\n\nCloses-bug: 1850025\nChange-Id: I31a372d801dace92950cd85b29b308431f78bbdb\n""}, {'number': 3, 'created': '2019-10-27 13:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3fb4a454ca3ecb5bcdcb574bc86b64e55e38f89a', 'message': ""Use ovn-ctl script to start OVN ovsdb-servers\n\nUsing the ovn-ctl script to start the OVN ovsdb-server is the better\nway. This script is used to start and stop all OVN systemd services.\nThis script takes care of creating the database from the schema,\nupdating the database from the schema when the schema version gets\nupdated.\n\nThe present scripts - start_nb_db_server.sh and start_sb_db_server.sh\ndoesn't take care of schema updates.\n\nWith this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server\nto create the database from the schema.\n\nCloses-bug: 1850025\nChange-Id: I31a372d801dace92950cd85b29b308431f78bbdb\n""}, {'number': 4, 'created': '2019-10-29 08:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7c6b7e67b941221e3da0d1ffeb5971841f3bfc5e', 'message': ""Use ovn-ctl script to start OVN ovsdb-servers\n\nUsing the ovn-ctl script to start the OVN ovsdb-server is the better\nway. This script is used to start and stop all OVN systemd services.\nThis script takes care of creating the database from the schema,\nupdating the database from the schema when the schema version gets\nupdated.\n\nThe present scripts - start_nb_db_server.sh and start_sb_db_server.sh\ndoesn't take care of schema updates.\n\nWith this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server\nto create the database from the schema.\n\nCloses-bug: 1850025\nChange-Id: I31a372d801dace92950cd85b29b308431f78bbdb\n""}, {'number': 5, 'created': '2019-11-11 12:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/594759063515af01fdf4bf51cf282d87161ec253', 'message': ""Use ovn-ctl script to start OVN ovsdb-servers\n\nUsing the ovn-ctl script to start the OVN ovsdb-server is the better\nway. This script is used to start and stop all OVN systemd services.\nThis script takes care of creating the database from the schema,\nupdating the database from the schema when the schema version gets\nupdated.\n\nThe present scripts - start_nb_db_server.sh and start_sb_db_server.sh\ndoesn't take care of schema updates.\n\nWith this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server\nto create the database from the schema.\n\nCloses-bug: 1850025\nChange-Id: I31a372d801dace92950cd85b29b308431f78bbdb\n""}, {'number': 6, 'created': '2019-11-12 07:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b8df9f88303fd4369097ae02549ea5a3a6777f0a', 'message': ""Use ovn-ctl script to start OVN ovsdb-servers\n\nUsing the ovn-ctl script to start the OVN ovsdb-server is the better\nway. This script is used to start and stop all OVN systemd services.\nThis script takes care of creating the database from the schema,\nupdating the database from the schema when the schema version gets\nupdated.\n\nThe present scripts - start_nb_db_server.sh and start_sb_db_server.sh\ndoesn't take care of schema updates.\n\nWith this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server\nto create the database from the schema.\n\nCloses-bug: 1850025\nChange-Id: I31a372d801dace92950cd85b29b308431f78bbdb\n""}, {'number': 7, 'created': '2019-11-14 10:59:58.000000000', 'files': ['docker/ovn/ovn-base/Dockerfile.j2', 'docker/ovn/ovn-nb-db-server/extend_start.sh', 'docker/ovn/ovn-sb-db-server/start_sb_db_server.sh', 'docker/ovn/ovn-sb-db-server/extend_start.sh', 'docker/ovn/ovn-nb-db-server/Dockerfile.j2', 'docker/ovn/ovn-base/extend_start.sh', 'docker/ovn/ovn-sb-db-server/Dockerfile.j2', 'docker/ovn/ovn-nb-db-server/start_nb_db_server.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b8c8fa15edcf5336a1121155cdc880a35ccf161f', 'message': ""Use ovn-ctl script to start OVN ovsdb-servers\n\nUsing the ovn-ctl script to start the OVN ovsdb-server is the better\nway. This script is used to start and stop all OVN systemd services.\nThis script takes care of creating the database from the schema,\nupdating the database from the schema when the schema version gets\nupdated.\n\nThe present scripts - start_nb_db_server.sh and start_sb_db_server.sh\ndoesn't take care of schema updates.\n\nWith this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server\nto create the database from the schema.\n\nThis patch also deletes kolla_ovn_extend_start from the ovn-base image as it\nis not required.\n\nCloses-bug: 1850025\nChange-Id: I31a372d801dace92950cd85b29b308431f78bbdb\n""}]",10,691507,b8c8fa15edcf5336a1121155cdc880a35ccf161f,55,14,7,10237,,,0,"Use ovn-ctl script to start OVN ovsdb-servers

Using the ovn-ctl script to start the OVN ovsdb-server is the better
way. This script is used to start and stop all OVN systemd services.
This script takes care of creating the database from the schema,
updating the database from the schema when the schema version gets
updated.

The present scripts - start_nb_db_server.sh and start_sb_db_server.sh
doesn't take care of schema updates.

With this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server
to create the database from the schema.

This patch also deletes kolla_ovn_extend_start from the ovn-base image as it
is not required.

Closes-bug: 1850025
Change-Id: I31a372d801dace92950cd85b29b308431f78bbdb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/691507/6 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ovn/ovn-nb-db-server/extend_start.sh', 'docker/ovn/ovn-sb-db-server/start_sb_db_server.sh', 'docker/ovn/ovn-sb-db-server/extend_start.sh', 'docker/ovn/ovn-nb-db-server/Dockerfile.j2', 'docker/ovn/ovn-sb-db-server/Dockerfile.j2', 'docker/ovn/ovn-nb-db-server/start_nb_db_server.sh']",6,872600578e9454f2a60981a5b6f2f137367eaa06,ovn,"nb_remote_addr=$1 nb_remote_port=$2 if [[ -f ""/usr/share/openvswitch/scripts/ovn-ctl"" ]]; then set /usr/share/openvswitch/scripts/ovn-ctl --no-monitor elif [[ -f ""/usr/share/ovn/scripts/ovn-ctl"" ]]; then set /usr/share/ovn/scripts/ovn-ctl --no-monitor else exit 1if [ ""$nb_remote_addr"" != """" ]; then set $@ --db-nb-create-insecure-remote=yes --db-nb-addr=${nb_remote_addr} if [ ""$nb_remote_port"" != """" ]; then set $@ --db-nb-port=${nb_remote_port} fi fi $@ run_nb_ovsdb",ovsdb_ip=$1 ovnnb_port=$2 if [ -e $ovnnb_port ]; then ovnnb_port=6641/usr/sbin/ovsdb-server /var/lib/openvswitch/ovnnb.db -vconsole:emer -vsyslog:err -vfile:info \ --remote=punix:/run/openvswitch/ovnnb_db.sock --remote=ptcp:$ovnnb_port:$ovsdb_ip \ --unixctl=/run/openvswitch/ovnnb_db.ctl --log-file=/var/log/kolla/openvswitch/ovsdb-server-nb.log ,38,58
openstack%2Ftripleo-heat-templates~master~Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab,openstack/tripleo-heat-templates,master,Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab,Add ../network/scripts/ to search path for run-os-net-config.sh,MERGED,2019-08-26 19:00:38.000000000,2019-11-14 20:17:12.000000000,2019-08-30 11:38:47.000000000,"[{'_account_id': 12398}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-08-26 19:00:38.000000000', 'files': ['tools/yaml-nic-config-2-script.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29614f90a0d2b2192ed994736cf8e81ea8fcc5b3', 'message': 'Add ../network/scripts/ to search path for run-os-net-config.sh\n\nIn some customer deployments, the run-os-net-config.sh script exists at\nthe relative path ../network/scripts/ so add that to the path search.\n\nDownstream bug: https://bugzilla.redhat.com/show_bug.cgi?id=1724165\n\nChange-Id: Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab\n'}]",0,678637,29614f90a0d2b2192ed994736cf8e81ea8fcc5b3,20,5,1,13995,,,0,"Add ../network/scripts/ to search path for run-os-net-config.sh

In some customer deployments, the run-os-net-config.sh script exists at
the relative path ../network/scripts/ so add that to the path search.

Downstream bug: https://bugzilla.redhat.com/show_bug.cgi?id=1724165

Change-Id: Ic9e9a2f0f5821805790aadb9f553c9ccadb35cab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/678637/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/yaml-nic-config-2-script.py'],1,29614f90a0d2b2192ed994736cf8e81ea8fcc5b3,fix-yaml-nic-config-2-script-path, script_paths.append('../network/scripts/run-os-net-config.sh'),,1,0
openstack%2Fopenstacksdk~master~I860cf08712bd5869f448eaab06eb6a637e0708fd,openstack/openstacksdk,master,I860cf08712bd5869f448eaab06eb6a637e0708fd,Add clustering update_action,MERGED,2019-09-18 04:55:50.000000000,2019-11-14 20:13:54.000000000,2019-11-14 20:12:13.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 27900}, {'_account_id': 28543}, {'_account_id': 28691}]","[{'number': 1, 'created': '2019-09-18 04:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/de15819ac4c72b2fdbff617a091a2ca77ec229b8', 'message': '[WIP] Add clustering update_action\n\nAdd update_action to support clustering action update API [1].\n\n[1] https://docs.openstack.org/api-ref/clustering/#update-action\n\nChange-Id: I860cf08712bd5869f448eaab06eb6a637e0708fd\n'}, {'number': 2, 'created': '2019-09-18 04:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/82e1e7a67d50b4aa5298cb790fc66425c01c7ef2', 'message': '[WIP] Add clustering update_action\n\nAdd update_action to support clustering action update API [1].\n\n[1] https://docs.openstack.org/api-ref/clustering/#update-action\n\nChange-Id: I860cf08712bd5869f448eaab06eb6a637e0708fd\n'}, {'number': 3, 'created': '2019-09-18 15:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8e849d669130a7841f12773dc9b88c83997aed37', 'message': 'Add clustering update_action\n\nAdd update_action to support clustering action update API [1].\n\n[1] https://docs.openstack.org/api-ref/clustering/#update-action\n\nChange-Id: I860cf08712bd5869f448eaab06eb6a637e0708fd\n'}, {'number': 4, 'created': '2019-10-22 19:22:13.000000000', 'files': ['openstack/clustering/v1/_proxy.py', 'openstack/tests/unit/clustering/v1/test_proxy.py', 'openstack/tests/unit/clustering/v1/test_action.py', 'openstack/clustering/v1/action.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2a40b4480103cd3f4395b40cf7814c1883d06504', 'message': 'Add clustering update_action\n\nAdd update_action to support clustering action update API [1].\n\n[1] https://docs.openstack.org/api-ref/clustering/#update-action\n\nChange-Id: I860cf08712bd5869f448eaab06eb6a637e0708fd\n'}]",0,682787,2a40b4480103cd3f4395b40cf7814c1883d06504,36,7,4,27224,,,0,"Add clustering update_action

Add update_action to support clustering action update API [1].

[1] https://docs.openstack.org/api-ref/clustering/#update-action

Change-Id: I860cf08712bd5869f448eaab06eb6a637e0708fd
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/87/682787/4 && git format-patch -1 --stdout FETCH_HEAD,"['.idea/vcs.xml', 'openstack/clustering/v1/_proxy.py', '.idea/modules.xml', '.idea/workspace.xml', '.idea/openstacksdk.iml', '.idea/inspectionProfiles/profiles_settings.xml', 'openstack/clustering/v1/action.py', '.idea/misc.xml']",8,de15819ac4c72b2fdbff617a091a2ca77ec229b8,update_action,"<?xml version=""1.0"" encoding=""UTF-8""?> <project version=""4""> <component name=""JavaScriptSettings""> <option name=""languageLevel"" value=""ES6"" /> </component> </project>",,126,0
openstack%2Fnova~master~Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f,openstack/nova,master,Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f,Helper to start computes with different HostInfos,MERGED,2019-10-04 20:16:31.000000000,2019-11-14 19:57:56.000000000,2019-11-14 19:52:31.000000000,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 20:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f84a3797d4532c6f2c07e69986edc218734ddd62', 'message': '[WIP] Helper to start computes with different HostInfos\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n'}, {'number': 2, 'created': '2019-10-07 20:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2509d0f91779de48352ed2f4f2d334a1c9beeed', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). Currently, this is only needed in\ntest_cold_migrate_with_physnet_fails, but in the future will be needed\nby both NUMA-aware live migration functional tests and a regression\ntest for bug 1843639. This patch adds a helper function to the base\nlibvirt function test class that takes a hostname to HostInfo dict and\nstarts a compute for each host. The\ntest_cold_migrate_with_physnet_fails is also refactores to use the new\nhelper.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n'}, {'number': 3, 'created': '2019-10-08 19:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cf17adede2813e9087ce2a205a4e495c358b810', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). Currently, this is only needed in\ntest_cold_migrate_with_physnet_fails, but in the future will be needed\nby both NUMA-aware live migration functional tests and a regression\ntest for bug 1843639. This patch adds a helper function to the base\nlibvirt function test class that takes a hostname to HostInfo dict and\nstarts a compute for each host. The\ntest_cold_migrate_with_physnet_fails is also refactores to use the new\nhelper.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n'}, {'number': 4, 'created': '2019-10-09 18:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72d4101ba390a29ebc989fd3775349c395b4c446', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). Currently, this is only needed in\ntest_cold_migrate_with_physnet_fails, but in the future will be needed\nby both NUMA-aware live migration functional tests and a regression\ntest for bug 1843639. This patch adds a helper function to the base\nlibvirt function test class that takes a hostname to HostInfo dict and\nstarts a compute for each host. The\ntest_cold_migrate_with_physnet_fails is also refactores to use the new\nhelper.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n'}, {'number': 5, 'created': '2019-10-10 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63c40fd936d03228f9d624ad5c18c47b7662cfe8', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). Currently, this is only needed in\ntest_cold_migrate_with_physnet_fails, but in the future will be needed\nby both NUMA-aware live migration functional tests and a regression\ntest for bug 1843639. This patch adds a helper function to the base\nlibvirt function test class that takes a hostname to HostInfo dict and\nstarts a compute for each host. The\ntest_cold_migrate_with_physnet_fails is also refactores to use the new\nhelper.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n'}, {'number': 6, 'created': '2019-10-24 17:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98e44081bb0b8fbb89078ca68070ecdfd25e230e', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). In the future this will also be needed by both NUMA-aware\nlive migration functional tests and a regression test for bug 1843639.\nThis patch adds a helper function to the base libvirt function test\nclass that takes a hostname to HostInfo dict and starts a compute for\neach host. Existing tests that can make use of this new helper are\nrefactored.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n'}, {'number': 7, 'created': '2019-11-12 15:04:23.000000000', 'files': ['nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). In the future this will also be needed by both NUMA-aware\nlive migration functional tests and a regression test for bug 1843639.\nThis patch adds a helper function to the base libvirt function test\nclass that takes a hostname to HostInfo dict and starts a compute for\neach host. Existing tests that can make use of this new helper are\nrefactored.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n'}]",4,686832,607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b,64,13,7,8864,,,0,"Helper to start computes with different HostInfos

Sometimes functional tests need to start multiple compute hosts with
different HostInfo objects (representing, for example, different NUMA
topologies). In the future this will also be needed by both NUMA-aware
live migration functional tests and a regression test for bug 1843639.
This patch adds a helper function to the base libvirt function test
class that takes a hostname to HostInfo dict and starts a compute for
each host. Existing tests that can make use of this new helper are
refactored.

Change-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/686832/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,f84a3797d4532c6f2c07e69986edc218734ddd62,bp/numa-aware-live-migration," self._start_heterogeneous_computes({ 'test_compute0': fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000), 'test_compute1': fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=1, cpu_threads=1, kB_mem=15740000)})"," host_infos = [ fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000), fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=1, cpu_threads=1, kB_mem=15740000), ] # Start services self.computes = {} for host in ['test_compute0', 'test_compute1']: host_info = host_infos.pop(0) fake_connection = self._get_connection( host_info=host_info, hostname=host) # This is fun. Firstly we need to do a global'ish mock so we can # actually start the service. with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): compute = self.start_service('compute', host=host) # Once that's done, we need to do some tweaks to each individual # compute ""service"" to make sure they return unique objects compute.driver._host.get_connection = lambda: fake_connection self.computes[host] = compute",49,28
openstack%2Fnova~master~Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8,openstack/nova,master,Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8,Filter duplicates from compute API get_migrations_sorted(),MERGED,2019-02-11 21:22:42.000000000,2019-11-14 19:24:18.000000000,2019-11-14 19:22:07.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29401}, {'_account_id': 29963}, {'_account_id': 30413}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-02-11 21:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c4985933d361762f4e95fd4298f425a8cc67237', 'message': 'WIP: Filter duplicates from compute API get_migrations_sorted()\n\nTODO: consider setting hidden=True on migration records instead\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 2, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25ad3b1beb1d5c91eaa23db838cf19dc25c3b0e3', 'message': 'WIP: Filter duplicates from compute API get_migrations_sorted()\n\nTODO: consider setting hidden=True on migration records instead\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 3, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83e6457d7ff39d885250a70a8c8d4654001f4780', 'message': 'WIP: Filter duplicates from compute API get_migrations_sorted()\n\nTODO: consider setting hidden=True on migration records instead\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 4, 'created': '2019-02-18 19:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7839f6e0a359c17a630c010ffdf4b3717693deb1', 'message': 'WIP: Filter duplicates from compute API get_migrations_sorted()\n\nTODO: consider setting hidden=True on migration records instead\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 5, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9308b152b06d745b36f5fbc51bd74bba6adf4e1', 'message': 'WIP: Filter duplicates from compute API get_migrations_sorted()\n\nTODO: consider setting hidden=True on migration records instead\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 6, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ec125e559c082ec709a93c7e7a69fb23f8ca3d0', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 7, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b4a11f050775439b8fe55f2f212046b8327df70', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 8, 'created': '2019-03-08 23:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a14fa078ff838ffae94d9cb5e3f9e3b90e0ac7f6', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 9, 'created': '2019-03-11 22:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfb7b18bdccbff10a6d9d742604b7cebf0bc8276', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 10, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e92f65244c4fa77c75f65e4ab1fa2f670cf190d7', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 11, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8acce7e43391622452d64b1ddaf19f0680f780b5', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 12, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b84c2b961a40783b6e934ce8d70275a4649bcce5', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 13, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd771fb56d8bcefb20ff12c5b53b38f9a84650e5', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 14, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4c66800f71a5171897bb6cc8b7233b82051ef3d', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 15, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f606d446e7471686294e75e57494457b72cbf2ab', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 16, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20203aa504eaeb130ac091bc1b5db4e6832a2881', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 17, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c05e8c8f3a9f574a410c8a917de3861fbafb910a', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 18, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adab3c880a745acbb8760b971055c77db1ecaf74', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 19, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f0319f022957ad0271adc0c9f71ad111e77939c', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 20, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e79586b37c2470109b7b8d9c3b7160cf8e74254d', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 21, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40315314bf2f272801bdd5ede9958cbaa904541a', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 22, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7c9e509e9f22a300a7dd16d17b1fa3aac99e70a', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 23, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c612f088c1a033b4eaece775c7a670ef685414e', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 24, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40bf79fb2e7f123edce151734e21b4b483deb633', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 25, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8adb7e3d177a9decccb4f404c50097d6e68dc86', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 26, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b423937b4d54c0bf18ce6a3e1c41ac55bf1e1f2', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 27, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43f3c0feee0cdcd5665fe359b339a811f357714d', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 28, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/806c7d0b7208febdb5166e130022f12b92320c05', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 29, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b924645e2839480782d31a4e368f23dcf99e3558', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 30, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89ab21996e4bed9c16f4ae224cf7d0b8a74467a9', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 31, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12326cdf43c203320fbba569e35d655da842a3ec', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 32, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b821fc611c67bebb062a90fda2145522e2df2d1', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 33, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a75789802346e8897516060bb2c1836ff0aacaad', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 34, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1793d60d04818128571095a3c4c707c09d9df92', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 35, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a505d4487728c242ec7c56587a4602fb020fb21', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 36, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c332d35ed58363ad50679441bfea6a221ea7ed5', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 37, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2df6ae5e05e587c604eef5d22e21f12238d5fd1', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 38, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e0adc2905d4c546ce54b1d7dada11ddf2b09a88', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 39, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28757b26abc02a5b1b4cd9a2b73bac00725b2cb8', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 40, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bc5e95a6b96ae5bb9cbae38f3828b3a541c2731', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 41, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f7994b637625f2644d095655b6de5fafe1d974e', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 42, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77f3c8a0df056ed87f03d40b1ac1b7da86d4413d', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 43, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b3e4c2177e38a9590f9fdc3829e321564bc143c', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 44, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd8a25bd67f8c996a8af39cbd14bb3be29e698a2', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 45, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8505583f2ac50d7d432e2f80bf44a414f4ea071b', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 46, 'created': '2019-10-21 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eaa694db99686da0f28817800af11307e1088f68', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 47, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47c930301f9f524a7e37079ade61bd36b2647f59', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 48, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d37d53cb50124d46d725e8c081d3686b71bf0e8', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 49, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba752c5b3aaec0d99efbfe7debef0ad2396ae75f', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 50, 'created': '2019-11-05 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/703a7bf3d8e5b59824689871d3851d5b304194a4', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently used anywhere.\nIf we used that attribute, we could handle duplicate migrations\nthe same way we handle duplicate instances, but we would need to\nthink about compatibility impacts to the GET /os-migrations API.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 51, 'created': '2019-11-12 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de9b32c4c3a74f9271f26f00ef96efdf31c023e9', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently set to True\nanywhere. If we used that attribute, we could handle duplicate\nmigrations the same way we handle duplicate instances, but we\nwould need to think about compatibility impacts to the\nGET /os-migrations API since the ""hidden"" filter parameter on\nthat API is essentially useless today.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}, {'number': 52, 'created': '2019-11-13 15:21:12.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/63094c288317b7624e43f4f0d9c712d6576b663d', 'message': 'Filter duplicates from compute API get_migrations_sorted()\n\nDuring a cross-cell resize there are migration records with the\nsame UUID in multiple cells and we need to filter duplicates out\nof the GET /os-migrations response. This adds logic to do that\nwhich picks the record with the newest ""updated_at"" value.\n\nAs noted inline, an alternative to this would be leveraging the\nMigration.hidden attribute which is not currently set to True\nanywhere. If we used that attribute, we could handle duplicate\nmigrations the same way we handle duplicate instances, but we\nwould need to think about compatibility impacts to the\nGET /os-migrations API since the ""hidden"" filter parameter on\nthat API is essentially useless today.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8\n'}]",31,636224,63094c288317b7624e43f4f0d9c712d6576b663d,553,23,52,6873,,,0,"Filter duplicates from compute API get_migrations_sorted()

During a cross-cell resize there are migration records with the
same UUID in multiple cells and we need to filter duplicates out
of the GET /os-migrations response. This adds logic to do that
which picks the record with the newest ""updated_at"" value.

As noted inline, an alternative to this would be leveraging the
Migration.hidden attribute which is not currently set to True
anywhere. If we used that attribute, we could handle duplicate
migrations the same way we handle duplicate instances, but we
would need to think about compatibility impacts to the
GET /os-migrations API since the ""hidden"" filter parameter on
that API is essentially useless today.

Part of blueprint cross-cell-resize

Change-Id: Ife9e5c77a02c8aac37311aac1e6d6814ff8de0e8
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/636224/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,9c4985933d361762f4e95fd4298f425a8cc67237,bp/cross-cell-resize," # Due to cross-cell resize, we could have duplicate migration records # while the instance is in VERIFY_RESIZE state in the destination cell # but the original migration record still exists in the source cell. # Filter out duplicate migration records here based on the updated_at # time of the record. # TODO(mriedem): This could be easier if we leveraged the ""hidden"" # field on the Migration record and then just did like # _get_unique_filter_method in the get_all() method for instances. migrations_by_uuid = collections.OrderedDict() # maintain sort order for migration in mig_objs: if migration.uuid not in migrations_by_uuid: migrations_by_uuid[migration.uuid] = migration else: # We have a collision, keep the one with the later updated_at. # FIXME(mriedem): Using updated_at could be wrong if # changes-since or changes-before filters are being used. doppleganger = migrations_by_uuid[migration.uuid] old_updated_at = doppleganger.updated_at new_updated_at = migration.updated_at if old_updated_at is None and new_updated_at is not None: # Replace the entry in the dict but maintain the order. migrations_by_uuid[migration.uuid] = migration elif (new_updated_at is not None and new_updated_at > old_updated_at): # Replace the entry in the dict but maintain the order. migrations_by_uuid[migration.uuid] = migration # else new_updated_at is None or < old_updated_at return objects.MigrationList(objects=list(migrations_by_uuid.values()))", return mig_objs,57,1
openstack%2Fswift~master~I8630cf6d0ceeeb4d6ae8b82ec1577af47a3de1b0,openstack/swift,master,I8630cf6d0ceeeb4d6ae8b82ec1577af47a3de1b0,Set new lower-bound for several packages,ABANDONED,2019-10-30 12:28:20.000000000,2019-11-14 19:10:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-30 12:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ad600de0a7486b1c6c60688937bc504dff0ca8bb', 'message': ""Set new lower-bound for netifaces\n\nLower-constraints gate job is now building with py3 by default.\nJobs were failing since 0.8 didn't support py3.\n\nChange-Id: I8630cf6d0ceeeb4d6ae8b82ec1577af47a3de1b0\n""}, {'number': 2, 'created': '2019-10-30 17:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3814d61ffda0a0a0fe8d966b9ba808cbd305fe1a', 'message': 'Set new lower-bound for netifaces and xattr\n\nLower-constraints gate job is now building with py3 by default.\nand requires newer packages with py3 support\n\nChange-Id: I8630cf6d0ceeeb4d6ae8b82ec1577af47a3de1b0\n'}, {'number': 3, 'created': '2019-10-31 07:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9c0ccafb69d231e6c723e7ac73dea5da29a92d49', 'message': 'Set new lower-bound for several packages\n\nLower-constraints gate job is now building with py3 by default.\nand requires newer packages with py3 support for following\npackages:\n - PasteDeploy\n - netifaces\n - xattr\n\nChange-Id: I8630cf6d0ceeeb4d6ae8b82ec1577af47a3de1b0\n'}, {'number': 4, 'created': '2019-10-31 12:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ffc027e61d60975055a203f7291cd3b4c91627a8', 'message': 'Set new lower-bound for several packages\n\nLower-constraints gate job is now building with py3 by default.\nand requires newer packages with py3 support for following\npackages:\n - coverage\n - netifaces\n - nosehtmloutput\n - PasteDeploy\n - xattr\n\nChange-Id: I8630cf6d0ceeeb4d6ae8b82ec1577af47a3de1b0\n'}, {'number': 5, 'created': '2019-11-01 15:28:23.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/d830619740edcc8a0b3348e3fcdc2f1e12ad26fc', 'message': 'Set new lower-bound for several packages\n\nLower-constraints gate job is now building with py3 by default.\nand requires newer packages with py3 support for following\npackages:\n - coverage\n - netifaces\n - nosehtmloutput\n - PasteDeploy\n - xattr\n\nChange-Id: I8630cf6d0ceeeb4d6ae8b82ec1577af47a3de1b0\n'}]",0,692124,d830619740edcc8a0b3348e3fcdc2f1e12ad26fc,10,1,5,9625,,,0,"Set new lower-bound for several packages

Lower-constraints gate job is now building with py3 by default.
and requires newer packages with py3 support for following
packages:
 - coverage
 - netifaces
 - nosehtmloutput
 - PasteDeploy
 - xattr

Change-Id: I8630cf6d0ceeeb4d6ae8b82ec1577af47a3de1b0
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/692124/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,ad600de0a7486b1c6c60688937bc504dff0ca8bb,up_netifaces,netifaces==0.10.4,netifaces==0.8,2,2
openstack%2Ftripleo-ansible~master~I4821b7ca0260e4dfd1717ba976cef700d160f84f,openstack/tripleo-ansible,master,I4821b7ca0260e4dfd1717ba976cef700d160f84f,Implement tripleo-systemd-wrapper role,MERGED,2019-11-07 23:07:31.000000000,2019-11-14 19:06:17.000000000,2019-11-14 19:03:34.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 23:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4dd1e1299c7b1a2d0d0b91af99198fa268c34f65', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 2, 'created': '2019-11-08 20:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba47f3733141ccc23aab406db605d8398977e0ef', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 3, 'created': '2019-11-08 23:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e84890ea3b2e8d28f1ab8f84875d2523369286f0', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 4, 'created': '2019-11-11 18:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41b226327f7b9c08e0030f9a020adebd17a6d674', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 5, 'created': '2019-11-11 19:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22cd33cdb9d9e92aa0939cbf5fcb3896a3dc7900', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 6, 'created': '2019-11-11 19:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/903a30763b24d48281ddd8ab9a1d8026d68b3508', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 7, 'created': '2019-11-11 19:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/331112de8700b8cbacadca27539f62c2d86162e6', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 8, 'created': '2019-11-11 20:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a04694b0c4814929d6b5bbd4f7a3241a59a4ea14', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 9, 'created': '2019-11-11 21:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e80f9fa4887c239357b1dd780e3505d2661dd07', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 10, 'created': '2019-11-11 21:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dda9f8e2fe4819f10c62a0a867c47c9890a896c6', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 11, 'created': '2019-11-11 23:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9ef35bf506eed7c46995187cf274a8aee98985a7', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 12, 'created': '2019-11-11 23:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/adb1645b83a5ef77390ee2cbbb070af01c559a94', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 13, 'created': '2019-11-11 23:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af899f141e101427af07bb84645d99c2b590dada', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 14, 'created': '2019-11-12 17:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0a4a1d5565f99fc67b4bdda927a8bde74242c0a', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 15, 'created': '2019-11-12 17:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/945bd70358650012dc2d343b9328fa5b62360ec0', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 16, 'created': '2019-11-12 22:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4180ac772a9904fa7e84939dfe0556bfe388dea4', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 17, 'created': '2019-11-12 22:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b278705aebb079f7737cd201414f3b05c09ed83f', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 18, 'created': '2019-11-13 16:14:35.000000000', 'files': ['tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service.service.j2', 'doc/source/roles/role-tripleo-systemd-wrapper.rst', 'tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service_kill.j2', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/tasks/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service_command.j2', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-systemd-wrapper/meta/main.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service.path.j2', 'tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service_sync.j2', 'tripleo_ansible/roles/tripleo-systemd-wrapper/defaults/main.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service_wrapper.j2', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/699249f1790dd5646556173bf5331e7e71135ad4', 'message': 'Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith systemd instead of docker.socket or nsenter.  The main use case here\nis Neutron, although this role is designed to work with any service.\n\nThis role will create a series of systemd files to monitor a file which\ngets mounted into a container. Additionally a wrapper script is\ngenerated which is mounted in the container that will provide the\narguments that should be used to launch new containers.\n\nBlueprint: safe-side-containers\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}]",68,693442,699249f1790dd5646556173bf5331e7e71135ad4,53,5,18,14985,,,0,"Implement tripleo-systemd-wrapper role

This patch adds a new role that will be used to manage side containers
with systemd instead of docker.socket or nsenter.  The main use case here
is Neutron, although this role is designed to work with any service.

This role will create a series of systemd files to monitor a file which
gets mounted into a container. Additionally a wrapper script is
generated which is mounted in the container that will provide the
arguments that should be used to launch new containers.

Blueprint: safe-side-containers
Change-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f
Co-Authored-By: Dan Prince <dprince@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/693442/18 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service.service.j2', 'doc/source/roles/role-tripleo-systemd-wrapper.rst', 'tripleo_ansible/roles/tripleo-systemd-wrapper/files/.gitkeep', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/tasks/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-systemd-wrapper/meta/main.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service.path.j2', 'tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service_sync.j2', 'tripleo_ansible/roles/tripleo-systemd-wrapper/vars/main.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/defaults/main.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/handlers/main.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service_wrapper.j2', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/molecule.yml']",17,4dd1e1299c7b1a2d0d0b91af99198fa268c34f65,bp/safe-side-containers,"--- driver: name: docker log: true platforms: - name: centos7 hostname: centos7 image: centos:7 dockerfile: Dockerfile pkg_extras: python-setuptools easy_install: - pip environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" - name: centos8 hostname: centos8 image: centos:8 dockerfile: Dockerfile pkg_extras: python*-setuptools environment: <<: *env provisioner: name: ansible log: true env: ANSIBLE_STDOUT_CALLBACK: yaml scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy lint: enabled: false verifier: name: testinfra lint: name: flake8 ",,397,1
openstack%2Frequirements~stable%2Frocky~I29abcba929995f9307c392110160d889a29b47c3,openstack/requirements,stable/rocky,I29abcba929995f9307c392110160d889a29b47c3,Remove requirements-integration job,MERGED,2019-11-13 02:48:28.000000000,2019-11-14 19:00:44.000000000,2019-11-14 19:00:44.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 02:48:28.000000000', 'files': ['global-requirements.txt', 'tools/integration.sh', 'bindep.txt', '.zuul.d/project.yaml', 'playbooks/requirements-integration-dsvm/post.yaml', '.zuul.d/jobs.yaml', 'playbooks/requirements-integration-dsvm/run.yaml', 'tools/README.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/22b4b1d479bc046e0d9c4a38e2f3e2ef3d2c211a', 'message': 'Remove requirements-integration job\n\nThis job was a legacy job that attempted to verify each project could be\nindependently installed after all global-requirements had been\ninstalled.\n\nThis job is no longer necessary since we have much better coverage with\nrequirements-check and other jobs that make sure the requirements are\ncompatible. It is also a legacy zuulv2 job, uses the long deprecated\ndevstack-gate, and runs with Python 2.7.\n\nFor historical reference, this was added originally to PBR back in 2013\n[0] and moved to requirements in 2014 [1].\n\n[0] https://opendev.org/openstack/pbr/commit/378261a8cba818a29b7e3d33b917de5ed0751579\n[1] https://opendev.org/openstack/requirements/commit/8e073738db06086f949d2be377999356aee2d8d0\n\nChange-Id: I29abcba929995f9307c392110160d889a29b47c3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 58d622019d8e92b301699787180aafe16cde53ee)\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n(cherry picked from commit 442891e31e28bbc430be722ba50058ceda9e2308)\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,693964,22b4b1d479bc046e0d9c4a38e2f3e2ef3d2c211a,7,3,1,14288,,,0,"Remove requirements-integration job

This job was a legacy job that attempted to verify each project could be
independently installed after all global-requirements had been
installed.

This job is no longer necessary since we have much better coverage with
requirements-check and other jobs that make sure the requirements are
compatible. It is also a legacy zuulv2 job, uses the long deprecated
devstack-gate, and runs with Python 2.7.

For historical reference, this was added originally to PBR back in 2013
[0] and moved to requirements in 2014 [1].

[0] https://opendev.org/openstack/pbr/commit/378261a8cba818a29b7e3d33b917de5ed0751579
[1] https://opendev.org/openstack/requirements/commit/8e073738db06086f949d2be377999356aee2d8d0

Change-Id: I29abcba929995f9307c392110160d889a29b47c3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 58d622019d8e92b301699787180aafe16cde53ee)
Signed-off-by: Matthew Thode <mthode@mthode.org>
(cherry picked from commit 442891e31e28bbc430be722ba50058ceda9e2308)
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/693964/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'tools/integration.sh', 'bindep.txt', '.zuul.d/project.yaml', 'playbooks/requirements-integration-dsvm/post.yaml', '.zuul.d/jobs.yaml', 'playbooks/requirements-integration-dsvm/run.yaml', 'tools/README.txt']",8,22b4b1d479bc046e0d9c4a38e2f3e2ef3d2c211a,,,"integration.sh -------------- Used in the gate! Install all the ""$PROJECTS"" to verify that g-r and the each project are compatible ",1,374
openstack%2Frequirements~stable%2Fstein~I29abcba929995f9307c392110160d889a29b47c3,openstack/requirements,stable/stein,I29abcba929995f9307c392110160d889a29b47c3,Remove requirements-integration job,MERGED,2019-11-13 02:47:43.000000000,2019-11-14 19:00:43.000000000,2019-11-14 19:00:43.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 02:47:43.000000000', 'files': ['global-requirements.txt', 'tools/integration.sh', 'bindep.txt', '.zuul.d/project.yaml', 'playbooks/requirements-integration-dsvm/post.yaml', '.zuul.d/jobs.yaml', 'playbooks/requirements-integration-dsvm/run.yaml', 'tools/README.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/442891e31e28bbc430be722ba50058ceda9e2308', 'message': 'Remove requirements-integration job\n\nThis job was a legacy job that attempted to verify each project could be\nindependently installed after all global-requirements had been\ninstalled.\n\nThis job is no longer necessary since we have much better coverage with\nrequirements-check and other jobs that make sure the requirements are\ncompatible. It is also a legacy zuulv2 job, uses the long deprecated\ndevstack-gate, and runs with Python 2.7.\n\nFor historical reference, this was added originally to PBR back in 2013\n[0] and moved to requirements in 2014 [1].\n\n[0] https://opendev.org/openstack/pbr/commit/378261a8cba818a29b7e3d33b917de5ed0751579\n[1] https://opendev.org/openstack/requirements/commit/8e073738db06086f949d2be377999356aee2d8d0\n\nChange-Id: I29abcba929995f9307c392110160d889a29b47c3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 58d622019d8e92b301699787180aafe16cde53ee)\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,693963,442891e31e28bbc430be722ba50058ceda9e2308,8,4,1,14288,,,0,"Remove requirements-integration job

This job was a legacy job that attempted to verify each project could be
independently installed after all global-requirements had been
installed.

This job is no longer necessary since we have much better coverage with
requirements-check and other jobs that make sure the requirements are
compatible. It is also a legacy zuulv2 job, uses the long deprecated
devstack-gate, and runs with Python 2.7.

For historical reference, this was added originally to PBR back in 2013
[0] and moved to requirements in 2014 [1].

[0] https://opendev.org/openstack/pbr/commit/378261a8cba818a29b7e3d33b917de5ed0751579
[1] https://opendev.org/openstack/requirements/commit/8e073738db06086f949d2be377999356aee2d8d0

Change-Id: I29abcba929995f9307c392110160d889a29b47c3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 58d622019d8e92b301699787180aafe16cde53ee)
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/693963/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'tools/integration.sh', 'bindep.txt', '.zuul.d/project.yaml', 'playbooks/requirements-integration-dsvm/post.yaml', '.zuul.d/jobs.yaml', 'playbooks/requirements-integration-dsvm/run.yaml', 'tools/README.txt']",8,442891e31e28bbc430be722ba50058ceda9e2308,,,"integration.sh -------------- Used in the gate! Install all the ""$PROJECTS"" to verify that g-r and the each project are compatible ",1,374
openstack%2Frequirements~stable%2Ftrain~I29abcba929995f9307c392110160d889a29b47c3,openstack/requirements,stable/train,I29abcba929995f9307c392110160d889a29b47c3,Remove requirements-integration job,MERGED,2019-11-13 02:45:36.000000000,2019-11-14 18:54:13.000000000,2019-11-14 18:54:13.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 02:45:36.000000000', 'files': ['global-requirements.txt', 'tools/integration.sh', 'bindep.txt', '.zuul.d/project.yaml', 'playbooks/requirements-integration-dsvm/post.yaml', '.zuul.d/jobs.yaml', 'playbooks/requirements-integration-dsvm/run.yaml', 'tools/README.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4fc9ff49064725feff0c616c23ba337ed0e73839', 'message': 'Remove requirements-integration job\n\nThis job was a legacy job that attempted to verify each project could be\nindependently installed after all global-requirements had been\ninstalled.\n\nThis job is no longer necessary since we have much better coverage with\nrequirements-check and other jobs that make sure the requirements are\ncompatible. It is also a legacy zuulv2 job, uses the long deprecated\ndevstack-gate, and runs with Python 2.7.\n\nFor historical reference, this was added originally to PBR back in 2013\n[0] and moved to requirements in 2014 [1].\n\n[0] https://opendev.org/openstack/pbr/commit/378261a8cba818a29b7e3d33b917de5ed0751579\n[1] https://opendev.org/openstack/requirements/commit/8e073738db06086f949d2be377999356aee2d8d0\n\nChange-Id: I29abcba929995f9307c392110160d889a29b47c3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 58d622019d8e92b301699787180aafe16cde53ee)\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,693962,4fc9ff49064725feff0c616c23ba337ed0e73839,7,3,1,14288,,,0,"Remove requirements-integration job

This job was a legacy job that attempted to verify each project could be
independently installed after all global-requirements had been
installed.

This job is no longer necessary since we have much better coverage with
requirements-check and other jobs that make sure the requirements are
compatible. It is also a legacy zuulv2 job, uses the long deprecated
devstack-gate, and runs with Python 2.7.

For historical reference, this was added originally to PBR back in 2013
[0] and moved to requirements in 2014 [1].

[0] https://opendev.org/openstack/pbr/commit/378261a8cba818a29b7e3d33b917de5ed0751579
[1] https://opendev.org/openstack/requirements/commit/8e073738db06086f949d2be377999356aee2d8d0

Change-Id: I29abcba929995f9307c392110160d889a29b47c3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 58d622019d8e92b301699787180aafe16cde53ee)
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/693962/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'tools/integration.sh', 'bindep.txt', '.zuul.d/project.yaml', 'playbooks/requirements-integration-dsvm/post.yaml', '.zuul.d/jobs.yaml', 'playbooks/requirements-integration-dsvm/run.yaml', 'tools/README.txt']",8,4fc9ff49064725feff0c616c23ba337ed0e73839,,,"integration.sh -------------- Used in the gate! Install all the ""$PROJECTS"" to verify that g-r and the each project are compatible ",1,371
openstack%2Ftripleo-upgrade~master~Ibc57c51ff19ebad093c887bee545ca6a7d51827f,openstack/tripleo-upgrade,master,Ibc57c51ff19ebad093c887bee545ca6a7d51827f,Sync up upgrades and updates workarounds mechanism.,MERGED,2019-09-24 20:09:31.000000000,2019-11-14 18:30:23.000000000,2019-11-14 18:30:22.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 8532}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-09-24 20:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3d6b02913720c19322789003a16d3c8285a35d42', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updats too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n'}, {'number': 2, 'created': '2019-09-25 09:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5bab8ffbacdb3bd2b00eb4d8f5fe2106ae99d53f', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updats too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n'}, {'number': 3, 'created': '2019-09-26 08:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8c35463a75d7ce18920fa491b9f1cd40f37d3ab9', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updats too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n'}, {'number': 4, 'created': '2019-09-26 20:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5821a047a00fdce7bc1798820bb95fde1840eaae', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updats too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n'}, {'number': 5, 'created': '2019-09-26 20:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/efdf893e15e682bf39a293fd3a620a9bcdeb24d9', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n'}, {'number': 6, 'created': '2019-10-02 08:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9d11401603f694eaf1b399e2b01e3bb6f773b1f6', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n'}, {'number': 7, 'created': '2019-11-08 14:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a04858af45c73e5a88edae0c112c706ed06533cf', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n'}, {'number': 8, 'created': '2019-11-13 17:04:54.000000000', 'files': ['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'templates/update_workarounds.sh.j2', 'tasks/update/create-undercloud-update-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ef1545650338f9e70bd98e18a2517e63e23cd0a9', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n'}]",12,684419,ef1545650338f9e70bd98e18a2517e63e23cd0a9,31,10,8,26343,,,0,"Sync up upgrades and updates workarounds mechanism.

Up to now, the minor updates workarounds was not being used very much
being a little bit left away in comparision with what it was implemented
for the upgrades one. This patch allows minor updates to benefit from
the same workarounds mechanism, at the same time that any improvement
in the upgrades mechanism will be available for updates too.

Also, it was removed the references to the {{ working_dir }} variable
in those shell tasks which have the argument changing directory to that
very same {{ working_dir }}, mostly to simplify the tasks and remove
redundancy.

Change-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/19/684419/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'templates/update_workarounds.sh.j2']",6,3d6b02913720c19322789003a16d3c8285a35d42,684419,,"#!/bin/env bash # # Apply workarounds for minor updates # set -euo pipefail {% if item.workarounds|default([]) %} {% for workaround in item.workarounds %} {% if workaround.patch_id %} curl -4 'https://review.opendev.org/changes/{{workaround.patch_id}}/revisions/current/patch?download' | \ base64 -d | \ sudo patch -d {{ workaround.directory }} -p1 {{ workaround.misc }} {% endif %} {# end of item.patch_id #} {% if workaround.command %} {{ workaround.command }} {% endif %} {# apply command for workaround #} {% endfor %} {# end of workarounds iteration #} {% else %} {# if workarounds not needed #} echo ""No Workarounds Needed"" exit 0 {% endif %} {# end if no workarounds #} ",85,81
openstack%2Fproject-config~master~Iecc8e302f8d6ac374a81deaeddf14bcd997829b2,openstack/project-config,master,Iecc8e302f8d6ac374a81deaeddf14bcd997829b2,"Revert ""Enable inap-mtl01""",MERGED,2019-11-14 17:52:31.000000000,2019-11-14 18:18:29.000000000,2019-11-14 18:18:29.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 17:52:31.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4fd427f584249ff13316ed19af57ba9f6c6d74c8', 'message': 'Revert ""Enable inap-mtl01""\n\nTemporarily stop building new job nodes here until we can add space\nfor Apache and OpenAFS caches to the new mirror server.\n\nThis reverts commit 8b5e7384121da03f4c0e795140595a8e5dedd0f5.\n\nChange-Id: Iecc8e302f8d6ac374a81deaeddf14bcd997829b2\n'}]",0,694373,4fd427f584249ff13316ed19af57ba9f6c6d74c8,7,3,1,5263,,,0,"Revert ""Enable inap-mtl01""

Temporarily stop building new job nodes here until we can add space
for Apache and OpenAFS caches to the new mirror server.

This reverts commit 8b5e7384121da03f4c0e795140595a8e5dedd0f5.

Change-Id: Iecc8e302f8d6ac374a81deaeddf14bcd997829b2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/694373/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,4fd427f584249ff13316ed19af57ba9f6c6d74c8,inap-mirror, max-servers: 0, max-servers: 190,1,1
openstack%2Fnova~master~Ia316bd0fa58cca76de4c788431fc144088b9160e,openstack/nova,master,Ia316bd0fa58cca76de4c788431fc144088b9160e,WIP: vTPM request_filter,ABANDONED,2019-08-24 01:16:44.000000000,2019-11-14 18:16:44.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-24 01:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd0604a443b5b4fc4b186cbd7205cff87edf4319', 'message': ""WIP: vTPM request_filter\n\nPreviously to get vTPM in an instance it was necessary to speak\nplacement-ese in your flavor/image. This request filter translates more\nnatural flavor-isms to the proper placement syntax, and does some\nadditional validation.\n\nChange-Id: Ia316bd0fa58cca76de4c788431fc144088b9160e\nWIP: I've barely gotten started on this, just saving my place.\n""}, {'number': 2, 'created': '2019-08-24 01:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79e94ac991053cefe28661aee0b1d8d5624752ef', 'message': ""WIP: vTPM request_filter\n\nPreviously to get vTPM in an instance it was necessary to speak\nplacement-ese in your flavor/image. This request filter translates more\nnatural flavor-isms to the proper placement syntax, and does some\nadditional validation.\n\nChange-Id: Ia316bd0fa58cca76de4c788431fc144088b9160e\nWIP: I've barely gotten started on this, just saving my place.\n""}, {'number': 3, 'created': '2019-08-24 01:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/236216f3d7a681b3b703cc4c3f6a0046baa67dc4', 'message': ""WIP: vTPM request_filter\n\nPreviously to get vTPM in an instance it was necessary to speak\nplacement-ese in your flavor/image. This request filter translates more\nnatural flavor-isms to the proper placement syntax, and does some\nadditional validation.\n\nChange-Id: Ia316bd0fa58cca76de4c788431fc144088b9160e\nWIP: I've barely gotten started on this, just saving my place.\n""}, {'number': 4, 'created': '2019-11-07 17:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/990b33b46f6be898dc7f8309f3739fa6c52e2469', 'message': ""WIP: vTPM request_filter\n\nPreviously to get vTPM in an instance it was necessary to speak\nplacement-ese in your flavor/image. This request filter translates more\nnatural flavor-isms to the proper placement syntax, and does some\nadditional validation.\n\nChange-Id: Ia316bd0fa58cca76de4c788431fc144088b9160e\nWIP: I've barely gotten started on this, just saving my place.\n""}, {'number': 5, 'created': '2019-11-13 00:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a55397c27e0bb7590fca5f6152bb8d4514642f2', 'message': ""WIP: vTPM request_filter\n\nPreviously to get vTPM in an instance it was necessary to speak\nplacement-ese in your flavor/image. This request filter translates more\nnatural flavor-isms to the proper placement syntax, and does some\nadditional validation.\n\nChange-Id: Ia316bd0fa58cca76de4c788431fc144088b9160e\nWIP: I've barely gotten started on this, just saving my place.\n""}, {'number': 6, 'created': '2019-11-13 23:36:36.000000000', 'files': ['nova/scheduler/utils.py', 'nova/scheduler/request_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/03152b46eb0650a1ef753107cf553ccf7ef61984', 'message': ""WIP: vTPM request_filter\n\nPreviously to get vTPM in an instance it was necessary to speak\nplacement-ese in your flavor/image. This request filter translates more\nnatural flavor-isms to the proper placement syntax, and does some\nadditional validation.\n\nChange-Id: Ia316bd0fa58cca76de4c788431fc144088b9160e\nWIP: I've barely gotten started on this, just saving my place.\n""}]",0,678325,03152b46eb0650a1ef753107cf553ccf7ef61984,36,10,6,14070,,,0,"WIP: vTPM request_filter

Previously to get vTPM in an instance it was necessary to speak
placement-ese in your flavor/image. This request filter translates more
natural flavor-isms to the proper placement syntax, and does some
additional validation.

Change-Id: Ia316bd0fa58cca76de4c788431fc144088b9160e
WIP: I've barely gotten started on this, just saving my place.
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/678325/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/scheduler/request_filter.py']",2,cd0604a443b5b4fc4b186cbd7205cff87edf4319,bp/add-emulated-virtual-tpm,"from nova.scheduler import utils@trace_request_filter def vtpm_filter(ctx, request_spec): """"""Converts vTPM extra_specs/image_meta into Placement-ese resource/trait syntax. """""" # First pull out any explicit (Placement-ese) vTPM resource/trait requests # from the flavor/image. Reuse ResourceRequest to do the parsing. Do this # in two separate ResourceRequestZ so we can detect conflicts between # flavor and image. flv_rg = utils.ResourceRequest.from_extra_specs( request_spec.flavor.extra_specs) img_rg = utils.ResourceRequest.from_image_props( request_spec.image.properties) vtpm_filter,",,20,0
openstack%2Fcastellan~master~I82625d6d202b33daaa2e7f02fbfb8dc5ab59079c,openstack/castellan,master,I82625d6d202b33daaa2e7f02fbfb8dc5ab59079c,"Fix ""is"" usage with literals",MERGED,2019-11-08 14:56:32.000000000,2019-11-14 18:04:37.000000000,2019-11-14 18:03:26.000000000,"[{'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-08 14:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/3c908d247e0432103828a477091b3121de0b12c8', 'message': 'Fix ""is"" usage with literals\n\nThis throws warnings on Python 3.8.\n\nChange-Id: I82625d6d202b33daaa2e7f02fbfb8dc5ab59079c\n'}, {'number': 2, 'created': '2019-11-12 17:08:15.000000000', 'files': ['castellan/key_manager/barbican_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/fcb39e5d9d9942aaa9c6de1e1cd97bed0e9956c8', 'message': 'Fix ""is"" usage with literals\n\nThis throws warnings on Python 3.8.\n\nChange-Id: I82625d6d202b33daaa2e7f02fbfb8dc5ab59079c\n'}]",0,693546,fcb39e5d9d9942aaa9c6de1e1cd97bed0e9956c8,11,4,2,4523,,,0,"Fix ""is"" usage with literals

This throws warnings on Python 3.8.

Change-Id: I82625d6d202b33daaa2e7f02fbfb8dc5ab59079c
",git fetch https://review.opendev.org/openstack/castellan refs/changes/46/693546/1 && git format-patch -1 --stdout FETCH_HEAD,['castellan/key_manager/barbican_key_manager.py'],1,3c908d247e0432103828a477091b3121de0b12c8,, if context.__class__.__name__ == 'KeystonePassword': elif context.__class__.__name__ == 'KeystoneToken': elif context.__class__.__name__ == 'RequestContext':, if context.__class__.__name__ is 'KeystonePassword': elif context.__class__.__name__ is 'KeystoneToken': elif context.__class__.__name__ is 'RequestContext':,3,3
openstack%2Fkayobe~master~I898ef7daa96ce501587fd54ca1088ea0c062497d,openstack/kayobe,master,I898ef7daa96ce501587fd54ca1088ea0c062497d,Support definition of non-default home dir path,ABANDONED,2019-07-15 16:57:30.000000000,2019-11-14 18:03:10.000000000,,"[{'_account_id': 10910}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-15 16:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/82ffa25328e6bf186ee6dd6a7d6f1c61d297960a', 'message': 'Support definition of non-default home dir path\n\nFor deployments where the network environment uses NIS and NFS,\nit is necessary to use a non-default location for home directories\nfor local users such as the kayobe ansible user.\n\nChange-Id: I898ef7daa96ce501587fd54ca1088ea0c062497d\n'}, {'number': 2, 'created': '2019-07-16 12:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6fdabf3f8f7ab0f0be0856079cbea0fc024d514b', 'message': 'Support definition of non-default home dir path\n\nFor deployments where the network environment uses NIS and NFS,\nit is necessary to use a non-default location for home directories\nfor local users such as the kayobe ansible user.\n\nChange-Id: I898ef7daa96ce501587fd54ca1088ea0c062497d\n'}, {'number': 3, 'created': '2019-07-16 12:53:33.000000000', 'files': ['etc/kayobe/globals.yml', 'doc/source/configuration/hosts.rst', 'ansible/kayobe-ansible-user.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dfe11a62946b0c4edfc93af136bcaee5a108e937', 'message': 'Support definition of non-default home dir path\n\nFor deployments where the network environment uses NIS and NFS,\nit is necessary to use a non-default location for home directories\nfor local users such as the kayobe ansible user.\n\nChange-Id: I898ef7daa96ce501587fd54ca1088ea0c062497d\n'}]",0,670886,dfe11a62946b0c4edfc93af136bcaee5a108e937,10,4,3,10910,,,0,"Support definition of non-default home dir path

For deployments where the network environment uses NIS and NFS,
it is necessary to use a non-default location for home directories
for local users such as the kayobe ansible user.

Change-Id: I898ef7daa96ce501587fd54ca1088ea0c062497d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/86/670886/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kayobe-ansible-user.yml'],1,82ffa25328e6bf186ee6dd6a7d6f1c61d297960a,stack-user-dir," home: ""{{ kayobe_ansible_user_home | default(omit) }}""",,1,0
openstack%2Fheat~master~Ibcba46308206fa54949e905355c0f639c006e845,openstack/heat,master,Ibcba46308206fa54949e905355c0f639c006e845,Imported Translations from Zanata,MERGED,2019-11-03 07:29:28.000000000,2019-11-14 17:55:43.000000000,2019-11-14 17:53:23.000000000,"[{'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-03 07:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/49abe3f1241727aeabf4944697d6405f0b59da44', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibcba46308206fa54949e905355c0f639c006e845\n'}, {'number': 2, 'created': '2019-11-04 07:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f0c2771c87167038c1abc9ac77fd502b8c077eab', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibcba46308206fa54949e905355c0f639c006e845\n'}, {'number': 3, 'created': '2019-11-07 07:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a74dfc10c71b2bb7dbf50f470b36ff740ccc34b4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibcba46308206fa54949e905355c0f639c006e845\n'}, {'number': 4, 'created': '2019-11-13 07:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5739c9d751dc359f9374ad6bd2b905bdaf7e2196', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibcba46308206fa54949e905355c0f639c006e845\n'}, {'number': 5, 'created': '2019-11-14 07:35:32.000000000', 'files': ['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/70962a434e88cb564443e3956d66dc14ad9ff933', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibcba46308206fa54949e905355c0f639c006e845\n'}]",0,692720,70962a434e88cb564443e3956d66dc14ad9ff933,15,2,5,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibcba46308206fa54949e905355c0f639c006e845
",git fetch https://review.opendev.org/openstack/heat refs/changes/20/692720/4 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po'],1,49abe3f1241727aeabf4944697d6405f0b59da44,zanata/translations,"# Hongjae Kim <neo415ha@gmail.com>, 2019. #zanata""Project-Id-Version: openstack-heat\n""""POT-Creation-Date: 2019-10-22 02:42+0000\n""""PO-Revision-Date: 2019-11-02 08:14+0000\n"" ""Last-Translator: Hongjae Kim <neo415ha@gmail.com>\n""msgid """" ""'CEPHFS' can be used as a share protocol when using OS::Manila::Share "" ""resource."" msgstr """" ""OS   'CEPHFS'     :Manila:: "" ""."" msgid ""10.0.0"" msgstr ""10.0.0"" msgid ""10.0.0.0b1"" msgstr ""10.0.0.0b1"" msgid ""10.0.0.0b2"" msgstr ""10.0.0.0b2"" msgid ""10.0.0.0b3"" msgstr ""10.0.0.0b3"" msgid ""10.0.0.0rc1"" msgstr ""10.0.0.0rc1"" msgid ""10.0.1"" msgstr ""10.0.1"" msgid ""10.0.2"" msgstr ""10.0.2"" msgid ""11.0.0"" msgstr ""11.0.0"" msgid ""11.0.0.0b1"" msgstr ""11.0.0.0b1"" msgid ""11.0.0.0b3"" msgstr ""11.0.0.0b3"" msgid ""11.0.0.0rc1"" msgstr ""11.0.0.0rc1"" msgid ""11.0.2"" msgstr ""11.0.2"" msgid ""12.0.0"" msgstr ""12.0.0"" msgid ""12.0.0-16"" msgstr ""12.0.0-16"" msgid ""12.0.0.0rc1"" msgstr ""12.0.0.0rc1"" msgid ""13.0.0"" msgstr ""13.0.0"" msgid ""13.0.0.0rc1"" msgstr ""13.0.0.0rc1"" msgid ""13.0.0.0rc1-18"" msgstr ""13.0.0.0rc1-18"" msgid ""7.0.0.0b1"" msgstr ""7.0.0.0b1"" msgid ""7.0.0.0b2"" msgstr ""7.0.0.0b2"" msgid ""7.0.0.0b3"" msgstr ""7.0.0.0b3"" ","""Project-Id-Version: heat\n""""POT-Creation-Date: 2018-09-10 05:09+0000\n""""PO-Revision-Date: 2017-08-05 01:49+0000\n"" ""Last-Translator: minwook-shin <minwook0106@gmail.com>\n""",75,4
openstack%2Foslo.config~master~Ibcdd3a9f7e7ea421e906cf1d96f95b516008b5d7,openstack/oslo.config,master,Ibcdd3a9f7e7ea421e906cf1d96f95b516008b5d7,Stop configuring install_command in tox.,MERGED,2019-11-14 14:06:11.000000000,2019-11-14 17:53:36.000000000,2019-11-14 17:51:19.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-14 14:06:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/f0c992f5c088054196389ab12599e52ec5970d3a', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: Ibcdd3a9f7e7ea421e906cf1d96f95b516008b5d7\n""}]",0,694301,f0c992f5c088054196389ab12599e52ec5970d3a,8,3,1,31245,,,0,"Stop configuring install_command in tox.

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead:

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: Ibcdd3a9f7e7ea421e906cf1d96f95b516008b5d7
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/01/694301/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f0c992f5c088054196389ab12599e52ec5970d3a,stop_configuring_install_command,,install_command = pip install {opts} {packages},0,1
openstack%2Fopenstack-helm-infra~master~I2a940ad1cea406ba923519cd5be188ee1bc409aa,openstack/openstack-helm-infra,master,I2a940ad1cea406ba923519cd5be188ee1bc409aa,Fxing lint errors for Helm 2.16,MERGED,2019-11-12 17:28:33.000000000,2019-11-14 17:34:44.000000000,2019-11-14 17:33:35.000000000,"[{'_account_id': 17130}, {'_account_id': 17591}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26297}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-11-12 17:28:33.000000000', 'files': ['kibana/Chart.yaml', 'ingress/Chart.yaml', 'nagios/Chart.yaml', 'kubernetes-keystone-webhook/Chart.yaml', 'registry/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b500d695915fbfc5d66ef2c9ca61662f88af1dd0', 'message': 'Fxing lint errors for Helm 2.16\n\nThis commit fixes helm lint errors when linting against\nthe recent helm version.\n\nChange-Id: I2a940ad1cea406ba923519cd5be188ee1bc409aa\n'}]",0,693888,b500d695915fbfc5d66ef2c9ca61662f88af1dd0,12,7,1,14552,,,0,"Fxing lint errors for Helm 2.16

This commit fixes helm lint errors when linting against
the recent helm version.

Change-Id: I2a940ad1cea406ba923519cd5be188ee1bc409aa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/693888/1 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/Chart.yaml', 'ingress/Chart.yaml', 'nagios/Chart.yaml', 'kubernetes-keystone-webhook/Chart.yaml', 'registry/Chart.yaml']",5,b500d695915fbfc5d66ef2c9ca61662f88af1dd0,,apiVersion: v1,,5,0
openstack%2Fkolla~master~I48258e3ef0e4a84da046b445ad7ae330aecf1bda,openstack/kolla,master,I48258e3ef0e4a84da046b445ad7ae330aecf1bda,"Revert ""Use Train release for all OpenStack projects""",ABANDONED,2019-10-22 07:44:19.000000000,2019-11-14 17:34:15.000000000,,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-22 07:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/26d73f93ad74d1f01ef8522162cb876036e5dd73', 'message': 'Revert ""Use Train release for all OpenStack projects""\n\nThis reverts commit 97979578506497ce0b466d7621f83cd9a9338ed0.\n\nChange-Id: I48258e3ef0e4a84da046b445ad7ae330aecf1bda\n'}, {'number': 2, 'created': '2019-11-06 08:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ea859cdcf583cc83204ce9e4551eb8a959ff195e', 'message': 'Revert ""Use Train release for all OpenStack projects""\n\nThis reverts commit 97979578506497ce0b466d7621f83cd9a9338ed0.\n\nAlso reverts commit c78c82c9630b334cbaef040d68bce7e5ae8cc118:\n\nMove to RDO Train packages\n\nId: I396f929ecc11f87fb83585bedd39be93a605c57b\n\nChange-Id: I48258e3ef0e4a84da046b445ad7ae330aecf1bda\n'}, {'number': 3, 'created': '2019-11-12 09:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/12e2461816f33f13fbfc91671512e4b44b47e963', 'message': 'Revert ""Use Train release for all OpenStack projects""\n\nThis reverts commit 97979578506497ce0b466d7621f83cd9a9338ed0.\n\nAlso reverts commit c78c82c9630b334cbaef040d68bce7e5ae8cc118:\n\nMove to RDO Train packages\n\nId: I396f929ecc11f87fb83585bedd39be93a605c57b\n\nDepends-On: https://review.opendev.org/693790\n\nChange-Id: I48258e3ef0e4a84da046b445ad7ae330aecf1bda\n'}, {'number': 4, 'created': '2019-11-13 12:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/75086a99b47b41eefa318e4d207a2ab1a7e98b53', 'message': 'Revert ""Use Train release for all OpenStack projects""\n\nThis reverts commit 97979578506497ce0b466d7621f83cd9a9338ed0.\n\nAlso reverts commit c78c82c9630b334cbaef040d68bce7e5ae8cc118:\n\nMove to RDO Train packages\n\nId: I396f929ecc11f87fb83585bedd39be93a605c57b\n\nDepends-On: https://review.opendev.org/693790\n\nChange-Id: I48258e3ef0e4a84da046b445ad7ae330aecf1bda\n'}]",0,689999,75086a99b47b41eefa318e4d207a2ab1a7e98b53,29,7,4,24072,,,0,"Revert ""Use Train release for all OpenStack projects""

This reverts commit 97979578506497ce0b466d7621f83cd9a9338ed0.

Also reverts commit c78c82c9630b334cbaef040d68bce7e5ae8cc118:

Move to RDO Train packages

Id: I396f929ecc11f87fb83585bedd39be93a605c57b

Depends-On: https://review.opendev.org/693790

Change-Id: I48258e3ef0e4a84da046b445ad7ae330aecf1bda
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/689999/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,26d73f93ad74d1f01ef8522162cb876036e5dd73,kolla-train-release," 'requirements-master.tar.gz')}, 'almanach-master.tar.gz')}, 'aodh-master.tar.gz')}, 'barbican-master.tar.gz')}, 'bifrost-master.tar.gz')}, 'blazar-master.tar.gz')}, 'ceilometer-master.tar.gz')}, 'panko-master.tar.gz')}, 'cinder-master.tar.gz')}, 'congress-master.tar.gz')}, 'cloudkitty-master.tar.gz')}, 'cyborg-master.tar.gz')}, 'designate-master.tar.gz')}, 'dragonflow-master.tar.gz')}, 'ec2-api-master.tar.gz')}, 'freezer-api-master.tar.gz')}, 'freezer-master.tar.gz')}, 'glance-master.tar.gz')}, 'reference': 'master', 'heat-master.tar.gz')}, 'horizon-master.tar.gz')}, 'blazar-dashboard-master.tar.gz')}, 'congress-dashboard-master.tar.gz')}, 'cloudkitty-dashboard-master.tar.gz')}, 'designate-dashboard-master.tar.gz')}, 'neutron-fwaas-dashboard-master.tar.gz')}, 'freezer-web-ui-master.tar.gz')}, 'heat-dashboard-master.tar.gz')}, 'ironic-ui-master.tar.gz')}, 'karbor-dashboard-master.tar.gz')}, 'magnum-ui-master.tar.gz')}, 'manila-ui-master.tar.gz')}, 'masakari-dashboard-master.tar.gz')}, 'mistral-dashboard-master.tar.gz')}, 'monasca-ui-master.tar.gz')}, 'murano-dashboard-master.tar.gz')}, 'neutron-vpnaas-dashboard-master.tar.gz')}, 'octavia-dashboard-master.tar.gz')}, 'qinling-dashboard-master.tar.gz')}, 'sahara-dashboard-master.tar.gz')}, 'searchlight-ui-master.tar.gz')}, 'senlin-dashboard-master.tar.gz')}, 'solum-dashboard-master.tar.gz')}, 'tacker-horizon-master.tar.gz')}, 'trove-dashboard-master.tar.gz')}, 'vitrage-dashboard-master.tar.gz')}, 'watcher-dashboard-master.tar.gz')}, 'zaqar-ui-master.tar.gz')}, 'zun-ui-master.tar.gz')}, 'ironic-master.tar.gz')}, 'ironic-inspector-master.tar.gz')}, 'karbor-master.tar.gz')}, 'keystone-master.tar.gz')}, 'kuryr-master.tar.gz')}, 'kuryr-libnetwork-master.tar.gz')}, 'magnum-master.tar.gz')}, 'manila-master.tar.gz')}, 'masakari-master.tar.gz')}, 'masakari-monitors-master.tar.gz')}, 'mistral-master.tar.gz')}, 'tacker-master.tar.gz')}, 'monasca-agent-master.tar.gz')}, 'monasca-api-master.tar.gz')}, 'monasca-log-api-master.tar.gz')}, 'monasca-notification-master.tar.gz')}, 'monasca-persister-master.tar.gz')}, 'monasca-statsd-master.tar.gz')}, 'monasca-common-master.tar.gz')}, 'murano-master.tar.gz')}, 'neutron-master.tar.gz')}, 'neutron-fwaas-master.tar.gz')}, 'networking-ansible-master.tar.gz')}, 'networking-baremetal-master.tar.gz')}, 'networking-generic-switch-master.tar.gz')}, 'networking-sfc-master.tar.gz')}, 'vmware-nsx-master.tar.gz')}, 'neutron-vpnaas-master.tar.gz')}, 'neutron-dynamic-routing-master.tar.gz')}, 'networking-odl-master.tar.gz')}, 'networking-bgpvpn-master.tar.gz')}, 'networking-l2gw-master.tar.gz')}, 'networking-sfc-master.tar.gz')}, 'neutron-dynamic-routing-master.tar.gz')}, 'vmware-nsxlib-master.tar.gz')}, 'neutron-vpnaas-master.tar.gz')}, 'networking-ovn-master.tar.gz')}, 'networking-ovn-master.tar.gz')}, 'nova-master.tar.gz')}, 'blazar-nova-master.tar.gz')}, 'nova-mksproxy-master.tar.gz')}, 'novajoin-master.tar.gz')}, 'octavia-master.tar.gz')}, 'panko-master.tar.gz')}, 'placement-master.tar.gz')}, 'qinling-master.tar.gz')}, 'python-tempestconf-master.tar.gz')}, 'barbican-tempest-plugin-master.tar.gz')}, 'blazar-tempest-plugin-master.tar.gz')}, 'cinder-tempest-plugin-master.tar.gz')}, 'congress-tempest-plugin-master.tar.gz')}, 'ec2api-tempest-plugin-master.tar.gz')}, 'heat-tempest-plugin-master.tar.gz')}, 'ironic-tempest-plugin-master.tar.gz')}, 'keystone-tempest-plugin-master.tar.gz')}, 'magnum-tempest-plugin-master.tar.gz')}, 'manila-tempest-plugin-master.tar.gz')}, 'mistral-tempest-plugin-master.tar.gz')}, 'monasca-tempest-plugin-master.tar.gz')}, 'murano-tempest-plugin-master.tar.gz')}, 'neutron-tempest-plugin-master.tar.gz')}, 'patrole-master.tar.gz')}, 'telemetry-tempest-plugin-master.tar.gz')}, 'trove-tempest-plugin-master.tar.gz')}, 'vitrage-tempest-plugin-master.tar.gz')}, 'watcher-tempest-plugin-master.tar.gz')}, 'zaqar-tempest-plugin-master.tar.gz')}, 'rally-master.tar.gz')}, 'sahara-master.tar.gz')}, 'sahara-plugin-ambari-master.tar.gz')}, 'sahara-plugin-cdh-master.tar.gz')}, 'sahara-plugin-mapr-master.tar.gz')}, 'sahara-plugin-spark-master.tar.gz')}, 'sahara-plugin-storm-master.tar.gz')}, 'sahara-plugin-vanilla-master.tar.gz')}, 'searchlight-master.tar.gz')}, 'senlin-master.tar.gz')}, 'solum-master.tar.gz')}, 'swift-master.tar.gz')}, 'tacker-master.tar.gz')}, 'networking-sfc-master.tar.gz')}, 'tempest-master.tar.gz')}, 'trove-master.tar.gz')}, 'vitrage-master.tar.gz')}, 'watcher-master.tar.gz')}, 'zaqar-master.tar.gz')}, 'zun-master.tar.gz')}"," 'requirements-stable-train.tar.gz')}, 'almanach-4.1.0.tar.gz')}, 'aodh-9.0.0.tar.gz')}, 'barbican-9.0.0.tar.gz')}, 'bifrost-7.0.0.tar.gz')}, 'blazar-4.0.0.tar.gz')}, 'ceilometer-13.0.0.tar.gz')}, 'panko-7.0.0.tar.gz')}, 'cinder-15.0.0.tar.gz')}, 'openstack-congress-10.0.0.tar.gz')}, 'cloudkitty-11.0.0.tar.gz')}, 'openstack-cyborg-3.0.0.tar.gz')}, 'designate-9.0.0.tar.gz')}, 'dragonflow-3.0.0.tar.gz')}, 'ec2-api-9.0.0.tar.gz')}, 'freezer-api-7.2.0.tar.gz')}, 'freezer-7.2.0.tar.gz')}, 'glance-19.0.0.tar.gz')}, 'reference': '4.3.4', 'openstack-heat-13.0.0.tar.gz')}, 'horizon-16.0.0.tar.gz')}, 'blazar-dashboard-2.0.0.tar.gz')}, 'congress-dashboard-5.0.0.tar.gz')}, 'cloudkitty-dashboard-9.0.0.tar.gz')}, 'designate-dashboard-9.0.0.tar.gz')}, 'neutron-fwaas-dashboard-2.1.0.tar.gz')}, 'freezer-web-ui-7.2.0.tar.gz')}, 'heat-dashboard-2.0.0.tar.gz')}, 'ironic-ui-3.5.3.tar.gz')}, 'karbor-dashboard-1.3.0.tar.gz')}, 'magnum-ui-5.2.0.tar.gz')}, 'manila-ui-2.19.1.tar.gz')}, 'masakari-dashboard-1.0.0.tar.gz')}, 'mistral-dashboard-9.0.0.tar.gz')}, 'monasca-ui-1.17.0.tar.gz')}, 'murano-dashboard-8.0.0.tar.gz')}, 'neutron-vpnaas-dashboard-1.6.0.tar.gz')}, 'octavia-dashboard-4.0.0.tar.gz')}, 'qinling-dashboard-2.0.0.tar.gz')}, 'sahara-dashboard-11.0.0.tar.gz')}, 'searchlight-ui-7.0.0.tar.gz')}, 'senlin-dashboard-0.11.0.tar.gz')}, 'solum-dashboard-3.0.0.tar.gz')}, 'tacker-horizon-0.15.0.tar.gz')}, 'trove-dashboard-13.0.0.tar.gz')}, 'vitrage-dashboard-2.0.0.tar.gz')}, 'watcher-dashboard-2.0.0.tar.gz')}, 'zaqar-ui-7.0.0.tar.gz')}, 'zun-ui-4.0.0.tar.gz')}, 'ironic-13.0.1.tar.gz')}, 'ironic-inspector-9.2.0.tar.gz')}, 'karbor-1.4.0.tar.gz')}, 'keystone-16.0.0.tar.gz')}, 'kuryr-lib-1.1.1.tar.gz')}, 'kuryr-libnetwork-4.0.0.tar.gz')}, 'magnum-9.0.0.tar.gz')}, 'manila-9.0.0.tar.gz')}, 'masakari-8.0.0.tar.gz')}, 'masakari-monitors-8.0.0.tar.gz')}, 'mistral-9.0.0.tar.gz')}, 'tacker-2.0.0.tar.gz')}, 'monasca-agent-2.11.0.tar.gz')}, 'monasca-api-3.1.0.tar.gz')}, 'monasca-log-api-2.10.0.tar.gz')}, 'monasca-notification-1.18.0.tar.gz')}, 'monasca-persister-1.15.0.tar.gz')}, 'monasca-statsd-1.12.0.tar.gz')}, 'monasca-common-2.16.1.tar.gz')}, 'murano-8.0.0.tar.gz')}, 'neutron-15.0.0.tar.gz')}, 'neutron-fwaas-15.0.0.tar.gz')}, 'networking-ansible-1.1.0.tar.gz')}, 'networking-baremetal-1.4.0.tar.gz')}, 'networking-generic-switch-2.1.0.tar.gz')}, 'networking-sfc-9.0.0.tar.gz')}, 'vmware-nsx-14.0.0.tar.gz')}, 'neutron-vpnaas-15.0.0.tar.gz')}, 'neutron-dynamic-routing-15.0.0.tar.gz')}, 'networking-odl-15.0.0.tar.gz')}, 'networking-bgpvpn-11.0.0.tar.gz')}, 'networking-l2gw-15.0.0.tar.gz')}, 'networking-sfc-9.0.0.tar.gz')}, 'neutron-dynamic-routing-15.0.0.tar.gz')}, 'vmware-nsxlib-14.0.3.tar.gz')}, 'neutron-vpnaas-15.0.0.tar.gz')}, 'networking-ovn-7.0.0.tar.gz')}, 'networking-ovn-7.0.0.tar.gz')}, 'nova-20.0.0.tar.gz')}, 'blazar-nova-1.3.0.tar.gz')}, 'nova-mksproxy-0.0.2.tar.gz')}, 'novajoin-1.2.0.tar.gz')}, 'octavia-5.0.0.tar.gz')}, 'panko-7.0.0.tar.gz')}, 'openstack-placement-2.0.0.tar.gz')}, 'qinling-3.0.0.tar.gz')}, 'python-tempestconf-2.3.0.tar.gz')}, 'barbican_tempest_plugin-0.3.0.tar.gz')}, 'blazar_tempest_plugin-0.3.0.tar.gz')}, 'cinder-tempest-plugin-0.3.0.tar.gz')}, 'congress-tempest-plugin-0.3.0.tar.gz')}, 'ec2api-tempest-plugin-0.3.0.tar.gz')}, 'heat-tempest-plugin-0.4.0.tar.gz')}, 'ironic-tempest-plugin-1.5.1.tar.gz')}, 'keystone_tempest_plugin-0.3.0.tar.gz')}, 'magnum_tempest_plugin-0.3.0.tar.gz')}, 'manila-tempest-plugin-0.4.1.tar.gz')}, 'mistral_tempest_tests-0.3.0.tar.gz')}, 'monasca-tempest-plugin-1.1.0.tar.gz')}, 'murano-tempest-plugin-1.1.0.tar.gz')}, 'neutron-tempest-plugin-0.6.0.tar.gz')}, 'patrole-0.7.0.tar.gz')}, 'telemetry_tempest_plugin-0.4.0.tar.gz')}, 'trove_tempest_plugin-0.3.0.tar.gz')}, 'vitrage-tempest-plugin-3.0.0.tar.gz')}, 'watcher-tempest-plugin-1.2.0.tar.gz')}, 'zaqar_tempest_plugin-0.3.0.tar.gz')}, 'rally-2.0.0.tar.gz')}, 'sahara-11.0.0.tar.gz')}, 'sahara-plugin-ambari-2.0.0.tar.gz')}, 'sahara-plugin-cdh-2.0.0.tar.gz')}, 'sahara-plugin-mapr-2.0.0.tar.gz')}, 'sahara-plugin-spark-2.0.0.tar.gz')}, 'sahara-plugin-storm-2.0.0.tar.gz')}, 'sahara-plugin-vanilla-2.0.0.tar.gz')}, 'searchlight-7.0.0.tar.gz')}, 'senlin-8.0.0.tar.gz')}, 'solum-7.0.0.tar.gz')}, 'swift-2.23.0.tar.gz')}, 'tacker-2.0.0.tar.gz')}, 'networking-sfc-9.0.0.tar.gz')}, 'tempest-22.1.0.tar.gz')}, 'trove-12.0.0.tar.gz')}, 'vitrage-5.0.1.tar.gz')}, 'python-watcher-3.0.0.tar.gz')}, 'zaqar-9.0.0.tar.gz')}, 'zun-4.0.0.tar.gz')}",136,136
openstack%2Fkeystone~stable%2Fqueens~If1bf5bd785a494923303265797311d42018ba7af,openstack/keystone,stable/queens,If1bf5bd785a494923303265797311d42018ba7af,Allows to use application credentials through group membership,MERGED,2019-11-13 15:31:41.000000000,2019-11-14 17:06:50.000000000,2019-11-14 17:04:47.000000000,"[{'_account_id': 1955}, {'_account_id': 5575}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 15:31:41.000000000', 'files': ['keystone/token/providers/common.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1773967-b59517a09e0e6141.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/578be15629a84d1edcfda546a93b7ccbb6959720', 'message': 'Allows to use application credentials through group membership\n\nWhen using role assignment through groups, the user cannot use\nthe application credentials created. This allows to look up\nthe membership by checking inherited and group assignments.\n\nConflicts:\n    This change conflicts with newer branches because most of the\n    logic in keystone/token/providers/common.py was refactored into\n    keystone/models/token_model.py during the Rocky release. This\n    refactor causes the stable/queens version to diverge from\n    stable/rocky, stable/stein, and stable/train patches, although it\n    is functionally equivalent to the approach used in later releases.\n\nChange-Id: If1bf5bd785a494923303265797311d42018ba7af\nCloses-Bug: #1773967\n(cherry picked from commit 14b25bc5d18842210cfffe1afdca475e848b84aa)\n(cherry picked from commit 933ea511d150ed2cbbd4265fc7513a9b3435baa2)\n(cherry picked from commit cf83fc10569e7b52eeb52c0e164dfe36daeec309)\n'}]",0,694096,578be15629a84d1edcfda546a93b7ccbb6959720,10,6,1,5046,,,0,"Allows to use application credentials through group membership

When using role assignment through groups, the user cannot use
the application credentials created. This allows to look up
the membership by checking inherited and group assignments.

Conflicts:
    This change conflicts with newer branches because most of the
    logic in keystone/token/providers/common.py was refactored into
    keystone/models/token_model.py during the Rocky release. This
    refactor causes the stable/queens version to diverge from
    stable/rocky, stable/stein, and stable/train patches, although it
    is functionally equivalent to the approach used in later releases.

Change-Id: If1bf5bd785a494923303265797311d42018ba7af
Closes-Bug: #1773967
(cherry picked from commit 14b25bc5d18842210cfffe1afdca475e848b84aa)
(cherry picked from commit 933ea511d150ed2cbbd4265fc7513a9b3435baa2)
(cherry picked from commit cf83fc10569e7b52eeb52c0e164dfe36daeec309)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/96/694096/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/token/providers/common.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1773967-b59517a09e0e6141.yaml']",3,578be15629a84d1edcfda546a93b7ccbb6959720,,--- fixes: - | [`bug 1773967 <https://bugs.launchpad.net/keystone/+bug/1773967>`_] Fixes an issue where users who had role assignments only via a group membership and not via direct assignment could create but not use application credentials. It is important to note that federated users who only have role assignments via a mapped group membership still cannot create application credentials. ,,51,9
openstack%2Fnova~stable%2Frocky~I985b870759d6c21ef9357b04f39099c02354f135,openstack/nova,stable/rocky,I985b870759d6c21ef9357b04f39099c02354f135,doc: fix and clarify --block-device usage in user docs,MERGED,2019-11-08 15:48:17.000000000,2019-11-14 16:56:34.000000000,2019-11-14 01:17:08.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-08 15:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/525486b95d276f5be13c9eeb797de304e5cd88c9', 'message': 'doc: fix and clarify --block-device usage in user docs\n\nThe docs on create a volume-backed server from the command\nline were wrong in a few ways:\n\n* The openstack server create command does not currently allow\n  booting from a volume where a source image is provided and\n  nova creates the volume from the image and uses that volume\n  as the root disk. The nova boot command supports that, so the\n  docs are updated to call out the nova boot command since that\n  is the appropriate command in this case (even the syntax with\n  the openstack server create --block-device was wrong).\n\n* When creating a server from a bootable volume with the OSC CLI,\n  either the --volume or --block-device options should be used\n  for a single volume, but not both. The docs were using both, so\n  the latter is dropped and a note is added which links to the CLI\n  documentation for more details on --block-device option usage.\n\nChange-Id: I985b870759d6c21ef9357b04f39099c02354f135\nCloses-Bug: #1794827\n(cherry picked from commit 16027094ebabc5cd9f2e766431f18aadeff54a40)\n'}, {'number': 2, 'created': '2019-11-08 15:49:29.000000000', 'files': ['doc/source/user/launch-instance-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a6d0e943443a9cdd9b56aa9a93768d05e4dde0e', 'message': 'doc: fix and clarify --block-device usage in user docs\n\nThe docs on create a volume-backed server from the command\nline were wrong in a few ways:\n\n* The openstack server create command does not currently allow\n  booting from a volume where a source image is provided and\n  nova creates the volume from the image and uses that volume\n  as the root disk. The nova boot command supports that, so the\n  docs are updated to call out the nova boot command since that\n  is the appropriate command in this case (even the syntax with\n  the openstack server create --block-device was wrong).\n\n* When creating a server from a bootable volume with the OSC CLI,\n  either the --volume or --block-device options should be used\n  for a single volume, but not both. The docs were using both, so\n  the latter is dropped and a note is added which links to the CLI\n  documentation for more details on --block-device option usage.\n\nChange-Id: I985b870759d6c21ef9357b04f39099c02354f135\nCloses-Bug: #1794827\n(cherry picked from commit 16027094ebabc5cd9f2e766431f18aadeff54a40)\n'}]",0,693554,6a6d0e943443a9cdd9b56aa9a93768d05e4dde0e,11,4,2,6873,,,0,"doc: fix and clarify --block-device usage in user docs

The docs on create a volume-backed server from the command
line were wrong in a few ways:

* The openstack server create command does not currently allow
  booting from a volume where a source image is provided and
  nova creates the volume from the image and uses that volume
  as the root disk. The nova boot command supports that, so the
  docs are updated to call out the nova boot command since that
  is the appropriate command in this case (even the syntax with
  the openstack server create --block-device was wrong).

* When creating a server from a bootable volume with the OSC CLI,
  either the --volume or --block-device options should be used
  for a single volume, but not both. The docs were using both, so
  the latter is dropped and a note is added which links to the CLI
  documentation for more details on --block-device option usage.

Change-Id: I985b870759d6c21ef9357b04f39099c02354f135
Closes-Bug: #1794827
(cherry picked from commit 16027094ebabc5cd9f2e766431f18aadeff54a40)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/693554/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/launch-instance-from-volume.rst'],1,525486b95d276f5be13c9eeb797de304e5cd88c9,bug/1851425," this volume, use the ``--block-device`` parameter with the ``nova boot`` command. $ nova boot --flavor FLAVOR --block-device \ See the `nova boot`_ command documentation and :doc:`block-device-mapping` for more details on these parameters. .. note:: As of the Stein release, the ``openstack server create`` command does not support creating a volume-backed server from a source image like the ``nova boot`` command. The next steps will show how to create a bootable volume from an image and then create a server from that boot volume using the ``openstack server create`` command. .. note:: The example here uses the ``--volume`` option for simplicity. The ``--block-device`` option could also be used for more granular control over the parameters. See the `openstack server create`_ documentation for details. $ openstack server create --flavor 2 --volume VOLUME_ID myInstanceFromVolume.. _nova boot: https://docs.openstack.org/python-novaclient/latest/cli/nova.html#nova-boot .. _openstack server create: https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/server.html#server-create "," this volume, use the ``--block-device`` parameter. $ openstack server create --flavor FLAVOR --block-device \ See :doc:`block-device-mapping` for more details on these parameters. $ openstack server create --flavor 2 --volume VOLUME_ID \ --block-device source=volume,id=$VOLUME_ID,dest=volume,size=10,shutdown=preserve,bootindex=0 \ myInstanceFromVolume",20,6
openstack%2Fmonasca-api~master~I7094af8567d42d7c2696d11b282a7865d1471ca5,openstack/monasca-api,master,I7094af8567d42d7c2696d11b282a7865d1471ca5,Increase the number of open files descriptors,ABANDONED,2019-11-14 15:53:54.000000000,2019-11-14 16:49:48.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 15:53:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/245712451b489f40f85360d3390203358c97d283', 'message': 'Increase the number of open files descriptors\n\nChange-Id: I7094af8567d42d7c2696d11b282a7865d1471ca5\n'}]",0,694335,245712451b489f40f85360d3390203358c97d283,4,2,1,16222,,,0,"Increase the number of open files descriptors

Change-Id: I7094af8567d42d7c2696d11b282a7865d1471ca5
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/35/694335/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,245712451b489f40f85360d3390203358c97d283,merge-api-devstack, ULIMIT_NOFILE: 65535 ULIMIT_NOFILE: 65535 ULIMIT_NOFILE: 65535,,3,0
openstack%2Freleases~master~If2f9a8e6d01bf89042be8e85d7b1328cec4a0ef1,openstack/releases,master,If2f9a8e6d01bf89042be8e85d7b1328cec4a0ef1,Transition TripleO to Queens EM,MERGED,2019-10-25 14:05:24.000000000,2019-11-14 16:44:40.000000000,2019-11-14 16:44:40.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28471}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-25 14:05:24.000000000', 'files': ['deliverables/queens/python-tripleoclient.yaml', 'deliverables/queens/tripleo-ipsec.yaml', 'deliverables/queens/tripleo-image-elements.yaml', 'deliverables/queens/tripleo-ui.yaml', 'deliverables/queens/os-apply-config.yaml', 'deliverables/queens/tripleo-common.yaml', 'deliverables/queens/instack-undercloud.yaml', 'deliverables/queens/os-net-config.yaml', 'deliverables/queens/instack.yaml', 'deliverables/queens/tripleo-puppet-elements.yaml', 'deliverables/queens/os-collect-config.yaml', 'deliverables/queens/os-refresh-config.yaml', 'deliverables/queens/puppet-tripleo.yaml', 'deliverables/queens/tripleo-validations.yaml', 'deliverables/queens/paunch.yaml', 'deliverables/queens/tripleo-heat-templates.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1c099747efee246330541cdf3fdb5b07d863bc16', 'message': 'Transition TripleO to Queens EM\n\nChange-Id: If2f9a8e6d01bf89042be8e85d7b1328cec4a0ef1\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,691354,1c099747efee246330541cdf3fdb5b07d863bc16,16,10,1,11904,,,0,"Transition TripleO to Queens EM

Change-Id: If2f9a8e6d01bf89042be8e85d7b1328cec4a0ef1
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/691354/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/python-tripleoclient.yaml', 'deliverables/queens/tripleo-ipsec.yaml', 'deliverables/queens/tripleo-image-elements.yaml', 'deliverables/queens/tripleo-ui.yaml', 'deliverables/queens/os-apply-config.yaml', 'deliverables/queens/tripleo-common.yaml', 'deliverables/queens/instack-undercloud.yaml', 'deliverables/queens/os-net-config.yaml', 'deliverables/queens/instack.yaml', 'deliverables/queens/tripleo-puppet-elements.yaml', 'deliverables/queens/os-collect-config.yaml', 'deliverables/queens/os-refresh-config.yaml', 'deliverables/queens/puppet-tripleo.yaml', 'deliverables/queens/tripleo-validations.yaml', 'deliverables/queens/paunch.yaml', 'deliverables/queens/tripleo-heat-templates.yaml']",16,1c099747efee246330541cdf3fdb5b07d863bc16,queens-em, - version: queens-em projects: - repo: openstack/tripleo-heat-templates hash: 80a67e6c8f81888bf01782e2746e4bb9ede5a1d0,,64,0
openstack%2Freleases~master~Ieadcc984bad26b5c35b2c9f58ff28ef570f8763a,openstack/releases,master,Ieadcc984bad26b5c35b2c9f58ff28ef570f8763a,Transition OpenStackAnsible to Queens EM,MERGED,2019-10-25 14:04:14.000000000,2019-11-14 16:44:37.000000000,2019-11-14 16:44:37.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-25 14:04:14.000000000', 'files': ['deliverables/queens/openstack-ansible-roles.yaml', 'deliverables/queens/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d90229dbf98f548298f640e8db0571e45207efb5', 'message': 'Transition OpenStackAnsible to Queens EM\n\nChange-Id: Ieadcc984bad26b5c35b2c9f58ff28ef570f8763a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,691318,d90229dbf98f548298f640e8db0571e45207efb5,13,7,1,11904,,,0,"Transition OpenStackAnsible to Queens EM

Change-Id: Ieadcc984bad26b5c35b2c9f58ff28ef570f8763a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/691318/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/openstack-ansible-roles.yaml', 'deliverables/queens/openstack-ansible.yaml']",2,d90229dbf98f548298f640e8db0571e45207efb5,queens-em, - version: queens-em projects: - repo: openstack/openstack-ansible hash: 6ba95e889a312bf9f6214d1e7f76f78ae54edf20,,86,0
openstack%2Fmonasca-agent~master~Id95cc7115823f972e234417223ab5906b57447cc,openstack/monasca-agent,master,Id95cc7115823f972e234417223ab5906b57447cc,add X.509 certificate check plugin,MERGED,2019-10-23 06:52:49.000000000,2019-11-14 16:41:55.000000000,2019-11-14 16:41:55.000000000,"[{'_account_id': 1916}, {'_account_id': 10311}, {'_account_id': 12542}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 06:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ae1599cec2a7a2f75e8d0b504a881b47271d0b5d', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n""}, {'number': 2, 'created': '2019-10-23 06:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/3eaf10db328c261b30b56cacbd7fb7c8a3c5f9bd', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n""}, {'number': 3, 'created': '2019-10-23 17:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/eef02af3f703c9385fe23c260248db6673521965', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n""}, {'number': 4, 'created': '2019-10-23 19:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ac4ee4ca47c74fc7aea73ee5f07b8a05d89a01c6', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n""}, {'number': 5, 'created': '2019-10-23 20:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/2f36e1e675859d591ff51ab3fdbd1c3704744e00', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n""}, {'number': 6, 'created': '2019-10-29 17:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/c0534f432300a4d8ee687a20187789090caff1aa', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n""}, {'number': 7, 'created': '2019-10-30 21:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ab2f6c265118a3655dfaa436ccf60141387484ff', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n""}, {'number': 8, 'created': '2019-10-31 18:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/302f53bae36e07f783ad302c18f0cf6ce0ee49a9', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n""}, {'number': 9, 'created': '2019-11-13 16:36:13.000000000', 'files': ['test-requirements.txt', 'monasca_setup/detection/plugins/cert_file_check.py', 'tests/detection/test_cert_file_check.py', 'docs/Plugins.md', 'setup.cfg', 'tests/checks_d/test_cert_file_check.py', 'monasca_agent/collector/checks_d/cert_file_check.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/e1d73c4b5de577e663084bda9d3f5185c433af84', 'message': ""add X.509 certificate check plugin\n\nCurrently we don't have any capability to monitor the internal TLS/SSL\ncertificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for\ndistribution, etc. The cert_check plugin is not adequate for this purpose\nbecaue it can only check on certficates over HTTPS endpoints. Furthermore,\nchecking on these internal certificates over the network is cumbersome\nbecause the agent plugin would have to speak specific protocols.\n\nThis patch adds a cert_file_check plugin to detect the certificate expiry\n(in days from now) for the given X.509 certificate file in PEM format.\nSimilar to cert_check plugin, this plugin will a metric\n'cert_file.cert_expire_days' which contains the number of days from now the\ngiven certificate will be expired. If the certificate has already expired,\nthis will be a negative number.\n\nChange-Id: Id95cc7115823f972e234417223ab5906b57447cc\nStory: 2006753\n""}]",33,690477,e1d73c4b5de577e663084bda9d3f5185c433af84,38,6,9,1916,,,0,"add X.509 certificate check plugin

Currently we don't have any capability to monitor the internal TLS/SSL
certificates. i.e. SSL certificates used by MySQL for replication, RabbitMQ for
distribution, etc. The cert_check plugin is not adequate for this purpose
becaue it can only check on certficates over HTTPS endpoints. Furthermore,
checking on these internal certificates over the network is cumbersome
because the agent plugin would have to speak specific protocols.

This patch adds a cert_file_check plugin to detect the certificate expiry
(in days from now) for the given X.509 certificate file in PEM format.
Similar to cert_check plugin, this plugin will a metric
'cert_file.cert_expire_days' which contains the number of days from now the
given certificate will be expired. If the certificate has already expired,
this will be a negative number.

Change-Id: Id95cc7115823f972e234417223ab5906b57447cc
Story: 2006753
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/77/690477/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'monasca_setup/detection/plugins/cert_file_check.py', 'tests/detection/test_cert_file_check.py', 'docs/Plugins.md', 'monasca_agent/collector/checks_d/cert_file_check.py', 'tests/checks_d/test_cert_file_check.py']",6,ae1599cec2a7a2f75e8d0b504a881b47271d0b5d,cert_file_check,"# Copyright 2019 SUSE LLC # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime import logging import mock import os import shutil import tempfile import unittest from cryptography import x509 from cryptography.x509.oid import NameOID from cryptography.hazmat.primitives import hashes from cryptography.hazmat.backends import default_backend from cryptography.hazmat.primitives import serialization from cryptography.hazmat.primitives.asymmetric import rsa from monasca_agent.collector.checks_d import cert_file_check LOG = logging.getLogger('monasca_agent.collector.checks.check.cert_file_check') def generate_selfsigned_cert(expired_in): key = rsa.generate_private_key( public_exponent=65537, key_size=1024, backend=default_backend() ) issuer = subject = x509.Name([ x509.NameAttribute(NameOID.COMMON_NAME, u'foo') ]) now = datetime.datetime.utcnow() cert = ( x509.CertificateBuilder() .subject_name(issuer) .issuer_name(subject) .public_key(key.public_key()) .serial_number(1) .not_valid_before(now - datetime.timedelta(days=1)) .not_valid_after(now + datetime.timedelta(days=expired_in)) .sign(key, hashes.SHA256(), default_backend()) ) cert_pem = cert.public_bytes(encoding=serialization.Encoding.PEM) return cert_pem class TestCertificateFileCheck(unittest.TestCase): def setUp(self): super(TestCertificateFileCheck, self).setUp() self.cert_file_check_obj = cert_file_check.CertificateFileCheck( name='cert_file_check', init_config={}, instances=[], agent_config={} ) def test_unable_to_read_file(self): tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') try: bogus_cert_file = os.path.join(tmp_certdir, 'foo') with mock.patch.object(LOG, 'warning') as mock_log: self.cert_file_check_obj.check({'cert_file': bogus_cert_file}) mock_log.assert_called_with( 'Unable to read certificate from %s' % (bogus_cert_file)) finally: shutil.rmtree(tmp_certdir) def test_unable_to_load_file(self): tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') try: bogus_cert_file = os.path.join(tmp_certdir, 'foo') # create a non-PEM formatted certificate file with open(bogus_cert_file, 'w') as f: f.write('foo') with mock.patch.object(LOG, 'warning') as mock_log: self.cert_file_check_obj.check({'cert_file': bogus_cert_file}) mock_log.assert_called_with( 'Unable to load certificate from %s. Invalid content.' % ( bogus_cert_file)) finally: shutil.rmtree(tmp_certdir) def test_check(self): tmp_certdir = tempfile.mkdtemp(prefix='test-cert-file-check-') try: bogus_cert_file = os.path.join(tmp_certdir, 'foo') # create a self-signed cert that expires in 10 days from now with open(bogus_cert_file, 'w') as f: f.write(generate_selfsigned_cert(10)) with mock.patch.object(cert_file_check.CertificateFileCheck, 'gauge') as mock_gauge: self.cert_file_check_obj.check({'cert_file': bogus_cert_file}) args, kwargs = mock_gauge.call_args # make sure the plugin correctly detect the given cert will be # expiring 10 days from now self.assertEqual('cert_file.cert_expire_days', args[0]) self.assertEqual(10, args[1]) finally: shutil.rmtree(tmp_certdir) ",,371,0
openstack%2Freleases~master~I7d23ce344fc48e8f6fead367314327de61ea7925,openstack/releases,master,I7d23ce344fc48e8f6fead367314327de61ea7925,Transition Puppet to Queens EM,MERGED,2019-10-25 14:05:04.000000000,2019-11-14 16:40:38.000000000,2019-11-14 16:40:38.000000000,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 14:05:04.000000000', 'files': ['deliverables/queens/puppet-monasca.yaml', 'deliverables/queens/puppet-freezer.yaml', 'deliverables/queens/puppet-heat.yaml', 'deliverables/queens/puppet-rally.yaml', 'deliverables/queens/puppet-ceilometer.yaml', 'deliverables/queens/puppet-glance.yaml', 'deliverables/queens/puppet-cinder.yaml', 'deliverables/queens/puppet-horizon.yaml', 'deliverables/queens/puppet-openstack_extras.yaml', 'deliverables/queens/puppet-sahara.yaml', 'deliverables/queens/puppet-qdr.yaml', 'deliverables/queens/puppet-tempest.yaml', 'deliverables/queens/puppet-vswitch.yaml', 'deliverables/queens/puppet-oslo.yaml', 'deliverables/queens/puppet-trove.yaml', 'deliverables/queens/puppet-keystone.yaml', 'deliverables/queens/puppet-octavia.yaml', 'deliverables/queens/puppet-gnocchi.yaml', 'deliverables/queens/puppet-manila.yaml', 'deliverables/queens/puppet-openstacklib.yaml', 'deliverables/queens/puppet-mistral.yaml', 'deliverables/queens/puppet-swift.yaml', 'deliverables/queens/puppet-cloudkitty.yaml', 'deliverables/queens/puppet-glare.yaml', 'deliverables/queens/puppet-magnum.yaml', 'deliverables/queens/puppet-nova.yaml', 'deliverables/queens/puppet-ovn.yaml', 'deliverables/queens/puppet-tacker.yaml', 'deliverables/queens/puppet-aodh.yaml', 'deliverables/queens/puppet-congress.yaml', 'deliverables/queens/puppet-watcher.yaml', 'deliverables/queens/puppet-zaqar.yaml', 'deliverables/queens/puppet-ironic.yaml', 'deliverables/queens/puppet-panko.yaml', 'deliverables/queens/puppet-murano.yaml', 'deliverables/queens/puppet-designate.yaml', 'deliverables/queens/puppet-vitrage.yaml', 'deliverables/queens/puppet-barbican.yaml', 'deliverables/queens/puppet-ec2api.yaml', 'deliverables/queens/puppet-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1c86b105841e8f9f5e660ce496a434be5de4e859', 'message': 'Transition Puppet to Queens EM\n\nChange-Id: I7d23ce344fc48e8f6fead367314327de61ea7925\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,691344,1c86b105841e8f9f5e660ce496a434be5de4e859,12,5,1,11904,,,0,"Transition Puppet to Queens EM

Change-Id: I7d23ce344fc48e8f6fead367314327de61ea7925
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/691344/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/puppet-monasca.yaml', 'deliverables/queens/puppet-freezer.yaml', 'deliverables/queens/puppet-heat.yaml', 'deliverables/queens/puppet-rally.yaml', 'deliverables/queens/puppet-ceilometer.yaml', 'deliverables/queens/puppet-glance.yaml', 'deliverables/queens/puppet-cinder.yaml', 'deliverables/queens/puppet-horizon.yaml', 'deliverables/queens/puppet-openstack_extras.yaml', 'deliverables/queens/puppet-sahara.yaml', 'deliverables/queens/puppet-qdr.yaml', 'deliverables/queens/puppet-tempest.yaml', 'deliverables/queens/puppet-vswitch.yaml', 'deliverables/queens/puppet-oslo.yaml', 'deliverables/queens/puppet-trove.yaml', 'deliverables/queens/puppet-keystone.yaml', 'deliverables/queens/puppet-octavia.yaml', 'deliverables/queens/puppet-gnocchi.yaml', 'deliverables/queens/puppet-manila.yaml', 'deliverables/queens/puppet-openstacklib.yaml', 'deliverables/queens/puppet-mistral.yaml', 'deliverables/queens/puppet-swift.yaml', 'deliverables/queens/puppet-cloudkitty.yaml', 'deliverables/queens/puppet-glare.yaml', 'deliverables/queens/puppet-magnum.yaml', 'deliverables/queens/puppet-nova.yaml', 'deliverables/queens/puppet-ovn.yaml', 'deliverables/queens/puppet-tacker.yaml', 'deliverables/queens/puppet-aodh.yaml', 'deliverables/queens/puppet-congress.yaml', 'deliverables/queens/puppet-watcher.yaml', 'deliverables/queens/puppet-zaqar.yaml', 'deliverables/queens/puppet-ironic.yaml', 'deliverables/queens/puppet-panko.yaml', 'deliverables/queens/puppet-murano.yaml', 'deliverables/queens/puppet-designate.yaml', 'deliverables/queens/puppet-vitrage.yaml', 'deliverables/queens/puppet-barbican.yaml', 'deliverables/queens/puppet-ec2api.yaml', 'deliverables/queens/puppet-neutron.yaml']",40,1c86b105841e8f9f5e660ce496a434be5de4e859,queens-em, - version: queens-em projects: - repo: openstack/puppet-neutron hash: d924fa0ab73b1038026282679831a314f62f8576,,162,2
openstack%2Fmonasca-api~master~Ief517a9c632b219ba7066a217725221846b5ff9c,openstack/monasca-api,master,Ief517a9c632b219ba7066a217725221846b5ff9c,add cassandra support,NEW,2019-06-11 02:06:30.000000000,2019-11-14 16:39:06.000000000,,"[{'_account_id': 10068}, {'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-06-11 02:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5c42c113e066750fc51e968316cdcda48e76e79a', 'message': 'add cassandra support\n\nChange-Id: Ief517a9c632b219ba7066a217725221846b5ff9c\n'}, {'number': 2, 'created': '2019-07-01 13:24:48.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/007347706a3ab8dcbb086c555fd7ca49a70008e2', 'message': 'add cassandra support\n\nChange-Id: Ief517a9c632b219ba7066a217725221846b5ff9c\n'}]",0,664482,007347706a3ab8dcbb086c555fd7ca49a70008e2,13,6,2,30571,,,0,"add cassandra support

Change-Id: Ief517a9c632b219ba7066a217725221846b5ff9c
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/82/664482/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,5c42c113e066750fc51e968316cdcda48e76e79a,,"ARG EXTRA_DEPS=""gunicorn gevent==1.3.5 python-memcached influxdb cassandra""","ARG EXTRA_DEPS=""gunicorn gevent==1.3.5 python-memcached influxdb""",1,1
openstack%2Fcharm-mysql-innodb-cluster~master~I80cfe5be83a2f95b90fd88cbfe82ecda22a021ec,openstack/charm-mysql-innodb-cluster,master,I80cfe5be83a2f95b90fd88cbfe82ecda22a021ec,MySQL dump action,MERGED,2019-11-08 22:18:56.000000000,2019-11-14 16:22:08.000000000,2019-11-14 16:22:08.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 22:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a746d56db025933f7343c728960fc66b8f1312af', 'message': 'MySQL dump action\n\nAction to run mysqldump against specified databases or all databases.\n\nChange-Id: I80cfe5be83a2f95b90fd88cbfe82ecda22a021ec\n'}, {'number': 2, 'created': '2019-11-12 22:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ed851362f1c4fb6c216dcec22f6a209709f90cb9', 'message': 'MySQL dump action\n\nAction to run mysqldump against specified databases or all databases.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/121\nChange-Id: I80cfe5be83a2f95b90fd88cbfe82ecda22a021ec\n'}, {'number': 3, 'created': '2019-11-13 16:53:46.000000000', 'files': ['src/actions/mysqldump', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/730b057923ca6f1c9d826abbd99b368d34807543', 'message': 'MySQL dump action\n\nAction to run mysqldump against specified databases or all databases.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/121\nChange-Id: I80cfe5be83a2f95b90fd88cbfe82ecda22a021ec\n'}]",5,693594,730b057923ca6f1c9d826abbd99b368d34807543,21,5,3,20805,,,0,"MySQL dump action

Action to run mysqldump against specified databases or all databases.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/121
Change-Id: I80cfe5be83a2f95b90fd88cbfe82ecda22a021ec
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/94/693594/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions/mysqldump', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py']",5,a746d56db025933f7343c728960fc66b8f1312af,feature/mysqldump,"def mysqldump(args): basedir = (ch_core.hookenv.action_get(""basedir"")) databases = (ch_core.hookenv.action_get(""databases"")) try: with charm.provide_charm_instance() as instance: filename = instance.mysqldump(basedir, databases=databases) ch_core.hookenv.action_set({ ""mysqldump-file"": filename, ""outcome"": ""Success""} ) except subprocess.CalledProcessError as e: ch_core.hookenv.action_set({ ""output"": e.output, ""return-code"": e.returncode, ""traceback"": traceback.format_exc()}) ch_core.hookenv.action_fail(""mysqldump failed"") ACTIONS = {""mysqldump"": mysqldump, ""cluster-status"": cluster_status}","from time import gmtime, strftime ""time-completed"": (strftime(""%Y-%m-%d %H:%M:%S"", gmtime())),ACTIONS = {""cluster-status"": cluster_status}",131,3
openstack%2Foslo.utils~stable%2Frocky~Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,openstack/oslo.utils,stable/rocky,Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,"Make mask_password case insensitive, and add new patterns",MERGED,2019-11-05 10:13:14.000000000,2019-11-14 16:04:47.000000000,2019-11-14 16:03:42.000000000,"[{'_account_id': 6928}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-05 10:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ece38ee69fd9f9e0d72fe2ddfbde4d9a1270f003', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n""}, {'number': 2, 'created': '2019-11-05 10:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/22e3df301abd7d114f3fd94c95827b5db1f0f155', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit eb77609bf4f8cc3b23a2d4addb5d4cecc3e7fb5b)\n""}, {'number': 3, 'created': '2019-11-05 11:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/8caea60c787fe17a9776ea8f1a2f25e96ae7b4a9', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit b41268417cecb12d1d5955ee3107067edf050221)\n""}, {'number': 4, 'created': '2019-11-13 10:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/34008a22132d982bb561f63b62aa285cad819a95', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n""}, {'number': 5, 'created': '2019-11-13 10:50:28.000000000', 'files': ['releasenotes/notes/mask-password-patterns-f41524069b8ae488.yaml', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/95f1b88c90ba0654e1353669b8b0f1d170391a25', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit b41268417cecb12d1d5955ee3107067edf050221)\n""}]",1,692972,95f1b88c90ba0654e1353669b8b0f1d170391a25,20,5,5,9712,,,0,"Make mask_password case insensitive, and add new patterns

It appears that Mistral service logs everything, and doesn't use yet
the mask_password (nor mask_dict_password) method. In order to ensure
all is properly masked, we have to add some new patterns, and make it
case insensitive in order to simplify and avoid duplicated entries.

Change-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d
Related-Bug: #1850843
Signed-off-by: Cdric Jeanneret <cjeanner@redhat.com>
(cherry picked from commit b41268417cecb12d1d5955ee3107067edf050221)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/72/692972/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mask-password-patterns-f41524069b8ae488.yaml', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py']",3,ece38ee69fd9f9e0d72fe2ddfbde4d9a1270f003,bug/1850843," 'CHAPPASSWORD', 'encrypted_key', 'private_key', 'encryption_key_id', 'fernetkey', 'sslkey', 'passphrase']_FORMAT_PATTERNS_1 = [r'(%(key)s[0-9]*\s*[=]\s*)[^\s^\'^\""]+'] _FORMAT_PATTERNS_2 = [r'(%(key)s[0-9]*\s*[=]\s*[\""\'])[^\""\']*([\""\'])', r'(%(key)s[0-9]*\s+[\""\'])[^\""\']*([\""\'])', r'([-]{2}%(key)s[0-9]*\s+)[^\'^\""^=^\s]+([\s]*)', r'(<%(key)s[0-9]*>)[^<]*(</%(key)s[0-9]*>)', r'([\""\']%(key)s[0-9]*[\""\']\s*:\s*[\""\'])[^\""\']*' '([\""\'])', r'([\'""][^""\']*%(key)s[0-9]*[\'""]\s*:\s*u?[\'""])[^\""\']*' r'([\'""][^\'""]*%(key)s[0-9]*[\'""]\s*,\s*\'--?[A-z]+' '\'\s*,\s*u?[\'""])[^\""\']*([\'""])', r'(%(key)s[0-9]*\s*--?[A-z]+\s*)\S+(\s*)'] reg_ex = re.compile(pattern % {'key': key}, re.DOTALL|re.IGNORECASE) reg_ex = re.compile(pattern % {'key': key}, re.DOTALL|re.IGNORECASE) if key.lower() in message.lower():"," 'CHAPPASSWORD', 'encrypted_key', 'private_key']_FORMAT_PATTERNS_1 = [r'(%(key)s\s*[=]\s*)[^\s^\'^\""]+'] _FORMAT_PATTERNS_2 = [r'(%(key)s\s*[=]\s*[\""\'])[^\""\']*([\""\'])', r'(%(key)s\s+[\""\'])[^\""\']*([\""\'])', r'([-]{2}%(key)s\s+)[^\'^\""^=^\s]+([\s]*)', r'(<%(key)s>)[^<]*(</%(key)s>)', r'([\""\']%(key)s[\""\']\s*:\s*[\""\'])[^\""\']*([\""\'])', r'([\'""][^""\']*%(key)s[\'""]\s*:\s*u?[\'""])[^\""\']*' r'([\'""][^\'""]*%(key)s[\'""]\s*,\s*\'--?[A-z]+\'\s*,\s*u?' '[\'""])[^\""\']*([\'""])', r'(%(key)s\s*--?[A-z]+\s*)\S+(\s*)'] reg_ex = re.compile(pattern % {'key': key}, re.DOTALL) reg_ex = re.compile(pattern % {'key': key}, re.DOTALL) if key in message:",65,14
openstack%2Fnova~master~Idad8e5b65f48dd8e7a561d1545585647c6e28227,openstack/nova,master,Idad8e5b65f48dd8e7a561d1545585647c6e28227,DNM: Try to figure out why rbd import fails,ABANDONED,2019-11-14 11:42:57.000000000,2019-11-14 15:45:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-14 11:42:57.000000000', 'files': ['nova/virt/libvirt/storage/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e303c72f7b63c37d7e70829aa2381d61f8adae7c', 'message': 'DNM: Try to figure out why rbd import fails\n\nWe might want to make this change permanent, but this is good enough for\nnow.\n\nChange-Id: Idad8e5b65f48dd8e7a561d1545585647c6e28227\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,694260,e303c72f7b63c37d7e70829aa2381d61f8adae7c,5,3,1,15334,,,0,"DNM: Try to figure out why rbd import fails

We might want to make this change permanent, but this is good enough for
now.

Change-Id: Idad8e5b65f48dd8e7a561d1545585647c6e28227
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/694260/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/storage/rbd_utils.py'],1,e303c72f7b63c37d7e70829aa2381d61f8adae7c,drop-python2-support, # attempt to import these again - they'll probably fail but we'll # at least see why import rbd import rados, raise RuntimeError(_('rbd python libraries not found')),4,1
openstack%2Fnova~master~Ib3092cb421ef35e0343eed0108e7dabebbe439df,openstack/nova,master,Ib3092cb421ef35e0343eed0108e7dabebbe439df,DNM: python3 experiments,ABANDONED,2019-11-14 12:22:24.000000000,2019-11-14 15:45:21.000000000,,"[{'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-14 12:22:24.000000000', 'files': ['gate/live_migration/hooks/ceph.sh', 'gate/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/9f55b8ac245442f3de7ea533e42444e1a8e7d42a', 'message': ""DNM: python3 experiments\n\nI think this might be failing because the 'install_ceph_remote' function\nprovided by the 'devstack-plugin-ceph' plugin installs the 'ceph-common'\npackage [1], which installs all the python, not python3, variants of\nvarious packages [2].\n\n[1] https://github.com/openstack/devstack-plugin-ceph/blob/1c9e3e772e555589d6a31b718dd9d7eda6cfa63b/devstack/lib/ceph#L963-L965\n[2] https://packages.ubuntu.com/bionic/ceph-common\n\nWe can merge this back in once we figure out whether it helps or not.\n\nChange-Id: Ib3092cb421ef35e0343eed0108e7dabebbe439df\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,694281,9f55b8ac245442f3de7ea533e42444e1a8e7d42a,7,5,1,15334,,,0,"DNM: python3 experiments

I think this might be failing because the 'install_ceph_remote' function
provided by the 'devstack-plugin-ceph' plugin installs the 'ceph-common'
package [1], which installs all the python, not python3, variants of
various packages [2].

[1] https://github.com/openstack/devstack-plugin-ceph/blob/1c9e3e772e555589d6a31b718dd9d7eda6cfa63b/devstack/lib/ceph#L963-L965
[2] https://packages.ubuntu.com/bionic/ceph-common

We can merge this back in once we figure out whether it helps or not.

Change-Id: Ib3092cb421ef35e0343eed0108e7dabebbe439df
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/694281/1 && git format-patch -1 --stdout FETCH_HEAD,"['gate/live_migration/hooks/ceph.sh', 'gate/live_migration/hooks/run_tests.sh']",2,9f55b8ac245442f3de7ea533e42444e1a8e7d42a,drop-python2-support,USE_PYTHON3=${USE_PYTHON3:-True} ,USE_PYTHON3=${USE_PYTHON3:-True},6,1
openstack%2Fkayobe~master~If84a472826110bce151109ce80e70e1cef2a8177,openstack/kayobe,master,If84a472826110bce151109ce80e70e1cef2a8177,Add reference to zero touch provisioning blog in docs,MERGED,2019-11-08 12:32:56.000000000,2019-11-14 15:35:26.000000000,2019-11-14 15:31:59.000000000,"[{'_account_id': 15197}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-11-08 12:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9d3f90e12136d00609b7f698fa938cddea12c8f1', 'message': 'Add reference to zero touch provisioning blog in docs\n\nWhile not proper documentation, this should help people follow the ZTP\nmodel.\n\nChange-Id: If84a472826110bce151109ce80e70e1cef2a8177\nStory: 2006640\nTask: 37389\n'}, {'number': 2, 'created': '2019-11-11 10:16:36.000000000', 'files': ['doc/source/deployment.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5408bb545343d965902f7948d2572f0f61b78a1f', 'message': 'Add reference to zero touch provisioning blog in docs\n\nWhile not proper documentation, this should help people follow the ZTP\nmodel.\n\nChange-Id: If84a472826110bce151109ce80e70e1cef2a8177\nStory: 2006640\nTask: 37389\n'}]",1,693532,5408bb545343d965902f7948d2572f0f61b78a1f,14,6,2,14826,,,0,"Add reference to zero touch provisioning blog in docs

While not proper documentation, this should help people follow the ZTP
model.

Change-Id: If84a472826110bce151109ce80e70e1cef2a8177
Story: 2006640
Task: 37389
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/693532/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deployment.rst'],1,9d3f90e12136d00609b7f698fa938cddea12c8f1,,".. seealso:: This `blog <https://www.stackhpc.com/ironic-idrac-ztp.html>`__ provides a case study of the discovery process, including automatically naming Ironic nodes via switch port descriptions, Ironic Inspector and LLDP. ",,6,0
openstack%2Fkayobe~stable%2Frocky~Ib5fb726600debee5df1f7085ea37b583bfccefcf,openstack/kayobe,stable/rocky,Ib5fb726600debee5df1f7085ea37b583bfccefcf,Fix kolla ansible virtualenv creation on the seed,MERGED,2019-11-14 09:55:28.000000000,2019-11-14 15:31:55.000000000,2019-11-14 15:31:55.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 09:55:28.000000000', 'files': ['ansible/kolla-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d5d9565a31b69b4eb78bc0e71bdf3f71264d7c3f', 'message': 'Fix kolla ansible virtualenv creation on the seed\n\nBackport: Stein, Rocky, Queens\n\nIn https://review.opendev.org/#/c/671502/ kolla ansible virtualenv\ncreation was modified to only happen on hosts in the kolla-ansible\ninventory. However, that change omitted the seed. It passed CI because\nthe seed and overcloud are both in the inventory.\n\nThis change adds the seed group to the inventory_hostname lookup.\n\nChange-Id: Ib5fb726600debee5df1f7085ea37b583bfccefcf\nStory: 2006247\nTask: 37368\n(cherry picked from commit e4f8a5de8e90abcf7084712848f47cbf3262d6bf)\n'}]",0,694224,d5d9565a31b69b4eb78bc0e71bdf3f71264d7c3f,9,3,1,14826,,,0,"Fix kolla ansible virtualenv creation on the seed

Backport: Stein, Rocky, Queens

In https://review.opendev.org/#/c/671502/ kolla ansible virtualenv
creation was modified to only happen on hosts in the kolla-ansible
inventory. However, that change omitted the seed. It passed CI because
the seed and overcloud are both in the inventory.

This change adds the seed group to the inventory_hostname lookup.

Change-Id: Ib5fb726600debee5df1f7085ea37b583bfccefcf
Story: 2006247
Task: 37368
(cherry picked from commit e4f8a5de8e90abcf7084712848f47cbf3262d6bf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/24/694224/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-target-venv.yml'],1,d5d9565a31b69b4eb78bc0e71bdf3f71264d7c3f,," hosts_in_kolla_inventory: >- map(attribute='groups') | flatten | unique | union(['seed']) | join(':') }} - inventory_hostname in query('inventory_hostnames', hosts_in_kolla_inventory)"," overcloud_nodes_in_kolla_inventory: >- map(attribute='groups') | flatten | unique | join(':') }} - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)",3,3
openstack%2Fnova~master~Ie93b3b38c2000f7e9caa3ca89dea4ec04ed15067,openstack/nova,master,Ie93b3b38c2000f7e9caa3ca89dea4ec04ed15067,"""SUSPENDED"" description changed in server_concepts guide and API REF",MERGED,2019-06-06 10:34:38.000000000,2019-11-14 15:28:38.000000000,2019-11-14 03:08:11.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-06 10:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2011c192e3a853b92bf55fa421053c8027107b26', 'message': '""SUSPENDED"" description changed in server_concepts guide and API REF\n\nThe description of ""SUSPENDED"" server status was misguiding. Rewording\nit to make it more accurate.\n\nChange-Id: Ie93b3b38c2000f7e9caa3ca89dea4ec04ed15067\nCloses-Bug: #1815403\n'}, {'number': 2, 'created': '2019-11-13 17:12:15.000000000', 'files': ['api-guide/source/server_concepts.rst', 'api-ref/source/servers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/3badb674f6604d3beca4ba557939d4fbc07f6178', 'message': '""SUSPENDED"" description changed in server_concepts guide and API REF\n\nThe description of ""SUSPENDED"" server status was misguiding. Rewording\nit to make it more accurate.\n\nChange-Id: Ie93b3b38c2000f7e9caa3ca89dea4ec04ed15067\nCloses-Bug: #1815403\n'}]",14,663590,3badb674f6604d3beca4ba557939d4fbc07f6178,29,12,2,20863,,,0,"""SUSPENDED"" description changed in server_concepts guide and API REF

The description of ""SUSPENDED"" server status was misguiding. Rewording
it to make it more accurate.

Change-Id: Ie93b3b38c2000f7e9caa3ca89dea4ec04ed15067
Closes-Bug: #1815403
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/663590/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-guide/source/server_concepts.rst', 'api-ref/source/servers.inc']",2,2011c192e3a853b92bf55fa421053c8027107b26,bug/1815403," instance is similar to placing a device in hibernation and its occupied resource will not be freed (kept for its next running). If an instance is infrequently used and the occupied resource needs to be freed to create other servers, it should be shelved.", instance is similar to placing a device in hibernation; memory and vCPUs become available to create other instances.,8,4
openstack%2Fcookiecutter~master~Id80849594d43977a5e058f2b88ef3b6ddda5d072,openstack/cookiecutter,master,Id80849594d43977a5e058f2b88ef3b6ddda5d072,Update the python version in envlist attribut.,MERGED,2019-11-14 14:14:20.000000000,2019-11-14 15:19:52.000000000,2019-11-14 15:19:52.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-14 14:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/0ef68550217e4f7950df5356ca558a6b74f53de6', 'message': 'Update the python 3 version in envlist attribut.\n\nUpdate the python 3 version with the latest stable.\n\nChange-Id: Id80849594d43977a5e058f2b88ef3b6ddda5d072\n'}, {'number': 2, 'created': '2019-11-14 14:23:45.000000000', 'files': ['{{cookiecutter.repo_name}}/tox.ini'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/b67d3d35c7d3068b76bb997e4ac14597bfda6b8b', 'message': 'Update the python version in envlist attribut.\n\nUpdate the python 3 version with the latest stable. Remove the python 2\nversion. The support of this version is soon finish.\n\nChange-Id: Id80849594d43977a5e058f2b88ef3b6ddda5d072\n'}]",1,694302,b67d3d35c7d3068b76bb997e4ac14597bfda6b8b,10,3,2,31245,,,0,"Update the python version in envlist attribut.

Update the python 3 version with the latest stable. Remove the python 2
version. The support of this version is soon finish.

Change-Id: Id80849594d43977a5e058f2b88ef3b6ddda5d072
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/02/694302/1 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/tox.ini'],1,0ef68550217e4f7950df5356ca558a6b74f53de6,update_python_version,"envlist = py37,py27,pep8","envlist = py35,py27,pep8",1,1
openstack%2Fkayobe~stable%2Frocky~Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef,openstack/kayobe,stable/rocky,Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef,Only set up the kolla ansible venv on hosts in the kolla ansible inventory,MERGED,2019-11-04 14:25:53.000000000,2019-11-14 15:04:29.000000000,2019-11-14 15:04:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-11-04 14:25:53.000000000', 'files': ['ansible/kolla-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/569e7871d4b01576ad6439b6aaa39a00187ba0ad', 'message': 'Only set up the kolla ansible venv on hosts in the kolla ansible inventory\n\nChange-Id: Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef\nStory: 2006247\nTask: 35856\n(cherry picked from commit 300f90134e7d4bdc298cc050d60f67476145c87b)\n'}]",0,692825,569e7871d4b01576ad6439b6aaa39a00187ba0ad,7,4,1,14826,,,0,"Only set up the kolla ansible venv on hosts in the kolla ansible inventory

Change-Id: Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef
Story: 2006247
Task: 35856
(cherry picked from commit 300f90134e7d4bdc298cc050d60f67476145c87b)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/25/692825/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-target-venv.yml'],1,569e7871d4b01576ad6439b6aaa39a00187ba0ad,kolla-venv-stable/rocky," vars: # kolla_overcloud_inventory_top_level_group_map looks like: # kolla_overcloud_inventory_top_level_group_map: # control: # groups: # - controllers overcloud_nodes_in_kolla_inventory: >- {{ kolla_overcloud_inventory_top_level_group_map.values() | map(attribute='groups') | flatten | unique | join(':') }} when: - kolla_ansible_target_venv is not none - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)", when: kolla_ansible_target_venv is not none,12,1
openstack%2Fnova~master~I310df11043f8bfe78640087d9ec2848ace65edc8,openstack/nova,master,I310df11043f8bfe78640087d9ec2848ace65edc8,Remove dead set_admin_password code to generate password,MERGED,2019-10-29 14:44:22.000000000,2019-11-14 14:54:56.000000000,2019-11-14 10:28:45.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 28522}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-29 14:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a41049845d9e60340e20de126475983c627f118c', 'message': 'Remove dead set_admin_password code to generate password\n\nThe schema validation on the changePassword server action API\nrequires adminPass as a non-None string value so the code\ndown in the ComputeManager.set_admin_password method to check\nif new_pass is None and generate a password if so is dead code\nand is removed here along with the password=None kwarg usage\nin the API.\n\nChange-Id: I310df11043f8bfe78640087d9ec2848ace65edc8\n'}, {'number': 2, 'created': '2019-10-29 15:04:08.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_admin_password.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/44d3d5eb4c57dd86c4a7e0adb11ae620f176519a', 'message': 'Remove dead set_admin_password code to generate password\n\nThe schema validation on the changePassword server action API\nrequires adminPass as a non-None string value so the code\ndown in the ComputeManager.set_admin_password method to check\nif new_pass is None and generate a password if so is dead code\nand is removed here along with the password=None kwarg usage\nin the API.\n\nChange-Id: I310df11043f8bfe78640087d9ec2848ace65edc8\n'}]",2,691873,44d3d5eb4c57dd86c4a7e0adb11ae620f176519a,32,16,2,6873,,,0,"Remove dead set_admin_password code to generate password

The schema validation on the changePassword server action API
requires adminPass as a non-None string value so the code
down in the ComputeManager.set_admin_password method to check
if new_pass is None and generate a password if so is dead code
and is removed here along with the password=None kwarg usage
in the API.

Change-Id: I310df11043f8bfe78640087d9ec2848ace65edc8
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/691873/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_admin_password.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/manager.py', 'nova/compute/api.py']",5,a41049845d9e60340e20de126475983c627f118c,bug/1850437," def set_admin_password(self, context, instance, password):"," def set_admin_password(self, context, instance, password=None):",15,14
openstack%2Fkolla-ansible~master~Iea0c6eb51ff26817eeb913c9aa241a9fe7553588,openstack/kolla-ansible,master,Iea0c6eb51ff26817eeb913c9aa241a9fe7553588,Remove enable_xtrabackup variable,MERGED,2019-11-14 11:39:57.000000000,2019-11-14 14:53:05.000000000,2019-11-14 14:50:54.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-14 11:39:57.000000000', 'files': ['ansible/group_vars/all.yml', 'releasenotes/notes/remove-enable-xtrabackup-8109d5160d9cd8a9.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad0155692563ecae6520f7ebfa1afd64770e8edc', 'message': 'Remove enable_xtrabackup variable\n\nThis was deprecated in the Train release in favour of enable_mariadb.\n\nChange-Id: Iea0c6eb51ff26817eeb913c9aa241a9fe7553588\n'}]",0,694258,ad0155692563ecae6520f7ebfa1afd64770e8edc,8,3,1,14826,,,0,"Remove enable_xtrabackup variable

This was deprecated in the Train release in favour of enable_mariadb.

Change-Id: Iea0c6eb51ff26817eeb913c9aa241a9fe7553588
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/694258/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/remove-enable-xtrabackup-8109d5160d9cd8a9.yaml']",2,ad0155692563ecae6520f7ebfa1afd64770e8edc,,--- upgrade: - | Removes support for the ``enable_xtrabackup`` variable that was deprecated in favour of ``enable_mariabackup`` in the Train (9.0.0) release. ,,6,3
openstack%2Fnova~master~I711e56bcb4b72605253fa63be230a68e03e45b84,openstack/nova,master,I711e56bcb4b72605253fa63be230a68e03e45b84,Make API always RPC cast to conductor for resize/migrate,MERGED,2019-11-12 21:16:34.000000000,2019-11-14 14:47:32.000000000,2019-11-14 08:49:50.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-12 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97e8a1340600f0f9def1db1ffcea604cca0b5366', 'message': 'Make API always RPC cast to conductor for resize/migrate\n\nThis is a follow up to [1] to make the API behave consistently\nby always asynchronously casting to conductor during resize\nand cold migration regardless of same-cell or cross-cell\nmigration.\n\nFrom the end user point of view, not much changes besides\nthe possibility of some exceptions occurring during scheduling\nwhich would have resulted in a 400 BadRequest error.\nThe user still gets a 202 response, must poll the server status\nuntil the server goes to VERIFY_RESIZE status or times out, and\ncan check the instance actions if the resize/migrate fails.\n\nThe specific errors that can occur are not really an API contract\nand as such end user applications should not be building logic\naround, for example, getting a NoValidHost error. It should be\nnoted, however, that by default non-admin users cannot see\nthe instance action event traceback that would contain the\nerror, e.g. NoValidHost.\n\nThe only exception types removed from handling in the API are\n(1) AllocationMoveFailed which can be raised when the conductor\nMigrationTask runs replace_allocation_with_migration and\n(2) NoValidHost when the scheduler is called to select destinations.\n\nBecause of this, quite a few functional negative tests have to be\nadjusted since the API no longer returns a 400 for NoValidHost and\nother errors that can happen during scheduling.\n\n[1] I098f91d8c498e5a85266e193ad37c08aca4792b2\n\nChange-Id: I711e56bcb4b72605253fa63be230a68e03e45b84\n'}, {'number': 2, 'created': '2019-11-13 15:21:12.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_scheduler.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/functional/regressions/test_bug_1848343.py', 'nova/api/openstack/compute/servers.py', 'nova/objects/instance_action.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/notification_sample_tests/test_compute_task.py', 'releasenotes/notes/resize-api-cast-always-7eb1dbef8f7fe228.yaml', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/tests/functional/regressions/test_bug_1790204.py', 'nova/tests/functional/regressions/test_bug_1815153.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a05ef30fb9eb2f5250748e5a87f8b61e77464be9', 'message': 'Make API always RPC cast to conductor for resize/migrate\n\nThis is a follow up to [1] to make the API behave consistently\nby always asynchronously casting to conductor during resize\nand cold migration regardless of same-cell or cross-cell\nmigration.\n\nFrom the end user point of view, not much changes besides\nthe possibility of some exceptions occurring during scheduling\nwhich would have resulted in a 400 BadRequest error.\nThe user still gets a 202 response, must poll the server status\nuntil the server goes to VERIFY_RESIZE status or times out, and\ncan check the instance actions if the resize/migrate fails.\n\nThe specific errors that can occur are not really an API contract\nand as such end user applications should not be building logic\naround, for example, getting a NoValidHost error. It should be\nnoted, however, that by default non-admin users cannot see\nthe instance action event traceback that would contain the\nerror, e.g. NoValidHost.\n\nThe only exception types removed from handling in the API are\n(1) AllocationMoveFailed which can be raised when the conductor\nMigrationTask runs replace_allocation_with_migration and\n(2) NoValidHost when the scheduler is called to select destinations.\n\nBecause of this, quite a few functional negative tests have to be\nadjusted since the API no longer returns a 400 for NoValidHost and\nother errors that can happen during scheduling.\n\nFinally, the do_cast kwarg is left on the conductor API method since\nthe compute service calls it during same-cell reschedule as a\nsynchronous RPC call and has error handling if rescheduling in\nconductor fails.\n\n[1] I098f91d8c498e5a85266e193ad37c08aca4792b2\n\nChange-Id: I711e56bcb4b72605253fa63be230a68e03e45b84\n'}]",8,693937,a05ef30fb9eb2f5250748e5a87f8b61e77464be9,33,12,2,6873,,,0,"Make API always RPC cast to conductor for resize/migrate

This is a follow up to [1] to make the API behave consistently
by always asynchronously casting to conductor during resize
and cold migration regardless of same-cell or cross-cell
migration.

From the end user point of view, not much changes besides
the possibility of some exceptions occurring during scheduling
which would have resulted in a 400 BadRequest error.
The user still gets a 202 response, must poll the server status
until the server goes to VERIFY_RESIZE status or times out, and
can check the instance actions if the resize/migrate fails.

The specific errors that can occur are not really an API contract
and as such end user applications should not be building logic
around, for example, getting a NoValidHost error. It should be
noted, however, that by default non-admin users cannot see
the instance action event traceback that would contain the
error, e.g. NoValidHost.

The only exception types removed from handling in the API are
(1) AllocationMoveFailed which can be raised when the conductor
MigrationTask runs replace_allocation_with_migration and
(2) NoValidHost when the scheduler is called to select destinations.

Because of this, quite a few functional negative tests have to be
adjusted since the API no longer returns a 400 for NoValidHost and
other errors that can happen during scheduling.

Finally, the do_cast kwarg is left on the conductor API method since
the compute service calls it during same-cell reschedule as a
synchronous RPC call and has error handling if rescheduling in
conductor fails.

[1] I098f91d8c498e5a85266e193ad37c08aca4792b2

Change-Id: I711e56bcb4b72605253fa63be230a68e03e45b84
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/693937/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_group.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_scheduler.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/functional/regressions/test_bug_1848343.py', 'nova/api/openstack/compute/servers.py', 'nova/objects/instance_action.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/notification_sample_tests/test_compute_task.py', 'releasenotes/notes/resize-api-cast-always-7eb1dbef8f7fe228.yaml', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/tests/functional/regressions/test_bug_1790204.py', 'nova/tests/functional/regressions/test_bug_1815153.py']",15,97e8a1340600f0f9def1db1ffcea604cca0b5366,bp/cross-cell-resize,"from nova.compute import instance_actions # The response status code is 202 even though the operation will # fail because the requested target host is down which will result # in a NoValidHost error. self.api.post_server_action( server['id'], {'migrate': {'host': target_host}}, check_response_status=[202]) # The instance action should have failed with details. self._assert_resize_migrate_action_fail( server, instance_actions.MIGRATE, 'NoValidHost')","import six from nova.tests.functional.api import client # If requested_destination is reset, the server is moved to a host # that is not a requested target host. # In that case, the response code is 202. # If requested_destination is not reset, no valid host error (400) is # returned because the target host is down. ex = self.assertRaises(client.OpenStackApiException, self.api.post_server_action, server['id'], {'migrate': {'host': target_host}}) self.assertEqual(400, ex.response.status_code) self.assertIn('No valid host was found. No valid host found ' 'for cold migrate', six.text_type(ex))",127,110
openstack%2Fneutron~master~Ibd91d0472a686eca79a1126154d9cdf4587c1a19,openstack/neutron,master,Ibd91d0472a686eca79a1126154d9cdf4587c1a19,Add extra unit test for get_cmdline_from_pid function,MERGED,2019-03-27 09:58:12.000000000,2019-11-14 14:45:02.000000000,2019-03-29 07:04:47.000000000,"[{'_account_id': 841}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-03-27 09:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a4226d42d937e8d457b04a48e74be328b5f7a07', 'message': ""Add extra unit test for get_cmdline_from_pid function\n\nIn patch [1] get_cmdline_from_pid function was modified to be able\nto parse process' cmdline files with arguments separated by space\ninstead of '\\0' char.\nThis patch adds one extra UT and small refactor which was pointed\nin comments to [1] but which I was not able to change there.\n\n[1] https://review.openstack.org/#/c/647605/\n\nChange-Id: Ibd91d0472a686eca79a1126154d9cdf4587c1a19\nRelated-Bug: #1820870\n""}, {'number': 2, 'created': '2019-03-28 14:45:43.000000000', 'files': ['neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcc3d3c7548eb92634b84d5376a73f78421ba23f', 'message': ""Add extra unit test for get_cmdline_from_pid function\n\nIn patch [1] get_cmdline_from_pid function was modified to be able\nto parse process' cmdline files with arguments separated by space\ninstead of '\\0' char.\nThis patch adds one extra UT and small refactor which was pointed\nin comments to [1] but which I was not able to change there.\n\n[1] https://review.openstack.org/#/c/647605/\n\nChange-Id: Ibd91d0472a686eca79a1126154d9cdf4587c1a19\nRelated-Bug: #1820870\n""}]",2,648065,dcc3d3c7548eb92634b84d5376a73f78421ba23f,32,10,2,11975,,,0,"Add extra unit test for get_cmdline_from_pid function

In patch [1] get_cmdline_from_pid function was modified to be able
to parse process' cmdline files with arguments separated by space
instead of '\0' char.
This patch adds one extra UT and small refactor which was pointed
in comments to [1] but which I was not able to change there.

[1] https://review.openstack.org/#/c/647605/

Change-Id: Ibd91d0472a686eca79a1126154d9cdf4587c1a19
Related-Bug: #1820870
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/648065/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py']",2,1a4226d42d937e8d457b04a48e74be328b5f7a07,bug/1820870," def test_cmdline_with_single_argument(self): process_cmd = ""test-binary\0"" expected_cmdline = [""test-binary""] self._test_cmdline(process_cmd, expected_cmdline) ",,10,7
openstack%2Fkayobe~stable%2Fstein~Ib5fb726600debee5df1f7085ea37b583bfccefcf,openstack/kayobe,stable/stein,Ib5fb726600debee5df1f7085ea37b583bfccefcf,Fix kolla ansible virtualenv creation on the seed,MERGED,2019-11-14 09:52:47.000000000,2019-11-14 14:40:24.000000000,2019-11-14 14:37:09.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 09:52:47.000000000', 'files': ['ansible/kolla-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/82522469c977a5626072a077bd691450305e9659', 'message': 'Fix kolla ansible virtualenv creation on the seed\n\nBackport: Stein, Rocky, Queens\n\nIn https://review.opendev.org/#/c/671502/ kolla ansible virtualenv\ncreation was modified to only happen on hosts in the kolla-ansible\ninventory. However, that change omitted the seed. It passed CI because\nthe seed and overcloud are both in the inventory.\n\nThis change adds the seed group to the inventory_hostname lookup.\n\nChange-Id: Ib5fb726600debee5df1f7085ea37b583bfccefcf\nStory: 2006247\nTask: 37368\n(cherry picked from commit e4f8a5de8e90abcf7084712848f47cbf3262d6bf)\n'}]",0,694220,82522469c977a5626072a077bd691450305e9659,8,3,1,14826,,,0,"Fix kolla ansible virtualenv creation on the seed

Backport: Stein, Rocky, Queens

In https://review.opendev.org/#/c/671502/ kolla ansible virtualenv
creation was modified to only happen on hosts in the kolla-ansible
inventory. However, that change omitted the seed. It passed CI because
the seed and overcloud are both in the inventory.

This change adds the seed group to the inventory_hostname lookup.

Change-Id: Ib5fb726600debee5df1f7085ea37b583bfccefcf
Story: 2006247
Task: 37368
(cherry picked from commit e4f8a5de8e90abcf7084712848f47cbf3262d6bf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/20/694220/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-target-venv.yml'],1,82522469c977a5626072a077bd691450305e9659,," hosts_in_kolla_inventory: >- map(attribute='groups') | flatten | unique | union(['seed']) | join(':') }} - inventory_hostname in query('inventory_hostnames', hosts_in_kolla_inventory)"," overcloud_nodes_in_kolla_inventory: >- map(attribute='groups') | flatten | unique | join(':') }} - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)",3,3
openstack%2Fkayobe~stable%2Fstein~Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef,openstack/kayobe,stable/stein,Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef,Only set up the kolla ansible venv on hosts in the kolla ansible inventory,MERGED,2019-11-04 14:25:42.000000000,2019-11-14 14:39:20.000000000,2019-11-14 14:37:05.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-11-04 14:25:42.000000000', 'files': ['ansible/kolla-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f40b64ebd82b5179a1794a80874060f23fdcb813', 'message': 'Only set up the kolla ansible venv on hosts in the kolla ansible inventory\n\nChange-Id: Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef\nStory: 2006247\nTask: 35856\n(cherry picked from commit 300f90134e7d4bdc298cc050d60f67476145c87b)\n'}]",0,692824,f40b64ebd82b5179a1794a80874060f23fdcb813,12,4,1,14826,,,0,"Only set up the kolla ansible venv on hosts in the kolla ansible inventory

Change-Id: Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef
Story: 2006247
Task: 35856
(cherry picked from commit 300f90134e7d4bdc298cc050d60f67476145c87b)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/24/692824/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-target-venv.yml'],1,f40b64ebd82b5179a1794a80874060f23fdcb813,kolla-venv-stable/stein," vars: # kolla_overcloud_inventory_top_level_group_map looks like: # kolla_overcloud_inventory_top_level_group_map: # control: # groups: # - controllers overcloud_nodes_in_kolla_inventory: >- {{ kolla_overcloud_inventory_top_level_group_map.values() | map(attribute='groups') | flatten | unique | join(':') }} when: - kolla_ansible_target_venv is not none - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)", when: kolla_ansible_target_venv is not none,12,1
openstack%2Fopenstack-ansible-galera_client~master~I1ca77be73cda89776ccf8e5a1f48781261683103,openstack/openstack-ansible-galera_client,master,I1ca77be73cda89776ccf8e5a1f48781261683103,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 12:10:48.000000000,2019-11-14 14:13:14.000000000,2019-11-14 14:11:46.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-14 12:10:48.000000000', 'files': ['doc/source/index.rst', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/6397dd0e86a7d3d7271596d1914d3d6a96cfb03c', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I1ca77be73cda89776ccf8e5a1f48781261683103\n'}]",0,694276,6397dd0e86a7d3d7271596d1914d3d6a96cfb03c,9,4,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I1ca77be73cda89776ccf8e5a1f48781261683103
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/76/694276/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'tox.ini', 'releasenotes/source/conf.py']",3,6397dd0e86a7d3d7271596d1914d3d6a96cfb03c,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),4,4
openstack%2Fglance~master~I5fa65b8421351c8b6dfc2dcb10af4ec7c322bda1,openstack/glance,master,I5fa65b8421351c8b6dfc2dcb10af4ec7c322bda1,Move base policies into code,ABANDONED,2017-09-06 17:27:53.000000000,2019-11-14 14:12:36.000000000,,"[{'_account_id': 2218}, {'_account_id': 2537}, {'_account_id': 5046}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8911}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 10873}, {'_account_id': 11904}, {'_account_id': 15054}, {'_account_id': 18791}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 23186}, {'_account_id': 26734}]","[{'number': 1, 'created': '2017-09-06 17:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9e5a96b49220809b64a3376750a011e037b27c0', 'message': ""Move base policies into code\n\nThis commit attempts to move the base rules for glance's policy into\ncode.  Subsequent patches will continue to move the rest of glance's\npolicy into code and remove the definitions from etc/policy.json.\n\nChange-Id: I5fa65b8421351c8b6dfc2dcb10af4ec7c322bda1\n""}, {'number': 2, 'created': '2017-09-06 22:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c18d530c2051d6510413a8cb6cd759c90d5636f4', 'message': ""Move base policies into code\n\nThis commit attempts to move the base rules for glance's policy into\ncode.  Subsequent patches will continue to move the rest of glance's\npolicy into code and remove the definitions from etc/policy.json.\n\nChange-Id: I5fa65b8421351c8b6dfc2dcb10af4ec7c322bda1\n""}, {'number': 3, 'created': '2018-01-03 20:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9820ecb148f173da9386dcea5c67ce5905bfe70e', 'message': ""Move base policies into code\n\nThis commit attempts to move the base rules for glance's policy into\ncode.  Subsequent patches will continue to move the rest of glance's\npolicy into code and remove the definitions from etc/policy.json.\n\nbp policy-and-docs-in-code\n\nChange-Id: I5fa65b8421351c8b6dfc2dcb10af4ec7c322bda1\n""}, {'number': 4, 'created': '2018-10-16 16:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b61b432bc9c3fcb3fe658de62fca208fc1e5cfa6', 'message': ""Move base policies into code\n\nThis commit attempts to move the base rules for glance's policy into\ncode.  Subsequent patches will continue to move the rest of glance's\npolicy into code and remove the definitions from etc/policy.json.\n\nbp policy-and-docs-in-code\n\nChange-Id: I5fa65b8421351c8b6dfc2dcb10af4ec7c322bda1\n""}, {'number': 5, 'created': '2018-10-16 23:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/080cc2248dfcb119014724f82a0867c2e12b98e1', 'message': ""Move base policies into code\n\nThis commit attempts to move the base rules for glance's policy into\ncode.  Subsequent patches will continue to move the rest of glance's\npolicy into code and remove the definitions from etc/policy.json.\n\nbp policy-and-docs-in-code\n\nChange-Id: I5fa65b8421351c8b6dfc2dcb10af4ec7c322bda1\n""}, {'number': 6, 'created': '2018-11-21 14:16:55.000000000', 'files': ['config-generator/glance-policy-generator.conf', 'glance/common/policies/__init__.py', '.gitignore', 'glance/api/policy.py', 'glance/common/policies/base.py', 'tox.ini', 'etc/policy.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/95717cbd41620b40e34af14d3a2c8ac42dcfc7db', 'message': ""Move base policies into code\n\nThis commit attempts to move the base rules for glance's policy into\ncode.  Subsequent patches will continue to move the rest of glance's\npolicy into code and remove the definitions from etc/policy.json.\n\nbp policy-and-docs-in-code\n\nChange-Id: I5fa65b8421351c8b6dfc2dcb10af4ec7c322bda1\n""}]",9,501360,95717cbd41620b40e34af14d3a2c8ac42dcfc7db,56,16,6,5046,,,0,"Move base policies into code

This commit attempts to move the base rules for glance's policy into
code.  Subsequent patches will continue to move the rest of glance's
policy into code and remove the definitions from etc/policy.json.

bp policy-and-docs-in-code

Change-Id: I5fa65b8421351c8b6dfc2dcb10af4ec7c322bda1
",git fetch https://review.opendev.org/openstack/glance refs/changes/60/501360/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/policies/__init__.py', 'glance/common/property_utils.py', 'glance/common/policies/base.py', 'etc/policy.json']",4,c9e5a96b49220809b64a3376750a011e037b27c0,policy-and-docs-in-code,," ""context_is_admin"": ""role:admin"", ""default"": ""role:admin"", ",62,3
openstack%2Fopenstack-ansible-galera_server~master~I865ba354604d256d3f9f18c11a94c69992f5dae8,openstack/openstack-ansible-galera_server,master,I865ba354604d256d3f9f18c11a94c69992f5dae8,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 12:02:54.000000000,2019-11-14 14:09:33.000000000,2019-11-14 14:08:23.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-14 12:02:54.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/232976de42c81d320f57f5c6ef37fcfa2ae42360', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\n\nChange-Id: I865ba354604d256d3f9f18c11a94c69992f5dae8\n'}]",0,694273,232976de42c81d320f57f5c6ef37fcfa2ae42360,9,4,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.

Change-Id: I865ba354604d256d3f9f18c11a94c69992f5dae8
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/73/694273/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,232976de42c81d320f57f5c6ef37fcfa2ae42360,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),1,1
openstack%2Ftripleo-upgrade~master~I8b71e762b5ce5ee0f9ffa594715a21677ded55f3,openstack/tripleo-upgrade,master,I8b71e762b5ce5ee0f9ffa594715a21677ded55f3,Use python -m pip instead pip command.,ABANDONED,2019-11-06 09:39:44.000000000,2019-11-14 13:57:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-06 09:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d93a542a759f40de593a26f266ad5e70222e508f', 'message': ""Use python -m pip instead pip command.\n\nIt's recommand to use this way. With tox is not really necessary to do\nit but it can be good to use it. See this article:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nFor example python -m pip executes pip using the Python interpreter\nyou specified as python.\n\nChange-Id: I8b71e762b5ce5ee0f9ffa594715a21677ded55f3\n""}, {'number': 2, 'created': '2019-11-07 14:06:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2414ce568909156057aacdf125922476ee585b95', 'message': ""Use python -m pip instead pip command.\n\nIt's recommand to use this way. With tox is not really necessary to do\nit but it can be good to use it. See this article:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nFor example python -m pip executes pip using the Python interpreter\nyou specified as python.\n\nChange-Id: I8b71e762b5ce5ee0f9ffa594715a21677ded55f3\n""}]",0,693143,2414ce568909156057aacdf125922476ee585b95,6,2,2,31245,,,0,"Use python -m pip instead pip command.

It's recommand to use this way. With tox is not really necessary to do
it but it can be good to use it. See this article:

https://snarky.ca/why-you-should-use-python-m-pip/

For example python -m pip executes pip using the Python interpreter
you specified as python.

Change-Id: I8b71e762b5ce5ee0f9ffa594715a21677ded55f3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/43/693143/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d93a542a759f40de593a26f266ad5e70222e508f,use_pip_as_module_new,install_command = python -m pip install {opts} {packages},install_command = pip install {opts} {packages},1,1
openstack%2Fnetworking-odl~master~I08337127f5759429187cc707089ab09dfb7c5711,openstack/networking-odl,master,I08337127f5759429187cc707089ab09dfb7c5711,Switch to Ussuri jobs,MERGED,2019-10-25 02:42:44.000000000,2019-11-14 13:55:42.000000000,2019-11-14 13:52:36.000000000,"[{'_account_id': 8313}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 02:42:44.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f1239c916ec505b10faa240ab8b21d51c1fb214e', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I08337127f5759429187cc707089ab09dfb7c5711\n'}]",0,691157,f1239c916ec505b10faa240ab8b21d51c1fb214e,14,3,1,30092,,,0,"Switch to Ussuri jobs

Change-Id: I08337127f5759429187cc707089ab09dfb7c5711
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/57/691157/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,f1239c916ec505b10faa240ab8b21d51c1fb214e,, - openstack-python3-ussuri-jobs-neutron, - openstack-python3-train-jobs-neutron,1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I6f0ade4f1e67260eb9d52323998801d57024a9b3,openstack/openstack-ansible-openstack_hosts,master,I6f0ade4f1e67260eb9d52323998801d57024a9b3,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 12:13:46.000000000,2019-11-14 13:54:11.000000000,2019-11-14 13:51:56.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-14 12:13:46.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/2ca3c1639eeb99850c402bae9e784a8764a98a4c', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\n\nChange-Id: I6f0ade4f1e67260eb9d52323998801d57024a9b3\n'}]",0,694277,2ca3c1639eeb99850c402bae9e784a8764a98a4c,9,4,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.

Change-Id: I6f0ade4f1e67260eb9d52323998801d57024a9b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/77/694277/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,2ca3c1639eeb99850c402bae9e784a8764a98a4c,osa/opendev, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),1,1
openstack%2Fmistral~master~Id3ee99c8793e53b396b80ad02f8bde69aadddc3c,openstack/mistral,master,Id3ee99c8793e53b396b80ad02f8bde69aadddc3c,Add pdf build support,MERGED,2019-09-05 08:43:11.000000000,2019-11-14 13:44:54.000000000,2019-11-14 13:42:56.000000000,"[{'_account_id': 6547}, {'_account_id': 8731}, {'_account_id': 18955}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-09-05 08:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c673047fe81a4b7234dc35f259449945edbb80c5', 'message': 'Add pdf build support\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 2, 'created': '2019-09-05 10:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ab86f7e48f7f6438fa0d98633208f5bf8fce1ce0', 'message': 'Add pdf build support\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 3, 'created': '2019-09-05 11:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/dc7a527ca27f5814506472e2c275da95f11f6770', 'message': 'Add pdf build support\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 4, 'created': '2019-09-05 12:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5852f17ad3ee88fda8bcb933dd6cd1e4af8e1310', 'message': 'Add pdf build support\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 5, 'created': '2019-09-05 12:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6c8c8437d2273554526f08d3be8b35012d81d592', 'message': 'Add pdf build support\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 6, 'created': '2019-09-09 11:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/44c44f00df43d346c5ae455eef81143d30d4545c', 'message': 'Add pdf build support\n\nFor more details, please refer:\nhttps://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 7, 'created': '2019-09-12 08:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c4dde41eee59a617fe8b26082fe4bd735bf27a2d', 'message': 'Add pdf build support\n\nFor more details, please refer:\nhttps://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 8, 'created': '2019-09-27 15:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4acf3cae4553c96457605aab517eb580269009f1', 'message': 'Add pdf build support\n\nFor more details, please refer:\nhttps://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 9, 'created': '2019-09-28 08:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0670b2f66de8e060a0a36891fb2a90c4bb5b39ab', 'message': 'Add pdf build support\n\nFor more details, please refer:\nhttps://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 10, 'created': '2019-10-21 06:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/821865878b85435b14606445f714018cdca7e497', 'message': 'Add pdf build support\n\nFor more details, please refer:\nhttps://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 11, 'created': '2019-10-22 12:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d3f0f960bf62ac29a07862b2d2c8eaac04335788', 'message': 'Add pdf build support\n\nFor more details, please refer:\nhttps://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}, {'number': 12, 'created': '2019-10-22 12:19:51.000000000', 'files': ['doc/source/user/wf_lang_v2.rst', 'doc/source/main_features.rst', 'doc/source/quickstart.rst', 'doc/source/user/wf_namespaces.rst', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/3bedead7333ea871d4b72be56d37e6c68ef051e0', 'message': 'Add pdf build support\n\nFor more details, please refer:\nhttps://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c\n'}]",0,680337,3bedead7333ea871d4b72be56d37e6c68ef051e0,47,6,12,18955,,,0,"Add pdf build support

For more details, please refer:
https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Change-Id: Id3ee99c8793e53b396b80ad02f8bde69aadddc3c
",git fetch https://review.opendev.org/openstack/mistral refs/changes/37/680337/12 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,c673047fe81a4b7234dc35f259449945edbb80c5,,[testenv:pdf-docs] basepython = python3 whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,17,0
openstack%2Fkolla-ansible~master~Id84e3b6e62e544582d6917047534e846e026798d,openstack/kolla-ansible,master,Id84e3b6e62e544582d6917047534e846e026798d,Add support for custom HAProxy service config,MERGED,2019-11-11 17:54:12.000000000,2019-11-14 13:34:08.000000000,2019-11-14 13:30:12.000000000,"[{'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-11 17:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0b9daa0b1ef4444bb61b73d83f216d0fca16fb7', 'message': ""Add support for custom HAProxy service config\n\nAllow users to create/override HAProxy service configuration by\ncopying over '*.cfg' files from {{ node_custom_config\n}}/haproxy/services.d/\n\nEx: /etc/kolla/config/haproxy/services.d/radosgw.cfg\n\nChange-Id: Id84e3b6e62e544582d6917047534e846e026798d\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n""}, {'number': 2, 'created': '2019-11-11 17:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7737327916dab7e5320cc51b093dc5cf0e97775', 'message': ""Add support for custom HAProxy service config\n\nAllow users to create/override HAProxy service configuration by\ncopying over '*.cfg' files from {{ node_custom_config\n}}/haproxy/services.d/\n\nEx: /etc/kolla/config/haproxy/services.d/radosgw.cfg\n\nChange-Id: Id84e3b6e62e544582d6917047534e846e026798d\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n""}, {'number': 3, 'created': '2019-11-11 18:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01597ae7c666de2f463ad727f4026910f27f201a', 'message': ""Add support for custom HAProxy service config\n\nAllow users to create/override HAProxy service configuration by\ncopying over '*.cfg' files from {{ node_custom_config\n}}/haproxy/services.d/\n\nEx: /etc/kolla/config/haproxy/services.d/radosgw.cfg\n\nChange-Id: Id84e3b6e62e544582d6917047534e846e026798d\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n""}, {'number': 4, 'created': '2019-11-11 18:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68c710cf130ab01459e74d773b76eab7c02d6d55', 'message': ""Add support for custom HAProxy service config\n\nAllow users to create/override HAProxy service configuration by\ncopying over '*.cfg' files from {{ node_custom_config\n}}/haproxy/services.d/\n\nEx: /etc/kolla/config/haproxy/services.d/radosgw.cfg\n\nChange-Id: Id84e3b6e62e544582d6917047534e846e026798d\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n""}, {'number': 5, 'created': '2019-11-11 18:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/466686544f733cfe2ac9ddbf30d65c8efdb08720', 'message': ""Add support for custom HAProxy service config\n\nAllow users to create/override HAProxy service configuration by\ncopying over '*.cfg' files from {{ node_custom_config\n}}/haproxy/services.d/\n\nEx: /etc/kolla/config/haproxy/services.d/radosgw.cfg\n\nChange-Id: Id84e3b6e62e544582d6917047534e846e026798d\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n""}, {'number': 6, 'created': '2019-11-11 20:24:51.000000000', 'files': ['releasenotes/notes/haproxy-custom-services-c6bc343d162a8990.yaml', 'ansible/roles/haproxy/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3a1b068fe15b73d226b7058e8039614e090bf35', 'message': ""Add support for custom HAProxy service config\n\nAllow users to create/override HAProxy service configuration by\ncopying over '*.cfg' files from {{ node_custom_config\n}}/haproxy/services.d/\n\nEx: /etc/kolla/config/haproxy/services.d/radosgw.cfg\n\nChange-Id: Id84e3b6e62e544582d6917047534e846e026798d\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n""}]",3,693738,a3a1b068fe15b73d226b7058e8039614e090bf35,24,6,6,30272,,,0,"Add support for custom HAProxy service config

Allow users to create/override HAProxy service configuration by
copying over '*.cfg' files from {{ node_custom_config
}}/haproxy/services.d/

Ex: /etc/kolla/config/haproxy/services.d/radosgw.cfg

Change-Id: Id84e3b6e62e544582d6917047534e846e026798d
Signed-off-by: Keith Plant <kplantjr@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/693738/6 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/tasks/config.yml'],1,b0b9daa0b1ef4444bb61b73d83f216d0fca16fb7,haproxy-custom-rules,"- name: Copying over haproxy service configuration vars: service: ""{{ haproxy_services['haproxy'] }}"" copy: src: ""{{ item }}"" dest: ""{{ node_config_directory }}/haproxy/services.d/"" become: true with_fileglob: - ""{{ node_custom_config }}/haproxy/services.d/*.cfg"" notify: - Restart haproxy container ",,12,0
openstack%2Fkuryr-kubernetes~master~I3577020b3fb6b91eb99204e5cd15072490532e12,openstack/kuryr-kubernetes,master,I3577020b3fb6b91eb99204e5cd15072490532e12,Bump openstacksdk to 0.17.2,ABANDONED,2019-11-07 04:01:57.000000000,2019-11-14 13:31:03.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-07 04:01:57.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1c43c068335a66dccb3577a6c2c6ed132ed819af', 'message': ""Bump openstacksdk to 0.17.2\n\nLooks like Ia87bf68bdade3e6f7f752d013f4bdb29bfa5d444 broke\nneutron_to_osvif_subnet and now lower-constraints gate fails with:\n\n TypeError: 'Subnet' object has no attribute '__getitem__'\n\nThis commit bumps it to safe Rocky's 0.17.2 in an attempt to fix the\nissue.\n\nChange-Id: I3577020b3fb6b91eb99204e5cd15072490532e12\n""}]",0,693284,1c43c068335a66dccb3577a6c2c6ed132ed819af,6,3,1,11600,,,0,"Bump openstacksdk to 0.17.2

Looks like Ia87bf68bdade3e6f7f752d013f4bdb29bfa5d444 broke
neutron_to_osvif_subnet and now lower-constraints gate fails with:

 TypeError: 'Subnet' object has no attribute '__getitem__'

This commit bumps it to safe Rocky's 0.17.2 in an attempt to fix the
issue.

Change-Id: I3577020b3fb6b91eb99204e5cd15072490532e12
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/84/693284/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,1c43c068335a66dccb3577a6c2c6ed132ed819af,update-openstacksdk,openstacksdk==0.17.2,openstacksdk==0.13.0,2,2
openstack%2Fkolla~master~If9fbffe3c1753fde2c0e1e9562d664dca03cc02d,openstack/kolla,master,If9fbffe3c1753fde2c0e1e9562d664dca03cc02d,CI: Remove collectd roles,MERGED,2019-11-12 10:30:42.000000000,2019-11-14 13:14:08.000000000,2019-11-14 13:12:44.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28471}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-12 10:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf3595d600716a8f0286f79da40cddd36a3dcc33', 'message': 'Remove collectd roles\n\nCollectd roles have been used in the past in CI for collecting data\nand drawing rrd graphs. It has been disabled since Dec 2018 [1].\n\n[1]: https://opendev.org/openstack/kolla/commit/65296e27e665a431b786944224195ba7593473bc\n\nChange-Id: If9fbffe3c1753fde2c0e1e9562d664dca03cc02d\n'}, {'number': 2, 'created': '2019-11-12 11:03:52.000000000', 'files': ['roles/collect-collectd/tasks/main.yml', 'roles/collectd/tasks/main.yml', 'roles/collectd/templates/collectd.conf.j2', 'roles/collectd/defaults/main.yml', 'roles/collect-collectd/files/rrdtool_graph.py', 'roles/collectd/handlers/main.yml', 'roles/collect-collectd/templates/graph.html.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f89b95ad8e5e80266264b528c3abc279d0653c44', 'message': 'CI: Remove collectd roles\n\nCollectd roles have been used in the past in CI for collecting data\nand drawing rrd graphs. It has been disabled since Dec 2018 [1].\n\n[1]: https://opendev.org/openstack/kolla/commit/65296e27e665a431b786944224195ba7593473bc\n\nChange-Id: If9fbffe3c1753fde2c0e1e9562d664dca03cc02d\n'}]",0,693803,f89b95ad8e5e80266264b528c3abc279d0653c44,15,8,2,22629,,,0,"CI: Remove collectd roles

Collectd roles have been used in the past in CI for collecting data
and drawing rrd graphs. It has been disabled since Dec 2018 [1].

[1]: https://opendev.org/openstack/kolla/commit/65296e27e665a431b786944224195ba7593473bc

Change-Id: If9fbffe3c1753fde2c0e1e9562d664dca03cc02d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/693803/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/collect-collectd/tasks/main.yml', 'roles/collectd/tasks/main.yml', 'roles/collectd/defaults/main.yml', 'roles/collectd/templates/collectd.conf.j2', 'roles/collect-collectd/files/rrdtool_graph.py', 'roles/collectd/handlers/main.yml', 'roles/collect-collectd/templates/graph.html.j2']",7,bf3595d600716a8f0286f79da40cddd36a3dcc33,,,"<!DOCTYPE html> <html> <head> <meta charset=""UTF-8"" /> <meta name=""viewport"" content=""width=device-width"" /> <title>Graph.html</title> </head> <body> {% for graph in graphs %} <div> <h2> Grap for {{ graph }} </h2> <img src=""{{ graph }}"" width=""50%"" alt=""{{ graph }}""/> </div> {% endfor %} </body> </html> ",0,353
openstack%2Ffreezer-api~master~If0f7d8322de39881963af760c0670d5225a1a47d,openstack/freezer-api,master,If0f7d8322de39881963af760c0670d5225a1a47d,Update devstack doc,MERGED,2019-11-14 11:30:06.000000000,2019-11-14 13:04:28.000000000,2019-11-14 13:04:28.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 11:30:06.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/712e5fe3472cec72434cb4d01df529bfdd4e74e1', 'message': 'Update devstack doc\n\nAdd a sample local.conf file for freezer developer.\n\nChange-Id: If0f7d8322de39881963af760c0670d5225a1a47d\n'}]",0,694251,712e5fe3472cec72434cb4d01df529bfdd4e74e1,6,2,1,21069,,,0,"Update devstack doc

Add a sample local.conf file for freezer developer.

Change-Id: If0f7d8322de39881963af760c0670d5225a1a47d
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/51/694251/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,712e5fe3472cec72434cb4d01df529bfdd4e74e1,,To use the uwsgi server set the following environment variable:: export FREEZER_API_SERVER_TYPE=uwsgiFor example to make use of port 19090 use:: export FREEZER_API_PORT=19090To use the sqlachemy set the following environment variable:: export FREEZER_BACKEND='sqlalchemy' This is a sample local.conf file for freezer developer:: [[local|localrc]] ADMIN_PASSWORD=stack DATABASE_PASSWORD=stack RABBIT_PASSWORD=stack SERVICE_PASSWORD=$ADMIN_PASSWORD DEST=/opt/stack LOGFILE=$DEST/logs/stack.sh.log # only install keystone/horizon/swift in devstack # disable_all_services # enable_service key mysql s-proxy s-object s-container s-account horizon enable_plugin freezer http://git.openstack.org/openstack/freezer master enable_plugin freezer-api http://git.openstack.org/openstack/freezer-api.git master enable_plugin freezer-tempest-plugin http://git.openstack.org/openstack/freezer-tempest-plugin.git master enable_plugin freezer-web-ui http://git.openstack.org/openstack/freezer-web-ui.git master export FREEZER_BACKEND='sqlalchemy' https://docs.openstack.org/devstack/latest/index.html,To use the uwsgi server set the following environment variable: export FREEZER_API_SERVER_TYPE=uwsgiFor example to make use of port 19090 use: export FREEZER_API_PORT=19090To use the sqlachemy set the following environment variable: export FREEZER_BACKEND='sqlalchemy' https://docs.openstack.org/devstack/latest/plugins.html,29,7
openstack%2Fkayobe~stable%2Fqueens~Ib5fb726600debee5df1f7085ea37b583bfccefcf,openstack/kayobe,stable/queens,Ib5fb726600debee5df1f7085ea37b583bfccefcf,Fix kolla ansible virtualenv creation on the seed,MERGED,2019-11-14 09:55:56.000000000,2019-11-14 12:53:19.000000000,2019-11-14 12:53:19.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 09:55:56.000000000', 'files': ['ansible/kolla-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/306ac9812e6644ad930189e243253d61270d1605', 'message': 'Fix kolla ansible virtualenv creation on the seed\n\nBackport: Stein, Rocky, Queens\n\nIn https://review.opendev.org/#/c/671502/ kolla ansible virtualenv\ncreation was modified to only happen on hosts in the kolla-ansible\ninventory. However, that change omitted the seed. It passed CI because\nthe seed and overcloud are both in the inventory.\n\nThis change adds the seed group to the inventory_hostname lookup.\n\nChange-Id: Ib5fb726600debee5df1f7085ea37b583bfccefcf\nStory: 2006247\nTask: 37368\n(cherry picked from commit e4f8a5de8e90abcf7084712848f47cbf3262d6bf)\n'}]",0,694226,306ac9812e6644ad930189e243253d61270d1605,7,3,1,14826,,,0,"Fix kolla ansible virtualenv creation on the seed

Backport: Stein, Rocky, Queens

In https://review.opendev.org/#/c/671502/ kolla ansible virtualenv
creation was modified to only happen on hosts in the kolla-ansible
inventory. However, that change omitted the seed. It passed CI because
the seed and overcloud are both in the inventory.

This change adds the seed group to the inventory_hostname lookup.

Change-Id: Ib5fb726600debee5df1f7085ea37b583bfccefcf
Story: 2006247
Task: 37368
(cherry picked from commit e4f8a5de8e90abcf7084712848f47cbf3262d6bf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/26/694226/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-target-venv.yml'],1,306ac9812e6644ad930189e243253d61270d1605,," hosts_in_kolla_inventory: >- map(attribute='groups') | flatten | unique | union(['seed']) | join(':') }} - inventory_hostname in query('inventory_hostnames', hosts_in_kolla_inventory)"," overcloud_nodes_in_kolla_inventory: >- map(attribute='groups') | flatten | unique | join(':') }} - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)",3,3
openstack%2Fkarbor~master~I7a8a374f3978bc08a47c11b657252946339dd6b8,openstack/karbor,master,I7a8a374f3978bc08a47c11b657252946339dd6b8,Add unit tests for quota_class_update api,MERGED,2019-11-12 09:46:13.000000000,2019-11-14 12:48:24.000000000,2019-11-14 12:46:57.000000000,"[{'_account_id': 10068}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-12 09:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ca35ed84c7b96deee347d1c628b4c488ea53dcfc', 'message': 'Add unit test for quota_class_update api\n\nChange-Id: I7a8a374f3978bc08a47c11b657252946339dd6b8\n'}, {'number': 2, 'created': '2019-11-12 10:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5ac35ce6603a6a42659d428e7ebf44ff3f20791d', 'message': 'Add unit test for quota_class_update api\n\nChange-Id: I7a8a374f3978bc08a47c11b657252946339dd6b8\n'}, {'number': 3, 'created': '2019-11-12 13:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ef19d62d3978af8a4481b2b6194f1ef1e66f7eec', 'message': 'Add unit test for quota_class_update api\n\nChange-Id: I7a8a374f3978bc08a47c11b657252946339dd6b8\n'}, {'number': 4, 'created': '2019-11-13 04:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/dce163b1c3e12f647fcde322b306b1309a71f564', 'message': 'Add unit test for quota_class_update api\n\nChange-Id: I7a8a374f3978bc08a47c11b657252946339dd6b8\n'}, {'number': 5, 'created': '2019-11-14 02:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/839ce153e3f5149f82ff1a6b3b049f65ef8694a3', 'message': 'Add unit test for quota_class_update api\n\nChange-Id: I7a8a374f3978bc08a47c11b657252946339dd6b8\n'}, {'number': 6, 'created': '2019-11-14 11:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/44dd8bc7df91a9bb6bd06e03eda30cd780a7a199', 'message': 'Add unit test for quota_class_update api\n\nChange-Id: I7a8a374f3978bc08a47c11b657252946339dd6b8\n'}, {'number': 7, 'created': '2019-11-14 11:28:22.000000000', 'files': ['karbor/tests/unit/api/v1/test_quota_classes.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/5cbb6dcbc9caa9071fb758e4d8615b5de4eea821', 'message': 'Add unit tests for quota_class_update api\n\nChange-Id: I7a8a374f3978bc08a47c11b657252946339dd6b8\n'}]",1,693795,5cbb6dcbc9caa9071fb758e4d8615b5de4eea821,25,4,7,31268,,,0,"Add unit tests for quota_class_update api

Change-Id: I7a8a374f3978bc08a47c11b657252946339dd6b8
",git fetch https://review.opendev.org/openstack/karbor refs/changes/95/693795/6 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/api/v1/test_quota_classes.py'],1,ca35ed84c7b96deee347d1c628b4c488ea53dcfc,," def test_quota_update_with_invalid_project_id(self): quota_class = self._quota_in_request_body() body = {""quota_class"": quota_class} req = fakes.HTTPRequest.blank( '/v1/quota_classes/111', use_admin_context=True) self.assertRaises(exc.HTTPBadRequest, self.controller.update, req, INVALID_PROJECT_ID, body=body) def test_quota_update_with_invalid_type_value(self): body = {""quota_class"": {""plans"": ""fakevalue""}} req = fakes.HTTPRequest.blank( '/v1/quota_classes/73f74f90a1754bd7ad658afb3272323f', use_admin_context=True) self.assertRaises(exc.HTTPBadRequest, self.controller.update, req, ""73f74f90a1754bd7ad658afb3272323f"", body=body) def test_quota_update_with_invalid_num_value(self): body = {""quota_class"": {""plans"": -2}} req = fakes.HTTPRequest.blank( '/v1/quota_classes/73f74f90a1754bd7ad658afb3272323f', use_admin_context=True) self.assertRaises(exc.HTTPBadRequest, self.controller.update, req, ""73f74f90a1754bd7ad658afb3272323f"", body=body) ",,25,0
openstack%2Fnetworking-l2gw~master~I6918313febc128624aeb724a172ddca1359159fd,openstack/networking-l2gw,master,I6918313febc128624aeb724a172ddca1359159fd,Fix misspell word.,MERGED,2019-10-15 09:47:28.000000000,2019-11-14 12:34:12.000000000,2019-11-14 12:34:12.000000000,"[{'_account_id': 8313}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-10-15 09:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/183a4667c11cf8c90963c95d79aca1ea1a22a973', 'message': 'Fix misspell word\n\nChange-Id: I6918313febc128624aeb724a172ddca1359159fd\n'}, {'number': 2, 'created': '2019-10-16 13:39:16.000000000', 'files': ['networking_l2gw/services/l2gateway/agent/ovsdb/base_connection.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/91f4ca2b6c11edaaf90601cef9e500fdaaac5b2d', 'message': 'Fix misspell word.\n\nChange-Id: I6918313febc128624aeb724a172ddca1359159fd\n'}]",0,688665,91f4ca2b6c11edaaf90601cef9e500fdaaac5b2d,12,4,2,30717,,,0,"Fix misspell word.

Change-Id: I6918313febc128624aeb724a172ddca1359159fd
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/65/688665/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_l2gw/services/l2gateway/agent/ovsdb/base_connection.py'],1,183a4667c11cf8c90963c95d79aca1ea1a22a973,," ""expecting the ovsdb identifier and ovsdb IP """," ""expecting the ovsdb identifier and ovdb IP """,1,1
openstack%2Fkolla-ansible~master~Ib49ea586d36ae32d01b9610a48b13798db4a4cd5,openstack/kolla-ansible,master,Ib49ea586d36ae32d01b9610a48b13798db4a4cd5,Fix keystone fernet rotation for source images,MERGED,2019-11-05 12:10:23.000000000,2019-11-14 12:02:47.000000000,2019-11-07 10:27:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-05 12:10:23.000000000', 'files': ['ansible/roles/keystone/templates/crontab.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d09ee49afc19ad5e752755e14ac46b9af1524bdf', 'message': 'Fix keystone fernet rotation for source images\n\nIn source images, keystone-manage is installed to a virtualenv in\n/var/lib/kolla/venv. This is not in the PATH for cron jobs, which always\nuse PATH=/usr/bin:/bin. This results in the following error:\n\n/usr/bin/fernet-rotate.sh: line 3: keystone-manage: command not found\n\nHowever this error is not typically visible, since cron logs to syslog\nand we do not configure fluentd to collect these logs.\n\nThis change configures the PATH in the fernet-rotate.sh script for\nsource images.\n\nChange-Id: Ib49ea586d36ae32d01b9610a48b13798db4a4cd5\nCloses-Bug: #1850711\n'}]",0,692990,d09ee49afc19ad5e752755e14ac46b9af1524bdf,12,4,1,14826,,,0,"Fix keystone fernet rotation for source images

In source images, keystone-manage is installed to a virtualenv in
/var/lib/kolla/venv. This is not in the PATH for cron jobs, which always
use PATH=/usr/bin:/bin. This results in the following error:

/usr/bin/fernet-rotate.sh: line 3: keystone-manage: command not found

However this error is not typically visible, since cron logs to syslog
and we do not configure fluentd to collect these logs.

This change configures the PATH in the fernet-rotate.sh script for
source images.

Change-Id: Ib49ea586d36ae32d01b9610a48b13798db4a4cd5
Closes-Bug: #1850711
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/692990/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/templates/crontab.j2'],1,d09ee49afc19ad5e752755e14ac46b9af1524bdf,bug/1850711,"{# Cron uses a PATH of /usr/bin:/bin by default, which does not include the #} {# virtualenv in source images. #} {% if keystone_install_type == 'source' %} PATH=/var/lib/kolla/venv/bin:/usr/bin:/bin {% endif %} ",,6,0
openstack%2Fkolla-ansible~master~Ib79796d49c415d8314ea5661a16bd2dac8ba7188,openstack/kolla-ansible,master,Ib79796d49c415d8314ea5661a16bd2dac8ba7188,Fix indentation of HAProxy internal http-request config,MERGED,2019-11-05 14:31:45.000000000,2019-11-14 12:02:13.000000000,2019-11-06 12:06:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-05 14:31:45.000000000', 'files': ['ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76ae7eff7f494193e42fae5b0ceac92766e76114', 'message': 'Fix indentation of HAProxy internal http-request config\n\nRelated: blueprint add-ssl-internal-network\nCo-Authored-By: generalfuzz <generalfuzz@gmail.com>\n\nChange-Id: Ib79796d49c415d8314ea5661a16bd2dac8ba7188\n'}]",0,693018,76ae7eff7f494193e42fae5b0ceac92766e76114,12,6,1,14826,,,0,"Fix indentation of HAProxy internal http-request config

Related: blueprint add-ssl-internal-network
Co-Authored-By: generalfuzz <generalfuzz@gmail.com>

Change-Id: Ib79796d49c415d8314ea5661a16bd2dac8ba7188
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/693018/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2'],1,76ae7eff7f494193e42fae5b0ceac92766e76114,bp/add-ssl-internal-network, http-request set-header X-Forwarded-Proto https if { ssl_fc }, http-request set-header X-Forwarded-Proto https if { ssl_fc },1,1
openstack%2Fkolla-ansible~master~Id611fd2fa71eb54ca08d1f68de9505d28ad4ea40,openstack/kolla-ansible,master,Id611fd2fa71eb54ca08d1f68de9505d28ad4ea40,CI: Don't always build images for Debian,MERGED,2019-11-07 09:39:06.000000000,2019-11-14 12:01:38.000000000,2019-11-11 16:34:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-07 09:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4893a61669bf0c63e67730aacef941fde4adb038', 'message': ""CI: Don't always build images for Debian\n\nDebian source images are published now.\n\nChange-Id: Id611fd2fa71eb54ca08d1f68de9505d28ad4ea40\n""}, {'number': 2, 'created': '2019-11-07 10:32:54.000000000', 'files': ['tests/run.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e18e40eb6a374eff57c19989217cd8afbce45a25', 'message': ""CI: Don't always build images for Debian\n\nDebian source images are published now.\n\nChange-Id: Id611fd2fa71eb54ca08d1f68de9505d28ad4ea40\n""}]",0,693326,e18e40eb6a374eff57c19989217cd8afbce45a25,15,4,2,14826,,,0,"CI: Don't always build images for Debian

Debian source images are published now.

Change-Id: Id611fd2fa71eb54ca08d1f68de9505d28ad4ea40
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/693326/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,4893a61669bf0c63e67730aacef941fde4adb038,,," # NOTE(hrw): we do not publish Debian images (yet) - name: enable building images for Debian set_fact: need_build_image: true when: ansible_distribution == ""Debian"" ",0,7
openstack%2Ftripleo-quickstart~master~I682d82c8ef095996dad9a78f02b7849933962be9,openstack/tripleo-quickstart,master,I682d82c8ef095996dad9a78f02b7849933962be9,Configuring ceph-ansible rpm package,ABANDONED,2019-11-08 12:32:01.000000000,2019-11-14 11:53:30.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 12:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9e538b66292bb5c0a0f3760ba2036b06f267de23', 'message': 'DNM - Testing ceph-ansible rpm build\n\nChange-Id: I682d82c8ef095996dad9a78f02b7849933962be9\n'}, {'number': 2, 'created': '2019-11-08 12:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/56094bda4adae0244aa886f444557b13831c2fcc', 'message': 'DNM - Testing ceph-ansible rpm build\n\nChange-Id: I682d82c8ef095996dad9a78f02b7849933962be9\n'}, {'number': 3, 'created': '2019-11-08 13:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/89f565fdb0685e94164333320aff129d92d68860', 'message': 'DNM - Testing ceph-ansible rpm build\n\nChange-Id: I682d82c8ef095996dad9a78f02b7849933962be9\n'}, {'number': 4, 'created': '2019-11-08 13:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d409cda7921ce36f8158aa03c13d1484c5732ae7', 'message': 'DNM - Testing ceph-ansible rpm build\n\nChange-Id: I682d82c8ef095996dad9a78f02b7849933962be9\n'}, {'number': 5, 'created': '2019-11-11 09:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b9f08b050a7cd2d2b7c759068afa0de34bfc777a', 'message': ""Configuring ceph-ansible rpm package\n\nThere's a lp that force us to use the ceph-ansible package\nceph-ansible-4.0.0-0.1.rc16.1, so, in order to gate the latest changes\nin ceph-ansible, we also need to add the ceph-ansible in the\nundercloud_rpm_dependences, to get the latest version, when we add the\nrpm-built repo.\n\nChange-Id: I682d82c8ef095996dad9a78f02b7849933962be9\n""}, {'number': 6, 'created': '2019-11-13 08:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ce8f36697a0e7370f32883b4268935980a006a8e', 'message': ""Configuring ceph-ansible rpm package\n\nThere's a lp 1841941 that force us to use the ceph-ansible package\nceph-ansible-4.0.0-0.1.rc16.1, so, in order to gate the latest changes\nin ceph-ansible, we also need to add the ceph-ansible in the\nundercloud_rpm_dependences, to get the latest version, when we add the\nrpm-built repo.\n\nChange-Id: I682d82c8ef095996dad9a78f02b7849933962be9\n""}, {'number': 7, 'created': '2019-11-13 09:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/05f4e583b44b74fdcc60535cebb4971fb239b97d', 'message': 'Configuring ceph-ansible rpm package\n\nIn order to gate ceph-ansible on github, we need to add the ceph-ansible\npackage in the undercloud_rpm_dependences variable. This is required\nbecause of launchpad bug 1841941 that force us to use the ceph-ansible package\nceph-ansible-4.0.0-0.1.rc16.1.\nOn ceph-ansible githug gate job, with this change, it will install\nproperly the latest version since is bigger than 4.0.0. In non\nceph-ansible gate jobs, it will work as expected, and install\nceph-ansible 4.0.0\n\nChange-Id: I682d82c8ef095996dad9a78f02b7849933962be9\n'}, {'number': 8, 'created': '2019-11-13 09:12:09.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bc41dbb4dd0a588077bfd374bd7ab5446a672fc0', 'message': 'Configuring ceph-ansible rpm package\n\nIn order to gate ceph-ansible on github, we need to add the ceph-ansible\npackage in the undercloud_rpm_dependences variable. This is required\nbecause of launchpad bug 1841941 that force us to use the ceph-ansible package\nceph-ansible-4.0.0-0.1.rc16.1.\nOn ceph-ansible githug gate job, with this change, it will install\nproperly the latest version since is bigger than 4.0.0. In non\nceph-ansible gate jobs, it will work as expected, and install\nceph-ansible 4.0.0\n\nChange-Id: I682d82c8ef095996dad9a78f02b7849933962be9\n'}]",5,693531,bc41dbb4dd0a588077bfd374bd7ab5446a672fc0,24,6,8,8367,,,0,"Configuring ceph-ansible rpm package

In order to gate ceph-ansible on github, we need to add the ceph-ansible
package in the undercloud_rpm_dependences variable. This is required
because of launchpad bug 1841941 that force us to use the ceph-ansible package
ceph-ansible-4.0.0-0.1.rc16.1.
On ceph-ansible githug gate job, with this change, it will install
properly the latest version since is bigger than 4.0.0. In non
ceph-ansible gate jobs, it will work as expected, and install
ceph-ansible 4.0.0

Change-Id: I682d82c8ef095996dad9a78f02b7849933962be9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/31/693531/8 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/RedHat-8/master.yml'],1,9e538b66292bb5c0a0f3760ba2036b06f267de23,kinda-magic, # sudo dnf install -y ${NODEPOOL_RDO_PROXY}/rhel8-master/deps/latest/Packages/ceph-ansible-4.0.0-0.1.rc16.1.el8.noarch.rpm, sudo dnf install -y ${NODEPOOL_RDO_PROXY}/rhel8-master/deps/latest/Packages/ceph-ansible-4.0.0-0.1.rc16.1.el8.noarch.rpm,1,1
openstack%2Fdiskimage-builder~master~I54d9a0f43240c4e76b645e632ba24a793ba79aee,openstack/diskimage-builder,master,I54d9a0f43240c4e76b645e632ba24a793ba79aee,Remove unused job,MERGED,2019-11-13 07:01:43.000000000,2019-11-14 11:51:29.000000000,2019-11-14 11:47:23.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 07:01:43.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/76389d0afe3494eb229fcbf98ee7a42901b2d05a', 'message': 'Remove unused job\n\nThe job dib-nodepool-functional-openstack-opensuse-150-src has been\nreplaced by  dib-nodepool-functional-openstack-opensuse-15-src, remove\nthe now obsolete job.\n\nopenSUSE 15.0 is EOL in infra.\n\nChange-Id: I54d9a0f43240c4e76b645e632ba24a793ba79aee\n'}]",0,693990,76389d0afe3494eb229fcbf98ee7a42901b2d05a,18,5,1,6547,,,0,"Remove unused job

The job dib-nodepool-functional-openstack-opensuse-150-src has been
replaced by  dib-nodepool-functional-openstack-opensuse-15-src, remove
the now obsolete job.

openSUSE 15.0 is EOL in infra.

Change-Id: I54d9a0f43240c4e76b645e632ba24a793ba79aee
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/90/693990/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,76389d0afe3494eb229fcbf98ee7a42901b2d05a,opensuse-15.1,," name: dib-nodepool-functional-openstack-opensuse-150-src description: | Test building and booting an openSUSE 15.0 image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base nodeset: ubuntu-xenial # Bionic lacks zypper vars: nodepool_extra_packages: - zypper - gnupg2 nodepool_diskimage: base_element: opensuse-minimal release: '15.0' mirror: ""http://{{ zuul_site_mirror_fqdn }}/opensuse"" - job:",0,16
openstack%2Fkayobe~master~I75ace6878d36cb523c38a33daa9eecd62826fe43,openstack/kayobe,master,I75ace6878d36cb523c38a33daa9eecd62826fe43,Fix customised inventory section,MERGED,2019-10-02 11:55:27.000000000,2019-11-14 11:51:05.000000000,2019-11-14 11:49:42.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-10-02 11:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/639bf32fce87861b8b66c69a1d7fef3498c30bec', 'message': 'Fix customised inventory section\n\nAdd a note to base customised inventory on a kayobe kolla-ansible\nrole template.\n\nChange-Id: I75ace6878d36cb523c38a33daa9eecd62826fe43\n'}, {'number': 2, 'created': '2019-10-02 15:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1e713b3d19f866b78080712dd1e8b82332648fa8', 'message': 'Fix customised inventory section\n\nAdd a note to base customised inventory on a kayobe kolla-ansible\nrole template.\n\nChange-Id: I75ace6878d36cb523c38a33daa9eecd62826fe43\n'}, {'number': 3, 'created': '2019-10-02 15:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0b2bf7fb7b272c949b1add193f831bdecc7a23c8', 'message': 'Fix customised inventory section\n\nAdd a note to base customised inventory on a kayobe kolla-ansible\nrole template.\n\nChange-Id: I75ace6878d36cb523c38a33daa9eecd62826fe43\n'}, {'number': 4, 'created': '2019-10-03 09:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2ce87fa1ce0e96b90b73a47067ff6b322e2352a4', 'message': 'Fix customised inventory section\n\nAdd a note to base customised inventory on a kayobe kolla-ansible\nrole template.\n\nChange-Id: I75ace6878d36cb523c38a33daa9eecd62826fe43\n'}, {'number': 5, 'created': '2019-11-14 10:16:00.000000000', 'files': ['doc/source/control-plane-service-placement.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ed8e1a63da62b350547e52232d8142ce14dc7487', 'message': 'Fix customised inventory section\n\nAdd a note to base customised inventory on a kayobe kolla-ansible\ninventory template.\n\nChange-Id: I75ace6878d36cb523c38a33daa9eecd62826fe43\n'}]",8,686141,ed8e1a63da62b350547e52232d8142ce14dc7487,23,4,5,22629,,,0,"Fix customised inventory section

Add a note to base customised inventory on a kayobe kolla-ansible
inventory template.

Change-Id: I75ace6878d36cb523c38a33daa9eecd62826fe43
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/686141/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/control-plane-service-placement.rst'],1,639bf32fce87861b8b66c69a1d7fef3498c30bec,custom_inv_docs,.. note:: Please use ``kolla/roles/kolla-ansible/templates/overcloud-components-j2`` as base for your customised inventory section. ,,4,0
openstack%2Fkayobe~stable%2Fqueens~Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef,openstack/kayobe,stable/queens,Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef,Only set up the kolla ansible venv on hosts in the kolla ansible inventory,MERGED,2019-11-04 14:26:11.000000000,2019-11-14 11:49:39.000000000,2019-11-14 11:49:39.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-11-04 14:26:11.000000000', 'files': ['ansible/kolla-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0d03af48ae1db299be4492f9622f186f37e9d6a2', 'message': 'Only set up the kolla ansible venv on hosts in the kolla ansible inventory\n\nChange-Id: Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef\nStory: 2006247\nTask: 35856\n(cherry picked from commit 300f90134e7d4bdc298cc050d60f67476145c87b)\n'}]",0,692826,0d03af48ae1db299be4492f9622f186f37e9d6a2,7,4,1,14826,,,0,"Only set up the kolla ansible venv on hosts in the kolla ansible inventory

Change-Id: Iaed6320f23a4dfe7a69e2921d363bf3bdcf035ef
Story: 2006247
Task: 35856
(cherry picked from commit 300f90134e7d4bdc298cc050d60f67476145c87b)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/26/692826/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-target-venv.yml'],1,0d03af48ae1db299be4492f9622f186f37e9d6a2,kolla-venv-stable/queens," vars: # kolla_overcloud_inventory_top_level_group_map looks like: # kolla_overcloud_inventory_top_level_group_map: # control: # groups: # - controllers overcloud_nodes_in_kolla_inventory: >- {{ kolla_overcloud_inventory_top_level_group_map.values() | map(attribute='groups') | flatten | unique | join(':') }} when: - kolla_ansible_target_venv is not none - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)", when: kolla_ansible_target_venv is not none,12,1
openstack%2Ftripleo-common~master~Ib65d318c527dbe55693860eb367677a58c68a9a1,openstack/tripleo-common,master,Ib65d318c527dbe55693860eb367677a58c68a9a1,Fix execution of custom vs default validations,ABANDONED,2018-09-04 12:25:43.000000000,2019-11-14 11:40:46.000000000,,"[{'_account_id': 7144}, {'_account_id': 9317}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-04 12:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/247b116b07e00c3d7b775047c5cf9ec89dd4d447', 'message': 'Fix execution of custom vs default validations\n\nIn some cases, deleted custom validations were being selected\nfor execution. This is due to the yaml files being found in\n/tmp even after they have been deleted from Swift. This patch\nfixes that by simply downloading the whole validations container\nthus making sure that any stale files get overwritten.\n\nChange-Id: Ib65d318c527dbe55693860eb367677a58c68a9a1\nStory: 2003624\n'}, {'number': 2, 'created': '2018-11-09 08:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c2c69803475609ef7ee1bd58b13a93f3417acf8a', 'message': 'Fix execution of custom vs default validations\n\nIn some cases, deleted custom validations were being selected\nfor execution. This is due to the yaml files being found in\n/tmp even after they have been deleted from Swift. This patch\nfixes that by simply downloading the whole validations container\nthus making sure that any stale files get overwritten.\n\nChange-Id: Ib65d318c527dbe55693860eb367677a58c68a9a1\nStory: 2003624\n'}, {'number': 3, 'created': '2019-04-08 12:35:10.000000000', 'files': ['tripleo_common/utils/validations.py', 'tripleo_common/utils/swift.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c85c06ab18bec6ccf162bd8f3b4c68558f2892f8', 'message': 'Fix execution of custom vs default validations\n\nIn some cases, deleted custom validations were being selected\nfor execution. This is due to the yaml files being found in\n/tmp even after they have been deleted from Swift. This patch\nfixes that by simply downloading the whole validations container\nthus making sure that any stale files get overwritten.\n\nChange-Id: Ib65d318c527dbe55693860eb367677a58c68a9a1\nStory: 2003624\n'}]",1,599581,c85c06ab18bec6ccf162bd8f3b4c68558f2892f8,18,5,3,9317,,,0,"Fix execution of custom vs default validations

In some cases, deleted custom validations were being selected
for execution. This is due to the yaml files being found in
/tmp even after they have been deleted from Swift. This patch
fixes that by simply downloading the whole validations container
thus making sure that any stale files get overwritten.

Change-Id: Ib65d318c527dbe55693860eb367677a58c68a9a1
Story: 2003624
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/81/599581/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/validations.py', 'tripleo_common/utils/swift.py']",2,247b116b07e00c3d7b775047c5cf9ec89dd4d447,story/2003624,"def download_container(swiftclient, container, dest): if not os.path.exists(dirname): os.makedirs(dirname) with open(path, 'w') as f: f.write(contents)","import dateutil.parserdef download_container(swiftclient, container, dest, overwrite_only_newer=False): is_newer = False already_exists = os.path.exists(path) if already_exists: last_mod_swift = int(dateutil.parser.parse( obj['last_modified']).strftime('%s')) last_mod_disk = int(os.path.getmtime(path)) if last_mod_swift > last_mod_disk: is_newer = True # write file if `overwrite_only_newer` is not set, # or if file does not exist at destination, # or if we found a newer file at source if (not overwrite_only_newer or not already_exists or (overwrite_only_newer and is_newer)): if not os.path.exists(dirname): os.makedirs(dirname) with open(path, 'w') as f: f.write(contents)",6,25
openstack%2Fnova~master~I1b7657b450676cd537b4afaf6773e940f65314a6,openstack/nova,master,I1b7657b450676cd537b4afaf6773e940f65314a6,Stop converting Migration objects to dicts for migrate_instance_start,MERGED,2019-10-22 15:51:29.000000000,2019-11-14 11:32:59.000000000,2019-11-14 08:29:57.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-22 15:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bacb14715f24e97f6d613a30c6b66d0303436a7', 'message': ""Stop converting Migration objects to dicts for migrate_instance_start\n\nThe Migration object has the NovaObjectDictCompat mixin so we can\njust pass the Migration object directly to the migrate_instance_start\nmethod and it works like a dict so this change removes the unnecessary\nobj_to_primitive conversion in a couple of spots. Apparently there were\nno tests that actually cared about that conversion either.\n\nLong-term the migrate_instance_start method should enfroce that an\nobject is passed rather than a dict but that's a much bigger effort\nleft for another day.\n\nChange-Id: I1b7657b450676cd537b4afaf6773e940f65314a6\n""}, {'number': 2, 'created': '2019-10-23 21:02:27.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce50088cf2188e528ad13fd11b6544f0eaa99779', 'message': ""Stop converting Migration objects to dicts for migrate_instance_start\n\nThe Migration object has the NovaObjectDictCompat mixin so we can\njust pass the Migration object directly to the migrate_instance_start\nmethod and it works like a dict so this change removes the unnecessary\nobj_to_primitive conversion in a couple of spots. Apparently there were\nno tests that actually cared about that conversion either.\n\nLong-term the migrate_instance_start method should enfroce that an\nobject is passed rather than a dict but that's a much bigger effort\nleft for another day.\n\nChange-Id: I1b7657b450676cd537b4afaf6773e940f65314a6\n""}]",1,690115,ce50088cf2188e528ad13fd11b6544f0eaa99779,48,13,2,6873,,,0,"Stop converting Migration objects to dicts for migrate_instance_start

The Migration object has the NovaObjectDictCompat mixin so we can
just pass the Migration object directly to the migrate_instance_start
method and it works like a dict so this change removes the unnecessary
obj_to_primitive conversion in a couple of spots. Apparently there were
no tests that actually cared about that conversion either.

Long-term the migrate_instance_start method should enfroce that an
object is passed rather than a dict but that's a much bigger effort
left for another day.

Change-Id: I1b7657b450676cd537b4afaf6773e940f65314a6
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/690115/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,4bacb14715f24e97f6d613a30c6b66d0303436a7,neutronapi-migrate-instance-finish, migration) migration), migration_p = obj_base.obj_to_primitive(migration) migration_p) migration_p = obj_base.obj_to_primitive(migration) migration_p),2,4
openstack%2Fnova~master~Ice8b167d6fe026e7043a0899f399a62e25dcfcd1,openstack/nova,master,Ice8b167d6fe026e7043a0899f399a62e25dcfcd1,Require Migration object arg to migrate_instance_finish method,MERGED,2019-10-22 15:23:08.000000000,2019-11-14 11:31:09.000000000,2019-11-14 08:29:38.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-22 15:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/254abcc2e67bfb528000cf19abc47166f729e603', 'message': ""Require Migration object arg to migrate_instance_finish method\n\nThere is one place in the compute manager that is passing a dict\nfor the migration to the migrate_instance_finish method but a\nMigration object should be passed. The dict works because the\nMigration object uses the NovaObjectDictCompat mixin but that is\nsomething we'd like to eventually remove since it's nice to know\nif you're dealing with an object or a dict.\n\nThis converts the remaining uses of migrate_instance_finish that\nwere using a dict for the migration over to using an object.\n\nChange-Id: Ice8b167d6fe026e7043a0899f399a62e25dcfcd1\n""}, {'number': 2, 'created': '2019-10-23 21:02:27.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/network/api.py', 'nova/tests/unit/network/test_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2db294965ec1d0ff9636b4bf7f977e4742788b2d', 'message': ""Require Migration object arg to migrate_instance_finish method\n\nThere is one place in the compute manager that is passing a dict\nfor the migration to the migrate_instance_finish method but a\nMigration object should be passed. The dict works because the\nMigration object uses the NovaObjectDictCompat mixin but that is\nsomething we'd like to eventually remove since it's nice to know\nif you're dealing with an object or a dict.\n\nThis converts the remaining uses of migrate_instance_finish that\nwere using a dict for the migration over to using an object.\n\nChange-Id: Ice8b167d6fe026e7043a0899f399a62e25dcfcd1\n""}]",15,690106,2db294965ec1d0ff9636b4bf7f977e4742788b2d,51,13,2,6873,,,0,"Require Migration object arg to migrate_instance_finish method

There is one place in the compute manager that is passing a dict
for the migration to the migrate_instance_finish method but a
Migration object should be passed. The dict works because the
Migration object uses the NovaObjectDictCompat mixin but that is
something we'd like to eventually remove since it's nice to know
if you're dealing with an object or a dict.

This converts the remaining uses of migrate_instance_finish that
were using a dict for the migration over to using an object.

Change-Id: Ice8b167d6fe026e7043a0899f399a62e25dcfcd1
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/690106/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/network/api.py', 'nova/tests/unit/network/test_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",7,254abcc2e67bfb528000cf19abc47166f729e603,neutronapi-migrate-instance-finish," migration = objects.Migration(source_compute=instance.host, dest_compute=self.host, migration_type='live-migration')"," migration = {'source_compute': instance.host, 'dest_compute': self.host, 'migration_type': 'live-migration'}",28,16
openstack%2Fcookiecutter~master~I591475707205732e68e3e68231c417acf672277b,openstack/cookiecutter,master,I591475707205732e68e3e68231c417acf672277b,Stop configuring 'install_command',MERGED,2019-11-13 13:37:14.000000000,2019-11-14 11:16:40.000000000,2019-11-14 11:16:40.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-13 13:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/2c936ab3af139564e88ea1eb47951e7698adee67', 'message': ""Use python -m pip instead pip command.\n\nIt's recommand to use this way. With tox is not really necessary to do\nit but it can be good to use it. See this article:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nFor example python -m pip executes pip using the Python interpreter\nyou specified as python.\n\nChange-Id: I591475707205732e68e3e68231c417acf672277b\n""}, {'number': 2, 'created': '2019-11-14 09:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/00b19ab1a2002b9787a47353c3239ed9dfa36dc2', 'message': ""Use python -m pip instead pip command.\n\nIt's recommand to use this way. With tox is not really necessary to do\nit but it can be good to use it. See this article:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nFor example python -m pip executes pip using the Python interpreter\nyou specified as python. The default value of tox use this way, check\nhere:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I591475707205732e68e3e68231c417acf672277b\n""}, {'number': 3, 'created': '2019-11-14 11:15:56.000000000', 'files': ['{{cookiecutter.repo_name}}/tox.ini'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/c3d9c9fc714119db2b9d65b565a3dfa8e816de1e', 'message': ""Stop configuring 'install_command'\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead.\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I591475707205732e68e3e68231c417acf672277b\n""}]",3,694069,c3d9c9fc714119db2b9d65b565a3dfa8e816de1e,13,3,3,31245,,,0,"Stop configuring 'install_command'

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead.

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I591475707205732e68e3e68231c417acf672277b
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/69/694069/3 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/tox.ini'],1,2c936ab3af139564e88ea1eb47951e7698adee67,,install_command = {envpython} -m pip install {opts} {packages},install_command = pip install {opts} {packages},1,1
openstack%2Fkarbor~master~I268051f05f9b89e1b6013cfc8cecf90e9dc78581,openstack/karbor,master,I268051f05f9b89e1b6013cfc8cecf90e9dc78581,Fix get min interval error,MERGED,2019-11-14 01:38:24.000000000,2019-11-14 10:56:58.000000000,2019-11-14 10:54:06.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-14 01:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/22de3c6d0f54318a453b014b02aadbcbc39b86ef', 'message': 'Fix get min interval error\n\nWhen we use get_min_interval method, the exit condition is\nthe execution time is bigger than the rate time. But default\nminutes rate is 2, this may leads errors when the interval\nis bigger than 2 minutes, it always return None. So we can\nnot use min interval to judge if the interval is smaller than\nthat we configured in the configuration file. This should be\nfixed.\nStory: 2006848\nTask: 37436\n\nChange-Id: I268051f05f9b89e1b6013cfc8cecf90e9dc78581\n'}, {'number': 2, 'created': '2019-11-14 06:28:22.000000000', 'files': ['karbor/services/operationengine/engine/triggers/timetrigger/timeformats/calendar_time.py', 'karbor/tests/unit/operationengine/engine/triggers/timetrigger/timeformats/test_calendar_time.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/66d007e501c595d81276812c30b15565dbf73208', 'message': 'Fix get min interval error\n\nWhen we use get_min_interval method, the exit condition is\nthe execution time is bigger than the rate time. But default\nminutes rate is 2, this may leads errors when the interval\nis bigger than 2 minutes, it always return None. So we can\nnot use min interval to judge if the interval is smaller than\nthat we configured in the configuration file. This should be\nfixed.\nStory: 2006848\nTask: 37436\n\nChange-Id: I268051f05f9b89e1b6013cfc8cecf90e9dc78581\n'}]",0,694186,66d007e501c595d81276812c30b15565dbf73208,10,3,2,21224,,,0,"Fix get min interval error

When we use get_min_interval method, the exit condition is
the execution time is bigger than the rate time. But default
minutes rate is 2, this may leads errors when the interval
is bigger than 2 minutes, it always return None. So we can
not use min interval to judge if the interval is smaller than
that we configured in the configuration file. This should be
fixed.
Story: 2006848
Task: 37436

Change-Id: I268051f05f9b89e1b6013cfc8cecf90e9dc78581
",git fetch https://review.opendev.org/openstack/karbor refs/changes/86/694186/2 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/operationengine/engine/triggers/timetrigger/timeformats/calendar_time.py', 'karbor/tests/unit/operationengine/engine/triggers/timetrigger/timeformats/test_calendar_time.py']",2,22de3c6d0f54318a453b014b02aadbcbc39b86ef,master-time-format," def test_get_min_interval_when_interval_is_bigger_than_default_rate(self): pattern = ( ""BEGIN:VEVENT\n"" ""RRULE:FREQ=MINUTELY;INTERVAL=5;\n"" ""END:VEVENT"" ) dtstart = datetime(2016, 2, 20, 17, 0, 0) time_obj = calendar_time.ICal(dtstart, pattern) self.assertEqual(300, time_obj.get_min_interval())",,16,20
openstack%2Fnova~master~I120e1ddd7946a371888bfc890b5979f2e19288cd,openstack/nova,master,I120e1ddd7946a371888bfc890b5979f2e19288cd,doc: add troubleshooting guide for cleaning up orphaned allocations,MERGED,2019-10-25 20:44:39.000000000,2019-11-14 10:48:47.000000000,2019-11-14 10:28:58.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-25 20:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2463223d43413d062045afff05fb18d90c5724d', 'message': 'doc: add troubleshooting guide for cleaning up orphaned allocations\n\nWhile we do not have an automated fix for bug 1849479 this provides\na troubleshooting document for working around that issue where\nallocations from a server that was evacuated from a down host need\nto be cleaned up manually in order to delete the resource provider\nand associated compute node/service.\n\nIn general this is also a useful guide for linking up the various\nresources and terms in nova and how they are reflected in placement\nwith the relevant commands which is probably something we should\ndo more of in our docs.\n\nChange-Id: I120e1ddd7946a371888bfc890b5979f2e19288cd\nRelated-Bug: #1829479\n'}, {'number': 2, 'created': '2019-10-28 18:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d05a2d5a0d47373ad314fc849002a4651e19c0b', 'message': 'doc: add troubleshooting guide for cleaning up orphaned allocations\n\nWhile we do not have an automated fix for bug 1849479 this provides\na troubleshooting document for working around that issue where\nallocations from a server that was evacuated from a down host need\nto be cleaned up manually in order to delete the resource provider\nand associated compute node/service.\n\nIn general this is also a useful guide for linking up the various\nresources and terms in nova and how they are reflected in placement\nwith the relevant commands which is probably something we should\ndo more of in our docs.\n\nChange-Id: I120e1ddd7946a371888bfc890b5979f2e19288cd\nRelated-Bug: #1829479\n'}, {'number': 3, 'created': '2019-11-13 20:31:49.000000000', 'files': ['doc/source/admin/troubleshooting/orphaned-allocations.rst', 'doc/source/cli/nova-manage.rst', 'doc/source/admin/support-compute.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/dcd3f516d2fa44c4056a307a11f6e14433476fb0', 'message': 'doc: add troubleshooting guide for cleaning up orphaned allocations\n\nWhile we do not have an automated fix for bug 1849479 this provides\na troubleshooting document for working around that issue where\nallocations from a server that was evacuated from a down host need\nto be cleaned up manually in order to delete the resource provider\nand associated compute node/service.\n\nIn general this is also a useful guide for linking up the various\nresources and terms in nova and how they are reflected in placement\nwith the relevant commands which is probably something we should\ndo more of in our docs.\n\nChange-Id: I120e1ddd7946a371888bfc890b5979f2e19288cd\nRelated-Bug: #1829479\n'}]",17,691427,dcd3f516d2fa44c4056a307a11f6e14433476fb0,38,13,3,6873,,,0,"doc: add troubleshooting guide for cleaning up orphaned allocations

While we do not have an automated fix for bug 1849479 this provides
a troubleshooting document for working around that issue where
allocations from a server that was evacuated from a down host need
to be cleaned up manually in order to delete the resource provider
and associated compute node/service.

In general this is also a useful guide for linking up the various
resources and terms in nova and how they are reflected in placement
with the relevant commands which is probably something we should
do more of in our docs.

Change-Id: I120e1ddd7946a371888bfc890b5979f2e19288cd
Related-Bug: #1829479
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/691427/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/troubleshooting/orphaned-allocations.rst', 'doc/source/cli/nova-manage.rst', 'doc/source/admin/support-compute.rst']",3,e2463223d43413d062045afff05fb18d90c5724d,bug/1829479-doc,.. todo:: Move the sections below into sub-pages for readability. .. toctree:: :maxdepth: 1 troubleshooting/orphaned-allocations.rst ,,172,0
openstack%2Fkarbor~master~Id84f40f5786d96438fc7fb84dafc96372a28d634,openstack/karbor,master,Id84f40f5786d96438fc7fb84dafc96372a28d634,Add verifications api doc,MERGED,2019-11-13 01:15:48.000000000,2019-11-14 10:46:04.000000000,2019-11-14 10:43:47.000000000,"[{'_account_id': 17130}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-13 01:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/06405a9d2b017cb13763da2c5848a5305c30cc3a', 'message': 'Add verifications api doc\n\nChange-Id: Id84f40f5786d96438fc7fb84dafc96372a28d634\nStory: 2006807\nTask: 37357\n'}, {'number': 2, 'created': '2019-11-13 02:49:38.000000000', 'files': ['api-ref/source/v1/samples/verification-create-response.json', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v1/samples/verifications-list-response.json', 'api-ref/source/v1/karbor-v1-verifications.inc'], 'web_link': 'https://opendev.org/openstack/karbor/commit/0970daeb5d6e1985a4162a773538f9eddacca137', 'message': 'Add verifications api doc\n\nChange-Id: Id84f40f5786d96438fc7fb84dafc96372a28d634\nStory: 2006807\nTask: 37357\n'}]",0,693956,0970daeb5d6e1985a4162a773538f9eddacca137,11,4,2,21224,,,0,"Add verifications api doc

Change-Id: Id84f40f5786d96438fc7fb84dafc96372a28d634
Story: 2006807
Task: 37357
",git fetch https://review.opendev.org/openstack/karbor refs/changes/56/693956/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/samples/verification-create-response.json', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v1/samples/verifications-list-response.json', 'api-ref/source/v1/karbor-v1-verifications.inc']",4,06405a9d2b017cb13763da2c5848a5305c30cc3a,api-doc-verifications,".. -*- rst -*- ============= Verifications ============= This API enables the Karbor user to do verifications of the specify checkpoint: - Create a verification for a given checkpoint. - List all verifications of a given project. - Show the information of a given verification. When you perform the above operation, these status values are possible: +-----------------+----------------------------------------------------------+ | Status | Description | +=================+==========================================================+ | in_progress | A verify operation is in progress. | +-----------------+----------------------------------------------------------+ | success | A verify operation is success. | +-----------------+----------------------------------------------------------+ | fail | A verify operation is failed. | +-----------------+----------------------------------------------------------+ List All Verifications ====================== .. rest_method:: GET /v1/{tenant_id}/verifications Lists all verifications offered for the given project. Response Codes -------------- .. rest_status_code:: success status.yaml - 200 .. rest_status_code:: error status.yaml - 401 - 403 Request ------- .. rest_parameters:: parameters.yaml - tenant_id: tenant_id - sort: sort - limit: limit - marker: marker Response -------- .. rest_parameters:: parameters.yaml - verifications: verifications - id: verification_id - project_id: tenant_id_1 - provider_id: provider_id - checkpoint_id: checkpoint_id - parameters: verification_parameters - status: verification_status - resources_status: resources_status - resources_reason: resources_reason - verifications_links: verifications_links Response Example ---------------- .. literalinclude:: ./samples/verifications-list-response.json :language: javascript Create verification =================== .. rest_method:: PUT /v1/{tenant_id}/verifications Execute the verify operation for the specified provider and checkpoint. Response codes -------------- .. rest_status_code:: success ../status.yaml - 200 .. rest_status_code:: error ../status.yaml - 401 - 403 - 404 Request ------- .. rest_parameters:: parameters.yaml - verification: verification - provider_id: provider_id - checkpoint_id: checkpoint_id - parameters: verification_parameters Request Example --------------- .. literalinclude:: ./samples/verification-create-request.json :language: javascript Response Parameters ------------------- .. rest_parameters:: parameters.yaml - verification: verification - id: verification_id - project_id: tenant_id_1 - provider_id: provider_id - checkpoint_id: checkpoint_id - parameters: verification_parameters - status: verification_status - resources_status: resources_status - resources_reason: resources_reason Response Example ---------------- .. literalinclude:: ./samples/verification-create-response.json :language: javascript Show Verification ================= .. rest_method:: GET /v1/{tenant_id}/verifications/{verification_id} Show the information of a given verify operation. Response Codes -------------- .. rest_status_code:: success status.yaml - 200 .. rest_status_code:: error status.yaml - 401 - 404 Request ------- .. rest_parameters:: parameters.yaml - tenant_id: tenant_id - verification_id: verification_id_path Response -------- .. rest_parameters:: parameters.yaml - verification: verification - id: verification_id - project_id: tenant_id_1 - provider_id: provider_id - checkpoint_id: checkpoint_id - parameters: verification_parameters - status: verification_status - resources_status: resources_status - resources_reason: resources_reason Response Example ---------------- .. literalinclude:: ./samples/verification-create-response.json :language: javascript ",,277,0
openstack%2Fkarbor~master~I0a4cec43c76d64191c5e962674ba31b5d6a834a3,openstack/karbor,master,I0a4cec43c76d64191c5e962674ba31b5d6a834a3,Add unit test for services api,MERGED,2019-11-14 04:31:07.000000000,2019-11-14 10:44:43.000000000,2019-11-14 10:41:45.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-14 04:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/888ba7806bb46c8478bd33b89f448b24c3e53974', 'message': 'Add unit test for services api\n\nChange-Id: I0a4cec43c76d64191c5e962674ba31b5d6a834a3\nSigned-off-by: helei <helei@cmss.chinamobile.com>\n'}, {'number': 2, 'created': '2019-11-14 05:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/6e29766f9d6122f09daaefdd1e4ccb820e841341', 'message': 'Add unit test for services api\n\nChange-Id: I0a4cec43c76d64191c5e962674ba31b5d6a834a3\nSigned-off-by: helei <helei@cmss.chinamobile.com>\n'}, {'number': 3, 'created': '2019-11-14 07:34:05.000000000', 'files': ['karbor/tests/unit/api/v1/test_services.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/e482ebe18c13e6cb0eafbda0a563aed0512ae705', 'message': 'Add unit test for services api\n\nChange-Id: I0a4cec43c76d64191c5e962674ba31b5d6a834a3\nSigned-off-by: helei <helei@cmss.chinamobile.com>\n'}]",1,694196,e482ebe18c13e6cb0eafbda0a563aed0512ae705,13,3,3,29579,,,0,"Add unit test for services api

Change-Id: I0a4cec43c76d64191c5e962674ba31b5d6a834a3
Signed-off-by: helei <helei@cmss.chinamobile.com>
",git fetch https://review.opendev.org/openstack/karbor refs/changes/96/694196/2 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/api/v1/test_services.py'],1,888ba7806bb46c8478bd33b89f448b24c3e53974,," @mock.patch('karbor.objects.service.Service.get_by_id') def test_quota_update_with_service_not_found(self, mock_get_by_id): body = { ""status"": 'disabled', 'disabled_reason': 'reason' } req = fakes.HTTPRequest.blank('/v1/os-services/1', use_admin_context=True) mock_get_by_id.side_effect = exception.ServiceNotFound self.assertRaises( exc.HTTPNotFound, self.controller.update, req, ""fake_id"", body ) @mock.patch('karbor.objects.service.Service.get_by_id') def test_service_update_with_invalid_disabled_reason(self, mock_get_by_id): req = fakes.HTTPRequest.blank('/v1/os-services/1', use_admin_context=True) body = { ""status"": 'enabled', 'disabled_reason': 'reason' } mock_service = mock.MagicMock( binary='karbor-operationengine', save=mock.MagicMock()) mock_get_by_id.return_value = mock_service self.assertRaises( exc.HTTPBadRequest, self.controller.update, req, ""fake_id"", body ) @mock.patch('karbor.utils.service_is_up') @mock.patch('karbor.objects.service.Service.get_by_id') def test_service_update_with_enabled_status( self, mock_get_by_id, mock_service_is_up): req = fakes.HTTPRequest.blank('/v1/os-services/1', use_admin_context=True) body = { ""status"": 'enbaled' } mock_service = mock.MagicMock( binary='karbor-operationengine', save=mock.MagicMock()) mock_get_by_id.return_value = mock_service mock_service_is_up.return_value = True self.controller.update(req, ""fake_id"", body) self.assertTrue(mock_get_by_id.called) self.assertTrue(mock_service.save.called)",,54,0
openstack%2Fkarbor~master~Ib0f9276c1b86ff7f2d1e401ddfae2bf4e920fa78,openstack/karbor,master,Ib0f9276c1b86ff7f2d1e401ddfae2bf4e920fa78,Fix bug for running unittest with unittest module,MERGED,2019-11-14 07:28:55.000000000,2019-11-14 10:43:11.000000000,2019-11-14 10:38:56.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 24328}, {'_account_id': 29139}, {'_account_id': 29147}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-14 07:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3c2ac1bcd4b765a3732da12ef853cd3b9869ee0d', 'message': 'Fix bug for running unittest with unittest module.\n\nWhen we run unittest with a way like:\npython -m unittest2 <test_file>\nthen NoSuchOptError exception will raised\n\nChange-Id: Ib0f9276c1b86ff7f2d1e401ddfae2bf4e920fa78\n'}, {'number': 2, 'created': '2019-11-14 09:04:20.000000000', 'files': ['karbor/tests/unit/protection/test_manager.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/d56877b3fea5495488e15892c4a49207050f43b8', 'message': 'Fix bug for running unittest with unittest module\n\nWhen we run unittest with a way like:\npython -m unittest2 <test_file>\nthen NoSuchOptError exception will raised\n\nChange-Id: Ib0f9276c1b86ff7f2d1e401ddfae2bf4e920fa78\n'}]",2,694207,d56877b3fea5495488e15892c4a49207050f43b8,13,6,2,29147,,,0,"Fix bug for running unittest with unittest module

When we run unittest with a way like:
python -m unittest2 <test_file>
then NoSuchOptError exception will raised

Change-Id: Ib0f9276c1b86ff7f2d1e401ddfae2bf4e920fa78
",git fetch https://review.opendev.org/openstack/karbor refs/changes/07/694207/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/protection/test_manager.py'],1,3c2ac1bcd4b765a3732da12ef853cd3b9869ee0d,,"CONF.import_opt('trigger_poll_interval', 'karbor.services.operationengine' '.engine.triggers.timetrigger')",,2,0
openstack%2Ftripleo-ci~master~I60a8cc66c439cbae7b8697a8279996ff82cd4375,openstack/tripleo-ci,master,I60a8cc66c439cbae7b8697a8279996ff82cd4375,Add component_ci_containers in build-containers for component ci,MERGED,2019-11-05 11:37:43.000000000,2019-11-14 10:41:48.000000000,2019-11-14 10:41:48.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 11:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1fb07acb5f8c7cb8f916c969f5f1d1ea66def777', 'message': 'WIP Add containers_override in build-containers for component ci\n\nAs part of [1] we need to override the list of containers built\nby the build-containers role. This adds a new containers_override\nparameter which points to a containers.yaml file added in the\nDepends-On.\n\nDepends-On: I139334a4559a2e00a0dec0a029392b8a38f95cfa\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1378\n\nChange-Id: I60a8cc66c439cbae7b8697a8279996ff82cd4375\n'}, {'number': 2, 'created': '2019-11-06 11:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3107a7ba7d7d9682b63e8d2ef32102c458735f0c', 'message': 'WIP Add component_ci_service in build-containers for component ci\n\nAs part of [1] we need to override the list of containers built\nby the build-containers role. This adds a new component_ci_service\nparameter which points to a containers.yaml file added in the\nDepends-On to build only nova containers.\n\nDepends-On: I139334a4559a2e00a0dec0a029392b8a38f95cfa\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1378\n\nChange-Id: I60a8cc66c439cbae7b8697a8279996ff82cd4375\n'}, {'number': 3, 'created': '2019-11-07 11:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/18a8e22ff0a941f1830027b650a9d07f5c65d4c8', 'message': 'Add component_ci_service in build-containers for component ci\n\nAs part of [1] we need to override the list of containers built\nby the build-containers role. This adds a new component_ci_service\nparameter which points to a containers.yaml file added in the\nDepends-On to build only nova containers.\n\nDepends-On: I139334a4559a2e00a0dec0a029392b8a38f95cfa\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1378\nChange-Id: I60a8cc66c439cbae7b8697a8279996ff82cd4375\n'}, {'number': 4, 'created': '2019-11-08 12:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e5273fe5148906ccc0cd42ed4e2b217f02c8f986', 'message': 'Add component_ci_service in build-containers for component ci\n\nAs part of [1] we need to override the list of containers built\nby the build-containers role. This adds a new component_ci_service\nparameter which points to a containers.yaml file also added here\nafter initial discussion in [2].\n\nThis also moves vars/common.yaml to vars/main.yaml as the former\nbrings no benefit and it lets us remove 3 include_tasks\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1378\n[2] https://review.opendev.org/692840\nChange-Id: I60a8cc66c439cbae7b8697a8279996ff82cd4375\n'}, {'number': 5, 'created': '2019-11-12 10:12:36.000000000', 'files': ['roles/build-containers/templates/component_ci/compute_overcloud_containers.yaml', 'roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/build.sh.j2', 'roles/build-containers/vars/main.yaml', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ea551ee6345387939fa3b8aab440374ebba332c3', 'message': 'Add component_ci_containers in build-containers for component ci\n\nAs part of [1] we need to override the list of containers built\nby the build-containers role. This adds a component_ci_containers\nparameter that is passed by the job at [2]. This sets the\ncontainers file added here for the compute component (it was\ninitially at [3] but moved here after initial discussion).\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1378\n[2] https://review.rdoproject.org/r/23655\n[3] https://review.opendev.org/692840\n\nChange-Id: I60a8cc66c439cbae7b8697a8279996ff82cd4375\n'}]",11,692985,ea551ee6345387939fa3b8aab440374ebba332c3,34,10,5,8449,,,0,"Add component_ci_containers in build-containers for component ci

As part of [1] we need to override the list of containers built
by the build-containers role. This adds a component_ci_containers
parameter that is passed by the job at [2]. This sets the
containers file added here for the compute component (it was
initially at [3] but moved here after initial discussion).

[1] https://tree.taiga.io/project/tripleo-ci-board/task/1378
[2] https://review.rdoproject.org/r/23655
[3] https://review.opendev.org/692840

Change-Id: I60a8cc66c439cbae7b8697a8279996ff82cd4375
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/692985/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/tasks/main.yaml', 'roles/build-containers/defaults/main.yaml']",2,1fb07acb5f8c7cb8f916c969f5f1d1ea66def777,vars_common_main,"# Set containers_override to one of the keys of component_ci_containers containers_override: """" # $TRIPLEO_COMMON_PATH is resolved in build.sh.j2 component_ci_containers: component_ci_nova: ""$TRIPLEO_COMMON_PATH/container-images/component-ci/nova_overcloud_containers.yaml""",,10,0
openstack%2Fkarbor~master~I9d58c33787e0b2039a046ea30c7238485a76af2d,openstack/karbor,master,I9d58c33787e0b2039a046ea30c7238485a76af2d,Fix unit test error,MERGED,2019-11-14 07:52:35.000000000,2019-11-14 10:41:46.000000000,2019-11-14 10:38:55.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 24328}, {'_account_id': 29139}, {'_account_id': 29147}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-14 07:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a7dc11b18c16f82d85a1396bd899dcb85aee2354', 'message': 'Fix the order of decorators and parameters for\nkarbor.protection.manager.ProtectionServiceTest  in unittest\n\nChange-Id: I9d58c33787e0b2039a046ea30c7238485a76af2d\n'}, {'number': 2, 'created': '2019-11-14 08:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ac18c6ae21aa782e9870290b964fc17f6ee2a4ef', 'message': 'Fix unit test error.\n\nFix the order of decorators and parameters for\nkarbor.protection.manager.ProtectionServiceTest in unittest.\n\nChange-Id: I9d58c33787e0b2039a046ea30c7238485a76af2d\n'}, {'number': 3, 'created': '2019-11-14 09:03:58.000000000', 'files': ['karbor/tests/unit/protection/test_manager.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/d1052b68eb763f88c44ba251bb697f3a27a4aa4b', 'message': 'Fix unit test error\n\nFix the order of decorators and parameters for\nkarbor.protection.manager.ProtectionServiceTest in unittest.\n\nChange-Id: I9d58c33787e0b2039a046ea30c7238485a76af2d\n'}]",2,694210,d1052b68eb763f88c44ba251bb697f3a27a4aa4b,13,6,3,29139,,,0,"Fix unit test error

Fix the order of decorators and parameters for
karbor.protection.manager.ProtectionServiceTest in unittest.

Change-Id: I9d58c33787e0b2039a046ea30c7238485a76af2d
",git fetch https://review.opendev.org/openstack/karbor refs/changes/10/694210/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/protection/test_manager.py'],1,a7dc11b18c16f82d85a1396bd899dcb85aee2354,order_dismatch," def test_show_checkpoint_not_found(self, mock_cp_collection_get, mock_provider):"," def test_show_checkpoint_not_found(self, mock_provider, mock_cp_collection_get):",2,2
openstack%2Fkeystone~master~I35e871992dd21e96e7e812e440e6cafdb61d26ac,openstack/keystone,master,I35e871992dd21e96e7e812e440e6cafdb61d26ac,Stop testing Python 2,MERGED,2019-10-15 02:05:57.000000000,2019-11-14 10:32:27.000000000,2019-11-14 10:28:51.000000000,"[{'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24454}, {'_account_id': 26297}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 27621}, {'_account_id': 28471}, {'_account_id': 28522}, {'_account_id': 28889}, {'_account_id': 30380}, {'_account_id': 30384}, {'_account_id': 30395}, {'_account_id': 30623}]","[{'number': 1, 'created': '2019-10-15 02:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b03845b4121d4d55d2fe5c9a43f728c8a9772a48', 'message': ""Stop testing Python 2\n\nIt's Ussuri. We can *finally* stop testing Python 2 [1].\nWe don't attempt any cleanup but simply stop testing with Python 2,\nindicating that we only support Python 3 via 'setup.cfg' and remove any\nPython 2 only dependencies. The 'tox.ini' is modified such that\n'functional' now runs with 'python3'\n\nThis should free up a significant amount of resources from the gate and\nlet us start using Python 3 idioms in our code.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html#python2-deprecation-timeline\n\nChange-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac\n""}, {'number': 2, 'created': '2019-10-25 07:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4905c54fe933b8af9b99c52630655a56d83994e8', 'message': 'Stop testing Python 2\n\nIn Ussuri, Drop support for Python 2 according to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010356.html\n\nChange-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac\n'}, {'number': 3, 'created': '2019-10-30 02:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b9f4ca9b28aafa297d0f63f277319cf7aeb1f22c', 'message': 'Stop testing Python 2\n\nIn Ussuri, Drop support for Python 2 according to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010356.html\n\nChange-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac\n'}, {'number': 4, 'created': '2019-10-30 03:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/317ce5f186a8f60b04e7bb676a273ad6727cddfa', 'message': 'Stop testing Python 2\n\nIn Ussuri, Drop support for Python 2 according to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010356.html\n\nChange-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac\n'}, {'number': 5, 'created': '2019-10-30 06:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a9d8f0a1555bbc674697fd41ce92772d80cdea17', 'message': 'Stop testing Python 2\n\nIn Ussuri, Drop support for Python 2 according to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010356.html\n\nChange-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac\n'}, {'number': 6, 'created': '2019-10-30 08:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f0dfcbafe04f33592ca71114047915bc9c1c4c59', 'message': 'Stop testing Python 2\n\nIn Ussuri, Drop support for Python 2 according to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010356.html\n\nChange-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac\n'}, {'number': 7, 'created': '2019-10-31 06:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2b77a921ed86b14727bb60640d0e1612f7e37530', 'message': 'Stop testing Python 2\n\nIn Ussuri, Drop support for Python 2 according to [1] and [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010356.html\n[2] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac\n'}, {'number': 8, 'created': '2019-11-01 00:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a26bb0266f424c66d3f975830335745a63d75dda', 'message': 'Stop testing Python 2\n\nIn Ussuri, Drop support for Python 2 according to [1] and [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010356.html\n[2] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac\n'}, {'number': 9, 'created': '2019-11-01 01:00:58.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/removed-as-of-ussuri-d2f6ef8901ef54ed.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a92885a98b299f0d0c01e72deacf73f6efcabede', 'message': 'Stop testing Python 2\n\nIn Ussuri, Drop support for Python 2 according to [1] and [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010356.html\n[2] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac\n'}]",22,688601,a92885a98b299f0d0c01e72deacf73f6efcabede,47,22,9,30395,,,0,"Stop testing Python 2

In Ussuri, Drop support for Python 2 according to [1] and [2]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010356.html
[2] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html

Change-Id: I35e871992dd21e96e7e812e440e6cafdb61d26ac
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/688601/9 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,b03845b4121d4d55d2fe5c9a43f728c8a9772a48,drop-python2-support,"envlist = py37,pep8,api-ref,docs,genconfig,genpolicy,releasenotes,protectionbasepython = python3","envlist = py27,py37,pep8,api-ref,docs,genconfig,genpolicy,releasenotes,protectionbasepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",2,20
openstack%2Fcinder~stable%2Ftrain~I16319ab394e75cbe5d8898afcb1d1043f898f315,openstack/cinder,stable/train,I16319ab394e75cbe5d8898afcb1d1043f898f315,Fix VxFlexOS documentation,MERGED,2019-11-12 10:53:00.000000000,2019-11-14 10:32:19.000000000,2019-11-14 10:28:49.000000000,"[{'_account_id': 1736}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 31016}]","[{'number': 1, 'created': '2019-11-12 10:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/548011c0c19e50389ab7887c51b3d7c3381dc037', 'message': 'Fix VxFlexOS documentation\n\nRemove unnecessary instructions for containerized deployment\nusing VxFlex OS driver. Old instructions are not working and\nwill not be applicable after the bug will be resolved.\n\nChange-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315\nCloses-Bug: #1846483\n'}, {'number': 3, 'created': '2019-11-12 15:28:18.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b91f5146e04827cdd9340b9b6231416563d56281', 'message': 'Fix VxFlexOS documentation\n\nRemove unnecessary instructions for containerized deployment\nusing VxFlex OS driver. Old instructions are not working and\nwill not be applicable after the bug will be resolved.\n\nChange-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315\nCloses-Bug: #1846483\n(cherry picked from commit 6271bb316b389a69780c3b8cc8d1a78caefc74b7)\n'}]",0,693808,b91f5146e04827cdd9340b9b6231416563d56281,31,18,2,31016,,,0,"Fix VxFlexOS documentation

Remove unnecessary instructions for containerized deployment
using VxFlex OS driver. Old instructions are not working and
will not be applicable after the bug will be resolved.

Change-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315
Closes-Bug: #1846483
(cherry picked from commit 6271bb316b389a69780c3b8cc8d1a78caefc74b7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/693808/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst'],1,548011c0c19e50389ab7887c51b3d7c3381dc037,bug/1846483,"Red Hat OpenStack version 13 and above, install the Storage Data Client (SDC) on all nodes after deploying the overcloud.","Red Hat OpenStack version 12 and above, there is an additional step that must be performed. Before deploying the overcloud ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ After ensuring that the Storage Data Client (SDC) is installed on all nodes and before deploying the overcloud, modify the TripleO Heat Template for the nova-compute and cinder-volume containers to add volume mappings for directories containing the SDC components. These files can normally be found at ``/usr/share/openstack-tripleo-heat-templates/docker/services/nova-compute.yaml`` and ``/usr/share/openstack-tripleo-heat-templates/docker/services/cinder-volume.yaml`` Two lines need to be inserted into the list of mapped volumes in each container. .. code-block:: yaml /opt/emc/scaleio:/opt/emc/scaleio /bin/emc/scaleio:/bin/emc/scaleio .. end The changes to the two heat templates are identical, as an example the original nova-compute file should have section that resembles the following: .. code-block:: yaml ... docker_config: step_4: nova_compute: image: &nova_compute_image {get_param: DockerNovaComputeImage} ipc: host net: host privileged: true user: nova restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt/:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /etc/iscsi:/etc/iscsi - /run:/run - /var/lib/nova:/var/lib/nova:shared - /var/lib/libvirt:/var/lib/libvirt - /var/log/containers/nova:/var/log/nova - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS ... .. end After modifying the nova-compute file, the section should resemble: .. code-block:: yaml ... docker_config: step_4: nova_compute: image: &nova_compute_image {get_param: DockerNovaComputeImage} ipc: host net: host privileged: true user: nova restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt/:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /etc/iscsi:/etc/iscsi - /run:/run - /var/lib/nova:/var/lib/nova:shared - /var/lib/libvirt:/var/lib/libvirt - /var/log/containers/nova:/var/log/nova - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci - /opt/emc/scaleio:/opt/emc/scaleio - /bin/emc/scaleio:/bin/emc/scaleio environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS ... .. end Once the nova-compute file is modified, make an identical change to the cinder-volume file. Deploy the overcloud ~~~~~~~~~~~~~~~~~~~~ Once the above changes have been made, deploy the overcloud as usual.",2,110
openstack%2Fswift~master~Icf8f800cb25096f93d3faa1e6ec091eb29500758,openstack/swift,master,Icf8f800cb25096f93d3faa1e6ec091eb29500758,proxy: stop sending chunks to objects with a Queue,MERGED,2019-11-06 04:14:01.000000000,2019-11-14 10:32:10.000000000,2019-11-14 10:28:54.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 9625}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 04:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5daae4bb468472b0a010590101dd0cebe6e0f4cf', 'message': ""proxy: stop sending chunks to objects with a Queue\n\nDuring a PUT of an object, the proxy instanciates one Putter per\nobject-server that will store data (either the full object or a\nfragment, depending on the storage policy). Each Putter is owning a\nQueue that will be used to bufferize data chunks before they are\nwritten to the socket connected to the object-server. The chunks are\nmoved from the queue to the socket by a greenthread. There is one\ngreenthread per Putter. If the client is uploading faster than the\nobject-servers can manage, the Queue could grow and consume a lot of\nmemory. To avoid that, the queue is bounded (default: 10). Having a\nbounded queue also allows to ensure that all object-servers will get\nthe data at the same rate because if one queue is full, the\ngreenthread reading from the client socket will block when trying to\nwrite to the queue. So the global rate is the one of the slowest\nobject-server.\n\nThe thing is, every operating system manages socket buffers for incoming\nand outgoing data. Concerning the send buffer, the behavior is such that\nif the buffer is full, a call to write() will block, otherwise the call\nwill return immediately. It behaves a lot like the Putter's Queue,\nexcept that the size of the buffer is dynamic so it adapts itself to the\nspeed of the receiver.\n\nThus, managing a queue in addition to the socket send buffer is a\nduplicate queueing/buffering that provides no interest but is, as shown\nby profiling and benchmarks, very CPU costly.\n\nThis patch removes the queuing mecanism. Instead, the greenthread\nreading data from the client will directly write to the socket. If an\nobject-server is getting slow, the buffer will fulfill, blocking the\nreader greenthread. Benchmark shows a CPU consumption reduction of more\nthan 30% will the observed rate for an upload is increasing by about\n45%.\n\nChange-Id: Icf8f800cb25096f93d3faa1e6ec091eb29500758\n""}, {'number': 2, 'created': '2019-11-06 07:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/44c1b9afea1002295251bec91b43ecf69b8d5109', 'message': ""proxy: stop sending chunks to objects with a Queue\n\nDuring a PUT of an object, the proxy instanciates one Putter per\nobject-server that will store data (either the full object or a\nfragment, depending on the storage policy). Each Putter is owning a\nQueue that will be used to bufferize data chunks before they are\nwritten to the socket connected to the object-server. The chunks are\nmoved from the queue to the socket by a greenthread. There is one\ngreenthread per Putter. If the client is uploading faster than the\nobject-servers can manage, the Queue could grow and consume a lot of\nmemory. To avoid that, the queue is bounded (default: 10). Having a\nbounded queue also allows to ensure that all object-servers will get\nthe data at the same rate because if one queue is full, the\ngreenthread reading from the client socket will block when trying to\nwrite to the queue. So the global rate is the one of the slowest\nobject-server.\n\nThe thing is, every operating system manages socket buffers for incoming\nand outgoing data. Concerning the send buffer, the behavior is such that\nif the buffer is full, a call to write() will block, otherwise the call\nwill return immediately. It behaves a lot like the Putter's Queue,\nexcept that the size of the buffer is dynamic so it adapts itself to the\nspeed of the receiver.\n\nThus, managing a queue in addition to the socket send buffer is a\nduplicate queueing/buffering that provides no interest but is, as shown\nby profiling and benchmarks, very CPU costly.\n\nThis patch removes the queuing mecanism. Instead, the greenthread\nreading data from the client will directly write to the socket. If an\nobject-server is getting slow, the buffer will fulfill, blocking the\nreader greenthread. Benchmark shows a CPU consumption reduction of more\nthan 30% will the observed rate for an upload is increasing by about\n45%.\n\nChange-Id: Icf8f800cb25096f93d3faa1e6ec091eb29500758\n""}, {'number': 3, 'created': '2019-11-07 02:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b1a5e524879f8474b6cbce1ac8bdbab294aacfed', 'message': ""proxy: stop sending chunks to objects with a Queue\n\nDuring a PUT of an object, the proxy instanciates one Putter per\nobject-server that will store data (either the full object or a\nfragment, depending on the storage policy). Each Putter is owning a\nQueue that will be used to bufferize data chunks before they are\nwritten to the socket connected to the object-server. The chunks are\nmoved from the queue to the socket by a greenthread. There is one\ngreenthread per Putter. If the client is uploading faster than the\nobject-servers can manage, the Queue could grow and consume a lot of\nmemory. To avoid that, the queue is bounded (default: 10). Having a\nbounded queue also allows to ensure that all object-servers will get\nthe data at the same rate because if one queue is full, the\ngreenthread reading from the client socket will block when trying to\nwrite to the queue. So the global rate is the one of the slowest\nobject-server.\n\nThe thing is, every operating system manages socket buffers for incoming\nand outgoing data. Concerning the send buffer, the behavior is such that\nif the buffer is full, a call to write() will block, otherwise the call\nwill return immediately. It behaves a lot like the Putter's Queue,\nexcept that the size of the buffer is dynamic so it adapts itself to the\nspeed of the receiver.\n\nThus, managing a queue in addition to the socket send buffer is a\nduplicate queueing/buffering that provides no interest but is, as shown\nby profiling and benchmarks, very CPU costly.\n\nThis patch removes the queuing mecanism. Instead, the greenthread\nreading data from the client will directly write to the socket. If an\nobject-server is getting slow, the buffer will fulfill, blocking the\nreader greenthread. Benchmark shows a CPU consumption reduction of more\nthan 30% will the observed rate for an upload is increasing by about\n45%.\n\nChange-Id: Icf8f800cb25096f93d3faa1e6ec091eb29500758\n""}, {'number': 4, 'created': '2019-11-07 05:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1dc8ddd198e7705694b312e1e2cdfbf2da2a45d8', 'message': ""proxy: stop sending chunks to objects with a Queue\n\nDuring a PUT of an object, the proxy instanciates one Putter per\nobject-server that will store data (either the full object or a\nfragment, depending on the storage policy). Each Putter is owning a\nQueue that will be used to bufferize data chunks before they are\nwritten to the socket connected to the object-server. The chunks are\nmoved from the queue to the socket by a greenthread. There is one\ngreenthread per Putter. If the client is uploading faster than the\nobject-servers can manage, the Queue could grow and consume a lot of\nmemory. To avoid that, the queue is bounded (default: 10). Having a\nbounded queue also allows to ensure that all object-servers will get\nthe data at the same rate because if one queue is full, the\ngreenthread reading from the client socket will block when trying to\nwrite to the queue. So the global rate is the one of the slowest\nobject-server.\n\nThe thing is, every operating system manages socket buffers for incoming\nand outgoing data. Concerning the send buffer, the behavior is such that\nif the buffer is full, a call to write() will block, otherwise the call\nwill return immediately. It behaves a lot like the Putter's Queue,\nexcept that the size of the buffer is dynamic so it adapts itself to the\nspeed of the receiver.\n\nThus, managing a queue in addition to the socket send buffer is a\nduplicate queueing/buffering that provides no interest but is, as shown\nby profiling and benchmarks, very CPU costly.\n\nThis patch removes the queuing mecanism. Instead, the greenthread\nreading data from the client will directly write to the socket. If an\nobject-server is getting slow, the buffer will fulfill, blocking the\nreader greenthread. Benchmark shows a CPU consumption reduction of more\nthan 30% will the observed rate for an upload is increasing by about\n45%.\n\nChange-Id: Icf8f800cb25096f93d3faa1e6ec091eb29500758\n""}, {'number': 5, 'created': '2019-11-07 10:02:45.000000000', 'files': ['etc/proxy-server.conf-sample', 'doc/manpages/proxy-server.conf.5', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2f1111a4364858fe87696f748405e6a3ff8f5655', 'message': ""proxy: stop sending chunks to objects with a Queue\n\nDuring a PUT of an object, the proxy instanciates one Putter per\nobject-server that will store data (either the full object or a\nfragment, depending on the storage policy). Each Putter is owning a\nQueue that will be used to bufferize data chunks before they are\nwritten to the socket connected to the object-server. The chunks are\nmoved from the queue to the socket by a greenthread. There is one\ngreenthread per Putter. If the client is uploading faster than the\nobject-servers can manage, the Queue could grow and consume a lot of\nmemory. To avoid that, the queue is bounded (default: 10). Having a\nbounded queue also allows to ensure that all object-servers will get\nthe data at the same rate because if one queue is full, the\ngreenthread reading from the client socket will block when trying to\nwrite to the queue. So the global rate is the one of the slowest\nobject-server.\n\nThe thing is, every operating system manages socket buffers for incoming\nand outgoing data. Concerning the send buffer, the behavior is such that\nif the buffer is full, a call to write() will block, otherwise the call\nwill return immediately. It behaves a lot like the Putter's Queue,\nexcept that the size of the buffer is dynamic so it adapts itself to the\nspeed of the receiver.\n\nThus, managing a queue in addition to the socket send buffer is a\nduplicate queueing/buffering that provides no interest but is, as shown\nby profiling and benchmarks, very CPU costly.\n\nThis patch removes the queuing mecanism. Instead, the greenthread\nreading data from the client will directly write to the socket. If an\nobject-server is getting slow, the buffer will fulfill, blocking the\nreader greenthread. Benchmark shows a CPU consumption reduction of more\nthan 30% will the observed rate for an upload is increasing by about\n45%.\n\nChange-Id: Icf8f800cb25096f93d3faa1e6ec091eb29500758\n""}]",9,693116,2f1111a4364858fe87696f748405e6a3ff8f5655,35,6,5,13852,,,0,"proxy: stop sending chunks to objects with a Queue

During a PUT of an object, the proxy instanciates one Putter per
object-server that will store data (either the full object or a
fragment, depending on the storage policy). Each Putter is owning a
Queue that will be used to bufferize data chunks before they are
written to the socket connected to the object-server. The chunks are
moved from the queue to the socket by a greenthread. There is one
greenthread per Putter. If the client is uploading faster than the
object-servers can manage, the Queue could grow and consume a lot of
memory. To avoid that, the queue is bounded (default: 10). Having a
bounded queue also allows to ensure that all object-servers will get
the data at the same rate because if one queue is full, the
greenthread reading from the client socket will block when trying to
write to the queue. So the global rate is the one of the slowest
object-server.

The thing is, every operating system manages socket buffers for incoming
and outgoing data. Concerning the send buffer, the behavior is such that
if the buffer is full, a call to write() will block, otherwise the call
will return immediately. It behaves a lot like the Putter's Queue,
except that the size of the buffer is dynamic so it adapts itself to the
speed of the receiver.

Thus, managing a queue in addition to the socket send buffer is a
duplicate queueing/buffering that provides no interest but is, as shown
by profiling and benchmarks, very CPU costly.

This patch removes the queuing mecanism. Instead, the greenthread
reading data from the client will directly write to the socket. If an
object-server is getting slow, the buffer will fulfill, blocking the
reader greenthread. Benchmark shows a CPU consumption reduction of more
than 30% will the observed rate for an upload is increasing by about
45%.

Change-Id: Icf8f800cb25096f93d3faa1e6ec091eb29500758
",git fetch https://review.opendev.org/openstack/swift refs/changes/16/693116/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/obj.py'],1,5daae4bb468472b0a010590101dd0cebe6e0f4cf,performance/remove_proxy_queues," write_timeout=self.app.node_timeout, send_exception_handler=self.app.exception_occurred, write_timeout=self.app.node_timeout, send_exception_handler=self.app.exception_occurred, def __init__(self, conn, node, resp, path, connect_duration, write_timeout, send_exception_handler, logger, self.write_timeout = write_timeout self.send_exception_handler = send_exception_handler self._send_chunk(chunk) self._send_chunk(b'') def _send_chunk(self, chunk): if not self.failed: if self.chunked: to_send = b""%x\r\n%s\r\n"" % (len(chunk), chunk) else: to_send = chunk try: with ChunkWriteTimeout(self.write_timeout): self.conn.send(to_send) except (Exception, ChunkWriteTimeout): self.failed = True self.send_exception_handler(self.node, _('Object'), _('Trying to write to %s') % self.path) write_timeout, send_exception_handler, logger=None, chunked=False, **kwargs): return cls(conn, node, final_resp, path, connect_duration, write_timeout, send_exception_handler, logger, write_timeout, send_exception_handler, logger, mime_boundary, multiphase=False): connect_duration, write_timeout, send_exception_handler, logger) self._send_chunk(b""--%s\r\nX-Document: object body\r\n\r\n"" % (self.mime_boundary,)) self._send_chunk(b"""".join(message_parts)) self._send_chunk(b'') self._send_chunk(b"""".join(message_parts)) self._send_chunk(b'') write_timeout, send_exception_handler, logger=None, need_multiphase=True, **kwargs): return cls(conn, node, final_resp, req, connect_duration, write_timeout, send_exception_handler, logger, write_timeout=self.app.node_timeout, send_exception_handler=self.app.exception_occurred,"," for putter in putters: putter.spawn_sender_greenthread( pool, self.app.put_queue_depth, self.app.node_timeout, self.app.exception_occurred) for putter in putters: putter.wait() def __init__(self, conn, node, resp, path, connect_duration, logger, self.queue = None def spawn_sender_greenthread(self, pool, queue_depth, write_timeout, exception_handler): """"""Call before sending the first chunk of request body"""""" self.queue = Queue(queue_depth) pool.spawn(self._send_file, write_timeout, exception_handler) def wait(self): if self.queue.unfinished_tasks: self.queue.join() self.queue.put(chunk) self.queue.put(b'') def _send_file(self, write_timeout, exception_handler): """""" Method for a file PUT coroutine. Takes chunks from a queue and sends them down a socket. If something goes wrong, the ""failed"" attribute will be set to true and the exception handler will be called. """""" while True: chunk = self.queue.get() if not self.failed: if self.chunked: to_send = b""%x\r\n%s\r\n"" % (len(chunk), chunk) else: to_send = chunk try: with ChunkWriteTimeout(write_timeout): self.conn.send(to_send) except (Exception, ChunkWriteTimeout): self.failed = True exception_handler(self.node, _('Object'), _('Trying to write to %s') % self.path) self.queue.task_done() logger=None, chunked=False, **kwargs): return cls(conn, node, final_resp, path, connect_duration, logger, logger, mime_boundary, multiphase=False): connect_duration, logger) self.queue.put(b""--%s\r\nX-Document: object body\r\n\r\n"" % (self.mime_boundary,)) self.queue.put(b"""".join(message_parts)) self.queue.put(b'') self.queue.put(b"""".join(message_parts)) self.queue.put(b'') logger=None, need_multiphase=True, **kwargs): return cls(conn, node, final_resp, req, connect_duration, logger, for putter in putters: putter.spawn_sender_greenthread( pool, self.app.put_queue_depth, self.app.node_timeout, self.app.exception_occurred) for putter in putters: putter.wait() for putter in putters: putter.wait()",44,65
openstack%2Freleases~master~I7334d1671410160df9f235a53af6c7dbade7a96c,openstack/releases,master,I7334d1671410160df9f235a53af6c7dbade7a96c,Create train branch for os_murano role,MERGED,2019-11-13 13:42:34.000000000,2019-11-14 10:30:42.000000000,2019-11-14 10:30:42.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 13:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d7159eafd61cdbcb87c8525563ab127d9b7e54e6', 'message': ""Create train branch for os_murano role\n\nAs Murano has been merged after branching, but was announced and\nOSA is lagging behind, it's probably worth to branch murano\nfor train.\n\nChange-Id: I7334d1671410160df9f235a53af6c7dbade7a96c\n""}, {'number': 2, 'created': '2019-11-13 14:28:56.000000000', 'files': ['deliverables/train/openstack-ansible-roles.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a4a3cd7532c426206283141fa214c095e155ff26', 'message': ""Create train branch for os_murano role\n\nAs Murano has been merged after branching, but was announced and\nOSA is lagging behind, it's probably worth to branch murano\nfor train.\n\nChange-Id: I7334d1671410160df9f235a53af6c7dbade7a96c\n""}]",0,694073,a4a3cd7532c426206283141fa214c095e155ff26,10,4,2,28619,,,0,"Create train branch for os_murano role

As Murano has been merged after branching, but was announced and
OSA is lagging behind, it's probably worth to branch murano
for train.

Change-Id: I7334d1671410160df9f235a53af6c7dbade7a96c
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/694073/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstack-ansible-roles.yaml'],1,d7159eafd61cdbcb87c8525563ab127d9b7e54e6,create-train, openstack/openstack-ansible-os_murano: bb18ed2e2285ea7723fa64439a9e81e00195b188,,1,0
openstack%2Ftripleo-heat-templates~master~Icf90d76eb51c4a52c2cfda0f51f64697bd5cfdb9,openstack/tripleo-heat-templates,master,Icf90d76eb51c4a52c2cfda0f51f64697bd5cfdb9,Use python -m pip instead pip command.,MERGED,2019-11-11 09:18:44.000000000,2019-11-14 10:22:56.000000000,2019-11-14 10:21:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-11 09:18:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35ff2c37c66846700a8ea7f80167278e5d7adf8f', 'message': ""Use python -m pip instead pip command.\n\nIt's recommand to use this way. With tox is not really necessary to do\nit but it can be good to use it. See this article:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nFor example python -m pip executes pip using the Python interpreter\nyou specified as python.\n\nChange-Id: Icf90d76eb51c4a52c2cfda0f51f64697bd5cfdb9\n""}]",0,693665,35ff2c37c66846700a8ea7f80167278e5d7adf8f,9,4,1,31245,,,0,"Use python -m pip instead pip command.

It's recommand to use this way. With tox is not really necessary to do
it but it can be good to use it. See this article:

https://snarky.ca/why-you-should-use-python-m-pip/

For example python -m pip executes pip using the Python interpreter
you specified as python.

Change-Id: Icf90d76eb51c4a52c2cfda0f51f64697bd5cfdb9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/693665/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,35ff2c37c66846700a8ea7f80167278e5d7adf8f,use_pip_as_module,install_command = {envpython} -m pip install {opts} {packages},install_command = pip install {opts} {packages},1,1
openstack%2Fpython-tripleoclient~master~Ic6b76e31885d0e0b59a650dbd4148b245f6057d6,openstack/python-tripleoclient,master,Ic6b76e31885d0e0b59a650dbd4148b245f6057d6,Fix overcloud cell export after refactoring,MERGED,2019-11-13 09:27:27.000000000,2019-11-14 10:22:24.000000000,2019-11-14 10:21:00.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 09:27:27.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2f16fd696d6a086404beb29fcaaf264b597338c1', 'message': 'Fix overcloud cell export after refactoring\n\nhttps://review.opendev.org/692909 introduced overcloud export and\nrefactored the overcloud cell export command which introduces an\nissue when calling the cell export:\n\n  File ""/usr/lib/python2.7/site-packages/tripleoclient/v1/overcloud_cell.py"",\nline 94, in take_action\n    data[\'parameter_defaults\'].update(export.export_stack(\nKeyError: \'parameter_defaults\'\n\'parameter_defaults\'\n\nChange-Id: Ic6b76e31885d0e0b59a650dbd4148b245f6057d6\nCloses-Bug: #1852402\nRelated-Bug: #1850636\n'}]",0,694020,2f16fd696d6a086404beb29fcaaf264b597338c1,11,5,1,17216,,,0,"Fix overcloud cell export after refactoring

https://review.opendev.org/692909 introduced overcloud export and
refactored the overcloud cell export command which introduces an
issue when calling the cell export:

  File ""/usr/lib/python2.7/site-packages/tripleoclient/v1/overcloud_cell.py"",
line 94, in take_action
    data['parameter_defaults'].update(export.export_stack(
KeyError: 'parameter_defaults'
'parameter_defaults'

Change-Id: Ic6b76e31885d0e0b59a650dbd4148b245f6057d6
Closes-Bug: #1852402
Related-Bug: #1850636
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/20/694020/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,2f16fd696d6a086404beb29fcaaf264b597338c1,1850636," data.update(export.export_stack( data = dict(parameter_defaults=data) For more details check https://docs.openstack.org/ project-deploy-guide/tripleo-docs/latest/features/deploy_cellv2.html """""".format(output_file=output_file)"," data['parameter_defaults'].update(export.export_stack( For more details check https://docs.openstack.org/tripleo-docs/ latest/install/advanced_deployment/deploy_cellv2.html# deploy-the-cell"""""".format(output_file=output_file)",5,4
openstack%2Fneutron-specs~master~Ie4236f52bf2873dfe6692864826ce0085f648745,openstack/neutron-specs,master,Ie4236f52bf2873dfe6692864826ce0085f648745,fixed notes: neuton is replaced with neutron in line 133 .,ABANDONED,2019-09-27 02:37:30.000000000,2019-11-14 10:17:06.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 02:37:30.000000000', 'files': ['specs/stein/neutron-ovs-agent-support-baremetal-with-smart-nic.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8b241cce2f92aba5860ceb1e96f9ca3daa2e452f', 'message': 'fixed notes: neuton is replaced with neutron in line 133 .\n\nChange-Id: Ie4236f52bf2873dfe6692864826ce0085f648745\n'}]",0,685195,8b241cce2f92aba5860ceb1e96f9ca3daa2e452f,4,2,1,30717,,,0,"fixed notes: neuton is replaced with neutron in line 133 .

Change-Id: Ie4236f52bf2873dfe6692864826ce0085f648745
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/95/685195/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/neutron-ovs-agent-support-baremetal-with-smart-nic.rst'],1,8b241cce2f92aba5860ceb1e96f9ca3daa2e452f,, When Neutron processes the ports the Neutron OVS agent will add the, When Neutron processes the ports the Neuton OVS agent will add the,1,1
openstack%2Fneutron-specs~master~I8ddb1cd0efb81a86f174f5e3729ff99dfaf370b1,openstack/neutron-specs,master,I8ddb1cd0efb81a86f174f5e3729ff99dfaf370b1,Network traffic distributor,ABANDONED,2019-02-16 08:50:15.000000000,2019-11-14 10:16:54.000000000,,"[{'_account_id': 4187}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 28373}]","[{'number': 1, 'created': '2019-02-16 08:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/37a1a176740fa1de4692ae466a473ebae56c931c', 'message': '[WIP] Network traffic distributor\n\nChange-Id: I8ddb1cd0efb81a86f174f5e3729ff99dfaf370b1\n'}, {'number': 2, 'created': '2019-02-17 02:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7a2ecab47dfb6ad0a258d4dd60d2c6e64fb42d71', 'message': '[WIP] Network traffic distributor\n\nChange-Id: I8ddb1cd0efb81a86f174f5e3729ff99dfaf370b1\n'}, {'number': 3, 'created': '2019-02-17 03:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8bed2ab4ff596d233246ab5439d3bfc7dbb3e956', 'message': '[WIP] Network traffic distributor\n\nChange-Id: I8ddb1cd0efb81a86f174f5e3729ff99dfaf370b1\n'}, {'number': 4, 'created': '2019-02-17 08:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/31fdbce7a0ca9ea41510edd572f355569ae66973', 'message': '[WIP] Network traffic distributor\n\nChange-Id: I8ddb1cd0efb81a86f174f5e3729ff99dfaf370b1\n'}, {'number': 5, 'created': '2019-02-17 09:04:57.000000000', 'files': ['specs/train/network-traffic-distributor.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2d94d890ff86513fa284e5dfe0f0fd9fa222ddc1', 'message': 'Network traffic distributor\n\nThe patch add a spec to describe how to implement the network traffic\ndistributor, ts functions similar to ECMP, But it is simpler to use than\nECMP, and it has no single point failure.\n\nUse network traffic distributor, the users can implement a three-layer\nload balancer.\n\nImplements: blueprint network-traffic-distributor\nChange-Id: I8ddb1cd0efb81a86f174f5e3729ff99dfaf370b1\n'}]",43,637372,2d94d890ff86513fa284e5dfe0f0fd9fa222ddc1,16,6,5,28329,,,0,"Network traffic distributor

The patch add a spec to describe how to implement the network traffic
distributor, ts functions similar to ECMP, But it is simpler to use than
ECMP, and it has no single point failure.

Use network traffic distributor, the users can implement a three-layer
load balancer.

Implements: blueprint network-traffic-distributor
Change-Id: I8ddb1cd0efb81a86f174f5e3729ff99dfaf370b1
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/72/637372/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/network-traffic-distributor.rst'],1,37a1a176740fa1de4692ae466a473ebae56c931c,bp/network-traffic-distributor,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Network Traffic Distributor =========================== Network traffic distributor designed to distribute network traffic, it can be treated as the three layer load balancer. Its functions similar to ECMP, But it is simpler to use than ECMP, and it has no single point failure. The spec describes how to implement it. In the following documtne I wll abbreviate network traffic distbutor as Distributor or NTD. Problem Description =================== Currently, Neutron's network performance is not satisfactory because of the virtualization layer. Although we have many optimization schemes, these shemes do not apply to all cases. And octavia only support L4 and L7 load balancer, but sometime we need a L3 load balancer. Usually, the users want they network topology is robust enough. But, all of the networking schemas provided by neutron have single point failure. Proposed Change =============== Abstract Architecture --------------------- :: + | vip_port v +------+--------+ | | | Distributor | | | +-+-----+-----+-+ | | | +----+ | +----+ backend_port backend_port backend_port | | | v v v +--+--+ +--+--+ +--+--+ | VM1 | | VM2 | | VM3 | +-----+ +-----+ +-----+ Server side changes ------------------- Add a new plugin for Distributor. It provider create/update/read/delete Distributor and add/remove/list backend_port API function. OVS agent side changes ---------------------- OpenFlow Group Table is the key technology, we will use ovs flows to implement NTD. So we need to modify the neutron-openvswitch-agent code. The flow table pipline diagram.:: +-------------+ | | | Table 0 | | Table 24 | | Table 25 | | | +------+------+ | v +---------+----------+ | Table 40 | +--------------------+ | | No | About distributor? +-------------------------+ | | | +--------------------+ | |Yes | v | +------+------+ | | Table 41 | | +-------------+ | | | Others | | Req or Rpl? +---------------------------->+ | | | +---+-----+---+ | Req | | Rpl | +---------+ +----------+ | | | | v v | +---------+----------+ +-----------+-----------+ | | Select Group Table | | Table 45 | | +--------------------+ +-----------------------+ | | | | | Others | | Mark packets | | Modify packets source +--------->+ | | | | | +---------+----------+ +----------+------------+ | | | | v +-------+ | +--------------+--------------+ | | | Table 42 | v | +-----------------------------+ +-----------+-----------+ | | | | Table 49 | | | Modify packets destionation | +-----------------------+ | | Commit to conntrack model +----->+ | | | | | Clear conntrack mark | | +-----------------------------+ | | | +-----------+-----------+ | | | v | +--------+--------+ | | Table 60 | | +-----------------+ | | | | | Transient Table +<-----+ | | +-----------------+ * We need to update the `actions` of `LOCAL_SWITCHING`(table 0), `ARP_SPOOF_TABLE`(table 23), `MAC_SPOOF_TABLE`(table 24) from `resubmit(,60)` to `resubmit(,40)`. For example: Origin flow tables: :: table=0, priority=0 actions=resubmit(,60) table=24, priority=2,icmp6,in_port=""tap05ba1c9c-a2"",icmp_type=136,nd_target=fe80::f816:3eff:febd:8268 actions=resubmit(,60) table=25, priority=2,in_port=""tapbb38715a-86"",dl_src=fa:16:3e:64:0a:d6 actions=resubmit(,60) Update to: :: table=0, priority=0 actions=resubmit(,40) table=24, priority=2,icmp6,in_port=""tap05ba1c9c-a2"",icmp_type=136,nd_target=fe80::f816:3eff:febd:8268 actions=resubmit(,40) table=25, priority=2,in_port=""tapbb38715a-86"",dl_src=fa:16:3e:64:0a:d6 actions=resubmit(,40) * In table 40, we resubmit packets that from NTD's network to table 41. Other packets will be resubmited to table 60.:: table=40, priority=10,in_port=4 actions=load:0x2->NXM_NX_REG6[],resubmit(,41) table=40, priority=10,in_port=11 actions=load:0x2->NXM_NX_REG6[],resubmit(,41) table=40, priority=9,ip,dl_vlan=2 actions=load:0x2->NXM_NX_REG6[],resubmit(,41) table=40, priority=0 actions=resubmit(,60) * In table 41. For arp traffic, we need to add arp responser flow for VIP of NTD, It will proxy the arp request packets of which destination IP is VIP. For IP traffic, if its destination IP is VIP, we can regard it as the request traffic then we need to resubmit them to `group table`. :: table=41, priority=10,arp,reg6=0x2,arp_tpa=22.22.0.6 actions=load:0x2->NXM_OF_ARP_OP[],move:NXM_NX_ARP_SHA[]->NXM_NX_ARP_THA[],move:NXM_OF_ARP_SPA[]->NXM_OF_ARP_TPA[],load:0xfa163e09af77->NXM_NX_ARP_SHA[],load:0x16160006->NXM_OF_ARP_SPA[],move:NXM_OF_ETH_SRC[]->NXM_OF_ETH_DST[],mod_dl_src:fa:16:3e:09:af:77,IN_PORT table=41, priority=9,ip,reg6=0x2,nw_dst=22.22.0.6 actions=group:666 table=41, priority=8,ip,in_port=10 actions=ct(table=45,zone=4097) table=41, priority=8,ip,in_port=9 actions=ct(table=45,zone=4097) table=41, priority=7,ip,dl_vlan=2,dl_src=fa:16:3e:89:1e:88 actions=ct(table=45,zone=4097) table=41, priority=0 actions=resubmit(,60) :: group_id=666,type=select,bucket=actions=load:0x1->NXM_NX_REG7[],resubmit(,42),bucket=actions=load:0x2->NXM_NX_REG7[],resubmit(,42),bucket=actions=load:0x3->NXM_NX_REG7[],resubmit(,42) ",,177,0
openstack%2Fneutron-specs~master~I1d401e2ac2b45a7c546859aee27c1f0f02c06dc8,openstack/neutron-specs,master,I1d401e2ac2b45a7c546859aee27c1f0f02c06dc8,Fix misspell word,ABANDONED,2019-09-06 07:53:45.000000000,2019-11-14 10:16:17.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 07:53:45.000000000', 'files': ['specs/liberty/neutron-python3.rst', 'specs/mitaka/adopt-oslo-guru-reports.rst', 'specs/archive/kilo/guru-meditation-report.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2e7936ae39d75df6c08d8c06adeac1bf5957845b', 'message': 'Fix misspell word\n\nChange-Id: I1d401e2ac2b45a7c546859aee27c1f0f02c06dc8\n'}]",0,680596,2e7936ae39d75df6c08d8c06adeac1bf5957845b,9,4,1,30408,,,0,"Fix misspell word

Change-Id: I1d401e2ac2b45a7c546859aee27c1f0f02c06dc8
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/96/680596/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/liberty/neutron-python3.rst', 'specs/mitaka/adopt-oslo-guru-reports.rst', 'specs/archive/kilo/guru-meditation-report.rst']",3,2e7936ae39d75df6c08d8c06adeac1bf5957845b,,"GMR has already been implemented in oslo-incubator, pick GMR from oslo and add* Sync GRM from oslo","GMR has already been implemented in olso-incubator, pick GMR from olso and add* Sync GRM from olso",4,4
openstack%2Fneutron-specs~master~Ide7b52898b9f802e840e265f880643678d0717c9,openstack/neutron-specs,master,Ide7b52898b9f802e840e265f880643678d0717c9,Segment Range Management of Self-service Networks,ABANDONED,2018-07-02 00:57:20.000000000,2019-11-14 10:15:08.000000000,,"[{'_account_id': 333}, {'_account_id': 4694}, {'_account_id': 6926}, {'_account_id': 8976}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 15070}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 28373}, {'_account_id': 28550}]","[{'number': 1, 'created': '2018-07-02 00:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3afd45a11b09ca22209c7a6b56fc7c68c8099bcf', 'message': 'Segment Range Management of Self-service Networks\n\nCurrently, segment ranges were nothing more than an entry in a config\nfile that was statically defined for tenant network allocation [1].\nNeutron type drivers parse the segment ranges pre-defined in the host\nconfiguration. And it is not able to modify them once the services have\nbeen initialized.\n\nThis specs introduces an extension which exposes the management of\nsegment ranges to the api user. Now the user can manage them as they\nwould like to for tenant networks.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nImplements: blueprint segment-range-mgmt-of-tenant-networks\nChange-Id: Ide7b52898b9f802e840e265f880643678d0717c9\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 2, 'created': '2018-07-02 02:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5786d8fedeeaafe6599432065a849024345c9f6f', 'message': 'Segment Range Management of Self-service Networks\n\nCurrently, segment ranges were nothing more than an entry in a config\nfile that was statically defined for tenant network allocation [1].\nNeutron type drivers parse the segment ranges pre-defined in the host\nconfiguration. And it is not able to modify them once the services have\nbeen initialized.\n\nThis specs introduces an extension which exposes the management of\nsegment ranges to the api user. Now the user can manage them as they\nwould like to for tenant networks.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nImplements: blueprint segment-range-mgmt-of-tenant-networks\nChange-Id: Ide7b52898b9f802e840e265f880643678d0717c9\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 3, 'created': '2018-07-02 02:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d860604124c9656ed77b79cb0ed85124ec2b23f9', 'message': 'Segment Range Management of Self-service Networks\n\nCurrently, segment ranges were nothing more than an entry in a config\nfile that was statically defined for tenant network allocation [1].\nNeutron type drivers parse the segment ranges pre-defined in the host\nconfiguration. And it is not able to modify them once the services have\nbeen initialized.\n\nThis specs introduces an extension which exposes the management of\nsegment ranges to the api user. Now the user can manage them as they\nwould like to for tenant networks.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nImplements: blueprint segment-range-mgmt-of-tenant-networks\nChange-Id: Ide7b52898b9f802e840e265f880643678d0717c9\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 4, 'created': '2018-07-02 02:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aec461c5f3820a92e9706145bf882c7bf6fbbd31', 'message': 'Segment Range Management of Self-service Networks\n\nCurrently, segment ranges were nothing more than an entry in a config\nfile that was statically defined for tenant network allocation [1].\nNeutron type drivers parse the segment ranges pre-defined in the host\nconfiguration. And it is not able to modify them once the services have\nbeen initialized.\n\nThis specs introduces an extension which exposes the management of\nsegment ranges to the api user. Now the user can manage them as they\nwould like to for tenant networks.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nImplements: blueprint segment-range-mgmt-of-tenant-networks\nChange-Id: Ide7b52898b9f802e840e265f880643678d0717c9\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 5, 'created': '2018-07-02 07:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d3aa130a8ab74081319055ccce6285e84eda463b', 'message': 'Segment Range Management of Self-service Networks\n\nCurrently, segment ranges were nothing more than an entry in a config\nfile that was statically defined for tenant network allocation [1].\nNeutron type drivers parse the segment ranges pre-defined in the host\nconfiguration. And it is not able to modify them once the services have\nbeen initialized.\n\nThis specs introduces an extension which exposes the management of\nsegment ranges to the api user. Now the user can manage them as they\nwould like to for tenant networks.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nImplements: blueprint segment-range-mgmt-of-tenant-networks\nChange-Id: Ide7b52898b9f802e840e265f880643678d0717c9\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 6, 'created': '2018-07-02 07:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cab3d74f098616efdaba6c026f545a4b723b76c4', 'message': 'Segment Range Management of Self-service Networks\n\nCurrently, segment ranges were nothing more than an entry in a config\nfile that was statically defined for tenant network allocation [1].\nNeutron type drivers parse the segment ranges pre-defined in the host\nconfiguration. And it is not able to modify them once the services have\nbeen initialized.\n\nThis specs introduces an extension which exposes the management of\nsegment ranges to the api user. Now the user can manage them as they\nwould like to for tenant networks.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nImplements: blueprint segment-range-mgmt-of-tenant-networks\nChange-Id: Ide7b52898b9f802e840e265f880643678d0717c9\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 7, 'created': '2018-07-02 07:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c9e92a7dca8f78837ddabe4ee05a4a9ef6dd890c', 'message': 'Segment Range Management of Self-service Networks\n\nCurrently, segment ranges were nothing more than an entry in a config\nfile that was statically defined for tenant network allocation [1].\nNeutron type drivers parse the segment ranges pre-defined in the host\nconfiguration. And it is not able to modify them once the services have\nbeen initialized.\n\nThis specs introduces an extension which exposes the management of\nsegment ranges to the api user. Now the user can manage them as they\nwould like to for tenant networks.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nImplements: blueprint segment-range-mgmt-of-tenant-networks\nChange-Id: Ide7b52898b9f802e840e265f880643678d0717c9\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 8, 'created': '2018-09-11 06:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8e1a4f2f6b6d997b07d13321b4a27fd3c46f8694', 'message': 'Segment Range Management of Self-service Networks\n\nCurrently, segment ranges were nothing more than an entry in a config\nfile that was statically defined for tenant network allocation [1].\nNeutron type drivers parse the segment ranges pre-defined in the host\nconfiguration. And it is not able to modify them once the services have\nbeen initialized.\n\nThis specs introduces an extension which exposes the management of\nsegment ranges to the api user. Now the user can manage them as they\nwould like to for tenant networks.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nImplements: blueprint segment-range-mgmt-of-tenant-networks\nChange-Id: Ide7b52898b9f802e840e265f880643678d0717c9\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 9, 'created': '2018-09-12 07:39:16.000000000', 'files': ['specs/stein/segment-range-mgmt-of-tenant-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/61b9da21ffe0c2520417f37ab6eddc36253936fe', 'message': 'Segment Range Management of Self-service Networks\n\nCurrently, segment ranges were nothing more than an entry in a config\nfile that was statically defined for tenant network allocation [1].\nNeutron type drivers parse the segment ranges pre-defined in the host\nconfiguration. And it is not able to modify them once the services have\nbeen initialized.\n\nThis specs introduces an extension which exposes the management of\nsegment ranges to the api user. Now the user can manage them as they\nwould like to for tenant networks.\n\n[1] /etc/neutron/plugins/ml2/ml2_conf.ini\n\nImplements: blueprint segment-range-mgmt-of-tenant-networks\nChange-Id: Ide7b52898b9f802e840e265f880643678d0717c9\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}]",25,579411,61b9da21ffe0c2520417f37ab6eddc36253936fe,27,12,9,28373,,,0,"Segment Range Management of Self-service Networks

Currently, segment ranges were nothing more than an entry in a config
file that was statically defined for tenant network allocation [1].
Neutron type drivers parse the segment ranges pre-defined in the host
configuration. And it is not able to modify them once the services have
been initialized.

This specs introduces an extension which exposes the management of
segment ranges to the api user. Now the user can manage them as they
would like to for tenant networks.

[1] /etc/neutron/plugins/ml2/ml2_conf.ini

Implements: blueprint segment-range-mgmt-of-tenant-networks
Change-Id: Ide7b52898b9f802e840e265f880643678d0717c9
Signed-off-by: Kailun Qin <kailun.qin@intel.com>
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/11/579411/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/segment-range-mgmt-of-tenant-networks.rst'],1,3afd45a11b09ca22209c7a6b56fc7c68c8099bcf,bp/segment-range-mgmt-of-tenant-networks,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Segment Range Management of Self-service Networks ================================================= Launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/segment-range-mgmt-of-tenant-networks Currently, segment ranges were nothing more than an entry in a config file that was statically defined for tenant network allocation [1]. Neutron type drivers parse the segment ranges pre-defined in the host configuration. And it is not able to modify them once the services have been initialized. This specs introduces an extension which exposes the management of segment ranges to the api user. Now the user can manage them as they would like to for tenant networks. Problem Description =================== Self-service networks, aka tenant networks primarily enable general (non-privileged) projects to manage networks without involving administrators. These networks are entirely virtual and require virtual routers to interact with provider and external networks such as the Internet. In most cases, self-service networks use overlay protocols such as VXLAN or GRE because they can support many more networks than layer-2 segmentation using VLAN tagging (802.1q) which typically requires additional configuration of physical network infrastructure. Nevertheless, in some other cases, OpenStack Networking also supports the self-service network isolation using Flat and VLAN etc. [2]. The current neutron implementation sets entries in a config file to statically define segment ranges for tenant network allocation. It does not support another dynamic way (e.g. at the API level) once after initialization. Otherwise, neutron services have to be restarted in order to make any change to the segment ranges valid. This rigidity brings about complexity and difficulty to cloud administrators when dealing with varied requirements. For instance in some VLAN tenant network scenarios, it is not uncommon for cloud administrators to find that the VLAN IDs pre-deployed in the segment range are about to be used up so that expansion is a must. Or sometimes the existing physical network infrastructures segment configurations have been changed, it is necessary to update the VLAN allocation ragne for tenant networks at the same time to keep aligned with the connection or mapping. Hence offering the ability to dynamically manage segment ranges of self-service networks, as this spec proposes, is imperative for VLAN tenant networks and is definitely a plus for other overlay tenant networks. The benefits are presented in detail as follows. First of all, providing this level of flexibility at the API level enables full network orchestration of the all types of tenant networks using standard REST API rather than needing to interact with the host configuration directly. Apart from this, for VLAN tenant networks especially, managed network segments enables an added level of flexibility and control over the management of the cloud/network infrastructure. It also facilitates per-tenant assignments (including shared). This enables a cloud administrator to directly control the VLAN tenant segment ranges, and ultimately the underlying layer2/layer3 path of the tenant traffic without exposing specific provider network information to the tenant user. The allocations for tenant networks will be allocated from the assigned projects of the provider network segments. Use Case -------- One example of dynamic segment range editing in VLAN tenant networks is shown below: * n hosts: Host 0, ...Host k, Host k+1..., Host n are deployed with bridge mappings to an exiting l2 physical network infrastructure (including switch). * VLAN tenant networks with segment allocation range 10-20 can be created in this cloud. * With the increasing creation of tenant networks, it will run out of the VLAN IDs available in the pool. Therefore cloud administrators should expand the VLAN segment range from 10-20 to 10-100 to meet further requirements. +--------------------------------------------------+ | Physical Network Infrastructure | +-+-----+---------------+----------------+---+-----+ | | | | | +----------+ +---+ | | +---------+ |VLAN |VLAN |VLAN |VLAN |VLAN |10-20 |10-20 |10-20 |10-20 |10-20 Nm|->10-100 Nm|->10-100 Nm|->10-100 Nm|->10-100 Nm|->10-100 +----+----+ +----+----+ +----+----+ +----+----+ +----+----+ | Host 0 | | Host 1 |.........| Host k | | Host k+1|...| Host n | +----+----+ +----+----+ +----+----+ +----+----+ +----+----+ A possible workflow is presented as follows: 1. Cloud administrators list all the segment range information indicating the current allocation status of each configured segment range. If no dynamic segment range has been applied yet, it should show the default configurations placed in [1]. 2. If no VLAN resource to allocate or it is about to exhaust, then the cloud administrators would have to expand the VLAN segment range by following steps in 3). 3. Update a segment range with a given segment range ID to overwrite the default/current ones. 4. Similar to [3], follow the usual steps applicable to create VLAN tenant networks. Proposed Change =============== To address the above problems, this spec introduces a new resource called segment_ranges together with its implementation. Currently by default, all pre-configured segment information is loaded into ml2_xxx_allocations DBs by ML2 type drivers once the Neutron services are up. For all self-service networks segmentation ID sync, allocations and releases, they will be based on this information. This spec proposes an API way that user with administrative privilege can modify various segment ranges for all network types supported by ML2. Data Model Impact ----------------- The following new table is added as part of the segment range management feature: CREATE TABLE segment_ranges ( id CHAR(36) NOT NULL PRI KEY, network_type ENUM('flat', 'vlan', 'vxlan', 'gre', geneve) NOT NULL, physical_network VARCHAR(64), minimum INT, maximum INT, ); For different network types, the validation strategies and responses should have the following variants: * FLAT: minimum and maximum integers input are not allowed. A forbidden or failed response should return if one of which is given. * VLAN: minimum = 1, maximum = 4094. * VXLAN: minimum = 1, maximum = 2 ** 24 - 1. * GRE: minimum = 1, maximum = 2 ** 32 - 1. * Geneve: minimum = 1, maximum = 2 ** 24 - 1. Note: Other validation rules like minimum <= maximum are always applicable and should be paid attention to. Most of the cited above have been supported in neutron_lib.plugins.utils. In addition, a new attribute will be added to the existing ml2_xxx_allocations tables in order to identify the segment range that the ID belongs to. +-----------------+--------+----------------+--------+-------------------+ | Attribute Name | Type | Access | Default| Validation/ | | | | | Value | Conversion | +=================+========+================+========+===================+ | segment_range_id| String | R | None |None, unique string| +-----------------+--------+----------------+--------+-------------------+ For the segmentation ID assigned explicitly by provider networks, it should have a segment_range_id with default value (None). Mixin classes to add the segment range management extension to the db_plugin_base_v2 should be provided, which implement the DB operation logic needed. REST API Impact --------------- The idea is to add a new resource extension with the below defined attributes. Resource extension segment_ranges: +-----------------+--------+----------------+--------+-------------------+ | Attribute Name | Type | CRUD | Default| Description | | | | | Value | | +=================+========+================+========+===================+ | id | String | R | | Identifier of | | | | | | segment ranges | +-----------------+--------+----------------+--------+-------------------+ | network_type | Enum | R | None | Flat, VLAN, VxLAN,| | | | | | GRE, Geneve | +-----------------+--------+----------------+--------+-------------------+ | physical_network| String | R | None | Optional. Present | | | | | | when describing | | | | | | FLAT, VLAN. | +-----------------+--------+----------------+--------+-------------------+ | minimum | INT | RU | None | Floor integer of | | | | | | the segment range.| +-----------------+--------+----------------+--------+-------------------+ | maximum | INT | RU | None | Ceiling integer of| | | | | | the segment range.| +-----------------+--------+----------------+--------+-------------------+ The attributes map of new segment_ranges resource would be like: RESOURCE_ATTRIBUTE_MAP = { 'segment_ranges': { 'id': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'network_type': {'allow_post': False, 'allow_put': False, 'validate': {'type:values': ['flat', 'vlan', 'vxlan', 'gre', 'geneve']}, 'is_visible': True}, 'physical_network': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'minimum': {'allow_post': False, 'allow_put': True, 'enforce_policy': True, 'is_visible': True}, 'maximum': {'allow_post': False, 'allow_put': True, 'enforce_policy': True, 'is_visible': True}, }, } Currently, users with admin privilege can only RU the segment range while the CD are not supported yet. These methods/operations are more valuable when the fully-managed segment feature is added (containing the management of physical networks etc. in provider networks). To specify a range with single item, min equals to max can do the trick. For discrete segment ranges of one given network type, they are represented as several ones, each with a min and max. Examples -------- For example, GET one of the segment ranges: GET /v2.0/segment_ranges/<segment_ranges-uuid> Accept: application/json { ""segment_ranges"": { ""id"": d23abc8d-2991-4a55-ba98-2aaea84cc72f, ""network_type"": vlan, ""physical_network"": physnet1, ""minimum"": 100, maximum: 200, } } Command Line Client Impact -------------------------- Openstack Client would add segment_ranges CLI with additional options, which would modify the segment range characteristics. openstack network segment_ranges update [--minimum <segment_ranges_minimum>][--maximum <segment_ranges_maximum>] <segment_ranges_id> Argument --minimum, --maximum are optional. Other Impact ------------ * ML2 plugin, plugin manager and type drivers will need to be refined and added with several new methods correspondingly in order to support this feature. * Validation work is always needed while dynamically editing one segment range (e.g. editing impacts a network with segmentation ID already referenced should be rejected). * Backwards compatibility should be further considered and discussed. An option in [4] could be considered to be added if cloud administrators would not like to enable this feature. Other End User Impact --------------------- Users with admin privilege will be able to dynamically edit segment range for all ML2 supported network types. Considering the backwards compatibility cited previously, there will be no impact to end users if they prefer the legacy usage steps. Other Deployer Impact --------------------- Deployers may be suggested to deprecate static pre-definition of segment information within the configuration file in the future. This might bring about benefits to enable fully-managed segments which will be brought up and discussed thru another BP. But for now, nothing at the deployment level would be impacted. Performance Impact ------------------ Performance testing must be conducted to see what is the overhead of enabling this feature, of course that if the feature is disabled no performance impact should be noticed. Implementation ============== Assignee(s) ----------- * Kailun Qin <kailun.qin@intel.com> Work Items ---------- * Adjust the DB model and add the new table. * Extend current API. * Modify type drivers as well as all related references. * Add related tests. * Add CLI openstackclient. Documentation. Dependencies ============ None Testing ======= Unit tests, functional tests, API tests and scenario tests are necessary. Documentation Impact ==================== The Neutron API reference will need to be updated. References ========== [1] /etc/neutron/plugins/ml2/ml2_conf.ini [2] https://docs.openstack.org/neutron/latest/admin/intro-os-networking.html [3] https://docs.openstack.org/newton/install-guide-rdo/launch-instance-networks-selfservice.html [4] /etc/neutron/neutron.conf Related Information ------------------- Neutron v2 API: https://developer.openstack.org/api-ref/network/v2/ ",,319,0
openstack%2Fneutron-specs~master~I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6,openstack/neutron-specs,master,I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6,Add a 'promiscuous mode' extension for ports,ABANDONED,2017-03-15 06:38:05.000000000,2019-11-14 10:15:05.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 11536}, {'_account_id': 11975}, {'_account_id': 14605}, {'_account_id': 14744}, {'_account_id': 15309}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-03-15 06:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d174ccc1b493718d3d981b93b395cb9902fe7da1', 'message': ""Add a 'promiscuous mode' extension for ports\n\nThis spec intro add a field into port resource, and according to the value\nto control the vm port running in promiscuous mode or not.\nThe mode can be changed through port updating call.\n\nAPIImpact\nDocImpact\n\nChange-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6\n""}, {'number': 2, 'created': '2017-03-17 07:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fa204309a2cb974d7411a311aa688e9747f8576b', 'message': ""Add a 'promiscuous mode' extension for ports\n\nThis spec intro add a field into port resource, and according to the value\nto control the vm port running in promiscuous mode or not.\nThe mode can be changed through port updating call.\n\nAPIImpact\nDocImpact\n\nChange-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6\n""}, {'number': 3, 'created': '2017-03-17 08:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0b98f8b9eb9fb6c3609bcbc3d4373a19f074558e', 'message': ""Add a 'promiscuous mode' extension for ports\n\nThis spec intro add a field into port resource, and according to the value\nto control the vm port running in promiscuous mode or not.\nThe mode can be changed through port updating call.\n\nAPIImpact\nDocImpact\n\nChange-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6\n""}, {'number': 4, 'created': '2017-03-17 08:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/505873f26ab16691a140dcfcc0cde7b4a7a4599c', 'message': ""Add a 'promiscuous mode' extension for ports\n\nThis spec intro add a field into port resource, and according to the value\nto control the vm port running in promiscuous mode or not.\nThe mode can be changed through port updating call.\n\nAPIImpact\nDocImpact\n\nChange-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6\n""}, {'number': 5, 'created': '2017-05-25 02:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c837e565b596f016295cd8dd0b0894653c09ddb0', 'message': ""Add a 'promiscuous mode' extension for ports\n\nThis spec intro add a field into port resource, and according to the value\nto control the vm port running in promiscuous mode or not.\nThe mode can be changed through port updating call.\n\nAPIImpact\nDocImpact\nCloses-Bug: #1525824\nChange-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6\n""}, {'number': 6, 'created': '2018-01-09 22:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e14266db8ecdf0ad8f89b21a6b3199165e64af93', 'message': ""[WIP] Add a 'promiscuous mode' extension for ports\n\nThis spec intro add a field into port resource, and according to the value\nto control the vm port running in promiscuous mode or not.\nThe mode can be changed through port updating call.\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\n\nAPIImpact\nDocImpact\nCloses-Bug: #1525824\nChange-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6\n""}, {'number': 7, 'created': '2018-01-11 23:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/eb2d7865eea543cb58e3a368eea6ace3c600fc47', 'message': ""Add a 'promiscuous mode' extension for ports\n\nThis spec intro add a field into port resource, and according to the value\nto control the vm port running in promiscuous mode or not.\nThe mode can be changed through port updating call.\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\n\nAPIImpact\nDocImpact\nCloses-Bug: #1525824\nChange-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6\n""}, {'number': 8, 'created': '2018-01-22 06:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/021babebf277ee6c43f95ae80b6fb6d1b897645a', 'message': ""Add a 'promiscuous mode' extension for ports\n\nThis spec intro add a field into port resource, and according to the value\nto control the vm port running in promiscuous mode or not.\nThe mode can be changed through port updating call.\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\n\nAPIImpact\nDocImpact\nCloses-Bug: #1525824\nChange-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\n""}, {'number': 9, 'created': '2018-03-27 09:10:29.000000000', 'files': ['specs/rocky/add-promiscuous-mode-extension-for-port.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ed212d6ec92af21248aec20740242d138942c3ad', 'message': ""Add a 'promiscuous mode' extension for ports\n\nThis spec intro add a field into port resource, and according to the value\nto control the vm port running in promiscuous mode or not.\nThe mode can be changed through port updating call.\n\nCo-Authored-By: Hongbin Lu <hongbin034@gmail.com>\n\nAPIImpact\nDocImpact\nCloses-Bug: #1525824\nChange-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\n""}]",41,445771,ed212d6ec92af21248aec20740242d138942c3ad,32,13,9,15309,,,0,"Add a 'promiscuous mode' extension for ports

This spec intro add a field into port resource, and according to the value
to control the vm port running in promiscuous mode or not.
The mode can be changed through port updating call.

Co-Authored-By: Hongbin Lu <hongbin034@gmail.com>

APIImpact
DocImpact
Closes-Bug: #1525824
Change-Id: I9d965eebf4d6b7514dd56181f0a85eed3e6e12c6
Depends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/71/445771/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/add-promiscuous-mode-extension-for-port.rst'],1,d174ccc1b493718d3d981b93b395cb9902fe7da1,bug/1525824,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== add-promiscuous-mode-extension-for-port ========================================== RFE: https://bugs.launchpad.net/neutron/+bug/1525824 Ports need the ability to set promiscuous mode. If the VNic had been set with promiscuous mode by someone, it will receive all the muticast/broadcast packets which the destination mac is not its mac address. So we need find a way to control the ability for networking security and stability. Problem Description =================== Currently, the VM's VNIC can be set promiscuous mode by end users who owned the VM. It will affect the normal network connection and the application performance if there are too many traffic. * VM CPU overwhelming * Losing the packets which access the VM The reason is that when the packets on openvswitch/linuxbridge need to be transfered, they will be flood if the switch failed to lookup its fdb table. In Neutron, there is no way to control to enable/unable port running in promiscuous mode. Proposed Change =============== We propose to add promiscuous_mode field to Port model. The value is boolean type. Admin could enable/unable the port promiscuous mode with a port updating API call. :: $ openstack port set PORT_ID --enable-promiscuous-mode $ openstack port set PORT_ID --unable-promiscuous-mode In this spec, we introduce a new ovs bridge named ""pmc-<port-id>"", it is for filtering the ingress traffic of port whatever the VNIC in VM set or unset promiscuous mode. Example logical model:: +---------+ | vm | +----+----+ | +------+-------+ | qvo-<port01> | +----+------+-------+---+ | | | pmc-<port01> bridge | | | +----+--------------+---+ | pmt-<port01> | +------+-------+ | +------+-------+ | pmi-<port01> | +-----+--------------+-----+ | | | openvswitch bridge | | | +--------------------------+ * The traffic of qvo-<port01> is untagged in vm. * pmt-<port01> and pmi-<port01> is a pair of patch port. And pmi-<port01> will be processed by neutron-l2-agent normally. Such as set the local vlan. * qvo-<port01> is attached by nova side, so nova should know which the bridge can be landed. * pmc-<port01> bridge is for filtering the ingress traffic from pmt-<port01>, check whether the destination mac is the port mac address, forward the mutilcast packets also, the other should be dropped when port's promiscuous mode is unable. But when enable promiscuous port, there is only the default forward flow table, the behavior of pmc-<port01> is like a fool switch, it will forward all received packets from pmt-<port01>. Data Model Impact ----------------- One new attributes are added to resource model: +------------------+---------+---------------+----------+------+--------------------------------------+ | Attribute name | Type | Default Value | Required | CRUD | Description | +------------------+---------+---------------+----------+------+--------------------------------------+ | promiscuous_mode | Boolean | False | N | CRU | The status of Port promiscuous mode. | +------------------+---------+---------------+----------+------+--------------------------------------+ This field could be set through port updating API call. And the default value is False, that means the port promiscuous is unable. If there is any destination, such as networking status analysis. Alternatives ------------ Change the pipeline of br-int, and introduce an new table to ovs to handle the traffic based on dl_dst. REST API Impact --------------- Promiscuous_mode will be exposed to users via extension API. If plugin support this extension, the returned Port body will contain this field. Take an example, the request uri looks like this: .. code:: POST /v2.0/ports/ { ""port"": { ""network_id"": ""70c1db1f-b701-45bd-96e0-a313ee3430b3"", ""promiscuous_mode"": true } } and response: .. code:: { ""port"": { ""status"": ""DOWN"", ""name"": """", ""allowed_address_pairs"": [], ""admin_state_up"": true, ""network_id"": ""70c1db1f-b701-45bd-96e0-a313ee3430b3"", ""tenant_id"": """", ""extra_dhcp_opts"": [], ""device_owner"": """", ""mac_address"": ""fa:16:3e:58:42:ed"", ""fixed_ips"": [ { ""subnet_id"": ""008ba151-0b8c-4a67-98b5-0d2b87666062"", ""ip_address"": ""172.24.4.2"" } ], ""id"": ""d80b1a3b-4fc1-49f3-952e-1e2ab7081d8b"", ""security_groups"": [], ""promiscuous_mode"": true, ""device_id"": ""9ae135f4-b6e0-4dad-9e91-3c223e385824"" ""created_at"": 2015-07-31T11:50:05 ""updated_at"": 2015-07-31T11:51:12 } } .. code:: GET /v2.0/ports/d80b1a3b-4fc1-49f3-952e-1e2ab7081d8b and response: .. code:: { ""port"": { ""status"": ""ACTIVE"", ""name"": """", ""allowed_address_pairs"": [], ""admin_state_up"": true, ""network_id"": ""70c1db1f-b701-45bd-96e0-a313ee3430b3"", ""tenant_id"": """", ""extra_dhcp_opts"": [], ""device_owner"": ""compute:None"", ""mac_address"": ""fa:16:3e:58:42:ed"", ""fixed_ips"": [ { ""subnet_id"": ""008ba151-0b8c-4a67-98b5-0d2b87666062"", ""ip_address"": ""172.24.4.2"" } ], ""id"": ""d80b1a3b-4fc1-49f3-952e-1e2ab7081d8b"", ""security_groups"": [], ""promiscuous_mode"": true, ""device_id"": ""9ae135f4-b6e0-4dad-9e91-3c223e385824"" ""created_at"": 2015-07-31T11:50:05 ""updated_at"": 2015-07-31T11:51:12 } } .. code:: PUT /v2.0/ports/d80b1a3b-4fc1-49f3-952e-1e2ab7081d8b { ""port"": { ""promiscuous_mode"": false } } and response: .. code:: { ""port"": { ""status"": ""DOWN"", ""name"": """", ""allowed_address_pairs"": [], ""admin_state_up"": true, ""network_id"": ""70c1db1f-b701-45bd-96e0-a313ee3430b3"", ""tenant_id"": """", ""extra_dhcp_opts"": [], ""device_owner"": """", ""mac_address"": ""fa:16:3e:58:42:ed"", ""fixed_ips"": [ { ""subnet_id"": ""008ba151-0b8c-4a67-98b5-0d2b87666062"", ""ip_address"": ""172.24.4.2"" } ], ""id"": ""d80b1a3b-4fc1-49f3-952e-1e2ab7081d8b"", ""security_groups"": [], ""promiscuous_mode"": false, ""device_id"": ""9ae135f4-b6e0-4dad-9e91-3c223e385824"" ""created_at"": 2015-07-31T11:50:05 ""updated_at"": 2015-07-31T11:51:12 } } Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- The client will be enhanced to support changes in the API. Horizon will need to at least expose the promiscuous_mode attribute on the ports if possible. Performance Impact ------------------ Performance of syncing resource status with other systems like a monitor system or a user interface can be improved. Instead of retrieving all the resources in every syncing period to update resource status, these systems can just retrieve resources updated during the syncing interval using change_since filter. IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: zhaobo6@huawei.com Other contributors: TBD Work Items ---------- * Add promiscuous_mode API extension and related DB schema updates * UTs for the changes in first step * Adapt the new brige in creat port process * Neutron plugin support. Dependencies ============ None Testing ======= Tempest and functional tests will be created. Functional Tests ---------------- TBD. API Tests --------- Test if the new field of port can be correctly parsed and validated. Documentation Impact ==================== User Documentation ------------------ Update Neutron API reference. Developer Documentation ----------------------- Update developer documentation to introduce the new optional of port. References ========== ",,346,0
openstack%2Fneutron-specs~master~Ie8967d7400fc40b08450f5c1eddb97cf085a3a4a,openstack/neutron-specs,master,Ie8967d7400fc40b08450f5c1eddb97cf085a3a4a,Spec for Neutron Remote OVS Agent,ABANDONED,2018-08-23 02:47:21.000000000,2019-11-14 10:15:02.000000000,,"[{'_account_id': 333}, {'_account_id': 1131}, {'_account_id': 4491}, {'_account_id': 4694}, {'_account_id': 9200}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 13630}, {'_account_id': 13995}, {'_account_id': 16881}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25733}, {'_account_id': 28373}, {'_account_id': 28692}, {'_account_id': 28714}, {'_account_id': 29145}, {'_account_id': 29271}]","[{'number': 1, 'created': '2018-08-23 02:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9df8724fea4aa041e5b2342e7c3309eda7fb74a9', 'message': 'Spec for Remote OVS Agent\n\nThis spec describes the changes to Neutron to make Neutron OVS agent\ncan manage the OVS running remotely.\n\nBP: remote-ovs-agent\nChange-Id: Ie8967d7400fc40b08450f5c1eddb97cf085a3a4a\n'}, {'number': 2, 'created': '2018-08-23 02:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/22c23fef92455e6574c9a47f72438e51ca48594f', 'message': 'Spec for Neutron Remote OVS Agent\n\nThis spec describes the changes to Neutron to make Neutron OVS agent\ncan manage the OVS running remotely.\n\nBP: remote-ovs-agent\nChange-Id: Ie8967d7400fc40b08450f5c1eddb97cf085a3a4a\n'}, {'number': 3, 'created': '2018-08-24 03:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/582f781c57cf03e1a46f6995f7cd74b7286a59be', 'message': 'Spec for Neutron Remote OVS Agent\n\nThis spec describes the changes to Neutron to make Neutron OVS agent\ncan manage the OVS running remotely.\n\nBP: remote-ovs-agent\nChange-Id: Ie8967d7400fc40b08450f5c1eddb97cf085a3a4a\n'}, {'number': 4, 'created': '2018-09-11 15:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e2a0d3a13c129596780cb594c7e3ba1fe2f123f3', 'message': 'Spec for Neutron Remote OVS Agent\n\nThis spec describes the changes to Neutron to make Neutron OVS agent\ncan manage the OVS running remotely.\n\nBP: remote-ovs-agent\nChange-Id: Ie8967d7400fc40b08450f5c1eddb97cf085a3a4a\n'}, {'number': 5, 'created': '2019-01-07 07:28:45.000000000', 'files': ['specs/stein/remote-ovs-agent.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fda2c2ce330ef7566862a38ed4c0718a83382b0c', 'message': 'Spec for Neutron Remote OVS Agent\n\nThis spec describes the changes to Neutron to make Neutron OVS agent\ncan manage the OVS running remotely.\n\nBP: remote-ovs-agent\nChange-Id: Ie8967d7400fc40b08450f5c1eddb97cf085a3a4a\n'}]",19,595402,fda2c2ce330ef7566862a38ed4c0718a83382b0c,24,19,5,4491,,,0,"Spec for Neutron Remote OVS Agent

This spec describes the changes to Neutron to make Neutron OVS agent
can manage the OVS running remotely.

BP: remote-ovs-agent
Change-Id: Ie8967d7400fc40b08450f5c1eddb97cf085a3a4a
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/02/595402/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/remote-ovs-agent.rst'],1,9df8724fea4aa041e5b2342e7c3309eda7fb74a9,smartnic,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================ Remote OVS agent ================ https://blueprints.launchpad.net/neutron/+spec/remote-ovs-agent This spec describes the changes to Neutron to make Neutron OVS agent can manage the OVS running remotely. Problem Description =================== Currently, the Neutron OVS agent has the assumption that it will be deployed on the same machine as the OVS which it manages. In the smartNIC bare metal use case, where the OVS is running inside the smartNIC card on the bare metal node [1]_, where the corresponding Neutron OVS agent is running on a different node, we need to enhance the Neutron OVS agent can manage the OVS running remotely. By leveraging the existing ""native"" ovsdb interface and the ""native"" openflow interface, the Neutron OVS agent has already have the basic capabilities to talk to the remote ovs db and ovs switch. But we still need to make some changes to make it working to manage the remote OVS. Proposed Change =============== * Enhance the neutron.agent.linux.ovsdb_monitor.OvsdbMonitor.__init__() so it can set the correct ovs manager on the remote OVS. * Enhance the neutron.plugins.ml2.drivers.openvswtich.agent. ovs_neutron_agent.validate_local_ip() so it can validate the overlay tunnel network endpoint on the remote host. * Add new configuration parameters about how to log into the remote host where the remote OVS is running, such as remote host ip address, ssh user name, ssh password or private_key, etc. * Add code logic to validate the configuration parameters are valid on the remote host where remote OVS is running: i.e. default.host, ovs.ovsdb_connection; and the following parameters are valid on the local host where the Neutron OVS agent is running: i.e. ovs.of_listen_address, ovs.of_listen_port. Data model impact ----------------- None REST API impact --------------- None Client (CLI) impact ------------------- None Other Deployer Impact --------------------- None References ========== .. [1] `Ironic spec: Smart NIC Networking`: https://review.openstack.org/582767 ",,67,0
openstack%2Fneutron-specs~master~I810384d5cbefe6e80e0ea5b38ff46875c19ae27c,openstack/neutron-specs,master,I810384d5cbefe6e80e0ea5b38ff46875c19ae27c,Spec for Scalable Neutron OVS agent,ABANDONED,2018-08-23 07:23:59.000000000,2019-11-14 10:14:59.000000000,,"[{'_account_id': 333}, {'_account_id': 4491}, {'_account_id': 4694}, {'_account_id': 10343}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28373}, {'_account_id': 28692}, {'_account_id': 28714}]","[{'number': 1, 'created': '2018-08-23 07:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c327aaef18f366034192fa7791e926f41f3b3ad5', 'message': 'Spec for Scalable Neutron OVS agent\n\nThis spec describes the proposed changes to Neutron OVS agent to make\nit scalable in a large scale deployment.\n\nBP: remote-ovs-agent\nChange-Id: I810384d5cbefe6e80e0ea5b38ff46875c19ae27c\n'}, {'number': 2, 'created': '2018-08-24 03:06:42.000000000', 'files': ['specs/stein/scalable-ovs-agent.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/418a4aec95e0416f0838260389976627facc201e', 'message': 'Spec for Scalable Neutron OVS agent\n\nThis spec describes the proposed changes to Neutron OVS agent to make\nit scalable in a large scale deployment.\n\nBP: remote-ovs-agent\nChange-Id: I810384d5cbefe6e80e0ea5b38ff46875c19ae27c\n'}]",5,595512,418a4aec95e0416f0838260389976627facc201e,14,12,2,4491,,,0,"Spec for Scalable Neutron OVS agent

This spec describes the proposed changes to Neutron OVS agent to make
it scalable in a large scale deployment.

BP: remote-ovs-agent
Change-Id: I810384d5cbefe6e80e0ea5b38ff46875c19ae27c
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/12/595512/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/scalable-ovs-agent.rst'],1,c327aaef18f366034192fa7791e926f41f3b3ad5,smartnic,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Scalable Neutron OVS agent: 1-to-N mapping ========================================== https://blueprints.launchpad.net/neutron/+spec/scalable-ovs-agent This spec describes the proposed changes to Neutron OVS agent to make it scalable in a large scale deployment. This spec also depends on the proposed changes described as in another Neutron spec `Neutron Remote OVS Agent` [1]_. Problem Description =================== In current neutron deployment and design, the Neutron OVS ML2 agent is designed to manage the local single OVS running on the same host as the Neutron OVS agent. With the smart NIC support which is described in in another Neutron spec `Neutron Remote OVS Agent` [1]_ as well as the ironic spec `Smart NIC Networking` [2]_ , it is now possible to deploy Neutron OVS agent in the bare metal networking case, each of which is to manage the single OVS running in the smart NIC. However, in a large scale deployment(i.e. More than 5000 bare metal nodes with smart NIC), this requires deploying more than 5000 Neutron OVS agents which doesn't scale due to the message bus(e.g. RabbitMQ) limitations.We need to change the 1-to-1 mapping between Neutron OVS agent and OVS to allow each Neutron OVS agent to manage multiple remote OVS to reduce network traffic in message bus between Neutron server and OVS agent t hence making sure it can scale. Proposed Change =============== Currently, each Neutron OVS agent directly listens on the message bus for rpc calls from Neutron server and monitors the OVS changes to act upon those rpc calls or ovs changes. We'll introduce the concept of Neutron super OVS agent which will directly listens on the message bus for rpc calls instead. The current Neutron OVS agent will not listens on the message bus any more, but each will only monitor the OVS changes to act upon, and will be referred as the Neutron child OVS manager in the follwings. Neutron super OVS agent ----------------------- The Neutron super OVS agent is responsible for the followings: * manage the Neutron child OVS manager Based on the information from the rpc calls from Neutron server, determine whether we need to create a new Neutron OVS manager to manage a remote OVS. If a Neutron port is bound to a new host which is not managed by any Neutron child OVS manager, one Neutron super OVS agent will find out by using consistent hash [3]_ that it's its responsibility to create a new Neutron child OVS manager to manage that OVS running on that binding host. * message bus proxy between Neutron server and child OVS managers Since now the Neutron OVS super agent is listening on the message bus, once it receives rpc calls, it will pass that rpc call to appropriate child OVS manager using python thread-safe method call. * detection of peer Neutron super OVS agent online/offline Since there could be multiple Neutron super OVS agents deployed in the cloud for scale out and high availability purpose, it is one of its responsibility to detect a new super OVS agent is coming online or an old super OVS agent is offline. Once that happens, it could leverage OpenStack Tooz [3]_ project to recalculate whether it needs to create new Neutron child OVS manager to manage the OVSes which were managed by the offline super OVS agents. Neutron child OVS manager ------------------------- The Neutron child OVS manager is responsible to monitor the changes on a remote OVS and act upon those changes. We can leverage existing Neutron OVS agent's code as well as the changes proposed in the spec `Neutron Remote OVS Agent` [1]_. But there still needs some minor changes: * When the admin provision the bare metal node, he/she will add remote host ssh login information into the port binding profile. * We need to change the Neutron OVS agent code to pass the correct configuration parameters when creating new Neutron child OVS manager based on the information extracted from port binding profile, instead of reading it from the local configuration file. These configuration parameters are related to the remote host ssh login information as described in spec [1]_. * Set the following configuration parameters based on the information extracted from remote ssh login information, and use them instead of the local configuration file when creating new Neutron child OVS manager, i.e. default.host, ovs.local_ip, ovs.ovsdb_interface=native, ovs.ovsdb_connection, ovs.of_interface=native, ovs.of_listen_address, ovs.of_listen_port. Data model impact ----------------- None REST API impact --------------- None Client (CLI) impact ------------------- None Other Deployer Impact --------------------- If the admin choose to use this new deployment scenario, this requires a dependency to openstack Tooz service and a configuration change in the neutron super OVS agent's configuration file. References ========== .. [1] `SPEC: Neutron Remote OVS Agent`: https://review.openstack.org/595402/ .. [2] `SPEC: Smart NIC Networking`: https://review.openstack.org/582767 .. [3] `Openstack Tooz`: https://github.com/openstack/tooz ",,119,0
openstack%2Fneutron-specs~master~Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101,openstack/neutron-specs,master,Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101,Spec for Routing traffic based on subnet,ABANDONED,2017-11-29 02:21:18.000000000,2019-11-14 10:14:55.000000000,,"[{'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 6995}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 15309}, {'_account_id': 17491}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-29 02:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/00cd04c91e89bab2b0f3464980f9de60da84d182', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic, it will introduce a new\nAPI for this function and how to make it work in a way.\n\nCloses-Bug: #1715386\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 2, 'created': '2017-11-29 02:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d23f8f7d782ad331c3e2b631bf54cc0daad86471', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic, it will introduce a new\nAPI for this function and how to make it work in a way.\n\nCloses-Bug: #1715386\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 3, 'created': '2017-12-15 03:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d64365dd1350ad995799b584aafb0d788fc6bd44', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic, it will introduce a new\nAPI for this function and how to make it work in a way.\n\nCloses-Bug: #1715386\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 4, 'created': '2017-12-15 09:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/84c46f88cfb23fb0e7b05cdf03c195808fbb657c', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic, it will introduce a new\nAPI for this function and how to make it work in a way.\n\nCloses-Bug: #1715386\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 5, 'created': '2017-12-19 07:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/eceff8708e2c30a77378ea0a13c3c49ed323ca37', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 6, 'created': '2017-12-19 10:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f4b01d453268bd8a183cd889fb8f2a124cbc4284', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 7, 'created': '2017-12-20 09:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/29d8c21f015a03a21e6c39daff95ebb1857757cb', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 8, 'created': '2017-12-25 04:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2379c91edeaee57868ab95c4dc423aaeec070733', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 9, 'created': '2017-12-25 04:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4a10b26bab98ff0e98ca919e683f48bc76c058be', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 10, 'created': '2018-01-04 09:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e0bf38a8bcc254e260ac4a95291e9bb2d9947065', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 11, 'created': '2018-01-10 07:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a0628dc18452fba6c9c49b040287fbc0be129c66', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 12, 'created': '2018-01-10 07:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f7836cc8ff82757da772bdb94e7f2ba00b6e58b5', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 13, 'created': '2018-01-23 03:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f15977c524422c367802c6fe2e37f4e425e3805d', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\n'}, {'number': 14, 'created': '2018-01-25 15:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/40cc74821b3f0b94f498ffa6985cbf680900ad73', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\nPartial-Bug: #1715386\n'}, {'number': 15, 'created': '2018-01-27 08:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dadb95a4d395301f400c56f75767f9bf106a7522', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\nPartial-Bug: #1715386\n'}, {'number': 16, 'created': '2018-01-27 08:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f7671713fc6ea9f3c070870c109ed3dd7774cf59', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\nPartial-Bug: #1715386\n'}, {'number': 17, 'created': '2018-02-02 04:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/01e9fa37de8120bab16b69283009d5b53a002a76', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\nPartial-Bug: #1715386\n'}, {'number': 18, 'created': '2018-03-27 07:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/453889a4cd0704774c20f3c2a6da0cecebad778e', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\nPartial-Bug: #1715386\n'}, {'number': 19, 'created': '2018-03-27 08:59:34.000000000', 'files': ['images/source-based-routing-case2.png', 'specs/rocky/subnet-routing-traffic.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1d4f18fd76ab6aae9cd870cb9e476aefd4078adc', 'message': 'Spec for Routing traffic based on subnet\n\nThis is the draft for the subnet routing traffic.\nIt will introduce a new API for this function and how to make it work in a way.\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101\nPartial-Bug: #1715386\n'}]",314,523658,1d4f18fd76ab6aae9cd870cb9e476aefd4078adc,84,12,19,15309,,,0,"Spec for Routing traffic based on subnet

This is the draft for the subnet routing traffic.
It will introduce a new API for this function and how to make it work in a way.

Depends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372
Change-Id: Ic1377b4a3a296555fde2e5aad6c0f74c5b9cf101
Partial-Bug: #1715386
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/58/523658/16 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/subnet-routing-traffic.rst'],1,00cd04c91e89bab2b0f3464980f9de60da84d182,bug/1715386,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Routing traffic based on subnet =============================== https://bugs.launchpad.net/neutron/+bug/1715386 Today, our reference implementation of L3 staff is not very flexible for some routing scenarios. So Neutron need to improve its ability for the complex routing requirements. Problem Description =================== In real data center, it may contains several external gateways to access external network. The VM instances can access all of them in L3 layer. Each gateway may from different network service providers, and different network performance(such as stability, bandwidth, speed). Cloud users may want to make the VMs in the specified subnet of network to routing the traffic which from some specified source IP/CIDR to the site which own the best connection line. But the other VMs'traffic which locate on other subnets in the same network pass through the original gateway as default. So we need to route the specified traffic to other gateway. Also another use case, if cloud user A launched 2 VMs in different subnets, One VM X is used by the customers, and the other VM Y is used for accessing the private env which deployed by cloud user A and contains some security process (private FW, etc..), so there is a requirement that cloud user A need some traffic from VM X(maybe the traffic from VMX which want to access the internet) to pass through the cloud user A's private env to access the internet firstly. Also, this private env can not expose to the customer of user A, user A don't allow that the route table in VM inject the specified routing rules. So we need another way to process this traffic, like PBR on router. The traffic from each subnets which attached on this router, may need a individual route table for each subnet now. The simple usecase is like [1] Use case -------- In real data center, there could be 2 or more network providers, as the company who run and maintain the data center doesn't want to be bound by a single network vendor. That means there are several multi-entry networks and all of them can be reached in Lay 3 like the picture below. :: VM A and B are in Router the same subnet. +----------------+ +-------------------+ +--------+ | +------------+ | | Privider X | |VM A | | |Main Route | | +---->egwA network | | +------+ | |default to | | | | | | | | | |egwA | | | +-------------------+ +--------+ | | +------------+ | | | | | | +-----+subnet +--+ | |interface | | | | +------------+ | | +--------+ | | |SubnetRoute | | | +-------------------+ |VM B | | | |default to | | | | Provider Y | | +------+ | |egwB | | +---->egwB network | | | | +------------+ | | | +--------+ +----------------+ +-------------------+ As this picture, there are 2 VMs in the same subnet. And 2 different network vendor providing different internet entry with different performance. Here, Provider Y is the best one. The owner of VM A is a general user, he/she just want to access the Internet, no performance request. The owner of VM B want to access the Internet with high speed and good performance. So the requirment is that routing the traffic in different way towards VMs in the same subnet. The possible workflow is: 1. VM A want to access Internet, first throw the network packets to its gateway It must be the subnet interface. Then the traffic need to know the next hop, so check the main route table, the default gateway is egwA which locates on the general performance network. 2. VM B, also throw the network packets to its subnet interface, but check the other route table(from subnet/particular IP), its default gateway is egwB which locates on the high performance network. So both VM users could have different internet performance. Proposed Change =============== The functionality could be completed with ``ip rule`` and some routing rules. The route rules are like source routing, user/admin can specify the routing rules like from source IP/CIDR to nexthop which user/admin specified. But for the simple in the first implementation, we just support source routing with basic options, we could extend for type of traffic, protocol, protocol port in the future. For this new function support, there is a requirement for Neutron API, users need a entry to set the routing rule for a subnet. We could have a ""language"" similar to security groups that contain security group rules. So expose a service plugin which providing an API for defining the routing rules and a router flavor 'PBR-aware' that will allow an L3 agent to enforce the rules being defined for the particular router implementation(HA or DVR, etc.). For other concerned, the existing routers may don't support this function, but as the limitation of their real implementation, it could be different with this spec mentioned. So it is the right way to follow the L3 flavors or mutil-l3-backend approach to implement.That means a new service type 'PBR-aware' for this feature will be introduced. A service provider for routing rules will be added into the ``router_update`` info to the backends for this functionality. The main idea about this provider is simply that only subscribe the router events and insert the routing rules before sending out rpc to l3 agent. The addition information must associated with subnets and routers. Then the backend driver could get the routing info if necessary and implement it with its own way. For the existing routing rules, the less change is better. We will preserve the current behavior for the most part. The only difference will be the presence of new rules that will route based on certain source CIDRs/IPs. For source CIDRs/IPs that have not been setup by the user in the new way, the router will behave exactly the same as the current routers. For ``subnetroutes`` in subnet resource, the routes will acts in the VM instances. For ``routes`` in router resource, the routes will acts in the default Router namespace which affect the whole routing functionality. There is no conflict with ``ip rule``. So what to do is how to apply this subnet routing function into current implementation. DB Tables --------- New tables need to create:: CREATE TABLE subnet_routetables ( project_id varchar(255) DEFAULT NULL, id varchar(36) NOT NULL PRIMARY KEY, name varchar(255) DEFAULT NULL, subnet_id varchar(36) NOT NULL, CONSTRAINT subnetroutetables_ibfk_1` FOREIGN KEY ( subnet_id) REFERENCES subnets (id) ON DELETE CASCADE ); CREATE TABLE subnet_routerules ( project_id varchar(255) DEFAULT NULL, id varchar(36) NOT NULL PRIMARY KEY, subnet_route_table_id varchar(36) NOT NULL, ethertype varchar(40) DEFAULT NULL, source_ip_prefix varchar(255) DEFAULT NULL, dest_ip_prefix varchar(255) DEFAULT NULL, nexthop varchar(64) NOT NULL, CONSTRAINT uniq_subnet_route_table_id0source_ip_prefix0dest_ip_prefix0nexthop UNIQUE ( subnet_route_table_id, source_ip_prefix, dest_ip_prefix, nexthop), CONSTRAINT subnet_route_table_id_ibfk_1 FOREIGN KEY ( subnet_route_table_id) REFERENCES subnetroutetables (id) ON DELETE CASCADE ); CREATE TABLE subnetroutetables_router_association ( subnet_route_table_id varchar(36) NOT NULL, router_id varchar(36) NOT NULL, CONSTRAINT uniq_subnet_route_table_id0router_id UNIQUE (subnet_route_table_id, router_id), CONSTRAINT subnet_route_table_id_ibfk_1 FOREIGN KEY ( subnet_route_table_id) REFERENCES subnetroutetables (id) ON DELETE CASCADE, CONSTRAINT router_id_elgk_1 FOREIGN KEY ( router_id) REFERENCES routers (id) ON DELETE CASCADE ); For table ``subnetroutetables_router_association``, the record should be filled when the router created with 'PBR-aware' Flavor. REST API Impact --------------- A new api named ``/subnetroutetables`` and ``/subnetrouterules`` will be added, and we can use like a Security Group. ``subnetroutetables`` object attributes like: +-------------------+---------+-------+------+---------------------------------------+ | Attribute | Type | Req | CRUD | Description | +===================+=========+=======+======+=======================================+ | id | uuid-str| N/A | R | Unique identifier for the | | | | | | route table object. | +-------------------+---------+-------+------+---------------------------------------+ | name | String | No | CRU | Human readable name for the route | | | | | | table (255 characters limit). Does not| | | | | | have to be unique. | +-------------------+---------+-------+------+---------------------------------------+ | project_id | uuid-str| Yes | CR | Owner of the route table. Only | | | | | | admin users can specify a project | | | | | | identifier other than their own. | +-------------------+---------+-------+------+---------------------------------------+ | subnet_id | uuid-str| Yes | CR | Relationship with the subnet. Only | | | | | | admin/subnet owners can specify it. | +-------------------+---------+-------+------+---------------------------------------+ | route_rules | List-str| No | R | Relationship with the subnet. Only | | | | | | admin/subnet owners can specify it. | +-------------------+---------+-------+------+---------------------------------------+ ``subnetrouterules`` object attributes like: +-------------------+---------+-------+------+---------------------------------------+ | Attribute | Type | Req | CRUD | Description | +===================+=========+=======+======+=======================================+ | id | uuid-str| N/A | R | Unique identifier for the | | | | | | subnetrouterule object. | +-------------------+---------+-------+------+---------------------------------------+ | project_id | uuid-str| Yes | CR | Owner of the route rule. Only | | | | | | admin/owner users can specify a | | | | | | project identifier other than their | | | | | | own. | +-------------------+---------+-------+------+---------------------------------------+ | subnet_route_table_id string| Yes | CR | The id of the routing table. | +-------------------+---------+-------+------+---------------------------------------+ | source_ip_prefix | string | Yes | CRU | The IP prefix for traffic source. | +-------------------+---------+-------+------+---------------------------------------+ | dest_ip_prefix | string | Yes | CRU | The IP prefix for traffic destination.| +-------------------+---------+-------+------+---------------------------------------+ | nexthop | string | Yes | CRU | The nexthop of the routing rule. | +-------------------+---------+-------+------+---------------------------------------+ | ethertype | string | Yes | CRU | The ethertype of the routing rule. The| | | | | | routing rules will group by ethertype | | | | | | and setting in different routing | | | | | | tables. | +-------------------+---------+-------+------+---------------------------------------+ Also if possible, need a new API extension to the subnets resource, then users could get the subnet_route_tables list with a readable string List. .. code-block:: python EXTENDED_ATTRIBUTES_2_0 = { 'subnets': { 'subnet_route_tables': {'allow_post': False, 'allow_put': False, 'is_visible': True} }, } Examples ~~~~~~~~ Create a ``subnetroutetables`` resource: .. code-block:: none POST /v2.0/subnetroutetables Accept: application/json { ""subnetroutetable"": { ""name"": ""sample route table"", ""subnet_id"": ""6ddb60c5-d80e-44e0-bc98-1aeb5541dbc2"" } } Create a ``subnetrouterules`` resource: .. code-block:: none POST /v2.0/subnetrouterules Accept: application/json { ""subnetrouterule"": { ""name"": ""sample route rule"", ""subnet_route_table_id"": ""3f1f24f3-0cf3-4935-9feb-8502e925e972"", ""source_ip_prefix"": ""10.11.0.0/24"", ""dest_ip_prefix"": ""111.32.0.0/16"", ""nexthop"": ""24.188.50.61"", ""ethertype"": ""IPv4"" } } Update a ``subnetrouterules`` resource with new attributes: .. code-block:: none PUT /v2.0/subnetrouterules/<rule-id> Accept: application/json { ""subnetrouterule"": { ""name"": ""new route rule"", ""source_ip_prefix"": ""10.11.0.7/32"", ""dest_ip_prefix"": ""111.32.0.0/16"", ""nexthop"": ""172.16.8.4"", ""ethertype"": ""IPv4"" } } Security impact --------------- The ``ip rule`` will be installed in the Router namespace, it may affect the firewall policy application on router ports. Notifications impact -------------------- No expected change. Other end user impact --------------------- User should create a router with `PBR-aware` flavor, and associate a specific service provider, then User can use this function for routing traffic based on subnet. Performance Impact ------------------ * This will reduce the Router online, because it need to process the ``ip rule`` if requests. * TBR Other deployer impact --------------------- The cloud deployer need to leave an eye to plan the physical networks which are used for VM instances to access outside in the real deployment, for example, the nexthop of the routing rule need to be accessed in L3 layer at least. Developer impact ---------------- No expected change. Implementation ============== Assignee(s) ----------- zhaobo Work Items ---------- * Create mentioned db tables and models. * Add a new service provider for ""PBR-aware"" flavor. * Add the ability for the router reference implementation to support setting ``ip rule`` in the router namespace. * Intro a abstract Class for this service plugin. * Construct the DB layer for ``subnetroutetables`` and ``subnetrouterule`` to support CRUD actions. * Fulfill the necessary check in new service plugin. * Add API validation code to validate the fields in requests. * Extend the neutron API to support the new resources general actions. * Add UTs to Neutron. * Add API tests. * Add CLI support. * Documentation work. Dependencies ============ None Testing ======= Unit tests, Functional tests, API tests and Scenario tests are necessary. Documentation Impact ==================== The description of Neutron API reference will need to be updated. Also, need to describe how to use this function. References ========== [1] http://www.linuxhorizon.ro/iproute2.html ",,359,0
openstack%2Fneutron-specs~master~I227efe6b935adeb5574567db7a4e79eaae693f5e,openstack/neutron-specs,master,I227efe6b935adeb5574567db7a4e79eaae693f5e,Co-existence of netdev vnic and system vnic,ABANDONED,2017-11-14 07:44:41.000000000,2019-11-14 10:14:52.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-14 07:44:41.000000000', 'files': ['specs/queens/coexistence_netdev_system_vnic.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5ecc5858554c4704127902ffb37eaebda502a152', 'message': 'Co-existence of netdev vnic and system vnic\n\nThis spec proposes a feature to support netdev vnic and system\nvnic simultaneously for a virtual machine.\n\nChange-Id: I227efe6b935adeb5574567db7a4e79eaae693f5e\n'}]",4,519569,5ecc5858554c4704127902ffb37eaebda502a152,4,2,1,19912,,,0,"Co-existence of netdev vnic and system vnic

This spec proposes a feature to support netdev vnic and system
vnic simultaneously for a virtual machine.

Change-Id: I227efe6b935adeb5574567db7a4e79eaae693f5e
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/69/519569/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/coexistence_netdev_system_vnic.rst'],1,5ecc5858554c4704127902ffb37eaebda502a152,coexistence-netdev-system-vnic," =========================================== Co-existence of netdev vnic and system vnic =========================================== https://link_to_this_blueprint Co-existence of netdev vnic and system vnic enables the tenant virtual machine to have virtual network interfaces in both netdev datapaths and system datapaths in an Openvswitch-based OpenStack installation. Problem description =================== Some applications need to have separate physical networks for management plane and payload plane to enhance manageability and availability. OpenStack currently doesn't support different types of Openvswitch datapath for virtual machines. In some OpenStack installations, physical network interfaces are bound into different types of Openvswitch datapath: system datapath for management network interfaces and DPDK-based netdev datapath for payload network interfaces. This makes it impossible to provide separate physical networks for applications in these installations. Proposed change =============== It is proposed that each type of Openvswitch datapath has its own integration bridge, tunnel bridge and physical bridge. A virtual machine can have virtual nics attached to different integration bridge. The virtual machine has access to different types of Openvswitch datapaths. The existing Neutron OVS agent is proposed to manage one type of Openvswitch datapaths. It is proposed to create a new Neutron OVS parent agent. This Neutron OVS parent agent is responsible to spawn a Neutron OVS agent for each type of Openvswitch datapath per configuration. Configuration Impact ----------------- Add new option groups for additional datapath. Options are similar to options in option groups ""ovs"" and ""agent"". Alternatives ------------ One alternative is to modify Neutron OVS agent to directly handle different types of Openvswitch datapath. This changes the existing implementation of Neutron OVS agent greatly, so this alternative is not proposed. Implementation ============== Assignee(s) ----------- Xuanzhou Perry Dong Work Items ---------- 1. Add new option groups for additional datapaths. 2. Create new Neutron OVS parent agent and spawn Neutron OVS agent basing on configurations. 3. Ensure that Neutron OVS agent works for different types of Openvswitch datapath. 4. Ensure nova to add interfaces to the correct bridge ( VIF_DETAILS_BRIDGE_NAME can be used). 5. Change ovsdb monitor to monitor the correct bridge. 6. Unit testing. 7. Functional verification. Documentation Impact ==================== The OpenStack Networking administration guide needs to be updated with the configuration changes. Additional Reading ================== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,107,0
openstack%2Fneutron-specs~master~I386ba9c68a8009b4a1a2815c49d72a7385495331,openstack/neutron-specs,master,I386ba9c68a8009b4a1a2815c49d72a7385495331,[WiP] Add spec for port reservation,ABANDONED,2017-12-18 09:26:58.000000000,2019-11-14 10:14:49.000000000,,"[{'_account_id': 748}, {'_account_id': 7872}, {'_account_id': 11975}, {'_account_id': 15478}, {'_account_id': 20238}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-18 09:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4c88a612c0977ad06024eb12840737ba68f436a8', 'message': '[WiP] Add spec for port reservation\n\nChange-Id: I386ba9c68a8009b4a1a2815c49d72a7385495331\nImplements: blueprint port-reservation\n'}, {'number': 2, 'created': '2017-12-18 09:58:21.000000000', 'files': ['specs/queens/port-reservation.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f51cbd28487be9cb3391c970b6e41573b3ce04d2', 'message': '[WiP] Add spec for port reservation\n\nChange-Id: I386ba9c68a8009b4a1a2815c49d72a7385495331\nImplements: blueprint port-reservation\n'}]",1,528669,f51cbd28487be9cb3391c970b6e41573b3ce04d2,11,6,2,7872,,,0,"[WiP] Add spec for port reservation

Change-Id: I386ba9c68a8009b4a1a2815c49d72a7385495331
Implements: blueprint port-reservation
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/69/528669/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/port-reservation.rst'],1,4c88a612c0977ad06024eb12840737ba68f436a8,bp/port-reservation,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================================== Port reservation for networks with manual ACL process ===================================================== https://blueprints.launchpad.net/neutron/+spec/port-reservation In deployments floating and provider networks can be exposed to external (whether intranet or internet). Firewalling is in many deployments still a manual process - this spec will implement needed changes to support this. Problem Description =================== In case of manual ACL management an used IP address (= neutron port) that has an ACL assigned should not go back to the address pool. It should be reserved for the tenant and deleted by the operator if the ACL is cleaned. Proposed Change =============== Implement a ml2 mech driver that reacts on `delete_port_precommit` and `delete_port_postcommit`. In cases the plugin is active it will create a port reservation in case certain conditions are met. In the configuration of the plugin the following conditions should be implemented:: .. code-block:: none [reservation] # device_owners set to None will match any device_owners = neutron:LOADBALANCERV2 # networks set to None will match any networks = floating, intranet # subnets set to None will match any subnets = 8d9237ec-58a4-4d5d-a81f-e2c16d581b61, .. Configuration example ~~~~~~~~~~~~~~~~~~~~~ Neutron ml2 plugin conf: .. code-block:: none [ml2] mechanism_drivers = reservation,openvswitch,l2population [reservation] device_owners = neutron:LOADBALANCERV2, network:floatingip networks = floating Command Line Client Impact -------------------------- None References ========== None ",,70,0
openstack%2Fneutron-specs~master~Ia9702b52a1c4730d714b1a6860d723db79590fbd,openstack/neutron-specs,master,Ia9702b52a1c4730d714b1a6860d723db79590fbd,[Spec] Reaction to network congestion for neutron qos,ABANDONED,2018-01-16 09:41:01.000000000,2019-11-14 10:14:46.000000000,,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26504}, {'_account_id': 26886}]","[{'number': 1, 'created': '2018-01-16 09:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7ecff8de299e40eb49d7102db5c260fdad9f7618', 'message': ""Reaction to network congestion for neutron qos\n\nThis spec proposes in three steps a congestion reaction\nmechanism for overlays network:\n\n- Ensure the ECN marking is enabled for all VMs.\n- Compute the congestion threshold of tenants and VMs.\n- React to the congestion by limiting VM's bandwidth ports.\n\nChange-Id: Ia9702b52a1c4730d714b1a6860d723db79590fbd\n""}, {'number': 2, 'created': '2018-01-16 13:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2b43ef247fa5a5caa043a29b30fb3cc2aaaf4484', 'message': ""[Spec] Reaction to network congestion for neutron qos\n\nThis spec proposes in three steps a congestion reaction\nmechanism for overlays network:\n\n- Ensure the ECN marking is enabled for all VMs.\n- Compute the congestion threshold of tenants and VMs.\n- React to the congestion by limiting VM's bandwidth ports.\n\nChange-Id: Ia9702b52a1c4730d714b1a6860d723db79590fbd\n""}, {'number': 3, 'created': '2018-01-16 16:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/26c10556368a5f968b17b698fc4780ad9dc51e19', 'message': ""[Spec] Reaction to network congestion for neutron qos\n\nThis spec proposes in three steps a congestion reaction\nmechanism for overlays network:\n\n- Ensure the ECN marking is enabled for all VMs.\n- Compute the congestion threshold of tenants and VMs.\n- React to the congestion by limiting VM's bandwidth ports.\n\nChange-Id: Ia9702b52a1c4730d714b1a6860d723db79590fbd\nRelated-Bug: #1708460\n""}, {'number': 4, 'created': '2018-01-24 15:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/419bb79e88f1094ec676b32d75fa31533835223b', 'message': ""[Spec] Reaction to network congestion for neutron qos\n\nThis spec proposes in three steps a congestion reaction\nmechanism for overlays network:\n\n- Ensure the ECN marking is enabled for all VMs.\n- Compute the congestion threshold of tenants and VMs.\n- React to the congestion by limiting VM's bandwidth ports.\n\nChange-Id: Ia9702b52a1c4730d714b1a6860d723db79590fbd\nRelated-Bug: #1708460\n""}, {'number': 5, 'created': '2018-01-24 15:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/61b2cc087fe48fded08b3ca6a83b8fa2080c70ed', 'message': ""[Spec] Reaction to network congestion for neutron qos\n\nThis spec proposes in three steps a congestion reaction\nmechanism for overlays network:\n\n- Ensure the ECN marking is enabled for all VMs.\n- Compute the congestion threshold of tenants and VMs.\n- React to the congestion by limiting VM's bandwidth ports.\n\nChange-Id: Ia9702b52a1c4730d714b1a6860d723db79590fbd\nRelated-Bug: #1708460\n""}, {'number': 6, 'created': '2018-02-01 13:05:56.000000000', 'files': ['specs/queens/congestion-reaction.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d7e0e01c583feb89e01260a0e90f5db46fc82f77', 'message': ""[Spec] Reaction to network congestion for neutron qos\n\nThis spec proposes in three steps a congestion reaction\nmechanism for overlays network:\n\n- Ensure the ECN marking is enabled for all VMs.\n- Compute the congestion threshold of tenants and VMs.\n- React to the congestion by limiting VM's bandwidth ports.\n\nChange-Id: Ia9702b52a1c4730d714b1a6860d723db79590fbd\nRelated-Bug: #1708460\n""}]",16,534213,d7e0e01c583feb89e01260a0e90f5db46fc82f77,17,5,6,26886,,,0,"[Spec] Reaction to network congestion for neutron qos

This spec proposes in three steps a congestion reaction
mechanism for overlays network:

- Ensure the ECN marking is enabled for all VMs.
- Compute the congestion threshold of tenants and VMs.
- React to the congestion by limiting VM's bandwidth ports.

Change-Id: Ia9702b52a1c4730d714b1a6860d723db79590fbd
Related-Bug: #1708460
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/13/534213/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/congestion-reaction.rst'],1,7ecff8de299e40eb49d7102db5c260fdad9f7618,bug/1708460,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================== Reaction to network congestion for neutron qos ============================================== https://bugs.launchpad.net/neutron/+bug/1708460 Problem Description =================== To improve the throughput and reduce the delay in the network, mechanisms such as Explicit Congestion Notification (ECN)[1] was developed. ECN is an end-to-end process, which means that all devices in the packet path must be ECN enabled. Afterwards, in case of congestion, the middleboxes (switches/routers) notify the source of congestion that they have to reduce the amount of sent data. In context of openstack, A QoS API[2] was proposed but does not takes into consideration the congestion cases. A first effort to control ECN marking was proposed in [3]. This latter addresses congestion issue assuming that VMs reacts to ECN marking, in particular with [1]. Such a behavior from VMs is not always guaranteed, in particular on Linux systems tcp_ecn defaults to not being enabed by default. We think that a complementary approach can be useful, that would consist in introducing a mechanism to enforce a reaction to ECN marking, without having to assume a particular behavior or configuration in VM networking stacks. Proposed Change =============== This proposal introduces a mechanism to react to ECN marking independently of VM networking stacks. To achieve this, we propose an update to the QoS API (neutron server side) and QoS driver (L2 agent side) to compute congestion in the network based on ECN marking in packets and react to it. The new Qos policy will be applied to the network, so all ports attached to this network will be affected by the policy. In each interval time, the L2 agent (e,g. OVS) will send the number of bytes marked as Congestion Experienced (CE) seen on a port in the direction of a VM, and their associated sources (VMs and tenants) to the neutron server. These values will be periodically compared to a maximum and minimum congestion threshold. If congestion exceeds the maximum allowed, the server will use the already available bandwidth limit mechanism to police the congestion-inducing VMs, starting with the VM contributing the most to the congestion. Otherwise, when the congestion rate decreases and goes below the minimum, VMs will be released one by one from the bandwidth limit rule. Below an example of logical model:: +----+ +----+ | VM | | VM | +----+ +----+ | | +---------+ +------+ +--------+ |OVS agent|<------RPC----->|Server|<-----RPC------>|L2 agent| +---------+ +------+ +--------+ | | | +-------------+ | +------------------|ECN capable |----------------+ |switch/router| +-------------+ Data Model Impact ----------------- To achieve that we need to extend the QoSRule base data model and add QoSCongestiontLimitRule model. This latter will contain six parameters necessary for the congestion calculation and reaction: +------------------+---------+----------------------------------------------------------------+ |Attribute Name | Type | Description | +==================+=========+================================================================+ |max_cong_kbps | integer | maximum congestion rate, if exceeded the VM will be policed | +------------------+---------+----------------------------------------------------------------+ |min_cong_kbps | integer | minimum congestion rate, under this value, VMs will be released| +------------------+---------+----------------------------------------------------------------+ |max_kbps | integer | qos bandwidth limit rule parameter | +------------------+---------+----------------------------------------------------------------+ |max_burst_kbps | integer | qos bandwidth limit rule parameter | +------------------+---------+----------------------------------------------------------------+ REST API Impact --------------- A new API extensions will be added to QoS API:: 'congestion_limit_rules': { 'parent': {'collection_name': 'policies', 'member_name': 'policy'}, 'parameters': dict(QOS_RULE_COMMON_FIELDS, **{'max_cong_kbps': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:non_negative': None}}, 'min_cong_kbps': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:non_negative': None}}, 'max_kbps': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:non_negative': None}}, 'max_burst_kbps': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': 0, 'validate': {'type:non_negative': None}}, }) } Sample request/responses: Create congestion policy: POST /v2.0/qos/policies/ :: { ""policy"": { ""name"": ""congestion-limit"", ""description"": ""New policy for congestion reaction"", ""shared"": ""False"" } } Response: :: { ""policy"": { ""name"": ""congestion-limit"", ""rules"": [], ""tenant_id"": ""ef960ed20bbd4bc493a8f310931c7998"" ""created_at"": ""2017-08-23T23:11:00Z"", ""updated_at"": ""2017-08-23T23:11:00Z"", ""revision_number"": 1, ""shared"": false, ""project_id"": ""ef960ed20bbd4bc493a8f310931c7998"", ""id"": ""7b4a6663-73e0-422e-a079-29279194fbbe"", ""description"": ""New policy for congestion reaction"" } } Create congestion rule request:: POST /v2.0/qos/policies/7b4a6663-73e0-422e-a079-29279194fbbe/congestion_limit_rules/ :: { ""congestion_limit_rule"": { ""agent_interval_s"": 20, ""max_burst_kbps"": 10, ""max_cong_kbps"": 50, ""max_kbps"": 50, ""min_cong_kbps"": 20, } } Response: :: { ""congestion_limit_rule"": { ""agent_interval_s"": 20, ""id"": ""7f079e12-6118-4dbb-a2df-41858c88ece5"", ""max_burst_kbps"": 10, ""max_cong_kbps"": 50, ""max_kbps"": 50, ""min_cong_kbps"": 20, } } Performance Impact ------------------ No real impact on the performance, because we only use OpenStack native components. Moreover, the reaction to the congestion is based on bandwidth limit mechanism, which is a QoS policy option available since liberty release. Command Line Client Impact -------------------------- Additional methods will be added to python-neutronclient to create, list, update, and delete QoS-congestion rules. Dedicated CLI command will be added to create and update each QoS congestion rule. Notifications Impact -------------------- None Example ------- ------- In this example, we will see how to create and attach a QoS congestion limit rule to the QoS policy. An output of each command will be given. Periodically, we compute the congestion rate. When it exceeds 50 kbps we reduce the outbound bandwidth of concerned VMs to 50 kbps. VMs will be released when the congestion rate goes below 20 kbps. First, we need to create a new qos policy :: $ neutron qos-policy-create congestion-limit Created a new policy: +-----------------+--------------------------------------+ | Field | Value | +-----------------+--------------------------------------+ | created_at | 2017-08-23T23:20:19Z | | description | | | id | 0e03de2d-4541-4cf5-9012-c5cb134ee651 | | name | congestion-limit | | project_id | ef960ed20bbd4bc493a8f310931c7998 | | revision_number | 1 | | rules | | | shared | False | | tenant_id | ef960ed20bbd4bc493a8f310931c7998 | | updated_at | 2017-08-23T23:20:19Z | +-----------------+--------------------------------------+ Attach the created qos policy to a new congestion limit rule: :: $ neutron qos-congestion-limit-rule-create congestion-limit --max-cong-kbps 50 --min-cong-kbps 20 --max-kbps 50 --max-burst-kbps 10 Created a new congestion_limit_rule: +-------------------+--------------------------------------+ | Field | Value | +-------------------+--------------------------------------+ | id | 79292a1a-e507-4191-8614-fc9d8a8f6829 | | max_burst_kbps | 10 | | max_cong_kbps | 50 | | max_kbps | 50 | | min_cong_kbps | 20 | +-------------------+--------------------------------------+ IPv6 Impact ----------- None References ========== [1] ECN in IP https://tools.ietf.org/html/rfc3168 [2] QoS API https://developer.openstack.org/api-ref/network/v2/?expanded =create-subnet-detail#quality-of-service [3] ECN activation https://review.openstack.org/#/c/445762/ ",,258,0
openstack%2Fneutron-specs~master~Ifed741bd65c2adbb89be7311dc5361b577953237,openstack/neutron-specs,master,Ifed741bd65c2adbb89be7311dc5361b577953237,Automatic allocation of Floating IPs,ABANDONED,2017-05-31 00:59:25.000000000,2019-11-14 10:13:33.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-31 00:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f213d5b77474fd70c810f0bdec073ff3681a1ec3', 'message': 'WIP Put a stake in the ground of FIP auto allocation\n\nChange-Id: Ifed741bd65c2adbb89be7311dc5361b577953237\n'}, {'number': 2, 'created': '2017-06-02 00:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6717cbef9c200fa7c4ab419864153d29f2fe2c9a', 'message': 'Automatic allocation of Floating IPs\n\nThis specs describes use cases and proposed approach to\nimplement automatic allocation of floating IPs in Neutron.\n\nRelated-bug: #1042049\n\nChange-Id: Ifed741bd65c2adbb89be7311dc5361b577953237\n'}, {'number': 3, 'created': '2017-06-02 00:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/632d1b702b2425757a213e80fc4c7846a6621833', 'message': 'Automatic allocation of Floating IPs\n\nThis specs describes use cases and proposed approach to\nimplement automatic allocation of floating IPs in Neutron.\n\nRelated-bug: #1042049\n\nChange-Id: Ifed741bd65c2adbb89be7311dc5361b577953237\n'}, {'number': 4, 'created': '2017-07-27 18:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/99d350977c8865c0827ef317183650634a545bae', 'message': 'Automatic allocation of Floating IPs\n\nThis specs describes use cases and proposed approach to\nimplement automatic allocation of floating IPs in Neutron.\n\nRelated-bug: #1042049\n\nChange-Id: Ifed741bd65c2adbb89be7311dc5361b577953237\n'}, {'number': 5, 'created': '2017-10-03 17:15:15.000000000', 'files': ['specs/queens/auto-fip.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b2426ccc2453629dab213404573c35a4927d9514', 'message': 'Automatic allocation of Floating IPs\n\nThis specs describes use cases and proposed approach to\nimplement automatic allocation of floating IPs in Neutron.\n\nRelated-bug: #1042049\n\nChange-Id: Ifed741bd65c2adbb89be7311dc5361b577953237\n'}]",22,469294,b2426ccc2453629dab213404573c35a4927d9514,23,10,5,748,,,0,"Automatic allocation of Floating IPs

This specs describes use cases and proposed approach to
implement automatic allocation of floating IPs in Neutron.

Related-bug: #1042049

Change-Id: Ifed741bd65c2adbb89be7311dc5361b577953237
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/94/469294/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/auto-fip.rst'],1,f213d5b77474fd70c810f0bdec073ff3681a1ec3,bug/1042049,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Auto-associate floating IPs =========================== https://bugs.launchpad.net/neutron/+bug/1042049 In an effort to reduce manual steps required by users to get to their VMs, Neutron should have the ability to automatically allocate floating IPs (when available). This is most important for users, but operators can find this beneficial too, because there are deployments in the field where SNAT is disabled, and the only way for a VM to access/be accessible to the outside world is by means of DNAT. Problem Description =================== * As an end user I would like to create a VM and have it automatically associated to a floating IP I can reach. * As an end user I would like the ability to disable the automatic allocation of floating IPs to my instances for fear of burning through my floating IP quota. * As an end user I would like my floating IP automatic allocation policy to be given and managed on per network basis. Proposed Change =============== How do you propose to solve this problem? References ========== https://etherpad.openstack.org/p/pike-neutron-gman ",,42,0
openstack%2Fkayobe~master~I358585260cc85fb1d364d2e246656557a2398ef9,openstack/kayobe,master,I358585260cc85fb1d364d2e246656557a2398ef9,Remove some references to Github,MERGED,2019-10-31 17:18:40.000000000,2019-11-14 10:13:22.000000000,2019-11-14 10:12:09.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-10-31 17:18:40.000000000', 'files': ['doc/source/upgrading.rst', 'doc/source/custom-ansible-playbooks.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ee98efa8f0073ed55ea35eb99542316338976127', 'message': 'Remove some references to Github\n\nChange-Id: I358585260cc85fb1d364d2e246656557a2398ef9\n'}]",0,692415,ee98efa8f0073ed55ea35eb99542316338976127,10,5,1,14826,,,0,"Remove some references to Github

Change-Id: I358585260cc85fb1d364d2e246656557a2398ef9
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/692415/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/upgrading.rst', 'doc/source/custom-ansible-playbooks.rst']",2,ee98efa8f0073ed55ea35eb99542316338976127,,<https://opendev.org/openstack/kayobe-config>`_. Storing custom Ansible,<https://github.com/stackhpc/kayobe-config>`_. Storing custom Ansible,5,4
openstack%2Fneutron-specs~master~Id9eaf12cc8c606985af31b9beaabef2ee163a933,openstack/neutron-specs,master,Id9eaf12cc8c606985af31b9beaabef2ee163a933,Rescheduling of DHCP Servers and Routers,ABANDONED,2018-08-24 02:12:35.000000000,2019-11-14 10:13:20.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8976}, {'_account_id': 15070}, {'_account_id': 15471}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 28373}, {'_account_id': 28550}]","[{'number': 1, 'created': '2018-08-24 02:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/09dad726e69b6b63301d0c1d45993f5c8df2231a', 'message': 'Rescheduling of DHCP Servers and Routers\n\nThe distribution of DHCP servers and routers can sometimes be unbalanced\ndue to various causes. With the current Neutron implementation, no auto\nmechanism is available to deal with this kind of situation.\n\nThis spec introduces a threshold based auto rescheduling mechanism for\nDHCP servers and routers, which provides the benefit of balancing host\nport allocations for DHCP servers, and CPU usage for routers.\n\nImplements: blueprint rescheduling-of-dhcp-servers-and-routers\nChange-Id: Id9eaf12cc8c606985af31b9beaabef2ee163a933\n'}, {'number': 2, 'created': '2018-08-24 02:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4e699f5a87a320b09d6b07043d0df8ecdff5ee2e', 'message': 'Rescheduling of DHCP Servers and Routers\n\nThe distribution of DHCP servers and routers can sometimes be unbalanced\ndue to various causes. With the current Neutron implementation, no auto\nmechanism is available to deal with this kind of situation.\n\nThis spec introduces a threshold based auto rescheduling mechanism for\nDHCP servers and routers, which provides the benefit of balancing host\nport allocations for DHCP servers, and CPU usage for routers.\n\nImplements: blueprint rescheduling-of-dhcp-servers-and-routers\nChange-Id: Id9eaf12cc8c606985af31b9beaabef2ee163a933\n'}, {'number': 3, 'created': '2018-08-24 02:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0f73826201b851568feb9f66b81dcd86cd3bea56', 'message': 'Rescheduling of DHCP Servers and Routers\n\nThe distribution of DHCP servers and routers can sometimes be unbalanced\ndue to various causes. With the current Neutron implementation, no auto\nmechanism is available to deal with this kind of situation.\n\nThis spec introduces a threshold based auto rescheduling mechanism for\nDHCP servers and routers, which provides the benefit of balancing host\nport allocations for DHCP servers, and CPU usage for routers.\n\nImplements: blueprint rescheduling-of-dhcp-servers-and-routers\nChange-Id: Id9eaf12cc8c606985af31b9beaabef2ee163a933\n'}, {'number': 4, 'created': '2018-09-11 08:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fb64eef45fc8200beb017d3ccf4d4450f874eb3d', 'message': 'Rescheduling of DHCP Servers and Routers\n\nThe distribution of DHCP servers and routers can sometimes be unbalanced\ndue to various causes. With the current Neutron implementation, no auto\nmechanism is available to deal with this kind of situation.\n\nThis spec introduces a threshold based auto rescheduling mechanism for\nDHCP servers and routers, which provides the benefit of balancing host\nport allocations for DHCP servers, and CPU usage for routers.\n\nImplements: blueprint rescheduling-of-dhcp-servers-and-routers\nChange-Id: Id9eaf12cc8c606985af31b9beaabef2ee163a933\n'}, {'number': 5, 'created': '2018-09-12 07:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/af0c50c793a8f64a78b5b47bf0514a0bee696f6f', 'message': 'Rescheduling of DHCP Servers and Routers\n\nThe distribution of DHCP servers and routers can sometimes be unbalanced\ndue to various causes. With the current Neutron implementation, no auto\nmechanism is available to deal with this kind of situation.\n\nThis spec introduces a threshold based auto rescheduling mechanism for\nDHCP servers and routers, which provides the benefit of balancing host\nport allocations for DHCP servers, and CPU usage for routers.\n\nImplements: blueprint rescheduling-of-dhcp-servers-and-routers\nChange-Id: Id9eaf12cc8c606985af31b9beaabef2ee163a933\n'}, {'number': 6, 'created': '2018-09-12 07:14:22.000000000', 'files': ['specs/stein/rescheduling-of-dhcp-servers-and-routers.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b058322d73d822bc4a922e13052de0a94ce1a7dc', 'message': 'Rescheduling of DHCP Servers and Routers\n\nThe distribution of DHCP servers and routers can sometimes be unbalanced\ndue to various causes. With the current Neutron implementation, no auto\nmechanism is available to deal with this kind of situation.\n\nThis spec introduces a threshold based auto rescheduling mechanism for\nDHCP servers and routers, which provides the benefit of balancing host\nport allocations for DHCP servers, and CPU usage for routers.\n\nImplements: blueprint rescheduling-of-dhcp-servers-and-routers\nChange-Id: Id9eaf12cc8c606985af31b9beaabef2ee163a933\n'}]",85,595978,b058322d73d822bc4a922e13052de0a94ce1a7dc,23,9,6,28373,,,0,"Rescheduling of DHCP Servers and Routers

The distribution of DHCP servers and routers can sometimes be unbalanced
due to various causes. With the current Neutron implementation, no auto
mechanism is available to deal with this kind of situation.

This spec introduces a threshold based auto rescheduling mechanism for
DHCP servers and routers, which provides the benefit of balancing host
port allocations for DHCP servers, and CPU usage for routers.

Implements: blueprint rescheduling-of-dhcp-servers-and-routers
Change-Id: Id9eaf12cc8c606985af31b9beaabef2ee163a933
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/78/595978/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/rescheduling-of-dhcp-servers-and-routers.rst'],1,09dad726e69b6b63301d0c1d45993f5c8df2231a,bp/rescheduling-of-dhcp-servers-and-routers,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Rescheduling of DHCP Servers and Routers ======================================== Launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/rescheduling-of-dhcp-servers-and-routers The distribution of DHCP servers and routers can sometimes be unbalanced due to various causes. With the current Neutron implementation, no auto mechanism is available to deal with this kind of situation. This spec introduces a threshold based auto rescheduling mechanism for DHCP servers and routers, which provides the benefit of balancing host port allocations for DHCP servers, and CPU usage for routers. Problem Description =================== The networks handled by a particular DHCP agent or routers handled by a particular l3 agent can become unbalanced because of many reasons such as new agents come up or a chance rescheduler is applied when agents conduct failovers etc. This unbalance may result in the performance drop, particularly when systems with limited hardware resources are deployed. In current Neutron, no auto rescheduling mechanism for unbalanced distribution of DHCP servers or routers is supported brings about management difficulty. Apart from this, manual relocation via REST API operations of each network or router may need to iterate thru them and relocate them in sequence. This would lead to many duplicated calls, and unnecessary work being done. On asynchronous I/O (AIO) systems with few platform cores configured, this could result in multiple seconds per network being relocated. In the case of systems with large numbers of networks, this sequential relocation could exceed a long delay. It is also the case when coming with the relocation of routers. Therefore, we are introducing in this spec a threshold based auto rescheduling mechanism for DHCP servers and routers towards a more optimal distribution so that their loading can be rebalanced. Besides, refactors to bulk operation where possible and move away from unnecessary operations when updating the port will also be introduced. This will significantly reduce the time spent on relocating the networks or routers from the corresponding agents using manual ways. Use Case -------- One possible example of manual rescheduling of unbalanced DHCP servers and its legacy workflow is shown as follows: 1. Cloud administrators list all the agents on hosts to check DHCP agents: neutron agent-list. 2. Cloud administrators list the networks scheduled to each DHCP agent: neutron net-list-on-dhcp-agent <dhcp_agent_id> and find out that the loading is not balanced any more due to some causes. They should then identify several busiest ones together with the networks binding to them. 3. With the data obtained in step 2) and based on their judgements, cloud administrators make decisions on which ones of the DHCP agents to be rescheduled and which ones of the networks to be relocated on each agent. 4. Cloud administrators manually remove the identified networks from the identified DHCP agents one by one: neutron dhcp-agent-network-remove, then re-add them to the target agents which are able to guarantee the balancing at that moment: neutron dhcp-agent-network-add. It is obvious that the manual rescheduling is not only complex but also rigid. The feature proposed is thus aiming to address this difficulty dynamically and automatically. It will cover both the rebalancing of DHCP servers as well as routers. In addition to dealing with the current unbalance discovered, it should also support the use case of redistribution when new agents come up. Proposed Change =============== The main impacts that this proposal poses are related with the automatic rebalancing/redistribution algorithms for DHCP servers and routers that are being introduced. Apart from this, configuration options and agent up status detection are added to accommodate this feature along with the use cases described previously. All other optimizations like refactors to bulk operation where possible and move away from unnecessary operations when updating the port will be realized at an implementation level, which are not going to be dove into details here. Agent Scheduler DB Mixin Impact ------------------------------- The auto redistribution algorithm for DHCP servers and routers is proposed as the following: 1. If it is for auto network redistribution on DHCP servers, then check if there is more than one DHCP agent per network configured. If so, it is not supported for this redistribution. 2. Make mappings for: 1) If network redistribution: DHCP agents, networks on each agent and each networks segment information. 2) If router redistribution: L3 agents and routers on each agent. 3. Loop through agents to try redistributing on all but the last agent. 1) Pop the busiest agent which associates with the most networks/routers hosted. 2) Get the networks or routers on that busiest agent obtained thru step 3.1. 3) Iterate through list of agents sorted in ascending order by the number of networks/routers they are hosting. a. Get the minimum number of networks/routers on the remaining agents. b. Check whether the minimum number of networks/routers got in step 3.3.a meets the network/router rescheduling threshold pre-defined. If not, stop the redistribution due to no possibility to meet the threshold. Else, reschedule the networks/routers from the busiest agent to the agent of the current iteration if possible. If network relocation, the algorithm starts with the network with the most VLAN segments and check if the threshold is still valid for routed networks. c. If rescheduling is possible, use the default scheduler to schedule it. The DHCP and L3 agent scheduler db mixin will need to implement the algorithms presented above, and provide interfaces as well as methods related. A percentage-based threshold can also be introduced for the auto redistribution algorithm. Configuration Impact -------------------- There will be several pluggable configuration interfaces which need to be added into the neutron configuration [1] for this feature. cfg.CONF.allow_automatic_network_router_redistribution: provide the switch option to enable the feature and the backwards compatibility cfg.CONF.dhcp_network_reschedule_threshold: provide the threshold number of networks to apply which decides when a network redistribution is needed. cfg.CONF.l3_router_reschedule_threshold: provide the threshold number of routers to apply which decides when a router redistribution is needed. Data Model Impact ----------------- No expected change. REST API Impact --------------- None. Command Line Client Impact -------------------------- None. Other impact ------------ * Additional agent status checks via workers should be added for DHCP agents and L3 agents which intend to be aware of the agents newly-added. This will be able to provide support for the use case where the redistribution audits are triggered for DHCP servers and routers once new agents come up. * Backwards compatibility should be further considered and discussed. An option in [1] could be considered to be added if cloud administrators would not like to enable this feature. Other end user impact --------------------- None. Other deployer impact --------------------- Deployers may have an option available to enable or disable this feature, together with two other options to configure the redistribute/rebalance threshold values for DHCP servers and routers respectively. Performance Impact ------------------ Performance testing must be conducted to see what is the overhead of enabling this feature, of course that if the feature is disabled no performance impact should be noticed. Implementation ============== Assignee(s) ----------- Work Items ---------- * Add the new configuration options. * Implement the auto rebalancing algorithm for DHCP servers and routers in the current agent scheduler db mixin classes, along with the necessary interfaces. * Add the agent status check worker support for newly-added agents. * Add related tests. * Documentation. Dependencies ============ None Testing ======= Unit tests, functional tests and scenario tests are necessary. Documentation Impact ==================== Yes. References ========== [1] /etc/neutron/neutron.conf Related Information ------------------- Neutron v2 API: https://developer.openstack.org/api-ref/network/v2/ ",,230,0
openstack%2Fneutron-specs~master~I4c4c2fe33ce616d163f0e9f18a743d2d214b2846,openstack/neutron-specs,master,I4c4c2fe33ce616d163f0e9f18a743d2d214b2846,Support address-set in security-group-rules,ABANDONED,2017-10-26 00:56:21.000000000,2019-11-14 10:13:09.000000000,,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-26 00:56:21.000000000', 'files': ['specs/queens/security-group-rule-address-set.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d68cb356b3daf3f954ae205d40ecf3d19056a7d3', 'message': 'Support address-set in security-group-rules\n\nThis patch is a spec that describes a way to support specifying\na set of IP addresses in security group rules.\n\nChange-Id: I4c4c2fe33ce616d163f0e9f18a743d2d214b2846\nRelated-Bug: #1649417\n'}]",6,515248,d68cb356b3daf3f954ae205d40ecf3d19056a7d3,6,4,1,11762,,,0,"Support address-set in security-group-rules

This patch is a spec that describes a way to support specifying
a set of IP addresses in security group rules.

Change-Id: I4c4c2fe33ce616d163f0e9f18a743d2d214b2846
Related-Bug: #1649417
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/48/515248/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/security-group-rule-address-set.rst'],1,d68cb356b3daf3f954ae205d40ecf3d19056a7d3,bug/1649417,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== Support address-set in security-group-rules =========================================== https://bugs.launchpad.net/neutron/+bug/1649417 This spec describes a way to support specifying a set of IP addresses in security group rules. Problem Description =================== There are use cases that a set of IP addresses needs to be specified in security group rules as remote IP addresses that access is allowed. These IPs may or may not be used by any Neutron ports. A typical example is to allow access from an application that is deployed in legacy or external systems that are not managed by Neutron to access certain Neutron ports. There are 2 ways to achieve this with existing Neutron API: * Specify each individual IP in separate rules with the remote_ip_prefix field. There is a efficiency/scale problem when the number of IPs in the set gets too big. This will results in large number of rules, and also redundant data in each rule, since the only difference between those rules is the IP address. * Create dummy ports with allowed-address-pairs, or with fixed-ips, and add the ports to a security group, and specify the security group as remote-group-id in the security group rule. This would work, but it is more of a workaround, and introduces cost of unnecessary port related operations. Proposed Change =============== The proposed change is to add support for address set at API level. Two new types of resources need to be added as API extension: * Address Sets - the container of a set of addresses * Addresses - sub-resource of Address Sets, which can be in the format of individual IP addresses or IP prefixes. Both format of addresses can coexist in same address set. A new optional attribute will be added to Security Group Rule resource: * remote-address-set .. Note:: The attribute remote-address-set and remote-ip-prefix must not be specified in the same rule, to avoid confusion. With the proposed API change, the work flow to support above use case will be: #. Create an Address Set #. Add Addresses in the Address Set #. Create security group rule to allow access to/from the Address Set Implementation of the API extension is just DB operations for address set data model corresponding to the API. Changes to CLI -------------- Both OpenStack CLI and Neutron CLI shall be changed to: * Provide new CLI commands to create/delete/show address sets, add/remove addresses to/from address sets * Update security-group-rule related CLI to support the new attribute: remote-address-set Changes to Callbacks -------------------- To support the address set feature by plugins, we need to add ADDRESS_SET as a new resource type, so that plugins can get notified for the address set changes. As to plugins, the change is backward compatible, because the ""remote_address_set"" attribute is optional. To support the feature, the actual changes depends on the security group rule enforcement mechanism behind. Changes to RPCs --------------- New interfaces shall be added to security group RPC handlers for address set operations. Changes to agent based firewalls -------------------------------- The FirewallDriver class shall add new interface to support address set create/update/delete operations. Implementation of firewall drivers shall implement the new interfaces and handle the ""remote_address_set"" attribute in security group rules. For example, iptables_firewall can implement the address set using ipset, while openvswitch_firewall can implement it by expanding to OpenFlow rules accordingly. Changes to plugins/ML2 drivers ------------------------------ For existing plugins/ML2 drivers, since the ""remote_address_set"" attribute is optional, they can still work without having to make any change. If the plugin/ML2 driver intend to support the address set feature, the actual implementation depends on the security group rule enforcement mechanism behind. Take networking-ovn [1]_ as an example, the OVN backend provides direct support for address set abstraction. The implementation should be straightforward, mapping CRUD operations of address set directly to OVN-NB DB operations, translating ""remote_address_set"" attribute in security group rules to address set in match conditions of OVN ACLs. References ========== .. [1] https://docs.openstack.org/networking-ovn/latest/",,125,0
openstack%2Fgovernance~master~Ifa9234c0ce85d51427b8e1f71573cd4a498bdc22,openstack/governance,master,Ifa9234c0ce85d51427b8e1f71573cd4a498bdc22,Add goal to drop Python 2.7 Support,MERGED,2019-10-25 04:10:10.000000000,2019-11-14 10:12:18.000000000,2019-11-14 10:10:52.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 4257}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 14288}, {'_account_id': 15519}, {'_account_id': 16643}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 04:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/972dd2e4bb1ce2e84d515eaa8bb157583ade4f14', 'message': 'Add goal to drop Python 2.7 Support\n\nChange-Id: Ifa9234c0ce85d51427b8e1f71573cd4a498bdc22\n'}, {'number': 2, 'created': '2019-10-25 04:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ecb1bc5cf3785c9637ef3ae227329a86a081e15b', 'message': 'Add goal to drop Python 2.7 Support\n\nChange-Id: Ifa9234c0ce85d51427b8e1f71573cd4a498bdc22\n'}, {'number': 3, 'created': '2019-10-25 04:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/09103ad9a98e89e0523ae2221e558805d1d0e0a5', 'message': 'Add goal to drop Python 2.7 Support\n\nChange-Id: Ifa9234c0ce85d51427b8e1f71573cd4a498bdc22\n'}, {'number': 4, 'created': '2019-10-25 17:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/14eec0e1073d5ee7fc28e94349d17f31025a30f8', 'message': 'Add goal to drop Python 2.7 Support\n\nChange-Id: Ifa9234c0ce85d51427b8e1f71573cd4a498bdc22\n'}, {'number': 5, 'created': '2019-10-28 16:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e938b6793aeedadf28905d10993ba1a6f6857727', 'message': 'Add goal to drop Python 2.7 Support\n\nChange-Id: Ifa9234c0ce85d51427b8e1f71573cd4a498bdc22\n'}, {'number': 6, 'created': '2019-10-28 18:18:19.000000000', 'files': ['goals/selected/ussuri/index.rst', 'goals/selected/ussuri/drop-py27.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/dcfcdf2af3fc7318a13d542967551eababa02acb', 'message': 'Add goal to drop Python 2.7 Support\n\nChange-Id: Ifa9234c0ce85d51427b8e1f71573cd4a498bdc22\n'}]",41,691178,dcfcdf2af3fc7318a13d542967551eababa02acb,49,15,6,8556,,,0,"Add goal to drop Python 2.7 Support

Change-Id: Ifa9234c0ce85d51427b8e1f71573cd4a498bdc22
",git fetch https://review.opendev.org/openstack/governance refs/changes/78/691178/4 && git format-patch -1 --stdout FETCH_HEAD,['goals/selected/ussuri/drop-py27.rst'],1,972dd2e4bb1ce2e84d515eaa8bb157583ade4f14,formal-vote,"======================== Drop Python 2.7 Support ======================== Ussuri cycle is the time to drop the python2 support from OpenSatck. All the projects have completed all of the work of updating all of their CI jobs to work under Python 3. Python 2.7 support should be dropped in projects first and then the library, testing tooling etc. Along with py2.7 drop, we will use this goal to update the Python 3 test runtimes for Ussuri :doc:`../../../reference/runtimes/ussuri`. * Storyboard stories TODO Champion ======== Ghanshyam Mann(gmann) <gmann@ghanshyammann.com> has volunteered to drive this goal. Gerrit Topic ============ To facilitate tracking, commits related to this goal should use the gerrit topic:: drop-py27-support Completion Criteria =================== In order for a project to call this goal complete it must: #. Drop the python 2.7 unit, functional & integration testing. This will update the python testing template from Train to Ussuri template. #. Migrate the python 2.7 job if no corresponding py3 job yet. #. Update tox.ini and setup.cfg to remove the py2.7 #. Update requirements file to drop py2.7 specific dependency. #. Add release notes saying dropping py2.7 explicitly. Python 2.7 support has been dropped. Last release <project> support py2.7 is OpenStack Train. The minimum version of Python now supported by <project> is Python 3.6. All these updates will go in a single patch. Project will keep the py2.7 support ----------------------------------- #. Swift Schedule -------- This will be divided into three phases. 3rd phase will be to audit the completion criteria. #. Phase-1: Now -> Ussuri-1 milestone (deadline R-22 ) * Project to start dropping the py2.7 support and finish by milestone-1. Project needs to coordinate with third party CI or any backend drivers. Example: Nova - http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010109.html * If there is any cross project dependency and removing the py2.7 support causing other projects py27 jobs then failing job can be dropped immediately to unblock the gate and proceed on complete cleanup in another patch. #. Phase-2: milestone-1 -> milestone-2 (deadline R-13 ) * Common libraries and testing tooling. * This includes Oslo, QA tools (or any other testing tools), common lib used among projects (os-brick), Client libraries. Tempest will drop the support during Feb as discussed with Triplo. * By milestone 1 which is phase-1 all the projects using those lib and testing tools should have completed the removal of py2.7 support. #. Phase-3: at milestone-2 * Final audit on Phase-1 and Phase-2 plan and make sure everything is done without breaking anything. This is enough time to measure any break or anything extra to do before Ussuri final release. Details discussion: https://etherpad.openstack.org/p/drop-python2-support References ========== * https://etherpad.openstack.org/p/drop-python2-support * https://etherpad.openstack.org/p/drop-python2-support Current State / Anticipated Impact ================================== Few projects started dropping the py2.7 support. ",,98,0
openstack%2Fneutron-specs~master~I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e,openstack/neutron-specs,master,I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e,add-certificate-to-vpnaas,ABANDONED,2017-10-26 09:13:20.000000000,2019-11-14 10:11:45.000000000,,"[{'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 23822}]","[{'number': 1, 'created': '2017-10-26 09:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0b459bb0e88cada75abecec09fe8ea62b93da892', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 2, 'created': '2017-10-26 09:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1a3e9ea0e387b50fda32c271782bacb9d22228c8', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 3, 'created': '2017-10-26 11:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/21e97752f5b25e5776ddabe4519d45b5ff45e008', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 4, 'created': '2017-10-26 11:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/18af6ccc85f008e0586129d16474f2ba2febfd37', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 5, 'created': '2017-10-26 11:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5f4913fb51f855724702085d24419c5799a2862a', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 6, 'created': '2017-10-26 12:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d026d47ba6f202e47e35c4a61460f83b2a76c6d5', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 7, 'created': '2017-10-26 13:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/93612917c3465b2bd48e0f48af98339dd1981453', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 8, 'created': '2017-10-26 13:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f06004ede12f1134d91e17969586f6e055a821fb', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 9, 'created': '2017-10-26 13:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7176a5e88b764f932a56bb68cac00ec7125d187e', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 10, 'created': '2017-10-26 13:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b6b9252a2104e3ae89b69dcbef10df8b8b92300e', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 11, 'created': '2017-10-26 14:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6da835782f33f2283765884d60327a9cc7c9e36a', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 12, 'created': '2017-10-26 15:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/279b20c86785d2abeac09d8f0faedd35f75da810', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 13, 'created': '2017-10-26 22:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ba018366db4f696cd2dc1917e829c1e44eb1b35e', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}, {'number': 14, 'created': '2017-10-27 01:22:18.000000000', 'files': ['specs/queens/add-certificate-to-vpnaas.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/169197881f42587d4a8d32f0468168a635988104', 'message': 'add-certificate-to-vpnaas\n\nA proposal for vpnaas to extend auth_mode for certificate\nby leveraging off different cert manager backend.\nvpnass can use certificate for authentication in NAT schema.\n\nChange-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e\nBlueprint: add-certificate-to-vpnaas\nCloses-Bug: #1459427\n'}]",0,515328,169197881f42587d4a8d32f0468168a635988104,33,3,14,23822,,,0,"add-certificate-to-vpnaas

A proposal for vpnaas to extend auth_mode for certificate
by leveraging off different cert manager backend.
vpnass can use certificate for authentication in NAT schema.

Change-Id: I5d90efc29cb8a9a70fe4a29f3ed06c8e019c9d4e
Blueprint: add-certificate-to-vpnaas
Closes-Bug: #1459427
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/28/515328/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/add-certificate-to-vpnaas.rst'],1,0b459bb0e88cada75abecec09fe8ea62b93da892,bug/1459427,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================== Add certificate manager mechanism for VPNaaS IPSec connections ============================================================== **Launchpad blueprint:** | https://blueprints.launchpad.net/neutron/+spec/add-certificate-to-vpnaas This spec introduces a certificate manager mechanism to vpn as a Service (VpnaaS). In other wordsit bring in a new function to support certificate for authentication when creating VPN IPSec site-to-site connections. As we know, creating IPSec site-to-site connections only support PSK for authentication and main mode in ike_phase1_mode, this ipsec connection cannot fulfill authentication successfully in NAT schema. So we add a certficate manage mechanism to manager cerficate and use certificate for authentication to solve the problem in NAT schema. Problem Descriptions =================== proble1: Currently, when creating a Ike policy, vpnaas can only support main mode for IKE Phase1 negotiation mode which cannot be modified, and v1&v2 for ike version. The ike policy will be used by ipsec site-to-site connection in ike phase1 for automated negotiation. problem2: when creating IPSec site-to-site connections, the user can only create ipsec tunnels using pre-shared keys(PSK) for authentication. There is no way to use other authentication methodlike certificates which are preferred for production environments. problem3: And when creating IPSec site-to-site connections whose IKE version uses v1, phase1-negotiation-mode uses main, authentication uses psk, this connection cant not negotiate with the peer normally in the NAT schema. Because the ip or port may be changed in NAT schema, it results in that the local server does not search the right psk key according to ipsec.secret when using PSK for authentication. In the endthe local server does not compute the the key of encryption and decode. for example: the ipsec.secret in vpnaas # Configuration for {{vpnservice.name}} {% for ipsec_site_connection in vpnservice.ipsec_site_connections -%} {{ipsec_site_connection.local_id}} {{ipsec_site_connection.peer_id}} : PSK ""{{ipsec_site_connection.psk}}"" {% endfor %} ipsec.secrets # Configuration for vpn1 192.168.30.29 192.168.30.30 : PSK ""321"" ipsec tunnel local_gateway_IP:192.168.30.29 <----------> peer_gateway_ip:192.168.30.30 If we use main modethe local_id must be virtual router's gateway_ip to identify this virtual routerthe peer_id is peer's gateway_ip. When loca_gateway_ip or peer_gateway_ip is changed,it will influence search of PSK key according ipsec.secret. From the example above ,in phase1 ,local server(192.168.30.29) wishes to receive packet contains ISAKMP protocol over udpwhose src_ip is 192.168.30.30 and dst_ip is 192.168.30.29 from peer server(192.168.30.30). If the src_ip is changed to 10.89.100.100 in NAT shema, the local server(192.168.30.29) will receive packet whose src_ip is 10.89.100.100 and dst_ip is 192.168.30.29 from peer server(192.168.30.30). The local server would not find the PSK key matching 10.89.100.100 from the ipsec.secret in local server(192.168.30.29). So it can not finish the negotiate Someone has presented similar bug in [1],but nobody do it until now. It is necessary and significative to add certificate manager mechanism to solve the bug and to perfect vpnaas. In order to solve the problem in NAT schema, one bring in aggressive mode to extend phase1-negotiation-mode to solve it[2][3]. So when using IKE version(V1), phase1-negotiation-mode(aggressive mode), and using psk for authentication to create ipsec conncton, the IPSec connection can traverse NAT schema. But using aggressive mode for ipsec connection is not safe for user, it's better to use certificat to create ipsec connection. Proposed Change =============== The complete implementation can be further decomposed into below smaller implementations. 1. extend cert to authentication mode in ipsec-site-connection API[4] ----------------------------------------------------- This would require an REST/CLI API change to extend authentication mode, minor database change to store authentication mode and the certificate 1.1 structure certificate used by ipsec-site-connection -------------------------------------------------- cert: id - UUID name - String (255) description - String (255) project_id - String (255) tenant_id - String (255) device_id - String(255) certificate - String (255) intermediates - String(255) private_key - String(255) private_key_passphrase -- String(255) { ""cert"": [ { ""name"": ""certificate1"", ""project_id"": ""ccb81365fe36411a9011e90491fe1330"", ""tenant_id"": ""ccb81365fe36411a9011e90491fe1330"", ""id"": ""5522aff7-1b3c-48dd-9c3c-b50f016b73db"", ""device_id""""5522aff7-1b3c-48dd-9c3c-b50f016b73db"", ""certificate"": """", ""intermediates"": """", ""private_key"": """", ""private_key_passphrase"": """", ""description"": ""certificate"" } ] } auth_mode allow the selection of the type of authentication (initially PSK and certificates). The IPSec site-to-site connection API could then reference the certificates id, thus allowing these certificates to be used for more than one IPSec connection. 1.2 REST API change to extend authentication mode ------------------------------------------------------- extend parater of auth_mode ipsec-site-connection API[4], and extend parater of cert in ipsec-site-connection API. auth_mode : psk, cert String The authentication mode. psk is the default. psk string The pre-shared key. A valid value is any string. cert_id string certificate. A valid value is the ID of the cert. local_id string An ID to be used instead of the external IP address for a virtual router used in traffic between instances on different networks in east-west traffic. Most often, local ID would be domain name, email address, etc. If this is not configured then the external IP address will be used as the ID. note: 1) local_id has been supported in ipsec-site-connection REST API[5]. and local_id is be relevant to the common_name of certificate 2) local_id and certificate are used together. and use should choose one of the authentication method(PSK or authentication) 3) if use seletes PSK, the certi_id is null. And if user seletes certificate ,the psk should be null for example: auth_mode:cert Response Example Get /v2.0/vpn/ipsec-site-connections/{connection_id} { ""ipsec_site_connection"": { ""status"": ""DOWN"", ""psk"": """", ""initiator"": ""bi-directional"", ""name"": ""vpnconnection1"", ""admin_state_up"": true, ""project_id"": ""10039663455a446d8ba2cbb058b0f578"", ""tenant_id"": ""10039663455a446d8ba2cbb058b0f578"", ""auth_mode"": ""cert"", ""peer_cidrs"": [], ""mtu"": 1500, ""peer_ep_group_id"": ""9ad5a7e0-6dac-41b4-b20d-a7b8645fddf1"", ""ikepolicy_id"": ""9b00d6b0-6c93-4ca5-9747-b8ade7bb514f"", ""vpnservice_id"": ""5c561d9d-eaea-45f6-ae3e-08d1a7080828"", ""dpd"": { ""action"": ""hold"", ""interval"": 30, ""timeout"": 120 }, ""route_mode"": ""static"", ""ipsecpolicy_id"": ""e6e23d0c-9519-4d52-8ea4-5b1f96d857b1"", ""local_ep_group_id"": ""3e1815dd-e212-43d0-8f13-b494fa553e68"", ""peer_address"": ""172.24.4.226"", ""peer_id"": ""172.24.4.226"", ""id"": ""851f280f-5639-4ea3-81aa-e298525ab74b"", ""description"": """", ""cert"": ""2341280f-5639-4ea3-81aa-e298525ab74b"", ""local_id"": ""test@xxx.com"" } } 1.3 Add REST API about cert in vpnaas --------------------------------- Get /v2.0/vpn/certs { ""certs"": [ { ""name"": ""cert1"", ""project_id"": ""ccb81365fe36411a9011e90491fe1330"", ""tenant_id"": ""ccb81365fe36411a9011e90491fe1330"", ""device_id"": ""2346365fe36411a9011e90491fe1330"", ""certificate"": ""cert.pem"", ""intermediates"": """", ""private_key"": ""key.pem"", ""private_key_passphrase"": ""321"", ""id"": ""5522aff7-1b3c-48dd-9c3c-b50f016b73db"", ""description"": """" } ] } POST /v2.0/vpn/certs Create cert for a device GET /v2.0/vpn/certs/{cert_id} Show cert details PUT /v2.0/vpn/certs/{cert_id} Update cert DELETE /v2.0/vpn/certs/{cert_id} Remove cert 1.4 add CLI to support certificate -------------------------------------- 1.4.1 extend CLI for ipsec-site-connection ------------------------------------------- neutron ipsec-site-connection-create [-h] [-f {json,shell,table,value,yaml}] [-c COLUMN] [--max-width <integer>] [--noindent] [--prefix PREFIX] [--request-format {json}] [--tenant-id TENANT_ID] [--admin-state-down] [--name NAME] [--description DESCRIPTION] [--mtu MTU] [--initiator {bi-directional,response-only}] --vpnservice-id VPNSERVICE --ikepolicy-id IKEPOLICY --ipsecpolicy-id IPSECPOLICY --peer-address PEER_ADDRESS --peer-id PEER_ID --auth_mode AUTH_MODE [--local_id LOCAL_ID] [--peer-cidr PEER_CIDRS] [--psk PSK] [--cert_id CERT] [--dpd action=ACTION,interval=INTERVAL,timeout=TIMEOUT] [--local-ep-group LOCAL_EP_GROUP] [--peer-ep-group PEER_EP_GROUP] add the parameter: --auth_mode AUTH_MODE authentication mode --cert_id CERT the id of cert associated with this connection. --local-id LOCAL_ID Local router identity for authentication. Can be IPv4/IPv6 address, e-mail address, key id, or FQDN. 1.4.2 create new CLI for certificate -------------------------------------- vpn-auth-certificate-list vpn-auth-certificate-delete <UUID> vpn-auth-certificate-show <UUID> respond example +-------------------------+--------------------------------------+ | Field | Value | +-------------------------+--------------------------------------+ | device_id | 21120a9f-1084-443d-a544-264ef0011021 | | description | | | certificate | cert.pem | | id | 10120a9f-1084-443d-a544-264ef001101e | | private_key | cert.key | | intermediates | none | | name | cert1 | | private_key_passphrase | main | | tenant_id | 31b366c3cc8443f3a86830ccbcfc2ce7 | +-------------------------+--------------------------------------+ vpn-auth-certificate-create [--name <string>] [--description <string>] [--device_id <UUID>] [--certificate <string>] [--intermediates <string>] [--private_key <string>] [--private_key_passphrase <string>] NAME 2. fix template to support certificate authentication ----------------------------------------------------- *Swan driver modifications to apply the certificate to the template for example in openswan ipsec.secrets # Configuration for vpn1 #192.168.30.40 192.168.30.44 : PSK ""321"" : RSA /var/lib/neutron/ipsec/06d2d670-8796-4ee5-beb1-d0ae1cf0e9bb/etc/ipsec.d/private/server-key.pem ""pass"" ipsec.conf # Configuration for vpn1 config setup nat_traversal=yes conn %default leftrsasigkey=%cert rightrsasigkey=%cert keyingtries=%forever ikelifetime=480m keylife=60m conn 67acd96e-95c9-48ea-8650-5aae7201436f # NOTE: a default route is required for %defaultroute to work... leftnexthop=%defaultroute rightnexthop=%defaultroute left=192.168.30.40 leftcert=/var/lib/neutron/ipsec/06d2d670-8796-4ee5-beb1-d0ae1cf0e9bb/etc/ipsec.d/certs/server-cert.pem pfs=yes leftsendcert=yes|always auto=start # NOTE:REQUIRED # [subnet] leftsubnet=192.168.10.0/24 # [updown] # What ""updown"" script to run to adjust routing and/or firewalling when # the status of the connection changes (default ""ipsec _updown""). # ""--route yes"" allows to specify such routing options as mtu and metric. leftupdown=""ipsec _updown --route yes"" ###################### # ipsec_site_connections ###################### # [peer_address] right=192.168.30.44 # [peer_id] # [peer_cidrs] rightsubnets={ 192.168.20.0/24 } # rightsubnet=networkA/netmaskA, networkB/netmaskB (IKEv2 only) # [mtu] mtu=1500 # [dpd_action] dpdaction=hold # [dpd_interval] dpddelay=30 # [dpd_timeout] dpdtimeout=120 # [auth_mode] authby=rsasig ###################### # IKEPolicy params ###################### #ike version ikev2=never # [encryption_algorithm]-[auth_algorithm]-[pfs] ike=aes128-sha1;modp1536 # [lifetime_value] ikelifetime=3600s # NOTE: it looks lifetime_units=kilobytes can't be enforced (could be seconds, hours, days...) ########################## # IPsecPolicys params ########################## # [transform_protocol] auth=esp # [encryption_algorithm]-[auth_algorithm]-[pfs] phase2alg=aes128-sha1;modp1536 # [encapsulation_mode] type=tunnel # [lifetime_value] lifetime=3600s # lifebytes=100000 if lifetime_units=kilobytes (IKEv2 only) for example in strongswan refer to storngswan[6] # Configuration for vpn2 config setup conn %default ikelifetime=60m keylife=20m rekeymargin=3m keyingtries=1 authby=rsasig mobike=no conn 592323ca-91ae-425b-816b-b31abc51435b keyexchange=ikev1 left=192.168.30.37 leftcert=/var/lib/neutron/ipsec/0200d89f-104d-42ce-97cf-20a3007a83c0/etc/ipsec.d/certs/server-cert.pem leftid=server1@xx.com leftsubnet=192.168.200.0/24 leftfirewall=yes right=192.168.30.39 rightid=server2@xx.com rightsubnet=192.168.100.0/24 auto=route dpdaction=hold dpddelay=30s dpdtimeout=120s ike=aes128-sha1-modp1536 ikelifetime=3600s esp=aes128-sha1-modp1536 lifetime=3600s type=tunnel 3. manager certificates ----------------------------------------------------- we reference to magnum to manager certificate, and will define a Certificate manager API class Cert(object): """"""Base class to represent all certificates."""""" @abc.abstractmethod def get_certificate(self): """"""Returns the certificate."""""" pass @abc.abstractmethod def get_intermediates(self): """"""Returns the intermediate certificates."""""" pass @abc.abstractmethod def get_private_key(self): """"""Returns the private key for the certificate."""""" pass def get_decrypted_private_key(self): """"""Returns the decrypted private key for the certificate."""""" return operations.decrypt_key(self.get_private_key(), self.get_private_key_passphrase()) @abc.abstractmethod def get_private_key_passphrase(self): """"""Returns the passphrase for the private key."""""" pass use different backend to generate and store script. just like: neutron.cert_manager.backend = barbican = neutron_vpnaas.common.cert_manager.barbican_cert_manager local = neutron_vpnaas.common.cert_manager.local_cert_manager x509keypair = neutron_vpnaas.common.cert_manager.x509keypair_cert_manager 3.1 Generating certificates --------------------------------- 3.1.1 use script ------------------------------- This implementation will use standard tool to generate certificates and keys. This script will generate certificates. it containe to generate CA and server certifiacate, the input parameters depend on config file. 3.1.2 Using Barbican ------------------- Barbican can also be used as a CA using Dogtag. This implementation will use Barbican to generate certificates. 3.2 store certificates ------------------------ This depends on how cert and key is generated, the implementation will differ with each case. 3.2.1 Using script tools to store in local --------------------------------- This script will generate certificates and copy in the specified directory on host node. 3.2.2 Using script tools to store in neutron_vpnaas db ------------------------------------------------ When using x509keypair, the cert and key will be generated and stored in neutron_vpnaas DB Either vpnaas can fetch the certificates from db and copy on the specified directory on node. 3.2.3 Using Barbican to store in barbican db -------------------------------------------- When using Barbican, the cert and key will be generated and stored in Barbican itself. Either vpnaas can fetch the certificates from Barbican and copy on the specified directory on node 4. finish the api use interface of manager certificates ------------------------------------------------------ 4.1 implement the REST API about cert in vpnaas by the backend of cert_manager 4.2 implemetn the auth_mode of cert to generate ipsec.conf and ipsec.secret by information of cert. Alternatives ------------ None. Data model impact ----------------- None. REST API impact --------------- Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ Other deployer impact --------------------- Deployer will need to install Barbican to store certificates. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Work Items ---------- 1. extend cert to authentication mode in ipsec-site-connection API 2. fix template to support certificate authentication 3. finish that how to manager certificates 4. finish the api use interface of manager certificates Dependencies ============ None. Testing ======= Each commit will be accompanied with unit tests. There will also be functional test to test both good and bad certificates. Documentation Impact ==================== Add a document explaining how to create ipsec-vpn conncetion with certificate. References =========== [1] https://bugs.launchpad.net/neutron/+bug/1459427 [2] https://bugs.launchpad.net/neutron/+bug/1701413 [3] https://review.openstack.org/#/c/479150/ [4] https://developer.openstack.org/api-ref/networking/v2/index.html#vpnaas-2-0-unmaintained-vpn-vpnservices-ikepolicies-ipsecpolicies-endpoint-groups-ipsec-site-connections [5] https://review.openstack.org/#/c/310676/ [6] https://www.strongswan.org/testresults.html ",,578,0
openstack%2Fneutron-specs~master~I767d1986559b9624caa3141c227c9bb4f193b6db,openstack/neutron-specs,master,I767d1986559b9624caa3141c227c9bb4f193b6db,[WIP] First draft of L7 filtering extension,ABANDONED,2018-09-07 11:12:05.000000000,2019-11-14 10:11:32.000000000,,"[{'_account_id': 841}, {'_account_id': 5109}, {'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 22348}, {'_account_id': 23618}, {'_account_id': 27488}]","[{'number': 1, 'created': '2018-09-07 11:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ef8280551fa7ccaa8cf7d1e7540d4214bdcc9283', 'message': '[DNM][WIP] Very first draft of L7 filtering extension\n\nChange-Id: I767d1986559b9624caa3141c227c9bb4f193b6db\n'}, {'number': 2, 'created': '2018-09-10 03:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4d9070552865f0ba47285883cf04a514ef048e89', 'message': '[DNM][WIP] Very first draft of L7 filtering extension\n\nChange-Id: I767d1986559b9624caa3141c227c9bb4f193b6db\n'}, {'number': 3, 'created': '2018-09-14 04:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ab797ae221b7f90da72f0744b6ef7bfc42a3e3cb', 'message': '[WIP] First draft of L7 filtering extension\n\nThis spec intend to provide L7 filtering API for FWaaS V2.0.\nL7 filtering API will be designed as a Extension API of Firewall\nPlugin V2. Therefore, we can enable/disable if need. This API\nallows tenant protect their web-application for each HTTP request.\n\nA reference for HTTP filter driver base on eBPF will be provided.\n\nChange-Id: I767d1986559b9624caa3141c227c9bb4f193b6db\n'}, {'number': 4, 'created': '2018-09-21 04:26:09.000000000', 'files': ['specs/stein/fwaas_l7_filtering.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d077641a89db8ccc2b09cb062dce6425373eacab', 'message': '[WIP] First draft of L7 filtering extension\n\nThis spec intend to provide L7 filtering API for FWaaS V2.0.\nL7 filtering API will be designed as a Extension API of Firewall\nPlugin V2. Therefore, we can enable/disable if need. This API\nallows tenant protect their web-application for each HTTP request.\n\nA reference for HTTP filter driver base on eBPF will be provided.\n\nChange-Id: I767d1986559b9624caa3141c227c9bb4f193b6db\n'}]",14,600714,d077641a89db8ccc2b09cb062dce6425373eacab,22,9,4,15471,,,0,"[WIP] First draft of L7 filtering extension

This spec intend to provide L7 filtering API for FWaaS V2.0.
L7 filtering API will be designed as a Extension API of Firewall
Plugin V2. Therefore, we can enable/disable if need. This API
allows tenant protect their web-application for each HTTP request.

A reference for HTTP filter driver base on eBPF will be provided.

Change-Id: I767d1986559b9624caa3141c227c9bb4f193b6db
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/14/600714/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/fwaas_l7_filtering.rst'],1,ef8280551fa7ccaa8cf7d1e7540d4214bdcc9283,l7_fwaas_filtering,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================== fwaas L7 filtering ================== Launchpad RFE: TBD In the spirit of ""defends in depth"", more filtering layer more secure which is a real demand from user for protecting their application like web app. This spec will introduce L7 filtering layer for firewall as a service. Problem Description =================== As a standard firewall, fwaas allows user to protect their application by security rule, which base on protocol, port, ... So user may allow HTTP traffic over TCP port 80, But a SQLinjection attacks will be allowed through as valid HTTP request. How does user can deal with this problem? Proposed Change =============== Overview -------- This spec introduce a new API to allows user can add/remove L7 filtering rule. How API work: ~~~~~~~~~~~~~ * API will filter based: - URL string: User be able to deny request unexpected from/to a domain - HTTP header: User be able to allow/deny based on POST/PUT/GET/HEAD method of a HTTP request - HTTP boday: User be able to drop base on pattern such as SQLInjection pattern, XSS pattern, ... * Which protocol are supported: - As first reference implementation, we will support HTTP over tcp only. In next cycle, we consider to support other protocols like ftp, p2p, ... * Where L7 rules will be applied: - Since Queens cycle, fwaas allows us attach firewall to vm port. Therefore, L7 rules intend to applied on vm port as first proposal. How L7 API is designed: ~~~~~~~~~~~~~~~~~~~~~~~ The API will be designed as a Extension API of Firewall Plugin V2. It allows to enable/disable this feature if need. * How L7 rules is define: Firewall rules will be extended with 2 new attribute: * l7_protocol is type of l7 rule. Currently we only support HTTP protocol. * l7_attributes contain list of attribute of l7 rules. In which: * type: can be ['url', 'header', 'body', 'cookie'] * compare_type: can be ['contain', 'starts_with', 'ends_with', 'regex', 'equal'] * value: is a string e.g: 'POST /v2/example' * action: DROP/ACCEPT. Please note that action LOG and STATS will be propose in `neutron-packet-logging <https://docs.openstack.org/neutron/rocky/admin/config-logging.html>`_ framework. Fore more detail, please check REST API impact session. Possible implementation ~~~~~~~~~~~~~~~~~~~~~~~ As a rising of XDP & eBPF, we will go forward with a http filter driver base on bcc library as a reference implementation. Here is overview of http filter driver implementation https://goo.gl/tuwmjC However, FirewallL7AgentExtension is also designed to integrate with a cilium driver or nDPI driver. REST API Impact --------------- .. code-block:: python API_PREFIX = '/fwaas' FIREWALL_L7_ALIAS = ""firewall-l7"" SUPPORTED_PROTOCOLS = ['HTTP'] L7_ATTR_TYPES = ['URL', 'HEADER', 'COOKIE', 'BODY'] COMPARE_TYPES = ['CONTAIN', 'STARTS_WITH', 'ENDS_WITH', 'REGEX', 'EQUAL'] L7_ACTIONS = ['ALLOW', 'DENY'] SUB_RESOURCE_ATTRIBUTE_MAP = { 'l7_attributes': { 'parent': { 'collection_name': api_const.FIREWALL_RULES, 'member_name': api_const.FIREWALL_RULES}, 'parameters': { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'name': { 'allow_post': True, 'allow_put': True, 'validate': {'type:string': api_const.NAME_FIELD_SIZE}, 'is_filter': True, 'is_sort_key': True, 'is_visible': True, 'default': '' }, 'type': { 'allow_post': True, 'allow_put': False, 'is_filter': True, 'is_visible': True, 'validate': {'type:values': L7_ATTR_TYPES} }, 'compare_type': { 'allow_post': True, 'allow_put': True, 'is_filter': True, 'is_sort_key': True, 'is_visible': True, 'validate': {'type:values': COMPARE_TYPES}, }, 'value': { 'allow_post': True, 'allow_put': True, 'is_filter': True, 'is_sort_key': True, 'is_visible': True, 'validate': {'type:string': None} }, 'action': { 'allow_post': True, 'allow_put': True, 'is_filter': True, 'is_sort_key': True, 'is_visible': True, 'validate': {'type:values': L7_ACTIONS}} } } } EXTENDED_ATTRIBUTES_2_0 = { api_const.FIREWALL_RULES: { 'l7_protocol': { 'allow_post': True, 'allow_put': False, 'is_filter': True, 'is_visible': True, 'validate': {'type:values': SUPPORTED_PROTOCOLS} }, 'l7_attributes': { 'allow_post': True, 'allow_put': False, 'is_filter': True, 'is_visible': True } } } Database Mode Impact -------------------- L7 attribute mode would look like: .. code-block:: python class L7Attribute(model_base.BASEV2, model_base.HasId, HasName, HasDescription, model_base.HasProject): __tablename__ = ""l7_attribute"" type = sa.Column(sa.Enum('url', 'header', 'body', 'cookie', name=""l7_types"")) compare_type = sa.Column(sa.Enum( 'contain', 'starts_with', 'ends_with', 'regex', 'equal_to', name=""l7_compare_types"")) value = sa.Column(sa.String(255)) action = sa.Column(sa.Enum('allow', 'drop', name='l7_actions')) Implementation ============== Assignee(s) ----------- Well come contributors Assignee: annp Work Items ---------- * Finalize a way to log data * Implement * REST API + API tests * Database model & database migrations * HTTP filter base reference implementation * OSC support Dependencies ============ Linux kernel >= 4.15 Testing ======= * Unit Test * Functional test * Fullstack test Tempest Tests ------------- TBD Functional Tests ---------------- TBD API Tests --------- TBD Documentation Impact ==================== User Documentation ------------------ * Add some usages into the networking guide for user. References ========== - OpenStack Summit Vancouver 2018, forum session: https://etherpad.openstack.org/p/fwaas-v2-L7-filtering ",,230,0
openstack%2Fneutron-specs~master~If9a44e5c415e93edaf05a5303db516a62f8b334f,openstack/neutron-specs,master,If9a44e5c415e93edaf05a5303db516a62f8b334f,Spec for Firewall audit notification,ABANDONED,2017-05-02 07:20:25.000000000,2019-11-14 10:11:28.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4694}, {'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15309}, {'_account_id': 15471}, {'_account_id': 17776}, {'_account_id': 20686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-02 07:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/31c36534e3e01b7709f2bb65858dfdf0f03621ca', 'message': 'firewall audit notification\n\nThis spec wish to add the audit notification in fwaas.\n\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nClose-Bugs: #1628627\n'}, {'number': 2, 'created': '2017-05-02 07:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4b16c22133e46600592713b9752291649354f21c', 'message': 'firewall audit notification\n\nThis spec wish to add the audit notification in fwaas.\n\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nClose-Bugs: #1628627\n'}, {'number': 3, 'created': '2017-05-25 02:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1b40b362e41bd3e1da3fddcedd50e9c3410feba0', 'message': 'firewall audit notification\n\nThis spec wish to add the audit notification in fwaas.\n\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 4, 'created': '2017-06-09 03:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/13f9479c6558e8a6dfda4b9c6b7471ed136d317e', 'message': 'firewall audit notification\n\nThis spec wish to add the audit notification in fwaas.\n\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 5, 'created': '2017-08-30 05:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7d38d26947e56b8977159fc4d7ebadef96412457', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notificationfor Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 6, 'created': '2017-09-05 02:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/45bcf60f8e567353d37f8ea9fed06a12b3b14c91', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notificationfor Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 7, 'created': '2017-09-08 03:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1fdafef519a34939db96e5e566f332e1cc916728', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notificationfor Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 8, 'created': '2017-09-11 03:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/974321a597bb84d48521538cd22f0f3a199c5b5f', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 9, 'created': '2017-09-12 03:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b8c4868720f9fb5ac4fb5e37e7802aab008fba7f', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 10, 'created': '2017-09-13 08:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f4e9a7f409a23a1e64c6fe4102a919803997a256', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 11, 'created': '2017-09-26 20:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/65868ac4d26d24e07f412cb44dbc7e9047e0f1f7', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 12, 'created': '2017-10-09 09:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4bb47e37674409ade0c7c8db818ab109da0746c5', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 13, 'created': '2017-10-19 10:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9c1d269dc92c48d9c47d66330bcd58f9c7f60a78', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 14, 'created': '2017-10-24 03:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/af95ceb478b84ad42cff7bfddb0575635f8f9f40', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 15, 'created': '2017-10-28 08:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/705f6d892fdfc1131e68164ccc7965283e4a5220', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 16, 'created': '2017-10-31 01:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0b25c77d0dc770d558a4ce9b93f1be7a1e63da04', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 17, 'created': '2017-11-01 11:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f68d78f26ab542a616995b9be723662c26d359dc', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 18, 'created': '2017-11-01 11:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a5c565ec190bbb6f630a2d0465dd3130b72a6408', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 19, 'created': '2017-11-08 08:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ce1b3eeadc3b2916a20da45a7781c07e03b5c10a', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 20, 'created': '2017-11-29 08:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/46c6ccf7efb5027c01836fe28d0a388504563183', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 21, 'created': '2017-12-20 01:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d704dcc655542281a11b836f759928dd0f098c07', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On:I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 22, 'created': '2017-12-20 09:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fadd1d7b7eb43cce64563ed92292f1755df2fa2e', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On: I80e4aefe5700f6c1dcf1037f22bf58b5d23ea95d\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 23, 'created': '2017-12-20 09:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7860366bd2b2182c704cedeaa142a2a136ebbdd2', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 24, 'created': '2018-03-27 09:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/167557968bb5f1c85b302ef0ef1afb76d9582b24', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 25, 'created': '2018-12-13 16:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0f3cb167f794c75ff009f8f92d12983729410ac4', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}, {'number': 26, 'created': '2018-12-13 16:23:45.000000000', 'files': ['specs/rocky/firewall_resources_support_audit_notification.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0ac846934c156a2cbba44f5ca2aeab5f30923867', 'message': 'Spec for Firewall audit notification\n\nThis spec adds the audit notification for Firewall resources.\n\nCo-Authored-By: Reedip<rbanerje@redhat.com>\n\nDepends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372\nChange-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}]",182,461657,0ac846934c156a2cbba44f5ca2aeab5f30923867,94,13,26,15309,,,0,"Spec for Firewall audit notification

This spec adds the audit notification for Firewall resources.

Co-Authored-By: Reedip<rbanerje@redhat.com>

Depends-On: If40305044c9dfe0024b64bd3921232bb0a6c9372
Change-Id: If9a44e5c415e93edaf05a5303db516a62f8b334f
Closes-Bug: #1628627
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/57/461657/16 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/firewall_resources_support_audit_notification.rst'],1,31c36534e3e01b7709f2bb65858dfdf0f03621ca,bug/1628627,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= Firewall Resources support audit notification ============================================= https://bugs.launchpad.net/neutron/+bug/1628627 In the FWaaS service, create the ability for administrators to engage an 'audit trail' feature. The audit trail would notate every change to firewalls that causes a security change. The output would be to the notification queue. Audit notations should contain all information necessary to process them. For example, an audit notation that says ""user abcde1234 permitted port 22 traffic from firewall group A to firewall group B"" is not enough information. In order to determine what needs to be scanned, the consumer of the audit would need to subsequently query FWaaS to determine the membership of the 2 firewall groups cited. Notations should carry enough information so that no subsequent querying is required for processing. Use case: This would allow a customer's security group to subscribe to a collated feed of all security events in order to detect those events that should trigger an audit or vulnerability scan. Problem Description =================== Currently, there is no way to trace the firewall resources for audit. As the operations of that are security-related. The cloud manager want to locate the target quickly if someone take the dangerous operation. So this requirement need a way to trace 'who' did 'what' at 'when', and the affected range is 'what'. Proposed Change =============== Now, the neutron notifier contained the key information about 'who' and 'when'. As the audit trail seem like a ceilometer feature, but the notification now lack the major information about the effected arrange. So FWaaS need to collect the details to notification. The notification should encompass all of: - Who: Identity of the user initiating the change. - What: The information on what was changed. Should include port information, whether access was permitted or disallowed, etc. - Where: A list of all affected ports/IP addresses/instances, grouped by connection origin/destination. This could be abbreviated to indicate an entire tenant if that is the target. - When: Timestamp indicating when the change was initiated. As 'Who' and 'When' are already supported when using neutron's notifier. Both of them can be captured from the implemented notification. But the other two, we need send a more detailed notification. What: We need know the operation resources, the creation/update/delete details about them. For example, if the resource is firewall rule, we need know the firewall groups which related with this firewall rule, and all the ports which applied the firewall groups. And we need group the related resources by the ingress/egress. Where: For FWaaS, the affected port must be a ""network:router_interface"" port. So we have some scenarios to analysis the effected tenant ports or subnets. 1. ingress, src_ip/subnet or egress, dst_ip/subnet is the outside ip/subnet in router. We can just say the effected range is the related subnet of router interface. 2. ingress, src_ip/subnet or egress, dst_ip/subnet is in the other subnets from router interfaces. We need know the affected range must be contain the router interface which apply firewall group and the subnets which src_ip/subnet located on the other router interfaces. 3. ingress, dst_ip/subnet or egress, dst_ip/subnet is in the subnet of router interface. The effected range is the subnet of router interface. We need group the range by the egress/ingress. REST API Impact --------------- None Command Line Client Impact -------------------------- None Security Impact --------------- None Notifications Impact -------------------- The notification body may very large. Other End User Impact --------------------- None Performance Impact ------------------ As we need the collect all the information, so we need some time to analysis what should be in the notification body, so the send time may delay several seconds after the real operation is done. IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ None Implementation ============== Assignee(s) ----------- zhaobo Work Items ---------- 1. Add the notification driver. 2. Implement the logic about collect the information which is necessary. 3. Add related tests, Uts, functional tests are required. Dependencies ============ None Testing ======= Tempest Tests ------------- None Functional Tests ---------------- None API Tests --------- None Documentation Impact ==================== Yes User Documentation ------------------ Yes Developer Documentation ----------------------- Yes References ========== ",,196,0
openstack%2Fneutron-specs~master~Ib654804169841c848a97a8a932d9a1de26706238,openstack/neutron-specs,master,Ib654804169841c848a97a8a932d9a1de26706238,Fwaas: add support for priority,ABANDONED,2018-09-07 21:38:15.000000000,2019-11-14 10:11:16.000000000,,"[{'_account_id': 4694}, {'_account_id': 6995}, {'_account_id': 15309}, {'_account_id': 15471}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 28373}]","[{'number': 1, 'created': '2018-09-07 21:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/805bd9976e2b8950c0c3478416492505e7554624', 'message': '[WIP] Fwaas: add support for priority\n\nChange-Id: Ib654804169841c848a97a8a932d9a1de26706238\nImplements: blueprint firewall-policy-priority\n'}, {'number': 2, 'created': '2018-10-26 20:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ed198662be3359ac38d0aead564264081f9f0f98', 'message': 'Fwaas: add support for priority\n\nChange-Id: Ib654804169841c848a97a8a932d9a1de26706238\nImplements: blueprint firewall-policy-priority\n'}, {'number': 3, 'created': '2018-10-26 22:53:33.000000000', 'files': ['specs/stein/fwaas-2.0-policy-priority.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5496039f10dfd6c538c40bec5847246b9b1f7c67', 'message': 'Fwaas: add support for priority\n\nChange-Id: Ib654804169841c848a97a8a932d9a1de26706238\nImplements: blueprint firewall-policy-priority\n'}]",18,600870,5496039f10dfd6c538c40bec5847246b9b1f7c67,14,7,3,27654,,,0,"Fwaas: add support for priority

Change-Id: Ib654804169841c848a97a8a932d9a1de26706238
Implements: blueprint firewall-policy-priority
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/70/600870/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/fwaas-2.0-policy-priority.rst'],1,805bd9976e2b8950c0c3478416492505e7554624,bp/fwaas-2,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================== Firewall as a Service API 2.0 Firewall Policy Priority Support ============================================================== **Launchpad blueprint:** | https://blueprints.launchpad.net/neutron/+spec/firewall-policy-priority This spec introduces an enhancement to Firewall as a Service (FWaaS) API 2.0 for firewall policy's priority. Problem Description =================== According to the FWaaS 2.0 spec [1], the firewall as a service API has the following limitation: When there are multiple firewall groups associated with a specific Neutron port, there is no position or priority between the different firewall groups. Some deterministic behavior must be defined in order to resolve the action to be taken when some firewall groups determine an ""allow"" action while other firewall groups determine a ""deny"" action. However, after we introduce new actions ""reject"" [2] and ""redirect"" [3], deterministic behavior is harder to maintain. Proposed Change =============== Introduce an attribute ``priority`` to firewall_policy. When there are multiple firewall groups associated with a specific Neutron port, the priority of the firewall policies decide which policies will apply. The priority is an integer between 0 and 65535. Firewall policies with higher priority will overwrite the one with lower priority. However, if there are multiple policies with the same priority, it requires some deterministic behavior to be defined in order to resolve the action to be taken. REST API Impact --------------- Firewall rules ~~~~~~~~~~~~~~ Add ``priority`` to firewall policy. | **Firewall Policies** +----------------+------------+-----+------+-----------------------------------------+ | Attribute | Type | Req | CRUD | Description | +================+============+=====+======+=========================================+ | id | uuid-str | N/A | R | Unique identifier for the firewall | | | | | | policy object. | +----------------+------------+-----+------+-----------------------------------------+ | project_id | uuid-str | Yes | CR | Owner of the firewall policy. Only | | | | | | admin users can specify a project | | | | | | identifier other than their own. | +----------------+------------+-----+------+-----------------------------------------+ | name | String | No | CRU | Human readable name for the firewall | | | | | | policy (255 characters limit). Does | | | | | | not have to be unique. | +----------------+------------+-----+------+-----------------------------------------+ | description | String | No | CRU | Human readable description for the | | | | | | firewall Policy (255 characters limit). | +----------------+------------+-----+------+-----------------------------------------+ | firewall_rules | List | No | CRU | This is an ordered list of firewall | | | | | | rule uuids. The firewall applies the | | | | | | rules in the order in which they appear.| +----------------+------------+-----+------+-----------------------------------------+ | audited | Bool | No | CRU | When set to True by the policy owner | | | | | | indicates that the firewall policy has | | | | | | been audited. Each time the firewall | | | | | | policy or the associated firewall | | | | | | rules are changed, this attribute will | | | | | | be set to False and will have to be | | | | | | explicitly set to True through an | | | | | | update operation. | +----------------+------------+-----+------+-----------------------------------------+ | public | Bool | No | CRU | When set to True makes this firewall | | | | | | policy visible to projects other than | | | | | | its owner. | +----------------+------------+-----+------+-----------------------------------------+ | priority | Integer | No | CRU | Firewall policy priority (0 to 65535). | +----------------+------------+-----+------+-----------------------------------------+ Data Model Impact ----------------- TBD Security Impact --------------- TBD Notifications Impact -------------------- TBD Other End User Impact --------------------- TBD Performance Impact ------------------ TBD IPv6 Impact ----------- TBD Other Deployer Impact --------------------- TBD Developer Impact ---------------- TBD Community Impact ---------------- TBD Alternatives ------------ TBD Implementation ============== Assignee(s) ----------- * Hongbin Lu <hongbin.lu@huawei.com> Work Items ---------- * REST API * DB Schema * CLI update Dependencies ============ TBD Testing ======= Tempest Tests -------------- * DB mixin and schema tests * FWaaS Plugin with mocked driver end-to-end tests * Tempest tests * CLI tests Functional Tests ---------------- * New tests need to be written API Tests --------- * REST API and attributes validation tests Documentation Impact ==================== User Documentation ------------------- * Neutron CLI and FWaaS API documentation have to be modified. * Documentation will be provided for users. Developer Documentation ----------------------- * neutron-fwaas repo will have a devref and documentation will be written. References ========== [1] https://specs.openstack.org/openstack/neutron-specs/specs/mitaka/fwaas-api-2.0.html [2] https://specs.openstack.org/openstack/neutron-specs/specs/liberty/fwaas-reject-rule.html [3] https://review.openstack.org/#/c/600563/ ",,220,0
openstack%2Fneutron-specs~master~Ic1da5c8b871cf7174c3adadac73bed1506b7463a,openstack/neutron-specs,master,Ic1da5c8b871cf7174c3adadac73bed1506b7463a,Fwaas: extend firewall group inclusion,ABANDONED,2018-09-05 21:55:08.000000000,2019-11-14 10:11:09.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 10850}, {'_account_id': 15471}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-09-05 21:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/216440f9706c126033117fecc0e35a9bc9db00d8', 'message': '[WIP] Fwaas: extend firewall group inclusion\n\nChange-Id: Ic1da5c8b871cf7174c3adadac73bed1506b7463a\nImplements: blueprint fwaas-2.0-extended-firewall-group\n'}, {'number': 2, 'created': '2018-10-16 23:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8a6f39ee6543ce5d55a90a918918a0f4688db43c', 'message': 'Fwaas: extend firewall group inclusion\n\nChange-Id: Ic1da5c8b871cf7174c3adadac73bed1506b7463a\nImplements: blueprint fwaas-2.0-extended-firewall-group\n'}, {'number': 3, 'created': '2018-10-17 17:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f2f1c8a1e466ac9724c9de934e7ed2ffabee19a1', 'message': 'Fwaas: extend firewall group inclusion\n\nChange-Id: Ic1da5c8b871cf7174c3adadac73bed1506b7463a\nImplements: blueprint fwaas-2.0-extended-firewall-group\n'}, {'number': 4, 'created': '2018-10-29 23:43:33.000000000', 'files': ['specs/stein/fwaas-2.0-extended-firewall-group.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a310cbb9c060e8b3ea12b66141c1b9ba690c8536', 'message': 'Fwaas: extend firewall group inclusion\n\nChange-Id: Ic1da5c8b871cf7174c3adadac73bed1506b7463a\nImplements: blueprint fwaas-2.0-extended-firewall-group\n'}]",38,600261,a310cbb9c060e8b3ea12b66141c1b9ba690c8536,15,6,4,27654,,,0,"Fwaas: extend firewall group inclusion

Change-Id: Ic1da5c8b871cf7174c3adadac73bed1506b7463a
Implements: blueprint fwaas-2.0-extended-firewall-group
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/61/600261/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/fwaas-2.0-extended-firewall-group.rst'],1,216440f9706c126033117fecc0e35a9bc9db00d8,bp/fwaas-2,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================================== Firewall as a Service API 2.0 Extended Firewall Group ===================================================== **Launchpad blueprint:** | https://blueprints.launchpad.net/neutron/+spec/fwaas-2.0-extended-firewall-group This spec introduces an enhancement to Firewall as a Service (FWaaS) API 2.0 for allowing firewall group to include resources other than Neutron ports. Problem Description =================== Firewall group can include a list Neutron ports that are the targets for applying firewall rules, but it cannot include resource type other than Neutron ports. If users want to apply firewall rules to other coarse-grained resources (i.e. subnets), the work-around is usually to compile the list of Neutron ports that belong to the coarse-grained resource, then add the list of Neutron ports to the firewall group. There are two major disadvantages of this approach: * It is an overhead for users to identify the set of Neutron ports that they want to include into a firewall group because Neutron port is a fine-grained resource that end-users might not directly interact with, thus less identifiable. * It couldn't process Neutron ports that are created at runtime. For example, if users want to include a subnet into a firewall group, they can include all the Neutron ports of the subnet but additional Neutron ports that are created afterward won't be included. Proposed Change =============== Enhance firewall group to support additional resource type. This spec suggest to add support for subnet and firewall group (firewall groups inside firewall group) in the first iteration. In the future, additional resource type could be supported. In addition, this spec also proposes to add support for excluding Neutron ports as part of the firewall group. This allows users to filter out some special Neutron ports when including a coarse-grained resource. An example could be to exclude the DHCP port of a subnet. REST API Impact --------------- Firewall groups ~~~~~~~~~~~~~~~ Add ``subnets``, ``firewall_groups`` and ``excluded_ports`` to firewall group. | +-------------------+---------+----------+------+---------------------------------------+ | Attribute | Type | Required | CRUD | Description | +===================+=========+==========+======+=======================================+ | id | uuid-str| N/A | R | Unique identifier for the firewall | | | | | | group object. | +-------------------+---------+----------+------+---------------------------------------+ | name | string | No | CRU | Human readable name for the firewall | | | | | | group (255 characters limit). Does | | | | | | not have to be unique. | +-------------------+---------+----------+------+---------------------------------------+ | description | string | No | CRU | Human readable description for the | | | | | | firewall group (255 characters limit).| +-------------------+---------+----------+------+---------------------------------------+ | project_id | uuid-str| Yes | CR | Owner of the firewall group. Only | | | | | | admin users can specify a project | | | | | | identifier other than their own. | | | | | | Default: derived from authentication | | | | | | token. | +-------------------+---------+----------+------+---------------------------------------+ | ingress_firewall | uuid-str| No | CRU | 'null' if not associated with any | | _policy_id | | | | firewall policy. | +-------------------+---------+----------+------+---------------------------------------+ | egress_firewall | uuid-str| No | CRU | 'null' if not associated with any | | _policy_id | | | | firewall policy. | +-------------------+---------+----------+------+---------------------------------------+ | ports | List | No | CRU | List of port_ids that will be | | | | | | associated to this firewall_group. | +-------------------+---------+----------+------+---------------------------------------+ | subnets | List | No | CRU | List of subnet IDs that will be | | | | | | associated to this firewall_group. | +-------------------+---------+----------+------+---------------------------------------+ | firewall_groups | List | No | CRU | List of firewall group IDs that will | | | | | | be associated to this firewall_group. | +-------------------+---------+----------+------+---------------------------------------+ | excluded_ports | List | No | CRU | List of port IDs that will be | | | | | | excluded from this firewall_group. | +-------------------+---------+----------+------+---------------------------------------+ List firewall groups ^^^^^^^^^^^^^^^^^^^^^ Lists firewall groups. +----------------+------------------------------------------------+ | Request Type | ``GET`` | +----------------+------------------------------------------------+ | Endpoint | ``/v2.0/fwaas/firewall_groups`` | +----------------+---------+--------------------------------------+ | | Success | 200 | | Response Codes +---------+--------------------------------------+ | | Error | Unauthorized(401) | +----------------+---------+--------------------------------------+ | **Example List firewall groups: JSON request** .. code:: GET /v2.0/fwaas/firewall_groups.json User-Agent: python-neutronclient Accept: application/json **Example List firewall groups: JSON response** .. code:: { ""firewall_groups"": [ { ""description"": """", ""ingress_firewall_policy_id"": null, ""egress_firewall_policy_id"": null, ""id"": ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"", ""name"": ""FW_GROUP_1"", ""project_id"": ""45977fa2dbd7482098dd68d0d8970117"", ""ports"":[ ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"" ], ""subnets"":[ ""482a0df5-1371-4eb0-b3e0-ec0c4ea2b2c0"" ], ""firewall_groups"":[ ""15182fb0-037c-4af5-a265-33438b2a0ed6"" ], ""excluded_ports"":[ ""82a589af-417e-46ed-b23f-229fed668a64"" ] } ] } Show firewall group details ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Shows firewall group details. +----------------+------------------------------------------------+ | Request Type | ``GET`` | +----------------+------------------------------------------------+ | Endpoint | ``/v2.0/fwaas/firewall_groups/<firewall_group\ | | | _id>`` | +----------------+---------+--------------------------------------+ | | Success | 200 | | Response Codes +---------+--------------------------------------+ | | Error | Unauthorized(401), Forbidden(403), \ | | | | Not Found (404) | +----------------+---------+--------------------------------------+ | **Example Show firewall group: JSON request** .. code:: GET /v2.0/fwaas/firewall_groups/9faaf49f-dd89-4e39-a8c6-101839aa49bc.json User-Agent: python-neutronclient Accept: application/json **Example Show firewall group: JSON response** .. code:: { ""firewall_group"": { ""description"": """", ""ingress_firewall_policy_id"": null, ""egress_firewall_policy_id"": null, ""id"": ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"", ""name"": ""FW_GROUP_1"", ""project_id"": ""45977fa2dbd7482098dd68d0d8970117"", ""ports"":[ ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"" ], ""subnets"":[ ""482a0df5-1371-4eb0-b3e0-ec0c4ea2b2c0"" ], ""firewall_groups"":[ ""15182fb0-037c-4af5-a265-33438b2a0ed6"" ], ""excluded_ports"":[ ""82a589af-417e-46ed-b23f-229fed668a64"" ] } } Create firewall group ^^^^^^^^^^^^^^^^^^^^^^ Creates a firewall group. +----------------+------------------------------------------------+ | Request Type | ``POST`` | +----------------+------------------------------------------------+ | Endpoint | ``/v2.0/fwaas/firewall_groups/`` | +----------------+---------+--------------------------------------+ | | Success | 201 | | Response Codes +---------+--------------------------------------+ | | Error | Unauthorized(401), Bad Request(400) | +----------------+---------+--------------------------------------+ | **Example Create firewall group: JSON request** .. code:: POST /v2.0/fwaas/firewall_groups.json User-Agent: python-neutronclient Accept: application/json .. code:: { ""firewall_rule"": { ""ports"":[ ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"" ], ""name"": ""FW_GROUP_1"" } } **Example Create firewall group: JSON response** .. code:: HTTP/1.1 201 Created Content-Type: application/json; charset=UTF-8 .. code:: { ""firewall_group"": { ""description"": """", ""ingress_firewall_policy_id"": null, ""egress_firewall_policy_id"": null, ""id"": ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"", ""name"": ""FW_GROUP_1"", ""project_id"": ""45977fa2dbd7482098dd68d0d8970117"", ""ports"":[ ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"" ], ""subnets"":[ ""482a0df5-1371-4eb0-b3e0-ec0c4ea2b2c0"" ], ""firewall_groups"":[ ""15182fb0-037c-4af5-a265-33438b2a0ed6"" ], ""excluded_ports"":[ ""82a589af-417e-46ed-b23f-229fed668a64"" ] } } Update firewall group ^^^^^^^^^^^^^^^^^^^^^^^ Updates a firewall group. +----------------+------------------------------------------------+ | Request Type | ``PUT`` | +----------------+------------------------------------------------+ | Endpoint | ``/v2.0/fwaas/firewall_groups/<firewall_group\ | | | _id>`` | +----------------+---------+--------------------------------------+ | | Success | 200 | | Response Codes +---------+--------------------------------------+ | | Error | Unauthorized(401), Bad Request(400) \| | | | Not Found(404) | +----------------+---------+--------------------------------------+ | **Example Update firewall group: JSON request** .. code:: PUT /v2.0/fwaas/firewall_groups/41bfef97-af4e-4f6b-a5d3-4678859d2485.json User-Agent: python-neutronclient Accept: application/json .. code:: { ""firewall_group"": { ""ingress_firewall_policy_id"": ""f5876h5t1-b472-44f9-8245-308dr4u953gh2"", ""egress_firewall_policy_id"": ""dg476h5t1-b472-44f9-8245-308dr4u953gh2"" } } **Example Update firewall group: JSON response** .. code:: HTTP/1.1 200 OK Content-Type: application/json; charset=UTF-8 .. code:: { ""firewall_group"": { ""description"": """", ""ingress_firewall_policy_id"": ""f5876h5t1-b472-44f9-8245-308dr4u953gh2"", ""egress_firewall_policy_id"": ""dg476h5t1-b472-44f9-8245-308dr4u953gh2"", ""id"": ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"", ""name"": ""FW_GROUP_1"", ""project_id"": ""45977fa2dbd7482098dd68d0d8970117"", ""ports"":[ ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"" ], ""subnets"":[ ""482a0df5-1371-4eb0-b3e0-ec0c4ea2b2c0"" ], ""firewall_groups"":[ ""15182fb0-037c-4af5-a265-33438b2a0ed6"" ], ""excluded_ports"":[ ""82a589af-417e-46ed-b23f-229fed668a64"" ] } } Delete firewall group ^^^^^^^^^^^^^^^^^^^^^^^ Deletes a firewall group. This operation does not return a response body. +----------------+------------------------------------------------+ | Request Type | ``DELETE`` | +----------------+------------------------------------------------+ | Endpoint | ``/v2.0/fwaas/firewall_groups/<firewall_group\ | | | _id>`` | +----------------+---------+--------------------------------------+ | | Success | 204 | | Response Codes +---------+--------------------------------------+ | | Error | Unauthorized(401), Not Found(404) | +----------------+---------+--------------------------------------+ | **Example Delete firewall group: JSON request** .. code:: DELETE /v2.0/fwaas/firewall_groups/1be5e5f7-c45e-49ba-85da-156575b60d50.json User-Agent: python-neutronclient Accept: application/json **Example Delete firewall group: JSON response** .. code:: HTTP/1.1 204 No Content Content-Length: 0 Data Model Impact ----------------- TBD Security Impact --------------- TBD Notifications Impact -------------------- TBD Other End User Impact --------------------- TBD Performance Impact ------------------ TBD IPv6 Impact ----------- TBD Other Deployer Impact --------------------- TBD Developer Impact ---------------- TBD Community Impact ---------------- TBD Alternatives ------------ TBD Implementation ============== Assignee(s) ----------- * Hongbin Lu <hongbin.lu@huawei.com> Work Items ---------- * REST API * DB Schema * CLI update Dependencies ============ TBD Testing ======= Tempest Tests -------------- * DB mixin and schema tests * FWaaS Plugin with mocked driver end-to-end tests * Tempest tests * CLI tests Functional Tests ---------------- * New tests need to be written API Tests --------- * REST API and attributes validation tests Documentation Impact ==================== User Documentation ------------------- * Neutron CLI and FWaaS API documentation have to be modified. * Documentation will be provided for users. Developer Documentation ----------------------- * neutron-fwaas repo will have a devref and documentation will be written. References ========== TBD",,517,0
openstack%2Fneutron-specs~master~Ia853bb1e3cb1361f130aeff690c2256281650d26,openstack/neutron-specs,master,Ia853bb1e3cb1361f130aeff690c2256281650d26,Fwaas: add support for dynamic rules,ABANDONED,2018-08-29 22:41:51.000000000,2019-11-14 10:11:02.000000000,,"[{'_account_id': 4694}, {'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 15309}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-08-29 22:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a0c18d53f75cc61c6d3836e96087647335c559fe', 'message': '[WIP] Fwaas: add support for dynamic rules\n\nChange-Id: Ia853bb1e3cb1361f130aeff690c2256281650d26\nImplements: blueprint fwaas-2.0-dynamic-rules\n'}, {'number': 2, 'created': '2018-08-30 22:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7343a0697ad4342f559dd962ce0b7b4aa779a019', 'message': '[WIP] Fwaas: add support for dynamic rules\n\nChange-Id: Ia853bb1e3cb1361f130aeff690c2256281650d26\nImplements: blueprint fwaas-2.0-dynamic-rules\n'}, {'number': 3, 'created': '2018-08-30 22:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d3cfb92c9747fd959b7f61eebc1760e1c81ab8a5', 'message': '[WIP] Fwaas: add support for dynamic rules\n\nChange-Id: Ia853bb1e3cb1361f130aeff690c2256281650d26\nImplements: blueprint fwaas-2.0-dynamic-rules\n'}, {'number': 4, 'created': '2018-09-05 18:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/67c514e6f9f3ccabb57af56a03bb9bc2da7206db', 'message': '[WIP] Fwaas: add support for dynamic rules\n\nChange-Id: Ia853bb1e3cb1361f130aeff690c2256281650d26\nImplements: blueprint fwaas-2.0-dynamic-rules\n'}, {'number': 5, 'created': '2018-10-16 19:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/623eea4f21c265a86dd32daf913d01ce755419b5', 'message': 'Fwaas: add support for dynamic rules\n\nChange-Id: Ia853bb1e3cb1361f130aeff690c2256281650d26\nImplements: blueprint fwaas-2.0-dynamic-rules\n'}, {'number': 6, 'created': '2018-10-16 21:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f70b0bb631918e0bad394d81434c34efa81dcd6c', 'message': 'Fwaas: add support for dynamic rules\n\nChange-Id: Ia853bb1e3cb1361f130aeff690c2256281650d26\nImplements: blueprint fwaas-2.0-dynamic-rules\n'}, {'number': 7, 'created': '2018-10-16 21:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e1656703d9b663785ba7fef0c7bf7466d8ebeddc', 'message': 'Fwaas: add support for dynamic rules\n\nChange-Id: Ia853bb1e3cb1361f130aeff690c2256281650d26\nImplements: blueprint fwaas-2.0-dynamic-rules\n'}, {'number': 8, 'created': '2018-10-29 23:35:03.000000000', 'files': ['specs/stein/fwaas-2.0-dynamic-port-association-support.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2b5fcbd2d9665afcaa49ecda757d4e8fedd35104', 'message': 'Fwaas: add support for dynamic rules\n\nChange-Id: Ia853bb1e3cb1361f130aeff690c2256281650d26\nImplements: blueprint fwaas-2.0-dynamic-rules\n'}]",60,597724,2b5fcbd2d9665afcaa49ecda757d4e8fedd35104,26,6,8,27654,,,0,"Fwaas: add support for dynamic rules

Change-Id: Ia853bb1e3cb1361f130aeff690c2256281650d26
Implements: blueprint fwaas-2.0-dynamic-rules
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/24/597724/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/fwaas-2.0-dynamic-rules-support.rst'],1,a0c18d53f75cc61c6d3836e96087647335c559fe,bp/fwaas-2,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================================== Firewall as a Service API 2.0 Dynamic Rules Support =================================================== **Launchpad blueprint:** | https://blueprints.launchpad.net/neutron/+spec/fwaas-2.0-dynamic-rules This spec introduces an enhancement to Firewall as a Service (FWaaS) API 2.0 for supporting dynamically adding/removing Neutron ports for which firewall rules apply. Problem Description =================== Right now, how firewall rules apply for VMs is statically defined by the associations between firewall groups and Neutron ports, in which the firewall groups reference a list of firewall rules that will be applied to the set of Neutron ports belonging to the VMs. The firewall group / port associations are static, so each addition of VM requires a manual process to add the Neutron ports of the VM to the right set of firewall groups. Such workflow is undesirable because it requires each user to explore the low-level details of the firewall constructs in order to deploy firewall to their VMs. Not every users would have the expertice or skillset to do it faultlessly. Proposed Change =============== Enhance firewall group to dynamically selecting the Neutron ports to which firewall rules apply. This can be achieved by introducing the concept of dynamic rules. Each dynamic rule defines a way to qeury the matching Neutron ports based on high-level criteria (i.e. the VM's name or tag). Each firewall group can reference zero, one or multiple dynamic rules. If a firewall group has more than one dynamic rules, the relationship between the set of dynamic rules can be specified. Firewall group that has dynamic rule(s) will watch for relevant events (i.e. port creation) and update the list of Neutron ports based on the defined matching rules. Firewall group that has no dynamic rule will be processed as before. REST API Impact --------------- TBD Data Model Impact ----------------- TBD Security Impact --------------- TBD Notifications Impact -------------------- TBD Other End User Impact --------------------- TBD Performance Impact ------------------ TBD IPv6 Impact ----------- TBD Other Deployer Impact --------------------- TBD Developer Impact ---------------- TBD Community Impact ---------------- TBD Alternatives ------------ TBD Implementation ============== Assignee(s) ----------- * Hongbin Lu <hongbin.lu@huawei.com> Work Items ---------- * REST API * DB Schema * CLI update Dependencies ============ TBD Testing ======= Tempest Tests -------------- * DB mixin and schema tests * FWaaS Plugin with mocked driver end-to-end tests * Tempest tests * CLI tests Functional Tests ---------------- * New tests need to be written API Tests --------- * REST API and attributes validation tests Documentation Impact ==================== User Documentation ------------------- * Neutron CLI and FWaaS API documentation have to be modified. Developer Documentation ----------------------- * neutron-fwaas repo will have a devref and documentation will be written. References ========== TBD",,179,0
openstack%2Fneutron-specs~master~Ic0e72969645be5f56a5405302828290d071388c1,openstack/neutron-specs,master,Ic0e72969645be5f56a5405302828290d071388c1,Fwaas: introduce action 'redirect',ABANDONED,2018-09-06 22:23:45.000000000,2019-11-14 10:10:54.000000000,,"[{'_account_id': 4694}, {'_account_id': 6995}, {'_account_id': 10850}, {'_account_id': 15309}, {'_account_id': 15471}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 28373}]","[{'number': 1, 'created': '2018-09-06 22:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fa662fef4c5ac80b54c883ca588533f36cf9b6f0', 'message': ""[WIP] Fwaas: introduce action 'redirect'\n\nChange-Id: Ic0e72969645be5f56a5405302828290d071388c1\nImplements: blueprint fwaas-2.0-redirect-action\n""}, {'number': 2, 'created': '2018-09-07 20:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/078ce3d8140cd6edfeb4dcdff57ff1fceb6eb4e9', 'message': ""[WIP] Fwaas: introduce action 'redirect'\n\nChange-Id: Ic0e72969645be5f56a5405302828290d071388c1\nImplements: blueprint fwaas-2.0-redirect-action\n""}, {'number': 3, 'created': '2018-10-26 22:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/78bc37094bdb9981a623c0e20cd2c62cb209692e', 'message': ""Fwaas: introduce action 'redirect'\n\nChange-Id: Ic0e72969645be5f56a5405302828290d071388c1\nImplements: blueprint fwaas-2.0-redirect-action\n""}, {'number': 4, 'created': '2018-10-26 22:52:35.000000000', 'files': ['specs/stein/fwaas-2.0-redirect-action.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b6caa67fd7aab267b68217ec4a4f657d4f31c082', 'message': ""Fwaas: introduce action 'redirect'\n\nChange-Id: Ic0e72969645be5f56a5405302828290d071388c1\nImplements: blueprint fwaas-2.0-redirect-action\n""}]",14,600563,b6caa67fd7aab267b68217ec4a4f657d4f31c082,14,8,4,27654,,,0,"Fwaas: introduce action 'redirect'

Change-Id: Ic0e72969645be5f56a5405302828290d071388c1
Implements: blueprint fwaas-2.0-redirect-action
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/63/600563/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/fwaas-2.0-redirect-action.rst'],1,fa662fef4c5ac80b54c883ca588533f36cf9b6f0,bp/fwaas-2,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================================== Firewall as a Service API 2.0 Redirect Action Support ===================================================== **Launchpad blueprint:** | https://blueprints.launchpad.net/neutron/+spec/fwaas-2.0-redirect-action This spec introduces an enhancement to Firewall as a Service (FWaaS) API 2.0 for supporting traffic redirection. When a firewall group is associated with a specific Neutron port, the firewall rule's action determine how to process the matching packets that go through the Neutron port. Right now, the supported actions are ``ALLOW``, ``DENY`` and ``REJECT``. This spec introduces a new action called ``REDIRECT``. Problem Description =================== Firewall as a service provides an API standard where each cloud provider can implement to provide firewall service for their clouds. However, the firewall as a service API might not be able to cover all the use cases or offer all advanced security features. For example, the enforcement provided by firewall rule is primarily based on layer 2 to layer 4, and the offering of application-level security that is up to layer 7 is somehow limited. The required security features that are not provided by the firewall as a service API will need to be augmented by third-party security services. Proposed Change =============== This spec proposes to extend the firewall as a service API to give users ability to redirect traffic to a specified destination that could be a third-party security services deployed on the cloud. In particular, we introduces a new action ``REDIRECT`` to the firewall rule. Packets that matches the firewall rules with ``REDIRECT`` as action will be redirected. REST API Impact --------------- Firewall rules ~~~~~~~~~~~~~~ Add a new action ``REDIRECT``. | **Firewall Rules** +------------------------+------------+-----+------+---------------------------------------+ | Attribute | Type | Req | CRUD | Description | +========================+============+=====+======+=======================================+ | id | uuid-str | N/A | R | Unique identifier for the firewall | | | | | | rule object. | +------------------------+------------+-----+------+---------------------------------------+ | project_id | uuid-str | Yes | CR | Owner of the firewall rule. Only | | | | | | admin users can specify a project | | | | | | identifier other than their own. | +------------------------+------------+-----+------+---------------------------------------+ | name | String | No | CRU | Human readable name for the firewall | | | | | | rule (255 characters limit). Does | | | | | | not have to be unique. | +------------------------+------------+-----+------+---------------------------------------+ | description | String | No | CRU | Human readable description for the | | | | | | firewall Rule (255 characters limit). | +------------------------+------------+-----+------+---------------------------------------+ | public | Bool | No | CRU | When set to True makes this firewall | | | | | | rule visible to projects other than | | | | | | its owner, and can be used in | | | | | | firewall policies not owned by its | | | | | | project. | +------------------------+------------+-----+------+---------------------------------------+ | protocol | String | No | CRU | IP Protocol. | +------------------------+------------+-----+------+---------------------------------------+ | source_port | port-range | No | CRU | Source port number or a range (an | | | | | | int in [1, 65535] or range in a:b). | +------------------------+------------+-----+------+---------------------------------------+ | destination_port | port-range | No | CRU | Destination port number or a range ( | | | | | | an int in [1, 65535] or range in a:b).| +------------------------+------------+-----+------+---------------------------------------+ | service_group_id | uuid-str | No | CRU | UUID of the service group [6]. | +------------------------+------------+-----+------+---------------------------------------+ | ip_version | Integer | No | CRU | IP Protocol Version. | +------------------------+------------+-----+------+---------------------------------------+ | source_ip_address | String | No | CRU | Source IP address or CIDR. | +------------------------+------------+-----+------+---------------------------------------+ | destination_ip_address | String | No | CRU | Destination IP address or CIDR. | +------------------------+------------+-----+------+---------------------------------------+ | source_address | uuid-str | No | CRU | When a source_address_group is | | _group_id | | | | specified, it is matched when the | | | | | | source IP address in the packet | | | | | | matches one of the IP addresses in | | | | | | the address group. | +------------------------+------------+-----+------+---------------------------------------+ | destination_address | uuid-str | No | CRU | When a destination_address_group is | | _group_id | | | | specified, it is matched when the | | | | | | destination IP address in the packet | | | | | | matches one of the IP addresses in the| | | | | | address group. | +------------------------+------------+-----+------+---------------------------------------+ | source_firewall_group | uuid-str | No | CRU | When a source_firewall_group is | | _id | | | | specified, it is matched when the | | | | | | source IP address in the packet | | | | | | matches an IP address of one of the | | | | | | ports in the firewall group. | +------------------------+------------+-----+------+---------------------------------------+ | destination_firewall | uuid-str | No | CRU | When a destination_firewall_group is | | _group_id | | | | specified, it is matched when the | | | | | | destination IP address in the packet | | | | | | matches an IP address of one of the | | | | | | ports in the firewall group. | +------------------------+------------+-----+------+---------------------------------------+ | action | String | No | CRU | Action to be performed on the | | | | | | traffic matching the rule (ALLOW, | | | | | | DENY, REJECT, REDIRECT). | | | | | | Default: DENY. | +------------------------+------------+-----+------+---------------------------------------+ | enabled | Bool | No | CRU | When set to False will disable this | | | | | | rule in the firewall policy. | | | | | | Facilitates selectively turning off | | | | | | rules without having to disassociate | | | | | | the rule from the firewall policy. | | | | | | Default: True. | +------------------------+------------+-----+------+---------------------------------------+ Data Model Impact ----------------- TBD Security Impact --------------- TBD Notifications Impact -------------------- TBD Other End User Impact --------------------- TBD Performance Impact ------------------ TBD IPv6 Impact ----------- TBD Other Deployer Impact --------------------- TBD Developer Impact ---------------- TBD Community Impact ---------------- TBD Alternatives ------------ TBD Implementation ============== Assignee(s) ----------- * Hongbin Lu <hongbin.lu@huawei.com> Work Items ---------- * REST API * DB Schema * CLI update Dependencies ============ TBD Testing ======= Tempest Tests -------------- * DB mixin and schema tests * FWaaS Plugin with mocked driver end-to-end tests * Tempest tests * CLI tests Functional Tests ---------------- * New tests need to be written API Tests --------- * REST API and attributes validation tests Documentation Impact ==================== User Documentation ------------------- * Neutron CLI and FWaaS API documentation have to be modified. * Documentation will be provided for users. Developer Documentation ----------------------- * neutron-fwaas repo will have a devref and documentation will be written. References ========== TBD ",,259,0
openstack%2Fcinder~master~Ia7c1cc17e8fe66295ff80ea744487f90f4f47382,openstack/cinder,master,Ia7c1cc17e8fe66295ff80ea744487f90f4f47382,Mark HPE 3PAR driver unsupported,ABANDONED,2019-09-04 13:42:14.000000000,2019-11-14 09:56:59.000000000,,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 28801}, {'_account_id': 29502}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-04 13:42:14.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'releasenotes/notes/hpe-3par-unsupported-f23c1df7624b7d82.yaml', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/96a8791d8d1ec15de3ed1f806d3018ddf196c78d', 'message': ""Mark HPE 3PAR driver unsupported\n\nThe HPE 3PAR driver has failed to demonstrate Pyton3.7\nsupport as was required during the Train release.  As\na result the driver is being marked unsupported and will\nbe removed in the 'U' release if support is not\ndemonstrated via 3rd Party CI.\n\nChange-Id: Ia7c1cc17e8fe66295ff80ea744487f90f4f47382\n""}]",0,679996,96a8791d8d1ec15de3ed1f806d3018ddf196c78d,54,38,1,7198,,,0,"Mark HPE 3PAR driver unsupported

The HPE 3PAR driver has failed to demonstrate Pyton3.7
support as was required during the Train release.  As
a result the driver is being marked unsupported and will
be removed in the 'U' release if support is not
demonstrated via 3rd Party CI.

Change-Id: Ia7c1cc17e8fe66295ff80ea744487f90f4f47382
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/679996/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'releasenotes/notes/hpe-3par-unsupported-f23c1df7624b7d82.yaml', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,96a8791d8d1ec15de3ed1f806d3018ddf196c78d,ci_unsupported, # TODO(jsbryant) Remove driver in the 'U' release due to no py37 support. SUPPORTED = False ,,19,1
openstack%2Fcinder~master~I97d5ef06e8d80f463bfc4e393ed0e55cddf9a1c1,openstack/cinder,master,I97d5ef06e8d80f463bfc4e393ed0e55cddf9a1c1,Mark Synology Driver Unsupported,ABANDONED,2019-08-05 16:37:28.000000000,2019-11-14 09:56:30.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28322}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-08-05 16:37:28.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/synology/synology_iscsi.py', 'releasenotes/notes/synology-unsupported-807c15ea908622d5.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fd4f82ab15e114e73363c470042e13a61d79bde', 'message': ""Mark Synology Driver Unsupported\n\nThe Synology Driver 3rd Party CI hasn't\nreported in over 100 days.  This does not meet the requirements\nfor Cinder's 3rd Party CI requirements.\n\nAs a result the driver is being marked unsupported in the\nTrain release and should be removed in the 'U' release if\nthe problems are not resolved.\n\nChange-Id: I97d5ef06e8d80f463bfc4e393ed0e55cddf9a1c1\n""}]",0,674650,8fd4f82ab15e114e73363c470042e13a61d79bde,40,31,1,7198,,,0,"Mark Synology Driver Unsupported

The Synology Driver 3rd Party CI hasn't
reported in over 100 days.  This does not meet the requirements
for Cinder's 3rd Party CI requirements.

As a result the driver is being marked unsupported in the
Train release and should be removed in the 'U' release if
the problems are not resolved.

Change-Id: I97d5ef06e8d80f463bfc4e393ed0e55cddf9a1c1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/674650/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/synology/synology_iscsi.py', 'releasenotes/notes/synology-unsupported-807c15ea908622d5.yaml']",3,8fd4f82ab15e114e73363c470042e13a61d79bde,ci_unsupported,"--- upgrade: - | The Synology driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. deprecations: - | The Synology driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. If its support status does not change, it will be removed in the 'U' development cycle. ",,18,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I5730fb2e23775f1d666276b6b4d46bcb550fc928,openstack/python-tripleoclient,stable/train,I5730fb2e23775f1d666276b6b4d46bcb550fc928,Get rid of Mistral for listing validations,MERGED,2019-11-12 08:49:33.000000000,2019-11-14 09:43:03.000000000,2019-11-13 10:35:08.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-12 08:49:33.000000000', 'files': ['tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/get_rid_of_mistral_for_listing_validations-1e9dedf33675f1d6.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/97d1e93d4b1274df1649af1df5b20b703beba2ed', 'message': 'Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster:\n- ~6s with Mistral\n- ~1.3s w/o Mistral\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 746b97f19a67989f200365fa9ffc3df569091f2f)\n'}]",0,693785,97d1e93d4b1274df1649af1df5b20b703beba2ed,11,9,1,11491,,,0,"Get rid of Mistral for listing validations

Until now, we were using Mistral to get all the validations available on
the Undercloud. This patch drops the Mistral support for the validations
listing through the CLI and will parse them directly on the filesystem
instead of parsing from the *tripleo-validations* Swift container.

This change makes the CLI faster:
- ~6s with Mistral
- ~1.3s w/o Mistral

Change-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 746b97f19a67989f200365fa9ffc3df569091f2f)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/693785/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/get_rid_of_mistral_for_listing_validations-1e9dedf33675f1d6.yaml']",6,97d1e93d4b1274df1649af1df5b20b703beba2ed,mistral-removal-train,"--- deprecations: - | The TripleO Validator was using Mistral to get all the Validations available on the Undercloud. From now, The CLI is parsing the Validations directly from the filesystem and the Mistral support has been removed. ",,84,65
openstack%2Ftripleo-validations~master~I56b9d39c113cfb30695fe8cf2740ae147b0dd3e4,openstack/tripleo-validations,master,I56b9d39c113cfb30695fe8cf2740ae147b0dd3e4,Add groups.yaml containing Validation Groups definition,MERGED,2019-11-13 09:06:12.000000000,2019-11-14 09:36:10.000000000,2019-11-14 09:31:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-13 09:06:12.000000000', 'files': ['groups.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6df86cdffe3d92b493926140076686c6352c432c', 'message': 'Add groups.yaml containing Validation Groups definition\n\nThis file will be the source of reference for all the groups used by\ntripleo-Validations. It will be deployed next to the playbooks/roles[1]\nin order to parsed by the TripleO Validator CLI and its new\nsubcommand[2].\n\nIt will also be the reference for the tripleo-validations documentation\nand will be automated in a follow up patch.\n\n[1] - /usr/share/openstack-tripleo-validations/groups.yaml\n[2] - openstack tripleo validator group list\n\nChange-Id: I56b9d39c113cfb30695fe8cf2740ae147b0dd3e4\n'}]",0,694014,6df86cdffe3d92b493926140076686c6352c432c,9,6,1,11491,,,0,"Add groups.yaml containing Validation Groups definition

This file will be the source of reference for all the groups used by
tripleo-Validations. It will be deployed next to the playbooks/roles[1]
in order to parsed by the TripleO Validator CLI and its new
subcommand[2].

It will also be the reference for the tripleo-validations documentation
and will be automated in a follow up patch.

[1] - /usr/share/openstack-tripleo-validations/groups.yaml
[2] - openstack tripleo validator group list

Change-Id: I56b9d39c113cfb30695fe8cf2740ae147b0dd3e4
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/14/694014/1 && git format-patch -1 --stdout FETCH_HEAD,"['groups.yaml', 'setup.cfg']",2,6df86cdffe3d92b493926140076686c6352c432c,, share/openstack-tripleo-validations/ = groups.yaml,,35,0
openstack%2Ftripleo-ci~master~I568e62e5841c8aefe6ece2671f76034ea42ec2e9,openstack/tripleo-ci,master,I568e62e5841c8aefe6ece2671f76034ea42ec2e9,Add healthchecks to container builds,MERGED,2019-11-13 17:57:39.000000000,2019-11-14 09:31:45.000000000,2019-11-14 09:31:45.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 17:57:39.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4ecf1a358e8ba80360cf57073e3bf74df63e3dfd', 'message': 'Add healthchecks to container builds\n\nChange-Id: I568e62e5841c8aefe6ece2671f76034ea42ec2e9\n'}]",0,694122,4ecf1a358e8ba80360cf57073e3bf74df63e3dfd,13,7,1,14985,,,0,"Add healthchecks to container builds

Change-Id: I568e62e5841c8aefe6ece2671f76034ea42ec2e9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/22/694122/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,4ecf1a358e8ba80360cf57073e3bf74df63e3dfd,build-healthchecks, - ^healthcheck/.*$,,1,0
openstack%2Ftripleo-common~master~I91d9b930f5c85646530b6a847dde57ed978acdf1,openstack/tripleo-common,master,I91d9b930f5c85646530b6a847dde57ed978acdf1,Limited retry until we no longer have collisions,ABANDONED,2019-11-04 09:11:44.000000000,2019-11-14 09:31:05.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-04 09:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/72f061830d617def20c63d6190fac009886c4b58', 'message': 'Limited retry until we no longer have collisions\n\nIn MP image uploader workers mode, some workers may end up as\ndefuncts leaving their locks on layers for ever.\n\nCreate a circuit breaker by limiting retries on locking busy\nlayers long enough to allow them normally being downloaded.\n\nChange-Id: I91d9b930f5c85646530b6a847dde57ed978acdf1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-11-04 10:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b4a468b56a52dd2e60b946fe7bf1081438f110fb', 'message': 'Limited retry until we no longer have collisions\n\nIn MP image uploader workers mode, some workers may end up as\ndefuncts leaving their locks on layers for ever.\n\nCreate a circuit breaker by limiting retries on locking busy\nlayers long enough to allow them normally being downloaded.\n\nChange-Id: I91d9b930f5c85646530b6a847dde57ed978acdf1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-11-07 16:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d0c2503feb195bb3a4e25f84f670e3c4a5e3a51e', 'message': 'Limited retry until we no longer have collisions\n\nIn MP image uploader workers mode, some workers may end up as\ndefuncts leaving their locks on layers for ever.\n\nCreate a circuit breaker by limiting retries on locking busy\nlayers long enough to allow them normally being downloaded.\n\nChange-Id: I91d9b930f5c85646530b6a847dde57ed978acdf1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-11-12 09:21:24.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/86a5816bc0b6695f2ddcf1b154b3fcfb1094a4a3', 'message': 'Limited retry until we no longer have collisions\n\nIn MP image uploader workers mode, some workers may end up as\ndefuncts leaving their locks on layers for ever.\n\nCreate a circuit breaker by limiting retries on locking busy\nlayers long enough to allow them normally being downloaded.\n\nChange-Id: I91d9b930f5c85646530b6a847dde57ed978acdf1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,692777,86a5816bc0b6695f2ddcf1b154b3fcfb1094a4a3,17,5,4,6926,,,0,"Limited retry until we no longer have collisions

In MP image uploader workers mode, some workers may end up as
defuncts leaving their locks on layers for ever.

Create a circuit breaker by limiting retries on locking busy
layers long enough to allow them normally being downloaded.

Change-Id: I91d9b930f5c85646530b6a847dde57ed978acdf1
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/692777/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,72f061830d617def20c63d6190fac009886c4b58,bug/1844446," @tenacity.retry( # Limited retry until we no longer have collisions wait=tenacity.wait_random_exponential(multiplier=2, max=360), stop=tenacity.stop_after_attempt(10)"," @tenacity.retry( # Retry until we no longer have collisions wait=tenacity.wait_random_exponential(multiplier=1, max=10)",3,2
openstack%2Fnova-specs~master~Id0b7927d6a6cd4a3a41b44f1de160ea117e0cfbc,openstack/nova-specs,master,Id0b7927d6a6cd4a3a41b44f1de160ea117e0cfbc,Re-propose expose-auto-converge-post-copy spec for Ussuri,ABANDONED,2019-10-08 02:43:33.000000000,2019-11-14 09:12:02.000000000,,"[{'_account_id': 5754}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 9555}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27614}]","[{'number': 1, 'created': '2019-10-08 02:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bdcd3af71593e72e343615ac3846c1e8fcd794d8', 'message': 'Re-propose expose-auto-converge-post-copy spec for Ussuri\n\nNo changes from Train version except History.\n\nChange-Id: Id0b7927d6a6cd4a3a41b44f1de160ea117e0cfbc\nPreviously-approved: Train\nBlueprint: expose-auto-converge-post-copy\n'}, {'number': 2, 'created': '2019-11-05 12:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/606f9550052f22aa26c573e78bc7061b308cf7b1', 'message': 'Re-propose expose-auto-converge-post-copy spec for Ussuri\n\nNo changes from Train version except History.\n\nChange-Id: Id0b7927d6a6cd4a3a41b44f1de160ea117e0cfbc\nPreviously-approved: Train\nBlueprint: expose-auto-converge-post-copy\n'}, {'number': 3, 'created': '2019-11-07 15:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/81c231c8d755757276e683c6350408dfc5af3f9e', 'message': 'Re-propose expose-auto-converge-post-copy spec for Ussuri\n\nChange the problem description and use case.\n\nChange-Id: Id0b7927d6a6cd4a3a41b44f1de160ea117e0cfbc\nPreviously-approved: Train\nBlueprint: expose-auto-converge-post-copy\n'}, {'number': 4, 'created': '2019-11-08 01:23:31.000000000', 'files': ['specs/ussuri/approved/expose-auto-converge-post-copy.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/79b2c4d17ebc2b7dc0117e70027f133adbd2edc5', 'message': 'Re-propose expose-auto-converge-post-copy spec for Ussuri\n\nChange the problem description and use case.\nAdd a new alternatives.\n\nChange-Id: Id0b7927d6a6cd4a3a41b44f1de160ea117e0cfbc\nPreviously-approved: Train\nBlueprint: expose-auto-converge-post-copy\n'}]",2,687199,79b2c4d17ebc2b7dc0117e70027f133adbd2edc5,12,9,4,27614,,,0,"Re-propose expose-auto-converge-post-copy spec for Ussuri

Change the problem description and use case.
Add a new alternatives.

Change-Id: Id0b7927d6a6cd4a3a41b44f1de160ea117e0cfbc
Previously-approved: Train
Blueprint: expose-auto-converge-post-copy
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/99/687199/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/expose-auto-converge-post-copy.rst'],1,bdcd3af71593e72e343615ac3846c1e8fcd794d8,bp/expose-auto-converge-post-copy,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Expose auto converge and post copy ================================== https://blueprints.launchpad.net/nova/+spec/expose-auto-converge-post-copy Problem description =================== Currently auto converge and post copy can only be enabled/disabled via configuration, which is somewhat inflexible. If an application sensitive to reduced performance (some scientific computing applications may be more sensitive to memory access latency) is on a host with these options enabled, live migration may cause the application to raise an error. Therefore, the user wants to control whether to enable/disable auto converge or post copy during live migration. Use Cases --------- * Some applications do not want increased risk of being rebooted due to a network failure or memory page access failure during post-copy live-migration. * Some applications are performance sensitive (such as some scientific computing applications); such applications do not want performance throttled back by the auto-converge feature during live-migration. * Some applications would like to avoid reboot risk and performance throttling. If the network between two compute nodes is interrupted during post-copy live-migration, the live-migration will fail and the user will need to reset the instance to make it available. Therefore such applications do not want use both features during live-migration. * For the above problems, the operator wants to control whether a single instance enables auto converge or post copy during live migration. But currently the minimum unit that can be controlled is the compute node. Proposed change =============== Support for auto converge and post copy requires QEMU version >= 2.5.0. Since the Rocky release, the minimum required version of QEMU is 2.5.0 [1]_. Therefore, all compute nodes using the libvirt driver should support these features. There are flags from the libvirt ``virDomainMigrateFlags`` enum [2]_:: ... VIR_MIGRATE_AUTO_CONVERGE = 8192 VIR_MIGRATE_POSTCOPY = 32768 ... The configurations ``live_migration_permit_auto_converge`` and ``live_migration_permit_post_copy`` can only affect the hypervisor by modifying the configuration, but traits can affect a single instance. In order to request the feature (scheduling an instance to nodes that provide the feature) we propose defining two new traits. The traits are reported by the libvirt driver, regardless of the conf: * ``COMPUTE_MIGRATE_AUTO_CONVERGE`` * ``COMPUTE_MIGRATE_POST_COPY`` Introduce two new flavor extra specs: * ``compute:live_migration_auto_converge=true/false`` * ``compute:live_migration_post_copy=true/false`` And introduce two new image properties: * ``compute_live_migration_auto_converge=true/false`` * ``compute_live_migration_post_copy=true/false`` Use these properties, instead of asking the operator to set ``required``/``forbidden`` on the traits. Before calling placement, when ``compute:live_migration_auto_converge=true`` or ``compute:live_migration_post_copy=true``, we add required traits for the corresponding feature to the placement request. When ``compute:live_migration_auto_converge=false`` and ``compute:live_migration_post_copy=false``, we just add nothing to the placement request. Thus we still can schedule an instance on a host with the features but we disable these two features for that instance. We use these keys in the scheduler to optionally add required traits to ensure that the instance can land on a host that is capable of the requested behavior. The libvirt driver will then interpret the values to decide whether to use the features during live migration. For example, if the flavor says ""false"": * We don't add the trait to the scheduling request, so the instance can land anywhere. * The driver will **not** use the feature for live-migrate, regardless of what the compute's config says. By default, when the operator creates an instance without any related metadata, the scheduler will not care whether the host supports auto-converge or post-copy. If the configurations ``live_migration_permit_auto_converge`` or ``live_migration_permit_post_copy`` are True, the libvirt driver will prefer to use auto-converge or post-copy. These can be used when the operator wants **all instances** on a given compute node to use auto-converge/post-copy. For example: * If an instance that has not requested related metadata is scheduled to a host that enabled ``live_migration_permit_auto_converge`` or ``live_migration_permit_post_copy``, then libvirt will try to use auto-converge or post-copy during live migration. If the operator creates instance with ``compute:live_migration_auto_converge`=true/false`` or ``compute:live_migration_post_copy=true/false``, these metadata will override the configurations: ``live_migration_permit_auto_converge`` or ``live_migration_permit_post_copy``. When ``compute:live_migration_auto_converge`` and ``compute_live_migration_post_copy`` are both true or flavor extra specs is in conflict with image properties, the 'create' API call will raise an exception. When using auto-converge during live migration, if the operator calls the force complete API, libvirt will not be converted to use post-copy because it's not required in flavor extra specs or image properties. According to this spec [3]_, if post-copy is enabled during live migration, the abort API call will be rejected by libvirt driver. Now we can reject the request in the API by checking ``hw_live_migration_permit_reboot_risk`` properties. Alternatives ------------ Another method is to use traits in flavor extra_specs/image properties. This could work well when the operators need auto-converge/post-copy. But it can't be used to disable auto-converge/post-copy. Since the Rocky release, all libvirt hypervisor hosts support auto-converge/post-copy, which means every libvirt hypervisor host would have traits ``COMPUTE_MIGRATE_AUTO_CONVERGE`` and ``COMPUTE_MIGRATE_POST_COPY``. If operators want to not use auto-converge or post-copy, they would use forbidden traits: ``traits:COMPUTE_MIGRATE_AUTO_CONVERGE=forbidden`` or ``traits:COMPUTE_MIGRATE_POST_COPY=forbidden``. Which means **don't** schedule my vm to the hosts who support auto-converge/post-copy, as the above says, this means that all libvirt compute nodes will be ignored. The result will be that the vm creation failed because the compute node can't be scheduled. Data model impact ----------------- Add the two image properties to the ImageMeta object: * compute_live_migration_auto_converge * compute_live_migration_post_copy The ImageMeta is stored in table instance_system_metadata, no schema modification is needed. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Ya Wang Work Items ---------- * Support for new placement traits. * Libvirt driver changes to report traits to placement, the traits will be reported by the libvirt driver as part of ``update_provider_tree``. This will *not* be added to the generic compute capabilities dict inherited by all the virt drivers because these traits are libvirt-specific. * Scheduler changes to translate metadata to traits. * Recalculate ``_live_migration_flags`` before live migration start in the libvirt driver. * Add functional tests and unit tests. Dependencies ============ None Testing ======= Unit tests and functional tests will be included to test the new functionality. Documentation Impact ==================== * The live migration document should be changed to introduce this new feature. References ========== .. [1] https://wiki.openstack.org/wiki/LibvirtDistroSupportMatrix .. [2] https://libvirt.org/html/libvirt-libvirt-domain.html#virDomainMigrateFlags .. [3] https://specs.openstack.org/openstack/nova-specs/specs/newton/implemented/auto-live-migration-completion.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced * - Ussuri - Re-proposed",,263,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Idf534e50d3a1ec879c340996ac225c80f4b52d3f,openstack/tripleo-ansible,stable/train,Idf534e50d3a1ec879c340996ac225c80f4b52d3f,Prefer ovn_dbs_vip from all_nodes_extra_map_data,MERGED,2019-11-13 01:41:58.000000000,2019-11-14 09:09:28.000000000,2019-11-14 09:09:27.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 01:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76509d8d0dda91ca0eba2682252588447dbcf368', 'message': 'Prefer ovn_dbs_vip from all_nodes_extra_map_data\n\nWhen all_nodes_extra_map_data includes a value for ovn_dbs_vip that\nvalue should be preferred over any other. This fixes an issue in the\nmulti-stack case where the dependent stacks were using the wrong value\nfor the ovn vip.\n\nChange-Id: Idf534e50d3a1ec879c340996ac225c80f4b52d3f\n(cherry picked from commit a610cb132a5cea069fa54063e7de97fb25add8c2)\n'}, {'number': 2, 'created': '2019-11-13 20:18:38.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c76b58e7f1f525bc64e93726b213cec667a184b', 'message': 'Prefer ovn_dbs_vip from all_nodes_extra_map_data\n\nWhen all_nodes_extra_map_data includes a value for ovn_dbs_vip that\nvalue should be preferred over any other. This fixes an issue in the\nmulti-stack case where the dependent stacks were using the wrong value\nfor the ovn vip.\n\nChange-Id: Idf534e50d3a1ec879c340996ac225c80f4b52d3f\n(cherry picked from commit a610cb132a5cea069fa54063e7de97fb25add8c2)\n'}]",0,693958,0c76b58e7f1f525bc64e93726b213cec667a184b,16,4,2,7144,,,0,"Prefer ovn_dbs_vip from all_nodes_extra_map_data

When all_nodes_extra_map_data includes a value for ovn_dbs_vip that
value should be preferred over any other. This fixes an issue in the
multi-stack case where the dependent stacks were using the wrong value
for the ovn vip.

Change-Id: Idf534e50d3a1ec879c340996ac225c80f4b52d3f
(cherry picked from commit a610cb132a5cea069fa54063e7de97fb25add8c2)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/693958/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'],1,76509d8d0dda91ca0eba2682252588447dbcf368,,"{% if 'redis' in all_enabled_services %}{% if 'ovn_dbs' in all_enabled_services %} {% if 'ovn_dbs_vip' in all_nodes_extra_map_data %} {% set _ = all_nodes.__setitem__('ovn_dbs_vip', all_nodes_extra_map_data['ovn_dbs_vip']) %} {% elif net_vip_map.ovn_dbs is defined %} {% set _ = all_nodes.__setitem__('ovn_dbs_vip', (net_vip_map.ovn_dbs)) %} {% endif %}","{% if 'redis' in enabled_services %}{% if 'ovn_dbs' in enabled_services and net_vip_map.ovn_dbs is defined %} {% set _ = all_nodes.__setitem__('ovn_dbs_vip', (net_vip_map.ovn_dbs)) %}",7,3
openstack%2Fironic~master~Ie35a45e0806f9da07d121900831c6a61e33d23e5,openstack/ironic,master,Ie35a45e0806f9da07d121900831c6a61e33d23e5,Fix variable name in cleanup_baremetal_basic_ops func,MERGED,2019-11-13 17:08:15.000000000,2019-11-14 09:07:11.000000000,2019-11-14 06:13:37.000000000,"[{'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-13 17:08:15.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f8c4f7b1e4b8c7c177ccb45f4f0d8acba1821279', 'message': 'Fix variable name in cleanup_baremetal_basic_ops func\n\nCorrecting the variable name for virtual bmc instances during\ndevstack unstack ironic cleanup phase.\n\nChange-Id: Ie35a45e0806f9da07d121900831c6a61e33d23e5\n'}]",0,694116,f8c4f7b1e4b8c7c177ccb45f4f0d8acba1821279,11,5,1,23851,,,0,"Fix variable name in cleanup_baremetal_basic_ops func

Correcting the variable name for virtual bmc instances during
devstack unstack ironic cleanup phase.

Change-Id: Ie35a45e0806f9da07d121900831c6a61e33d23e5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/694116/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,f8c4f7b1e4b8c7c177ccb45f4f0d8acba1821279,cleanup-bm-ops-fix, vbmc --no-daemon list | grep -a $vm_name && vbmc --no-daemon delete $vm_name || /bin/true, vbmc --no-daemon list | grep -a $NAME && vbmc --no-daemon delete $NAME || /bin/true,1,1
openstack%2Frequirements~master~Iaf759b183e6821bf6690195586e7e65bf0533c82,openstack/requirements,master,Iaf759b183e6821bf6690195586e7e65bf0533c82,Requirements-check: use local repo like any other library,MERGED,2019-11-13 04:23:21.000000000,2019-11-14 08:51:41.000000000,2019-11-14 08:49:47.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 04:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0048c7dddf6248cca9b8742b43485a2a76b58451', 'message': 'Requirements-check: Just use openstack_rquirements like any other library\n\nChange-Id: Iaf759b183e6821bf6690195586e7e65bf0533c82\n'}, {'number': 2, 'created': '2019-11-13 16:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bbe38be45ff22c630a62941aaa16a40ae10da5e5', 'message': 'Requirements-check: Just use openstack_rquirements like any other library\n\nChange-Id: Iaf759b183e6821bf6690195586e7e65bf0533c82\n'}, {'number': 3, 'created': '2019-11-13 16:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/363823b3ca0533074f27541fa5f8a0a1ba24690a', 'message': 'Requirements-check: Just use openstack_requirements like any other library\n\nChange-Id: Iaf759b183e6821bf6690195586e7e65bf0533c82\n'}, {'number': 4, 'created': '2019-11-13 19:08:20.000000000', 'files': ['playbooks/requirements-check.yaml', 'playbooks/files/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/af94ab84790e73a86333c4c6fa778827851d720c', 'message': 'Requirements-check: use local repo like any other library\n\nThis ensures the playbook has done a local install of the repo so the\nscript run can assume that it is installed and can be loaded without\nadditional handling.\n\nChange-Id: Iaf759b183e6821bf6690195586e7e65bf0533c82\n'}]",0,693967,af94ab84790e73a86333c4c6fa778827851d720c,14,4,4,12898,,,0,"Requirements-check: use local repo like any other library

This ensures the playbook has done a local install of the repo so the
script run can assume that it is installed and can be loaded without
additional handling.

Change-Id: Iaf759b183e6821bf6690195586e7e65bf0533c82
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/693967/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/requirements-check.yaml', 'playbooks/files/project-requirements-change.py']",2,0048c7dddf6248cca9b8742b43485a2a76b58451,py3venv,from openstack_requirements import check # noqa from openstack_requirements import project # noqa from openstack_requirements import requirement # noqa,"requirement = None project = None check = Nonedef install_and_load_requirements(reqroot, reqdir): """"""This makes sure a virtualenv is used before attempting to import."""""" if os.environ.get('VIRTUAL_ENV') or hasattr(sys, 'real_prefix'): print('It looks like we are running from a virtualenv.') print('SKIPPING INSTALLATION') else: sha = run_command(""git --git-dir %s/.git rev-parse HEAD"" % reqdir)[0] print(""requirements git sha: %s"" % sha) version = sys.version_info req_venv = os.path.join(reqroot, 'venv') req_pip = os.path.join(req_venv, 'bin/pip3') req_lib = os.path.join( req_venv, 'lib/python%s.%s/site-packages' % (version[0], version[1])) _, _ = run_command(""virtualenv "" + req_venv) _, _ = run_command(req_pip + "" install "" + reqdir) sys.path.append(req_lib) global check global project global requirement from openstack_requirements import check # noqa from openstack_requirements import project # noqa from openstack_requirements import requirement # noqa install_and_load_requirements(reqroot, reqdir)",6,28
openstack%2Fcinder~master~I3dbd21981a67bedb389ce12ac083c501073e846a,openstack/cinder,master,I3dbd21981a67bedb389ce12ac083c501073e846a,Change the RPC parameter,MERGED,2019-06-18 06:39:19.000000000,2019-11-14 08:38:37.000000000,2019-11-14 08:36:44.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 28471}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-06-18 06:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17d5f01afe99ad1dcf51f778b6ff6d2dad26ede6', 'message': 'Change volume_host to backup_host in backup rpcapi\n\nThe arg name in restore_backup of backup rpcapi is volume_host, but\nactually we use backup.host. This is very easy to misunderstand.\nAlso, modify the host to the same host is not necessary.\n\nChange-Id: I3dbd21981a67bedb389ce12ac083c501073e846a\n'}, {'number': 2, 'created': '2019-07-24 08:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/140f4d2cdcf921b9b42cd35dcf7663ec7d8faaeb', 'message': 'Change volume_host to backup_host in backup rpcapi\n\nThe arg name in restore_backup of backup rpcapi is volume_host, but\nactually we use backup.host. This is very easy to misunderstand.\nAlso, modify the host to the same host is not necessary.\n\nChange-Id: I3dbd21981a67bedb389ce12ac083c501073e846a\n'}, {'number': 3, 'created': '2019-07-24 08:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47f03099e71dc5aea2bc42e002b7aba65ae76ba0', 'message': 'Change volume_host to backup_host in backup rpcapi\n\nThe arg name in restore_backup of backup rpcapi is volume_host, but\nactually we use backup.host. This is very easy to misunderstand.\nAlso, modify the host to the same host is not necessary.\n\nChange-Id: I3dbd21981a67bedb389ce12ac083c501073e846a\n'}, {'number': 4, 'created': '2019-11-08 01:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/98b08f831b5873d2951feba141bbc2804387cd31', 'message': 'Change volume_host to backup_host in backup rpcapi\n\nThe arg name in restore_backup of backup rpcapi is volume_host, but\nactually we use backup.host. This is very easy to misunderstand.\nAlso, modify the host to the same host is not necessary.\n\nChange-Id: I3dbd21981a67bedb389ce12ac083c501073e846a\n'}, {'number': 5, 'created': '2019-11-12 08:58:27.000000000', 'files': ['cinder/backup/rpcapi.py', 'cinder/tests/unit/backup/test_rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/59ed2b400da3c12be85c6e1b2ee575c9b69c03af', 'message': 'Change the RPC parameter\n\nThe arg name in restore_backup of backup rpcapi is volume_host, but\nactually we use backup.host. This is very easy to misunderstand, so\njust change it to backup_host.\n\nChange-Id: I3dbd21981a67bedb389ce12ac083c501073e846a\n'}]",6,665878,59ed2b400da3c12be85c6e1b2ee575c9b69c03af,115,43,5,25837,,,0,"Change the RPC parameter

The arg name in restore_backup of backup rpcapi is volume_host, but
actually we use backup.host. This is very easy to misunderstand, so
just change it to backup_host.

Change-Id: I3dbd21981a67bedb389ce12ac083c501073e846a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/665878/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'cinder/backup/rpcapi.py']",2,17d5f01afe99ad1dcf51f778b6ff6d2dad26ede6,fix_restore_arg_error," def restore_backup(self, ctxt, backup_host, backup, volume_id): cctxt = self._get_cctxt(server=backup_host)"," def restore_backup(self, ctxt, volume_host, backup, volume_id): cctxt = self._get_cctxt(server=volume_host)",2,5
openstack%2Freleases~master~If0cee083044d05d0d929641789c43236f0fa11da,openstack/releases,master,If0cee083044d05d0d929641789c43236f0fa11da,Bugfix release for oslo.utils Train,ABANDONED,2019-11-13 12:54:01.000000000,2019-11-14 08:36:55.000000000,,"[{'_account_id': 6928}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-13 12:54:01.000000000', 'files': ['deliverables/train/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/afec6f15428f0bf804484bc727e79cf75ba1d210', 'message': 'Bugfix release for oslo.utils Train\n\nChange-Id: If0cee083044d05d0d929641789c43236f0fa11da\n'}]",0,694062,afec6f15428f0bf804484bc727e79cf75ba1d210,5,4,1,9712,,,0,"Bugfix release for oslo.utils Train

Change-Id: If0cee083044d05d0d929641789c43236f0fa11da
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/694062/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/oslo.utils.yaml'],1,afec6f15428f0bf804484bc727e79cf75ba1d210,bug/1850843, - version: 3.41.3 projects: - repo: openstack/oslo.utils hash: cae9aa72377713c2fc93b5cf3fad05b873a55d6d,,4,0
openstack%2Frequirements~master~I68f640b4ec843e946047f25c37c5277f09de28d4,openstack/requirements,master,I68f640b4ec843e946047f25c37c5277f09de28d4,Update constraints for amqp to new release 2.5.2,MERGED,2019-11-13 13:25:45.000000000,2019-11-14 08:31:10.000000000,2019-11-14 08:30:03.000000000,"[{'_account_id': 1736}, {'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 14288}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-13 13:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5541beeff01cafe23ec80e4c14d5bf128f3550e0', 'message': 'update constraints for amqp to new release 2.5.2\n\nChange-Id: I68f640b4ec843e946047f25c37c5277f09de28d4\n'}, {'number': 2, 'created': '2019-11-13 13:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5e71891976037fe36b8a4e7de8cd01a6992377c3', 'message': 'Update constraints for amqp to new release 2.5.2\n\nThis fixes a bug in amqp see this\n\nhttps://review.opendev.org/#/c/693704/\nhttps://bugs.launchpad.net/oslo.messaging/+bug/1852058\n\nChange-Id: I68f640b4ec843e946047f25c37c5277f09de28d4\n'}, {'number': 3, 'created': '2019-11-13 13:49:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/520cecfb71b39dfcf4630e5daba5beec8d2ced80', 'message': 'Update constraints for amqp to new release 2.5.2\n\nAlso update kombu to 4.6.6 that depends on amqp\n\nThis fixes a bug in amqp see this\n\nhttps://review.opendev.org/#/c/693704/\nhttps://bugs.launchpad.net/oslo.messaging/+bug/1852058\n\nChange-Id: I68f640b4ec843e946047f25c37c5277f09de28d4\n'}]",0,694068,520cecfb71b39dfcf4630e5daba5beec8d2ced80,14,8,3,19134,,,0,"Update constraints for amqp to new release 2.5.2

Also update kombu to 4.6.6 that depends on amqp

This fixes a bug in amqp see this

https://review.opendev.org/#/c/693704/
https://bugs.launchpad.net/oslo.messaging/+bug/1852058

Change-Id: I68f640b4ec843e946047f25c37c5277f09de28d4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/694068/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5541beeff01cafe23ec80e4c14d5bf128f3550e0,new_release,amqp===2.5.2,amqp===2.5.1,1,1
openstack%2Fnova~master~I9147c5ea6b276b4fe18a981f4360844009bd3d95,openstack/nova,master,I9147c5ea6b276b4fe18a981f4360844009bd3d95,Add image caching to the support matrix,MERGED,2019-10-23 21:05:36.000000000,2019-11-14 08:29:51.000000000,2019-11-14 08:29:50.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-23 21:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebe598437a4de97f49c534ce3ecc0ff26ed1d8e7', 'message': 'Add image caching to the support matrix\n\nAdd a section to the support matrix for image caching\n(``has_imagecache`` virt driver capability).\n\nChange-Id: I9147c5ea6b276b4fe18a981f4360844009bd3d95\nPartial-Bug: #1847302\n'}, {'number': 2, 'created': '2019-11-13 17:09:10.000000000', 'files': ['doc/source/admin/aggregates.rst', 'doc/source/admin/image-caching.rst', 'doc/source/user/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7c027db9abb847433df1dbe00d0e5fd9090c5c5', 'message': 'Add image caching to the support matrix\n\nAdd a section to the support matrix for image caching\n(``has_imagecache`` virt driver capability).\n\nChange-Id: I9147c5ea6b276b4fe18a981f4360844009bd3d95\nPartial-Bug: #1847302\n'}]",6,690748,f7c027db9abb847433df1dbe00d0e5fd9090c5c5,22,10,2,14070,,,0,"Add image caching to the support matrix

Add a section to the support matrix for image caching
(``has_imagecache`` virt driver capability).

Change-Id: I9147c5ea6b276b4fe18a981f4360844009bd3d95
Partial-Bug: #1847302
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/690748/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/aggregates.rst', 'doc/source/admin/image-caching.rst', 'doc/source/user/support-matrix.ini']",3,ebe598437a4de97f49c534ce3ecc0ff26ed1d8e7,bug/1847302, [operation.cache-images] title=Cache base images for faster instance boot status=optional notes=Drivers supporting this feature cache base images on the compute host so that subsequent boots need not incur the expense of downloading them. Partial support entails caching an image after the first boot that uses it. Complete support allows priming the cache so that the first boot also benefits. Image caching support is tunable via config options in the [image_cache] group. cli=openstack server create <usual server create parameters> driver.xenserver=missing driver.libvirt-kvm-x86=complete driver.libvirt-kvm-aarch64=complete driver.libvirt-kvm-ppc64=complete driver.libvirt-kvm-s390x=complete driver.libvirt-qemu-x86=complete driver.libvirt-lxc=unknown driver.libvirt-xen=complete driver.vmware=partial driver.hyperv=partial driver.ironic=missing driver.libvirt-vz-vm=complete driver.libvirt-vz-ct=complete driver.powervm=partial driver-notes.powervm=The PowerVM driver does image caching natively when using the SSP disk driver. It does not use the config options in the [image_cache] group. driver.zvm=missing,,34,3
openstack%2Fopenstack-zuul-jobs~master~Ice51281abbde0184c09491b9b634fa6d5bf042ad,openstack/openstack-zuul-jobs,master,Ice51281abbde0184c09491b9b634fa6d5bf042ad,Remove puppet-module-unit-jobs,MERGED,2019-11-02 08:03:13.000000000,2019-11-14 08:28:35.000000000,2019-11-14 08:26:30.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 08:03:13.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/puppet-unit-4.8-centos-7/run.yaml', 'playbooks/legacy/puppet-unit-latest-centos-7/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/16f799794d0eaf81243d51efb0d3e7e7ac195fa0', 'message': 'Remove puppet-module-unit-jobs\n\nThis is unused now and tests obsolete puppet versions, remove\njob-template and associated jobs.\n\nDepends-On: https://review.opendev.org/692639\nChange-Id: Ice51281abbde0184c09491b9b634fa6d5bf042ad\n'}]",0,692640,16f799794d0eaf81243d51efb0d3e7e7ac195fa0,10,4,1,6547,,,0,"Remove puppet-module-unit-jobs

This is unused now and tests obsolete puppet versions, remove
job-template and associated jobs.

Depends-On: https://review.opendev.org/692639
Change-Id: Ice51281abbde0184c09491b9b634fa6d5bf042ad
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/40/692640/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/puppet-unit-4.8-centos-7/run.yaml', 'playbooks/legacy/puppet-unit-latest-centos-7/run.yaml']",3,16f799794d0eaf81243d51efb0d3e7e7ac195fa0,puppet-module-unit-jobs,,"- hosts: all name: Autoconverted job legacy-puppet-unit-latest-centos-7 from old job gate-{name}-puppet-unit-latest-centos-7 roles: - bindep tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x CLONEMAP=`mktemp` function cleanup { # In cases where zuul-cloner is aborted during a git # clone operation, git will remove the git work tree in # its cleanup. The work tree in these jobs is the # workspace directory, which means that subsequent # jenkins post-build actions can not run because the # workspace has been removed. # To reduce the likelihood of this having an impact, # recreate the workspace directory if needed mkdir -p $WORKSPACE rm -f $CLONEMAP } trap cleanup EXIT cat > $CLONEMAP << EOF clonemap: - name: $ZUUL_PROJECT dest: . EOF /usr/zuul-env/bin/zuul-cloner -m $CLONEMAP --cache-dir /opt/git \ https://opendev.org $ZUUL_PROJECT executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x if [ -f /usr/bin/yum ]; then sudo yum -y remove rdo-release ""centos-release-openstack-*"" ""centos-release-ceph-*"" sudo yum -y install libxml2-devel libxslt-devel ruby-devel zlib-devel sudo yum -y groupinstall ""Development Tools"" # Uninstall python-requests from pip, since we install it in # system-config/install_puppet.sh sudo pip uninstall requests -y || true elif [ -f /usr/bin/apt-get ]; then sudo apt-get update sudo apt-get install -y libxml2-dev libxslt-dev ruby-dev zlib1g-dev fi executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -x sudo rm -f /etc/sudoers.d/zuul # Prove that general sudo access is actually revoked ! sudo -n true executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | if [ ""latest"" != ""latest"" ]; then export PUPPET_GEM_VERSION='~> latest.0' fi mkdir .bundled_gems export GEM_HOME=`pwd`/.bundled_gems gem install bundler --no-rdoc --no-ri --verbose $GEM_HOME/bin/bundle install --retry 3 $GEM_HOME/bin/bundle exec rake spec SPEC_OPTS='--format documentation' chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,206
openstack%2Fproject-config~master~I0bac132d35bc6b67da3dd176248c93d38fd2b0f5,openstack/project-config,master,I0bac132d35bc6b67da3dd176248c93d38fd2b0f5,Remove puppet-module-unit-jobs from puppet-n1k-vsm,MERGED,2019-11-02 08:01:56.000000000,2019-11-14 08:02:16.000000000,2019-11-14 08:02:16.000000000,"[{'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 11370}, {'_account_id': 11757}, {'_account_id': 13660}, {'_account_id': 14095}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-02 08:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f59de4ab86415107d838cb4c14f2c770370c59c0', 'message': 'Remove puppet-module-unit-jobs from puppet-n1k-vsm\n\nPuppet 4.8 is dead, this repo is the only user of the template.\nRemove template.\n\nThis allows us to remove the project-template and associated jobs.\n\nChange-Id: I0bac132d35bc6b67da3dd176248c93d38fd2b0f5\n'}, {'number': 2, 'created': '2019-11-02 08:03:34.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/52cc1a12908bd4176fc48626307fe73dde917bfe', 'message': 'Remove puppet-module-unit-jobs from puppet-n1k-vsm\n\nPuppet 4.8 is dead, this repo is the only user of the template.\nRemove template.\n\nThis allows us to remove the project-template and associated jobs.\n\nNeeded-By: https://review.opendev.org/692640\nChange-Id: I0bac132d35bc6b67da3dd176248c93d38fd2b0f5\n'}]",0,692639,52cc1a12908bd4176fc48626307fe73dde917bfe,10,10,2,6547,,,0,"Remove puppet-module-unit-jobs from puppet-n1k-vsm

Puppet 4.8 is dead, this repo is the only user of the template.
Remove template.

This allows us to remove the project-template and associated jobs.

Needed-By: https://review.opendev.org/692640
Change-Id: I0bac132d35bc6b67da3dd176248c93d38fd2b0f5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/692639/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,f59de4ab86415107d838cb4c14f2c770370c59c0,puppet-module-unit-jobs,, - puppet-module-unit-jobs,0,1
openstack%2Fopenstack-helm~master~I61379a5e00de4311c02c3f64cbe7c7345a9b3569,openstack/openstack-helm,master,I61379a5e00de4311c02c3f64cbe7c7345a9b3569,Neutron: Add support for disabling Readiness/Liveness probes,ABANDONED,2019-10-15 07:50:56.000000000,2019-11-14 07:29:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 29397}]","[{'number': 1, 'created': '2019-10-15 07:50:56.000000000', 'files': ['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/29eee9ffa6e4997965d11e5efd1005e2dc089843', 'message': 'Neutron: Add support for disabling Readiness/Liveness probes\n\nWith the introduction of Readiness/Liveness probes in\nIb99ceaabbad1d1e0faf34cc74314da9aa688fa0a, some probes are failing and\npreventing successful armada manifest applies.\n\nAdd support to disable the probes.\n\nChange-Id: I61379a5e00de4311c02c3f64cbe7c7345a9b3569\nSigned-off-by: Zhipeng Liu <zhipengs.liu@intel.com>\n'}]",1,688644,29eee9ffa6e4997965d11e5efd1005e2dc089843,4,2,1,28570,,,0,"Neutron: Add support for disabling Readiness/Liveness probes

With the introduction of Readiness/Liveness probes in
Ib99ceaabbad1d1e0faf34cc74314da9aa688fa0a, some probes are failing and
preventing successful armada manifest applies.

Add support to disable the probes.

Change-Id: I61379a5e00de4311c02c3f64cbe7c7345a9b3569
Signed-off-by: Zhipeng Liu <zhipengs.liu@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/44/688644/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'neutron/templates/daemonset-sriov-agent.yaml']",6,29eee9ffa6e4997965d11e5efd1005e2dc089843,upstream,{{- if .Values.pod.probes.sriov_agent.sriov_agent.readiness.enabled }}{{- end }} {{- if .Values.pod.probes.sriov_agent.sriov_agent.liveness.enabled }} {{- end }},,24,0
openstack%2Fironic-inspector~master~I8c415be1b7d3bc4042da5fbdafbea722bdd5509b,openstack/ironic-inspector,master,I8c415be1b7d3bc4042da5fbdafbea722bdd5509b,Switch legacy job to Py3,MERGED,2019-11-13 13:43:45.000000000,2019-11-14 06:45:55.000000000,2019-11-14 06:43:19.000000000,"[{'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 13:43:45.000000000', 'files': ['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/391877a084a7b202761c118776f2501f9ee943c9', 'message': ""Switch legacy job to Py3\n\nOur legacy job is running on py2.7, let's switch to py3 before dropping py2.7\n\nChange-Id: I8c415be1b7d3bc4042da5fbdafbea722bdd5509b\n""}]",0,694074,391877a084a7b202761c118776f2501f9ee943c9,13,6,1,15519,,,0,"Switch legacy job to Py3

Our legacy job is running on py2.7, let's switch to py3 before dropping py2.7

Change-Id: I8c415be1b7d3bc4042da5fbdafbea722bdd5509b
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/74/694074/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/ironic-inspector-grenade-dsvm/run.yaml'],1,391877a084a7b202761c118776f2501f9ee943c9,legacy_py3, export DEVSTACK_GATE_USE_PYTHON3=True,,1,0
openstack%2Ftripleo-quickstart~master~I795512db3b98f1cb400e297bf7b3e5f0c07aeb96,openstack/tripleo-quickstart,master,I795512db3b98f1cb400e297bf7b3e5f0c07aeb96,Enable ipv6 tempest tests with os_tempest,MERGED,2019-11-13 08:04:36.000000000,2019-11-14 06:40:31.000000000,2019-11-14 06:37:18.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 08:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6e5c0e7541a336962b9b39fcadecb3d0a1a1e666', 'message': 'Enable ipv6 tempest tests with os_tempest\n\nIn fs035, we do IPv6 deployment. Upstream tempest has added\nIPv6 related tempest tests. It enables the same and moves to\nos_tempest.\n\nChange-Id: I795512db3b98f1cb400e297bf7b3e5f0c07aeb96\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-11-13 08:22:10.000000000', 'files': ['config/general_config/featureset035.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/acb3af81e5687dfcb47cce1ac8a01716ee1c1d8c', 'message': 'Enable ipv6 tempest tests with os_tempest\n\nIn fs035, we do IPv6 deployment. Upstream tempest has added\nIPv6 related tempest tests as a part of train community goals[1.].\nIt enables the same and moves to os_tempest.\n\n[1.] https://governance.openstack.org/tc/goals/selected/train/ipv6-support-and-testing.html\n\nChange-Id: I795512db3b98f1cb400e297bf7b3e5f0c07aeb96\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,694000,acb3af81e5687dfcb47cce1ac8a01716ee1c1d8c,19,10,2,12393,,,0,"Enable ipv6 tempest tests with os_tempest

In fs035, we do IPv6 deployment. Upstream tempest has added
IPv6 related tempest tests as a part of train community goals[1.].
It enables the same and moves to os_tempest.

[1.] https://governance.openstack.org/tc/goals/selected/train/ipv6-support-and-testing.html

Change-Id: I795512db3b98f1cb400e297bf7b3e5f0c07aeb96
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/00/694000/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset035.yml'],1,6e5c0e7541a336962b9b39fcadecb3d0a1a1e666,ipv6_ostempest," # Settings for os_tempest run_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} false {%- else -%} true {%- endif -%} use_os_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} true {%- else -%} false {%- endif -%} tempest_test_whitelist: - 'test_network_v6' - 'ipv6' # It will create a public network name 'public' using os_tempest tempest_interface_name: public # In order to have a public network with external connectivity, we need to use # flat network type tempest_public_net_provider_type: flat # It is the physical network name through which public network will be created # having connectivity with external world. tempest_public_net_physical_name: datacentre # Setting the tempest_cidr as it is required while creating public subnet from which # floating IPs gets assigned tempest_cidr: '10.0.0.0/24' # In order to create a private network, fs01 is based on OVN, geneve should be used # as private network type tempest_private_net_provider_type: geneve tempest_private_net_seg_id: '' tempest_install_method: distro # Having tempest_network_ping_gateway set to true allows to ping any of the IP from # router to find out network related issue in the deployment early tempest_network_ping_gateway: true # It is the python-tempestconf profile which also consumes tempest-deployer-input file tempest_tempestconf_profile: debug: true create: true deployer-input: ""{{ ansible_user_dir }}/tempest-deployer-input.conf"" os-cloud: ""{{ tempest_cloud_name }}"" out: ""{{ tempest_workspace }}/etc/tempest.conf"" network-id: ""{{ tempest_neutron_public_network_id }}"" overrides: ""{{ tempest_tempest_conf_overrides | default('omit') }}"" tempest_tempest_conf_overrides: auth.use_dynamic_credentials: 'True'",run_tempest: true,59,1
openstack%2Ftripleo-common~master~I29d0a353cd0a0d28f36460a8e81003378884a5bd,openstack/tripleo-common,master,I29d0a353cd0a0d28f36460a8e81003378884a5bd,Use the Mistral directory for storing the Ansible fact cache.,MERGED,2019-11-12 20:48:21.000000000,2019-11-14 06:24:03.000000000,2019-11-14 06:22:01.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 20:48:21.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d504caff6cc7b002f779209b52ad03bbf0277cfb', 'message': 'Use the Mistral directory for storing the Ansible fact cache.\n\nThis aligns with how TripleO currently stores all Ansible data\nin /var/lib/mistral/. Our documentation already recommends\nrunning setfacl on that directory if an end-user wants to\naccess the files there.\n\nChange-Id: I29d0a353cd0a0d28f36460a8e81003378884a5bd\nCloses-Bug: #1850916\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,693932,d504caff6cc7b002f779209b52ad03bbf0277cfb,9,4,1,25877,,,0,"Use the Mistral directory for storing the Ansible fact cache.

This aligns with how TripleO currently stores all Ansible data
in /var/lib/mistral/. Our documentation already recommends
running setfacl on that directory if an end-user wants to
access the files there.

Change-Id: I29d0a353cd0a0d28f36460a8e81003378884a5bd
Closes-Bug: #1850916
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/693932/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,d504caff6cc7b002f779209b52ad03bbf0277cfb,, '/var/lib/mistral/ansible_fact_cache'), '/var/tmp/ansible_fact_cache'),1,1
