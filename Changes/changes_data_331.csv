id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fheat~stable%2Ftrain~I4562a6c243c9010337252d5c57485dc5f64268e1,openstack/heat,stable/train,I4562a6c243c9010337252d5c57485dc5f64268e1,Fix Designate Zone ID lookup,MERGED,2019-11-14 03:05:40.000000000,2019-11-14 06:19:50.000000000,2019-11-14 06:17:13.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 03:05:40.000000000', 'files': ['heat/engine/clients/os/designate.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/15c49f3e982c75158c3cd77242aae4586f6319c9', 'message': 'Fix Designate Zone ID lookup\n\nThis was broken by a8fba21f238de0b5a62c97ef8571539aa0f536b5.\n\nChange-Id: I4562a6c243c9010337252d5c57485dc5f64268e1\nTask: 37373\n(cherry picked from commit 03819bd4499233e71641210e87e1270214574c6d)\n'}]",0,694191,15c49f3e982c75158c3cd77242aae4586f6319c9,7,2,1,8833,,,0,"Fix Designate Zone ID lookup

This was broken by a8fba21f238de0b5a62c97ef8571539aa0f536b5.

Change-Id: I4562a6c243c9010337252d5c57485dc5f64268e1
Task: 37373
(cherry picked from commit 03819bd4499233e71641210e87e1270214574c6d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/91/694191/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/designate.py'],1,15c49f3e982c75158c3cd77242aae4586f6319c9,, client = self.client(version='2'), client = self.client(version=self.V2),1,1
openstack%2Fstorlets~master~I2649728d5a240e0f476f71742f4e950b4c68e643,openstack/storlets,master,I2649728d5a240e0f476f71742f4e950b4c68e643,Make jupyter test notebook py2/3 compatible,MERGED,2019-11-08 06:10:36.000000000,2019-11-14 05:59:40.000000000,2019-11-14 05:58:35.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 06:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ea78e6a263273fb4c9958722b674abfb44a3e566', 'message': 'Make jupyter test notebook py2/3 compatible\n\nChange-Id: I2649728d5a240e0f476f71742f4e950b4c68e643\n'}, {'number': 2, 'created': '2019-11-08 06:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/610feafb594fbcec0f5cadd31c296b0fe5af6a70', 'message': 'Make jupyter test notebook py2/3 compatible\n\n... and remove skip for notebook job on py3.\n\nChange-Id: I2649728d5a240e0f476f71742f4e950b4c68e643\n'}, {'number': 3, 'created': '2019-11-08 12:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d7cccb585275becc7254673d6587cbe36ce5f7f1', 'message': 'Make jupyter test notebook py2/3 compatible\n\nChange-Id: I2649728d5a240e0f476f71742f4e950b4c68e643\n'}, {'number': 4, 'created': '2019-11-08 13:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/42a4854021fff7a0c10aba459376c976dad87e4e', 'message': 'Make jupyter test notebook py2/3 compatible\n\nChange-Id: I2649728d5a240e0f476f71742f4e950b4c68e643\n'}, {'number': 5, 'created': '2019-11-08 14:39:26.000000000', 'files': ['tests/functional/ipython/test_jupyter_execution.py', 'tests/functional/ipython/test_notebook.ipynb'], 'web_link': 'https://opendev.org/openstack/storlets/commit/9f2e9b20b8a2e04f9e2bf1fad2e47cd0e557995f', 'message': 'Make jupyter test notebook py2/3 compatible\n\nChange-Id: I2649728d5a240e0f476f71742f4e950b4c68e643\n'}]",3,693483,9f2e9b20b8a2e04f9e2bf1fad2e47cd0e557995f,18,4,5,15343,,,0,"Make jupyter test notebook py2/3 compatible

Change-Id: I2649728d5a240e0f476f71742f4e950b4c68e643
",git fetch https://review.opendev.org/openstack/storlets refs/changes/83/693483/5 && git format-patch -1 --stdout FETCH_HEAD,['tests/functional/ipython/test_notebook.ipynb'],1,ea78e6a263273fb4c9958722b674abfb44a3e566,693483," "" content = b''\n"", ""print(myresult.headers)\n"", ""print(myresult.content)"" ""print(myresult.headers)\n"", ""print(myresult.status)"" ""print(myresult.headers)\n"", ""print(myresult.status)"""," "" content = ''\n"", ""print myresult.headers\n"", ""print myresult.content"" ""print myresult.headers\n"", ""print myresult.status"" ""print myresult.headers\n"", ""print myresult.status""",7,7
openstack%2Ftripleo-ci~master~Ia5c83f1bafc23d149bcc67d4af697f3af7aa976c,openstack/tripleo-ci,master,Ia5c83f1bafc23d149bcc67d4af697f3af7aa976c,Move vars/common.yaml to main.yaml for buildimages and containers,MERGED,2019-11-12 10:12:36.000000000,2019-11-14 05:53:05.000000000,2019-11-14 05:53:05.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-11-12 10:12:36.000000000', 'files': ['roles/build-containers/tasks/post.yaml', 'roles/oooci-build-images/tasks/main.yaml', 'roles/build-containers/tasks/pre.yaml', 'roles/oooci-build-images/tasks/pre.yaml', 'roles/build-containers/tasks/main.yaml', 'roles/oooci-build-images/vars/main.yaml', 'roles/build-containers/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/94154098d7b4ffedd63c52927a8053f2a0cd6426', 'message': 'Move vars/common.yaml to main.yaml for buildimages and containers\n\nThese are used as roles with include_role so having common.yaml\nbrings no benefit since vars_from defaults to main.yaml.\n\nSo we can remove the explicit include_vars for common. First\nnoticed it working in [1] and then split this change as the parent\ninto its own review\n\n[1] https://review.opendev.org/692985\n\nChange-Id: Ia5c83f1bafc23d149bcc67d4af697f3af7aa976c\n'}]",0,693802,94154098d7b4ffedd63c52927a8053f2a0cd6426,20,12,1,8449,,,0,"Move vars/common.yaml to main.yaml for buildimages and containers

These are used as roles with include_role so having common.yaml
brings no benefit since vars_from defaults to main.yaml.

So we can remove the explicit include_vars for common. First
noticed it working in [1] and then split this change as the parent
into its own review

[1] https://review.opendev.org/692985

Change-Id: Ia5c83f1bafc23d149bcc67d4af697f3af7aa976c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/02/693802/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/tasks/post.yaml', 'roles/build-containers/tasks/pre.yaml', 'roles/oooci-build-images/tasks/main.yaml', 'roles/oooci-build-images/tasks/pre.yaml', 'roles/build-containers/tasks/main.yaml', 'roles/oooci-build-images/vars/main.yaml', 'roles/build-containers/vars/main.yaml']",7,94154098d7b4ffedd63c52927a8053f2a0cd6426,vars_common_main,,,0,20
openstack%2Fos-net-config~stable%2Fqueens~Ica0a160ce7c8f781d37cd4da67e04cd03db7de94,openstack/os-net-config,stable/queens,Ica0a160ce7c8f781d37cd4da67e04cd03db7de94,Add linkdelay option,MERGED,2019-11-13 14:14:14.000000000,2019-11-14 05:53:04.000000000,2019-11-14 05:53:04.000000000,"[{'_account_id': 14985}, {'_account_id': 21778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 14:14:14.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2504f788bfd0d00f938a7470c0a461267e2bb8e0', 'message': 'Add linkdelay option\n\nChange-Id: Ica0a160ce7c8f781d37cd4da67e04cd03db7de94\nCloses-Bug: 1842999\n(cherry picked from commit 04f285ad02a2edf445bba7f740c9e5eb0b498a3b)\n'}]",0,694082,2504f788bfd0d00f938a7470c0a461267e2bb8e0,7,4,1,21909,,,0,"Add linkdelay option

Change-Id: Ica0a160ce7c8f781d37cd4da67e04cd03db7de94
Closes-Bug: 1842999
(cherry picked from commit 04f285ad02a2edf445bba7f740c9e5eb0b498a3b)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/82/694082/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/objects.py']",4,2504f788bfd0d00f938a7470c0a461267e2bb8e0,bug/1842999-stable/queens," onboot=True, domain=None, ethtool_opts=None, hotplug=False, linkdelay=None): self.linkdelay = linkdelay linkdelay = json.get('linkdelay', None) hotplug=hotplug, linkdelay=linkdelay)"," onboot=True, domain=None, ethtool_opts=None, hotplug=False): hotplug=hotplug)",25,2
openstack%2Fos-net-config~stable%2Frocky~Ica0a160ce7c8f781d37cd4da67e04cd03db7de94,openstack/os-net-config,stable/rocky,Ica0a160ce7c8f781d37cd4da67e04cd03db7de94,Add linkdelay option,MERGED,2019-11-13 14:14:04.000000000,2019-11-14 05:53:03.000000000,2019-11-14 05:53:03.000000000,"[{'_account_id': 14985}, {'_account_id': 21778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 14:14:04.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/09186aa4c5e28551cead28cdb550516e09c69bbb', 'message': 'Add linkdelay option\n\nChange-Id: Ica0a160ce7c8f781d37cd4da67e04cd03db7de94\nCloses-Bug: 1842999\n(cherry picked from commit 04f285ad02a2edf445bba7f740c9e5eb0b498a3b)\n'}]",0,694081,09186aa4c5e28551cead28cdb550516e09c69bbb,7,4,1,21909,,,0,"Add linkdelay option

Change-Id: Ica0a160ce7c8f781d37cd4da67e04cd03db7de94
Closes-Bug: 1842999
(cherry picked from commit 04f285ad02a2edf445bba7f740c9e5eb0b498a3b)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/81/694081/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/objects.py']",4,09186aa4c5e28551cead28cdb550516e09c69bbb,bug/1842999-stable/rocky," onboot=True, domain=None, ethtool_opts=None, hotplug=False, linkdelay=None): self.linkdelay = linkdelay linkdelay = json.get('linkdelay', None) hotplug=hotplug, linkdelay=linkdelay)"," onboot=True, domain=None, ethtool_opts=None, hotplug=False): hotplug=hotplug)",25,2
openstack%2Fkarbor~master~I9ae08550f74347fc8f8436eca3cf4320ec97dd1f,openstack/karbor,master,I9ae08550f74347fc8f8436eca3cf4320ec97dd1f,Modify the time interval configurations in devstack,MERGED,2019-11-14 02:50:14.000000000,2019-11-14 05:52:45.000000000,2019-11-14 05:51:37.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-14 02:50:14.000000000', 'files': ['karbor/tests/fullstack/test_scheduled_operations.py', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/karbor/commit/6093b5b11e23b984250fd21c268632276440d60e', 'message': 'Modify the time interval configurations in devstack\n\nStory: 2006848\nTask: 37436\n\nChange-Id: I9ae08550f74347fc8f8436eca3cf4320ec97dd1f\n'}]",0,694190,6093b5b11e23b984250fd21c268632276440d60e,8,3,1,21224,,,0,"Modify the time interval configurations in devstack

Story: 2006848
Task: 37436

Change-Id: I9ae08550f74347fc8f8436eca3cf4320ec97dd1f
",git fetch https://review.opendev.org/openstack/karbor refs/changes/90/694190/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/tests/fullstack/test_scheduled_operations.py', 'devstack/plugin.sh', 'devstack/settings']",3,6093b5b11e23b984250fd21c268632276440d60e,master-time-interval,KARBOR_SCHEDULED_MIN_INTERVAL=60 KARBOR_SCHEDULED_MIN_WINDOW_TIME=20 KARBOR_SCHEDULED_MAX_WINDOW_TIME=30,,7,1
openstack%2Fkuryr-tempest-plugin~master~I2570cc8ce82c12def54ca9952e2a6c698e132bc5,openstack/kuryr-tempest-plugin,master,I2570cc8ce82c12def54ca9952e2a6c698e132bc5,WIP: add test for SR-IOV,NEW,2019-10-02 06:23:49.000000000,2019-11-14 05:29:20.000000000,,"[{'_account_id': 14570}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25900}, {'_account_id': 27004}]","[{'number': 1, 'created': '2019-10-02 06:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8faaf23720465650efaf90bf0b0c0bfc0ade3e2e', 'message': 'WIP: add test for SR-IOV\n\nChange-Id: I2570cc8ce82c12def54ca9952e2a6c698e132bc5\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}, {'number': 2, 'created': '2019-10-02 06:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/97a25ba491bc4986d3400a4c5fa24c2d892d97b2', 'message': 'WIP: add test for SR-IOV\n\nPartially implements: blueprint tempest-test-for-sr-iov\nChange-Id: I2570cc8ce82c12def54ca9952e2a6c698e132bc5\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}, {'number': 3, 'created': '2019-10-02 08:36:17.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_sriov.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c12d7847d101fc90e110c6ae2a2622401a32b511', 'message': 'WIP: add test for SR-IOV\n\nPartially implements: blueprint tempest-test-for-sr-iov\nChange-Id: I2570cc8ce82c12def54ca9952e2a6c698e132bc5\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}]",1,686086,c12d7847d101fc90e110c6ae2a2622401a32b511,6,5,3,28396,,,0,"WIP: add test for SR-IOV

Partially implements: blueprint tempest-test-for-sr-iov
Change-Id: I2570cc8ce82c12def54ca9952e2a6c698e132bc5
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/86/686086/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_sriov.py'],1,8faaf23720465650efaf90bf0b0c0bfc0ade3e2e,,"# Copyright 2018 Samsung Electronics Co., Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from tempest import config from kuryr_tempest_plugin.tests.scenario import base CONF = config.CONF class TestSRIOVScenario(base.BaseKuryrScenarioTest): @classmethod def skip_checks(cls): super(TestSRIOVScenario, cls).skip_checks() if not CONF.kuryr_kubernetes.sriov_enabled or not CONF.kuryr_kubernetes.npwg_multi_vif_enabled: raise cls.skipException( ""Testing of SR-IOV feature is not enabled."") def test_sriov(self): # This test is based on NPWG. # It consists of several steps: # 1. Create CRD for Network Attachment Definition # 2. Create NAD # 3. Create pod which uses NAD providers = {'provider:network_type': 'flat', 'provider:physical_network': 'physnet2' } nad_name, nad = self.create_network_crd_obj(providers=providers, driver_type=""sriov"") # create a pod with additional interfaces annotations = {'k8s.v1.cni.cncf.io/networks': nad_name} resources = { 'requests': { 'cpu': '""1""', 'memory': '""512Mi""', 'intel.com/sriov': '""1""' }, 'limits': { 'cpu': '""1""', 'memory': '""512Mi""', 'intel.com/sriov': '""1""' } } pod_name, pod = self.create_pod(annotations=annotations, resources=resources) command = ['/bin/ip', 'a'] output = self.exec_command_in_pod(pod_name, command) self.assertIn('eth1', output) self.addCleanup(self.delete_pod, pod_name, pod) ",,63,0
openstack%2Fzun~master~Iab27e0fc093bdadce3e7da5a0daf40ae5cc6dcb2,openstack/zun,master,Iab27e0fc093bdadce3e7da5a0daf40ae5cc6dcb2,"Add wiki,admin,release and contribute links in readme",NEW,2019-10-05 06:47:28.000000000,2019-11-14 05:13:27.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25695}]","[{'number': 1, 'created': '2019-10-05 06:47:28.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/77604720018f3fa920921462fbc26be92114d609', 'message': 'Add wiki,admin,release and contribute links in readme\n\nChange-Id: Iab27e0fc093bdadce3e7da5a0daf40ae5cc6dcb2\n'}]",0,686867,77604720018f3fa920921462fbc26be92114d609,4,3,1,30092,,,0,"Add wiki,admin,release and contribute links in readme

Change-Id: Iab27e0fc093bdadce3e7da5a0daf40ae5cc6dcb2
",git fetch https://review.opendev.org/openstack/zun refs/changes/67/686867/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,77604720018f3fa920921462fbc26be92114d609,,* Wiki: https://wiki.openstack.org/wiki/Zun* Admin guide: https://docs.openstack.org/zun/latest/admin/index.html* Release notes: https://docs.openstack.org/releasenotes/zun/index.html * Contributing: https://docs.openstack.org/zun/latest/contributor/index.html,,4,0
openstack%2Fneutron~stable%2Fqueens~I2d8693145da72825876b951f2d10afe9ca28ff6e,openstack/neutron,stable/queens,I2d8693145da72825876b951f2d10afe9ca28ff6e,Increase timeout when waiting for dnsmasq enablement,MERGED,2019-10-31 14:21:50.000000000,2019-11-14 05:09:53.000000000,2019-11-14 05:09:53.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-10-31 14:21:50.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfbfa8ced3c96ec5e2649f47d8ac9f4d5b0e168e', 'message': 'Increase timeout when waiting for dnsmasq enablement\n\nIn the reported bug, a regression was introduced in [1] when limiting\nthe time to have a ""dnsmasq"" process enabled. It has been reported, as\ndocumented in the bug, that in older versions (Queens), using Python 2\n[2] and older versions of ""ip_lib"" (not implementing most of the\ncommands using Pyroute2), that the time needed to spawn a ""dnsmasq""\nprocess exceeds the default 60 seconds defined in\n""common_utils.wait_until_true"".\n\nThis patch increases this time by a reasonable 300 seconds.\n\n[1] https://review.opendev.org/#/c/643732\n[2] https://bugs.python.org/issue35757\n\nChange-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e\nCloses-Bug: #1849676\n(cherry picked from commit aedc09917680bc77501f4b57142e73768e3d06ad)\n'}]",0,692379,dfbfa8ced3c96ec5e2649f47d8ac9f4d5b0e168e,24,6,1,16688,,,0,"Increase timeout when waiting for dnsmasq enablement

In the reported bug, a regression was introduced in [1] when limiting
the time to have a ""dnsmasq"" process enabled. It has been reported, as
documented in the bug, that in older versions (Queens), using Python 2
[2] and older versions of ""ip_lib"" (not implementing most of the
commands using Pyroute2), that the time needed to spawn a ""dnsmasq""
process exceeds the default 60 seconds defined in
""common_utils.wait_until_true"".

This patch increases this time by a reasonable 300 seconds.

[1] https://review.opendev.org/#/c/643732
[2] https://bugs.python.org/issue35757

Change-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e
Closes-Bug: #1849676
(cherry picked from commit aedc09917680bc77501f4b57142e73768e3d06ad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/692379/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,dfbfa8ced3c96ec5e2649f47d8ac9f4d5b0e168e,bug/1849676," common_utils.wait_until_true(self._enable, timeout=300)", common_utils.wait_until_true(self._enable),1,1
openstack%2Fheat~master~I5f14453ebab75d89672c6eea12de46d48a5147f3,openstack/heat,master,I5f14453ebab75d89672c6eea12de46d48a5147f3,Pre-empt in-progress nested stack updates on new update,MERGED,2019-10-23 22:17:39.000000000,2019-11-14 04:37:48.000000000,2019-11-14 04:36:28.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 22:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/92f4cfed4238f069eb790f0eddf97c33967d05f0', 'message': ""Pre-empt in-progress nested stack updates on new update\n\nIf the parent resource of a nested stack is locked due to an IN_PROGRESS\nupdate, cancel the nested stack update (which will result in the parent\nresource being marked FAILED and releasing the lock so that the new\ntraversal can begin acting on it).\n\nThis wffectively results in the model for simultaneous updates in a\nsingle stack (that we wait for in-progress work when it would conflict,\nbut otherwise don't delay starting a new update) extending recursively\ndown through nested stacks.\n\nChange-Id: I5f14453ebab75d89672c6eea12de46d48a5147f3\nTask: 17760\n""}, {'number': 2, 'created': '2019-10-24 01:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b0d7ffadc35ef4a0f5cc6363e145c827d4b1ad9a', 'message': ""Pre-empt in-progress nested stack updates on new update\n\nIf the parent resource of a nested stack is locked due to an IN_PROGRESS\nupdate, cancel the nested stack update (which will result in the parent\nresource being marked FAILED and releasing the lock so that the new\ntraversal can begin acting on it).\n\nThis effectively results in the model for simultaneous updates in a\nsingle stack (that we wait for in-progress work when it would conflict,\nbut otherwise don't delay starting a new update) being extended\nrecursivey down through nested stacks.\n\nChange-Id: I5f14453ebab75d89672c6eea12de46d48a5147f3\nTask: 17760\n""}, {'number': 3, 'created': '2019-10-24 02:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dbc849a459c1eadf9b38d6a374d726f016615fce', 'message': ""Pre-empt in-progress nested stack updates on new update\n\nIf the parent resource of a nested stack is locked due to an IN_PROGRESS\nupdate, cancel the nested stack update (which will result in the parent\nresource being marked FAILED and releasing the lock so that the new\ntraversal can begin acting on it).\n\nThis effectively results in the model for simultaneous updates in a\nsingle stack (that we wait for in-progress work when it would conflict,\nbut otherwise don't delay starting a new update) being extended\nrecursivey down through nested stacks.\n\nChange-Id: I5f14453ebab75d89672c6eea12de46d48a5147f3\nTask: 17760\n""}, {'number': 4, 'created': '2019-10-30 03:18:35.000000000', 'files': ['heat/engine/check_resource.py', 'heat/engine/resources/stack_resource.py', 'heat_integrationtests/functional/test_simultaneous_update.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8cd6a06736c27d2dd50340c03987631143f3484d', 'message': 'Pre-empt in-progress nested stack updates on new update\n\nIf the parent resource of a nested stack is locked due to an IN_PROGRESS\nupdate, cancel the nested stack update (which will result in the parent\nresource being marked FAILED and releasing the lock so that the new\ntraversal can begin acting on it). This also cancels all descendants of\nthe nested stack.\n\nThis means that a concurrent update no longer gets blocked at a nested\nstack boundary until the previous update has finished.\n\nChange-Id: I5f14453ebab75d89672c6eea12de46d48a5147f3\nTask: 17760\n'}]",0,690754,8cd6a06736c27d2dd50340c03987631143f3484d,18,3,4,4257,,,0,"Pre-empt in-progress nested stack updates on new update

If the parent resource of a nested stack is locked due to an IN_PROGRESS
update, cancel the nested stack update (which will result in the parent
resource being marked FAILED and releasing the lock so that the new
traversal can begin acting on it). This also cancels all descendants of
the nested stack.

This means that a concurrent update no longer gets blocked at a nested
stack boundary until the previous update has finished.

Change-Id: I5f14453ebab75d89672c6eea12de46d48a5147f3
Task: 17760
",git fetch https://review.opendev.org/openstack/heat refs/changes/54/690754/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/check_resource.py', 'heat/engine/resources/stack_resource.py', 'heat_integrationtests/functional/test_simultaneous_update.py', 'heat/engine/resource.py']",4,92f4cfed4238f069eb790f0eddf97c33967d05f0,," def handle_preempt(self): """"""Pre-empt an in-progress update when a new update is available. This method is called when a previous convergence update is in progress but a new update for the resource is available. By default it does nothing, but subclasses may override it to cancel the in-progress update if it is safe to do so. Note that this method does not run in the context of the in-progress update and has no access to runtime information about it; nor is it safe to make changes to the Resource in the database. If implemented, this method should cause the existing update to complete by external means. If this leaves the resource in a FAILED state, that should be taken into account in needs_replace_failed(). """""" return ",,85,1
openstack%2Freleases~master~Iba1ba1ca02b68247728d8dbb78c7e472e4cd12fd,openstack/releases,master,Iba1ba1ca02b68247728d8dbb78c7e472e4cd12fd,oslo.utils: release train 3.41.3,MERGED,2019-11-13 09:47:58.000000000,2019-11-14 04:32:01.000000000,2019-11-14 04:32:01.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-11-13 09:47:58.000000000', 'files': ['deliverables/train/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/785b8bb79057cce7779f1a3aeef21655981f338e', 'message': 'oslo.utils: release train 3.41.3\n\nChange-Id: Iba1ba1ca02b68247728d8dbb78c7e472e4cd12fd\n'}]",0,694025,785b8bb79057cce7779f1a3aeef21655981f338e,9,5,1,28522,,,0,"oslo.utils: release train 3.41.3

Change-Id: Iba1ba1ca02b68247728d8dbb78c7e472e4cd12fd
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/694025/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/oslo.utils.yaml'],1,785b8bb79057cce7779f1a3aeef21655981f338e,oslo_utils_train, - projects: - hash: cae9aa72377713c2fc93b5cf3fad05b873a55d6d repo: openstack/oslo.utils version: 3.41.3,,4,0
openstack%2Freleases~master~Id8c7d2e6b52aee35ada9ee89708b08c12b8dc20c,openstack/releases,master,Id8c7d2e6b52aee35ada9ee89708b08c12b8dc20c,Release new neutron-tempest-plugin version,MERGED,2019-11-13 11:34:51.000000000,2019-11-14 04:30:43.000000000,2019-11-14 04:30:43.000000000,"[{'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 11:34:51.000000000', 'files': ['deliverables/ussuri/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/20661c73bf6a485d4200769955a0315117039b6a', 'message': 'Release new neutron-tempest-plugin version\n\nAs we decided during Shanghai PTG for branch which is in EM we will\nrun neutron-tempest-plugin jobs with specific tag, not from master\nalways.\nSo lets release new version of neutron-tempest-plugin now and we will be\nable to use this version for queens jobs instead of using still tests\nfrom master branch.\n\nChange-Id: Id8c7d2e6b52aee35ada9ee89708b08c12b8dc20c\n'}]",0,694047,20661c73bf6a485d4200769955a0315117039b6a,8,5,1,11975,,,0,"Release new neutron-tempest-plugin version

As we decided during Shanghai PTG for branch which is in EM we will
run neutron-tempest-plugin jobs with specific tag, not from master
always.
So lets release new version of neutron-tempest-plugin now and we will be
able to use this version for queens jobs instead of using still tests
from master branch.

Change-Id: Id8c7d2e6b52aee35ada9ee89708b08c12b8dc20c
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/694047/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/neutron-tempest-plugin.yaml'],1,20661c73bf6a485d4200769955a0315117039b6a,release-new-neutron-tempest-plugin,releases: - projects: - hash: 616a27a1b0125e6d2b820bb1cb0d7b623a0f3394 repo: openstack/neutron-tempest-plugin version: 0.7.0,,5,0
openstack%2Fironic-tempest-plugin~master~I1ab280c09ab668d11406612a25f881d8172df955,openstack/ironic-tempest-plugin,master,I1ab280c09ab668d11406612a25f881d8172df955,Make the multinode job non-voting,MERGED,2019-10-23 16:21:31.000000000,2019-11-14 04:27:50.000000000,2019-11-14 04:25:47.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-23 16:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/359b14f1641643738a359e2c51a0c2a8f843aa45', 'message': ""Make the multinode job non-voting\n\nIt's not voting on ironic because of its instability, so it should\nnot be voting here.\n\nChange-Id: I1ab280c09ab668d11406612a25f881d8172df955\n""}, {'number': 2, 'created': '2019-10-31 14:45:32.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/8d95163d664129520705e74dc7b21019e8e0bd9a', 'message': ""Make the multinode job non-voting\n\nIt's not voting on ironic because of its instability, so it should\nnot be voting here.\n\nChange-Id: I1ab280c09ab668d11406612a25f881d8172df955\n""}]",4,690635,8d95163d664129520705e74dc7b21019e8e0bd9a,19,5,2,10239,,,0,"Make the multinode job non-voting

It's not voting on ironic because of its instability, so it should
not be voting here.

Change-Id: I1ab280c09ab668d11406612a25f881d8172df955
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/35/690635/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,359b14f1641643738a359e2c51a0c2a8f843aa45,gate," # unstable, so keep them non-voting. - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: voting: false"," # unstable, so keep them non-voting on stable branches. # NOTE(iurygregory): debug rocky and queens since they used to pass - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode",3,3
openstack%2Fkarbor~master~I1b71cb9c34674a04d46943feb4cc61c5a23f125b,openstack/karbor,master,I1b71cb9c34674a04d46943feb4cc61c5a23f125b,Add unit test for services api,ABANDONED,2019-11-14 02:28:59.000000000,2019-11-14 04:25:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-14 02:28:59.000000000', 'files': ['karbor/tests/unit/api/v1/test_services.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/b38ea6a0f7a238869a93683b7affccbef1ab8015', 'message': 'Add unit test for services api\n\nChange-Id: I1b71cb9c34674a04d46943feb4cc61c5a23f125b\nSigned-off-by: helei <helei@cmss.chinamobile.com>\n'}]",0,694189,b38ea6a0f7a238869a93683b7affccbef1ab8015,3,1,1,29579,,,0,"Add unit test for services api

Change-Id: I1b71cb9c34674a04d46943feb4cc61c5a23f125b
Signed-off-by: helei <helei@cmss.chinamobile.com>
",git fetch https://review.opendev.org/openstack/karbor refs/changes/89/694189/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/api/v1/test_services.py'],1,b38ea6a0f7a238869a93683b7affccbef1ab8015,," @mock.patch('karbor.objects.service.Service.get_by_id') def test_quota_update_with_service_not_found(self, mock_get_by_id): body = { ""status"": 'disabled', 'disabled_reason': 'reason' } req = fakes.HTTPRequest.blank('/v1/os-services/1', use_admin_context=True) mock_get_by_id.side_effect = exception.ServiceNotFound self.assertRaises( exc.HTTPNotFound, self.controller.update, req, ""fake_id"", body ) @mock.patch('karbor.objects.service.Service.get_by_id') def test_service_update_with_invalid_disabled_reason(self, mock_get_by_id): req = fakes.HTTPRequest.blank('/v1/os-services/1', use_admin_context=True) body = { ""status"": 'enabled', 'disabled_reason': 'reason' } mock_service = mock.MagicMock( binary='karbor-operationengine', save=mock.MagicMock()) mock_get_by_id.return_value = mock_service self.assertRaises( exc.HTTPBadRequest, self.controller.update, req, ""fake_id"", body ) @mock.patch('karbor.utils.service_is_up') @mock.patch('karbor.objects.service.Service.get_by_id') def test_service_update_with_enabled_status( self, mock_get_by_id, mock_service_is_up): req = fakes.HTTPRequest.blank('/v1/os-services/1', use_admin_context=True) body = { ""status"": 'enbaled' } mock_service = mock.MagicMock( binary='karbor-operationengine', save=mock.MagicMock()) mock_get_by_id.return_value = mock_service mock_service_is_up.return_value = True self.controller.update(req, ""fake_id"", body) self.assertTrue(mock_get_by_id.called) self.assertTrue(mock_service.save.called)",,54,0
openstack%2Freleases~master~I9fcaeb4f883ec3440a6859ff206640af08c0f00e,openstack/releases,master,I9fcaeb4f883ec3440a6859ff206640af08c0f00e,oslo.utils: release ussuri 3.42.0,MERGED,2019-11-13 09:42:46.000000000,2019-11-14 04:25:27.000000000,2019-11-14 04:25:26.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-13 09:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7ab64843c94d8608686c16192e546e51aa98ad43', 'message': 'oslo.utils: release ussuri 3.42.0\n\nChange-Id: I9fcaeb4f883ec3440a6859ff206640af08c0f00e\n'}, {'number': 2, 'created': '2019-11-13 15:00:27.000000000', 'files': ['deliverables/ussuri/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8188f341b0b968ab1a4fa9dc14f63872e3ffb343', 'message': 'oslo.utils: release ussuri 3.42.0\n\nChange-Id: I9fcaeb4f883ec3440a6859ff206640af08c0f00e\n'}]",2,694024,8188f341b0b968ab1a4fa9dc14f63872e3ffb343,11,4,2,28522,,,0,"oslo.utils: release ussuri 3.42.0

Change-Id: I9fcaeb4f883ec3440a6859ff206640af08c0f00e
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/694024/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/oslo.utils.yaml'],1,7ab64843c94d8608686c16192e546e51aa98ad43,oslo_utils_ussuri,releases: - projects: - hash: b41268417cecb12d1d5955ee3107067edf050221 repo: openstack/oslo.utils version: 3.42.0,,5,0
openstack%2Freleases~master~If331975e16e9d60b9839491354679d9c1a027217,openstack/releases,master,If331975e16e9d60b9839491354679d9c1a027217,Update README.rst for better looks,MERGED,2019-11-13 15:57:54.000000000,2019-11-14 04:25:26.000000000,2019-11-14 04:25:25.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 15:57:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/b6149c798a329179de7f051f6cf99aad4275a184', 'message': 'Update README.rst for better looks\n\nNow that we use gitea, our README.rst is more visble and should be\nmade a decent entry point to the marvelous world of release management.\n\nThis change make it look better, clearer, and updates links.\n\nChange-Id: If331975e16e9d60b9839491354679d9c1a027217\n'}]",0,694106,b6149c798a329179de7f051f6cf99aad4275a184,7,3,1,308,,,0,"Update README.rst for better looks

Now that we use gitea, our README.rst is more visble and should be
made a decent entry point to the marvelous world of release management.

This change make it look better, clearer, and updates links.

Change-Id: If331975e16e9d60b9839491354679d9c1a027217
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/694106/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b6149c798a329179de7f051f6cf99aad4275a184,better-readme,"==================== OpenStack Releases ==================== .. image:: https://governance.openstack.org/tc/badges/releases.svg :target: https://governance.openstack.org/tc/reference/tags/index.html This repository is used to drive release automation for OpenStack release deliverables, ultimately publishing them on the https://releases.openstack.org/ website. Changes to this repository are proposed using Gerrit at https://review.opendev.org. This repository is managed by the OpenStack `Release Management team <https://governance.openstack.org/tc/reference/projects/release-management.html>`_. For more information on how to use this repository, please read our `reference documentation <https://releases.openstack.org/#references>`_. Who should use this repository ------------------------------ All official OpenStack software should go through the OpenStack More information ---------------- You can reach the Release Management team on the #openstack-release channel on Freenode IRC, or by sending an email with '[release]' as a subject prefix to the `openstack-discuss <http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss>`_ mailing-list.","======================= Using This Repository ======================= All official OpenStack software should go through theThis repository is used to track release requests. Releases are managed using groups of ""deliverables"", made up of individual project repositories sharing a Launchpad group and a version number history. Many deliverables will only have one constituent project repository. The repository is managed by the `Release Management team <https://governance.openstack.org/tc/reference/projects/release-management.html>`_. .. image:: https://governance.openstack.org/tc/badges/releases.svg :target: https://governance.openstack.org/tc/reference/tags/index.html Refer to `the reference documentation <https://releases.openstack.org/reference/>`_ for more details ",29,18
openstack%2Ftripleo-ansible~master~I731b09fe98a01758bd86e6211b7a5fd51e889526,openstack/tripleo-ansible,master,I731b09fe98a01758bd86e6211b7a5fd51e889526,"Revert ""tripleo-container-manage: add task to start systemd healthcheck service""",MERGED,2019-11-13 07:15:26.000000000,2019-11-14 04:23:37.000000000,2019-11-14 04:23:37.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-13 07:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/419b771fe075380a042dc2f3f268ddd65d12adff', 'message': 'Revert ""tripleo-container-manage: add task to start systemd healthcheck service""\n\nThis reverts commit cb4b443f6ecce49dc047772544b26001ecf25d37.\nWe don\'t need to start the tripleo_*_healthcheck.service systemd units,\nthey are triggered by the tripleo_*_healthcheck.timer already.\n\nChange-Id: I731b09fe98a01758bd86e6211b7a5fd51e889526\n'}, {'number': 2, 'created': '2019-11-13 11:29:53.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0002d29f513836fd41d1c0fca071ec703c767648', 'message': 'Revert ""tripleo-container-manage: add task to start systemd healthcheck service""\n\nThis reverts commit cb4b443f6ecce49dc047772544b26001ecf25d37.\nWe don\'t need to start the tripleo_*_healthcheck.service systemd units,\nthey are triggered by the tripleo_*_healthcheck.timer already.\n\nChange-Id: I731b09fe98a01758bd86e6211b7a5fd51e889526\n'}]",0,693993,0002d29f513836fd41d1c0fca071ec703c767648,20,7,2,3153,,,0,"Revert ""tripleo-container-manage: add task to start systemd healthcheck service""

This reverts commit cb4b443f6ecce49dc047772544b26001ecf25d37.
We don't need to start the tripleo_*_healthcheck.service systemd units,
they are triggered by the tripleo_*_healthcheck.timer already.

Change-Id: I731b09fe98a01758bd86e6211b7a5fd51e889526
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/693993/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml'],1,419b771fe075380a042dc2f3f268ddd65d12adff,systemd," - name: ""Enable and start systemd timer for {{ container_name }}"""," - name: ""Enable and start systemd healthcheck timer for {{ container_name }}"" - name: ""Enable and start systemd healthcheck service for {{ container_name }}"" systemd: # Restart the service if it was already running state: restarted name: ""tripleo_{{ container_name }}_healthcheck.service"" enabled: true daemon_reload: true when: - systemd_healthcheck.changed or systemd_timer.changed",1,10
openstack%2Freleases~master~Iad9124f40e70af006d2898e686f6e5aa8139bdbd,openstack/releases,master,Iad9124f40e70af006d2898e686f6e5aa8139bdbd,Release neutron-lbaas 13.0.1 and 14.0.1 for Rocky and Stein,MERGED,2019-10-31 11:33:13.000000000,2019-11-14 04:03:31.000000000,2019-11-14 04:03:31.000000000,"[{'_account_id': 308}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28471}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-31 11:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/100d524fabb48e20872b37e2b9c9b77d0c8e41b5', 'message': 'Release neutron-lbaas 13.0.1 and 14.0.1 for Rocky and Stein\n\nThis release adds a fix for the lb stats model, see [0] and [1].\n\n[0] https://review.opendev.org/688959\n[1] https://storyboard.openstack.org/#!/task/37085\n\nChange-Id: Iad9124f40e70af006d2898e686f6e5aa8139bdbd\n'}, {'number': 2, 'created': '2019-11-06 12:18:10.000000000', 'files': ['deliverables/rocky/neutron-lbaas.yaml', 'deliverables/stein/neutron-lbaas.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/764a1ae908ec794262f62c12c18f48007c900921', 'message': 'Release neutron-lbaas 13.0.1 and 14.0.1 for Rocky and Stein\n\nThese releases add a fix for the lb stats model, see [0] and [1], and a\nfix for deleting a l7 rule, see [2] and [3].\n\n[0] https://review.opendev.org/688959\n[1] https://storyboard.openstack.org/#!/task/37085\n[2] https://review.opendev.org/#/c/665315\n[3] https://storyboard.openstack.org/#!/task/30333\n\nChange-Id: Iad9124f40e70af006d2898e686f6e5aa8139bdbd\n'}]",0,692343,764a1ae908ec794262f62c12c18f48007c900921,15,9,2,13252,,,0,"Release neutron-lbaas 13.0.1 and 14.0.1 for Rocky and Stein

These releases add a fix for the lb stats model, see [0] and [1], and a
fix for deleting a l7 rule, see [2] and [3].

[0] https://review.opendev.org/688959
[1] https://storyboard.openstack.org/#!/task/37085
[2] https://review.opendev.org/#/c/665315
[3] https://storyboard.openstack.org/#!/task/30333

Change-Id: Iad9124f40e70af006d2898e686f6e5aa8139bdbd
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/692343/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/neutron-lbaas.yaml', 'deliverables/stein/neutron-lbaas.yaml']",2,100d524fabb48e20872b37e2b9c9b77d0c8e41b5,n-lbaas-rocky, - projects: - hash: 7a4ef6704ba47f7f278121fdc1832ef91feb4be4 repo: openstack/neutron-lbaas version: 14.0.1,,8,0
openstack%2Fos-brick~master~I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9,openstack/os-brick,master,I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9,Fix FC scan too broad,MERGED,2019-10-23 17:06:46.000000000,2019-11-14 03:57:52.000000000,2019-11-14 03:56:36.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21570}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-10-23 17:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/47f04ec859345b9ce62e3f1b3a6c42ec996bae03', 'message': 'Fix FC scan too broad\n\nAfter some changes to the FC connector we have introduced a regression\non the way we do the scans, and we end up scanning using wildcards even\nthough we shouldn\'t.\n\nThe targets in the ""initiator_target_map"" don\'t mean that they are all\nconnected, so we must take that into account.\n\nWith the current code, if we have the following connections:\n\nHBA host7 ---- SWITCH ---- port W (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port X (channel 0, target 3)\n\nHBA host8 ---- SWITCH ---- port Y (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port Z (channel 0, target 3)\n\nWe will end up with the following scans 8 scans for LUN L:\n\n\xa0\xa0- - L > host7\n\xa0\xa0- - L > host7\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\xa0\xa0- - L > host8\n\xa0\xa0- - L > host8\n\nWhich correspond to the responses from _get_hba_channel_scsi_target like\nthis:\n\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0port Y          port Z          port W          port X\n\xa0\xa0host7 ... [\'-\',\'-\',L]     [\'-\',\'-\',L]     [\'0\',\'2\',L]     [\'0\',\'3\',L]\n\xa0\xa0host8 ... [\'0\',\'2\',L]     [\'0\',\'3\',L]     [\'-\',\'-\',L]     [\'-\',\'-\',L]\n\nAnd we should only be doing 4 scans:\n\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\nThe FC initiator is automatically populating sysfs with the target\nports, so the default will be to not use wildcards and always look for\nthe target ports in sysfs to limit our scanning.\n\nIn case a driver doesn\'t want this behavior because they know all connections\nshould exist, then it can pass True as value for the ""force_scan"" key in\nthe connection information dictionary.\n\nClose-Bug: #1849504\nRelated-Bug: #1765000\nRelated-Bug: #1828440\nChange-Id: I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9\n'}, {'number': 2, 'created': '2019-10-24 17:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/500907e130ddf4f558d865f4e890b555fa0b380e', 'message': 'Fix FC scan too broad\n\nAfter some changes to the FC connector we have introduced a regression\non the way we do the scans, and we end up scanning using wildcards even\nthough we shouldn\'t.\n\nThe targets in the ""initiator_target_map"" don\'t mean that they are all\nconnected, so we must take that into account.\n\nWith the current code, if we have the following connections:\n\nHBA host7 ---- SWITCH ---- port W (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port X (channel 0, target 3)\n\nHBA host8 ---- SWITCH ---- port Y (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port Z (channel 0, target 3)\n\nWe will end up with the following scans 8 scans for LUN L:\n\n\xa0\xa0- - L > host7\n\xa0\xa0- - L > host7\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\xa0\xa0- - L > host8\n\xa0\xa0- - L > host8\n\nWhich correspond to the responses from _get_hba_channel_scsi_target like\nthis:\n\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0port Y          port Z          port W          port X\n\xa0\xa0host7 ... [\'-\',\'-\',L]     [\'-\',\'-\',L]     [\'0\',\'2\',L]     [\'0\',\'3\',L]\n\xa0\xa0host8 ... [\'0\',\'2\',L]     [\'0\',\'3\',L]     [\'-\',\'-\',L]     [\'-\',\'-\',L]\n\nAnd we should only be doing 4 scans:\n\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\nMost storage arrays get their target ports automatically detected by the\nLinux FC initiator and sysfs gets populated with that information, but\nthere are some that don\'t.\n\nWe\'ll do a narrow scan using the channel, target, and LUN for the former\nand a wider scan for the latter.\n\nIf all paths to a former type of array were down on the system boot the\narray could look like it\'s of the latter type and make us bring us\nunwanted volumes into the system by doing a broad scan.\n\nTo prevent this from happening Cinder drivers can use the\n""enable_wildcard_scan"" key in the connection information to let us know\nthey don\'t want us to do broad scans even if no target ports are found\n(because they know the cause is there\'s no connection).\n\nClose-Bug: #1849504\nRelated-Bug: #1765000\nRelated-Bug: #1828440\nChange-Id: I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9\n'}, {'number': 3, 'created': '2019-11-11 14:54:15.000000000', 'files': ['releasenotes/notes/fix-fc-scan-too-broad-3c576e1846b7f05f.yaml', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/708733e49598145eb8e898d486723dc3df00a52f', 'message': 'Fix FC scan too broad\n\nAfter some changes to the FC connector we have introduced a regression\non the way we do the scans, and we end up scanning using wildcards even\nthough we shouldn\'t.\n\nThe targets in the ""initiator_target_map"" don\'t mean that they are all\nconnected, so we must take that into account.\n\nWith the current code, if we have the following connections:\n\nHBA host7 ---- SWITCH ---- port W (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port X (channel 0, target 3)\n\nHBA host8 ---- SWITCH ---- port Y (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port Z (channel 0, target 3)\n\nWe will end up with the following scans 8 scans for LUN L:\n\n\xa0\xa0- - L > host7\n\xa0\xa0- - L > host7\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\xa0\xa0- - L > host8\n\xa0\xa0- - L > host8\n\nWhich correspond to the responses from _get_hba_channel_scsi_target like\nthis:\n\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0port Y          port Z          port W          port X\n\xa0\xa0host7 ... [\'-\',\'-\',L]     [\'-\',\'-\',L]     [\'0\',\'2\',L]     [\'0\',\'3\',L]\n\xa0\xa0host8 ... [\'0\',\'2\',L]     [\'0\',\'3\',L]     [\'-\',\'-\',L]     [\'-\',\'-\',L]\n\nAnd we should only be doing 4 scans:\n\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\nMost storage arrays get their target ports automatically detected by the\nLinux FC initiator and sysfs gets populated with that information, but\nthere are some that don\'t.\n\nWe\'ll do a narrow scan using the channel, target, and LUN for the former\nand a wider scan for the latter.\n\nIf all paths to a former type of array were down on the system boot the\narray could look like it\'s of the latter type and make us bring us\nunwanted volumes into the system by doing a broad scan.\n\nTo prevent this from happening Cinder drivers can use the\n""enable_wildcard_scan"" key in the connection information to let us know\nthey don\'t want us to do broad scans even if no target ports are found\n(because they know the cause is there\'s no connection).\n\nClose-Bug: #1849504\nRelated-Bug: #1765000\nRelated-Bug: #1828440\nChange-Id: I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9\n'}]",14,690640,708733e49598145eb8e898d486723dc3df00a52f,57,22,3,9535,,,0,"Fix FC scan too broad

After some changes to the FC connector we have introduced a regression
on the way we do the scans, and we end up scanning using wildcards even
though we shouldn't.

The targets in the ""initiator_target_map"" don't mean that they are all
connected, so we must take that into account.

With the current code, if we have the following connections:

HBA host7 ---- SWITCH ---- port W (channel 0, target 2)
\--- SWITCH ---- port X (channel 0, target 3)

HBA host8 ---- SWITCH ---- port Y (channel 0, target 2)
\--- SWITCH ---- port Z (channel 0, target 3)

We will end up with the following scans 8 scans for LUN L:

- - L > host7
- - L > host7
0 2 L > host7
0 3 L > host7

0 2 L > host8
0 3 L > host8
- - L > host8
- - L > host8

Which correspond to the responses from _get_hba_channel_scsi_target like
this:

port Y          port Z          port W          port X
host7 ... ['-','-',L]     ['-','-',L]     ['0','2',L]     ['0','3',L]
host8 ... ['0','2',L]     ['0','3',L]     ['-','-',L]     ['-','-',L]

And we should only be doing 4 scans:

0 2 L > host7
0 3 L > host7
0 2 L > host8
0 3 L > host8

Most storage arrays get their target ports automatically detected by the
Linux FC initiator and sysfs gets populated with that information, but
there are some that don't.

We'll do a narrow scan using the channel, target, and LUN for the former
and a wider scan for the latter.

If all paths to a former type of array were down on the system boot the
array could look like it's of the latter type and make us bring us
unwanted volumes into the system by doing a broad scan.

To prevent this from happening Cinder drivers can use the
""enable_wildcard_scan"" key in the connection information to let us know
they don't want us to do broad scans even if no target ports are found
(because they know the cause is there's no connection).

Close-Bug: #1849504
Related-Bug: #1765000
Related-Bug: #1828440
Change-Id: I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/40/690640/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/linuxfc.py', 'releasenotes/notes/fix-fc-scan-too-broad-3c576e1846b7f05f.yaml', 'os_brick/tests/initiator/test_linuxfc.py']",3,47f04ec859345b9ce62e3f1b3a6c42ec996bae03,FC-fix-broad-scan," def test__get_hba_channel_scsi_target_lun_single_wwpn(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_with_initiator_target_map(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_with_initiator_target_map_none( self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_multiple_wwpn(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1], ['0', '2', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_multiple_wwpn_and_luns(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1], ['0', '2', 7]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_zone_manager(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_not_found(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) self.assertEqual(([], set()), res) def test__get_hba_channel_scsi_target_lun_exception(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) self.assertEqual(([], {1}), res) def test__get_hba_channel_scsi_target_lun_some_exception(self): execute_effects = [ ('/sys/class/fc_transport/target6:0:1/port_name\n', ''), Exception() ] expected_cmds = [ mock.call('grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), mock.call('grep -Gil ""514f0c50023f6c01"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), ] hbas, con_props = self.__get_rescan_info() with mock.patch.object(self.lfc, '_execute', side_effect=execute_effects) as execute_mock: res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) execute_mock.assert_has_calls(expected_cmds) expected = ([['0', '1', 1]], {1}) self.assertEqual(expected, res) get_chan_results = [([['2', '3', 1], ['4', '5', 1]], set()), ([['6', '7', 1]], set())] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', [[['2', '3', 1], ['4', '5', 1]], set()], [[['6', '7', 1]], set()], [[], {1}], mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', get_chan_results = [([['2', '3', 1], ['4', '5', 1]], set()), ([], {1})] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', def test_rescan_hosts_port_not_found(self): """"""Test when we don't find the target ports."""""" get_chan_results = [([], {1}), ([], {1})] with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', side_effect=get_chan_results), \ mock.patch.object(self.lfc, '_execute', side_effect=None) as execute_mock: self.lfc.rescan_hosts(hbas, con_props) execute_mock.assert_not_called() def test_rescan_hosts_port_not_found_driver_forces(self): """"""Test when we don't find the target ports but driver forces scan."""""" get_chan_results = [([], {1}), ([], {1})] hbas, con_props = self.__get_rescan_info(zone_manager=True) # Remove the initiator map con_props.pop('initiator_target_map') con_props.pop('initiator_target_lun_map') con_props['force_scan'] = True with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun',"," def test__get_hba_channel_scsi_target_single_wwpn(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map_none(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_multiple_wwpn(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1], ['0', '2', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_multiple_wwpn_and_luns(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1], ['0', '2', 7]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_zone_manager(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_not_found(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) self.assertListEqual([], res) def test__get_hba_channel_scsi_target_exception(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) self.assertEqual(res, [['-', '-', 1]]) get_chan_results = [[['2', '3', 1], ['4', '5', 1]], [['6', '7', 1]]] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', [['2', '3', 1], ['4', '5', 1]], [['6', '7', 1]], [['-', '-', 1]], mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', get_chan_results = [[['2', '3', 1], ['4', '5', 1]], [['-', '-', 1]]] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', def test_rescan_hosts_wildcard(self): """"""Test when we don't have initiator map or target is single WWNN."""""" get_chan_results = [[['-', '-', 1]], [['-', '-', 1]]] with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target',",148,80
openstack%2Ftaskflow~master~I17eca0692c4a89ff90cfa9d4ef3947d2c9ee23e7,openstack/taskflow,master,I17eca0692c4a89ff90cfa9d4ef3947d2c9ee23e7,Fix python3.8 hmac compatibility,MERGED,2019-09-03 21:45:38.000000000,2019-11-14 03:21:44.000000000,2019-11-14 03:20:41.000000000,"[{'_account_id': 6928}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-03 21:45:38.000000000', 'files': ['taskflow/engines/action_engine/process_executor.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/433659932b7c45966ddb63ee26911c6a5c7f4725', 'message': 'Fix python3.8 hmac compatibility\n\nThe ""digestmod"" parameter must be passed in for Python 3.8.\n\nmd5 was chosen here because this is what was implicitly used\nfor Python < 3.8.\n\nChange-Id: I17eca0692c4a89ff90cfa9d4ef3947d2c9ee23e7\n'}]",2,679864,433659932b7c45966ddb63ee26911c6a5c7f4725,12,6,1,4523,,,0,"Fix python3.8 hmac compatibility

The ""digestmod"" parameter must be passed in for Python 3.8.

md5 was chosen here because this is what was implicitly used
for Python < 3.8.

Change-Id: I17eca0692c4a89ff90cfa9d4ef3947d2c9ee23e7
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/64/679864/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/engines/action_engine/process_executor.py'],1,433659932b7c45966ddb63ee26911c6a5c7f4725,,"import hashlib mac = hmac.new(auth_key, body, hashlib.md5).hexdigest()"," mac = hmac.new(auth_key, body).hexdigest()",2,1
openstack%2Ftripleo-common~master~If03d5b4f9f5e84f86d2cd3f7cf6a20ebbfcc390f,openstack/tripleo-common,master,If03d5b4f9f5e84f86d2cd3f7cf6a20ebbfcc390f,"Revert ""Improve Swift healthchecks""",MERGED,2019-11-13 17:43:59.000000000,2019-11-14 03:12:45.000000000,2019-11-14 03:11:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6968}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-13 17:43:59.000000000', 'files': ['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-object-expirer', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6aa6a78fb71dace9f1e8d5f7cacf67ecd57f6419', 'message': 'Revert ""Improve Swift healthchecks""\n\nThis reverts commit 0862fcf98fab43cce64979a1d4a9849498e496fb.\n\nThis broke container builds due to the swift-object-expirer\nstill being referenced https://github.com/openstack/tripleo-common/blob/master/container-images/tripleo_kolla_template_overrides.j2#L1016\n\nChange-Id: If03d5b4f9f5e84f86d2cd3f7cf6a20ebbfcc390f\n'}]",0,694118,6aa6a78fb71dace9f1e8d5f7cacf67ecd57f6419,9,9,1,14985,,,0,"Revert ""Improve Swift healthchecks""

This reverts commit 0862fcf98fab43cce64979a1d4a9849498e496fb.

This broke container builds due to the swift-object-expirer
still being referenced https://github.com/openstack/tripleo-common/blob/master/container-images/tripleo_kolla_template_overrides.j2#L1016

Change-Id: If03d5b4f9f5e84f86d2cd3f7cf6a20ebbfcc390f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/694118/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-object-expirer', 'healthcheck/swift-proxy']",10,6aa6a78fb71dace9f1e8d5f7cacf67ecd57f6419,,"else # TODO(mmagr): Remove this once swift_object_expirer container will start # using swift-object-expirer kolla image conf=/etc/swift/object-expirer.conf cache=/var/cache/swift/object.recon interval=$(get_config_val $conf object-expirer interval 300) if ! healthcheck_file_modification $cache $interval; then echo ""Cache file $cache was not updated within interval of $interval seconds."" exit 1 fi",,71,42
openstack%2Ftripleo-ci~master~I2a6b03695b2bbf9966c0810182bc92bfdd3725e7,openstack/tripleo-ci,master,I2a6b03695b2bbf9966c0810182bc92bfdd3725e7,do not log rhui info,MERGED,2019-11-13 17:46:15.000000000,2019-11-14 03:11:24.000000000,2019-11-14 03:11:24.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 17:46:15.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0ab6a5fc62f1fa75b5f9ebb5a80506fc0d5543d4', 'message': 'do not log rhui info\n\nChange-Id: I2a6b03695b2bbf9966c0810182bc92bfdd3725e7\n'}]",0,694120,0ab6a5fc62f1fa75b5f9ebb5a80506fc0d5543d4,9,4,1,9592,,,0,"do not log rhui info

Change-Id: I2a6b03695b2bbf9966c0810182bc92bfdd3725e7
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/20/694120/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,0ab6a5fc62f1fa75b5f9ebb5a80506fc0d5543d4,, - /etc/pki/rhui/,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6f318ee653a8d3673c5e508ff62952c96474136d,openstack/tripleo-heat-templates,stable/train,I6f318ee653a8d3673c5e508ff62952c96474136d,Updates for dcn/dcn-hci sample envs,MERGED,2019-11-12 20:14:35.000000000,2019-11-14 03:11:23.000000000,2019-11-14 03:11:22.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 17130}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 20:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eafd814600fc471392e7a4ce9e96aa28e64406be', 'message': 'Updates for dcn/dcn-hci sample envs\n\nAdds a mapping for OS::TripleO::Network::Ports::OVNDBsVipPort to\nOS::Heat::None for dcn stacks, and adds the ManageNetworks parameter to\nsample environments.\n\nChange-Id: I6f318ee653a8d3673c5e508ff62952c96474136d\n(cherry picked from commit 132aec7cdc9cb35d078dabde0eca1bcccc5c8ecc)\n'}, {'number': 2, 'created': '2019-11-13 02:10:50.000000000', 'files': ['environments/dcn-hci.yaml', 'environments/dcn.yaml', 'sample-env-generator/dcn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1482abe917992a05a7ac44b33537a33902fb551', 'message': 'Updates for dcn/dcn-hci sample envs\n\nAdds a mapping for OS::TripleO::Network::Ports::OVNDBsVipPort to\nOS::Heat::None for dcn stacks, and adds the ManageNetworks parameter to\nsample environments.\n\nChange-Id: I6f318ee653a8d3673c5e508ff62952c96474136d\n(cherry picked from commit 132aec7cdc9cb35d078dabde0eca1bcccc5c8ecc)\n'}]",0,693919,a1482abe917992a05a7ac44b33537a33902fb551,17,6,2,7144,,,0,"Updates for dcn/dcn-hci sample envs

Adds a mapping for OS::TripleO::Network::Ports::OVNDBsVipPort to
OS::Heat::None for dcn stacks, and adds the ManageNetworks parameter to
sample environments.

Change-Id: I6f318ee653a8d3673c5e508ff62952c96474136d
(cherry picked from commit 132aec7cdc9cb35d078dabde0eca1bcccc5c8ecc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/693919/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/dcn-hci.yaml', 'environments/dcn.yaml', 'sample-env-generator/dcn.yaml']",3,eafd814600fc471392e7a4ce9e96aa28e64406be,, network/external.yaml: parameters: - ManageNetworks sample_values: &sample_values ManageNetworks: false OS::TripleO::Network::Ports::OVNDBsVipPort: ../network/ports/noop.yaml <<: *sample_values,,17,0
openstack%2Felection~master~I962fd36cb459f9602415bd016a3ae5145a90870d,openstack/election,master,I962fd36cb459f9602415bd016a3ae5145a90870d,use official Ussuri release name,MERGED,2019-09-27 02:01:03.000000000,2019-11-14 03:10:51.000000000,2019-11-14 03:08:36.000000000,"[{'_account_id': 5263}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 02:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/6d4e74136841e4243613eb7d493ddb1c524dbfac', 'message': 'use official Ussuri release name\n\nChange-Id: I962fd36cb459f9602415bd016a3ae5145a90870d\n'}, {'number': 2, 'created': '2019-09-27 02:06:26.000000000', 'files': ['candidates/ussuri/Tricircle/zhangchi@szzt.com.cn'], 'web_link': 'https://opendev.org/openstack/election/commit/920e76ebbb1f47a651101a327cf0cfa0f245aa03', 'message': 'use official Ussuri release name\n\nChange-Id: I962fd36cb459f9602415bd016a3ae5145a90870d\n'}]",0,685192,920e76ebbb1f47a651101a327cf0cfa0f245aa03,10,3,2,28071,,,0,"use official Ussuri release name

Change-Id: I962fd36cb459f9602415bd016a3ae5145a90870d
",git fetch https://review.opendev.org/openstack/election refs/changes/92/685192/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/ussuri/Tricircle/zhangchi@szzt.com.cn'],1,6d4e74136841e4243613eb7d493ddb1c524dbfac,,"leader for the Ussuri cycle, if you will have me.","leader for the U cycle, if you will have me.",1,1
openstack%2Felection~master~Ib06de473166761c12ea4955802d50b497287614a,openstack/election,master,Ib06de473166761c12ea4955802d50b497287614a,Update tag for September 2019 elections,MERGED,2019-09-10 14:31:03.000000000,2019-11-14 03:09:55.000000000,2019-11-14 03:08:34.000000000,"[{'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-10 14:31:03.000000000', 'files': ['configuration.yaml'], 'web_link': 'https://opendev.org/openstack/election/commit/8e1743ec65f8f09276c5cf204826acb4b741040d', 'message': ""Update tag for September 2019 elections\n\nThis is just a bookkeeping change to reflect that the TC is\nswitching to using OpenStack Release Management automation for\ngovernance repository tags, and these need to be typical numerical\ntags rather than the election-specific tags we've used in the past.\nThe value of this configuration setting is only presently used when\ngenerating electoral rolls, which we did not need to do for the last\nelection due to there being no polls required. As a result, it is\nsafe to update this after the fact to leave a record correlating to\nthe relevant point in the governance repository which would have\nbeen used if we did need to generate rolls.\n\nDepends-On: I619ca1e8c2710ae020b4be4683f96ed345539d40\nChange-Id: Ib06de473166761c12ea4955802d50b497287614a\n""}]",0,681274,8e1743ec65f8f09276c5cf204826acb4b741040d,10,4,1,5263,,,0,"Update tag for September 2019 elections

This is just a bookkeeping change to reflect that the TC is
switching to using OpenStack Release Management automation for
governance repository tags, and these need to be typical numerical
tags rather than the election-specific tags we've used in the past.
The value of this configuration setting is only presently used when
generating electoral rolls, which we did not need to do for the last
election due to there being no polls required. As a result, it is
safe to update this after the fact to leave a record correlating to
the relevant point in the governance repository which would have
been used if we did need to generate rolls.

Depends-On: I619ca1e8c2710ae020b4be4683f96ed345539d40
Change-Id: Ib06de473166761c12ea4955802d50b497287614a
",git fetch https://review.opendev.org/openstack/election refs/changes/74/681274/1 && git format-patch -1 --stdout FETCH_HEAD,['configuration.yaml'],1,8e1743ec65f8f09276c5cf204826acb4b741040d,2019-september,tag: 0.5.0,tag: sep-2019-elections,1,1
openstack%2Fheat~master~I4562a6c243c9010337252d5c57485dc5f64268e1,openstack/heat,master,I4562a6c243c9010337252d5c57485dc5f64268e1,Fix Designate Zone ID lookup,MERGED,2019-11-06 08:41:20.000000000,2019-11-14 03:05:40.000000000,2019-11-12 19:47:56.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 08:41:20.000000000', 'files': ['heat/engine/clients/os/designate.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/03819bd4499233e71641210e87e1270214574c6d', 'message': 'Fix Designate Zone ID lookup\n\nThis was broken by a8fba21f238de0b5a62c97ef8571539aa0f536b5.\n\nChange-Id: I4562a6c243c9010337252d5c57485dc5f64268e1\nTask: 37373\n'}]",0,693134,03819bd4499233e71641210e87e1270214574c6d,20,4,1,4257,,,0,"Fix Designate Zone ID lookup

This was broken by a8fba21f238de0b5a62c97ef8571539aa0f536b5.

Change-Id: I4562a6c243c9010337252d5c57485dc5f64268e1
Task: 37373
",git fetch https://review.opendev.org/openstack/heat refs/changes/34/693134/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/designate.py'],1,03819bd4499233e71641210e87e1270214574c6d,, client = self.client(version='2'), client = self.client(version=self.V2),1,1
openstack%2Felection~master~Idaa64cc2e592931ec601e01250f14bf713aaf143,openstack/election,master,Idaa64cc2e592931ec601e01250f14bf713aaf143,Add Governance link to PTL results,MERGED,2019-10-24 17:41:49.000000000,2019-11-14 03:01:30.000000000,2019-11-14 02:59:53.000000000,"[{'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 17:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/7f38f8d583672905225e885de40b728ad29ae87e', 'message': 'Add Governance link to PTL results\n\nThis adds a link to the official TC project list to the PTL election\nresults page to help anyone looking for current information to find the\ncurrent source of truth.\n\nAlso cleans up some things like emitting some text when there were no\nactual elections like in Ussuri.\n\nChange-Id: Idaa64cc2e592931ec601e01250f14bf713aaf143\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-10-24 18:50:22.000000000', 'files': ['doc/source/_exts/ptl_archive.jinja'], 'web_link': 'https://opendev.org/openstack/election/commit/2a571dec4dbf03759a89fc78f2c5064044be835a', 'message': 'Add Governance link to PTL results\n\nThis adds a link to the official TC project list to the PTL election\nresults page to help anyone looking for current information to find the\ncurrent source of truth.\n\nAlso cleans up some things like emitting some text when there were no\nactual elections like in Ussuri.\n\nChange-Id: Idaa64cc2e592931ec601e01250f14bf713aaf143\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",7,691030,2a571dec4dbf03759a89fc78f2c5064044be835a,14,6,2,11904,,,0,"Add Governance link to PTL results

This adds a link to the official TC project list to the PTL election
results page to help anyone looking for current information to find the
current source of truth.

Also cleans up some things like emitting some text when there were no
actual elections like in Ussuri.

Change-Id: Idaa64cc2e592931ec601e01250f14bf713aaf143
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/election refs/changes/30/691030/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/ptl_archive.jinja'],1,7f38f8d583672905225e885de40b728ad29ae87e,ptl-reference,`Current list of all projects and PTLs <https://governance.openstack.org/tc/reference/projects/>`_ Elected PTLs ------------Election Results ---------------- {% if elections_results|length %}{% else %} No elections were necessary. {% endif %}{% for i in range(election|length + 15) %}={% endfor%},Results -------======================,12,3
openstack%2Felection~master~I67cf2586f300dc65a23c80fef7d142bbe00eaafb,openstack/election,master,I67cf2586f300dc65a23c80fef7d142bbe00eaafb,Replace empty IRC nicks in governance updates,MERGED,2019-09-05 20:36:38.000000000,2019-11-14 03:00:28.000000000,2019-11-14 02:59:10.000000000,"[{'_account_id': 2799}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 20:36:38.000000000', 'files': ['openstack_election/cmds/update_governance.py'], 'web_link': 'https://opendev.org/openstack/election/commit/0e7cfb670b55d7ed0474ebe1d9b1cb8d9957c0a6', 'message': 'Replace empty IRC nicks in governance updates\n\nIn order to make the governance updates consistent with how empty\nIRC nicks were indicated in projects.yaml previously, replace empty\nvalues with the string ""No nick supplied"" instead.\n\nChange-Id: I67cf2586f300dc65a23c80fef7d142bbe00eaafb\n'}]",0,680511,0e7cfb670b55d7ed0474ebe1d9b1cb8d9957c0a6,9,3,1,5263,,,0,"Replace empty IRC nicks in governance updates

In order to make the governance updates consistent with how empty
IRC nicks were indicated in projects.yaml previously, replace empty
values with the string ""No nick supplied"" instead.

Change-Id: I67cf2586f300dc65a23c80fef7d142bbe00eaafb
",git fetch https://review.opendev.org/openstack/election refs/changes/11/680511/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/cmds/update_governance.py'],1,0e7cfb670b55d7ed0474ebe1d9b1cb8d9957c0a6,2019-september," 'ircname': '', # Replace empty IRC nick strings with something useful if not candidates[0]['ircname']: candidates[0]['ircname'] = 'No nick supplied'"," 'ircname': 'No nick supplied',",4,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I6e145d7a54dcd306c4633ebd4d7471a19a967a86,openstack/python-tripleoclient,stable/train,I6e145d7a54dcd306c4633ebd4d7471a19a967a86,Add openstack overcloud export,MERGED,2019-11-13 17:05:25.000000000,2019-11-14 03:00:13.000000000,2019-11-14 02:59:04.000000000,"[{'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 17:05:25.000000000', 'files': ['releasenotes/notes/openstack-overcloud-export-293c8f0f6ab13e91.yaml', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/constants.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/export.py', 'setup.cfg', 'tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bc6d750d8fbaef31cf0053e13742edcba1be5461', 'message': 'Add openstack overcloud export\n\nAdd a new command to export the data from a control plane stack for\nmulti-stack. The created export file can be used as input into a compute\nstack for the multi-stack feature.\n\nAlso refactors the overcloud cell export command to use the same common\ncode.\n\nCloses-Bug: #1850636\nChange-Id: I6e145d7a54dcd306c4633ebd4d7471a19a967a86\n(cherry picked from commit 975f7717029b56c7a2e6113d82e166e7c63fcba2)\n'}]",0,694115,bc6d750d8fbaef31cf0053e13742edcba1be5461,10,4,1,7144,,,0,"Add openstack overcloud export

Add a new command to export the data from a control plane stack for
multi-stack. The created export file can be used as input into a compute
stack for the multi-stack feature.

Also refactors the overcloud cell export command to use the same common
code.

Closes-Bug: #1850636
Change-Id: I6e145d7a54dcd306c4633ebd4d7471a19a967a86
(cherry picked from commit 975f7717029b56c7a2e6113d82e166e7c63fcba2)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/694115/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/openstack-overcloud-export-293c8f0f6ab13e91.yaml', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/constants.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/export.py', 'setup.cfg', 'tripleoclient/v1/overcloud_cell.py']",8,bc6d750d8fbaef31cf0053e13742edcba1be5461,bug/1850636-stable/train,"from tripleoclient import export data = export.export_passwords(swift_client, control_plane_stack) should_filter = True should_filter = False config_download_dir = os.path.join(MISTRAL_VAR, stack_to_export) data['parameter_defaults'].update(export.export_stack( clients.orchestration, stack_to_export, should_filter, config_download_dir)) yaml.safe_dump(data, f, default_flow_style=False)","import jsonimport sysfrom tripleoclient import utils as oooutils # data to export # parameter: Parameter to be exported # file: IF file specified it is taken as source instead of heat # output.File is relative to MISTRAL_VAR/stack_to_export. # filter: in case only specific settings should be # exported from parameter data. export_data = { ""EndpointMap"": { ""parameter"": ""EndpointMapOverride"", }, ""HostsEntry"": { ""parameter"": ""ExtraHostFileEntries"", }, ""GlobalConfig"": { ""parameter"": ""GlobalConfigExtraMapData"", }, ""AllNodesConfig"": { ""file"": ""/group_vars/overcloud.json"", ""parameter"": ""GlobalConfigExtraMapData"", ""filter"": [""oslo_messaging_notify_short_bootstrap_node_name"", ""oslo_messaging_notify_node_names"", ""oslo_messaging_rpc_node_names"", ""memcached_node_ips"", ""ovn_dbs_vip"", ""redis_vip""]}, } # export the data from swift and heat data_real = {} # Export the passwords from swift obj = 'plan-environment.yaml' container = control_plane_stack try: resp_headers, content = swift_client.get_object(container, obj) except Exception as e: self.log.error(""An error happened while exporting the password "" ""file from swift: %s"", str(e)) sys.exit(1) data_real = {'parameter_defaults': yaml.load(content)[""passwords""]} stack = oooutils.get_stack(clients.orchestration, stack_to_export) for export_key, export_param in export_data.items(): data = None if ""file"" in export_param: # get stack data file = MISTRAL_VAR + stack_to_export + export_param[""file""] with open(file, 'r') as ff: try: data = json.load(ff) except Exception: self.log.error( _('Could not read file %s') % file) else: # get stack data data = oooutils.get_stack_output_item(stack, export_key) param = export_param[""parameter""] if data: # do we just want a subset of entries? # When we export information from a cell controller stack # we don't want to filter. if ""filter"" in export_param and not cell_stack: for x in export_param[""filter""]: element = {x: data[x]} if param not in data_real[""parameter_defaults""]: data_real[""parameter_defaults""][param] = element else: data_real[""parameter_defaults""][param].update( element) else: if param not in data_real[""parameter_defaults""]: data_real[""parameter_defaults""][param] = data else: data_real[""parameter_defaults""][param].update(data) else: raise exceptions.CellExportError( ""No data returned to export %s from."" % param) yaml.safe_dump(data_real, f, default_flow_style=False)",513,84
openstack%2Felection~master~Icd2c8614d2bd5b9b2a1624afdfc6e6a1512346f9,openstack/election,master,Icd2c8614d2bd5b9b2a1624afdfc6e6a1512346f9,Py3K support for governance update script,MERGED,2019-09-05 20:36:38.000000000,2019-11-14 02:59:37.000000000,2019-11-14 02:58:28.000000000,"[{'_account_id': 2799}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 20:36:38.000000000', 'files': ['openstack_election/cmds/update_governance.py'], 'web_link': 'https://opendev.org/openstack/election/commit/ebcd45e865caf1117e9964d1b9f790cf0c525910', 'message': 'Py3K support for governance update script\n\nRemove some string/binary conversion calls from the governance\nupdate script which were only relevant for Python 2.7. We run these\nunder tox with a default Python 3.x interpreter now.\n\nChange-Id: Icd2c8614d2bd5b9b2a1624afdfc6e6a1512346f9\n'}]",0,680508,ebcd45e865caf1117e9964d1b9f790cf0c525910,9,3,1,5263,,,0,"Py3K support for governance update script

Remove some string/binary conversion calls from the governance
update script which were only relevant for Python 2.7. We run these
under tox with a default Python 3.x interpreter now.

Change-Id: Icd2c8614d2bd5b9b2a1624afdfc6e6a1512346f9
",git fetch https://review.opendev.org/openstack/election refs/changes/08/680508/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/cmds/update_governance.py'],1,ebcd45e865caf1117e9964d1b9f790cf0c525910,2019-september, fh.write(line), line = line.decode('utf-8') fh.write(line.encode('utf-8')),1,2
openstack%2Felection~master~I24ab692425f57d53669bc69094e72e744c868a25,openstack/election,master,I24ab692425f57d53669bc69094e72e744c868a25,Add appointment placeholders in governance updates,MERGED,2019-09-05 20:36:38.000000000,2019-11-14 02:59:09.000000000,2019-11-14 02:59:09.000000000,"[{'_account_id': 2799}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 20:36:38.000000000', 'files': ['openstack_election/cmds/update_governance.py'], 'web_link': 'https://opendev.org/openstack/election/commit/e57d8da92168ee968e98904da678085713e56cda', 'message': 'Add appointment placeholders in governance updates\n\nWhen no candidate is supplied for a PTL position, replace the PTL\nentry for that project with a placeholder pending subsequent\ngovernance changes in which the TC will set appointments.\n\nChange-Id: I24ab692425f57d53669bc69094e72e744c868a25\n'}]",0,680510,e57d8da92168ee968e98904da678085713e56cda,8,3,1,5263,,,0,"Add appointment placeholders in governance updates

When no candidate is supplied for a PTL position, replace the PTL
entry for that project with a placeholder pending subsequent
governance changes in which the TC will set appointments.

Change-Id: I24ab692425f57d53669bc69094e72e744c868a25
",git fetch https://review.opendev.org/openstack/election refs/changes/10/680510/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/cmds/update_governance.py'],1,e57d8da92168ee968e98904da678085713e56cda,2019-september," try: candidates = candidates_list['candidates'][p] except KeyError: # Add placeholder for required TC appointment in cases # where there is no candidate candidates = [{ 'fullname': 'APPOINTMENT NEEDED', 'ircname': 'No nick supplied', 'email': 'example@example.org', }] print('TC to appoint PTL for %s' % (p)) # Only update the PTL if there is a single candidate", candidates = candidates_list['candidates'][p] # Only update the PTL if there is a sinble candidate # Projects with no candidates need to be appointed by the TC elif nr_candidates == 0: print('Skipping %s TC to appiont' % (p)),12,5
openstack%2Felection~master~I9b62b1d722136246d1987a1a45ca771bdc02579c,openstack/election,master,I9b62b1d722136246d1987a1a45ca771bdc02579c,Detect values of None in utils.get_irc(),MERGED,2019-09-05 20:36:38.000000000,2019-11-14 02:59:09.000000000,2019-11-14 02:59:09.000000000,"[{'_account_id': 2799}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 20:36:38.000000000', 'files': ['openstack_election/utils.py'], 'web_link': 'https://opendev.org/openstack/election/commit/c48852e3bbe3eb9345aa248e69d48302d865e782', 'message': 'Detect values of None in utils.get_irc()\n\nThe intent for the get_irc() function is to return an empty string\nwhen no nick is found, but the API tends to provide a null (None)\nvalue explicitly. When this happens, convert it to the empty string\ntoo.\n\nChange-Id: I9b62b1d722136246d1987a1a45ca771bdc02579c\n'}]",0,680509,c48852e3bbe3eb9345aa248e69d48302d865e782,8,3,1,5263,,,0,"Detect values of None in utils.get_irc()

The intent for the get_irc() function is to return an empty string
when no nick is found, but the API tends to provide a null (None)
value explicitly. When this happens, convert it to the empty string
too.

Change-Id: I9b62b1d722136246d1987a1a45ca771bdc02579c
",git fetch https://review.opendev.org/openstack/election refs/changes/09/680509/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/utils.py'],1,c48852e3bbe3eb9345aa248e69d48302d865e782,2019-september, # The API can return None for nonexistent nicks if irc is None: irc = '',,3,0
openstack%2Fcyborg~master~I84cb846561fba941b2b2cdff422a94928f9bfda1,openstack/cyborg,master,I84cb846561fba941b2b2cdff422a94928f9bfda1,Remove useless glance api_servers define,MERGED,2019-09-29 02:02:32.000000000,2019-11-14 02:54:16.000000000,2019-11-14 02:52:51.000000000,"[{'_account_id': 14070}, {'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-09-29 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/cf2184a673ed99ecb8037e3f651b5a9875ee41bd', 'message': ""Remove useless glance api_servers define\n\nAccording to nova's advice, api_servers is useless and\nWe should get rid of it[1].\n\n[1]. https://review.opendev.org/#/c/682565/ PatchSet 16.\n\nChange-Id: I84cb846561fba941b2b2cdff422a94928f9bfda1\n""}, {'number': 2, 'created': '2019-09-29 05:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3a83df0c0f3d069b0343fab62e6e0a8246c53a71', 'message': ""Remove useless glance api_servers define\n\nAccording to nova's advice, api_servers is useless and\nWe should get rid of it[1].\n\n[1]. https://review.opendev.org/#/c/682565/ PatchSet 16.\n\nChange-Id: I84cb846561fba941b2b2cdff422a94928f9bfda1\n""}, {'number': 3, 'created': '2019-09-30 07:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/308cf7455cf7c97040980ac0dd2cbdfb5922fe6f', 'message': ""Remove useless glance api_servers define\n\nAccording to nova's advice, api_servers is useless and\nWe should get rid of it[1].\n\n[1]. https://review.opendev.org/#/c/682565/ PatchSet 16.\n\nChange-Id: I84cb846561fba941b2b2cdff422a94928f9bfda1\n""}, {'number': 4, 'created': '2019-10-15 11:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8bea2e206580cafd404072cdaf990b82f52689c6', 'message': ""Remove useless glance api_servers define\n\nAccording to nova's advice, api_servers is useless and\nWe should get rid of it[1].\n\n[1]. https://review.opendev.org/#/c/682565/ PatchSet 16.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I84cb846561fba941b2b2cdff422a94928f9bfda1\n""}, {'number': 5, 'created': '2019-10-16 01:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/868a481eb1bb18f6a774b3a40ac4c42873db7d63', 'message': ""Remove useless glance api_servers define\n\nAccording to nova's advice, api_servers is useless and\nWe should get rid of it[1].\n\n[1]. https://review.opendev.org/#/c/682565/ PatchSet 16.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I84cb846561fba941b2b2cdff422a94928f9bfda1\n""}, {'number': 6, 'created': '2019-10-23 08:24:35.000000000', 'files': ['cyborg/conf/glance.py', 'cyborg/context.py', 'cyborg/image/glance.py', 'devstack/lib/cyborg', 'cyborg/api/hooks.py', 'cyborg/common/utils.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9fb411e860232d81252289a3ddca5d5b1297b019', 'message': ""Remove useless glance api_servers define\n\nAccording to nova's advice, api_servers is useless and\nWe should get rid of it[1].\n\n[1]. https://review.opendev.org/#/c/682565/ PatchSet 16.\n\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\nChange-Id: I84cb846561fba941b2b2cdff422a94928f9bfda1\n""}]",11,685542,9fb411e860232d81252289a3ddca5d5b1297b019,51,10,6,28748,,,0,"Remove useless glance api_servers define

According to nova's advice, api_servers is useless and
We should get rid of it[1].

[1]. https://review.opendev.org/#/c/682565/ PatchSet 16.

Co-Authored-By: zhurong <aaronzhu1121@gmail.com>
Change-Id: I84cb846561fba941b2b2cdff422a94928f9bfda1
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/42/685542/6 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/conf/glance.py', 'cyborg/image/glance.py', 'devstack/lib/cyborg']",3,cf2184a673ed99ecb8037e3f651b5a9875ee41bd,remove_useless_glance_api,," iniset $CYBORG_CONF_FILE $section api_servers ""$GLANCE_URL""",13,39
openstack%2Freviewstats~master~I56f863eb7bbdfd4a3ba2aeca8f59fad786db85ee,openstack/reviewstats,master,I56f863eb7bbdfd4a3ba2aeca8f59fad786db85ee,Update requirements.txt / test-requirements.txt,ABANDONED,2017-08-29 17:03:15.000000000,2019-11-14 02:48:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-29 17:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/7e6a48bfce896aa6fe65e3904d050d16efed0210', 'message': 'WIP/DNM: Testing\n\nChange-Id: I56f863eb7bbdfd4a3ba2aeca8f59fad786db85ee\n'}, {'number': 2, 'created': '2017-08-29 18:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/3c3b7b5be0de386015fd50a1b5e04e00af384ba1', 'message': 'WIP/DNM: Testing\n\nChange-Id: I56f863eb7bbdfd4a3ba2aeca8f59fad786db85ee\n'}, {'number': 3, 'created': '2017-08-29 18:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/bf0da150ddfdba33a34ce996034f000fa3cc6303', 'message': 'WIP/DNM: Testing\n\nChange-Id: I56f863eb7bbdfd4a3ba2aeca8f59fad786db85ee\n'}, {'number': 4, 'created': '2017-08-29 19:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/79ee9775593b75408229bb7ef2e6421db481bfd9', 'message': 'WIP/DNM: Testing\n\nChange-Id: I56f863eb7bbdfd4a3ba2aeca8f59fad786db85ee\n'}, {'number': 5, 'created': '2017-08-29 20:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/ddaea134ab5168d35c8a2078f9f54de992c33e90', 'message': 'Update requirements.txt / test-requirements.txt\n\nUpdate requirements.txt / test-requirements.txt and update code to fix\nany errors.\n\nMostly pep8 errors were fixed.\n\nChange-Id: I56f863eb7bbdfd4a3ba2aeca8f59fad786db85ee\n'}, {'number': 6, 'created': '2017-08-29 20:06:42.000000000', 'files': ['reviewstats/utils.py', 'requirements.txt', 'test-requirements.txt', 'reviewstats/cmd/reviewers.py', 'reviewstats/cmd/bugstats.py', 'reviewstats/tests/__init__.py', 'setup.py', 'reviewstats/cmd/openapproved.py', 'reviewstats/cmd/openreviews.py', 'reviewstats/cmd/reviews_for_bugs.py'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/358e950c4a526c47de6acc1a16bc5e0ecfb3961b', 'message': 'Update requirements.txt / test-requirements.txt\n\nUpdate requirements.txt / test-requirements.txt and update code to fix\nany errors.\n\nMostly pep8 errors were fixed.\n\nChange-Id: I56f863eb7bbdfd4a3ba2aeca8f59fad786db85ee\n'}]",1,498878,358e950c4a526c47de6acc1a16bc5e0ecfb3961b,16,4,6,14760,,,0,"Update requirements.txt / test-requirements.txt

Update requirements.txt / test-requirements.txt and update code to fix
any errors.

Mostly pep8 errors were fixed.

Change-Id: I56f863eb7bbdfd4a3ba2aeca8f59fad786db85ee
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/78/498878/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7e6a48bfce896aa6fe65e3904d050d16efed0210,,"hacking>=0.13.0,<0.14 # Apache-2.0 coverage>=4.0,!=4.4 # Apache-2.0 fixtures>=3.0.0 # Apache-2.0/BSDsphinx>=1.6.2 # BSDtestrepository>=0.0.18 # Apache-2.0/BSDtesttools>=1.4.0 # MIT","hacking>=0.5.6,<0.8 coverage>=3.6 fixtures>=0.3.14sphinx>=1.1.2,<1.2testrepository>=0.0.17testtools>=0.9.32",6,6
openstack%2Fnova~master~Ibdc333f155835f27c95d8e50d0a5fab92bbb0780,openstack/nova,master,Ibdc333f155835f27c95d8e50d0a5fab92bbb0780,Fix review link.,MERGED,2019-10-19 03:00:15.000000000,2019-11-14 02:29:49.000000000,2019-11-14 01:46:15.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-19 03:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec91dc6ab1926243057062bf5ba293319559c360', 'message': 'Fix review link.\n\nChange-Id: Ibdc333f155835f27c95d8e50d0a5fab92bbb0780\n'}, {'number': 2, 'created': '2019-11-13 15:54:53.000000000', 'files': ['doc/source/contributor/ptl-guide.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/200a05018248b55bc46cdd72be67466599858738', 'message': 'Fix review link.\n\nChange-Id: Ibdc333f155835f27c95d8e50d0a5fab92bbb0780\n'}]",0,689612,200a05018248b55bc46cdd72be67466599858738,21,9,2,30717,,,0,"Fix review link.

Change-Id: Ibdc333f155835f27c95d8e50d0a5fab92bbb0780
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/689612/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ptl-guide.rst'],1,ec91dc6ab1926243057062bf5ba293319559c360,, * Example: https://review.opendev.org/650964 * Example: https://review.opendev.org/543580, * Example: https://review.openstack.org/650964 * Example: https://review.openstack.org/543580,2,2
openstack%2Ftripleo-upgrade~master~I0b00552a3d0cf2099c1c9eb065c7a60ce1e214e8,openstack/tripleo-upgrade,master,I0b00552a3d0cf2099c1c9eb065c7a60ce1e214e8,Update master for stable/train,MERGED,2019-11-13 13:40:23.000000000,2019-11-14 02:23:30.000000000,2019-11-14 02:23:30.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 13:40:23.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ecf5de05b89ce9bf87972579b358b4db6914fd43', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I0b00552a3d0cf2099c1c9eb065c7a60ce1e214e8\nSem-Ver: feature\n'}]",0,694072,ecf5de05b89ce9bf87972579b358b4db6914fd43,6,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I0b00552a3d0cf2099c1c9eb065c7a60ce1e214e8
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/72/694072/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,ecf5de05b89ce9bf87972579b358b4db6914fd43,reno-train, train,,7,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I67787f0cee19c50917cce135baf21f09a0926836,openstack/tripleo-upgrade,stable/train,I67787f0cee19c50917cce135baf21f09a0926836,Update .gitreview for stable/train,MERGED,2019-11-13 13:40:21.000000000,2019-11-14 02:23:29.000000000,2019-11-14 02:23:29.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 13:40:21.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e808a76de8078a26db738e0e27e016c948401117', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I67787f0cee19c50917cce135baf21f09a0926836\n'}]",0,694071,e808a76de8078a26db738e0e27e016c948401117,6,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I67787f0cee19c50917cce135baf21f09a0926836
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/71/694071/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e808a76de8078a26db738e0e27e016c948401117,create-train,defaultbranch=stable/train,defaultbranch=master ,1,2
openstack%2Fproject-config~master~I50fc12aac7e8011497e483b77c77981e832c101a,openstack/project-config,master,I50fc12aac7e8011497e483b77c77981e832c101a,zuul layout: include dib in zuul tenant for jobs,MERGED,2019-11-13 23:29:31.000000000,2019-11-14 01:43:27.000000000,2019-11-14 01:43:27.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 23:29:31.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8dcdc526cd92f08b4022b6bf350438b38294f16e', 'message': 'zuul layout: include dib in zuul tenant for jobs\n\nTo allow zuul projects to run and consume DIB docker images, import\nthe DIB jobs into the zuul tenant\n\nChange-Id: I50fc12aac7e8011497e483b77c77981e832c101a\n'}]",0,694178,8dcdc526cd92f08b4022b6bf350438b38294f16e,7,3,1,7118,,,0,"zuul layout: include dib in zuul tenant for jobs

To allow zuul projects to run and consume DIB docker images, import
the DIB jobs into the zuul tenant

Change-Id: I50fc12aac7e8011497e483b77c77981e832c101a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/694178/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,8dcdc526cd92f08b4022b6bf350438b38294f16e,zuul-share-dib-jobs, - openstack/diskimage-builder, - openstack/diskimage-builder,1,1
openstack%2Fpuppet-neutron~master~I709f3bd0076a68ce84d5c0e23afbbfcd23dc83a5,openstack/puppet-neutron,master,I709f3bd0076a68ce84d5c0e23afbbfcd23dc83a5,Add executor_thread_pool_size,MERGED,2019-11-13 04:29:01.000000000,2019-11-14 01:41:31.000000000,2019-11-14 01:39:37.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-13 04:29:01.000000000', 'files': ['spec/classes/neutron_init_spec.rb', 'manifests/init.pp', 'releasenotes/notes/add_executor_thread_pool_size-a81c6faab62d2349.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2b1d8b6be81e79f7c8f18b5e4cd07da483f9b23c', 'message': 'Add executor_thread_pool_size\n\nChange I36324bae39e05dde57b962948f832c22599c13d2 added\nexecutor_thread_pool_size as a new param to oslo::messaging::default,\nbut that option was not updated in many modules like this one. This\nmeans a user cannot set executor_thread_pool_size, as setting it\nanywhere else will throw a duplicate declaration error.\n\nThis change update the oslo::messaging::default call accordingly, and\nadds an option to set it, similar to Change\nId4a61c39ef6392a3d656952467c756be9e68de91\n\nChange-Id: I709f3bd0076a68ce84d5c0e23afbbfcd23dc83a5\n'}]",0,693968,2b1d8b6be81e79f7c8f18b5e4cd07da483f9b23c,11,5,1,8064,,,0,"Add executor_thread_pool_size

Change I36324bae39e05dde57b962948f832c22599c13d2 added
executor_thread_pool_size as a new param to oslo::messaging::default,
but that option was not updated in many modules like this one. This
means a user cannot set executor_thread_pool_size, as setting it
anywhere else will throw a duplicate declaration error.

This change update the oslo::messaging::default call accordingly, and
adds an option to set it, similar to Change
Id4a61c39ef6392a3d656952467c756be9e68de91

Change-Id: I709f3bd0076a68ce84d5c0e23afbbfcd23dc83a5
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/68/693968/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_init_spec.rb', 'manifests/init.pp', 'releasenotes/notes/add_executor_thread_pool_size-a81c6faab62d2349.yaml']",3,2b1d8b6be81e79f7c8f18b5e4cd07da483f9b23c,add_executor_thread_pool_size,--- features: - Add possibility to configure the size of executor thread pool. ,,13,3
openstack%2Fswift~master~I34d8063ee82323c9751b4c965bee01ab584c5eb5,openstack/swift,master,I34d8063ee82323c9751b4c965bee01ab584c5eb5,Follow up punch_hole patch,MERGED,2018-09-14 21:50:16.000000000,2019-11-14 01:19:37.000000000,2019-11-14 01:17:18.000000000,"[{'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-14 21:50:16.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/814a76689f69957f0d092546e07c0c1ce9c3d38b', 'message': 'Follow up punch_hole patch\n\nAdd missing tests to get more coverage and reduce a line.\n\nChange-Id: I34d8063ee82323c9751b4c965bee01ab584c5eb5\n'}]",2,602775,814a76689f69957f0d092546e07c0c1ce9c3d38b,11,3,1,4608,,,0,"Follow up punch_hole patch

Add missing tests to get more coverage and reduce a line.

Change-Id: I34d8063ee82323c9751b4c965bee01ab584c5eb5
",git fetch https://review.opendev.org/openstack/swift refs/changes/75/602775/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/common/test_utils.py']",2,814a76689f69957f0d092546e07c0c1ce9c3d38b,feature/fallocate," sys_fallocate_mock.reset_mock() # negative size will be adjusted as 0 utils.fallocate(0, -1, 0) self.assertEqual( [mock.call(0, utils.FALLOC_FL_KEEP_SIZE, mock.ANY, mock.ANY)], sys_fallocate_mock.mock_calls) self.assertEqual(sys_fallocate_mock.mock_calls[0][1][2].value, 0) self.assertEqual(sys_fallocate_mock.mock_calls[0][1][3].value, 0) utils.punch_hole(0, 1 << 64, 1) with self.assertRaises(ValueError):",,12,2
openstack%2Foslo.utils~stable%2Fstein~Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,openstack/oslo.utils,stable/stein,Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,"Make mask_password case insensitive, and add new patterns",MERGED,2019-11-05 10:12:17.000000000,2019-11-14 01:17:20.000000000,2019-11-14 01:15:38.000000000,"[{'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-05 10:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/122c09dcceadbdac46f53dc5d927a46e8a9ea77c', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n""}, {'number': 2, 'created': '2019-11-05 10:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/b4f9959436b05a5b756bb941d7b005acb2e69e81', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit eb77609bf4f8cc3b23a2d4addb5d4cecc3e7fb5b)\n""}, {'number': 3, 'created': '2019-11-05 11:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/735c76f93702d3e929e450661e4b5fad40c43463', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit b41268417cecb12d1d5955ee3107067edf050221)\n""}, {'number': 4, 'created': '2019-11-13 10:46:28.000000000', 'files': ['releasenotes/notes/mask-password-patterns-f41524069b8ae488.yaml', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/f6d5df161fc7eaffe57e34e9fc20575b93a6f166', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n""}]",3,692971,f6d5df161fc7eaffe57e34e9fc20575b93a6f166,24,7,4,9712,,,0,"Make mask_password case insensitive, and add new patterns

It appears that Mistral service logs everything, and doesn't use yet
the mask_password (nor mask_dict_password) method. In order to ensure
all is properly masked, we have to add some new patterns, and make it
case insensitive in order to simplify and avoid duplicated entries.

Change-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d
Related-Bug: #1850843
Signed-off-by: Cdric Jeanneret <cjeanner@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/71/692971/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mask-password-patterns-f41524069b8ae488.yaml', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py']",3,122c09dcceadbdac46f53dc5d927a46e8a9ea77c,bug/1850843," 'CHAPPASSWORD', 'encrypted_key', 'private_key', 'encryption_key_id', 'fernetkey', 'sslkey', 'passphrase']_FORMAT_PATTERNS_1 = [r'(%(key)s[0-9]*\s*[=]\s*)[^\s^\'^\""]+'] _FORMAT_PATTERNS_2 = [r'(%(key)s[0-9]*\s*[=]\s*[\""\'])[^\""\']*([\""\'])', r'(%(key)s[0-9]*\s+[\""\'])[^\""\']*([\""\'])', r'([-]{2}%(key)s[0-9]*\s+)[^\'^\""^=^\s]+([\s]*)', r'(<%(key)s[0-9]*>)[^<]*(</%(key)s[0-9]*>)', r'([\""\']%(key)s[0-9]*[\""\']\s*:\s*[\""\'])[^\""\']*' '([\""\'])', r'([\'""][^""\']*%(key)s[0-9]*[\'""]\s*:\s*u?[\'""])[^\""\']*' r'([\'""][^\'""]*%(key)s[0-9]*[\'""]\s*,\s*\'--?[A-z]+' '\'\s*,\s*u?[\'""])[^\""\']*([\'""])', r'(%(key)s[0-9]*\s*--?[A-z]+\s*)\S+(\s*)'] reg_ex = re.compile(pattern % {'key': key}, re.DOTALL|re.IGNORECASE) reg_ex = re.compile(pattern % {'key': key}, re.DOTALL|re.IGNORECASE) if key.lower() in message.lower():"," 'CHAPPASSWORD', 'encrypted_key', 'private_key']_FORMAT_PATTERNS_1 = [r'(%(key)s\s*[=]\s*)[^\s^\'^\""]+'] _FORMAT_PATTERNS_2 = [r'(%(key)s\s*[=]\s*[\""\'])[^\""\']*([\""\'])', r'(%(key)s\s+[\""\'])[^\""\']*([\""\'])', r'([-]{2}%(key)s\s+)[^\'^\""^=^\s]+([\s]*)', r'(<%(key)s>)[^<]*(</%(key)s>)', r'([\""\']%(key)s[\""\']\s*:\s*[\""\'])[^\""\']*([\""\'])', r'([\'""][^""\']*%(key)s[\'""]\s*:\s*u?[\'""])[^\""\']*' r'([\'""][^\'""]*%(key)s[\'""]\s*,\s*\'--?[A-z]+\'\s*,\s*u?' '[\'""])[^\""\']*([\'""])', r'(%(key)s\s*--?[A-z]+\s*)\S+(\s*)'] reg_ex = re.compile(pattern % {'key': key}, re.DOTALL) reg_ex = re.compile(pattern % {'key': key}, re.DOTALL) if key in message:",65,14
openstack%2Fnova~stable%2Frocky~I8e400da9445101b9ff5240511c56105e26e16e4c,openstack/nova,stable/rocky,I8e400da9445101b9ff5240511c56105e26e16e4c,"Revert ""openstack server create"" to ""nova boot"" in nova docs",MERGED,2019-11-06 19:39:46.000000000,2019-11-14 01:17:14.000000000,2019-11-14 01:17:13.000000000,"[{'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27478}]","[{'number': 1, 'created': '2019-11-06 19:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dc418c89088512bbfd315e4d9b3cbe26b5d6144', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n'}, {'number': 2, 'created': '2019-11-08 00:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6d245aa41ae0de2da7ef387fae1aa8745e9956d', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\nConflicts:\n      doc/source/user/launch-instance-from-volume.rst\n\nNOTE(amodi): The conflict is due to not having\n16027094ebabc5cd9f2e766431f18aadeff54a40 commit in Rocky\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)\n(cherry picked from commit f2d6dbd77144caf561615d0f552f4e2dc94b7d19)\n'}, {'number': 3, 'created': '2019-11-08 15:49:29.000000000', 'files': ['doc/source/user/launch-instance-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7bb5a11f701704530cf756cd5776f0997d104250', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)\n(cherry picked from commit f2d6dbd77144caf561615d0f552f4e2dc94b7d19)\n'}]",6,693240,7bb5a11f701704530cf756cd5776f0997d104250,20,4,3,27478,,,0,"Revert ""openstack server create"" to ""nova boot"" in nova docs

When this patch [1] was introduced, it didn't take into consideration,
the updated/changed/modified parameters when using OSC vs nova CLI, so not
every option can be used in ""openstack server create"" which was used in ""nova boot""
and vice versa. This bug would track reverting some of these incorrect commands usage.

For example- ""nova boot --block device <params1>"" can be translated as
""openstack server create --block-device-mapping <params2>"" where params1 and
params2 are formatted differently (hence needs more than a simple search/replace)

[1] https://review.opendev.org/#/c/404623/

Related-To: https://review.opendev.org/#/c/404623/
Change-Id: I8e400da9445101b9ff5240511c56105e26e16e4c
Closes-Bug: #1851425
(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)
(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)
(cherry picked from commit f2d6dbd77144caf561615d0f552f4e2dc94b7d19)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/693240/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/launch-instance-from-volume.rst'],1,3dc418c89088512bbfd315e4d9b3cbe26b5d6144,bug/1851425,:command:`nova boot` command: - nova boot parameter $ nova boot --flavor 2 --image 98901246-af91-43d8-b5e6-a4506aa8f369 \ | Property | Value | $ nova boot --flavor FLAVOR --block-device \ $ nova boot --flavor 2 --volume VOLUME_ID \ | Property | Value |,:command:`openstack server create` command: - openstack server create parameter $ openstack server create --flavor 2 --image 98901246-af91-43d8-b5e6-a4506aa8f369 \ | Field | Value | $ openstack server create --flavor FLAVOR --block-device \ $ openstack server create --flavor 2 --volume VOLUME_ID \ | Field | Value |,7,7
openstack%2Fneutron~stable%2Frocky~Ifc565feb98c7f02df5c2831a3607c3e526a2e703,openstack/neutron,stable/rocky,Ifc565feb98c7f02df5c2831a3607c3e526a2e703,Retry creating iptables managers and adding metering rules,MERGED,2019-11-04 21:40:22.000000000,2019-11-14 01:17:04.000000000,2019-11-14 01:17:04.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}, {'_account_id': 28655}, {'_account_id': 30609}]","[{'number': 1, 'created': '2019-11-04 21:40:22.000000000', 'files': ['neutron/services/metering/drivers/abstract_driver.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/services/metering/drivers/noop/noop_driver.py', 'neutron/tests/unit/services/metering/drivers/test_iptables.py', 'neutron/tests/unit/services/metering/agents/test_metering_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/689c1125efcf586daea8c2bbe0c8913f465d22c8', 'message': 'Retry creating iptables managers and adding metering rules\n\nThis change makes the metering agent retry creating the iptables\nmanagers for each router and applying the metering rules.\nThis is needed in case the metering agent starts before some or all of\nthe namespaces are created.\n\nChange-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703\nCloses-Bug: #1807153\n(cherry picked from commit 9f541521bbbcf36325bfc250e3ce27a138ddef3c)\n'}]",0,692910,689c1125efcf586daea8c2bbe0c8913f465d22c8,35,8,1,30609,,,0,"Retry creating iptables managers and adding metering rules

This change makes the metering agent retry creating the iptables
managers for each router and applying the metering rules.
This is needed in case the metering agent starts before some or all of
the namespaces are created.

Change-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703
Closes-Bug: #1807153
(cherry picked from commit 9f541521bbbcf36325bfc250e3ce27a138ddef3c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/692910/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/metering/drivers/abstract_driver.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/services/metering/drivers/noop/noop_driver.py', 'neutron/tests/unit/services/metering/agents/test_metering_agent.py', 'neutron/tests/unit/services/metering/drivers/test_iptables.py']",6,689c1125efcf586daea8c2bbe0c8913f465d22c8,fix-race-condition-in-metering-stable/rocky," def test_sync_router_namespaces(self): routers = TEST_DVR_ROUTER[:1] self.metering._process_ns_specific_metering_label = mock.Mock() self.namespace_exists.return_value = False self.metering.add_metering_label(None, routers) rm = self.metering.routers[routers[0]['id']] self.assertEqual( 0, self.metering._process_ns_specific_metering_label.call_count) self.assertIsNone(rm.snat_iptables_manager) self.assertIsNone(rm.iptables_manager) self.namespace_exists.side_effect = [True, False] self.metering.sync_router_namespaces(None, routers) self.assertIsNotNone(rm.snat_iptables_manager) self.assertIsNone(rm.iptables_manager) self.assertEqual( 1, self.metering._process_ns_specific_metering_label.call_count) self.namespace_exists.side_effect = [True] self.metering.sync_router_namespaces(None, routers) self.assertIsNotNone(rm.snat_iptables_manager) self.assertIsNotNone(rm.iptables_manager) self.assertEqual( 3, self.metering._process_ns_specific_metering_label.call_count) # syncing again should have no effect self.namespace_exists.side_effect = [RuntimeError('Unexpected call')] self.metering.sync_router_namespaces(None, routers) self.assertIsNotNone(rm.snat_iptables_manager) self.assertIsNotNone(rm.iptables_manager) self.assertEqual( 3, self.metering._process_ns_specific_metering_label.call_count)",,114,18
openstack%2Fnova~master~I497180fb81fd966d1d3d4b54ac66d2609347583e,openstack/nova,master,I497180fb81fd966d1d3d4b54ac66d2609347583e,Restrict RequestSpec to cell when evacuating,MERGED,2019-04-05 19:56:57.000000000,2019-11-14 01:14:34.000000000,2019-11-14 01:10:33.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-05 19:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0325023e1a75979389d0df09bd95c4e66edcbab4', 'message': ""Restrict RequestSpec to cell when evacuating\n\nWhen evacuating a server in a multi-cell environment\nwe need to restrict the scheduling request during\nevacuate to the cell in which the instance already exists\nsince we don't support cross-cell evacuate.\n\nThis fixes the issue by restricting the RequestSpec to\nthe instance's current cell during evacuate in the same\nway we do during unshelve.\n\nNote that this should also improve performance when\nrebuilding a server with a new image since we will only\nlook for the ComputeNode from the targeted cell rather\nthan iterate all enabled cells during scheduling.\n\nChange-Id: I497180fb81fd966d1d3d4b54ac66d2609347583e\nCloses-Bug: #1823370\n""}, {'number': 2, 'created': '2019-04-08 15:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e33dc54b6685e5bb6b4a1db55d2521280bf343f', 'message': ""Restrict RequestSpec to cell when evacuating\n\nWhen evacuating a server in a multi-cell environment\nwe need to restrict the scheduling request during\nevacuate to the cell in which the instance already exists\nsince we don't support cross-cell evacuate.\n\nThis fixes the issue by restricting the RequestSpec to\nthe instance's current cell during evacuate in the same\nway we do during unshelve.\n\nNote that this should also improve performance when\nrebuilding a server with a new image since we will only\nlook for the ComputeNode from the targeted cell rather\nthan iterate all enabled cells during scheduling.\n\nChange-Id: I497180fb81fd966d1d3d4b54ac66d2609347583e\nCloses-Bug: #1823370\n""}, {'number': 3, 'created': '2019-08-20 15:20:42.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95df2a239c32f2ee5d00f06a59a9e91b59f3aca5', 'message': ""Restrict RequestSpec to cell when evacuating\n\nWhen evacuating a server in a multi-cell environment\nwe need to restrict the scheduling request during\nevacuate to the cell in which the instance already exists\nsince we don't support cross-cell evacuate.\n\nThis fixes the issue by restricting the RequestSpec to\nthe instance's current cell during evacuate in the same\nway we do during unshelve.\n\nNote that this should also improve performance when\nrebuilding a server with a new image since we will only\nlook for the ComputeNode from the targeted cell rather\nthan iterate all enabled cells during scheduling.\n\nChange-Id: I497180fb81fd966d1d3d4b54ac66d2609347583e\nCloses-Bug: #1823370\n""}]",2,650429,95df2a239c32f2ee5d00f06a59a9e91b59f3aca5,51,16,3,6873,,,0,"Restrict RequestSpec to cell when evacuating

When evacuating a server in a multi-cell environment
we need to restrict the scheduling request during
evacuate to the cell in which the instance already exists
since we don't support cross-cell evacuate.

This fixes the issue by restricting the RequestSpec to
the instance's current cell during evacuate in the same
way we do during unshelve.

Note that this should also improve performance when
rebuilding a server with a new image since we will only
look for the ComputeNode from the targeted cell rather
than iterate all enabled cells during scheduling.

Change-Id: I497180fb81fd966d1d3d4b54ac66d2609347583e
Closes-Bug: #1823370
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/650429/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",3,0325023e1a75979389d0df09bd95c4e66edcbab4,bug/1823369," @staticmethod def _restrict_request_spec_to_cell(context, instance, request_spec): """"""Sets RequestSpec.requested_destination.cell for the move operation Move operations, e.g. evacuate and unshelve, must be restricted to the cell in which the instance already exists, so this method is used to target the RequestSpec, which is sent to the scheduler via the _schedule_instances method, to the instance's current cell. :param context: nova auth RequestContext """""" instance_mapping = \ objects.InstanceMapping.get_by_instance_uuid( context, instance.uuid) LOG.debug('Requesting cell %(cell)s during scheduling', {'cell': instance_mapping.cell_mapping.identity}, instance=instance) if ('requested_destination' in request_spec and request_spec.requested_destination): request_spec.requested_destination.cell = ( instance_mapping.cell_mapping) else: request_spec.requested_destination = ( objects.Destination( cell=instance_mapping.cell_mapping)) self._restrict_request_spec_to_cell( context, instance, request_spec) self._restrict_request_spec_to_cell( context, instance, request_spec)"," instance_mapping = \ objects.InstanceMapping.get_by_instance_uuid( context, instance.uuid) LOG.debug('Requesting cell %(cell)s while unshelving', {'cell': instance_mapping.cell_mapping.identity}, instance=instance) if ('requested_destination' in request_spec and request_spec.requested_destination): request_spec.requested_destination.cell = ( instance_mapping.cell_mapping) else: request_spec.requested_destination = ( objects.Destination( cell=instance_mapping.cell_mapping))",35,19
openstack%2Fkeystone~master~Iba4951e2d3965be5acec705385967d312456f1c7,openstack/keystone,master,Iba4951e2d3965be5acec705385967d312456f1c7,"Revert ""Resource backend is SQL only now""",MERGED,2019-10-10 00:52:21.000000000,2019-11-14 01:14:27.000000000,2019-11-14 01:11:04.000000000,"[{'_account_id': 2}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28471}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-10 00:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/828e4ffc7dc60eb4067396aa0b1ff72c14903dbb', 'message': 'Revert ""Resource backend is SQL only now""\n\nThis reverts commit 3d46c8a5d93529b4050bab635486cfa6b05c9a85.\n\nIn the last commit, the foreign key constraints between the project\ntable and other tables were dropped, which allows us to restore the\nconfigurability of the resource driver.\n\nChange-Id: Iba4951e2d3965be5acec705385967d312456f1c7\n'}, {'number': 2, 'created': '2019-10-11 21:13:10.000000000', 'files': ['releasenotes/notes/resource-driver-33793dd5080ee4d2.yaml', 'keystone/resource/backends/sql.py', 'keystone/resource/core.py', 'keystone/conf/resource.py', 'keystone/tests/unit/test_backend_ldap.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9607ed3266ef84cf3bac8acec172e4088a00b93f', 'message': 'Revert ""Resource backend is SQL only now""\n\nThis reverts commit 3d46c8a5d93529b4050bab635486cfa6b05c9a85.\n\nIn the last commit, the foreign key constraints between the project\ntable and other tables were dropped, which allows us to restore the\nconfigurability of the resource driver.\n\nChange-Id: Iba4951e2d3965be5acec705385967d312456f1c7\n'}]",0,687756,9607ed3266ef84cf3bac8acec172e4088a00b93f,33,8,2,8482,,,0,"Revert ""Resource backend is SQL only now""

This reverts commit 3d46c8a5d93529b4050bab635486cfa6b05c9a85.

In the last commit, the foreign key constraints between the project
table and other tables were dropped, which allows us to restore the
configurability of the resource driver.

Change-Id: Iba4951e2d3965be5acec705385967d312456f1c7
",git fetch https://review.opendev.org/openstack/keystone refs/changes/56/687756/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/resource-driver-33793dd5080ee4d2.yaml', 'keystone/resource/backends/sql.py', 'keystone/resource/core.py', 'keystone/conf/resource.py', 'keystone/tests/unit/test_backend_ldap.py', 'setup.cfg']",6,828e4ffc7dc60eb4067396aa0b1ff72c14903dbb,resource-fk,keystone.resource = sql = keystone.resource.backends.sql:Resource ,,23,25
openstack%2Fkeystone~stable%2Frocky~If1bf5bd785a494923303265797311d42018ba7af,openstack/keystone,stable/rocky,If1bf5bd785a494923303265797311d42018ba7af,Allows to use application credentials through group membership,MERGED,2019-10-18 20:29:05.000000000,2019-11-14 01:12:23.000000000,2019-11-14 01:10:37.000000000,"[{'_account_id': 5046}, {'_account_id': 5575}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 20:29:05.000000000', 'files': ['keystone/models/token_model.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1773967-b59517a09e0e6141.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/cf83fc10569e7b52eeb52c0e164dfe36daeec309', 'message': 'Allows to use application credentials through group membership\n\nWhen using role assignment through groups, the user cannot use\nthe application credentials created. This allows to look up\nthe membership by checking inherited and group assignments.\n\nChange-Id: If1bf5bd785a494923303265797311d42018ba7af\nCloses-Bug: #1773967\n(cherry picked from commit 14b25bc5d18842210cfffe1afdca475e848b84aa)\n(cherry picked from commit 933ea511d150ed2cbbd4265fc7513a9b3435baa2)\n'}]",0,689575,cf83fc10569e7b52eeb52c0e164dfe36daeec309,11,7,1,8482,,,0,"Allows to use application credentials through group membership

When using role assignment through groups, the user cannot use
the application credentials created. This allows to look up
the membership by checking inherited and group assignments.

Change-Id: If1bf5bd785a494923303265797311d42018ba7af
Closes-Bug: #1773967
(cherry picked from commit 14b25bc5d18842210cfffe1afdca475e848b84aa)
(cherry picked from commit 933ea511d150ed2cbbd4265fc7513a9b3435baa2)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/75/689575/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/models/token_model.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1773967-b59517a09e0e6141.yaml']",3,cf83fc10569e7b52eeb52c0e164dfe36daeec309,bug/1773967-patch1-stable/stein-stable/rocky,--- fixes: - | [`bug 1773967 <https://bugs.launchpad.net/keystone/+bug/1773967>`_] Fixes an issue where users who had role assignments only via a group membership and not via direct assignment could create but not use application credentials. It is important to note that federated users who only have role assignments via a mapped group membership still cannot create application credentials. ,,50,7
openstack%2Fneutron~master~I29781cc967641b27e47441018eb54e92d35588be,openstack/neutron,master,I29781cc967641b27e47441018eb54e92d35588be,fix the spelling mistakes,ABANDONED,2019-09-10 09:35:08.000000000,2019-11-14 01:08:24.000000000,,"[{'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-10 09:35:08.000000000', 'files': ['neutron/locale/ja/LC_MESSAGES/neutron.po', 'neutron/locale/pt_BR/LC_MESSAGES/neutron.po'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6721f8690284c822efa38c021d1a72c59e44db0d', 'message': 'fix the spelling mistakes\n\nChange-Id: I29781cc967641b27e47441018eb54e92d35588be\n'}]",0,681193,6721f8690284c822efa38c021d1a72c59e44db0d,8,6,1,30455,,,0,"fix the spelling mistakes

Change-Id: I29781cc967641b27e47441018eb54e92d35588be
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/681193/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/locale/ja/LC_MESSAGES/neutron.po', 'neutron/locale/pt_BR/LC_MESSAGES/neutron.po']",2,6721f8690284c822efa38c021d1a72c59e44db0d,,"msgstr ""Gerenciamento do Tipo de Servio Neutron""","msgstr ""Gerenciamento do Tipo de Servio Neuron""",2,2
openstack%2Fmurano-dashboard~master~I9abb7209f86f39b81e45dd2b2c3c07dd57dedd6f,openstack/murano-dashboard,master,I9abb7209f86f39b81e45dd2b2c3c07dd57dedd6f,fix the spelling mistakes,ABANDONED,2019-09-10 09:19:33.000000000,2019-11-14 01:05:30.000000000,,"[{'_account_id': 14107}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-10 09:19:33.000000000', 'files': ['muranodashboard/locale/zh_CN/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/53a46528b8d8ab7d279029f168a8488b8ff8e31a', 'message': 'fix the spelling mistakes\n\nChange-Id: I9abb7209f86f39b81e45dd2b2c3c07dd57dedd6f\n'}]",0,681192,53a46528b8d8ab7d279029f168a8488b8ff8e31a,5,3,1,30455,,,0,"fix the spelling mistakes

Change-Id: I9abb7209f86f39b81e45dd2b2c3c07dd57dedd6f
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/92/681192/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/locale/zh_CN/LC_MESSAGES/django.po'],1,53a46528b8d8ab7d279029f168a8488b8ff8e31a,,"msgstr ""OpenStack Neutron""","msgstr ""OpenStack Neuron""",1,1
openstack%2Fnova~master~I19db48bd03855d1a1edbeff5adf15a28abcb5d92,openstack/nova,master,I19db48bd03855d1a1edbeff5adf15a28abcb5d92,Remove unused CannotMigrateWithTargetHost,MERGED,2019-11-12 21:16:34.000000000,2019-11-14 01:05:06.000000000,2019-11-14 00:59:25.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-12 21:16:34.000000000', 'files': ['nova/exception.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fb283dab57f0919d42e9e06cda329357b05cafb2', 'message': 'Remove unused CannotMigrateWithTargetHost\n\nBefore [1] this could be raised from the API resize()\nmethod if getting a RequestSpec failed and a target host\nwas specified for cold migration. Since that change the\nusage of the exception was removed so we can remove it\naltogether since only unit test code is using it.\n\n[1] I34ffaf285718059b55f90e812b57f1e11d566c6f\n\nChange-Id: I19db48bd03855d1a1edbeff5adf15a28abcb5d92\n'}]",0,693936,fb283dab57f0919d42e9e06cda329357b05cafb2,30,14,1,6873,,,0,"Remove unused CannotMigrateWithTargetHost

Before [1] this could be raised from the API resize()
method if getting a RequestSpec failed and a target host
was specified for cold migration. Since that change the
usage of the exception was removed so we can remove it
altogether since only unit test code is using it.

[1] I34ffaf285718059b55f90e812b57f1e11d566c6f

Change-Id: I19db48bd03855d1a1edbeff5adf15a28abcb5d92
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/693936/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",3,fb283dab57f0919d42e9e06cda329357b05cafb2,bp/cross-cell-resize,," def test_migrate_no_request_spec(self): exc_info = exception.CannotMigrateWithTargetHost() self._test_migrate_exception(exc_info, webob.exc.HTTPConflict) ",0,10
openstack%2Fnova~master~I3f55e09641465279b8b92551a2302219fe6fc5ca,openstack/nova,master,I3f55e09641465279b8b92551a2302219fe6fc5ca,Delete _normalize_inventory_from_cn_obj,MERGED,2019-11-07 22:25:48.000000000,2019-11-14 01:02:33.000000000,2019-11-14 00:59:19.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 22:25:48.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/112999e1dd96b06ad091099a31c4ce270221306e', 'message': 'Delete _normalize_inventory_from_cn_obj\n\nWith Ib62ac0b692eb92a2ed364ec9f486ded05def39ad and the\nget_inventory method gone nothing uses this so we can\nremove it now.\n\nChange-Id: I3f55e09641465279b8b92551a2302219fe6fc5ca\n'}]",0,693436,112999e1dd96b06ad091099a31c4ce270221306e,18,13,1,6873,,,0,"Delete _normalize_inventory_from_cn_obj

With Ib62ac0b692eb92a2ed364ec9f486ded05def39ad and the
get_inventory method gone nothing uses this so we can
remove it now.

Change-Id: I3f55e09641465279b8b92551a2302219fe6fc5ca
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/693436/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,112999e1dd96b06ad091099a31c4ce270221306e,update_provider_tree,,"import os_resource_classes as orc# TODO(mriedem): Remove this now that get_inventory isn't being used anymore def _normalize_inventory_from_cn_obj(inv_data, cn): """"""Helper function that injects various information from a compute node object into the inventory dict returned from the virt driver's get_inventory() method. This function allows us to marry information like *_allocation_ratio and reserved memory amounts that are in the compute_nodes DB table and that the virt driver doesn't know about with the information the virt driver *does* know about. Note that if the supplied inv_data contains allocation_ratio, reserved or other fields, we DO NOT override the value with that of the compute node. This is to ensure that the virt driver is the single source of truth regarding inventory information. For instance, the Ironic virt driver will always return a very specific inventory with allocation_ratios pinned to 1.0. :param inv_data: Dict, keyed by resource class, of inventory information returned from virt driver's get_inventory() method :param compute_node: `objects.ComputeNode` describing the compute node """""" if orc.VCPU in inv_data: cpu_inv = inv_data[orc.VCPU] if 'allocation_ratio' not in cpu_inv: cpu_inv['allocation_ratio'] = cn.cpu_allocation_ratio if 'reserved' not in cpu_inv: cpu_inv['reserved'] = CONF.reserved_host_cpus if orc.MEMORY_MB in inv_data: mem_inv = inv_data[orc.MEMORY_MB] if 'allocation_ratio' not in mem_inv: mem_inv['allocation_ratio'] = cn.ram_allocation_ratio if 'reserved' not in mem_inv: mem_inv['reserved'] = CONF.reserved_host_memory_mb if orc.DISK_GB in inv_data: disk_inv = inv_data[orc.DISK_GB] if 'allocation_ratio' not in disk_inv: disk_inv['allocation_ratio'] = cn.disk_allocation_ratio if 'reserved' not in disk_inv: # TODO(johngarbutt) We should either move to reserved_host_disk_gb # or start tracking DISK_MB. reserved_mb = CONF.reserved_host_disk_mb reserved_gb = compute_utils.convert_mb_to_ceil_gb(reserved_mb) disk_inv['reserved'] = reserved_gb ",0,170
openstack%2Fnova~master~Ib62ac0b692eb92a2ed364ec9f486ded05def39ad,openstack/nova,master,Ib62ac0b692eb92a2ed364ec9f486ded05def39ad,Drop compat for non-update_provider_tree code paths,MERGED,2019-11-07 22:17:57.000000000,2019-11-14 00:57:49.000000000,2019-11-14 00:54:44.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 22:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58386ee144a0236561f0743179ceb6f306ab51f0', 'message': 'Drop compat for non-update_provider_tree code paths\n\nIn Train [1] we deprecated support for compute drivers\nthat did not implement the update_provider_tree method.\nThat compat code is now removed.\n\nAs a result there are more things we can remove but those\nwill come in separate changes.\n\n[1] I1eae47bce08f6292d38e893a2122289bcd6f4b58\n\nChange-Id: Ib62ac0b692eb92a2ed364ec9f486ded05def39ad\n'}, {'number': 2, 'created': '2019-11-07 22:20:44.000000000', 'files': ['doc/source/reference/update-provider-tree.rst', 'nova/tests/unit/compute/test_resource_tracker.py', 'releasenotes/notes/ussuri-rm-non-upt-compat-b2847eb93bb609a9.yaml', 'nova/virt/driver.py', 'nova/compute/resource_tracker.py', 'nova/virt/powervm/driver.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c80912866f080c2049fb3860221f55e3c73cbf5e', 'message': 'Drop compat for non-update_provider_tree code paths\n\nIn Train [1] we deprecated support for compute drivers\nthat did not implement the update_provider_tree method.\nThat compat code is now removed along with the get_inventory\nmethod definition and (most) references to it.\n\nAs a result there are more things we can remove but those\nwill come in separate changes.\n\n[1] I1eae47bce08f6292d38e893a2122289bcd6f4b58\n\nChange-Id: Ib62ac0b692eb92a2ed364ec9f486ded05def39ad\n'}]",16,693435,c80912866f080c2049fb3860221f55e3c73cbf5e,26,13,2,6873,,,0,"Drop compat for non-update_provider_tree code paths

In Train [1] we deprecated support for compute drivers
that did not implement the update_provider_tree method.
That compat code is now removed along with the get_inventory
method definition and (most) references to it.

As a result there are more things we can remove but those
will come in separate changes.

[1] I1eae47bce08f6292d38e893a2122289bcd6f4b58

Change-Id: Ib62ac0b692eb92a2ed364ec9f486ded05def39ad
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/693435/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/update-provider-tree.rst', 'nova/tests/unit/compute/test_resource_tracker.py', 'releasenotes/notes/ussuri-rm-non-upt-compat-b2847eb93bb609a9.yaml', 'nova/virt/driver.py', 'nova/compute/resource_tracker.py', 'nova/compute/utils.py']",6,58386ee144a0236561f0743179ceb6f306ab51f0,update_provider_tree,# TODO(mriedem): We should be able to remove this now that the ResourceTracker # requires drivers to implement the update_provider_tree interface.,,57,117
openstack%2Fcharm-deployment-guide~master~Ib97a1c81c09c69c501c3c999726fea8eff34e60d,openstack/charm-deployment-guide,master,Ib97a1c81c09c69c501c3c999726fea8eff34e60d,Add note re nova and cinder for migrating to ceph-mon,MERGED,2019-11-08 23:04:26.000000000,2019-11-14 00:55:46.000000000,2019-11-14 00:54:13.000000000,"[{'_account_id': 11805}, {'_account_id': 20635}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 23:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ec689e8fadcd44d8eea8e223a4840b48a403fbf1', 'message': 'Add note re nova and cinder for migrating to ceph-mon\n\nCloses-Bug: #1776780\n\nChange-Id: Ib97a1c81c09c69c501c3c999726fea8eff34e60d\n'}, {'number': 2, 'created': '2019-11-08 23:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/2b5694ce28742c1021827f1af4c9764c27656510', 'message': 'Add note re nova and cinder for migrating to ceph-mon\n\nCloses-Bug: #1776780\n\nChange-Id: Ib97a1c81c09c69c501c3c999726fea8eff34e60d\n'}, {'number': 3, 'created': '2019-11-13 17:57:03.000000000', 'files': ['deploy-guide/source/app-ceph-migration.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c6b135270da6c5cc1e63271914eb73de6ea6302e', 'message': 'Add note re nova and cinder for migrating to ceph-mon\n\nCloses-Bug: #1776780\n\nChange-Id: Ib97a1c81c09c69c501c3c999726fea8eff34e60d\n'}]",1,693600,c6b135270da6c5cc1e63271914eb73de6ea6302e,14,4,3,30561,,,0,"Add note re nova and cinder for migrating to ceph-mon

Closes-Bug: #1776780

Change-Id: Ib97a1c81c09c69c501c3c999726fea8eff34e60d
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/00/693600/3 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ceph-migration.rst'],1,ec689e8fadcd44d8eea8e223a4840b48a403fbf1,bug/1776780,".. warning:: Every new ceph-mon unit introduced will result in a Ceph monitor receiving a new IP address. However, due to a software issue, this fact is not propagated completely throughout the cloud under certain circumstances, thereby affecting Ceph RBD volume reachability. Any instances previously deployed using Cinder to interface with Ceph, or using Nova's ``libvirt-image-backend=rbd`` setting will necessitate a manual database update to change to the new addresses. For Cinder, its stale data will also need to be updated in the 'block_device_mapping' table. Failure to do this can result in instances unable to start as their volumes cannot be reached. See bug `LP #1452641`_. .. _LP #1452641: https://bugs.launchpad.net/nova/+bug/1452641",,16,0
openstack%2Fnova~master~Iff7805deb041596db30465b52658ca77ddf598dd,openstack/nova,master,Iff7805deb041596db30465b52658ca77ddf598dd,Implement update_provider_tree for mocked driver in test_resource_tracker,MERGED,2019-11-07 21:36:12.000000000,2019-11-13 23:49:21.000000000,2019-11-13 23:44:01.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 21:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96e96e1e73ecae04ec4c77b4500c58d2eced1a7e', 'message': 'Implement update_provider_tree for mocked driver in test_resource_tracker\n\nThis resolves the TODO in the test_resource_tracker module by\nimplementing the update_provider_tree method on the mocked\nvirt driver. As a result a few tests need to mock out the call to\n_sync_compute_service_disabled_trait since we no longer hit the\nNotImplementedError block and skip that method.\n\nThis is part of a series of changes to eventually drop compat for\nnon-update_provider_tree implementations.\n\nChange-Id: Iff7805deb041596db30465b52658ca77ddf598dd\n'}, {'number': 2, 'created': '2019-11-07 22:17:57.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/compute/test_resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6479d492c0237e54defdd4cdf5e43e8bf0b9d231', 'message': 'Implement update_provider_tree for mocked driver in test_resource_tracker\n\nThis resolves the TODO in the test_resource_tracker module by\nimplementing the update_provider_tree method on the mocked\nvirt driver. As a result a few tests need to mock out the call to\n_sync_compute_service_disabled_trait since we no longer hit the\nNotImplementedError block and skip that method.\n\nThe same is done in the functional test as well even though there\nwas no TODO for it in that module.\n\nThis is part of a series of changes to eventually drop compat for\nnon-update_provider_tree implementations.\n\nChange-Id: Iff7805deb041596db30465b52658ca77ddf598dd\n'}]",1,693431,6479d492c0237e54defdd4cdf5e43e8bf0b9d231,23,12,2,6873,,,0,"Implement update_provider_tree for mocked driver in test_resource_tracker

This resolves the TODO in the test_resource_tracker module by
implementing the update_provider_tree method on the mocked
virt driver. As a result a few tests need to mock out the call to
_sync_compute_service_disabled_trait since we no longer hit the
NotImplementedError block and skip that method.

The same is done in the functional test as well even though there
was no TODO for it in that module.

This is part of a series of changes to eventually drop compat for
non-update_provider_tree implementations.

Change-Id: Iff7805deb041596db30465b52658ca77ddf598dd
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/693431/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_resource_tracker.py'],1,96e96e1e73ecae04ec4c77b4500c58d2eced1a7e,update_provider_tree,"from nova.compute import utils as compute_utils def fake_upt(provider_tree, nodename, allocations=None): inventory = { 'VCPU': { 'total': virt_resources['vcpus'], 'min_unit': 1, 'max_unit': virt_resources['vcpus'], 'step_size': 1, 'allocation_ratio': ( CONF.cpu_allocation_ratio or CONF.initial_cpu_allocation_ratio), 'reserved': CONF.reserved_host_cpus, }, 'MEMORY_MB': { 'total': virt_resources['memory_mb'], 'min_unit': 1, 'max_unit': virt_resources['memory_mb'], 'step_size': 1, 'allocation_ratio': ( CONF.ram_allocation_ratio or CONF.initial_ram_allocation_ratio), 'reserved': CONF.reserved_host_memory_mb, }, 'DISK_GB': { 'total': virt_resources['local_gb'], 'min_unit': 1, 'max_unit': virt_resources['local_gb'], 'step_size': 1, 'allocation_ratio': ( CONF.disk_allocation_ratio or CONF.initial_disk_allocation_ratio), 'reserved': compute_utils.convert_mb_to_ceil_gb( CONF.reserved_host_disk_mb), }, } provider_tree.update_inventory(nodename, inventory) vd.update_provider_tree.side_effect = fake_upt self.driver_mock.update_provider_tree.side_effect = NotImplementedError @mock.patch('nova.compute.resource_tracker.ResourceTracker.' '_sync_compute_service_disabled_trait', new=mock.Mock()) @mock.patch('nova.compute.resource_tracker.ResourceTracker.' '_sync_compute_service_disabled_trait', new=mock.Mock()) self.driver_mock.update_provider_tree.side_effect = NotImplementedError @mock.patch('nova.compute.resource_tracker.ResourceTracker.' '_sync_compute_service_disabled_trait', new=mock.Mock()) @mock.patch('nova.compute.resource_tracker.ResourceTracker.' '_sync_compute_service_disabled_trait', new=mock.Mock()) @mock.patch('nova.compute.resource_tracker.ResourceTracker.' '_sync_compute_service_disabled_trait', new=mock.Mock()) @mock.patch('nova.compute.resource_tracker.ResourceTracker.' '_sync_compute_service_disabled_trait', new=mock.Mock()) @mock.patch('nova.compute.resource_tracker.ResourceTracker.' '_sync_compute_service_disabled_trait', new=mock.Mock()) @mock.patch('nova.compute.resource_tracker.ResourceTracker.' '_sync_compute_service_disabled_trait', new=mock.Mock()) @mock.patch('nova.compute.resource_tracker.ResourceTracker.' '_sync_compute_service_disabled_trait', new=mock.Mock())", # TODO(mriedem): Need to make this mocked virt driver implement upt. vd.update_provider_tree.side_effect = NotImplementedError,59,2
openstack%2Fnova~master~I6681734783f7649cedb34e2ea533c00f645e3360,openstack/nova,master,I6681734783f7649cedb34e2ea533c00f645e3360,Remove dead HostAPI.service_delete code,MERGED,2019-11-07 20:12:38.000000000,2019-11-13 23:47:04.000000000,2019-11-13 23:43:46.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 20:12:38.000000000', 'files': ['nova/tests/unit/compute/test_host_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b5da30eacd209b539f25a27aaa785af88691295', 'message': 'Remove dead HostAPI.service_delete code\n\nIe1aa45a508fbba16e969f216398dee15b37a9569 stopped using this\nin the API but at the time there was still some complexity\nwith the Cells v1 API code. Since that Cells v1 code is gone\nnow nothing is using this so we can remove it.\n\nChange-Id: I6681734783f7649cedb34e2ea533c00f645e3360\n'}]",0,693422,8b5da30eacd209b539f25a27aaa785af88691295,21,14,1,6873,,,0,"Remove dead HostAPI.service_delete code

Ie1aa45a508fbba16e969f216398dee15b37a9569 stopped using this
in the API but at the time there was still some complexity
with the Cells v1 API code. Since that Cells v1 code is gone
now nothing is using this so we can remove it.

Change-Id: I6681734783f7649cedb34e2ea533c00f645e3360
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/693422/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_host_api.py', 'nova/compute/api.py']",2,8b5da30eacd209b539f25a27aaa785af88691295,,," def _service_delete(self, context, service_id): """"""Performs the actual Service deletion operation."""""" try: service = _find_service_in_cell(context, service_id=service_id) except exception.NotFound: raise exception.ServiceNotFound(service_id=service_id) service.destroy() # TODO(mriedem): Nothing outside of tests is using this now so we should # be able to remove it. def service_delete(self, context, service_id): """"""Deletes the specified service found via id or uuid."""""" self._service_delete(context, service_id) ",0,56
openstack%2Fnova~master~I2f917627fa451d20b1fd1ff35025481a4e525084,openstack/nova,master,I2f917627fa451d20b1fd1ff35025481a4e525084,Add support matrix for Delete (Abort) on-going live migration,MERGED,2018-12-18 04:06:27.000000000,2019-11-13 23:43:52.000000000,2019-11-13 23:43:51.000000000,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12408}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-18 04:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29d4c34a360f1638a5e03241c726b7ea8db74e73', 'message': 'Add support matrix for Delete (Abort) on-going live migration\n\nThe info of Delete (Abort) on-going live migration is missing\nin support matrix, it could be useful for users to consider\nusing this feature.\n\nThis patch adds it.\n\nChange-Id: I2f917627fa451d20b1fd1ff35025481a4e525084\nCloses-Bug: #1808902\n'}, {'number': 2, 'created': '2018-12-18 06:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f3545d436535aad759427d722ccfba4484ddee5', 'message': 'Add support matrix for Delete (Abort) on-going live migration\n\nThe info of Delete (Abort) on-going live migration is missing\nin support matrix, it could be useful for users to consider\nusing this feature.\n\nThis patch adds it.\n\nChange-Id: I2f917627fa451d20b1fd1ff35025481a4e525084\nCloses-Bug: #1808902\n'}, {'number': 3, 'created': '2018-12-21 02:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8742ea41c320d90c26e76b8dc2f544e8d65f7176', 'message': 'Add support matrix for Delete (Abort) on-going live migration\n\nThe info of Delete (Abort) on-going live migration is missing\nin support matrix, it could be useful for users to consider\nusing this feature.\n\nThis patch adds it.\n\nChange-Id: I2f917627fa451d20b1fd1ff35025481a4e525084\nCloses-Bug: #1808902\n'}, {'number': 4, 'created': '2019-01-21 02:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77a11258faf4f489d3434f2f46402e3d43f934aa', 'message': 'Add support matrix for Delete (Abort) on-going live migration\n\nThe info of Delete (Abort) on-going live migration is missing\nin support matrix, it could be useful for users to consider\nusing this feature.\n\nThis patch adds it.\n\nChange-Id: I2f917627fa451d20b1fd1ff35025481a4e525084\nCloses-Bug: #1808902\n'}, {'number': 5, 'created': '2019-10-30 15:33:32.000000000', 'files': ['api-ref/source/server-migrations.inc', 'doc/source/user/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/70e5c214f06729eda06df4201349c135bec88107', 'message': 'Add support matrix for Delete (Abort) on-going live migration\n\nThe info of Delete (Abort) on-going live migration is missing\nin support matrix, it could be useful for users to consider\nusing this feature.\n\nThis patch adds it.\n\nChange-Id: I2f917627fa451d20b1fd1ff35025481a4e525084\nCloses-Bug: #1808902\n'}]",29,625781,70e5c214f06729eda06df4201349c135bec88107,64,19,5,15888,,,0,"Add support matrix for Delete (Abort) on-going live migration

The info of Delete (Abort) on-going live migration is missing
in support matrix, it could be useful for users to consider
using this feature.

This patch adds it.

Change-Id: I2f917627fa451d20b1fd1ff35025481a4e525084
Closes-Bug: #1808902
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/625781/5 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/server-migrations.inc', 'doc/source/user/support-matrix.ini']",2,29d4c34a360f1638a5e03241c726b7ea8db74e73,bug/1808902,"[operation.abort-on-going-live-migration] title=Abort a on-going live migration status=optional notes=Live migration provides a way to move a running instance to another compute host. But it can sometimes need a large amount of time to complete if an instance has a high rate of memory or disk page access or stuck in queued status if there are too many on-going live migration jobs in the queue. This operation provides the user with an option to abort on-going live migrations. When the on-going live migration job is still in ``QUEUED`` status, it can be aborted regardless of the type of underneath hypervisor, but once the job turn to ``RUNNING`` status, only some of the hypervisors support this feature. cli=nova live-migration-abort <server> <migration> driver.xenserver=missing driver.libvirt-kvm-x86=complete driver.libvirt-kvm-aarch64=missing driver.libvirt-kvm-ppc64=complete driver.libvirt-kvm-s390x=complete driver.libvirt-qemu-x86=complete driver.libvirt-lxc=missing driver.libvirt-xen=complete driver.vmware=missing driver.hyperv=missing driver.ironic=missing driver.libvirt-vz-vm=complete driver.libvirt-vz-ct=complete driver.powervm=missing driver.zvm=missing ",,35,1
openstack%2Foslo.service~master~I0110914432c4b557dcabcac0fad1ba54bcd8be85,openstack/oslo.service,master,I0110914432c4b557dcabcac0fad1ba54bcd8be85,Extend test cert validity to 2049,MERGED,2019-10-10 08:26:37.000000000,2019-11-13 23:40:11.000000000,2019-11-13 23:38:44.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-10 08:26:37.000000000', 'files': ['oslo_service/tests/ssl_cert/ca.crt', 'oslo_service/tests/ssl_cert/certificate.crt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/af8e8c259323cb53c35da9b82ed6e588b9373031', 'message': 'Extend test cert validity to 2049\n\nto make tests pass after 2023\n\nBackground:\nAs part of my work on reproducible builds for openSUSE, I check\nthat software still gives identical build results in the future.\nThe usual offset is +15 years, because that is how long I expect\nsome software will be used in some places.\nThis showed up failing tests in our package build.\n\nSee https://reproducible-builds.org/ for why this matters.\n\nNote: I tested that i586 builds still pass tests on 2037-12-01\nso this change introduces no year2038 problem.\n\nChange-Id: I0110914432c4b557dcabcac0fad1ba54bcd8be85\n'}]",0,687822,af8e8c259323cb53c35da9b82ed6e588b9373031,9,4,1,1446,,,0,"Extend test cert validity to 2049

to make tests pass after 2023

Background:
As part of my work on reproducible builds for openSUSE, I check
that software still gives identical build results in the future.
The usual offset is +15 years, because that is how long I expect
some software will be used in some places.
This showed up failing tests in our package build.

See https://reproducible-builds.org/ for why this matters.

Note: I tested that i586 builds still pass tests on 2037-12-01
so this change introduces no year2038 problem.

Change-Id: I0110914432c4b557dcabcac0fad1ba54bcd8be85
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/22/687822/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_service/tests/ssl_cert/ca.crt', 'oslo_service/tests/ssl_cert/certificate.crt']",2,af8e8c259323cb53c35da9b82ed6e588b9373031,ssl,BQAwDTELMAkGA1UEAxMCQ0EwHhcNMTkxMDA5MDk1OTMwWhcNNDkxMjMxMDk1OTMyAQCIY6IF4S1wSsVV+73KdA006XHtZh0LKAjR+yJyXtvzHgg4g2DqUbUyozEZHtJS gZNpVXjgFOnmYsoUE8gFSQ2duo8mKD9EMI5vYskJ/Qai1/klrIZsWrLROrbKTh2b VSZR1QP2PGVenOp1WugEgFl6IqGE4LeLBlC0O8LS0wa/1L7Kb94b+Kht9Qb3mpo9 61uO13w8xSBPrKA7nc+WD45qAqMOGKoXxuYkOWu37I0Wo0iLZZ79hGI/dwpWCbRY pJuy6NrJJC0IFzSgBahq0UjkSjBAYRtClbgDlqd1NBIbHsU//8jRHtrfrm13lTHp ih0VLmjgmG1o8Ykw0iW2qr2x,BQAwDTELMAkGA1UEAxMCQ0EwHhcNMTgwNDA5MjAxNzAwWhcNMjMwNDA4MjAxNzAwAQBZRABYxl0l7DOmzMbTOR0qcMry7BWeyn+S4b2NeUQm6xQer+H7b0D6hO4bEvM2 l4sjmTYzWUEDqzbe2V40fofaye5PsWJhDdED8X2OJ8op7tFuv8FS2ac/9Z8bh6Bj clEYZT2iFdVTLXtl7za6XzD9A1yQrhE1PTqQmiOZBziGi+UJTs22SU/Z3x1cXKqc gzkZRoG7OZ60XCfwotJDcspfG/bqn5pTW2qMcLilf4UPUeMk3WBbhEvV7Fd+jKe8 0LHsAD4lh2+yUbLYcV3/gQEZ+MESrDhgcWLoy9O9eiZ+odz2kW2gwPXZ6/rr3Ek7 mMvfWWF4vMPlO+vCPFq33jie,14,14
openstack%2Fkolla-ansible~stable%2Ftrain~I1a83f1586e965158acf2c6cd2568de3587662442,openstack/kolla-ansible,stable/train,I1a83f1586e965158acf2c6cd2568de3587662442,Deprecate ODL,MERGED,2019-11-13 16:12:48.000000000,2019-11-13 23:40:00.000000000,2019-11-13 23:38:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-13 16:12:48.000000000', 'files': ['ansible/roles/opendaylight/tasks/main.yml', 'releasenotes/notes/deprecate-opendaylight-aka-odl-d904169a1c2bbee4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e91e1c12d43e103b5d1b6c15455a77cb61fb215', 'message': 'Deprecate ODL\n\nChange-Id: I1a83f1586e965158acf2c6cd2568de3587662442\n'}]",0,694109,3e91e1c12d43e103b5d1b6c15455a77cb61fb215,14,5,1,30491,,,0,"Deprecate ODL

Change-Id: I1a83f1586e965158acf2c6cd2568de3587662442
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/694109/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/opendaylight/tasks/main.yml', 'releasenotes/notes/deprecate-opendaylight-aka-odl-d904169a1c2bbee4.yaml']",2,3e91e1c12d43e103b5d1b6c15455a77cb61fb215,deprecate-odl,--- deprecations: - | Support for deploying OpenDaylight (ODL) is deprecated. In the Ussuri cycle support for deploying ODL will be removed. The version of ODL provided by Kolla has not been supported by Neutron since the Rocky release. It is recommended to use ODL upstream documentation to get it deployed. ,,17,0
openstack%2Fnova~master~I4dfbed3e41c4952efc2900a063cb22753539d6cb,openstack/nova,master,I4dfbed3e41c4952efc2900a063cb22753539d6cb,Remove PlacementAPIConnectFailure handling from AggregateAPI,MERGED,2019-05-22 22:36:36.000000000,2019-11-13 23:31:49.000000000,2019-11-13 23:27:52.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-05-22 22:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ecb06d49dd817662b0ddbdcc5023e2e9389781b', 'message': 'Remove PlacementAPIConnectFailure handling from AggregateAPI\n\nChange Ibd7aa4f8c4ea787774becece324d9051521c44b6 in Rocky\nstarted mirroring aggregate membership changes to the placement\nservice but to ease upgrades (because before that nova-api didn\'t\nrely on placement) the API code would handle failures to connect\nto the placement service. A TODO was added to remove that handling\nin Stein, so it\'s time to remove it.\n\nNote that with the removal of that error handling, the API response\nin both add host to aggregate and remove host from aggregate APIs\nwill be a 500. An error in add_host_to_aggregate should be remedied\nby running the ""nova-manage placement sync_aggregates"" command but\na failure in remove_host_from_aggregate will not be. As such we\nmight want to consider rolling back changes on failure in the\nlatter case.\n\nChange-Id: I4dfbed3e41c4952efc2900a063cb22753539d6cb\n'}, {'number': 2, 'created': '2019-11-04 14:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5310b96c768737bc6dad0e0ba8662e74862fa60', 'message': 'Remove PlacementAPIConnectFailure handling from AggregateAPI\n\nChange Ibd7aa4f8c4ea787774becece324d9051521c44b6 in Rocky\nstarted mirroring aggregate membership changes to the placement\nservice but to ease upgrades (because before that nova-api didn\'t\nrely on placement) the API code would handle failures to connect\nto the placement service. A TODO was added to remove that handling\nin Stein, so it\'s time to remove it.\n\nNote that with the removal of that connection error handling, the\nAPI response in both add host to aggregate and remove host from\naggregate APIs will be a 500. An error in add_host_to_aggregate\nshould be remedied by running the ""nova-manage placement sync_aggregates""\ncommand but a failure in remove_host_from_aggregate will not be [1]. As\nsuch the following in the remove_host_from_aggregate operation is changed:\n\n* ResourceProviderNotFound is still ignored since if we get that the\n  provider likely no longer exists and is not in an aggregate anyway.\n* ResourceProviderUpdateConflict is handled in the route handler to return\n  a 409 rather than 500 error. Anything else raised from\n  SchedulerReportClient.aggregate_remove_host results in a 500 error.\n* The placement work is done first because if that fails the admin can\n  try again from the compute API. Otherwise if we do the placement\n  cleanup after Aggregate.delete_host is called in nova, the admin cannot\n  retry the remove_host action becaues it will fail with\n  AggregateHostNotFound.\n\n[1] https://opendev.org/openstack/nova/src/tag/20.0.0/nova/cmd/manage.py#L2533\n\nChange-Id: I4dfbed3e41c4952efc2900a063cb22753539d6cb\n'}, {'number': 3, 'created': '2019-11-04 14:31:23.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61a528311de710edceb23955b0f49358682760b0', 'message': 'Remove PlacementAPIConnectFailure handling from AggregateAPI\n\nChange Ibd7aa4f8c4ea787774becece324d9051521c44b6 in Rocky\nstarted mirroring aggregate membership changes to the placement\nservice but to ease upgrades (because before that nova-api didn\'t\nrely on placement) the API code would handle failures to connect\nto the placement service. A TODO was added to remove that handling\nin Stein, so it\'s time to remove it.\n\nNote that with the removal of that connection error handling, the\nAPI response in both add host to aggregate and remove host from\naggregate APIs will be a 500. An error in add_host_to_aggregate\nshould be remedied by running the ""nova-manage placement sync_aggregates""\ncommand but a failure in remove_host_from_aggregate will not be [1]. As\nsuch the following in the remove_host_from_aggregate operation is changed:\n\n* ResourceProviderNotFound is still ignored since if we get that the\n  provider likely no longer exists and is not in an aggregate anyway.\n* ResourceProviderUpdateConflict is handled in the route handler to return\n  a 409 rather than 500 error. Anything else raised from\n  SchedulerReportClient.aggregate_remove_host results in a 500 error.\n* The placement work is done first because if that fails the admin can\n  try again from the compute API. Otherwise if we do the placement\n  cleanup after Aggregate.delete_host is called in nova, the admin cannot\n  retry the remove_host action because it will fail with\n  AggregateHostNotFound.\n\n[1] https://opendev.org/openstack/nova/src/tag/20.0.0/nova/cmd/manage.py#L2533\n\nChange-Id: I4dfbed3e41c4952efc2900a063cb22753539d6cb\n'}]",6,660852,61a528311de710edceb23955b0f49358682760b0,39,16,3,6873,,,0,"Remove PlacementAPIConnectFailure handling from AggregateAPI

Change Ibd7aa4f8c4ea787774becece324d9051521c44b6 in Rocky
started mirroring aggregate membership changes to the placement
service but to ease upgrades (because before that nova-api didn't
rely on placement) the API code would handle failures to connect
to the placement service. A TODO was added to remove that handling
in Stein, so it's time to remove it.

Note that with the removal of that connection error handling, the
API response in both add host to aggregate and remove host from
aggregate APIs will be a 500. An error in add_host_to_aggregate
should be remedied by running the ""nova-manage placement sync_aggregates""
command but a failure in remove_host_from_aggregate will not be [1]. As
such the following in the remove_host_from_aggregate operation is changed:

* ResourceProviderNotFound is still ignored since if we get that the
  provider likely no longer exists and is not in an aggregate anyway.
* ResourceProviderUpdateConflict is handled in the route handler to return
  a 409 rather than 500 error. Anything else raised from
  SchedulerReportClient.aggregate_remove_host results in a 500 error.
* The placement work is done first because if that fails the admin can
  try again from the compute API. Otherwise if we do the placement
  cleanup after Aggregate.delete_host is called in nova, the admin cannot
  retry the remove_host action because it will fail with
  AggregateHostNotFound.

[1] https://opendev.org/openstack/nova/src/tag/20.0.0/nova/cmd/manage.py#L2533

Change-Id: I4dfbed3e41c4952efc2900a063cb22753539d6cb
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/660852/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/compute/api.py']",3,5ecb06d49dd817662b0ddbdcc5023e2e9389781b,rm-placement-connect-failure-aggs," # FIXME(mriedem): sync_aggregates does not actually handle # removals, as such should we rollback the changes we made above? # If so, it would probably be easier to do the placement stuff # first."," except exception.PlacementAPIConnectFailure: # NOTE(jaypipes): Rocky should be able to tolerate the nova-api # service not communicating with the Placement API, so just log a # warning here. # TODO(jaypipes): Remove this in Stein, when placement must be able # to be contacted from the nova-api service. LOG.warning(""Failed to associate %s with a placement "" ""aggregate: %s. There was a failure to communicate "" ""with the placement service."", host_name, aggregate.uuid) except exception.PlacementAPIConnectFailure: # NOTE(jaypipes): Rocky should be able to tolerate the nova-api # service not communicating with the Placement API, so just log a # warning here. # TODO(jaypipes): Remove this in Stein, when placement must be able # to be contacted from the nova-api service. LOG.warning(""Failed to remove association of %s with a placement "" ""aggregate: %s. There was a failure to communicate "" ""with the placement service."", host_name, aggregate.uuid)",22,45
openstack%2Foslo.utils~stable%2Frocky~I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c,openstack/oslo.utils,stable/rocky,I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c,Mask encryption_key_id,MERGED,2019-11-13 10:43:01.000000000,2019-11-13 23:29:17.000000000,2019-11-13 23:27:55.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 25837}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-13 10:43:01.000000000', 'files': ['oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/254d8e65471fedce1f17c6664f87c4f197ea7014', 'message': 'Mask encryption_key_id\n\nChange-Id: I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c\nCloses-Bug: #1814365\n(cherry picked from commit 08d76b5373dd19d0425d525983637f260d9be629)\n'}]",0,694038,254d8e65471fedce1f17c6664f87c4f197ea7014,10,4,1,9712,,,0,"Mask encryption_key_id

Change-Id: I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c
Closes-Bug: #1814365
(cherry picked from commit 08d76b5373dd19d0425d525983637f260d9be629)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/38/694038/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py']",2,254d8e65471fedce1f17c6664f87c4f197ea7014,bug/1850843," 'CHAPPASSWORD', 'encrypted_key', 'private_key', 'encryption_key_id']"," 'CHAPPASSWORD', 'encrypted_key', 'private_key']",5,1
openstack%2Fnova~master~I383c486ff1bd1a4bb30ec22779469af6e9308f7c,openstack/nova,master,I383c486ff1bd1a4bb30ec22779469af6e9308f7c,cond: rename 'recreate' var to 'evacuate',MERGED,2019-11-04 20:39:32.000000000,2019-11-13 23:27:10.000000000,2019-11-13 23:22:29.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-04 20:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60b384d8efc99992e5e494f1c4951ac95d9d58d7', 'message': ""cond: rename 'recreate' var to 'evacuate'\n\nLargely cribbed from Ib7276dd23f7c7ba7bd7afe37147a8479feb4b333.\n\nWhen recreate=True, we're evacuating during the rebuild_instance method.\n\nThis is not obvious given the method name, so this change renames the\nvariable at the top of the method and uses the new 'evacuate' variable\nthroughout the rest.\n\nWe could rename the parameter with some RPC version dancing, but that\ngets complicated.\n\nChange-Id: I383c486ff1bd1a4bb30ec22779469af6e9308f7c\n""}, {'number': 2, 'created': '2019-11-04 21:03:52.000000000', 'files': ['nova/conductor/manager.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7590dc791f07cfe557065518a3577058a7bd6432', 'message': ""cond: rename 'recreate' var to 'evacuate'\n\nLargely cribbed from Ib7276dd23f7c7ba7bd7afe37147a8479feb4b333.\n\nWhen recreate=True, we're evacuating during the rebuild_instance method.\n\nThis is not obvious given the method name, so this change renames the\nvariable at the top of the method and uses the new 'evacuate' variable\nthroughout the rest.\n\nWe could rename the parameter with some RPC version dancing, but that\ngets complicated.\n\nChange-Id: I383c486ff1bd1a4bb30ec22779469af6e9308f7c\n""}]",17,692900,7590dc791f07cfe557065518a3577058a7bd6432,31,13,2,14070,,,0,"cond: rename 'recreate' var to 'evacuate'

Largely cribbed from Ib7276dd23f7c7ba7bd7afe37147a8479feb4b333.

When recreate=True, we're evacuating during the rebuild_instance method.

This is not obvious given the method name, so this change renames the
variable at the top of the method and uses the new 'evacuate' variable
throughout the rest.

We could rename the parameter with some RPC version dancing, but that
gets complicated.

Change-Id: I383c486ff1bd1a4bb30ec22779469af6e9308f7c
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/692900/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,60b384d8efc99992e5e494f1c4951ac95d9d58d7,s/recreate/evacuate/-conductor," # recreate=True means the instance is being evacuated from a failed # host to a new destination host (this host). The 'recreate' variable # name is confusing, so rename it to evacuate here at the top, which # is simpler than renaming a parameter in an RPC versioned method. evacuate = recreate # TODO(efried): split 'evacuate_server' event if evacuate: if not evacuate and orig_image_ref != image_ref: recreate=evacuate,"," if recreate: if not recreate and orig_image_ref != image_ref: recreate=recreate,",9,3
openstack%2Fmanila~master~Ifbf3b61b2dc271ad724f4c2f3f7b994bd5710f1b,openstack/manila,master,Ifbf3b61b2dc271ad724f4c2f3f7b994bd5710f1b,Document max Train-release API version,MERGED,2019-11-01 19:02:28.000000000,2019-11-13 23:12:32.000000000,2019-11-01 21:36:03.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-11-01 19:02:28.000000000', 'files': ['manila/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/24337fe73959f11a824540b5dc8b38e93843e2e4', 'message': 'Document max Train-release API version\n\nTrivialFix\n\nChange-Id: Ifbf3b61b2dc271ad724f4c2f3f7b994bd5710f1b\n'}]",0,692603,24337fe73959f11a824540b5dc8b38e93843e2e4,17,8,1,16643,,,0,"Document max Train-release API version

TrivialFix

Change-Id: Ifbf3b61b2dc271ad724f4c2f3f7b994bd5710f1b
",git fetch https://review.opendev.org/openstack/manila refs/changes/03/692603/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/openstack/rest_api_version_history.rst'],1,24337fe73959f11a824540b5dc8b38e93843e2e4,TrivialFix,2.51 (Maximum in Train) -----------------------,2.51 ----,2,2
openstack%2Fvitrage~master~I526ab6c5f4cdd603107b0e89eecd8b01e68a94b9,openstack/vitrage,master,I526ab6c5f4cdd603107b0e89eecd8b01e68a94b9,fix tests,MERGED,2019-11-12 16:39:23.000000000,2019-11-13 23:02:27.000000000,2019-11-13 23:01:12.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 16:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5ef93f744453850b8d30e46a39ad114a1efbf642', 'message': 'fix tests\n\n* fix the path to config file\n* missing test base class\n* changing keys while iterating on a dict\n\nChange-Id: I526ab6c5f4cdd603107b0e89eecd8b01e68a94b9\n'}, {'number': 2, 'created': '2019-11-13 13:52:05.000000000', 'files': ['vitrage/tests/unit/datasources/kubernetes/test_kubernetes_transformer.py', 'vitrage/tests/unit/snmp_parsing/test_snmp_parsing.py', 'vitrage/tests/unit/storage/test_migrations.py', 'vitrage/tests/unit/evaluator/test_template_loader.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/8122f24ebec5d42764673af4df119cd7f583fdaa', 'message': 'fix tests\n\n* fix the path to config file\n* missing test base class\n* changing keys while iterating on a dict\n\nChange-Id: I526ab6c5f4cdd603107b0e89eecd8b01e68a94b9\n'}]",0,693880,8122f24ebec5d42764673af4df119cd7f583fdaa,21,4,2,19134,,,0,"fix tests

* fix the path to config file
* missing test base class
* changing keys while iterating on a dict

Change-Id: I526ab6c5f4cdd603107b0e89eecd8b01e68a94b9
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/80/693880/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/tests/unit/datasources/kubernetes/test_kubernetes_transformer.py', 'vitrage/tests/base.py', 'vitrage/graph/algo_driver/networkx_algorithm.py', 'vitrage/tests/unit/snmp_parsing/test_snmp_parsing.py', 'vitrage/tests/unit/evaluator/test_template_loader.py', 'vitrage/tests/unit/storage/test_migrations.py']",6,5ef93f744453850b8d30e46a39ad114a1efbf642,eyalb/tests," test_fixtures.OpportunisticDBTestMixin, test_base.BaseTestCase):", test_fixtures.OpportunisticDBTestMixin):,17,12
openstack%2Fnova~master~I26706a93ab938cebf2ffa3141bbe1b85a30938b5,openstack/nova,master,I26706a93ab938cebf2ffa3141bbe1b85a30938b5,Automatically revert resize which fails on destination,ABANDONED,2017-05-04 12:10:36.000000000,2019-11-13 22:45:33.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7764}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23310}, {'_account_id': 23498}, {'_account_id': 26490}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-05-04 12:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71021038e06ae796c76f8e3213f23517628aabe2', 'message': 'WIP: Automatically revert resize which fails on destination\n\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\nCloses-Bug: #1686703\n'}, {'number': 2, 'created': '2017-06-26 10:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f98b01f7b3217eb09774f172246bbedc69cf62', 'message': 'WIP: Automatically revert resize which fails on destination\n\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\nCloses-Bug: #1686703\n'}, {'number': 3, 'created': '2017-07-03 12:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdaeb23d3ecb751bd537b12ab25f7c6633f9ac3d', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}, {'number': 4, 'created': '2017-07-05 09:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8510bb1970409d23ec9b9e3fec1263f19121a303', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}, {'number': 5, 'created': '2017-07-31 10:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd86d45d7203664cc170c0701bfff81736cb974a', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}, {'number': 6, 'created': '2017-08-01 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d07d0d595a9e298014bdfd58d360b9d4e8304da', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}, {'number': 7, 'created': '2017-08-02 12:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6392b99c169fdf9b73f9d2d8699f8a44d84f1130', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}, {'number': 8, 'created': '2017-08-03 12:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3362a66610012af9ac2e7e5cac25c4d5ab25ef1', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}, {'number': 9, 'created': '2017-09-08 17:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78b82d2c13ec19c153a2aaf76b013a337e9bcbfb', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}, {'number': 10, 'created': '2017-09-26 11:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c9f2ee30d5a2801ef096ee22adcb2e09a82ed0a', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}, {'number': 11, 'created': '2017-10-30 13:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6a2a618d78ba9b6d03e0915d65d9ff575781bf0', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}, {'number': 12, 'created': '2018-01-22 13:01:49.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/tests/unit/fake_notifier.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'releasenotes/notes/resize-auto-revert-6e1648828aba16b2.yaml', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d1ee02700c10ddefdf17b0ef9138c20cf5730efd', 'message': 'Automatically revert resize which fails on destination\n\nThis change causes a resize/cold migration operation which fails on\nthe destination node to automatically start a revert operation.\n\nCloses-Bug: #1686703\nChange-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5\n'}]",23,462521,d1ee02700c10ddefdf17b0ef9138c20cf5730efd,204,32,12,9555,,,0,"Automatically revert resize which fails on destination

This change causes a resize/cold migration operation which fails on
the destination node to automatically start a revert operation.

Closes-Bug: #1686703
Change-Id: I26706a93ab938cebf2ffa3141bbe1b85a30938b5
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/462521/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/compute/api.py']",2,71021038e06ae796c76f8e3213f23517628aabe2,bug/1686703," self._revert_resize(context, instance, migration, quotas) @check_instance_lock @check_instance_cell @check_instance_state(vm_state=[vm_states.ERROR]) def revert_resize_on_error(self, context, instance, migration): """"""Reverts a resize which failed after migrating to the destination."""""" # NOTE(mdbooth): We expect this to be called after finish_resize has # failed. At this point the instance and migration will both be in an # ERROR state, and quota has already been rolled back. self._revert_resize(context, instance, migration) def _revert_resize(self, context, instance, migration, quotas=None): if quotas is not None: quotas.rollback() if quotas is not None: quotas.commit() reservations = [] if quotas is not None: reservations = quotas.reservations or [] if reservations is None: reservations = [] self.compute_rpcapi.revert_resize(context, instance, migration, migration.dest_compute, reservations)"," quotas.rollback() quotas.commit() self.compute_rpcapi.revert_resize(context, instance, migration, migration.dest_compute, quotas.reservations or [])",29,6
openstack%2Fneutron-dynamic-routing~master~If127a33cec7ce6c4d264a191df37c30decab4daa,openstack/neutron-dynamic-routing,master,If127a33cec7ce6c4d264a191df37c30decab4daa,bgp: Gracefully handle missing last_known_router_id,MERGED,2019-06-14 08:30:19.000000000,2019-11-13 22:35:32.000000000,2019-11-13 22:31:21.000000000,"[{'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 08:30:19.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/4780fe548b86eba7f64a57ccf2d000958c238253', 'message': ""bgp: Gracefully handle missing last_known_router_id\n\nWhen a server is deleted before its floating IP has been disassociated,\nthe notification doens't contain a `last_known_router_id` key, which\nresults in a `KeyError` exception being thrown.\n\nThis commit gracefully handles this situation by setting\n`last_router_id` to `None` when `last_known_router_id` is missing.\n\nChange-Id: If127a33cec7ce6c4d264a191df37c30decab4daa\nCloses-Bug: #1795816\n""}]",0,665328,4780fe548b86eba7f64a57ccf2d000958c238253,12,4,1,18152,,,0,"bgp: Gracefully handle missing last_known_router_id

When a server is deleted before its floating IP has been disassociated,
the notification doens't contain a `last_known_router_id` key, which
results in a `KeyError` exception being thrown.

This commit gracefully handles this situation by setting
`last_router_id` to `None` when `last_known_router_id` is missing.

Change-Id: If127a33cec7ce6c4d264a191df37c30decab4daa
Closes-Bug: #1795816
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/28/665328/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/services/bgp/bgp_plugin.py'],1,4780fe548b86eba7f64a57ccf2d000958c238253,bug/1795816, last_router_id = kwargs.get('last_known_router_id'), last_router_id = kwargs['last_known_router_id'],1,1
openstack%2Fneutron-dynamic-routing~master~Iec565fbdfd4422669dfbb5bc475671956a432df9,openstack/neutron-dynamic-routing,master,Iec565fbdfd4422669dfbb5bc475671956a432df9,Switch to Ussuri jobs,MERGED,2019-10-25 07:06:03.000000000,2019-11-13 22:34:29.000000000,2019-11-13 22:31:20.000000000,"[{'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-25 07:06:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8b0f8bc45d9c8ad6a2c50f02b8e484b65ba2c748', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Iec565fbdfd4422669dfbb5bc475671956a432df9\n'}]",0,691230,8b0f8bc45d9c8ad6a2c50f02b8e484b65ba2c748,16,6,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Iec565fbdfd4422669dfbb5bc475671956a432df9
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/30/691230/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8b0f8bc45d9c8ad6a2c50f02b8e484b65ba2c748,ussuri, - openstack-python3-ussuri-jobs-neutron, - openstack-python3-train-jobs-neutron,1,1
openstack%2Fswift~stable%2Frocky~I571c16c196dae4e4f8fb41904c8850d0054b1fe9,openstack/swift,stable/rocky,I571c16c196dae4e4f8fb41904c8850d0054b1fe9,s3api: Allow clients to upload with UNSIGNED-PAYLOAD,ABANDONED,2019-11-13 17:50:06.000000000,2019-11-13 22:09:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-13 17:50:06.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ac594ef450c5fd516f423e558f44795d44156d13', 'message': 's3api: Allow clients to upload with UNSIGNED-PAYLOAD\n\n(Some versions of?) awscli/boto3 will do v4 signatures but send a\nContent-MD5 for end-to-end validation. Since a X-Amz-Content-SHA256\nis still required to calculate signatures, it uses UNSIGNED-PAYLOAD\nsimilar to how signatures work for pre-signed URLs.\n\nLook for UNSIGNED-PAYLOAD and skip SHA256 validation if set.\n\nChange-Id: I571c16c196dae4e4f8fb41904c8850d0054b1fe9\nRelated-Change: I61eb12455c37376be4d739eee55a5f439216f0e9\n(cherry picked from commit 82e446a8a0c0fd6a81f06717b76ed3d1be26a281)\n(cherry picked from commit 6ed165cf3f65329beaef9977a5fec24ce3ac0b39)\n'}]",0,694121,ac594ef450c5fd516f423e558f44795d44156d13,3,1,1,15343,,,0,"s3api: Allow clients to upload with UNSIGNED-PAYLOAD

(Some versions of?) awscli/boto3 will do v4 signatures but send a
Content-MD5 for end-to-end validation. Since a X-Amz-Content-SHA256
is still required to calculate signatures, it uses UNSIGNED-PAYLOAD
similar to how signatures work for pre-signed URLs.

Look for UNSIGNED-PAYLOAD and skip SHA256 validation if set.

Change-Id: I571c16c196dae4e4f8fb41904c8850d0054b1fe9
Related-Change: I61eb12455c37376be4d739eee55a5f439216f0e9
(cherry picked from commit 82e446a8a0c0fd6a81f06717b76ed3d1be26a281)
(cherry picked from commit 6ed165cf3f65329beaef9977a5fec24ce3ac0b39)
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/694121/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/s3api/test_obj.py'],1,ac594ef450c5fd516f423e558f44795d44156d13,," @s3acl def test_object_PUT_v4_unsigned_payload(self): req = Request.blank( '/bucket/object', environ={'REQUEST_METHOD': 'PUT'}, headers={ 'Authorization': 'AWS4-HMAC-SHA256 ' 'Credential=test:tester/%s/us-east-1/s3/aws4_request, ' 'SignedHeaders=host;x-amz-date, ' 'Signature=hmac' % ( self.get_v4_amz_date_header().split('T', 1)[0]), 'x-amz-date': self.get_v4_amz_date_header(), 'x-amz-storage-class': 'STANDARD', 'x-amz-content-sha256': 'UNSIGNED-PAYLOAD', 'Date': self.get_date_header()}, body=self.object_body) req.date = datetime.now() req.content_type = 'text/plain' status, headers, body = self.call_s3api(req) self.assertEqual(status.split()[0], '200') # Check that s3api returns an etag header. self.assertEqual(headers['etag'], '""%s""' % self.response_headers['etag']) _, _, headers = self.swift.calls_with_headers[-1] # No way to determine ETag to send self.assertNotIn('etag', headers) ",,29,0
openstack%2Fnova~master~I37c5475e66570415b46d0b75edc91547225fd818,openstack/nova,master,I37c5475e66570415b46d0b75edc91547225fd818,Clear instance.launched_on when build fails,MERGED,2019-09-20 20:24:45.000000000,2019-11-13 21:52:01.000000000,2019-11-13 21:45:02.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-20 20:24:45.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e67e71974d1290affbd446c6d4f1ebde1c9e991', 'message': 'Clear instance.launched_on when build fails\n\nDuring the instance claim the resource tracker sets the\ninstance host, node and launched_on values. If the build\nfails the compute manager resets the host and node values\nbut was not clearing the launched_on field so that is done\nin this change.\n\nChange-Id: I37c5475e66570415b46d0b75edc91547225fd818\n'}]",0,683725,0e67e71974d1290affbd446c6d4f1ebde1c9e991,17,12,1,6873,,,0,"Clear instance.launched_on when build fails

During the instance claim the resource tracker sets the
instance host, node and launched_on values. If the build
fails the compute manager resets the host and node values
but was not clearing the launched_on field so that is done
in this change.

Change-Id: I37c5475e66570415b46d0b75edc91547225fd818
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/683725/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",3,0e67e71974d1290affbd446c6d4f1ebde1c9e991,, # NOTE(mriedem): ComputeManager._nil_out_instance_obj_host_and_node is # somewhat tightly coupled to the fields set in this method so if this # method changes that method might need to be updated.,,15,1
openstack%2Fnova~master~I6859b1b840590a5aad63bf59fd4a86ccc5ef6353,openstack/nova,master,I6859b1b840590a5aad63bf59fd4a86ccc5ef6353,Rename Claims resources to compute_node,MERGED,2019-08-30 15:34:06.000000000,2019-11-13 21:49:51.000000000,2019-11-13 21:44:57.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-30 15:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d7104d634127f7c24bba8c2add351002b965893', 'message': 'Rename Claims resources to compute_node\n\nThe ""resources"" arg to a Claim object is actually a ComputeNode\nobject so calling it ""resources"" is confusing. The name actually\ngoes back to when the claims module was added in change\nIb0b856376417f140dc9ed114913f47a8a790b8a2.\n\nThis simply renames that resources arg to compute_node so it\'s\nmore clear to people reading the code what that thing is.\n\nChange-Id: I6859b1b840590a5aad63bf59fd4a86ccc5ef6353\n'}, {'number': 2, 'created': '2019-09-05 21:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/473bff9977d0229f9c4aff6f2733e9020a3a9a87', 'message': 'Rename Claims resources to compute_node\n\nThe ""resources"" arg to a Claim object is actually a ComputeNode\nobject so calling it ""resources"" is confusing. The name actually\ngoes back to when the claims module was added in change\nIb0b856376417f140dc9ed114913f47a8a790b8a2.\n\nThis simply renames that resources arg to compute_node so it\'s\nmore clear to people reading the code what that thing is.\n\nChange-Id: I6859b1b840590a5aad63bf59fd4a86ccc5ef6353\n'}, {'number': 3, 'created': '2019-09-20 19:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9942e3e754842f901296320c198b110b8ff561c', 'message': 'Rename Claims resources to compute_node\n\nThe ""resources"" arg to a Claim object is actually a ComputeNode\nobject so calling it ""resources"" is confusing. The name actually\ngoes back to when the claims module was added in change\nIb0b856376417f140dc9ed114913f47a8a790b8a2.\n\nThis simply renames that resources arg to compute_node so it\'s\nmore clear to people reading the code what that thing is.\n\nChange-Id: I6859b1b840590a5aad63bf59fd4a86ccc5ef6353\n'}, {'number': 4, 'created': '2019-09-23 17:45:54.000000000', 'files': ['nova/tests/unit/compute/test_claims.py', 'nova/compute/claims.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35f74ee42057e264eff66f53ba67ec313cbd6143', 'message': 'Rename Claims resources to compute_node\n\nThe ""resources"" arg to a Claim object is actually a ComputeNode\nobject so calling it ""resources"" is confusing. The name actually\ngoes back to when the claims module was added in change\nIb0b856376417f140dc9ed114913f47a8a790b8a2.\n\nThis simply renames that resources arg to compute_node so it\'s\nmore clear to people reading the code what that thing is.\n\nChange-Id: I6859b1b840590a5aad63bf59fd4a86ccc5ef6353\n'}]",0,679470,35f74ee42057e264eff66f53ba67ec313cbd6143,61,15,4,6873,,,0,"Rename Claims resources to compute_node

The ""resources"" arg to a Claim object is actually a ComputeNode
object so calling it ""resources"" is confusing. The name actually
goes back to when the claims module was added in change
Ib0b856376417f140dc9ed114913f47a8a790b8a2.

This simply renames that resources arg to compute_node so it's
more clear to people reading the code what that thing is.

Change-Id: I6859b1b840590a5aad63bf59fd4a86ccc5ef6353
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/679470/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/claims.py'],1,8d7104d634127f7c24bba8c2add351002b965893,claims-resources-compute-node," def __init__(self, context, instance, nodename, tracker, compute_node, self._claim_test(compute_node, limits) def _claim_test(self, compute_node, limits=None): :param compute_node: available local ComputeNode object reasons = [self._test_numa_topology(compute_node, numa_topology_limit), def _test_numa_topology(self, compute_node, limit): host_topology = (compute_node.numa_topology if 'numa_topology' in compute_node else None) tracker, compute_node, pci_requests, limits=None): compute_node, pci_requests,"," def __init__(self, context, instance, nodename, tracker, resources, self._claim_test(resources, limits) def _claim_test(self, resources, limits=None): :param resources: available local compute node resources reasons = [self._test_numa_topology(resources, numa_topology_limit), def _test_numa_topology(self, resources, limit): host_topology = (resources.numa_topology if 'numa_topology' in resources else None) tracker, resources, pci_requests, limits=None): resources, pci_requests,",10,10
openstack%2Fkolla~master~I2fe57f7cd79724fa8a36bd702d75b013a68ecd1b,openstack/kolla,master,I2fe57f7cd79724fa8a36bd702d75b013a68ecd1b,Remove deprecated images,MERGED,2019-11-12 12:15:26.000000000,2019-11-13 21:39:25.000000000,2019-11-13 21:37:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-12 12:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e7eb9ba400f3590b1bd9c731d23d7c197245e866', 'message': '[Ussuri] Remove deprecated images\n\nChange-Id: I2fe57f7cd79724fa8a36bd702d75b013a68ecd1b\n'}, {'number': 2, 'created': '2019-11-12 12:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/18116a3fe98de1f598a6b393120e619de3d33d95', 'message': 'Remove deprecated images\n\nChange-Id: I2fe57f7cd79724fa8a36bd702d75b013a68ecd1b\n'}, {'number': 3, 'created': '2019-11-12 12:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/622f8b35f807ac8cfe1087a162071f86e7add024', 'message': 'Remove deprecated images\n\nChange-Id: I2fe57f7cd79724fa8a36bd702d75b013a68ecd1b\n'}, {'number': 4, 'created': '2019-11-13 08:17:52.000000000', 'files': ['docker/dragonflow/dragonflow-base/extend_start.sh', 'docker/kubernetes-entrypoint/Dockerfile.j2', 'docker/kube/kube-proxy/Dockerfile.j2', 'docker/kube/kube-scheduler/Dockerfile.j2', 'docker/almanach/almanach-base/Dockerfile.j2', 'docker/kube/kube-discovery/Dockerfile.j2', 'docker/dind/start.sh', 'kolla/common/config.py', 'docker/dragonflow/dragonflow-metadata/Dockerfile.j2', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'docker/kube/kube-apiserver/Dockerfile.j2', 'docker/dragonflow/dragonflow-base/Dockerfile.j2', 'doc/source/matrix_aarch64.csv', 'docker/dragonflow/dragonflow-publisher-service/Dockerfile.j2', 'releasenotes/notes/remove-deprecated-images-ussuri-28547f7179202a9d.yaml', 'docker/macros.j2', 'docker/kube/kube-base/Dockerfile.j2', 'docker/dind/Dockerfile.j2', 'docker/dragonflow/dragonflow-controller/Dockerfile.j2', 'docker/helm-repository/Dockerfile.j2', 'docker/almanach/almanach-collector/Dockerfile.j2', 'docker/almanach/almanach-api/Dockerfile.j2', 'docker/magnum/magnum-conductor/Dockerfile.j2', 'docker/kubetoolbox/Dockerfile.j2', 'docker/almanach/almanach-base/extend_start.sh', 'docker/kube/kube-controller-manager/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a20fa84e29a1f3e7afb15d008c05f37aa58ee3c0', 'message': 'Remove deprecated images\n\nChange-Id: I2fe57f7cd79724fa8a36bd702d75b013a68ecd1b\n'}]",2,693830,a20fa84e29a1f3e7afb15d008c05f37aa58ee3c0,20,6,4,30491,,,0,"Remove deprecated images

Change-Id: I2fe57f7cd79724fa8a36bd702d75b013a68ecd1b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/693830/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/dragonflow/dragonflow-base/extend_start.sh', 'docker/kubernetes-entrypoint/Dockerfile.j2', 'docker/kube/kube-proxy/Dockerfile.j2', 'docker/kube/kube-scheduler/Dockerfile.j2', 'docker/almanach/almanach-base/Dockerfile.j2', 'docker/kube/kube-discovery/Dockerfile.j2', 'docker/dind/start.sh', 'kolla/common/config.py', 'docker/dragonflow/dragonflow-metadata/Dockerfile.j2', 'doc/source/matrix_x86.csv', 'docker/kube/kube-apiserver/Dockerfile.j2', 'docker/dragonflow/dragonflow-base/Dockerfile.j2', 'doc/source/matrix_aarch64.csv', 'docker/dragonflow/dragonflow-publisher-service/Dockerfile.j2', 'releasenotes/notes/remove-deprecated-images-ussuri-28547f7179202a9d.yaml', 'docker/macros.j2', 'docker/kube/kube-base/Dockerfile.j2', 'docker/dind/Dockerfile.j2', 'docker/dragonflow/dragonflow-controller/Dockerfile.j2', 'docker/helm-repository/Dockerfile.j2', 'docker/almanach/almanach-collector/Dockerfile.j2', 'docker/almanach/almanach-api/Dockerfile.j2', 'docker/magnum/magnum-conductor/Dockerfile.j2', 'docker/kubetoolbox/Dockerfile.j2', 'docker/almanach/almanach-base/extend_start.sh', 'docker/kube/kube-controller-manager/Dockerfile.j2']",26,e7eb9ba400f3590b1bd9c731d23d7c197245e866,remove-deprecated-images-ussuri,,"FROM {{ namespace }}/{{ image_prefix }}kube-base:{{ tag }} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" ENV KUBERNETES_COMPONENT=kube-controller-manager {% block kube_controller_manager_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {% if base_package_type == 'rpm' %} {% set ceph_support_packages = [ 'ceph-common' ] %} {% elif base_package_type == 'deb' %} {% set ceph_support_packages = [ 'ceph-common', 'python3-cephfs', 'python3-rados', 'python3-rbd' ] %} {% endif %} {{ macros.install_packages(ceph_support_packages | customizable(""packages"")) }} {% block kube_controller_manager_install %} RUN true \ && curl -L ${KUBERNETES_DOWNLOAD_ROOT}/${KUBERNETES_COMPONENT} -o /usr/bin/${KUBERNETES_COMPONENT} \ && chmod +x /usr/bin/${KUBERNETES_COMPONENT} {% endblock %} # Clear any customisation by Kolla to entrypoint & command ENTRYPOINT [] CMD [] {% block kube_controller_manager_footer %}{% endblock %} {% block footer %}{% endblock %} ",7,516
openstack%2Ftripleo-ansible~master~I7c528e193c7656d71d53908620970e7b51e9e6cc,openstack/tripleo-ansible,master,I7c528e193c7656d71d53908620970e7b51e9e6cc,normalize newlines at end of file,MERGED,2019-11-12 15:07:18.000000000,2019-11-13 21:37:28.000000000,2019-11-13 21:35:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-11-12 15:07:18.000000000', 'files': ['tripleo_ansible/roles/tripleo-image-serve/molecule/legacy_vars/Dockerfile', '_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/molecule/default/Dockerfile.j2', 'tripleo_ansible/roles/test_package_action/molecule/default/Dockerfile', '_skeleton_role_/meta/main.yml.j2', 'tripleo_ansible/roles/octavia-controller-config/templates/ifcfg.j2', 'tripleo_ansible/roles/aide/molecule/default/Dockerfile', 'doc/source/roles/role-backup-and-restore.rst', 'tripleo_ansible/roles/tuned/molecule/isolated/Dockerfile', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/Dockerfile', 'tripleo_ansible/roles/tuned/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/playbook.yml.j2', 'tripleo_ansible/roles/test_package_action/molecule/negative/Dockerfile', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'LICENSE', 'tripleo_ansible/roles/test_package_action/molecule/positive/Dockerfile'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26ebbf1700f5b9a91d31ca185723f496e8914e0a', 'message': 'normalize newlines at end of file\n\nThis is needed for https://review.opendev.org/#/c/693826 which improves\nlinting.\n\nThe funny aspect is that we already had pre-commit rule to check this\ninside the repository but it was not active on CI.\n\nChange-Id: I7c528e193c7656d71d53908620970e7b51e9e6cc\n'}]",0,693858,26ebbf1700f5b9a91d31ca185723f496e8914e0a,13,9,1,24162,,,0,"normalize newlines at end of file

This is needed for https://review.opendev.org/#/c/693826 which improves
linting.

The funny aspect is that we already had pre-commit rule to check this
inside the repository but it was not active on CI.

Change-Id: I7c528e193c7656d71d53908620970e7b51e9e6cc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/693858/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-image-serve/molecule/legacy_vars/Dockerfile', '_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/molecule/default/Dockerfile.j2', 'tripleo_ansible/roles/test_package_action/molecule/default/Dockerfile', '_skeleton_role_/meta/main.yml.j2', 'tripleo_ansible/roles/octavia-controller-config/templates/ifcfg.j2', 'tripleo_ansible/roles/aide/molecule/default/Dockerfile', 'doc/source/roles/role-backup-and-restore.rst', 'tripleo_ansible/roles/tuned/molecule/isolated/Dockerfile', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/Dockerfile', 'tripleo_ansible/roles/tuned/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/playbook.yml.j2', 'tripleo_ansible/roles/test_package_action/molecule/negative/Dockerfile', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'LICENSE', 'tripleo_ansible/roles/test_package_action/molecule/positive/Dockerfile']",16,26ebbf1700f5b9a91d31ca185723f496e8914e0a,,"CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""] ","CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""]",9,16
openstack%2Fopenstack-helm-images~master~Ice908002aa7ea5cd0d4e2231a7dab57f4e22cd54,openstack/openstack-helm-images,master,Ice908002aa7ea5cd0d4e2231a7dab57f4e22cd54,Update Ceph Docker images to Ubuntu 18.04 and Ceph 14.2.4,MERGED,2019-11-08 18:51:48.000000000,2019-11-13 20:26:37.000000000,2019-11-13 20:23:52.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}]","[{'number': 1, 'created': '2019-11-08 18:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8b3ff586ab1428d5635ab2342e9d91e96cac7660', 'message': 'Update Ceph Docker images to Ubuntu 18.04 and Ceph 14.2.4\n\nThis change updates the openstackhelm Ceph Docker images (hosted\nat https://hub.docker.com/r/openstackhelm) to Ubuntu 18.04 and\nCeph 14.2.4. The mirror that hosts the Ceph Nautilus packages only\nprovides packages for Ubuntu Bionic, so the operating system must\nalso be upgraded in order to upgrade Ceph.\n\nChange-Id: Ice908002aa7ea5cd0d4e2231a7dab57f4e22cd54\n'}, {'number': 2, 'created': '2019-11-11 16:40:19.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-daemon/build.sh', 'ceph-rbd-provisioner/build.sh', 'ceph-rbd-provisioner/Dockerfile.ubuntu_bionic', 'ceph-cephfs-provisioner/build.sh', 'ceph-utility/build.sh', 'ceph-config-helper/build.sh', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic', 'ceph-utility/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c1f3c5d9fde340acc291aae4090ae1c1a4591205', 'message': 'Update Ceph Docker images to Ubuntu 18.04 and Ceph 14.2.4\n\nThis change updates the openstackhelm Ceph Docker images (hosted\nat https://hub.docker.com/r/openstackhelm) to Ubuntu 18.04 and\nCeph 14.2.4. The mirror that hosts the Ceph Nautilus packages only\nprovides packages for Ubuntu Bionic, so the operating system must\nalso be upgraded in order to upgrade Ceph.\n\nChange-Id: Ice908002aa7ea5cd0d4e2231a7dab57f4e22cd54\n'}]",0,693577,c1f3c5d9fde340acc291aae4090ae1c1a4591205,12,5,2,29974,,,0,"Update Ceph Docker images to Ubuntu 18.04 and Ceph 14.2.4

This change updates the openstackhelm Ceph Docker images (hosted
at https://hub.docker.com/r/openstackhelm) to Ubuntu 18.04 and
Ceph 14.2.4. The mirror that hosts the Ceph Nautilus packages only
provides packages for Ubuntu Bionic, so the operating system must
also be upgraded in order to upgrade Ceph.

Change-Id: Ice908002aa7ea5cd0d4e2231a7dab57f4e22cd54
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/77/693577/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-daemon/build.sh', 'ceph-rbd-provisioner/build.sh', 'ceph-rbd-provisioner/Dockerfile.ubuntu_bionic', 'ceph-cephfs-provisioner/build.sh', 'ceph-utility/build.sh', 'ceph-config-helper/build.sh', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic', 'ceph-utility/Dockerfile.ubuntu_bionic']",10,8b3ff586ab1428d5635ab2342e9d91e96cac7660,,"ARG FROM=docker.io/ubuntu:bionic FROM ${FROM} ARG CEPH_RELEASE=nautilus ARG KUBE_VERSION=1.16.2 ARG CEPH_REPO=https://mirror.mirantis.com/testing/ceph-nautilus/bionic/ ARG CEPH_KEY=https://mirror.mirantis.com/testing/ceph-nautilus/bionic/archive-ceph-nautilus.key RUN set -xe \ && export DEBIAN_FRONTEND=noninteractive \ && sed -i '/nobody/d' /etc/passwd \ && echo ""nobody:x:65534:65534:nobody:/nonexistent:/bin/bash"" >> /etc/passwd \ && apt-get update && apt-get dist-upgrade -y \ && apt-get install -y wget curl apt-transport-https ca-certificates gnupg\ && wget -q -O- ${CEPH_KEY} | apt-key add - \ && echo ""deb ${CEPH_REPO} bionic main"" | tee /etc/apt/sources.list.d/ceph.list \ && apt-get update && apt-get install -y bash python-oslo.rootwrap moreutils vim sudo screen ceph ceph-common python-rbd radosgw hexedit jq s3cmd rsyslog rsync xz-utils iperf \ && apt-get remove --purge -y wget apt-transport-https && apt-get autoremove -y && apt-get clean && rm -rf /var/lib/apt/lists/* \ && TMP_DIR=$(mktemp --directory) \ && cd ${TMP_DIR} \ && curl -sSL https://dl.k8s.io/v${KUBE_VERSION}/kubernetes-client-linux-amd64.tar.gz | tar -zxv --strip-components=1 \ && mv ${TMP_DIR}/client/bin/kubectl /usr/bin/kubectl \ && chmod +x /usr/bin/kubectl \ && rm -rf ${TMP_DIR} CMD [""/bin/bash""] ",,217,5
openstack%2Fkayobe~master~I5a1bebf1f8b4f96fc593afde8d224073916a704d,openstack/kayobe,master,I5a1bebf1f8b4f96fc593afde8d224073916a704d,Add freezer to image build regex,MERGED,2019-11-08 13:44:57.000000000,2019-11-13 20:21:47.000000000,2019-11-13 20:19:13.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-08 13:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6fb9a798903b26a2016832dc1c643a9c7eb53ec8', 'message': 'Add freezer to image build regex\n\nChange-Id: I5a1bebf1f8b4f96fc593afde8d224073916a704d\n'}, {'number': 2, 'created': '2019-11-13 14:33:13.000000000', 'files': ['ansible/group_vars/all/kolla'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0703d18ba345a94c441bc7422b574cf614983308', 'message': 'Add freezer to image build regex\n\nChange-Id: I5a1bebf1f8b4f96fc593afde8d224073916a704d\n'}]",1,693538,0703d18ba345a94c441bc7422b574cf614983308,14,4,2,28048,,,0,"Add freezer to image build regex

Change-Id: I5a1bebf1f8b4f96fc593afde8d224073916a704d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/38/693538/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/kolla'],1,6fb9a798903b26a2016832dc1c643a9c7eb53ec8,freezer," - regex: freezer enabled: ""{{ kolla_enable_freezer | bool }}""",,2,0
openstack%2Fproject-config~master~I46d724c2a2aa63902022101686e6972cbd01e76c,openstack/project-config,master,I46d724c2a2aa63902022101686e6972cbd01e76c,Cleanup publish-openstack-releasenotes jobs,MERGED,2019-09-29 15:13:11.000000000,2019-11-13 20:08:03.000000000,2019-11-13 20:08:03.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-29 15:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bff03a921b3bd5d2704ca23bb2e130df348add7a', 'message': ""Cleanup publish-openstack-releasenotes jobs\n\nRemove publish-openstack-releasenotes job, it's not used.\n\nNow we don't need publish-openstack-releasenotes-base anymore, so merge\npublish-openstack-releasenotes-python3 and it's parent.\n\nChange-Id: I46d724c2a2aa63902022101686e6972cbd01e76c\n""}, {'number': 2, 'created': '2019-09-29 15:34:07.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7a853c2cbb48d79543733a73bc937156974b3bea', 'message': ""Cleanup publish-openstack-releasenotes jobs\n\nRemove publish-openstack-releasenotes job, it's not used.\n\nNow we don't need publish-openstack-releasenotes-base anymore, so merge\npublish-openstack-releasenotes-python3 and it's parent.\n\nDepends-On: https://review.opendev.org/685598\nDepends-On: https://review.opendev.org/685599\nDepends-On: https://review.opendev.org/685600\nChange-Id: I46d724c2a2aa63902022101686e6972cbd01e76c\n""}]",0,685597,7a853c2cbb48d79543733a73bc937156974b3bea,11,4,2,6547,,,0,"Cleanup publish-openstack-releasenotes jobs

Remove publish-openstack-releasenotes job, it's not used.

Now we don't need publish-openstack-releasenotes-base anymore, so merge
publish-openstack-releasenotes-python3 and it's parent.

Depends-On: https://review.opendev.org/685598
Depends-On: https://review.opendev.org/685599
Depends-On: https://review.opendev.org/685600
Change-Id: I46d724c2a2aa63902022101686e6972cbd01e76c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/97/685597/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,bff03a921b3bd5d2704ca23bb2e130df348add7a,cleanup, name: publish-openstack-releasenotes-python3 Publish the results of build-openstack-releasenotes to Uses python3. # This job is final because its sets the afs_subpath final: true sphinx_python: python3, name: publish-openstack-releasenotes-base Abstract base job to publish the results of build-openstack-releasenotes to # This job is protected-abstract because it sets the afs_subpath protected: true abstract: true name: publish-openstack-releasenotes parent: publish-openstack-releasenotes-base description: | Publish the results of build-openstack-releasenotes to /afs/.openstack.org/docs/releasenotes/{{ zuul.project.short_name }} # This job is final because its parent sets the afs_subpath # variable; it is not safe to let that be overridden in an # untrusted job because it would allow writing outside of the # project's directory on the production doc site. final: true - job: name: publish-openstack-releasenotes-python3 parent: publish-openstack-releasenotes-base description: | Publish the results of build-openstack-releasenotes to /afs/.openstack.org/docs/releasenotes/{{ zuul.project.short_name }} Uses python3. # This job is final because its parent sets the afs_subpath # variable; it is not safe to let that be overridden in an # untrusted job because it would allow writing outside of the # project's directory on the production doc site. final: true vars: sphinx_python: python3 - job:,6,32
openstack%2Fsecurity-doc~master~Id941fbbb917ae8692e0584599ba35f9296edff45,openstack/security-doc,master,Id941fbbb917ae8692e0584599ba35f9296edff45,Add OOSN-0085 - Cinder Ceph secret leakage,MERGED,2019-10-31 03:04:52.000000000,2019-11-13 19:56:47.000000000,2019-11-13 19:54:54.000000000,"[{'_account_id': 5263}, {'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 9535}, {'_account_id': 10607}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 03:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/cecbe5fa570d4f94cfca41aef7b1cfea11da6f7c', 'message': 'Add OOSN-0085 - Cinder Ceph secret leakage\n\nChange-Id: Id941fbbb917ae8692e0584599ba35f9296edff45\nPartial-bug: #1849624\n'}, {'number': 2, 'created': '2019-10-31 12:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/88216a913e1df0ca25abd30c9a84c999fc6a79ac', 'message': 'Add OOSN-0085 - Cinder Ceph secret leakage\n\nChange-Id: Id941fbbb917ae8692e0584599ba35f9296edff45\nPartial-bug: #1849624\n'}, {'number': 3, 'created': '2019-10-31 13:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/728d30a1921fe7b871eb0b163254b7ebb4fa9d05', 'message': 'Add OOSN-0085 - Cinder Ceph secret leakage\n\nChange-Id: Id941fbbb917ae8692e0584599ba35f9296edff45\nPartial-bug: #1849624\n'}, {'number': 4, 'created': '2019-10-31 16:05:13.000000000', 'files': ['security-notes/OSSN-0085'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d7ea3628f2538e073583aba77143f010e339e556', 'message': 'Add OOSN-0085 - Cinder Ceph secret leakage\n\nChange-Id: Id941fbbb917ae8692e0584599ba35f9296edff45\nPartial-bug: #1849624\n'}]",8,692256,d7ea3628f2538e073583aba77143f010e339e556,22,7,4,5314,,,0,"Add OOSN-0085 - Cinder Ceph secret leakage

Change-Id: Id941fbbb917ae8692e0584599ba35f9296edff45
Partial-bug: #1849624
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/56/692256/3 && git format-patch -1 --stdout FETCH_HEAD,['security-notes/OSSN-0085'],1,cecbe5fa570d4f94cfca41aef7b1cfea11da6f7c,bug/1849624,"Cinder configuration option can leak secret key from Ceph backend --- ### Summary ### This vulnerability is present only when Cinder has a Ceph backend *and* the ``rbd_keyring_conf`` option in the Cinder configuration file is set. (The option is unset by default.) Under these circumstances, the keyring content may be leaked to a regular user. ### Affected Services / Software ### Cinder, Pike, Queens, Rocky, Stein, Train ### Discussion ### When the ``rbd_keyring_conf`` option is set, a user who creates a volume and then does a local attach of that volume, may discover the keyring content for the Ceph cluster. If this user gains access to the Ceph cluster independently of Cinder, these credentials may be used to access any volume in the cluster. This issue was reported by Rahpael Glon of OVH. ### Recommended Actions ### Any installation currently using the ``rbd_keyring_conf`` option should immediately stop using that option. In order for Cinder backups to continue working, the Ceph keyring secrets should be deployed directly on cinder-backup hosts in their standard location: /etc/cinder/<backend_name>.keyring.conf ### Contacts / References ### Author: Brian Rosmaita, Red Hat This OSSN : https://wiki.openstack.org/wiki/OSSN/OSSN-0085 Original LaunchPad Bug : https://bugs.launchpad.net/cinder/+bug/1849624 Mailing List : [Security] tag on openstack-discuss@lists.openstack.org OpenStack Security Project : https://launchpad.net/~openstack-ossg ",,35,0
openstack%2Frequirements~master~Iaeeded7d9ffc331206695878b3aaa5401e59a8f3,openstack/requirements,master,Iaeeded7d9ffc331206695878b3aaa5401e59a8f3,Don't use pip3 even though that's the recommendation,ABANDONED,2019-11-13 16:59:21.000000000,2019-11-13 19:52:57.000000000,,"[{'_account_id': 1736}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 14288}]","[{'number': 1, 'created': '2019-11-13 16:59:21.000000000', 'files': ['playbooks/files/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8eb95150f396914f4c21355666777392d5b08e27', 'message': ""Don't use pip3 even though that's the recommendation\n\nChange-Id: Iaeeded7d9ffc331206695878b3aaa5401e59a8f3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,694113,8eb95150f396914f4c21355666777392d5b08e27,5,4,1,11904,,,0,"Don't use pip3 even though that's the recommendation

Change-Id: Iaeeded7d9ffc331206695878b3aaa5401e59a8f3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/694113/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/files/project-requirements-change.py'],1,8eb95150f396914f4c21355666777392d5b08e27,py3," req_pip = os.path.join(req_venv, 'bin/pip')"," req_pip = os.path.join(req_venv, 'bin/pip3')",1,1
openstack%2Fnetworking-bagpipe~stable%2Fqueens~I4589871c7482c8c317c323d9e886169ab8018bd2,openstack/networking-bagpipe,stable/queens,I4589871c7482c8c317c323d9e886169ab8018bd2,Update Zuul releasenotes setup,MERGED,2019-09-29 15:31:37.000000000,2019-11-13 19:51:54.000000000,2019-11-13 19:51:54.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 12021}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-29 15:31:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4e4986d71bead6cecee3b454dd4796b4d4f9640a', 'message': 'Update Zuul releasenotes setup\n\nThe release-notes-jobs template is setup already, remove\nindvidual jobs - they are redundant.\n\nThis is a partial backport of I5fbf32b52ec6a5878761e23a5aee592e8c516bca,\nit is needed to cleanup the Zuul jobs.\n\nChange-Id: I4589871c7482c8c317c323d9e886169ab8018bd2\n(cherry picked from commit dfe50a56c2c882254e332ce62220051725a970b1)\n'}]",0,685599,4e4986d71bead6cecee3b454dd4796b4d4f9640a,12,5,1,6547,,,0,"Update Zuul releasenotes setup

The release-notes-jobs template is setup already, remove
indvidual jobs - they are redundant.

This is a partial backport of I5fbf32b52ec6a5878761e23a5aee592e8c516bca,
it is needed to cleanup the Zuul jobs.

Change-Id: I4589871c7482c8c317c323d9e886169ab8018bd2
(cherry picked from commit dfe50a56c2c882254e332ce62220051725a970b1)
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/99/685599/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4e4986d71bead6cecee3b454dd4796b4d4f9640a,queens/backport/685598,, - build-openstack-releasenotes - build-openstack-releasenotes - publish-openstack-releasenotes,0,3
openstack%2Foslo.utils~stable%2Fstein~I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c,openstack/oslo.utils,stable/stein,I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c,Mask encryption_key_id,MERGED,2019-11-13 10:42:54.000000000,2019-11-13 19:51:12.000000000,2019-11-13 19:48:47.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 25837}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-13 10:42:54.000000000', 'files': ['oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/3bd98032a2b7b6cc4a70d720e57dbd05265bc336', 'message': 'Mask encryption_key_id\n\nChange-Id: I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c\nCloses-Bug: #1814365\n(cherry picked from commit 08d76b5373dd19d0425d525983637f260d9be629)\n'}]",0,694037,3bd98032a2b7b6cc4a70d720e57dbd05265bc336,13,4,1,9712,,,0,"Mask encryption_key_id

Change-Id: I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c
Closes-Bug: #1814365
(cherry picked from commit 08d76b5373dd19d0425d525983637f260d9be629)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/37/694037/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py']",2,3bd98032a2b7b6cc4a70d720e57dbd05265bc336,bug/1850843," 'CHAPPASSWORD', 'encrypted_key', 'private_key', 'encryption_key_id']"," 'CHAPPASSWORD', 'encrypted_key', 'private_key']",5,1
openstack%2Fproject-config~master~I67769e833ed21686fd775bf50720c1269c1b0e98,openstack/project-config,master,I67769e833ed21686fd775bf50720c1269c1b0e98,Add 'Review-Priority' for Neutron repos,MERGED,2019-11-13 15:30:48.000000000,2019-11-13 19:41:37.000000000,2019-11-13 19:41:37.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 15:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4fcd09290dcd4874ffa70c14501ede886a900e9d', 'message': ""Add 'Review-Priority' for Neutron repos\n\nFollowing the work done for Designate with\nId7b4c6b219899fa7ed86554257264af7efe20408, this adds a Review-Priority\nlabel for Neutron to allow easier priority dashboard creation and a\ncleaner way to do procedural blocking during freezes.\n\nChange-Id: I67769e833ed21686fd775bf50720c1269c1b0e98\n""}, {'number': 2, 'created': '2019-11-13 15:36:10.000000000', 'files': ['gerrit/acls/openstack/neutron.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f23e16cd9f4aa560203c8f6f90c430d83afb8617', 'message': ""Add 'Review-Priority' for Neutron repos\n\nFollowing the work done for Designate with\nId7b4c6b219899fa7ed86554257264af7efe20408, this adds a Review-Priority\nlabel for Neutron to allow easier priority dashboard creation and a\ncleaner way to do procedural blocking during freezes.\n\nChange-Id: I67769e833ed21686fd775bf50720c1269c1b0e98\n""}]",1,694095,f23e16cd9f4aa560203c8f6f90c430d83afb8617,9,3,2,11975,,,0,"Add 'Review-Priority' for Neutron repos

Following the work done for Designate with
Id7b4c6b219899fa7ed86554257264af7efe20408, this adds a Review-Priority
label for Neutron to allow easier priority dashboard creation and a
cleaner way to do procedural blocking during freezes.

Change-Id: I67769e833ed21686fd775bf50720c1269c1b0e98
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/694095/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/neutron.config'],1,4fcd09290dcd4874ffa70c14501ede886a900e9d,neutron-review-priority,"label-Review-Priority = -1..+2 neutron-core[label ""Review-Priority""] copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true copyMaxScore = true copyMinScore = true defaultValue = 0 function = AnyWithBlock value = -1 Branch Freeze value = 0 No Priority value = +1 Important Change value = +2 Gate Blocker Fix / Urgent Change ",,13,0
openstack%2Fbarbican~master~I193115b0b65636169f63e2df131506b2cf96c3af,openstack/barbican,master,I193115b0b65636169f63e2df131506b2cf96c3af,Support list containers by type,MERGED,2019-05-07 08:58:34.000000000,2019-11-13 19:39:37.000000000,2019-11-13 19:37:27.000000000,"[{'_account_id': 1091}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 25946}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-05-07 08:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/94e515b4138859e7c36f1796a5635158f7f7fd48', 'message': 'Support list containers by type\n\n`type` parameter is already supported in API, but not passed to db API.\n\nStory: 2003405\nTask: 24537\n\nChange-Id: I193115b0b65636169f63e2df131506b2cf96c3af\n'}, {'number': 2, 'created': '2019-05-07 08:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/de3a739d0ea0da68fd640bc355f714d59f82cb85', 'message': 'Support list containers by type\n\n`type` parameter is already supported in API, but not passed to db API.\n\nChange-Id: I193115b0b65636169f63e2df131506b2cf96c3af\nStory: 2003405\nTask: 24537\n'}, {'number': 3, 'created': '2019-08-06 01:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a514b1310f9009ad0b0f01016541df71407bb3b0', 'message': 'Support list containers by type\n\n`type` parameter is already supported in API, but not passed to db API.\n\nChange-Id: I193115b0b65636169f63e2df131506b2cf96c3af\nStory: 2003405\nTask: 24537\n'}, {'number': 4, 'created': '2019-10-03 14:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b0f06873beeb082ea5643548f1748e8dd02bb925', 'message': 'Support list containers by type\n\n`type` parameter is already supported in API, but not passed to db API.\n\nChange-Id: I193115b0b65636169f63e2df131506b2cf96c3af\nStory: 2003405\nTask: 24537\n'}, {'number': 5, 'created': '2019-10-18 07:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8ea1babd2ebac43739538d84ab167353258c0c01', 'message': 'Support list containers by type\n\n`type` parameter is already supported in API, but not passed to db API.\n\nChange-Id: I193115b0b65636169f63e2df131506b2cf96c3af\nStory: 2003405\nTask: 24537\n'}, {'number': 6, 'created': '2019-10-24 06:03:19.000000000', 'files': ['barbican/model/repositories.py', 'barbican/api/controllers/containers.py', 'barbican/tests/api/controllers/test_containers.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/cc7550ed63f2908fda338b7ec6fcf8c375f7c323', 'message': 'Support list containers by type\n\n`type` parameter is already supported in API, but not passed to db API.\n\nChange-Id: I193115b0b65636169f63e2df131506b2cf96c3af\nStory: 2003405\nTask: 24537\n'}]",0,657550,cc7550ed63f2908fda338b7ec6fcf8c375f7c323,26,13,6,21797,,,0,"Support list containers by type

`type` parameter is already supported in API, but not passed to db API.

Change-Id: I193115b0b65636169f63e2df131506b2cf96c3af
Story: 2003405
Task: 24537
",git fetch https://review.opendev.org/openstack/barbican refs/changes/50/657550/4 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/model/repositories.py', 'barbican/api/controllers/containers.py']",2,94e515b4138859e7c36f1796a5635158f7f7fd48,list_containers_by_type," type_arg=kw.get('type', None),",,5,1
openstack%2Fbarbican~master~Idc6b57e4b77f01df98035c4508594d5921ef2cb6,openstack/barbican,master,Idc6b57e4b77f01df98035c4508594d5921ef2cb6,Debug-log tracebacks in _import_kra_transport_cert_to_nss_db,MERGED,2019-10-11 21:09:45.000000000,2019-11-13 18:59:30.000000000,2019-11-13 18:57:15.000000000,"[{'_account_id': 7973}, {'_account_id': 10873}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-10-11 21:09:45.000000000', 'files': ['barbican/plugin/dogtag.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/1bb46d2bdc504c56c0d81dbb9528998c94f5f3f5', 'message': ""Debug-log tracebacks in _import_kra_transport_cert_to_nss_db\n\nI understand the desire to not log tracebacks for more-or-less expected\nerrors, but the broad exception handling makes problems like\n\n    Error in importing transport cert. KRA may not be enabled:\n    a bytes-like object is required, not 'str'\n\n(as seen in the gate) a bit mysterious.\n\nChange-Id: Idc6b57e4b77f01df98035c4508594d5921ef2cb6\n""}]",0,688203,1bb46d2bdc504c56c0d81dbb9528998c94f5f3f5,13,6,1,15343,,,0,"Debug-log tracebacks in _import_kra_transport_cert_to_nss_db

I understand the desire to not log tracebacks for more-or-less expected
errors, but the broad exception handling makes problems like

    Error in importing transport cert. KRA may not be enabled:
    a bytes-like object is required, not 'str'

(as seen in the gate) a bit mysterious.

Change-Id: Idc6b57e4b77f01df98035c4508594d5921ef2cb6
",git fetch https://review.opendev.org/openstack/barbican refs/changes/03/688203/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/dogtag.py'],1,1bb46d2bdc504c56c0d81dbb9528998c94f5f3f5,," LOG.debug(""Error importing KRA transport cert."", exc_info=True)",,1,0
openstack%2Fcharm-deployment-guide~master~Ia35e962f7a536ca092c3eb5ebce258e1a37d3ab2,openstack/charm-deployment-guide,master,Ia35e962f7a536ca092c3eb5ebce258e1a37d3ab2,Use local devices and avoid loopback storage,MERGED,2019-11-11 19:57:20.000000000,2019-11-13 18:54:47.000000000,2019-11-13 18:52:38.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31204}]","[{'number': 1, 'created': '2019-11-11 19:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/426d2429155f634660d8e8612264ed39da389225', 'message': 'Use local devices and avoid loopback storage\n\nCloses-Bug: #1777683\n\nChange-Id: Ia35e962f7a536ca092c3eb5ebce258e1a37d3ab2\n'}, {'number': 2, 'created': '2019-11-13 18:31:55.000000000', 'files': ['deploy-guide/source/install-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6928d6ac987fac8a7f519ce546fc6e0b3da4080c', 'message': 'Use local devices and avoid loopback storage\n\nCloses-Bug: #1777683\n\nChange-Id: Ia35e962f7a536ca092c3eb5ebce258e1a37d3ab2\n'}]",1,693745,6928d6ac987fac8a7f519ce546fc6e0b3da4080c,13,4,2,30561,,,0,"Use local devices and avoid loopback storage

Closes-Bug: #1777683

Change-Id: Ia35e962f7a536ca092c3eb5ebce258e1a37d3ab2
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/45/693745/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/install-openstack.rst'],1,426d2429155f634660d8e8612264ed39da389225,bug/1777683,".. code:: yamlThis example configuration points to block device /dev/sdc. Adjust according to your own environment. .. note:: With respect to block devices, loopback storage devices can be used but are not recommended for production use cases. ",.. code:: bash,9,1
openstack%2Ffuturist~master~I1fbad12a0d555e199fdf4073db9408a296e7fd8a,openstack/futurist,master,I1fbad12a0d555e199fdf4073db9408a296e7fd8a,Fix Calling waiters.wait_for_any() blocks if future has called Condition.wait(),MERGED,2019-10-21 08:32:47.000000000,2019-11-13 18:54:38.000000000,2019-11-13 18:51:35.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-10-21 08:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/futurist/commit/e52fd0abc1f9b74a71a27b3c6a528bc9bc863bdb', 'message': 'Fix Calling waiters.wait_for_any() blocks if future has called Condition.wait()\n\ncondition.wait() can block forever even if Futures have completed\n\nA similar issue was already fixed on cpython few years ago:\n- https://bugs.python.org/issue20319\n- https://hg.python.org/cpython/rev/0bcf23a52d55\n- https://github.com/python/cpython/commit/2b754f49a57c4f625b73e703456bd5ff04496416\n\nChange-Id: I1fbad12a0d555e199fdf4073db9408a296e7fd8a\nCloses-Bug: #1848457\n'}, {'number': 2, 'created': '2019-10-23 09:11:42.000000000', 'files': ['futurist/waiters.py'], 'web_link': 'https://opendev.org/openstack/futurist/commit/d3cb90562999a7a820f9501a77ee808dc8088c70', 'message': 'Fix Calling waiters.wait_for_any() blocks if future has called Condition.wait()\n\ncondition.wait() can block forever even if Futures have completed\n\nA similar issue was already fixed on cpython few years ago:\n- https://bugs.python.org/issue20319\n- https://hg.python.org/cpython/rev/0bcf23a52d55\n- https://github.com/python/cpython/commit/2b754f49a57c4f625b73e703456bd5ff04496416\n\nChange-Id: I1fbad12a0d555e199fdf4073db9408a296e7fd8a\nRelated-Bug: #1848457\n'}]",0,689691,d3cb90562999a7a820f9501a77ee808dc8088c70,16,6,2,28522,,,0,"Fix Calling waiters.wait_for_any() blocks if future has called Condition.wait()

condition.wait() can block forever even if Futures have completed

A similar issue was already fixed on cpython few years ago:
- https://bugs.python.org/issue20319
- https://hg.python.org/cpython/rev/0bcf23a52d55
- https://github.com/python/cpython/commit/2b754f49a57c4f625b73e703456bd5ff04496416

Change-Id: I1fbad12a0d555e199fdf4073db9408a296e7fd8a
Related-Bug: #1848457
",git fetch https://review.opendev.org/openstack/futurist refs/changes/91/689691/1 && git format-patch -1 --stdout FETCH_HEAD,['futurist/waiters.py'],1,e52fd0abc1f9b74a71a27b3c6a528bc9bc863bdb,bug/1848457, with f._condition: f._waiters.remove(waiter) with f._condition: f._waiters.remove(waiter), f._waiters.remove(waiter) f._waiters.remove(waiter),4,2
openstack%2Fmanila~master~I850afb1c088610a44b11e6f2bbf00f7fdff31d99,openstack/manila,master,I850afb1c088610a44b11e6f2bbf00f7fdff31d99,DNM: Debug debug IPv6 jobs,ABANDONED,2019-11-08 22:51:22.000000000,2019-11-13 18:11:42.000000000,,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 22:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5b80506f7be8f23b685f3bf1f3c474eab429dd85', 'message': 'DNM: Debug debug IPv6 jobs\n\nChange-Id: I850afb1c088610a44b11e6f2bbf00f7fdff31d99\n'}, {'number': 2, 'created': '2019-11-09 00:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dd0428628731213dde2f6f556be6b7791d4a3ce4', 'message': 'DNM: Debug debug IPv6 jobs\n\nChange-Id: I850afb1c088610a44b11e6f2bbf00f7fdff31d99\n'}, {'number': 3, 'created': '2019-11-11 17:00:06.000000000', 'files': ['contrib/ci/post_test_hook.sh', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/684465c8041edf1d1e36610cf081edce6b7fdd08', 'message': ""DNM: Debug debug IPv6 jobs\n\nLet's see if Frickler's workaround helps ...\n\nDepends-On: https://review.opendev.org/#/c/693688/\nChange-Id: I850afb1c088610a44b11e6f2bbf00f7fdff31d99\n""}]",0,693596,684465c8041edf1d1e36610cf081edce6b7fdd08,18,7,3,16643,,,0,"DNM: Debug debug IPv6 jobs

Let's see if Frickler's workaround helps ...

Depends-On: https://review.opendev.org/#/c/693688/
Change-Id: I850afb1c088610a44b11e6f2bbf00f7fdff31d99
",git fetch https://review.opendev.org/openstack/manila refs/changes/96/693596/2 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/post_test_hook.sh', '.zuul.yaml']",2,5b80506f7be8f23b685f3bf1f3c474eab429dd85,bug/1850626,, templates: - publish-openstack-docs-pti - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-train-jobs - check-requirements - release-notes-jobs-python3 - periodic-stable-jobs - manila-tox-genconfig - manila-tempest-dsvm-mysql-generic: voting: false - manila-tempest-dsvm-postgres-container: voting: false - manila-tempest-dsvm-postgres-zfsonlinux: voting: false - manila-tempest-dsvm-postgres-generic-singlebackend: voting: false - manila-tempest-dsvm-generic-no-share-servers: voting: false - manila-tempest-dsvm-scenario: voting: false - manila-tempest-minimal-dsvm-cephfs-native: voting: false - manila-tempest-dsvm-glusterfs-nfs: voting: false - manila-tempest-dsvm-glusterfs-native: voting: false - manila-tempest-minimal-dsvm-dummy # Through the Train release we need to keep some python2 coverage. - manila-tempest-minimal-dsvm-dummy-py2 - manila-grenade: voting: false - manila-rally-no-ss: voting: false - manila-rally-ss: voting: false - openstack-tox-pylint: voting: false timeout: 5400 - openstack-tox-cover: voting: false,4,42
openstack%2Ftripleo-common~master~Ib15f1ec4766bf4d64a2860422c230e4d514bc224,openstack/tripleo-common,master,Ib15f1ec4766bf4d64a2860422c230e4d514bc224,Improve Swift healthchecks,MERGED,2019-04-09 11:45:00.000000000,2019-11-13 17:50:17.000000000,2019-11-13 01:33:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-09 11:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c97a2471caeba0261ed2149e5b4d1ba6ea83f85a', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n'}, {'number': 2, 'created': '2019-04-09 11:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a59473d10c81d0fb82cd4900ff28e3be510b2138', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n'}, {'number': 3, 'created': '2019-04-09 11:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7fb641c77de3205073732c59b7628eaff39e3877', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n'}, {'number': 4, 'created': '2019-11-12 16:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c693126a16108e493ed431bbdcfc32357c665147', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nCo-Authored-By: Christian Schwede <cschwede@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n'}, {'number': 5, 'created': '2019-11-12 16:35:24.000000000', 'files': ['healthcheck/swift-object-replicator', 'releasenotes/notes/swift-additional-healtchecks-ab8cd9c7562654f3.yaml', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-object-expirer', 'healthcheck/swift-container-server', 'healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0862fcf98fab43cce64979a1d4a9849498e496fb', 'message': 'Improve Swift healthchecks\n\nThis patch adds checks for the replicators.\n\nIt also removes some unused or invalid code from other checks. Checking\nmodification time of the recon files is not enough, these might also be\nchanged by other Swift processes and are not a good indicator for stuck\nprocesses.\n\nCo-Authored-By: Christian Schwede <cschwede@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224\n'}]",4,651204,0862fcf98fab43cce64979a1d4a9849498e496fb,29,8,5,6968,,,0,"Improve Swift healthchecks

This patch adds checks for the replicators.

It also removes some unused or invalid code from other checks. Checking
modification time of the recon files is not enough, these might also be
changed by other Swift processes and are not a good indicator for stuck
processes.

Co-Authored-By: Christian Schwede <cschwede@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: Ib15f1ec4766bf4d64a2860422c230e4d514bc224
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/651204/2 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/swift-object-replicator', 'healthcheck/swift-account-replicator', 'healthcheck/swift-container-replicator', 'healthcheck/swift-object-server', 'healthcheck/swift-account-server', 'healthcheck/swift-container-server', 'healthcheck/swift-object-expirer', 'healthcheck/swift-proxy']",8,c97a2471caeba0261ed2149e5b4d1ba6ea83f85a,,,"else # TODO(mmagr): Remove this once swift_object_expirer container will start # using swift-object-expirer kolla image conf=/etc/swift/object-expirer.conf cache=/var/cache/swift/object.recon interval=$(get_config_val $conf object-expirer interval 300) if ! healthcheck_file_modification $cache $interval; then echo ""Cache file $cache was not updated within interval of $interval seconds."" exit 1 fi",52,71
openstack%2Fswift~stable%2Fstein~I571c16c196dae4e4f8fb41904c8850d0054b1fe9,openstack/swift,stable/stein,I571c16c196dae4e4f8fb41904c8850d0054b1fe9,s3api: Allow clients to upload with UNSIGNED-PAYLOAD,MERGED,2019-08-08 18:26:37.000000000,2019-11-13 17:50:06.000000000,2019-08-14 22:17:06.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-08 18:26:37.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6ed165cf3f65329beaef9977a5fec24ce3ac0b39', 'message': 's3api: Allow clients to upload with UNSIGNED-PAYLOAD\n\n(Some versions of?) awscli/boto3 will do v4 signatures but send a\nContent-MD5 for end-to-end validation. Since a X-Amz-Content-SHA256\nis still required to calculate signatures, it uses UNSIGNED-PAYLOAD\nsimilar to how signatures work for pre-signed URLs.\n\nLook for UNSIGNED-PAYLOAD and skip SHA256 validation if set.\n\nChange-Id: I571c16c196dae4e4f8fb41904c8850d0054b1fe9\nRelated-Change: I61eb12455c37376be4d739eee55a5f439216f0e9\n(cherry picked from commit 82e446a8a0c0fd6a81f06717b76ed3d1be26a281)\n'}]",0,675437,6ed165cf3f65329beaef9977a5fec24ce3ac0b39,9,2,1,15343,,,0,"s3api: Allow clients to upload with UNSIGNED-PAYLOAD

(Some versions of?) awscli/boto3 will do v4 signatures but send a
Content-MD5 for end-to-end validation. Since a X-Amz-Content-SHA256
is still required to calculate signatures, it uses UNSIGNED-PAYLOAD
similar to how signatures work for pre-signed URLs.

Look for UNSIGNED-PAYLOAD and skip SHA256 validation if set.

Change-Id: I571c16c196dae4e4f8fb41904c8850d0054b1fe9
Related-Change: I61eb12455c37376be4d739eee55a5f439216f0e9
(cherry picked from commit 82e446a8a0c0fd6a81f06717b76ed3d1be26a281)
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/675437/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py']",2,6ed165cf3f65329beaef9977a5fec24ce3ac0b39,," if hashed_payload != 'UNSIGNED-PAYLOAD': if self.content_length == 0: if hashed_payload != sha256().hexdigest(): raise BadDigest( 'The X-Amz-Content-SHA56 you specified did not ' 'match what we received.') elif self.content_length: self.environ['wsgi.input'] = HashingInput( self.environ['wsgi.input'], self.content_length, sha256, hashed_payload) # else, length not provided -- Swift will kick out a # 411 Length Required which will get translated back # to a S3-style response in S3Request._swift_error_codes"," if self.content_length == 0: if hashed_payload != sha256().hexdigest(): raise BadDigest( 'The X-Amz-Content-SHA56 you specified did not match ' 'what we received.') elif self.content_length: self.environ['wsgi.input'] = HashingInput( self.environ['wsgi.input'], self.content_length, sha256, hashed_payload) # else, not provided -- Swift will kick out a 411 Length Required # which will get translated back to a S3-style response in # S3Request._swift_error_codes",44,15
openstack%2Fopenstack-helm-infra~master~I5eeb076e5af3c820dbdcc3cc321cefcb5f85ef8d,openstack/openstack-helm-infra,master,I5eeb076e5af3c820dbdcc3cc321cefcb5f85ef8d,Nagios: Update ceph health check command,MERGED,2019-11-13 14:53:46.000000000,2019-11-13 17:48:50.000000000,2019-11-13 17:46:25.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-11-13 14:53:46.000000000', 'files': ['nagios/values.yaml', 'tools/deployment/multinode/110-nagios.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59dac085ce69232df0073eb856f1a24000095044', 'message': ""Nagios: Update ceph health check command\n\nThis updates the ceph health check command in Nagios to use the\nupdated plugin that determines the active ceph-mgr instance\nendpoint to use before querying for ceph's health. This results in\nmore robust and reliable reporting of ceph's overall health\n\nDepends-On: https://review.opendev.org/#/c/693900/\n\nChange-Id: I5eeb076e5af3c820dbdcc3cc321cefcb5f85ef8d\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}]",0,694089,59dac085ce69232df0073eb856f1a24000095044,10,4,1,17591,,,0,"Nagios: Update ceph health check command

This updates the ceph health check command in Nagios to use the
updated plugin that determines the active ceph-mgr instance
endpoint to use before querying for ceph's health. This results in
more robust and reliable reporting of ceph's overall health

Depends-On: https://review.opendev.org/#/c/693900/

Change-Id: I5eeb076e5af3c820dbdcc3cc321cefcb5f85ef8d
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/694089/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/values.yaml', 'tools/deployment/multinode/110-nagios.sh']",2,59dac085ce69232df0073eb856f1a24000095044,update-nagios-checks," #NOTE: Verify plugin for checking ceph health directly via ceph-mgr working as intended kubectl exec $NAGIOS_POD -n osh-infra -c nagios -- python /usr/lib/nagios/plugins/check_exporter_health_metric.py --exporter_namespace ""ceph"" --label_selector ""application=ceph,component=manager"" --health_metric ceph_health_status --critical 2 --warning 1",,4,1
openstack%2Fopenstack-ansible-os_tacker~stable%2Fstein~Ia07ab449fa3474251975a90684b9954c62c90a57,openstack/openstack-ansible-os_tacker,stable/stein,Ia07ab449fa3474251975a90684b9954c62c90a57,Switch to opensuse-15,MERGED,2019-11-13 14:28:30.000000000,2019-11-13 17:47:31.000000000,2019-11-13 17:41:39.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-13 14:28:30.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/524efabe97d4942acc8aa58913c2e7f8deb2fdbf', 'message': 'Switch to opensuse-15\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nNote that this is not a backport from master since master is using\nnew templates that don\'t exist on stein.\n\nChange-Id: Ia07ab449fa3474251975a90684b9954c62c90a57\n'}]",0,694087,524efabe97d4942acc8aa58913c2e7f8deb2fdbf,8,3,1,6547,,,0,"Switch to opensuse-15

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

Note that this is not a backport from master since master is using
new templates that don't exist on stein.

Change-Id: Ia07ab449fa3474251975a90684b9954c62c90a57
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/87/694087/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,524efabe97d4942acc8aa58913c2e7f8deb2fdbf,use-opensuse-15, name: openstack-ansible-deploy-aio_metal_tacker-opensuse-15 nodeset: opensuse-15, name: openstack-ansible-deploy-aio_metal_tacker-opensuse-150 nodeset: opensuse-150,3,3
openstack%2Fpython-tripleoclient~stable%2Frocky~I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,openstack/python-tripleoclient,stable/rocky,I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,Support undercloud fake-hardware ironic driver,MERGED,2019-11-06 21:29:06.000000000,2019-11-13 17:29:18.000000000,2019-11-13 17:29:18.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 21:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/84fa79cfc1c7c9382a0aa5aea16d7fbb5d9438b6', 'message': ""Support undercloud fake-hardware ironic driver\n\nWhen including fake-hardware in the undercloud.conf\nenabled_hardware_types, some of the fake-hardware default interfaces\nare not enabled so it can't be used.\n\nThis change allows nodes to be created with driver fake-hardware. If\nthis proves useful for development or some scale testing then it might\nbe desirable to add fake-hardware by default to the\nenabled_hardware_types list.\n\nChange-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b\n(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)\n""}, {'number': 2, 'created': '2019-11-06 21:34:11.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/155bf6d9384b5badd87434744b96e6a917b281ff', 'message': ""Support undercloud fake-hardware ironic driver\n\nWhen including fake-hardware in the undercloud.conf\nenabled_hardware_types, some of the fake-hardware default interfaces\nare not enabled so it can't be used.\n\nThis change allows nodes to be created with driver fake-hardware. If\nthis proves useful for development or some scale testing then it might\nbe desirable to add fake-hardware by default to the\nenabled_hardware_types list.\n\nChange-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b\nCloses-Bug: 1851572\n(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)\n""}]",0,693257,155bf6d9384b5badd87434744b96e6a917b281ff,9,5,2,4571,,,0,"Support undercloud fake-hardware ironic driver

When including fake-hardware in the undercloud.conf
enabled_hardware_types, some of the fake-hardware default interfaces
are not enabled so it can't be used.

This change allows nodes to be created with driver fake-hardware. If
this proves useful for development or some scale testing then it might
be desirable to add fake-hardware by default to the
enabled_hardware_types list.

Change-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b
Closes-Bug: 1851572
(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/57/693257/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_undercloud_config.py']",2,84fa79cfc1c7c9382a0aa5aea16d7fbb5d9438b6,rockybug/1851572," 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'xclarity', 'fake-hardware'] 'fake-hardware', 'IronicEnabledBootInterfaces': ['fake', 'ilo-pxe', 'irmc-pxe', 'pxe'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'fake', 'iscsi'],"," 'xclarity'] 'IronicEnabledBootInterfaces': ['ilo-pxe', 'irmc-pxe', 'pxe'],",14,2
openstack%2Fpython-tripleoclient~master~I6e145d7a54dcd306c4633ebd4d7471a19a967a86,openstack/python-tripleoclient,master,I6e145d7a54dcd306c4633ebd4d7471a19a967a86,Add openstack overcloud export,MERGED,2019-11-04 21:38:28.000000000,2019-11-13 17:05:25.000000000,2019-11-13 10:35:09.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 17130}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-11-04 21:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5d9e1152b46c598e5c3840c4f795797c665f81e6', 'message': 'Add openstack overcloud export\n\nAdd a new command to export the data from a control plane stack for\nmulti-stack. The created export file can be used as input into a compute\nstack for the multi-stack feature.\n\nAlso refactors the overcloud cell export command to use the same common\ncode.\n\nChange-Id: I6e145d7a54dcd306c4633ebd4d7471a19a967a86\n'}, {'number': 2, 'created': '2019-11-05 22:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d5413b4dc9ff0447e97ea8c4ce4e4beede605c0d', 'message': 'Add openstack overcloud export\n\nAdd a new command to export the data from a control plane stack for\nmulti-stack. The created export file can be used as input into a compute\nstack for the multi-stack feature.\n\nAlso refactors the overcloud cell export command to use the same common\ncode.\n\nChange-Id: I6e145d7a54dcd306c4633ebd4d7471a19a967a86\n'}, {'number': 3, 'created': '2019-11-06 01:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1e2618f2ccb4194ac64893672d48af5da3c35717', 'message': 'Add openstack overcloud export\n\nAdd a new command to export the data from a control plane stack for\nmulti-stack. The created export file can be used as input into a compute\nstack for the multi-stack feature.\n\nAlso refactors the overcloud cell export command to use the same common\ncode.\n\nChange-Id: I6e145d7a54dcd306c4633ebd4d7471a19a967a86\n'}, {'number': 4, 'created': '2019-11-11 21:34:09.000000000', 'files': ['releasenotes/notes/openstack-overcloud-export-293c8f0f6ab13e91.yaml', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/constants.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/export.py', 'setup.cfg', 'tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/975f7717029b56c7a2e6113d82e166e7c63fcba2', 'message': 'Add openstack overcloud export\n\nAdd a new command to export the data from a control plane stack for\nmulti-stack. The created export file can be used as input into a compute\nstack for the multi-stack feature.\n\nAlso refactors the overcloud cell export command to use the same common\ncode.\n\nCloses-Bug: #1850636\nChange-Id: I6e145d7a54dcd306c4633ebd4d7471a19a967a86\n'}]",0,692909,975f7717029b56c7a2e6113d82e166e7c63fcba2,29,10,4,7144,,,0,"Add openstack overcloud export

Add a new command to export the data from a control plane stack for
multi-stack. The created export file can be used as input into a compute
stack for the multi-stack feature.

Also refactors the overcloud cell export command to use the same common
code.

Closes-Bug: #1850636
Change-Id: I6e145d7a54dcd306c4633ebd4d7471a19a967a86
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/692909/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/openstack-overcloud-export-293c8f0f6ab13e91.yaml', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/export.py', 'setup.cfg', 'tripleoclient/v1/overcloud_cell.py']",7,5d9e1152b46c598e5c3840c4f795797c665f81e6,bug/1850636,"from tripleoclient import export data = export.export_passwords(swift_client, control_plane_stack) should_filter = True should_filter = False config_download_dir = os.path.join(MISTRAL_VAR, stack_to_export) data['parameter_defaults'].update(export.export_stack( clients.orchestration, stack_to_export, should_filter, config_download_dir)) yaml.safe_dump(data, f, default_flow_style=False)","import jsonimport sysfrom tripleoclient import utils as oooutils # data to export # parameter: Parameter to be exported # file: IF file specified it is taken as source instead of heat # output.File is relative to MISTRAL_VAR/stack_to_export. # filter: in case only specific settings should be # exported from parameter data. export_data = { ""EndpointMap"": { ""parameter"": ""EndpointMapOverride"", }, ""HostsEntry"": { ""parameter"": ""ExtraHostFileEntries"", }, ""GlobalConfig"": { ""parameter"": ""GlobalConfigExtraMapData"", }, ""AllNodesConfig"": { ""file"": ""/group_vars/overcloud.json"", ""parameter"": ""GlobalConfigExtraMapData"", ""filter"": [""oslo_messaging_notify_short_bootstrap_node_name"", ""oslo_messaging_notify_node_names"", ""oslo_messaging_rpc_node_names"", ""memcached_node_ips"", ""ovn_dbs_vip"", ""redis_vip""]}, } # export the data from swift and heat data_real = {} # Export the passwords from swift obj = 'plan-environment.yaml' container = control_plane_stack try: resp_headers, content = swift_client.get_object(container, obj) except Exception as e: self.log.error(""An error happened while exporting the password "" ""file from swift: %s"", str(e)) sys.exit(1) data_real = {'parameter_defaults': yaml.load(content)[""passwords""]} stack = oooutils.get_stack(clients.orchestration, stack_to_export) for export_key, export_param in export_data.items(): data = None if ""file"" in export_param: # get stack data file = MISTRAL_VAR + stack_to_export + export_param[""file""] with open(file, 'r') as ff: try: data = json.load(ff) except Exception: self.log.error( _('Could not read file %s') % file) else: # get stack data data = oooutils.get_stack_output_item(stack, export_key) param = export_param[""parameter""] if data: # do we just want a subset of entries? # When we export information from a cell controller stack # we don't want to filter. if ""filter"" in export_param and not cell_stack: for x in export_param[""filter""]: element = {x: data[x]} if param not in data_real[""parameter_defaults""]: data_real[""parameter_defaults""][param] = element else: data_real[""parameter_defaults""][param].update( element) else: if param not in data_real[""parameter_defaults""]: data_real[""parameter_defaults""][param] = data else: data_real[""parameter_defaults""][param].update(data) else: raise exceptions.CellExportError( ""No data returned to export %s from."" % param) yaml.safe_dump(data_real, f, default_flow_style=False)",420,84
openstack%2Fcharm-deployment-guide~master~I90e9abbae2c7fab6c88ed94ea06eaa1fa15ef60a,openstack/charm-deployment-guide,master,I90e9abbae2c7fab6c88ed94ea06eaa1fa15ef60a,Add note re consequences of changing image format,MERGED,2019-11-11 17:48:56.000000000,2019-11-13 17:02:18.000000000,2019-11-13 17:00:24.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-11 17:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f3089789eb598c954fdc0432048d9e9f025780c1', 'message': 'Add note re consequences of changing image format\n\nCloses-Bug: #1826888\n\nChange-Id: I90e9abbae2c7fab6c88ed94ea06eaa1fa15ef60a\n'}, {'number': 2, 'created': '2019-11-11 17:54:39.000000000', 'files': ['deploy-guide/source/install-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e23edc0a81ac68881d455e5934c3344a7fa7ab68', 'message': 'Add note re consequences of changing image format\n\nCloses-Bug: #1826888\n\nChange-Id: I90e9abbae2c7fab6c88ed94ea06eaa1fa15ef60a\n'}]",0,693736,e23edc0a81ac68881d455e5934c3344a7fa7ab68,9,2,2,30561,,,0,"Add note re consequences of changing image format

Closes-Bug: #1826888

Change-Id: I90e9abbae2c7fab6c88ed94ea06eaa1fa15ef60a
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/36/693736/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/install-openstack.rst'],1,f3089789eb598c954fdc0432048d9e9f025780c1,bug/1826888,.. note:: The ``nova-compute`` charm is designed to support one image format type per application at any one time. Changing format (see charm option ``libvirt-image-backend``) while existing instances are using the prior format will require manual image conversion for each instance. See `LP #1826888`_. .. BUGS .. _LP #1826888: https://bugs.launchpad.net/charm-deployment-guide/+bug/1826888,,11,0
openstack%2Fpython-tripleoclient~stable%2Fstein~I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,openstack/python-tripleoclient,stable/stein,I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,Support undercloud fake-hardware ironic driver,MERGED,2019-11-06 21:18:59.000000000,2019-11-13 16:50:46.000000000,2019-11-13 16:48:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 21:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/20ee80c850ff8370cf26f458acc40b7e3bd667f4', 'message': ""Support undercloud fake-hardware ironic driver\n\nWhen including fake-hardware in the undercloud.conf\nenabled_hardware_types, some of the fake-hardware default interfaces\nare not enabled so it can't be used.\n\nThis change allows nodes to be created with driver fake-hardware. If\nthis proves useful for development or some scale testing then it might\nbe desirable to add fake-hardware by default to the\nenabled_hardware_types list.\n\nChange-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b\n(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)\n""}, {'number': 2, 'created': '2019-11-06 21:33:23.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fb2a8818d8c327e22d060a33ca8f7350c7985b50', 'message': ""Support undercloud fake-hardware ironic driver\n\nWhen including fake-hardware in the undercloud.conf\nenabled_hardware_types, some of the fake-hardware default interfaces\nare not enabled so it can't be used.\n\nThis change allows nodes to be created with driver fake-hardware. If\nthis proves useful for development or some scale testing then it might\nbe desirable to add fake-hardware by default to the\nenabled_hardware_types list.\n\nChange-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b\nCloses-Bug: 1851572\n(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)\n""}]",0,693255,fb2a8818d8c327e22d060a33ca8f7350c7985b50,10,5,2,4571,,,0,"Support undercloud fake-hardware ironic driver

When including fake-hardware in the undercloud.conf
enabled_hardware_types, some of the fake-hardware default interfaces
are not enabled so it can't be used.

This change allows nodes to be created with driver fake-hardware. If
this proves useful for development or some scale testing then it might
be desirable to add fake-hardware by default to the
enabled_hardware_types list.

Change-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b
Closes-Bug: 1851572
(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/693255/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,20ee80c850ff8370cf26f458acc40b7e3bd667f4,steinbug/1851572," 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'xclarity', 'fake-hardware'] 'fake-hardware', 'IronicEnabledBootInterfaces': ['fake', 'ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'fake', 'iscsi'],"," 'xclarity'] 'IronicEnabledBootInterfaces': ['ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'],",14,3
openstack%2Fpbr~master~If5bc9b7e3927fe3203ba9adadaa1185c4a1cc7ed,openstack/pbr,master,If5bc9b7e3927fe3203ba9adadaa1185c4a1cc7ed,trivial: Use 'open' context manager,MERGED,2019-08-27 09:35:30.000000000,2019-11-13 16:44:01.000000000,2019-11-13 16:41:42.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-27 09:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/858d78772d59ceceb89d99d9ff64814397b8249b', 'message': ""trivial: Use 'open' context manager\n\nIt's a little nicer to look at.\n\nChange-Id: If5bc9b7e3927fe3203ba9adadaa1185c4a1cc7ed\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-08-27 15:57:30.000000000', 'files': ['pbr/tests/test_packaging.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/dfe67959e662d6f6b116262b08922af17ac67e72', 'message': ""trivial: Use 'open' context manager\n\nIt's a little nicer to look at.\n\nChange-Id: If5bc9b7e3927fe3203ba9adadaa1185c4a1cc7ed\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,678771,dfe67959e662d6f6b116262b08922af17ac67e72,15,6,2,15334,,,0,"trivial: Use 'open' context manager

It's a little nicer to look at.

Change-Id: If5bc9b7e3927fe3203ba9adadaa1185c4a1cc7ed
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/71/678771/2 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/test_packaging.py'],1,858d78772d59ceceb89d99d9ff64814397b8249b,python38," config_file = os.path.join(tempdir.path, 'key-config') with open(config_file, 'wt') as f:"," config_file = tempdir.path + '/key-config' f = open(config_file, 'wt') try:",4,3
openstack%2Fkolla-cli~master~Icf3024cf135d3d5bebdaaea3a5cb2f644a895b78,openstack/kolla-cli,master,Icf3024cf135d3d5bebdaaea3a5cb2f644a895b78,Switch to official Ussuri jobs,MERGED,2019-11-13 15:33:24.000000000,2019-11-13 16:33:15.000000000,2019-11-13 16:28:48.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-11-13 15:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/e807cec0f8f75e47b8f665ee0822358db09b8c9c', 'message': '""Switch to official Ussuri jobs""\n\nThis reverts commit 8feb5771872cd25f21da50092ad2cc75b6d8a3e6.\n\nChange-Id: Icf3024cf135d3d5bebdaaea3a5cb2f644a895b78\n'}, {'number': 2, 'created': '2019-11-13 15:34:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/36c0c75668952494bddeb1c72f40defbd08770ac', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: Icf3024cf135d3d5bebdaaea3a5cb2f644a895b78\n'}]",0,694097,36c0c75668952494bddeb1c72f40defbd08770ac,8,4,2,27781,,,0,"Switch to official Ussuri jobs

Change-Id: Icf3024cf135d3d5bebdaaea3a5cb2f644a895b78
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/97/694097/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e807cec0f8f75e47b8f665ee0822358db09b8c9c,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fneutron-lib~stable%2Frocky~Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29,openstack/neutron-lib,stable/rocky,Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29,Add setproctitle support to the workers module,ABANDONED,2019-11-07 16:59:51.000000000,2019-11-13 16:25:43.000000000,,"[{'_account_id': 10980}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 16:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/eca3db0d8f8097fb2bbe8a7f82e3a6053cec4c98', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nPartial-Bug: #1816485\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n(cherry picked from commit 2c1e09bfd5a275c74213d200a7455bbf46893a1a)\n'}, {'number': 2, 'created': '2019-11-07 20:17:46.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'neutron_lib/tests/unit/plugins/test_utils.py', 'neutron_lib/tests/unit/test_worker.py', 'neutron_lib/worker.py', 'releasenotes/notes/setproctitle_for_workers-e8805fcaf34026ab.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/013cbf6560f3eb9a2e4ff1a75ec63122835a6a5c', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nPartial-Bug: #1816485\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n(cherry picked from commit 2c1e09bfd5a275c74213d200a7455bbf46893a1a)\n'}]",0,693396,013cbf6560f3eb9a2e4ff1a75ec63122835a6a5c,8,3,2,13995,,,0,"Add setproctitle support to the workers module

- Set the process name of child neutron-servers to be something more
  readily identifiable than today.
- Enable by default for all users of the workers module, neutron will
  have a conf setting for its workers.

Matching neutron change:
https://review.openstack.org/637019

Partial-Bug: #1816485
Depends-On: https://review.openstack.org/637024
Change-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29
(cherry picked from commit 2c1e09bfd5a275c74213d200a7455bbf46893a1a)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/96/693396/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'neutron_lib/tests/unit/test_worker.py', 'neutron_lib/worker.py', 'releasenotes/notes/setproctitle_for_workers-e8805fcaf34026ab.yaml']",5,eca3db0d8f8097fb2bbe8a7f82e3a6053cec4c98,bug/1816485-stable/rocky,"features: - | ``neutron_lib.worker.BaseWorker`` will now set the process title on process start, if it is a new process. By default, the name will be ""neutron-server"", and the description will be the name of the worker class, followed by the original process title. Both fields are customizable via the ``name`` and ``desc`` arguments to ``BaseWorker.start()``, and the change can be disabled via the ``set_proctitle`` argument to the ``__init__`` function. ``neutron.conf`` will have a setting for disabling this functionality for all in-tree workers, but by default, all out of tree plugin workers will set their name at fork time. Available settings are 'on' (described above, and the default), 'off' (same as today), or 'brief', which settings the process name to just name and description. 'brief' is probably most useful/simple for deployers, but 'on' is the default in order to prevent as many script related breakages as possible. upgrade: - Any plugin which forks worker processes from neutron-server will have its proctitle set to ""neutron-server"" plus a classname in ps output. Any tool used for monitoring/maintenance that watches the process table should be modified to only look for the string ``neutron-server``. On the plus side, it will now be possible to distinguish which process belongs to which plugin, based on the new naming. Note that the original process string is still in the proctitle, so as long as the scripting is not looking for a perfect string match, it should continue to work. ",,147,2
openstack%2Fneutron-dynamic-routing~master~I5661e8689d8e3ea861fdd0393e6f25c42cd324c3,openstack/neutron-dynamic-routing,master,I5661e8689d8e3ea861fdd0393e6f25c42cd324c3,Fix resource_filter.bind method that was changed in neutron,MERGED,2019-11-11 12:35:31.000000000,2019-11-13 16:25:21.000000000,2019-11-13 16:23:33.000000000,"[{'_account_id': 9003}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-11-11 12:35:31.000000000', 'files': ['neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/e2d4cede4549eb4df4446fd7eb279d73977289b5', 'message': 'Fix resource_filter.bind method that was changed in neutron\n\nThis happened in [0], we need to add a partial workaround until a new\nneutron release is made.\n\n[0] https://review.opendev.org/288271\n\nChange-Id: I5661e8689d8e3ea861fdd0393e6f25c42cd324c3\n'}]",1,693688,e2d4cede4549eb4df4446fd7eb279d73977289b5,11,6,1,13252,,,0,"Fix resource_filter.bind method that was changed in neutron

This happened in [0], we need to add a partial workaround until a new
neutron release is made.

[0] https://review.opendev.org/288271

Change-Id: I5661e8689d8e3ea861fdd0393e6f25c42cd324c3
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/88/693688/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py'],1,e2d4cede4549eb4df4446fd7eb279d73977289b5,," def bind(self, context, agents, bgp_speaker_id, force_scheduling=False): # TODO(frickler): once neutron is released, switch to this # super(BgpDrAgentFilter, self).bind(context, bound_agents, # bgp_speaker_id, force_scheduling)"," def bind(self, context, agents, bgp_speaker_id):",4,1
openstack%2Fneutron~stable%2Frocky~I0e664a5f8e792d85b8f5483fb8c6f1cd59a677cd,openstack/neutron,stable/rocky,I0e664a5f8e792d85b8f5483fb8c6f1cd59a677cd,Change process name of neutron-server to match worker role,ABANDONED,2019-11-07 19:32:46.000000000,2019-11-13 16:25:16.000000000,,"[{'_account_id': 10980}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-07 19:32:46.000000000', 'files': ['neutron/wsgi.py', 'neutron/worker.py', 'neutron/conf/common.py', 'neutron/service.py', 'neutron/tests/unit/test_wsgi.py', 'neutron/tests/unit/test_service.py', 'releasenotes/notes/setproctitle_workers-bc27a8baa5ef2279.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e75f33b5209d5e90b3dc73cce0aa50525ad5577d', 'message': 'Change process name of neutron-server to match worker role\n\nWe spawn a lot of neutron-servers, on all but the smallest systems.\nIt\'s often hard to tell which are busy/overloaded or spinning.\nAdd an option to set the process names to their role.\n\nThis has a small chance of breaking existing scripting, depending\nhow they\'re parsing ps output.\n\nSample output:\n$ ps xw | grep neutron-server\n 1126 pts/2    S+     0:00 grep --color=auto neutron-server\n25355 ?        Ss     0:26 /usr/bin/python /usr/local/bin/neutron-server \\\n  --config-file /etc/neutron/neutron.conf \\\n  --config-file /etc/neutron/plugins/ml2/ml2_conf.ini\n25368 ?        S      0:00 neutron-server: api worker\n25369 ?        S      0:00 neutron-server: api worker\n25370 ?        S      0:00 neutron-server: api worker\n25371 ?        S      0:00 neutron-server: api worker\n25372 ?        S      0:02 neutron-server: rpc worker\n25373 ?        S      0:02 neutron-server: rpc worker\n25374 ?        S      0:02 neutron-server: services worker\n\nThe ""normal"" looking ps output is the main parent.\n\nPartial-Bug: #1816485\nDepends-On: https://review.openstack.org/637119\nChange-Id: I0e664a5f8e792d85b8f5483fb8c6f1cd59a677cd\n'}]",0,693413,e75f33b5209d5e90b3dc73cce0aa50525ad5577d,6,4,1,13995,,,0,"Change process name of neutron-server to match worker role

We spawn a lot of neutron-servers, on all but the smallest systems.
It's often hard to tell which are busy/overloaded or spinning.
Add an option to set the process names to their role.

This has a small chance of breaking existing scripting, depending
how they're parsing ps output.

Sample output:
$ ps xw | grep neutron-server
 1126 pts/2    S+     0:00 grep --color=auto neutron-server
25355 ?        Ss     0:26 /usr/bin/python /usr/local/bin/neutron-server \
  --config-file /etc/neutron/neutron.conf \
  --config-file /etc/neutron/plugins/ml2/ml2_conf.ini
25368 ?        S      0:00 neutron-server: api worker
25369 ?        S      0:00 neutron-server: api worker
25370 ?        S      0:00 neutron-server: api worker
25371 ?        S      0:00 neutron-server: api worker
25372 ?        S      0:02 neutron-server: rpc worker
25373 ?        S      0:02 neutron-server: rpc worker
25374 ?        S      0:02 neutron-server: services worker

The ""normal"" looking ps output is the main parent.

Partial-Bug: #1816485
Depends-On: https://review.openstack.org/637119
Change-Id: I0e664a5f8e792d85b8f5483fb8c6f1cd59a677cd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/693413/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/wsgi.py', 'neutron/worker.py', 'neutron/conf/common.py', 'neutron/service.py', 'neutron/tests/unit/test_service.py', 'neutron/tests/unit/test_wsgi.py', 'releasenotes/notes/setproctitle_workers-bc27a8baa5ef2279.yaml']",7,e75f33b5209d5e90b3dc73cce0aa50525ad5577d,bug/1816485-stable/rocky,"features: - Neutron child processes now set their process titles to match their roles ('api worker', 'rpc worker', 'periodic worker', 'services worker', or any other defined by workers from out-of-tree plugins.) This behavior can be disabled by setting the ``setproctitle`` config option in the ``[default]`` section in neutron.conf to ``off``. The original process string is also appended to the end, to help with scripting that is looking for the old strings. There is also an option called ``brief``, which results in much shorter and easier to read process names. The default setting for this option is ``on``, for a combination of backwards compatibility and identifying different processes easily. The recommended setting is ``brief``, once the deployer has verified that none of their tooling depends on the older strings. upgrade: - The change to the process title happens by default with the new ``setproctitle`` config option. The old string is still part of the new process title, but any scripts looking for exact string matches of the old string may need to be modified. ",,66,21
openstack%2Fpbr~master~If73238a39d0934c6f577fc52132fcbc63e8eb25f,openstack/pbr,master,If73238a39d0934c6f577fc52132fcbc63e8eb25f,Update to latest hacking,MERGED,2019-08-27 09:35:30.000000000,2019-11-13 16:22:58.000000000,2019-11-13 16:18:46.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-27 09:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/fef3aa615f4facf26ab59df7e53fcf56d3c36b95', 'message': 'Update to latest hacking\n\nChange-Id: If73238a39d0934c6f577fc52132fcbc63e8eb25f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-08-27 15:57:30.000000000', 'files': ['pbr/packaging.py', 'test-requirements.txt', 'pbr/tests/test_packaging.py', 'pbr/util.py', 'pbr/git.py', 'pbr/tests/test_setup.py', 'pbr/tests/testpackage/doc/source/conf.py', 'pbr/builddoc.py', 'pbr/options.py', 'tox.ini', 'pbr/tests/util.py', 'pbr/version.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/57d7c53739487e9fa0051ae12d8609acebaaf0e1', 'message': 'Update to latest hacking\n\nChange-Id: If73238a39d0934c6f577fc52132fcbc63e8eb25f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,678770,57d7c53739487e9fa0051ae12d8609acebaaf0e1,13,5,2,15334,,,0,"Update to latest hacking

Change-Id: If73238a39d0934c6f577fc52132fcbc63e8eb25f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/70/678770/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/packaging.py', 'test-requirements.txt', 'pbr/tests/test_packaging.py', 'pbr/util.py', 'pbr/git.py', 'pbr/tests/test_setup.py', 'pbr/tests/testpackage/doc/source/conf.py', 'pbr/builddoc.py', 'pbr/options.py', 'tox.ini', 'pbr/tests/util.py', 'pbr/version.py']",12,fef3aa615f4facf26ab59df7e53fcf56d3c36b95,python38, if ((self._prerelease_type or self._dev_count) and pre_separator is None):, if ((self._prerelease_type or self._dev_count) and pre_separator is None):,141,148
openstack%2Fpbr~master~If0bc30e646a3bb35c02dc73cc31fb146b3ecd6b5,openstack/pbr,master,If0bc30e646a3bb35c02dc73cc31fb146b3ecd6b5,Mark strings as raw,MERGED,2019-08-27 09:35:30.000000000,2019-11-13 16:20:45.000000000,2019-11-13 16:18:45.000000000,"[{'_account_id': 841}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-27 09:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/e360a17a6719aef3c0877879567f7e08b0650b90', 'message': 'Mark strings as raw\n\nResolves the following deprecation warning:\n\n  DeprecationWarning: invalid escape sequence \\.\n\nChange-Id: If0bc30e646a3bb35c02dc73cc31fb146b3ecd6b5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-08-27 15:57:30.000000000', 'files': ['pbr/tests/test_setup.py', 'pbr/packaging.py', 'pbr/tests/test_packaging.py', 'pbr/git.py', 'pbr/tests/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/fa0dd5652d82f8d238742f2d50c5514dec6f29a8', 'message': 'Mark strings as raw\n\nResolves the following deprecation warning:\n\n  DeprecationWarning: invalid escape sequence \\.\n\nChange-Id: If0bc30e646a3bb35c02dc73cc31fb146b3ecd6b5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,678769,fa0dd5652d82f8d238742f2d50c5514dec6f29a8,15,6,2,15334,,,0,"Mark strings as raw

Resolves the following deprecation warning:

  DeprecationWarning: invalid escape sequence \.

Change-Id: If0bc30e646a3bb35c02dc73cc31fb146b3ecd6b5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/69/678769/2 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/test_setup.py', 'pbr/packaging.py', 'pbr/tests/test_packaging.py', 'pbr/git.py', 'pbr/tests/test_wsgi.py']",5,e360a17a6719aef3c0877879567f7e08b0650b90,python38," m = re.search(r'(http://[^:]+:\d+)/', stdoutdata)"," m = re.search(b'(http://[^:]+:\d+)/', stdoutdata)",25,25
openstack%2Fopenstack-helm-infra~master~I1a1e4a5dc05d22389218df6049a83a5c9b9d83fa,openstack/openstack-helm-infra,master,I1a1e4a5dc05d22389218df6049a83a5c9b9d83fa,Nagios: Fix ceph health service check and endpoint,ABANDONED,2019-07-16 15:46:13.000000000,2019-11-13 16:19:38.000000000,,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28543}, {'_account_id': 28618}, {'_account_id': 28849}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-07-16 15:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf3fea9a277ba202a725491827bdb51f0190ffca', 'message': 'Nagios: Fix ceph health service check and endpoint\n\nThis updates the endpoint lookup function used for the ceph-mgr\nendpoint in the Nagios chart to allow for generating the\nscheme, port and path for the ceph-mgr endpoint.  This also\nfixes the ceph health service check to be executed against the\nprometheus-hosts host group, as multiple concurrent queries (such\nas when executed against the base-os host group) will cause the\nexporter endpoint to quit responding to requests.  This scenario\nresults in an empty content body in the response received by the\npython plugin used which ultimately results in a useless state\nreported by Nagios\n\nChange-Id: I1a1e4a5dc05d22389218df6049a83a5c9b9d83fa\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-11-11 07:41:38.000000000', 'files': ['nagios/templates/deployment.yaml', 'nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd51a22943dcfcdf8085bd67ed2d13f1e20ed513', 'message': 'Nagios: Fix ceph health service check and endpoint\n\nThis updates the endpoint lookup function used for the ceph-mgr\nendpoint in the Nagios chart to allow for generating the\nscheme, port and path for the ceph-mgr endpoint.  This also\nfixes the ceph health service check to be executed against the\nprometheus-hosts host group, as multiple concurrent queries (such\nas when executed against the base-os host group) will cause the\nexporter endpoint to quit responding to requests.  This scenario\nresults in an empty content body in the response received by the\npython plugin used which ultimately results in a useless state\nreported by Nagios\n\nChange-Id: I1a1e4a5dc05d22389218df6049a83a5c9b9d83fa\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,671090,cd51a22943dcfcdf8085bd67ed2d13f1e20ed513,11,12,2,17591,,,0,"Nagios: Fix ceph health service check and endpoint

This updates the endpoint lookup function used for the ceph-mgr
endpoint in the Nagios chart to allow for generating the
scheme, port and path for the ceph-mgr endpoint.  This also
fixes the ceph health service check to be executed against the
prometheus-hosts host group, as multiple concurrent queries (such
as when executed against the base-os host group) will cause the
exporter endpoint to quit responding to requests.  This scenario
results in an empty content body in the response received by the
python plugin used which ultimately results in a useless state
reported by Nagios

Change-Id: I1a1e4a5dc05d22389218df6049a83a5c9b9d83fa
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/671090/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/deployment.yaml', 'nagios/values.yaml']",2,bf3fea9a277ba202a725491827bdb51f0190ffca,fix-nagios-ceph-health, namespace: ceph path: default: /metrics hostgroup_name prometheus-hosts, namespace: null hostgroup_name base-os,5,3
openstack%2Fnova~master~I1e8fccf3967dfcb464674d9e2d8f7d93eb015a83,openstack/nova,master,I1e8fccf3967dfcb464674d9e2d8f7d93eb015a83,Fix ItemMatcher to avoid false positives,MERGED,2019-10-21 08:23:14.000000000,2019-11-13 16:18:43.000000000,2019-11-13 16:15:22.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-21 08:23:14.000000000', 'files': ['nova/tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f893aa5ad14e1747eedafeb75be3f48eade7fd98', 'message': 'Fix ItemMatcher to avoid false positives\n\nAs stated in a TODO ItemMatcher returns True on [1, 1, 2] ?= [1, 2, 2].\nThis patch changes the internal implementation from set() to\ncollection.Counter to remove this false positive.\n\nChange-Id: I1e8fccf3967dfcb464674d9e2d8f7d93eb015a83\n'}]",0,689690,f893aa5ad14e1747eedafeb75be3f48eade7fd98,17,12,1,9708,,,0,"Fix ItemMatcher to avoid false positives

As stated in a TODO ItemMatcher returns True on [1, 1, 2] ?= [1, 2, 2].
This patch changes the internal implementation from set() to
collection.Counter to remove this false positive.

Change-Id: I1e8fccf3967dfcb464674d9e2d8f7d93eb015a83
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/689690/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/utils.py'],1,f893aa5ad14e1747eedafeb75be3f48eade7fd98,,import collections # NOTE(gibi): we need the extra iter() call as Counter handles dicts # directly to initialize item count. However if a dict passed to # ItemMatcher we want to use the keys of such dict as an iterable to # initialize the Counter instead. self.bag = collections.Counter(iter(iterable)) lambda other: self.bag == collections.Counter(iter(other))) return 'ItemsMatcher(%r)' % list(self.bag.elements())," .. todo:: Because we internally use set()s, the following will **pass**, but it shouldn't:: # Duplicated item my_mock(..., listy_kwarg=['foo', 'foo', 'bar', 'baz'], ...) self.items = set(iterable) lambda other: self.items == set(other)) return 'ItemsMatcher(%r)' % self.items",8,9
openstack%2Fkolla-ansible~master~I1a83f1586e965158acf2c6cd2568de3587662442,openstack/kolla-ansible,master,I1a83f1586e965158acf2c6cd2568de3587662442,Deprecate ODL,ABANDONED,2019-10-28 20:30:17.000000000,2019-11-13 16:13:32.000000000,,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-28 20:30:17.000000000', 'files': ['ansible/roles/opendaylight/tasks/main.yml', 'releasenotes/notes/deprecate-opendaylight-aka-odl-d904169a1c2bbee4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c24b51570315c24024686de1c35e8ea1be3ac27c', 'message': 'Deprecate ODL\n\nChange-Id: I1a83f1586e965158acf2c6cd2568de3587662442\n'}]",0,691749,c24b51570315c24024686de1c35e8ea1be3ac27c,15,7,1,30491,,,0,"Deprecate ODL

Change-Id: I1a83f1586e965158acf2c6cd2568de3587662442
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/691749/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/opendaylight/tasks/main.yml', 'releasenotes/notes/deprecate-opendaylight-aka-odl-d904169a1c2bbee4.yaml']",2,c24b51570315c24024686de1c35e8ea1be3ac27c,deprecate-odl,--- deprecations: - | Support for deploying OpenDaylight (ODL) is deprecated. In the Ussuri cycle support for deploying ODL will be removed. The version of ODL provided by Kolla has not been supported by Neutron since the Rocky release. It is recommended to use ODL upstream documentation to get it deployed. ,,17,0
openstack%2Fnova~master~I1d4d64650d1fa39d247815c7dbd8d50bf55b222d,openstack/nova,master,I1d4d64650d1fa39d247815c7dbd8d50bf55b222d,ItemsMatcher: mock call list arg in any order,MERGED,2019-10-18 14:43:44.000000000,2019-11-13 16:08:19.000000000,2019-11-13 16:04:05.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-18 14:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e73efa9f3f21ce7b336ca1d37f0da052ed6aa98', 'message': 'ItemsMatcher: mock call list arg in any order\n\nWhen an argument somewhere in a mock call was a list, but the order of\nthat list was unpredictable (usually because it came from a set/dict), I\ngot sick of having to do:\n\n  my_mock.assert_called_once_with(1, mock.ANY, 3)\n  self.assertItemsEqual(expected_list, my_mock.call_args[0][1])\n\nThis commit adds a little helper so I can instead do:\n\n  my_mock.assert_called_once_with(1, ItemsMatcher(expected_list), 3)\n\nChange-Id: I1d4d64650d1fa39d247815c7dbd8d50bf55b222d\n'}, {'number': 2, 'created': '2019-10-18 19:18:05.000000000', 'files': ['nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/unit/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/acb8b7c4a43008ded820c777fee157e8085ca6a7', 'message': 'ItemsMatcher: mock call list arg in any order\n\nWhen an argument somewhere in a mock call was a list, but the order of\nthat list was unpredictable (usually because it came from a set/dict), I\ngot sick of having to do:\n\n  my_mock.assert_called_once_with(1, mock.ANY, 3)\n  self.assertItemsEqual(expected_list, my_mock.call_args[0][1])\n\nThis commit adds a little helper so I can instead do:\n\n  my_mock.assert_called_once_with(1, ItemsMatcher(expected_list), 3)\n\n...and uses it in a few (by no means all) appropriate places.\n\nChange-Id: I1d4d64650d1fa39d247815c7dbd8d50bf55b222d\n'}]",2,689487,acb8b7c4a43008ded820c777fee157e8085ca6a7,26,11,2,14070,,,0,"ItemsMatcher: mock call list arg in any order

When an argument somewhere in a mock call was a list, but the order of
that list was unpredictable (usually because it came from a set/dict), I
got sick of having to do:

  my_mock.assert_called_once_with(1, mock.ANY, 3)
  self.assertItemsEqual(expected_list, my_mock.call_args[0][1])

This commit adds a little helper so I can instead do:

  my_mock.assert_called_once_with(1, ItemsMatcher(expected_list), 3)

...and uses it in a few (by no means all) appropriate places.

Change-Id: I1d4d64650d1fa39d247815c7dbd8d50bf55b222d
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/689487/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/utils.py'],1,8e73efa9f3f21ce7b336ca1d37f0da052ed6aa98,COMPUTE_NODE,"class ItemsMatcher(CustomMockCallMatcher): """"""Convenience matcher for iterables (mainly lists) where the order is unpredictable. Usage:: my_mock.assert_called_once_with( ..., listy_kwarg=ItemsMatcher(['foo', 'bar', 'baz']), ...) Will pass if the mock is called with a listy_kwarg containing 'foo', 'bar', 'baz' in any order. E.g. the following will all pass:: # Called with a list in some other order my_mock(..., listy_kwarg=['baz', 'foo', 'bar'], ...) # Called with a set my_mock(..., listy_kwarg={'baz', 'foo', 'bar'}, ...) # Called with a tuple in some other order my_mock(..., listy_kwarg=('baz', 'foo', 'bar'), ...) But the following will fail:: my_mock(..., listy_kwarg=['foo', 'bar'], ...) .. todo:: Because we internally use set()s, the following will **pass**, but it shouldn't:: # Duplicated item my_mock(..., listy_kwarg=['foo', 'foo', 'bar', 'baz'], ...) """""" def __init__(self, iterable): self.items = set(iterable) super(ItemsMatcher, self).__init__( lambda other: self.items == set(other)) def __repr__(self): """"""This exists so a failed assertion prints something useful."""""" return 'ItemsMatcher(%r)' % self.items ",,41,0
openstack%2Fnova~master~I77830dfb738cd78c830dc3ce7ea88216c1eac7ef,openstack/nova,master,I77830dfb738cd78c830dc3ce7ea88216c1eac7ef,api-ref: re-work resize action post-conditions,MERGED,2019-10-29 17:00:40.000000000,2019-11-13 15:53:59.000000000,2019-11-13 15:27:43.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-29 17:00:40.000000000', 'files': ['api-ref/source/servers-actions.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/e416b19ba1e2be23e075b4ff3eb3bae309f5df10', 'message': 'api-ref: re-work resize action post-conditions\n\nThis change does a few things:\n\n1. Moves the post-condition paragraph into an\n   ""Asynchronous Postconditions"" section like other\n   API references.\n\n2. Drops the ""RESIZED"" VM status wording since what\n   that probably meant was the server OS-EXT-STS:vm_state\n   value would be ""resized"" but what was in the reference\n   was (a) wrong and (b) redundant with the VERIFY_RESIZE\n   status.\n\n3. Re-words and links the resize_confirm_window config\n   option wording since saying ""if you set"" a config option\n   in the API reference does not really make sense since\n   ""you"" (the non-admin cloud user) does not have control\n   over how the cloud is configured.\n\nChange-Id: I77830dfb738cd78c830dc3ce7ea88216c1eac7ef\n'}]",0,691918,e416b19ba1e2be23e075b4ff3eb3bae309f5df10,16,11,1,6873,,,0,"api-ref: re-work resize action post-conditions

This change does a few things:

1. Moves the post-condition paragraph into an
   ""Asynchronous Postconditions"" section like other
   API references.

2. Drops the ""RESIZED"" VM status wording since what
   that probably meant was the server OS-EXT-STS:vm_state
   value would be ""resized"" but what was in the reference
   was (a) wrong and (b) redundant with the VERIFY_RESIZE
   status.

3. Re-words and links the resize_confirm_window config
   option wording since saying ""if you set"" a config option
   in the API reference does not really make sense since
   ""you"" (the non-admin cloud user) does not have control
   over how the cloud is configured.

Change-Id: I77830dfb738cd78c830dc3ce7ea88216c1eac7ef
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/691918/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/servers-actions.inc'],1,e416b19ba1e2be23e075b4ff3eb3bae309f5df10,bug/1558880,"**Asynchronous Postconditions** A successfully resized server shows a ``VERIFY_RESIZE`` status and ``finished`` migration status. If the cloud has configured the `resize_confirm_window`_ option of the Compute service to a positive value, the Compute service automatically confirms the resize operation after the configured interval. .. _resize_confirm_window: https://docs.openstack.org/nova/latest/configuration/config.html#DEFAULT.resize_confirm_window ","A successfully resized server shows a ``VERIFY_RESIZE`` status, ``RESIZED`` VM status, and ``finished`` migration status. If you set the ``resize_confirm_window`` option of the Compute service to an integer value, the Compute service automatically confirms the resize operation after the set interval in seconds. ",9,6
openstack%2Fkayobe~master~Ib5fb726600debee5df1f7085ea37b583bfccefcf,openstack/kayobe,master,Ib5fb726600debee5df1f7085ea37b583bfccefcf,Fix kolla ansible virtualenv creation on the seed,MERGED,2019-11-05 15:20:29.000000000,2019-11-13 15:52:44.000000000,2019-11-13 15:49:57.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-11-05 15:20:29.000000000', 'files': ['ansible/kolla-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e4f8a5de8e90abcf7084712848f47cbf3262d6bf', 'message': 'Fix kolla ansible virtualenv creation on the seed\n\nBackport: Stein, Rocky, Queens\n\nIn https://review.opendev.org/#/c/671502/ kolla ansible virtualenv\ncreation was modified to only happen on hosts in the kolla-ansible\ninventory. However, that change omitted the seed. It passed CI because\nthe seed and overcloud are both in the inventory.\n\nThis change adds the seed group to the inventory_hostname lookup.\n\nChange-Id: Ib5fb726600debee5df1f7085ea37b583bfccefcf\nStory: 2006247\nTask: 37368\n'}]",0,693030,e4f8a5de8e90abcf7084712848f47cbf3262d6bf,12,7,1,14826,,,0,"Fix kolla ansible virtualenv creation on the seed

Backport: Stein, Rocky, Queens

In https://review.opendev.org/#/c/671502/ kolla ansible virtualenv
creation was modified to only happen on hosts in the kolla-ansible
inventory. However, that change omitted the seed. It passed CI because
the seed and overcloud are both in the inventory.

This change adds the seed group to the inventory_hostname lookup.

Change-Id: Ib5fb726600debee5df1f7085ea37b583bfccefcf
Story: 2006247
Task: 37368
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/30/693030/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-target-venv.yml'],1,e4f8a5de8e90abcf7084712848f47cbf3262d6bf,story/2006247," hosts_in_kolla_inventory: >- map(attribute='groups') | flatten | unique | union(['seed']) | join(':') }} - inventory_hostname in query('inventory_hostnames', hosts_in_kolla_inventory)"," overcloud_nodes_in_kolla_inventory: >- map(attribute='groups') | flatten | unique | join(':') }} - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)",3,3
openstack%2Fpbr~master~Id7f26a8c6217dd15e43890c3b29bd208e074bad2,openstack/pbr,master,Id7f26a8c6217dd15e43890c3b29bd208e074bad2,Remove DeprecationWarning: invalid escape sequence issues,ABANDONED,2019-11-13 13:02:39.000000000,2019-11-13 15:42:25.000000000,,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 13:02:39.000000000', 'files': ['pbr/packaging.py', 'pbr/git.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/65e34cc7527f0546a1188fb43ed0acc89d9d0637', 'message': 'Remove DeprecationWarning: invalid escape sequence issues\n\nPython has become more strict about escape sequences found in strings.\nRegular expressions and similar cases often need to use raw strings to\navoid emitting DeprecationWarnings from these.\n\nThis addresses a few locations in the case that were causing these\nissues.\n\nChange-Id: Id7f26a8c6217dd15e43890c3b29bd208e074bad2\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,694066,65e34cc7527f0546a1188fb43ed0acc89d9d0637,6,3,1,11904,,,0,"Remove DeprecationWarning: invalid escape sequence issues

Python has become more strict about escape sequences found in strings.
Regular expressions and similar cases often need to use raw strings to
avoid emitting DeprecationWarnings from these.

This addresses a few locations in the case that were causing these
issues.

Change-Id: Id7f26a8c6217dd15e43890c3b29bd208e074bad2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/66/694066/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/packaging.py', 'pbr/git.py']",2,65e34cc7527f0546a1188fb43ed0acc89d9d0637,deprecation-warnings," msg = msg.replace('*', r'\*') msg = msg.replace('_', r'\_') msg = msg.replace('`', r'\`')"," msg = msg.replace('*', '\*') msg = msg.replace('_', '\_') msg = msg.replace('`', '\`')",17,17
openstack%2Fkolla~master~I6a1b396632f6c3f71c925ea810d7f78daae47893,openstack/kolla,master,I6a1b396632f6c3f71c925ea810d7f78daae47893,"Revert ""base: use en_US.UTF-8 locale on all distros""",ABANDONED,2019-11-13 15:33:33.000000000,2019-11-13 15:41:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-13 15:33:33.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/unicode-locale-018fe01eaccc556d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1ba9bfefb1e079b96840111f792271bf41fd28c1', 'message': 'Revert ""base: use en_US.UTF-8 locale on all distros""\n\nThis reverts commit e910ef6cf67fcdb718823fbe06becc160e453e69.\n\nChange-Id: I6a1b396632f6c3f71c925ea810d7f78daae47893\n'}]",0,694098,1ba9bfefb1e079b96840111f792271bf41fd28c1,4,5,1,30491,,,0,"Revert ""base: use en_US.UTF-8 locale on all distros""

This reverts commit e910ef6cf67fcdb718823fbe06becc160e453e69.

Change-Id: I6a1b396632f6c3f71c925ea810d7f78daae47893
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/694098/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'releasenotes/notes/unicode-locale-018fe01eaccc556d.yaml']",2,1ba9bfefb1e079b96840111f792271bf41fd28c1,, ``C.UTF-8`` is set as the default locale (``LANG``) for images., ``en_US.UTF-8`` is set as the default locale (``LANG``) for images.,2,2
openstack%2Fnova~master~I7538affa296562bedeaedb07f878456cf78ca132,openstack/nova,master,I7538affa296562bedeaedb07f878456cf78ca132,Provide a better error when _verify_response hits a TypeError,MERGED,2019-11-05 16:31:27.000000000,2019-11-13 15:35:10.000000000,2019-11-13 15:27:53.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-05 16:31:27.000000000', 'files': ['nova/tests/functional/api_samples_test_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/021749a734265d5f19cab156ccddb8e3d3e121a4', 'message': ""Provide a better error when _verify_response hits a TypeError\n\nWhile trying to fix some functional API samples tests that were\nfailing I was getting a TypeError which gave me basically no information\nabout the field in the template that didn't match the response, e.g.:\n\nTypeError: expected string or bytes-like object\n\nThis change fixes that so we get something much more useful about the\nincorrect field when verifying the response fails, e.g.:\n\nnova.tests.functional.api_samples_test_base.NoMatch:\nFailed to match Template to Response:\nValues do not match:\nTemplate: ^foo$\nResponse: None\nError: expected string or bytes-like object\nTemplate: {   'volumeAttachment': {\n                  'delete_on_termination': True,\n                  'device': '%(device)s',\n                  'id': '%(volume_id)s',\n                  'serverId': '%(uuid)s',\n                  'tag': '%(tag)s',\n                  'volumeId': '%(volume_id)s'}}\nResponse: {   'volumeAttachment': {\n                  'delete_on_termination': True,\n                  'device': '/dev/sdb',\n                  'id': 'a07f71dc-8151-4e7d-a0cc-cd24a3f11113',\n                  'serverId': '80355020-98a0-4a84-bd9d-01ac700ac3a7',\n                  'tag': None,\n                  'volumeId': 'a07f71dc-8151-4e7d-a0cc-cd24a3f11113'}}\n\nChange-Id: I7538affa296562bedeaedb07f878456cf78ca132\n""}]",2,693042,021749a734265d5f19cab156ccddb8e3d3e121a4,16,11,1,6873,,,0,"Provide a better error when _verify_response hits a TypeError

While trying to fix some functional API samples tests that were
failing I was getting a TypeError which gave me basically no information
about the field in the template that didn't match the response, e.g.:

TypeError: expected string or bytes-like object

This change fixes that so we get something much more useful about the
incorrect field when verifying the response fails, e.g.:

nova.tests.functional.api_samples_test_base.NoMatch:
Failed to match Template to Response:
Values do not match:
Template: ^foo$
Response: None
Error: expected string or bytes-like object
Template: {   'volumeAttachment': {
                  'delete_on_termination': True,
                  'device': '%(device)s',
                  'id': '%(volume_id)s',
                  'serverId': '%(uuid)s',
                  'tag': '%(tag)s',
                  'volumeId': '%(volume_id)s'}}
Response: {   'volumeAttachment': {
                  'delete_on_termination': True,
                  'device': '/dev/sdb',
                  'id': 'a07f71dc-8151-4e7d-a0cc-cd24a3f11113',
                  'serverId': '80355020-98a0-4a84-bd9d-01ac700ac3a7',
                  'tag': None,
                  'volumeId': 'a07f71dc-8151-4e7d-a0cc-cd24a3f11113'}}

Change-Id: I7538affa296562bedeaedb07f878456cf78ca132
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/693042/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api_samples_test_base.py'],1,021749a734265d5f19cab156ccddb8e3d3e121a4,bug/1180040," try: match = re.match(expected, result) except TypeError as e: raise NoMatch( 'Values do not match:\n' 'Template: %(expected)s\n%(result_str)s: %(result)s\n' 'Error: %(error)s' % {'expected': expected, 'result_str': result_str, 'result': result, 'error': e})"," match = re.match(expected, result)",9,1
openstack%2Fkolla~master~I20dcb86e7e119b9f5ca44cd066fcb9cb84af1ce4,openstack/kolla,master,I20dcb86e7e119b9f5ca44cd066fcb9cb84af1ce4,base: use en_US.UTF-8 locale on all distros,MERGED,2019-10-29 10:14:39.000000000,2019-11-13 15:33:33.000000000,2019-10-29 17:33:15.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-29 10:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/58f22ab5f61cbe407f2db3038441d1401c646a92', 'message': 'base: use en_US.UTF-8 locale on all distros\n\nC.UTF-8 is not supported in RHEL 7:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1361965\n\nCloses-bug: #1850035\nChange-Id: I20dcb86e7e119b9f5ca44cd066fcb9cb84af1ce4\n'}, {'number': 2, 'created': '2019-10-29 10:21:41.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/unicode-locale-018fe01eaccc556d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e910ef6cf67fcdb718823fbe06becc160e453e69', 'message': 'base: use en_US.UTF-8 locale on all distros\n\nC.UTF-8 is not supported in RHEL 7:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1361965\n\nCloses-bug: #1850035\nChange-Id: I20dcb86e7e119b9f5ca44cd066fcb9cb84af1ce4\n'}]",0,691835,e910ef6cf67fcdb718823fbe06becc160e453e69,16,4,2,24072,,,0,"base: use en_US.UTF-8 locale on all distros

C.UTF-8 is not supported in RHEL 7:

https://bugzilla.redhat.com/show_bug.cgi?id=1361965

Closes-bug: #1850035
Change-Id: I20dcb86e7e119b9f5ca44cd066fcb9cb84af1ce4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/691835/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,58f22ab5f61cbe407f2db3038441d1401c646a92,,ENV LANG en_US.UTF-8,ENV LANG C.UTF-8,1,1
openstack%2Fkolla-cli~master~I967a8442c64d85e5f2544aa0e77bb645022dcdf5,openstack/kolla-cli,master,I967a8442c64d85e5f2544aa0e77bb645022dcdf5,"Revert ""Switch to official Ussuri jobs""",MERGED,2019-10-11 16:12:09.000000000,2019-11-13 15:33:24.000000000,2019-10-11 16:46:41.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-11 16:12:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/8feb5771872cd25f21da50092ad2cc75b6d8a3e6', 'message': 'Revert ""Switch to official Ussuri jobs""\n\nThis reverts commit 387bb8ddc58d5723d76be21156391084e7ab2808.\n\nChange-Id: I967a8442c64d85e5f2544aa0e77bb645022dcdf5\n'}]",0,688160,8feb5771872cd25f21da50092ad2cc75b6d8a3e6,8,3,1,30356,,,0,"Revert ""Switch to official Ussuri jobs""

This reverts commit 387bb8ddc58d5723d76be21156391084e7ab2808.

Change-Id: I967a8442c64d85e5f2544aa0e77bb645022dcdf5
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/60/688160/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8feb5771872cd25f21da50092ad2cc75b6d8a3e6,, - openstack-python3-train-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fnova~master~I107931f0817eab3dc030fef13d1c63426605f537,openstack/nova,master,I107931f0817eab3dc030fef13d1c63426605f537,Remove now invalid TODO from ComputeManager._confirm_resize,MERGED,2019-11-07 20:45:12.000000000,2019-11-13 15:32:38.000000000,2019-11-13 15:27:05.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 20:45:12.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c013ce26d9d546e3ea3b966a36f816461b1699f5', 'message': 'Remove now invalid TODO from ComputeManager._confirm_resize\n\nBack when I added the TODO [1] the libvirt driver was getting BDMs\nfrom the instance to determine if it was a volume-backed server\nand I figured when _confirm_resize eventually started sending\nversioned notifications with BDMs we could kill two birds with one\nDB query stone to get the BDMs.\n\nHowever, [2] removed the need for the volume-backed instance check\nin the driver which makes the TODO in the compute manager code\ninvalid now so this just removes the TODO comment.\n\n[1] https://review.opendev.org/#/c/516395/2/nova/compute/manager.py@3630\n[2] Ib10081150e125961cba19cfa821bddfac4614408\n\nChange-Id: I107931f0817eab3dc030fef13d1c63426605f537\n'}]",0,693427,c013ce26d9d546e3ea3b966a36f816461b1699f5,18,13,1,6873,,,0,"Remove now invalid TODO from ComputeManager._confirm_resize

Back when I added the TODO [1] the libvirt driver was getting BDMs
from the instance to determine if it was a volume-backed server
and I figured when _confirm_resize eventually started sending
versioned notifications with BDMs we could kill two birds with one
DB query stone to get the BDMs.

However, [2] removed the need for the volume-backed instance check
in the driver which makes the TODO in the compute manager code
invalid now so this just removes the TODO comment.

[1] https://review.opendev.org/#/c/516395/2/nova/compute/manager.py@3630
[2] Ib10081150e125961cba19cfa821bddfac4614408

Change-Id: I107931f0817eab3dc030fef13d1c63426605f537
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/693427/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,c013ce26d9d546e3ea3b966a36f816461b1699f5,,, # TODO(mriedem): Get BDMs here and pass them to the driver.,0,1
openstack%2Fnova~master~I31ca3627f2d3ef5a8db5eecf3759cd304b059963,openstack/nova,master,I31ca3627f2d3ef5a8db5eecf3759cd304b059963,Add known limitation about resize not resizing ephemeral disks,MERGED,2019-10-29 16:51:42.000000000,2019-11-13 15:27:33.000000000,2019-11-13 15:27:33.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-29 16:51:42.000000000', 'files': ['api-ref/source/servers-actions.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/d3e38143a7e46d06a6632b41b5484b13e81884cf', 'message': ""Add known limitation about resize not resizing ephemeral disks\n\nIt's a long known issue that resize does not resize ephemeral\ndisks attached to the server yet we continue to get bugs about\nit and there is no one working on fixing it. As such this change\nadds a note to the API reference for the resize server action API\nmentioning the known limitation.\n\nChange-Id: I31ca3627f2d3ef5a8db5eecf3759cd304b059963\nRelated-Bug: #1558880\n""}]",0,691915,d3e38143a7e46d06a6632b41b5484b13e81884cf,14,10,1,6873,,,0,"Add known limitation about resize not resizing ephemeral disks

It's a long known issue that resize does not resize ephemeral
disks attached to the server yet we continue to get bugs about
it and there is no one working on fixing it. As such this change
adds a note to the API reference for the resize server action API
mentioning the known limitation.

Change-Id: I31ca3627f2d3ef5a8db5eecf3759cd304b059963
Related-Bug: #1558880
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/691915/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/servers-actions.inc'],1,d3e38143a7e46d06a6632b41b5484b13e81884cf,bug/1558880,.. note:: There is a `known limitation <https://bugs.launchpad.net/nova/+bug/1558880>`__ that ephemeral disks are not resized. ,,3,0
openstack%2Fnova~master~Ia23f39ad44383af1d85329b61142c646e4a5f464,openstack/nova,master,Ia23f39ad44383af1d85329b61142c646e4a5f464,Use ListOfUUIDField from oslo.versionedobjects,MERGED,2019-11-06 21:34:39.000000000,2019-11-13 15:27:16.000000000,2019-11-13 15:27:16.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-06 21:34:39.000000000', 'files': ['nova/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e36915451ae230c719edbb482af7944400433ede', 'message': 'Use ListOfUUIDField from oslo.versionedobjects\n\nThis replaces the in-tree definition of the ListOfUUIDField\nfield with the one from oslo.versionedobjects added in\n1.35.0 [1].\n\nNote that lower-constraints and requirements.txt already use\n1.35.0.\n\n[1] https://review.opendev.org/#/c/634700/\n\nChange-Id: Ia23f39ad44383af1d85329b61142c646e4a5f464\n'}]",1,693258,e36915451ae230c719edbb482af7944400433ede,28,14,1,6873,,,0,"Use ListOfUUIDField from oslo.versionedobjects

This replaces the in-tree definition of the ListOfUUIDField
field with the one from oslo.versionedobjects added in
1.35.0 [1].

Note that lower-constraints and requirements.txt already use
1.35.0.

[1] https://review.opendev.org/#/c/634700/

Change-Id: Ia23f39ad44383af1d85329b61142c646e4a5f464
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/693258/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/fields.py'],1,e36915451ae230c719edbb482af7944400433ede,trival/fields,ListOfUUIDField = fields.ListOfUUIDField,# TODO(mriedem): Replace this with the version from oslo.versiondobjects # when https://review.opendev.org/#/c/634700/ is released. class ListOfUUIDField(AutoTypedField): AUTO_TYPE = List(fields.UUID()) ,1,6
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02,openstack/tripleo-heat-templates,stable/train,I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02,Add ManageNetworks parameter,MERGED,2019-11-12 20:13:41.000000000,2019-11-13 15:19:09.000000000,2019-11-13 15:17:05.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 20:13:41.000000000', 'files': ['network/network.j2', 'releasenotes/notes/manage-networks-9b1e5be19180deff.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c562d6dd77a3e63a66e843486998a8f81ba00ac1', 'message': 'Add ManageNetworks parameter\n\nThe ManageNetworks parameter has been added. The parameter controls\nmanagement of the network and related resources (subnets and segments) with\neither create, update, or delete operations (depending on the stack\noperation).  Does not apply to ports which will always be managed as\nneeded. Defaults to true.\n\nFor multi-stack use cases where the network\nrelated resources have already been managed by a separate stack, this\nparameter can be set to false.\n\nChange-Id: I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02\n(cherry picked from commit aade43dd12498a54fba34e056342ed480ae9c5f7)\n'}]",0,693917,c562d6dd77a3e63a66e843486998a8f81ba00ac1,8,4,1,7144,,,0,"Add ManageNetworks parameter

The ManageNetworks parameter has been added. The parameter controls
management of the network and related resources (subnets and segments) with
either create, update, or delete operations (depending on the stack
operation).  Does not apply to ports which will always be managed as
needed. Defaults to true.

For multi-stack use cases where the network
related resources have already been managed by a separate stack, this
parameter can be set to false.

Change-Id: I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02
(cherry picked from commit aade43dd12498a54fba34e056342ed480ae9c5f7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/693917/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/network.j2', 'releasenotes/notes/manage-networks-9b1e5be19180deff.yaml']",2,c562d6dd77a3e63a66e843486998a8f81ba00ac1,,"--- features: - The ManageNetworks parameter has been added. The parameter controls management of the network and related resources (subnets and segments) with either create, update, or delete operations (depending on the stack operation). Does not apply to ports which will always be managed as needed. Defaults to true. For multi-stack use cases where the network related resources have already been managed by a separate stack, this parameter can be set to false. ",,46,3
openstack%2Fnova~master~I3e599147f95337477c9573b517feee67e0ae37e4,openstack/nova,master,I3e599147f95337477c9573b517feee67e0ae37e4,Remove TODOs around claim_resources_on_destination,MERGED,2019-11-10 14:29:29.000000000,2019-11-13 15:18:04.000000000,2019-11-13 15:15:04.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-10 14:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcee52fa98e8a25a2ba2b3ed053e5e0946a28278', 'message': ""Remove TODOs around claim_resources_on_destination\n\nThe TODOs were added back in the Queens/Pike timeframe [1][2]\nbut at this point there probably isn't much value in resolving\nthose TODOs by adding a skip_filters kward to the scheduler\nespecially since [3] changed the method to not support nested\nresource provider allocations so the minimal duplication with\nwhat we do in the scheduler in the non-force evacuate/live migrate\ncases is sufficient.\n\n[1] Ie63a4798d420c39815e294843e02ab6473cfded2\n[2] I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\n[3] I7cbd5d9fb875ebf72995362e0b6693492ce32051\n\nChange-Id: I3e599147f95337477c9573b517feee67e0ae37e4\n""}, {'number': 2, 'created': '2019-11-10 14:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2c2e66968f859ba39d1cdf094fa03fe06d8c51c', 'message': ""Remove TODOs around claim_resources_on_destination\n\nThe TODOs were added back in the Queens/Pike timeframe [1][2]\nbut at this point there probably isn't much value in resolving\nthose TODOs by adding a skip_filters kward to the scheduler\nespecially since [3] changed the method to not support nested\nresource provider allocations so the minimal duplication with\nwhat we do in the scheduler in the non-force evacuate/live migrate\ncases is sufficient.\n\n[1] Ie63a4798d420c39815e294843e02ab6473cfded2\n[2] I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\n[3] I7cbd5d9fb875ebf72995362e0b6693492ce32051\n\nChange-Id: I3e599147f95337477c9573b517feee67e0ae37e4\n""}, {'number': 3, 'created': '2019-11-10 19:29:27.000000000', 'files': ['nova/scheduler/utils.py', 'nova/conductor/manager.py', 'nova/conductor/tasks/live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6133f81839033de94dcfcfbbdee9c35f15989a1', 'message': ""Remove TODOs around claim_resources_on_destination\n\nThe TODOs were added back in the Queens/Pike timeframe [1][2]\nbut at this point there probably isn't much value in resolving\nthose TODOs by adding a skip_filters kwarg to the scheduler\nespecially since [3] changed the method to not support nested\nresource provider allocations so the minimal duplication with\nwhat we do in the scheduler in the non-force evacuate/live migrate\ncases is sufficient.\n\n[1] Ie63a4798d420c39815e294843e02ab6473cfded2\n[2] I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d\n[3] I7cbd5d9fb875ebf72995362e0b6693492ce32051\n\nChange-Id: I3e599147f95337477c9573b517feee67e0ae37e4\n""}]",1,693635,b6133f81839033de94dcfcfbbdee9c35f15989a1,40,12,3,6873,,,0,"Remove TODOs around claim_resources_on_destination

The TODOs were added back in the Queens/Pike timeframe [1][2]
but at this point there probably isn't much value in resolving
those TODOs by adding a skip_filters kwarg to the scheduler
especially since [3] changed the method to not support nested
resource provider allocations so the minimal duplication with
what we do in the scheduler in the non-force evacuate/live migrate
cases is sufficient.

[1] Ie63a4798d420c39815e294843e02ab6473cfded2
[2] I6590f0eda4ec4996543ad40d8c2640b83fc3dd9d
[3] I7cbd5d9fb875ebf72995362e0b6693492ce32051

Change-Id: I3e599147f95337477c9573b517feee67e0ae37e4
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/693635/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/conductor/manager.py']",2,bcee52fa98e8a25a2ba2b3ed053e5e0946a28278,claim_resources_on_destination,," # TODO(mriedem): Call select_destinations() with a # skip_filters=True flag so the scheduler does the work of # claiming resources on the destination in Placement but still # bypass the scheduler filters, which honors the 'force' flag # in the API.",0,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4b6f7d73cf76954e93760c59d522d485187157cf,openstack/tripleo-heat-templates,stable/train,I4b6f7d73cf76954e93760c59d522d485187157cf,Move KernelArgs and OvS-DPDK deployment to ansible role,MERGED,2019-11-08 04:36:06.000000000,2019-11-13 15:16:59.000000000,2019-11-13 15:16:59.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 04:36:06.000000000', 'files': ['environments/host-config-and-reboot.j2.yaml', 'extraconfig/pre_network/boot-params-service.yaml', 'extraconfig/pre_network/host_config_and_reboot.yaml', 'deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'tools/yaml-validate.py', 'extraconfig/pre_network/boot_param_tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71234311937f54f5c09912b9293e582914927da8', 'message': ""Move KernelArgs and OvS-DPDK deployment to ansible role\n\nEalier, KernelArgs had been configured using ansible\ntasks part of THT repo. Thoese ansiblet asks has been\nmoved to tripleo-kernel role of tripleo-ansible. This\nrole will be invoked from the boot-params-service.\nboot-params-service has been moved from pre network to\nthe deployment/kernel directory.\n\nOvS-DPDK configuration was done using puppet-vswitch\nmodule by invoking puppet in PreNetworkConfig's\nExtraConfig script. A new ansible role tripleo-ovs-dpdk\nhas been created to apply the DPDK configurations via\nansible instead of puppet. This role will be common\nfor both ml2-ovs and ml2-ovn. Common parameter merging\nhas been enhanced to provide common deploy steps.\n\nODL is not validated as it has been deprecated and\ncurrently no active usage or development.\n\nDepends-On: https://review.opendev.org/#/c/688864/\nChange-Id: I4b6f7d73cf76954e93760c59d522d485187157cf\n(cherry picked from commit 16679d0ec43d14536cf96e21f0d47863a64cdb5c)\n""}]",0,693478,71234311937f54f5c09912b9293e582914927da8,12,6,1,18575,,,0,"Move KernelArgs and OvS-DPDK deployment to ansible role

Ealier, KernelArgs had been configured using ansible
tasks part of THT repo. Thoese ansiblet asks has been
moved to tripleo-kernel role of tripleo-ansible. This
role will be invoked from the boot-params-service.
boot-params-service has been moved from pre network to
the deployment/kernel directory.

OvS-DPDK configuration was done using puppet-vswitch
module by invoking puppet in PreNetworkConfig's
ExtraConfig script. A new ansible role tripleo-ovs-dpdk
has been created to apply the DPDK configurations via
ansible instead of puppet. This role will be common
for both ml2-ovs and ml2-ovn. Common parameter merging
has been enhanced to provide common deploy steps.

ODL is not validated as it has been deprecated and
currently no active usage or development.

Depends-On: https://review.opendev.org/#/c/688864/
Change-Id: I4b6f7d73cf76954e93760c59d522d485187157cf
(cherry picked from commit 16679d0ec43d14536cf96e21f0d47863a64cdb5c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/693478/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/host-config-and-reboot.j2.yaml', 'extraconfig/pre_network/boot-params-service.yaml', 'extraconfig/pre_network/host_config_and_reboot.yaml', 'deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'tools/yaml-validate.py', 'extraconfig/pre_network/boot_param_tasks.yaml']",11,71234311937f54f5c09912b9293e582914927da8,boot_params-stable/train,," - name: Get the command line args of the node command: cat /proc/cmdline register: cmdline - name: Check tuned active profile slurp: src: ""/etc/tuned/active_profile"" register: tuned_active_profile # Kernel Args Configuration - block: - name: Ensure the kernel args ( {{ _KERNEL_ARGS_ }} ) is present as TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS lineinfile: dest: /etc/default/grub regexp: '^TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS.*' insertafter: '^GRUB_CMDLINE_LINUX.*' line: 'TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS="" {{ _KERNEL_ARGS_ }} ""' - name: Add TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to the GRUB_CMDLINE_LINUX parameter lineinfile: dest: /etc/default/grub line: 'GRUB_CMDLINE_LINUX=""${GRUB_CMDLINE_LINUX:+$GRUB_CMDLINE_LINUX }${TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS}""' insertafter: '^TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS.*' - name: Generate grub config file command: grub2-mkconfig -o /boot/grub2/grub.cfg - name: Set reboot required fact set_fact: reboot_required: true become: true when: - _KERNEL_ARGS_|default("""") != """" - _KERNEL_ARGS_|default("""") not in cmdline.stdout_lines[0] # Kernel modules loading - name: Load type1 IOMMU driver for VFIO on boot import_role: name: tripleo-module-load vars: modules: - name: vfio_iommu_type1 when: _KERNEL_ARGS_ is search(""iommu"") # Tune-d Configuration - block: - name: Check Tune-d Configuration file exists stat: path: ""/etc/tuned/{{ _TUNED_PROFILE_NAME_ }}-variables.conf"" register: tuned_conf_stat_result - name: Tune-d Configuration lineinfile: dest: ""/etc/tuned/{{ _TUNED_PROFILE_NAME_ }}-variables.conf"" regexp: '^isolated_cores=.*' line: 'isolated_cores={{ _TUNED_CORES_ }}' when: tuned_conf_stat_result.stat.exists and _TUNED_CORES_|default("""") != """" - name: Tune-d profile activation command: >- tuned-adm profile {{ _TUNED_PROFILE_NAME_ }} - name: Set reboot required fact set_fact: reboot_required: true become: true when: - (_TUNED_PROFILE_NAME_ | default("""")) != """" - (_TUNED_PROFILE_NAME_ | default("""")) != (tuned_active_profile['content'] | b64decode).strip() # Check if os-net-config has run once, if yes, no need for the below workaround - find: paths: /etc/sysconfig/network-scripts/ patterns: ifcfg-* contains: ""# This file is autogenerated by os-net-config"" register: os_net_ifcfg_files when: reboot_required is defined and reboot_required # Provisioning Network workaround # The script will be executed before os-net-config, in which case, only Provisioning network will have IP # BOOTPROTO of all interface config files (except provisioning), will be set to ""none"" to avoid reboot failing to acquire IP on other networks - block: - find: paths: /etc/sysconfig/network-scripts/ patterns: ifcfg-* register: ifcfg_files - replace: dest: ""{{ item.path }}"" regexp: '^BOOTPROTO=.*' replace: 'BOOTPROTO=none' when: - item.path | regex_replace('(^.*ifcfg-)(.*)', '\\2') != ""lo"" # Ensure the interface information is available in the facts - hostvars[inventory_hostname]['ansible_' + item.path | regex_replace('(^.*ifcfg-)(.*)', '\\2') | replace('-', '_') ] is defined # This condition will list all the interfaces except the one with valid IP (which is Provisioning network at this stage) # Simpler Version - hostvars[inventory_hostname]['ansible_' + iface_name ]['ipv4'] is undefined - hostvars[inventory_hostname]['ansible_' + item.path | regex_replace('(^.*ifcfg-)(.*)', '\\2') | replace('-', '_') ]['ipv4'] is undefined with_items: - ""{{ ifcfg_files.files }}"" become: true when: - reboot_required is defined and reboot_required - os_net_ifcfg_files.matched == 0 ",185,416
openstack%2Ftripleo-ansible~master~Iad8741ac09d8668f53b29e4965f8868ad55db017,openstack/tripleo-ansible,master,Iad8741ac09d8668f53b29e4965f8868ad55db017,Lists python packages from test-python environment,MERGED,2019-11-13 10:52:09.000000000,2019-11-13 15:13:24.000000000,2019-11-13 15:13:24.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 10:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cea0eb6029c0ec79b4320d11b8d28a6b3ce4a843', 'message': 'Lists python packages from test-python environment\n\n* Adds another tox feature to scripts/run-local-test in order to allow\n  us to debug CI failures. Current implementation is totally opaque\n  regarding what packages are installed.\n* Assures we display packages on zuul too.\n\nChange-Id: Iad8741ac09d8668f53b29e4965f8868ad55db017\n'}, {'number': 2, 'created': '2019-11-13 11:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c28eb51735ee8f599fb6ffdf3c21f3e41ec0954', 'message': 'Lists python packages from test-python environment\n\n* Adds another tox feature to scripts/run-local-test in order to allow\n  us to debug CI failures. Current implementation is totally opaque\n  regarding what packages are installed.\n* Assures we display packages on zuul too.\n\nChange-Id: Iad8741ac09d8668f53b29e4965f8868ad55db017\n'}, {'number': 3, 'created': '2019-11-13 11:22:54.000000000', 'files': ['zuul.d/molecule.yaml', 'scripts/run-local-test', 'zuul.d/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c082faa77a51b9788af22b255eac8a11a5a5df84', 'message': 'Lists python packages from test-python environment\n\n* Adds another tox feature to scripts/run-local-test in order to allow\n  us to debug CI failures. Current implementation is totally opaque\n  regarding what packages are installed.\n* Assures we display packages on zuul too.\n* Assures that we do run some jobs using pre.yml when we touch it, as\n  previously only openstack-tox-linters was run\n\nChange-Id: Iad8741ac09d8668f53b29e4965f8868ad55db017\n'}]",0,694041,c082faa77a51b9788af22b255eac8a11a5a5df84,11,9,3,24162,,,0,"Lists python packages from test-python environment

* Adds another tox feature to scripts/run-local-test in order to allow
  us to debug CI failures. Current implementation is totally opaque
  regarding what packages are installed.
* Assures we display packages on zuul too.
* Assures that we do run some jobs using pre.yml when we touch it, as
  previously only openstack-tox-linters was run

Change-Id: Iad8741ac09d8668f53b29e4965f8868ad55db017
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/694041/3 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/run-local-test', 'zuul.d/playbooks/pre.yml']",2,cea0eb6029c0ec79b4320d11b8d28a6b3ce4a843,fix/list-wheels, - name: Display test-python virtualenv package versions shell: |- . {{ ansible_user_dir }}/test-python/bin/activate pip freeze ,,9,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ia58fd299942954c39214bad76cbcf40ad4371f18,openstack/tripleo-ansible,stable/train,Ia58fd299942954c39214bad76cbcf40ad4371f18,Fix enabled_services to include all_nodes_extra_map_data,MERGED,2019-11-12 20:16:47.000000000,2019-11-13 15:13:23.000000000,2019-11-13 15:13:23.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 20:16:47.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b405e03346f07da0eb9570896af293e5d17b706', 'message': 'Fix enabled_services to include all_nodes_extra_map_data\n\nWhen the tripleo-hieradata role was imported[1] from tripleo-common[2],\nthe handling to create all_enabled_services from enabled_services and\nall_nodes_extra_map_data was lost.\n\nThis caused several data items to be missing in the multi-stack case.\n\nThis patch restores the original functionality.\n\n[1] https://review.opendev.org/#/c/673364/\n[2] https://review.opendev.org/#/c/673366/\n\nChange-Id: Ia58fd299942954c39214bad76cbcf40ad4371f18\n(cherry picked from commit 98a9181fad3904e3a82dc128834e8099ca55119b)\n'}]",0,693920,8b405e03346f07da0eb9570896af293e5d17b706,8,3,1,7144,,,0,"Fix enabled_services to include all_nodes_extra_map_data

When the tripleo-hieradata role was imported[1] from tripleo-common[2],
the handling to create all_enabled_services from enabled_services and
all_nodes_extra_map_data was lost.

This caused several data items to be missing in the multi-stack case.

This patch restores the original functionality.

[1] https://review.opendev.org/#/c/673364/
[2] https://review.opendev.org/#/c/673366/

Change-Id: Ia58fd299942954c39214bad76cbcf40ad4371f18
(cherry picked from commit 98a9181fad3904e3a82dc128834e8099ca55119b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/693920/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'],1,8b405e03346f07da0eb9570896af293e5d17b706,,"{% set all_enabled_services = ((enabled_services + all_nodes_extra_map_data['enabled_services'] | default ([])) | unique) %} {% set _ = all_nodes.__setitem__('enabled_services', all_enabled_services) %} {% for service in all_enabled_services %}","{% set _ = all_nodes.__setitem__('enabled_services', ((enabled_services + all_nodes_extra_map_data['enabled_services'] | default ([])) | unique)) %} {% for service in enabled_services %}",3,2
openstack%2Fpython-novaclient~master~Ib1ad244bb059bb86a9f3025d4bc16c20946433d0,openstack/python-novaclient,master,Ib1ad244bb059bb86a9f3025d4bc16c20946433d0,Add minor version [21] to the test_versions,MERGED,2019-10-15 02:03:16.000000000,2019-11-13 15:01:47.000000000,2019-11-13 14:59:45.000000000,"[{'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-10-15 02:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0f34065b1233f02cba8b3cb23ca7e1d1c80d21b7', 'message': 'Add minor version [21] to test_versions\n\nCloses-Bug: #1848110\nChange-Id: Ib1ad244bb059bb86a9f3025d4bc16c20946433d0\n'}, {'number': 2, 'created': '2019-10-16 07:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/1eedb3edcf6d096bf711aae2e24b7dac889c0017', 'message': 'Add minor version [21] to the test_versions\n\nIn v2.21, the os-instance-actions API returns information from deleted\ninstances. This change does not involve changes to novaclient, but\nsince novaclient does not add support for v2.21, it does not match\nAPI_MAX_VERSION when executing unit tests\n(novaclient.tests.unit.v2.test_shell.ShellTest.test_versions).\n\nCloses-Bug: #1848110\nChange-Id: Ib1ad244bb059bb86a9f3025d4bc16c20946433d0\n'}, {'number': 3, 'created': '2019-10-21 23:53:38.000000000', 'files': ['novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c15a5a055561fbbe622cf3990f192f8e22ae54de', 'message': 'Add minor version [21] to the test_versions\n\nIn v2.21, the os-instance-actions API returns information from deleted\ninstances. This change does not involve changes to novaclient, but\nsince novaclient does not add support for v2.21, it does not match\nAPI_MAX_VERSION when executing unit tests\n(novaclient.tests.unit.v2.test_shell.ShellTest.test_versions).\n\nCloses-Bug: #1848110\nChange-Id: Ib1ad244bb059bb86a9f3025d4bc16c20946433d0\n'}]",5,688599,c15a5a055561fbbe622cf3990f192f8e22ae54de,22,6,3,26458,,,0,"Add minor version [21] to the test_versions

In v2.21, the os-instance-actions API returns information from deleted
instances. This change does not involve changes to novaclient, but
since novaclient does not add support for v2.21, it does not match
API_MAX_VERSION when executing unit tests
(novaclient.tests.unit.v2.test_shell.ShellTest.test_versions).

Closes-Bug: #1848110
Change-Id: Ib1ad244bb059bb86a9f3025d4bc16c20946433d0
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/99/688599/3 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/unit/v2/test_shell.py'],1,0f34065b1233f02cba8b3cb23ca7e1d1c80d21b7,bug/1848110," 21, # doesn't require any changes in novaclient",,1,0
openstack%2Fopenstack-helm-images~master~I14e21936d1808a4f41b20368451da95100075dda,openstack/openstack-helm-images,master,I14e21936d1808a4f41b20368451da95100075dda,Nagios; Update check_exporter_health_metric plugin,MERGED,2019-11-12 18:33:04.000000000,2019-11-13 15:00:59.000000000,2019-11-13 14:59:26.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29937}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-11-12 18:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/75f8660089a4ac8ab313f1a2ebb6a6c59ea16fe0', 'message': 'Nagios; Update check_exporter_health_metric plugin\n\nThis updates the Nagios plugin for checking health metrics exposed\nby an exporter endpoint directly. To address issues where multiple\nexporter replicas may not all be active, this moves the plugin to\ninstead use the python kubernetes client to programmatically\ndetermine which endpoint tied to the exporter service is active\nand returns the metrics exposed by the active endpoint. This\nallows for more robust checking of service health in scenarios\nwhere circumventing prometheus is desired\n\nChange-Id: I14e21936d1808a4f41b20368451da95100075dda\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-11-12 20:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d41aa2959bd97610c810bf318e60c52cef6b4374', 'message': 'Nagios; Update check_exporter_health_metric plugin\n\nThis updates the Nagios plugin for checking health metrics exposed\nby an exporter endpoint directly. To address issues where multiple\nexporter replicas may not all be active, this moves the plugin to\ninstead use the python kubernetes client to programmatically\ndetermine which endpoint tied to the exporter service is active\nand returns the metrics exposed by the active endpoint. This\nallows for more robust checking of service health in scenarios\nwhere circumventing prometheus is desired\n\nChange-Id: I14e21936d1808a4f41b20368451da95100075dda\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-11-13 03:37:27.000000000', 'files': ['nagios/plugins/check_exporter_health_metric.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0635f74e9ee6d05085be251812f5bc08ff5cb612', 'message': 'Nagios; Update check_exporter_health_metric plugin\n\nThis updates the Nagios plugin for checking health metrics exposed\nby an exporter endpoint directly. To address issues where multiple\nexporter replicas may not all be active, this moves the plugin to\ninstead use the python kubernetes client to programmatically\ndetermine which endpoint tied to the exporter service is active\nand returns the metrics exposed by the active endpoint. This\nallows for more robust checking of service health in scenarios\nwhere circumventing prometheus is desired\n\nChange-Id: I14e21936d1808a4f41b20368451da95100075dda\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",2,693900,0635f74e9ee6d05085be251812f5bc08ff5cb612,15,7,3,17591,,,0,"Nagios; Update check_exporter_health_metric plugin

This updates the Nagios plugin for checking health metrics exposed
by an exporter endpoint directly. To address issues where multiple
exporter replicas may not all be active, this moves the plugin to
instead use the python kubernetes client to programmatically
determine which endpoint tied to the exporter service is active
and returns the metrics exposed by the active endpoint. This
allows for more robust checking of service health in scenarios
where circumventing prometheus is desired

Change-Id: I14e21936d1808a4f41b20368451da95100075dda
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/00/693900/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/plugins/check_exporter_health_metric.py'],1,75f8660089a4ac8ab313f1a2ebb6a6c59ea16fe0,nagios-exporter-metrics,"# /usr/lib/nagios/plugins/check_exporter_health_metric.py \ # --exporter_namespace ""ceph"" \ # --label_selector ""component=manager"" \ # --health_metric ""ceph_health_status"" \ # --critical 2 \ # --warning 1 # Output: # OK: ceph_health_status metric has a OK value({u'ceph_health_status': 0.0})import kubernetes.client from kubernetes.client.rest import ApiException import kubernetes.config '--exporter_namespace', metavar='--exporter_namespace', help='exporter endpoint namespace') parser.add_argument( '--label_selector', metavar='--label_selector', type=str, required=True, help='exporter endpoint label selector(s)') args.exporter_namespace, args.label_selector, args.health_metric)def query_exporter_metric(exporter_namespace, label_selector, metric_name): exporter_endpoint = find_active_endpoint(exporter_namespace, label_selector) response = requests.get(include_schema(exporter_endpoint), verify=False) # nosec ""ERROR retrieving exporter endpoint {}"".format(def get_kubernetes_api(): kubernetes.config.load_incluster_config() api = kubernetes.client.CoreV1Api() return api def get_kubernetes_endpoints(namespace, label_selector): kube_api = get_kubernetes_api() try: endpoint_list = kube_api.list_namespaced_endpoints(namespace=namespace, label_selector=label_selector) except ApiException as e: print(""Exception when calling CoreV1Api->list_namespaced_endpoints: %s\n"" % e) return endpoint_list.items def get_endpoint_metric_port(endpoint): ports = endpoint.ports for port in ports: if port.name == 'metrics': return port.port def get_kubernetes_endpoint_addresses(endpoints): addresses = [] for endpoint in endpoints: for subset in endpoint.subsets: port = get_endpoint_metric_port(subset) for address in subset.addresses: addresses.append(""{}:{}/metrics"".format(address.ip, port)) return addresses def find_active_endpoint(namespace, label_selector): kube_api = get_kubernetes_api() exporter_endpoints = get_kubernetes_endpoints(namespace, label_selector) exporter_addresses = get_kubernetes_endpoint_addresses(exporter_endpoints) for address in exporter_addresses: metrics = dict() response = requests.get(include_schema(address), verify=False) # nosec if response.text: return address def include_schema(endpoint): if endpoint.startswith(""http://"") or endpoint.startswith(""https://""): return endpoint else: return ""http://{}"".format(endpoint)","# /usr/lib/nagios/plugins/check_exporter_health_metric.py --exporter_api 172.17.0.1:9100/metrics --health_metric go_info --critical 2 --warning 1 # Output: # Warning: go_info metric is a warning value of 1(go_info{version=""go1.9.1""}) '--exporter_api', metavar='--exporter_api', help='exporter location with scheme and port') args.exporter_api, args.health_metric)def query_exporter_metric(exporter_api, metric_name): response = requests.get(include_schema(exporter_api), verify=False) # nosec ""ERROR retrieving ceph exporter api {}"".format( def include_schema(api): if api.startswith(""http://"") or api.startswith(""https://""): return api else: return ""http://{}"".format(api)",66,14
openstack%2Fneutron~master~If31de3cc831b0ee3caed9924e50d86270aeb9d7f,openstack/neutron,master,If31de3cc831b0ee3caed9924e50d86270aeb9d7f,Fix mis-use of _dvr_to_src_mac_table_id,MERGED,2019-06-13 16:45:36.000000000,2019-11-13 14:59:36.000000000,2019-06-15 00:15:02.000000000,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-13 16:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9760e00e94e2d78cb5acef80469e2f0c8a803585', 'message': 'Fix miss using _dvr_to_src_mac_table_id\n\nA simple dvr router admin-state down action can cause the\n""TypeError: \'int\' object is not iterable"" in snat node.\nThis patch addresses that.\n\nCloses-Bug: #1832743\nChange-Id: If31de3cc831b0ee3caed9924e50d86270aeb9d7f\n'}, {'number': 2, 'created': '2019-06-14 03:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af7be1bb9987d591225f21b6a5a7cf80ee78fbec', 'message': 'Fix mis-use of _dvr_to_src_mac_table_id\n\nA simple dvr router admin-state down action can cause the\nexception ""TypeError: \'int\' object is not iterable"" in snat\nnode ovs-agent. This patch addresses that.\n\nCloses-Bug: #1832743\nChange-Id: If31de3cc831b0ee3caed9924e50d86270aeb9d7f\n'}, {'number': 3, 'created': '2019-06-14 10:04:01.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3027b66c3854c183899e4e0774a92b965aa049d4', 'message': 'Fix mis-use of _dvr_to_src_mac_table_id\n\nA simple dvr router admin-state down action can cause the\nexception ""TypeError: \'int\' object is not iterable"" in snat\nnode ovs-agent. This patch addresses that.\n\nCloses-Bug: #1832743\nChange-Id: If31de3cc831b0ee3caed9924e50d86270aeb9d7f\n'}]",12,665175,3027b66c3854c183899e4e0774a92b965aa049d4,24,8,3,9531,,,0,"Fix mis-use of _dvr_to_src_mac_table_id

A simple dvr router admin-state down action can cause the
exception ""TypeError: 'int' object is not iterable"" in snat
node ovs-agent. This patch addresses that.

Closes-Bug: #1832743
Change-Id: If31de3cc831b0ee3caed9924e50d86270aeb9d7f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/665175/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'],1,9760e00e94e2d78cb5acef80469e2f0c8a803585,bug/1832743," self.uninstall_flows( strict=True, priority=5, table_id=table_id, match=match)"," for table in table_id: self.uninstall_flows( strict=True, priority=5, table_id=table, match=match)",2,3
openstack%2Fopenstack-helm-infra~master~Id9604f580587951b10face379acf58baa74905ef,openstack/openstack-helm-infra,master,Id9604f580587951b10face379acf58baa74905ef,Add utility to join list with semicolons,ABANDONED,2019-08-29 14:28:31.000000000,2019-11-13 14:56:17.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-08-29 14:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca8adbed344443b557a959b28ab0cf45e55760a2', 'message': 'Add utility to join list with semicolons\n\nChange-Id: Id9604f580587951b10face379acf58baa74905ef\n'}, {'number': 2, 'created': '2019-08-29 14:31:34.000000000', 'files': ['helm-toolkit/templates/utils/_joinListWithSemicolon.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/201d018392f14fdc07cbdcdb267a0d354d09858e', 'message': 'Add utility to join list with semicolons\n\nChange-Id: Id9604f580587951b10face379acf58baa74905ef\n'}]",0,679270,201d018392f14fdc07cbdcdb267a0d354d09858e,6,8,2,8749,,,0,"Add utility to join list with semicolons

Change-Id: Id9604f580587951b10face379acf58baa74905ef
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/70/679270/2 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/utils/_joinListWithSemicolon.tpl'],1,ca8adbed344443b557a959b28ab0cf45e55760a2,semicolon-join-util,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{/* abstract: | Joins a list of values into a semicolon separated string values: | test: - foo - bar usage: | {{ include ""shipyard.utils.joinListWithSemicolon"" .Values.test }} return: | foo;bar */}} {{- define ""shipyard.utils.joinListWithSemicolon"" -}} {{- $local := dict ""first"" true -}} {{- range $k, $v := . -}}{{- if not $local.first -}};{{- end -}}{{- $v -}}{{- $_ := set $local ""first"" false -}}{{- end -}} {{- end -}} ",,33,0
openstack%2Ftripleo-heat-templates~master~I7c79f9800fc2bbbecea02cf6cbb47b3ca17cac44,openstack/tripleo-heat-templates,master,I7c79f9800fc2bbbecea02cf6cbb47b3ca17cac44,"Revert ""Drop legacy log folder and readme""",ABANDONED,2019-11-13 05:17:57.000000000,2019-11-13 14:33:14.000000000,,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 05:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fffc6370b5336e06cbecf8cf7c7462f7b168c84', 'message': 'Revert ""Drop legacy log folder and readme""\n\nThis reverts commit 7906fb43be72a150b5d10e0e18b21b568895b6e0.\n\nChange-Id: I7c79f9800fc2bbbecea02cf6cbb47b3ca17cac44\n'}, {'number': 2, 'created': '2019-11-13 05:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c46bb8e2852320feea692929556d7ea7d10d3412', 'message': 'Revert ""Drop legacy log folder and readme""\n\nThis reverts commit 7906fb43be72a150b5d10e0e18b21b568895b6e0.\n\nChange-Id: I7c79f9800fc2bbbecea02cf6cbb47b3ca17cac44\n'}, {'number': 3, 'created': '2019-11-13 06:58:11.000000000', 'files': ['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/def893818d9baf4524ed643a9dfa41dad46024cc', 'message': 'Revert ""Drop legacy log folder and readme""\n\nThis reverts commit 7906fb43be72a150b5d10e0e18b21b568895b6e0.\n\nRelated-Bug: #1851847\nChange-Id: I7c79f9800fc2bbbecea02cf6cbb47b3ca17cac44\n'}]",0,693974,def893818d9baf4524ed643a9dfa41dad46024cc,9,6,3,13861,,,0,"Revert ""Drop legacy log folder and readme""

This reverts commit 7906fb43be72a150b5d10e0e18b21b568895b6e0.

Related-Bug: #1851847
Change-Id: I7c79f9800fc2bbbecea02cf6cbb47b3ca17cac44
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/693974/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",78,7fffc6370b5336e06cbecf8cf7c7462f7b168c84,692791," - { 'path': /var/log/rabbitmq, 'setype': svirt_sandbox_file_t } - name: rabbitmq logs readme copy: dest: /var/log/rabbitmq/readme.txt content: | Log files from rabbitmq containers can be found under /var/log/containers/rabbitmq. ignore_errors: true",,625,0
openstack%2Fhorizon~stable%2Ftrain~I87f551d28f7d4dca8306fc8ddc812ab6b905db0a,openstack/horizon,stable/train,I87f551d28f7d4dca8306fc8ddc812ab6b905db0a,Imported Translations from Zanata,MERGED,2019-11-07 08:56:26.000000000,2019-11-13 14:31:13.000000000,2019-11-13 14:28:04.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 08:56:26.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc-admin.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc-admin.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fd9839a0768842308b3f9ecabafc04b120453994', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I87f551d28f7d4dca8306fc8ddc812ab6b905db0a\n'}]",0,693319,fd9839a0768842308b3f9ecabafc04b120453994,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I87f551d28f7d4dca8306fc8ddc812ab6b905db0a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/693319/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ko_KR/LC_MESSAGES/doc-admin.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc-admin.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po']",4,fd9839a0768842308b3f9ecabafc04b120453994,zanata/translations,"""Project-Id-Version: horizon\n""""POT-Creation-Date: 2019-10-23 08:36+0000\n""","""Project-Id-Version: horizon 15.0.0.0b2.dev218\n""""POT-Creation-Date: 2019-01-11 10:46-0600\n""msgid ""256"" msgstr ""256"" msgid """" ""512 (Recommended for aes-xts-plain64. 256 should be used for aes-cbc-essiv)"" msgstr """" ""512 (Recommended for aes-xts-plain64. 256 should be used for aes-cbc-essiv)"" msgid """" ""Using this selection for aes-xts, the underlying key size would only be 256-"" ""bits*"" msgstr """" ""Using this selection for aes-xts, the underlying key size would only be 256-"" ""bits*"" ",11,67
openstack%2Fopenstack-ansible-os_blazar~stable%2Fstein~I1dba92e9f7634a4da14625e6a790ebedc7481213,openstack/openstack-ansible-os_blazar,stable/stein,I1dba92e9f7634a4da14625e6a790ebedc7481213,Switch to opensuse-15,MERGED,2019-11-13 11:50:13.000000000,2019-11-13 14:28:42.000000000,2019-11-13 14:24:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-13 11:50:13.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/d16a1906e91e6f13da2ff70dbe345481f71ee4a6', 'message': 'Switch to opensuse-15\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nNote that this is not a backport from master since master is using\nnew templates that don\'t exist on stein.\n\nChange-Id: I1dba92e9f7634a4da14625e6a790ebedc7481213\n'}]",0,694048,d16a1906e91e6f13da2ff70dbe345481f71ee4a6,8,3,1,6547,,,0,"Switch to opensuse-15

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

Note that this is not a backport from master since master is using
new templates that don't exist on stein.

Change-Id: I1dba92e9f7634a4da14625e6a790ebedc7481213
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/48/694048/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,d16a1906e91e6f13da2ff70dbe345481f71ee4a6,use-opensuse-15, name: openstack-ansible-deploy-aio_metal_blazar-opensuse-15 nodeset: opensuse-15, name: openstack-ansible-deploy-aio_metal_blazar-opensuse-150 nodeset: opensuse-150,3,3
openstack%2Fos-net-config~stable%2Frocky~I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,openstack/os-net-config,stable/rocky,I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,Cleanup the sriov_numvfs config scripts,MERGED,2019-11-13 03:45:36.000000000,2019-11-13 14:23:15.000000000,2019-11-13 14:23:14.000000000,"[{'_account_id': 7144}, {'_account_id': 17130}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 03:45:36.000000000', 'files': ['os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9bcd35f57a697bc550d3cf5e491a0d463d82a070', 'message': 'Cleanup the sriov_numvfs config scripts\n\nClean\n    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules\n    2) /sbin/ifup-local\n    3) /etc/sysconfig/allocate_vfs\nCreate /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs\n\nChange-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863\n(cherry picked from commit fb296079eba18b232959ca8e1bc109f3ca091b4f)\n'}]",0,693966,9bcd35f57a697bc550d3cf5e491a0d463d82a070,9,6,1,18904,,,0,"Cleanup the sriov_numvfs config scripts

Clean
    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules
    2) /sbin/ifup-local
    3) /etc/sysconfig/allocate_vfs
Create /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs

Change-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863
(cherry picked from commit fb296079eba18b232959ca8e1bc109f3ca091b4f)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/66/693966/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/sriov_config.py'],1,9bcd35f57a697bc550d3cf5e491a0d463d82a070,cleanup-stable/rocky,"_UDEV_LEGACY_RULE_FILE = '/etc/udev/rules.d/70-os-net-config-sriov.rules' _IFUP_LOCAL_FILE = '/sbin/ifup-local'def cleanup_puppet_config(): file_contents = """" if os.path.exists('/etc/udev/rules.d/70-tripleo-reset-sriov.rules'): os.remove('/etc/udev/rules.d/70-tripleo-reset-sriov.rules') if os.path.exists('/etc/sysconfig/allocate_vfs'): os.remove('/etc/sysconfig/allocate_vfs') if os.path.exists(_IFUP_LOCAL_FILE): # Remove the invocation of allocate_vfs script generated by puppet # After the removal of allocate_vfs, if the ifup-local file has just # ""#!/bin/bash"" left, then remove the file as well. with open(_IFUP_LOCAL_FILE) as oldfile: for line in oldfile: if ""/etc/sysconfig/allocate_vfs"" not in line: file_contents = file_contents + line if file_contents.strip() == ""#!/bin/bash"": os.remove(_IFUP_LOCAL_FILE) else: with open(_IFUP_LOCAL_FILE, 'w') as newfile: newfile.write(file_contents) # Cleanup the previous config by puppet-tripleo cleanup_puppet_config() if item.get('link_mode') == ""legacy"": # Add a udev rule to configure the VF's when PF's are # released by a guest add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs'])def _write_numvfs(device_name, numvfs): sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, device_name, ""device/sriov_numvfs"") curr_numvfs = get_numvfs(device_name) if curr_numvfs != 0: logger.info(""Numvfs already configured for %s"" % device_name) return try: with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % numvfs) except IOError as exc: msg = (""Unable to configure pf: %s with numvfs: %d\n%s"" % (device_name, numvfs, exc)) raise SRIOVNumvfsException(msg) def add_udev_rule_for_legacy_sriov_pf(pf_name, numvfs): logger.info(""adding udev rules for %s"" % (pf_name)) udev_line = 'KERNEL==""%s"", '\ 'RUN+=""/bin/os-net-config-sriov -n %%k:%d""' \ % (pf_name, numvfs) return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE) parser.add_argument( '-n', '--numvfs', dest=""numvfs"", action='store', help=""Provide the numvfs for device in the format <device>:<numvfs>"", required=False) if opts.numvfs: if re.match(""^\w+:\d+$"", opts.numvfs): device_name, numvfs = opts.numvfs.split(':') _write_numvfs(device_name, int(numvfs)) else: logging.error(""Invalid arguments for --numvfs %s"" % opts.numvfs) else: # Configure the PF's configure_sriov_pf() # Configure the VFs configure_sriov_vf()", # Configure the PF's configure_sriov_pf() # Configure the VFs configure_sriov_vf(),76,4
openstack%2Fos-net-config~master~Ica0a160ce7c8f781d37cd4da67e04cd03db7de94,openstack/os-net-config,master,Ica0a160ce7c8f781d37cd4da67e04cd03db7de94,Add linkdelay option,MERGED,2019-09-06 04:23:23.000000000,2019-11-13 14:14:14.000000000,2019-09-20 13:06:14.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-09-06 04:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/7e5f50a320aa4c68bde131f08caae55326a3ae51', 'message': 'Add linkdelay option\n\nChange-Id: Ica0a160ce7c8f781d37cd4da67e04cd03db7de94\nCloses-Bug: 1842999\n'}, {'number': 2, 'created': '2019-09-12 04:30:07.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/04f285ad02a2edf445bba7f740c9e5eb0b498a3b', 'message': 'Add linkdelay option\n\nChange-Id: Ica0a160ce7c8f781d37cd4da67e04cd03db7de94\nCloses-Bug: 1842999\n'}]",1,680569,04f285ad02a2edf445bba7f740c9e5eb0b498a3b,34,6,2,21778,,,0,"Add linkdelay option

Change-Id: Ica0a160ce7c8f781d37cd4da67e04cd03db7de94
Closes-Bug: 1842999
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/69/680569/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/objects.py']",4,7e5f50a320aa4c68bde131f08caae55326a3ae51,bug/1842999," onboot=True, domain=None, ethtool_opts=None, hotplug=False, linkdelay=None): self.linkdelay = linkdelay linkdelay = json.get('linkdelay', None) hotplug=hotplug, linkdelay=linkdelay)"," onboot=True, domain=None, ethtool_opts=None, hotplug=False): hotplug=hotplug)",24,2
openstack%2Fos-net-config~stable%2Fqueens~I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,openstack/os-net-config,stable/queens,I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,Cleanup the sriov_numvfs config scripts,MERGED,2019-11-13 05:16:17.000000000,2019-11-13 14:11:18.000000000,2019-11-13 14:11:18.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 05:16:17.000000000', 'files': ['os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1aab969eed4095e70f0beb73a16150c38a1a749b', 'message': 'Cleanup the sriov_numvfs config scripts\n\nClean\n    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules\n    2) /sbin/ifup-local\n    3) /etc/sysconfig/allocate_vfs\nCreate /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs\n\nChange-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863\n(cherry picked from commit fb296079eba18b232959ca8e1bc109f3ca091b4f)\n'}]",0,693973,1aab969eed4095e70f0beb73a16150c38a1a749b,8,5,1,18904,,,0,"Cleanup the sriov_numvfs config scripts

Clean
    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules
    2) /sbin/ifup-local
    3) /etc/sysconfig/allocate_vfs
Create /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs

Change-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863
(cherry picked from commit fb296079eba18b232959ca8e1bc109f3ca091b4f)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/73/693973/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/sriov_config.py'],1,1aab969eed4095e70f0beb73a16150c38a1a749b,cleanup-stable/queens,"_UDEV_LEGACY_RULE_FILE = '/etc/udev/rules.d/70-os-net-config-sriov.rules' _IFUP_LOCAL_FILE = '/sbin/ifup-local'def cleanup_puppet_config(): file_contents = """" if os.path.exists('/etc/udev/rules.d/70-tripleo-reset-sriov.rules'): os.remove('/etc/udev/rules.d/70-tripleo-reset-sriov.rules') if os.path.exists('/etc/sysconfig/allocate_vfs'): os.remove('/etc/sysconfig/allocate_vfs') if os.path.exists(_IFUP_LOCAL_FILE): # Remove the invocation of allocate_vfs script generated by puppet # After the removal of allocate_vfs, if the ifup-local file has just # ""#!/bin/bash"" left, then remove the file as well. with open(_IFUP_LOCAL_FILE) as oldfile: for line in oldfile: if ""/etc/sysconfig/allocate_vfs"" not in line: file_contents = file_contents + line if file_contents.strip() == ""#!/bin/bash"": os.remove(_IFUP_LOCAL_FILE) else: with open(_IFUP_LOCAL_FILE, 'w') as newfile: newfile.write(file_contents) # Cleanup the previous config by puppet-tripleo cleanup_puppet_config() if item.get('link_mode') == ""legacy"": # Add a udev rule to configure the VF's when PF's are # released by a guest add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs'])def _write_numvfs(device_name, numvfs): sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, device_name, ""device/sriov_numvfs"") curr_numvfs = get_numvfs(device_name) if curr_numvfs != 0: logger.info(""Numvfs already configured for %s"" % device_name) return try: with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % numvfs) except IOError as exc: msg = (""Unable to configure pf: %s with numvfs: %d\n%s"" % (device_name, numvfs, exc)) raise SRIOVNumvfsException(msg) def add_udev_rule_for_legacy_sriov_pf(pf_name, numvfs): logger.info(""adding udev rules for %s"" % (pf_name)) udev_line = 'KERNEL==""%s"", '\ 'RUN+=""/bin/os-net-config-sriov -n %%k:%d""' \ % (pf_name, numvfs) return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE) parser.add_argument( '-n', '--numvfs', dest=""numvfs"", action='store', help=""Provide the numvfs for device in the format <device>:<numvfs>"", required=False) if opts.numvfs: if re.match(""^\w+:\d+$"", opts.numvfs): device_name, numvfs = opts.numvfs.split(':') _write_numvfs(device_name, int(numvfs)) else: logging.error(""Invalid arguments for --numvfs %s"" % opts.numvfs) else: # Configure the PF's configure_sriov_pf() # Configure the VFs configure_sriov_vf()", # Configure the PF's configure_sriov_pf() # Configure the VFs configure_sriov_vf(),76,4
openstack%2Fkolla~master~I3022a62f85d24f4edfef72698d4a53a74b271e23,openstack/kolla,master,I3022a62f85d24f4edfef72698d4a53a74b271e23,Switch to Ussuri jobs,MERGED,2019-11-13 10:39:47.000000000,2019-11-13 13:49:38.000000000,2019-11-13 13:44:39.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28471}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-13 10:39:47.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0ab4dd25d776b24e3b02b5e162bff0c0ca009150', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I3022a62f85d24f4edfef72698d4a53a74b271e23\n'}]",0,694035,0ab4dd25d776b24e3b02b5e162bff0c0ca009150,9,4,1,24072,,,0,"Switch to Ussuri jobs

Change-Id: I3022a62f85d24f4edfef72698d4a53a74b271e23
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/694035/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,0ab4dd25d776b24e3b02b5e162bff0c0ca009150,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fmagnum~master~I45cf765977c7f5a92f28ae12c469b98435763173,openstack/magnum,master,I45cf765977c7f5a92f28ae12c469b98435763173,noop,ABANDONED,2019-09-30 14:58:51.000000000,2019-11-13 13:38:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 27057}]","[{'number': 1, 'created': '2019-09-30 14:58:51.000000000', 'files': ['magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/cluster.yaml', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/templates/mesoscluster.yaml', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/template_def.py', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2c0fd515efec35667e991a006085e29c9283c577', 'message': 'noop\n\nChange-Id: I45cf765977c7f5a92f28ae12c469b98435763173\n'}]",0,685728,2c0fd515efec35667e991a006085e29c9283c577,4,2,1,28022,,,0,"noop

Change-Id: I45cf765977c7f5a92f28ae12c469b98435763173
",git fetch https://review.opendev.org/openstack/magnum refs/changes/28/685728/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/cluster.yaml', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/templates/mesoscluster.yaml', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/template_def.py', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py']",18,2c0fd515efec35667e991a006085e29c9283c577,noop," 'master_image': 'image_id', 'slave_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master' del self.worker_ng_dict['image_id'] del self.master_ng_dict['image_id'] 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master' 'master_image': 'image_id', 'slave_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master' 'master_image': 'image_id', 'slave_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master' 'master_image': 'image_id', 'slave_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master'"," 'server_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity' 'nodes_affinity_policy': 'soft-anti-affinity' 'server_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity' 'server_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity' 'server_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity'",343,337
openstack%2Freleases~master~Id85674522624b8f7bb880f27731655677d1f4b1d,openstack/releases,master,Id85674522624b8f7bb880f27731655677d1f4b1d,Update release and branch to Train for tripleo-upgrade.,MERGED,2019-11-12 15:56:57.000000000,2019-11-13 13:32:36.000000000,2019-11-13 13:32:36.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 11904}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-12 15:56:57.000000000', 'files': ['deliverables/_independent/tripleo-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/567f065feced5517e34065424352e8b67ce13e51', 'message': 'Update release and branch to Train for tripleo-upgrade.\n\n- Tag: 5.0.0\n- Branch: stable/train\n\nChange-Id: Id85674522624b8f7bb880f27731655677d1f4b1d\n'}]",0,693868,567f065feced5517e34065424352e8b67ce13e51,14,12,1,26343,,,0,"Update release and branch to Train for tripleo-upgrade.

- Tag: 5.0.0
- Branch: stable/train

Change-Id: Id85674522624b8f7bb880f27731655677d1f4b1d
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/693868/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/tripleo-upgrade.yaml'],1,567f065feced5517e34065424352e8b67ce13e51,, - name: stable/train location: 5.0.0 - projects: - hash: 4d189c08d4cbc67312ebb902e61f077713a9905e repo: openstack/tripleo-upgrade version: 5.0.0,,6,0
openstack%2Fkolla~master~I9d2e4f3630efad91b5cc94085ad1dd1f6680e017,openstack/kolla,master,I9d2e4f3630efad91b5cc94085ad1dd1f6680e017,Disable Searchlight for CentOS 7/source,MERGED,2019-11-12 09:04:15.000000000,2019-11-13 12:43:35.000000000,2019-11-13 12:41:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28471}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-12 09:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/65fc6049a361f9c0c87ae00b96fffdfd8c0ebd77', 'message': 'Disable Searchlight for CentOS 7/source\n\nSearchlight is Python 3 while CentOS 7/source images are Python 2\n\nChange-Id: I9d2e4f3630efad91b5cc94085ad1dd1f6680e017\n'}, {'number': 2, 'created': '2019-11-12 11:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/85d5befefc5256c41eb4bc1241d9f6e8bcc8f0bd', 'message': 'Disable Searchlight for CentOS 7/source\n\nSearchlight is Python 3 while CentOS 7/source images are Python 2\n\nChange-Id: I9d2e4f3630efad91b5cc94085ad1dd1f6680e017\n'}, {'number': 3, 'created': '2019-11-12 17:00:52.000000000', 'files': ['docker/horizon/Dockerfile.j2', 'kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6b40b655f124d0a95f1b7d89ce04236606a02010', 'message': 'Disable Searchlight for CentOS 7/source\n\nSearchlight is Python 3 while CentOS 7/source images are Python 2\n\nChange-Id: I9d2e4f3630efad91b5cc94085ad1dd1f6680e017\n'}]",2,693790,6b40b655f124d0a95f1b7d89ce04236606a02010,21,7,3,24072,,,0,"Disable Searchlight for CentOS 7/source

Searchlight is Python 3 while CentOS 7/source images are Python 2

Change-Id: I9d2e4f3630efad91b5cc94085ad1dd1f6680e017
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/693790/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/horizon/Dockerfile.j2', 'docker/searchlight/searchlight-base/Dockerfile.j2']",2,65fc6049a361f9c0c87ae00b96fffdfd8c0ebd77,,{% if base_package_type == 'rpm' and base_distro_tag.startswith('7') %} RUN echo 'CentOS 7 uses Python 2 while searchlight uses Python 3.' \ && /bin/false {% endif %} ,,11,0
openstack%2Freleases~master~I835410c063ca92d65c30623bad8922d6f59d4ab6,openstack/releases,master,I835410c063ca92d65c30623bad8922d6f59d4ab6,Release ironic-python-agent-builder 1.1.0,MERGED,2019-11-11 15:55:46.000000000,2019-11-13 12:37:52.000000000,2019-11-13 12:37:52.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-11 15:55:46.000000000', 'files': ['deliverables/_independent/ironic-python-agent-builder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/361b5f18cfe5af635ddeb42fc8dd0282361d65a2', 'message': 'Release ironic-python-agent-builder 1.1.0\n\nChange-Id: I835410c063ca92d65c30623bad8922d6f59d4ab6\n'}]",0,693721,361b5f18cfe5af635ddeb42fc8dd0282361d65a2,8,4,1,14826,,,0,"Release ironic-python-agent-builder 1.1.0

Change-Id: I835410c063ca92d65c30623bad8922d6f59d4ab6
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/693721/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ironic-python-agent-builder.yaml'],1,361b5f18cfe5af635ddeb42fc8dd0282361d65a2,, - projects: - hash: f9ec4c5d164fba489689ab49f349f91c1f73af6f repo: openstack/ironic-python-agent-builder version: 1.1.0,,4,0
openstack%2Fnetworking-l2gw-tempest-plugin~master~I3d7569d4a65750b50fc5ff0eee6fb8d94d7c323a,openstack/networking-l2gw-tempest-plugin,master,I3d7569d4a65750b50fc5ff0eee6fb8d94d7c323a,make tempest plugin independent of neutron-tempest-plugin,MERGED,2019-06-26 12:14:40.000000000,2019-11-13 12:19:45.000000000,2019-11-13 12:19:45.000000000,"[{'_account_id': 1653}, {'_account_id': 5689}, {'_account_id': 5690}, {'_account_id': 6558}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 12:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/a66c38daea96bc4b1047c6e5883185d129c94b09', 'message': ""make tempest plugin independent of neutron-tempest-plugin\n\ntempest-tox-plugin-sanity-check fails, and one of the many reasons is\nthat networking-l2gw-tempest-plugin depends on neutron-tempest-plugin.\nThis patch removes this dependency by adding clients to handle l2gw and\nl2gw-connection REST API calls, and make the tests use these new clients.\nNOTE: this patch doesn't handle the issues with the scenario tests.\n\nChange-Id: I3d7569d4a65750b50fc5ff0eee6fb8d94d7c323a\n""}, {'number': 2, 'created': '2019-10-11 12:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/9711776a489b76f91a41824b42ba6de0470822b4', 'message': ""make tempest plugin independent of neutron-tempest-plugin\n\ntempest-tox-plugin-sanity-check fails, and one of the many reasons is\nthat networking-l2gw-tempest-plugin depends on neutron-tempest-plugin.\nThis patch removes this dependency by adding clients to handle l2gw and\nl2gw-connection REST API calls, and make the tests use these new clients.\nNOTE: this patch doesn't handle the issues with the scenario tests.\n\nChange-Id: I3d7569d4a65750b50fc5ff0eee6fb8d94d7c323a\n""}, {'number': 3, 'created': '2019-10-11 12:47:55.000000000', 'files': ['networking_l2gw_tempest_plugin/tests/api/clients.py', 'networking_l2gw_tempest_plugin/services/l2gw/l2_gateway_connections_client.py', 'networking_l2gw_tempest_plugin/services/l2gw/l2_gateways_client.py', 'networking_l2gw_tempest_plugin/tests/api/test_l2gw_extensions.py', 'networking_l2gw_tempest_plugin/tests/api/test_l2gw_negative.py', 'networking_l2gw_tempest_plugin/services/l2gw/__init__.py', 'networking_l2gw_tempest_plugin/tests/api/base_l2gw.py', 'networking_l2gw_tempest_plugin/tests/scenario/test_l2gateways.py', 'networking_l2gw_tempest_plugin/services/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/2e265b5e1e4cd1ffb9b48f7a9b3c0119a3da77c6', 'message': ""make tempest plugin independent of neutron-tempest-plugin\n\ntempest-tox-plugin-sanity-check fails, and one of the many reasons is\nthat networking-l2gw-tempest-plugin depends on neutron-tempest-plugin.\nThis patch removes this dependency by adding clients to handle l2gw and\nl2gw-connection REST API calls, and make the tests use these new clients.\nNOTE: this patch doesn't handle the issues with the scenario tests.\n\nChange-Id: I3d7569d4a65750b50fc5ff0eee6fb8d94d7c323a\n""}]",6,667594,2e265b5e1e4cd1ffb9b48f7a9b3c0119a3da77c6,15,9,3,8313,,,0,"make tempest plugin independent of neutron-tempest-plugin

tempest-tox-plugin-sanity-check fails, and one of the many reasons is
that networking-l2gw-tempest-plugin depends on neutron-tempest-plugin.
This patch removes this dependency by adding clients to handle l2gw and
l2gw-connection REST API calls, and make the tests use these new clients.
NOTE: this patch doesn't handle the issues with the scenario tests.

Change-Id: I3d7569d4a65750b50fc5ff0eee6fb8d94d7c323a
",git fetch https://review.opendev.org/openstack/networking-l2gw-tempest-plugin refs/changes/94/667594/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_l2gw_tempest_plugin/tests/api/clients.py', 'networking_l2gw_tempest_plugin/services/l2gw/l2_gateway_connections_client.py', 'networking_l2gw_tempest_plugin/services/l2gw/l2_gateways_client.py', 'networking_l2gw_tempest_plugin/tests/api/test_l2gw_extensions.py', 'networking_l2gw_tempest_plugin/tests/api/test_l2gw_negative.py', 'networking_l2gw_tempest_plugin/services/l2gw/__init__.py', 'networking_l2gw_tempest_plugin/tests/api/base_l2gw.py', 'networking_l2gw_tempest_plugin/tests/scenario/test_l2gateways.py', 'networking_l2gw_tempest_plugin/services/__init__.py']",9,a66c38daea96bc4b1047c6e5883185d129c94b09,tempest-sanity-gate,,,378,121
openstack%2Fkolla~master~I7b1d280c75b7cc6ec1aa5d7c413b3861ffa2c459,openstack/kolla,master,I7b1d280c75b7cc6ec1aa5d7c413b3861ffa2c459,Use Train release for all OpenStack projects,MERGED,2019-10-21 12:13:46.000000000,2019-11-13 12:13:24.000000000,2019-10-22 07:32:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-21 12:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/279c06b946f28b457853942c113843f6a9358036', 'message': 'Use Train release for all OpenStack projects\n\nVersions were generated via the following command:\n\ntools/version-check.py --openstack-release train --include-independent\n\nSome other versions had to be changed manually, including those not\nmanaged via the OpenStack release process:\n\n    almanach, gnocchi, networking-ansible, vmware-nsx, vmware-nsxlib,\n    networking-l2gw, nova-mksproxy, novajoin, rally, vmtp\n\nRevert this on master once kolla stable/train branch has been created.\n\nChange-Id: I7b1d280c75b7cc6ec1aa5d7c413b3861ffa2c459\n'}, {'number': 2, 'created': '2019-10-21 15:12:18.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/97979578506497ce0b466d7621f83cd9a9338ed0', 'message': 'Use Train release for all OpenStack projects\n\nVersions were generated via the following command:\n\ntools/version-check.py --openstack-release train --include-independent\n\nSome other versions had to be changed manually, including those not\nmanaged via the OpenStack release process:\n\n    almanach, gnocchi, networking-ansible, vmware-nsx, vmware-nsxlib,\n    networking-l2gw, nova-mksproxy, novajoin, rally\n\nVMTP 2.5.0 is the latest release, but does not support python 3.\nSticking to master.\n\nRevert this on master once kolla stable/train branch has been created.\n\nChange-Id: I7b1d280c75b7cc6ec1aa5d7c413b3861ffa2c459\n'}]",0,689728,97979578506497ce0b466d7621f83cd9a9338ed0,18,7,2,14826,,,0,"Use Train release for all OpenStack projects

Versions were generated via the following command:

tools/version-check.py --openstack-release train --include-independent

Some other versions had to be changed manually, including those not
managed via the OpenStack release process:

    almanach, gnocchi, networking-ansible, vmware-nsx, vmware-nsxlib,
    networking-l2gw, nova-mksproxy, novajoin, rally

VMTP 2.5.0 is the latest release, but does not support python 3.
Sticking to master.

Revert this on master once kolla stable/train branch has been created.

Change-Id: I7b1d280c75b7cc6ec1aa5d7c413b3861ffa2c459
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/689728/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,279c06b946f28b457853942c113843f6a9358036,kolla-train-release," 'requirements-stable-train.tar.gz')}, 'almanach-4.1.0.tar.gz')}, 'aodh-9.0.0.tar.gz')}, 'barbican-9.0.0.tar.gz')}, 'bifrost-7.0.0.tar.gz')}, 'blazar-4.0.0.tar.gz')}, 'ceilometer-13.0.0.tar.gz')}, 'panko-7.0.0.tar.gz')}, 'cinder-15.0.0.tar.gz')}, 'openstack-congress-10.0.0.tar.gz')}, 'cloudkitty-11.0.0.tar.gz')}, 'openstack-cyborg-3.0.0.tar.gz')}, 'designate-9.0.0.tar.gz')}, 'dragonflow-3.0.0.tar.gz')}, 'ec2-api-9.0.0.tar.gz')}, 'freezer-api-7.2.0.tar.gz')}, 'freezer-7.2.0.tar.gz')}, 'glance-19.0.0.tar.gz')}, 'reference': '4.3.4', 'openstack-heat-13.0.0.tar.gz')}, 'horizon-16.0.0.tar.gz')}, 'blazar-dashboard-2.0.0.tar.gz')}, 'congress-dashboard-5.0.0.tar.gz')}, 'cloudkitty-dashboard-9.0.0.tar.gz')}, 'designate-dashboard-9.0.0.tar.gz')}, 'neutron-fwaas-dashboard-2.1.0.tar.gz')}, 'freezer-web-ui-7.2.0.tar.gz')}, 'heat-dashboard-2.0.0.tar.gz')}, 'ironic-ui-3.5.3.tar.gz')}, 'karbor-dashboard-1.3.0.tar.gz')}, 'magnum-ui-5.2.0.tar.gz')}, 'manila-ui-2.19.1.tar.gz')}, 'masakari-dashboard-1.0.0.tar.gz')}, 'mistral-dashboard-9.0.0.tar.gz')}, 'monasca-ui-1.17.0.tar.gz')}, 'murano-dashboard-8.0.0.tar.gz')}, 'neutron-vpnaas-dashboard-1.6.0.tar.gz')}, 'octavia-dashboard-4.0.0.tar.gz')}, 'qinling-dashboard-2.0.0.tar.gz')}, 'sahara-dashboard-11.0.0.tar.gz')}, 'searchlight-ui-7.0.0.tar.gz')}, 'senlin-dashboard-0.11.0.tar.gz')}, 'solum-dashboard-3.0.0.tar.gz')}, 'tacker-horizon-0.15.0.tar.gz')}, 'trove-dashboard-13.0.0.tar.gz')}, 'vitrage-dashboard-2.0.0.tar.gz')}, 'watcher-dashboard-2.0.0.tar.gz')}, 'zaqar-ui-7.0.0.tar.gz')}, 'zun-ui-4.0.0.tar.gz')}, 'ironic-13.0.1.tar.gz')}, 'ironic-inspector-9.2.0.tar.gz')}, 'karbor-1.4.0.tar.gz')}, 'keystone-16.0.0.tar.gz')}, 'kuryr-lib-1.1.1.tar.gz')}, 'kuryr-libnetwork-4.0.0.tar.gz')}, 'magnum-9.0.0.tar.gz')}, 'manila-9.0.0.tar.gz')}, 'masakari-8.0.0.tar.gz')}, 'masakari-monitors-8.0.0.tar.gz')}, 'mistral-9.0.0.tar.gz')}, 'tacker-2.0.0.tar.gz')}, 'monasca-agent-2.11.0.tar.gz')}, 'monasca-api-3.1.0.tar.gz')}, 'monasca-log-api-2.10.0.tar.gz')}, 'monasca-notification-1.18.0.tar.gz')}, 'monasca-persister-1.15.0.tar.gz')}, 'monasca-statsd-1.12.0.tar.gz')}, 'monasca-common-2.16.1.tar.gz')}, 'murano-8.0.0.tar.gz')}, 'neutron-15.0.0.tar.gz')}, 'neutron-fwaas-15.0.0.tar.gz')}, 'networking-ansible-1.1.0.tar.gz')}, 'networking-baremetal-1.4.0.tar.gz')}, 'networking-generic-switch-2.1.0.tar.gz')}, 'networking-sfc-9.0.0.tar.gz')}, 'vmware-nsx-14.0.0.tar.gz')}, 'neutron-vpnaas-15.0.0.tar.gz')}, 'neutron-dynamic-routing-15.0.0.tar.gz')}, 'networking-odl-15.0.0.tar.gz')}, 'networking-bgpvpn-11.0.0.tar.gz')}, 'networking-l2gw-15.0.0.tar.gz')}, 'networking-sfc-9.0.0.tar.gz')}, 'neutron-dynamic-routing-15.0.0.tar.gz')}, 'vmware-nsxlib-14.0.3.tar.gz')}, 'neutron-vpnaas-15.0.0.tar.gz')}, 'networking-ovn-7.0.0.tar.gz')}, 'networking-ovn-7.0.0.tar.gz')}, 'nova-20.0.0.tar.gz')}, 'blazar-nova-1.3.0.tar.gz')}, 'nova-mksproxy-0.0.2.tar.gz')}, 'novajoin-1.2.0.tar.gz')}, 'octavia-5.0.0.tar.gz')}, 'panko-7.0.0.tar.gz')}, 'openstack-placement-2.0.0.tar.gz')}, 'qinling-3.0.0.tar.gz')}, 'python-tempestconf-2.3.0.tar.gz')}, 'barbican_tempest_plugin-0.3.0.tar.gz')}, 'blazar_tempest_plugin-0.3.0.tar.gz')}, 'cinder-tempest-plugin-0.3.0.tar.gz')}, 'congress-tempest-plugin-0.3.0.tar.gz')}, 'ec2api-tempest-plugin-0.3.0.tar.gz')}, 'heat-tempest-plugin-0.4.0.tar.gz')}, 'ironic-tempest-plugin-1.5.1.tar.gz')}, 'keystone_tempest_plugin-0.3.0.tar.gz')}, 'magnum_tempest_plugin-0.3.0.tar.gz')}, 'manila-tempest-plugin-0.4.1.tar.gz')}, 'mistral_tempest_tests-0.3.0.tar.gz')}, 'monasca-tempest-plugin-1.1.0.tar.gz')}, 'murano-tempest-plugin-1.1.0.tar.gz')}, 'neutron-tempest-plugin-0.6.0.tar.gz')}, 'patrole-0.7.0.tar.gz')}, 'telemetry_tempest_plugin-0.4.0.tar.gz')}, 'trove_tempest_plugin-0.3.0.tar.gz')}, 'vitrage-tempest-plugin-3.0.0.tar.gz')}, 'watcher-tempest-plugin-1.2.0.tar.gz')}, 'zaqar_tempest_plugin-0.3.0.tar.gz')}, 'rally-2.0.0.tar.gz')}, 'sahara-11.0.0.tar.gz')}, 'sahara-plugin-ambari-2.0.0.tar.gz')}, 'sahara-plugin-cdh-2.0.0.tar.gz')}, 'sahara-plugin-mapr-2.0.0.tar.gz')}, 'sahara-plugin-spark-2.0.0.tar.gz')}, 'sahara-plugin-storm-2.0.0.tar.gz')}, 'sahara-plugin-vanilla-2.0.0.tar.gz')}, 'searchlight-7.0.0.tar.gz')}, 'senlin-8.0.0.tar.gz')}, 'solum-7.0.0.tar.gz')}, 'swift-2.23.0.tar.gz')}, 'tacker-2.0.0.tar.gz')}, 'networking-sfc-9.0.0.tar.gz')}, 'tempest-22.1.0.tar.gz')}, 'trove-12.0.0.tar.gz')}, 'vitrage-5.0.1.tar.gz')}, 'vmtp-2.5.0.tar.gz')}, 'python-watcher-3.0.0.tar.gz')}, 'zaqar-9.0.0.tar.gz')}, 'zun-4.0.0.tar.gz')}"," 'requirements-master.tar.gz')}, 'almanach-master.tar.gz')}, 'aodh-master.tar.gz')}, 'barbican-master.tar.gz')}, 'bifrost-master.tar.gz')}, 'blazar-master.tar.gz')}, 'ceilometer-master.tar.gz')}, 'panko-master.tar.gz')}, 'cinder-master.tar.gz')}, 'congress-master.tar.gz')}, 'cloudkitty-master.tar.gz')}, 'cyborg-master.tar.gz')}, 'designate-master.tar.gz')}, 'dragonflow-master.tar.gz')}, 'ec2-api-master.tar.gz')}, 'freezer-api-master.tar.gz')}, 'freezer-master.tar.gz')}, 'glance-master.tar.gz')}, 'reference': 'master', 'heat-master.tar.gz')}, 'horizon-master.tar.gz')}, 'blazar-dashboard-master.tar.gz')}, 'congress-dashboard-master.tar.gz')}, 'cloudkitty-dashboard-master.tar.gz')}, 'designate-dashboard-master.tar.gz')}, 'neutron-fwaas-dashboard-master.tar.gz')}, 'freezer-web-ui-master.tar.gz')}, 'heat-dashboard-master.tar.gz')}, 'ironic-ui-master.tar.gz')}, 'karbor-dashboard-master.tar.gz')}, 'magnum-ui-master.tar.gz')}, 'manila-ui-master.tar.gz')}, 'masakari-dashboard-master.tar.gz')}, 'mistral-dashboard-master.tar.gz')}, 'monasca-ui-master.tar.gz')}, 'murano-dashboard-master.tar.gz')}, 'neutron-vpnaas-dashboard-master.tar.gz')}, 'octavia-dashboard-master.tar.gz')}, 'qinling-dashboard-master.tar.gz')}, 'sahara-dashboard-master.tar.gz')}, 'searchlight-ui-master.tar.gz')}, 'senlin-dashboard-master.tar.gz')}, 'solum-dashboard-master.tar.gz')}, 'tacker-horizon-master.tar.gz')}, 'trove-dashboard-master.tar.gz')}, 'vitrage-dashboard-master.tar.gz')}, 'watcher-dashboard-master.tar.gz')}, 'zaqar-ui-master.tar.gz')}, 'zun-ui-master.tar.gz')}, 'ironic-master.tar.gz')}, 'ironic-inspector-master.tar.gz')}, 'karbor-master.tar.gz')}, 'keystone-master.tar.gz')}, 'kuryr-master.tar.gz')}, 'kuryr-libnetwork-master.tar.gz')}, 'magnum-master.tar.gz')}, 'manila-master.tar.gz')}, 'masakari-master.tar.gz')}, 'masakari-monitors-master.tar.gz')}, 'mistral-master.tar.gz')}, 'tacker-master.tar.gz')}, 'monasca-agent-master.tar.gz')}, 'monasca-api-master.tar.gz')}, 'monasca-log-api-master.tar.gz')}, 'monasca-notification-master.tar.gz')}, 'monasca-persister-master.tar.gz')}, 'monasca-statsd-master.tar.gz')}, 'monasca-common-master.tar.gz')}, 'murano-master.tar.gz')}, 'neutron-master.tar.gz')}, 'neutron-fwaas-master.tar.gz')}, 'networking-ansible-master.tar.gz')}, 'networking-baremetal-master.tar.gz')}, 'networking-generic-switch-master.tar.gz')}, 'networking-sfc-master.tar.gz')}, 'vmware-nsx-master.tar.gz')}, 'neutron-vpnaas-master.tar.gz')}, 'neutron-dynamic-routing-master.tar.gz')}, 'networking-odl-master.tar.gz')}, 'networking-bgpvpn-master.tar.gz')}, 'networking-l2gw-master.tar.gz')}, 'networking-sfc-master.tar.gz')}, 'neutron-dynamic-routing-master.tar.gz')}, 'vmware-nsxlib-master.tar.gz')}, 'neutron-vpnaas-master.tar.gz')}, 'networking-ovn-master.tar.gz')}, 'networking-ovn-master.tar.gz')}, 'nova-master.tar.gz')}, 'blazar-nova-master.tar.gz')}, 'nova-mksproxy-master.tar.gz')}, 'novajoin-master.tar.gz')}, 'octavia-master.tar.gz')}, 'panko-master.tar.gz')}, 'placement-master.tar.gz')}, 'qinling-master.tar.gz')}, 'python-tempestconf-master.tar.gz')}, 'barbican-tempest-plugin-master.tar.gz')}, 'blazar-tempest-plugin-master.tar.gz')}, 'cinder-tempest-plugin-master.tar.gz')}, 'congress-tempest-plugin-master.tar.gz')}, 'ec2api-tempest-plugin-master.tar.gz')}, 'heat-tempest-plugin-master.tar.gz')}, 'ironic-tempest-plugin-master.tar.gz')}, 'keystone-tempest-plugin-master.tar.gz')}, 'magnum-tempest-plugin-master.tar.gz')}, 'manila-tempest-plugin-master.tar.gz')}, 'mistral-tempest-plugin-master.tar.gz')}, 'monasca-tempest-plugin-master.tar.gz')}, 'murano-tempest-plugin-master.tar.gz')}, 'neutron-tempest-plugin-master.tar.gz')}, 'patrole-master.tar.gz')}, 'telemetry-tempest-plugin-master.tar.gz')}, 'trove-tempest-plugin-master.tar.gz')}, 'vitrage-tempest-plugin-master.tar.gz')}, 'watcher-tempest-plugin-master.tar.gz')}, 'zaqar-tempest-plugin-master.tar.gz')}, 'rally-master.tar.gz')}, 'sahara-master.tar.gz')}, 'sahara-plugin-ambari-master.tar.gz')}, 'sahara-plugin-cdh-master.tar.gz')}, 'sahara-plugin-mapr-master.tar.gz')}, 'sahara-plugin-spark-master.tar.gz')}, 'sahara-plugin-storm-master.tar.gz')}, 'sahara-plugin-vanilla-master.tar.gz')}, 'searchlight-master.tar.gz')}, 'senlin-master.tar.gz')}, 'solum-master.tar.gz')}, 'swift-master.tar.gz')}, 'tacker-master.tar.gz')}, 'networking-sfc-master.tar.gz')}, 'tempest-master.tar.gz')}, 'trove-master.tar.gz')}, 'vitrage-master.tar.gz')}, 'vmtp-master.tar.gz')}, 'watcher-master.tar.gz')}, 'zaqar-master.tar.gz')}, 'zun-master.tar.gz')}",137,137
openstack%2Fkolla~master~I396f929ecc11f87fb83585bedd39be93a605c57b,openstack/kolla,master,I396f929ecc11f87fb83585bedd39be93a605c57b,Move to RDO Train packages,MERGED,2019-10-21 10:03:01.000000000,2019-11-13 12:08:49.000000000,2019-10-26 13:24:18.000000000,"[{'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-21 10:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8ce0c332edfe88c2da3c10e2a71616e2129193e5', 'message': 'Move to RDO Train packages\n\nChange-Id: I396f929ecc11f87fb83585bedd39be93a605c57b\n'}, {'number': 2, 'created': '2019-10-21 10:49:43.000000000', 'files': ['docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c78c82c9630b334cbaef040d68bce7e5ae8cc118', 'message': 'Move to RDO Train packages\n\nChange-Id: I396f929ecc11f87fb83585bedd39be93a605c57b\n'}]",0,689706,c78c82c9630b334cbaef040d68bce7e5ae8cc118,34,7,2,22629,,,0,"Move to RDO Train packages

Change-Id: I396f929ecc11f87fb83585bedd39be93a605c57b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/689706/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'kolla/common/config.py']",3,8ce0c332edfe88c2da3c10e2a71616e2129193e5,feature/rdo_train," cfg.ListOpt('rpm_setup_config', default=[],"," cfg.ListOpt('rpm_setup_config', default=[DELOREAN, DELOREAN_DEPS],",4,2
openstack%2Fpython-neutronclient~master~Ief5930dcb0793e441aabf658269ada31b05b7de5,openstack/python-neutronclient,master,Ief5930dcb0793e441aabf658269ada31b05b7de5,Add oslo.log to requirements.txt,MERGED,2018-04-06 11:33:57.000000000,2019-11-13 11:58:00.000000000,2018-04-09 18:49:12.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-04-06 11:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/da8a5e293934f8841acbe0b5b9bfa9c4d3109b98', 'message': 'Add oslo.log to requirements.txt\n\nDuring the review https://review.openstack.org/#/c/554597/,\nit turns out that oslo.log is a direct dependency.\nThis commit adds oslo.log to requirements.txt.\n\nChange-Id: Ief5930dcb0793e441aabf658269ada31b05b7de5\n'}, {'number': 2, 'created': '2018-04-08 01:34:01.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2b8c6cac22b810683a4eef0a74481e1ee4215c86', 'message': 'Add oslo.log to requirements.txt\n\nDuring the review https://review.openstack.org/#/c/554597/,\nit turns out that oslo.log is a direct dependency.\nThis commit adds oslo.log to requirements.txt.\n\nChange-Id: Ief5930dcb0793e441aabf658269ada31b05b7de5\n'}]",0,559315,2b8c6cac22b810683a4eef0a74481e1ee4215c86,11,4,2,841,,,0,"Add oslo.log to requirements.txt

During the review https://review.openstack.org/#/c/554597/,
it turns out that oslo.log is a direct dependency.
This commit adds oslo.log to requirements.txt.

Change-Id: Ief5930dcb0793e441aabf658269ada31b05b7de5
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/15/559315/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,da8a5e293934f8841acbe0b5b9bfa9c4d3109b98,req-oslo.log,oslo.log>=3.36.0 # Apache-2.0,,1,0
openstack%2Ftripleo-heat-templates~master~I5c9ab55ec6ff332056a426a76e150ea3c9063c6e,openstack/tripleo-heat-templates,master,I5c9ab55ec6ff332056a426a76e150ea3c9063c6e,Get rid of docker removing in post_upgrade tasks.,MERGED,2019-09-12 08:36:56.000000000,2019-11-13 11:40:53.000000000,2019-11-13 11:40:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-09-12 08:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75543e89934e35ce1ff76cc48b7a9019a6a041b1', 'message': 'Get rid of docker removing in post_upgrade tasks.\n\nWhen upgrading from Rocky to Stein we moved also from using the docker\ncontainer engine into Podman. To ensure that every single docker container\nwas removed after the upgrade a post_upgrade task was added which made\nuse of the tripleo-docker-rm role that removed the container. In this cycle,\nfrom Stein to Rocky both the Undercloud and Overcloud work with Podman, so\nthere is no need to remove any docker container anymore.\n\nThis patch removes all the tripleo-docker-rm post-upgrade task and in those\nservices which only included a single task, the post-upgrade-tasks section\nis also erased.\n\nChange-Id: I5c9ab55ec6ff332056a426a76e150ea3c9063c6e\n'}, {'number': 2, 'created': '2019-09-16 08:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8496884a7cf3581e5a82b7f492fdcf1081b38dc', 'message': 'Get rid of docker removing in post_upgrade tasks.\n\nWhen upgrading from Rocky to Stein we moved also from using the docker\ncontainer engine into Podman. To ensure that every single docker container\nwas removed after the upgrade a post_upgrade task was added which made\nuse of the tripleo-docker-rm role that removed the container. In this cycle,\nfrom Stein to Train both the Undercloud and Overcloud work with Podman, so\nthere is no need to remove any docker container anymore.\n\nThis patch removes all the tripleo-docker-rm post-upgrade task and in those\nservices which only included a single task, the post-upgrade-tasks section\nis also erased.\n\nChange-Id: I5c9ab55ec6ff332056a426a76e150ea3c9063c6e\n'}, {'number': 3, 'created': '2019-09-23 09:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b207ddade8bb32507553dee05f57472420a24692', 'message': 'Get rid of docker removing in post_upgrade tasks.\n\nWhen upgrading from Rocky to Stein we moved also from using the docker\ncontainer engine into Podman. To ensure that every single docker container\nwas removed after the upgrade a post_upgrade task was added which made\nuse of the tripleo-docker-rm role that removed the container. In this cycle,\nfrom Stein to Train both the Undercloud and Overcloud work with Podman, so\nthere is no need to remove any docker container anymore.\n\nThis patch removes all the tripleo-docker-rm post-upgrade task and in those\nservices which only included a single task, the post-upgrade-tasks section\nis also erased.\n\nChange-Id: I5c9ab55ec6ff332056a426a76e150ea3c9063c6e\n'}, {'number': 4, 'created': '2019-10-18 08:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/272198ec2a2e3e7073c7144376b2d8b71bbcbd71', 'message': 'Get rid of docker removing in post_upgrade tasks.\n\nWhen upgrading from Rocky to Stein we moved also from using the docker\ncontainer engine into Podman. To ensure that every single docker container\nwas removed after the upgrade a post_upgrade task was added which made\nuse of the tripleo-docker-rm role that removed the container. In this cycle,\nfrom Stein to Train both the Undercloud and Overcloud work with Podman, so\nthere is no need to remove any docker container anymore.\n\nThis patch removes all the tripleo-docker-rm post-upgrade task and in those\nservices which only included a single task, the post-upgrade-tasks section\nis also erased.\n\nChange-Id: I5c9ab55ec6ff332056a426a76e150ea3c9063c6e\n'}, {'number': 5, 'created': '2019-11-12 15:34:10.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cbae84c75e713f0bc3d09c5843267dbae12c7ca', 'message': 'Get rid of docker removing in post_upgrade tasks.\n\nWhen upgrading from Rocky to Stein we moved also from using the docker\ncontainer engine into Podman. To ensure that every single docker container\nwas removed after the upgrade a post_upgrade task was added which made\nuse of the tripleo-docker-rm role that removed the container. In this cycle,\nfrom Stein to Train both the Undercloud and Overcloud work with Podman, so\nthere is no need to remove any docker container anymore.\n\nThis patch removes all the tripleo-docker-rm post-upgrade task and in those\nservices which only included a single task, the post-upgrade-tasks section\nis also erased.\n\nChange-Id: I5c9ab55ec6ff332056a426a76e150ea3c9063c6e\n'}]",2,681669,4cbae84c75e713f0bc3d09c5843267dbae12c7ca,62,12,5,26343,,,0,"Get rid of docker removing in post_upgrade tasks.

When upgrading from Rocky to Stein we moved also from using the docker
container engine into Podman. To ensure that every single docker container
was removed after the upgrade a post_upgrade task was added which made
use of the tripleo-docker-rm role that removed the container. In this cycle,
from Stein to Train both the Undercloud and Overcloud work with Podman, so
there is no need to remove any docker container anymore.

This patch removes all the tripleo-docker-rm post-upgrade task and in those
services which only included a single task, the post-upgrade-tasks section
is also erased.

Change-Id: I5c9ab55ec6ff332056a426a76e150ea3c9063c6e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/681669/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/monitoring/sensu-client-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'deployment/tacker/tacker-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/deprecated/nova/nova-consoleauth-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml']",92,75543e89934e35ce1ff76cc48b7a9019a6a041b1,,," post_upgrade_tasks: - when: step|int == 1 import_role: name: tripleo-docker-rm vars: containers_to_rm: - neutron_sriov_agent tripleo_container_cli: ""docker""",0,798
openstack%2Fnetworking-odl~master~I7e569c59fa4d061165a558eb58dfac386ba2f5d4,openstack/networking-odl,master,I7e569c59fa4d061165a558eb58dfac386ba2f5d4,Add tests to tempest-blacklist which fails with Neon & Sodium,ABANDONED,2019-09-18 07:52:29.000000000,2019-11-13 11:24:54.000000000,,"[{'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25550}]","[{'number': 1, 'created': '2019-09-18 07:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c156015dc180049a2eb13c5317ba2c8d5b3bf56c', 'message': 'Add tests to tempest-blacklist which fails with Neon & Sodium\n\nWith ODL releases Neon and Sodium tempest tests that use VM connectivity\nto verify functionality are failing. To make these jobs voting again\nthis patch adds stops the execution of these tests.\n\nChange-Id: I7e569c59fa4d061165a558eb58dfac386ba2f5d4\nRelated-Bug: #1844481\nRelated-Bug: #1844482\n'}, {'number': 2, 'created': '2019-09-19 11:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6172b7fdd251cf66a8053752006f23c1738ca9a2', 'message': 'Add tests to tempest-blacklist which fails with Neon & Sodium\n\nWith ODL releases Neon and Sodium tempest tests that use VM connectivity\nto verify functionality are failing. To make these jobs voting again\nthis patch adds stops the execution of these tests.\n\nChange-Id: I7e569c59fa4d061165a558eb58dfac386ba2f5d4\nRelated-Bug: #1844481\nRelated-Bug: #1844482\n'}, {'number': 3, 'created': '2019-09-19 13:18:44.000000000', 'files': ['tempest-blacklist.txt'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9c0cb8e13330b69f38faad1278c6048ca0b50ca2', 'message': 'Add tests to tempest-blacklist which fails with Neon & Sodium\n\nWith ODL releases Neon and Sodium tempest tests that use VM connectivity\nto verify functionality are failing. To make these jobs voting again\nthis patch adds stops the execution of these tests.\n\nChange-Id: I7e569c59fa4d061165a558eb58dfac386ba2f5d4\nRelated-Bug: #1844481\nRelated-Bug: #1844482\n'}]",0,682818,9c0cb8e13330b69f38faad1278c6048ca0b50ca2,11,5,3,8313,,,0,"Add tests to tempest-blacklist which fails with Neon & Sodium

With ODL releases Neon and Sodium tempest tests that use VM connectivity
to verify functionality are failing. To make these jobs voting again
this patch adds stops the execution of these tests.

Change-Id: I7e569c59fa4d061165a558eb58dfac386ba2f5d4
Related-Bug: #1844481
Related-Bug: #1844482
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/18/682818/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest-blacklist.txt'],1,c156015dc180049a2eb13c5317ba2c8d5b3bf56c,use-latest-odl_and_python3,# BEGIN: NEON AND SODIUM RELATED FAILURES # TODO(lajoskatona): These tests are failing with latest Neon and Sodium releases of ODL. # Related bug reports: # https://bugs.launchpad.net/networking-odl/+bug/1844482 # https://bugs.launchpad.net/networking-odl/+bug/1844481 tempest\.api\.compute\.servers\.test_attach_interfaces tempest\.api\.compute\.servers\.test_create_server_multi_nic\.ServersTestMultiNic\.test_verify_multiple_nics_order tempest\.api\.compute\.servers\.test_create_server\..*\.test_host_name_is_same_as_server_name tempest\.api\.compute\.servers\.test_create_server\..*\.test_verify_created_server_vcpus tempest\.api\.compute\.servers\.test_device_tagging\.TaggedAttachmentsTest\.test_tagged_attachment tempest\.api\.compute\.servers\.test_disk_config\.ServerDiskConfigTestJSON\.test_rebuild_server_with_auto_disk_config tempest\.api\.compute\.servers\.test_disk_config\.ServerDiskConfigTestJSON\.test_rebuild_server_with_manual_disk_config tempest\.api\.compute\.servers\.test_instance_actions\.InstanceActionsTestJSON\.test_list_instance_actions tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_get_console_output tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_lock_unlock_server tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_reboot_server_hard tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_rebuild_server tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_rebuild_server_in_stop_state tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_resize_server_revert tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_resize_server_revert_with_volume_attached tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_resize_volume_backed_server_confirm tempest\.scenario\.test_minimum_basic\.TestMinimumBasicScenario\.test_minimum_basic_scenario tempest\.scenario\.test_network_basic_ops\.TestNetworkBasicOps\.test_network_basic_ops tempest\.scenario\.test_server_basic_ops\.TestServerBasicOps\.test_server_basic_ops # END: NEON AND SODIUM RELATED FAILURES # TODO(lajoskatona): These tests are failing with latest Neon and Sodium releases of ODL. # Related bug reports: # https://bugs.launchpad.net/networking-odl/+bug/1844482 # https://bugs.launchpad.net/networking-odl/+bug/1844481 neutron_tempest_plugin\.scenario\.admin\.test_floatingip neutron_tempest_plugin\.scenario\.test_basic\.NetworkBasicTest\.test_basic_instance neutron_tempest_plugin\.scenario\.test_floatingip\.TestFloatingIPUpdate\.test_floating_ip_update neutron_tempest_plugin\.scenario\.test_portsecurity\.PortSecurityTest\.test_port_security_removed_added neutron_tempest_plugin\.scenario\.test_ports\.PortsTest\.test_previously_used_port neutron_tempest_plugin\.scenario\.test_security_groups\.NetworkSecGroupTest\.test_default_sec_grp_scenarios neutron_tempest_plugin\.scenario\.test_security_groups\.NetworkSecGroupTest\.test_ip_prefix neutron_tempest_plugin\.scenario\.test_qos\.QoSTest,,39,0
openstack%2Fopenstack-ansible-os_masakari~stable%2Fstein~I6108499aca659934b090a78ce32057d8cef302ae,openstack/openstack-ansible-os_masakari,stable/stein,I6108499aca659934b090a78ce32057d8cef302ae,Switch to opensuse-15,MERGED,2019-11-13 07:07:17.000000000,2019-11-13 11:24:46.000000000,2019-11-13 11:22:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-13 07:07:17.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/0f4be02578b5f5772ee904e925a4533f288691f9', 'message': 'Switch to opensuse-15\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nNote that this is not a backport from master since master is using\nnew templates that don\'t exist on stein.\n\nChange-Id: I6108499aca659934b090a78ce32057d8cef302ae\n'}]",0,693991,0f4be02578b5f5772ee904e925a4533f288691f9,8,3,1,6547,,,0,"Switch to opensuse-15

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

Note that this is not a backport from master since master is using
new templates that don't exist on stein.

Change-Id: I6108499aca659934b090a78ce32057d8cef302ae
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/91/693991/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,0f4be02578b5f5772ee904e925a4533f288691f9,, name: openstack-ansible-deploy-aio_metal_masakari-opensuse-15 nodeset: opensuse-15, name: openstack-ansible-deploy-aio_metal_masakari-opensuse-150 nodeset: opensuse-150,3,3
openstack%2Foslo.db~master~I4ee91831d3f4599ea7482d8dd553cd802d807ed6,openstack/oslo.db,master,I4ee91831d3f4599ea7482d8dd553cd802d807ed6,Bump the openstackdocstheme extension to 1.20,ABANDONED,2019-10-12 09:22:08.000000000,2019-11-13 11:22:39.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-12 09:22:08.000000000', 'files': ['doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e2407999e2b5766eae70c0fe504bad92b614e62e', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I4ee91831d3f4599ea7482d8dd553cd802d807ed6\n'}]",1,688265,e2407999e2b5766eae70c0fe504bad92b614e62e,9,5,1,17130,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I4ee91831d3f4599ea7482d8dd553cd802d807ed6
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/65/688265/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'releasenotes/source/conf.py']",2,e2407999e2b5766eae70c0fe504bad92b614e62e,,,"project = u'oslo.db Release Notes'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,17
openstack%2Fmagnum~master~I709bac620e4ceec1858672076eb0aef997704b62,openstack/magnum,master,I709bac620e4ceec1858672076eb0aef997704b62,Support TimeoutStartSec for k8s systemd services,MERGED,2019-10-22 23:25:13.000000000,2019-11-13 11:21:49.000000000,2019-11-13 11:20:16.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-22 23:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2d063e5df59ac0fd1495a0373eaca4241c56f8a2', 'message': 'Support TimeoutStartSec for k8s systemd services\n\nNow Magnum is using podman and systemd to manage the k8s components,\nbut some of the component may take long time to start because there are\ncontainer images downloading, which is causing timeout when bootstraping\nk8s cluster for fedora atomic/coreos drivers. This patch fixes it by\nadding TimeoutStartSec for the systemd services.\n\nTask: 37251\nStory: 2006459\n\nChange-Id: I709bac620e4ceec1858672076eb0aef997704b62\n'}, {'number': 2, 'created': '2019-11-13 01:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ecd46d1e4c7f811f786a4f34cd7b1d854d897d34', 'message': 'Support TimeoutStartSec for k8s systemd services\n\nNow Magnum is using podman and systemd to manage the k8s components,\nbut some of the component may take long time to start because there are\ncontainer images downloading, which is causing timeout when bootstraping\nk8s cluster for fedora atomic/coreos drivers. This patch fixes it by\nadding TimeoutStartSec for the systemd services.\n\nTask: 37251\nStory: 2006459\n\nChange-Id: I709bac620e4ceec1858672076eb0aef997704b62\n'}, {'number': 3, 'created': '2019-11-13 09:20:43.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/15a4ea14e1ddf1c98c69a8cefa65535402357eef', 'message': 'Support TimeoutStartSec for k8s systemd services\n\nNow Magnum is using podman and systemd to manage the k8s components.\nIn cases where the nodes pull images from docker.io or another\nmirror registry with high latency, some of the components may take long\ntime to start, which is causing timeout when bootstraping k8s\ncluster for fedora atomic/coreos drivers. This patch fixes it by\nadding TimeoutStartSec for the systemd services.\n\nTask: 37251\nStory: 2006459\n\nChange-Id: I709bac620e4ceec1858672076eb0aef997704b62\n'}]",1,690445,15a4ea14e1ddf1c98c69a8cefa65535402357eef,15,4,3,6484,,,0,"Support TimeoutStartSec for k8s systemd services

Now Magnum is using podman and systemd to manage the k8s components.
In cases where the nodes pull images from docker.io or another
mirror registry with high latency, some of the components may take long
time to start, which is causing timeout when bootstraping k8s
cluster for fedora atomic/coreos drivers. This patch fixes it by
adding TimeoutStartSec for the systemd services.

Task: 37251
Story: 2006459

Change-Id: I709bac620e4ceec1858672076eb0aef997704b62
",git fetch https://review.opendev.org/openstack/magnum refs/changes/45/690445/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'],1,2d063e5df59ac0fd1495a0373eaca4241c56f8a2,story/2006459-37251,TimeoutStartSec=10minTimeoutStartSec=10minTimeoutStartSec=10minTimeoutStartSec=10minTimeoutStartSec=10min,,5,0
openstack%2Fneutron~master~I235c5562b7233c3c5e2b1f348c8ebb5f4c371f44,openstack/neutron,master,I235c5562b7233c3c5e2b1f348c8ebb5f4c371f44,Remove 'dns' field from FloatingIP OVO,ABANDONED,2019-10-31 07:22:29.000000000,2019-11-13 11:11:31.000000000,,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-31 07:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e988b4b5c31f857a8e9bb23bfa4bf93a826a49d', 'message': ""Remove 'dns' field from FloatingIP OVO\n\nNot used currently and causes significant performance degradation\nwhen listing floating IPs on loaded environments.\n\nChange-Id: I235c5562b7233c3c5e2b1f348c8ebb5f4c371f44\nCloses-Bug: #1850639\n""}, {'number': 2, 'created': '2019-10-31 14:08:05.000000000', 'files': ['neutron/objects/router.py', 'neutron/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e828ce8f68bf476accf8add16d23df4c836e8b4', 'message': ""Remove 'dns' field from FloatingIP OVO\n\nNot used currently and causes significant performance degradation\nwhen listing floating IPs on loaded environments.\n\nChange-Id: I235c5562b7233c3c5e2b1f348c8ebb5f4c371f44\nCloses-Bug: #1850639\n""}]",0,692280,9e828ce8f68bf476accf8add16d23df4c836e8b4,39,8,2,5948,,,0,"Remove 'dns' field from FloatingIP OVO

Not used currently and causes significant performance degradation
when listing floating IPs on loaded environments.

Change-Id: I235c5562b7233c3c5e2b1f348c8ebb5f4c371f44
Closes-Bug: #1850639
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/692280/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/router.py'],1,7e988b4b5c31f857a8e9bb23bfa4bf93a826a49d,bug/1850639,," 'dns': obj_fields.ObjectField('FloatingIPDNS', nullable=True), synthetic_fields = ['dns']",0,2
openstack%2Foslo.i18n~master~I98fd759c581d174a6e00b8a1938bfae15d6c9c69,openstack/oslo.i18n,master,I98fd759c581d174a6e00b8a1938bfae15d6c9c69,Bump the openstackdocstheme extension to 1.20,ABANDONED,2019-10-12 09:37:11.000000000,2019-11-13 10:57:06.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-12 09:37:11.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/a23c2ddac9dac35307006169c7aae44c014f0bc3', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I98fd759c581d174a6e00b8a1938bfae15d6c9c69\n'}]",2,688267,a23c2ddac9dac35307006169c7aae44c014f0bc3,7,3,1,17130,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I98fd759c581d174a6e00b8a1938bfae15d6c9c69
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/67/688267/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,a23c2ddac9dac35307006169c7aae44c014f0bc3,,,"html_last_updated_fmt = '%Y-%m-%d %H:%M'project = u'oslo.i18n Release Notes'latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,16
openstack%2Fpython-freezerclient~master~I950cde61b857e58c9d42169a6e756abff467f575,openstack/python-freezerclient,master,I950cde61b857e58c9d42169a6e756abff467f575,Update tox.ini file to add py36 in envlist,MERGED,2019-11-13 06:18:42.000000000,2019-11-13 10:44:48.000000000,2019-11-13 10:43:23.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 06:18:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/315e093a3514bc8c8da731bebb948647842709a5', 'message': 'Update tox.ini file to add py36 in envlist\n\nAdd py36 in envlist for UT.\n\nChange-Id: I950cde61b857e58c9d42169a6e756abff467f575\n'}]",0,693983,315e093a3514bc8c8da731bebb948647842709a5,7,2,1,21069,,,0,"Update tox.ini file to add py36 in envlist

Add py36 in envlist for UT.

Change-Id: I950cde61b857e58c9d42169a6e756abff467f575
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/83/693983/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,315e093a3514bc8c8da731bebb948647842709a5,,"envlist = py27,py36,py37,pep8,pylint,docs","envlist = py27,py37,pep8,pylint,docs",1,1
openstack%2Foslo.utils~master~I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c,openstack/oslo.utils,master,I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c,Mask encryption_key_id,MERGED,2019-02-02 08:46:04.000000000,2019-11-13 10:42:54.000000000,2019-03-27 16:19:39.000000000,"[{'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25837}, {'_account_id': 27838}]","[{'number': 1, 'created': '2019-02-02 08:46:04.000000000', 'files': ['oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/08d76b5373dd19d0425d525983637f260d9be629', 'message': 'Mask encryption_key_id\n\nChange-Id: I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c\nCloses-Bug: #1814365\n'}]",0,634546,08d76b5373dd19d0425d525983637f260d9be629,13,6,1,25837,,,0,"Mask encryption_key_id

Change-Id: I9e684cd8bab85728ff0117f95a30eb7dbb5bf51c
Closes-Bug: #1814365
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/46/634546/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py']",2,08d76b5373dd19d0425d525983637f260d9be629,bug/1814365," 'CHAPPASSWORD', 'encrypted_key', 'private_key', 'encryption_key_id']"," 'CHAPPASSWORD', 'encrypted_key', 'private_key']",5,1
openstack%2Fgovernance~master~Idd0880357efa6acdd1e3916625a6a11dcc4a8767,openstack/governance,master,Idd0880357efa6acdd1e3916625a6a11dcc4a8767,Update charter to skip the vice chair selection,ABANDONED,2019-09-21 17:22:26.000000000,2019-11-13 10:38:49.000000000,,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-21 17:22:26.000000000', 'files': ['reference/charter.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/23c297fd63e9cddbc5b2087be37642ae2fe52065', 'message': 'Update charter to skip the vice chair selection\n\nTC vice chair is an internal assignment of TC to organize and\nhelp the TC chair responsibilities. In any cycle, if TC chair does not find\nvolunteer for vice chair, it is ok to skip the vice chair selection and\nassign the tasks dynamically to any TC member.\n\nChange-Id: Idd0880357efa6acdd1e3916625a6a11dcc4a8767\n'}]",0,683794,23c297fd63e9cddbc5b2087be37642ae2fe52065,26,13,1,8556,,,0,"Update charter to skip the vice chair selection

TC vice chair is an internal assignment of TC to organize and
help the TC chair responsibilities. In any cycle, if TC chair does not find
volunteer for vice chair, it is ok to skip the vice chair selection and
assign the tasks dynamically to any TC member.

Change-Id: Idd0880357efa6acdd1e3916625a6a11dcc4a8767
",git fetch https://review.opendev.org/openstack/governance refs/changes/94/683794/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/charter.rst'],1,23c297fd63e9cddbc5b2087be37642ae2fe52065,formal-vote,"available. If TC chair cannot find volunteer for vice chair, it is ok to skip the vice chair selection and TC chair can dynamically assign the vice chair duties to any TC member. ",available.,5,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I8bd9f4c4512279a291963d0b6df62316e7410f2b,openstack/python-tripleoclient,stable/train,I8bd9f4c4512279a291963d0b6df62316e7410f2b,Drop Mistral support for the Validations CLI,MERGED,2019-11-12 08:49:33.000000000,2019-11-13 10:37:15.000000000,2019-11-13 10:35:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-12 08:49:33.000000000', 'files': ['tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/drop_mistral_support_for_the_validations_CLI-081bc5cd6e7db056.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/251cfe807d603790edc703ee170147314164192a', 'message': 'Drop Mistral support for the Validations CLI\n\nThis patch removes the possibility to run the validations through the\nCLI with Mistral. Ansible is now the only way to run the validations.\n\nChange-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit c6616f8d96013bd5f5ccfec54e3eb2b37fd7884b)\n'}]",0,693787,251cfe807d603790edc703ee170147314164192a,10,9,1,11491,,,0,"Drop Mistral support for the Validations CLI

This patch removes the possibility to run the validations through the
CLI with Mistral. Ansible is now the only way to run the validations.

Change-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit c6616f8d96013bd5f5ccfec54e3eb2b37fd7884b)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/87/693787/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/drop_mistral_support_for_the_validations_CLI-081bc5cd6e7db056.yaml']",5,251cfe807d603790edc703ee170147314164192a,mistral-removal-train,--- deprecations: - | The TripleO Validator CLI doesn't support Mistral anymore for listing and running the Validations. Ansible is now the way to run them. ,,6,176
openstack%2Fvitrage~master~I4add1c99466409171e238d09585a58a4bc9af596,openstack/vitrage,master,I4add1c99466409171e238d09585a58a4bc9af596,networkx node attribute is deprecated,MERGED,2019-11-12 14:52:24.000000000,2019-11-13 10:36:20.000000000,2019-11-13 10:34:58.000000000,"[{'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 14:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c4300f8f06288c3c2b2a9cb858902bdc4ea53889', 'message': ""networkx node attribute is deprecated\n\n'node' was changed to 'nodes'\n\nChange-Id: I4add1c99466409171e238d09585a58a4bc9af596\n""}, {'number': 2, 'created': '2019-11-12 16:35:55.000000000', 'files': ['vitrage/tests/base.py', 'vitrage/graph/algo_driver/networkx_algorithm.py', 'vitrage/graph/driver/networkx_graph.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b2e03404aa722eb029ec1867a97d1a38c257c558', 'message': ""networkx node attribute is deprecated\n\n'node' was changed to 'nodes'\n\nChange-Id: I4add1c99466409171e238d09585a58a4bc9af596\n""}]",0,693854,b2e03404aa722eb029ec1867a97d1a38c257c558,11,3,2,19134,,,0,"networkx node attribute is deprecated

'node' was changed to 'nodes'

Change-Id: I4add1c99466409171e238d09585a58a4bc9af596
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/54/693854/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/graph/driver/networkx_graph.py'],1,c4300f8f06288c3c2b2a9cb858902bdc4ea53889,networkx," properties = self._g.nodes.get(v_id, None) orig_prop = self._g.nodes.get(v.vertex_id, None) self._g.nodes[v.vertex_id].update(merged_props) del self._g.nodes[v.vertex_id][prop] node_data = self._g.nodes[node_id_to_test] if VProps.ID in self._g.nodes[node[VProps.ID]]: node[VProps.ID] = self._g.nodes[node[VProps.ID]][VProps.ID]"," properties = self._g.node.get(v_id, None) orig_prop = self._g.node.get(v.vertex_id, None) self._g.node[v.vertex_id].update(merged_props) del self._g.node[v.vertex_id][prop] node_data = self._g.node[node_id_to_test] if VProps.ID in self._g.node[node[VProps.ID]]: node[VProps.ID] = self._g.node[node[VProps.ID]][VProps.ID]",7,7
openstack%2Fpython-tripleoclient~stable%2Ftrain~If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0,openstack/python-tripleoclient,stable/train,If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0,Get rid of Mistral for running Validations by Groups,MERGED,2019-11-12 08:49:33.000000000,2019-11-13 10:35:09.000000000,2019-11-13 10:35:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-12 08:49:33.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea64bef8c2adcb79c22d648cf8b6dba7c99907c4', 'message': ""Get rid of Mistral for running Validations by Groups\n\nThe CLI doesn't depend on Mistral for running Validations anymore.\n\nChange-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit db6aa7b4f3393aee7946d4f57eac6eff03e99453)\n""}]",0,693786,ea64bef8c2adcb79c22d648cf8b6dba7c99907c4,9,9,1,11491,,,0,"Get rid of Mistral for running Validations by Groups

The CLI doesn't depend on Mistral for running Validations anymore.

Change-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit db6aa7b4f3393aee7946d4f57eac6eff03e99453)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/86/693786/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,ea64bef8c2adcb79c22d648cf8b6dba7c99907c4,mistral-removal-train," output = oooutils.parse_all_validations_on_disk( constants.ANSIBLE_VALIDATION_DIR, parsed_args.group)"," clients = self.app.client_manager workflow_input = { ""group_names"": parsed_args.group } output = validations.list_validations( clients, workflow_input)",2,7
openstack%2Fnetworking-ovn~master~I828d04dca62dfd913460048694d49fdba3956001,openstack/networking-ovn,master,I828d04dca62dfd913460048694d49fdba3956001,Enable tempest DNS tests,MERGED,2018-04-19 09:11:39.000000000,2019-11-13 10:22:47.000000000,2019-06-06 11:08:45.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 11583}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2018-04-19 09:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/19700de359f8c42f32bad2b90c9d7034bbb00c1d', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and the code to configure DNS was added to the devstack\nplugin.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 2, 'created': '2018-04-19 09:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b26ea9d840f3c9de8c6d62df0bc6c3d1d08ea104', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 3, 'created': '2018-04-19 11:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a7b5c915312af883607ba5b914d1224976727890', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 4, 'created': '2018-04-19 13:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9deea88bd222c710c459a58b509412637055c2fb', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 5, 'created': '2018-09-27 08:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/03e1a61ac95015265db14dfa3686152198bcc02c', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 6, 'created': '2018-10-03 15:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/39de42795566bd68d431412418c758a580bc7975', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 7, 'created': '2018-10-04 09:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b646c354a5591cc20322dcb6d67d992082e45962', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 8, 'created': '2018-10-04 09:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/49439b6edc1b5f36f07f13371c47cfe17cdf236b', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 9, 'created': '2018-10-05 13:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/385f7601c5d611ee66676f1ec094818182b3de56', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 10, 'created': '2019-02-27 13:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/da10b612cebe1e8b1ef4a3274f3c158bbc0580d8', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 11, 'created': '2019-05-16 16:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c1491d2614dda72a1e817fa4c4cb057078ad47b3', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 12, 'created': '2019-05-17 09:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a9c455a55cd380595443fad7b2110a2f4afa11eb', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 13, 'created': '2019-05-21 15:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/95289d5cde6e304c36c863b9ef9ded0bfdffc8f8', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 14, 'created': '2019-05-22 09:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8c0cd87e2c2096170e4eb2a7d78104a9c27869dd', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 15, 'created': '2019-05-28 08:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e053b0ff29c4f9fd4c026d8e406fb44fefe2ca8e', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nAfter OVS 2.12 release with merged patch [1] this test should be enabled:\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\n\n[1] https://patchwork.ozlabs.org/patch/1102717/\n\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 16, 'created': '2019-05-28 08:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/664978c45ab6165f0aebe6d348fa01cf2dd847ba', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nAfter OVS 2.12 release with merged patch [1] this test should be enabled:\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\n\n[1] https://patchwork.ozlabs.org/patch/1102717/\n\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 17, 'created': '2019-05-28 11:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/310c5f4304ce1fb9d17d447b9680edcbd5e91f63', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nAfter OVS 2.12 release with merged patch [1] this test should be enabled:\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\n\n[1] https://patchwork.ozlabs.org/patch/1102717/\n\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}, {'number': 18, 'created': '2019-05-28 14:12:23.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/extensions.py', 'doc/source/admin/features.rst', 'devstack/local.conf.sample', 'devstack/override-defaults', 'devstack/lib/networking-ovn', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/349f68e7f377e51a4dc51d97a7f6172d976f2be8', 'message': 'Enable tempest DNS tests\n\nThis patch is enabling the tempest DNS tests in our gate which was\npreviously being skipped.\n\nThe ""dns-integration"" integration is being enabled as a supported\nextension and q-dns has been enabled by default in gate.\n\nThe following tests are now expect to run in gate:\n\nneutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name\nneutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name\n\nAfter OVS 2.12 release with merged patch [1] this test should be enabled:\nneutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name\n\n[1] https://patchwork.ozlabs.org/patch/1102717/\n\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n\nChange-Id: I828d04dca62dfd913460048694d49fdba3956001\n'}]",6,562527,349f68e7f377e51a4dc51d97a7f6172d976f2be8,109,11,18,6773,,,0,"Enable tempest DNS tests

This patch is enabling the tempest DNS tests in our gate which was
previously being skipped.

The ""dns-integration"" integration is being enabled as a supported
extension and q-dns has been enabled by default in gate.

The following tests are now expect to run in gate:

neutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain
neutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_dns_name
neutron_tempest_plugin.api.test_ports.PortsTestJSON.test_create_update_port_with_no_dns_name

After OVS 2.12 release with merged patch [1] this test should be enabled:
neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_name

[1] https://patchwork.ozlabs.org/patch/1102717/

Co-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>

Change-Id: I828d04dca62dfd913460048694d49fdba3956001
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/27/562527/15 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/extensions.py', 'devstack/lib/networking-ovn']",2,19700de359f8c42f32bad2b90c9d7034bbb00c1d,dns-tests,"# The type of OVN L3 Scheduler to use. The OVN L3 Scheduler determines the # hypervisor/chassis where a routers gateway should be hosted in OVN. The # default OVN L3 scheduler is leastloaded OVN_ML2_PLUGIN_EXT_DRIVERS=${OVN_ML2_PLUGIN_EXT_DRIVERS:-port_security,dns} function is_dns_enabled { [[ -z ""${OVN_ML2_PLUGIN_EXT_DRIVERS##*dns*}"" ]] && return 0 return 1 } populate_ml2_config /$Q_PLUGIN_CONF_FILE ml2 extension_drivers=""$OVN_ML2_PLUGIN_EXT_DRIVERS"" if is_drac_enabled; then iniset $NEUTRON_CONF DEFAULT dns_domain example.org. fi",,16,0
openstack%2Foslo.utils~master~Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,openstack/oslo.utils,master,Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,"Make mask_password case insensitive, and add new patterns",MERGED,2019-11-05 10:03:44.000000000,2019-11-13 09:50:45.000000000,2019-11-12 23:08:01.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 9712}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-05 10:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/eb77609bf4f8cc3b23a2d4addb5d4cecc3e7fb5b', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n""}, {'number': 2, 'created': '2019-11-05 11:04:32.000000000', 'files': ['releasenotes/notes/mask-password-patterns-f41524069b8ae488.yaml', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/b41268417cecb12d1d5955ee3107067edf050221', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n""}]",0,692965,b41268417cecb12d1d5955ee3107067edf050221,24,8,2,9712,,,0,"Make mask_password case insensitive, and add new patterns

It appears that Mistral service logs everything, and doesn't use yet
the mask_password (nor mask_dict_password) method. In order to ensure
all is properly masked, we have to add some new patterns, and make it
case insensitive in order to simplify and avoid duplicated entries.

Change-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d
Related-Bug: #1850843
Signed-off-by: Cdric Jeanneret <cjeanner@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/65/692965/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mask-password-patterns-f41524069b8ae488.yaml', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py']",3,eb77609bf4f8cc3b23a2d4addb5d4cecc3e7fb5b,bug/1850843," 'encryption_key_id', 'fernetkey', 'sslkey', 'passphrase']_FORMAT_PATTERNS_1 = [r'(%(key)s[0-9]*\s*[=]\s*)[^\s^\'^\""]+'] _FORMAT_PATTERNS_2 = [r'(%(key)s[0-9]*\s*[=]\s*[\""\'])[^\""\']*([\""\'])', r'(%(key)s[0-9]*\s+[\""\'])[^\""\']*([\""\'])', r'([-]{2}%(key)s[0-9]*\s+)[^\'^\""^=^\s]+([\s]*)', r'(<%(key)s[0-9]*>)[^<]*(</%(key)s[0-9]*>)', r'([\""\']%(key)s[0-9]*[\""\']\s*:\s*[\""\'])[^\""\']*' '([\""\'])', r'([\'""][^""\']*%(key)s[0-9]*[\'""]\s*:\s*u?[\'""])[^\""\']*' r'([\'""][^\'""]*%(key)s[0-9]*[\'""]\s*,\s*\'--?[A-z]+' '\'\s*,\s*u?[\'""])[^\""\']*([\'""])', r'(%(key)s[0-9]*\s*--?[A-z]+\s*)\S+(\s*)'] reg_ex = re.compile(pattern % {'key': key}, re.DOTALL|re.IGNORECASE) reg_ex = re.compile(pattern % {'key': key}, re.DOTALL|re.IGNORECASE) if key.lower() in message.lower():"," 'encryption_key_id']_FORMAT_PATTERNS_1 = [r'(%(key)s\s*[=]\s*)[^\s^\'^\""]+'] _FORMAT_PATTERNS_2 = [r'(%(key)s\s*[=]\s*[\""\'])[^\""\']*([\""\'])', r'(%(key)s\s+[\""\'])[^\""\']*([\""\'])', r'([-]{2}%(key)s\s+)[^\'^\""^=^\s]+([\s]*)', r'(<%(key)s>)[^<]*(</%(key)s>)', r'([\""\']%(key)s[\""\']\s*:\s*[\""\'])[^\""\']*([\""\'])', r'([\'""][^""\']*%(key)s[\'""]\s*:\s*u?[\'""])[^\""\']*' r'([\'""][^\'""]*%(key)s[\'""]\s*,\s*\'--?[A-z]+\'\s*,\s*u?' '[\'""])[^\""\']*([\'""])', r'(%(key)s\s*--?[A-z]+\s*)\S+(\s*)'] reg_ex = re.compile(pattern % {'key': key}, re.DOTALL) reg_ex = re.compile(pattern % {'key': key}, re.DOTALL) if key in message:",64,14
openstack%2Foslo.utils~stable%2Ftrain~Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,openstack/oslo.utils,stable/train,Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d,"Make mask_password case insensitive, and add new patterns",MERGED,2019-11-05 10:04:44.000000000,2019-11-13 09:50:09.000000000,2019-11-13 00:48:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-05 10:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ef2eed8c46e66b613dbc8aeb0c4f44deb17fa49a', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n""}, {'number': 2, 'created': '2019-11-05 10:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/61dd1321a9b91194d80d71db7899a1b1bb351987', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit eb77609bf4f8cc3b23a2d4addb5d4cecc3e7fb5b)\n""}, {'number': 3, 'created': '2019-11-05 10:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/be449a823db850a097e017339c5d5298518d75e2', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit eb77609bf4f8cc3b23a2d4addb5d4cecc3e7fb5b)\n""}, {'number': 4, 'created': '2019-11-05 11:05:08.000000000', 'files': ['releasenotes/notes/mask-password-patterns-f41524069b8ae488.yaml', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/cae9aa72377713c2fc93b5cf3fad05b873a55d6d', 'message': ""Make mask_password case insensitive, and add new patterns\n\nIt appears that Mistral service logs everything, and doesn't use yet\nthe mask_password (nor mask_dict_password) method. In order to ensure\nall is properly masked, we have to add some new patterns, and make it\ncase insensitive in order to simplify and avoid duplicated entries.\n\nChange-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d\nRelated-Bug: #1850843\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit b41268417cecb12d1d5955ee3107067edf050221)\n""}]",1,692968,cae9aa72377713c2fc93b5cf3fad05b873a55d6d,18,6,4,9712,,,0,"Make mask_password case insensitive, and add new patterns

It appears that Mistral service logs everything, and doesn't use yet
the mask_password (nor mask_dict_password) method. In order to ensure
all is properly masked, we have to add some new patterns, and make it
case insensitive in order to simplify and avoid duplicated entries.

Change-Id: Icc19b7c8bdb6a3182939d5e9fdef21288b19f43d
Related-Bug: #1850843
Signed-off-by: Cdric Jeanneret <cjeanner@redhat.com>
(cherry picked from commit b41268417cecb12d1d5955ee3107067edf050221)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/68/692968/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mask-password-patterns-f41524069b8ae488.yaml', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/strutils.py']",3,ef2eed8c46e66b613dbc8aeb0c4f44deb17fa49a,bug/1850843," 'encryption_key_id', 'fernetkey', 'sslkey', 'passphrase']_FORMAT_PATTERNS_1 = [r'(%(key)s[0-9]*\s*[=]\s*)[^\s^\'^\""]+'] _FORMAT_PATTERNS_2 = [r'(%(key)s[0-9]*\s*[=]\s*[\""\'])[^\""\']*([\""\'])', r'(%(key)s[0-9]*\s+[\""\'])[^\""\']*([\""\'])', r'([-]{2}%(key)s[0-9]*\s+)[^\'^\""^=^\s]+([\s]*)', r'(<%(key)s[0-9]*>)[^<]*(</%(key)s[0-9]*>)', r'([\""\']%(key)s[0-9]*[\""\']\s*:\s*[\""\'])[^\""\']*' '([\""\'])', r'([\'""][^""\']*%(key)s[0-9]*[\'""]\s*:\s*u?[\'""])[^\""\']*' r'([\'""][^\'""]*%(key)s[0-9]*[\'""]\s*,\s*\'--?[A-z]+' '\'\s*,\s*u?[\'""])[^\""\']*([\'""])', r'(%(key)s[0-9]*\s*--?[A-z]+\s*)\S+(\s*)'] reg_ex = re.compile(pattern % {'key': key}, re.DOTALL|re.IGNORECASE) reg_ex = re.compile(pattern % {'key': key}, re.DOTALL|re.IGNORECASE) if key.lower() in message.lower():"," 'encryption_key_id']_FORMAT_PATTERNS_1 = [r'(%(key)s\s*[=]\s*)[^\s^\'^\""]+'] _FORMAT_PATTERNS_2 = [r'(%(key)s\s*[=]\s*[\""\'])[^\""\']*([\""\'])', r'(%(key)s\s+[\""\'])[^\""\']*([\""\'])', r'([-]{2}%(key)s\s+)[^\'^\""^=^\s]+([\s]*)', r'(<%(key)s>)[^<]*(</%(key)s>)', r'([\""\']%(key)s[\""\']\s*:\s*[\""\'])[^\""\']*([\""\'])', r'([\'""][^""\']*%(key)s[\'""]\s*:\s*u?[\'""])[^\""\']*' r'([\'""][^\'""]*%(key)s[\'""]\s*,\s*\'--?[A-z]+\'\s*,\s*u?' '[\'""])[^\""\']*([\'""])', r'(%(key)s\s*--?[A-z]+\s*)\S+(\s*)'] reg_ex = re.compile(pattern % {'key': key}, re.DOTALL) reg_ex = re.compile(pattern % {'key': key}, re.DOTALL) if key in message:",64,14
openstack%2Fopenstacksdk~master~I6a7b71d74a23b6e56f9b4bc64ee9915746ae3e75,openstack/openstacksdk,master,I6a7b71d74a23b6e56f9b4bc64ee9915746ae3e75,DNM Test for zuul-jobs,ABANDONED,2019-08-02 16:12:00.000000000,2019-11-13 09:45:31.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 16:12:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/863fb53ee98ec8ef44226822cee5010bfc7be569', 'message': 'DNM Test for zuul-jobs\n\nDepends-On: https://review.opendev.org/674334\nChange-Id: I6a7b71d74a23b6e56f9b4bc64ee9915746ae3e75\n'}]",0,674344,863fb53ee98ec8ef44226822cee5010bfc7be569,4,2,1,10459,,,0,"DNM Test for zuul-jobs

Depends-On: https://review.opendev.org/674334
Change-Id: I6a7b71d74a23b6e56f9b4bc64ee9915746ae3e75
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/44/674344/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,863fb53ee98ec8ef44226822cee5010bfc7be569,test, # TEST ONLY,,1,0
openstack%2Frequirements~master~I9e40c60e0ed8a681d123382e2a2f3cd3911d2983,openstack/requirements,master,I9e40c60e0ed8a681d123382e2a2f3cd3911d2983,WIP This is a test for a zuul-jobs change,ABANDONED,2019-08-02 17:26:48.000000000,2019-11-13 09:45:26.000000000,,"[{'_account_id': 10459}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:26:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/306ad70d046c9d023a2bbb8ed690b8dc0fc30ab8', 'message': 'WIP This is a test for a zuul-jobs change\n\nPlease ignore.\n\nDepends-On: https://review.opendev.org/674334\nChange-Id: I9e40c60e0ed8a681d123382e2a2f3cd3911d2983\n'}]",0,674361,306ad70d046c9d023a2bbb8ed690b8dc0fc30ab8,7,3,1,10459,,,0,"WIP This is a test for a zuul-jobs change

Please ignore.

Depends-On: https://review.opendev.org/674334
Change-Id: I9e40c60e0ed8a681d123382e2a2f3cd3911d2983
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/674361/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,306ad70d046c9d023a2bbb8ed690b8dc0fc30ab8,test,openstacksdk===0.31.2,openstacksdk===0.32.0,1,1
openstack%2Fnova-specs~master~I66b556025ee2f704b91be1249d793e2eeaa1d891,openstack/nova-specs,master,I66b556025ee2f704b91be1249d793e2eeaa1d891,Add spec for VM-scoped SR-IOV NUMA affinity,MERGED,2019-09-19 14:53:02.000000000,2019-11-13 09:39:01.000000000,2019-11-13 09:37:10.000000000,"[{'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 16011}, {'_account_id': 16881}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 26458}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-19 14:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/97580b6860feffee38472abc68d3237d0d2c5d06', 'message': 'Add spec for vm scoped sriov numa affinity\n\nThis spec adds 2 new image/flavor properties\nto allow spcifying a numa affinity policy for\npci devices including neutron sriov interfaces.\n\nblueprint: vm-scoped-sriov-numa-affinity\nChange-Id: I66b556025ee2f704b91be1249d793e2eeaa1d891\n'}, {'number': 2, 'created': '2019-10-07 19:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5512dce9f5c4c04337b4bcbf2678ab746be54656', 'message': 'Add spec for vm scoped sriov numa affinity\n\nThis spec adds 2 new image/flavor properties\nto allow spcifying a numa affinity policy for\npci devices including neutron sriov interfaces.\n\nblueprint: vm-scoped-sriov-numa-affinity\nChange-Id: I66b556025ee2f704b91be1249d793e2eeaa1d891\n'}, {'number': 3, 'created': '2019-10-14 16:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4d291973f865d9c2a3a834a3be6a32705dbdd171', 'message': 'Add spec for vm scoped sriov numa affinity\n\nThis spec adds 2 new image/flavor properties\nto allow spcifying a numa affinity policy for\npci devices including neutron sriov interfaces.\n\nblueprint: vm-scoped-sriov-numa-affinity\nChange-Id: I66b556025ee2f704b91be1249d793e2eeaa1d891\n'}, {'number': 4, 'created': '2019-10-14 16:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1ffa4dee6f85ed6787ecbf966710c4921e540430', 'message': 'Add spec for vm scoped sriov numa affinity\n\nThis spec adds 2 new image/flavor properties\nto allow spcifying a numa affinity policy for\npci devices including neutron sriov interfaces.\n\nblueprint: vm-scoped-sriov-numa-affinity\nChange-Id: I66b556025ee2f704b91be1249d793e2eeaa1d891\n'}, {'number': 5, 'created': '2019-11-07 15:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/18c4e35a769d3dd69826ea58c7ccc342fd843674', 'message': 'Add spec for VM-scoped SR-IOV NUMA affinity\n\nThis spec adds two new image/flavor properties\nto allow spcifying a NUMA affinity policy for\nPCI devices including neutron SR-IOV interfaces.\n\nblueprint: vm-scoped-sriov-numa-affinity\nChange-Id: I66b556025ee2f704b91be1249d793e2eeaa1d891\n'}, {'number': 6, 'created': '2019-11-07 16:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c64a56e4cf06367626e4722bc83560307f4445cd', 'message': 'Add spec for VM-scoped SR-IOV NUMA affinity\n\nThis spec adds two new image/flavor properties\nto allow spcifying a NUMA affinity policy for\nPCI devices including neutron SR-IOV interfaces.\n\nblueprint: vm-scoped-sriov-numa-affinity\nChange-Id: I66b556025ee2f704b91be1249d793e2eeaa1d891\n'}, {'number': 7, 'created': '2019-11-12 17:11:10.000000000', 'files': ['specs/ussuri/approved/vm-scoped-sriov-numa-affinity.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b3203a24a79e6f5be799cf31a9e04812a5e7bb9c', 'message': 'Add spec for VM-scoped SR-IOV NUMA affinity\n\nThis spec adds two new image/flavor properties\nto allow spcifying a NUMA affinity policy for\nPCI devices including neutron SR-IOV interfaces.\n\nblueprint: vm-scoped-sriov-numa-affinity\nChange-Id: I66b556025ee2f704b91be1249d793e2eeaa1d891\n'}]",10,683174,b3203a24a79e6f5be799cf31a9e04812a5e7bb9c,29,11,7,11604,,,0,"Add spec for VM-scoped SR-IOV NUMA affinity

This spec adds two new image/flavor properties
to allow spcifying a NUMA affinity policy for
PCI devices including neutron SR-IOV interfaces.

blueprint: vm-scoped-sriov-numa-affinity
Change-Id: I66b556025ee2f704b91be1249d793e2eeaa1d891
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/74/683174/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/vm-scoped-sriov-numa-affinity.rst'],1,97580b6860feffee38472abc68d3237d0d2c5d06,bp/vm-scoped-sriov-numa-affinity,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================= VM Scoped SR-IOV NUMA Affinity Policies ======================================= https://blueprints.launchpad.net/nova/+spec/vm-scoped-sriov-numa-affinity In the Queens release [1]_ support was added to allow pci NUMA affinity policies to be specified via pci aliases. This work build on a previous feature introduced in the Juno release [2]_ that introduced strict NUMA affinity for pci devices however the Queens feature did not address the NUMA affinity of neutron sriov interfaces whic were also enforced by the ordinal juno enhancement. This spec seeks to provide a per vm mechanisum to set a vm wide NUMA afinity policy for all pci passthough devices, including but not limited to neutron sriov interfaces (vnic_type=direct,direct-phyical,macvtap,virtio-forwarder) Problem description =================== In some environment the server form factor is restricted prevent pci devices from being physically install across all NUMA nodes on a server. e.g. high density blade/multi server systems or non standard from factor equipment. In such an environment the default legacy policy which is applied to all neutron SR-IOV interface prevents vms from using SR-IOV on a non local NUMA node if the vm has a NUMA topology ( uses cpu pinning, vPMEM, hugepages or requests a NUMA topology explicitly). To use remote SR-IOV device via neutron ports in such an environment the operator is force to either configure teh guest to have multiple NUMA nodes or disable NUMA report on the host server. Both options pessimize the performance of both the guest and host in different ways. While vm with multiple virtual NUMA nodes can outperform vms with the same resources and single NUMA node in a memory bound workload that is only true if the workload is NUMA aware. A two node NUMA topology, if enforced on a workload that is not NUMA aware can result in increased cross NUMA traffic and result in a lower throughput. similarly while disabling NUMA reporting at the hardware level is beneficial in some hpc workload due to the increase memory bandwidth it comes at the cost of increase memory latency making it unsuitable for realtime workload such as VOIP. Use Cases --------- As a operator deploying openstack on high density or restricted form factor hardware i wish to specify a per vm NUMA affinity policy for sriov devices via standard flavor extra specs. As a tenant or vnf vendor i want to be able to customise the affinity fo my vms via image properties so i can express the NUMA affinity requirements of my workloads. Proposed change =============== This spec proposes extending the pci NUMA affinity polices intoduced by [1] to all pci and sriov device includeing neutron ports by adding a new flavor extra spec ``hw:pci_NUMA_affinity_policy`` and ``hw_pci_NUMA_affinity_policy`` image metadata property. The new properties will accept 3 values ``required``, ``prefered`` and ``legacy`` as defined in [1]. If a pci device is requested using a flavor alias the NUMA affinity policy specified in the flavor or image will take precidnce over any policy set in the host pci alias. If no pci NUMA affinity policy is specified in the flavor or image, alias based pci passthrough will fall back to the policy set in the alias. If no policy is set in the flavor or image and no ploicy is set in the alias the legacy policy will continue to be used. For neutorn sriov interfaces if no policy is set in the flavor or image the legacy policy will be used. .. NOTE: The queens spec [1] originally contained both of the proposed flavor and image proposed but were removed during implementation as the original neutron port usecase that motivated the feature was not capture in the spec. As a result, while the queens feature addressed NUMA affinity for flavor based pci passthrough no mechanism is available to specify the policy for neutron sriov interfaces. Alternatives ------------ We could change the default policy to prefer if no policy is specified. This would optimise for cases where people do not care about NUMA affinity at the expense of require those that do to specify a policy. As this would be a change in behavior on upgrade it is not proposed that we take this approach. We could enable per interface NUMA affinity polices. This is not mutually exclusive with this proposal and will be proposes separately as an additional feature. As the flavor and image based approach covers 80% of the usecases enabled by per interface NUMA affinity polices without requiring neutron api changes. Data model impact ----------------- The image metadata object and related notification objects will be updated to contain the new pci NUMA affinity field. As the pci request spec object already has NUMA affinity policy filed for alias based passed through no other data model changes are required. REST API impact --------------- There will be no direct changes to any existing api however a new flavor extra spec will be introduced. Security impact --------------- None Notifications impact -------------------- The image metadata properties payload will be extended with the new property filed. No other impact is expected. Other end user impact --------------------- To utilise this feature operators and tenants will need to modify there images and flavors to add the ``hw:pci_NUMA_affinity_policy`` and ``hw_pci_NUMA_affinity_policy`` properties. Performance Impact ------------------ None As the scheduler was already asserting legacy pci affinity, passing a policy to assert instead should not affect the overall scheduling time. depending on the policy selected the performance of the guest may improve or be reduced inline with the guarantees expressed by that policy. Other deployer impact --------------------- As was previously require to enable numa affinity to be enforced for sriov/pci device the pci passthough and numa topology filters must be enabled. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: sean-k-mooney Work Items ---------- None Dependencies ============ None Testing ======= As this feature relates to SR-IOV it cannot be tested in the upstream gate via tempest. Unit tests will be provided to assert that the policy is correctly conveyed to the existing pci assignment code and the existing functional test can be extended as required. As this feature simply provides another way to specify the pci affinity policy the code change is minimal and can lavage much of the existing test coverage. Documentation Impact ==================== A release note, and updates to teh existing user flavor docs will be provided and the glance metadefs should be updated to reflect the new image property. References ========== .. [1] https://specs.openstack.org/openstack/nova-specs/specs/queens/implemented/share-pci-between-numa-nodes.html .. [2] https://specs.openstack.org/openstack/nova-specs/specs/juno/approved/input-output-based-numa-scheduling.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ussuri - Introduced ",,213,0
openstack%2Ftripleo-ansible~master~I09f7b29eb37d5c728d97dd4f27b4465fa0fb26f2,openstack/tripleo-ansible,master,I09f7b29eb37d5c728d97dd4f27b4465fa0fb26f2,Use more exact path to Zuul source dir,MERGED,2019-11-12 18:55:49.000000000,2019-11-13 09:17:44.000000000,2019-11-13 09:17:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 18:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac4cbd0130d8f3c37b07ab44f0ccec73377b4b41', 'message': 'Use more exact path to Zuul source dir\n\nBe more specific when specifying path to source of the project,\nso that we can run these jobs on different projects and\ndependencies.\n\nChange-Id: I09f7b29eb37d5c728d97dd4f27b4465fa0fb26f2\n'}, {'number': 2, 'created': '2019-11-12 19:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/447821b421d6c01b418c170657657c3e03e4a2e7', 'message': 'Use more exact path to Zuul source dir\n\nBe more specific when specifying path to source of the project,\nso that we can run these jobs on different projects and\ndependencies.\nAdd these paths to some of molecule jobs to test.\nChange-Id: I09f7b29eb37d5c728d97dd4f27b4465fa0fb26f2\n'}, {'number': 3, 'created': '2019-11-13 00:10:49.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/playbooks/pre.yml', 'zuul.d/playbooks/run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7da2d2f4a57b2ed303f0dc588d398d971385cb8', 'message': 'Use more exact path to Zuul source dir\n\nBe more specific when specifying path to source of the project,\nso that we can run these jobs on different projects and\ndependencies.\nAdd these paths to some of molecule jobs to test.\nChange-Id: I09f7b29eb37d5c728d97dd4f27b4465fa0fb26f2\n'}]",5,693904,c7da2d2f4a57b2ed303f0dc588d398d971385cb8,17,6,3,10969,,,0,"Use more exact path to Zuul source dir

Be more specific when specifying path to source of the project,
so that we can run these jobs on different projects and
dependencies.
Add these paths to some of molecule jobs to test.
Change-Id: I09f7b29eb37d5c728d97dd4f27b4465fa0fb26f2
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/693904/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/playbooks/pre.yml', 'zuul.d/playbooks/run.yml']",2,ac4cbd0130d8f3c37b07ab44f0ccec73377b4b41,srcdir," tripleo_ansible_project_path: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/tripleo-ansible'].src_dir}}"""," tripleo_ansible_project_path: ""{{ ansible_user_dir }}/{{ zuul.project.src_dir }}""",2,2
openstack%2Ftripleo-ansible~master~I1ae93dff1e10a1a696bb171996a75a0db6c34fa3,openstack/tripleo-ansible,master,I1ae93dff1e10a1a696bb171996a75a0db6c34fa3,Idempotency for podman_container,MERGED,2019-10-14 21:23:11.000000000,2019-11-13 09:17:43.000000000,2019-11-13 09:17:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-14 21:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59e9282daf032128a2688bdc85b34d9c59d4c771', 'message': ""WIP: idempotency for podman_container\n\nIntroduce idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 2, 'created': '2019-10-18 22:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/18b6b01da21ff0e22e8b2a3d0552121e46821e9a', 'message': ""WIP: idempotency for podman_container\n\nIntroduce idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 3, 'created': '2019-10-18 22:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f419778a64c597829899eb77b961131140b147eb', 'message': ""WIP: idempotency for podman_container\n\nIntroduce idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 4, 'created': '2019-10-21 15:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a76a10185910a672ebc6dd31d4cc4bc41f17c651', 'message': ""WIP: idempotency for podman_container\n\nIntroduce idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 5, 'created': '2019-10-22 14:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d78ea7d9fc5313b9a7161a77defa0914ce5d8fdc', 'message': ""WIP: idempotency for podman_container\n\nIntroduce idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 6, 'created': '2019-10-24 16:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06b42e963026b06352a8354e0bf0f59af4b59e88', 'message': ""WIP: idempotency for podman_container\n\nIntroduce idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 7, 'created': '2019-10-24 17:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb29b79c4af9d84b66510b9d6bb9aea864239ae1', 'message': ""WIP: idempotency for podman_container\n\nIntroduce idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 8, 'created': '2019-10-27 12:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53deaa3ec32ce603a1b6e3dab90f91e5329bf825', 'message': ""WIP: idempotency for podman_container\n\nIntroduce idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 9, 'created': '2019-10-28 23:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9541fd3e8f0363f67f02645f2786fd21b05bb873', 'message': ""WIP: idempotency for podman_container\n\nIntroduce idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 10, 'created': '2019-11-10 21:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/579840663e493534c2aba49a843b0d4a051c42d9', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 11, 'created': '2019-11-10 22:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0471636880ad8a67690f49892c4738d5892e8cd2', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 12, 'created': '2019-11-10 23:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a276b2ec3ef35867585b98ef654160b8fc698ef0', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 13, 'created': '2019-11-10 23:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/287c6d67b33b3c7b9c1d16b655033504fab2e877', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 14, 'created': '2019-11-10 23:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af511494fa906f1c4869e56c09b4203c74353b44', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 15, 'created': '2019-11-10 23:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c35dcb5e71373534d4c3ee2ebd84c1d15b0a2e0c', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 16, 'created': '2019-11-11 00:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2dc2e5e28dda02e6aeb8849f6e94f600ca7fe3a9', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 17, 'created': '2019-11-11 00:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b98e9d349cdbb3ee316feac4450ededc37fccdbc', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 18, 'created': '2019-11-11 00:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f25b2b1ffb786f26f032ed17f8b530bb426e26b', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 19, 'created': '2019-11-11 01:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/40410c6efce9554a3d255b8a24d75ead106d5f14', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 20, 'created': '2019-11-11 01:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06c102b59ad9ba9162fc80056147e7bbccd36660', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 21, 'created': '2019-11-11 01:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e1231a8518d1ea155cf5af82ae520ff9ff8485b2', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}, {'number': 22, 'created': '2019-11-11 08:20:47.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1212544a283f99cc4f233c645f92bb805db01e4f', 'message': ""Idempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they're not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n""}]",1,688574,1212544a283f99cc4f233c645f92bb805db01e4f,51,6,22,10969,,,0,"Idempotency for podman_container

Introduce partial idepmpotency for running podman_container

- Replace all options by their defaults it they're not set
- Force lower case on all podman inspection data
- Add a class with methods for every parameter to check its value
and compare it with module argument
- Add check_mode support and podman_actions

Change-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/688574/14 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,59e9282daf032128a2688bdc85b34d9c59d4c771,idemp," return c + ['--detach=%s' % self.params['detach']] return c + ['--http-proxy=%s' % self.params['http_proxy']] return c + ['--interactive=%s' % self.params['interactive']] return c + ['--no-hosts=%s' % self.params['no_hosts']] return c + ['--oom-kill-disable=%s' % self.params['oom_kill_disable']] return c + ['--privileged=%s' % self.params['privileged']] return c + ['--publish-all=%s' % self.params['publish_all']] return c + ['--read-only=%s' % self.params['read_only']] return c + ['--read-only-tmpfs=%s' % self.params['read_only_tmpfs']] return c + ['--rm=%s' % self.params['rm']] return c + ['--rootfs=%s' % self.params['rootfs']] return c + ['--sig-proxy=%s' % self.params['sig_proxy']] return c + ['--systemd=%s' % self.params['systemd']] return c + ['--tty=%s' % self.params['tty']]class PodmanDefaults: def __init__(self): self.version = self._get_podman_version() self.defaults = { ""workdir"": ""/"", ""cpu_shares"": 0, ""cpu_quota"": 0, ""cpu_period"": 0, ""cpu_rt_runtime"": 0, ""cpu_rt_period"": 0, ""detach"": True, ""no_hosts"": False, ""oom_score_adj"": 0, } def _get_podman_version(self): return ""1.5.1"" def default_dict(self): # make here any changes to self.defaults related to podman version return self.defaults class PodmanContainerDiff: def __init__(self, module, info): self.module = module self.info = json.loads(json.dumps(info).lower()) self.params = self.defaultize(self.module.params) def defaultize(self, params): params_with_defaults = {} default_dict = PodmanDefaults().default_dict() for p in self.module.params: if self.module.params[p] is None and p in default_dict: params_with_defaults[p] = default_dict[p] else: params_with_defaults[p] = self.module.params[p] return params_with_defaults def diffparam_workdir(self): return self.info['config']['workingdir'] != self.params['workdir'] def diffparam_no_hosts(self): return bool(self.info['hostspath']) == self.params['no_hosts'] def diffparam_cpu_shares(self): return self.info['hostconfig']['cpushares'] != self.params['cpu_shares'] def diffparam_oom_score_adj(self): return self.info['hostconfig']['oomscoreadj'] != self.params['oom_score_adj'] def is_different(self): diff_func_list = [func for func in dir(self) if callable(getattr(self, func)) and func.startswith( ""diffparam"")] for func_name in diff_func_list: dff_func = getattr(self, func_name) if dff_func(): return True return False diffcheck = PodmanContainerDiff(self.module, self.info) return diffcheck.is_different()"," return c + ['--detach'] if self.params['detach'] else c return c + ['--http-proxy', self.params['http_proxy']] return c + ['--interactive'] if self.params['interactive'] else c return c + ['--no-hosts', self.params['no_hosts']] return c + ['--oom-kill-disable', self.params['oom_kill_disable']] return c + ['--privileged'] if self.params['privileged'] else c return c + ['--publish-all', self.params['publish_all']] return c + ['--read-only', self.params['read_only']] return c + ['--read-only-tmpfs', self.params['read_only_tmpfs']] return c + ['--rm'] if self.params['rm'] else c return c + ['--rootfs'] if self.params['rootfs'] else c return c + ['--sig-proxy', self.params['sig_proxy']] return c + ['--systemd', self.params['systemd']] return c + ['--tty'] if self.params['tty'] else c # TODO(sshnaidm): implement difference calculation between input vars # and current container to understand if we need to recreate it return True",78,17
openstack%2Fnova~master~I1178fb77a74010c3b9f51eea22c7e7576b600015,openstack/nova,master,I1178fb77a74010c3b9f51eea22c7e7576b600015,Use admin neutron client to gather port resource requests,MERGED,2019-10-24 15:34:18.000000000,2019-11-13 09:07:07.000000000,2019-11-07 18:59:27.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-24 15:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d1bfc9fcee1a33f14d0bf4602f56569690e07f5', 'message': 'Use admin neutron client to gather port resource requests\n\nTODO:\n  * add test coverage\n\nChange-Id: I1178fb77a74010c3b9f51eea22c7e7576b600015\nCloses-Bug: #1849695\n'}, {'number': 2, 'created': '2019-10-29 16:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f52ceb4af979fed94453722ffa5a2497f2e4b0d5', 'message': 'Use admin neutron client to gather port resource requests\n\nTODO:\n  * add test coverage\n\nChange-Id: I1178fb77a74010c3b9f51eea22c7e7576b600015\nCloses-Bug: #1849695\n'}, {'number': 3, 'created': '2019-10-29 16:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0108117d6170929cc4dbc67862514eedfeaabbdc', 'message': 'Use admin neutron client to gather port resource requests\n\nThe network_api get_requested_resource_for_instance() creates a neutron\nclient with the current request context and uses the client to query\nneutron ports. Neutron does not return the resource_request of the\nneutron port if it is queried by a non-admin. So if the request context\nwas a non admin context nova thought that non of the ports has resource\nrequest.\n\nThis patch ensures that an admin client is used to query the ports.\n\nChange-Id: I1178fb77a74010c3b9f51eea22c7e7576b600015\nCloses-Bug: #1849695\n'}, {'number': 4, 'created': '2019-11-06 20:57:09.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/38a214466fa2cccc3808ca6d7d7140cf56f733ba', 'message': 'Use admin neutron client to gather port resource requests\n\nThe network_api get_requested_resource_for_instance() creates a neutron\nclient with the current request context and uses the client to query\nneutron ports. Neutron does not return the resource_request of the\nneutron port if it is queried by a non-admin. So if the request context\nwas a non admin context nova thought that none of the ports have resource\nrequests.\n\nThis patch ensures that an admin client is used to query the ports.\n\nChange-Id: I1178fb77a74010c3b9f51eea22c7e7576b600015\nCloses-Bug: #1849695\n'}]",5,691005,38a214466fa2cccc3808ca6d7d7140cf56f733ba,81,16,4,9708,,,0,"Use admin neutron client to gather port resource requests

The network_api get_requested_resource_for_instance() creates a neutron
client with the current request context and uses the client to query
neutron ports. Neutron does not return the resource_request of the
neutron port if it is queried by a non-admin. So if the request context
was a non admin context nova thought that none of the ports have resource
requests.

This patch ensures that an admin client is used to query the ports.

Change-Id: I1178fb77a74010c3b9f51eea22c7e7576b600015
Closes-Bug: #1849695
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/691005/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,0d1bfc9fcee1a33f14d0bf4602f56569690e07f5,bug/1849695," # NOTE(gibi): We need to use an admin client as otherwise a non admin # initiated resize causes that neutron does fill the resource_request # field of the port and this will lead to resource allocation issues. # See bug 1849695 neutron = get_client(context, admin=True)", neutron = get_client(context),5,1
openstack%2Freleases~master~Id4dcc5c39767eb3610c888f18515a67bcd20ab12,openstack/releases,master,Id4dcc5c39767eb3610c888f18515a67bcd20ab12,Bugfix release for mistral-lib rocky,MERGED,2019-11-06 12:40:38.000000000,2019-11-13 09:06:48.000000000,2019-11-13 09:06:48.000000000,"[{'_account_id': 308}, {'_account_id': 8731}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-06 12:40:38.000000000', 'files': ['deliverables/rocky/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0397a833324938cf31983f2a226fdf672d25f89c', 'message': 'Bugfix release for mistral-lib rocky\n\nRelated-Bug: #1850843\nChange-Id: Id4dcc5c39767eb3610c888f18515a67bcd20ab12\n'}]",0,693171,0397a833324938cf31983f2a226fdf672d25f89c,11,6,1,9712,,,0,"Bugfix release for mistral-lib rocky

Related-Bug: #1850843
Change-Id: Id4dcc5c39767eb3610c888f18515a67bcd20ab12
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/693171/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/mistral-lib.yaml'],1,0397a833324938cf31983f2a226fdf672d25f89c,bug/1850843, - version: 1.0.1 projects: - repo: openstack/mistral-lib hash: 1265d9d53aa01117e337fa1799d005113041a169,,4,0
openstack%2Fnova~master~Icc631cf2e81a5c78cb7fb1d0b625d19bd8f5a274,openstack/nova,master,Icc631cf2e81a5c78cb7fb1d0b625d19bd8f5a274,Use admin neutron client to query ports for binding,MERGED,2019-10-24 15:09:00.000000000,2019-11-13 09:06:04.000000000,2019-11-07 18:59:21.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-24 15:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f88e287bd65765a84b09b8cbee80b532faa7591', 'message': ""Use admin neutron client to query ports for binding\n\nThe compute service updates the binding:profile of the neutron port\nduring server create. If the port has resource_request then the\n'allocation' key need to point to the resource provider the port is\nallocating resources. Unfortunately this code used a non admin client to\nquery the port data and therefore if the original server create request\nwas sent by a non admin user the returned port does not have its\nresource_request filled and as a consequence nova does not add the\nallocation key to the binding profile.\n\nThis patch makes sure that the port is queried with an admin client.\n\nThere is a tempest test change that reproduces the issue:\nhttps://review.opendev.org/#/c/690934\n\nChange-Id: Icc631cf2e81a5c78cb7fb1d0b625d19bd8f5a274\nCloses-Bug: #1849657\n""}, {'number': 2, 'created': '2019-11-06 20:57:09.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aab4b7a0e2504c04e08389145bcb1414dea63631', 'message': ""Use admin neutron client to query ports for binding\n\nThe compute service updates the binding:profile of the neutron port\nduring server create. If the port has resource_request then the\n'allocation' key need to point to the resource provider the port is\nallocating resources. Unfortunately this code used a non admin client to\nquery the port data and therefore if the original server create request\nwas sent by a non admin user the returned port does not have its\nresource_request filled and as a consequence nova does not add the\nallocation key to the binding profile.\n\nThis patch makes sure that the port is queried with an admin client.\n\nThere is a tempest test change that reproduces the issue:\nhttps://review.opendev.org/#/c/690934\n\nChange-Id: Icc631cf2e81a5c78cb7fb1d0b625d19bd8f5a274\nCloses-Bug: #1849657\n""}]",3,690999,aab4b7a0e2504c04e08389145bcb1414dea63631,66,15,2,9708,,,0,"Use admin neutron client to query ports for binding

The compute service updates the binding:profile of the neutron port
during server create. If the port has resource_request then the
'allocation' key need to point to the resource provider the port is
allocating resources. Unfortunately this code used a non admin client to
query the port data and therefore if the original server create request
was sent by a non admin user the returned port does not have its
resource_request filled and as a consequence nova does not add the
allocation key to the binding profile.

This patch makes sure that the port is queried with an admin client.

There is a tempest test change that reproduces the issue:
https://review.opendev.org/#/c/690934

Change-Id: Icc631cf2e81a5c78cb7fb1d0b625d19bd8f5a274
Closes-Bug: #1849657
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/690999/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,5f88e287bd65765a84b09b8cbee80b532faa7591,bug/1849657," mock_get_client.assert_has_calls([ mock.call(ctxt), mock.call(ctxt, admin=True)], any_order=True) net_idx=2, exception=exception.NetworkAmbiguous) net_idx=3, exception=exception.NetworkAmbiguous) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) exception=exception.PortInUse, _break='pre_list_networks', _device=True) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) mock_get_client.assert_has_calls([ mock.call(self.context), mock.call(self.context, admin=True)]) mock_validate_ports.assert_called_once_with( self.context, self.instance, ""admin"", None, attach=False) "," get_client_admin_call=True, if get_client_admin_call: mock_get_client.assert_has_calls([ mock.call(ctxt), mock.call(ctxt, admin=True)], any_order=True) else: mock_get_client.assert_called_once_with(mock.ANY) net_idx=2, exception=exception.NetworkAmbiguous, get_client_admin_call=False) net_idx=3, exception=exception.NetworkAmbiguous, get_client_admin_call=False) get_client_admin_call=False, get_client_admin_call=False, mock_get_client.assert_called_once_with(self.context) mock_get_client.assert_called_once_with(self.context) mock_get_client.assert_called_once_with(self.context) exception=exception.PortInUse, get_client_admin_call=False, _break='pre_list_networks', _device=True) get_client_admin_call=False, get_client_admin_call=False, mock_get_client.assert_called_once_with(self.context) mock_get_client.assert_called_once_with(self.context) get_client_admin_call=False,",36,29
openstack%2Fkuryr-kubernetes~master~Idcdef5c4f2f47a165bfb9b38779b591d5b995216,openstack/kuryr-kubernetes,master,Idcdef5c4f2f47a165bfb9b38779b591d5b995216,Ensure LB SG is not updated for egress only policy,MERGED,2019-10-21 15:58:07.000000000,2019-11-13 08:17:33.000000000,2019-11-12 16:27:37.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-21 15:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/315ae7b6137a80f6e96866d37332dd44b02196f7', 'message': 'Ensure LB SG is not updated for egress only policy\n\nWhen an egress Network Policy is enforced, there is no\nneed to allow the update of the LB SG. Right now, as this\noperation is being allowed, we can end up with ingress\nrules being removed from the LB.\n\nChange-Id: Idcdef5c4f2f47a165bfb9b38779b591d5b995216\n'}, {'number': 2, 'created': '2019-10-21 20:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a6ab8b1d6e89efafab5062a6cbcb6d621c4f4c3c', 'message': 'Ensure LB SG is not updated for egress only policy\n\nWhen an egress Network Policy is enforced, there is no\nneed to allow the update of the LB SG. Right now, as this\noperation is being allowed, we can end up with ingress\nrules being removed from the LB.\n\nChange-Id: Idcdef5c4f2f47a165bfb9b38779b591d5b995216\n'}, {'number': 3, 'created': '2019-10-23 15:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cd0f3d38de63f0683c1b082bc73047fd49dcffb0', 'message': 'Ensure LB SG is not updated for egress only policy\n\nWhen an egress Network Policy is enforced, there is no\nneed to allow the update of the LB SG. Right now, as this\noperation is being allowed, we can end up with ingress\nrules being removed from the LB.\n\nChange-Id: Idcdef5c4f2f47a165bfb9b38779b591d5b995216\n'}, {'number': 4, 'created': '2019-10-30 20:49:54.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/controller/handlers/policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b0b78b423c37c3a959da1e3ec417e0b980b29f3b', 'message': 'Ensure LB SG is not updated for egress only policy\n\nWhen an egress Network Policy is enforced, there is no\nneed to allow the update of the LB SG. Right now, as this\noperation is being allowed, we can end up with ingress\nrules being removed from the LB.\n\nCloses-Bug: 1850715\nChange-Id: Idcdef5c4f2f47a165bfb9b38779b591d5b995216\n'}]",5,689831,b0b78b423c37c3a959da1e3ec417e0b980b29f3b,26,5,4,27032,,,0,"Ensure LB SG is not updated for egress only policy

When an egress Network Policy is enforced, there is no
need to allow the update of the LB SG. Right now, as this
operation is being allowed, we can end up with ingress
rules being removed from the LB.

Closes-Bug: 1850715
Change-Id: Idcdef5c4f2f47a165bfb9b38779b591d5b995216
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/689831/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/controller/handlers/policy.py']",3,315ae7b6137a80f6e96866d37332dd44b02196f7,ensure-lbaas-sg-not-updated-on-egress," oslo_cfg.CONF.octavia_defaults.enforce_sg_rules and not self._is_egress_only_policy(policy)): if (oslo_cfg.CONF.octavia_defaults.enforce_sg_rules and not self._is_egress_only_policy(policy)): def _is_egress_only_policy(self, policy): policy_types = policy['spec'].get('policyTypes') return ((len(policy_types) == 1 and 'Egress' in policy_types) or (policy['spec'].get('egress') and not policy['spec'].get('ingress')))", oslo_cfg.CONF.octavia_defaults.enforce_sg_rules): if oslo_cfg.CONF.octavia_defaults.enforce_sg_rules:,16,2
openstack%2Fkuryr-kubernetes~master~I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec,openstack/kuryr-kubernetes,master,I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec,Ensure Network Policy handles egress traffic to a SVC,MERGED,2019-10-17 08:59:15.000000000,2019-11-13 08:17:01.000000000,2019-11-12 22:11:13.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-17 08:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/13c32d214f9b483ce1d36e69a8e9137814e18ee2', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n""}, {'number': 2, 'created': '2019-10-17 17:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce1f31abf99ac526078b337805ea4b57fb25b944', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n""}, {'number': 3, 'created': '2019-10-17 17:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/607e59c66384408ff8ae4f62497da8ebd7ede2c4', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n""}, {'number': 4, 'created': '2019-10-18 08:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/effab25d68bbaef4d59b4cd04a18eb2a5b90dbb9', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n""}, {'number': 5, 'created': '2019-10-21 07:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/57c8a01dacb31c01c15254f7cab8e6771ce25c24', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n""}, {'number': 6, 'created': '2019-10-21 14:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0109d7e9563761aa254a15f138d66282bd8c639c', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nCloses-Bug: 1849139\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n""}, {'number': 7, 'created': '2019-10-21 14:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3773ea50cb95f2fcb19d4fa05ea44a11d59d9232', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nRelated-Bug: 1849139\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n""}, {'number': 8, 'created': '2019-10-24 10:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fa77abbe25ab7ad1f0bbdeb6cf42839016b16a69', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nRelated-Bug: 1849139\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n""}, {'number': 9, 'created': '2019-10-25 12:57:59.000000000', 'files': ['kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/db1b24fcf627e00ca7a541164538bdfe860ddf2c', 'message': ""Ensure Network Policy handles egress traffic to a SVC\n\nWe're not taking into account the case of a Network Policy\nwith an egress rule to a pod that contains a Service sitting\nin front of it. Right now, only an egress rule to the matched\npod is created, when one for the matched SVC is also required.\n\nRelated-Bug: 1849139\nChange-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec\n""}]",7,689102,db1b24fcf627e00ca7a541164538bdfe860ddf2c,49,5,9,27032,,,0,"Ensure Network Policy handles egress traffic to a SVC

We're not taking into account the case of a Network Policy
with an egress rule to a pod that contains a Service sitting
in front of it. Right now, only an egress rule to the matched
pod is created, when one for the matched SVC is also required.

Related-Bug: 1849139
Change-Id: I9830f30ba1fde3e5ec1a98fcbca22af992dd1bec
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/02/689102/7 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/network_policy.py'],1,13c32d214f9b483ce1d36e69a8e9137814e18ee2,fix-egress-to-pod," if direction == 'egress': rule = self._create_svc_egress_sg_rule( sg_id, resource) sg_rule_body_list.extend(rule) def _create_svc_egress_sg_rule(self, sg_id, resource): sg_rule_body_list = [] services = driver_utils.get_services() for service in services.get('items'): if self._is_pod(resource): pod_labels = resource['metadata'].get('labels') svc_selector = service.get('selector') if svc_selector and pod_labels: if not driver_utils.match_labels( svc_selector, pod_labels): continue else: ns_name = service['metadata']['namespace'] if ns_name != resource['metadata']['name']: continue rule = driver_utils.create_security_group_rule_body( sg_id, 'egress', cidr=service['spec'].get('clusterIP')) sg_rule_body_list.append(rule) return sg_rule_body_list ",,24,0
openstack%2Fnetworking-ovn~master~Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559,openstack/networking-ovn,master,Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559,Initialize TLS prior to retrieving OVSDB schema,MERGED,2019-10-07 08:19:00.000000000,2019-11-13 08:13:49.000000000,2019-11-07 19:06:46.000000000,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-10-07 08:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/095291580a125e41fa0ea4dadcb225a6e869c1bb', 'message': 'Initialize TLS prior to retrieving OVSDB schema\n\nChange-Id: Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559\nCloses-Bug: #1847032\n'}, {'number': 2, 'created': '2019-11-03 09:19:15.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e349bfb14aeaa884e3d26dce7e09ffb96cc0ae73', 'message': 'Initialize TLS prior to retrieving OVSDB schema\n\nChange-Id: Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559\nCloses-Bug: #1847032\n'}]",4,686974,e349bfb14aeaa884e3d26dce7e09ffb96cc0ae73,25,5,2,13686,,,0,"Initialize TLS prior to retrieving OVSDB schema

Change-Id: Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559
Closes-Bug: #1847032
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/74/686974/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/ovsdb.py'],1,095291580a125e41fa0ea4dadcb225a6e869c1bb,bug/1847032, ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA),,1,0
openstack%2Fnetworking-ovn~master~Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a,openstack/networking-ovn,master,Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a,Add missing unittests to OVN provider driver,MERGED,2019-08-02 10:46:06.000000000,2019-11-13 08:11:59.000000000,2019-10-28 18:41:28.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-08-02 10:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/dc1722bf7277e442b13332fa8a5f719a0cc7f6b5', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 2, 'created': '2019-08-02 13:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6d850e776dc5802daa828063b1e73b361cea916b', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 3, 'created': '2019-08-02 13:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/16ff2c4f31fbb084985d99fce4fa076814433e73', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 4, 'created': '2019-08-05 14:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/10ea58c637d9298e04dd971b7ee8df98bc4989a5', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 5, 'created': '2019-08-06 16:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ebe1758b049d3cf6fbbaef409b601cb361538fbc', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 6, 'created': '2019-08-07 10:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4716a5ea0e0ab006c50a20c800985bc5d18dbc21', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 7, 'created': '2019-08-09 12:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2b556c6958bb2c60255380f080bd3ae448e0ef74', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 8, 'created': '2019-08-22 10:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4da0d149b04232a1298310c6620732c9edc60baf', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 9, 'created': '2019-08-22 10:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2fff5331c6d7a5b212bcc8cac2520326583ea667', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 10, 'created': '2019-09-24 13:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0466a23ba8d5ebf2b38ae19f30ec9d6cbcd0406d', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 11, 'created': '2019-10-01 14:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/21d2484368070814a6807cfc2fc0d208a63b1a48', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 12, 'created': '2019-10-02 14:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a7d8fced599e7ebf93fe1a9bebd0378d8e3259a5', 'message': 'WIP Add missing unittests to OVN provider driver\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n'}, {'number': 13, 'created': '2019-10-03 11:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/67bce37664e2b376ed6248ed44935293a8a72f5e', 'message': ""WIP Add missing unittests to OVN provider driver\n\nThis change bumps up test coverage.\nDuring writing those tests I found also a few issues:\n\n1) In method pool_update the operating_status shouldn't\nbe set with veryfing if the pool has members or not.\nThe only way of setting operating_status to OFFLINE is\nto administratively disable it or via member healt monitor,\nwhich we don't yet support. Dropping this wrong code.\nhttps://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool\n\n2) _check_monitor_options() logic was wrong - fixed it\n\n3) In pool_delete() in some coditions the external_ids\ncould be used, but not initlized. I moved it to be on the top\nof function.\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n""}, {'number': 14, 'created': '2019-10-03 14:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c76e5552786dcc9074f2a3c339f90522ee95473e', 'message': ""WIP Add missing unittests to OVN provider driver\n\nThis change bumps up test coverage.\nDuring writing those tests I found also a few issues:\n\n1) In method pool_update the operating_status shouldn't\nbe set with veryfing if the pool has members or not.\nThe only way of setting operating_status to OFFLINE is\nto administratively disable it or via member healt monitor,\nwhich we don't yet support. Dropping this wrong code.\nhttps://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool\n\n2) _check_monitor_options() logic was wrong - fixed it\n\n3) In pool_delete() in some coditions the external_ids\ncould be used, but not initlized. I moved it to be on the top\nof function.\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n""}, {'number': 15, 'created': '2019-10-04 11:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/af60164b8b2ab7fece01234f3b5a8e39a50dbd6d', 'message': ""Add missing unittests to OVN provider driver\n\nThis change bumps up test coverage.\nDuring writing those tests I found also a few issues:\n\n1) In method pool_update the operating_status shouldn't\nbe set with veryfing if the pool has members or not.\nThe only way of setting operating_status to OFFLINE is\nto administratively disable it or via member healt monitor,\nwhich we don't yet support. Dropping this wrong code.\nhttps://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool\n\n2) _check_monitor_options() logic was wrong - fixed it\n\n3) In pool_delete() in some coditions the external_ids\ncould be used, but not initlized. I moved it to be on the top\nof function.\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n""}, {'number': 16, 'created': '2019-10-04 11:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/39e10bd09d883c48254e4477d5f1530b82c0fcf6', 'message': ""Add missing unittests to OVN provider driver\n\nThis change bumps up test coverage.\nDuring writing those tests I found also a few issues:\n\n1) In method pool_update the operating_status shouldn't\nbe set with veryfing if the pool has members or not.\nThe only way of setting operating_status to OFFLINE is\nto administratively disable it or via member healt monitor,\nwhich we don't yet support. Dropping this wrong code.\nhttps://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool\n\n2) _check_monitor_options() logic was wrong - fixed it\n\n3) In pool_delete() in some coditions the external_ids\ncould be used, but not initlized. I moved it to be on the top\nof function.\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n""}, {'number': 17, 'created': '2019-10-17 21:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7cd45b20539a36bf42c959cfe90a7071c1633d90', 'message': ""Add missing unittests to OVN provider driver\n\nThis change bumps up test coverage.\nDuring writing those tests I found also a few issues:\n\n1) In method pool_update the operating_status shouldn't\nbe set with veryfing if the pool has members or not.\nThe only way of setting operating_status to OFFLINE is\nto administratively disable it or via member healt monitor,\nwhich we don't yet support. Dropping this wrong code.\nhttps://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool\n\n2) _check_monitor_options() logic was wrong - fixed it\n\n3) In pool_delete() in some coditions the external_ids\ncould be used, but not initlized. I moved it to be on the top\nof function.\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n""}, {'number': 18, 'created': '2019-10-26 11:03:24.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/77d03f6f17081e0f8c15cab0444261bc4e517055', 'message': ""Add missing unittests to OVN provider driver\n\nThis change bumps up test coverage.\nDuring writing those tests I found also a few issues:\n\n1) In method pool_update the operating_status shouldn't\nbe set with veryfing if the pool has members or not.\nThe only way of setting operating_status to OFFLINE is\nto administratively disable it or via member healt monitor,\nwhich we don't yet support. Dropping this wrong code.\nhttps://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool\n\n2) _check_monitor_options() logic was wrong - fixed it\n\n3) In pool_delete() in some coditions the external_ids\ncould be used, but not initlized. I moved it to be on the top\nof function.\n\nChange-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a\n""}]",6,674261,77d03f6f17081e0f8c15cab0444261bc4e517055,54,7,18,24791,,,0,"Add missing unittests to OVN provider driver

This change bumps up test coverage.
During writing those tests I found also a few issues:

1) In method pool_update the operating_status shouldn't
be set with veryfing if the pool has members or not.
The only way of setting operating_status to OFFLINE is
to administratively disable it or via member healt monitor,
which we don't yet support. Dropping this wrong code.
https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=create-pool-detail#create-pool

2) _check_monitor_options() logic was wrong - fixed it

3) In pool_delete() in some coditions the external_ids
could be used, but not initlized. I moved it to be on the top
of function.

Change-Id: Ib60ba2b7a958e3d55699988d9d4f2b848e5e1b5a
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/61/674261/10 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/unit/octavia/test_ovn_driver.py'],1,dc1722bf7277e442b13332fa8a5f719a0cc7f6b5,," def test_create_vip_port_exception(self): with mock.patch.object(ovn_driver, 'get_network_driver', side_effect=[RuntimeError]): self.assertRaises( exceptions.DriverError, self.driver.create_vip_port, self.loadbalancer_id, self.project_id, self.vip_dict) ",,10,0
openstack%2Fnetworking-ovn~master~I13f9213c558fc95d97052fb8b98246f1ef555120,openstack/networking-ovn,master,I13f9213c558fc95d97052fb8b98246f1ef555120,Change passed domain_name parameter value,MERGED,2019-09-26 09:57:40.000000000,2019-11-13 08:06:29.000000000,2019-11-12 04:52:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-26 09:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b277ad2730bce71754a4b447cce0fe7398bfe3c2', 'message': 'Change passed domain_name parameter value\n\nPreviously [0] passed parameter was taken from the port domain.\nIn fact it is wrong, based on what is done in ml2/ovs it should be\ntaken from neutron configuration [1].\n\n[0] https://review.opendev.org/#/c/660423\n[1] https://github.com/openstack/neutron/blob/b0a93df47637958fc3fc172f15e8593d6e9b181a/neutron/agent/linux/dhcp.py#L427\n\n(cherry picked from commit 09c21851ec0800184a7aa236accf1012fa35a62e)\n\nChange-Id: I13f9213c558fc95d97052fb8b98246f1ef555120\n'}, {'number': 2, 'created': '2019-09-26 09:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/68133e802c2a1901a267604ae50fc6c8320aa8a4', 'message': 'Change passed domain_name parameter value\n\nPreviously [0] passed parameter was taken from the port domain.\nIn fact it is wrong, based on what is done in ml2/ovs it should be\ntaken from neutron configuration [1].\n\n[0] https://review.opendev.org/#/c/660423\n[1] https://github.com/openstack/neutron/blob/b0a93df47637958fc3fc172f15e8593d6e9b181a/neutron/agent/linux/dhcp.py#L427\n\nChange-Id: I13f9213c558fc95d97052fb8b98246f1ef555120\n'}, {'number': 3, 'created': '2019-09-26 19:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c50ed7c68c45be9394ae03adc8c89dc9fad7f446', 'message': 'Change passed domain_name parameter value\n\nPreviously [0] passed parameter was taken from the port domain.\nIn fact it is wrong, based on what is done in ml2/ovs it should be\ntaken from neutron configuration [1].\n\n[0] https://review.opendev.org/#/c/660423\n[1] https://github.com/openstack/neutron/blob/b0a93df47637958fc3fc172f15e8593d6e9b181a/neutron/agent/linux/dhcp.py#L427\n\nChange-Id: I13f9213c558fc95d97052fb8b98246f1ef555120\n'}, {'number': 4, 'created': '2019-09-27 06:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7c19d5adfabbd8ca0f398442fbd91e036ccfb346', 'message': 'Change passed domain_name parameter value\n\nPreviously [0] passed parameter was taken from the port domain.\nIn fact it is wrong, based on what is done in ml2/ovs it should be\ntaken from neutron configuration [1].\n\n[0] https://review.opendev.org/#/c/660423\n[1] https://github.com/openstack/neutron/blob/b0a93df47637958fc3fc172f15e8593d6e9b181a/neutron/agent/linux/dhcp.py#L427\n\nChange-Id: I13f9213c558fc95d97052fb8b98246f1ef555120\n'}, {'number': 5, 'created': '2019-10-01 10:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ef8268edbd1d8f304b69665b4a7fdf1d48b68f14', 'message': 'Change passed domain_name parameter value\n\nPreviously [0] passed parameter was taken from the port domain.\nIn fact it is wrong, based on what is done in ml2/ovs it should be\ntaken from neutron configuration [1].\n\n[0] https://review.opendev.org/#/c/660423\n[1] https://github.com/openstack/neutron/blob/b0a93df47637958fc3fc172f15e8593d6e9b181a/neutron/agent/linux/dhcp.py#L427\n\nChange-Id: I13f9213c558fc95d97052fb8b98246f1ef555120\n'}, {'number': 6, 'created': '2019-10-31 10:23:55.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/85de4e8e44510164c58c3c2d537a201154095430', 'message': 'Change passed domain_name parameter value\n\nPreviously [0] passed parameter was taken from the port domain.\nIn fact it is wrong, based on what is done in ml2/ovs it should be\ntaken from neutron configuration [1].\n\n[0] https://review.opendev.org/#/c/660423\n[1] https://github.com/openstack/neutron/blob/b0a93df47637958fc3fc172f15e8593d6e9b181a/neutron/agent/linux/dhcp.py#L427\n\nChange-Id: I13f9213c558fc95d97052fb8b98246f1ef555120\n'}]",2,685021,85de4e8e44510164c58c3c2d537a201154095430,66,7,6,24791,,,0,"Change passed domain_name parameter value

Previously [0] passed parameter was taken from the port domain.
In fact it is wrong, based on what is done in ml2/ovs it should be
taken from neutron configuration [1].

[0] https://review.opendev.org/#/c/660423
[1] https://github.com/openstack/neutron/blob/b0a93df47637958fc3fc172f15e8593d6e9b181a/neutron/agent/linux/dhcp.py#L427

Change-Id: I13f9213c558fc95d97052fb8b98246f1ef555120
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/21/685021/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py']",3,b277ad2730bce71754a4b447cce0fe7398bfe3c2,," 'domain_name': '""%s""' % cfg.CONF.dns_domain, 'domain_name': '""%s""' % cfg.CONF.dns_domain, 'domain_name': '""%s""' % cfg.CONF.dns_domain, 'domain_name': '""%s""' % cfg.CONF.dns_domain, 'domain_name': '""%s""' % cfg.CONF.dns_domain, 'domain_name': '""%s""' % cfg.CONF.dns_domain, 'domain_name': '""%s""' % cfg.CONF.dns_domain, 'domain_name': '""%s""' % cfg.CONF.dns_domain, 'domain_name': '""%s""' % cfg.CONF.dns_domain, # Ensure that 'foo' taken from network # is not configured as domain_name. # Parameter taken from configuration # should be set instead. 'domain_name': '""%s""' % cfg.CONF.dns_domain, 'lease_time': '43200', 'mtu': '1450', 'router': '10.0.0.1', 'server_id': '10.0.0.1', 'server_mac': dhcp_mac}} self._verify_dhcp_option_row_for_port( p['port']['id'], expected_dhcp_options_rows) def test_dhcp_options_domain_name_not_set(self): ovn_config.cfg.CONF.set_override('dns_domain', '') n1 = self._make_network(self.fmt, 'n1', True) res = self._create_subnet(self.fmt, n1['network']['id'], '10.0.0.0/24') subnet = self.deserialize(self.fmt, res)['subnet'] p = self._make_port(self.fmt, n1['network']['id'], fixed_ips=[{'subnet_id': subnet['id']}]) dhcp_mac = self._get_subnet_dhcp_mac(subnet) # Make sure that domain_name is not included. expected_dhcp_options_rows = { 'cidr': '10.0.0.0/24', 'external_ids': {'subnet_id': subnet['id']}, 'options': {'dns_server': '{10.10.10.10}',"," 'domain_name': '""foo.com""',",39,4
openstack%2Fnetworking-ovn~master~I50ae263d49bb512a33c0202107d97970bcbaf6ae,openstack/networking-ovn,master,I50ae263d49bb512a33c0202107d97970bcbaf6ae,Enable InternalDNS related tests,MERGED,2019-09-25 07:51:42.000000000,2019-11-13 08:06:17.000000000,2019-11-12 13:55:03.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-25 07:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b0022c31b04a4cebeeee1dc399441c4d107d5d9c', 'message': 'Enable test_internal_dns.InternalDNSTest scenario test\n\nPreviously this test needed OVN 2.12 release.\nAs it is shipped lets enable the test.\n\nChange-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae\n'}, {'number': 2, 'created': '2019-09-26 09:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/47a7b2dc3cf8d784968bfea0e3c4830dfd884bd8', 'message': 'Enable InternalDNS related tests\n\nPreviously this test needed OVN 2.12 release.\nAs it is shipped lets enable the test.\n\nChange-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae\n'}, {'number': 3, 'created': '2019-09-26 09:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4a1f68f9a15ae1b5762a7769fcfc3ca9c4f85cb1', 'message': 'Enable InternalDNS related tests\n\nPreviously this test needed OVN 2.12 release.\nAs it is shipped lets enable the test.\n\nChange-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae\n'}, {'number': 4, 'created': '2019-09-26 19:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/31283ec298f1a7ee19cf1bd94ebf58cdaeab14c6', 'message': 'Enable InternalDNS related tests\n\nPreviously this test needed OVN 2.12 release.\nAs it is shipped lets enable the test.\n\nChange-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae\n'}, {'number': 5, 'created': '2019-09-27 06:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/49242707880fea8557d217cc61b1a45aaf84d29b', 'message': 'Enable InternalDNS related tests\n\nPreviously this test needed OVN 2.12 release.\nAs it is shipped lets enable the test.\n\nChange-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae\n'}, {'number': 6, 'created': '2019-09-27 06:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e96f1356df74ef8f545bcf03dbf95cb12297de51', 'message': 'Enable InternalDNS related tests\n\nPreviously this test needed OVN 2.12 release.\nAs it is shipped lets enable the test.\n\nThe test test_internal_dns.InternalDNSTest is configured\nto use hardcoded domain_name value [0]. So in order\nto have it passing we need to change our gates configuration\naccordingly.\n\n[0] https://github.com/openstack/neutron-tempest-plugin/blob/af04e1db7d6e5d7a2170a16a168f29bdbea42fe5/neutron_tempest_plugin/scenario/test_internal_dns.py#L75\n\nChange-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae\n'}, {'number': 7, 'created': '2019-09-30 12:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8f536de66958e27831feeddd1c24a1358ff0e01b', 'message': 'Enable InternalDNS related tests\n\nPreviously this test needed OVN 2.12 release.\nAs it is shipped lets enable the test.\n\nThe test test_internal_dns.InternalDNSTest is configured\nto use hardcoded domain_name value [0]. So in order\nto have it passing we need to change our gates configuration\naccordingly.\n\nIn addition we need to configure parameter ovn.dns_servers for\ngate, because otherwise dns_server: 127.0.0.53 will be passed\nfor VM while using Ubuntu 18.04 on gates [1].\n\nOPTION:  60 ( 12) Vendor class identifier   udhcp 1.23.2\n---------------------------------------------------------------------------\n\n  TIME: 2019-09-30 10:14:12.519\n    IP: 10.1.0.1 (fa:16:3e:23:d4:4f) > 10.1.0.3 (fa:16:3e:82:52:f4)\n    OP: 2 (BOOTPREPLY)\n HTYPE: 1 (Ethernet)\n  HLEN: 6\n  HOPS: 0\n   XID: c9c04b3a\n  SECS: 0\n FLAGS: 0\nCIADDR: 0.0.0.0\nYIADDR: 10.1.0.3\nSIADDR: 0.0.0.0\nGIADDR: 0.0.0.0\nCHADDR: fa:16:3e:82:52:f4:00:00:00:00:00:00:00:00:00:00\n SNAME: .\n FNAME: .\nOPTION:  53 (  1) DHCP message type         5 (DHCPACK)\nOPTION: 121 ( 14) Classless Static Route    20a9fea9fe0a0100  .......\n                                            02000a010001     ......\nOPTION:   6 (  4) DNS server                127.0.0.53\nOPTION:  15 ( 19) Domainname                openstackgate.local\nOPTION:  51 (  4) IP address leasetime      43200 (12h)\nOPTION:  26 (  2) Interface MTU             1342\nOPTION:   1 (  4) Subnet mask               255.255.255.240\nOPTION:   3 (  4) Routers                   10.1.0.1\nOPTION:  54 (  4) Server identifier         10.1.0.1\nOPTION:   0 (  0) pad\nOPTION:   0 (  0) pad\nOPTION:   0 (  0) pad\nOPTION:   0 (255) pad\n\n[0] https://github.com/openstack/neutron-tempest-plugin/blob/af04e1db7d6e5d7a2170a16a168f29bdbea42fe5/neutron_tempest_plugin/scenario/test_internal_dns.py#L75\n[1] https://github.com/openstack/networking-ovn/blob/0337b2e582fa96c8937794bc5a72ec744e979ad1/networking_ovn/common/ovn_client.py#L1612\nChange-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae\n'}, {'number': 8, 'created': '2019-10-01 10:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2c0fef5f882f3cb8a17200d65ba3fce6b9c48afc', 'message': 'Enable InternalDNS related tests\n\nPreviously this test needed OVN 2.12 release.\nAs it is shipped lets enable the test.\n\nThe test test_internal_dns.InternalDNSTest is configured\nto use hardcoded domain_name value [0]. So in order\nto have it passing we need to change our gates configuration\naccordingly.\n\nIn addition we need to configure parameter ovn.dns_servers for\ngate, because otherwise dns_server: 127.0.0.53 will be passed\nfor VM while using Ubuntu 18.04 on gates [1].\n\nOPTION:  60 ( 12) Vendor class identifier   udhcp 1.23.2\n---------------------------------------------------------------------------\n\n  TIME: 2019-09-30 10:14:12.519\n    IP: 10.1.0.1 (fa:16:3e:23:d4:4f) > 10.1.0.3 (fa:16:3e:82:52:f4)\n    OP: 2 (BOOTPREPLY)\n HTYPE: 1 (Ethernet)\n  HLEN: 6\n  HOPS: 0\n   XID: c9c04b3a\n  SECS: 0\n FLAGS: 0\nCIADDR: 0.0.0.0\nYIADDR: 10.1.0.3\nSIADDR: 0.0.0.0\nGIADDR: 0.0.0.0\nCHADDR: fa:16:3e:82:52:f4:00:00:00:00:00:00:00:00:00:00\n SNAME: .\n FNAME: .\nOPTION:  53 (  1) DHCP message type         5 (DHCPACK)\nOPTION: 121 ( 14) Classless Static Route    20a9fea9fe0a0100  .......\n                                            02000a010001     ......\nOPTION:   6 (  4) DNS server                127.0.0.53\nOPTION:  15 ( 19) Domainname                openstackgate.local\nOPTION:  51 (  4) IP address leasetime      43200 (12h)\nOPTION:  26 (  2) Interface MTU             1342\nOPTION:   1 (  4) Subnet mask               255.255.255.240\nOPTION:   3 (  4) Routers                   10.1.0.1\nOPTION:  54 (  4) Server identifier         10.1.0.1\nOPTION:   0 (  0) pad\nOPTION:   0 (  0) pad\nOPTION:   0 (  0) pad\nOPTION:   0 (255) pad\n\n[0] https://github.com/openstack/neutron-tempest-plugin/blob/af04e1db7d6e5d7a2170a16a168f29bdbea42fe5/neutron_tempest_plugin/scenario/test_internal_dns.py#L75\n[1] https://github.com/openstack/networking-ovn/blob/0337b2e582fa96c8937794bc5a72ec744e979ad1/networking_ovn/common/ovn_client.py#L1612\nChange-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae\n'}, {'number': 9, 'created': '2019-11-01 16:56:51.000000000', 'files': ['devstack/lib/networking-ovn', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fd50c88347e738ad4b2476b36073dd1ec372682a', 'message': 'Enable InternalDNS related tests\n\nPreviously this test needed OVN 2.12 release.\nAs it is shipped lets enable the test.\n\nThe test test_internal_dns.InternalDNSTest is configured\nto use hardcoded domain_name value [0]. So in order\nto have it passing we need to change our gates configuration\naccordingly.\n\nIn addition we need to configure parameter ovn.dns_servers for\ngate, because otherwise dns_server: 127.0.0.53 will be passed\nfor VM while using Ubuntu 18.04 on gates [1].\n\nOPTION:  60 ( 12) Vendor class identifier   udhcp 1.23.2\n---------------------------------------------------------------------------\n\n  TIME: 2019-09-30 10:14:12.519\n    IP: 10.1.0.1 (fa:16:3e:23:d4:4f) > 10.1.0.3 (fa:16:3e:82:52:f4)\n    OP: 2 (BOOTPREPLY)\n HTYPE: 1 (Ethernet)\n  HLEN: 6\n  HOPS: 0\n   XID: c9c04b3a\n  SECS: 0\n FLAGS: 0\nCIADDR: 0.0.0.0\nYIADDR: 10.1.0.3\nSIADDR: 0.0.0.0\nGIADDR: 0.0.0.0\nCHADDR: fa:16:3e:82:52:f4:00:00:00:00:00:00:00:00:00:00\n SNAME: .\n FNAME: .\nOPTION:  53 (  1) DHCP message type         5 (DHCPACK)\nOPTION: 121 ( 14) Classless Static Route    20a9fea9fe0a0100  .......\n                                            02000a010001     ......\nOPTION:   6 (  4) DNS server                127.0.0.53\nOPTION:  15 ( 19) Domainname                openstackgate.local\nOPTION:  51 (  4) IP address leasetime      43200 (12h)\nOPTION:  26 (  2) Interface MTU             1342\nOPTION:   1 (  4) Subnet mask               255.255.255.240\nOPTION:   3 (  4) Routers                   10.1.0.1\nOPTION:  54 (  4) Server identifier         10.1.0.1\nOPTION:   0 (  0) pad\nOPTION:   0 (  0) pad\nOPTION:   0 (  0) pad\nOPTION:   0 (255) pad\n\n[0] https://github.com/openstack/neutron-tempest-plugin/blob/af04e1db7d6e5d7a2170a16a168f29bdbea42fe5/neutron_tempest_plugin/scenario/test_internal_dns.py#L75\n[1] https://github.com/openstack/networking-ovn/blob/0337b2e582fa96c8937794bc5a72ec744e979ad1/networking_ovn/common/ovn_client.py#L1612\nChange-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae\n'}]",4,684548,fd50c88347e738ad4b2476b36073dd1ec372682a,52,5,9,24791,,,0,"Enable InternalDNS related tests

Previously this test needed OVN 2.12 release.
As it is shipped lets enable the test.

The test test_internal_dns.InternalDNSTest is configured
to use hardcoded domain_name value [0]. So in order
to have it passing we need to change our gates configuration
accordingly.

In addition we need to configure parameter ovn.dns_servers for
gate, because otherwise dns_server: 127.0.0.53 will be passed
for VM while using Ubuntu 18.04 on gates [1].

OPTION:  60 ( 12) Vendor class identifier   udhcp 1.23.2
---------------------------------------------------------------------------

  TIME: 2019-09-30 10:14:12.519
    IP: 10.1.0.1 (fa:16:3e:23:d4:4f) > 10.1.0.3 (fa:16:3e:82:52:f4)
    OP: 2 (BOOTPREPLY)
 HTYPE: 1 (Ethernet)
  HLEN: 6
  HOPS: 0
   XID: c9c04b3a
  SECS: 0
 FLAGS: 0
CIADDR: 0.0.0.0
YIADDR: 10.1.0.3
SIADDR: 0.0.0.0
GIADDR: 0.0.0.0
CHADDR: fa:16:3e:82:52:f4:00:00:00:00:00:00:00:00:00:00
 SNAME: .
 FNAME: .
OPTION:  53 (  1) DHCP message type         5 (DHCPACK)
OPTION: 121 ( 14) Classless Static Route    20a9fea9fe0a0100  .......
                                            02000a010001     ......
OPTION:   6 (  4) DNS server                127.0.0.53
OPTION:  15 ( 19) Domainname                openstackgate.local
OPTION:  51 (  4) IP address leasetime      43200 (12h)
OPTION:  26 (  2) Interface MTU             1342
OPTION:   1 (  4) Subnet mask               255.255.255.240
OPTION:   3 (  4) Routers                   10.1.0.1
OPTION:  54 (  4) Server identifier         10.1.0.1
OPTION:   0 (  0) pad
OPTION:   0 (  0) pad
OPTION:   0 (  0) pad
OPTION:   0 (255) pad

[0] https://github.com/openstack/neutron-tempest-plugin/blob/af04e1db7d6e5d7a2170a16a168f29bdbea42fe5/neutron_tempest_plugin/scenario/test_internal_dns.py#L75
[1] https://github.com/openstack/networking-ovn/blob/0337b2e582fa96c8937794bc5a72ec744e979ad1/networking_ovn/common/ovn_client.py#L1612
Change-Id: I50ae263d49bb512a33c0202107d97970bcbaf6ae
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/48/684548/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,b0022c31b04a4cebeeee1dc399441c4d107d5d9c,,," # TODO(mjozefcz): Remove this blacklist when OVS 2.12 will be released and # https://patchwork.ozlabs.org/patch/1102717/ merged. tempest_black_regex: ""(^neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest)"" # TODO(mjozefcz): Remove DNS related tessts when OVS 2.12 will be # released and https://patchwork.ozlabs.org/patch/1102717/ merged. (^neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest)|\",0,6
openstack%2Fmetalsmith~master~I4460755ee66b4aa0b8a651b6bd142c769d669ee2,openstack/metalsmith,master,I4460755ee66b4aa0b8a651b6bd142c769d669ee2,Stop requiring root size for whole disk images,MERGED,2019-09-26 12:44:37.000000000,2019-11-13 07:59:13.000000000,2019-11-12 23:57:59.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 12:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/6e0fe0c5b9741c809698f560c0d09cc680da18d4', 'message': '[WIP] Stop requiring root size for whole disk images\n\nThis requirement has been fixed in newer versions of ironic.\n\nChange-Id: I4460755ee66b4aa0b8a651b6bd142c769d669ee2\n'}, {'number': 2, 'created': '2019-09-26 14:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/7a70c653cde10a253d736cfe302996fa61d8e7cf', 'message': '[WIP] Stop requiring root size for whole disk images\n\nThis requirement has been fixed in newer versions of ironic.\n\nChange-Id: I4460755ee66b4aa0b8a651b6bd142c769d669ee2\n'}, {'number': 3, 'created': '2019-10-16 15:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/cab6ca3a9080bf8c01cf311bc7f0aab8d93faeaa', 'message': '[WIP] Stop requiring root size for whole disk images\n\nThis requirement has been fixed in newer versions of ironic.\n\nChange-Id: I4460755ee66b4aa0b8a651b6bd142c769d669ee2\n'}, {'number': 4, 'created': '2019-11-05 15:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/7952998c53c5de2bc804a949f8353486d4c48149', 'message': '[WIP] Stop requiring root size for whole disk images\n\nThis requirement has been fixed in newer versions of ironic.\n\nChange-Id: I4460755ee66b4aa0b8a651b6bd142c769d669ee2\n'}, {'number': 5, 'created': '2019-11-05 15:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/cca42b2c6ea719fd25069ec120c578e394aad8a2', 'message': '[WIP] Stop requiring root size for whole disk images\n\nThis requirement has been fixed in newer versions of ironic.\n\nChange-Id: I4460755ee66b4aa0b8a651b6bd142c769d669ee2\n'}, {'number': 6, 'created': '2019-11-05 17:29:49.000000000', 'files': ['releasenotes/notes/whole-disk-root-gb-bd8ee3600de9ec8d.yaml', 'metalsmith/_utils.py', 'metalsmith/test/test_sources.py', 'metalsmith/_provisioner.py', 'playbooks/integration/run.yaml', 'metalsmith/sources.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/2d801e2526f4d1dd9968a4a3e4ab6a8603e1416d', 'message': 'Stop requiring root size for whole disk images\n\nThis requirement has been fixed in newer versions of ironic.\n\nChange-Id: I4460755ee66b4aa0b8a651b6bd142c769d669ee2\n'}]",0,685061,2d801e2526f4d1dd9968a4a3e4ab6a8603e1416d,26,3,6,10239,,,0,"Stop requiring root size for whole disk images

This requirement has been fixed in newer versions of ironic.

Change-Id: I4460755ee66b4aa0b8a651b6bd142c769d669ee2
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/61/685061/6 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/_utils.py', '.zuul.yaml', 'metalsmith/_provisioner.py', 'playbooks/integration/run.yaml', 'metalsmith/sources.py']",5,6e0fe0c5b9741c809698f560c0d09cc680da18d4,root-size," def _validate(self, connection, root_size_gb): def _validate(self, connection, root_size_gb): if (root_size_gb is None and any(getattr(self._image_obj, x, None) is not None for x in ('kernel_id', 'ramdisk_id'))): raise exceptions.UnknownRootDiskSize( 'Partition images require root partition size') def _node_updates(self, connection): def _validate(self, connection, root_size_gb): def _validate(self, connection, root_size_gb): super(HttpPartitionImage, self)._validate(connection, root_size_gb) if root_size_gb is None: raise exceptions.UnknownRootDiskSize( 'Partition images require root partition size') def _validate(self, connection, root_size_gb): super(FilePartitionImage, self)._validate(connection, root_size_gb) if root_size_gb is None: raise exceptions.UnknownRootDiskSize( 'Partition images require root partition size') "," def _validate(self, connection): def _validate(self, connection): def _node_updates(self, connection): self._validate(connection) def _validate(self, connection): self._validate(connection)",30,12
openstack%2Frequirements~master~Ib841f1d6a683eff4836bfeeb73678199745a3a2f,openstack/requirements,master,Ib841f1d6a683eff4836bfeeb73678199745a3a2f,Update check-requirements for py3,MERGED,2019-11-09 20:57:56.000000000,2019-11-13 07:58:26.000000000,2019-11-13 07:56:57.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-09 20:57:56.000000000', 'files': ['playbooks/files/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/50f69d5296626fe9b8a3c87b4c6dc716a1216a86', 'message': 'Update check-requirements for py3\n\nThis updates the virtual environment handling to assume it is running\nwith Python 3.7 instead of 2.7. It also updates the virtualenv detection\nto recognize if it is running python from a virtualenv without the\nvirtualenv actually being activated.\n\nChange-Id: Ib841f1d6a683eff4836bfeeb73678199745a3a2f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,693616,50f69d5296626fe9b8a3c87b4c6dc716a1216a86,11,5,1,11904,,,0,"Update check-requirements for py3

This updates the virtual environment handling to assume it is running
with Python 3.7 instead of 2.7. It also updates the virtualenv detection
to recognize if it is running python from a virtualenv without the
virtualenv actually being activated.

Change-Id: Ib841f1d6a683eff4836bfeeb73678199745a3a2f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/693616/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/files/project-requirements-change.py'],1,50f69d5296626fe9b8a3c87b4c6dc716a1216a86,py3venv," """"""This makes sure a virtualenv is used before attempting to import."""""" if os.environ.get('VIRTUAL_ENV') or hasattr(sys, 'real_prefix'): version = sys.version_info req_pip = os.path.join(req_venv, 'bin/pip3') req_lib = os.path.join( req_venv, 'lib/python%s.%s/site-packages' % (version[0], version[1])) _, _ = run_command(""virtualenv "" + req_venv) _, _ = run_command(req_pip + "" install "" + reqdir)"," if os.environ.get('VIRTUAL_ENV'): req_pip = os.path.join(req_venv, 'bin/pip') req_lib = os.path.join(req_venv, 'lib/python2.7/site-packages') out, err = run_command(""virtualenv "" + req_venv) out, err = run_command(req_pip + "" install "" + reqdir)",9,5
openstack%2Foctavia-tempest-plugin~master~I34851555b04c2b9de41e635a682435db87b1a2a9,openstack/octavia-tempest-plugin,master,I34851555b04c2b9de41e635a682435db87b1a2a9,Do not use unsupported field filter in testing,ABANDONED,2019-11-06 15:56:42.000000000,2019-11-13 07:57:04.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26106}]","[{'number': 1, 'created': '2019-11-06 15:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1f56696744ea758b561a85bebba227aa6626fc45', 'message': 'Do not use unsupported field filter in testing\n\n    Flavor capabilities does not support\n    filters (eg. name=test).\n    Remove relying on this filter and allow the test\n    to pass in more diverse environments.\n\n    Change-Id: I6205856b1a5056551b69c44dff061042bbeea79f\n\nChange-Id: I34851555b04c2b9de41e635a682435db87b1a2a9\n'}, {'number': 2, 'created': '2019-11-06 15:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f4778ac0e6d0333b53baa3898c64ea1f71c65f84', 'message': 'Do not use unsupported field filter in testing\n\nFlavor capabilities does not support\nfilters (eg. name=test).\nRemove relying on this filter and allow the test\nto pass in more diverse environments.\n\nChange-Id: I34851555b04c2b9de41e635a682435db87b1a2a9\n'}, {'number': 3, 'created': '2019-11-06 16:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3126f2ccd04808d9ae022918efa0eaf17ea79aec', 'message': 'Do not use unsupported field filter in testing\n\nFlavor capabilities does not support\nfilters (eg. name=test).\nRemove relying on this filter and allow the test\nto pass in more diverse environments.\n\nCloses-Bug: #2006817\nChange-Id: I34851555b04c2b9de41e635a682435db87b1a2a9\n'}, {'number': 4, 'created': '2019-11-06 16:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/af286e7c86b7f71f1d4d09464769362b71c48255', 'message': 'Do not use unsupported field filter in testing\n\nFlavor capabilities does not support\nfilters (eg. name=test).\nRemove relying on this filter and allow the test\nto pass in more diverse environments.\n\nStory: 2006817\nTask: 37377\nChange-Id: I34851555b04c2b9de41e635a682435db87b1a2a9\n'}, {'number': 5, 'created': '2019-11-07 10:11:25.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_flavor_capabilities.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5bda4823882682db1c087fa70688638aacf2a3e0', 'message': 'Do not use unsupported field filter in testing\n\nFlavor capabilities does not support\nfilters (eg. name=test).\nRemove relying on this filter and allow the test\nto pass in more diverse environments.\n\nStory: 2006817\nTask: 37377\nChange-Id: I34851555b04c2b9de41e635a682435db87b1a2a9\n'}]",0,693207,5bda4823882682db1c087fa70688638aacf2a3e0,15,3,5,26106,,,0,"Do not use unsupported field filter in testing

Flavor capabilities does not support
filters (eg. name=test).
Remove relying on this filter and allow the test
to pass in more diverse environments.

Story: 2006817
Task: 37377
Change-Id: I34851555b04c2b9de41e635a682435db87b1a2a9
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/07/693207/4 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/api/v2/test_flavor_capabilities.py'],1,1f56696744ea758b561a85bebba227aa6626fc45,," query_params='{fields}={field}'.format( fields=const.FIELDS, field=const.NAME)) for capability in capabilities: self.assertEqual(1, len(capability)) names = [cap['name'] for cap in capabilities] self.assertIn(expected_description, names) query_params='{fields}={field}'.format( fields=const.FIELDS, field=const.DESCRIPTION)) for capability in capabilities: self.assertEqual(1, len(capability)) descriptions = [cap['description'] for cap in capabilities] self.assertIn(expected_description, descriptions)"," query_params='{fields}={field}&{field}={exp_name}'.format( fields=const.FIELDS, field=const.NAME, exp_name=expected_name)) self.assertEqual(1, len(capabilities[0])) self.assertEqual(expected_name, capabilities[0][const.NAME]) query_params='{fields}={field}&{name}={exp_name}'.format( fields=const.FIELDS, field=const.DESCRIPTION, name=const.NAME, exp_name=expected_name)) self.assertEqual(1, len(capabilities[0])) self.assertEqual(expected_description, capabilities[0][const.DESCRIPTION])",12,10
openstack%2Frequirements~master~I0b77859eea4d2841ba148623b5bca7d1d165c89b,openstack/requirements,master,I0b77859eea4d2841ba148623b5bca7d1d165c89b,Handle relative paths for local check-requirements,MERGED,2019-11-09 20:57:56.000000000,2019-11-13 07:40:14.000000000,2019-11-13 07:38:38.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-09 20:57:56.000000000', 'files': ['playbooks/files/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ca652db8e871871124c3fa7fab666f2835907bfa', 'message': 'Handle relative paths for local check-requirements\n\nExisting handling was looking for the local path by moving up the\ndirectory chain. With a relative path this would result in an empty\nstring for the requirements directory, then fail to find fail to find\nfiles in the system root.\n\nChange-Id: I0b77859eea4d2841ba148623b5bca7d1d165c89b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,693615,ca652db8e871871124c3fa7fab666f2835907bfa,17,5,1,11904,,,0,"Handle relative paths for local check-requirements

Existing handling was looking for the local path by moving up the
directory chain. With a relative path this would result in an empty
string for the requirements directory, then fail to find fail to find
files in the system root.

Change-Id: I0b77859eea4d2841ba148623b5bca7d1d165c89b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/693615/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/files/project-requirements-change.py'],1,ca652db8e871871124c3fa7fab666f2835907bfa,py3venv, os.path.dirname( os.path.abspath(sys.argv[0])))) os.chdir(args.src_dir), os.chdir(args.src_dir) os.path.dirname(sys.argv[0]))),3,2
openstack%2Ftacker~master~I76424f64b2e436da05f9871adfa11b8bef9a3939,openstack/tacker,master,I76424f64b2e436da05f9871adfa11b8bef9a3939,Fix bytestring bugs in Python3.7 unittest,MERGED,2019-10-10 08:06:37.000000000,2019-11-13 07:25:49.000000000,2019-11-13 07:24:16.000000000,"[{'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31072}]","[{'number': 1, 'created': '2019-10-10 08:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/82ab1fdce578044a52bc5c484edab95bfc135fcd', 'message': 'Fix bytestring bugs in Python3.7 unittest\n\nThis patch fix bugs regarding bytestring ""mgmt_ip_address"" and\nassertion test for bytestring ""req.body"".\n\nChange-Id: I76424f64b2e436da05f9871adfa11b8bef9a3939\n'}, {'number': 2, 'created': '2019-11-01 08:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/da18d98e5a3d2f72784a96e8380afa7f8e27a3ea', 'message': 'Fix bytestring bugs in Python3.7 unittest\n\nThis patch fix bugs regarding bytestring ""mgmt_ip_address"" and\nassertion test for bytestring ""req.body"".\n\nChange-Id: I76424f64b2e436da05f9871adfa11b8bef9a3939\n'}, {'number': 3, 'created': '2019-11-05 03:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fbb5d91ff05e18ee0f69c5f0dbdfb40d42de52d5', 'message': 'Fix bytestring bugs in Python3.7 unittest\n\nThis patch fix bugs regarding bytestring ""mgmt_ip_address"" and\nassertion test for bytestring ""req.body"".\n\nChange-Id: I76424f64b2e436da05f9871adfa11b8bef9a3939\n'}, {'number': 4, 'created': '2019-11-13 01:21:47.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/unit/test_alarm_receiver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/86cfa2afa4d4b821a57dd690b2f200e89888717b', 'message': 'Fix bytestring bugs in Python3.7 unittest\n\nThis patch fix bugs regarding bytestring ""mgmt_ip_address"" and\nassertion test for bytestring ""req.body"".\n\nChange-Id: I76424f64b2e436da05f9871adfa11b8bef9a3939\n'}]",3,687818,86cfa2afa4d4b821a57dd690b2f200e89888717b,20,6,4,27180,,,0,"Fix bytestring bugs in Python3.7 unittest

This patch fix bugs regarding bytestring ""mgmt_ip_address"" and
assertion test for bytestring ""req.body"".

Change-Id: I76424f64b2e436da05f9871adfa11b8bef9a3939
",git fetch https://review.opendev.org/openstack/tacker refs/changes/18/687818/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/test_alarm_receiver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py']",2,82ab1fdce578044a52bc5c484edab95bfc135fcd,python3-first, vnf_dict['mgmt_ip_address'] = jsonutils.dumps(mgmt_ips) vnf_dict['mgmt_ip_address'] = jsonutils.dumps(mgmt_ips) vnf_dict['mgmt_ip_address'] = jsonutils.dumps(mgmt_ips) return jsonutils.dumps(mgmt_ips), vnf_dict['mgmt_ip_address'] = jsonutils.dump_as_bytes(mgmt_ips) vnf_dict['mgmt_ip_address'] = jsonutils.dump_as_bytes(mgmt_ips) vnf_dict['mgmt_ip_address'] = jsonutils.dump_as_bytes(mgmt_ips) return jsonutils.dump_as_bytes(mgmt_ips),5,5
openstack%2Fbifrost~master~Ib2ced2c9970d45c8b9a2fa6be036f26f9b792e6b,openstack/bifrost,master,Ib2ced2c9970d45c8b9a2fa6be036f26f9b792e6b,Use master branch for ipa builder,MERGED,2019-11-12 08:25:57.000000000,2019-11-13 07:23:37.000000000,2019-11-12 17:09:50.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-12 08:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/bba23806e4451477166e49f05c564ba5a43db109', 'message': 'Use master branch for ipa builder\n\nipa builder repo has no stable branches\n\nNeeds backporting to Train to fix the issue.\nIt does not affect master because it matches the branch.\n\nChange-Id: Ib2ced2c9970d45c8b9a2fa6be036f26f9b792e6b\nStory: 2006836\nTask: 37411\n'}, {'number': 2, 'created': '2019-11-12 08:31:40.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/66ef0f105c8d06bb794927f2c43a1717b7195afa', 'message': 'Use master branch for ipa builder\n\nipa builder repo has no stable branches\n\nNeeds backporting to Train to fix the issue.\nIt does not affect master because it matches the branch.\n\nThis did not affect CI because it provided its own repos.\n\nChange-Id: Ib2ced2c9970d45c8b9a2fa6be036f26f9b792e6b\nStory: 2006836\nTask: 37411\n'}]",0,693781,66ef0f105c8d06bb794927f2c43a1717b7195afa,17,7,2,30491,,,0,"Use master branch for ipa builder

ipa builder repo has no stable branches

Needs backporting to Train to fix the issue.
It does not affect master because it matches the branch.

This did not affect CI because it provided its own repos.

Change-Id: Ib2ced2c9970d45c8b9a2fa6be036f26f9b792e6b
Story: 2006836
Task: 37411
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/81/693781/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-prep-for-install/defaults/main.yml'],1,bba23806e4451477166e49f05c564ba5a43db109,story/2006836,ipa_builder_git_branch: master,"ipa_builder_git_branch: ""{{ git_branch }}""",1,1
openstack%2Fbifrost~master~I36a0e31ecba1dc9d5eec1d2338dc752467be5ac0,openstack/bifrost,master,I36a0e31ecba1dc9d5eec1d2338dc752467be5ac0,Fix install-deps.sh failing on bare CentOS 7 due to old pip,MERGED,2019-11-11 17:49:52.000000000,2019-11-13 07:23:18.000000000,2019-11-12 17:17:19.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-11 17:49:52.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c5745daf004e3c8e40a6cd22ff407e79cc529dc9', 'message': 'Fix install-deps.sh failing on bare CentOS 7 due to old pip\n\nThis change upgrades pip instead of just ensuring it meets\nthe lowest version constraint.\n\nThis is in line with the setuptools being upgraded just below.\n\nThis did not affect CI because it provided its own pip.\n\nChange-Id: I36a0e31ecba1dc9d5eec1d2338dc752467be5ac0\nStory: 2006833\nTask: 37406\n'}]",0,693737,c5745daf004e3c8e40a6cd22ff407e79cc529dc9,15,7,1,30491,,,0,"Fix install-deps.sh failing on bare CentOS 7 due to old pip

This change upgrades pip instead of just ensuring it meets
the lowest version constraint.

This is in line with the setuptools being upgraded just below.

This did not affect CI because it provided its own pip.

Change-Id: I36a0e31ecba1dc9d5eec1d2338dc752467be5ac0
Story: 2006833
Task: 37406
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/37/693737/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,c5745daf004e3c8e40a6cd22ff407e79cc529dc9,story/2006833,"sudo -H -E ${PIP} install --upgrade ""pip>6.0""","sudo -H -E ${PIP} install ""pip>6.0""",1,1
openstack%2Fcharm-ceilometer~master~I56579368173c6a269fcbad897649f92001cf539e,openstack/charm-ceilometer,master,I56579368173c6a269fcbad897649f92001cf539e,Reload systemd when configuring SSL for Newton.,MERGED,2019-11-11 13:09:40.000000000,2019-11-13 07:14:21.000000000,2019-11-13 07:14:20.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-11 13:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/8b651783abcb2dd9de3274b3b1fc764ca57e52c9', 'message': 'Reload systemd when configuring SSL for Newton.\n\nAt Newton when the certificates relation is joined the ceilometer-api\nsystemd override file is written with an updated port but systemd is\nnot reloaded. This causes ceilometer-api to bind to the wrong port\nwhich fails since it is already in use.\n\nChange-Id: I56579368173c6a269fcbad897649f92001cf539e\nCloses-Bug: #1852050\n'}, {'number': 2, 'created': '2019-11-12 14:51:14.000000000', 'files': ['hooks/ceilometer_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/f6206f9c6300466ff0f7de0135199ff84fd98f6c', 'message': 'Reload systemd when configuring SSL for Newton.\n\nAt Newton when the certificates relation is joined the ceilometer-api\nsystemd override file is written with an updated port but systemd is\nnot reloaded. This causes ceilometer-api to bind to the wrong port\nwhich fails since it is already in use.\n\nChange-Id: I56579368173c6a269fcbad897649f92001cf539e\nCloses-Bug: #1852050\n'}]",0,693693,f6206f9c6300466ff0f7de0135199ff84fd98f6c,14,4,2,12549,,,0,"Reload systemd when configuring SSL for Newton.

At Newton when the certificates relation is joined the ceilometer-api
systemd override file is written with an updated port but systemd is
not reloaded. This causes ceilometer-api to bind to the wrong port
which fails since it is already in use.

Change-Id: I56579368173c6a269fcbad897649f92001cf539e
Closes-Bug: #1852050
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/93/693693/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceilometer_hooks.py'],1,8b651783abcb2dd9de3274b3b1fc764ca57e52c9,bug/1852050, if (cmp_codename <= 'newton' and CEILOMETER_API_SYSTEMD_CONF in restart_map()): reload_systemd(),,3,0
openstack%2Fos-net-config~stable%2Fstein~I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,openstack/os-net-config,stable/stein,I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,Cleanup the sriov_numvfs config scripts,MERGED,2019-11-12 05:17:25.000000000,2019-11-13 07:14:13.000000000,2019-11-13 07:14:13.000000000,"[{'_account_id': 7144}, {'_account_id': 17130}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 05:17:25.000000000', 'files': ['os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/852b07512a0c78ca3d821a702477fd98e4686788', 'message': 'Cleanup the sriov_numvfs config scripts\n\nClean\n    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules\n    2) /sbin/ifup-local\n    3) /etc/sysconfig/allocate_vfs\nCreate /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs\n\nChange-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863\n(cherry picked from commit fb296079eba18b232959ca8e1bc109f3ca091b4f)\n'}]",0,693769,852b07512a0c78ca3d821a702477fd98e4686788,12,6,1,18904,,,0,"Cleanup the sriov_numvfs config scripts

Clean
    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules
    2) /sbin/ifup-local
    3) /etc/sysconfig/allocate_vfs
Create /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs

Change-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863
(cherry picked from commit fb296079eba18b232959ca8e1bc109f3ca091b4f)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/69/693769/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/sriov_config.py'],1,852b07512a0c78ca3d821a702477fd98e4686788,cleanup-stable/stein,"_UDEV_LEGACY_RULE_FILE = '/etc/udev/rules.d/70-os-net-config-sriov.rules' _IFUP_LOCAL_FILE = '/sbin/ifup-local'def cleanup_puppet_config(): file_contents = """" if os.path.exists('/etc/udev/rules.d/70-tripleo-reset-sriov.rules'): os.remove('/etc/udev/rules.d/70-tripleo-reset-sriov.rules') if os.path.exists('/etc/sysconfig/allocate_vfs'): os.remove('/etc/sysconfig/allocate_vfs') if os.path.exists(_IFUP_LOCAL_FILE): # Remove the invocation of allocate_vfs script generated by puppet # After the removal of allocate_vfs, if the ifup-local file has just # ""#!/bin/bash"" left, then remove the file as well. with open(_IFUP_LOCAL_FILE) as oldfile: for line in oldfile: if ""/etc/sysconfig/allocate_vfs"" not in line: file_contents = file_contents + line if file_contents.strip() == ""#!/bin/bash"": os.remove(_IFUP_LOCAL_FILE) else: with open(_IFUP_LOCAL_FILE, 'w') as newfile: newfile.write(file_contents) # Cleanup the previous config by puppet-tripleo cleanup_puppet_config() if item.get('link_mode') == ""legacy"": # Add a udev rule to configure the VF's when PF's are # released by a guest add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs'])def _write_numvfs(device_name, numvfs): sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, device_name, ""device/sriov_numvfs"") curr_numvfs = get_numvfs(device_name) if curr_numvfs != 0: logger.info(""Numvfs already configured for %s"" % device_name) return try: with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % numvfs) except IOError as exc: msg = (""Unable to configure pf: %s with numvfs: %d\n%s"" % (device_name, numvfs, exc)) raise SRIOVNumvfsException(msg) def add_udev_rule_for_legacy_sriov_pf(pf_name, numvfs): logger.info(""adding udev rules for %s"" % (pf_name)) udev_line = 'KERNEL==""%s"", '\ 'RUN+=""/bin/os-net-config-sriov -n %%k:%d""' \ % (pf_name, numvfs) return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE) parser.add_argument( '-n', '--numvfs', dest=""numvfs"", action='store', help=""Provide the numvfs for device in the format <device>:<numvfs>"", required=False) if opts.numvfs: if re.match(""^\w+:\d+$"", opts.numvfs): device_name, numvfs = opts.numvfs.split(':') _write_numvfs(device_name, int(numvfs)) else: logging.error(""Invalid arguments for --numvfs %s"" % opts.numvfs) else: # Configure the PF's configure_sriov_pf() # Configure the VFs configure_sriov_vf()", # Configure the PF's configure_sriov_pf() # Configure the VFs configure_sriov_vf(),76,4
openstack%2Fgovernance~master~Id564c949b003f0f498151dc91846ab2d0a2001ee,openstack/governance,master,Id564c949b003f0f498151dc91846ab2d0a2001ee,Unretire api-site,MERGED,2019-10-25 07:03:47.000000000,2019-11-13 06:58:15.000000000,2019-11-13 06:57:02.000000000,"[{'_account_id': 308}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 10607}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 07:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f905e0bf53a10ff00f9b4849ef51f0c6615a2f56', 'message': 'Unretire api-site\n\nThe api-site hosts *only* the index page for\nhttps://developer.openstack.org, all other content in it has been\ndeleted or moved.\n\nWe need to maintain the index page for developer.openstack.org, so\nun-retire the repository and add it to the Documentation team.\n\nChange-Id: Id564c949b003f0f498151dc91846ab2d0a2001ee\n'}, {'number': 2, 'created': '2019-10-25 09:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7bd526b1086623e63dd9c5b558a5c2a9532e2da8', 'message': 'Unretire api-site\n\nThe api-site hosts *only* the index page for\nhttps://developer.openstack.org, all other content in it has been\ndeleted or moved.\n\nWe need to maintain the repo for the following reasons:\n* Host the index page in an OpenStack owned repo\n* Host the redirects for all the API documentation. The docs itself\n  were moved this year to docs.openstack.org but lots of older\n  (stein and earlier releases) documentation and code have links\n  to developer.openstack.org, so those redirects are important.\n\nUn-retire the repository and add it to the Documentation team, the team\ncan maintain it even if it becomes a SIG.\n\nChange-Id: Id564c949b003f0f498151dc91846ab2d0a2001ee\n'}, {'number': 3, 'created': '2019-10-25 09:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c477fb887f9b98cbd8f6872923beeda41eb03d54', 'message': 'Unretire api-site\n\nThe api-site hosts *only* the index page for\nhttps://developer.openstack.org, all other content in it has been\ndeleted or moved.\n\nWe need to maintain the repo for the following reasons:\n* Host the index page in an OpenStack owned repo\n* Host the redirects for all the API documentation. The docs itself\n  were moved this year to docs.openstack.org but lots of older\n  (stein and earlier releases) documentation and code have links\n  to developer.openstack.org, so those redirects are important.\n\nUn-retire the repository and add it to the Documentation team\n(technical-writing SIG), sort the deliverables of the SIG\nalphabetically.\n\nChange-Id: Id564c949b003f0f498151dc91846ab2d0a2001ee\n'}, {'number': 4, 'created': '2019-10-25 09:41:42.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/ecd8519ff0843801d21142d2e885813abd62fe84', 'message': 'Unretire api-site\n\nThe api-site hosts *only* the index page for\nhttps://developer.openstack.org, all other content in it has been\ndeleted or moved.\n\nWe need to maintain the repo for the following reasons:\n* Host the index page in an OpenStack owned repo\n* Host the redirects for all the API documentation. The docs itself\n  were moved this year to docs.openstack.org but lots of older\n  (Stein and earlier releases) documentation and code have links\n  to developer.openstack.org, so those redirects are important.\n\nUn-retire the repository and add it to the Documentation team, the team\ncan maintain it even if it becomes a SIG.\n\nChange-Id: Id564c949b003f0f498151dc91846ab2d0a2001ee\n'}]",0,691228,ecd8519ff0843801d21142d2e885813abd62fe84,21,6,4,6547,,,0,"Unretire api-site

The api-site hosts *only* the index page for
https://developer.openstack.org, all other content in it has been
deleted or moved.

We need to maintain the repo for the following reasons:
* Host the index page in an OpenStack owned repo
* Host the redirects for all the API documentation. The docs itself
  were moved this year to docs.openstack.org but lots of older
  (Stein and earlier releases) documentation and code have links
  to developer.openstack.org, so those redirects are important.

Un-retire the repository and add it to the Documentation team, the team
can maintain it even if it becomes a SIG.

Change-Id: Id564c949b003f0f498151dc91846ab2d0a2001ee
",git fetch https://review.opendev.org/openstack/governance refs/changes/28/691228/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,f905e0bf53a10ff00f9b4849ef51f0c6615a2f56,project-update, api-site: release-management: none repos: - openstack/api-site,,6,5
openstack%2Ftripleo-heat-templates~master~Ia4e991d5d937031ac3312f639b726a944743dd1e,openstack/tripleo-heat-templates,master,Ia4e991d5d937031ac3312f639b726a944743dd1e,Drop legacy log folder and readme,MERGED,2019-11-04 16:20:32.000000000,2019-11-13 05:17:57.000000000,2019-11-07 23:18:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-04 16:20:32.000000000', 'files': ['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7906fb43be72a150b5d10e0e18b21b568895b6e0', 'message': ""Drop legacy log folder and readme\n\nWe switched to containers a long time ago. This patch drops the\nmanagement of a /var/log/<service> directory and the creation of a\nreadme indicating that we've moved to containers which makes the logging\navailable under /var/log/containers/<service>\n\nChange-Id: Ia4e991d5d937031ac3312f639b726a944743dd1e\n""}]",0,692850,7906fb43be72a150b5d10e0e18b21b568895b6e0,28,5,1,14985,,,0,"Drop legacy log folder and readme

We switched to containers a long time ago. This patch drops the
management of a /var/log/<service> directory and the creation of a
readme indicating that we've moved to containers which makes the logging
available under /var/log/containers/<service>

Change-Id: Ia4e991d5d937031ac3312f639b726a944743dd1e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/692850/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",78,7906fb43be72a150b5d10e0e18b21b568895b6e0,692791,," - { 'path': /var/log/rabbitmq, 'setype': svirt_sandbox_file_t } - name: rabbitmq logs readme copy: dest: /var/log/rabbitmq/readme.txt content: | Log files from rabbitmq containers can be found under /var/log/containers/rabbitmq. ignore_errors: true",0,625
openstack%2Fos-net-config~master~I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,openstack/os-net-config,master,I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,Cleanup the sriov_numvfs config scripts,MERGED,2019-10-31 11:24:01.000000000,2019-11-13 05:16:17.000000000,2019-11-08 16:41:22.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-31 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f84d62884828bae2f6fda68fa8515d726ca0e49f', 'message': 'WIP: Cleanup the sriov_numvfs config scripts\n\nClean\n    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules\n    2) /sbin/ifup-local\n    3) /etc/sysconfig/allocate_vfs\nCreate /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs\n\nChange-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863\n'}, {'number': 2, 'created': '2019-10-31 11:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ed7eb9dce47991f010ab4dc792884c6fe2548e46', 'message': 'WIP: Cleanup the sriov_numvfs config scripts\n\nClean\n    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules\n    2) /sbin/ifup-local\n    3) /etc/sysconfig/allocate_vfs\nCreate /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs\n\nChange-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863\n'}, {'number': 3, 'created': '2019-11-05 08:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1f8c4e4488236ea6fab75781bb4956cb0f1ee5be', 'message': 'Cleanup the sriov_numvfs config scripts\n\nClean\n    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules\n    2) /sbin/ifup-local\n    3) /etc/sysconfig/allocate_vfs\nCreate /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs\n\nChange-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863\n'}, {'number': 4, 'created': '2019-11-06 05:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e4e0e0de65cf57ed48cf65471a9f7fa173ffbb34', 'message': 'Cleanup the sriov_numvfs config scripts\n\nClean\n    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules\n    2) /sbin/ifup-local\n    3) /etc/sysconfig/allocate_vfs\nCreate /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs\n\nChange-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863\n'}, {'number': 5, 'created': '2019-11-07 15:22:13.000000000', 'files': ['os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/fb296079eba18b232959ca8e1bc109f3ca091b4f', 'message': 'Cleanup the sriov_numvfs config scripts\n\nClean\n    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules\n    2) /sbin/ifup-local\n    3) /etc/sysconfig/allocate_vfs\nCreate /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs\n\nChange-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863\n'}]",10,692338,fb296079eba18b232959ca8e1bc109f3ca091b4f,31,6,5,18904,,,0,"Cleanup the sriov_numvfs config scripts

Clean
    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules
    2) /sbin/ifup-local
    3) /etc/sysconfig/allocate_vfs
Create /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs

Change-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/38/692338/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/sriov_config.py'],1,f84d62884828bae2f6fda68fa8515d726ca0e49f,cleanup,"_UDEV_LEGACY_RULE_FILE = '/etc/udev/rules.d/70-os-net-config-sriov.rules' if item.get('link_mode') == ""legacy"": # Add a udev rule to configure the VF's when PF's are # released by a guest trigger_udev_rule = add_udev_rule_for_legacy_sriov_pf( item['name'], item['numvfs']) or trigger_udev_ruledef add_udev_rule_for_legacy_sriov_pf(pf_name, numvfs): logger.info(""adding udev rules for %s"" % (pf_name)) udev_line = 'KERNEL==""%s"", '\ 'RUN+=""echo %d > /sys/class/net/%%k/device/sriov_numvfs""' \ % (pf_name, numvfs) return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE) def cleanup_puppet_config(): file_contents = """" if os.path.exists('/etc/udev/rules.d/70-tripleo-reset-sriov.rules'): os.remove('/etc/udev/rules.d/70-tripleo-reset-sriov.rules') if os.path.exists('/etc/sysconfig/allocate_vfs'): os.remove('/etc/sysconfig/allocate_vfs') if os.path.exists('/sbin/ifup-local'): with open('/sbin/ifup-local') as oldfile: for line in oldfile: if ""/etc/sysconfig/allocate_vfs"" not in line: file_contents = file_contents + line logger.info(""FileCont : %s"" % file_contents) if file_contents.strip() == ""#!/bin/bash"": logger.info(""Bin bash matched"") os.remove(""/sbin/ifup-local"") else: logger.info(""Bin bash did not match, %s"" % file_contents) with open('/sbin/ifup-local', 'w') as newfile: newfile.write(file_contents) # Cleanup the previous config by puppet-tripleo cleanup_puppet_config()",,37,0
openstack%2Fos-net-config~stable%2Ftrain~I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,openstack/os-net-config,stable/train,I17c8ef03501de75f0e3f7fb6c06be3478b1b5863,Cleanup the sriov_numvfs config scripts,MERGED,2019-11-12 05:07:40.000000000,2019-11-13 04:40:24.000000000,2019-11-13 04:39:21.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 05:07:40.000000000', 'files': ['os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5dd7d9d8098ec9b1e4295d0c657766b3931e14ae', 'message': 'Cleanup the sriov_numvfs config scripts\n\nClean\n    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules\n    2) /sbin/ifup-local\n    3) /etc/sysconfig/allocate_vfs\nCreate /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs\n\nChange-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863\n(cherry picked from commit fb296079eba18b232959ca8e1bc109f3ca091b4f)\n'}]",0,693768,5dd7d9d8098ec9b1e4295d0c657766b3931e14ae,11,6,1,18904,,,0,"Cleanup the sriov_numvfs config scripts

Clean
    1) /etc/udev/rules.d/70-tripleo-reset-sriov.rules
    2) /sbin/ifup-local
    3) /etc/sysconfig/allocate_vfs
Create /etc/udev/rules.d/70-os-net-config-sriov.rules for legacy PFs

Change-Id: I17c8ef03501de75f0e3f7fb6c06be3478b1b5863
(cherry picked from commit fb296079eba18b232959ca8e1bc109f3ca091b4f)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/68/693768/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/sriov_config.py'],1,5dd7d9d8098ec9b1e4295d0c657766b3931e14ae,cleanup-stable/train,"_UDEV_LEGACY_RULE_FILE = '/etc/udev/rules.d/70-os-net-config-sriov.rules' _IFUP_LOCAL_FILE = '/sbin/ifup-local'def cleanup_puppet_config(): file_contents = """" if os.path.exists('/etc/udev/rules.d/70-tripleo-reset-sriov.rules'): os.remove('/etc/udev/rules.d/70-tripleo-reset-sriov.rules') if os.path.exists('/etc/sysconfig/allocate_vfs'): os.remove('/etc/sysconfig/allocate_vfs') if os.path.exists(_IFUP_LOCAL_FILE): # Remove the invocation of allocate_vfs script generated by puppet # After the removal of allocate_vfs, if the ifup-local file has just # ""#!/bin/bash"" left, then remove the file as well. with open(_IFUP_LOCAL_FILE) as oldfile: for line in oldfile: if ""/etc/sysconfig/allocate_vfs"" not in line: file_contents = file_contents + line if file_contents.strip() == ""#!/bin/bash"": os.remove(_IFUP_LOCAL_FILE) else: with open(_IFUP_LOCAL_FILE, 'w') as newfile: newfile.write(file_contents) # Cleanup the previous config by puppet-tripleo cleanup_puppet_config() if item.get('link_mode') == ""legacy"": # Add a udev rule to configure the VF's when PF's are # released by a guest add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs'])def _write_numvfs(device_name, numvfs): sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, device_name, ""device/sriov_numvfs"") curr_numvfs = get_numvfs(device_name) if curr_numvfs != 0: logger.info(""Numvfs already configured for %s"" % device_name) return try: with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % numvfs) except IOError as exc: msg = (""Unable to configure pf: %s with numvfs: %d\n%s"" % (device_name, numvfs, exc)) raise SRIOVNumvfsException(msg) def add_udev_rule_for_legacy_sriov_pf(pf_name, numvfs): logger.info(""adding udev rules for %s"" % (pf_name)) udev_line = 'KERNEL==""%s"", '\ 'RUN+=""/bin/os-net-config-sriov -n %%k:%d""' \ % (pf_name, numvfs) return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE) parser.add_argument( '-n', '--numvfs', dest=""numvfs"", action='store', help=""Provide the numvfs for device in the format <device>:<numvfs>"", required=False) if opts.numvfs: if re.match(""^\w+:\d+$"", opts.numvfs): device_name, numvfs = opts.numvfs.split(':') _write_numvfs(device_name, int(numvfs)) else: logging.error(""Invalid arguments for --numvfs %s"" % opts.numvfs) else: # Configure the PF's configure_sriov_pf() # Configure the VFs configure_sriov_vf()", # Configure the PF's configure_sriov_pf() # Configure the VFs configure_sriov_vf(),76,4
openstack%2Ftripleo-heat-templates~master~Id1b449cc260320879e3d08d60d3cc15aa95e7780,openstack/tripleo-heat-templates,master,Id1b449cc260320879e3d08d60d3cc15aa95e7780,Use ansible role to create puppet cache,MERGED,2019-11-11 22:59:32.000000000,2019-11-13 04:39:20.000000000,2019-11-13 04:39:19.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-11 22:59:32.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9931decca07aee04220bc010a5ff39e52cb253b2', 'message': 'Use ansible role to create puppet cache\n\nChange-Id: Id1b449cc260320879e3d08d60d3cc15aa95e7780\nDepends-On: https://review.opendev.org/#/c/693755/\n'}]",0,693756,9931decca07aee04220bc010a5ff39e52cb253b2,15,5,1,14985,,,0,"Use ansible role to create puppet cache

Change-Id: Id1b449cc260320879e3d08d60d3cc15aa95e7780
Depends-On: https://review.opendev.org/#/c/693755/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/693756/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,9931decca07aee04220bc010a5ff39e52cb253b2,tripleo-puppet-cache, include_role: name: tripleo-puppet-cache," check_mode: no block: - name: Create puppet caching structures file: path: /var/lib/container-puppet/puppetlabs state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: True - name: Write facter cache config copy: dest: /var/lib/container-puppet/puppetlabs/facter.conf content: | facts : { ttls: [ { ""kernel"" : 8 hour }, { ""memory"" : 8 hour }, { ""networking"" : 8 hour }, { ""operating system"" : 8 hour }, { ""processor"" : 8 hour }, ] } setype: svirt_sandbox_file_t selevel: s0 - name: Cleanup facter cache if exists file: path: /opt/puppetlabs/facter state: absent ignore_errors: True - name: Pre-cache facts command: facter --config /var/lib/container-puppet/puppetlabs/facter.conf no_log: True ignore_errors: True - name: Sync cached facts synchronize: src: /opt/puppetlabs/ dest: /var/lib/container-puppet/puppetlabs/ delegate_to: ""{{ inventory_hostname }}""",2,38
openstack%2Fkarbor~master~I964d6fe7988a38be16a6a5f933f693a1f23a5350,openstack/karbor,master,I964d6fe7988a38be16a6a5f933f693a1f23a5350,Add unit test for quota api,ABANDONED,2019-11-12 13:43:00.000000000,2019-11-13 04:34:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-12 13:43:00.000000000', 'files': ['karbor/tests/unit/api/v1/test_quota_classes.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/1ec60f65679f1a6a4a7e3330cdebd19c5586cada', 'message': 'Add unit test for quota api\n\nChange-Id: I964d6fe7988a38be16a6a5f933f693a1f23a5350\nSigned-off-by: helei <helei@cmss.chinamobile.com>\n'}]",0,693846,1ec60f65679f1a6a4a7e3330cdebd19c5586cada,3,1,1,29579,,,0,"Add unit test for quota api

Change-Id: I964d6fe7988a38be16a6a5f933f693a1f23a5350
Signed-off-by: helei <helei@cmss.chinamobile.com>
",git fetch https://review.opendev.org/openstack/karbor refs/changes/46/693846/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/api/v1/test_quota_classes.py'],1,1ec60f65679f1a6a4a7e3330cdebd19c5586cada,,"from webob import excfrom karbor import exception 'karbor.db.sqlalchemy.api.quota_class_create') @mock.patch( 'karbor.db.sqlalchemy.api.quota_class_update') def test_quota_update_with_quota_not_found(self, mock_quota_class_update, mock_quota_class_create): body = {""quota_class"": {""plans"": 20}} req = fakes.HTTPRequest.blank( '/v1/quotas_classes/73f74f90a1754bd7ad658afb3272323f', use_admin_context=True) mock_quota_class_update.side_effect = exception.QuotaClassNotFound self.controller.update( req, '73f74f90a1754bd7ad658afb3272323f', body=body) self.assertTrue(mock_quota_class_create.called) def test_quota_update_with_not_admin_context(self): body = {""quota_class"": {""plans"": 20}} req = fakes.HTTPRequest.blank( '/v1/quota_classes/73f74f90a1754bd7ad658afb3272323f', use_admin_context=False) self.assertRaises( exc.HTTPForbidden, self.controller.update, req, ""73f74f90a1754bd7ad658afb3272323f"", body=body) def test_quota_update_with_invalid_type_value(self): body = {""quota_class"": {""plans"": ""fakevalue""}} req = fakes.HTTPRequest.blank( '/v1/quota_classes/73f74f90a1754bd7ad658afb3272323f', use_admin_context=True) self.assertRaises(exc.HTTPBadRequest, self.controller.update, req, ""73f74f90a1754bd7ad658afb3272323f"", body=body) def test_quota_update_with_invalid_num_value(self): body = {""quota_class"": {""plans"": -2}} req = fakes.HTTPRequest.blank( '/v1/quota_classes/73f74f90a1754bd7ad658afb3272323f', use_admin_context=True) self.assertRaises(exc.HTTPBadRequest, self.controller.update, req, ""73f74f90a1754bd7ad658afb3272323f"", body=body) @mock.patch( 'karbor.db.sqlalchemy.api.quota_class_update') def test_quota_update_with_invalid_key(self, mock_quota_class_update): body = {""quota_class"": {""fakekey"": 20}} req = fakes.HTTPRequest.blank( '/v1/quota_classes/73f74f90a1754bd7ad658afb3272323f', use_admin_context=True) self.controller.update( req, '73f74f90a1754bd7ad658afb3272323f', body=body) self.assertEqual(0, len(mock_quota_class_update.mock_calls)) @mock.patch( def test_quota_show_with_project_authorize_failed(self, self): req = fakes.HTTPRequest.blank( '/v1/quota_classes/73f74f90a1754bd7ad658afb3272323f', use_admin_context=False) self.assertRaises( exc.HTTPForbidden, self.controller.show, req, '73f74f90a1754bd7ad658afb3272323f') ",,63,1
openstack%2Frequirements~master~I3898cbc49c1d04d9dbbbd63329b911d84c2e242b,openstack/requirements,master,I3898cbc49c1d04d9dbbbd63329b911d84c2e242b,Remove build_docs settings from setup.cfg,MERGED,2019-11-12 12:04:02.000000000,2019-11-13 03:47:01.000000000,2019-11-13 03:45:46.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 12:04:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a7233c9c116530fe1ad44c59610d6f3d3c0613dc', 'message': 'Remove build_docs settings from setup.cfg\n\nThese settings are no longer necessary, so this cleans up the entries.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128594.html\n\nChange-Id: I3898cbc49c1d04d9dbbbd63329b911d84c2e242b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,693827,a7233c9c116530fe1ad44c59610d6f3d3c0613dc,8,3,1,11904,,,0,"Remove build_docs settings from setup.cfg

These settings are no longer necessary, so this cleans up the entries.

http://lists.openstack.org/pipermail/openstack-dev/2018-March/128594.html

Change-Id: I3898cbc49c1d04d9dbbbd63329b911d84c2e242b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/693827/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a7233c9c116530fe1ad44c59610d6f3d3c0613dc,docs-pti,,[build_sphinx] all_files = 1 build-dir = doc/build source-dir = doc/source ,0,5
openstack%2Ftripleo-common~master~I1929e1b135ed539a6da09b1ec5d2b64b6281dc47,openstack/tripleo-common,master,I1929e1b135ed539a6da09b1ec5d2b64b6281dc47,Clean up instance defaults setting,MERGED,2019-11-01 01:34:50.000000000,2019-11-13 03:46:07.000000000,2019-11-13 03:44:31.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 01:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3a19e59caa00572d30a6d3e5b338a76fad359f63', 'message': 'Clean up instance defaults setting\n\nThis change fixes a problem where an instance entry was not being\npopulated with an image specified in the defaults dict. This change\nsets up a baseline defaults dict before validating the roles, and\npopulates any instances with the defaults in-place.\n\nChange-Id: I1929e1b135ed539a6da09b1ec5d2b64b6281dc47\nBlueprint: bp/nova-less-deploy\n'}, {'number': 2, 'created': '2019-11-06 22:12:50.000000000', 'files': ['tripleo_common/actions/baremetal_deploy.py', 'tripleo_common/tests/actions/test_baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/82f3a35fdce9a9ab9a63295afabd91fa7761f60a', 'message': 'Clean up instance defaults setting\n\nThis change fixes a problem where an instance entry was not being\npopulated with an image specified in the defaults dict. This change\nsets up a baseline defaults dict before validating the roles, and\npopulates any instances with the defaults in-place.\n\nChange-Id: I1929e1b135ed539a6da09b1ec5d2b64b6281dc47\nBlueprint: nova-less-deploy\nCloses-Bug: 1851575\n'}]",0,692477,82f3a35fdce9a9ab9a63295afabd91fa7761f60a,17,5,2,4571,,,0,"Clean up instance defaults setting

This change fixes a problem where an instance entry was not being
populated with an image specified in the defaults dict. This change
sets up a baseline defaults dict before validating the roles, and
populates any instances with the defaults in-place.

Change-Id: I1929e1b135ed539a6da09b1ec5d2b64b6281dc47
Blueprint: nova-less-deploy
Closes-Bug: 1851575
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/692477/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/baremetal_deploy.py', 'tripleo_common/tests/actions/test_baremetal_deploy.py']",2,3a19e59caa00572d30a6d3e5b338a76fad359f63,bp/nova-less-deploy," def test_image_in_defaults(self): roles = [{ 'name': 'Controller', 'defaults': { 'image': { 'href': 'file:///tmp/foo.qcow2', 'checksum': '12345678' } }, 'count': 3, 'instances': [{ 'hostname': 'overcloud-controller-0', 'image': {'href': 'overcloud-full'} }, { 'hostname': 'overcloud-controller-1', }] }] action = baremetal_deploy.ExpandRolesAction(roles) result = action.run(mock.Mock()) self.assertEqual( [ {'hostname': 'overcloud-controller-0', 'image': {'href': 'overcloud-full'}}, {'hostname': 'overcloud-controller-1', 'image': {'href': 'file:///tmp/foo.qcow2', 'checksum': '12345678'}}, {'hostname': 'overcloud-controller-2', 'image': {'href': 'file:///tmp/foo.qcow2', 'checksum': '12345678'}}, ], result['instances']) ",,38,10
openstack%2Fkolla~stable%2Fstein~Ia592dda4ee20979c701efe6007f236dba9848997,openstack/kolla,stable/stein,Ia592dda4ee20979c701efe6007f236dba9848997,[manila] Fixes manila-share on debian/ubuntu,MERGED,2019-11-08 18:10:07.000000000,2019-11-13 03:23:29.000000000,2019-11-13 03:22:19.000000000,"[{'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-08 18:10:07.000000000', 'files': ['docker/manila/manila-share/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eedc78092fcd4033d30baf68ce985421f7091fb4', 'message': '[manila] Fixes manila-share on debian/ubuntu\n\nmanila-share cannot start on debian/ubuntu because python3-cephfs is missing.\n\nChange-Id: Ia592dda4ee20979c701efe6007f236dba9848997\nCloses-Bug: #1851692\n(cherry picked from commit 1d5a208c2e5c81ed4169c63d1d5ea0ad31b78f2f)\n'}]",0,693570,eedc78092fcd4033d30baf68ce985421f7091fb4,11,6,1,14826,,,0,"[manila] Fixes manila-share on debian/ubuntu

manila-share cannot start on debian/ubuntu because python3-cephfs is missing.

Change-Id: Ia592dda4ee20979c701efe6007f236dba9848997
Closes-Bug: #1851692
(cherry picked from commit 1d5a208c2e5c81ed4169c63d1d5ea0ad31b78f2f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/693570/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/manila/manila-share/Dockerfile.j2'],1,eedc78092fcd4033d30baf68ce985421f7091fb4,bug/1851692," 'python3-cephfs',",,1,0
openstack%2Fstorlets~master~Ie8ac1d1ff0216d945b1b1602c944cb62234a84a8,openstack/storlets,master,Ie8ac1d1ff0216d945b1b1602c944cb62234a84a8,Update test_deploy_storlet expectations to be bytes,MERGED,2019-11-12 21:50:51.000000000,2019-11-13 02:47:12.000000000,2019-11-13 02:45:05.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 21:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d7e9526d2dd45e4b729481c6e46892733bf3f1f7', 'message': ""Update test_deploy_storlet expectations to be bytes\n\n...since we didn't provide any encoding.\n\nChange-Id: Ie8ac1d1ff0216d945b1b1602c944cb62234a84a8\n""}, {'number': 2, 'created': '2019-11-12 22:19:01.000000000', 'files': ['tests/functional/java/test_deploy_storlet.py', 'tests/functional/common/mixins.py', 'tests/functional/python/test_deploy_storlet.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/ccef5d4dfe68360d94210f0bd4e27d85d20cd23d', 'message': ""Update test_deploy_storlet expectations to be bytes\n\n...since we didn't provide any encoding. Also, open files in binary mode\nwhen hashing to compare against ETags.\n\nChange-Id: Ie8ac1d1ff0216d945b1b1602c944cb62234a84a8\n""}]",0,693940,ccef5d4dfe68360d94210f0bd4e27d85d20cd23d,9,3,2,15343,,,0,"Update test_deploy_storlet expectations to be bytes

...since we didn't provide any encoding. Also, open files in binary mode
when hashing to compare against ETags.

Change-Id: Ie8ac1d1ff0216d945b1b1602c944cb62234a84a8
",git fetch https://review.opendev.org/openstack/storlets refs/changes/40/693940/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/functional/java/test_deploy_storlet.py', 'tests/functional/python/test_deploy_storlet.py']",2,d7e9526d2dd45e4b729481c6e46892733bf3f1f7,693291," (b'Enter storlet language (java or python): ', EXPECT), (b'python', SEND_LINE), (b'Enter absolute path to storlet file: ', EXPECT), (self.execdep_storlet_file.encode('ascii'), SEND_LINE), (b'Please enter fully qualified storlet main class ' b'<filename.ClassName>: ', EXPECT), (b'exec_dep.ExecDepStorlet', SEND_LINE), (b'Please enter dependency files ' b'(leave a blank line when you are done): ', EXPECT), (self.execdep_storlet_dep_file.encode('ascii'), SEND_LINE), (b'', SEND_LINE), # DO NOT send \n but just empty due to sendline (b'Storlet deployment complete', EXPECT),"," ('Enter storlet language (java or python): ', EXPECT), ('python', SEND_LINE), ('Enter absolute path to storlet file: ', EXPECT), (self.execdep_storlet_file, SEND_LINE), ('Please enter fully qualified storlet main class ' '<filename.ClassName>: ', EXPECT), ('exec_dep.ExecDepStorlet', SEND_LINE), ('Please enter dependency files ' '(leave a blank line when you are done): ', EXPECT), (self.execdep_storlet_dep_file, SEND_LINE), ('', SEND_LINE), # DO NOT send \n but just empty due to sendline ('Storlet deployment complete', EXPECT),",26,26
openstack%2Fstorlets~master~I99a6beda9c3a8883d9f13a953cba13aa21d847bb,openstack/storlets,master,I99a6beda9c3a8883d9f13a953cba13aa21d847bb,py3: Fix up some func tests,MERGED,2019-11-08 15:05:59.000000000,2019-11-13 02:46:22.000000000,2019-11-13 02:45:04.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-08 15:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a0437887c42c350056c3995f3de20f5533795d4d', 'message': ""py3: Fix up test_identity_storlet a bit\n\n* Can't join bytes to str, so initial value of processed_c must be bytes.\n* str and bytes are never equal, so uploaded_c should be bytes.\n* Apparently test_put_execute can hang? Not sure why.\n\nChange-Id: I99a6beda9c3a8883d9f13a953cba13aa21d847bb\n""}, {'number': 2, 'created': '2019-11-08 15:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/20743d2e7c80d346694713e89dd8e0afde9d281c', 'message': ""py3: Fix up test_identity_storlet a bit\n\n* Can't join bytes to str, so initial value of processed_c must be bytes.\n* str and bytes are never equal, so uploaded_c should be bytes.\n* Apparently test_put_execute can hang? Not sure why.\n\nChange-Id: I99a6beda9c3a8883d9f13a953cba13aa21d847bb\n""}, {'number': 3, 'created': '2019-11-08 16:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/bf33b69c950fd92d37581824051fd2443e0ef454', 'message': ""py3: Fix up some func tests\n\n* Can't join bytes to str, so initial value of processed_c must be bytes.\n* str and bytes are never equal, so uploaded_c should be bytes.\n* Apparently test_get/put_execute can hang? Not sure why.\n\nChange-Id: I99a6beda9c3a8883d9f13a953cba13aa21d847bb\n""}, {'number': 4, 'created': '2019-11-08 23:08:03.000000000', 'files': ['tests/functional/java/test_half_storlet.py', 'tests/functional/java/test_compress_storlet.py', 'tests/functional/java/test_identity_storlet.py', 'tests/functional/python/test_execqueryheader_storlet.py', 'tests/functional/python/test_simple_storlet.py', 'tests/functional/java/test_partitions_identity_storlet.py', 'tests/functional/python/test_multiinput_storlet.py', 'tests/functional/python/test_SLO.py', 'tests/functional/java/test_multiinput_storlet.py', 'tests/functional/java/test_csvstorlet.py', 'tests/functional/python/test_test_storlet.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/01e3dfa92f76a53d257c52de098008f20bff3619', 'message': 'py3: Fix up some func tests\n\nLots of str-needing-to-be-bytes fixes, mostly.\n\nSeems to be an issue with tests around executing? Skipped the two that\nwould just hang, but test_deploy_storlet might be a good place to start\npoking around.\n\nChange-Id: I99a6beda9c3a8883d9f13a953cba13aa21d847bb\n'}]",0,693549,01e3dfa92f76a53d257c52de098008f20bff3619,14,4,4,15343,,,0,"py3: Fix up some func tests

Lots of str-needing-to-be-bytes fixes, mostly.

Seems to be an issue with tests around executing? Skipped the two that
would just hang, but test_deploy_storlet might be a good place to start
poking around.

Change-Id: I99a6beda9c3a8883d9f13a953cba13aa21d847bb
",git fetch https://review.opendev.org/openstack/storlets refs/changes/49/693549/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/functional/java/test_identity_storlet.py'],1,a0437887c42c350056c3995f3de20f5533795d4d,693291,"import six processed_c = b'' uploaded_c = ''.join( random.choice(string.ascii_uppercase + string.digits) for _ in range(1024)).encode('ascii') @unittest.skipIf(six.PY3, 'execute can hang on py3 for some reason')", processed_c = '' uploaded_c = ''.join(random.choice(string.ascii_uppercase + string.digits) for _ in range(1024)),6,3
openstack%2Frequirements~master~I29abcba929995f9307c392110160d889a29b47c3,openstack/requirements,master,I29abcba929995f9307c392110160d889a29b47c3,Remove requirements-integration job,MERGED,2019-11-12 17:03:02.000000000,2019-11-13 02:45:07.000000000,2019-11-13 02:43:30.000000000,"[{'_account_id': 2}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 17:03:02.000000000', 'files': ['global-requirements.txt', 'tools/integration.sh', 'bindep.txt', '.zuul.d/project.yaml', 'playbooks/requirements-integration-dsvm/post.yaml', '.zuul.d/jobs.yaml', 'playbooks/requirements-integration-dsvm/run.yaml', 'tools/README.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/58d622019d8e92b301699787180aafe16cde53ee', 'message': 'Remove requirements-integration job\n\nThis job was a legacy job that attempted to verify each project could be\nindependently installed after all global-requirements had been\ninstalled.\n\nThis job is no longer necessary since we have much better coverage with\nrequirements-check and other jobs that make sure the requirements are\ncompatible. It is also a legacy zuulv2 job, uses the long deprecated\ndevstack-gate, and runs with Python 2.7.\n\nFor historical reference, this was added originally to PBR back in 2013\n[0] and moved to requirements in 2014 [1].\n\n[0] https://opendev.org/openstack/pbr/commit/378261a8cba818a29b7e3d33b917de5ed0751579\n[1] https://opendev.org/openstack/requirements/commit/8e073738db06086f949d2be377999356aee2d8d0\n\nChange-Id: I29abcba929995f9307c392110160d889a29b47c3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,693885,58d622019d8e92b301699787180aafe16cde53ee,8,3,1,11904,,,0,"Remove requirements-integration job

This job was a legacy job that attempted to verify each project could be
independently installed after all global-requirements had been
installed.

This job is no longer necessary since we have much better coverage with
requirements-check and other jobs that make sure the requirements are
compatible. It is also a legacy zuulv2 job, uses the long deprecated
devstack-gate, and runs with Python 2.7.

For historical reference, this was added originally to PBR back in 2013
[0] and moved to requirements in 2014 [1].

[0] https://opendev.org/openstack/pbr/commit/378261a8cba818a29b7e3d33b917de5ed0751579
[1] https://opendev.org/openstack/requirements/commit/8e073738db06086f949d2be377999356aee2d8d0

Change-Id: I29abcba929995f9307c392110160d889a29b47c3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/693885/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'tools/integration.sh', 'bindep.txt', '.zuul.d/project.yaml', 'playbooks/requirements-integration-dsvm/post.yaml', '.zuul.d/jobs.yaml', 'playbooks/requirements-integration-dsvm/run.yaml', 'tools/README.txt']",8,58d622019d8e92b301699787180aafe16cde53ee,requirements-integration,,"integration.sh -------------- Used in the gate! Install all the ""$PROJECTS"" to verify that g-r and the each project are compatible ",1,371
openstack%2Ftripleo-heat-templates~stable%2Fstein~I434273b4fee2719eb6ea9f4392364644446f11e6,openstack/tripleo-heat-templates,stable/stein,I434273b4fee2719eb6ea9f4392364644446f11e6,Include ceph-ansible filter_plugins,MERGED,2019-11-12 19:51:07.000000000,2019-11-13 02:40:34.000000000,2019-11-13 02:40:34.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 19:51:07.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc5ca307bda8748c0612508f53dc0c4826af78be', 'message': ""Include ceph-ansible filter_plugins\n\nAs of version 4, ceph-ansible ships it's own filter_plugins [1]\nso we need to include them in the environment when tripleo\nexecutes ceph-ansible.\n\nThis change is going directly into Stein becauase the relevant\ncode was moved from tripleo-heat-templates to tripleo-ansible\nduring Train. The same change has already been proposed in Master\nand Train (64f6d3ba1979e21fdf5392a056c13f313220be3e) in tripleo-\nansible.\n\nChange-Id: I434273b4fee2719eb6ea9f4392364644446f11e6\nCloses-Bug: #1852136\n""}]",0,693914,fc5ca307bda8748c0612508f53dc0c4826af78be,7,3,1,18002,,,0,"Include ceph-ansible filter_plugins

As of version 4, ceph-ansible ships it's own filter_plugins [1]
so we need to include them in the environment when tripleo
executes ceph-ansible.

This change is going directly into Stein becauase the relevant
code was moved from tripleo-heat-templates to tripleo-ansible
during Train. The same change has already been proposed in Master
and Train (64f6d3ba1979e21fdf5392a056c13f313220be3e) in tripleo-
ansible.

Change-Id: I434273b4fee2719eb6ea9f4392364644446f11e6
Closes-Bug: #1852136
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/693914/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,fc5ca307bda8748c0612508f53dc0c4826af78be,bug/1852136, - ANSIBLE_FILTER_PLUGINS=/usr/share/ceph-ansible/plugins/filter/,,1,0
openstack%2Fnetworking-midonet~master~I6307c90b70cbd9c4bac1d26f36a5becad538b293,openstack/networking-midonet,master,I6307c90b70cbd9c4bac1d26f36a5becad538b293,Remove policy.json as it doesn't seem to be used,MERGED,2019-11-07 10:12:27.000000000,2019-11-13 02:38:42.000000000,2019-11-13 02:37:35.000000000,"[{'_account_id': 156}, {'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 10:12:27.000000000', 'files': ['etc/policy.json'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b5277ee401427bfc38ade804ca39d7d0d854774d', 'message': ""Remove policy.json as it doesn't seem to be used\n\nChange-Id: I6307c90b70cbd9c4bac1d26f36a5becad538b293\n""}]",0,693330,b5277ee401427bfc38ade804ca39d7d0d854774d,9,3,1,6854,,,0,"Remove policy.json as it doesn't seem to be used

Change-Id: I6307c90b70cbd9c4bac1d26f36a5becad538b293
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/30/693330/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy.json'],1,b5277ee401427bfc38ade804ca39d7d0d854774d,policy,,"{ ""context_is_admin"": ""role:admin"", ""admin_or_owner"": ""rule:context_is_admin or tenant_id:%(tenant_id)s"", ""context_is_advsvc"": ""role:advsvc"", ""admin_or_network_owner"": ""rule:context_is_admin or tenant_id:%(network:tenant_id)s"", ""admin_only"": ""rule:context_is_admin"", ""regular_user"": """", ""shared"": ""field:networks:shared=True"", ""external"": ""field:networks:router:external=True"", ""default"": ""rule:admin_or_owner"", ""create_subnet"": ""rule:admin_or_network_owner"", ""get_subnet"": ""rule:admin_or_owner or rule:shared"", ""update_subnet"": ""rule:admin_or_network_owner"", ""delete_subnet"": ""rule:admin_or_network_owner"", ""create_network"": """", ""get_network"": ""rule:admin_or_owner or rule:shared or rule:external or rule:context_is_advsvc"", ""get_network:router:external"": ""rule:regular_user"", ""get_network:segments"": ""rule:admin_only"", ""get_network:provider:network_type"": ""rule:admin_only"", ""get_network:provider:physical_network"": ""rule:admin_only"", ""get_network:provider:segmentation_id"": ""rule:admin_only"", ""get_network:queue_id"": ""rule:admin_only"", ""create_network:shared"": ""rule:admin_only"", ""create_network:router:external"": ""rule:admin_only"", ""create_network:segments"": ""rule:admin_only"", ""create_network:provider:network_type"": ""rule:admin_only"", ""create_network:provider:physical_network"": ""rule:admin_only"", ""create_network:provider:segmentation_id"": ""rule:admin_only"", ""update_network"": ""rule:admin_or_owner"", ""update_network:segments"": ""rule:admin_only"", ""update_network:shared"": ""rule:admin_only"", ""update_network:provider:network_type"": ""rule:admin_only"", ""update_network:provider:physical_network"": ""rule:admin_only"", ""update_network:provider:segmentation_id"": ""rule:admin_only"", ""update_network:router:external"": ""rule:admin_only"", ""delete_network"": ""rule:admin_or_owner"", ""create_port"": """", ""create_port:mac_address"": ""rule:admin_or_network_owner or rule:context_is_advsvc"", ""create_port:fixed_ips"": ""rule:admin_or_network_owner or rule:context_is_advsvc"", ""create_port:port_security_enabled"": ""rule:admin_or_network_owner or rule:context_is_advsvc"", ""create_port:binding:host_id"": ""rule:admin_only"", ""create_port:binding:profile"": ""rule:admin_only"", ""create_port:mac_learning_enabled"": ""rule:admin_or_network_owner or rule:context_is_advsvc"", ""get_port"": ""rule:admin_or_owner or rule:context_is_advsvc"", ""get_port:queue_id"": ""rule:admin_only"", ""get_port:binding:vif_type"": ""rule:admin_only"", ""get_port:binding:vif_details"": ""rule:admin_only"", ""get_port:binding:host_id"": ""rule:admin_only"", ""get_port:binding:profile"": ""rule:admin_only"", ""update_port"": ""rule:admin_or_owner or rule:context_is_advsvc"", ""update_port:mac_address"": ""rule:admin_only or rule:context_is_advsvc"", ""update_port:fixed_ips"": ""rule:admin_or_network_owner or rule:context_is_advsvc"", ""update_port:port_security_enabled"": ""rule:admin_or_network_owner or rule:context_is_advsvc"", ""update_port:binding:host_id"": ""rule:admin_only"", ""update_port:binding:profile"": ""rule:admin_only"", ""update_port:mac_learning_enabled"": ""rule:admin_or_network_owner or rule:context_is_advsvc"", ""delete_port"": ""rule:admin_or_owner or rule:context_is_advsvc"", ""get_router:ha"": ""rule:admin_only"", ""create_router"": ""rule:regular_user"", ""create_router:external_gateway_info:enable_snat"": ""rule:admin_only"", ""create_router:distributed"": ""rule:admin_only"", ""create_router:ha"": ""rule:admin_only"", ""get_router"": ""rule:admin_or_owner"", ""get_router:distributed"": ""rule:admin_only"", ""update_router:external_gateway_info:enable_snat"": ""rule:admin_only"", ""update_router:distributed"": ""rule:admin_only"", ""update_router:ha"": ""rule:admin_only"", ""delete_router"": ""rule:admin_or_owner"", ""add_router_interface"": ""rule:admin_or_owner"", ""remove_router_interface"": ""rule:admin_or_owner"", ""create_router:external_gateway_info:external_fixed_ips"": ""rule:admin_only"", ""update_router:external_gateway_info:external_fixed_ips"": ""rule:admin_only"", ""create_qos_queue"": ""rule:admin_only"", ""get_qos_queue"": ""rule:admin_only"", ""update_agent"": ""rule:admin_only"", ""delete_agent"": ""rule:admin_only"", ""get_agent"": ""rule:admin_only"", ""create_dhcp-network"": ""rule:admin_only"", ""delete_dhcp-network"": ""rule:admin_only"", ""get_dhcp-networks"": ""rule:admin_only"", ""create_l3-router"": ""rule:admin_only"", ""delete_l3-router"": ""rule:admin_only"", ""get_l3-routers"": ""rule:admin_only"", ""get_dhcp-agents"": ""rule:admin_only"", ""get_l3-agents"": ""rule:admin_only"", ""get_loadbalancer-agent"": ""rule:admin_only"", ""get_loadbalancer-pools"": ""rule:admin_only"", ""get_agent-loadbalancers"": ""rule:admin_only"", ""get_loadbalancer-hosting-agent"": ""rule:admin_only"", ""create_floatingip"": ""rule:regular_user"", ""create_floatingip:floating_ip_address"": ""rule:admin_only"", ""update_floatingip"": ""rule:admin_or_owner"", ""delete_floatingip"": ""rule:admin_or_owner"", ""get_floatingip"": ""rule:admin_or_owner"", ""create_network_profile"": ""rule:admin_only"", ""update_network_profile"": ""rule:admin_only"", ""delete_network_profile"": ""rule:admin_only"", ""get_network_profiles"": """", ""get_network_profile"": """", ""update_policy_profiles"": ""rule:admin_only"", ""get_policy_profiles"": """", ""get_policy_profile"": """", ""create_metering_label"": ""rule:admin_only"", ""delete_metering_label"": ""rule:admin_only"", ""get_metering_label"": ""rule:admin_only"", ""create_metering_label_rule"": ""rule:admin_only"", ""delete_metering_label_rule"": ""rule:admin_only"", ""get_metering_label_rule"": ""rule:admin_only"", ""get_service_provider"": ""rule:regular_user"", ""get_lsn"": ""rule:admin_only"", ""create_lsn"": ""rule:admin_only"" } ",0,126
openstack%2Ftripleo-ansible~master~I26e3753ad438ae1c358be372318ade231d8b1d93,openstack/tripleo-ansible,master,I26e3753ad438ae1c358be372318ade231d8b1d93,"Revert ""Fix ssh_known_hosts hostname entries""",MERGED,2019-11-12 19:26:37.000000000,2019-11-13 02:25:37.000000000,2019-11-13 02:24:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 10135}, {'_account_id': 10969}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 19:26:37.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'releasenotes/notes/fix_ssh-known-hosts-2520b9d6f67458b7.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53e2b5e6159e2fcdeae251178f780729b658c8da', 'message': 'Revert ""Fix ssh_known_hosts hostname entries""\n\nThis reverts commit a5bcbc8d015b792b3546ecbb139506f248dacfe8.\n\nThis looks to have broken ovb.\n\n2019-11-12 17:28:30 | The error appears to be in \'/usr/share/ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml\': line 46, column 7\n\nChange-Id: I26e3753ad438ae1c358be372318ade231d8b1d93\n'}]",0,693911,53e2b5e6159e2fcdeae251178f780729b658c8da,10,11,1,14985,,,0,"Revert ""Fix ssh_known_hosts hostname entries""

This reverts commit a5bcbc8d015b792b3546ecbb139506f248dacfe8.

This looks to have broken ovb.

2019-11-12 17:28:30 | The error appears to be in '/usr/share/ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml': line 46, column 7

Change-Id: I26e3753ad438ae1c358be372318ade231d8b1d93
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/693911/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'releasenotes/notes/fix_ssh-known-hosts-2520b9d6f67458b7.yaml']",2,53e2b5e6159e2fcdeae251178f780729b658c8da,1852064,,"--- fixes: - | Previously the tripleo-ssh-known-hosts ansible role used the list of network names to create the different possible hostnames in the ssh_known_hosts file. The network names do not match the actual network hostnames, like internal_api vs. internalapi which results in ssh host verification to fail and e.g. live migration to fail. This changes to use the _hostname inventory information to be used to add hostname information to the ssh_known_hosts file. ",2,12
openstack%2Fneutron-tempest-plugin~master~I9acc4d59798a160222ef1fb49f591262e66911a2,openstack/neutron-tempest-plugin,master,I9acc4d59798a160222ef1fb49f591262e66911a2,tox: Keeping going with docs,ABANDONED,2019-10-25 14:41:11.000000000,2019-11-13 02:25:20.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 14:41:11.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9cac3ca287fd08dea979ab40fa86a650db7e7098', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I9acc4d59798a160222ef1fb49f591262e66911a2\n""}]",0,691369,9cac3ca287fd08dea979ab40fa86a650db7e7098,5,3,1,30356,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I9acc4d59798a160222ef1fb49f591262e66911a2
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/69/691369/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,9cac3ca287fd08dea979ab40fa86a650db7e7098,, sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,3,3
openstack%2Ftripleo-ansible~master~Idf534e50d3a1ec879c340996ac225c80f4b52d3f,openstack/tripleo-ansible,master,Idf534e50d3a1ec879c340996ac225c80f4b52d3f,Prefer ovn_dbs_vip from all_nodes_extra_map_data,MERGED,2019-11-11 16:49:03.000000000,2019-11-13 01:41:58.000000000,2019-11-12 23:25:00.000000000,"[{'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-11 16:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c909281f1eccb50b811469f1740bd32bb5d3ef0c', 'message': 'Prefer ovn_dbs_vip from all_nodes_extra_map_data\n\nWhen all_nodes_extra_map_data includes a value for ovn_dbs_vip that\nvalue should be preferred over any other. This fixes an issue in the\nmulti-stack case where the dependent stacks were using the wrong value\nfor the ovn vip.\n\nChange-Id: Idf534e50d3a1ec879c340996ac225c80f4b52d3f\n'}, {'number': 2, 'created': '2019-11-11 18:07:16.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a610cb132a5cea069fa54063e7de97fb25add8c2', 'message': 'Prefer ovn_dbs_vip from all_nodes_extra_map_data\n\nWhen all_nodes_extra_map_data includes a value for ovn_dbs_vip that\nvalue should be preferred over any other. This fixes an issue in the\nmulti-stack case where the dependent stacks were using the wrong value\nfor the ovn vip.\n\nChange-Id: Idf534e50d3a1ec879c340996ac225c80f4b52d3f\n'}]",0,693730,a610cb132a5cea069fa54063e7de97fb25add8c2,11,4,2,7144,,,0,"Prefer ovn_dbs_vip from all_nodes_extra_map_data

When all_nodes_extra_map_data includes a value for ovn_dbs_vip that
value should be preferred over any other. This fixes an issue in the
multi-stack case where the dependent stacks were using the wrong value
for the ovn vip.

Change-Id: Idf534e50d3a1ec879c340996ac225c80f4b52d3f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/693730/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'],1,c909281f1eccb50b811469f1740bd32bb5d3ef0c,,"{% if 'redis' in all_enabled_services %}{% if 'ovn_dbs' in all_enabled_services %} {% if 'ovn_dbs_vip' in all_nodes_extra_map_data %} {% set _ = all_nodes.__setitem__('ovn_dbs_vip', all_nodes_extra_map_data['ovn_dbs_vip']) %} {% elif net_vip_map.ovn_dbs is defined %} {% set _ = all_nodes.__setitem__('ovn_dbs_vip', (net_vip_map.ovn_dbs)) %} {% endif %}","{% if 'redis' in enabled_services %}{% if 'ovn_dbs' in enabled_services and net_vip_map.ovn_dbs is defined %} {% set _ = all_nodes.__setitem__('ovn_dbs_vip', (net_vip_map.ovn_dbs)) %}",7,3
openstack%2Fstorlets~master~Icaa3f2894feab48279073ddb19e8586f0528763b,openstack/storlets,master,Icaa3f2894feab48279073ddb19e8586f0528763b,Clean up tmp file in more cases,MERGED,2019-11-12 17:30:55.000000000,2019-11-13 01:10:03.000000000,2019-11-13 01:08:01.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 17:30:55.000000000', 'files': ['tests/functional/java/test_identity_storlet.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/2e5823f007ef0eadaee63dfd37f461fdaa83e7a9', 'message': 'Clean up tmp file in more cases\n\nPreviously, if the test failed, we would not remove the file.\n\nChange-Id: Icaa3f2894feab48279073ddb19e8586f0528763b\n'}]",0,693889,2e5823f007ef0eadaee63dfd37f461fdaa83e7a9,7,2,1,15343,,,0,"Clean up tmp file in more cases

Previously, if the test failed, we would not remove the file.

Change-Id: Icaa3f2894feab48279073ddb19e8586f0528763b
",git fetch https://review.opendev.org/openstack/storlets refs/changes/89/693889/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/functional/java/test_identity_storlet.py'],1,2e5823f007ef0eadaee63dfd37f461fdaa83e7a9,tmp-file, try: yield finally: try: os.remove(path) except Exception: pass, yield try: os.remove(path) except Exception: pass,6,4
openstack%2Fstorlets~master~I8eaee3954cd480acca11c76f3b5dc8080b7fa8d9,openstack/storlets,master,I8eaee3954cd480acca11c76f3b5dc8080b7fa8d9,Use maven for simple_json jar,MERGED,2019-11-12 17:31:03.000000000,2019-11-13 01:09:16.000000000,2019-11-13 01:08:01.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 17:31:03.000000000', 'files': ['src/java/build.xml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/e4363f4d1f3e456c60d13025ba2ff2e6ff713b45', 'message': 'Use maven for simple_json jar\n\nGoogle is not accessible from China.\n\nChange-Id: I8eaee3954cd480acca11c76f3b5dc8080b7fa8d9\n'}]",0,693890,e4363f4d1f3e456c60d13025ba2ff2e6ff713b45,7,2,1,15343,,,0,"Use maven for simple_json jar

Google is not accessible from China.

Change-Id: I8eaee3954cd480acca11c76f3b5dc8080b7fa8d9
",git fetch https://review.opendev.org/openstack/storlets refs/changes/90/693890/1 && git format-patch -1 --stdout FETCH_HEAD,['src/java/build.xml'],1,e4363f4d1f3e456c60d13025ba2ff2e6ff713b45,china-contribs," <get src=""http://central.maven.org/maven2/com/googlecode/json-simple/json-simple/1.1/json-simple-1.1.jar"""," <get src=""http://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/json-simple/json_simple-1.1.jar""",1,1
openstack%2Fproject-config~master~I8db99f8f2fd4b1b7b9a5e06148ca2dc185ed682b,openstack/project-config,master,I8db99f8f2fd4b1b7b9a5e06148ca2dc185ed682b,Remove opensuse-150,MERGED,2019-11-12 20:08:44.000000000,2019-11-13 01:00:50.000000000,2019-11-13 01:00:49.000000000,"[{'_account_id': 2}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 20:08:44.000000000', 'files': ['nodepool/nl04.openstack.org.yaml', 'nodepool/nodepool.yaml', 'grafana/openstack-ansible.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'nodepool/nl01.openstack.org.yaml', 'grafana/create-nodepool-dib.sh', 'zuul.d/jobs.yaml', 'grafana/nodepool-dib.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/88dcfdb48865876e41ef08131ee1b13602a309e0', 'message': 'Remove opensuse-150\n\nThe opensuse-150 image is being removed as the 15.0 release is EOL.\nSimilar to centos the expectation is that users keep up to date with\nminor releases. For this we have the opensuse-15 image which should be\nused instead.\n\nDepends-On: https://review.opendev.org/#/c/682844/\nChange-Id: I8db99f8f2fd4b1b7b9a5e06148ca2dc185ed682b\n'}]",0,693915,88dcfdb48865876e41ef08131ee1b13602a309e0,10,3,1,4146,,,0,"Remove opensuse-150

The opensuse-150 image is being removed as the 15.0 release is EOL.
Similar to centos the expectation is that users keep up to date with
minor releases. For this we have the opensuse-15 image which should be
used instead.

Depends-On: https://review.opendev.org/#/c/682844/
Change-Id: I8db99f8f2fd4b1b7b9a5e06148ca2dc185ed682b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/15/693915/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl04.openstack.org.yaml', 'nodepool/nodepool.yaml', 'grafana/openstack-ansible.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'grafana/create-nodepool-dib.sh', 'nodepool/nl01.openstack.org.yaml', 'zuul.d/jobs.yaml', 'grafana/nodepool-dib.yaml']",9,88dcfdb48865876e41ef08131ee1b13602a309e0,use-opensuse-15,,"# AUTOGENERATED : openSUSE 15.0 - title: openSUSE 15.0 showTitle: true height: 200px panels: - title: Build status colorBackground: true type: singlestat valueName: current valueMaps: - value: 0 text: ""OK"" - value: 1 text: ""FAILED"" thresholds: 0.1,0.9 span: 2 targets: - target: ""stats.gauges.nodepool.dib_image_build.opensuse-150.qcow2.rc"" valueFontSize: ""50%"" - title: Image size type: graph span: 3 yaxes: - format: decbytes min: 0 - format: decbytes min: 0 targets: - target: aliasByNode(stats.gauges.nodepool.dib_image_build.opensuse-150.*.size, 5) refId: A - title: Build duration type: graph span: 3 yaxes: - format: ms min: 0 - format: ms min: 0 targets: - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.opensuse-150.qcow2.duration.mean, 'None'), ""Time"") refId: A",7,135
openstack%2Ftripleo-ansible~stable%2Ftrain~Ia16edde342b0c86c31c5715a28dbfe370cfb3246,openstack/tripleo-ansible,stable/train,Ia16edde342b0c86c31c5715a28dbfe370cfb3246,Include ceph-ansible filter_plugins,MERGED,2019-11-12 19:43:01.000000000,2019-11-13 00:59:28.000000000,2019-11-13 00:59:28.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 19:43:01.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92ac330cee6a303c57572413ed160136e7d91a9b', 'message': ""Include ceph-ansible filter_plugins\n\nAs of version 4, ceph-ansible ships it's own filter_plugins [1]\nso we need to include them in the environment when tripleo\nexecutes ceph-ansible.\n\nCloses-Bug: #1852136\n\n[1] https://github.com/ceph/ceph-ansible/commit/5fea830414e7eb4cf6f1d0008834e2c4b205b131\n\nChange-Id: Ia16edde342b0c86c31c5715a28dbfe370cfb3246\n(cherry picked from commit 64f6d3ba1979e21fdf5392a056c13f313220be3e)\n""}]",0,693913,92ac330cee6a303c57572413ed160136e7d91a9b,8,4,1,18002,,,0,"Include ceph-ansible filter_plugins

As of version 4, ceph-ansible ships it's own filter_plugins [1]
so we need to include them in the environment when tripleo
executes ceph-ansible.

Closes-Bug: #1852136

[1] https://github.com/ceph/ceph-ansible/commit/5fea830414e7eb4cf6f1d0008834e2c4b205b131

Change-Id: Ia16edde342b0c86c31c5715a28dbfe370cfb3246
(cherry picked from commit 64f6d3ba1979e21fdf5392a056c13f313220be3e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/693913/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'],1,92ac330cee6a303c57572413ed160136e7d91a9b,bug/1852136, - ANSIBLE_FILTER_PLUGINS=/usr/share/ceph-ansible/plugins/filter/,,1,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I5ae0efba8338cfcc3e43588ebea89238aabc7c82,openstack/tripleo-ansible,stable/train,I5ae0efba8338cfcc3e43588ebea89238aabc7c82,"Revert ""Fix ssh_known_hosts hostname entries""",MERGED,2019-11-12 19:26:52.000000000,2019-11-13 00:59:17.000000000,2019-11-13 00:58:13.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 19:26:52.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'releasenotes/notes/fix_ssh-known-hosts-2520b9d6f67458b7.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/035bdc34a6dd7144fe6d4005b5ac798fb73ac65a', 'message': 'Revert ""Fix ssh_known_hosts hostname entries""\n\nThis reverts commit 84dd53a386cdc75816131a80683481a4307aa39d.\n\nThis appears to have broken ovb.\n\n2019-11-12 17:28:30 | The error appears to be in \'/usr/share/ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml\': line 46, column 7\n\nChange-Id: I5ae0efba8338cfcc3e43588ebea89238aabc7c82\n'}]",0,693912,035bdc34a6dd7144fe6d4005b5ac798fb73ac65a,10,9,1,14985,,,0,"Revert ""Fix ssh_known_hosts hostname entries""

This reverts commit 84dd53a386cdc75816131a80683481a4307aa39d.

This appears to have broken ovb.

2019-11-12 17:28:30 | The error appears to be in '/usr/share/ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml': line 46, column 7

Change-Id: I5ae0efba8338cfcc3e43588ebea89238aabc7c82
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/693912/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'releasenotes/notes/fix_ssh-known-hosts-2520b9d6f67458b7.yaml']",2,035bdc34a6dd7144fe6d4005b5ac798fb73ac65a,1852064-stable/train,,"--- fixes: - | Previously the tripleo-ssh-known-hosts ansible role used the list of network names to create the different possible hostnames in the ssh_known_hosts file. The network names do not match the actual network hostnames, like internal_api vs. internalapi which results in ssh host verification to fail and e.g. live migration to fail. This changes to use the _hostname inventory information to be used to add hostname information to the ssh_known_hosts file. ",2,12
openstack%2Ftripleo-ansible~master~Id4a7c007041d7a3d7099e08392b028f93a395185,openstack/tripleo-ansible,master,Id4a7c007041d7a3d7099e08392b028f93a395185,DNM: just test previous patch,ABANDONED,2019-11-12 19:12:12.000000000,2019-11-13 00:11:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 19:12:12.000000000', 'files': ['tripleo_ansible/roles/tuned/defaults/main.yml', 'tripleo_ansible/roles/tripleo-config/defaults/main.yml', 'tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py', 'tripleo_ansible/roles/tripleo-securetty/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/defaults/main.yml', 'tripleo_ansible/roles/tripleo-kernel/defaults/main.yml', 'tripleo_ansible/roles/tripleo-packages/defaults/main.yml', 'tripleo_ansible/roles/tripleo-sshd/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/defaults/main.yml', 'tripleo_ansible/roles/login-defs/defaults/main.yml', 'tripleo_ansible/roles/tripleo-hieradata/defaults/main.yml', 'tripleo_ansible/roles/tripleo-create-admin/defaults/main.yml', 'tripleo_ansible/roles/tripleo-firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo-persist/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-stop/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/defaults/main.yml', 'tripleo_ansible/roles/tripleo-module-load/defaults/main.yml', 'tripleo_ansible/roles/tripleo-transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-rm/defaults/main.yml', 'tripleo_ansible/roles/tripleo-hosts-entries/defaults/main.yml', 'tripleo_ansible/roles/aide/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo-cellv2/defaults/main.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/defaults/main.yml', 'tripleo_ansible/roles/octavia-controller-post-config/defaults/main.yml', 'tripleo_ansible/roles/tripleo-clients-install/defaults/main.yml', 'tripleo_ansible/roles/tripleo-bootstrap/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo-upgrade-hiera/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/defaults/main.yml', 'tripleo_ansible/roles/tripleo-timezone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53f95c6e78529f9f03e146581c0997417909790e', 'message': 'DNM: just test previous patch\n\nChange-Id: Id4a7c007041d7a3d7099e08392b028f93a395185\n'}]",0,693908,53f95c6e78529f9f03e146581c0997417909790e,4,2,1,10969,,,0,"DNM: just test previous patch

Change-Id: Id4a7c007041d7a3d7099e08392b028f93a395185
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/693908/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tuned/defaults/main.yml', 'tripleo_ansible/roles/tripleo-config/defaults/main.yml', 'tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py', 'tripleo_ansible/roles/tripleo-securetty/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-image-prepare/defaults/main.yml', 'tripleo_ansible/roles/tripleo-kernel/defaults/main.yml', 'tripleo_ansible/roles/tripleo-packages/defaults/main.yml', 'tripleo_ansible/roles/tripleo-sshd/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/defaults/main.yml', 'tripleo_ansible/roles/login-defs/defaults/main.yml', 'tripleo_ansible/roles/tripleo-hieradata/defaults/main.yml', 'tripleo_ansible/roles/tripleo-create-admin/defaults/main.yml', 'tripleo_ansible/roles/tripleo-firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo-persist/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-stop/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/defaults/main.yml', 'tripleo_ansible/roles/tripleo-module-load/defaults/main.yml', 'tripleo_ansible/roles/tripleo-transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-rm/defaults/main.yml', 'tripleo_ansible/roles/tripleo-hosts-entries/defaults/main.yml', 'tripleo_ansible/roles/aide/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo-cellv2/defaults/main.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/defaults/main.yml', 'tripleo_ansible/roles/octavia-controller-post-config/defaults/main.yml', 'tripleo_ansible/roles/tripleo-clients-install/defaults/main.yml', 'tripleo_ansible/roles/tripleo-bootstrap/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo-upgrade-hiera/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/defaults/main.yml', 'tripleo_ansible/roles/tripleo-timezone/defaults/main.yml']",37,53f95c6e78529f9f03e146581c0997417909790e,testsrc,#test ,,79,2
openstack%2Ftripleo-ansible~master~Ice92cd5f90039e685c171e9035f929349a67ff2c,openstack/tripleo-ansible,master,Ice92cd5f90039e685c171e9035f929349a67ff2c,tripleo-container-manage: use async,MERGED,2019-11-06 16:31:50.000000000,2019-11-12 23:07:01.000000000,2019-11-12 23:07:01.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 16:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/85e74009143754b64db30218601fcbe12c5091be', 'message': 'WIP - tripleo-container-manage: run the execs with async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 2, 'created': '2019-11-06 17:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93e1182db936ab39acf3607ece335e0952dbf76d', 'message': 'WIP - tripleo-container-manage: run the execs with async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 3, 'created': '2019-11-06 22:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6d2b795d786cf4ef07906f91cfff5953dad141a', 'message': 'WIP - tripleo-container-manage: run the execs with async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 4, 'created': '2019-11-06 22:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2bfbe281484f75f05f482696b8230a8ab3828b11', 'message': 'WIP - tripleo-container-manage: run the execs with async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 5, 'created': '2019-11-07 12:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8b63a93ce45056b0acdbe51ee56991594b5536f', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 6, 'created': '2019-11-07 12:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f3b54b15b765aeb156de9879cd55f480cfb8117', 'message': 'WIP - tripleo-container-manage: use async\n\nDepends-On: Id7be72c04374dea9b420bd926b6c9819bddf31b3\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 7, 'created': '2019-11-07 13:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/85d4dae47764368b911eaa36f283498af058d0ea', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 8, 'created': '2019-11-07 15:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/557e6ee0694dd48d6f054e840e20eda786a160ec', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 9, 'created': '2019-11-07 16:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e2ee9e11a1c4128f8f28dbfe951cc07be21c5f64', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 10, 'created': '2019-11-07 18:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20c6314d8c5838dfd3f4c922701a5f3c4dfb18b1', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 11, 'created': '2019-11-07 18:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/62b7b6dddfb3da8d2e23e6857d9ad4f698c6dcfc', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 12, 'created': '2019-11-07 18:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3c194f46e58f16d64b071a4fc2f0000e38dddcd', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 13, 'created': '2019-11-07 18:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9fd65d479b3cdb1b7420fe0a36aa04e227469f57', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 14, 'created': '2019-11-07 18:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1edca4565675e486739af19dbf2fb6cba20ae09b', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 15, 'created': '2019-11-07 20:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6ca76b9e7f50a6921b2bc49f0aa2afc19f158874', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 16, 'created': '2019-11-07 20:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59d079c09ecf18a5b2e8fa9c61fcf69e9f225921', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 17, 'created': '2019-11-07 21:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98cf14c91cfea5bb097c39b93faaee5da558dd9f', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 18, 'created': '2019-11-07 21:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b235230324d49eed5d23c776f9c914686fb65ca2', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 19, 'created': '2019-11-08 07:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd851b6fd5425721554fa5590af3724f107cf321', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 20, 'created': '2019-11-08 13:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fecba1534e992caaec547e588cfe545900c3c057', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 21, 'created': '2019-11-08 13:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/708dd3bf1414e4f16acca47c67067952c514fb2c', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 22, 'created': '2019-11-08 14:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35b68d1d614901ecb8176f3098b38befeb1e9c66', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 23, 'created': '2019-11-08 14:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e78df67539c6d97d72418caeb542e0503478b066', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 24, 'created': '2019-11-08 15:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17c9f448db1b4229c6a8a01dd98406ca07317ec1', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 25, 'created': '2019-11-08 15:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3910df87ea46f53f0f3c58fdca3b6cf50f6300d1', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 26, 'created': '2019-11-08 16:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f0692daa0df74317cba141181f6ec84e1dba6c81', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 27, 'created': '2019-11-08 22:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/658bf4520d5d55336fdb0ed91bf0e6449016ec75', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 28, 'created': '2019-11-09 06:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a5813f6e4193f276c68a01d30ebfdc5365e504a9', 'message': 'WIP - tripleo-container-manage: use async\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 29, 'created': '2019-11-12 08:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/117cf886444e93b2759811584d31608522b6700c', 'message': 'tripleo-container-manage: use async\n\n- Add a new filter \'haskey\' which returns container data with a specific\n  config key. The filter takes a list of dicts and returns the dicts\n  which have a certain key given in parameter with \'attribute\'.\n  If \'reverse\' is set to True, the returned list won\'t contains dicts\n  which have the \'attribute\' value.\n  If \'any\' is set to True, the returned list will match any value in the\n  list of \'value\' parameter which has to be a list.\n\n- Make the exec and create playbook using ansible ""async"".\n  (WIP is to re-add the podman_container.changed in systemd playbook).\n\nNote: we don\'t manage Systemd resources with async, since it exposes\nrace conditions at the systemd level.\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 30, 'created': '2019-11-12 14:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1ddd374d2dc9752edc02345e68fe343d13243591', 'message': 'tripleo-container-manage: use async\n\n- Add a new filter \'haskey\' which returns container data with a specific\n  config key. The filter takes a list of dicts and returns the dicts\n  which have a certain key given in parameter with \'attribute\'.\n  If \'reverse\' is set to True, the returned list won\'t contains dicts\n  which have the \'attribute\' value.\n  If \'any\' is set to True, the returned list will match any value in the\n  list of \'value\' parameter which has to be a list.\n\n- Make the exec and create playbook using ansible ""async"".\n  (WIP is to re-add the podman_container.changed in systemd playbook).\n\nNote: we don\'t manage Systemd resources with async, since it exposes\nrace conditions at the systemd level.\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}, {'number': 31, 'created': '2019-11-12 14:22:49.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/container_running.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/start_order.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/manage.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e26f817597cf9f5a08d2eb6d559d1f2cc1b7d031', 'message': 'tripleo-container-manage: use async\n\n- Add a new filter \'haskey\' which returns container data with a specific\n  config key. The filter takes a list of dicts and returns the dicts\n  which have a certain key given in parameter with \'attribute\'.\n  If \'reverse\' is set to True, the returned list won\'t contains dicts\n  which have the \'attribute\' value.\n  If \'any\' is set to True, the returned list will match any value in the\n  list of \'value\' parameter which has to be a list.\n\n- Make the exec and create playbook using ansible ""async"".\n  (WIP is to re-add the podman_container.changed in systemd playbook).\n\nNote: we don\'t manage Systemd resources with async, since it exposes\nrace conditions at the systemd level.\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n'}]",6,693216,e26f817597cf9f5a08d2eb6d559d1f2cc1b7d031,58,5,31,3153,,,0,"tripleo-container-manage: use async

- Add a new filter 'haskey' which returns container data with a specific
  config key. The filter takes a list of dicts and returns the dicts
  which have a certain key given in parameter with 'attribute'.
  If 'reverse' is set to True, the returned list won't contains dicts
  which have the 'attribute' value.
  If 'any' is set to True, the returned list will match any value in the
  list of 'value' parameter which has to be a list.

- Make the exec and create playbook using ansible ""async"".
  (WIP is to re-add the podman_container.changed in systemd playbook).

Note: we don't manage Systemd resources with async, since it exposes
race conditions at the systemd level.

Change-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/693216/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml']",3,85e74009143754b64db30218601fcbe12c5091be,concurrency,"# TODO(emilien) remove that playbook once we have the tasks moved to async - name: ""Async run the container exec for {{ container_name }}"""," - name: ""Run the container exec for {{ container_name }}""",54,10
openstack%2Fdevstack~stable%2Fstein~Ic3f4d6998a66da5226bc95088d7e3c83dfe737ce,openstack/devstack,stable/stein,Ic3f4d6998a66da5226bc95088d7e3c83dfe737ce,Add and switch to the newly created opensuse-15 nodeset,MERGED,2019-09-18 09:16:31.000000000,2019-11-12 22:52:11.000000000,2019-11-12 22:48:40.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 12907}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 09:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c69f58c4ced3117ad35e1fc8d6e347326262a808', 'message': 'Add and switch to the newly created opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nChange-Id: Ic3f4d6998a66da5226bc95088d7e3c83dfe737ce\n(cherry picked from commit 70fca49de75a77fd766d5b72f8757e4f7c0a7a48)\n'}, {'number': 2, 'created': '2019-11-01 10:11:50.000000000', 'files': ['.zuul.yaml', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7a3ccdfec75850c07a7554f0f829a23bb633a09b', 'message': 'Add and switch to the newly created opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nDepends-On: https://review.opendev.org/682882\nChange-Id: Ic3f4d6998a66da5226bc95088d7e3c83dfe737ce\n(cherry picked from commit 70fca49de75a77fd766d5b72f8757e4f7c0a7a48)\n'}]",0,682844,7a3ccdfec75850c07a7554f0f829a23bb633a09b,16,4,2,6593,,,0,"Add and switch to the newly created opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

Depends-On: https://review.opendev.org/682882
Change-Id: Ic3f4d6998a66da5226bc95088d7e3c83dfe737ce
(cherry picked from commit 70fca49de75a77fd766d5b72f8757e4f7c0a7a48)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/44/682844/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'stack.sh']",2,c69f58c4ced3117ad35e1fc8d6e347326262a808,use-opensuse-15,if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f28|f29|opensuse-15.0|opensuse-15.1|opensuse-tumbleweed|rhel7) ]]; then,if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f28|f29|opensuse-42.3|opensuse-15.0|opensuse-tumbleweed|rhel7) ]]; then,7,7
openstack%2Ftempest~master~I62c2f80aa46133948a084775e72ed027c8005407,openstack/tempest,master,I62c2f80aa46133948a084775e72ed027c8005407,Remove unused opensuse150 job definition,MERGED,2019-09-18 12:06:57.000000000,2019-11-12 22:52:10.000000000,2019-11-12 22:48:39.000000000,"[{'_account_id': 5196}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-09-18 12:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fddb48eb32cd497887d5f8e3f17a7764f22a5f79', 'message': 'Remove unused opensuse150 job definition\n\nAfter all remaining users have been migrated we can\nremove this one.\n\nDepends-On: https://review.opendev.org/682879\nChange-Id: I62c2f80aa46133948a084775e72ed027c8005407\n'}, {'number': 2, 'created': '2019-11-01 10:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea0e3d871ee87fc67e71eee613ed2bdc8fee7f5f', 'message': 'Remove unused opensuse150 job definition\n\nAfter all remaining users have been migrated we can\nremove this one.\n\nDepends-On: https://review.opendev.org/692035\nChange-Id: I62c2f80aa46133948a084775e72ed027c8005407\n'}, {'number': 3, 'created': '2019-11-01 10:09:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8557f4653837f31144c37aed27e317261fb5b96a', 'message': 'Remove unused opensuse150 job definition\n\nAfter all remaining users have been migrated we can\nremove this one.\n\nDepends-On: https://review.opendev.org/692035\nDepends-On: https://review.opendev.org/692526\nChange-Id: I62c2f80aa46133948a084775e72ed027c8005407\n'}]",0,682882,8557f4653837f31144c37aed27e317261fb5b96a,32,6,3,6593,,,0,"Remove unused opensuse150 job definition

After all remaining users have been migrated we can
remove this one.

Depends-On: https://review.opendev.org/692035
Depends-On: https://review.opendev.org/692526
Change-Id: I62c2f80aa46133948a084775e72ed027c8005407
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/682882/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fddb48eb32cd497887d5f8e3f17a7764f22a5f79,use-opensuse-15,, name: tempest-full-py3-opensuse150 parent: tempest-full-py3 nodeset: devstack-single-node-opensuse-150 description: | ** DEPRECATED - please use tempest-full-py3-opensuse15 instead. voting: false - job:,0,8
openstack%2Fswift~master~I4211cfbd23eeb7badd834c1108823b416a186265,openstack/swift,master,I4211cfbd23eeb7badd834c1108823b416a186265,Put storage policy index in object-server responses,NEW,2019-11-12 17:32:58.000000000,2019-11-12 22:35:33.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 17:32:58.000000000', 'files': ['swift/obj/server.py', 'swift/common/utils.py', 'swift/common/middleware/copy.py', 'test/unit/obj/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6c55b49e6911204d0559cf1b9b126636f24dfe34', 'message': 'Put storage policy index in object-server responses\n\nNot going to worry about 507s and the like, but 2xx, 404, etc. could\nbenefit from returning that info.\n\nCo-Authored-By: Christian Hugo <hugo.christian@web.de>\nChange-Id: I4211cfbd23eeb7badd834c1108823b416a186265\nCloses-Bug: #1634382\n'}]",1,693893,6c55b49e6911204d0559cf1b9b126636f24dfe34,3,2,1,15343,,,0,"Put storage policy index in object-server responses

Not going to worry about 507s and the like, but 2xx, 404, etc. could
benefit from returning that info.

Co-Authored-By: Christian Hugo <hugo.christian@web.de>
Change-Id: I4211cfbd23eeb7badd834c1108823b416a186265
Closes-Bug: #1634382
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/693893/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/common/utils.py', 'swift/common/middleware/copy.py', 'test/unit/obj/test_server.py']",4,6c55b49e6911204d0559cf1b9b126636f24dfe34,bug/1634382," 'X-Backend-Storage-Policy-Index': '0', 'X-Backend-Storage-Policy-Index': '0', 'X-Backend-Storage-Policy-Index': '0', 'X-Backend-Storage-Policy-Index': '0', 'X-Backend-Storage-Policy-Index': '0', 'X-Backend-Storage-Policy-Index': '0', 'X-Backend-Storage-Policy-Index': '1', 'X-Object-Sysmeta-Ec-Frag-Index': '5', 'X-Backend-Storage-Policy-Index': '1', req = Request.blank('/sda1/p/a/c/o', headers={ 'X-Backend-Storage-Policy-Index': '1'}) 'X-Backend-Fragments': '{""%s"": [5]}' % put_timestamp, 'X-Object-Sysmeta-Ec-Frag-Index': '5', 'X-Backend-Storage-Policy-Index': '1', 'X-Backend-Storage-Policy-Index': '1', 'X-Object-Sysmeta-Ec-Frag-Index': '5', 'X-Backend-Storage-Policy-Index': '1', req = Request.blank('/sda1/p/a/c/o', headers={ 'X-Backend-Storage-Policy-Index': '1'}) self.assertEqual(resp.status_int, 200) 'X-Backend-Fragments': '{""%s"": [5]}' % put_timestamp, 'X-Object-Sysmeta-Ec-Frag-Index': '5', 'X-Backend-Storage-Policy-Index': '1', 'X-Backend-Storage-Policy-Index': '1', 'X-Object-Sysmeta-Ec-Frag-Index': '5', 'X-Backend-Storage-Policy-Index': '1', req = Request.blank('/sda1/p/a/c/o', headers={ 'X-Backend-Storage-Policy-Index': '1'}) 'X-Backend-Fragments': '{""%s"": [5]}' % put_timestamp, 'X-Object-Sysmeta-Ec-Frag-Index': '5', 'X-Backend-Storage-Policy-Index': '1', '404 - ""-"" ""-"" ""-"" 2.0000 ""-"" 1234 0'])"," req = Request.blank('/sda1/p/a/c/o') req = Request.blank('/sda1/p/a/c/o') req = Request.blank('/sda1/p/a/c/o') '404 - ""-"" ""-"" ""-"" 2.0000 ""-"" 1234 -'])",55,18
openstack%2Fnova~master~I098f91d8c498e5a85266e193ad37c08aca4792b2,openstack/nova,master,I098f91d8c498e5a85266e193ad37c08aca4792b2,Plumb allow_cross_cell_resize into compute API resize(),MERGED,2019-02-07 22:42:06.000000000,2019-11-12 21:17:33.000000000,2019-11-12 02:42:44.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27679}, {'_account_id': 29963}, {'_account_id': 30413}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-02-07 22:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be1b0be018d59f83fc5157717a28dc2083430450', 'message': 'WIP: Plumb allow_cross_cell_resize into compute API resize()\n\nJust like Mario and Luigi.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 2, 'created': '2019-02-08 01:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eefc1ecb425f349935629f58ebe5c0a5f84a3071', 'message': 'WIP: Plumb allow_cross_cell_resize into compute API resize()\n\nJust like Mario and Luigi.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 3, 'created': '2019-02-08 21:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db33c9c302a46fdfd492eb3e94c773d7c618bc76', 'message': 'WIP: Plumb allow_cross_cell_resize into compute API resize()\n\nJust like Mario and Luigi.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 4, 'created': '2019-02-11 17:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8ac5a00e88876b7c4f7b71a302f1c476811fa6f', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 5, 'created': '2019-02-11 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/874c54566239068bfb05bed9aa4e6cb476bd70d9', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 6, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9be9101da9b1c57de993a27736c99eddccd1feb0', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 7, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f1d349dfe646a4f54dcef2ab03b66cf1505ff91', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 8, 'created': '2019-02-18 19:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3473c1c11e78b1f3667cd1e1e18720e3fa158ee', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 9, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbddee033d984faf3b9c29064b21274029736808', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 10, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7c4fcf9714b68f70acf11e84a2977ced64689ac', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 11, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fab284fe61eeec59e0b17e1b1f3c45264c4345b6', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 12, 'created': '2019-03-08 23:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/784f8a4ee7ddcbf4a3fc34a702fc66935f81ea61', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 13, 'created': '2019-03-11 22:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61d0f73581c5109e189c0e2db9698f3c809e4147', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 14, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c929adeda608b9bb691591c642168c33b3276d26', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 15, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0582c3c6dd95cc8300a4771501fda71bac4531f9', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 16, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31e1e0a91586c5a1c093b58ae94fdfdbec45507c', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 17, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/564ac5005fc1f9c81d6b41b11350104ff52dba51', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 18, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e4c479cd47e705c8ad451d280f1e6814c7c4ed0', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 19, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f419814871817e5c8c9c274a93cee004a685bc9', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 20, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d25f22ee8d2e2535401153678caec337df100624', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 21, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d8a7c6f7a0ce311b52c7ae80858f16f073d7595', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 22, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc5980e6814fc9348a06fbd7ff1aad62d81cedd5', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 23, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea43eac9007defb4127f220eb0617864a3189ce1', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 24, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a49fc5c14cd68ea337c617edd141b2690f396647', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 25, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d194f4f2c5e72d2ba56f444c338ae4bccd7a4ad', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 26, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1b8d9722c24bb0bb230924d94c92fb48705790c', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 27, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/083719eb0a02c0a6d4145d39e7ed34cad347169c', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 28, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/736be92baa75511e2d4322f654a9fbf3ca01fb1b', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 29, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3cca6b72b8164bc097ae24d2deab5a3d820b887a', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 30, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dd3cca4bf795bb25e8c9d84522cd69576c0a7ac', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 31, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dc24ed20683781b7a4310d0f293e236180d352d', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 32, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fba5d646ef4c9789541eed241f6f92ad110396f3', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 33, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3301154eb7dc3b1f321f5f12cb2d064c46d85c4', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 34, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07b8cf644c549567ec28423dce36a35b97cfd905', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 35, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33a77bfb8542e06b0d35ca22b4e3f86df8f3bbb9', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 36, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d42a76cae583ab62a903e1c2539677fd8173d805', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 37, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d413c8b494b547ded925edcfd097948afb803b9c', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 38, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92bae8d6ddc33d2a6ee510d451a28cbedadd9fad', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 39, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4ad8767980c9fbf6f3d5a636fa919b370140d6f', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 40, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/788b8bffa2378273f0fd0b215bad8200513ea0e1', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 41, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2d945c82447f9c604f1bceca654cc2aaad5362f', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 42, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5699b7fdc8fb417d8703a03b6eedef703432485', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 43, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/408ff3a443073cee89c441afa9a8e4e79c221f9c', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 44, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23235679eaaa84ff9be3ba5ede666b2fc553eb68', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 45, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1cf39ef0f9482f7fc602ebb86c9526e9a7f29b1', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 46, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ba298f87d86dfde0893d978a84e3a4780ed6bd9', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 47, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a742de1423b042ce45beb28ca7aec253f51cb30', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 48, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/598642a5697aabfca1d54c1bc4995d6443808f13', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 49, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86e1c7c45539a3bb9d9112b4df02e44cc332b11a', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 50, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/004a06609fea6507c95afee5b2229e705b825d87', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 51, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5df1e37f44043499529ef8d320b8358c7865ac5', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 52, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47eeea1f8352e14988814d406c8c9b1ed2d30c5f', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}, {'number': 53, 'created': '2019-11-05 19:24:41.000000000', 'files': ['nova/conductor/rpcapi.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/conductor/api.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a2e53cacd3f6df268d861e2db69bfb0fe508419c', 'message': 'Plumb allow_cross_cell_resize into compute API resize()\n\nThis adds a stub method to the compute API which will\neventually perform a policy check and compute service\nversion check to determine if cross-cell resize is\nallowed when performing a resize or cold migration. This\nis always False for now but can be mocked for testing here\nand in subsequent changes that add functional tests for\nthe cross-cell resize flow before the confirm/revert code\nis ready.\n\nFor cold migration with a target host, validation logic\nis split out into a separate method to add the cross-cell\nvalidation of the target host since if cross-cell resize\nis allowed, the target host could be in another cell from\nwhere the instance currently exists.\n\nCurrently, the resize/migrate API actions are synchronous\nuntil conductor RPC casts to prep_resize() on the selected\ntarget compute service. This could be problematic during a\ncross-cell resize since that flow is orchestrated from\n(super)conductor and is synchronous, i.e. the compute services\ndo not RPC cast between each other like a traditional resize.\nUntil the 2.34 microversion, the live migrate API had the\nsame problem. If the request is allowed to perform a cross-cell\nresize then we will RPC cast from API to conductor. The API\nuser still gets a 202 response either way.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2\n'}]",17,635684,a2e53cacd3f6df268d861e2db69bfb0fe508419c,528,23,53,6873,,,0,"Plumb allow_cross_cell_resize into compute API resize()

This adds a stub method to the compute API which will
eventually perform a policy check and compute service
version check to determine if cross-cell resize is
allowed when performing a resize or cold migration. This
is always False for now but can be mocked for testing here
and in subsequent changes that add functional tests for
the cross-cell resize flow before the confirm/revert code
is ready.

For cold migration with a target host, validation logic
is split out into a separate method to add the cross-cell
validation of the target host since if cross-cell resize
is allowed, the target host could be in another cell from
where the instance currently exists.

Currently, the resize/migrate API actions are synchronous
until conductor RPC casts to prep_resize() on the selected
target compute service. This could be problematic during a
cross-cell resize since that flow is orchestrated from
(super)conductor and is synchronous, i.e. the compute services
do not RPC cast between each other like a traditional resize.
Until the 2.34 microversion, the live migrate API had the
same problem. If the request is allowed to perform a cross-cell
resize then we will RPC cast from API to conductor. The API
user still gets a 202 response either way.

Part of blueprint cross-cell-resize

Change-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/635684/49 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/rpcapi.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/conductor/api.py', 'nova/conductor/tasks/migrate.py', 'nova/cells/rpcapi.py', 'nova/compute/api.py']",6,be1b0be018d59f83fc5157717a28dc2083430450,bp/cross-cell-resize," @staticmethod def _allow_cross_cell_resize(context, instance): """"""Determine if the request can perform a cross-cell resize on this instance. :param context: nova auth request context for the resize operation :param instance: Instance object being resized :returns: True if cross-cell resize is allowed, False otherwise """""" # TODO(mriedem): Uncomment this when confirm/revert are done. For now # this method can just be used to internally enable the feature for # functional testing. # return context.can( # server_policies.CROSS_CELL_RESIZE, # target={'user_id': instance.user_id, # 'project_id': instance.project_id}, # fatal=False) return False @staticmethod def _validate_host_for_cold_migrate( context, instance, host_name, allow_cross_cell_resize): """"""Validates a host specified for cold migration. :param context: nova auth request context for the cold migration :param instance: Instance object being cold migrated :param host_name: User-specified compute service hostname for the desired destination of the instance during the cold migration :param allow_cross_cell_resize: If True, cross-cell resize is allowed for this operation and the host could be in a different cell from the one that the instance is currently in. If False, the speciifed host must be in the same cell as the instance. :returns: ComputeNode object of the requested host :raises: CannotMigrateToSameHost if the host is the same as the current instance.host :raises: ComputeHostNotFound if the specified host cannot be found """""" # Cannot migrate to the host where the instance exists # because it is useless. if host_name == instance.host: raise exception.CannotMigrateToSameHost() # Check whether host exists or not. If a cross-cell resize is # allowed, the host could be in another cell from the one the # instance is currently in, so we need to lookup the HostMapping # to get the cell and lookup the ComputeNode in that cell. if allow_cross_cell_resize: try: hm = objects.HostMapping.get_by_host(context, host_name) except exception.HostMappingNotFound: LOG.info('HostMapping not found for host: %s', host_name) raise exception.ComputeHostNotFound(host=host_name) with nova_context.target_cell(context, hm.cell_mapping) as cctxt: node = objects.ComputeNode.\ get_first_node_by_host_for_old_compat( cctxt, host_name, use_slave=True) else: node = objects.ComputeNode.get_first_node_by_host_for_old_compat( context, host_name, use_slave=True) return node allow_cross_cell_resize = self._allow_cross_cell_resize( context, instance) if host_name is not None: node = self._validate_host_for_cold_migrate( context, instance, host_name, allow_cross_cell_resize) # clear the 'requested_destination' field of the RequestSpec # except set the allow_cross_cell_move flag since conductor uses # it prior to scheduling. request_spec.requested_destination = objects.Destination( allow_cross_cell_move=allow_cross_cell_resize) host=node.host, node=node.hypervisor_hostname, allow_cross_cell_move=allow_cross_cell_resize) # This is by default a synchronous RPC call to conductor which does not # return until the MigrationTask in conductor RPC casts to the # prep_resize method on the selected destination nova-compute service. # However, if we are allowed to do a cross-cell resize, then we # asynchronously RPC cast since the CrossCellMigrationTask is blocking. request_spec=request_spec, do_cast=allow_cross_cell_resize)"," if host_name is not None: # Cannot migrate to the host where the instance exists # because it is useless. if host_name == instance.host: raise exception.CannotMigrateToSameHost() # Check whether host exists or not. node = objects.ComputeNode.get_first_node_by_host_for_old_compat( context, host_name, use_slave=True) # clear the 'requested_destination' field of the RequestSpec. request_spec.requested_destination = None host=node.host, node=node.hypervisor_hostname) request_spec=request_spec)",93,24
openstack%2Ftripleo-quickstart-extras~master~I3a537e057e24a38a37178ad510d341ca062a3c0e,openstack/tripleo-quickstart-extras,master,I3a537e057e24a38a37178ad510d341ca062a3c0e,Clone os_tempest and it's dependencies in nodepool,MERGED,2019-11-11 13:52:42.000000000,2019-11-12 21:01:46.000000000,2019-11-12 21:01:46.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-11 13:52:42.000000000', 'files': ['roles/nodepool-setup/tasks/clone-ci-repos.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2ab94b7f7c175663ed9a1eb8e5049b70301ea710', 'message': ""Clone os_tempest and it's dependencies in nodepool\n\nWhile running quickstart.sh locally, these repos needs to clonned\nby the nodepool so that while running tempest using os_tempest\nit does not complains.\n\nChange-Id: I3a537e057e24a38a37178ad510d341ca062a3c0e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,693698,2ab94b7f7c175663ed9a1eb8e5049b70301ea710,20,9,1,12393,,,0,"Clone os_tempest and it's dependencies in nodepool

While running quickstart.sh locally, these repos needs to clonned
by the nodepool so that while running tempest using os_tempest
it does not complains.

Change-Id: I3a537e057e24a38a37178ad510d341ca062a3c0e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/98/693698/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/nodepool-setup/tasks/clone-ci-repos.yml'],1,2ab94b7f7c175663ed9a1eb8e5049b70301ea710,ostempest," - ""ansible-config_template"" - ""ansible-role-python_venv_build"" - ""openstack-ansible-os_tempest""",,3,0
openstack%2Fopenstack-helm-infra~master~I249381777ed73a040efd1e1028bf49436ccf7e04,openstack/openstack-helm-infra,master,I249381777ed73a040efd1e1028bf49436ccf7e04,Fix Chart.yaml,ABANDONED,2019-11-12 18:56:44.000000000,2019-11-12 20:48:51.000000000,,"[{'_account_id': 17591}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28618}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-11-12 18:56:44.000000000', 'files': ['ingress/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92d45e1c7c9911954ea0855a41ef1be86b346e84', 'message': ""Fix Chart.yaml\n\nThe apiVersion in the ingress chart's Chart.yaml is strangely missing,\ncausing some version of the helm linter to fail. This patchset places\nback the missing apiVersion into the Chart.yaml.\n\nChange-Id: I249381777ed73a040efd1e1028bf49436ccf7e04\nSigned-off-by: Tin Lam <tin@irrational.io>\n""}]",0,693905,92d45e1c7c9911954ea0855a41ef1be86b346e84,8,5,1,20466,,,0,"Fix Chart.yaml

The apiVersion in the ingress chart's Chart.yaml is strangely missing,
causing some version of the helm linter to fail. This patchset places
back the missing apiVersion into the Chart.yaml.

Change-Id: I249381777ed73a040efd1e1028bf49436ccf7e04
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/05/693905/1 && git format-patch -1 --stdout FETCH_HEAD,['ingress/Chart.yaml'],1,92d45e1c7c9911954ea0855a41ef1be86b346e84,fix/version,apiVersion: v1,,1,0
openstack%2Fglance~stable%2Fstein~Ia76b107a137a39716253631e5a8d294f7ee9614e,openstack/glance,stable/stein,Ia76b107a137a39716253631e5a8d294f7ee9614e,Switch to opensuse-15 nodeset,MERGED,2019-10-30 06:10:32.000000000,2019-11-12 20:46:42.000000000,2019-11-12 17:30:24.000000000,"[{'_account_id': 4146}, {'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 06:10:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/1783eb546ed490846aebdb232281c781fcf952c9', 'message': 'Switch to opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nThe new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,\nchange tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.\n\nChange-Id: Ia76b107a137a39716253631e5a8d294f7ee9614e\n(cherry picked from commit e45d5e3b9259620914ff3e3c5fa67dd23de1879c)\n'}]",0,692035,1783eb546ed490846aebdb232281c781fcf952c9,23,4,1,6547,,,0,"Switch to opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

The new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,
change tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.

Change-Id: Ia76b107a137a39716253631e5a8d294f7ee9614e
(cherry picked from commit e45d5e3b9259620914ff3e3c5fa67dd23de1879c)
",git fetch https://review.opendev.org/openstack/glance refs/changes/35/692035/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1783eb546ed490846aebdb232281c781fcf952c9,use-opensuse-15, - tempest-full-py3-opensuse15:, - tempest-full-py3-opensuse150:,1,1
openstack%2Fkeystone~master~I7c068e350811e22622d1f1e7d8b0a55d4d7cab11,openstack/keystone,master,I7c068e350811e22622d1f1e7d8b0a55d4d7cab11,Drop project.id foreign keys,MERGED,2019-10-10 00:00:39.000000000,2019-11-12 20:44:12.000000000,2019-11-12 20:42:23.000000000,"[{'_account_id': 2}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 17499}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-10 00:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4bec607801b8614934ae9d32adc5d034c93b4c30', 'message': ""Drop project.id foreign keys\n\nIn 2bd88d30 we added a new column domain_id to the user table to\ndeduplicate the domain_id columns in the local_user and nonlocal_user\ntables, and at that point made the user.domain_id column a foreign key\nreferencing the project.id column. This is a problem that led to\n3d46c8a5 in which we removed the ability for the resource driver to be\npluggable, since we had linked two sql backends together and made them\nreliant on one another.\n\nThis commit removes the foreign key constraint from the user table and\nthe identity_provider table. For the user table, the sqlalchemy model\nnever reflected this schema so we don't need to change the model. For\nthe identity_provider table, we need to update the model. In both cases,\nwe already enforce, at the manager layer, the constraint that the\ndomain_id needs to reference a real domain ID[1][2], so we do not need\nto rely on this constraint at the database layer.\n\n[1] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/identity/core.py#L935\n[2] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/federation/core.py#L73-L77\n\nChange-Id: I7c068e350811e22622d1f1e7d8b0a55d4d7cab11\n""}, {'number': 2, 'created': '2019-10-10 00:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0956075d23678c046fcf9ec295efe5a56a643218', 'message': ""Drop project.id foreign keys\n\nIn 2bd88d30 we added a new column domain_id to the user table to\ndeduplicate the domain_id columns in the local_user and nonlocal_user\ntables, and at that point made the user.domain_id column a foreign key\nreferencing the project.id column. This is a problem that led to\n3d46c8a5 in which we removed the ability for the resource driver to be\npluggable, since we had linked two sql backends together and made them\nreliant on one another.\n\nThis commit removes the foreign key constraint from the user table and\nthe identity_provider table. For the user table, the sqlalchemy model\nnever reflected this schema so we don't need to change the model. For\nthe identity_provider table, we need to update the model. In both cases,\nwe already enforce, at the manager layer, the constraint that the\ndomain_id needs to reference a real domain ID[1][2], so we do not need\nto rely on this constraint at the database layer.\n\n[1] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/identity/core.py#L935\n[2] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/federation/core.py#L73-L77\n\nPartial-bug: #1672713\n\nChange-Id: I7c068e350811e22622d1f1e7d8b0a55d4d7cab11\n""}, {'number': 3, 'created': '2019-10-10 15:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9e331e938ba77df7d70a869327717eda112c92d0', 'message': ""Drop project.id foreign keys\n\nIn 2bd88d30 we added a new column domain_id to the user table to\ndeduplicate the domain_id columns in the local_user and nonlocal_user\ntables, and at that point made the user.domain_id column a foreign key\nreferencing the project.id column. This is a problem that led to\n3d46c8a5 in which we removed the ability for the resource driver to be\npluggable, since we had linked two sql backends together and made them\nreliant on one another.\n\nThis commit removes the foreign key constraint from the user table and\nthe identity_provider table. For the user table, the sqlalchemy model\nnever reflected this schema so we don't need to change the model. For\nthe identity_provider table, we need to update the model. In both cases,\nwe already enforce, at the manager layer, the constraint that the\ndomain_id needs to reference a real domain ID[1][2], so we do not need\nto rely on this constraint at the database layer.\n\n[1] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/identity/core.py#L935\n[2] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/federation/core.py#L73-L77\n\nPartial-bug: #1672713\nDepends-on: https://review.opendev.org/687770\n\nChange-Id: I7c068e350811e22622d1f1e7d8b0a55d4d7cab11\n""}, {'number': 4, 'created': '2019-10-11 21:13:10.000000000', 'files': ['releasenotes/notes/drop-project-id-fk-b683b414e1585be8.yaml', 'keystone/common/sql/data_migration_repo/versions/072_migrate_drop_domain_id_fk.py', 'keystone/common/sql/expand_repo/versions/072_expand_drop_domain_id_fk.py', 'keystone/federation/backends/sql.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/contract_repo/versions/072_contract_drop_domain_id_fk.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c4d60977881ac2f014dc6e2eaaba37892f075266', 'message': ""Drop project.id foreign keys\n\nIn 2bd88d30 we added a new column domain_id to the user table to\ndeduplicate the domain_id columns in the local_user and nonlocal_user\ntables, and at that point made the user.domain_id column a foreign key\nreferencing the project.id column. This is a problem that led to\n3d46c8a5 in which we removed the ability for the resource driver to be\npluggable, since we had linked two sql backends together and made them\nreliant on one another.\n\nThis commit removes the foreign key constraint from the user table and\nthe identity_provider table. For the user table, the sqlalchemy model\nnever reflected this schema so we don't need to change the model. For\nthe identity_provider table, we need to update the model. In both cases,\nwe already enforce, at the manager layer, the constraint that the\ndomain_id needs to reference a real domain ID[1][2], so we do not need\nto rely on this constraint at the database layer.\n\n[1] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/identity/core.py#L935\n[2] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/federation/core.py#L73-L77\n\nPartial-bug: #1672713\n\nChange-Id: I7c068e350811e22622d1f1e7d8b0a55d4d7cab11\n""}]",5,687753,c4d60977881ac2f014dc6e2eaaba37892f075266,26,8,4,8482,,,0,"Drop project.id foreign keys

In 2bd88d30 we added a new column domain_id to the user table to
deduplicate the domain_id columns in the local_user and nonlocal_user
tables, and at that point made the user.domain_id column a foreign key
referencing the project.id column. This is a problem that led to
3d46c8a5 in which we removed the ability for the resource driver to be
pluggable, since we had linked two sql backends together and made them
reliant on one another.

This commit removes the foreign key constraint from the user table and
the identity_provider table. For the user table, the sqlalchemy model
never reflected this schema so we don't need to change the model. For
the identity_provider table, we need to update the model. In both cases,
we already enforce, at the manager layer, the constraint that the
domain_id needs to reference a real domain ID[1][2], so we do not need
to rely on this constraint at the database layer.

[1] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/identity/core.py#L935
[2] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/federation/core.py#L73-L77

Partial-bug: #1672713

Change-Id: I7c068e350811e22622d1f1e7d8b0a55d4d7cab11
",git fetch https://review.opendev.org/openstack/keystone refs/changes/53/687753/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-project-id-fk-b683b414e1585be8.yaml', 'keystone/common/sql/expand_repo/versions/072_drop_domain_id_fk.py', 'keystone/common/sql/contract_repo/versions/072_drop_domain_id_fk.py', 'keystone/common/sql/data_migration_repo/versions/072_drop_domain_id_fk.py', 'keystone/federation/backends/sql.py', 'keystone/tests/unit/test_sql_upgrade.py']",6,4bec607801b8614934ae9d32adc5d034c93b4c30,resource-fk," def test_migration_072_drop_domain_id_fk(self): self.expand(71) self.migrate(71) self.contract(71) self.assertTrue(self.does_fk_exist('user', 'domain_id')) self.assertTrue(self.does_fk_exist('identity_provider', 'domain_id')) self.expand(72) self.migrate(72) self.contract(72) self.assertFalse(self.does_fk_exist('user', 'domain_id')) self.assertFalse(self.does_fk_exist('identity_provider', 'domain_id')) ",,112,2
openstack%2Fneutron~stable%2Frocky~I2d8693145da72825876b951f2d10afe9ca28ff6e,openstack/neutron,stable/rocky,I2d8693145da72825876b951f2d10afe9ca28ff6e,Increase timeout when waiting for dnsmasq enablement,MERGED,2019-10-31 14:21:23.000000000,2019-11-12 20:42:25.000000000,2019-11-12 20:42:25.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-10-31 14:21:23.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff0b7b00194d7ee38892c6c08de14f4da056ab2d', 'message': 'Increase timeout when waiting for dnsmasq enablement\n\nIn the reported bug, a regression was introduced in [1] when limiting\nthe time to have a ""dnsmasq"" process enabled. It has been reported, as\ndocumented in the bug, that in older versions (Queens), using Python 2\n[2] and older versions of ""ip_lib"" (not implementing most of the\ncommands using Pyroute2), that the time needed to spawn a ""dnsmasq""\nprocess exceeds the default 60 seconds defined in\n""common_utils.wait_until_true"".\n\nThis patch increases this time by a reasonable 300 seconds.\n\n[1] https://review.opendev.org/#/c/643732\n[2] https://bugs.python.org/issue35757\n\nChange-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e\nCloses-Bug: #1849676\n(cherry picked from commit aedc09917680bc77501f4b57142e73768e3d06ad)\n'}]",0,692378,ff0b7b00194d7ee38892c6c08de14f4da056ab2d,19,6,1,16688,,,0,"Increase timeout when waiting for dnsmasq enablement

In the reported bug, a regression was introduced in [1] when limiting
the time to have a ""dnsmasq"" process enabled. It has been reported, as
documented in the bug, that in older versions (Queens), using Python 2
[2] and older versions of ""ip_lib"" (not implementing most of the
commands using Pyroute2), that the time needed to spawn a ""dnsmasq""
process exceeds the default 60 seconds defined in
""common_utils.wait_until_true"".

This patch increases this time by a reasonable 300 seconds.

[1] https://review.opendev.org/#/c/643732
[2] https://bugs.python.org/issue35757

Change-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e
Closes-Bug: #1849676
(cherry picked from commit aedc09917680bc77501f4b57142e73768e3d06ad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/692378/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,ff0b7b00194d7ee38892c6c08de14f4da056ab2d,bug/1849676," common_utils.wait_until_true(self._enable, timeout=300)", common_utils.wait_until_true(self._enable),1,1
openstack%2Foctavia~stable%2Fstein~I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,openstack/octavia,stable/stein,I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,Improve the error message for bad pkcs12 bundles,MERGED,2019-09-23 13:14:28.000000000,2019-11-12 20:31:20.000000000,2019-11-12 20:29:09.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 13:14:28.000000000', 'files': ['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/base.py', 'octavia/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df', 'message': 'Improve the error message for bad pkcs12 bundles\n\nWhen a user loads a bad pkcs12 bundle or one with a pass phrase into\nbarbican and then uses it for a TLS-TERMINATED listener, the error\nwe return the user is misleading[1].\nThis patch improves the error message to point out that we got the\nbundle from barbican, but that it is unreadable and/or protected\nwith a pass phrase.\n\n[1] Could not retrieve certificate: [ ... ] (HTTP 400)\n\nChange-Id: I6ad0349dba62b1141be07bfb0e40171e9f7a91b9\nStory: 2006587\nTask: 36713\n(cherry picked from commit a0f4335c38cdf5d5c91877975b8f3c7b28e169eb)\n'}]",0,683954,a501714a76e04b33dfb24c4ead9956ed4696d1df,10,4,1,6469,,,0,"Improve the error message for bad pkcs12 bundles

When a user loads a bad pkcs12 bundle or one with a pass phrase into
barbican and then uses it for a TLS-TERMINATED listener, the error
we return the user is misleading[1].
This patch improves the error message to point out that we got the
bundle from barbican, but that it is unreadable and/or protected
with a pass phrase.

[1] Could not retrieve certificate: [ ... ] (HTTP 400)

Change-Id: I6ad0349dba62b1141be07bfb0e40171e9f7a91b9
Story: 2006587
Task: 36713
(cherry picked from commit a0f4335c38cdf5d5c91877975b8f3c7b28e169eb)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/54/683954/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/base.py', 'octavia/common/exceptions.py']",5,a501714a76e04b33dfb24c4ead9956ed4696d1df,,"class UnreadablePKCS12(APIException): msg = _(""The PKCS12 bundle is unreadable. Please check the PKCS12 bundle "" ""validity. In addition, make sure it does not require a pass "" ""phrase. Error: %(error)s"") code = 400 ",,33,1
openstack%2Foctavia~stable%2Frocky~I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,openstack/octavia,stable/rocky,I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,Improve the error message for bad pkcs12 bundles,MERGED,2019-09-23 14:01:50.000000000,2019-11-12 20:31:01.000000000,2019-11-12 20:29:05.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 14:01:50.000000000', 'files': ['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/08916abd2b6c24dc207dfe3560138901661c2922', 'message': 'Improve the error message for bad pkcs12 bundles\n\nWhen a user loads a bad pkcs12 bundle or one with a pass phrase into\nbarbican and then uses it for a TLS-TERMINATED listener, the error\nwe return the user is misleading[1].\nThis patch improves the error message to point out that we got the\nbundle from barbican, but that it is unreadable and/or protected\nwith a pass phrase.\n\n[1] Could not retrieve certificate: [ ... ] (HTTP 400)\n\nConflicts:\n    octavia/api/v2/controllers/base.py\n\nChange-Id: I6ad0349dba62b1141be07bfb0e40171e9f7a91b9\nStory: 2006587\nTask: 36713\n(cherry picked from commit a0f4335c38cdf5d5c91877975b8f3c7b28e169eb)\n(cherry picked from commit a501714a76e04b33dfb24c4ead9956ed4696d1df)\n'}]",0,683966,08916abd2b6c24dc207dfe3560138901661c2922,8,3,1,6469,,,0,"Improve the error message for bad pkcs12 bundles

When a user loads a bad pkcs12 bundle or one with a pass phrase into
barbican and then uses it for a TLS-TERMINATED listener, the error
we return the user is misleading[1].
This patch improves the error message to point out that we got the
bundle from barbican, but that it is unreadable and/or protected
with a pass phrase.

[1] Could not retrieve certificate: [ ... ] (HTTP 400)

Conflicts:
    octavia/api/v2/controllers/base.py

Change-Id: I6ad0349dba62b1141be07bfb0e40171e9f7a91b9
Story: 2006587
Task: 36713
(cherry picked from commit a0f4335c38cdf5d5c91877975b8f3c7b28e169eb)
(cherry picked from commit a501714a76e04b33dfb24c4ead9956ed4696d1df)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/66/683966/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/exceptions.py']",5,08916abd2b6c24dc207dfe3560138901661c2922,,"class UnreadablePKCS12(APIException): msg = _(""The PKCS12 bundle is unreadable. Please check the PKCS12 bundle "" ""validity. In addition, make sure it does not require a pass "" ""phrase. Error: %(error)s"") code = 400 ",,34,1
openstack%2Ftripleo-ansible~master~Ia58fd299942954c39214bad76cbcf40ad4371f18,openstack/tripleo-ansible,master,Ia58fd299942954c39214bad76cbcf40ad4371f18,Fix enabled_services to include all_nodes_extra_map_data,MERGED,2019-11-11 16:49:03.000000000,2019-11-12 20:16:47.000000000,2019-11-12 18:42:11.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-11 16:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f853fa7ff14da2d275a0d49205a395075ac9d71a', 'message': 'Fix enabled_services to include all_nodes_extra_map_data\n\nWhen the tripleo-hieradata role was imported[1] from tripleo-common[2],\nthe handling to create all_enabled_services from enabled_services and\nall_nodes_extra_map_data was lost.\n\nThis caused several data items to be missing in the multi-stack case.\n\nThis patch restores the original functionality.\n\n[1] https://review.opendev.org/#/c/673364/\n[2] https://review.opendev.org/#/c/673366/\n\nChange-Id: Ia58fd299942954c39214bad76cbcf40ad4371f18\n'}, {'number': 2, 'created': '2019-11-11 18:07:16.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98a9181fad3904e3a82dc128834e8099ca55119b', 'message': 'Fix enabled_services to include all_nodes_extra_map_data\n\nWhen the tripleo-hieradata role was imported[1] from tripleo-common[2],\nthe handling to create all_enabled_services from enabled_services and\nall_nodes_extra_map_data was lost.\n\nThis caused several data items to be missing in the multi-stack case.\n\nThis patch restores the original functionality.\n\n[1] https://review.opendev.org/#/c/673364/\n[2] https://review.opendev.org/#/c/673366/\n\nChange-Id: Ia58fd299942954c39214bad76cbcf40ad4371f18\n'}]",0,693729,98a9181fad3904e3a82dc128834e8099ca55119b,11,4,2,7144,,,0,"Fix enabled_services to include all_nodes_extra_map_data

When the tripleo-hieradata role was imported[1] from tripleo-common[2],
the handling to create all_enabled_services from enabled_services and
all_nodes_extra_map_data was lost.

This caused several data items to be missing in the multi-stack case.

This patch restores the original functionality.

[1] https://review.opendev.org/#/c/673364/
[2] https://review.opendev.org/#/c/673366/

Change-Id: Ia58fd299942954c39214bad76cbcf40ad4371f18
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/693729/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'],1,f853fa7ff14da2d275a0d49205a395075ac9d71a,,"{% set all_enabled_services = ((enabled_services + all_nodes_extra_map_data['enabled_services'] | default ([])) | unique) %} {% set _ = all_nodes.__setitem__('enabled_services', all_enabled_services)) %} {% for service in all_enabled_services %}","{% set _ = all_nodes.__setitem__('enabled_services', ((enabled_services + all_nodes_extra_map_data['enabled_services'] | default ([])) | unique)) %} {% for service in enabled_services %}",3,2
openstack%2Fpuppet-pacemaker~master~I1c74f11b2c0d5e925a3a04de2ecb35c354496c4c,openstack/puppet-pacemaker,master,I1c74f11b2c0d5e925a3a04de2ecb35c354496c4c,Add a more clear error message when we fail to backup cib,MERGED,2019-11-06 20:25:20.000000000,2019-11-12 20:16:28.000000000,2019-11-12 17:10:57.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 20:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/223c7d95e9bc5c26dcb1e6210cadeb7a0eb0a28b', 'message': ""Add a more clear error message when we fail to backup cib\n\nCurrently people get 'unable to get cib' error messages and assume\nthat the cluster is in a bad state. This error can be returned\nin mainly two cases:\nA) When the cluster is down or has issues and pcs is unable to get the CIB\nB) pcs is being run from within a container and the pcmk version in the\n   container is not compatible with the pcmk version running on the\n   host.\n\nChange-Id: I1c74f11b2c0d5e925a3a04de2ecb35c354496c4c\n""}, {'number': 2, 'created': '2019-11-12 14:40:47.000000000', 'files': ['lib/puppet/provider/pcmk_common.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/74969a6ce523aef0b0126c18520b7f51990fbb1b', 'message': ""Add a more clear error message when we fail to backup cib\n\nCurrently people get 'unable to get cib' error messages and assume\nthat the cluster is in a bad state. This error can be returned\nin mainly two cases:\nA) When the cluster is down or has issues and pcs is unable to get the CIB\nB) pcs is being run from within a container and the pcmk version in the\n   container is not compatible with the pcmk version running on the\n   host.\n\nChange-Id: I1c74f11b2c0d5e925a3a04de2ecb35c354496c4c\n""}]",0,693251,74969a6ce523aef0b0126c18520b7f51990fbb1b,20,7,2,20172,,,0,"Add a more clear error message when we fail to backup cib

Currently people get 'unable to get cib' error messages and assume
that the cluster is in a bad state. This error can be returned
in mainly two cases:
A) When the cluster is down or has issues and pcs is unable to get the CIB
B) pcs is being run from within a container and the pcmk version in the
   container is not compatible with the pcmk version running on the
   host.

Change-Id: I1c74f11b2c0d5e925a3a04de2ecb35c354496c4c
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/51/693251/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/pcmk_common.rb'],1,223c7d95e9bc5c26dcb1e6210cadeb7a0eb0a28b,error_msg," msg = ""backup_cib: Running: #{cmd} failed with code: #{ret.exitstatus} -> #{output}."" \ "" Either the cluster was not running or the versions of pcmk/pcs between host and container are not matching"""," msg = ""backup_cib: Running: #{cmd} failed with code: #{ret.exitstatus} -> #{output}""",2,1
openstack%2Ftripleo-heat-templates~master~I6f318ee653a8d3673c5e508ff62952c96474136d,openstack/tripleo-heat-templates,master,I6f318ee653a8d3673c5e508ff62952c96474136d,Updates for dcn/dcn-hci sample envs,MERGED,2019-11-08 18:29:17.000000000,2019-11-12 20:14:35.000000000,2019-11-12 16:22:48.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 18:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0400944616d31dec90344a4454ebb136c493f29', 'message': 'Updates for dcn/dcn-hic sample envs\n\nAdds a mapping for OS::TripleO::Network::Ports::OVNDBsVipPort to\nOS::Heat::None for dcn stacks, and adds the ManageNetworks parameter to\nsample environments.\n\nChange-Id: I6f318ee653a8d3673c5e508ff62952c96474136d\n'}, {'number': 2, 'created': '2019-11-08 18:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/410f1be0a3b20644311021ee8df050b6162d68f0', 'message': 'Updates for dcn/dcn-hci sample envs\n\nAdds a mapping for OS::TripleO::Network::Ports::OVNDBsVipPort to\nOS::Heat::None for dcn stacks, and adds the ManageNetworks parameter to\nsample environments.\n\nChange-Id: I6f318ee653a8d3673c5e508ff62952c96474136d\n'}, {'number': 3, 'created': '2019-11-08 19:02:45.000000000', 'files': ['environments/dcn-hci.yaml', 'environments/dcn.yaml', 'sample-env-generator/dcn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/132aec7cdc9cb35d078dabde0eca1bcccc5c8ecc', 'message': 'Updates for dcn/dcn-hci sample envs\n\nAdds a mapping for OS::TripleO::Network::Ports::OVNDBsVipPort to\nOS::Heat::None for dcn stacks, and adds the ManageNetworks parameter to\nsample environments.\n\nChange-Id: I6f318ee653a8d3673c5e508ff62952c96474136d\n'}]",0,693572,132aec7cdc9cb35d078dabde0eca1bcccc5c8ecc,14,5,3,7144,,,0,"Updates for dcn/dcn-hci sample envs

Adds a mapping for OS::TripleO::Network::Ports::OVNDBsVipPort to
OS::Heat::None for dcn stacks, and adds the ManageNetworks parameter to
sample environments.

Change-Id: I6f318ee653a8d3673c5e508ff62952c96474136d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/693572/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/dcn-hci.yaml', 'environments/dcn.yaml', 'sample-env-generator/dcn.yaml']",3,b0400944616d31dec90344a4454ebb136c493f29,, network/external.yaml: parameters: - ManageNetworks OS::TripleO::Network::Ports::OVNDBsVipPort: ../network/ports/noop.yaml,,14,0
openstack%2Ftripleo-heat-templates~master~I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02,openstack/tripleo-heat-templates,master,I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02,Add ManageNetworks parameter,MERGED,2019-11-06 19:29:24.000000000,2019-11-12 20:13:41.000000000,2019-11-12 00:42:47.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-11-06 19:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/251aeef8b641ff05cbdac04040a7a4994b98442e', 'message': 'Add ManageNetworks parameter\n\nThe ManageNetworks parameter has been added. The parameter controls\nmanagement of the network and related resources (subnets and segments) with\neither create, update, or delete operations (depending on the stack\noperation).  Does not apply to ports which will always be managed as\nneeded. Defaults to true.\n\nFor multi-stack use cases where the network\nrelated resources have already been managed by a separate stack, this\nparameter can be set to false.\n\nChange-Id: I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02\n'}, {'number': 2, 'created': '2019-11-08 18:29:17.000000000', 'files': ['network/network.j2', 'releasenotes/notes/manage-networks-9b1e5be19180deff.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aade43dd12498a54fba34e056342ed480ae9c5f7', 'message': 'Add ManageNetworks parameter\n\nThe ManageNetworks parameter has been added. The parameter controls\nmanagement of the network and related resources (subnets and segments) with\neither create, update, or delete operations (depending on the stack\noperation).  Does not apply to ports which will always be managed as\nneeded. Defaults to true.\n\nFor multi-stack use cases where the network\nrelated resources have already been managed by a separate stack, this\nparameter can be set to false.\n\nChange-Id: I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02\n'}]",2,693235,aade43dd12498a54fba34e056342ed480ae9c5f7,20,9,2,7144,,,0,"Add ManageNetworks parameter

The ManageNetworks parameter has been added. The parameter controls
management of the network and related resources (subnets and segments) with
either create, update, or delete operations (depending on the stack
operation).  Does not apply to ports which will always be managed as
needed. Defaults to true.

For multi-stack use cases where the network
related resources have already been managed by a separate stack, this
parameter can be set to false.

Change-Id: I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/693235/2 && git format-patch -1 --stdout FETCH_HEAD,"['network/network.j2', 'releasenotes/notes/manage-networks-9b1e5be19180deff.yaml']",2,251aeef8b641ff05cbdac04040a7a4994b98442e,,"--- features: - The ManageNetworks parameter has been added. The parameter controls management of the network and related resources (subnets and segments) with either create, update, or delete operations (depending on the stack operation). Does not apply to ports which will always be managed as needed. Defaults to true. For multi-stack use cases where the network related resources have already been managed by a separate stack, this parameter can be set to false. ",,46,3
openstack%2Fceilometer~master~Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,openstack/ceilometer,master,Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,Add loadbalancer resource type.,MERGED,2019-11-07 21:38:31.000000000,2019-11-12 20:12:00.000000000,2019-11-11 14:38:07.000000000,"[{'_account_id': 2424}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-07 21:38:31.000000000', 'files': ['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/cd9e199076b1e3cb8ef6e6bc3e7844b0d23f7e48', 'message': 'Add loadbalancer resource type.\n\nAdds the loadbalancer resource type for usage\nwith the network.services.lb.* metrics.\n\nChange-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f\nCloses-Bug: #1848286\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}]",0,693432,cd9e199076b1e3cb8ef6e6bc3e7844b0d23f7e48,14,4,1,2276,,,0,"Add loadbalancer resource type.

Adds the loadbalancer resource type for usage
with the network.services.lb.* metrics.

Change-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f
Closes-Bug: #1848286
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/32/693432/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/gnocchi_client.py', 'ceilometer/publisher/data/gnocchi_resources.yaml']",2,cd9e199076b1e3cb8ef6e6bc3e7844b0d23f7e48,bug/1848286, - resource_type: loadbalancer metrics: network.services.lb.outgoing.bytes: network.services.lb.incoming.bytes: network.services.lb.pool: network.services.lb.listener: network.services.lb.member: network.services.lb.health_monitor: network.services.lb.loadbalancer: network.services.lb.total.connections: network.services.lb.active.connections:,,18,0
openstack%2Ftripleo-common~stable%2Fstein~I780ec27c206c508cf68d0ce16ef269b5d1b92581,openstack/tripleo-common,stable/stein,I780ec27c206c508cf68d0ce16ef269b5d1b92581,Fix ceilometer_agent_compute health check,MERGED,2019-11-12 12:42:16.000000000,2019-11-12 20:03:18.000000000,2019-11-12 20:02:12.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 12:42:16.000000000', 'files': ['healthcheck/ceilometer-agent-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/234efc00b83c2933a1d4083563b2cb9456ac67fd', 'message': 'Fix ceilometer_agent_compute health check\n\nThe agent communicates via Redis (not RabbitMQ), so it should look\nfor that port instead\n\nChange-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581\n(cherry picked from commit 0e64162d02b4769816e8f93179a246ccf032675d)\n'}]",0,693837,234efc00b83c2933a1d4083563b2cb9456ac67fd,8,3,1,5241,,,0,"Fix ceilometer_agent_compute health check

The agent communicates via Redis (not RabbitMQ), so it should look
for that port instead

Change-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581
(cherry picked from commit 0e64162d02b4769816e8f93179a246ccf032675d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/693837/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ceilometer-agent-compute'],1,234efc00b83c2933a1d4083563b2cb9456ac67fd,ceilometer-compute-hc-stable/stein,"args=""${@:-6379}"" echo ""There is no $process process with opened Redis ports ($ports) running in the container""","args=""${@:-5671 5672}"" echo ""There is no $process process with opened RabbitMQ ports ($ports) running in the container""",2,2
openstack%2Ftripleo-common~stable%2Ftrain~I780ec27c206c508cf68d0ce16ef269b5d1b92581,openstack/tripleo-common,stable/train,I780ec27c206c508cf68d0ce16ef269b5d1b92581,Fix ceilometer_agent_compute health check,MERGED,2019-11-12 12:42:05.000000000,2019-11-12 20:03:18.000000000,2019-11-12 20:02:11.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 12:42:05.000000000', 'files': ['healthcheck/ceilometer-agent-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a0c7845485069781bac45a24ced535a075bb55a8', 'message': 'Fix ceilometer_agent_compute health check\n\nThe agent communicates via Redis (not RabbitMQ), so it should look\nfor that port instead\n\nChange-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581\n(cherry picked from commit 0e64162d02b4769816e8f93179a246ccf032675d)\n'}]",0,693836,a0c7845485069781bac45a24ced535a075bb55a8,8,3,1,5241,,,0,"Fix ceilometer_agent_compute health check

The agent communicates via Redis (not RabbitMQ), so it should look
for that port instead

Change-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581
(cherry picked from commit 0e64162d02b4769816e8f93179a246ccf032675d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/693836/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ceilometer-agent-compute'],1,a0c7845485069781bac45a24ced535a075bb55a8,ceilometer-compute-hc-stable/train,"args=""${@:-6379}"" echo ""There is no $process process with opened Redis ports ($ports) running in the container""","args=""${@:-5671 5672}"" echo ""There is no $process process with opened RabbitMQ ports ($ports) running in the container""",2,2
openstack%2Ftripleo-common~stable%2Frocky~I780ec27c206c508cf68d0ce16ef269b5d1b92581,openstack/tripleo-common,stable/rocky,I780ec27c206c508cf68d0ce16ef269b5d1b92581,Fix ceilometer_agent_compute health check,MERGED,2019-11-12 12:46:59.000000000,2019-11-12 20:02:13.000000000,2019-11-12 20:02:12.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 12:46:59.000000000', 'files': ['healthcheck/ceilometer-agent-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b8906f3eae2c97ae045dc12974b126af71903d52', 'message': 'Fix ceilometer_agent_compute health check\n\nThe agent communicates via Redis (not RabbitMQ), so it should look\nfor that port instead\n\nChange-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581\n(cherry picked from commit 0e64162d02b4769816e8f93179a246ccf032675d)\n'}]",0,693840,b8906f3eae2c97ae045dc12974b126af71903d52,7,3,1,5241,,,0,"Fix ceilometer_agent_compute health check

The agent communicates via Redis (not RabbitMQ), so it should look
for that port instead

Change-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581
(cherry picked from commit 0e64162d02b4769816e8f93179a246ccf032675d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/40/693840/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ceilometer-agent-compute'],1,b8906f3eae2c97ae045dc12974b126af71903d52,ceilometer-compute-hc-stable/rocky,"args=""${@:-6379}"" ports=${args// /,} echo ""There is no $process process with opened Redis ports ($ports) running in the container"" exit 1","args=""${@:-5671 5672}"" ports=${args// /,} echo ""There is no $process process with opened RabbitMQ ports ($ports) running in the container"" exit 1",4,4
openstack%2Ftripleo-ansible~master~Ia16edde342b0c86c31c5715a28dbfe370cfb3246,openstack/tripleo-ansible,master,Ia16edde342b0c86c31c5715a28dbfe370cfb3246,Include ceph-ansible filter_plugins,MERGED,2019-11-11 21:39:41.000000000,2019-11-12 19:43:01.000000000,2019-11-12 18:42:13.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-11 21:39:41.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/64f6d3ba1979e21fdf5392a056c13f313220be3e', 'message': ""Include ceph-ansible filter_plugins\n\nAs of version 4, ceph-ansible ships it's own filter_plugins [1]\nso we need to include them in the environment when tripleo\nexecutes ceph-ansible.\n\nCloses-Bug: #1852136\n\n[1] https://github.com/ceph/ceph-ansible/commit/5fea830414e7eb4cf6f1d0008834e2c4b205b131\n\nChange-Id: Ia16edde342b0c86c31c5715a28dbfe370cfb3246\n""}]",0,693749,64f6d3ba1979e21fdf5392a056c13f313220be3e,13,7,1,18002,,,0,"Include ceph-ansible filter_plugins

As of version 4, ceph-ansible ships it's own filter_plugins [1]
so we need to include them in the environment when tripleo
executes ceph-ansible.

Closes-Bug: #1852136

[1] https://github.com/ceph/ceph-ansible/commit/5fea830414e7eb4cf6f1d0008834e2c4b205b131

Change-Id: Ia16edde342b0c86c31c5715a28dbfe370cfb3246
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/693749/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'],1,64f6d3ba1979e21fdf5392a056c13f313220be3e,bug/1852136, - ANSIBLE_FILTER_PLUGINS=/usr/share/ceph-ansible/plugins/filter/,,1,0
openstack%2Ftripleo-ansible~master~I91e6abfbe4ab00730f11d42ab651f80f9a160c72,openstack/tripleo-ansible,master,I91e6abfbe4ab00730f11d42ab651f80f9a160c72,DNM: WIP: Add basic centos-8 jobs,ABANDONED,2019-11-12 17:46:36.000000000,2019-11-12 19:34:50.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-11-12 17:46:36.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f768f90817a8fe3b777af5cd3b0754a86f347f2f', 'message': 'DNM: WIP: Add basic centos-8 jobs\n\nChange-Id: I91e6abfbe4ab00730f11d42ab651f80f9a160c72\n'}]",0,693896,f768f90817a8fe3b777af5cd3b0754a86f347f2f,6,4,1,10969,,,0,"DNM: WIP: Add basic centos-8 jobs

Change-Id: I91e6abfbe4ab00730f11d42ab651f80f9a160c72
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/693896/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/base.yaml']",2,f768f90817a8fe3b777af5cd3b0754a86f347f2f,fix/centos8, - job: description: Base tripleo-ansible job on centos-8 name: tripleo-ansible-centos-8-base nodeset: centos-8 parent: tripleo-ansible-centos-7-base,,16,0
openstack%2Ftripleo-ansible~stable%2Ftrain~If6e99c65084db35a2a4aa1e76b0b89fb5902794a,openstack/tripleo-ansible,stable/train,If6e99c65084db35a2a4aa1e76b0b89fb5902794a,Fix ssh_known_hosts hostname entries,MERGED,2019-11-12 12:28:20.000000000,2019-11-12 19:26:52.000000000,2019-11-12 18:12:01.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-12 12:28:20.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'releasenotes/notes/fix_ssh-known-hosts-2520b9d6f67458b7.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84dd53a386cdc75816131a80683481a4307aa39d', 'message': 'Fix ssh_known_hosts hostname entries\n\nPreviously the tripleo-ssh-known-hosts ansible role used the list of\nnetwork names to create the different possible hostnames in the\nssh_known_hosts file. The network names do not match the actual network\nhostnames, like internal_api vs. internalapi which results in ssh host\nverification to fail and e.g. live migration to fail.\n\nThis changes to use the _hostname inventory information to be used to add\nhostname information to the ssh_known_hosts file.\n\nChange-Id: If6e99c65084db35a2a4aa1e76b0b89fb5902794a\nCloses-Bug: #1852064\n(cherry picked from commit a5bcbc8d015b792b3546ecbb139506f248dacfe8)\n'}]",0,693831,84dd53a386cdc75816131a80683481a4307aa39d,10,7,1,17216,,,0,"Fix ssh_known_hosts hostname entries

Previously the tripleo-ssh-known-hosts ansible role used the list of
network names to create the different possible hostnames in the
ssh_known_hosts file. The network names do not match the actual network
hostnames, like internal_api vs. internalapi which results in ssh host
verification to fail and e.g. live migration to fail.

This changes to use the _hostname inventory information to be used to add
hostname information to the ssh_known_hosts file.

Change-Id: If6e99c65084db35a2a4aa1e76b0b89fb5902794a
Closes-Bug: #1852064
(cherry picked from commit a5bcbc8d015b792b3546ecbb139506f248dacfe8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/693831/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'releasenotes/notes/fix_ssh-known-hosts-2520b9d6f67458b7.yaml']",2,84dd53a386cdc75816131a80683481a4307aa39d,1852064-stable/train,"--- fixes: - | Previously the tripleo-ssh-known-hosts ansible role used the list of network names to create the different possible hostnames in the ssh_known_hosts file. The network names do not match the actual network hostnames, like internal_api vs. internalapi which results in ssh host verification to fail and e.g. live migration to fail. This changes to use the _hostname inventory information to be used to add hostname information to the ssh_known_hosts file. ",,12,2
openstack%2Ftripleo-ansible~master~If6e99c65084db35a2a4aa1e76b0b89fb5902794a,openstack/tripleo-ansible,master,If6e99c65084db35a2a4aa1e76b0b89fb5902794a,Fix ssh_known_hosts hostname entries,MERGED,2019-11-11 11:32:43.000000000,2019-11-12 19:26:37.000000000,2019-11-12 12:16:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-11 11:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6946b5337b4a4e496e8018cbf0a0663a5239b71c', 'message': 'Fix ssh_known_hosts hostname entries\n\nPreviously the tripleo-ssh-known-hosts ansible role used the list of\nnetwork names to create the different possible hostnames in the\nssh_known_hosts file. The network names do not match the actual network\nhostnames, like internal_api vs. internalapi which results in ssh host\nverification to fail and e.g. live migration to fail.\n\nThis changes to use the _hostname inventory information to be used to add\nhostname information to the ssh_known_hosts file.\n\nChange-Id: If6e99c65084db35a2a4aa1e76b0b89fb5902794a\nCloses-Bug: #1852064\n'}, {'number': 2, 'created': '2019-11-11 12:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/357f0383f95f4786167b8233976239e8e7f9ab5e', 'message': 'Fix ssh_known_hosts hostname entries\n\nPreviously the tripleo-ssh-known-hosts ansible role used the list of\nnetwork names to create the different possible hostnames in the\nssh_known_hosts file. The network names do not match the actual network\nhostnames, like internal_api vs. internalapi which results in ssh host\nverification to fail and e.g. live migration to fail.\n\nThis changes to use the _hostname inventory information to be used to add\nhostname information to the ssh_known_hosts file.\n\nChange-Id: If6e99c65084db35a2a4aa1e76b0b89fb5902794a\nCloses-Bug: #1852064\n'}, {'number': 3, 'created': '2019-11-11 13:13:20.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'releasenotes/notes/fix_ssh-known-hosts-2520b9d6f67458b7.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a5bcbc8d015b792b3546ecbb139506f248dacfe8', 'message': 'Fix ssh_known_hosts hostname entries\n\nPreviously the tripleo-ssh-known-hosts ansible role used the list of\nnetwork names to create the different possible hostnames in the\nssh_known_hosts file. The network names do not match the actual network\nhostnames, like internal_api vs. internalapi which results in ssh host\nverification to fail and e.g. live migration to fail.\n\nThis changes to use the _hostname inventory information to be used to add\nhostname information to the ssh_known_hosts file.\n\nChange-Id: If6e99c65084db35a2a4aa1e76b0b89fb5902794a\nCloses-Bug: #1852064\n'}]",3,693683,a5bcbc8d015b792b3546ecbb139506f248dacfe8,19,10,3,17216,,,0,"Fix ssh_known_hosts hostname entries

Previously the tripleo-ssh-known-hosts ansible role used the list of
network names to create the different possible hostnames in the
ssh_known_hosts file. The network names do not match the actual network
hostnames, like internal_api vs. internalapi which results in ssh host
verification to fail and e.g. live migration to fail.

This changes to use the _hostname inventory information to be used to add
hostname information to the ssh_known_hosts file.

Change-Id: If6e99c65084db35a2a4aa1e76b0b89fb5902794a
Closes-Bug: #1852064
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/693683/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'releasenotes/notes/fix_ssh-known-hosts-2520b9d6f67458b7.yaml']",2,6946b5337b4a4e496e8018cbf0a0663a5239b71c,1852064,"--- fixes: - | Previously the tripleo-ssh-known-hosts ansible role used the list of network names to create the different possible hostnames in the ssh_known_hosts file. The network names do not match the actual network hostnames, like internal_api vs. internalapi which results in ssh host verification to fail and e.g. live migration to fail. This changes to use the _hostname inventory information to be used to add hostname information to the ssh_known_hosts file. ",,12,2
openstack%2Ftempest~master~Ibb5599ce48712b94dbf591e4a30cf3906cb5cdde,openstack/tempest,master,Ibb5599ce48712b94dbf591e4a30cf3906cb5cdde,tempest cleanup - use admin_mgr only,MERGED,2019-10-04 14:41:20.000000000,2019-11-12 19:01:47.000000000,2019-11-12 19:00:05.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 12393}, {'_account_id': 18916}, {'_account_id': 19016}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 28543}, {'_account_id': 30674}]","[{'number': 1, 'created': '2019-10-04 14:41:20.000000000', 'files': ['tempest/cmd/cleanup.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7ca8602380d5959c273799fb0fae7d2b32cde9ea', 'message': ""tempest cleanup - use admin_mgr only\n\nAvoid using temporary managers and use only the admin one. The tool\nhas been using the admin_mgr for listing projects, roles, for listing\nall resources during initializing a saved state so why don't use it also\nfor deleting all of the resources?\nThis wil solve the Unauthorized issue happening when the tool\nwas requesting credentials for the project from a different\ndomain.\n\nCloses-bug: #1766582\n\nChange-Id: Ibb5599ce48712b94dbf591e4a30cf3906cb5cdde\n""}]",0,686738,7ca8602380d5959c273799fb0fae7d2b32cde9ea,42,15,1,22873,,,0,"tempest cleanup - use admin_mgr only

Avoid using temporary managers and use only the admin one. The tool
has been using the admin_mgr for listing projects, roles, for listing
all resources during initializing a saved state so why don't use it also
for deleting all of the resources?
This wil solve the Unauthorized issue happening when the tool
was requesting credentials for the project from a different
domain.

Closes-bug: #1766582

Change-Id: Ibb5599ce48712b94dbf591e4a30cf3906cb5cdde
",git fetch https://review.opendev.org/openstack/tempest refs/changes/38/686738/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/cleanup.py'],1,7ca8602380d5959c273799fb0fae7d2b32cde9ea,cleanup," svc = service(self.admin_mgr, **kwargs)"," self.admin_role_added = [] self._add_admin(project['id']) self._remove_admin_user_roles() def _remove_admin_user_roles(self): project_ids = self.admin_role_added LOG.debug(""Removing admin user roles where needed for projects: %s"", project_ids) for project_id in project_ids: self._remove_admin_role(project_id) kwargs = {""username"": CONF.auth.admin_username, ""password"": CONF.auth.admin_password, ""project_name"": project['name']} mgr = clients.Manager(credentials=credentials.get_credentials( **kwargs)) svc = service(mgr, **kwargs) def _add_admin(self, project_id): rl_cl = self.admin_mgr.roles_v3_client needs_role = True roles = rl_cl.list_user_roles_on_project(project_id, self.admin_id)['roles'] for role in roles: if role['id'] == self.admin_role_id: needs_role = False LOG.debug(""User already had admin privilege for this project"") if needs_role: LOG.debug(""Adding admin privilege for : %s"", project_id) rl_cl.create_user_role_on_project(project_id, self.admin_id, self.admin_role_id) self.admin_role_added.append(project_id) def _remove_admin_role(self, project_id): LOG.debug(""Remove admin user role for projectt: %s"", project_id) # Must initialize Admin Manager for each user role # Otherwise authentication exception is thrown, weird id_cl = clients.Manager( credentials.get_configured_admin_credentials()).identity_client if (self._project_exists(project_id)): try: id_cl.delete_role_from_user_on_project(project_id, self.admin_id, self.admin_role_id) except Exception as ex: LOG.exception(""Failed removing role from project which still "" ""exists, exception: %s"", ex) def _project_exists(self, project_id): pr_cl = self.admin_mgr.projects_client try: p = pr_cl.show_project(project_id) LOG.debug(""Project is: %s"", str(p)) return True except Exception as ex: LOG.debug(""Project no longer exists? %s"", ex) return False ",1,58
openstack%2Frequirements~master~Iac0723f8424b319ad8848383eb6a872621b13276,openstack/requirements,master,Iac0723f8424b319ad8848383eb6a872621b13276,update constraint for oslo.messaging to new release 10.3.0,MERGED,2019-11-11 16:14:22.000000000,2019-11-12 19:01:23.000000000,2019-11-12 19:00:07.000000000,"[{'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-11 16:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/363d10ec6df476e7e5ad8e4a81a8ebfcf90cbef7', 'message': 'update constraint for oslo.messaging to new release 10.3.0\n\nChange-Id: Iac0723f8424b319ad8848383eb6a872621b13276\nmeta:version: 10.3.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: If1b1c74109f678fedf10704bb2db8322d79f7e25\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Takashi NATSUME <natsume.takashi@lab.ntt.co.jp>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-11-12 02:51:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cdbb461eb55ad037aba321256e23215a3ebccde3', 'message': 'update constraint for oslo.messaging to new release 10.3.0\n\nChange-Id: Iac0723f8424b319ad8848383eb6a872621b13276\nmeta:version: 10.3.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: If1b1c74109f678fedf10704bb2db8322d79f7e25\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Takashi NATSUME <natsume.takashi@lab.ntt.co.jp>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,693723,cdbb461eb55ad037aba321256e23215a3ebccde3,14,4,2,11131,,,0,"update constraint for oslo.messaging to new release 10.3.0

Change-Id: Iac0723f8424b319ad8848383eb6a872621b13276
meta:version: 10.3.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: If1b1c74109f678fedf10704bb2db8322d79f7e25
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Takashi NATSUME <natsume.takashi@lab.ntt.co.jp>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/693723/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,363d10ec6df476e7e5ad8e4a81a8ebfcf90cbef7,new-release,oslo.messaging===10.3.0,oslo.messaging===10.2.0,1,1
openstack%2Ftripleo-ansible~master~I3f38ea132390867b455790c9c1c0507b13beb836,openstack/tripleo-ansible,master,I3f38ea132390867b455790c9c1c0507b13beb836,Create role to do puppet cache actions,MERGED,2019-11-11 22:58:52.000000000,2019-11-12 18:42:12.000000000,2019-11-12 18:42:12.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-11 22:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b80e5ce0bfa90c7ac49ea962aeaa4f32138934a8', 'message': ""Create role to do puppet cache actions\n\nRather than inline this code in the deploy steps, let's use a proper\nrole that can just be included.\n\nChange-Id: I3f38ea132390867b455790c9c1c0507b13beb836\n""}, {'number': 2, 'created': '2019-11-11 23:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c8ab7afe153e3ff6feae1a96acc01dd1d614cdf', 'message': ""Create role to do puppet cache actions\n\nRather than inline this code in the deploy steps, let's use a proper\nrole that can just be included.\n\nChange-Id: I3f38ea132390867b455790c9c1c0507b13beb836\n""}, {'number': 3, 'created': '2019-11-11 23:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/752289a8f35e7643bc5db2c0808945b57c32341a', 'message': ""Create role to do puppet cache actions\n\nRather than inline this code in the deploy steps, let's use a proper\nrole that can just be included.\n\nChange-Id: I3f38ea132390867b455790c9c1c0507b13beb836\n""}, {'number': 4, 'created': '2019-11-12 00:15:05.000000000', 'files': ['tripleo_ansible/roles/tripleo-puppet-cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-puppet-cache/meta/main.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/playbook.yml', 'doc/source/roles/role-tripleo-puppet-cache.rst', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/Dockerfile'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cfe4f38b596df5850e40298ef877cb066ffc7754', 'message': ""Create role to do puppet cache actions\n\nRather than inline this code in the deploy steps, let's use a proper\nrole that can just be included.\n\nChange-Id: I3f38ea132390867b455790c9c1c0507b13beb836\n""}]",1,693755,cfe4f38b596df5850e40298ef877cb066ffc7754,12,4,4,14985,,,0,"Create role to do puppet cache actions

Rather than inline this code in the deploy steps, let's use a proper
role that can just be included.

Change-Id: I3f38ea132390867b455790c9c1c0507b13beb836
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/693755/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-puppet-cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-puppet-cache/meta/main.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/playbook.yml', 'doc/source/roles/role-tripleo-puppet-cache.rst', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-puppet-cache/molecule/default/molecule.yml']",10,b80e5ce0bfa90c7ac49ea962aeaa4f32138934a8,tripleo-puppet-cache,"--- driver: name: docker log: true platforms: - name: centos7 hostname: centos7 image: centos:7 dockerfile: Dockerfile pkg_extras: python-setuptools easy_install: - pip environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" - name: centos8 hostname: centos8 image: centos:8 dockerfile: Dockerfile pkg_extras: python*-setuptools environment: <<: *env provisioner: name: ansible log: true env: ANSIBLE_STDOUT_CALLBACK: yaml scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy lint: enabled: false verifier: name: testinfra lint: name: flake8 ",,323,1
openstack%2Fopenstack-ansible-os_keystone~master~Ic9cc341edb6f2f0ba76bd301c9782fbcc5951544,openstack/openstack-ansible-os_keystone,master,Ic9cc341edb6f2f0ba76bd301c9782fbcc5951544,Standardize on nginx-extras,MERGED,2019-11-05 15:51:51.000000000,2019-11-12 18:41:49.000000000,2019-11-09 01:25:11.000000000,"[{'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-05 15:51:51.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/461245350b52d9ba6edc0ac474c6c6d2cb16ea3e', 'message': 'Standardize on nginx-extras\n\nThe use of nginx-full causes a service restart on package update\nwhich brings down the keystone endpoints.\n\nChange-Id: Ic9cc341edb6f2f0ba76bd301c9782fbcc5951544\nRelated-Bug: 1847395\n'}]",0,693033,461245350b52d9ba6edc0ac474c6c6d2cb16ea3e,20,4,1,7414,,,0,"Standardize on nginx-extras

The use of nginx-full causes a service restart on package update
which brings down the keystone endpoints.

Change-Id: Ic9cc341edb6f2f0ba76bd301c9782fbcc5951544
Related-Bug: 1847395
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/33/693033/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,461245350b52d9ba6edc0ac474c6c6d2cb16ea3e,bugs/1847395, - nginx-extras, - nginx-full,1,1
openstack%2Fopenstack-helm~master~Iad0f69666a28fabedd49b266c8a9de1ec3410dd6,openstack/openstack-helm,master,Iad0f69666a28fabedd49b266c8a9de1ec3410dd6,Add Barbican ingress Network Policy,MERGED,2019-10-22 19:47:42.000000000,2019-11-12 18:39:54.000000000,2019-11-12 18:37:17.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-22 19:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec38d8f0b23bad8b8898211016ae4bed1798ddff', 'message': 'Add Barbican ingress Network Policy\n\nMove Barbican Network Policies into a dedicated\noverride. Configure magnum to have the access to\nBarbican.\n\nChange-Id: Iad0f69666a28fabedd49b266c8a9de1ec3410dd6\n'}, {'number': 2, 'created': '2019-10-23 14:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f8f5f9b43f50b7260311a190d7831810f4a842e0', 'message': 'Add Barbican ingress Network Policy\n\nMove Barbican Network Policies into a dedicated\noverride. Configure magnum to have the access to\nBarbican.\n\nChange-Id: Iad0f69666a28fabedd49b266c8a9de1ec3410dd6\n'}, {'number': 3, 'created': '2019-10-28 19:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4cb1f2d85a66c237136fc28a0ac1626baeb045c7', 'message': 'Add Barbican ingress Network Policy\n\nMove Barbican Network Policies into a dedicated\noverride. Configure magnum to have the access to\nBarbican.\n\nChange-Id: Iad0f69666a28fabedd49b266c8a9de1ec3410dd6\n'}, {'number': 4, 'created': '2019-10-28 20:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/255563e25e2357b78a6faa82688accfddba3ab29', 'message': 'Add Barbican ingress Network Policy\n\nMove Barbican Network Policies into a dedicated\noverride. Configure magnum to have the access to\nBarbican.\n\nChange-Id: Iad0f69666a28fabedd49b266c8a9de1ec3410dd6\n'}, {'number': 5, 'created': '2019-11-11 07:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/402a1f635406ef809ac77f15bc733fa4ca6af0cb', 'message': 'Add Barbican ingress Network Policy\n\nMove Barbican Network Policies into a dedicated\noverride. Configure magnum to have the access to\nBarbican.\n\nChange-Id: Iad0f69666a28fabedd49b266c8a9de1ec3410dd6\n'}, {'number': 6, 'created': '2019-11-12 16:49:42.000000000', 'files': ['barbican/values.yaml', 'barbican/values_overrides/netpol.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb1feb46e2e83f5e76a2e16af4498b23fb41999a', 'message': 'Add Barbican ingress Network Policy\n\nMove Barbican Network Policies into a dedicated\noverride. Configure magnum to have the access to\nBarbican.\n\nChange-Id: Iad0f69666a28fabedd49b266c8a9de1ec3410dd6\n'}]",2,690391,cb1feb46e2e83f5e76a2e16af4498b23fb41999a,32,13,6,8749,,,0,"Add Barbican ingress Network Policy

Move Barbican Network Policies into a dedicated
override. Configure magnum to have the access to
Barbican.

Change-Id: Iad0f69666a28fabedd49b266c8a9de1ec3410dd6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/690391/6 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/values.yaml', 'barbican/values_overrides/netpol.yaml']",2,ec38d8f0b23bad8b8898211016ae4bed1798ddff,netpol,manifests: network_policy: true network_policy: barbican: ingress: - from: - podSelector: matchLabels: application: barbican - podSelector: matchLabels: application: ingress - podSelector: matchLabels: application: horizon - podSelector: matchLabels: application: magnum ports: - protocol: TCP port: 80 - protocol: TCP port: 9311 egress: - {} ,,29,15
openstack%2Fpuppet-swift~master~Ie0fe6d3b8a3f350c181fd318ba207be14b83b08a,openstack/puppet-swift,master,Ie0fe6d3b8a3f350c181fd318ba207be14b83b08a,Add parameter client_timeout,MERGED,2019-11-08 14:59:22.000000000,2019-11-12 18:39:11.000000000,2019-11-12 18:38:01.000000000,"[{'_account_id': 6476}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 14:59:22.000000000', 'files': ['manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb', 'releasenotes/notes/swift-client-timeout-295562f78eba486b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7a1851920da7f7491b38308d6303695d381bde8f', 'message': 'Add parameter client_timeout\n\nThis add parameter client_timeout as new parameter for class proxy.\n\nChange-Id: Ie0fe6d3b8a3f350c181fd318ba207be14b83b08a\n'}]",0,693547,7a1851920da7f7491b38308d6303695d381bde8f,10,5,1,29349,,,0,"Add parameter client_timeout

This add parameter client_timeout as new parameter for class proxy.

Change-Id: Ie0fe6d3b8a3f350c181fd318ba207be14b83b08a
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/47/693547/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb', 'releasenotes/notes/swift-client-timeout-295562f78eba486b.yaml']",3,7a1851920da7f7491b38308d6303695d381bde8f,client_timeout,--- features: - | Added new parameter client_timeout to proxy class that can be used to configure the timeout to read one chunk from a client. ,,13,0
openstack%2Fswift~master~I80c3eb536a7e0fc415c05027cf2a977915f2e325,openstack/swift,master,I80c3eb536a7e0fc415c05027cf2a977915f2e325,recon: Stop logging tracebacks for well-known failures,NEW,2019-11-12 17:32:19.000000000,2019-11-12 18:36:13.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 17:32:19.000000000', 'files': ['swift/common/middleware/recon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/54eed1edf13acf2d3337eac0a8b327e9a849d5ef', 'message': ""recon: Stop logging tracebacks for well-known failures\n\nThey mostly just add noise to the log; log a desciption of the error,\nbut that should be plenty.\n\nWhile we're at it, drop translations and bring missing-recon-file\nproblems down to just warnings.\n\nChange-Id: I80c3eb536a7e0fc415c05027cf2a977915f2e325\nCloses-Bug: #1646410\n""}]",1,693892,54eed1edf13acf2d3337eac0a8b327e9a849d5ef,3,2,1,15343,,,0,"recon: Stop logging tracebacks for well-known failures

They mostly just add noise to the log; log a desciption of the error,
but that should be plenty.

While we're at it, drop translations and bring missing-recon-file
problems down to just warnings.

Change-Id: I80c3eb536a7e0fc415c05027cf2a977915f2e325
Closes-Bug: #1646410
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/693892/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/recon.py'],1,54eed1edf13acf2d3337eac0a8b327e9a849d5ef,bug/1646410," except IOError as err: if err.errno == errno.ENOENT: self.logger.warning('Error reading recon cache file: %s', err) else: self.logger.error('Error reading recon cache file: %s', err) except (ValueError, TypeError) as err: self.logger.error('Error parsing recon cache file: %s', err) except Exception: self.logger.exception('Error retrieving recon data') except Exception as err: self.logger.error('Error listing devices: %s', err) self.logger.error('Error reading ringfile: %s', err) self.logger.error('Error reading swift.conf: %s', err)",from swift import gettext_ as _ except IOError: self.logger.exception(_('Error reading recon cache file')) except ValueError: self.logger.exception(_('Error parsing recon cache file')) except Exception: self.logger.exception(_('Error retrieving recon data')) except Exception: self.logger.exception(_('Error listing devices')) self.logger.exception(_('Error reading ringfile')) self.logger.exception(_('Error reading swift.conf')),12,10
openstack%2Floci~master~I43f1f1b1918ea47d2083d1e9c737b787271de318,openstack/loci,master,I43f1f1b1918ea47d2083d1e9c737b787271de318,Install agnostic libpython3-dev package instead of libpython3.5,ABANDONED,2019-11-11 22:30:53.000000000,2019-11-12 18:16:42.000000000,,"[{'_account_id': 8863}, {'_account_id': 14119}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-11-11 22:30:53.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/b4a423fe2a9816154d3a393f88d9f9684a8ad642', 'message': ""Install agnostic libpython3-dev package instead of libpython3.5\n\nAs default python in bionic is 3.6, shared library for this version is\nnot installed, that, at least, breakes uwsgi.\nUnfortunatelly there's no non-dev meta package for libpython3, so picked\nthe best fit: libpython3-dev.\n\nChange-Id: I43f1f1b1918ea47d2083d1e9c737b787271de318\n""}]",0,693753,b4a423fe2a9816154d3a393f88d9f9684a8ad642,5,4,1,8863,,,0,"Install agnostic libpython3-dev package instead of libpython3.5

As default python in bionic is 3.6, shared library for this version is
not installed, that, at least, breakes uwsgi.
Unfortunatelly there's no non-dev meta package for libpython3, so picked
the best fit: libpython3-dev.

Change-Id: I43f1f1b1918ea47d2083d1e9c737b787271de318
",git fetch https://review.opendev.org/openstack/loci refs/changes/53/693753/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b4a423fe2a9816154d3a393f88d9f9684a8ad642,,libpython3-dev [platform:dpkg python3],libpython3.5 [platform:dpkg python3],1,1
openstack%2Fneutron-vpnaas~master~Ifef966a1dcddf1b77209e3ce3adff7158c53f71e,openstack/neutron-vpnaas,master,Ifef966a1dcddf1b77209e3ce3adff7158c53f71e,fix tox python3 overrides,ABANDONED,2018-09-26 02:49:57.000000000,2019-11-12 17:54:28.000000000,,"[{'_account_id': 841}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-09-26 02:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/b1c49d3ecd90378b0cc150725c79346d7b932c09', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ifef966a1dcddf1b77209e3ce3adff7158c53f71e\n'}, {'number': 2, 'created': '2018-12-24 08:29:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/79d1262e98daccdb1a42dabb68d286e7457b005b', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ifef966a1dcddf1b77209e3ce3adff7158c53f71e\n'}]",0,605310,79d1262e98daccdb1a42dabb68d286e7457b005b,10,4,2,28543,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ifef966a1dcddf1b77209e3ce3adff7158c53f71e
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/10/605310/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b1c49d3ecd90378b0cc150725c79346d7b932c09,,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,11,0
openstack%2Fopenstack-helm-addons~master~I97465614c7f6136220b9dfe65ab5de16988f2d7e,openstack/openstack-helm-addons,master,I97465614c7f6136220b9dfe65ab5de16988f2d7e,Specify rabbitmq exchange for Ranger-agent queues,MERGED,2019-11-06 03:52:02.000000000,2019-11-12 17:42:03.000000000,2019-11-12 17:42:03.000000000,"[{'_account_id': 17966}, {'_account_id': 18524}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22786}, {'_account_id': 23928}, {'_account_id': 24999}, {'_account_id': 29585}]","[{'number': 1, 'created': '2019-11-06 03:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/e3b44d1ff54a39735fc820316e224f2a1cfd7261', 'message': 'Specify rabbitmq exchange for Ranger-agent queues\n\nChange-Id: I97465614c7f6136220b9dfe65ab5de16988f2d7e\n'}, {'number': 2, 'created': '2019-11-06 21:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/f0674919c50f5977d1f36723440287ddc2b66f80', 'message': 'Specify rabbitmq exchange for Ranger-agent queues\n\nChange-Id: I97465614c7f6136220b9dfe65ab5de16988f2d7e\n'}, {'number': 3, 'created': '2019-11-07 15:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6ec44e61238287a799438ee11abd81e992a872c8', 'message': 'Specify rabbitmq exchange for Ranger-agent queues\n\nChange-Id: I97465614c7f6136220b9dfe65ab5de16988f2d7e\n'}, {'number': 4, 'created': '2019-11-08 16:14:19.000000000', 'files': ['ranger/templates/deployment-ranger-services.yaml', 'ranger-agent/templates/bin/_health-probe.py.tpl', 'ranger-agent/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/38883b84c7fd18b70448f5ce471fe542d13d115f', 'message': 'Specify rabbitmq exchange for Ranger-agent queues\n\nChange-Id: I97465614c7f6136220b9dfe65ab5de16988f2d7e\n'}]",4,693114,38883b84c7fd18b70448f5ce471fe542d13d115f,20,9,4,19391,,,0,"Specify rabbitmq exchange for Ranger-agent queues

Change-Id: I97465614c7f6136220b9dfe65ab5de16988f2d7e
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/14/693114/4 && git format-patch -1 --stdout FETCH_HEAD,"['ranger-agent/templates/bin/_health-check.sh.tpl', 'ranger-agent/templates/bin/_health-probe.py.tpl']",2,e3b44d1ff54a39735fc820316e224f2a1cfd7261,, oslo_messaging.set_transport_defaults(control_exchange='ranger-agent'), oslo_messaging.set_transport_defaults(control_exchange='openstack'),1,43
openstack%2Fopenstack-helm~master~I4dca159827581cbe8d6ded3be85e732acbf60ed1,openstack/openstack-helm,master,I4dca159827581cbe8d6ded3be85e732acbf60ed1,"Merge component, developer and multinode ingress deployment scripts",MERGED,2019-10-07 14:15:53.000000000,2019-11-12 17:35:01.000000000,2019-11-12 17:33:38.000000000,"[{'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-07 14:15:53.000000000', 'files': ['doc/source/install/developer/kubernetes-and-common-setup.rst', 'doc/source/install/multinode.rst', 'tools/gate/playbooks/multinode-deploy.yaml', 'tools/deployment/component/common/ingress.sh', 'tools/gate/playbooks/multinode-tempest-deploy.yaml', 'tools/deployment/developer/common/030-ingress.sh', 'tools/deployment/multinode/020-ingress.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d893eadfbceceacdf8c1ee2dbb0f25c4ea2a99c8', 'message': 'Merge component, developer and multinode ingress deployment scripts\n\nFor simplification of deployment and maintenance, reduce the number\nof scripts that do usually the same.\nThe important part is that when user wants to do multinode deployment,\nOSH_DEPLOY_MULTINODE variable must be set before executing the script.\n\nFor now multinone script still stays, only to invoke the common one,\nbut in future it would be better to remove multinode scripts completely\nand let user call the common script with the right argument.\n\nChange-Id: I4dca159827581cbe8d6ded3be85e732acbf60ed1\n'}]",4,687061,d893eadfbceceacdf8c1ee2dbb0f25c4ea2a99c8,20,5,1,9963,,,0,"Merge component, developer and multinode ingress deployment scripts

For simplification of deployment and maintenance, reduce the number
of scripts that do usually the same.
The important part is that when user wants to do multinode deployment,
OSH_DEPLOY_MULTINODE variable must be set before executing the script.

For now multinone script still stays, only to invoke the common one,
but in future it would be better to remove multinode scripts completely
and let user call the common script with the right argument.

Change-Id: I4dca159827581cbe8d6ded3be85e732acbf60ed1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/61/687061/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/developer/kubernetes-and-common-setup.rst', 'doc/source/install/multinode.rst', 'tools/gate/playbooks/multinode-deploy.yaml', 'tools/deployment/component/common/ingress.sh', 'tools/gate/playbooks/multinode-tempest-deploy.yaml', 'tools/deployment/developer/common/030-ingress.sh', 'tools/deployment/multinode/020-ingress.sh']",7,d893eadfbceceacdf8c1ee2dbb0f25c4ea2a99c8,ingress-scripts-merge,export OSH_DEPLOY_MULTINODE=True ./tools/deployment/component/common/ingress.sh," #NOTE: Deploy global ingress : ${OSH_INFRA_PATH:=""../openstack-helm-infra""} tee /tmp/ingress-kube-system.yaml << EOF pod: replicas: error_page: 2 deployment: mode: cluster type: DaemonSet network: host_namespace: true EOF helm upgrade --install ingress-kube-system ${OSH_INFRA_PATH}/ingress \ --namespace=kube-system \ --values=/tmp/ingress-kube-system.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_INGRESS_KUBE_SYSTEM} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh kube-system #NOTE: Display info helm status ingress-kube-system #NOTE: Deploy namespaced ingress controllers for NAMESPACE in openstack ceph; do # Allow $OSH_EXTRA_HELM_ARGS_INGRESS_ceph and $OSH_EXTRA_HELM_ARGS_INGRESS_openstack overrides OSH_EXTRA_HELM_ARGS_INGRESS_NAMESPACE=""OSH_EXTRA_HELM_ARGS_INGRESS_${NAMESPACE}"" #NOTE: Deploy namespace ingress tee /tmp/ingress-${NAMESPACE}.yaml << EOF pod: replicas: ingress: 2 error_page: 2 EOF helm upgrade --install ingress-${NAMESPACE} ${OSH_INFRA_PATH}/ingress \ --namespace=${NAMESPACE} \ --values=/tmp/ingress-${NAMESPACE}.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${!OSH_EXTRA_HELM_ARGS_INGRESS_NAMESPACE} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh ${NAMESPACE} #NOTE: Display info helm status ingress-${NAMESPACE} done",52,57
openstack%2Fglance~feature%2Fmetadata-caching~Ia76b107a137a39716253631e5a8d294f7ee9614e,openstack/glance,feature/metadata-caching,Ia76b107a137a39716253631e5a8d294f7ee9614e,Switch to opensuse-15 nodeset,MERGED,2019-11-01 10:09:00.000000000,2019-11-12 17:34:40.000000000,2019-11-12 17:31:00.000000000,"[{'_account_id': 4146}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-01 10:09:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/2eaab495dd8cbfccfa1e15c3369f5153568fc817', 'message': 'Switch to opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nThe new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,\nchange tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.\n\nChange-Id: Ia76b107a137a39716253631e5a8d294f7ee9614e\n'}]",0,692526,2eaab495dd8cbfccfa1e15c3369f5153568fc817,8,3,1,6547,,,0,"Switch to opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

The new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,
change tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.

Change-Id: Ia76b107a137a39716253631e5a8d294f7ee9614e
",git fetch https://review.opendev.org/openstack/glance refs/changes/26/692526/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2eaab495dd8cbfccfa1e15c3369f5153568fc817,use-opensuse-15, - tempest-full-py3-opensuse15:, - tempest-full-py3-opensuse150:,1,1
openstack%2Ftempest~master~Ia215dba2b2495b79b762525e59bac527fba7a8bc,openstack/tempest,master,Ia215dba2b2495b79b762525e59bac527fba7a8bc,Switch to the opensuse-15 nodeset,ABANDONED,2019-10-22 22:55:03.000000000,2019-11-12 16:59:39.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 22:55:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/46a95ab9ef4c46ecdf6227d6958ae7f46af02589', 'message': ""Switch to the opensuse-15 nodeset\n\nWe are trying to deprecate the opensuse-150 label type in favor of the\nopensuse-15 label. The reason for this is opensuse 15, like centos,\ndoesn't support its older point releases and instead expects users to\nkeep up to date on its minor updates. This allows us to carry one fewer\nimage in opendev and ensures we are testing supported releases.\n\nChange-Id: Ia215dba2b2495b79b762525e59bac527fba7a8bc\n""}]",0,690435,46a95ab9ef4c46ecdf6227d6958ae7f46af02589,5,3,1,4146,,,0,"Switch to the opensuse-15 nodeset

We are trying to deprecate the opensuse-150 label type in favor of the
opensuse-15 label. The reason for this is opensuse 15, like centos,
doesn't support its older point releases and instead expects users to
keep up to date on its minor updates. This allows us to carry one fewer
image in opendev and ensures we are testing supported releases.

Change-Id: Ia215dba2b2495b79b762525e59bac527fba7a8bc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/35/690435/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,46a95ab9ef4c46ecdf6227d6958ae7f46af02589,use-opensuse-15,, name: tempest-full-py3-opensuse150 parent: tempest-full-py3 nodeset: devstack-single-node-opensuse-150 description: | ** DEPRECATED - please use tempest-full-py3-opensuse15 instead. voting: false - job:,0,8
openstack%2Fdevstack~stable%2Fstein~I6c628ed9710d06f51d8123167fc0b08155dd7750,openstack/devstack,stable/stein,I6c628ed9710d06f51d8123167fc0b08155dd7750,Switch to the opensuse-15 nodeset,ABANDONED,2019-10-22 23:08:43.000000000,2019-11-12 16:59:19.000000000,,"[{'_account_id': 6547}, {'_account_id': 12907}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 23:08:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/79b6fce8df570352f89279510761d48af9da7d60', 'message': ""Switch to the opensuse-15 nodeset\n\nWe are trying to deprecate the opensuse-150 label type in favor of the\nopensuse-15 label. The reason for this is opensuse 15, like centos,\ndoesn't support its older point releases and instead expects users to\nkeep up to date on its minor updates. This allows us to carry one fewer\nimage in opendev and ensures we are testing supported releases.\n\nChange-Id: I6c628ed9710d06f51d8123167fc0b08155dd7750\n""}]",0,690438,79b6fce8df570352f89279510761d48af9da7d60,5,3,1,4146,,,0,"Switch to the opensuse-15 nodeset

We are trying to deprecate the opensuse-150 label type in favor of the
opensuse-15 label. The reason for this is opensuse 15, like centos,
doesn't support its older point releases and instead expects users to
keep up to date on its minor updates. This allows us to carry one fewer
image in opendev and ensures we are testing supported releases.

Change-Id: I6c628ed9710d06f51d8123167fc0b08155dd7750
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/690438/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,79b6fce8df570352f89279510761d48af9da7d60,use-opensuse-15, name: devstack-single-node-opensuse-15 label: opensuse-15 name: devstack-platform-opensuse-15 nodeset: devstack-single-node-opensuse-15 - devstack-platform-opensuse-15, name: devstack-single-node-opensuse-150 label: opensuse-150 name: devstack-platform-opensuse-150 nodeset: devstack-single-node-opensuse-150 - devstack-platform-opensuse-150,5,5
openstack%2Fnetworking-ovn~stable%2Ftrain~I11891db3c48968b99b5a964ded2eb886d9851bc1,openstack/networking-ovn,stable/train,I11891db3c48968b99b5a964ded2eb886d9851bc1,"Revert ""Temporary jobs list change for stable/train""",MERGED,2019-10-08 08:44:03.000000000,2019-11-12 16:56:49.000000000,2019-11-12 16:53:53.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-08 08:44:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7a21e6f60fd3a7765ce4306f97b277d46ed99ca8', 'message': 'Revert ""Temporary jobs list change for stable/train""\n\nThis reverts commit 9e0d3600705da261f1bb4b8d1d0564e8c95f8881.\n\nhttps://review.opendev.org/#/c/684260/ is merged so tripleo-ci job\nshould pass again\n\nChange-Id: I11891db3c48968b99b5a964ded2eb886d9851bc1\n'}]",0,687244,7a21e6f60fd3a7765ce4306f97b277d46ed99ca8,26,5,1,21798,,,0,"Revert ""Temporary jobs list change for stable/train""

This reverts commit 9e0d3600705da261f1bb4b8d1d0564e8c95f8881.

https://review.opendev.org/#/c/684260/ is merged so tripleo-ci job
should pass again

Change-Id: I11891db3c48968b99b5a964ded2eb886d9851bc1
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/44/687244/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7a21e6f60fd3a7765ce4306f97b277d46ed99ca8,, - networking-ovn-tripleo-ci-centos-7-containers-multinode - networking-ovn-tripleo-ci-centos-7-containers-multinode, # TODO(bcafarel): make voting again and add back to gate jobs # when https://review.opendev.org/#/c/684260/ is merged - networking-ovn-tripleo-ci-centos-7-containers-multinode: voting: false,2,4
openstack%2Fpython-neutronclient~stable%2Fstein~I714efd1bc14cbba85f7b4caf6834ce375ff89547,openstack/python-neutronclient,stable/stein,I714efd1bc14cbba85f7b4caf6834ce375ff89547,Convert legacy functional jobs to zuulv3,ABANDONED,2019-11-02 09:34:09.000000000,2019-11-12 16:45:00.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 09:34:09.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/9297d7a19c917dbbca75a618bafb27f95776a4ba', 'message': 'Convert legacy functional jobs to zuulv3\n\nThis commit merges the legacy functional test jobs (core and adv-svcs)\ninto neutronclient-functional. FWaaS v1 was dropped in Stein and\nadv-svcs job now checks only VPNaaS, so it looks too much to have\na separate job for VPNaaS.\n\nNote that tls-proxy is disabled as the base class for functional tests\n(neutronclient.tests.functional.base.ClientTestBase) does not support\nHTTPS endpoints. This can be tackled separately.\n\nChange-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547\n(cherry picked from commit 6330cc1980958f57cb95684c8d7a1aaa89a7fbf6)\n'}]",0,692655,9297d7a19c917dbbca75a618bafb27f95776a4ba,6,2,1,6547,,,0,"Convert legacy functional jobs to zuulv3

This commit merges the legacy functional test jobs (core and adv-svcs)
into neutronclient-functional. FWaaS v1 was dropped in Stein and
adv-svcs job now checks only VPNaaS, so it looks too much to have
a separate job for VPNaaS.

Note that tls-proxy is disabled as the base class for functional tests
(neutronclient.tests.functional.base.ClientTestBase) does not support
HTTPS endpoints. This can be tackled separately.

Change-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547
(cherry picked from commit 6330cc1980958f57cb95684c8d7a1aaa89a7fbf6)
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/55/692655/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,9297d7a19c917dbbca75a618bafb27f95776a4ba,stein/backport/671468, OS_TEST_PATH = ./neutronclient/tests/functional, OS_TEST_PATH = ./neutronclient/tests/functional/core OS_NEUTRONCLIENT_EXEC_DIR = {envdir}/bin [testenv:functional-adv-svcs] setenv = OS_TEST_PATH = ./neutronclient/tests/functional/adv-svcs,24,18
openstack%2Fmonasca-notification~master~If0649a1fe6a5337a20f0aba9a1a4ea8a0dd04617,openstack/monasca-notification,master,If0649a1fe6a5337a20f0aba9a1a4ea8a0dd04617,Minimal fix for spawning periodic notification process,ABANDONED,2019-10-28 10:57:01.000000000,2019-11-12 16:32:01.000000000,,"[{'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 10:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/a896d88dfb240db20786de86f102927424bad3fc', 'message': 'Minimal fix for spawning periodic notification process\n\nThe current comparision between an int and a dict always returns\nfalse so the periodic notification process never spawns. This minimal\nfix should get it working again. A later patch could support user\ndefined periods.\n\nChange-Id: If0649a1fe6a5337a20f0aba9a1a4ea8a0dd04617\n'}, {'number': 2, 'created': '2019-10-28 11:03:45.000000000', 'files': ['monasca_notification/main.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/1daf9ac6aed7a7016f2f3b6979ad9f544400c05e', 'message': 'Minimal fix for spawning periodic notification process\n\nThe current comparision between an int and a dict always returns\nfalse so the periodic notification process never spawns. This minimal\nfix should get it working again. A later patch could support user\ndefined periods.\n\nStory: 2006783\nTask: 37313\nChange-Id: If0649a1fe6a5337a20f0aba9a1a4ea8a0dd04617\n'}]",0,691656,1daf9ac6aed7a7016f2f3b6979ad9f544400c05e,6,2,2,17669,,,0,"Minimal fix for spawning periodic notification process

The current comparision between an int and a dict always returns
false so the periodic notification process never spawns. This minimal
fix should get it working again. A later patch could support user
defined periods.

Story: 2006783
Task: 37313
Change-Id: If0649a1fe6a5337a20f0aba9a1a4ea8a0dd04617
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/56/691656/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/main.py'],1,a896d88dfb240db20786de86f102927424bad3fc,, if '60' in CONF.kafka.periodic.keys():, if 60 in CONF.kafka.periodic:,1,1
openstack%2Fcharm-heat~master~I03f7666378d23e6bfeb4fcc03fccba6033120a26,openstack/charm-heat,master,I03f7666378d23e6bfeb4fcc03fccba6033120a26,Charm helper sync for crm resource retry fix,MERGED,2019-11-12 15:16:24.000000000,2019-11-12 16:24:18.000000000,2019-11-12 16:24:18.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 15:16:24.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/ha/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/0e89dee68c0e292ab406926718aa71e670a34533', 'message': 'Charm helper sync for crm resource retry fix\n\nChange-Id: I03f7666378d23e6bfeb4fcc03fccba6033120a26\n'}]",0,693862,0e89dee68c0e292ab406926718aa71e670a34533,7,3,1,12549,,,0,"Charm helper sync for crm resource retry fix

Change-Id: I03f7666378d23e6bfeb4fcc03fccba6033120a26
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/62/693862/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/ha/utils.py'],1,0e89dee68c0e292ab406926718aa71e670a34533,ch-sync," _meta = 'meta migration-threshold=""INFINITY"" failure-timeout=""5s""' _haproxy_res: '{} op monitor interval=""5s""'.format(_meta)"," _haproxy_res: 'op monitor interval=""5s""'",2,1
openstack%2Ftripleo-ci~master~I7812fcfd17569b0c438f58bec73ab0f4b07e625c,openstack/tripleo-ci,master,I7812fcfd17569b0c438f58bec73ab0f4b07e625c,lint: maintenance chore,MERGED,2019-10-31 19:37:58.000000000,2019-11-12 16:22:47.000000000,2019-11-12 16:22:47.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-31 19:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5452ebb79c6adf2321182355bb0d68cfb68f3c4c', 'message': 'lint: maintenance chore\n\n- reverted previours workarounds\n- assures we run ansible-lint on our files\n- bumped linters\n- fixed new problems found by the linters\n\nChange-Id: I7812fcfd17569b0c438f58bec73ab0f4b07e625c\n'}, {'number': 2, 'created': '2019-11-11 17:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e951edec93a571ac1bc641c2dd4c361464b022a5', 'message': 'lint: maintenance chore\n\n- reverted previours workarounds\n- assures we run ansible-lint on our files\n- bumped linters\n- fixed new problems found by the linters\n\nChange-Id: I7812fcfd17569b0c438f58bec73ab0f4b07e625c\n'}, {'number': 3, 'created': '2019-11-11 17:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/12823afb9915cc3983558fe2d8e3a6e8380d9aa0', 'message': 'lint: maintenance chore\n\n- reverted previours workarounds\n- assures we run ansible-lint on our files\n- bumped linters\n- fixed new problems found by the linters\n\nChange-Id: I7812fcfd17569b0c438f58bec73ab0f4b07e625c\n'}, {'number': 4, 'created': '2019-11-11 18:01:07.000000000', 'files': ['test-requirements.txt', 'roles/tripleo-repos/handlers/main.yml', 'roles/build-containers/tasks/tag.yaml', 'roles/tripleo-repos/tests/test.yml', 'scripts/proxy-server/proxy-server.pp', 'roles/oooci-build-images/tasks/pre.yaml', 'roles/build-containers/templates/Dockerfile.j2', 'scripts/te-broker/te-broker.pp', 'test-environments/network-templates/ui-settings.pickle', 'scripts/te-broker/te_workers.service', '.pre-commit-config.yaml', 'roles/tripleo-repos/vars/main.yml', 'requirements.txt', 'roles/run-test/tasks/main.yaml', 'test-environments/ips-from-pool-all.yaml', 'scripts/delete-ovb-cloud.sh', 'roles/build-containers/tasks/post.yaml', 'roles/tripleo-repos/tests/inventory', 'test-environments/inject-trust-anchor-hiera.yaml', 'scripts/te-broker/geard.service', 'tox.ini', 'test-environments/ipv6-network-templates/ui-settings.pickle', 'scripts/te-broker/te-broker.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7b84c234435360520a52da7ae86a8a5ebd73f7d6', 'message': 'lint: maintenance chore\n\n- reverted previours workarounds\n- assures we run ansible-lint on our files\n- bumped linters\n- fixed new problems found by the linters\n\nChange-Id: I7812fcfd17569b0c438f58bec73ab0f4b07e625c\n'}]",2,692440,7b84c234435360520a52da7ae86a8a5ebd73f7d6,22,8,4,24162,,,0,"lint: maintenance chore

- reverted previours workarounds
- assures we run ansible-lint on our files
- bumped linters
- fixed new problems found by the linters

Change-Id: I7812fcfd17569b0c438f58bec73ab0f4b07e625c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/40/692440/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'roles/tripleo-repos/handlers/main.yml', 'roles/tripleo-repos/tests/test.yml', 'scripts/proxy-server/proxy-server.pp', 'roles/build-containers/templates/Dockerfile.j2', 'scripts/te-broker/te-broker.pp', 'test-environments/network-templates/ui-settings.pickle', 'scripts/te-broker/te_workers.service', '.pre-commit-config.yaml', 'roles/tripleo-repos/vars/main.yml', 'requirements.txt', 'test-environments/ips-from-pool-all.yaml', 'scripts/delete-ovb-cloud.sh', 'roles/tripleo-repos/tests/inventory', 'test-environments/inject-trust-anchor-hiera.yaml', 'scripts/te-broker/geard.service', 'tox.ini', 'test-environments/ipv6-network-templates/ui-settings.pickle', 'scripts/te-broker/te-broker.sh']",19,5452ebb79c6adf2321182355bb0d68cfb68f3c4c,,,,21,34
openstack%2Ftripleo-ci~master~I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e,openstack/tripleo-ci,master,I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e,Make scenario007-standalone vote + gate standalone-scenarios-full,MERGED,2019-08-08 12:37:57.000000000,2019-11-12 16:22:46.000000000,2019-11-12 16:22:46.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-08-08 12:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/553e9cfc123707740c0775ea010675e4117d2bb7', 'message': 'Make scenario007-standalone vote + gate standalone-scenarios-full\n\nMoves scenario007-standalone to voting: true and adds it to the\ngate in the tripleo-standalone-scenarios-full template. The parent\nof this change moves the job to os-tempest [1]\n\n[1] https://review.opendev.org/674228\n\nChange-Id: I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e\n'}, {'number': 2, 'created': '2019-11-05 15:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3167a9cec4fffd696347258067d2f412c6f6109d', 'message': 'Make scenario007-standalone vote + gate standalone-scenarios-full\n\nMoves scenario007-standalone to voting: true and adds it to the\ngate in the tripleo-standalone-scenarios-full template.\n\nChange-Id: I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e\n'}, {'number': 3, 'created': '2019-11-05 15:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/242120f2cb1eeea6c5d211d2fd8139910cffe72d', 'message': 'Make scenario007-standalone vote + gate standalone-scenarios-full\n\nMoves scenario007-standalone to voting: true and adds it to the\ngate in the tripleo-standalone-scenarios-full template. Tracked by\nTripleO CI squad at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1231\nChange-Id: I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e\n'}, {'number': 4, 'created': '2019-11-05 16:11:01.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b42c622df2131b22f3a3b10c2a6cf1523e99744e', 'message': 'Make scenario007-standalone vote + gate standalone-scenarios-full\n\nMoves scenario007-standalone to voting: true and adds it to the\ngate in the tripleo-standalone-scenarios-full template. Tracked by\nTripleO CI squad at [1]. Job is pretty stable at [2]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1231\n[2] http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario007-standalone\nChange-Id: I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e\n'}]",0,675313,b42c622df2131b22f3a3b10c2a6cf1523e99744e,44,13,4,8449,,,0,"Make scenario007-standalone vote + gate standalone-scenarios-full

Moves scenario007-standalone to voting: true and adds it to the
gate in the tripleo-standalone-scenarios-full template. Tracked by
TripleO CI squad at [1]. Job is pretty stable at [2]

[1] https://tree.taiga.io/project/tripleo-ci-board/task/1231
[2] http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario007-standalone
Change-Id: I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/13/675313/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,553e9cfc123707740c0775ea010675e4117d2bb7,scen7, files: &scen7_files - tripleo-ci-centos-7-scenario007-standalone: files: *scen7_files voting: true, files: voting: false,4,2
openstack%2Ftripleo-docs~master~Ie08f540bdfa2292f14d0958f06b441960caa58de,openstack/tripleo-docs,master,Ie08f540bdfa2292f14d0958f06b441960caa58de,DCN extraction should exclude Ceph variables,MERGED,2019-10-29 18:23:49.000000000,2019-11-12 16:13:15.000000000,2019-11-12 16:11:28.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-29 18:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3386ca56b89115795e2e7fc59a6640da6597f059', 'message': 'DCN extraction should exclude Ceph variables\n\nWithout this additional step you may run into RHBZ 1762360\n\nChange-Id: Ie08f540bdfa2292f14d0958f06b441960caa58de\n'}, {'number': 2, 'created': '2019-10-31 20:45:46.000000000', 'files': ['deploy-guide/source/features/distributed_compute_node.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9fa8dc60a24cf1bdbdc703004be7a90725a7d85c', 'message': 'DCN extraction should exclude Ceph variables\n\nWithout this additional step you may run into RHBZ 1762360\n\nChange-Id: Ie08f540bdfa2292f14d0958f06b441960caa58de\n'}]",8,691938,9fa8dc60a24cf1bdbdc703004be7a90725a7d85c,19,8,2,18002,,,0,"DCN extraction should exclude Ceph variables

Without this additional step you may run into RHBZ 1762360

Change-Id: Ie08f540bdfa2292f14d0958f06b441960caa58de
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/38/691938/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/distributed_compute_node.rst'],1,3386ca56b89115795e2e7fc59a6640da6597f059,exclude_central_ceph_vars,"Remove all parameters containing the string ""Ceph"" from passwords.yaml so that DCN deployments which include Ceph do not reuse the same Ceph FSID and passwords. By excluding the Ceph parameters, new ones will be generated for each Ceph deployment and the Ceph FSIDs and passwords will be unique. .. code-block:: bash sed -i '/Ceph/d' passwords.yaml ",,10,0
openstack%2Fironic-python-agent~master~I5b54c1f6cfac5fff672245c523b9fb647478edbd,openstack/ironic-python-agent,master,I5b54c1f6cfac5fff672245c523b9fb647478edbd,Do not try to read raw disk data as unicode,MERGED,2019-11-11 15:04:48.000000000,2019-11-12 16:10:39.000000000,2019-11-12 16:08:29.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24828}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-11 15:04:48.000000000', 'files': ['ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1d12505fa069bef886ee908a83920aa2afa44298', 'message': 'Do not try to read raw disk data as unicode\n\nFixes regression in commit 9f8fa2853af00045118ccd44180e7053e6d027af:\nutils.execute returns unicode by default, but this data is binary.\n\nChange-Id: I5b54c1f6cfac5fff672245c523b9fb647478edbd\n'}]",0,693711,1d12505fa069bef886ee908a83920aa2afa44298,10,5,1,10239,,,0,"Do not try to read raw disk data as unicode

Fixes regression in commit 9f8fa2853af00045118ccd44180e7053e6d027af:
utils.execute returns unicode by default, but this data is binary.

Change-Id: I5b54c1f6cfac5fff672245c523b9fb647478edbd
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/11/693711/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,1d12505fa069bef886ee908a83920aa2afa44298,," 'dd', 'if=%s' % device, 'bs=218', 'count=1', binary=True)"," 'dd', 'if=%s' % device, 'bs=218', 'count=1')",1,1
openstack%2Fnova~master~I00b7975eb5f4306ecf5b565e57ae8c5773fde1c0,openstack/nova,master,I00b7975eb5f4306ecf5b565e57ae8c5773fde1c0,WIP libvirt: Forcibly disconnect volumes during post_live_migration,ABANDONED,2018-07-23 12:20:29.000000000,2019-11-12 16:05:34.000000000,,"[{'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-23 12:20:29.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/55f69c9a247afbf6a6226af98dd5e1e6e73abd2d', 'message': 'WIP libvirt: Forcibly disconnect volumes during post_live_migration\n\nWIP change showing an example of when we could use the force flag to\ndisconnect volumes from a host. In the case of post_live_migration we\nare sure that any failures to disconnect a volume from the source can be\nignored as the instance is now running on the destination.\n\nChange-Id: I00b7975eb5f4306ecf5b565e57ae8c5773fde1c0\n'}]",0,584850,55f69c9a247afbf6a6226af98dd5e1e6e73abd2d,13,10,1,10135,,,0,"WIP libvirt: Forcibly disconnect volumes during post_live_migration

WIP change showing an example of when we could use the force flag to
disconnect volumes from a host. In the case of post_live_migration we
are sure that any failures to disconnect a volume from the source can be
ignored as the instance is now running on the destination.

Change-Id: I00b7975eb5f4306ecf5b565e57ae8c5773fde1c0
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/584850/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,55f69c9a247afbf6a6226af98dd5e1e6e73abd2d,force_disconnect_volume," fake_connection_info, fake_instance_1, force=False) mock.call.disconnect_volume(connection_info, instance, force=False)]) inst_ref, force=True), mock.call(cntx, {'data': {}}, inst_ref, force=True)]) instance, force=True)"," fake_connection_info, fake_instance_1) mock.call.disconnect_volume(connection_info, instance)]) inst_ref), mock.call(cntx, {'data': {}}, inst_ref)]) instance)",11,8
openstack%2Fmonasca-tempest-plugin~master~Ieaedb2d09cf7e4163c22a5f28341440c95dcc7f6,openstack/monasca-tempest-plugin,master,Ieaedb2d09cf7e4163c22a5f28341440c95dcc7f6,Publish the doc for monasca tempest plugin,MERGED,2019-08-14 04:27:43.000000000,2019-11-12 15:47:01.000000000,2019-11-12 15:44:13.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 30621}]","[{'number': 1, 'created': '2019-08-14 04:27:43.000000000', 'files': ['README.rst', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/c6153dfa3a64f8c33961b5e0879136ac84f6afff', 'message': 'Publish the doc for monasca tempest plugin\n\nAdding the publish doc job which will publish the doc instead of\njust building it.\n\nChange-Id: Ieaedb2d09cf7e4163c22a5f28341440c95dcc7f6\n'}]",0,676324,c6153dfa3a64f8c33961b5e0879136ac84f6afff,20,5,1,30621,,,0,"Publish the doc for monasca tempest plugin

Adding the publish doc job which will publish the doc instead of
just building it.

Change-Id: Ieaedb2d09cf7e4163c22a5f28341440c95dcc7f6
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/24/676324/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', '.zuul.yaml']",2,c6153dfa3a64f8c33961b5e0879136ac84f6afff,, - publish-openstack-docs-pti, - build-openstack-docs-pti,2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I19d660168c98887a5e352b3413235888c800760d,openstack/tripleo-heat-templates,stable/queens,I19d660168c98887a5e352b3413235888c800760d,Create /run/netns if does not exist,MERGED,2019-08-08 14:42:09.000000000,2019-11-12 15:01:57.000000000,2019-08-13 14:59:24.000000000,"[{'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-08 14:42:09.000000000', 'files': ['docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ovn-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d00c7076f6dc6b5b65b818358d27d5cce8a5764', 'message': ""Create /run/netns if does not exist\n\nUnlike docker with podman you can't mount a host directory\nthat does not exist. We did some work as part of bug 1799638\ntake care of this for reboots. However, we need it to be created\nfor fresh installations, as nodes are not necessarily rebooted\nafter installing paunch. The real issue without reboots did not\nsurface before the next patch in this series, as we were using\ncni0 bridge network for some containers and that resulted in\nnamespace being created and the directory existing for\nneutron_dhcp and neutron_l3 containers in step 4 to mount them.\n\nThis patch creates/removes a temp namespace in host_prep_tasks\nto ensure that the directory exists.\n\nChange-Id: I19d660168c98887a5e352b3413235888c800760d\nRelated-Bug: #1799638\n(cherry picked from commit 9b284e74cbdcf43253edaf424534b71a483fdb69)\n""}]",0,675359,5d00c7076f6dc6b5b65b818358d27d5cce8a5764,23,6,1,14250,,,0,"Create /run/netns if does not exist

Unlike docker with podman you can't mount a host directory
that does not exist. We did some work as part of bug 1799638
take care of this for reboots. However, we need it to be created
for fresh installations, as nodes are not necessarily rebooted
after installing paunch. The real issue without reboots did not
surface before the next patch in this series, as we were using
cni0 bridge network for some containers and that resulted in
namespace being created and the directory existing for
neutron_dhcp and neutron_l3 containers in step 4 to mount them.

This patch creates/removes a temp namespace in host_prep_tasks
to ensure that the directory exists.

Change-Id: I19d660168c98887a5e352b3413235888c800760d
Related-Bug: #1799638
(cherry picked from commit 9b284e74cbdcf43253edaf424534b71a483fdb69)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/675359/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ovn-metadata.yaml']",3,5d00c7076f6dc6b5b65b818358d27d5cce8a5764,bug/1830734-stable/queens, - - name: create /run/netns with temp namespace command: ip netns add ns_temp register: ipnetns_add_result ignore_errors: True - - name: remove temp namespace command: ip netns delete ns_temp ignore_errors: True when: ipnetns_add_result.rc == 0,,24,0
openstack%2Fcharm-ceilometer~master~Ibdacf37b7ddacb145e4bca0757b2691a26778200,openstack/charm-ceilometer,master,Ibdacf37b7ddacb145e4bca0757b2691a26778200,Add placement charm for tests for train+,MERGED,2019-11-12 13:25:47.000000000,2019-11-12 14:49:56.000000000,2019-11-12 14:49:56.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 13:25:47.000000000', 'files': ['tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/cda8c3bb72275893b05979ff87abd216c392c093', 'message': 'Add placement charm for tests for train+\n\nChange-Id: Ibdacf37b7ddacb145e4bca0757b2691a26778200\n'}]",0,693843,cda8c3bb72275893b05979ff87abd216c392c093,7,3,1,12549,,,0,"Add placement charm for tests for train+

Change-Id: Ibdacf37b7ddacb145e4bca0757b2691a26778200
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/43/693843/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,cda8c3bb72275893b05979ff87abd216c392c093,add-placement," if self._get_openstack_release() >= self.bionic_train: other_train_services = [ {'name': 'placement'}, ] other_services += other_train_services if self._get_openstack_release() >= self.bionic_train: train_relations = { 'placement:shared-db': 'percona-cluster:shared-db', 'placement:identity-service': 'keystone:identity-service', 'placement:placement': 'nova-cloud-controller:placement', } relations.update(train_relations) placement_config = {} if self._get_openstack_release() >= self.bionic_train: configs['placement'] = placement_config",,15,0
openstack%2Ftripleo-docs~master~I26daa9ccf5109b98b1298bff9b8287158fb87ffa,openstack/tripleo-docs,master,I26daa9ccf5109b98b1298bff9b8287158fb87ffa,Fix prometheus port in the upstream doc,MERGED,2019-11-08 16:19:29.000000000,2019-11-12 14:48:06.000000000,2019-11-12 14:46:25.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-08 16:19:29.000000000', 'files': ['deploy-guide/source/features/ceph_config.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a904f2c1d838cee79af9ac9381966dab89eec5ae', 'message': 'Fix prometheus port in the upstream doc\n\nRecently a new patch to change the prometheus port was\nintroduced. The purpose of this review is to fix the doc\nas well.\n\nChange-Id: I26daa9ccf5109b98b1298bff9b8287158fb87ffa\n'}]",0,693558,a904f2c1d838cee79af9ac9381966dab89eec5ae,10,7,1,25402,,,0,"Fix prometheus port in the upstream doc

Recently a new patch to change the prometheus port was
introduced. The purpose of this review is to fix the doc
as well.

Change-Id: I26daa9ccf5109b98b1298bff9b8287158fb87ffa
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/58/693558/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/ceph_config.rst'],1,a904f2c1d838cee79af9ac9381966dab89eec5ae,,and will be accessible using the port 3100 for grafana and 9092 for prometheus;,and will be accessible using the port 3100 for grafana and 9090 for prometheus;,1,1
openstack%2Fpuppet-pacemaker~master~I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45,openstack/puppet-pacemaker,master,I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45,Pin a bunch of gems so that centos 7 with old ruby still works,MERGED,2019-11-08 10:36:48.000000000,2019-11-12 14:44:33.000000000,2019-11-12 14:20:49.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-08 10:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ff503a51f8c531ca1a2da4df8246b1c2b5afcc89', 'message': ""Pin rake to < 13.0.0\n\nhttps://zuul.opendev.org/t/openstack/build/4523d241081f40da9c39c0a7894f5e4d/log/job-output.txt\nshows the error:\ncentos-7 | Resolving dependencies..........\ncentos-7 | RubyGems 2.0.14.1 is not threadsafe, so your gems will be installed one at a time. Upgrade to RubyGems 2.1.0 or higher to enable parallel gem installation.\ncentos-7 | Fetching rake 13.0.0\ncentos-7 | Installing rake 13.0.0\ncentos-7 | Gem::InstallError: rake requires Ruby version >= 2.2.\ncentos-7 | An error occurred while installing rake (13.0.0), and Bundler cannot continue.\ncentos-7 | Make sure that `gem install rake -v '13.0.0' --source 'https://rubygems.org/'`\ncentos-7 | succeeds before bundling.\ncentos-7 |\ncentos-7 | In Gemfile:\ncentos-7 |   rspec-puppet-utils was resolved to 3.4.0, which depends on\ncentos-7 |     puppetlabs_spec_helper was resolved to 1.1.1, which depends on\ncentos-7 |       puppet-syntax was resolved to 2.6.0, which depends on\ncentos-7 |         rake\ncentos-7 | bundler: command not found: rake\n\nLet's pin it for now.\n\nChange-Id: I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45\n""}, {'number': 2, 'created': '2019-11-08 12:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ba56b8fe37e0f7845d6fd91f11356f7b1d23a958', 'message': ""Pin rake to < 13.0.0 and dry-inflector to 0.1.2\n\nhttps://zuul.opendev.org/t/openstack/build/4523d241081f40da9c39c0a7894f5e4d/log/job-output.txt\nshows the error:\ncentos-7 | Resolving dependencies..........\ncentos-7 | RubyGems 2.0.14.1 is not threadsafe, so your gems will be installed one at a time. Upgrade to RubyGems 2.1.0 or higher to enable parallel gem installation.\ncentos-7 | Fetching rake 13.0.0\ncentos-7 | Installing rake 13.0.0\ncentos-7 | Gem::InstallError: rake requires Ruby version >= 2.2.\ncentos-7 | An error occurred while installing rake (13.0.0), and Bundler cannot continue.\ncentos-7 | Make sure that `gem install rake -v '13.0.0' --source 'https://rubygems.org/'`\ncentos-7 | succeeds before bundling.\ncentos-7 |\ncentos-7 | In Gemfile:\ncentos-7 |   rspec-puppet-utils was resolved to 3.4.0, which depends on\ncentos-7 |     puppetlabs_spec_helper was resolved to 1.1.1, which depends on\ncentos-7 |       puppet-syntax was resolved to 2.6.0, which depends on\ncentos-7 |         rake\ncentos-7 | bundler: command not found: rake\n\nLet's pin it for now and let's also pin dry-inflector to 0.1.2 as the\n0.2.0 version has the exact same issue as rake >= 13\n\nChange-Id: I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45\n""}, {'number': 3, 'created': '2019-11-12 09:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/02eff84e9134d39ad6e202afdc1355c1140ec794', 'message': ""Pin rake to < 13.0.0 and dry-inflector to 0.1.2\n\nhttps://zuul.opendev.org/t/openstack/build/4523d241081f40da9c39c0a7894f5e4d/log/job-output.txt\nshows the error:\ncentos-7 | Resolving dependencies..........\ncentos-7 | RubyGems 2.0.14.1 is not threadsafe, so your gems will be installed one at a time. Upgrade to RubyGems 2.1.0 or higher to enable parallel gem installation.\ncentos-7 | Fetching rake 13.0.0\ncentos-7 | Installing rake 13.0.0\ncentos-7 | Gem::InstallError: rake requires Ruby version >= 2.2.\ncentos-7 | An error occurred while installing rake (13.0.0), and Bundler cannot continue.\ncentos-7 | Make sure that `gem install rake -v '13.0.0' --source 'https://rubygems.org/'`\ncentos-7 | succeeds before bundling.\ncentos-7 |\ncentos-7 | In Gemfile:\ncentos-7 |   rspec-puppet-utils was resolved to 3.4.0, which depends on\ncentos-7 |     puppetlabs_spec_helper was resolved to 1.1.1, which depends on\ncentos-7 |       puppet-syntax was resolved to 2.6.0, which depends on\ncentos-7 |         rake\ncentos-7 | bundler: command not found: rake\n\nLet's pin it for now and let's also pin dry-inflector to 0.1.2 as the\n0.2.0 version has the exact same issue as rake >= 13. Same goes for the\nsignet gem\n\nChange-Id: I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45\n""}, {'number': 4, 'created': '2019-11-12 10:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/9531000ef485304479adcc1cf34375528ef89e1a', 'message': ""Pin a bunch of gems so that centos 7 with old ruby still works\n\nhttps://zuul.opendev.org/t/openstack/build/4523d241081f40da9c39c0a7894f5e4d/log/job-output.txt\nshows the error:\ncentos-7 | Resolving dependencies..........\ncentos-7 | RubyGems 2.0.14.1 is not threadsafe, so your gems will be installed one at a time. Upgrade to RubyGems 2.1.0 or higher to enable parallel gem installation.\ncentos-7 | Fetching rake 13.0.0\ncentos-7 | Installing rake 13.0.0\ncentos-7 | Gem::InstallError: rake requires Ruby version >= 2.2.\ncentos-7 | An error occurred while installing rake (13.0.0), and Bundler cannot continue.\ncentos-7 | Make sure that `gem install rake -v '13.0.0' --source 'https://rubygems.org/'`\ncentos-7 | succeeds before bundling.\ncentos-7 |\ncentos-7 | In Gemfile:\ncentos-7 |   rspec-puppet-utils was resolved to 3.4.0, which depends on\ncentos-7 |     puppetlabs_spec_helper was resolved to 1.1.1, which depends on\ncentos-7 |       puppet-syntax was resolved to 2.6.0, which depends on\ncentos-7 |         rake\ncentos-7 | bundler: command not found: rake\n\nLet's pin rake for now and let's also pin dry-inflector to 0.1.2 as the\n0.2.0 version has the exact same issue as rake >= 13. Same goes for the\nsignet gem and minitest\n\nChange-Id: I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45\n""}, {'number': 5, 'created': '2019-11-12 11:29:32.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/0ebd0344a701ee83bc80b3d3bbf1b3f456bcde55', 'message': ""Pin a bunch of gems so that centos 7 with old ruby still works\n\nhttps://zuul.opendev.org/t/openstack/build/4523d241081f40da9c39c0a7894f5e4d/log/job-output.txt\nshows the error:\ncentos-7 | Resolving dependencies..........\ncentos-7 | RubyGems 2.0.14.1 is not threadsafe, so your gems will be installed one at a time. Upgrade to RubyGems 2.1.0 or higher to enable parallel gem installation.\ncentos-7 | Fetching rake 13.0.0\ncentos-7 | Installing rake 13.0.0\ncentos-7 | Gem::InstallError: rake requires Ruby version >= 2.2.\ncentos-7 | An error occurred while installing rake (13.0.0), and Bundler cannot continue.\ncentos-7 | Make sure that `gem install rake -v '13.0.0' --source 'https://rubygems.org/'`\ncentos-7 | succeeds before bundling.\ncentos-7 |\ncentos-7 | In Gemfile:\ncentos-7 |   rspec-puppet-utils was resolved to 3.4.0, which depends on\ncentos-7 |     puppetlabs_spec_helper was resolved to 1.1.1, which depends on\ncentos-7 |       puppet-syntax was resolved to 2.6.0, which depends on\ncentos-7 |         rake\ncentos-7 | bundler: command not found: rake\n\nLet's pin rake for now and let's also pin dry-inflector to 0.1.2 as the\n0.2.0 version has the exact same issue as rake >= 13. Same goes for the\nsignet gem and minitest\n\nChange-Id: I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45\n""}]",0,693517,0ebd0344a701ee83bc80b3d3bbf1b3f456bcde55,21,4,5,20172,,,0,"Pin a bunch of gems so that centos 7 with old ruby still works

https://zuul.opendev.org/t/openstack/build/4523d241081f40da9c39c0a7894f5e4d/log/job-output.txt
shows the error:
centos-7 | Resolving dependencies..........
centos-7 | RubyGems 2.0.14.1 is not threadsafe, so your gems will be installed one at a time. Upgrade to RubyGems 2.1.0 or higher to enable parallel gem installation.
centos-7 | Fetching rake 13.0.0
centos-7 | Installing rake 13.0.0
centos-7 | Gem::InstallError: rake requires Ruby version >= 2.2.
centos-7 | An error occurred while installing rake (13.0.0), and Bundler cannot continue.
centos-7 | Make sure that `gem install rake -v '13.0.0' --source 'https://rubygems.org/'`
centos-7 | succeeds before bundling.
centos-7 |
centos-7 | In Gemfile:
centos-7 |   rspec-puppet-utils was resolved to 3.4.0, which depends on
centos-7 |     puppetlabs_spec_helper was resolved to 1.1.1, which depends on
centos-7 |       puppet-syntax was resolved to 2.6.0, which depends on
centos-7 |         rake
centos-7 | bundler: command not found: rake

Let's pin rake for now and let's also pin dry-inflector to 0.1.2 as the
0.2.0 version has the exact same issue as rake >= 13. Same goes for the
signet gem and minitest

Change-Id: I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/17/693517/2 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,ff503a51f8c531ca1a2da4df8246b1c2b5afcc89,rake," gem 'rake', '< 13.0.0', :require => false"," gem 'rake', :require => false",1,1
openstack%2Fkolla-ansible~stable%2Ftrain~I49b24545501085d5a44f4de73f0c6dd21e06e2a0,openstack/kolla-ansible,stable/train,I49b24545501085d5a44f4de73f0c6dd21e06e2a0,Collect rabbitmq logs by fluentd,MERGED,2019-11-12 04:14:06.000000000,2019-11-12 14:31:48.000000000,2019-11-12 14:30:19.000000000,"[{'_account_id': 22165}, {'_account_id': 22206}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-12 04:14:06.000000000', 'files': ['ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a33d86c67652d5426c8b5079c06c17afb586dd02', 'message': 'Collect rabbitmq logs by fluentd\n\nChange-Id: I49b24545501085d5a44f4de73f0c6dd21e06e2a0\nCloses-Bug: #1835501\n(cherry picked from commit bf979282a1bf31a4897e007589e029ba92d2b40a)\n'}]",0,693764,a33d86c67652d5426c8b5079c06c17afb586dd02,9,4,1,30523,,,0,"Collect rabbitmq logs by fluentd

Change-Id: I49b24545501085d5a44f4de73f0c6dd21e06e2a0
Closes-Bug: #1835501
(cherry picked from commit bf979282a1bf31a4897e007589e029ba92d2b40a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/693764/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2'],1,a33d86c67652d5426c8b5079c06c17afb586dd02,bug/1835501-stable/train, path /var/log/kolla/rabbitmq/rabbit@{{ ansible_hostname }}.log format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\.\d{3}/ format1 /^(?<Timestamp>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\.\d{3}) \[(?<log_level>\w+)\] (?<Payload>.*)/, path /var/log/kolla/rabbitmq/rabbit.log format_firstline /^\s*$/ format1 /^=(?<log_level>\w+) REPORT==== (?<Times>[^ ]+) ===\n/ format2 /^(?<Payload>.*)/,3,4
openstack%2Ftripleo-heat-templates~master~I52396c930b2f243c0e8d88cb690ffcd25dd58e19,openstack/tripleo-heat-templates,master,I52396c930b2f243c0e8d88cb690ffcd25dd58e19,DNM: Test for lp1844111.,ABANDONED,2019-09-26 12:15:28.000000000,2019-11-12 14:27:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-26 12:15:28.000000000', 'files': ['deployment/mistral/mistral-executor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/426384527c9388573e6a8090df34e86811548a79', 'message': 'DNM: Test for lp1844111.\n\nDepends-On: https://review.opendev.org/#/c/685036/1\nChange-Id: I52396c930b2f243c0e8d88cb690ffcd25dd58e19\n'}]",0,685052,426384527c9388573e6a8090df34e86811548a79,4,2,1,26343,,,0,"DNM: Test for lp1844111.

Depends-On: https://review.opendev.org/#/c/685036/1
Change-Id: I52396c930b2f243c0e8d88cb690ffcd25dd58e19
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/685052/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/mistral/mistral-executor-container-puppet.yaml'],1,426384527c9388573e6a8090df34e86811548a79,,####,,1,0
openstack%2Fproject-team-guide~master~I6a4efb1e703f6634cf2d260480153d0ceae3a46f,openstack/project-team-guide,master,I6a4efb1e703f6634cf2d260480153d0ceae3a46f,Add Note for Conflicts section,MERGED,2019-11-12 12:13:38.000000000,2019-11-12 13:48:15.000000000,2019-11-12 13:47:03.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 12:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/49466fcd864d8790f33fa220218a43aab9798ad5', 'message': 'Add Note for Conflicts section\n\nIn some cases the cherry-picked patch contains the original patch\'s\n""Conflicts"" lines, that were valid only on the source branch (the\npatch was cherry-picked from). To help the reviewers these should\nbe removed from the commit message.\n\nChange-Id: I6a4efb1e703f6634cf2d260480153d0ceae3a46f\n'}, {'number': 2, 'created': '2019-11-12 12:50:34.000000000', 'files': ['doc/source/stable-branches.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/c7f10fd7582c07c8c61f1b0146d0db90594cb906', 'message': 'Add Note for Conflicts section\n\nIn some cases the cherry-picked patch contains the original patch\'s\n""Conflicts"" lines, that were valid only on the source branch (the\npatch was cherry-picked from). To help the reviewers these should\nbe removed from the commit message.\n\nChange-Id: I6a4efb1e703f6634cf2d260480153d0ceae3a46f\n'}]",2,693829,c7f10fd7582c07c8c61f1b0146d0db90594cb906,13,4,2,17685,,,0,"Add Note for Conflicts section

In some cases the cherry-picked patch contains the original patch's
""Conflicts"" lines, that were valid only on the source branch (the
patch was cherry-picked from). To help the reviewers these should
be removed from the commit message.

Change-Id: I6a4efb1e703f6634cf2d260480153d0ceae3a46f
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/29/693829/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/stable-branches.rst'],1,49466fcd864d8790f33fa220218a43aab9798ad5,stable-conflicts,".. note:: If a cherry-picked patch's commit message contains ""Conflicts"" lines that are not valid anymore in the target branch, then remove that lines. ",,4,0
openstack%2Fbifrost~master~Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,openstack/bifrost,master,Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,Fix XFS disk image builds,MERGED,2019-11-11 17:16:22.000000000,2019-11-12 13:44:13.000000000,2019-11-12 03:28:09.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 28543}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-11 17:16:22.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6a958704373c34397f788e287c76d0be6d592f46', 'message': 'Fix XFS disk image builds\n\nIt is possible to use DIB to build XFS formatted disk images, via the\nFS_TYPE environment variable. This fails currently due to the lack of an\nxfsprogs package on the host.\n\nThis change installs xfsprogs to the host.\n\nChange-Id: Ibf64d69596eb852a2a1c62cb0a202ec552cf1437\nStory: 2006831\nTask: 37404\n'}]",0,693731,6a958704373c34397f788e287c76d0be6d592f46,12,5,1,14826,,,0,"Fix XFS disk image builds

It is possible to use DIB to build XFS formatted disk images, via the
FS_TYPE environment variable. This fails currently due to the lack of an
xfsprogs package on the host.

This change installs xfsprogs to the host.

Change-Id: Ibf64d69596eb852a2a1c62cb0a202ec552cf1437
Story: 2006831
Task: 37404
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/31/693731/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-dib-image/vars/main.yml'],1,6a958704373c34397f788e287c76d0be6d592f46,, - xfsprogs,,1,0
openstack%2Foslo.cache~master~I07dabeaebae3399500fb55ba03d51b1342baf424,openstack/oslo.cache,master,I07dabeaebae3399500fb55ba03d51b1342baf424,Replace openstack.org URLs with opendev.org URLs,ABANDONED,2019-05-09 10:02:09.000000000,2019-11-12 13:34:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-09 10:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/76060752bc42cfae79bb21e9a22fd94dbacd23ce', 'message': 'Replace openstack.org URLs with opendev.org URLs\n\nChange-Id: I07dabeaebae3399500fb55ba03d51b1342baf424\n'}, {'number': 2, 'created': '2019-05-09 10:10:38.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/05bce208423623986c63cc1eeeaa82bca7dd409c', 'message': 'Replace openstack.org URLs with opendev.org URLs\n\nChange-Id: I07dabeaebae3399500fb55ba03d51b1342baf424\n'}]",0,657968,05bce208423623986c63cc1eeeaa82bca7dd409c,5,2,2,30387,,,0,"Replace openstack.org URLs with opendev.org URLs

Change-Id: I07dabeaebae3399500fb55ba03d51b1342baf424
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/68/657968/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,76060752bc42cfae79bb21e9a22fd94dbacd23ce,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Foslo.reports~master~Ib172d1f11d7a20fbfe247dfa7ed14bbdf456a55f,openstack/oslo.reports,master,Ib172d1f11d7a20fbfe247dfa7ed14bbdf456a55f,Bump the openstackdocstheme extension to 1.20,ABANDONED,2019-07-15 09:08:02.000000000,2019-11-12 13:10:21.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-15 09:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/01c36b216f5e25c98e56c1beb5c5ae8723b9b15c', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ib172d1f11d7a20fbfe247dfa7ed14bbdf456a55f\n'}, {'number': 2, 'created': '2019-07-15 09:08:54.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/01b9cd2c7342e658e64e3427fada838e8221b2a0', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ib172d1f11d7a20fbfe247dfa7ed14bbdf456a55f\n'}]",0,670797,01b9cd2c7342e658e64e3427fada838e8221b2a0,6,3,2,22165,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ib172d1f11d7a20fbfe247dfa7ed14bbdf456a55f
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/97/670797/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,01c36b216f5e25c98e56c1beb5c5ae8723b9b15c,,,"project = u'oslo.reports Release Notes'# Release notes do not need a version in the title, they span # multiple versions. release = '' # The short X.Y version. version = '' # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,31
openstack%2Fsolum-tempest-plugin~master~I7aa802d9be3d01d1712103c88c3bf885881bb479,openstack/solum-tempest-plugin,master,I7aa802d9be3d01d1712103c88c3bf885881bb479,Update json module to jsonutils,ABANDONED,2019-02-24 15:05:00.000000000,2019-11-12 13:10:14.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25540}, {'_account_id': 27078}, {'_account_id': 28471}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-02-24 15:05:00.000000000', 'files': ['solum_tempest_plugin/tests/application_deployment/v1/test_root.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_plans.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_assembly.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_service.py', 'solum_tempest_plugin/tests/application_deployment/camp/test_platform_endpoints.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_language_pack.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_platform.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_app.py', 'solum_tempest_plugin/tests/application_deployment/test_versions.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_parameter_definitions.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_sensor.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_formats.py', 'requirements.txt', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_assemblies.py', 'solum_tempest_plugin/tests/application_deployment/v1/public/test_trigger.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_operation.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_component.py', 'solum_tempest_plugin/base.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_type_definitions.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_extension.py'], 'web_link': 'https://opendev.org/openstack/solum-tempest-plugin/commit/48531b8f625140f845ff2d36bf5e62d36d5bbb1e', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and the others use it in many place,\nthis PS to update the json moudule to oslo jsonutils for consistency.\n\nChange-Id: I7aa802d9be3d01d1712103c88c3bf885881bb479\n'}]",1,638967,48531b8f625140f845ff2d36bf5e62d36d5bbb1e,10,8,1,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and the others use it in many place,
this PS to update the json moudule to oslo jsonutils for consistency.

Change-Id: I7aa802d9be3d01d1712103c88c3bf885881bb479
",git fetch https://review.opendev.org/openstack/solum-tempest-plugin refs/changes/67/638967/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum_tempest_plugin/tests/application_deployment/v1/test_root.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_plans.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_assembly.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_service.py', 'solum_tempest_plugin/tests/application_deployment/camp/test_platform_endpoints.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_language_pack.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_platform.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_app.py', 'solum_tempest_plugin/tests/application_deployment/test_versions.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_parameter_definitions.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_sensor.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_formats.py', 'requirements.txt', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_assemblies.py', 'solum_tempest_plugin/tests/application_deployment/v1/public/test_trigger.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_operation.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_component.py', 'solum_tempest_plugin/base.py', 'solum_tempest_plugin/tests/application_deployment/camp/v1_1/test_type_definitions.py', 'solum_tempest_plugin/tests/application_deployment/v1/test_extension.py']",20,48531b8f625140f845ff2d36bf5e62d36d5bbb1e,,from oslo_serialization import jsonutils as json ,import json,39,19
openstack%2Fpython-troveclient~master~I2913e28c3e2c30697a6f1dfcfd2520187c49ec34,openstack/python-troveclient,master,I2913e28c3e2c30697a6f1dfcfd2520187c49ec34,Update json module to jsonutils,ABANDONED,2019-02-25 11:10:16.000000000,2019-11-12 13:09:34.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-02-25 11:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/509fa5f3ce69e79868f40add985b2f540f939887', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and trove use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/trove/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I2913e28c3e2c30697a6f1dfcfd2520187c49ec34\n'}, {'number': 2, 'created': '2019-02-26 04:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/ff614ba3ca33fac266e36f02fd7123daacc4640d', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and trove use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/trove/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I2913e28c3e2c30697a6f1dfcfd2520187c49ec34\n'}, {'number': 3, 'created': '2019-06-04 13:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/02fa3836fc95236f74a1f1ea8befd51e81e306ad', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and trove use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/trove/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I2913e28c3e2c30697a6f1dfcfd2520187c49ec34\n'}, {'number': 4, 'created': '2019-06-09 16:37:04.000000000', 'files': ['troveclient/v1/management.py', 'troveclient/compat/tests/test_common.py', 'troveclient/apiclient/client.py', 'troveclient/compat/common.py', 'troveclient/tests/test_metadata.py', 'troveclient/compat/mcli.py', 'troveclient/v1/backups.py', 'troveclient/client.py', 'requirements.txt', 'troveclient/tests/test_shell.py', 'troveclient/v1/configurations.py', 'troveclient/compat/client.py', 'troveclient/v1/shell.py', 'troveclient/tests/test_configurations.py', 'troveclient/v1/metadata.py', 'troveclient/osc/v1/database_configurations.py', 'troveclient/tests/test_apiclient_exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/bab7bc401b88d1db017806dffcecb8108d3ebc5a', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and trove use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/trove/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I2913e28c3e2c30697a6f1dfcfd2520187c49ec34\n'}]",1,639058,bab7bc401b88d1db017806dffcecb8108d3ebc5a,14,6,4,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and trove use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/trove/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I2913e28c3e2c30697a6f1dfcfd2520187c49ec34
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/58/639058/4 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/v1/management.py', 'troveclient/compat/tests/test_common.py', 'troveclient/apiclient/client.py', 'troveclient/compat/common.py', 'troveclient/tests/test_metadata.py', 'troveclient/compat/mcli.py', 'troveclient/v1/backups.py', 'troveclient/client.py', 'requirements.txt', 'troveclient/tests/test_shell.py', 'troveclient/v1/configurations.py', 'troveclient/compat/client.py', 'troveclient/v1/shell.py', 'troveclient/tests/test_configurations.py', 'troveclient/v1/metadata.py', 'troveclient/osc/v1/database_configurations.py', 'troveclient/tests/test_apiclient_exceptions.py']",17,509fa5f3ce69e79868f40add985b2f540f939887,,from oslo_serialization import jsonutils 'text': jsonutils.dumps(body),import json 'text': json.dumps(body),62,71
openstack%2Fpython-ironicclient~master~Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa,openstack/python-ironicclient,master,Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa,Update json module to jsonutils,ABANDONED,2019-02-24 16:11:55.000000000,2019-11-12 13:09:23.000000000,,"[{'_account_id': 18320}, {'_account_id': 18955}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28471}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-02-24 16:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/94c59441ad8a6f5aee36315e46854611fec73c9d', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ironicclient use it in many place[1],\nthis PS to update the remained json moudule to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-ironicclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa\n'}, {'number': 2, 'created': '2019-02-25 11:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/69654a2e4a1b3cd32219e4fa0598a1a178e08ca3', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ironicclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-ironicclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa\n'}, {'number': 3, 'created': '2019-03-09 03:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/dd235d3cc51c80d8ce9e6198f81c13dd2aff7312', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ironicclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-ironicclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa\n'}, {'number': 4, 'created': '2019-03-17 15:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a47f52807e45e945e8dba627413d9bc657cb3a05', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ironicclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-ironicclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa\n'}, {'number': 5, 'created': '2019-03-19 07:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6513f1699b103b2728978ad42bf3be6d753b03e3', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ironicclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-ironicclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa\n'}, {'number': 6, 'created': '2019-03-19 07:07:03.000000000', 'files': ['ironicclient/tests/unit/common/test_cliutils.py', 'ironicclient/tests/unit/v1/test_node_shell.py', 'ironicclient/tests/unit/common/test_utils.py', 'ironicclient/tests/functional/test_json_response.py', 'ironicclient/common/cliutils.py', 'ironicclient/tests/functional/osc/v1/base.py', 'ironicclient/v1/create_resources.py', 'ironicclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/5dde474c97433b6dcd42dade1fcbf4e016801388', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ironicclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-ironicclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa\n'}]",3,638980,5dde474c97433b6dcd42dade1fcbf4e016801388,23,9,6,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and ironicclient use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-ironicclient/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/80/638980/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/unit/common/test_cliutils.py', 'ironicclient/tests/unit/v1/test_node_shell.py', 'ironicclient/tests/unit/common/test_utils.py', 'ironicclient/tests/functional/test_json_response.py', 'ironicclient/common/cliutils.py', 'ironicclient/tests/functional/osc/v1/base.py', 'ironicclient/v1/create_resources.py', 'ironicclient/common/utils.py']",8,94c59441ad8a6f5aee36315e46854611fec73c9d,,from oslo_serialization import jsonutils value = jsonutils.loads(value) json_arg = jsonutils.loads(json_arg),import json value = json.loads(value) json_arg = json.loads(json_arg),45,43
openstack%2Fcharm-vault~master~I1b4d83eb4c944a98a06cc457f51d0fb9d0b9a6ce,openstack/charm-vault,master,I1b4d83eb4c944a98a06cc457f51d0fb9d0b9a6ce,handler: correctly handle vault sealed exception,MERGED,2019-11-12 11:16:53.000000000,2019-11-12 13:06:27.000000000,2019-11-12 13:06:27.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 11:16:53.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/fb166e451e88de1e1d77de5e630d9228dbecb2ec', 'message': 'handler: correctly handle vault sealed exception\n\nIn situation where the vault service is restarted the service should\nbe unsealed. It apears that some parts of the code do not handle the\nexception correctly which results the unit to be in an error state.\n\nIn the code to handle that we check whether the service is well\nunsealed. If that not the case juju will report the service as blocked\nasking user to unseal it.\n\nChange-Id: I1b4d83eb4c944a98a06cc457f51d0fb9d0b9a6ce\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,693814,fb166e451e88de1e1d77de5e630d9228dbecb2ec,7,3,1,7730,,,0,"handler: correctly handle vault sealed exception

In situation where the vault service is restarted the service should
be unsealed. It apears that some parts of the code do not handle the
exception correctly which results the unit to be in an error state.

In the code to handle that we check whether the service is well
unsealed. If that not the case juju will report the service as blocked
asking user to unseal it.

Change-Id: I1b4d83eb4c944a98a06cc457f51d0fb9d0b9a6ce
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/14/693814/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",2,fb166e451e88de1e1d77de5e630d9228dbecb2ec,bug/1846375," client = vault.get_client(url=vault.VAULT_LOCALHOST_URL) if client.is_sealed(): log(""Unable to publish ca info, service sealed."") else: tls.set_ca(vault_pki.get_ca()) chain = vault_pki.get_chain() if chain: tls.set_chain(chain)", tls.set_ca(vault_pki.get_ca()) chain = vault_pki.get_chain() if chain: tls.set_chain(chain),27,5
openstack%2Fpython-muranoclient~master~Icafd1ce213367ebf106cf0f151fdf39896d92720,openstack/python-muranoclient,master,Icafd1ce213367ebf106cf0f151fdf39896d92720,Update json module to jsonutils,ABANDONED,2019-02-24 16:53:24.000000000,2019-11-12 13:04:30.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-02-24 16:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/2373cddc6c8d6966fb457b0fe55c90ead70e958c', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and muranoclient use it in many place[1],\nthis PS to update the remained json moudule to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-muranoclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Icafd1ce213367ebf106cf0f151fdf39896d92720\n'}, {'number': 2, 'created': '2019-02-25 11:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/53a26a9df07b4c05b512151c3a8d234f92c8fed1', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and muranoclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-muranoclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Icafd1ce213367ebf106cf0f151fdf39896d92720\n'}, {'number': 3, 'created': '2019-03-09 04:01:54.000000000', 'files': ['muranoclient/tests/functional/cli/murano_test_utils.py', 'muranoclient/common/utils.py', 'muranoclient/tests/functional/cli/test_murano.py', 'muranoclient/tests/unit/test_utils.py', 'muranoclient/apiclient/client.py', 'muranoclient/apiclient/fake_client.py', 'muranoclient/v1/shell.py', 'muranoclient/osc/v1/environment.py', 'muranoclient/osc/v1/action.py', 'muranoclient/tests/unit/osc/v1/test_package.py', 'muranoclient/tests/unit/test_shell.py', 'muranoclient/tests/unit/osc/v1/test_environment.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/2933413b7accbc2187b78e47220253feae09df79', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and muranoclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-muranoclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Icafd1ce213367ebf106cf0f151fdf39896d92720\n'}]",1,638988,2933413b7accbc2187b78e47220253feae09df79,12,4,3,22165,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and muranoclient use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-muranoclient/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: Icafd1ce213367ebf106cf0f151fdf39896d92720
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/88/638988/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranoclient/tests/functional/cli/murano_test_utils.py', 'muranoclient/common/utils.py', 'muranoclient/tests/functional/cli/test_murano.py', 'muranoclient/tests/unit/test_utils.py', 'muranoclient/apiclient/client.py', 'muranoclient/apiclient/fake_client.py', 'muranoclient/v1/shell.py', 'muranoclient/osc/v1/environment.py', 'muranoclient/osc/v1/action.py', 'muranoclient/tests/unit/osc/v1/test_package.py', 'muranoclient/tests/unit/test_shell.py', 'muranoclient/tests/unit/osc/v1/test_environment.py']",12,2373cddc6c8d6966fb457b0fe55c90ead70e958c,,"from oslo_serialization import jsonutils jsonutils.dump(patch, temp_file)","import json json.dump(patch, temp_file)",45,49
openstack%2Fkeystoneauth~master~Ie16831d1f002d879eb115356e4741959557068ae,openstack/keystoneauth,master,Ie16831d1f002d879eb115356e4741959557068ae,Fixes OIDC authentication with multiple IdPs,ABANDONED,2019-10-30 13:33:07.000000000,2019-11-12 13:02:27.000000000,,"[{'_account_id': 8866}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2019-10-30 13:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/476d4edaf59aa24ce953ecb5f3e81cffa106a0a7', 'message': ""Fixes OIDC authentication with multiple IdPs\n\nProblem description\n===================\n\nWhen we try to use the OpenStack CLI with the OpenId Connect protocol\n(in an environment with multiple IdPs) to enable federated users to\nlogin, we get an error from the CLI while generating the Keystone\nsubject token (not the OIDC access token).\n\nThe error happens because when the keystoneauth lib calls the Keystone\nWSGI (the OIDC proxy)  to generate an auth token,  it expects an auth\ntoken as the response, but it gets an HTML document response. A page for\nthe user choose which IdP he/she desires to use/ in other words, the CLI\nreceives the discovery page HTML .\n\nThe actual v3oidcpassword plugin authentication flow is basically :\n - The keystoneauth retrieves the credentials from the configs, like\nclient id, client secret, IdP token URL, user name, password. It\n(Keystoneauth) uses these data to generate an access_token in the IdP;\n - Pass this access_token to Keystone to retrieve a subject_token;\n - Use this subject_token to then generate the authentication_token for\nthe specified user's groups and domains.\n\nThe problem is that in a federation with many IdPs, the Keystone WSGI\nprotected endpoint needs more information than just the access_token, it\nneeds to know which IdP the user wants to use.\n\nProposal\n========\nI propose to change the v3oidc authentication flow to handle multiple\nIdPs federations.\n\nThen the new v3oidc plugin authentication flow will be :\n - The keystoneauth requests to Keystone WSGI a session to generate a\nsubject_token for a specific issuer (define in the OpenStack CLI\nenvironment variables);\n - Keystone WSGI return a session cookie, a state, and a nonce value;\n - Keystoneauth will then generate an access_token in the IdP using the\ncredentials plus the nonce value;\n - Then the keystoneauth library will send the access_token and the\nstate value to the Keystone WSGI and it will return the subject_token to\nbe used in the rest of the authentication flow\n\nChange-Id: Ie16831d1f002d879eb115356e4741959557068ae\nCloses-Bug: #1850226\n""}, {'number': 2, 'created': '2019-11-01 16:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/f4d0e953ce9496aa65d4cbd20eb15bdf8bcb70c6', 'message': ""Fixes OIDC authentication with multiple IdPs\n\nProblem description\n===================\n\nWhen we try to use the OpenStack CLI with the OpenId Connect protocol\n(in an environment with multiple IdPs) to enable federated users to\nlogin, we get an error from the CLI while generating the Keystone\nsubject token (not the OIDC access token).\n\nThe error happens because when the keystoneauth lib calls the Keystone\nWSGI (the OIDC proxy)  to generate an auth token,  it expects an auth\ntoken as the response, but it gets an HTML document response. A page for\nthe user choose which IdP he/she desires to use/ in other words, the CLI\nreceives the discovery page HTML .\n\nThe actual v3oidcpassword plugin authentication flow is basically :\n - The keystoneauth retrieves the credentials from the configs, like\nclient id, client secret, IdP token URL, user name, password. It\n(Keystoneauth) uses these data to generate an access_token in the IdP;\n - Pass this access_token to Keystone to retrieve a subject_token;\n - Use this subject_token to then generate the authentication_token for\nthe specified user's groups and domains.\n\nThe problem is that in a federation with many IdPs, the Keystone WSGI\nprotected endpoint needs more information than just the access_token, it\nneeds to know which IdP the user wants to use.\n\nProposal\n========\nI propose to change the v3oidc authentication flow to handle multiple\nIdPs federations.\n\nThen the new v3oidc plugin authentication flow will be :\n - The keystoneauth requests to Keystone WSGI a session to generate a\nsubject_token for a specific issuer (define in the OpenStack CLI\nenvironment variables);\n - Keystone WSGI return a session cookie, a state, and a nonce value;\n - Keystoneauth will then generate an access_token in the IdP using the\ncredentials plus the nonce value;\n - Then the keystoneauth library will send the access_token and the\nstate value to the Keystone WSGI and it will return the subject_token to\nbe used in the rest of the authentication flow\n\nCloses-Bug: #1850226\nChange-Id: Ie16831d1f002d879eb115356e4741959557068ae\n""}, {'number': 3, 'created': '2019-11-06 14:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/a9e79823bdcb565e028ee66514ae1887fad03fff', 'message': ""Fixes OIDC authentication with multiple IdPs\n\nProblem description\n===================\n\nWhen we try to use the OpenStack CLI with the OpenId Connect protocol\n(in an environment with multiple IdPs) to enable federated users to\nlogin, we get an error from the CLI while generating the Keystone\nsubject token (not the OIDC access token).\n\nThe error happens because when the keystoneauth lib calls the Keystone\nWSGI (the OIDC proxy)  to generate an auth token,  it expects an auth\ntoken as the response, but it gets an HTML document response. A page for\nthe user choose which IdP he/she desires to use/ in other words, the CLI\nreceives the discovery page HTML .\n\nThe actual v3oidcpassword plugin authentication flow is basically :\n - The keystoneauth retrieves the credentials from the configs, like\nclient id, client secret, IdP token URL, user name, password. It\n(Keystoneauth) uses these data to generate an access_token in the IdP;\n - Pass this access_token to Keystone to retrieve a subject_token;\n - Use this subject_token to then generate the authentication_token for\nthe specified user's groups and domains.\n\nThe problem is that in a federation with many IdPs, the Keystone WSGI\nprotected endpoint needs more information than just the access_token, it\nneeds to know which IdP the user wants to use.\n\nProposal\n========\nI propose to change the v3oidc authentication flow to handle multiple\nIdPs federations.\n\nThen the new v3oidc plugin authentication flow will be :\n - The keystoneauth requests to Keystone WSGI a session to generate a\nsubject_token for a specific issuer (define in the OpenStack CLI\nenvironment variables);\n - Keystone WSGI return a session cookie, a state, and a nonce value;\n - Keystoneauth will then generate an access_token in the IdP using the\ncredentials plus the nonce value;\n - Then the keystoneauth library will send the access_token and the\nstate value to the Keystone WSGI and it will return the subject_token to\nbe used in the rest of the authentication flow\n\nCloses-Bug: #1850226\nChange-Id: Ie16831d1f002d879eb115356e4741959557068ae\n""}, {'number': 4, 'created': '2019-11-06 17:29:33.000000000', 'files': ['keystoneauth1/loading/_plugins/identity/v3.py', 'keystoneauth1/identity/v3/oidc.py', 'keystoneauth1/tests/unit/identity/test_identity_v3_oidc.py', 'keystoneauth1/tests/unit/oidc_fixtures.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/348495f44f0fbc44da2ca1a503e4b9baf22f6f56', 'message': ""Fixes OIDC authentication with multiple IdPs\n\nProblem description\n===================\n\nWhen we try to use the OpenStack CLI with the OpenId Connect protocol\n(in an environment with multiple IdPs) to enable federated users to\nlogin, we get an error from the CLI while generating the Keystone\nsubject token (not the OIDC access token).\n\nThe error happens because when the keystoneauth lib calls the Keystone\nWSGI (the OIDC proxy)  to generate an auth token,  it expects an auth\ntoken as the response, but it gets an HTML document response. A page for\nthe user choose which IdP he/she desires to use/ in other words, the CLI\nreceives the discovery page HTML .\n\nThe actual v3oidcpassword plugin authentication flow is basically :\n - The keystoneauth retrieves the credentials from the configs, like\nclient id, client secret, IdP token URL, user name, password. It\n(Keystoneauth) uses these data to generate an access_token in the IdP;\n - Pass this access_token to Keystone to retrieve a subject_token;\n - Use this subject_token to then generate the authentication_token for\nthe specified user's groups and domains.\n\nThe problem is that in a federation with many IdPs, the Keystone WSGI\nprotected endpoint needs more information than just the access_token, it\nneeds to know which IdP the user wants to use.\n\nProposal\n========\nI propose to change the v3oidc authentication flow to handle multiple\nIdPs federations.\n\nThen the new v3oidc plugin authentication flow will be :\n - The keystoneauth requests to Keystone WSGI a session to generate a\nsubject_token for a specific issuer (define in the OpenStack CLI\nenvironment variables);\n - Keystone WSGI return a session cookie, a state, and a nonce value;\n - Keystoneauth will then generate an access_token in the IdP using the\ncredentials plus the nonce value;\n - Then the keystoneauth library will send the access_token and the\nstate value to the Keystone WSGI and it will return the subject_token to\nbe used in the rest of the authentication flow\n\nCloses-Bug: #1850226\nChange-Id: Ie16831d1f002d879eb115356e4741959557068ae\n""}]",0,692140,348495f44f0fbc44da2ca1a503e4b9baf22f6f56,13,4,4,30695,,,0,"Fixes OIDC authentication with multiple IdPs

Problem description
===================

When we try to use the OpenStack CLI with the OpenId Connect protocol
(in an environment with multiple IdPs) to enable federated users to
login, we get an error from the CLI while generating the Keystone
subject token (not the OIDC access token).

The error happens because when the keystoneauth lib calls the Keystone
WSGI (the OIDC proxy)  to generate an auth token,  it expects an auth
token as the response, but it gets an HTML document response. A page for
the user choose which IdP he/she desires to use/ in other words, the CLI
receives the discovery page HTML .

The actual v3oidcpassword plugin authentication flow is basically :
 - The keystoneauth retrieves the credentials from the configs, like
client id, client secret, IdP token URL, user name, password. It
(Keystoneauth) uses these data to generate an access_token in the IdP;
 - Pass this access_token to Keystone to retrieve a subject_token;
 - Use this subject_token to then generate the authentication_token for
the specified user's groups and domains.

The problem is that in a federation with many IdPs, the Keystone WSGI
protected endpoint needs more information than just the access_token, it
needs to know which IdP the user wants to use.

Proposal
========
I propose to change the v3oidc authentication flow to handle multiple
IdPs federations.

Then the new v3oidc plugin authentication flow will be :
 - The keystoneauth requests to Keystone WSGI a session to generate a
subject_token for a specific issuer (define in the OpenStack CLI
environment variables);
 - Keystone WSGI return a session cookie, a state, and a nonce value;
 - Keystoneauth will then generate an access_token in the IdP using the
credentials plus the nonce value;
 - Then the keystoneauth library will send the access_token and the
state value to the Keystone WSGI and it will return the subject_token to
be used in the rest of the authentication flow

Closes-Bug: #1850226
Change-Id: Ie16831d1f002d879eb115356e4741959557068ae
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/40/692140/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/loading/_plugins/identity/v3.py', 'keystoneauth1/identity/v3/oidc.py', 'keystoneauth1/tests/unit/identity/test_identity_v3_oidc.py', 'keystoneauth1/tests/unit/oidc_fixtures.py']",4,476d4edaf59aa24ce953ecb5f3e81cffa106a0a7,bug/1850226,"MULTIPLE_IDP_RESP = """"""<!DOCTYPE HTML> <html> <head> <meta http-equiv=""Content-Type"" content=""text/html; charset=utf-8""> <title>OpenID Connect Provider Discovery</title> <style type=""text/css"">body {text-align: center}</style> </head> <body> <h3>Select your OpenID Connect Identity Provider</h3> <p><a href=""http://keystone:5000/redirect_uri?iss=https%3A%2F%2Flocalhost:8020 %2Fauth%2Frealms%2Fbluepages&amp;target_link_uri=http%3A%2F%2Fkeystone:5000%2F v3%2FOS-FEDERATION%2Fidentity_providers%2Fbluepages%2Fprotocols%2Foidc%2Fauth& amp;method=get&amp;x_csrf=ZAO-jtBYv7k"">localhost:8020/auth/realms/bluepages</a> </p><form method=""get"" action=""http://keystone:5000/redirect_uri""> <p><input type=""hidden"" name=""target_link_uri"" value=""http://keystone:5000/v3/ OS-FEDERATION/identity_providers/bluepages/protocols/oidc/auth""><p> <p><input type=""hidden"" name=""method"" value=""get""><p> <p><input type=""hidden"" name=""x_csrf"" value=""ZAO-jtBYv7k""><p> <p>Or enter your account name (eg. &quot;mike@seed.gluu.org&quot;, or an IDP identifier (eg. &quot;mitreid.org&quot;):</p> <p><input type=""text"" name=""iss"" value=""""></p> <p><input type=""submit"" value=""Submit""></p> </form> </body> </html> """""" MULTIPLE_IDP_REDIRECT_RESP = """"""<!DOCTYPE HTML> <html><head> <title>302 Found</title> </head><body> <h1>Found</h1> <p>The document has moved <a href=""https://localhost:8020/auth/realms/ido/ protocol/oidc-connect/auth?response_type=id_token&amp;scope=oidc%20 email%20profile&amp;client_id=keystone:5000&amp; state=4lrjf1w3ASzgW9kSDPFmeoDs-ZA&amp;redirect_uri=http%3A%2F%2F keystone:5000%2Fredirect_uri&amp; nonce=Oj4eaIisSEvth5FczH6-PI3kNf-pjORjB-BXIiTUjXA"">here</a>.</p> </body></html> """""" ",,216,1
openstack%2Foslo.messaging~master~I4297685cbe5c5ec71b68467a54746c2f4814f104,openstack/oslo.messaging,master,I4297685cbe5c5ec71b68467a54746c2f4814f104,Switch to Ussuri jobs,MERGED,2019-10-24 06:28:41.000000000,2019-11-12 13:01:54.000000000,2019-11-12 12:59:27.000000000,"[{'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-24 06:28:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4529981d8c3b65c8ee1695020a09356db8c20a1d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I4297685cbe5c5ec71b68467a54746c2f4814f104\n'}]",0,690844,4529981d8c3b65c8ee1695020a09356db8c20a1d,15,5,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I4297685cbe5c5ec71b68467a54746c2f4814f104
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/44/690844/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4529981d8c3b65c8ee1695020a09356db8c20a1d,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fproject-team-guide~master~I550024dce50d19ac3dbbb6619159fafd8df8c314,openstack/project-team-guide,master,I550024dce50d19ac3dbbb6619159fafd8df8c314,Give an example of dealing with backport conflicts,MERGED,2019-11-07 16:30:37.000000000,2019-11-12 12:54:11.000000000,2019-11-12 09:50:52.000000000,"[{'_account_id': 308}, {'_account_id': 4690}, {'_account_id': 10607}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-07 16:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/96089add8095afa76d866c6b3f5d2990c4d43cd0', 'message': ""Give an example of dealing with backport conflicts\n\nThe stable maint guide says to keep conflicts in the commit\nmessage in a backport which is good but I frequently have to\ngive people an example of what that should look like.\n\nThis moves the conflicts part to it's own sub-section for easy\nlinking and also links in an example of how to document\nconflicts in a backport.\n\nChange-Id: I550024dce50d19ac3dbbb6619159fafd8df8c314\n""}, {'number': 2, 'created': '2019-11-07 16:31:13.000000000', 'files': ['doc/source/stable-branches.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/0e80c32f56a013b99fa9118a90277295e9fa2e23', 'message': 'Give an example of dealing with backport conflicts\n\nThe stable maint guide says to keep conflicts in the commit\nmessage in a backport which is good but I frequently have to\ngive people an example of what that should look like.\n\nThis moves the conflicts part to its own sub-section for easy\nlinking and also links in an example of how to document\nconflicts in a backport.\n\nChange-Id: I550024dce50d19ac3dbbb6619159fafd8df8c314\n'}]",1,693384,0e80c32f56a013b99fa9118a90277295e9fa2e23,14,6,2,6873,,,0,"Give an example of dealing with backport conflicts

The stable maint guide says to keep conflicts in the commit
message in a backport which is good but I frequently have to
give people an example of what that should look like.

This moves the conflicts part to its own sub-section for easy
linking and also links in an example of how to document
conflicts in a backport.

Change-Id: I550024dce50d19ac3dbbb6619159fafd8df8c314
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/84/693384/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/stable-branches.rst'],1,96089add8095afa76d866c6b3f5d2990c4d43cd0,stable-conflicts,"You can use `git-review`_ to propose a change to the hypothetical stable branch with:Conflicts ~~~~~~~~~ If the patch you're proposing will not cherry-pick cleanly, you can help by resolving the conflicts yourself and proposing the resulting patch. Please keep ""Conflicts"" lines in the commit message to help reviewers, for example: https://review.opendev.org/686292/ ","If the patch you're proposing will not cherry-pick cleanly, you can help by resolving the conflicts yourself and proposing the resulting patch. Please keep Conflicts lines in the commit message to help reviewers! You can use `git-review`_ to propose a change to the hypothetical stable branch with:",10,4
openstack%2Ftripleo-common~master~I780ec27c206c508cf68d0ce16ef269b5d1b92581,openstack/tripleo-common,master,I780ec27c206c508cf68d0ce16ef269b5d1b92581,Fix ceilometer_agent_compute health check,MERGED,2019-11-04 11:20:02.000000000,2019-11-12 12:42:16.000000000,2019-11-05 12:04:22.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-04 11:20:02.000000000', 'files': ['healthcheck/ceilometer-agent-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0e64162d02b4769816e8f93179a246ccf032675d', 'message': 'Fix ceilometer_agent_compute health check\n\nThe agent communicates via Redis (not RabbitMQ), so it should look\nfor that port instead\n\nChange-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581\n'}]",0,692802,0e64162d02b4769816e8f93179a246ccf032675d,12,5,1,5241,,,0,"Fix ceilometer_agent_compute health check

The agent communicates via Redis (not RabbitMQ), so it should look
for that port instead

Change-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/692802/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ceilometer-agent-compute'],1,0e64162d02b4769816e8f93179a246ccf032675d,ceilometer-compute-hc,"args=""${@:-6379}"" echo ""There is no $process process with opened Redis ports ($ports) running in the container""","args=""${@:-5671 5672}"" echo ""There is no $process process with opened RabbitMQ ports ($ports) running in the container""",2,2
openstack%2Fcinder~master~I16319ab394e75cbe5d8898afcb1d1043f898f315,openstack/cinder,master,I16319ab394e75cbe5d8898afcb1d1043f898f315,Fix VxFlexOS documentation,MERGED,2019-10-24 13:12:25.000000000,2019-11-12 12:34:13.000000000,2019-11-12 12:31:50.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 9535}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-24 13:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3ba4e1d4d01b65994db8fbfa8b740e7a1ac1e40', 'message': 'Fix VxFlexOS documentation\n\nRemove unnecessary instructions for containerized deployment\nusing VxFlex OS driver. Old instructions are not working and\nwill not be applicable after the bug will be resolved.\n\nChange-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315\nCloses-Bug: #1846483\n'}, {'number': 2, 'created': '2019-10-24 13:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed0149c7bb6f4bf42f523039ee765a5123d33c14', 'message': 'Fix VxFlexOS documentation\n\nRemove unnecessary instructions for containerized deployment\nusing VxFlex OS driver. Old instructions are not working and\nwill not be applicable after the bug will be resolved.\n\nChange-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315\nCloses-Bug: #1846483\n'}, {'number': 3, 'created': '2019-10-24 16:46:05.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6271bb316b389a69780c3b8cc8d1a78caefc74b7', 'message': 'Fix VxFlexOS documentation\n\nRemove unnecessary instructions for containerized deployment\nusing VxFlex OS driver. Old instructions are not working and\nwill not be applicable after the bug will be resolved.\n\nChange-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315\nCloses-Bug: #1846483\n'}]",1,690971,6271bb316b389a69780c3b8cc8d1a78caefc74b7,68,35,3,31016,,,0,"Fix VxFlexOS documentation

Remove unnecessary instructions for containerized deployment
using VxFlex OS driver. Old instructions are not working and
will not be applicable after the bug will be resolved.

Change-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315
Closes-Bug: #1846483
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/690971/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-vxflex-driver.rst'],1,e3ba4e1d4d01b65994db8fbfa8b740e7a1ac1e40,bug/1846483,"Red Hat OpenStack version 12 and above, ensure that the Storage Data Client (SDC) is installed on all nodes before deploying the overcloud.","Red Hat OpenStack version 12 and above, there is an additional step that must be performed. Before deploying the overcloud ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ After ensuring that the Storage Data Client (SDC) is installed on all nodes and before deploying the overcloud, modify the TripleO Heat Template for the nova-compute and cinder-volume containers to add volume mappings for directories containing the SDC components. These files can normally be found at ``/usr/share/openstack-tripleo-heat-templates/docker/services/nova-compute.yaml`` and ``/usr/share/openstack-tripleo-heat-templates/docker/services/cinder-volume.yaml`` Two lines need to be inserted into the list of mapped volumes in each container. .. code-block:: yaml /opt/emc/scaleio:/opt/emc/scaleio /bin/emc/scaleio:/bin/emc/scaleio .. end The changes to the two heat templates are identical, as an example the original nova-compute file should have section that resembles the following: .. code-block:: yaml ... docker_config: step_4: nova_compute: image: &nova_compute_image {get_param: DockerNovaComputeImage} ipc: host net: host privileged: true user: nova restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt/:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /etc/iscsi:/etc/iscsi - /run:/run - /var/lib/nova:/var/lib/nova:shared - /var/lib/libvirt:/var/lib/libvirt - /var/log/containers/nova:/var/log/nova - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS ... .. end After modifying the nova-compute file, the section should resemble: .. code-block:: yaml ... docker_config: step_4: nova_compute: image: &nova_compute_image {get_param: DockerNovaComputeImage} ipc: host net: host privileged: true user: nova restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt/:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /etc/iscsi:/etc/iscsi - /run:/run - /var/lib/nova:/var/lib/nova:shared - /var/lib/libvirt:/var/lib/libvirt - /var/log/containers/nova:/var/log/nova - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci - /opt/emc/scaleio:/opt/emc/scaleio - /bin/emc/scaleio:/bin/emc/scaleio environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS ... .. end Once the nova-compute file is modified, make an identical change to the cinder-volume file. Deploy the overcloud ~~~~~~~~~~~~~~~~~~~~ Once the above changes have been made, deploy the overcloud as usual.",2,110
openstack%2Fneutron-fwaas~master~Ia6fa9a230853311849e327029ef7f0ad7d5d0451,openstack/neutron-fwaas,master,Ia6fa9a230853311849e327029ef7f0ad7d5d0451,Fix list_entries for netlink_lib when running on py3,MERGED,2019-07-08 21:21:49.000000000,2019-11-12 12:33:25.000000000,2019-07-09 16:56:38.000000000,"[{'_account_id': 4694}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 21:21:49.000000000', 'files': ['neutron_fwaas/privileged/netlink_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d3efc3ed550236a459477449f151e392f7f8ec3d', 'message': 'Fix list_entries for netlink_lib when running on py3\n\nAs privsep communicates with main process via socket, data passed\nthrough this socket must be string type in Python 3. This patch\nconverts bytes to string, then privsep works correctly.\n\nChange-Id: Ia6fa9a230853311849e327029ef7f0ad7d5d0451\n'}]",0,669757,d3efc3ed550236a459477449f151e392f7f8ec3d,9,3,1,11975,,,0,"Fix list_entries for netlink_lib when running on py3

As privsep communicates with main process via socket, data passed
through this socket must be string type in Python 3. This patch
converts bytes to string, then privsep works correctly.

Change-Id: Ia6fa9a230853311849e327029ef7f0ad7d5d0451
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/57/669757/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/privileged/netlink_lib.py'],1,d3efc3ed550236a459477449f151e392f7f8ec3d,Ia9daa3e7ed6b690bd168eabceb0a380d351f38bf, entries.append(raw_entry.value.decode('utf-8')), entries.append(raw_entry.value),1,1
openstack%2Fnova~stable%2Fpike~I25a4f36027390def83cfe25f4f3b4af9660da502,openstack/nova,stable/pike,I25a4f36027390def83cfe25f4f3b4af9660da502,Null out instance.availability_zone on shelve offload,MERGED,2018-09-28 18:25:59.000000000,2019-11-12 12:25:10.000000000,2019-03-26 06:19:07.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 18:25:59.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'doc/notification_samples/instance-shelve_offload-end.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/de7e5ae4e4786d3275e2ada688032a4a1cbc055a', 'message': ""Null out instance.availability_zone on shelve offload\n\nWhen a user shelve offloads a server, the compute manager\nnulls out the instance host and node attributes. However\nthe availability_zone attribute is left set on the instance\nso the API will show the instance as in an AZ when really\nit's not, because an instance that is not on a host is not\nin a host aggregate so it can't be in an AZ.\n\nKeep in mind that there are two ways an instance can be in\nan AZ:\n\n1. The user specifically requests to create the server in\n   the AZ.\n\n2. The user does not request an AZ and one is assigned via\n   the selected host during server create (or resize, etc).\n\nFor the first case, the server will always remain in the\nuser-requested AZ even after shelve/unshelve. But in the\nsecond case, unshelving the server can result in the server\nbeing spawned on a new host in a different AZ - the scheduler\ndoes not restrict the AZ in that second case.\n\nThis change nulls out the instance.availability_zone just like\nthe host and node fields on shelve offload since it's\nconfusing to show a shelved offloaded server in an AZ that\ndoesn't have a host.\n\nFinal note: the _nil_out_instance_obj_host_and_node method\nis also called during server create if the build fails and\nis aborted or rescheduled to another host, and in the case\nthat unshelve fails. In the case of a server build reschedule,\nconductor will set the instance.availability_zone appropriately\nbased on the alternate host for the reschedule. In the other\nfailure cases, leaving the instance AZ null is appropriate.\n\nChange-Id: I25a4f36027390def83cfe25f4f3b4af9660da502\nCloses-Bug: #1790221\n(cherry picked from commit 771b9eaa71742b7a158c2e7759a3046ea5a6fc3a)\n(cherry picked from commit b3060a9d3103fb8ade6ebeaa53cb4dd39308f8af)\n(cherry picked from commit 437211bf37aacb6bc9490e2443984a4428c70779)\n""}]",1,606161,de7e5ae4e4786d3275e2ada688032a4a1cbc055a,13,7,1,6873,,,0,"Null out instance.availability_zone on shelve offload

When a user shelve offloads a server, the compute manager
nulls out the instance host and node attributes. However
the availability_zone attribute is left set on the instance
so the API will show the instance as in an AZ when really
it's not, because an instance that is not on a host is not
in a host aggregate so it can't be in an AZ.

Keep in mind that there are two ways an instance can be in
an AZ:

1. The user specifically requests to create the server in
   the AZ.

2. The user does not request an AZ and one is assigned via
   the selected host during server create (or resize, etc).

For the first case, the server will always remain in the
user-requested AZ even after shelve/unshelve. But in the
second case, unshelving the server can result in the server
being spawned on a new host in a different AZ - the scheduler
does not restrict the AZ in that second case.

This change nulls out the instance.availability_zone just like
the host and node fields on shelve offload since it's
confusing to show a shelved offloaded server in an AZ that
doesn't have a host.

Final note: the _nil_out_instance_obj_host_and_node method
is also called during server create if the build fails and
is aborted or rescheduled to another host, and in the case
that unshelve fails. In the case of a server build reschedule,
conductor will set the instance.availability_zone appropriately
based on the alternate host for the reschedule. In the other
failure cases, leaving the instance AZ null is appropriate.

Change-Id: I25a4f36027390def83cfe25f4f3b4af9660da502
Closes-Bug: #1790221
(cherry picked from commit 771b9eaa71742b7a158c2e7759a3046ea5a6fc3a)
(cherry picked from commit b3060a9d3103fb8ade6ebeaa53cb4dd39308f8af)
(cherry picked from commit 437211bf37aacb6bc9490e2443984a4428c70779)
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/606161/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'doc/notification_samples/instance-shelve_offload-end.json']",3,de7e5ae4e4786d3275e2ada688032a4a1cbc055a,bug/1790221," ""availability_zone"": null,"," ""availability_zone"": ""nova"",",6,2
openstack%2Fpuppet-tripleo~master~I2d41a151352fc8664484d0fb9ebc7738ad35fa70,openstack/puppet-tripleo,master,I2d41a151352fc8664484d0fb9ebc7738ad35fa70,Allow Neutron agents call mount via rootwrap,ABANDONED,2019-11-08 11:04:19.000000000,2019-11-12 12:16:50.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 11:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9302f278d9ee59250ebae9ba8012a6388fb239fb', 'message': 'Allow Neutron agents call mount via rootwrap\n\nCreate a precise regex that matches the target mount --bind\ncommands executed from neutron L3 and DHCP agents containers\n\nRequired-by: https://review.opendev.org/693367\nRelated-bug: #1851791\n\nChange-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-11-12 09:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e15690ddd6b8de3ea620f6d146c6f775129968ac', 'message': 'Allow Neutron agents call mount via rootwrap\n\nCreate a precise regex that matches the target mount --bind\ncommands executed from neutron L3 and DHCP agents containers\n\nRequired-by: https://review.opendev.org/693367\nRelated-bug: #1851791\n\nChange-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-11-12 09:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/10a5bbf6d8a5e6f08d93ef122cf0b6125dfa0319', 'message': 'Allow Neutron agents call mount via rootwrap\n\nCreate a precise regex that matches the target mount --bind\ncommands executed from neutron L3 and DHCP agents containers\n\nRequired-by: https://review.opendev.org/693367\nRelated-bug: #1851791\n\nChange-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-11-12 11:16:07.000000000', 'files': ['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb', 'manifests/profile/base/neutron/dhcp.pp', 'spec/classes/tripleo_profile_base_neutron_l3_spec.rb', 'manifests/profile/base/neutron/l3.pp', 'files/neutron/mount.filters'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/edbff0d8a887c157489cf4e5a113ea2e1f334d4c', 'message': 'Allow Neutron agents call mount via rootwrap\n\nCreate a precise regex that matches the target mount --bind\ncommands executed from neutron L3 and DHCP agents containers\n\nRequired-by: https://review.opendev.org/693367\nRelated-bug: #1851791\n\nChange-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,693521,edbff0d8a887c157489cf4e5a113ea2e1f334d4c,9,3,4,6926,,,0,"Allow Neutron agents call mount via rootwrap

Create a precise regex that matches the target mount --bind
commands executed from neutron L3 and DHCP agents containers

Required-by: https://review.opendev.org/693367
Related-bug: #1851791

Change-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/21/693521/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb', 'manifests/profile/base/neutron/dhcp.pp', 'spec/classes/tripleo_profile_base_neutron_l3_spec.rb', 'manifests/profile/base/neutron/l3.pp', 'files/neutron/mount.filters']",5,9302f278d9ee59250ebae9ba8012a6388fb239fb,bug/1851791,"[Filters] mount: RegExpFilter, /bin/mount, root, mount, --bind, ^\/proc\/\d+\/ns\/net$, ^\/run\/netns\/\S+$ ",,20,0
openstack%2Ftripleo-heat-templates~master~I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168,openstack/tripleo-heat-templates,master,I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168,Rebind broken netns upon l3/dhcp containers start,ABANDONED,2019-11-07 15:07:06.000000000,2019-11-12 12:16:20.000000000,,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7130}, {'_account_id': 11975}, {'_account_id': 12398}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-07 15:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4afc495b52bd4a9ea862e6394369b6f48a7ae16e', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1], which is instead\nof a namespace being completely removed, it is replaced by a standard\nempty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\nAuthored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2019-11-07 15:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60f52c9e94e246c221fcb04ea19e9ca158925fa7', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1], which is instead\nof a namespace being completely removed, it is replaced by a standard\nempty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\nAuthored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2019-11-07 15:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e419c342d8a8b2ee6c4d083f045574edaac1674f', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1], which is instead\nof a namespace being completely removed, it is replaced by a standard\nempty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\nAuthored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2019-11-08 08:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a701a074c4d94377ad28b606596492cd4aba36f8', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2019-11-08 08:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c00b36c5f86b98b7efd83117a456414af6eb5547', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2019-11-08 09:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f81b9895035959d204529285423924cc56b5e3d1', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 7, 'created': '2019-11-08 09:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d90860f2340036a0eb6649380bd4a027d93fbc5', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 8, 'created': '2019-11-08 09:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8af64f8e373a3fb1739e9206a1f6da7ae9526e79', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 9, 'created': '2019-11-08 09:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c67e0691a7a0fab04e743b104cc3269f2771c7c', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 10, 'created': '2019-11-08 11:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c4ee6b5b96aa50c5e31a4c0b9c2c35f2f72d133', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nDepends-on: https://review.opendev.org/#/c/693367/9\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 11, 'created': '2019-11-08 11:06:38.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'scripts/neutron-l3-fix-netns-startup.sh', 'scripts/neutron-dhcp-fix-netns-startup.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05ff60de2edd1a3dae88838a314722776236f009', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nDepends-on: https://review.opendev.org/693521\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",4,693367,05ff60de2edd1a3dae88838a314722776236f009,35,10,11,6926,,,0,"Rebind broken netns upon l3/dhcp containers start

When manipulating to the host network namespaces from a container,
there is a race condition which is mentioned in [1],[2], which is
instead of a namespace being completely removed, it is replaced by a
standard empty file with 000 permissions.

To w/a that, make Neutron L3 and DHCP agent containers starting with the
command that rebinds 'broken' empty files (they would have a type of
tmpfs) for themselves.

[1] https://github.com/containerd/containerd/issues/2329
[2] https://bugs.launchpad.net/kolla/+bug/1616268

Co-Authored-By: David Hill <dhill@redhat.com>
Depends-on: https://review.opendev.org/693521
Related: rhbz#1758547
Closes-bug: #1851791

Change-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/693367/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml']",2,4afc495b52bd4a9ea862e6394369b6f48a7ae16e,693367, - - for n in $(find /run/netns -fstype tmpfs); do mount --bind /proc/$$/ns/net /run/netns/${n}; done; - /usr/bin/neutron-l3-agent --config-file /usr/share/neutron/neutron-dist.conf --config-dir /usr/share/neutron/l3_agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini --config-dir /etc/neutron/conf.d/common --config-dir /etc/neutron/conf.d/neutron-l3-agent, - - /usr/bin/neutron-l3-agent --config-file /usr/share/neutron/neutron-dist.conf --config-dir /usr/share/neutron/l3_agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini --config-dir /etc/neutron/conf.d/common --config-dir /etc/neutron/conf.d/neutron-l3-agent,4,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168,openstack/tripleo-heat-templates,stable/queens,I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168,Rebind broken netns upon l3/dhcp containers start,ABANDONED,2019-11-07 15:14:28.000000000,2019-11-12 11:48:44.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 15:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a96cbe06e63501a2e1b7532a8f3ab45ba8764c1', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1], which is instead\nof a namespace being completely removed, it is replaced by a standard\nempty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\nAuthored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 60f52c9e94e246c221fcb04ea19e9ca158925fa7)\n""}, {'number': 2, 'created': '2019-11-07 15:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/575fdde573d45d1b2a03a8e4a18a3a44832c51a2', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1], which is instead\nof a namespace being completely removed, it is replaced by a standard\nempty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\nAuthored-By: David Hill <dhill@redhat.com>\nRelated: rhbz#1758547\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 60f52c9e94e246c221fcb04ea19e9ca158925fa7)\n""}, {'number': 3, 'created': '2019-11-12 09:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb33bb0d95a1c8ef322ee8d9a365337c278d9fc9', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nDepends-on: https://review.opendev.org/693521\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 05ff60de2edd1a3dae88838a314722776236f009)\n""}, {'number': 4, 'created': '2019-11-12 11:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97fcc4db6f13d928f0fb3e6f223c13eef938d3c7', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nDepends-on: https://review.opendev.org/693798\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 05ff60de2edd1a3dae88838a314722776236f009)\n""}, {'number': 5, 'created': '2019-11-12 11:21:02.000000000', 'files': ['docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml', 'scripts/neutron-l3-fix-netns-startup.sh', 'scripts/neutron-dhcp-fix-netns-startup.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7a1bcc9b3cd70449c16a0befbe508d56bc306f1', 'message': ""Rebind broken netns upon l3/dhcp containers start\n\nWhen manipulating to the host network namespaces from a container,\nthere is a race condition which is mentioned in [1],[2], which is\ninstead of a namespace being completely removed, it is replaced by a\nstandard empty file with 000 permissions.\n\nTo w/a that, make Neutron L3 and DHCP agent containers starting with the\ncommand that rebinds 'broken' empty files (they would have a type of\ntmpfs) for themselves.\n\n[1] https://github.com/containerd/containerd/issues/2329\n[2] https://bugs.launchpad.net/kolla/+bug/1616268\n\nCo-Authored-By: David Hill <dhill@redhat.com>\nDepends-on: https://review.opendev.org/693798\nRelated: rhbz#1758547\nCloses-bug: #1851791\n\nChange-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 05ff60de2edd1a3dae88838a314722776236f009)\n""}]",0,693369,f7a1bcc9b3cd70449c16a0befbe508d56bc306f1,13,3,5,6926,,,0,"Rebind broken netns upon l3/dhcp containers start

When manipulating to the host network namespaces from a container,
there is a race condition which is mentioned in [1],[2], which is
instead of a namespace being completely removed, it is replaced by a
standard empty file with 000 permissions.

To w/a that, make Neutron L3 and DHCP agent containers starting with the
command that rebinds 'broken' empty files (they would have a type of
tmpfs) for themselves.

[1] https://github.com/containerd/containerd/issues/2329
[2] https://bugs.launchpad.net/kolla/+bug/1616268

Co-Authored-By: David Hill <dhill@redhat.com>
Depends-on: https://review.opendev.org/693798
Related: rhbz#1758547
Closes-bug: #1851791

Change-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 05ff60de2edd1a3dae88838a314722776236f009)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/693369/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/neutron-l3.yaml', 'docker/services/neutron-dhcp.yaml']",2,8a96cbe06e63501a2e1b7532a8f3ab45ba8764c1,bug/1851791, - - for n in $(find /run/netns -fstype tmpfs -name 'qdhcp*'); do mount --bind /proc/$$/ns/net /run/netns/${n}; done; - /usr/bin/neutron-dhcp-agent --config-file /usr/share/neutron/neutron-dist.conf --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini --config-dir /etc/neutron/conf.d/common --config-dir /etc/neutron/conf.d/neutron-dhcp-agent, - - /usr/bin/neutron-dhcp-agent --config-file /usr/share/neutron/neutron-dist.conf --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini --config-dir /etc/neutron/conf.d/common --config-dir /etc/neutron/conf.d/neutron-dhcp-agent,4,2
openstack%2Fpuppet-tripleo~stable%2Fqueens~I2d41a151352fc8664484d0fb9ebc7738ad35fa70,openstack/puppet-tripleo,stable/queens,I2d41a151352fc8664484d0fb9ebc7738ad35fa70,Allow Neutron agents call mount via rootwrap,ABANDONED,2019-11-12 09:51:47.000000000,2019-11-12 11:48:28.000000000,,[{'_account_id': 6926}],"[{'number': 1, 'created': '2019-11-12 09:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9f86a7cdd9ca7c61b479a91b6ad7bd263855c17b', 'message': 'Allow Neutron agents call mount via rootwrap\n\nCreate a precise regex that matches the target mount --bind\ncommands executed from neutron L3 and DHCP agents containers\n\nRequired-by: https://review.opendev.org/693367\nRelated-bug: #1851791\n\nChange-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 10a5bbf6d8a5e6f08d93ef122cf0b6125dfa0319)\n'}, {'number': 2, 'created': '2019-11-12 11:19:05.000000000', 'files': ['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb', 'manifests/profile/base/neutron/dhcp.pp', 'spec/classes/tripleo_profile_base_neutron_l3_spec.rb', 'manifests/profile/base/neutron/l3.pp', 'files/neutron/mount.filters'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/12bf76e887afdacf8cc9f0c516f69445a47df535', 'message': 'Allow Neutron agents call mount via rootwrap\n\nCreate a precise regex that matches the target mount --bind\ncommands executed from neutron L3 and DHCP agents containers\n\nRequired-by: https://review.opendev.org/693369\nRelated-bug: #1851791\n\nChange-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit edbff0d8a887c157489cf4e5a113ea2e1f334d4c)\n'}]",0,693798,12bf76e887afdacf8cc9f0c516f69445a47df535,5,1,2,6926,,,0,"Allow Neutron agents call mount via rootwrap

Create a precise regex that matches the target mount --bind
commands executed from neutron L3 and DHCP agents containers

Required-by: https://review.opendev.org/693369
Related-bug: #1851791

Change-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit edbff0d8a887c157489cf4e5a113ea2e1f334d4c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/98/693798/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb', 'manifests/profile/base/neutron/dhcp.pp', 'spec/classes/tripleo_profile_base_neutron_l3_spec.rb', 'manifests/profile/base/neutron/l3.pp', 'files/neutron/mount.filters']",5,9f86a7cdd9ca7c61b479a91b6ad7bd263855c17b,bug/1851791,"[Filters] mount: RegExpFilter, /bin/mount, root, mount, --bind, ^\/proc\/\d+\/ns\/net$, ^\/run\/netns\/\S+$ ",,22,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I27698f273db149ac1aedcf4e1d328c3cc997d284,openstack/tripleo-heat-templates,stable/stein,I27698f273db149ac1aedcf4e1d328c3cc997d284,[Steing Only] Correct ovn_dbs_image heat's parameter.,MERGED,2019-11-11 13:09:24.000000000,2019-11-12 11:37:17.000000000,2019-11-11 23:57:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-11 13:09:24.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b686e27a414334861d48e1f41cbe69caf997bbf8', 'message': ""[Steing Only] Correct ovn_dbs_image heat's parameter.\n\nDuring the cherry-pick of I1d24dce0ff9c88380e8769593d619a9e4e944e40\nit was missed to adapt the heat parameter name from ContainerOvnDbsImage\ninto DockerOvnDbsImage.\n\nRelated-Bug: #1851669\nChange-Id: I27698f273db149ac1aedcf4e1d328c3cc997d284\n""}]",2,693692,b686e27a414334861d48e1f41cbe69caf997bbf8,16,9,1,26343,,,0,"[Steing Only] Correct ovn_dbs_image heat's parameter.

During the cherry-pick of I1d24dce0ff9c88380e8769593d619a9e4e944e40
it was missed to adapt the heat parameter name from ContainerOvnDbsImage
into DockerOvnDbsImage.

Related-Bug: #1851669
Change-Id: I27698f273db149ac1aedcf4e1d328c3cc997d284
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/693692/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,b686e27a414334861d48e1f41cbe69caf997bbf8,, ovn_dbs_image: {get_param: DockerOvnDbsImage}, ovn_dbs_image: {get_param: ContainerOvnDbsImage},1,1
openstack%2Freleases~master~I3f758625003594cc018bc4e69afea19454199c60,openstack/releases,master,I3f758625003594cc018bc4e69afea19454199c60,Release OpenStack-Ansible Rocky,MERGED,2019-10-22 11:45:46.000000000,2019-11-12 11:34:43.000000000,2019-11-12 11:34:43.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28543}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-22 11:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/36fc8f6d4374b58b09f1afda1230bc4af32fb498', 'message': 'Release OpenStack-Ansible Rocky\n\nChange-Id: I3f758625003594cc018bc4e69afea19454199c60\n'}, {'number': 2, 'created': '2019-11-01 14:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2c9f99a4ddcc20e929f152f93f5987c6aec51fe1', 'message': 'Release OpenStack-Ansible Rocky\n\nChange-Id: I3f758625003594cc018bc4e69afea19454199c60\n'}, {'number': 3, 'created': '2019-11-05 15:52:01.000000000', 'files': ['deliverables/rocky/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9929bebafc0a9e6248c9ff719405e8ecd80e11f6', 'message': 'Release OpenStack-Ansible Rocky\n\nChange-Id: I3f758625003594cc018bc4e69afea19454199c60\n'}]",4,690052,9929bebafc0a9e6248c9ff719405e8ecd80e11f6,23,9,3,28619,,,0,"Release OpenStack-Ansible Rocky

Change-Id: I3f758625003594cc018bc4e69afea19454199c60
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/690052/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstack-ansible.yaml'],1,36fc8f6d4374b58b09f1afda1230bc4af32fb498,release_osa, - version: 18.1.13 projects: - repo: openstack/openstack-ansible hash: 335338693511fe592d949ebb07b498e19712ebcf,,4,0
openstack%2Fmistral~master~Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9,openstack/mistral,master,Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9,Extend capabilities to clean up old executions,MERGED,2019-10-06 09:07:34.000000000,2019-11-12 11:33:21.000000000,2019-11-12 11:31:39.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 26693}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-10-06 09:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f22864e761b8e0c47fbf05a73b0b574a6b34f35d', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration to the expiration policy\n  to filter out workflow states.\n\n Closes-Bug: #1796627\n\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 2, 'created': '2019-10-06 13:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2d7cea8b12609f7be36aa53dc8739ec1140eb39f', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 3, 'created': '2019-10-07 07:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d7b012ec2a68963fc7a56f930547e3770238e47b', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 4, 'created': '2019-10-07 11:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/dc5c95ab6c439710fb83a70cbf61fe2bb7fb7ebd', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 5, 'created': '2019-10-10 11:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/26fcdaf287657319015e0b364ce0437cb7465ad1', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 6, 'created': '2019-10-17 09:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/734ca0e8b1acb4655b802011bab412e071f32d20', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 7, 'created': '2019-10-17 12:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/aa975590dc6cdf2bb8c19d705281c246608cce0b', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 8, 'created': '2019-10-22 13:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0da193535b072b106eb8effabf91ce0852c29195', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 9, 'created': '2019-11-11 11:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9e19b032362ff4743e1f5554f15a80440df47879', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 10, 'created': '2019-11-11 11:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8cad85f66b1d0a27e274810c32951a10120e5592', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 11, 'created': '2019-11-11 14:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7f0c7387f03e545a22c6a1b8d18589b9c351c51d', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 12, 'created': '2019-11-11 15:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7ce9b9a15c984b5294cf697a8a833b71ae09c9dd', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}, {'number': 13, 'created': '2019-11-12 07:13:01.000000000', 'files': ['mistral/workflow/states.py', 'mistral/config.py', 'mistral/services/expiration_policy.py', 'mistral/tests/unit/services/test_expiration_policy.py', 'mistral/db/v2/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6b862e625e0b59cb7d3806a119fdd223227c06c2', 'message': 'Extend capabilities to clean up old executions\n\n* Added a configuration option to the expiration policy\n  to filter out workflow states.\n\nCloses-Bug: #1796627\nChange-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9\n'}]",21,686929,6b862e625e0b59cb7d3806a119fdd223227c06c2,50,10,13,30755,,,0,"Extend capabilities to clean up old executions

* Added a configuration option to the expiration policy
  to filter out workflow states.

Closes-Bug: #1796627
Change-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9
",git fetch https://review.opendev.org/openstack/mistral refs/changes/29/686929/11 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/config.py', 'mistral/tests/unit/services/test_expiration_policy.py', 'mistral/db/v2/sqlalchemy/api.py']",3,f22864e761b8e0c47fbf05a73b0b574a6b34f35d,bug/1796627," complete_states = [states.SUCCESS, states.ERROR, states.CANCELLED, ] # this is an empty list by default. filtered_states = CONF.execution_expiration_policy.filtered_states wanted_states = \ [state for state in complete_states if state not in filtered_states] models.WorkflowExecution.state.in_(wanted_states)"," models.WorkflowExecution.state.in_( [states.SUCCESS, states.ERROR, states.CANCELLED] )",44,6
openstack%2Fnetworking-bagpipe~stable%2Ftrain~Iba6c78d7e1de9fb175a6c4bb47f5ac62ce05cde4,openstack/networking-bagpipe,stable/train,Iba6c78d7e1de9fb175a6c4bb47f5ac62ce05cde4,Switch neutron-tempest-plugin jobs to train branch,MERGED,2019-10-03 20:05:39.000000000,2019-11-12 11:32:52.000000000,2019-11-12 11:30:22.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 20:05:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/e2d300b591e51a48ae1f07b7d2ad8eba0e244362', 'message': 'Switch neutron-tempest-plugin jobs to train branch\n\nDepends-On: https://review.opendev.org/#/c/685213/\nChange-Id: Iba6c78d7e1de9fb175a6c4bb47f5ac62ce05cde4\n'}]",0,686483,e2d300b591e51a48ae1f07b7d2ad8eba0e244362,13,5,1,11975,,,0,"Switch neutron-tempest-plugin jobs to train branch

Depends-On: https://review.opendev.org/#/c/685213/
Change-Id: Iba6c78d7e1de9fb175a6c4bb47f5ac62ce05cde4
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/83/686483/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e2d300b591e51a48ae1f07b7d2ad8eba0e244362,train-release, - neutron-tempest-plugin-bgpvpn-bagpipe-train: - neutron-tempest-plugin-bgpvpn-bagpipe-train:, - neutron-tempest-plugin-bgpvpn-bagpipe: - neutron-tempest-plugin-bgpvpn-bagpipe:,2,2
openstack%2Freleases~master~I8d735a5f9e393b80f2944b42b6b3517d423e3a89,openstack/releases,master,I8d735a5f9e393b80f2944b42b6b3517d423e3a89,[manila] Release 7.4.0 off of stable/rocky,MERGED,2019-10-29 00:47:12.000000000,2019-11-12 11:31:45.000000000,2019-11-12 11:31:45.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-29 00:47:12.000000000', 'files': ['deliverables/rocky/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/087d0aa7a02ac864da4526e94da6624fc7965955', 'message': '[manila] Release 7.4.0 off of stable/rocky\n\nThis minor release includes bug-fixes for:\n\n- bug #1634278\n- bug #1678524\n- bug #1634734\n- bug #1795463\n- bug #1796986\n- bug #1700871\n- bug #1845135\n\nThese bug-fixes affect the public API of the\nShared File Systems service, but introduce\nno backwards incompatible changes that affect\nthe client negatively.\n\nChange-Id: I8d735a5f9e393b80f2944b42b6b3517d423e3a89\n'}]",0,691774,087d0aa7a02ac864da4526e94da6624fc7965955,11,5,1,16643,,,0,"[manila] Release 7.4.0 off of stable/rocky

This minor release includes bug-fixes for:

- bug #1634278
- bug #1678524
- bug #1634734
- bug #1795463
- bug #1796986
- bug #1700871
- bug #1845135

These bug-fixes affect the public API of the
Shared File Systems service, but introduce
no backwards incompatible changes that affect
the client negatively.

Change-Id: I8d735a5f9e393b80f2944b42b6b3517d423e3a89
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/691774/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/manila.yaml'],1,087d0aa7a02ac864da4526e94da6624fc7965955,manila, - projects: - hash: 7543bd8bdeb42315b2cc61401e4c7ae4410c8fec repo: openstack/manila version: 7.4.0,,4,0
openstack%2Freleases~master~I3b114c3d0e7f595f34a557f38a2f8395f0be0d4f,openstack/releases,master,I3b114c3d0e7f595f34a557f38a2f8395f0be0d4f,python-novaclient: release rocky 11.0.1,MERGED,2019-10-30 13:52:37.000000000,2019-11-12 11:31:44.000000000,2019-11-12 11:31:43.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 13:52:37.000000000', 'files': ['deliverables/rocky/python-novaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/384d65fbdbce44816852190ba16ebb6439a25b14', 'message': 'python-novaclient: release rocky 11.0.1\n\nChange-Id: I3b114c3d0e7f595f34a557f38a2f8395f0be0d4f\n'}]",1,692146,384d65fbdbce44816852190ba16ebb6439a25b14,8,4,1,6873,,,0,"python-novaclient: release rocky 11.0.1

Change-Id: I3b114c3d0e7f595f34a557f38a2f8395f0be0d4f
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/692146/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/python-novaclient.yaml'],1,384d65fbdbce44816852190ba16ebb6439a25b14,novaclient-rocky-11.0.1, - projects: - hash: 6a38838a412f7b4f7820eb98c82a7ced5299ee44 repo: openstack/python-novaclient version: 11.0.1,,4,0
openstack%2Freleases~master~Ic6e481abd78a1d5633d1da611bac66b0f97ba1fd,openstack/releases,master,Ic6e481abd78a1d5633d1da611bac66b0f97ba1fd,python-novaclient: release stein 13.0.2,MERGED,2019-10-30 13:51:24.000000000,2019-11-12 11:31:42.000000000,2019-11-12 11:31:42.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 13:51:24.000000000', 'files': ['deliverables/stein/python-novaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aa2d2922ce6bcc4b34b2e903d2f4f0e193c14a78', 'message': 'python-novaclient: release stein 13.0.2\n\nChange-Id: Ic6e481abd78a1d5633d1da611bac66b0f97ba1fd\n'}]",1,692145,aa2d2922ce6bcc4b34b2e903d2f4f0e193c14a78,8,4,1,6873,,,0,"python-novaclient: release stein 13.0.2

Change-Id: Ic6e481abd78a1d5633d1da611bac66b0f97ba1fd
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/692145/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-novaclient.yaml'],1,aa2d2922ce6bcc4b34b2e903d2f4f0e193c14a78,novaclient-stein-13.0.2, - projects: - hash: c7e793c22e72d4d426a6d10e9c2cfa426fedd365 repo: openstack/python-novaclient version: 13.0.2,,4,0
openstack%2Freleases~master~I2347ac7bebbe59c42f3f92640bcc7fdadadabb15,openstack/releases,master,I2347ac7bebbe59c42f3f92640bcc7fdadadabb15,os-vif: release rocky 1.11.2,MERGED,2019-10-30 13:49:09.000000000,2019-11-12 11:31:41.000000000,2019-11-12 11:31:41.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 13:49:09.000000000', 'files': ['deliverables/rocky/os-vif.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c1291d0a33ff15c12250aafcc4af53eaf71edd0f', 'message': 'os-vif: release rocky 1.11.2\n\nChange-Id: I2347ac7bebbe59c42f3f92640bcc7fdadadabb15\n'}]",1,692143,c1291d0a33ff15c12250aafcc4af53eaf71edd0f,8,4,1,6873,,,0,"os-vif: release rocky 1.11.2

Change-Id: I2347ac7bebbe59c42f3f92640bcc7fdadadabb15
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/692143/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/os-vif.yaml'],1,c1291d0a33ff15c12250aafcc4af53eaf71edd0f,os-vif-1.11.2-rocky, - projects: - hash: ca9963c2944ebfd93757471f99e9185bf34f61d4 repo: openstack/os-vif tarball-base: os_vif version: 1.11.2,,5,0
openstack%2Freleases~master~Ifa296d797e72ef844db7aeb2bc2304af9761caff,openstack/releases,master,Ifa296d797e72ef844db7aeb2bc2304af9761caff,Release OpenStack-Ansible Stein,MERGED,2019-11-06 15:52:49.000000000,2019-11-12 11:31:40.000000000,2019-11-12 11:31:40.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 15:52:49.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/06a4c0eb4b08740676b68c51aafa4769e2d9576b', 'message': 'Release OpenStack-Ansible Stein\n\nChange-Id: Ifa296d797e72ef844db7aeb2bc2304af9761caff\n'}]",0,693206,06a4c0eb4b08740676b68c51aafa4769e2d9576b,8,5,1,28619,,,0,"Release OpenStack-Ansible Stein

Change-Id: Ifa296d797e72ef844db7aeb2bc2304af9761caff
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/693206/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstack-ansible.yaml'],1,06a4c0eb4b08740676b68c51aafa4769e2d9576b,release_osa, - version: 19.0.6 projects: - repo: openstack/openstack-ansible hash: 84ced94265394e056badc476277efffc4dda5f5e,,4,0
openstack%2Freleases~master~Ic48f6ef8421ddae8aa53d550e67d746187d961e8,openstack/releases,master,Ic48f6ef8421ddae8aa53d550e67d746187d961e8,Bugfix release for mistral-lib stein,MERGED,2019-11-06 12:39:37.000000000,2019-11-12 11:28:28.000000000,2019-11-12 11:28:28.000000000,"[{'_account_id': 308}, {'_account_id': 8731}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 12:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9a097527e06d73adb06945c268d33feb1b538dc6', 'message': 'Bugfix release for mistral-lib train\n\nRelated-Bug: #1850843\nChange-Id: Ic48f6ef8421ddae8aa53d550e67d746187d961e8\n'}, {'number': 2, 'created': '2019-11-06 12:41:48.000000000', 'files': ['deliverables/stein/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4c584190a638aa3ccb0ab1f71f4bb95cd08113f6', 'message': 'Bugfix release for mistral-lib stein\n\nRelated-Bug: #1850843\nChange-Id: Ic48f6ef8421ddae8aa53d550e67d746187d961e8\n'}]",0,693170,4c584190a638aa3ccb0ab1f71f4bb95cd08113f6,9,4,2,9712,,,0,"Bugfix release for mistral-lib stein

Related-Bug: #1850843
Change-Id: Ic48f6ef8421ddae8aa53d550e67d746187d961e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/693170/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/mistral-lib.yaml'],1,9a097527e06d73adb06945c268d33feb1b538dc6,bug/1850843, - version: 1.1.1 projects: - repo: openstack/mistral-lib hash: bb41d4d6852db966f24ecf38e4750baa870a422a,,4,0
openstack%2Freleases~master~Idf829ccdebc38a619e777ee283576be7e1dee90f,openstack/releases,master,Idf829ccdebc38a619e777ee283576be7e1dee90f,[manila] Release 8.1.0 off of stable/stein,MERGED,2019-10-29 00:40:52.000000000,2019-11-12 11:28:27.000000000,2019-11-12 11:28:27.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-29 00:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5862711c36a2096f26f03ee2cbac653bd4a4114a', 'message': '[manila] Release 8.1.0 off of stable/train\n\nThis minor release includes bug-fixes for:\n\n- bug #1634278\n- bug #1678524\n- bug #1822099\n- bug #1795463\n- bug #1634734\n- bug #1700871\n- bug #1845135\n\nThese bug-fixes affect the public API of the\nShared File Systems service, but introduce\nno backwards incompatible changes that affect\nthe client negatively.\n\nChange-Id: Idf829ccdebc38a619e777ee283576be7e1dee90f\n'}, {'number': 2, 'created': '2019-10-29 00:43:14.000000000', 'files': ['deliverables/stein/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4bc3ea0d89671f9688e435363390c7052a045039', 'message': '[manila] Release 8.1.0 off of stable/stein\n\nThis minor release includes bug-fixes for:\n\n- bug #1634278\n- bug #1678524\n- bug #1822099\n- bug #1795463\n- bug #1634734\n- bug #1700871\n- bug #1845135\n\nThese bug-fixes affect the public API of the\nShared File Systems service, but introduce\nno backwards incompatible changes that affect\nthe client negatively.\n\nChange-Id: Idf829ccdebc38a619e777ee283576be7e1dee90f\n'}]",0,691773,4bc3ea0d89671f9688e435363390c7052a045039,13,6,2,16643,,,0,"[manila] Release 8.1.0 off of stable/stein

This minor release includes bug-fixes for:

- bug #1634278
- bug #1678524
- bug #1822099
- bug #1795463
- bug #1634734
- bug #1700871
- bug #1845135

These bug-fixes affect the public API of the
Shared File Systems service, but introduce
no backwards incompatible changes that affect
the client negatively.

Change-Id: Idf829ccdebc38a619e777ee283576be7e1dee90f
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/691773/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/manila.yaml'],1,5862711c36a2096f26f03ee2cbac653bd4a4114a,manila, - projects: - hash: e7834172a378273dc3840d56102e55217108f589 repo: openstack/manila version: 8.1.0,,4,0
openstack%2Freleases~master~I253f316a64b40048d74b93a06e238a69b0bda242,openstack/releases,master,I253f316a64b40048d74b93a06e238a69b0bda242,Drop redundant Manila deadline,MERGED,2019-10-22 11:35:58.000000000,2019-11-12 11:28:26.000000000,2019-11-12 11:28:26.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 11:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3dd74023f7532ada95530f608ef80b755b7a9abf', 'message': 'Drop redundant Manila deadline\n\nManila feature freeze was called out for the same time as the overall\nfeature freeze. This removes it since there is no additional information\nor different date for the project specific deadline.\n\nChange-Id: I253f316a64b40048d74b93a06e238a69b0bda242\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-10-22 18:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3def63b0bacafe92d817548553097c280e73051c', 'message': 'Drop redundant Manila deadline\n\nManila feature freeze was called out for the same time as the overall\nfeature freeze. This removes it since there is no additional information\nor different date for the project specific deadline.\n\nChange-Id: I253f316a64b40048d74b93a06e238a69b0bda242\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-11-08 01:11:48.000000000', 'files': ['doc/source/ussuri/schedule.rst', 'doc/source/ussuri/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a5f7d1404a050257ca72b6cd959ecec4f1185fb3', 'message': 'Drop redundant Manila deadline\n\nManila feature freeze was called out for the same time as the overall\nfeature freeze. This removes it since there is no additional information\nor different date for the project specific deadline.\n\nChange-Id: I253f316a64b40048d74b93a06e238a69b0bda242\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,690049,a5f7d1404a050257ca72b6cd959ecec4f1185fb3,17,5,3,11904,,,0,"Drop redundant Manila deadline

Manila feature freeze was called out for the same time as the overall
feature freeze. This removes it since there is no additional information
or different date for the project specific deadline.

Change-Id: I253f316a64b40048d74b93a06e238a69b0bda242
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/690049/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ussuri/schedule.rst', 'doc/source/ussuri/schedule.yaml']",2,3dd74023f7532ada95530f608ef80b755b7a9abf,manilaff,, project-specific: - u-manila-ffreeze,0,11
openstack%2Freleases~master~I520cfd82ec12da491caa421a9e3c2412b8300956,openstack/releases,master,I520cfd82ec12da491caa421a9e3c2412b8300956,RC2 OpenStack-Ansible Train,MERGED,2019-11-06 15:28:33.000000000,2019-11-12 11:28:25.000000000,2019-11-12 11:28:25.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-06 15:28:33.000000000', 'files': ['deliverables/train/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0c4e5ab2729f43219a8dbb8e15084e2a9d014f33', 'message': 'RC2 OpenStack-Ansible Train\n\nChange-Id: I520cfd82ec12da491caa421a9e3c2412b8300956\n'}]",0,693198,0c4e5ab2729f43219a8dbb8e15084e2a9d014f33,9,5,1,28619,,,0,"RC2 OpenStack-Ansible Train

Change-Id: I520cfd82ec12da491caa421a9e3c2412b8300956
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/693198/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstack-ansible.yaml'],1,0c4e5ab2729f43219a8dbb8e15084e2a9d014f33,release_osa, - version: 20.0.0.0rc2 projects: - repo: openstack/openstack-ansible hash: ce1287aaecfbe62c3cd93490ccf8d1a6c5331314,,4,0
openstack%2Freleases~master~Iea7280546122199e4ebc603be473b470f2d817fe,openstack/releases,master,Iea7280546122199e4ebc603be473b470f2d817fe,Bugfix release for mistral-lib train,MERGED,2019-11-06 12:38:46.000000000,2019-11-12 11:28:24.000000000,2019-11-12 11:28:24.000000000,"[{'_account_id': 308}, {'_account_id': 8731}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 12:38:46.000000000', 'files': ['deliverables/train/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/362120d68766e4e9c8ca82cdf75e6b04b21111b6', 'message': 'Bugfix release for mistral-lib train\n\nRelated-Bug: #1850843\nChange-Id: Iea7280546122199e4ebc603be473b470f2d817fe\n'}]",0,693169,362120d68766e4e9c8ca82cdf75e6b04b21111b6,8,4,1,9712,,,0,"Bugfix release for mistral-lib train

Related-Bug: #1850843
Change-Id: Iea7280546122199e4ebc603be473b470f2d817fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/693169/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/mistral-lib.yaml'],1,362120d68766e4e9c8ca82cdf75e6b04b21111b6,bug/1850843, - version: 1.2.1 projects: - repo: openstack/mistral-lib hash: 4bac2b282e3a01e7a9a035d8b8c921024ecb6261,,4,0
openstack%2Fnetworking-bgpvpn~stable%2Ftrain~I6574bc41520149c1bad5fad2b0d7baae6459ad62,openstack/networking-bgpvpn,stable/train,I6574bc41520149c1bad5fad2b0d7baae6459ad62,Switch neutron-tempest-plugin jobs to train branch,MERGED,2019-10-03 20:08:00.000000000,2019-11-12 11:26:55.000000000,2019-11-12 11:23:54.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 20:08:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/584b2f4b1a4f7ca2c2b1f1bbc532973b6135b526', 'message': 'Switch neutron-tempest-plugin jobs to train branch\n\nDepends-On: https://review.opendev.org/#/c/685213/\nChange-Id: I6574bc41520149c1bad5fad2b0d7baae6459ad62\n'}]",0,686484,584b2f4b1a4f7ca2c2b1f1bbc532973b6135b526,11,5,1,11975,,,0,"Switch neutron-tempest-plugin jobs to train branch

Depends-On: https://review.opendev.org/#/c/685213/
Change-Id: I6574bc41520149c1bad5fad2b0d7baae6459ad62
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/84/686484/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,584b2f4b1a4f7ca2c2b1f1bbc532973b6135b526,train-release, - neutron-tempest-plugin-bgpvpn-bagpipe-train: - neutron-tempest-plugin-bgpvpn-bagpipe-train:, - neutron-tempest-plugin-bgpvpn-bagpipe: - neutron-tempest-plugin-bgpvpn-bagpipe:,2,2
openstack%2Fnova~master~I0156cda8543f847d50e16683e1eb29fbdd556d27,openstack/nova,master,I0156cda8543f847d50e16683e1eb29fbdd556d27,Resolve TODO in _remove_host_allocations,MERGED,2019-11-10 14:43:50.000000000,2019-11-12 11:25:23.000000000,2019-11-12 11:21:35.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-10 14:43:50.000000000', 'files': ['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/29f22b3b5156e0edb269a7792c11226e66223e66', 'message': ""Resolve TODO in _remove_host_allocations\n\nThe Selection object returned by select_destinations has a\ncompute node UUID in it so we don't have to look up the\ncompute node object by host/nodename when reverting allocations\nduring live migration.\n\nChange-Id: I0156cda8543f847d50e16683e1eb29fbdd556d27\n""}]",0,693636,29f22b3b5156e0edb269a7792c11226e66223e66,18,13,1,6873,,,0,"Resolve TODO in _remove_host_allocations

The Selection object returned by select_destinations has a
compute node UUID in it so we don't have to look up the
compute node object by host/nodename when reverting allocations
during live migration.

Change-Id: I0156cda8543f847d50e16683e1eb29fbdd556d27
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/693636/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",2,29f22b3b5156e0edb269a7792c11226e66223e66,compute_node_uuid," cell_uuid=uuids.cell, limits=fake_limits1, compute_node_uuid=uuids.compute_node1) cell_uuid=uuids.cell, limits=fake_limits2, compute_node_uuid=uuids.compute_node2) mock_remove.assert_called_once_with(fake_selection1.compute_node_uuid) mock_remove.assert_called_once_with(fake_selection1.compute_node_uuid) mock_remove.assert_called_once_with(fake_selection1.compute_node_uuid) mock_remove.assert_called_once_with(fake_selection1.compute_node_uuid) def test_remove_host_allocations(self, remove_provider): self.task._remove_host_allocations(uuids.cn) remove_provider.assert_called_once_with( self.task.context, self.task.instance.uuid, uuids.cn)"," cell_uuid=uuids.cell, limits=fake_limits1) cell_uuid=uuids.cell, limits=fake_limits2) mock_remove.assert_called_once_with('host1', 'node1') mock_remove.assert_called_once_with('host1', 'node1') mock_remove.assert_called_once_with('host1', 'node1') mock_remove.assert_called_once_with('host1', 'node1') @mock.patch.object(objects.ComputeNode, 'get_by_host_and_nodename', side_effect=exception.ComputeHostNotFound(host='host')) def test_remove_host_allocations_compute_host_not_found( self, remove_provider, get_cn): """"""Tests that failing to find a ComputeNode will not blow up the _remove_host_allocations method. """""" self.task._remove_host_allocations('host', 'node') remove_provider.assert_not_called()",17,35
openstack%2Fnova~master~Ic1760d6ca058a554c3677b186f99305d558389fa,openstack/nova,master,Ic1760d6ca058a554c3677b186f99305d558389fa,Add func test for 'required' PCI NUMA policy,MERGED,2019-09-18 16:02:09.000000000,2019-11-12 11:23:32.000000000,2019-11-12 11:17:28.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-18 16:02:09.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6df2ad787b32a7f1ea21f5c3c68f1e89242b12ff', 'message': ""Add func test for 'required' PCI NUMA policy\n\nIab82719527cbaae4af64e12a27b8561ea2d269c0 added a test for the\n'preferred' PCI NUMA policy, but we had no test for 'required'. This\npatch adds one.\n\nChange-Id: Ic1760d6ca058a554c3677b186f99305d558389fa\n""}]",1,682941,6df2ad787b32a7f1ea21f5c3c68f1e89242b12ff,16,12,1,8864,,,0,"Add func test for 'required' PCI NUMA policy

Iab82719527cbaae4af64e12a27b8561ea2d269c0 added a test for the
'preferred' PCI NUMA policy, but we had no test for 'required'. This
patch adds one.

Change-Id: Ic1760d6ca058a554c3677b186f99305d558389fa
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/682941/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_pci_sriov_servers.py'],1,6df2ad787b32a7f1ea21f5c3c68f1e89242b12ff,bug/1805891,"class PCIServersWithPreferredNUMATest(_PCIServersTestBase): end_status = 'ACTIVE' self._run_build_test(flavor_id, end_status=self.end_status) class PCIServersWithRequiredNUMATest(PCIServersWithPreferredNUMATest): ALIAS_NAME = 'a1' PCI_ALIAS = [jsonutils.dumps( { 'vendor_id': fakelibvirt.PCI_VEND_ID, 'product_id': fakelibvirt.PCI_PROD_ID, 'name': ALIAS_NAME, 'device_type': fields.PciDeviceType.STANDARD, 'numa_policy': fields.PCINUMAAffinityPolicy.REQUIRED, } )] end_status = 'ERROR'",class PCIServersWithNUMAPoliciesTest(_PCIServersTestBase): self._run_build_test(flavor_id),18,2
openstack%2Freleases~master~I09c637830bb7b768544a90b7cab75c184d7020b0,openstack/releases,master,I09c637830bb7b768544a90b7cab75c184d7020b0,nova: release train 20.0.1,MERGED,2019-11-03 17:06:26.000000000,2019-11-12 11:21:06.000000000,2019-11-12 11:21:06.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-03 17:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/787a3ec56a41e927140c1ee53ff4243b988bf919', 'message': 'nova: release train 20.0.1\n\nThis contains a couple of fixes for regressions\nintroduced in Train.\n\nChange-Id: I09c637830bb7b768544a90b7cab75c184d7020b0\n'}, {'number': 2, 'created': '2019-11-04 13:31:08.000000000', 'files': ['deliverables/train/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0058eadecf4fbf7783ca7a0dd80841fb08db5756', 'message': 'nova: release train 20.0.1\n\nThis contains a couple of fixes for regressions\nintroduced in Train.\n\nChange-Id: I09c637830bb7b768544a90b7cab75c184d7020b0\n'}]",1,692758,0058eadecf4fbf7783ca7a0dd80841fb08db5756,11,5,2,6873,,,0,"nova: release train 20.0.1

This contains a couple of fixes for regressions
introduced in Train.

Change-Id: I09c637830bb7b768544a90b7cab75c184d7020b0
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/692758/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/nova.yaml'],1,787a3ec56a41e927140c1ee53ff4243b988bf919,nova-train-20.0.1, - version: 20.0.1 projects: - repo: openstack/nova hash: 9136e2c7f7cbbbea2a09fcc7a94be1b8f224e19c,,4,0
openstack%2Fnova~master~I847fc44e62065e3d26e5595e178b83912ab5d19b,openstack/nova,master,I847fc44e62065e3d26e5595e178b83912ab5d19b,Pass RequestContext to oslo_policy,MERGED,2019-08-01 13:59:16.000000000,2019-11-12 11:20:06.000000000,2019-11-12 11:17:22.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-01 13:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e195358327b19a1e9245f4099a0091899a3eeb7b', 'message': ""Pass RequestContext to oslo_policy\n\nIn nova.policy.authorize() method, it convert the context\nobject to policy value by context.to_policy_values() and then\npass that into oslo.policy enforcer authorize() method.\n\nThis is fine till now and does not cause any issue but when\nscope_type is set on policy and context then scope info is\nnot passed correctly.\n\nIn case of system scope, oslo.policy check for a key called 'system'\nin creds. The oslo.context library uses `system_scope` instead[1],\nand the compatibility between both oslo.policy and oslo.context\nare handled when complete context is passed into oslo_policy[2].\n\nIf nova convert the context object to policy values then system scope\ninfo is not passed into the oslo_policy. Better way is to pass the complete\ncontext object to oslo_policy and let oslo_policy fetch the system scope\ninfo in correct way.\n\n[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321\n[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994\n\nChange-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b\n""}, {'number': 2, 'created': '2019-08-01 14:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61b510feb4275e84cf81202f6f3b5ce6a64e3bb7', 'message': ""Pass RequestContext to oslo_policy\n\nIn nova.policy.authorize() method, it convert the context\nobject to policy value by context.to_policy_values() and then\npass that into oslo.policy enforcer authorize() method.\n\nThis is fine till now and does not cause any issue but when\nscope_type is set on policy and context then scope info is\nnot passed correctly.\n\nIn case of system scope, oslo.policy check for a key called 'system'\nin creds. The oslo.context library uses `system_scope` instead[1],\nand the compatibility between both oslo.policy and oslo.context\nare handled when complete context is passed into oslo_policy[2].\n\nIf nova convert the context object to policy values then system scope\ninfo is not passed into the oslo_policy. Better way is to pass the complete\ncontext object to oslo_policy and let oslo_policy fetch the system scope\ninfo in correct way.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321\n[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994\n\nChange-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b\n""}, {'number': 3, 'created': '2019-08-08 03:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5d60a8aefb5f6ed3eddc77a4466a564985b8553', 'message': ""Pass RequestContext to oslo_policy\n\nIn nova.policy.authorize() method, it convert the context\nobject to policy value by context.to_policy_values() and then\npass that into oslo.policy enforcer authorize() method.\n\nThis is fine till now and does not cause any issue but when\nscope_type is set on policy and context then scope info is\nnot passed correctly.\n\nIn case of system scope, oslo.policy check for a key called 'system'\nin creds. The oslo.context library uses `system_scope` instead[1],\nand the compatibility between both oslo.policy and oslo.context\nare handled when complete context is passed into oslo_policy[2].\n\nIf nova convert the context object to policy values then system scope\ninfo is not passed into the oslo_policy. Better way is to pass the complete\ncontext object to oslo_policy and let oslo_policy fetch the system scope\ninfo in correct way.\n\nUpdate the lower constraints for oslo.policy and oslo.context to have\nsystem scope checks feature.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321\n[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994\n\nChange-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b\n""}, {'number': 4, 'created': '2019-08-08 05:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/720a80a073738a09ce9c03dd5985213c60fd39e3', 'message': ""Pass RequestContext to oslo_policy\n\nIn nova.policy.authorize() method, it convert the context\nobject to policy value by context.to_policy_values() and then\npass that into oslo.policy enforcer authorize() method.\n\nThis is fine till now and does not cause any issue but when\nscope_type is set on policy and context then scope info is\nnot passed correctly.\n\nIn case of system scope, oslo.policy check for a key called 'system'\nin creds. The oslo.context library uses `system_scope` instead[1],\nand the compatibility between both oslo.policy and oslo.context\nare handled when complete context is passed into oslo_policy[2].\n\nIf nova convert the context object to policy values then system scope\ninfo is not passed into the oslo_policy. Better way is to pass the complete\ncontext object to oslo_policy and let oslo_policy fetch the system scope\ninfo in correct way.\n\nUpdate the lower constraints for oslo.policy and oslo.context to have\nsystem scope checks feature.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321\n[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994\n\nChange-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b\n""}, {'number': 5, 'created': '2019-08-15 08:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/988b6dafcad506818a20f9fad37ccb05d603459d', 'message': ""Pass RequestContext to oslo_policy\n\nIn nova.policy.authorize() method, it convert the context\nobject to policy value by context.to_policy_values() and then\npass that into oslo.policy enforcer authorize() method.\n\nThis is fine till now and does not cause any issue but when\nscope_type is set on policy and context then scope info is\nnot passed correctly.\n\nIn case of system scope, oslo.policy check for a key called 'system'\nin creds. The oslo.context library uses `system_scope` instead[1],\nand the compatibility between both oslo.policy and oslo.context\nare handled when complete context is passed into oslo_policy[2].\n\nIf nova convert the context object to policy values then system scope\ninfo is not passed into the oslo_policy. Better way is to pass the complete\ncontext object to oslo_policy and let oslo_policy fetch the system scope\ninfo in correct way.\n\nUpdate the lower constraints for oslo.policy and oslo.context to have\nsystem scope checks feature.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321\n[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994\n\nChange-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b\n""}, {'number': 6, 'created': '2019-10-18 07:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20f632d76d78e92a61cd47fb58bcd42873fe4cef', 'message': ""Pass RequestContext to oslo_policy\n\nIn nova.policy.authorize() method, it convert the context\nobject to policy value by context.to_policy_values() and then\npass that into oslo.policy enforcer authorize() method.\n\nThis is fine till now and does not cause any issue but when\nscope_type is set on policy and context then scope info is\nnot passed correctly.\n\nIn case of system scope, oslo.policy check for a key called 'system'\nin creds. The oslo.context library uses `system_scope` instead[1],\nand the compatibility between both oslo.policy and oslo.context\nare handled when complete context is passed into oslo_policy[2].\n\nIf nova convert the context object to policy values then system scope\ninfo is not passed into the oslo_policy. Better way is to pass the complete\ncontext object to oslo_policy and let oslo_policy fetch the system scope\ninfo in correct way.\n\nUpdate the lower constraints for oslo.policy and oslo.context to have\nsystem scope checks feature.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321\n[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994\n\nChange-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b\n""}, {'number': 7, 'created': '2019-10-18 07:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c5f8ae5a4d81a30cc83b3dd7cb848e92a95f9b1', 'message': ""Pass RequestContext to oslo_policy\n\nIn nova.policy.authorize() method, it convert the context\nobject to policy value by context.to_policy_values() and then\npass that into oslo.policy enforcer authorize() method.\n\nThis is fine till now and does not cause any issue but when\nscope_type is set on policy and context then scope info is\nnot passed correctly.\n\nIn case of system scope, oslo.policy check for a key called 'system'\nin creds. The oslo.context library uses `system_scope` instead[1],\nand the compatibility between both oslo.policy and oslo.context\nare handled when complete context is passed into oslo_policy[2].\n\nIf nova convert the context object to policy values then system scope\ninfo is not passed into the oslo_policy. Better way is to pass the complete\ncontext object to oslo_policy and let oslo_policy fetch the system scope\ninfo in correct way.\n\nUpdate the lower constraints for oslo.policy and oslo.context to have\nsystem scope checks feature.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321\n[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994\n\nChange-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b\n""}, {'number': 8, 'created': '2019-10-18 08:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/748d89c423744f4c74290357b90d1f0fd5e6b56e', 'message': ""Pass RequestContext to oslo_policy\n\nIn nova.policy.authorize() method, it convert the context\nobject to policy value by context.to_policy_values() and then\npass that into oslo.policy enforcer authorize() method.\n\nThis is fine till now and does not cause any issue but when\nscope_type is set on policy and context then scope info is\nnot passed correctly.\n\nIn case of system scope, oslo.policy check for a key called 'system'\nin creds. The oslo.context library uses `system_scope` instead[1],\nand the compatibility between both oslo.policy and oslo.context\nare handled when complete context is passed into oslo_policy[2].\n\nIf nova convert the context object to policy values then system scope\ninfo is not passed into the oslo_policy. Better way is to pass the complete\ncontext object to oslo_policy and let oslo_policy fetch the system scope\ninfo in correct way.\n\nUpdate the lower constraints for oslo.policy and oslo.context to have\nsystem scope checks feature.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321\n[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994\n\nChange-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b\n""}, {'number': 9, 'created': '2019-10-29 15:21:50.000000000', 'files': ['nova/tests/unit/test_policy.py', 'requirements.txt', 'lower-constraints.txt', 'nova/policy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/55ae1a5d5397638de7cfd2aec732a7685cc39f10', 'message': ""Pass RequestContext to oslo_policy\n\nIn nova.policy.authorize() method, it convert the context\nobject to policy value by context.to_policy_values() and then\npass that into oslo.policy enforcer authorize() method.\n\nThis is fine till now and does not cause any issue but when\nscope_type is set on policy and context then scope info is\nnot passed correctly.\n\nIn case of system scope, oslo.policy check for a key called 'system'\nin creds. The oslo.context library uses `system_scope` instead[1],\nand the compatibility between both oslo.policy and oslo.context\nare handled when complete context is passed into oslo_policy[2].\n\nIf nova convert the context object to policy values then system scope\ninfo is not passed into the oslo_policy. Better way is to pass the complete\ncontext object to oslo_policy and let oslo_policy fetch the system scope\ninfo in correct way.\n\nUpdate the lower constraints for oslo.policy and oslo.context to have\nsystem scope checks feature.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321\n[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994\n\nChange-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b\n""}]",1,674038,55ae1a5d5397638de7cfd2aec732a7685cc39f10,117,21,9,8556,,,0,"Pass RequestContext to oslo_policy

In nova.policy.authorize() method, it convert the context
object to policy value by context.to_policy_values() and then
pass that into oslo.policy enforcer authorize() method.

This is fine till now and does not cause any issue but when
scope_type is set on policy and context then scope info is
not passed correctly.

In case of system scope, oslo.policy check for a key called 'system'
in creds. The oslo.context library uses `system_scope` instead[1],
and the compatibility between both oslo.policy and oslo.context
are handled when complete context is passed into oslo_policy[2].

If nova convert the context object to policy values then system scope
info is not passed into the oslo_policy. Better way is to pass the complete
context object to oslo_policy and let oslo_policy fetch the system scope
info in correct way.

Update the lower constraints for oslo.policy and oslo.context to have
system scope checks feature.

Partial implement blueprint policy-defaults-refresh

[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321
[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994

Change-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/674038/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_policy.py', 'nova/policy.py']",2,e195358327b19a1e9245f4099a0091899a3eeb7b,bp/policy-defaults-refresh," result = _ENFORCER.authorize(action, target, context, except policy.InvalidScope: LOG.debug('Policy check for %(action)s failed with scope check ' '%(credentials)s', {'action': action, 'credentials': context.to_policy_values()}) raise exc(action=action) {'action': action, 'credentials': context.to_policy_values()}) return _ENFORCER.authorize('context_is_admin', target, context)"," credentials = context.to_policy_values() result = _ENFORCER.authorize(action, target, credentials, {'action': action, 'credentials': credentials}) credentials = context.to_policy_values() return _ENFORCER.authorize('context_is_admin', target, credentials)",26,5
openstack%2Freleases~master~Ib29e8815e08b78607da3807dae1693ca8bb2efc4,openstack/releases,master,Ib29e8815e08b78607da3807dae1693ca8bb2efc4,[manila] Release 9.1.0 off of stable/train,MERGED,2019-10-29 00:22:03.000000000,2019-11-12 11:19:54.000000000,2019-11-12 11:19:54.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-29 00:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a7335fed9aa4dd93e557d25048f665fcbf33a058', 'message': '[manila] Release 9.0.1 off of stable/train\n\nThis minor release includes bug-fixes for:\n\n- bug #1846836\n- bug #1700871\n- bug #1634734\n\nChange-Id: Ib29e8815e08b78607da3807dae1693ca8bb2efc4\n'}, {'number': 2, 'created': '2019-10-29 00:35:07.000000000', 'files': ['deliverables/train/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6250c4764f37ce578bc7db41306708a1cfba8202', 'message': '[manila] Release 9.1.0 off of stable/train\n\nThis minor release includes bug-fixes for:\n\n- bug #1846836\n- bug #1700871\n- bug #1634734\n\nThese bugfixes affect the public API for the Shared\nFile Systems service, but introduce no backwards\nincompatible changes that affect the client negatively.\n\nChange-Id: Ib29e8815e08b78607da3807dae1693ca8bb2efc4\n'}]",0,691772,6250c4764f37ce578bc7db41306708a1cfba8202,14,6,2,16643,,,0,"[manila] Release 9.1.0 off of stable/train

This minor release includes bug-fixes for:

- bug #1846836
- bug #1700871
- bug #1634734

These bugfixes affect the public API for the Shared
File Systems service, but introduce no backwards
incompatible changes that affect the client negatively.

Change-Id: Ib29e8815e08b78607da3807dae1693ca8bb2efc4
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/691772/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/manila.yaml'],1,a7335fed9aa4dd93e557d25048f665fcbf33a058,manila, - version: 9.0.1 projects: - repo: openstack/manila hash: 9da5594fbd943099995a86948de1f72c2d78fb26,,4,0
openstack%2Fceilometer~master~I28a5da8809b9c8f2c0956af7bb4fbf82295668c6,openstack/ceilometer,master,I28a5da8809b9c8f2c0956af7bb4fbf82295668c6,Add missing ws seperator between words,MERGED,2019-11-12 07:11:30.000000000,2019-11-12 10:38:43.000000000,2019-11-12 10:37:12.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 07:11:30.000000000', 'files': ['ceilometer/monasca_opts.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a11266be2260bddd6aea01a31db39ea6d294d722', 'message': 'Add missing ws seperator between words\n\nThis is to add missing ws seperator between words.\n\nChange-Id: I28a5da8809b9c8f2c0956af7bb4fbf82295668c6\n'}]",0,693777,a11266be2260bddd6aea01a31db39ea6d294d722,7,2,1,20190,,,0,"Add missing ws seperator between words

This is to add missing ws seperator between words.

Change-Id: I28a5da8809b9c8f2c0956af7bb4fbf82295668c6
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/77/693777/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/monasca_opts.py'],1,a11266be2260bddd6aea01a31db39ea6d294d722,missing_ws, help='Indicates whether publisher retries publishing ', help='Indicates whether publisher retries publishing',1,1
openstack%2Fmonasca-api~master~I7743f2d2b8cd7c83541f77c7821f9512fb8abc36,openstack/monasca-api,master,I7743f2d2b8cd7c83541f77c7821f9512fb8abc36,Fix for editing an Alarm Definition,MERGED,2019-10-23 14:32:45.000000000,2019-11-12 10:33:57.000000000,2019-11-12 10:32:45.000000000,"[{'_account_id': 16222}, {'_account_id': 16957}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2019-10-23 14:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0a658d941c2a8ba7604c732ecf8e093cec1ae2a1', 'message': 'Fix for editing an Alarm Definition\n\nThis change solves the issue when: after removing the deterministic option\nof an alarm definition by editing it, the alarm(s) asociated continue(s)\nto behave as deterministic. Please see the story for more info.\n\nChange-Id: I7743f2d2b8cd7c83541f77c7821f9512fb8abc36\nstory: 2006750\ntask: 37233\n'}, {'number': 2, 'created': '2019-11-05 12:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/6c10fee53e709e642b9d506349e20267b53b87b1', 'message': 'Fix for editing an Alarm Definition\n\nThis change solves the issue when: after removing the deterministic option\nof an alarm definition by editing it, the alarm(s) asociated continue(s)\nto behave as deterministic. Please see the story for more info.\n\nAdded Unittest.\n\nChange-Id: I7743f2d2b8cd7c83541f77c7821f9512fb8abc36\nstory: 2006750\ntask: 37233\n'}, {'number': 3, 'created': '2019-11-05 12:56:20.000000000', 'files': ['monasca_api/tests/test_ad_repository.py', 'monasca_api/common/repositories/model/sub_alarm_definition.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/12dee6996cdbae32141e6ee19417e9f9ca652a3d', 'message': 'Fix for editing an Alarm Definition\n\nThis change solves the issue when: after removing the deterministic option\nof an alarm definition by editing it, the alarm(s) asociated continue(s)\nto behave as deterministic. Please see the story for more info.\n\nAdded Unittest.\n\nChange-Id: I7743f2d2b8cd7c83541f77c7821f9512fb8abc36\nstory: 2006750\ntask: 37233\n'}]",0,690585,12dee6996cdbae32141e6ee19417e9f9ca652a3d,21,7,3,28062,,,0,"Fix for editing an Alarm Definition

This change solves the issue when: after removing the deterministic option
of an alarm definition by editing it, the alarm(s) asociated continue(s)
to behave as deterministic. Please see the story for more info.

Added Unittest.

Change-Id: I7743f2d2b8cd7c83541f77c7821f9512fb8abc36
story: 2006750
task: 37233
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/85/690585/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_api/common/repositories/model/sub_alarm_definition.py'],1,0a658d941c2a8ba7604c732ecf8e093cec1ae2a1,patch-alarm-def, self.deterministic = row['is_deterministic'], self.deterministic = str(row['is_deterministic']) == '1',1,1
openstack%2Fblazar~master~Ie839351cfe8cdbc4947c4c64513ccd067e3d1cc7,openstack/blazar,master,Ie839351cfe8cdbc4947c4c64513ccd067e3d1cc7,Add max-complexity in tox pep8,MERGED,2019-11-09 05:13:51.000000000,2019-11-12 10:32:49.000000000,2019-11-12 10:29:22.000000000,"[{'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-09 05:13:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar/commit/b76daf1ff60c2ee168d073029b87d2932167084a', 'message': ""Add max-complexity in tox pep8\n\nThis patch changes it to raise error on 'tox -epep8' when added\nfunction is too complex.\n\n16 is currently the most complex thing we have:\n  'ManagerService.update_lease' - blazar/manager/service.py\n\nChange-Id: Ie839351cfe8cdbc4947c4c64513ccd067e3d1cc7\n""}]",0,693605,b76daf1ff60c2ee168d073029b87d2932167084a,9,4,1,25625,,,0,"Add max-complexity in tox pep8

This patch changes it to raise error on 'tox -epep8' when added
function is too complex.

16 is currently the most complex thing we have:
  'ManagerService.update_lease' - blazar/manager/service.py

Change-Id: Ie839351cfe8cdbc4947c4c64513ccd067e3d1cc7
",git fetch https://review.opendev.org/openstack/blazar refs/changes/05/693605/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b76daf1ff60c2ee168d073029b87d2932167084a,refactoring-tools,"# To get a list of functions that have a complexity of 17 or more, set # max-complexity to 17 and run 'tox -epep8'. # 16 is currently the most complex thing we have: # 'ManagerService.update_lease' - blazar/manager/service.py max-complexity=17",,5,0
openstack%2Fblazar~master~Idec8652cb92e30660546362b66115dd380c2f80e,openstack/blazar,master,Idec8652cb92e30660546362b66115dd380c2f80e,Add coverage to unit tests,MERGED,2019-11-08 08:19:30.000000000,2019-11-12 10:31:46.000000000,2019-11-12 10:29:22.000000000,"[{'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 28522}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-08 08:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/64dc8cfbfa332caf02071432b1f3ae6bcce7e12d', 'message': ""Add coverage to unit tests\n\nWe have unit tests but we didn't have the coverage report of the\nunit tests. This patch adds a zuul job to report the coverage rate\nof the unit tests.\n\nIt does NOT fail even if the coverage rate is too low. This is just\nfor reporting so far.\n\nChange-Id: Idec8652cb92e30660546362b66115dd380c2f80e\n""}, {'number': 2, 'created': '2019-11-09 05:13:51.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar/commit/560c8158a2d82ac2e2ec0c8e97ed66029d862409', 'message': ""Add coverage to unit tests\n\nWe have unit tests but we didn't have the coverage report of the\nunit tests. This patch adds a zuul job to report the coverage rate\nof the unit tests.\n\nIt does NOT fail even if the coverage rate is too low. This is just\nfor reporting so far.\n\nChange-Id: Idec8652cb92e30660546362b66115dd380c2f80e\n""}]",2,693498,560c8158a2d82ac2e2ec0c8e97ed66029d862409,14,6,2,25625,,,0,"Add coverage to unit tests

We have unit tests but we didn't have the coverage report of the
unit tests. This patch adds a zuul job to report the coverage rate
of the unit tests.

It does NOT fail even if the coverage rate is too low. This is just
for reporting so far.

Change-Id: Idec8652cb92e30660546362b66115dd380c2f80e
",git fetch https://review.opendev.org/openstack/blazar refs/changes/98/693498/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'tox.ini']",3,64dc8cfbfa332caf02071432b1f3ae6bcce7e12d,refactoring-tools,"setenv = {[testenv]setenv} PYTHON=coverage run --source blazar --parallel-mode coverage erase lockutils-wrapper python setup.py testr --testr-args=""{posargs}"" coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report","setenv = VIRTUAL_ENV={envdir} lockutils-wrapper python setup.py testr --coverage --testr-args=""{posargs}""",11,2
openstack%2Fkarbor~master~Ia1a6345b1e38b9ccc4246d2d39d11cc8e537cb4e,openstack/karbor,master,Ia1a6345b1e38b9ccc4246d2d39d11cc8e537cb4e,Remove invalid exception catching,MERGED,2019-11-12 08:04:46.000000000,2019-11-12 10:10:45.000000000,2019-11-12 10:09:12.000000000,"[{'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-12 08:04:46.000000000', 'files': ['karbor/api/v1/verifications.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/28fabef6ec5a88f9ee7da0f3a56628efc71347fb', 'message': 'Remove invalid exception catching\n\nList operation of verifications will never raise VerificationNotFound\nexception in _get_all method, we should remove it to normalize the\nerror code.\n\nChange-Id: Ia1a6345b1e38b9ccc4246d2d39d11cc8e537cb4e\n'}]",0,693780,28fabef6ec5a88f9ee7da0f3a56628efc71347fb,7,2,1,21224,,,0,"Remove invalid exception catching

List operation of verifications will never raise VerificationNotFound
exception in _get_all method, we should remove it to normalize the
error code.

Change-Id: Ia1a6345b1e38b9ccc4246d2d39d11cc8e537cb4e
",git fetch https://review.opendev.org/openstack/karbor refs/changes/80/693780/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/api/v1/verifications.py'],1,28fabef6ec5a88f9ee7da0f3a56628efc71347fb,fix-verifications-error-code," verifications = self._get_all(context, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset)"," try: verifications = self._get_all(context, marker, limit, sort_keys=sort_keys, sort_dirs=sort_dirs, filters=filters, offset=offset) except exception.VerificationNotFound as error: raise exc.HTTPNotFound(explanation=error.msg)",5,8
openstack%2Fneutron-fwaas~master~I3212851ce34047772c4f837631f519d656d366a7,openstack/neutron-fwaas,master,I3212851ce34047772c4f837631f519d656d366a7,Fix sorting of filter rules in legacy_conntrack module,MERGED,2019-06-22 12:05:09.000000000,2019-11-12 09:59:19.000000000,2019-07-01 16:26:46.000000000,"[{'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-22 12:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ffa160140689c701ab8b721b22a64a5f005e76af', 'message': 'Fix sorting of filter rules in legacy_conntrack module\n\nRule tuples used there may contains None as elements sometimes.\nIn such case if None and str values are compared in python 3\nTypeError exception is raised.\nThis patch fixes it by using helper function which replace\nNone values with empty string before list of tuples is sorted.\n\nChange-Id: I3212851ce34047772c4f837631f519d656d366a7\n'}, {'number': 2, 'created': '2019-06-27 06:36:55.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/legacy_conntrack.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_legacy_conntrack.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1ad1f78568a34cb183ed87bb7a074d91f3d2a9d2', 'message': 'Fix sorting of filter rules in legacy_conntrack module\n\nRule tuples used there may contains None as elements sometimes.\nIn such case if None and str values are compared in python 3\nTypeError exception is raised.\nThis patch fixes it by using helper function which replace\nNone values with empty string before list of tuples is sorted.\n\nChange-Id: I3212851ce34047772c4f837631f519d656d366a7\n'}]",0,666956,1ad1f78568a34cb183ed87bb7a074d91f3d2a9d2,16,4,2,11975,,,0,"Fix sorting of filter rules in legacy_conntrack module

Rule tuples used there may contains None as elements sometimes.
In such case if None and str values are compared in python 3
TypeError exception is raised.
This patch fixes it by using helper function which replace
None values with empty string before list of tuples is sorted.

Change-Id: I3212851ce34047772c4f837631f519d656d366a7
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/56/666956/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/legacy_conntrack.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_legacy_conntrack.py']",2,ffa160140689c701ab8b721b22a64a5f005e76af,switch-to-py3," def test_normalize_filters_tuple(self): self.assertEqual( (4, 'udp', [], [], '', ''), legacy_conntrack.normalize_filters_tuple( (4, 'udp', [], [], None, None))) self.assertEqual( (4, '', [], [], '', ''), legacy_conntrack.normalize_filters_tuple( (4, None, [], [], None, None))) ",,23,1
openstack%2Fmistral~master~Iba05b9acbfea06214a3ab93911d2eaaa4729278f,openstack/mistral,master,Iba05b9acbfea06214a3ab93911d2eaaa4729278f,Task publish is ignored silently,MERGED,2019-09-25 11:22:53.000000000,2019-11-12 09:46:49.000000000,2019-11-12 09:45:19.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-09-25 11:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1c72ff952c0ced4789b79c8524a9dd2fd9f90cb6', 'message': 'Task publish is ignored silently:-\n\nbug-fix, on-success, on complete published variables are not merged with regular published variables\n\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 2, 'created': '2019-10-02 11:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2bc62409046d3b65fe863dd5007dfb58d7c7cd30', 'message': 'Task publish is ignored silently:-\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 3, 'created': '2019-10-02 11:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/33cea9a9f8afcaa82ae7d440db1ce90a249059e6', 'message': 'Task publish is ignored silently\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 4, 'created': '2019-10-03 09:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0263f6249b2085977de48ba3e4f0c659a194065d', 'message': 'Task publish is ignored silently:-\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 5, 'created': '2019-10-03 13:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9d55253e7959dd83f2b3be8939f49e47c9430ecb', 'message': 'Task publish is ignored silently:-\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 6, 'created': '2019-10-17 09:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f3664b73ce894211ddcf436be1900f3437f4d7b2', 'message': 'Task publish is ignored silently:-\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 7, 'created': '2019-10-17 09:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3bcff58253656b59cbf542350723be4251d945ce', 'message': 'Task publish is ignored silently:-\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 8, 'created': '2019-10-17 12:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f80c977987be6bc68f5b86fb3653f944b3eab948', 'message': 'Task publish is ignored silently:-\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 9, 'created': '2019-10-22 10:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e797b2cae067eefbd1d255d9f690699c7a10e4fa', 'message': 'Task publish is ignored silently:-\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 10, 'created': '2019-10-22 11:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0e4bf2940e00b170fff8ce2bd684bf6d9710a144', 'message': 'Task publish is ignored silently:-\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nDepends-On: https://review.opendev.org/#/c/690040/\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}, {'number': 11, 'created': '2019-11-11 09:46:29.000000000', 'files': ['mistral/lang/v2/tasks.py', 'mistral/lang/v2/publish.py', 'mistral/tests/unit/engine/test_dataflow.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/c7a54d22df990795141dc990300ab76704aa5d30', 'message': 'Task publish is ignored silently\n\nbug-fix, on-success, on complete published variables are not merged\n with regular published variables\n\nCloses-Bug: #1791449\nChange-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f\n'}]",18,684711,c7a54d22df990795141dc990300ab76704aa5d30,37,5,11,30755,,,0,"Task publish is ignored silently

bug-fix, on-success, on complete published variables are not merged
 with regular published variables

Closes-Bug: #1791449
Change-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f
",git fetch https://review.opendev.org/openstack/mistral refs/changes/11/684711/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/lang/v2/tasks.py', 'mistral/tests/unit/engine/test_dataflow.py']",2,1c72ff952c0ced4789b79c8524a9dd2fd9f90cb6,bug/1791449," def _find_task(self, task_name, tasks): for task in tasks: if task.get('name') == task_name: return task def test_publish_with_all(self): wf_text = """"""--- version: '2.0' wf: tasks: main-task: publish: res_x1: 111 on-complete: next: complete-task publish: branch: res_x3: 222 on-success: next: success-task publish: branch: res_x2: 222 success-task: action: std.noop publish: success_x2: <% $.res_x2 %> success_x1: <% $.res_x1 %> complete-task: action: std.noop publish: complete_x2: <% $.res_x3 %> complete_x1: <% $.res_x1 %> """""" wf_service.create_workflows(wf_text) wf_ex = self.engine.start_workflow('wf') self.await_workflow_success(wf_ex.id) with db_api.transaction(): wf_ex = db_api.get_workflow_execution(wf_ex.id) wf_output = wf_ex.output tasks = wf_ex.task_executions main_task = self._find_task(""main-task"", tasks) main_task_published_vars = main_task.get(""published"") expected_main_variables = {'res_x3', 'res_x2', 'res_x1'} self.assertEqual(set(main_task_published_vars.keys()), expected_main_variables) complete_task = self._find_task(""complete-task"", tasks) complete_task_published_vars = complete_task.get(""published"") expected_complete_variables = {'complete_x2', 'complete_x1'} self.assertEqual(set(complete_task_published_vars.keys()), expected_complete_variables) success_task = self._find_task(""success-task"", tasks) success_task_published_vars = success_task.get(""published"") expected_success_variables = {'success_x2', 'success_x1'} self.assertEqual(set(success_task_published_vars.keys()), expected_success_variables) all_expected_published_variables = expected_main_variables.union( expected_success_variables, expected_complete_variables ) self.assertEqual(set(wf_output), all_expected_published_variables) def test_publish_no_success(self): wf_text = """"""--- version: '2.0' wf: tasks: main-task: publish: res_x1: 111 on-complete: next: complete-task publish: branch: res_x3: 222 complete-task: action: std.noop publish: complete_x2: <% $.res_x3 %> complete_x1: <% $.res_x1 %> """""" wf_service.create_workflows(wf_text) wf_ex = self.engine.start_workflow('wf') self.await_workflow_success(wf_ex.id) with db_api.transaction(): # Note: We need to reread execution to access related tasks. wf_ex = db_api.get_workflow_execution(wf_ex.id) wf_output = wf_ex.output tasks = wf_ex.task_executions main_task = self._find_task(""main-task"", tasks) main_task_published_vars = main_task.get(""published"") expected_main_variables = {'res_x3', 'res_x1'} self.assertEqual(set(main_task_published_vars.keys()), expected_main_variables) complete_task = self._find_task(""complete-task"", tasks) complete_task_published_vars = complete_task.get(""published"") expected_complete_variables = {'complete_x2', 'complete_x1'} self.assertEqual(set(complete_task_published_vars.keys()), expected_complete_variables) all_expected_published_variables = expected_main_variables.union( expected_complete_variables) self.assertEqual(set(wf_output), all_expected_published_variables) def test_publish_no_complete(self): wf_text = """"""--- version: '2.0' wf: tasks: main-task: publish: res_x1: 111 on-success: next: success-task publish: branch: res_x2: 222 success-task: action: std.noop publish: success_x2: <% $.res_x2 %> success_x1: <% $.res_x1 %> """""" wf_service.create_workflows(wf_text) wf_ex = self.engine.start_workflow('wf') self.await_workflow_success(wf_ex.id) with db_api.transaction(): # Note: We need to reread execution to access related tasks. wf_ex = db_api.get_workflow_execution(wf_ex.id) tasks = wf_ex.task_executions wf_output = wf_ex.output main_task = self._find_task(""main-task"", tasks) main_task_published_vars = main_task.get(""published"") expected_main_variables = {'res_x2', 'res_x1'} self.assertEqual(set(main_task_published_vars.keys()), expected_main_variables) success_task = self._find_task(""success-task"", tasks) success_task_published_vars = success_task.get(""published"") expected_success_variables = {'success_x2', 'success_x1'} self.assertEqual(set(success_task_published_vars.keys()), expected_success_variables) all_expected_published_variables = expected_main_variables.union( expected_success_variables) self.assertEqual(set(wf_output), all_expected_published_variables) def test_publish_no_regular_publish(self): wf_text = """"""--- version: '2.0' wf2: tasks: main-task: on-success: next: success-task publish: branch: res_x2: 222 success-task: action: std.noop publish: success_x2: <% $.res_x2 %> """""" wf_service.create_workflows(wf_text) wf_ex = self.engine.start_workflow('wf2') self.await_workflow_success(wf_ex.id) with db_api.transaction(): # Note: We need to reread execution to access related tasks. wf_ex = db_api.get_workflow_execution(wf_ex.id) tasks = wf_ex.task_executions wf_output = wf_ex.output main_task = self._find_task(""main-task"", tasks) main_task_published_vars = main_task.get(""published"") expected_main_variables = {'res_x2'} self.assertEqual(set(main_task_published_vars.keys()), expected_main_variables) success_task = self._find_task(""success-task"", tasks) success_task_published_vars = success_task.get(""published"") expected_success_variables = {'success_x2'} self.assertEqual(set(success_task_published_vars.keys()), expected_success_variables) all_expected_published_variables = expected_main_variables.union( expected_success_variables) self.assertEqual(set(wf_output), all_expected_published_variables) ",,225,9
openstack%2Fmistral~master~If7a054bbf77f9ed761d8f3ac36b6d329544f5ff5,openstack/mistral,master,If7a054bbf77f9ed761d8f3ac36b6d329544f5ff5,Refactor rerun of joins,MERGED,2019-11-11 09:42:56.000000000,2019-11-12 09:34:33.000000000,2019-11-12 09:32:56.000000000,"[{'_account_id': 8731}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-11-11 09:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f2b4ef91dc2ca2d0b47260b8929a018c4cdbc59a', 'message': 'WIP: refactor rerun of joins\n\nChange-Id: If7a054bbf77f9ed761d8f3ac36b6d329544f5ff5\n'}, {'number': 2, 'created': '2019-11-11 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/08f8845dbc37efab1d3f92ebf7d4f9449fd8d8fa', 'message': 'WIP: refactor rerun of joins\n\nChange-Id: If7a054bbf77f9ed761d8f3ac36b6d329544f5ff5\n'}, {'number': 3, 'created': '2019-11-11 10:10:35.000000000', 'files': ['mistral/engine/tasks.py', 'mistral/workflow/base.py', 'mistral/engine/task_handler.py', 'mistral/engine/workflows.py', 'mistral/workflow/direct_workflow.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/59bf2509eb7737d7cee84ebdc26cad97e735c7f8', 'message': ""Refactor rerun of joins\n\n* This patch moves logic that schedules a task state refreshing\n  periodic job in case of rerun from the Task class to\n  task_handler.run_task() so that Task doesn't have to know any\n  language specific details and call task handler back. It is\n  more architecturally clean.\n\nChange-Id: If7a054bbf77f9ed761d8f3ac36b6d329544f5ff5\n""}]",0,693669,59bf2509eb7737d7cee84ebdc26cad97e735c7f8,12,4,3,8731,,,0,"Refactor rerun of joins

* This patch moves logic that schedules a task state refreshing
  periodic job in case of rerun from the Task class to
  task_handler.run_task() so that Task doesn't have to know any
  language specific details and call task handler back. It is
  more architecturally clean.

Change-Id: If7a054bbf77f9ed761d8f3ac36b6d329544f5ff5
",git fetch https://review.opendev.org/openstack/mistral refs/changes/69/693669/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/workflow/base.py', 'mistral/engine/task_handler.py', 'mistral/engine/workflows.py', 'mistral/workflow/direct_workflow.py']",5,f2b4ef91dc2ca2d0b47260b8929a018c4cdbc59a,refactor_join_rerun," if not isinstance(cmd, (commands.RunTask, commands.RunExistingTask)): def rerun_tasks(self, task_execs, reset=True): cmds = super(DirectWorkflowController, self).rerun_tasks( task_execs, reset ) for cmd in cmds: self._configure_if_join(cmd) return cmds "," if not isinstance(cmd, commands.RunTask):",31,16
openstack%2Fmistral~master~I6b1087f95b88a881e074a0af4f6f8be6d9413bc7,openstack/mistral,master,I6b1087f95b88a881e074a0af4f6f8be6d9413bc7,Add a script that generates a test workflow with needed paralellism,MERGED,2019-11-07 08:04:06.000000000,2019-11-12 09:14:13.000000000,2019-11-12 09:13:00.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-11-07 08:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ad437e6f43857b6e63eab5d2a3b7e2282a40e45c', 'message': 'Add a script that generates a test workflow with needed paralellism\n\nChange-Id: I6b1087f95b88a881e074a0af4f6f8be6d9413bc7\n'}, {'number': 2, 'created': '2019-11-08 07:52:19.000000000', 'files': ['tools/wf_generators/generate_parallel_wf.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0224b1eeeb3db78f5445e413d3c5a3a8c3c4bc57', 'message': 'Add a script that generates a test workflow with needed paralellism\n\nChange-Id: I6b1087f95b88a881e074a0af4f6f8be6d9413bc7\n'}]",0,693308,0224b1eeeb3db78f5445e413d3c5a3a8c3c4bc57,18,6,2,8731,,,0,"Add a script that generates a test workflow with needed paralellism

Change-Id: I6b1087f95b88a881e074a0af4f6f8be6d9413bc7
",git fetch https://review.opendev.org/openstack/mistral refs/changes/08/693308/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate_parallel_wf.py'],1,ad437e6f43857b6e63eab5d2a3b7e2282a40e45c,add_generate_parallel_wf_script,"#!/usr/bin/env python import sys try: wf_name = str(sys.argv[1]) branch_cnt = int(sys.argv[2]) branch_depth = int(sys.argv[3]) add_join = len(sys.argv) > 4 except: raise ValueError( 'Usage: <script_name> workflow_name' ' number_of_parallel_branches branch_depth add_join' ) f = open('%s.mist' % wf_name, 'w') # Writing a workflow header to the file. f.write('---\n') f.write(""version: '2.0'\n\n"") f.write(""%s:\n"" % wf_name) f.write("" tasks:\n"") # 1. First starting task. f.write("" task_1:\n"") f.write("" action: std.noop\n"") f.write("" on-success:\n"") for branch_num in range(1, branch_cnt + 1): f.write("" - task_%s_1\n"" % branch_num) # 2. Branch tasks. for branch_num in range(1, branch_cnt + 1): for task_num in range(1, branch_depth + 1): f.write("" task_%s_%s:\n"" % (branch_num, task_num)) f.write("" action: std.noop\n"") if task_num < branch_depth: f.write("" on-success: task_%s_%s\n"" % (branch_num, task_num + 1)) elif add_join: f.write("" on-success: task_join\n"") # 3. The last ""join"" task, if needed. if add_join: f.write("" task_join:\n"") f.write("" join: all"") f.close() print(""Workflow '%s' is created."" % wf_name) ",,58,0
openstack%2Faodh~master~I90ebacd7ee9f1a6a941364c639ee4e3c10463f9a,openstack/aodh,master,I90ebacd7ee9f1a6a941364c639ee4e3c10463f9a,Switch to Ussuri jobs,ABANDONED,2019-10-21 09:21:49.000000000,2019-11-12 09:02:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-21 09:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/bfab4279693edd223b4cf587d3b6a496cd8dc06d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I90ebacd7ee9f1a6a941364c639ee4e3c10463f9a\n'}, {'number': 2, 'created': '2019-11-12 09:02:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/5aedf2a15e382a2fd97e4b3ae30b3b25eef0c70c', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I90ebacd7ee9f1a6a941364c639ee4e3c10463f9a\n'}]",0,689696,5aedf2a15e382a2fd97e4b3ae30b3b25eef0c70c,6,2,2,27822,,,0,"Switch to Ussuri jobs

Change-Id: I90ebacd7ee9f1a6a941364c639ee4e3c10463f9a
",git fetch https://review.opendev.org/openstack/aodh refs/changes/96/689696/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bfab4279693edd223b4cf587d3b6a496cd8dc06d,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.utils~master~Ie7b5d5c83d95ded28898e08f7f6329d9b0858db6,openstack/oslo.utils,master,Ie7b5d5c83d95ded28898e08f7f6329d9b0858db6,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:36:02.000000000,2019-11-12 08:59:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-10 06:36:02.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/94440e7c199b2cf46709b59c824adccfcca91e74', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ie7b5d5c83d95ded28898e08f7f6329d9b0858db6\n'}]",0,687793,94440e7c199b2cf46709b59c824adccfcca91e74,5,3,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ie7b5d5c83d95ded28898e08f7f6329d9b0858db6
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/93/687793/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,94440e7c199b2cf46709b59c824adccfcca91e74,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Foslo.service~master~I85e7262cfd93db696da4f5d3c1717dd694284f01,openstack/oslo.service,master,I85e7262cfd93db696da4f5d3c1717dd694284f01,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:33:33.000000000,2019-11-12 08:59:09.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-10 06:33:33.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/12db3be18e43e940e9ceffbc9a95b47ed7d96ccf', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I85e7262cfd93db696da4f5d3c1717dd694284f01\n'}]",0,687792,12db3be18e43e940e9ceffbc9a95b47ed7d96ccf,7,5,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I85e7262cfd93db696da4f5d3c1717dd694284f01
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/92/687792/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,12db3be18e43e940e9ceffbc9a95b47ed7d96ccf,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Foslo.upgradecheck~master~I003a89190bdfd43ed47f2c5ee133690a92c93ac9,openstack/oslo.upgradecheck,master,I003a89190bdfd43ed47f2c5ee133690a92c93ac9,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:32:18.000000000,2019-11-12 08:58:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-10 06:32:18.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/38a8d97b0eced006790df1466a18068c6519cbcc', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I003a89190bdfd43ed47f2c5ee133690a92c93ac9\n'}]",0,687791,38a8d97b0eced006790df1466a18068c6519cbcc,4,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I003a89190bdfd43ed47f2c5ee133690a92c93ac9
",git fetch https://review.opendev.org/openstack/oslo.upgradecheck refs/changes/91/687791/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,38a8d97b0eced006790df1466a18068c6519cbcc,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Foslo.reports~master~Ib25cb8e1ab2323cc2bce8ee8d7da78f252446aed,openstack/oslo.reports,master,Ib25cb8e1ab2323cc2bce8ee8d7da78f252446aed,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:26:54.000000000,2019-11-12 08:58:46.000000000,,"[{'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28522}, {'_account_id': 28935}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-10 06:26:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/698cb112e1b80919a11c118a3f2d4f677e4f3524', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ib25cb8e1ab2323cc2bce8ee8d7da78f252446aed\n'}]",0,687789,698cb112e1b80919a11c118a3f2d4f677e4f3524,9,7,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ib25cb8e1ab2323cc2bce8ee8d7da78f252446aed
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/89/687789/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,698cb112e1b80919a11c118a3f2d4f677e4f3524,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Foslo.privsep~master~Ibac6611798c4402ca791e2897fe3514d09270218,openstack/oslo.privsep,master,Ibac6611798c4402ca791e2897fe3514d09270218,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:25:38.000000000,2019-11-12 08:58:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-10 06:25:38.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/46cd7ec181c3d77bebd575388828c491cdb65268', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ibac6611798c4402ca791e2897fe3514d09270218\n'}]",0,687788,46cd7ec181c3d77bebd575388828c491cdb65268,4,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ibac6611798c4402ca791e2897fe3514d09270218
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/88/687788/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,46cd7ec181c3d77bebd575388828c491cdb65268,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Foslo.policy~master~Idbce4141a03b09f97a6e49499a117df3ae2e191d,openstack/oslo.policy,master,Idbce4141a03b09f97a6e49499a117df3ae2e191d,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:24:43.000000000,2019-11-12 08:58:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-10 06:24:43.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/db74975f431cb33eefe0f459f1ecf428bfa2e799', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Idbce4141a03b09f97a6e49499a117df3ae2e191d\n'}]",0,687786,db74975f431cb33eefe0f459f1ecf428bfa2e799,6,4,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Idbce4141a03b09f97a6e49499a117df3ae2e191d
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/86/687786/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,db74975f431cb33eefe0f459f1ecf428bfa2e799,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.5;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.5;python_version>='3.4' # BSD",1,1
openstack%2Fopenstack-helm-images~master~I10bf805bc8793d1865d566c35015541ff4d1d31d,openstack/openstack-helm-images,master,I10bf805bc8793d1865d566c35015541ff4d1d31d,Sync Sphinx requirement,ABANDONED,2019-10-09 09:17:58.000000000,2019-11-12 08:57:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-09 09:17:58.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f9ca8d7ecb9559b1e5c73ea13bd214ed6e50e81b', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I10bf805bc8793d1865d566c35015541ff4d1d31d\n'}]",0,687506,f9ca8d7ecb9559b1e5c73ea13bd214ed6e50e81b,3,1,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I10bf805bc8793d1865d566c35015541ff4d1d31d
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/06/687506/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f9ca8d7ecb9559b1e5c73ea13bd214ed6e50e81b,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fhorizon~master~Ibd9abbb449418fdbc160541a1428493442f31d9a,openstack/horizon,master,Ibd9abbb449418fdbc160541a1428493442f31d9a,Add a prompt on the Create Image form,ABANDONED,2019-01-24 05:55:57.000000000,2019-11-12 08:52:34.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-01-24 05:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/aa7e94515587ecd3b0b48f84f5de67710f8dea13', 'message': 'Add a prompt on the Create Image page\n\non the image page, create a image,\ndo not enter the min disk and min ram, no error message\n\nChange-Id: Ibd9abbb449418fdbc160541a1428493442f31d9a\nCloses-Bug: #1813106\n'}, {'number': 2, 'created': '2019-01-25 02:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/67374cd83b5ded6bbdbfd72a15d36f0c785aba2a', 'message': 'Add a prompt on the Create Image form\n\non create image form,\ndo not enter the min disk and min ram, no error message shown\n\nChange-Id: Ibd9abbb449418fdbc160541a1428493442f31d9a\nCloses-Bug: #1813106\n'}, {'number': 3, 'created': '2019-03-21 02:22:21.000000000', 'files': ['openstack_dashboard/static/app/core/images/steps/create-image/create-image.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ea564fc7766789c27682caf0b3586f4f69441ed6', 'message': 'Add a prompt on the Create Image form\n\non create image form,\ndo not enter the min disk and min ram, no error message shown\n\nChange-Id: Ibd9abbb449418fdbc160541a1428493442f31d9a\nCloses-Bug: #1813106\n'}]",4,632933,ea564fc7766789c27682caf0b3586f4f69441ed6,10,6,3,27822,,,0,"Add a prompt on the Create Image form

on create image form,
do not enter the min disk and min ram, no error message shown

Change-Id: Ibd9abbb449418fdbc160541a1428493442f31d9a
Closes-Bug: #1813106
",git fetch https://review.opendev.org/openstack/horizon refs/changes/33/632933/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/images/steps/create-image/create-image.html'],1,aa7e94515587ecd3b0b48f84f5de67710f8dea13,bug/1813106," <label class=""control-label required"" for=""imageForm-min_disk""> <translate>Minimum Disk (GB)</translate><span class=""hz-icon-required fa fa-asterisk""></span> <p class=""help-block alert alert-danger"" ng-show=""imageForm.min_disk.$invalid && imageForm.min_disk.$dirty""> <translate>min disk is required and must be an integer not less than 0</translate> </p> <translate>Minimum RAM (MB)</translate><span class=""hz-icon-required fa fa-asterisk""></span> <p class=""help-block alert alert-danger"" ng-show=""imageForm.min_ram.$invalid && imageForm.min_ram.$dirty""> <translate>min ram is required and must be an integer not less than 0</translate> </p>"," <label class=""control-label"" for=""imageForm-min_disk""> <translate>Minimum Disk (GB)</translate> <translate>Minimum RAM (MB)</translate>",11,3
openstack%2Fcinder~master~Icfb96930a5b9447550ad26b6bf5b80ab8176eb26,openstack/cinder,master,Icfb96930a5b9447550ad26b6bf5b80ab8176eb26,Remove unused helpers,ABANDONED,2019-08-13 07:56:44.000000000,2019-11-12 08:32:17.000000000,,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20190}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-08-13 07:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf320d6f1b915d0c0d93d9102f9d4d29b02a5f70', 'message': '[Trivial]Remove unused helpers\n\n1. _volume_type_ref_get is no longer used after d35f54c70f09d38f32e95faa015f4ac4ccac8a7d\n2. get_snapshot_metadata_value is no longer used after ccffe1edf88a7dc6fe146841c3fa72bb5c522fab\n3. snapshot_remote_attachable is no longer used after 763dd8cdc5c48b7771d081dcd8b9e37a8f6c0a71\n4. _get_storage_pool_name is no longer used after 7fb9b430eea0538e42dadbcab35f93979c667c64\n\nThis is to remove them for code clean.\n\nChange-Id: Icfb96930a5b9447550ad26b6bf5b80ab8176eb26\npartially-implements: blueprint cleanup-unused-helpers\n'}, {'number': 2, 'created': '2019-08-14 00:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b51ad4ddf30c058cb9c79009391d1a01ddc0bc7', 'message': '[Trivial]Remove unused helpers\n\n1. _volume_type_ref_get is no longer used after d35f54c70f09d38f32e95faa015f4ac4ccac8a7d\n2. get_snapshot_metadata_value is no longer used after ccffe1edf88a7dc6fe146841c3fa72bb5c522fab\n3. snapshot_remote_attachable is no longer used after 763dd8cdc5c48b7771d081dcd8b9e37a8f6c0a71\n4. _get_storage_pool_name is no longer used after 7fb9b430eea0538e42dadbcab35f93979c667c64\n\nThis is to remove them for code clean.\n\nChange-Id: Icfb96930a5b9447550ad26b6bf5b80ab8176eb26\n'}, {'number': 3, 'created': '2019-08-29 00:38:16.000000000', 'files': ['cinder/volume/drivers/dell_emc/vxflexos/driver.py', 'cinder/volume/driver.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ea0fd3ce260d3be549277daa3a77f22659229af', 'message': 'Remove unused helpers\n\n1. _volume_type_ref_get is no longer used after d35f54c70f09d38f32e95faa015f4ac4ccac8a7d\n2. get_snapshot_metadata_value is no longer used after ccffe1edf88a7dc6fe146841c3fa72bb5c522fab\n3. snapshot_remote_attachable is no longer used after 763dd8cdc5c48b7771d081dcd8b9e37a8f6c0a71\n4. _get_storage_pool_name is no longer used after 7fb9b430eea0538e42dadbcab35f93979c667c64\n\nThis is to remove them for code clean.\n\nChange-Id: Icfb96930a5b9447550ad26b6bf5b80ab8176eb26\n'}]",1,676127,9ea0fd3ce260d3be549277daa3a77f22659229af,102,35,3,20190,,,0,"Remove unused helpers

1. _volume_type_ref_get is no longer used after d35f54c70f09d38f32e95faa015f4ac4ccac8a7d
2. get_snapshot_metadata_value is no longer used after ccffe1edf88a7dc6fe146841c3fa72bb5c522fab
3. snapshot_remote_attachable is no longer used after 763dd8cdc5c48b7771d081dcd8b9e37a8f6c0a71
4. _get_storage_pool_name is no longer used after 7fb9b430eea0538e42dadbcab35f93979c667c64

This is to remove them for code clean.

Change-Id: Icfb96930a5b9447550ad26b6bf5b80ab8176eb26
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/676127/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vxflexos/driver.py', 'cinder/volume/driver.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/api.py']",4,cf320d6f1b915d0c0d93d9102f9d4d29b02a5f70,unuse_helper_1,," def get_snapshot_metadata_value(self, snapshot, key): LOG.info(""Get snapshot metadata value not implemented."", resource=snapshot) ",0,54
openstack%2Fcinder~master~I4ca1800363078da1869c48ac817ef9ca4a033d60,openstack/cinder,master,I4ca1800363078da1869c48ac817ef9ca4a033d60,[Trivial]Remove never used helpers,ABANDONED,2019-08-13 08:25:16.000000000,2019-11-12 08:31:18.000000000,,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20190}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-08-13 08:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d223a47aa53007de8ab7498423cbbd1ad181656', 'message': ""[Trivial]Remove never used helpers\n\n1. _select_ddr_poolnumber is never used after it's created in\ncb668cb656f596f0a39de2673cfb9ce7d6aff626.\n2. _cinder_volume_name_from_drbd_resource is never used after it's\ncreated in 8c04a9a92263d771741f03f003b1a6ee6d4be73c.\n3. remove_group_type_access is never used after it's created in\n8cf9786e00e47421bf96fbc76f0b9b4ec8605540.\n\nThis is to remove them for code clean.\n\nChange-Id: I4ca1800363078da1869c48ac817ef9ca4a033d60\npartially-implements: blueprint cleanup-unused-helpers\n""}, {'number': 2, 'created': '2019-08-14 00:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2b8415f0eb8762262eded1d23e2ae7de9a9a413', 'message': ""[Trivial]Remove never used helpers\n\n1. _select_ddr_poolnumber is never used after it's created in\ncb668cb656f596f0a39de2673cfb9ce7d6aff626.\n2. _cinder_volume_name_from_drbd_resource is never used after it's\ncreated in 8c04a9a92263d771741f03f003b1a6ee6d4be73c.\n3. remove_group_type_access and add_group_type_access are never used\nafter they are created in 8cf9786e00e47421bf96fbc76f0b9b4ec8605540.\n\nThis is to remove them for code clean.\n\nChange-Id: I4ca1800363078da1869c48ac817ef9ca4a033d60\n""}, {'number': 3, 'created': '2019-08-14 00:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c185e6587476c108671de562d137b2477ede0f7', 'message': ""[Trivial]Remove never used helpers\n\n1. _select_ddr_poolnumber is never used after it's created in\ncb668cb656f596f0a39de2673cfb9ce7d6aff626.\n2. _cinder_volume_name_from_drbd_resource is never used after it's\ncreated in 8c04a9a92263d771741f03f003b1a6ee6d4be73c.\n3. remove_group_type_access and add_group_type_access are never used\nafter they are created in 8cf9786e00e47421bf96fbc76f0b9b4ec8605540.\n\nThis is to remove them for code clean.\n\nChange-Id: I4ca1800363078da1869c48ac817ef9ca4a033d60\n""}, {'number': 4, 'created': '2019-08-14 05:40:17.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/group_types.py', 'cinder/tests/unit/volume/drivers/test_linstordrv.py', 'cinder/volume/drivers/nec/volume_helper.py', 'cinder/volume/drivers/linstordrv.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/81b7e4f2f1b1f138363f88039f78b34100b84d5f', 'message': ""[Trivial]Remove never used helpers\n\n1. _select_ddr_poolnumber is never used after it's created in\ncb668cb656f596f0a39de2673cfb9ce7d6aff626.\n2. _cinder_volume_name_from_drbd_resource is never used after it's\ncreated in 8c04a9a92263d771741f03f003b1a6ee6d4be73c.\n3. remove_group_type_access and add_group_type_access are never used\nafter they are created in 8cf9786e00e47421bf96fbc76f0b9b4ec8605540.\n\nThis is to remove them for code clean.\n\nChange-Id: I4ca1800363078da1869c48ac817ef9ca4a033d60\n""}]",5,676130,81b7e4f2f1b1f138363f88039f78b34100b84d5f,81,30,4,20190,,,0,"[Trivial]Remove never used helpers

1. _select_ddr_poolnumber is never used after it's created in
cb668cb656f596f0a39de2673cfb9ce7d6aff626.
2. _cinder_volume_name_from_drbd_resource is never used after it's
created in 8c04a9a92263d771741f03f003b1a6ee6d4be73c.
3. remove_group_type_access and add_group_type_access are never used
after they are created in 8cf9786e00e47421bf96fbc76f0b9b4ec8605540.

This is to remove them for code clean.

Change-Id: I4ca1800363078da1869c48ac817ef9ca4a033d60
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/676130/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/group_types.py', 'cinder/tests/unit/volume/drivers/test_linstordrv.py', 'cinder/volume/drivers/nec/volume_helper.py', 'cinder/volume/drivers/linstordrv.py']",5,0d223a47aa53007de8ab7498423cbbd1ad181656,unuse_helper_select_ddr_poolnumber,," def _cinder_volume_name_from_drbd_resource(self, rsc_name): cinder_volume_name = rsc_name.split(DM_VN_PREFIX)[1] return cinder_volume_name ",0,59
openstack%2Fneutron~master~Ia9b467d201e2def7046465746a65b4a15f2b462a,openstack/neutron,master,Ia9b467d201e2def7046465746a65b4a15f2b462a,Pass trace info through ovs-agent when received in vif plug,ABANDONED,2019-06-20 15:13:04.000000000,2019-11-12 08:18:53.000000000,,"[{'_account_id': 5950}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-20 15:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5685d5ed4807e366f1c8d135f1fe933c4690b62c', 'message': ""WIP init profiler when trace info found in bridge's external_ids\n\nTechnically this does not depend on related os-vif change, but you have\nto take both changes to pass profiler info through the vif plug.\n\nChange-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a\nDepends-On: https://review.opendev.org/666609\nRelated-Change: https://review.opendev.org/665715\n""}, {'number': 2, 'created': '2019-06-21 08:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/003ee19742b5dd42723041d47c498eebc777c49f', 'message': ""WIP init profiler when trace info found in bridge's external_ids\n\nTechnically this does not depend on related os-vif change, but you have\nto take both changes to pass profiler info through the vif plug.\n\nChange-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a\nDepends-On: https://review.opendev.org/666609\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/665715\n""}, {'number': 3, 'created': '2019-07-10 08:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e42f1ad1e069143c00f36f6fd8832681b7d99e4', 'message': ""WIP Init profiler when trace info found in bridge's external_ids\n\nTechnically this does not depend on related os-vif change, but you have\nto take both changes to pass profiler info through the vif plug.\n\nChange-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/665715\n""}, {'number': 4, 'created': '2019-07-11 08:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6713a6eabf042b57b8d81c5927424e2a83b52981', 'message': ""WIP Init profiler when trace info found in bridge's external_ids\n\nTechnically this does not depend on related os-vif change, but you have\nto take both changes to pass profiler info through the vif plug.\n\nChange-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/665715\n""}, {'number': 5, 'created': '2019-07-11 11:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/933f72a25000f773a421d9c4085a929ffaeeae45', 'message': ""WIP Init profiler when trace info found in bridge's external_ids\n\nTechnically this does not depend on related os-vif change, but you have\nto take both changes to pass profiler info through the vif plug.\n\nChange-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/665715\n""}, {'number': 6, 'created': '2019-07-19 17:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f7b561dc83890a7c71823c14adff1e2a92030d6', 'message': ""WIP Pass trace info through ovs-agent when received in vif plug\n\nThis change is one step in the direction of profiling a vif plug end to\nend with osprofiler.\n\novs-agent and osprofiler don't work well together. osprofiler works\nbest when a thread is spawned (eventlet or not) for a request on a\nsingle object. But ovs-agent processes many objects in an overlapping\nnon-threaded infinite loop. So if we had initialized a thread local\nprofiler in ovs-agent then we would start profiling many things\nunintended.\n\nTherefore in this change we do not leave the profiler initialized\nfor a significant time, we only pass through the arguments for it.\nWe receive the trace info (from nova/os-vif) in the vif plug (encoded\nin the external_ids of the integration bridge). We send the trace\ninfo on (to neutron-server) in the first relevant update_device_*\nrpc message. That seems to be a good approximation of when ovs-agent\nfinished processing a port. This way we won't generate a single trace\npoint from ovs-agent. But we'll have a trace point shortly before nova\nplugs the vif, for example from:\n\nnova.virt.libvirt.vif.LibvirtGenericVIFDriver.plug\n\nAnd another trace point shortly after ovs-agent calls back to\nneutron-server to update the ports status to something final (like\nACTIVE) e.g.:\n\nneutron.plugins.ml2.rpc.update_device_list\n\nYou can search for these method names in the json trace report\ngenerated by 'openstack server create --os-profile ...' and\nqueried by 'osprofiler trace show --json ...'.\n\nBy that we have measured (at least an upper bound of) the total time\nspent in ovs-agent and we also get to continue profiling other\ncomponents coming after ovs-agent.\n\nWe expect os-vif to encode the trace info into the external_ids of the\nintegration bridge. Technically this change does not depend on the related\nos-vif change, but you have to take both changes to pass profiler info\nthrough the vif plug. Without the os-vif change this change should be\na no-op.\n\nThe current way of passing the trace info in the integration bridge's\nexternal_ids is clearly suboptimal. It would be way better if we could\npass it in the relevant port's external_ids. However that's currently\nnot possible because libvirt unconditionally deletes and re-creates\nthe ovs port at vif plug, therefore we lose the port's external_ids\n(except the external_ids libvirt re-adds).\n\nThis change is still WIP because there's at least one more piece\nmissing that is the propagation of trace info from neutron-server to\nnova in the vif_plugged os-server-external-events call.\n\nChange-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/665715\n""}, {'number': 7, 'created': '2019-07-22 14:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fa95287feb60e8e450ecbbf4237fdbc9f8b1476', 'message': ""Pass trace info through ovs-agent when received in vif plug\n\nThis change is a step in the direction of profiling a vif plug end to\nend with osprofiler.\n\novs-agent and osprofiler don't work well together. osprofiler works\nbest when a thread is spawned (eventlet or not) for a request on a\nsingle object. But ovs-agent processes many objects in an overlapping\nnon-threaded infinite loop. So if we had initialized a thread local\nprofiler in ovs-agent then we would start profiling many things\nunintended.\n\nTherefore in this change we do not leave the profiler initialized\nfor a significant time, we only pass through the arguments for it.\nWe receive the trace info (from nova/os-vif) in the vif plug (encoded\nin the external_ids of the integration bridge). We send the trace\ninfo on (to neutron-server) in the first relevant update_device_*\nrpc message. That seems to be a good approximation of when ovs-agent\nfinished processing a port. This way we won't generate a single trace\npoint from ovs-agent. But we'll have a trace point shortly before nova\nplugs the vif, for example from:\n\nnova.virt.libvirt.vif.LibvirtGenericVIFDriver.plug\n\nAnd another trace point shortly after ovs-agent calls back to\nneutron-server to update the ports status to something final (like\nACTIVE) e.g.:\n\nneutron.plugins.ml2.rpc.update_device_list\n\nYou can search for these method names in the json trace report\ngenerated by 'openstack server create --os-profile ...' and\nqueried by 'osprofiler trace show --json ...'.\n\nBy that we have measured (at least an upper bound of) the total time\nspent in ovs-agent and we also get to continue profiling other\ncomponents coming after ovs-agent.\n\nWe expect os-vif to encode the trace info into the external_ids\nof the integration bridge. Technically this change does not depend\non the related os-vif change, but you have to take both changes to\npass profiler info through the vif plug. Without the os-vif change\nthis change should be a no-op. The os-vif change does not have a\nhard dependency on this change, however we should merge the change\nconsuming trace info external_ids first and the change producing trace\ninfo external_ids second, otherwise we'll have unconsumed external_ids\naccumulating on the integration bridge.\n\nThe current way of passing the trace info in the integration bridge's\nexternal_ids is clearly suboptimal. It would be way better if we could\npass it in the relevant port's external_ids. However that's currently\nnot possible because libvirt unconditionally deletes and re-creates\nthe ovs port at vif plug, therefore we lose the port's external_ids\n(except the external_ids libvirt re-adds).\n\nTogether with https://review.opendev.org/666532 merged before\nthe trace info is now propagated back to nova in the HTTP\nheaders (X-Trace-*) of the network-vif-plugged event POSTed to\n/compute/v2.1/os-server-external-events. At the moment nova does not\nseem to produce a trace point triggered by that, however that needs\nto be handled in a follow up change in nova.\n\nChange-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a\nNeeded-By: https://review.opendev.org/665715\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/666532\n""}, {'number': 8, 'created': '2019-07-23 15:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/391cdbc4ee5beb5e5d6cb324355232abe9480c33', 'message': ""Pass trace info through ovs-agent when received in vif plug\n\nThis change is a step in the direction of profiling a vif plug end to\nend with osprofiler.\n\novs-agent and osprofiler don't work well together. osprofiler works\nbest when a thread is spawned (eventlet or not) for a request on a\nsingle object. But ovs-agent processes many objects in an overlapping\nnon-threaded infinite loop. So if we had initialized a thread local\nprofiler in ovs-agent then we would start profiling many things\nunintended.\n\nTherefore in this change we do not leave the profiler initialized\nfor a significant time, we only pass through the arguments for it.\nWe receive the trace info (from nova/os-vif) in the vif plug (encoded\nin the external_ids of the integration bridge). We send the trace\ninfo on (to neutron-server) in the first relevant update_device_*\nrpc message. That seems to be a good approximation of when ovs-agent\nfinished processing a port. This way we won't generate a single trace\npoint from ovs-agent. But we'll have a trace point shortly before nova\nplugs the vif, for example from:\n\nnova.virt.libvirt.vif.LibvirtGenericVIFDriver.plug\n\nAnd another trace point shortly after ovs-agent calls back to\nneutron-server to update the ports status to something final (like\nACTIVE) e.g.:\n\nneutron.plugins.ml2.rpc.update_device_list\n\nYou can search for these method names in the json trace report\ngenerated by 'openstack server create --os-profile ...' and\nqueried by 'osprofiler trace show --json ...'.\n\nBy that we have measured (at least an upper bound of) the total time\nspent in ovs-agent and we also get to continue profiling other\ncomponents coming after ovs-agent.\n\nWe expect os-vif to encode the trace info into the external_ids\nof the integration bridge. Technically this change does not depend\non the related os-vif change, but you have to take both changes to\npass profiler info through the vif plug. Without the os-vif change\nthis change should be a no-op. The os-vif change does not have a\nhard dependency on this change, however we should merge the change\nconsuming trace info external_ids first and the change producing trace\ninfo external_ids second, otherwise we'll have unconsumed external_ids\naccumulating on the integration bridge.\n\nThe current way of passing the trace info in the integration bridge's\nexternal_ids is clearly suboptimal. It would be way better if we could\npass it in the relevant port's external_ids. However that's currently\nnot possible because libvirt unconditionally deletes and re-creates\nthe ovs port at vif plug, therefore we lose the port's external_ids\n(except the external_ids libvirt re-adds).\n\nTogether with https://review.opendev.org/666532 merged before\nthe trace info is now propagated back to nova in the HTTP\nheaders (X-Trace-*) of the network-vif-plugged event POSTed to\n/compute/v2.1/os-server-external-events. At the moment nova does not\nseem to produce a trace point triggered by that, however that needs\nto be handled in a follow up change in nova.\n\nChange-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a\nNeeded-By: https://review.opendev.org/665715\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/666532\n""}, {'number': 9, 'created': '2019-07-24 13:51:42.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/agent/rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a685c7793aa59d644094a40a15739e63597758f', 'message': ""Pass trace info through ovs-agent when received in vif plug\n\nThis change is a step in the direction of profiling a vif plug end to\nend with osprofiler.\n\novs-agent and osprofiler don't work well together. osprofiler works\nbest when a thread is spawned (eventlet or not) for a request on a\nsingle object. But ovs-agent processes many objects in an overlapping\nnon-threaded infinite loop. So if we had initialized a thread local\nprofiler in ovs-agent then we would start profiling many things\nunintended.\n\nTherefore in this change we do not leave the profiler initialized\nfor a significant time, we only pass through the arguments for it.\nWe receive the trace info (from nova/os-vif) in the vif plug (encoded\nin the external_ids of the integration bridge). We send the trace\ninfo on (to neutron-server) in the first relevant update_device_*\nrpc message. That seems to be a good approximation of when ovs-agent\nfinished processing a port. This way we won't generate a single trace\npoint from ovs-agent. But we'll have a trace point shortly before nova\nplugs the vif, for example from:\n\nnova.virt.libvirt.vif.LibvirtGenericVIFDriver.plug\n\nAnd another trace point shortly after ovs-agent calls back to\nneutron-server to update the ports status to something final (like\nACTIVE) e.g.:\n\nneutron.plugins.ml2.rpc.update_device_list\n\nYou can search for these method names in the json trace report\ngenerated by 'openstack server create --os-profile ...' and\nqueried by 'osprofiler trace show --json ...'.\n\nBy that we have measured (at least an upper bound of) the total time\nspent in ovs-agent and we also get to continue profiling other\ncomponents coming after ovs-agent.\n\nWe expect os-vif to encode the trace info into the external_ids\nof the integration bridge. Technically this change does not depend\non the related os-vif change, but you have to take both changes to\npass profiler info through the vif plug. Without the os-vif change\nthis change should be a no-op. The os-vif change does not have a\nhard dependency on this change, however we should merge the change\nconsuming trace info external_ids first and the change producing trace\ninfo external_ids second, otherwise we'll have unconsumed external_ids\naccumulating on the integration bridge.\n\nThe current way of passing the trace info in the integration bridge's\nexternal_ids is clearly suboptimal. It would be way better if we could\npass it in the relevant port's external_ids. However that's currently\nnot possible because libvirt unconditionally deletes and re-creates\nthe ovs port at vif plug, therefore we lose the port's external_ids\n(except the external_ids libvirt re-adds).\n\nTogether with https://review.opendev.org/666532 merged before\nthe trace info is now propagated back to nova in the HTTP\nheaders (X-Trace-*) of the network-vif-plugged event POSTed to\n/compute/v2.1/os-server-external-events. At the moment nova does not\nseem to produce a trace point triggered by that, however that needs\nto be handled in a follow up change in nova.\n\nChange-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a\nNeeded-By: https://review.opendev.org/665715\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/666532\n""}]",18,666610,2a685c7793aa59d644094a40a15739e63597758f,62,9,9,15554,,,0,"Pass trace info through ovs-agent when received in vif plug

This change is a step in the direction of profiling a vif plug end to
end with osprofiler.

ovs-agent and osprofiler don't work well together. osprofiler works
best when a thread is spawned (eventlet or not) for a request on a
single object. But ovs-agent processes many objects in an overlapping
non-threaded infinite loop. So if we had initialized a thread local
profiler in ovs-agent then we would start profiling many things
unintended.

Therefore in this change we do not leave the profiler initialized
for a significant time, we only pass through the arguments for it.
We receive the trace info (from nova/os-vif) in the vif plug (encoded
in the external_ids of the integration bridge). We send the trace
info on (to neutron-server) in the first relevant update_device_*
rpc message. That seems to be a good approximation of when ovs-agent
finished processing a port. This way we won't generate a single trace
point from ovs-agent. But we'll have a trace point shortly before nova
plugs the vif, for example from:

nova.virt.libvirt.vif.LibvirtGenericVIFDriver.plug

And another trace point shortly after ovs-agent calls back to
neutron-server to update the ports status to something final (like
ACTIVE) e.g.:

neutron.plugins.ml2.rpc.update_device_list

You can search for these method names in the json trace report
generated by 'openstack server create --os-profile ...' and
queried by 'osprofiler trace show --json ...'.

By that we have measured (at least an upper bound of) the total time
spent in ovs-agent and we also get to continue profiling other
components coming after ovs-agent.

We expect os-vif to encode the trace info into the external_ids
of the integration bridge. Technically this change does not depend
on the related os-vif change, but you have to take both changes to
pass profiler info through the vif plug. Without the os-vif change
this change should be a no-op. The os-vif change does not have a
hard dependency on this change, however we should merge the change
consuming trace info external_ids first and the change producing trace
info external_ids second, otherwise we'll have unconsumed external_ids
accumulating on the integration bridge.

The current way of passing the trace info in the integration bridge's
external_ids is clearly suboptimal. It would be way better if we could
pass it in the relevant port's external_ids. However that's currently
not possible because libvirt unconditionally deletes and re-creates
the ovs port at vif plug, therefore we lose the port's external_ids
(except the external_ids libvirt re-adds).

Together with https://review.opendev.org/666532 merged before
the trace info is now propagated back to nova in the HTTP
headers (X-Trace-*) of the network-vif-plugged event POSTed to
/compute/v2.1/os-server-external-events. At the moment nova does not
seem to produce a trace point triggered by that, however that needs
to be handled in a follow up change in nova.

Change-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a
Needed-By: https://review.opendev.org/665715
Partial-Bug: #1833674
Related-Change: https://review.opendev.org/666532
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/666610/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py']",2,5685d5ed4807e366f1c8d135f1fe933c4690b62c,osprofiler," def _get_bridge_val(self, br_val): return self.db_get_val(""Bridge"", self.br_name, br_val) def get_bridge_external_ids(self): return self._get_bridge_val(""external_ids"") def delete_bridge_external_ids_key(self, key): return self.ovsdb.db_remove( ""Bridge"", self.br_name, ""external_ids"", key, ).execute() ",,23,0
openstack%2Fsearchlight-specs~master~I7ed905e7276c37d56c7449f4d5a885f3909dc48e,openstack/searchlight-specs,master,I7ed905e7276c37d56c7449f4d5a885f3909dc48e,Add python 3 ussuri jobs,MERGED,2019-11-12 07:05:23.000000000,2019-11-12 07:34:44.000000000,2019-11-12 07:32:23.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-12 07:05:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/b0e5b767f08c24b89670203d6a13cc7e6469503e', 'message': 'Add python 3 ussuri jobs\n\nChange-Id: I7ed905e7276c37d56c7449f4d5a885f3909dc48e\n'}]",0,693776,b0e5b767f08c24b89670203d6a13cc7e6469503e,7,2,1,23317,,,0,"Add python 3 ussuri jobs

Change-Id: I7ed905e7276c37d56c7449f4d5a885f3909dc48e
",git fetch https://review.opendev.org/openstack/searchlight-specs refs/changes/76/693776/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b0e5b767f08c24b89670203d6a13cc7e6469503e,dev, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fkarbor~master~I769134524cb47ada83649121e231d337a2dc0db0,openstack/karbor,master,I769134524cb47ada83649121e231d337a2dc0db0,Add services api doc,MERGED,2019-11-11 13:43:38.000000000,2019-11-12 07:22:19.000000000,2019-11-12 07:20:26.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-11 13:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/dc97a410028da2336afa53bc1ef97a073187621d', 'message': 'Add services api doc\n\nChange-Id: I769134524cb47ada83649121e231d337a2dc0db0\nStory: 2006807\nTask: 37357\n'}, {'number': 2, 'created': '2019-11-11 15:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9d2edb0c05ee098952d6c3215c21649300e60e6e', 'message': 'Add services api doc\n\nChange-Id: I769134524cb47ada83649121e231d337a2dc0db0\nStory: 2006807\nTask: 37357\n'}, {'number': 3, 'created': '2019-11-12 05:37:55.000000000', 'files': ['api-ref/source/v1/samples/services-list-response.json', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v1/karbor-v1-services.inc', 'api-ref/source/v1/index.rst', 'api-ref/source/v1/samples/services-update-request.json', 'api-ref/source/v1/samples/services-update-response.json'], 'web_link': 'https://opendev.org/openstack/karbor/commit/e75309d792e8124f2c471a1340bcf58c7feb702b', 'message': 'Add services api doc\n\nChange-Id: I769134524cb47ada83649121e231d337a2dc0db0\nStory: 2006807\nTask: 37357\n'}]",0,693697,e75309d792e8124f2c471a1340bcf58c7feb702b,12,3,3,21224,,,0,"Add services api doc

Change-Id: I769134524cb47ada83649121e231d337a2dc0db0
Story: 2006807
Task: 37357
",git fetch https://review.opendev.org/openstack/karbor refs/changes/97/693697/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/samples/services-list-response.json', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v1/karbor-v1-services.inc', 'api-ref/source/v1/index.rst', 'api-ref/source/v1/samples/services-update-request.json', 'api-ref/source/v1/samples/services-update-response.json']",6,dc97a410028da2336afa53bc1ef97a073187621d,api-doc-services,"{ ""service"": { ""status"": ""disabled"", ""binary"": ""karbor-operationengine"", ""state"": ""down"", ""updated_at"": ""2019-11-03T11:50:25.000000"", ""host"": ""devstack"", ""disabled_reason"": null, ""id"": 1 } }",,231,0
openstack%2Fpython-muranoclient~master~I6b47afc8d4c9a38b2001a2842ff9052e7c58746f,openstack/python-muranoclient,master,I6b47afc8d4c9a38b2001a2842ff9052e7c58746f,Switch to Ussuri jobs,ABANDONED,2019-11-12 06:56:40.000000000,2019-11-12 06:56:57.000000000,,[],"[{'number': 1, 'created': '2019-11-12 06:56:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/a5b53514b3fce46bf28351199b3ee41a00da7d9d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I6b47afc8d4c9a38b2001a2842ff9052e7c58746f\n'}]",0,693775,a5b53514b3fce46bf28351199b3ee41a00da7d9d,2,0,1,23317,,,0,"Switch to Ussuri jobs

Change-Id: I6b47afc8d4c9a38b2001a2842ff9052e7c58746f
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/75/693775/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a5b53514b3fce46bf28351199b3ee41a00da7d9d,dev, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fneutron-tempest-plugin~master~I000563643d4a157102f5dd09cb2e855fb406a712,openstack/neutron-tempest-plugin,master,I000563643d4a157102f5dd09cb2e855fb406a712,Add stable/train jobs definitions,MERGED,2019-09-27 07:34:32.000000000,2019-11-12 06:49:38.000000000,2019-11-12 06:49:38.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-27 07:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9aca9d3bf9aef676db61954db74570a140d1a7cf', 'message': 'Add stable/train jobs definitions\n\nThis patch adds train jobs definitions to be run on stable/train branch.\nIt also reorders some definitions for stable branches to be in\nchronological order.\n\nChange-Id: I000563643d4a157102f5dd09cb2e855fb406a712\n'}, {'number': 2, 'created': '2019-09-27 08:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/21de80b61e8ac5f95bdc2dbcf372555ceaf3b32a', 'message': 'Add stable/train jobs definitions\n\nThis patch adds train jobs definitions to be run on stable/train branch.\nIt also reorders some definitions for stable branches to be in\nchronological order.\n\nChange-Id: I000563643d4a157102f5dd09cb2e855fb406a712\n'}, {'number': 3, 'created': '2019-09-27 08:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/485c84bcb83e19724f0865354dde23a04968824d', 'message': 'Add stable/train jobs definitions\n\nThis patch adds train jobs definitions to be run on stable/train branch.\nIt also reorders some definitions for stable branches to be in\nchronological order.\n\nChange-Id: I000563643d4a157102f5dd09cb2e855fb406a712\n'}, {'number': 4, 'created': '2019-09-30 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/100130587bae606006808bdb5d935c40c67978be', 'message': 'Add stable/train jobs definitions\n\nThis patch adds train jobs definitions to be run on stable/train branch.\nIt also reorders some definitions for stable branches to be in\nchronological order.\n\nChange-Id: I000563643d4a157102f5dd09cb2e855fb406a712\n'}, {'number': 5, 'created': '2019-10-02 11:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8f902e7838915fe279a24b286c7f2e311cf9b655', 'message': 'Add stable/train jobs definitions\n\nThis patch adds train jobs definitions to be run on stable/train branch.\nIt also reorders some definitions for stable branches to be in\nchronological order.\n\nChange-Id: I000563643d4a157102f5dd09cb2e855fb406a712\n'}, {'number': 6, 'created': '2019-10-15 13:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3c226b0eace76ccce6592efad21860908c69d474', 'message': 'Add stable/train jobs definitions\n\nThis patch adds train jobs definitions to be run on stable/train branch.\nIt also reorders some definitions for stable branches to be in\nchronological order.\n\nChange-Id: I000563643d4a157102f5dd09cb2e855fb406a712\n'}, {'number': 7, 'created': '2019-11-07 05:08:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/047a0207761c1d734b957da078254a01bd68e9a4', 'message': 'Add stable/train jobs definitions\n\nThis patch adds train jobs definitions to be run on stable/train branch.\nIt also reorders some definitions for stable branches to be in\nchronological order.\n\nChange-Id: I000563643d4a157102f5dd09cb2e855fb406a712\n'}]",13,685213,047a0207761c1d734b957da078254a01bd68e9a4,69,11,7,11975,,,0,"Add stable/train jobs definitions

This patch adds train jobs definitions to be run on stable/train branch.
It also reorders some definitions for stable branches to be in
chronological order.

Change-Id: I000563643d4a157102f5dd09cb2e855fb406a712
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/13/685213/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9aca9d3bf9aef676db61954db74570a140d1a7cf,train-release," name: neutron-tempest-plugin-api-rocky nodeset: openstack-single-node-xenial parent: neutron-tempest-plugin-api override-checkout: stable/rocky vars: branch_override: stable/rocky # TODO(slaweq): find a way to put this list of extensions in # neutron repository and keep it different per branch, # then it could be removed from here network_api_extensions_common: &api_extensions_rocky - address-scope - agent - allowed-address-pairs - auto-allocated-topology - availability_zone - binding - default-subnetpools - dhcp_agent_scheduler - dns-domain-ports - dns-integration - empty-string-filtering - expose-port-forwarding-in-fip - ext-gw-mode - external-net - extra_dhcp_opt - extraroute - fip-port-details - flavors - floating-ip-port-forwarding - ip-substring-filtering - l3-flavors - l3-ha - l3_agent_scheduler - logging - metering - multi-provider - net-mtu - net-mtu-writable - network-ip-availability - network_availability_zone - pagination - port-mac-address-regenerate - port-security - port-security-groups-filtering - project-id - provider - qos - qos-fip - quotas - quota_details - rbac-policies - router - router_availability_zone - security-group - segment - service-type - sorting - standard-attr-description - standard-attr-revisions - standard-attr-segment - standard-attr-timestamp - standard-attr-tag - subnet_allocation - trunk - trunk-details network_api_extensions_tempest: - dvr devstack_localrc: USE_PYTHON3: false NETWORK_API_EXTENSIONS: ""{{ (network_api_extensions_common + network_api_extensions_tempest) | join(',') }}"" TEMPEST_PLUGINS: /opt/stack/neutron-tempest-plugin - job: name: neutron-tempest-plugin-api-train override-checkout: stable/train vars: branch_override: stable/train network_api_extensions_common: &api_extensions_train - expose-l3-conntrack-helper - extraroute-atomic - filter-validation - floatingip-pools - l3-conntrack-helper - network-segment-range - port-resource-request - qos-bw-minimum-ingress - rbac-security-groups - router-admin-state-down-before-update - standard-attr-timestamp - subnetpool-prefix-ops - uplink-status-propagation name: neutron-tempest-plugin-scenario-openvswitch-train parent: neutron-tempest-plugin-scenario-openvswitch override-checkout: stable/train vars: branch_override: stable/train network_api_extensions: *api_extensions_train devstack_localrc: NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" - job: name: neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train parent: neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid override-checkout: stable/train vars: branch_override: stable/train network_api_extensions: *api_extensions_train devstack_localrc: NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" - job: name: neutron-tempest-plugin-scenario-linuxbridge-train parent: neutron-tempest-plugin-scenario-linuxbridge override-checkout: stable/train vars: branch_override: stable/train network_api_extensions: *api_extensions_train devstack_localrc: NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" - job: name: neutron-tempest-plugin-dvr-multinode-scenario-train parent: neutron-tempest-plugin-dvr-multinode-scenario override-checkout: stable/train vars: branch_override: stable/train - job: name: neutron-tempest-plugin-designate-scenario-train parent: neutron-tempest-plugin-designate-scenario override-checkout: stable/train vars: branch_override: stable/train - job: name: neutron-tempest-plugin-sfc-train parent: neutron-tempest-plugin-sfc-train override-checkout: stable/train vars: branch_override: stable/train - job: name: neutron-tempest-plugin-bgpvpn-bagpipe-train parent: neutron-tempest-plugin-bgpvpn-bagpipe override-checkout: stable/train vars: branch_override: stable/train - job:- job: name: neutron-tempest-plugin-fwaas-train parent: neutron-tempest-plugin-fwaas override-checkout: stable/train vars: branch_override: stable/train - project-template: name: neutron-tempest-plugin-jobs-train check: jobs: - neutron-tempest-plugin-api-train - neutron-tempest-plugin-designate-scenario-train - neutron-tempest-plugin-dvr-multinode-scenario-train - neutron-tempest-plugin-scenario-linuxbridge-train - neutron-tempest-plugin-scenario-openvswitch-train - neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train gate: jobs: - neutron-tempest-plugin-api-train - neutron-tempest-plugin-sfc-train - neutron-tempest-plugin-bgpvpn-train - neutron-tempest-plugin-fwaas-train", name: neutron-tempest-plugin-api-rocky nodeset: openstack-single-node-xenial override-checkout: stable/rocky vars: branch_override: stable/rocky network_api_extensions_common: &api_extensions_rocky - standard-attr-timestamp USE_PYTHON3: false TEMPEST_PLUGINS: /opt/stack/neutron-tempest-plugin,172,8
openstack%2Ftripleo-heat-templates~master~Ia03e6e8e913198b315c47982c14ed52569ec702c,openstack/tripleo-heat-templates,master,Ia03e6e8e913198b315c47982c14ed52569ec702c,Correct mysql-pacemaker upgrade task,MERGED,2019-11-07 08:47:59.000000000,2019-11-12 06:42:00.000000000,2019-11-11 14:27:04.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-07 08:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96784cc48e69838affb4f53fd9ad6a4112ec511c', 'message': 'Correct mysql-pacemaker upgrade task\n\nThere were two issues in the mysql-pacemaker upgrade tasks:\n\n- SELinux: since we\'re using podman, we have proper selinux enforcing on\n  the system and proper selinux separation for the containers. Some\n  volumes were lacking the ""z"" flag, making them unaccessible\n\n- Since we\'re on podman, we have to correct the ""log-driver"" in the\n  command. This allow to get a dedicated log for debug purpose.\n\nChange-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c\nCloses-Bug: #1851617\nResolves: rhbz#1769291\n'}, {'number': 2, 'created': '2019-11-07 09:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aee85fea35f72c332fdeb69992c4db154a20cca8', 'message': 'Correct mysql-pacemaker upgrade task\n\nThere were two issues in the mysql-pacemaker upgrade tasks:\n\n- SELinux: since we\'re using podman, we have proper selinux enforcing on\n  the system and proper selinux separation for the containers. Some\n  volumes were lacking the ""z"" flag, making them unaccessible\n\n- Since we\'re on podman, we have to correct the ""log-driver"" in the\n  command. This allow to get a dedicated log for debug purpose.\n\nChange-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c\nCloses-Bug: #1851617\nResolves: rhbz#1769291\n'}, {'number': 3, 'created': '2019-11-07 11:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6383d9c251231b9448d4bd7af76dbe9aa6d197f', 'message': 'Correct mysql-pacemaker upgrade task\n\nThere were two issues in the mysql-pacemaker upgrade tasks:\n\n- SELinux: since we\'re using podman, we have proper selinux enforcing on\n  the system and proper selinux separation for the containers. Some\n  volumes were lacking the ""z"" flag, making them unaccessible\n\n- Since we\'re on podman, we have to correct the ""log-driver"" in the\n  command. This allow to get a dedicated log for debug purpose.\n\nChange-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c\nCloses-Bug: #1851617\nResolves: rhbz#1769291\n'}, {'number': 4, 'created': '2019-11-07 15:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fe50fe02b65dc52240adbfa1d4b437b69f829cc', 'message': 'Correct mysql-pacemaker upgrade task\n\nThere were two issues in the mysql-pacemaker upgrade tasks:\n\n- SELinux: since we\'re using podman, we have proper selinux enforcing on\n  the system and proper selinux separation for the containers. Some\n  volumes were lacking the ""z"" flag, making them unaccessible\n\n- Since we\'re on podman, we have to correct the ""log-driver"" in the\n  command. This allow to get a dedicated log for debug purpose.\n\nWe also have to ensure the log directory does exist, since it\'s created\nduring the deploy itself, which occurs after the upgrade tasks.\n\nChange-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c\nCloses-Bug: #1851617\nResolves: rhbz#1769291\n'}, {'number': 5, 'created': '2019-11-07 15:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7b7d8a5e13d44d87224f925d9328b5d67449eda', 'message': 'Correct mysql-pacemaker upgrade task\n\nThere were two issues in the mysql-pacemaker upgrade tasks:\n\n- SELinux: since we\'re using podman, we have proper selinux enforcing on\n  the system and proper selinux separation for the containers. Some\n  volumes were lacking the ""z"" flag, making them unaccessible\n\n- Since we\'re on podman, we have to correct the ""log-driver"" in the\n  command. This allow to get a dedicated log for debug purpose.\n\nWe also have to ensure the log directory does exist, since it\'s created\nduring the deploy itself, which occurs after the upgrade tasks.\nIncluding this creation in the common steps ensures that we will get it\neven if no mysql service is running, preventing possible other issues if\nwe run podman containers during the upgrade, using log-opt ""path"".\n\nChange-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c\nCloses-Bug: #1851617\nResolves: rhbz#1769291\n'}, {'number': 6, 'created': '2019-11-07 15:41:10.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b07a2259bc7e06e1423ee99a411b873dfe98937', 'message': 'Correct mysql-pacemaker upgrade task\n\nThere were two issues in the mysql-pacemaker upgrade tasks:\n\n- SELinux: since we\'re using podman, we have proper selinux enforcing on\n  the system and proper selinux separation for the containers. Some\n  volumes were lacking the ""z"" flag, making them unaccessible\n\n- Since we\'re on podman, we have to correct the ""log-driver"" in the\n  command. This allow to get a dedicated log for debug purpose.\n\nChange-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c\nCloses-Bug: #1851617\nResolves: rhbz#1769291\n'}]",8,693317,8b07a2259bc7e06e1423ee99a411b873dfe98937,36,10,6,28223,,,0,"Correct mysql-pacemaker upgrade task

There were two issues in the mysql-pacemaker upgrade tasks:

- SELinux: since we're using podman, we have proper selinux enforcing on
  the system and proper selinux separation for the containers. Some
  volumes were lacking the ""z"" flag, making them unaccessible

- Since we're on podman, we have to correct the ""log-driver"" in the
  command. This allow to get a dedicated log for debug purpose.

Change-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c
Closes-Bug: #1851617
Resolves: rhbz#1769291
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/693317/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,96784cc48e69838affb4f53fd9ad6a4112ec511c,upgrades/mysql," - /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json:rw,z - /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro,z - /var/lib/mysql:/var/lib/mysql:rw,z 'CONTAINER_CLI run --rm --log-driver=k8s-file --log-opt path=/var/log/containers/stdout/db-upgrade.log \ -u root --net=host UPGRADE_ENV UPGRADE_VOLUMES ""UPGRADE_IMAGE"" /bin/bash -ecx ""UPGRADE_SCRIPT""' UPGRADE_VOLUMES: ""-v {{ mysql_upgrade_db_bind_mounts | union(['/tmp/mariadb-upgrade:/var/log/mariadb:rw,z']) | join(' -v ')}}"""," - /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json - /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro - /var/lib/mysql:/var/lib/mysql 'CONTAINER_CLI run --rm --log-driver=syslog -u root --net=host UPGRADE_ENV UPGRADE_VOLUMES ""UPGRADE_IMAGE"" /bin/bash -ecx ""UPGRADE_SCRIPT""' UPGRADE_VOLUMES: ""-v {{ mysql_upgrade_db_bind_mounts | union(['/tmp/mariadb-upgrade:/var/log/mariadb:rw']) | join(' -v ')}}""",6,5
openstack%2Fmagnum~master~I2fb1c27dd58f9680f054ea9e2a1ddf02f632f034,openstack/magnum,master,I2fb1c27dd58f9680f054ea9e2a1ddf02f632f034,Switch to Ussuri jobs,ABANDONED,2019-10-28 06:57:46.000000000,2019-11-12 06:27:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-28 06:57:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f1b75e013dc581da3c27115be61eb068133922bd', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I2fb1c27dd58f9680f054ea9e2a1ddf02f632f034\n'}]",0,691616,f1b75e013dc581da3c27115be61eb068133922bd,4,2,1,30407,,,0,"Switch to Ussuri jobs

Change-Id: I2fb1c27dd58f9680f054ea9e2a1ddf02f632f034
",git fetch https://review.opendev.org/openstack/magnum refs/changes/16/691616/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f1b75e013dc581da3c27115be61eb068133922bd,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fnetworking-ovn~master~Ibc7cef66bb66046bbf0c391d9edd23ce459c9dbf,openstack/networking-ovn,master,Ibc7cef66bb66046bbf0c391d9edd23ce459c9dbf,Fix DHCP failure of vm with sg which has no rule,ABANDONED,2019-05-05 01:34:03.000000000,2019-11-12 06:00:22.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 01:34:03.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/common/acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f53af220213c5d908e5832fbbe0e868bb9cf1ef8', 'message': ""Fix DHCP failure of vm with sg which has no rule\n\nThis patch is adding acl rule in 'ls_in_acl' table of logical flow\nto allow dhcp traffic.Even a vm with sg has no rule can also get its\noffered ip address.\n\nChange-Id: Ibc7cef66bb66046bbf0c391d9edd23ce459c9dbf\nRelated-Bug: #1790900\n""}]",0,657179,f53af220213c5d908e5832fbbe0e868bb9cf1ef8,4,4,1,29874,,,0,"Fix DHCP failure of vm with sg which has no rule

This patch is adding acl rule in 'ls_in_acl' table of logical flow
to allow dhcp traffic.Even a vm with sg has no rule can also get its
offered ip address.

Change-Id: Ibc7cef66bb66046bbf0c391d9edd23ce459c9dbf
Related-Bug: #1790900
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/79/657179/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/common/acl.py']",3,f53af220213c5d908e5832fbbe0e868bb9cf1ef8,bug/1790900,"def add_acls_for_subnet_port_group(ovn, pg_name, subnet, ovn_dhcp=True): # Allow DHCP requests for OVN native DHCP service, while responses are # allowed in ovn-northd. # Allow both DHCP requests and responses to pass for other DHCP services. # We do this even if DHCP isn't enabled for the subnet acl_list = [] if subnet['ipv6_address_mode'] is None: if not ovn_dhcp: acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'to-lport', ""match"": ('outport == @%s && ip4 && ip4.src == %s && ' 'udp && udp.src == 67 && udp.dst == 68' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'from-lport', ""match"": ('inport == @%s && ip4 && ' 'ip4.dst == {255.255.255.255, %s} && ' 'udp && udp.src == 68 && udp.dst == 67' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) if not ovn_dhcp: acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'to-lport', ""match"": ('outport == @%s && ip6 && ip6.src == %s && ' 'udp && udp.src == 546 && udp.dst == 547' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'from-lport', ""match"": ('inport == @%s && ip6 && ' 'ip6.dst == {ff02::/16, %s} && ' 'udp && udp.src == 546 && udp.dst == 547' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) return acl_list ",,132,0
openstack%2Fnetworking-ovn~stable%2Fpike~Ib68226407180bd13efeb0cd94014a59f663405b8,openstack/networking-ovn,stable/pike,Ib68226407180bd13efeb0cd94014a59f663405b8,Backport Patch to fix sync failure of acl rules,ABANDONED,2019-03-11 02:00:45.000000000,2019-11-12 06:00:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-03-11 02:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cab36546032b90a6b8a7ef4ebfbeb747d3bfbdf3', 'message': ""Backport Patch to fix sync failure of acl rules\n\nNew fields 'name' and 'severity' added in OVN ACL table for logging\npurpose. The reason cause this failure is when netwoking-ovn try to\ncompare the neutron_acls and ovn_nb_acls, the ovn_nb_acls which has\n'name' and 'severity' will never be the same with neutron_acls.\n\nSo,when we do sync firstly, neutron will add acls from it's acl_list\n,after then, ovn will delete all acls from ovsdb. Then the result of\n'ovn-nbctl list acl' is empty.\n\nwhen we do sync secondly,neutron will find acls of ovn is none,so\nadd the neutron_acls to ovn_nb_acls in ovsdb.\n\nThe above results will alternate.\n\nThe method to accomplish the patch is to add 'name' or 'severity'\nto neutron_acls or delete 'name' or 'severity' from ovn_nb_acls.\n\nThis patch[0] which is prepared for another bug(bug 1708594) also\ncould repaired this bug,so i will backport it to the pike version\nof networking-ovn.\n\n[0] e951289b3664851e64952b31ff70043a01dd2cb0\n\nChange-Id: Ib68226407180bd13efeb0cd94014a59f663405b8\n""}, {'number': 2, 'created': '2019-03-11 10:06:22.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_acl.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/common/acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d6685278d297538d6efacbf0bb96be21ddf63345', 'message': ""Backport Patch to fix sync failure of acl rules\n\nNew fields 'name' and 'severity' added in OVN ACL table for logging\npurpose. The reason cause this failure is when netwoking-ovn try to\ncompare the neutron_acls and ovn_nb_acls, the ovn_nb_acls which has\n'name' and 'severity' will never be the same with neutron_acls.\n\nSo,when we do sync firstly, neutron will add acls from it's acl_list\n,after then, ovn will delete all acls from ovsdb. Then the result of\n'ovn-nbctl list acl' is empty.\n\nwhen we do sync secondly,neutron will find acls of ovn is none,so\nadd the neutron_acls to ovn_nb_acls in ovsdb.\n\nThe above results will alternate.\n\nThe method to accomplish the patch is to add 'name' or 'severity'\nto neutron_acls or delete 'name' or 'severity' from ovn_nb_acls.\n\nThis patch[0] which is prepared for another bug(bug 1708594) also\ncould repaired this bug,so i will backport it to the pike version\nof networking-ovn.\n\n[0] e951289b3664851e64952b31ff70043a01dd2cb0\n\nChange-Id: Ib68226407180bd13efeb0cd94014a59f663405b8\n""}]",0,642310,d6685278d297538d6efacbf0bb96be21ddf63345,6,2,2,29874,,,0,"Backport Patch to fix sync failure of acl rules

New fields 'name' and 'severity' added in OVN ACL table for logging
purpose. The reason cause this failure is when netwoking-ovn try to
compare the neutron_acls and ovn_nb_acls, the ovn_nb_acls which has
'name' and 'severity' will never be the same with neutron_acls.

So,when we do sync firstly, neutron will add acls from it's acl_list
,after then, ovn will delete all acls from ovsdb. Then the result of
'ovn-nbctl list acl' is empty.

when we do sync secondly,neutron will find acls of ovn is none,so
add the neutron_acls to ovn_nb_acls in ovsdb.

The above results will alternate.

The method to accomplish the patch is to add 'name' or 'severity'
to neutron_acls or delete 'name' or 'severity' from ovn_nb_acls.

This patch[0] which is prepared for another bug(bug 1708594) also
could repaired this bug,so i will backport it to the pike version
of networking-ovn.

[0] e951289b3664851e64952b31ff70043a01dd2cb0

Change-Id: Ib68226407180bd13efeb0cd94014a59f663405b8
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/10/642310/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/contrib/gate_hook.sh', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_acl.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/common/acl.py']",9,cab36546032b90a6b8a7ef4ebfbeb747d3bfbdf3,bug/1708594," ""name"": [], ""severity"": [], ""name"": [], ""severity"": [], ""name"": [], ""severity"": [], ""name"": [], ""severity"": [],def _acl_columns_name_severity_supported(nb_idl): columns = list(nb_idl._tables['ACL'].columns) return ('name' in columns) and ('severity' in columns) # Check if ACL log name and severity supported or not keep_name_severity = _acl_columns_name_severity_supported(ovn) # Remove ACL log name and severity if not supported, if not keep_name_severity: acl.pop('name') acl.pop('severity')def add_acls(plugin, admin_context, port, sg_cache, subnet_cache, ovn): # Remove ACL log name and severity if not supported, if not _acl_columns_name_severity_supported(ovn): for acl in acl_list: acl.pop('name') acl.pop('severity') ","def add_acls(plugin, admin_context, port, sg_cache, subnet_cache):",71,26
openstack%2Fnetworking-ovn~stable%2Fpike~I37899495468761e87388572400cc861092553071,openstack/networking-ovn,stable/pike,I37899495468761e87388572400cc861092553071,Backport Patch to fix sync failure of acl rules,ABANDONED,2019-03-08 10:06:25.000000000,2019-11-12 05:59:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-03-08 10:06:25.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_acl.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/common/acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/75c6f20ede15161c95cdc05982ff9f7ca3273db6', 'message': ""Backport Patch to fix sync failure of acl rules\n\nNew fields 'name' and 'severity' added in OVN ACL table for logging\npurpose. The reason cause this failure is when netwoking-ovn try to\ncompare the neutron_acls and ovn_nb_acls, the ovn_nb_acls which has\n'name' and 'severity' will never be the same with neutron_acls.\n\nSo,when we do sync firstly, neutron will add acls from it's acl_list\n,after then, ovn will delete all acls from ovsdb. Then the result of\n'ovn-nbctl list acl' is empty.\n\nwhen we do sync secondly,neutron will find acls of ovn is none,so\nadd the neutron_acls to ovn_nb_acls in ovsdb.\n\nThe above results will alternate.\n\nThe method to accomplish the patch is to add 'name' or 'severity'\nto neutron_acls or delete 'name' or 'severity' from ovn_nb_acls.\n\nThis patch[0] which is prepared for another bug(bug 1708594) also\ncould repaired this bug,so i will backport it to the pike version\nof networking-ovn.\n\n[0] e951289b3664851e64952b31ff70043a01dd2cb0\n\nChange-Id: I37899495468761e87388572400cc861092553071\n""}]",0,641976,75c6f20ede15161c95cdc05982ff9f7ca3273db6,5,2,1,29874,,,0,"Backport Patch to fix sync failure of acl rules

New fields 'name' and 'severity' added in OVN ACL table for logging
purpose. The reason cause this failure is when netwoking-ovn try to
compare the neutron_acls and ovn_nb_acls, the ovn_nb_acls which has
'name' and 'severity' will never be the same with neutron_acls.

So,when we do sync firstly, neutron will add acls from it's acl_list
,after then, ovn will delete all acls from ovsdb. Then the result of
'ovn-nbctl list acl' is empty.

when we do sync secondly,neutron will find acls of ovn is none,so
add the neutron_acls to ovn_nb_acls in ovsdb.

The above results will alternate.

The method to accomplish the patch is to add 'name' or 'severity'
to neutron_acls or delete 'name' or 'severity' from ovn_nb_acls.

This patch[0] which is prepared for another bug(bug 1708594) also
could repaired this bug,so i will backport it to the pike version
of networking-ovn.

[0] e951289b3664851e64952b31ff70043a01dd2cb0

Change-Id: I37899495468761e87388572400cc861092553071
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/76/641976/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/contrib/gate_hook.sh', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_acl.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/common/acl.py']",9,75c6f20ede15161c95cdc05982ff9f7ca3273db6,bug/1708594," ""name"": [], ""severity"": [], ""name"": [], ""severity"": [], ""name"": [], ""severity"": [], ""name"": [], ""severity"": [],def _acl_columns_name_severity_supported(nb_idl): columns = list(nb_idl._tables['ACL'].columns) return ('name' in columns) and ('severity' in columns) # Check if ACL log name and severity supported or not keep_name_severity = _acl_columns_name_severity_supported(ovn) # Remove ACL log name and severity if not supported, if not keep_name_severity: acl.pop('name') acl.pop('severity')def add_acls(plugin, admin_context, port, sg_cache, subnet_cache, ovn): # Remove ACL log name and severity if not supported, if not _acl_columns_name_severity_supported(ovn): for acl in acl_list: acl.pop('name') acl.pop('severity') ","def add_acls(plugin, admin_context, port, sg_cache, subnet_cache):",70,26
openstack%2Fnetworking-ovn~master~I464e31530f22e7555d04ad20423bf50195e12592,openstack/networking-ovn,master,I464e31530f22e7555d04ad20423bf50195e12592,Fix synchronization failure of acl rules,ABANDONED,2019-02-15 02:26:48.000000000,2019-11-12 05:59:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-15 02:26:48.000000000', 'files': ['networking_ovn/common/constants.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5e2223c824abe325c50cb5e94172a9c7ddc20113', 'message': ""Fix synchronization failure of acl rules\n\nFix the problem of parameters mismatch of acl rule between neutron\nand nb, in the process  of neutron and ovn's db synchronization\n(nb's acl has more 'severity' and 'name' attributes),\nresulting in wrong synchronization.The cmd of synchronization\nis 'neutron-ovn-db-sync-util --config-file /etc/neutron/neutron.conf\n--config-file /etc/neutron/plugins/ml2/ml2_conf.ini\n--ovn-neutron_sync_mode repair'\n\nChange-Id: I464e31530f22e7555d04ad20423bf50195e12592\n""}]",0,637114,5e2223c824abe325c50cb5e94172a9c7ddc20113,3,1,1,29874,,,0,"Fix synchronization failure of acl rules

Fix the problem of parameters mismatch of acl rule between neutron
and nb, in the process  of neutron and ovn's db synchronization
(nb's acl has more 'severity' and 'name' attributes),
resulting in wrong synchronization.The cmd of synchronization
is 'neutron-ovn-db-sync-util --config-file /etc/neutron/neutron.conf
--config-file /etc/neutron/plugins/ml2/ml2_conf.ini
--ovn-neutron_sync_mode repair'

Change-Id: I464e31530f22e7555d04ad20423bf50195e12592
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/14/637114/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/constants.py', 'networking_ovn/ovn_db_sync.py']",2,5e2223c824abe325c50cb5e94172a9c7ddc20113,, for port in nb_acls: for acl in nb_acls[port]: for nb_acls_rule in acl: nb_acls_rule.pop('name') nb_acls_rule.pop('severity') if port in neutron_acls.keys() and \ acl in list(neutron_acls[port]): neutron_acls[port].remove(acl), for port in neutron_acls.keys(): for acl in list(neutron_acls[port]): if port in nb_acls and acl in nb_acls[port]: neutron_acls[port].remove(acl),9,5
openstack%2Fnetworking-ovn~stable%2Fpike~I1472accf2f7482e766de1ee595cd0b989406911f,openstack/networking-ovn,stable/pike,I1472accf2f7482e766de1ee595cd0b989406911f,Modify the wrong link of ovn-sb.xml,ABANDONED,2019-02-01 07:43:35.000000000,2019-11-12 05:58:34.000000000,,"[{'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-01 07:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ad92b784a0dd164b0fd077d51f8457da0c76c404', 'message': 'Modify the wrong link of ovn-sb.xml\n\nThe current link to ovn-sb.xml is an empty connection and cannot be browsed. Modify the link to ovn-sb.xml to the 2.9 branch of ovs that corresponds to the pike version in openstack.\n\nChange-Id: I1472accf2f7482e766de1ee595cd0b989406911f\n'}, {'number': 2, 'created': '2019-02-12 07:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/dfd4f89141028c6d1c1d05109f843748d3fbc82c', 'message': 'Modify the wrong link of ovn-sb.xml\n\nThe current link to ovn-sb.xml is an empty connection and cannot be browsed. Modify the link to ovn-sb.xml to the 2.9 branch of ovs that corresponds to the pike version in openstack.\n\nChange-Id: I1472accf2f7482e766de1ee595cd0b989406911f\n'}, {'number': 3, 'created': '2019-02-12 07:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5a4406ebd4dc64d2c1979e36d0bd51dc03d190dd', 'message': 'Modify the wrong link of ovn-sb.xml\n\nThe current link to ovn-sb.xml is an empty connection and cannot be browsed. Modify the link to ovn-sb.xml to the master branch of ovs that corresponds to the pike version in openstack.\n\nChange-Id: I1472accf2f7482e766de1ee595cd0b989406911f\n'}, {'number': 4, 'created': '2019-02-12 08:36:49.000000000', 'files': ['doc/source/contributor/design/data_model.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a925e9a1a8358c66cf6c4841266a2bc0f2ab0021', 'message': 'Modify the wrong link of ovn-sb.xml\n\nThe current link to ovn-sb.xml is an empty connection and cannot be\nbrowsed. Modify the link to ovn-sb.xml to the master branch of ovs\nthat corresponds to the pike version in openstack.\n\nChange-Id: I1472accf2f7482e766de1ee595cd0b989406911f\n'}]",3,634375,a925e9a1a8358c66cf6c4841266a2bc0f2ab0021,15,4,4,29874,,,0,"Modify the wrong link of ovn-sb.xml

The current link to ovn-sb.xml is an empty connection and cannot be
browsed. Modify the link to ovn-sb.xml to the master branch of ovs
that corresponds to the pike version in openstack.

Change-Id: I1472accf2f7482e766de1ee595cd0b989406911f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/75/634375/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/design/data_model.rst'],1,ad92b784a0dd164b0fd077d51f8457da0c76c404,pike, https://github.com/openvswitch/ovs/blob//branch-2.9/ovn/ovn-sb.xml), https://github.com/openvswitch/ovs/blob/ovn/ovn/ovn-sb.xml),1,1
openstack%2Fdevstack~master~I62642c01056916b1a4d41091ee10c97a8d2c5705,openstack/devstack,master,I62642c01056916b1a4d41091ee10c97a8d2c5705,Fix the failure of compiling real_install,ABANDONED,2019-05-30 09:06:10.000000000,2019-11-12 05:56:38.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-05-30 09:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/84148dfa468b64431e18d840545760c2e9c951eb', 'message': 'Fix the failure of compiling real_install\n\nChange-Id: I62642c01056916b1a4d41091ee10c97a8d2c5705\n'}, {'number': 2, 'created': '2019-05-31 05:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/49c17af94be9414765165e3b6e914b66f4033cab', 'message': 'Fix the failure of compiling real_install\n\nChange-Id: I62642c01056916b1a4d41091ee10c97a8d2c5705\n'}, {'number': 3, 'created': '2019-05-31 05:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/88877fb0039d92dd59307b9b85f2030196d30af3', 'message': 'Fix the failure of compiling real_install\n\nChange-Id: I62642c01056916b1a4d41091ee10c97a8d2c5705\n'}, {'number': 4, 'created': '2019-05-31 05:57:15.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/496314cc01b074e8776d6da72152e7bffb9b1f0d', 'message': 'Fix the failure of compiling real_install\n\nChange-Id: I62642c01056916b1a4d41091ee10c97a8d2c5705\n'}]",2,662163,496314cc01b074e8776d6da72152e7bffb9b1f0d,12,3,4,29874,,,0,"Fix the failure of compiling real_install

Change-Id: I62642c01056916b1a4d41091ee10c97a8d2c5705
",git fetch https://review.opendev.org/openstack/devstack refs/changes/63/662163/2 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,84148dfa468b64431e18d840545760c2e9c951eb,," sudo apt-get install -y ""$@"" sudo yum install -y ""$@"" sudo zypper install -n ""$@"""," apt_get install ""$@"" yum_install ""$@"" zypper_install ""$@""",3,3
openstack%2Fneutron~stable%2Ftrain~I2d8693145da72825876b951f2d10afe9ca28ff6e,openstack/neutron,stable/train,I2d8693145da72825876b951f2d10afe9ca28ff6e,Increase timeout when waiting for dnsmasq enablement,MERGED,2019-10-31 14:20:32.000000000,2019-11-12 05:47:14.000000000,2019-11-12 05:43:53.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-10-31 14:20:32.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44c838e25f8d85063cca52c9581c423539604f6c', 'message': 'Increase timeout when waiting for dnsmasq enablement\n\nIn the reported bug, a regression was introduced in [1] when limiting\nthe time to have a ""dnsmasq"" process enabled. It has been reported, as\ndocumented in the bug, that in older versions (Queens), using Python 2\n[2] and older versions of ""ip_lib"" (not implementing most of the\ncommands using Pyroute2), that the time needed to spawn a ""dnsmasq""\nprocess exceeds the default 60 seconds defined in\n""common_utils.wait_until_true"".\n\nThis patch increases this time by a reasonable 300 seconds.\n\n[1] https://review.opendev.org/#/c/643732\n[2] https://bugs.python.org/issue35757\n\nChange-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e\nCloses-Bug: #1849676\n(cherry picked from commit aedc09917680bc77501f4b57142e73768e3d06ad)\n'}]",0,692376,44c838e25f8d85063cca52c9581c423539604f6c,41,6,1,16688,,,0,"Increase timeout when waiting for dnsmasq enablement

In the reported bug, a regression was introduced in [1] when limiting
the time to have a ""dnsmasq"" process enabled. It has been reported, as
documented in the bug, that in older versions (Queens), using Python 2
[2] and older versions of ""ip_lib"" (not implementing most of the
commands using Pyroute2), that the time needed to spawn a ""dnsmasq""
process exceeds the default 60 seconds defined in
""common_utils.wait_until_true"".

This patch increases this time by a reasonable 300 seconds.

[1] https://review.opendev.org/#/c/643732
[2] https://bugs.python.org/issue35757

Change-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e
Closes-Bug: #1849676
(cherry picked from commit aedc09917680bc77501f4b57142e73768e3d06ad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/692376/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,44c838e25f8d85063cca52c9581c423539604f6c,bug/1849676," common_utils.wait_until_true(self._enable, timeout=300)", common_utils.wait_until_true(self._enable),1,1
openstack%2Fneutron~stable%2Ftrain~I691300a4e9a7cccd8887bc8f95ba9cea32988bac,openstack/neutron,stable/train,I691300a4e9a7cccd8887bc8f95ba9cea32988bac,Set rootwrap daemon timeout for fullstack and functional tests,MERGED,2019-11-04 09:51:09.000000000,2019-11-12 05:45:47.000000000,2019-11-12 05:43:47.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-11-04 09:51:09.000000000', 'files': ['tools/deploy_rootwrap.sh', 'etc/rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6236d78a4a60eb5f56f218b1e6aa83bb307ba0c5', 'message': 'Set rootwrap daemon timeout for fullstack and functional tests\n\nSet a big timeout for rootwrap daemon in functional and fullstack\ntests. The value defined in 7800, the same as the Zuul jobs\ntimeout.\n\nThis timeout increase will prevent the daemon to close when\nexecuting a test root command, as described in the bug. An\nunexpected rootwrap daemon closure is not considered as a normal\nevent during the test execution.\n\nThe default value set in the configuration file is 600 seconds, the\nsame as daemon default value. This timeout is increased only when\nOS_SUDO_TESTING=1, that means functional and fullstack tests, when\nusing the script ""tools/deploy_rootwrap.sh"".\n\nChange-Id: I691300a4e9a7cccd8887bc8f95ba9cea32988bac\nCloses-Bug: #1850558\n(cherry picked from commit 721887305038fe4449083eb6c33f355232c73555)\n'}]",0,692788,6236d78a4a60eb5f56f218b1e6aa83bb307ba0c5,12,6,1,16688,,,0,"Set rootwrap daemon timeout for fullstack and functional tests

Set a big timeout for rootwrap daemon in functional and fullstack
tests. The value defined in 7800, the same as the Zuul jobs
timeout.

This timeout increase will prevent the daemon to close when
executing a test root command, as described in the bug. An
unexpected rootwrap daemon closure is not considered as a normal
event during the test execution.

The default value set in the configuration file is 600 seconds, the
same as daemon default value. This timeout is increased only when
OS_SUDO_TESTING=1, that means functional and fullstack tests, when
using the script ""tools/deploy_rootwrap.sh"".

Change-Id: I691300a4e9a7cccd8887bc8f95ba9cea32988bac
Closes-Bug: #1850558
(cherry picked from commit 721887305038fe4449083eb6c33f355232c73555)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/692788/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deploy_rootwrap.sh', 'etc/rootwrap.conf']",2,6236d78a4a60eb5f56f218b1e6aa83bb307ba0c5,bug/1850558-stable/train,# Rootwrap daemon exits after this seconds of inactivity daemon_timeout=600 ,,4,0
openstack%2Fneutron~stable%2Fstein~I691300a4e9a7cccd8887bc8f95ba9cea32988bac,openstack/neutron,stable/stein,I691300a4e9a7cccd8887bc8f95ba9cea32988bac,Set rootwrap daemon timeout for fullstack and functional tests,MERGED,2019-11-04 09:51:19.000000000,2019-11-12 05:45:20.000000000,2019-11-12 05:43:50.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-11-04 09:51:19.000000000', 'files': ['tools/deploy_rootwrap.sh', 'etc/rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/neutron/commit/57ec2f460f1b740585c6e68ee754bc0e4b9dd26c', 'message': 'Set rootwrap daemon timeout for fullstack and functional tests\n\nSet a big timeout for rootwrap daemon in functional and fullstack\ntests. The value defined in 7800, the same as the Zuul jobs\ntimeout.\n\nThis timeout increase will prevent the daemon to close when\nexecuting a test root command, as described in the bug. An\nunexpected rootwrap daemon closure is not considered as a normal\nevent during the test execution.\n\nThe default value set in the configuration file is 600 seconds, the\nsame as daemon default value. This timeout is increased only when\nOS_SUDO_TESTING=1, that means functional and fullstack tests, when\nusing the script ""tools/deploy_rootwrap.sh"".\n\nChange-Id: I691300a4e9a7cccd8887bc8f95ba9cea32988bac\nCloses-Bug: #1850558\n(cherry picked from commit 721887305038fe4449083eb6c33f355232c73555)\n'}]",0,692789,57ec2f460f1b740585c6e68ee754bc0e4b9dd26c,11,6,1,16688,,,0,"Set rootwrap daemon timeout for fullstack and functional tests

Set a big timeout for rootwrap daemon in functional and fullstack
tests. The value defined in 7800, the same as the Zuul jobs
timeout.

This timeout increase will prevent the daemon to close when
executing a test root command, as described in the bug. An
unexpected rootwrap daemon closure is not considered as a normal
event during the test execution.

The default value set in the configuration file is 600 seconds, the
same as daemon default value. This timeout is increased only when
OS_SUDO_TESTING=1, that means functional and fullstack tests, when
using the script ""tools/deploy_rootwrap.sh"".

Change-Id: I691300a4e9a7cccd8887bc8f95ba9cea32988bac
Closes-Bug: #1850558
(cherry picked from commit 721887305038fe4449083eb6c33f355232c73555)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/692789/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deploy_rootwrap.sh', 'etc/rootwrap.conf']",2,57ec2f460f1b740585c6e68ee754bc0e4b9dd26c,bug/1850558-stable/train-stable/stein,# Rootwrap daemon exits after this seconds of inactivity daemon_timeout=600 ,,4,0
openstack%2Ftripleo-quickstart~master~Icb49b2baa4835463995c952a35c231698a795f6b,openstack/tripleo-quickstart,master,Icb49b2baa4835463995c952a35c231698a795f6b,Adapt os_tempest in FS001,MERGED,2019-07-30 05:04:06.000000000,2019-11-12 04:48:37.000000000,2019-10-08 13:27:16.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 05:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bf820d8b34ce65d8768805f8fc94d4ff40eec6ed', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-30 05:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c612a595f34acea961e6a0755222bc6b603d536a', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-08-06 15:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3ddc0ad697d719a1d36ccdbdff1486508f0cea52', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-08-07 08:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a612a6f450a58c26dbac8b605973ddf01fcf4024', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-08-09 10:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b0f2f92362a6ae7cc8d49b88c3f736d5a3e12484', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-08-21 14:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aa194dad8f4e20583a8660537bb62c9b9dc055fb', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2019-08-21 20:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fbbc813b44767c526c79f6009dab3e04a329ec74', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2019-08-22 07:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/951907104dc6ac59b736d9c1a205e407adefa609', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nDepends-On: https://review.opendev.org/677925\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2019-08-22 16:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1e2efd1bc4d3a9765673811c45f77be3d1542172', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nDepends-On: https://review.opendev.org/677925\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2019-08-22 16:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a39559fab29e932663eda9ea4705aed539e690fc', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nDepends-On: https://review.opendev.org/677925\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2019-08-22 19:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7a8f20550bdc3d28d9c5a40fb736ee1da13b0f90', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nDepends-On: https://review.opendev.org/677925\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2019-08-23 07:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8409a3bd751dbbc9ec3223ca3e66084c57591c8e', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nDepends-On: https://review.opendev.org/677925\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 13, 'created': '2019-08-26 09:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1814a71444b523aca0731d0ce12cd1b19e4c9747', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nDepends-On: https://review.opendev.org/677925\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 14, 'created': '2019-08-26 13:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2c8f6d2d9a5abd97c0ebfeb84e3231e8b22f9024', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nDepends-On: https://review.opendev.org/677925\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 15, 'created': '2019-08-27 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b7b65e627fef9df6a1be33ff32b3d0d2848929fc', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nDepends-On: https://review.opendev.org/677925\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 16, 'created': '2019-08-27 13:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9f6aa0368d8324e983c27ce0a2bde0377776fcf7', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nDepends-On: https://review.opendev.org/677925\nDepends-On: https://review.opendev.org/#/c/678833\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 17, 'created': '2019-08-27 17:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/013b32791409e94de1766bdce9ae2096d1f12894', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 18, 'created': '2019-08-28 10:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/90a08616733947aa5394c853cb495a66de934a50', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 19, 'created': '2019-08-29 13:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a514989342308d01981f84d9ca9bcd7367275571', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 20, 'created': '2019-08-30 10:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e06c3c1394f8125fd6b9b8fbb22887a5bc32e8ff', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 21, 'created': '2019-08-30 13:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/973b73be7af8b30c98d12158061d7bfe0ed989ce', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 22, 'created': '2019-09-09 10:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/750fe210cd78bb5b387a933b8b0fcd28d35191ed', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 23, 'created': '2019-09-09 14:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/99f2b289f378809baae2da2f351406d75da72145', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 24, 'created': '2019-09-13 12:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/098550de57535539f22f6a1ac2bca1fe4896cb44', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 25, 'created': '2019-09-15 10:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a4f022b8431cbce583f778d2a238b4c56de29acb', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 26, 'created': '2019-09-15 15:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4c7ad4c5c8134008e59fa53851830bc62e3f7b78', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 27, 'created': '2019-09-16 08:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7fc3fa0f3479c21efde68bd3afa9ecf84640f74b', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 28, 'created': '2019-09-16 11:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aa5b9655d6eb8188200692015a31609d5a676e39', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 29, 'created': '2019-09-16 11:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1235097bdfe6aec5f095194a8dc6c4b094c37017', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 30, 'created': '2019-09-16 11:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/67968c220d25764666d43106710b9a78becd3876', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 31, 'created': '2019-09-16 16:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/56d8ef0105c83250ec13bf1ab5d19894e883d4dd', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 32, 'created': '2019-09-18 07:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0079851702b24324dd6a337340991acb420eb6fe', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 33, 'created': '2019-09-18 11:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7f1c0a1db4a358f7c674d9235f1b391e5b38baeb', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 34, 'created': '2019-09-19 08:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/555de098a79e9eb6bdef8ef36799f54edb08025c', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 35, 'created': '2019-09-19 08:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4935501340ec906eeb14224e770b0bd964c570e2', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 36, 'created': '2019-10-01 07:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ca287000c34eeb335816279b06fca547b042a02d', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 37, 'created': '2019-10-01 11:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3a442c966f17725c168c71eedaf8660b8db781e4', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 38, 'created': '2019-10-01 11:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/29d2eb1f38fc458d8ffe4c784b97558fa26f9e30', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 39, 'created': '2019-10-03 07:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1e2050cae259716358b6e183d1266100fdfc012c', 'message': '[WIP] Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 40, 'created': '2019-10-03 10:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6cd1a1fcc07be94bd2818ec7a95998169cce1d0c', 'message': '[WIP] Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 41, 'created': '2019-10-04 07:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/95eecbd54f00ecfbf5be2b58c9535086ba7b69d0', 'message': '[WIP] Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 42, 'created': '2019-10-04 08:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1175415e6fc06d10db5bf662c21eac4d33e986eb', 'message': '[WIP] Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 43, 'created': '2019-10-04 12:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9d14f5a1c5079070ed935f9065bd7494da0a60db', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 44, 'created': '2019-10-04 12:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0e7d2253a8d38584a26a1f502d31cbea1e82dd63', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-Authored-by: Arx Cruz <arxcruz@gmail.com>\n'}, {'number': 45, 'created': '2019-10-05 07:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cbcb0933081d8a296cf8dfa1207f771c5a2772ea', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-Authored-by: Arx Cruz <arxcruz@gmail.com>\n'}, {'number': 46, 'created': '2019-10-05 07:44:40.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a40813e388bdfb2a84742a7693a87ba2989e1e4e', 'message': 'Adapt os_tempest in FS001\n\nSince os_tempest ansible role is the defacto standard for\nrunning tempest in TripleO in the favor of validate-tempest.\n\nIt modifies the FS001 to run os_tempest on master release and\nvalidate-tempest on older release.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1204\n\nChange-Id: Icb49b2baa4835463995c952a35c231698a795f6b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-Authored-by: Arx Cruz <arxcruz@gmail.com>\n'}]",19,673400,a40813e388bdfb2a84742a7693a87ba2989e1e4e,179,9,46,12393,,,0,"Adapt os_tempest in FS001

Since os_tempest ansible role is the defacto standard for
running tempest in TripleO in the favor of validate-tempest.

It modifies the FS001 to run os_tempest on master release and
validate-tempest on older release.

https://tree.taiga.io/project/tripleo-ci-board/task/1204

Change-Id: Icb49b2baa4835463995c952a35c231698a795f6b
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Co-Authored-by: Arx Cruz <arxcruz@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/00/673400/11 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,bf820d8b34ce65d8768805f8fc94d4ff40eec6ed,fs01_rhel8,"# Settings for os_tempest {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%}use_os_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} true {%- else -%} false {%- endif -%} tempest_test_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' "," {% if release in ['newton', 'ocata', 'pike'] -%}",11,1
openstack%2Fkolla-ansible~master~I49b24545501085d5a44f4de73f0c6dd21e06e2a0,openstack/kolla-ansible,master,I49b24545501085d5a44f4de73f0c6dd21e06e2a0,Collect rabbitmq logs by fluentd,MERGED,2019-11-05 10:48:09.000000000,2019-11-12 04:14:06.000000000,2019-11-11 16:36:33.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 17686}, {'_account_id': 22206}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 31269}]","[{'number': 1, 'created': '2019-11-05 10:48:09.000000000', 'files': ['ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf979282a1bf31a4897e007589e029ba92d2b40a', 'message': 'Collect rabbitmq logs by fluentd\n\nChange-Id: I49b24545501085d5a44f4de73f0c6dd21e06e2a0\nCloses-Bug: #1835501\n'}]",1,692976,bf979282a1bf31a4897e007589e029ba92d2b40a,19,8,1,22206,,,0,"Collect rabbitmq logs by fluentd

Change-Id: I49b24545501085d5a44f4de73f0c6dd21e06e2a0
Closes-Bug: #1835501
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/692976/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2'],1,bf979282a1bf31a4897e007589e029ba92d2b40a,bug/1835501, path /var/log/kolla/rabbitmq/rabbit@{{ ansible_hostname }}.log format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\.\d{3}/ format1 /^(?<Timestamp>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\.\d{3}) \[(?<log_level>\w+)\] (?<Payload>.*)/, path /var/log/kolla/rabbitmq/rabbit.log format_firstline /^\s*$/ format1 /^=(?<log_level>\w+) REPORT==== (?<Times>[^ ]+) ===\n/ format2 /^(?<Payload>.*)/,3,4
openstack%2Fironic-lib~master~Ib35683896f909a9cd88f88bb8170d8cde74364bd,openstack/ironic-lib,master,Ib35683896f909a9cd88f88bb8170d8cde74364bd,Add equivalent py3 jobs,MERGED,2019-11-01 14:09:41.000000000,2019-11-12 04:09:24.000000000,2019-11-12 04:07:29.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-11-01 14:09:41.000000000', 'files': ['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/d95114eef743fce48a72a267161c8948c9c52484', 'message': 'Add equivalent py3 jobs\n\nThis patch adds two new py3 jobs to cover the following py2 jobs:\n- ironic-lib-partition-bios-ipmi-direct-tinyipa-src-python2\n- ironic-lib-wholedisk-bios-ipmi-direct-tinyipa-src-python2\n\nAlso dropping unecessary variable `USE_PYTHON3` in the base job\nthat uses ironic-base.\n\nChange-Id: Ib35683896f909a9cd88f88bb8170d8cde74364bd\n'}]",3,692548,d95114eef743fce48a72a267161c8948c9c52484,13,5,1,15519,,,0,"Add equivalent py3 jobs

This patch adds two new py3 jobs to cover the following py2 jobs:
- ironic-lib-partition-bios-ipmi-direct-tinyipa-src-python2
- ironic-lib-wholedisk-bios-ipmi-direct-tinyipa-src-python2

Also dropping unecessary variable `USE_PYTHON3` in the base job
that uses ironic-base.

Change-Id: Ib35683896f909a9cd88f88bb8170d8cde74364bd
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/48/692548/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml']",2,d95114eef743fce48a72a267161c8948c9c52484,integration_py3, - ironic-lib-wholedisk-bios-ipmi-direct-tinyipa-src - ironic-lib-partition-bios-ipmi-direct-tinyipa-src - ironic-lib-wholedisk-bios-ipmi-direct-tinyipa-src - ironic-lib-partition-bios-ipmi-direct-tinyipa-src,,23,5
openstack%2Foslo.messaging~master~I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97,openstack/oslo.messaging,master,I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97,Add RPC incoming and reply log,MERGED,2019-10-11 15:27:12.000000000,2019-11-12 04:01:00.000000000,2019-11-12 03:59:43.000000000,"[{'_account_id': 8770}, {'_account_id': 9531}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 26693}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 28935}, {'_account_id': 29071}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-11 15:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1726a5e8a82db05a8b65ea9e4e102fd56ae4d4cb', 'message': 'Add RPC incoming and reply log\n\nTypically a simple log will not narrow down the\nperformance, but give us more information about\nthe service status.\n\nChange-Id: I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97\nCloses-Bug: #1847747\n'}, {'number': 2, 'created': '2019-10-20 05:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/50719af778cef704e12a3993c6be6d02a71d0f4c', 'message': 'Add RPC incoming and reply log\n\nTypically a simple log will not narrow down the\nperformance, but give us more information about\nthe service status.\n\nChange-Id: I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97\nCloses-Bug: #1847747\n'}, {'number': 3, 'created': '2019-10-21 14:33:26.000000000', 'files': ['oslo_messaging/_drivers/impl_fake.py', 'oslo_messaging/rpc/server.py', 'oslo_messaging/tests/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b104f254ab43d5e2589e845eff84b1bd096cb42d', 'message': 'Add RPC incoming and reply log\n\nTypically a simple log will not narrow down the\nperformance, but give us more information about\nthe service status.\n\nChange-Id: I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97\nCloses-Bug: #1847747\n'}]",0,688147,b104f254ab43d5e2589e845eff84b1bd096cb42d,25,10,3,9531,,,0,"Add RPC incoming and reply log

Typically a simple log will not narrow down the
performance, but give us more information about
the service status.

Change-Id: I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97
Closes-Bug: #1847747
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/47/688147/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_fake.py', 'oslo_messaging/rpc/server.py']",2,1726a5e8a82db05a8b65ea9e4e102fd56ae4d4cb,bug/1847747,"import time rpc_method = message.message.get('method') start = time.time() LOG.info(""Receive incoming message with id %(msg_id)s and "" ""method: %(method)s."", {""msg_id"": message.msg_id, ""method"": rpc_method}) LOG.info(""Replied success message with id %(msg_id)s and "" ""method: %(method)s. Time elapsed: %(elapsed).3f"", {""msg_id"": message.msg_id, ""method"": rpc_method, ""elapsed"": (time.time() - start)}) LOG.info(""Replied failure for incoming message with "" ""id %(msg_id)s and method: %(method)s. "" ""Time elapsed: %(elapsed).3f"", {""msg_id"": message.msg_id, ""method"": rpc_method, ""elapsed"": (time.time() - start)})",,20,0
openstack%2Fwatcher~master~If2bbfd8ae6d1fc75cbc494578310c1dc03c367e6,openstack/watcher,master,If2bbfd8ae6d1fc75cbc494578310c1dc03c367e6,tox: Keeping going with docs,MERGED,2019-10-24 00:42:37.000000000,2019-11-12 03:26:52.000000000,2019-11-12 03:25:16.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-24 00:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/00726109950574b990c03c80fb1fd32ed2b5cb69', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: If2bbfd8ae6d1fc75cbc494578310c1dc03c367e6\n""}, {'number': 2, 'created': '2019-10-24 00:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/07d36dbecbf1907da067bf345d175212ac393c46', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: If2bbfd8ae6d1fc75cbc494578310c1dc03c367e6\n""}, {'number': 3, 'created': '2019-10-24 00:45:45.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher/commit/7d2191d4e61d686b77edc27ef8f7332cfa7fe213', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: If2bbfd8ae6d1fc75cbc494578310c1dc03c367e6\n""}]",0,690773,7d2191d4e61d686b77edc27ef8f7332cfa7fe213,11,3,3,28614,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: If2bbfd8ae6d1fc75cbc494578310c1dc03c367e6
",git fetch https://review.opendev.org/openstack/watcher refs/changes/73/690773/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,00726109950574b990c03c80fb1fd32ed2b5cb69,, sphinx-build -W --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdfcommands = sphinx-build -a -W -E -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html ,[testenv][testenv:pep8][testenv:venv][testenv:cover][testenv:docs] sphinx-build -W -b html doc/source doc/build/html [testenv:api-ref] sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html [testenv:debug][testenv:genconfig][testenv:genpolicy][flake8][testenv:wheel][hacking][doc8][testenv:pdf-docs] sphinx-build -W -b latex doc/source doc/build/pdf[testenv:releasenotes]commands = sphinx-build -a -W -E -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html [testenv:bandit][testenv:lower-constraints],7,23
openstack%2Fwatcher-specs~master~Idf36ca3214dabc899cfdc7e5af20f29b8b86f4c3,openstack/watcher-specs,master,Idf36ca3214dabc899cfdc7e5af20f29b8b86f4c3,tox: Keeping going with docs,MERGED,2019-10-24 00:56:09.000000000,2019-11-12 02:41:57.000000000,2019-11-12 02:40:43.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-24 00:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/35e02c74bb439f05da08c87dc70e5fa4bba2deca', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Idf36ca3214dabc899cfdc7e5af20f29b8b86f4c3\n""}, {'number': 2, 'created': '2019-10-24 00:57:37.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/29312926f0b5072891383c18bc8976a3caf5a09f', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Idf36ca3214dabc899cfdc7e5af20f29b8b86f4c3\n""}]",0,690776,29312926f0b5072891383c18bc8976a3caf5a09f,10,3,2,28614,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Idf36ca3214dabc899cfdc7e5af20f29b8b86f4c3
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/76/690776/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,35e02c74bb439f05da08c87dc70e5fa4bba2deca,, sphinx-build -W --keep-going -b latex doc/source doc/build/pdf, sphinx-build -W -b latex doc/source doc/build/pdf,7,3
openstack%2Ftripleo-heat-templates~master~I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a,openstack/tripleo-heat-templates,master,I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a,Remove deployed-server-roles-data.yaml,MERGED,2019-10-23 00:00:28.000000000,2019-11-12 02:02:27.000000000,2019-11-12 02:00:53.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-23 00:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62579dd7d66913434119de84868ce626b939b55a', 'message': 'Remove deployed-server-roles-data.yaml\n\nThis patch removes the roles file that was previously used with\ndeployed-server at deployed-server/deployed-server-roles-data.yaml. It\nwas deprecated in train and is now removed in ussuri.\n\nDepends-On: I55cb5fc4a069dc3829eb7e0b4ae6c9bc37094740\nChange-Id: I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a\n'}, {'number': 2, 'created': '2019-10-24 23:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb75dbc4359477139a7b378ed8942d1b7bdd268a', 'message': 'Remove deployed-server-roles-data.yaml\n\nThis patch removes the roles file that was previously used with\ndeployed-server at deployed-server/deployed-server-roles-data.yaml. It\nwas deprecated in train and is now removed in ussuri.\n\nDepends-On: I55cb5fc4a069dc3829eb7e0b4ae6c9bc37094740\nChange-Id: I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a\n'}, {'number': 3, 'created': '2019-11-04 23:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53ca5d0ace24e87b972039a8e28d72de0e20c964', 'message': 'Remove deployed-server-roles-data.yaml\n\nThis patch removes the roles file that was previously used with\ndeployed-server at deployed-server/deployed-server-roles-data.yaml. It\nwas deprecated in train and is now removed in ussuri.\n\nDepends-On: I55cb5fc4a069dc3829eb7e0b4ae6c9bc37094740\nChange-Id: I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a\n'}, {'number': 4, 'created': '2019-11-08 18:42:24.000000000', 'files': ['releasenotes/notes/remove-deployed-server-roles-data.yaml-090c4f589ca493fd.yaml', 'deployed-server/deployed-server-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/013f6ca2dc04b715a2e7b8a7905608dd8be4c680', 'message': 'Remove deployed-server-roles-data.yaml\n\nThis patch removes the roles file that was previously used with\ndeployed-server at deployed-server/deployed-server-roles-data.yaml. It\nwas deprecated in train and is now removed in ussuri.\n\nDepends-On: I55cb5fc4a069dc3829eb7e0b4ae6c9bc37094740\nChange-Id: I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a\n'}]",0,690450,013f6ca2dc04b715a2e7b8a7905608dd8be4c680,33,7,4,7144,,,0,"Remove deployed-server-roles-data.yaml

This patch removes the roles file that was previously used with
deployed-server at deployed-server/deployed-server-roles-data.yaml. It
was deprecated in train and is now removed in ussuri.

Depends-On: I55cb5fc4a069dc3829eb7e0b4ae6c9bc37094740
Change-Id: I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/690450/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deployed-server-roles-data.yaml-090c4f589ca493fd.yaml', 'deployed-server/deployed-server-roles-data.yaml']",2,62579dd7d66913434119de84868ce626b939b55a,690450,,"# DEPRECATED: The deployed-server-roles-data.yaml file is deprecated in train # and will be removed in ussuri. It's contents are now the same as # roles_data.yaml. ############################################################################### # Role: Controller # ############################################################################### - name: Controller description: | Controller role that has all the controler services loaded and handles Database, Messaging and Network functions. CountDefault: 1 tags: - primary - controller networks: External: subnet: external_subnet InternalApi: subnet: internal_api_subnet Storage: subnet: storage_subnet StorageMgmt: subnet: storage_mgmt_subnet Tenant: subnet: tenant_subnet # For systems with both IPv4 and IPv6, you may specify a gateway network for # each, such as ['ControlPlane', 'External'] default_route_networks: ['External'] HostnameFormatDefault: '%stackname%-controller-%index%' # Deprecated & backward-compatible values (FIXME: Make parameters consistent) # Set uses_deprecated_params to True if any deprecated params are used. uses_deprecated_params: True deprecated_param_extraconfig: 'controllerExtraConfig' deprecated_param_flavor: 'OvercloudControlFlavor' deprecated_param_image: 'controllerImage' deprecated_nic_config_name: 'controller.yaml' update_serial: 1 ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AodhApi - OS::TripleO::Services::AodhEvaluator - OS::TripleO::Services::AodhListener - OS::TripleO::Services::AodhNotifier - OS::TripleO::Services::AuditD - OS::TripleO::Services::BarbicanApi - OS::TripleO::Services::BarbicanBackendSimpleCrypto - OS::TripleO::Services::BarbicanBackendDogtag - OS::TripleO::Services::BarbicanBackendKmip - OS::TripleO::Services::BarbicanBackendPkcs11Crypto - OS::TripleO::Services::BootParams - OS::TripleO::Services::CACerts - OS::TripleO::Services::CeilometerAgentCentral - OS::TripleO::Services::CeilometerAgentNotification - OS::TripleO::Services::CephExternal - OS::TripleO::Services::CephGrafana - OS::TripleO::Services::CephMds - OS::TripleO::Services::CephMgr - OS::TripleO::Services::CephMon - OS::TripleO::Services::CephRbdMirror - OS::TripleO::Services::CephRgw - OS::TripleO::Services::CertmongerUser - OS::TripleO::Services::CinderApi - OS::TripleO::Services::CinderBackendDellPs - OS::TripleO::Services::CinderBackendDellSc - OS::TripleO::Services::CinderBackendDellEMCUnity - OS::TripleO::Services::CinderBackendDellEMCVMAXISCSI - OS::TripleO::Services::CinderBackendDellEMCVNX - OS::TripleO::Services::CinderBackendDellEMCXTREMIOISCSI - OS::TripleO::Services::CinderBackendNetApp - OS::TripleO::Services::CinderBackendPure - OS::TripleO::Services::CinderBackendScaleIO - OS::TripleO::Services::CinderBackendVRTSHyperScale - OS::TripleO::Services::CinderBackendNVMeOF - OS::TripleO::Services::CinderBackup - OS::TripleO::Services::CinderHPELeftHandISCSI - OS::TripleO::Services::CinderScheduler - OS::TripleO::Services::CinderVolume - OS::TripleO::Services::Clustercheck - OS::TripleO::Services::Collectd - OS::TripleO::Services::ContainerImagePrepare - OS::TripleO::Services::DesignateApi - OS::TripleO::Services::DesignateCentral - OS::TripleO::Services::DesignateProducer - OS::TripleO::Services::DesignateWorker - OS::TripleO::Services::DesignateMDNS - OS::TripleO::Services::DesignateSink - OS::TripleO::Services::Docker - OS::TripleO::Services::Ec2Api - OS::TripleO::Services::Etcd - OS::TripleO::Services::ExternalSwiftProxy - OS::TripleO::Services::Fluentd - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::GnocchiApi - OS::TripleO::Services::GnocchiMetricd - OS::TripleO::Services::GnocchiStatsd - OS::TripleO::Services::HAproxy - OS::TripleO::Services::HeatApi - OS::TripleO::Services::HeatApiCloudwatch - OS::TripleO::Services::HeatApiCfn - OS::TripleO::Services::HeatEngine - OS::TripleO::Services::Horizon - OS::TripleO::Services::IpaClient - OS::TripleO::Services::Ipsec - OS::TripleO::Services::IronicApi - OS::TripleO::Services::IronicConductor - OS::TripleO::Services::IronicInspector - OS::TripleO::Services::IronicPxe - OS::TripleO::Services::IronicNeutronAgent - OS::TripleO::Services::Iscsid - OS::TripleO::Services::Keepalived - OS::TripleO::Services::Kernel - OS::TripleO::Services::Keystone - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::ManilaApi - OS::TripleO::Services::ManilaBackendCephFs - OS::TripleO::Services::ManilaBackendIsilon - OS::TripleO::Services::ManilaBackendNetapp - OS::TripleO::Services::ManilaBackendUnity - OS::TripleO::Services::ManilaBackendVNX - OS::TripleO::Services::ManilaBackendVMAX - OS::TripleO::Services::ManilaScheduler - OS::TripleO::Services::ManilaShare - OS::TripleO::Services::Memcached - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::MistralApi - OS::TripleO::Services::MistralEngine - OS::TripleO::Services::MistralExecutor - OS::TripleO::Services::MistralEventEngine - OS::TripleO::Services::Multipathd - OS::TripleO::Services::MySQL - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::NeutronApi - OS::TripleO::Services::NeutronBgpVpnApi - OS::TripleO::Services::NeutronSfcApi - OS::TripleO::Services::NeutronCorePlugin - OS::TripleO::Services::NeutronDhcpAgent - OS::TripleO::Services::NeutronL2gwAgent - OS::TripleO::Services::NeutronL2gwApi - OS::TripleO::Services::NeutronL3Agent - OS::TripleO::Services::NeutronLinuxbridgeAgent - OS::TripleO::Services::NeutronMetadataAgent - OS::TripleO::Services::NeutronML2FujitsuCfab - OS::TripleO::Services::NeutronML2FujitsuFossw - OS::TripleO::Services::NeutronOvsAgent - OS::TripleO::Services::NeutronVppAgent - OS::TripleO::Services::NovaApi - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaIronic - OS::TripleO::Services::NovaMetadata - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::NovaVncProxy - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::OctaviaApi - OS::TripleO::Services::OctaviaDeploymentConfig - OS::TripleO::Services::OctaviaHealthManager - OS::TripleO::Services::OctaviaHousekeeping - OS::TripleO::Services::OctaviaWorker - OS::TripleO::Services::OpenDaylightApi - OS::TripleO::Services::OpenDaylightOvs - OS::TripleO::Services::OpenStackClients - OS::TripleO::Services::OVNDBs - OS::TripleO::Services::OVNController - OS::TripleO::Services::Pacemaker - OS::TripleO::Services::PlacementApi - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::OsloMessagingNotify - OS::TripleO::Services::Podman - OS::TripleO::Services::Redis - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::RsyslogSidecar - OS::TripleO::Services::SaharaApi - OS::TripleO::Services::SaharaEngine - OS::TripleO::Services::Securetty - OS::TripleO::Services::SkydiveAgent - OS::TripleO::Services::SkydiveAnalyzer - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::SwiftProxy - OS::TripleO::Services::SwiftDispersion - OS::TripleO::Services::SwiftRingBuilder - OS::TripleO::Services::SwiftStorage - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Tuned - OS::TripleO::Services::Vpp - OS::TripleO::Services::Zaqar ############################################################################### # Role: Compute # ############################################################################### - name: Compute description: | Basic Compute Node role CountDefault: 1 # Create external Neutron bridge (unset if using ML2/OVS without DVR) tags: - external_bridge networks: InternalApi: subnet: internal_api_subnet Tenant: subnet: tenant_subnet Storage: subnet: storage_subnet HostnameFormatDefault: '%stackname%-novacompute-%index%' RoleParametersDefault: TunedProfileName: ""virtual-host"" # Deprecated & backward-compatible values (FIXME: Make parameters consistent) # Set uses_deprecated_params to True if any deprecated params are used. # These deprecated_params only need to be used for existing roles and not for # composable roles. uses_deprecated_params: True deprecated_param_image: 'NovaImage' deprecated_param_extraconfig: 'NovaComputeExtraConfig' deprecated_param_metadata: 'NovaComputeServerMetadata' deprecated_param_scheduler_hints: 'NovaComputeSchedulerHints' deprecated_param_ips: 'NovaComputeIPs' deprecated_server_resource_name: 'NovaCompute' deprecated_nic_config_name: 'compute.yaml' update_serial: 25 ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AuditD - OS::TripleO::Services::BootParams - OS::TripleO::Services::CACerts - OS::TripleO::Services::CephClient - OS::TripleO::Services::CephExternal - OS::TripleO::Services::CertmongerUser - OS::TripleO::Services::Collectd - OS::TripleO::Services::ComputeCeilometerAgent - OS::TripleO::Services::ComputeNeutronCorePlugin - OS::TripleO::Services::ComputeNeutronL3Agent - OS::TripleO::Services::ComputeNeutronMetadataAgent - OS::TripleO::Services::ComputeNeutronOvsAgent - OS::TripleO::Services::Docker - OS::TripleO::Services::Fluentd - OS::TripleO::Services::IpaClient - OS::TripleO::Services::Ipsec - OS::TripleO::Services::Iscsid - OS::TripleO::Services::Kernel - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::Multipathd - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::NeutronBgpVpnBagpipe - OS::TripleO::Services::NeutronLinuxbridgeAgent - OS::TripleO::Services::NeutronVppAgent - OS::TripleO::Services::NovaCompute - OS::TripleO::Services::NovaLibvirt - OS::TripleO::Services::NovaLibvirtGuests - OS::TripleO::Services::NovaMigrationTarget - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::OpenDaylightOvs - OS::TripleO::Services::Podman - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::RsyslogSidecar - OS::TripleO::Services::Securetty - OS::TripleO::Services::SkydiveAgent - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Tuned - OS::TripleO::Services::Vpp - OS::TripleO::Services::OVNController - OS::TripleO::Services::OVNMetadataAgent ############################################################################### # Role: BlockStorage # ############################################################################### - name: BlockStorage description: | Cinder Block Storage node role networks: InternalApi: subnet: internal_api_subnet Storage: subnet: storage_subnet StorageMgmt: subnet: storage_mgmt_subnet uses_deprecated_params: False deprecated_nic_config_name: 'cinder-storage.yaml' update_serial: 25 ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AuditD - OS::TripleO::Services::BlockStorageCinderVolume - OS::TripleO::Services::BootParams - OS::TripleO::Services::CACerts - OS::TripleO::Services::CertmongerUser - OS::TripleO::Services::CinderBackendVRTSHyperScale - OS::TripleO::Services::Collectd - OS::TripleO::Services::Docker - OS::TripleO::Services::Fluentd - OS::TripleO::Services::IpaClient - OS::TripleO::Services::Ipsec - OS::TripleO::Services::Iscsid - OS::TripleO::Services::Kernel - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::Multipathd - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::Podman - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::RsyslogSidecar - OS::TripleO::Services::Securetty - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Tuned ############################################################################### # Role: ObjectStorage # ############################################################################### - name: ObjectStorage description: | Swift Object Storage node role networks: InternalApi: subnet: internal_api_subnet Storage: subnet: storage_subnet StorageMgmt: subnet: storage_mgmt_subnet # Deprecated & backward-compatible values (FIXME: Make parameters consistent) # Set uses_deprecated_params to True if any deprecated params are used. uses_deprecated_params: True deprecated_param_metadata: 'SwiftStorageServerMetadata' deprecated_param_ips: 'SwiftStorageIPs' deprecated_param_image: 'SwiftStorageImage' deprecated_param_flavor: 'OvercloudSwiftStorageFlavor' deprecated_nic_config_name: 'swift-storage.yaml' deprecated_server_resource_name: 'SwiftStorage' # SwiftStorage present so serial has to be 1 update_serial: 1 ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AuditD - OS::TripleO::Services::BootParams - OS::TripleO::Services::CACerts - OS::TripleO::Services::CertmongerUser - OS::TripleO::Services::Collectd - OS::TripleO::Services::Docker - OS::TripleO::Services::Fluentd - OS::TripleO::Services::IpaClient - OS::TripleO::Services::Ipsec - OS::TripleO::Services::Kernel - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::Podman - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::RsyslogSidecar - OS::TripleO::Services::Securetty - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::SwiftRingBuilder - OS::TripleO::Services::SwiftStorage - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Tuned - OS::TripleO::Services::Ptp ############################################################################### # Role: CephStorage # ############################################################################### - name: CephStorage description: | Ceph OSD Storage node role networks: Storage: subnet: storage_subnet StorageMgmt: subnet: storage_mgmt_subnet uses_deprecated_params: False deprecated_nic_config_name: 'ceph-storage.yaml' # CephOSD present so serial has to be 1 update_serial: 1 ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AuditD - OS::TripleO::Services::BootParams - OS::TripleO::Services::CACerts - OS::TripleO::Services::CephOSD - OS::TripleO::Services::CertmongerUser - OS::TripleO::Services::Collectd - OS::TripleO::Services::Docker - OS::TripleO::Services::Fluentd - OS::TripleO::Services::IpaClient - OS::TripleO::Services::Ipsec - OS::TripleO::Services::Kernel - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::Podman - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::RsyslogSidecar - OS::TripleO::Services::Securetty - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Tuned ",6,418
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6,openstack/tripleo-heat-templates,stable/queens,I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6,Run nova_api unprivileged,MERGED,2019-10-31 10:54:26.000000000,2019-11-12 00:42:49.000000000,2019-11-12 00:42:49.000000000,"[{'_account_id': 7144}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-31 10:54:26.000000000', 'files': ['docker/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/389d58f97ca6ca468bd2783e17d6e45616e6f66f', 'message': 'Run nova_api unprivileged\n\nRunning it privileged is no longer necessary and bad for security.\n\nResolves: rhbz#1767388\n\nChange-Id: I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6\n(cherry picked from commit 268aad2258dda4c4eff6a6a3173aa0ab1c36e781)\n(cherry picked from commit 80133ccb83165611acbf94af1ff54449e839efa1)\n'}]",0,692329,389d58f97ca6ca468bd2783e17d6e45616e6f66f,11,6,1,14250,,,0,"Run nova_api unprivileged

Running it privileged is no longer necessary and bad for security.

Resolves: rhbz#1767388

Change-Id: I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6
(cherry picked from commit 268aad2258dda4c4eff6a6a3173aa0ab1c36e781)
(cherry picked from commit 80133ccb83165611acbf94af1ff54449e839efa1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/692329/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-api.yaml'],1,389d58f97ca6ca468bd2783e17d6e45616e6f66f,, privileged: false, privileged: true,1,1
openstack%2Fopenstack-helm-infra~master~Id287ddae8904d2cfa88725277bb97cf027a942c3,openstack/openstack-helm-infra,master,Id287ddae8904d2cfa88725277bb97cf027a942c3,Clean up python script,MERGED,2019-10-09 18:00:57.000000000,2019-11-12 00:28:32.000000000,2019-11-12 00:27:31.000000000,"[{'_account_id': 8898}, {'_account_id': 17499}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28614}, {'_account_id': 28618}, {'_account_id': 28849}, {'_account_id': 30356}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-09 18:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2ff0479900a829cfbe6513c5d3b649dd96e9e470', 'message': 'Clean up python script\n\nTrivial change. This patch set cleans up a python script.\n\n- Move the comment to a helm-template comment so the python comments do\nnot get rendered by helm.\n- Remove an unused python module.\n\nChange-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-10-14 14:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ef1d38381aacdc8fa4f5f3acfc26540f9e0210f', 'message': 'Clean up python script\n\nTrivial change. This patch set cleans up a python script.\n\n- Move the comment to a helm-template comment so the python comments do\nnot get rendered by helm.\n- Remove an unused python module.\n\nChange-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2019-10-22 05:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1fad0c0bf8737faf7cda72b5e23bf54e2fdd056', 'message': 'Clean up python script\n\nTrivial change. This patch set cleans up a python script.\n\n- Move the comment to a helm-template comment so the python comments do\nnot get rendered by helm.\n- Remove an unused python module.\n\nChange-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2019-10-23 03:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa2cb9696fd3bd2835d1d93a629d856b60a69b32', 'message': 'Clean up python script\n\nTrivial change. This patch set cleans up a python script.\n\n- Move the comment to a helm-template comment so the python comments do\nnot get rendered by helm.\n- Remove an unused python module.\n\nChange-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2019-11-05 03:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6f6e3458a21ae817acc90213876de831686441a', 'message': 'Clean up python script\n\nTrivial change. This patch set cleans up a python script.\n\n- Move the comment to a helm-template comment so the python comments do\nnot get rendered by helm.\n- Remove an unused python module.\n\nChange-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2019-11-07 04:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e84201c1b6a7e2add7c538ae1b8cdda77a4ae777', 'message': 'Clean up python script\n\nTrivial change. This patch set cleans up a python script.\n\n- Move the comment to a helm-template comment so the python comments do\nnot get rendered by helm.\n- Remove an unused python module.\n\nChange-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2019-11-09 07:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/11a73356436a74b1d8b7eabafa22c17b30a03600', 'message': 'Clean up python script\n\nTrivial change. This patch set cleans up a python script.\n\n- Move the comment to a helm-template comment so the python comments do\nnot get rendered by helm.\n- Remove an unused python module.\n\nChange-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2019-11-11 22:45:38.000000000', 'files': ['rabbitmq/templates/bin/_rabbitmq-password-hash.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b4a422a79812194eb9541bbc5d19c53866e0737b', 'message': 'Clean up python script\n\nTrivial change. This patch set cleans up a python script.\n\n- Move the comment to a helm-template comment so the python comments do\nnot get rendered by helm.\n- Remove an unused python module.\n\nChange-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,687641,b4a422a79812194eb9541bbc5d19c53866e0737b,37,11,8,20466,,,0,"Clean up python script

Trivial change. This patch set cleans up a python script.

- Move the comment to a helm-template comment so the python comments do
not get rendered by helm.
- Remove an unused python module.

Change-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/41/687641/3 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/bin/_rabbitmq-password-hash.py.tpl'],1,2ff0479900a829cfbe6513c5d3b649dd96e9e470,py-cleanup,"{{/* Copyright 2019 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. See here for explanation: http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2011-May/012765.html */}}","# Copyright 2019 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # See here for explanation: # http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2011-May/012765.htmlimport sys",17,16
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ied2543e7aa9646eec83f168e862b281f59720b9a,openstack/tripleo-heat-templates,stable/train,Ied2543e7aa9646eec83f168e862b281f59720b9a,Remove odl in ComputeSriovIB,MERGED,2019-11-11 17:37:40.000000000,2019-11-12 00:13:32.000000000,2019-11-12 00:13:32.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-11 17:37:40.000000000', 'files': ['roles/ComputeSriovIB.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f27938660ce479009c6ca8565592578952a89591', 'message': 'Remove odl in ComputeSriovIB\n\nChange-Id: Ied2543e7aa9646eec83f168e862b281f59720b9a\n(cherry picked from commit 8a10389fbaee96b500582f06e423ff301c5440ab)\n'}]",0,693733,f27938660ce479009c6ca8565592578952a89591,7,4,1,16690,,,0,"Remove odl in ComputeSriovIB

Change-Id: Ied2543e7aa9646eec83f168e862b281f59720b9a
(cherry picked from commit 8a10389fbaee96b500582f06e423ff301c5440ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/693733/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ComputeSriovIB.yaml'],1,f27938660ce479009c6ca8565592578952a89591,remove odl-stable/train,, - OS::TripleO::Services::OpenDaylightOvs,0,1
openstack%2Fopenstack-ansible-os_keystone~master~Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d,openstack/openstack-ansible-os_keystone,master,Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d,Add possibility to overwrite public repo,MERGED,2019-11-04 19:10:53.000000000,2019-11-11 23:02:50.000000000,2019-11-11 16:33:51.000000000,"[{'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-04 19:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/b4bb95dc41713fb9e16f09ed6038b125ea692c30', 'message': 'Add possibility to overwrite public repo\n\nFor Centos, nginx uses nginx.org repo. This patch allows you to change\nthis behaviour with nginx_yum_repo and gpg url with\nkeystone_nginx_key (role-wide) or nginx_key (global)\n\nSame for shibboleth:\nshibboleth_yum_repo and shibboleth_key\n\nChange-Id: Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d\n'}, {'number': 2, 'created': '2019-11-05 06:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/1a5062135ad02faaf2afa8432c5d9cb31dc53b9d', 'message': 'Add possibility to overwrite public repo\n\nFor Centos, we use by default public repo for nginx and shibboleth, you can\nchange this behaviour with these role-wide variables:\n- keystone_centos_nginx_mirror\n- keystone_centos_nginx_key\n- keystone_centos_shibboleth_mirror\n- keystone_centos_shibboleth_key\n\nOr with these osa-wide variables:\n- centos_nginx_mirror\n- centos_nginx_key\n\nChange-Id: Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d\n'}, {'number': 3, 'created': '2019-11-05 09:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/2538dddd4b6bdada97f18359737c978563172697', 'message': 'Add possibility to overwrite public repo\n\nFor Centos, we use by default public repo for nginx and shibboleth, you can\nchange this behaviour with these role-wide variables:\n- keystone_centos_nginx_mirror\n- keystone_centos_nginx_key\n- keystone_centos_shibboleth_mirror\n- keystone_centos_shibboleth_key\n\nOr with these osa-wide variables:\n- centos_nginx_mirror\n- centos_nginx_key\n\nChange-Id: Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d\n'}, {'number': 4, 'created': '2019-11-05 11:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/60f873bc83112b85d1204f4d64cd72226ce88716', 'message': 'Add possibility to overwrite public repo\n\nFor Centos, we use by default public repo for nginx and shibboleth, you can\nchange this behaviour with these role-wide variables:\n- keystone_centos_nginx_mirror\n- keystone_centos_nginx_key\n- keystone_centos_shibboleth_mirror\n- keystone_centos_shibboleth_key\n\nOr with these osa-wide variables:\n- centos_nginx_mirror\n- centos_nginx_key\n\nChange-Id: Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d\n'}, {'number': 5, 'created': '2019-11-06 08:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9aa84f64cfc1da3d14570e57a3b20724be3e5cbc', 'message': 'Add possibility to overwrite public repo\n\nFor Centos, we use by default public repo for nginx, you can change this\nbehaviour with these role-wide variables:\n- keystone_centos_nginx_mirror\n- keystone_centos_nginx_key\n\nOr with these osa-wide variables:\n- centos_nginx_mirror\n- centos_nginx_key\n\nChange-Id: Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d\n'}, {'number': 6, 'created': '2019-11-06 14:24:41.000000000', 'files': ['vars/redhat.yml', 'tasks/keystone_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/33b165bcc45002cf187b524a5925962c1236260c', 'message': 'Add possibility to overwrite public repo\n\nFor Centos, we use by default public repo for nginx and shibboleth. You can\nchange this behaviour with these role-wide variables:\n- keystone_centos_nginx_mirror\n- keystone_centos_nginx_key\n- keystone_centos_shibboleth_mirror\n- keystone_centos_shibboleth_key\n\nOr with these osa-wide variables:\n- centos_nginx_mirror\n- centos_nginx_key\n\nChange-Id: Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d\n'}]",3,692872,33b165bcc45002cf187b524a5925962c1236260c,27,4,6,23182,,,0,"Add possibility to overwrite public repo

For Centos, we use by default public repo for nginx and shibboleth. You can
change this behaviour with these role-wide variables:
- keystone_centos_nginx_mirror
- keystone_centos_nginx_key
- keystone_centos_shibboleth_mirror
- keystone_centos_shibboleth_key

Or with these osa-wide variables:
- centos_nginx_mirror
- centos_nginx_key

Change-Id: Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/72/692872/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'tasks/keystone_install.yml', 'defaults/main.yml']",3,b4bb95dc41713fb9e16f09ed6038b125ea692c30,Offline_repo,"keystone_nginx_key: ""{{ nginx_key | default('http://nginx.org/keys/nginx_signing.key') }}""",,10,6
openstack%2Fopenstack-ansible-repo_server~stable%2Fstein~I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,openstack/openstack-ansible-repo_server,stable/stein,I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,Add possibility to overwrite nginx public repo,ABANDONED,2019-11-08 09:47:33.000000000,2019-11-11 23:02:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-08 09:47:33.000000000', 'files': ['tasks/repo_install.yml', 'vars/redhat.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/59f46c5e67c98f5beaf43194f794a350d7e0cc24', 'message': 'Add possibility to overwrite nginx public repo\n\nFor Centos, we use by default public repo for nginx. You can change this\nbehaviour with these role-wide variables:\n- repo_centos_nginx_mirror\n- repo_centos_nginx_key\n\nOr with these osa-wide variables:\n- centos_nginx_mirror\n- centos_nginx_key\n\nChange-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c\n(cherry picked from commit bd8a24716c519badc985aceb08d00b113ab5f857)\n'}]",0,693508,59f46c5e67c98f5beaf43194f794a350d7e0cc24,6,4,1,23182,,,0,"Add possibility to overwrite nginx public repo

For Centos, we use by default public repo for nginx. You can change this
behaviour with these role-wide variables:
- repo_centos_nginx_mirror
- repo_centos_nginx_key

Or with these osa-wide variables:
- centos_nginx_mirror
- centos_nginx_key

Change-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c
(cherry picked from commit bd8a24716c519badc985aceb08d00b113ab5f857)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/08/693508/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_install.yml', 'vars/redhat.yml', 'defaults/main.yml']",3,59f46c5e67c98f5beaf43194f794a350d7e0cc24,Offline_repo-stable/stein,"## Centos NGINX repository options repo_centos_nginx_mirror: ""{{ centos_nginx_mirror | default('http://nginx.org/packages/centos/7/$basearch/') }}"" repo_centos_nginx_key: ""{{ centos_nginx_key | default('http://nginx.org/keys/nginx_signing.key') }}"" ",,6,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia03e6e8e913198b315c47982c14ed52569ec702c,openstack/tripleo-heat-templates,stable/train,Ia03e6e8e913198b315c47982c14ed52569ec702c,Correct mysql-pacemaker upgrade task,MERGED,2019-11-11 14:58:37.000000000,2019-11-11 21:21:07.000000000,2019-11-11 21:21:07.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-11 14:58:37.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef5e84f8ea7ace74912aad7a29eccfd3376c4ec0', 'message': 'Correct mysql-pacemaker upgrade task\n\nThere were two issues in the mysql-pacemaker upgrade tasks:\n\n- SELinux: since we\'re using podman, we have proper selinux enforcing on\n  the system and proper selinux separation for the containers. Some\n  volumes were lacking the ""z"" flag, making them unaccessible\n\n- Since we\'re on podman, we have to correct the ""log-driver"" in the\n  command. This allow to get a dedicated log for debug purpose.\n\nChange-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c\nCloses-Bug: #1851617\nResolves: rhbz#1769291\n(cherry picked from commit 8b07a2259bc7e06e1423ee99a411b873dfe98937)\n'}]",0,693710,ef5e84f8ea7ace74912aad7a29eccfd3376c4ec0,10,6,1,28223,,,0,"Correct mysql-pacemaker upgrade task

There were two issues in the mysql-pacemaker upgrade tasks:

- SELinux: since we're using podman, we have proper selinux enforcing on
  the system and proper selinux separation for the containers. Some
  volumes were lacking the ""z"" flag, making them unaccessible

- Since we're on podman, we have to correct the ""log-driver"" in the
  command. This allow to get a dedicated log for debug purpose.

Change-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c
Closes-Bug: #1851617
Resolves: rhbz#1769291
(cherry picked from commit 8b07a2259bc7e06e1423ee99a411b873dfe98937)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/693710/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,ef5e84f8ea7ace74912aad7a29eccfd3376c4ec0,upgrades/mysql-stable/train," - /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json:rw,z - /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro,z - /var/lib/mysql:/var/lib/mysql:rw,z 'CONTAINER_CLI run --rm --log-driver=k8s-file --log-opt path=LOG_DIR/db-upgrade.log \ -u root --net=host UPGRADE_ENV UPGRADE_VOLUMES ""UPGRADE_IMAGE"" /bin/bash -ecx ""UPGRADE_SCRIPT""' UPGRADE_VOLUMES: ""-v {{ mysql_upgrade_db_bind_mounts | union(['/tmp/mariadb-upgrade:/var/log/mariadb:rw,z']) | join(' -v ')}}"" LOGDIR: '/var/log/containers/mysql'"," - /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json - /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro - /var/lib/mysql:/var/lib/mysql 'CONTAINER_CLI run --rm --log-driver=syslog -u root --net=host UPGRADE_ENV UPGRADE_VOLUMES ""UPGRADE_IMAGE"" /bin/bash -ecx ""UPGRADE_SCRIPT""' UPGRADE_VOLUMES: ""-v {{ mysql_upgrade_db_bind_mounts | union(['/tmp/mariadb-upgrade:/var/log/mariadb:rw']) | join(' -v ')}}""",7,5
openstack%2Fcinder~master~I0824fbecdd37623b9ddc8715a92fc6f540c45efe,openstack/cinder,master,I0824fbecdd37623b9ddc8715a92fc6f540c45efe,Add attach_encryptor when do detach volume,NEW,2019-07-26 02:52:54.000000000,2019-11-11 19:57:21.000000000,,"[{'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-07-26 02:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80763848411b84a53be6e05f8454ab8c072cdd41', 'message': 'Add attach_encryptor when do detach volume\n\nChange-Id: I0824fbecdd37623b9ddc8715a92fc6f540c45efe\n'}, {'number': 2, 'created': '2019-11-07 08:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13610c7f7367063739c2f0942278d168f3ab483a', 'message': 'Add attach_encryptor when do detach volume\n\nChange-Id: I0824fbecdd37623b9ddc8715a92fc6f540c45efe\n'}, {'number': 3, 'created': '2019-11-07 09:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e97645279edd893765d931a2e06951b3ce9522bd', 'message': 'Add attach_encryptor when do detach volume\n\nThis bug is introduced from this patch:\n  Retype encrypted volumes\n  https://review.opendev.org/#/c/319078/\nNow we just need to add this miss arg.\n\nCloses-Bug: #1851628\nChange-Id: I0824fbecdd37623b9ddc8715a92fc6f540c45efe\n'}, {'number': 4, 'created': '2019-11-07 10:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a810f414a447137a7d59ed41da90ad75cccc6f2', 'message': 'Add attach_encryptor when do detach volume\n\nThis bug is introduced from this patch:\n  Retype encrypted volumes\n  https://review.opendev.org/#/c/319078/\nNow we just need to add this lost arg.\n\nCloses-Bug: #1851628\nChange-Id: I0824fbecdd37623b9ddc8715a92fc6f540c45efe\n'}, {'number': 5, 'created': '2019-11-08 01:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/257b7a0b0d05d7ac5413666c9d653a50b71e4b30', 'message': 'Add attach_encryptor when do detach volume\n\nThis bug is introduced from this patch:\n  Retype encrypted volumes\n  https://review.opendev.org/#/c/319078/\nNow we just need to add this lost arg.\n\nCloses-Bug: #1851628\nChange-Id: I0824fbecdd37623b9ddc8715a92fc6f540c45efe\n'}, {'number': 6, 'created': '2019-11-08 01:23:38.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/52997291eafd0e1d746c6cf6155adfd8ae045e51', 'message': 'Add attach_encryptor when do detach volume\n\nThis bug was introduced from this patch:\n  Retype encrypted volumes\n  https://review.opendev.org/#/c/319078/\nNow we just need to add this lost arg.\n\nCloses-Bug: #1851628\nChange-Id: I0824fbecdd37623b9ddc8715a92fc6f540c45efe\n'}]",3,672846,52997291eafd0e1d746c6cf6155adfd8ae045e51,119,39,6,25837,,,0,"Add attach_encryptor when do detach volume

This bug was introduced from this patch:
  Retype encrypted volumes
  https://review.opendev.org/#/c/319078/
Now we just need to add this lost arg.

Closes-Bug: #1851628
Change-Id: I0824fbecdd37623b9ddc8715a92fc6f540c45efe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/672846/6 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,80763848411b84a53be6e05f8454ab8c072cdd41,add_attach_encryptor_for_detach," force=True, attach_encryptor=attach_encryptor)", force=True),2,1
openstack%2Freleases~master~I1ce0af2ab2163ea1f154516229889b3cf8813ab6,openstack/releases,master,I1ce0af2ab2163ea1f154516229889b3cf8813ab6,Allow upper-constraints redirect based on SHA,MERGED,2019-10-24 12:09:47.000000000,2019-11-11 19:56:44.000000000,2019-11-11 19:56:44.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 28008}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-24 12:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a4ad6fe456a8ab6a7f3f4c1563d884269c2a2c5a', 'message': 'Allow upper-constraints redirect based on SHA\n\nThis patch aims to make possible to provide SHA commit\nfor https://releases.openstack.org/constraints/upper/ URL\nin addition to branch or tag. This is heavily used by OSA to be sure\nthat every time role is runned under some release it will install\nthe same package versions.\nAnd to be consistent and use releases.openstack.org for contraints\nnot only in tox but in role itself this patch is needed.\n\nChange-Id: I1ce0af2ab2163ea1f154516229889b3cf8813ab6\n'}, {'number': 2, 'created': '2019-10-25 14:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ddae8882b063775de561bbf7dfc5ba52058d790a', 'message': 'Allow upper-constraints redirect based on SHA\n\nThis patch aims to make possible to provide SHA commit\nfor https://releases.openstack.org/constraints/upper/ URL\nin addition to branch or tag. This is heavily used by OSA to be sure\nthat every time role is runned under some release it will install\nthe same package versions.\nAnd to be consistent and use releases.openstack.org for contraints\nnot only in tox but in role itself this patch is needed.\n\nChange-Id: I1ce0af2ab2163ea1f154516229889b3cf8813ab6\n'}, {'number': 3, 'created': '2019-10-25 15:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4f08ce66caa48912b303ef11f8f33b24701ccfda', 'message': 'Allow upper-constraints redirect based on SHA\n\nThis patch aims to make possible to provide SHA commit\nfor https://releases.openstack.org/constraints/upper/ URL\nin addition to branch or tag. This is heavily used by OSA to be sure\nthat every time role is runned under some release it will install\nthe same package versions.\nAnd to be consistent and use releases.openstack.org for contraints\nnot only in tox but in role itself this patch is needed.\n\nChange-Id: I1ce0af2ab2163ea1f154516229889b3cf8813ab6\n'}, {'number': 4, 'created': '2019-10-28 14:31:32.000000000', 'files': ['doc/source/_templates/htaccess', 'doc/source/_templates/redirect-tests'], 'web_link': 'https://opendev.org/openstack/releases/commit/529190ddfaa182d2bbe086cb61fdb7a6913afbe2', 'message': 'Allow upper-constraints redirect based on SHA\n\nThis patch aims to make possible to provide SHA commit\nfor https://releases.openstack.org/constraints/upper/ URL\nin addition to branch or tag. This is heavily used by OSA to be sure\nthat every time role is runned under some release it will install\nthe same package versions.\nAnd to be consistent and use releases.openstack.org for contraints\nnot only in tox but in role itself this patch is needed.\n\nChange-Id: I1ce0af2ab2163ea1f154516229889b3cf8813ab6\n'}]",3,690940,529190ddfaa182d2bbe086cb61fdb7a6913afbe2,19,8,4,28619,,,0,"Allow upper-constraints redirect based on SHA

This patch aims to make possible to provide SHA commit
for https://releases.openstack.org/constraints/upper/ URL
in addition to branch or tag. This is heavily used by OSA to be sure
that every time role is runned under some release it will install
the same package versions.
And to be consistent and use releases.openstack.org for contraints
not only in tox but in role itself this patch is needed.

Change-Id: I1ce0af2ab2163ea1f154516229889b3cf8813ab6
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/690940/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_templates/htaccess', 'doc/source/_templates/redirect-tests']",2,a4ad6fe456a8ab6a7f3f4c1563d884269c2a2c5a,constraints-updates,constraints/upper/(\b[0-9a-f]{40}\b) https://opendev.org/openstack/requirements/raw/commit/$1/upper-constraints.txt,,2,0
openstack%2Fos-brick~stable%2Ftrain~Ifc4dee0a51bafd6aa9865ec66c46c10087daa667,openstack/os-brick,stable/train,Ifc4dee0a51bafd6aa9865ec66c46c10087daa667,Remove VxFlexOS connector external dependencies,MERGED,2019-10-29 18:01:38.000000000,2019-11-11 19:44:56.000000000,2019-11-11 19:43:49.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 14624}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31016}]","[{'number': 1, 'created': '2019-10-29 18:01:38.000000000', 'files': ['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/privileged/scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6a7b7a3a789ebaf4fca1a5febfc700e5be93b103', 'message': 'Remove VxFlexOS connector external dependencies\n\nThe OpenStack os-brick library uses hardcoded paths to binary files to\ninteract with the VxFlexOS SDC. This leads to problems when using\ncontainerized OpenStack (Kolla & Red Hat). Due to the fact that VxFlexOS\nSDC binary files has to be used inside containers (nova, cinder, etc.)\nthe overcloud deployment must be performed in 3 stages:\n  1) deploy overcloud without additional volume mounts\n  2) install the VxFlexOS client on the controller and compute nodes\n  3) update overcloud with additional volume mounts\n\nUsing these changes overcloud can be deployed without update step after\ninitial deployment since os-brick does not have external dependencies\nand uses python built-in libraries. The scini device through which the\nVxFlexOS client interacts is presented in the containers by default\nbecause /dev directory from the host is mounted in all containers.\n\nChange-Id: Ifc4dee0a51bafd6aa9865ec66c46c10087daa667\nCloses-Bug: #1846483\n(cherry picked from commit 2d694361fe66736c59ca96a2a54c368638445de6)\n'}]",0,691931,6a7b7a3a789ebaf4fca1a5febfc700e5be93b103,17,15,1,10379,,,0,"Remove VxFlexOS connector external dependencies

The OpenStack os-brick library uses hardcoded paths to binary files to
interact with the VxFlexOS SDC. This leads to problems when using
containerized OpenStack (Kolla & Red Hat). Due to the fact that VxFlexOS
SDC binary files has to be used inside containers (nova, cinder, etc.)
the overcloud deployment must be performed in 3 stages:
  1) deploy overcloud without additional volume mounts
  2) install the VxFlexOS client on the controller and compute nodes
  3) update overcloud with additional volume mounts

Using these changes overcloud can be deployed without update step after
initial deployment since os-brick does not have external dependencies
and uses python built-in libraries. The scini device through which the
VxFlexOS client interacts is presented in the containers by default
because /dev directory from the host is mounted in all containers.

Change-Id: Ifc4dee0a51bafd6aa9865ec66c46c10087daa667
Closes-Bug: #1846483
(cherry picked from commit 2d694361fe66736c59ca96a2a54c368638445de6)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/31/691931/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/privileged/scaleio.py']",3,6a7b7a3a789ebaf4fca1a5febfc700e5be93b103,bug/1846483,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from binascii import hexlify from contextlib import contextmanager from fcntl import ioctl import os import struct import uuid from os_brick import privileged SCINI_DEVICE_PATH = '/dev/scini' @contextmanager def open_scini_device(): """"""Open scini device for low-level I/O using contextmanager. File descriptor will be closed after all operations performed if it was opened successfully. :return: scini device file descriptor :rtype: int """""" fd = None try: fd = os.open(SCINI_DEVICE_PATH, os.O_RDWR) yield fd finally: if fd: os.close(fd) @privileged.default.entrypoint def get_guid(op_code): """"""Query ScaleIO sdc GUID via ioctl request. :param op_code: operational code :type op_code: int :return: ScaleIO sdc GUID :rtype: str """""" with open_scini_device() as fd: out = ioctl(fd, op_code, struct.pack('QQQ', 0, 0, 0)) # The first 8 bytes contain a return code that is not used # so they can be discarded. out_to_hex = hexlify(out[8:]).decode() return str(uuid.UUID(out_to_hex)) @privileged.default.entrypoint def rescan_vols(op_code): """"""Rescan ScaleIO volumes via ioctl request. :param op_code: operational code :type op_code: int """""" with open_scini_device() as fd: ioctl(fd, op_code, struct.pack('Q', 0)) ",,132,72
openstack%2Fswift~master~I8e9b1a9dad35469d2608a1f4944520c06cacca0d,openstack/swift,master,I8e9b1a9dad35469d2608a1f4944520c06cacca0d,Use internal delete_account in probe test,NEW,2019-11-08 02:50:15.000000000,2019-11-11 19:36:49.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 02:50:15.000000000', 'files': ['test/probe/common.py', 'test/probe/test_account_reaper.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5e031fb4319d17c6dd35db49590275f1258ec58f', 'message': 'Use internal delete_account in probe test\n\nChange-Id: I8e9b1a9dad35469d2608a1f4944520c06cacca0d\n'}]",5,693465,5e031fb4319d17c6dd35db49590275f1258ec58f,4,3,1,1179,,,0,"Use internal delete_account in probe test

Change-Id: I8e9b1a9dad35469d2608a1f4944520c06cacca0d
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/693465/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'test/probe/test_account_reaper.py']",2,5e031fb4319d17c6dd35db49590275f1258ec58f,,"from swift.common.direct_client import direct_get_object, \ direct_head_container, ClientException swift = self.make_internal_client(allow_account_management=True) swift.delete_account(self.account) conf = utils.readconf(conf_file, 'account-reaper') conf['delay_reaping'] = '3' account_reapers.append(reaper.AccountReaper(conf))","from swift.common.direct_client import direct_delete_account, \ direct_get_object, direct_head_container, ClientException part, nodes = self.account_ring.get_nodes(self.account) for node in nodes: direct_delete_account(node, part, self.account) conf = utils.readconf(conf_file, 'account-reaper') conf['delay_reaping'] = '3' account_reapers.append(reaper.AccountReaper(conf))",14,11
openstack%2Fkolla-ansible~stable%2Ftrain~Icb73caa50a306d013af511c5de003b279edecb62,openstack/kolla-ansible,stable/train,Icb73caa50a306d013af511c5de003b279edecb62,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-11-11 15:41:24.000000000,2019-11-11 19:20:22.000000000,2019-11-11 19:17:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-11 15:41:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0efbf8c2489337d5334df9e4f22177bfe0ea922a', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Icb73caa50a306d013af511c5de003b279edecb62\n'}]",0,693715,0efbf8c2489337d5334df9e4f22177bfe0ea922a,9,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Icb73caa50a306d013af511c5de003b279edecb62
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/693715/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0efbf8c2489337d5334df9e4f22177bfe0ea922a,create-train,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fkolla-ansible~stable%2Ftrain~I09d55e9fe5f2784b79d4b27ee5f1cdee5e327bc1,openstack/kolla-ansible,stable/train,I09d55e9fe5f2784b79d4b27ee5f1cdee5e327bc1,Update .gitreview for stable/train,MERGED,2019-11-11 15:41:18.000000000,2019-11-11 19:19:14.000000000,2019-11-11 19:17:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-11 15:41:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40178a974f806d1e3abceea6ebb3fee1a2b571eb', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I09d55e9fe5f2784b79d4b27ee5f1cdee5e327bc1\n'}]",0,693714,40178a974f806d1e3abceea6ebb3fee1a2b571eb,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I09d55e9fe5f2784b79d4b27ee5f1cdee5e327bc1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/693714/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,40178a974f806d1e3abceea6ebb3fee1a2b571eb,create-train,defaultbranch=stable/train,,1,0
openstack%2Fopenstack-ansible-os_zun~master~I69044a13106f16bbbef8ae83e79a08aa127a7d2a,openstack/openstack-ansible-os_zun,master,I69044a13106f16bbbef8ae83e79a08aa127a7d2a,Start using uWSGI role,MERGED,2019-11-07 14:13:45.000000000,2019-11-11 18:45:44.000000000,2019-11-11 18:43:57.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28543}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-07 14:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/21ae0db7b1d7f2cc17c62b2c6b20d7d327214fea', 'message': 'Start using uWSGI role\n\nMove service to use uWSGI role instead of internal python daemon.\nThis aims to unify deployments by using uwsgi for all services\napi which support using them as wsgi applications.\n\nChange-Id: I69044a13106f16bbbef8ae83e79a08aa127a7d2a\n'}, {'number': 2, 'created': '2019-11-07 14:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/d08b74bea78c594edff25283df40a51d2707c375', 'message': 'Start using uWSGI role\n\nMove service to use uWSGI role instead of internal python daemon.\nThis aims to unify deployments by using uwsgi for all services\napi which support using them as wsgi applications.\n\nChange-Id: I69044a13106f16bbbef8ae83e79a08aa127a7d2a\n'}, {'number': 3, 'created': '2019-11-07 14:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/0007c27d2d22400c5ea3bd6c63d6e1aa7ff2c53f', 'message': 'Start using uWSGI role\n\nMove service to use uWSGI role instead of internal python daemon.\nThis aims to unify deployments by using uwsgi for all services\napi which support using them as wsgi applications.\n\nChange-Id: I69044a13106f16bbbef8ae83e79a08aa127a7d2a\n'}, {'number': 4, 'created': '2019-11-07 15:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/204c3a3677fc7c2ee7be035a5d854eb58ffce726', 'message': 'Start using uWSGI role\n\nMove service to use uWSGI role instead of internal python daemon.\nThis aims to unify deployments by using uwsgi for all services\napi which support using them as wsgi applications.\n\nChange-Id: I69044a13106f16bbbef8ae83e79a08aa127a7d2a\n'}, {'number': 5, 'created': '2019-11-07 16:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/332f38fd88699eaa60cb98605afbfd4a513f3715', 'message': 'Start using uWSGI role\n\nMove service to use uWSGI role instead of internal python daemon.\nThis aims to unify deployments by using uwsgi for all services\napi which support using them as wsgi applications.\n\nChange-Id: I69044a13106f16bbbef8ae83e79a08aa127a7d2a\n'}, {'number': 6, 'created': '2019-11-08 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/ad166c95dc5d151a008f9cafe5ca87c24674cde2', 'message': 'Start using uWSGI role\n\nMove service to use uWSGI role instead of internal python daemon.\nThis aims to unify deployments by using uwsgi for all services\napi which support using them as wsgi applications.\n\nDepends-On: https://review.opendev.org/693528\nChange-Id: I69044a13106f16bbbef8ae83e79a08aa127a7d2a\n'}, {'number': 7, 'created': '2019-11-08 14:37:22.000000000', 'files': ['tasks/main.yml', 'tasks/zun_post_install.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/bc39aac81b58bf60a44ce051d1820fce44771a81', 'message': 'Start using uWSGI role\n\nMove service to use uWSGI role instead of internal python daemon.\nThis aims to unify deployments by using uwsgi for all services\napi which support using them as wsgi applications.\n\nDepends-On: https://review.opendev.org/693528\nChange-Id: I69044a13106f16bbbef8ae83e79a08aa127a7d2a\n'}]",0,693357,bc39aac81b58bf60a44ce051d1820fce44771a81,22,6,7,28619,,,0,"Start using uWSGI role

Move service to use uWSGI role instead of internal python daemon.
This aims to unify deployments by using uwsgi for all services
api which support using them as wsgi applications.

Depends-On: https://review.opendev.org/693528
Change-Id: I69044a13106f16bbbef8ae83e79a08aa127a7d2a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/57/693357/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/zun_post_install.yml', 'defaults/main.yml', 'vars/main.yml']",4,21ae0db7b1d7f2cc17c62b2c6b20d7d327214fea,simplify_configs," ('condition' in value and value['condition'])) and not ('wsgi_app' in value and value['wsgi_app']) %} uwsgi_zun_services: |- {% set services = {} %} {% for key, value in zun_services.items() %} {% if (value['group'] in group_names) and (('service_enabled' not in value) or ('service_enabled' in value and value['service_enabled'])) and ('wsgi_app' in value and value['wsgi_app']) %} {% set _ = value.update( { 'wsgi_venv': zun_bin | dirname, 'uwsgi_uid': zun_system_user_name, 'uwsgi_guid': zun_system_group_name, 'uwsgi_processes': zun_wsgi_processes, 'uwsgi_threads': zun_wsgi_threads, } ) %} {% set _ = services.update({key: value}) %} {% endif %} {% endfor %} {{ services }}", ('condition' in value and value['condition'])) %},46,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibd64ac1407333c1548261f9d2ae69cdf013e94ce,openstack/tripleo-heat-templates,stable/queens,Ibd64ac1407333c1548261f9d2ae69cdf013e94ce,Handle LP openvswitch meta-package on upgrade,MERGED,2019-10-22 15:51:04.000000000,2019-11-11 18:31:04.000000000,2019-11-11 18:31:04.000000000,"[{'_account_id': 6681}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-10-22 15:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/961d39d6cc3aac5454cab18d22e8b9524f900e07', 'message': 'Handle LP openvswitch meta-package on upgrade\n\nWith layered product packaging upgrading openvswitch may involve a\npackage rename of the openvswitch package (e.g. openvswitch to\nopenvswitch 2.10 or openvswitch2.12 to openvswitch2.13) This patch\nadds special handling for the rhosp-openvswitch layered product package\nto ensure that openvswitch networking remains available during the\nupgrade.\n\nNote that this patch also moves the special upgrade logic to\ntripleo-packages because it could affect any node that is running\nopenvswitch for host networking, not just those that are using it for\ncloud workloads.\n\nCloses-Bug: #1794359\n\nChange-Id: Ibd64ac1407333c1548261f9d2ae69cdf013e94ce\n(cherry picked from commit 1773afb0689c8fded9bce2dff4c1f8d9406c8294)\n(cherry picked from commit e81010375e847cbb58a88cd6f35643dfc0eec7f6)\n'}, {'number': 2, 'created': '2019-10-22 16:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58363b9844b496dddcce779393faf49046ac477c', 'message': 'Handle LP openvswitch meta-package on upgrade\n\nWith layered product packaging upgrading openvswitch may involve a\npackage rename of the openvswitch package (e.g. openvswitch to\nopenvswitch 2.10 or openvswitch2.12 to openvswitch2.13) This patch\nadds special handling for the rhosp-openvswitch layered product package\nto ensure that openvswitch networking remains available during the\nupgrade.\n\nNote that this patch also moves the special upgrade logic to\ntripleo-packages because it could affect any node that is running\nopenvswitch for host networking, not just those that are using it for\ncloud workloads.\n\nCloses-Bug: #1794359\n\nChange-Id: Ibd64ac1407333c1548261f9d2ae69cdf013e94ce\n(cherry picked from commit 1773afb0689c8fded9bce2dff4c1f8d9406c8294)\n(cherry picked from commit e81010375e847cbb58a88cd6f35643dfc0eec7f6)\n'}, {'number': 3, 'created': '2019-10-31 11:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2af87850ee07825a2812b27d3dc9e97f6170746', 'message': 'Handle LP openvswitch meta-package on upgrade\n\nWith layered product packaging upgrading openvswitch may involve a\npackage rename of the openvswitch package (e.g. openvswitch to\nopenvswitch 2.10 or openvswitch2.12 to openvswitch2.13) This patch\nadds special handling for the rhosp-openvswitch layered product package\nto ensure that openvswitch networking remains available during the\nupgrade.\n\nNote that this patch also moves the special upgrade logic to\ntripleo-packages because it could affect any node that is running\nopenvswitch for host networking, not just those that are using it for\ncloud workloads.\n\nCloses-Bug: #1794359\n\nChange-Id: Ibd64ac1407333c1548261f9d2ae69cdf013e94ce\n(cherry picked from commit 1773afb0689c8fded9bce2dff4c1f8d9406c8294)\n(cherry picked from commit e81010375e847cbb58a88cd6f35643dfc0eec7f6)\n'}, {'number': 4, 'created': '2019-11-04 16:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6da79ea5e6b0e552cc0e46664cb7e833287d10a', 'message': 'Handle LP openvswitch meta-package on upgrade\n\nWith layered product packaging upgrading openvswitch may involve a\npackage rename of the openvswitch package (e.g. openvswitch to\nopenvswitch 2.10 or openvswitch2.12 to openvswitch2.13) This patch\nadds special handling for the rhosp-openvswitch layered product package\nto ensure that openvswitch networking remains available during the\nupgrade.\n\nNote that this patch also moves the special upgrade logic to\ntripleo-packages because it could affect any node that is running\nopenvswitch for host networking, not just those that are using it for\ncloud workloads.\n\nCloses-Bug: #1794359\n\nChange-Id: Ibd64ac1407333c1548261f9d2ae69cdf013e94ce\n(cherry picked from commit 1773afb0689c8fded9bce2dff4c1f8d9406c8294)\n(cherry picked from commit e81010375e847cbb58a88cd6f35643dfc0eec7f6)\n'}, {'number': 5, 'created': '2019-11-05 05:56:08.000000000', 'files': ['puppet/services/neutron-ovs-agent.yaml', 'puppet/services/openvswitch.yaml', 'puppet/services/opendaylight-ovs.yaml', 'docker/services/neutron-ovs-agent.yaml', 'puppet/services/tripleo-packages.yaml', 'puppet/services/neutron-ovs-dpdk-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/789e7b96c42a62ccdbdcf13b79bbcf5410f875cf', 'message': 'Handle LP openvswitch meta-package on upgrade\n\nWith layered product packaging upgrading openvswitch may involve a\npackage rename of the openvswitch package (e.g. openvswitch to\nopenvswitch 2.10 or openvswitch2.12 to openvswitch2.13) This patch\nadds special handling for the rhosp-openvswitch layered product package\nto ensure that openvswitch networking remains available during the\nupgrade.\n\nNote that this patch also moves the special upgrade logic to\ntripleo-packages because it could affect any node that is running\nopenvswitch for host networking, not just those that are using it for\ncloud workloads.\n\nIncorporated I3a9f56217bb365b844acdf1d65776038c5bf9378 ansible fix.\n\nCloses-Bug: #1794359\n\nChange-Id: Ibd64ac1407333c1548261f9d2ae69cdf013e94ce\n(cherry picked from commit 1773afb0689c8fded9bce2dff4c1f8d9406c8294)\n(cherry picked from commit e81010375e847cbb58a88cd6f35643dfc0eec7f6)\n'}]",1,690114,789e7b96c42a62ccdbdcf13b79bbcf5410f875cf,33,8,5,18575,,,0,"Handle LP openvswitch meta-package on upgrade

With layered product packaging upgrading openvswitch may involve a
package rename of the openvswitch package (e.g. openvswitch to
openvswitch 2.10 or openvswitch2.12 to openvswitch2.13) This patch
adds special handling for the rhosp-openvswitch layered product package
to ensure that openvswitch networking remains available during the
upgrade.

Note that this patch also moves the special upgrade logic to
tripleo-packages because it could affect any node that is running
openvswitch for host networking, not just those that are using it for
cloud workloads.

Incorporated I3a9f56217bb365b844acdf1d65776038c5bf9378 ansible fix.

Closes-Bug: #1794359

Change-Id: Ibd64ac1407333c1548261f9d2ae69cdf013e94ce
(cherry picked from commit 1773afb0689c8fded9bce2dff4c1f8d9406c8294)
(cherry picked from commit e81010375e847cbb58a88cd6f35643dfc0eec7f6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/690114/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/neutron-ovs-agent.yaml', 'puppet/services/openvswitch.yaml', 'puppet/services/opendaylight-ovs.yaml', 'docker/services/neutron-ovs-agent.yaml', 'puppet/services/tripleo-packages.yaml', 'puppet/services/neutron-ovs-dpdk-agent.yaml']",6,961d39d6cc3aac5454cab18d22e8b9524f900e07,queens_upgrade_ovs2_11,," upgrade_tasks: get_attr: [Ovs, role_data, upgrade_tasks]",215,123
openstack%2Fpython-tripleoclient~master~I8bd9f4c4512279a291963d0b6df62316e7410f2b,openstack/python-tripleoclient,master,I8bd9f4c4512279a291963d0b6df62316e7410f2b,Drop Mistral support for the Validations CLI,MERGED,2019-11-06 13:07:16.000000000,2019-11-11 18:17:49.000000000,2019-11-11 18:16:06.000000000,"[{'_account_id': 3153}, {'_account_id': 9712}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-06 13:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e1fed938696826d368dd68e845dada95f8dc0589', 'message': 'Drop Mistral support for the Validations CLI\n\nThis patch removes the possibility to run the validations through the\nCLI with Mistral. Ansible is now the only way to run the validations.\n\nChange-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-11-06 13:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eaa9957a5b053f5dd0e94c05874d16227e208ac9', 'message': 'Drop Mistral support for the Validations CLI\n\nThis patch removes the possibility to run the validations through the\nCLI with Mistral. Ansible is now the only way to run the validations.\n\nChange-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-11-08 10:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4c8f0c2b22e89a5300930a2b4873d6acb431e640', 'message': 'Drop Mistral support for the Validations CLI\n\nThis patch removes the possibility to run the validations through the\nCLI with Mistral. Ansible is now the only way to run the validations.\n\nChange-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-11-08 12:38:56.000000000', 'files': ['tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/drop_mistral_support_for_the_validations_CLI-081bc5cd6e7db056.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c6616f8d96013bd5f5ccfec54e3eb2b37fd7884b', 'message': 'Drop Mistral support for the Validations CLI\n\nThis patch removes the possibility to run the validations through the\nCLI with Mistral. Ansible is now the only way to run the validations.\n\nChange-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,693176,c6616f8d96013bd5f5ccfec54e3eb2b37fd7884b,20,8,4,11491,,,0,"Drop Mistral support for the Validations CLI

This patch removes the possibility to run the validations through the
CLI with Mistral. Ansible is now the only way to run the validations.

Change-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/76/693176/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/drop_mistral_support_for_the_validations_CLI-081bc5cd6e7db056.yaml']",5,e1fed938696826d368dd68e845dada95f8dc0589,mistral-removal,--- deprecations: - | The TripleO Validator CLI doesn't support Mistral anymore for listing and running the Validations. Ansible is now the way to run them. fs ,,6,176
openstack%2Ftripleo-heat-templates~master~Id93a8637980276298c2b7d3f6d1e7c30f1c413be,openstack/tripleo-heat-templates,master,Id93a8637980276298c2b7d3f6d1e7c30f1c413be,Added the ability to disable Mellanox SDN sync,MERGED,2019-11-07 12:56:49.000000000,2019-11-11 18:16:10.000000000,2019-11-11 18:16:10.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 12171}, {'_account_id': 16690}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 12:56:49.000000000', 'files': ['deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'environments/neutron-ml2-mlnx-sdn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccf3f0b586baa689174226d51c9fe0ce970255ac', 'message': 'Added the ability to disable Mellanox SDN sync\n\nAdded the ability to disable Mellanox SDN sync by using param `MlnxSDNSyncEnabled`\nfrom file `neutron-ml2-mlnx-sdn.yaml`\n\nChange-Id: Id93a8637980276298c2b7d3f6d1e7c30f1c413be\n'}]",0,693348,ccf3f0b586baa689174226d51c9fe0ce970255ac,19,8,1,22948,,,0,"Added the ability to disable Mellanox SDN sync

Added the ability to disable Mellanox SDN sync by using param `MlnxSDNSyncEnabled`
from file `neutron-ml2-mlnx-sdn.yaml`

Change-Id: Id93a8637980276298c2b7d3f6d1e7c30f1c413be
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/693348/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'environments/neutron-ml2-mlnx-sdn.yaml']",2,ccf3f0b586baa689174226d51c9fe0ce970255ac,, MlnxSDNSyncEnabled: true,,5,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1d24dce0ff9c88380e8769593d619a9e4e944e40,openstack/tripleo-heat-templates,stable/train,I1d24dce0ff9c88380e8769593d619a9e4e944e40,Define ovn_dbs_image fact for upgrades.,MERGED,2019-11-08 07:06:18.000000000,2019-11-11 18:16:09.000000000,2019-11-11 18:16:09.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-08 07:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e9a0aa564239ca0593ee477c4a4d2a63a470c05', 'message': 'Define ovn_dbs_image fact for upgrades.\n\nThe ovn upgrade_tasks make use of a block which belongs\nto the update_tasks. In that block, the ovs_dbs_image\nvariable is being referenced. However, the fact is set\nin a step before the block invoked.\n\nThis patch sets ovn_dbs_image fact in step0 for upgrade\ntasks and fixes a small typo with the bundle.\n\nChange-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40\nCloses-Bug: #1851669\n(cherry picked from commit 460d4771a6be1b7aebc8c86263149e2835cad654)\n'}, {'number': 2, 'created': '2019-11-08 07:06:41.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06b12b33cbcbd74fe2f03720bd7eebd3d176225f', 'message': 'Define ovn_dbs_image fact for upgrades.\n\nThe ovn upgrade_tasks make use of a block which belongs\nto the update_tasks. In that block, the ovs_dbs_image\nvariable is being referenced. However, the fact is set\nin a step before the block invoked.\n\nThis patch sets ovn_dbs_image fact in step0 for upgrade\ntasks and fixes a small typo with the bundle.\n\nChange-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40\nCloses-Bug: #1851669\n(cherry picked from commit 460d4771a6be1b7aebc8c86263149e2835cad654)\n'}]",0,693489,06b12b33cbcbd74fe2f03720bd7eebd3d176225f,9,4,2,3153,,,0,"Define ovn_dbs_image fact for upgrades.

The ovn upgrade_tasks make use of a block which belongs
to the update_tasks. In that block, the ovs_dbs_image
variable is being referenced. However, the fact is set
in a step before the block invoked.

This patch sets ovn_dbs_image fact in step0 for upgrade
tasks and fixes a small typo with the bundle.

Change-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40
Closes-Bug: #1851669
(cherry picked from commit 460d4771a6be1b7aebc8c86263149e2835cad654)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/693489/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,6e9a0aa564239ca0593ee477c4a4d2a63a470c05,, ovn_dbs_image: {get_param: ContainerOvnDbsImage} resource: ovn-dbs-bundle, resource: ovn-dbs-bindle,2,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I354c2fedafb88bb363321d1338c39d479560fc3e,openstack/tripleo-heat-templates,stable/train,I354c2fedafb88bb363321d1338c39d479560fc3e,Fix typo in OVN upgrade tasks.,MERGED,2019-11-08 07:05:40.000000000,2019-11-11 18:16:07.000000000,2019-11-11 18:16:07.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-08 07:05:40.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18ce57ea87bbd5add443427c3be557c7808be3ac', 'message': 'Fix typo in OVN upgrade tasks.\n\nChange-Id: I354c2fedafb88bb363321d1338c39d479560fc3e\nCloses-Bug: #1851660\n(cherry picked from commit eda88f0c7142ae22d2b252956fcaf461eb7e99b6)\n'}]",0,693487,18ce57ea87bbd5add443427c3be557c7808be3ac,11,5,1,3153,,,0,"Fix typo in OVN upgrade tasks.

Change-Id: I354c2fedafb88bb363321d1338c39d479560fc3e
Closes-Bug: #1851660
(cherry picked from commit eda88f0c7142ae22d2b252956fcaf461eb7e99b6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/693487/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,18ce57ea87bbd5add443427c3be557c7808be3ac,," ovn_dbs_pcs_res: ""{{ ovn_dbs_pcs_result.rc == 0 }}"""," ovndbs_pcs_res: ""{{ ovn_dbs_pcs_result.rc == 0 }}""",1,1
openstack%2Foctavia~master~I79979198e6cb4ee8c6ad49a7b9bd8e4093cf1934,openstack/octavia,master,I79979198e6cb4ee8c6ad49a7b9bd8e4093cf1934,Fix typo in doc agent.py->agent,MERGED,2019-10-24 08:57:31.000000000,2019-11-11 17:44:59.000000000,2019-11-11 17:43:28.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28691}, {'_account_id': 29870}]","[{'number': 1, 'created': '2019-10-24 08:57:31.000000000', 'files': ['octavia/common/config.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/935567b84c05be6bd75df372a9de51d43267ab9a', 'message': 'Fix typo in doc agent.py->agent\n\nThis patch fix the wrong description of agent_server_cert\n\nChange-Id: I79979198e6cb4ee8c6ad49a7b9bd8e4093cf1934\nStory: 2006612\nTask: 36797\n'}]",0,690884,935567b84c05be6bd75df372a9de51d43267ab9a,11,6,1,30619,,,0,"Fix typo in doc agent.py->agent

This patch fix the wrong description of agent_server_cert

Change-Id: I79979198e6cb4ee8c6ad49a7b9bd8e4093cf1934
Story: 2006612
Task: 36797
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/690884/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/config.py'],1,935567b84c05be6bd75df372a9de51d43267ab9a,," help=_(""The server certificate for the agent server """," help=_(""The server certificate for the agent.py server """,1,1
openstack%2Fpython-tripleoclient~master~If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0,openstack/python-tripleoclient,master,If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0,Get rid of Mistral for running Validations by Groups,MERGED,2019-11-05 13:32:39.000000000,2019-11-11 17:44:05.000000000,2019-11-11 17:41:24.000000000,"[{'_account_id': 3153}, {'_account_id': 9712}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-05 13:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1aaa3a31e13a6c25c2084bf241cac0f74624598b', 'message': ""Get rid of Mistral for running Validations by Groups\n\nThe CLI doesn't depend on Mistral for running Validations anymore.\n\nChange-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-11-06 12:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1576090e09db1abdea55d6ff7db618fb06a1fee9', 'message': ""Get rid of Mistral for running Validations by Groups\n\nThe CLI doesn't depend on Mistral for running Validations anymore.\n\nChange-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2019-11-06 13:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/db36f2f335b81e3278ee225caa6fda24d0daa672', 'message': ""Get rid of Mistral for running Validations by Groups\n\nThe CLI doesn't depend on Mistral for running Validations anymore.\n\nChange-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 4, 'created': '2019-11-08 10:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ae7e39f96ec41cc7724d0cf1debe4ab93628d9be', 'message': ""Get rid of Mistral for running Validations by Groups\n\nThe CLI doesn't depend on Mistral for running Validations anymore.\n\nChange-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 5, 'created': '2019-11-08 12:38:56.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/db6aa7b4f3393aee7946d4f57eac6eff03e99453', 'message': ""Get rid of Mistral for running Validations by Groups\n\nThe CLI doesn't depend on Mistral for running Validations anymore.\n\nChange-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,693001,db6aa7b4f3393aee7946d4f57eac6eff03e99453,24,8,5,11491,,,0,"Get rid of Mistral for running Validations by Groups

The CLI doesn't depend on Mistral for running Validations anymore.

Change-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/01/693001/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,1aaa3a31e13a6c25c2084bf241cac0f74624598b,mistral-removal," output = oooutils.parse_all_validations_on_disk( constants.ANSIBLE_VALIDATION_DIR, parsed_args.group)"," clients = self.app.client_manager workflow_input = { ""group_names"": parsed_args.group } output = validations.list_validations( clients, workflow_input)",2,7
openstack%2Fpython-tripleoclient~master~I5730fb2e23775f1d666276b6b4d46bcb550fc928,openstack/python-tripleoclient,master,I5730fb2e23775f1d666276b6b4d46bcb550fc928,Get rid of Mistral for listing validations,MERGED,2019-11-04 14:15:41.000000000,2019-11-11 17:43:00.000000000,2019-11-11 17:41:24.000000000,"[{'_account_id': 3153}, {'_account_id': 9712}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-04 14:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f978d1707e280f7c9da0a4869d87de7ee007ee90', 'message': '[WIP] Get rid of Mistral for listing validations\n\nDo not merge, it works but still dirty and experimental\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-11-05 11:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7b3d477fdcf58a3b7531ce107e6ec0ad89ca974', 'message': '[WIP] Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster.\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-11-05 11:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4536a2f34e99e8e9397a0bfbd1c0f7141dc46d9', 'message': '[WIP] Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster.\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-11-05 13:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e0b2df2043a1756f462ff4934962893ce8683a4', 'message': 'Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster:\n- ~6s with Mistral\n- ~1.3s w/o Mistral\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-11-05 13:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/027d1d28b56060fcb9258c9d2bd7334b7f86ad4e', 'message': 'Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster:\n- ~6s with Mistral\n- ~1.3s w/o Mistral\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-11-06 12:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/736acfb8ce51833b35aab371ed0b9f1a1be4e2fe', 'message': 'Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster:\n- ~6s with Mistral\n- ~1.3s w/o Mistral\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2019-11-06 13:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a0095aff4cd7334337b54c7575e6713c7c5a6bce', 'message': 'Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster:\n- ~6s with Mistral\n- ~1.3s w/o Mistral\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 8, 'created': '2019-11-08 10:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a7d1edcd052a2461a85177daf26fe0b5b19aade9', 'message': 'Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster:\n- ~6s with Mistral\n- ~1.3s w/o Mistral\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 9, 'created': '2019-11-08 12:38:56.000000000', 'files': ['tripleoclient/tests/workflows/test_validations.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/workflows/validations.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'releasenotes/notes/get_rid_of_mistral_for_listing_validations-1e9dedf33675f1d6.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/746b97f19a67989f200365fa9ffc3df569091f2f', 'message': 'Get rid of Mistral for listing validations\n\nUntil now, we were using Mistral to get all the validations available on\nthe Undercloud. This patch drops the Mistral support for the validations\nlisting through the CLI and will parse them directly on the filesystem\ninstead of parsing from the *tripleo-validations* Swift container.\n\nThis change makes the CLI faster:\n- ~6s with Mistral\n- ~1.3s w/o Mistral\n\nChange-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",4,692823,746b97f19a67989f200365fa9ffc3df569091f2f,37,9,9,11491,,,0,"Get rid of Mistral for listing validations

Until now, we were using Mistral to get all the validations available on
the Undercloud. This patch drops the Mistral support for the validations
listing through the CLI and will parse them directly on the filesystem
instead of parsing from the *tripleo-validations* Swift container.

This change makes the CLI faster:
- ~6s with Mistral
- ~1.3s w/o Mistral

Change-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/23/692823/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,f978d1707e280f7c9da0a4869d87de7ee007ee90,mistral-removal,"import globimport yamlDEFAULT_METADATA = { 'name': 'Unnamed', 'description': 'No description', 'stage': 'No stage', 'groups': [], } def _get_validation_metadata(self, validation, key): try: return validation[0]['vars']['metadata'][key] except KeyError: return DEFAULT_METADATA.get(key) except TypeError: LOG.exception(""Failed to get validation metadata."") def _get_validation_parameters(self, validation): try: return { k: v for k, v in validation[0]['vars'].items() if k != 'metadata' } except KeyError: return dict() def _run_validator_list(self, parsed_args): results = [] gc_val_files = glob.glob( ""%s/*.yaml"" % constants.ANSIBLE_VALIDATION_DIR) for pp in gc_val_files: validation_id, ext = os.path.splitext(os.path.basename(pp)) with open(pp, 'r') as gc_val: contents = yaml.safe_load(gc_val) results.append({ 'id': validation_id, 'name': self._get_validation_metadata(contents, 'name'), 'groups': self._get_validation_metadata(contents, 'groups'), 'description': self._get_validation_metadata(contents, 'description'), 'parameters': self._get_validation_parameters(contents) }) {'validations': results}, {'validations': results}) {'validations': results}) {'validations': results})"," def _run_validator_list(self, parsed_args): clients = self.app.client_manager workflow_input = { ""group_names"": parsed_args.group } output = validations.list_validations(clients, workflow_input) {'validations': output}, {'validations': output}) {'validations': output}) {'validations': output})",50,11
openstack%2Ftripleo-heat-templates~master~Ied2543e7aa9646eec83f168e862b281f59720b9a,openstack/tripleo-heat-templates,master,Ied2543e7aa9646eec83f168e862b281f59720b9a,Remove odl in ComputeSriovIB,MERGED,2019-11-10 18:33:26.000000000,2019-11-11 17:37:40.000000000,2019-11-11 17:36:07.000000000,"[{'_account_id': 12171}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-10 18:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f05c32d9e56dfbb2b0f5a1fc4c844be80c3485b', 'message': 'Remove odl in ComputeSriovIB\n\nChange-Id: Ied2543e7aa9646eec83f168e862b281f59720b9a\n'}, {'number': 2, 'created': '2019-11-10 18:35:36.000000000', 'files': ['roles/ComputeSriovIB.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a10389fbaee96b500582f06e423ff301c5440ab', 'message': 'Remove odl in ComputeSriovIB\n\nChange-Id: Ied2543e7aa9646eec83f168e862b281f59720b9a\n'}]",0,693638,8a10389fbaee96b500582f06e423ff301c5440ab,10,6,2,16690,,,0,"Remove odl in ComputeSriovIB

Change-Id: Ied2543e7aa9646eec83f168e862b281f59720b9a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/693638/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,1f05c32d9e56dfbb2b0f5a1fc4c844be80c3485b,remove odl,,,0,0
openstack%2Fopenstack-ansible~stable%2Fstein~I06cf7fa01b5406222356aa133123bf7a1b04c0b7,openstack/openstack-ansible,stable/stein,I06cf7fa01b5406222356aa133123bf7a1b04c0b7,Fix requirements_git_url call,MERGED,2019-11-08 17:45:21.000000000,2019-11-11 17:28:42.000000000,2019-11-11 17:26:48.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-08 17:45:21.000000000', 'files': ['playbooks/utility-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/085604aeafe8118769b351ec3cb391776c2640ee', 'message': 'Fix requirements_git_url call\n\nrequirements_git_url is the full url to upper-constraints.txt.\n\nChange-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7\nClose-Bug: 1851379\n(cherry picked from commit e5a6a1416f1547a2dce283b74af8457c3a22f5a3)\n'}]",0,693566,085604aeafe8118769b351ec3cb391776c2640ee,12,5,1,23182,,,0,"Fix requirements_git_url call

requirements_git_url is the full url to upper-constraints.txt.

Change-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7
Close-Bug: 1851379
(cherry picked from commit e5a6a1416f1547a2dce283b74af8457c3a22f5a3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/693566/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/utility-install.yml'],1,085604aeafe8118769b351ec3cb391776c2640ee,bug/1851379-stable/train-stable/stein," utility_upper_constraints_url: ""{{ requirements_git_url | default('https://opendev.org/openstack/requirements/raw/' ~ requirements_git_install_branch | default('master') ~ '/upper-constraints.txt') }}"""," utility_upper_constraints_url: ""{{ requirements_git_url | default('https://opendev.org/openstack/requirements/raw/' ~ requirements_git_install_branch | default('master')) ~ '/upper-constraints.txt' }}""",1,1
openstack%2Fopenstack-ansible~stable%2Ftrain~If40e2aa07af9ae3099aeb8f1c58388765d3ddd33,openstack/openstack-ansible,stable/train,If40e2aa07af9ae3099aeb8f1c58388765d3ddd33,Add support to deploy murano,MERGED,2019-10-31 12:45:12.000000000,2019-11-11 17:18:59.000000000,2019-11-11 17:17:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-10-31 12:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ba100d9cc062ebdc56307530da7e52e3e4ee4f11', 'message': 'Add support to deploy murano\n\nDepends-On: https://review.opendev.org/692361\nChange-Id: If40e2aa07af9ae3099aeb8f1c58388765d3ddd33\n(cherry picked from commit 0ff6e1fb34e12c4e1e217b401b3ba455d35ed146)\n'}, {'number': 2, 'created': '2019-11-01 14:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad9cc2c7bcdaf62db62d45d4707fa62523011129', 'message': 'Add support to deploy murano\n\nDepends-On: https://review.opendev.org/692361\nChange-Id: If40e2aa07af9ae3099aeb8f1c58388765d3ddd33\n(cherry picked from commit 0ff6e1fb34e12c4e1e217b401b3ba455d35ed146)\n'}, {'number': 3, 'created': '2019-11-01 15:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b08ff545e6292624998ac20ccd5fcfcf943bb5b', 'message': 'Add support to deploy murano\n\nDepends-On: https://review.opendev.org/692361\nChange-Id: If40e2aa07af9ae3099aeb8f1c58388765d3ddd33\n(cherry picked from commit 0ff6e1fb34e12c4e1e217b401b3ba455d35ed146)\n'}, {'number': 4, 'created': '2019-11-01 15:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b60175bcdead7aa4e7235f21d528f77f9b692e51', 'message': 'Add support to deploy murano\n\nDepends-On: https://review.opendev.org/692361\nChange-Id: If40e2aa07af9ae3099aeb8f1c58388765d3ddd33\n(cherry picked from commit 0ff6e1fb34e12c4e1e217b401b3ba455d35ed146)\n'}, {'number': 5, 'created': '2019-11-01 15:09:13.000000000', 'files': ['playbooks/defaults/distro_install.yml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'etc/openstack_deploy/conf.d/murano.yml.aio', 'playbooks/os-murano-install.yml', 'tests/roles/bootstrap-host/templates/user_variables_murano.yml.j2', 'ansible-role-requirements.yml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'etc/openstack_deploy/conf.d/murano.yml.example', 'inventory/env.d/murano.yml', 'etc/openstack_deploy/user_secrets.yml', 'releasenotes/notes/add-murano-to-repo-ffsdgsdhgb332', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/inventory.ini', 'etc/openstack_deploy/env.d/aio_metal.yml.example', 'playbooks/setup-openstack.yml', 'inventory/group_vars/murano_all.yml', 'tests/test_inventory.py', 'tests/roles/bootstrap-host/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b977cdb99d3f15f76772b5d9846e000d8fa12885', 'message': 'Add support to deploy murano\n\nDepends-On: https://review.opendev.org/692361\nChange-Id: If40e2aa07af9ae3099aeb8f1c58388765d3ddd33\n(cherry picked from commit 0ff6e1fb34e12c4e1e217b401b3ba455d35ed146)\n'}]",0,692362,b977cdb99d3f15f76772b5d9846e000d8fa12885,16,4,5,28619,,,0,"Add support to deploy murano

Depends-On: https://review.opendev.org/692361
Change-Id: If40e2aa07af9ae3099aeb8f1c58388765d3ddd33
(cherry picked from commit 0ff6e1fb34e12c4e1e217b401b3ba455d35ed146)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/692362/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/distro_install.yml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'etc/openstack_deploy/conf.d/murano.yml.aio', 'playbooks/os-murano-install.yml', 'tests/roles/bootstrap-host/templates/user_variables_murano.yml.j2', 'ansible-role-requirements.yml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'etc/openstack_deploy/conf.d/murano.yml.example', 'inventory/env.d/murano.yml', 'etc/openstack_deploy/user_secrets.yml', 'releasenotes/notes/add-murano-to-repo-ffsdgsdhgb332', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/inventory.ini', 'etc/openstack_deploy/env.d/aio_metal.yml.example', 'playbooks/setup-openstack.yml', 'inventory/group_vars/murano_all.yml', 'tests/test_inventory.py', 'tests/roles/bootstrap-host/vars/main.yml']",18,ba100d9cc062ebdc56307530da7e52e3e4ee4f11,os_murano-stable/train, {% if 'murano' in bootstrap_host_scenarios %} {% set _ = scenario_list.extend(['heat']) %} {% endif %},,201,0
openstack%2Fansible-role-uwsgi~master~Ida62331721ac69fa622bef98872e22ac5fbca500,openstack/ansible-role-uwsgi,master,Ida62331721ac69fa622bef98872e22ac5fbca500,Allow to define wsgi module instead of wsgi file,MERGED,2019-11-08 11:53:57.000000000,2019-11-11 17:08:54.000000000,2019-11-11 17:07:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-08 11:53:57.000000000', 'files': ['templates/uwsgi.ini.j2'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/a6aad9aefa6d6fe9782967e4f5d946e57d32b261', 'message': 'Allow to define wsgi module instead of wsgi file\n\nChange-Id: Ida62331721ac69fa622bef98872e22ac5fbca500\n'}]",0,693528,a6aad9aefa6d6fe9782967e4f5d946e57d32b261,8,3,1,28619,,,0,"Allow to define wsgi module instead of wsgi file

Change-Id: Ida62331721ac69fa622bef98872e22ac5fbca500
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/28/693528/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/uwsgi.ini.j2'],1,a6aad9aefa6d6fe9782967e4f5d946e57d32b261,,{% if 'wsgi_path' in item.value %}{% elif 'wsgi' in item.value %} wsgi = {{ item.value.wsgi }} {% endif %},,4,0
openstack%2Foslo.messaging~master~If9885a1f064226909181d8b69241eb814deb2105,openstack/oslo.messaging,master,If9885a1f064226909181d8b69241eb814deb2105,tox: Keeping going with docs,MERGED,2019-10-24 06:11:08.000000000,2019-11-11 17:05:12.000000000,2019-11-11 17:03:36.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 06:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d9ee83a564e87afea502df3045b7be6790e22575', 'message': 'tox: Keeping going with docs\n\nChange-Id: If9885a1f064226909181d8b69241eb814deb2105\n'}, {'number': 2, 'created': '2019-10-24 06:22:39.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1e7a0c6fbb9782b7fc0216430e3a84e9249014f4', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: If9885a1f064226909181d8b69241eb814deb2105\n""}]",0,690832,1e7a0c6fbb9782b7fc0216430e3a84e9249014f4,14,7,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: If9885a1f064226909181d8b69241eb814deb2105
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/32/690832/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,d9ee83a564e87afea502df3045b7be6790e22575,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Ftaskflow~master~I6cb830300a14b775b7744139554240eadd914e03,openstack/taskflow,master,I6cb830300a14b775b7744139554240eadd914e03,Switch to Ussuri jobs,MERGED,2019-10-25 03:02:41.000000000,2019-11-11 16:54:59.000000000,2019-11-11 16:52:26.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-25 03:02:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/471b37c3aceb9847a0b7b6379397a551a053fc12', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I6cb830300a14b775b7744139554240eadd914e03\n'}]",0,691164,471b37c3aceb9847a0b7b6379397a551a053fc12,8,3,1,30092,,,0,"Switch to Ussuri jobs

Change-Id: I6cb830300a14b775b7744139554240eadd914e03
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/64/691164/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,471b37c3aceb9847a0b7b6379397a551a053fc12,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foctavia~stable%2Fstein~I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,openstack/octavia,stable/stein,I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,Fix issues with unavailable secrets,MERGED,2019-10-28 15:28:13.000000000,2019-11-11 16:49:57.000000000,2019-11-11 16:47:45.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 15:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8abc249ff309ea24aa17653e08fd2788b9236129', 'message': 'Fix issues with unavailable secrets\n\nPreviously, if a secret became unavailable in barbican, the user saw\na generic error raised from the barbican client and was unable to delete\nload balancer resources. This patch corrects both of those issues.\n\nChange-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d\nStory: 2006676\nTask: 37012\nTask: 37077\n(cherry picked from commit 7fcef817eca3ad177460ee6976633f3dbd078cf2)\n'}, {'number': 2, 'created': '2019-10-28 15:48:00.000000000', 'files': ['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bfa553925c22b637a11b4cbf567919d0edcb9203', 'message': 'Fix issues with unavailable secrets\n\nPreviously, if a secret became unavailable in barbican, the user saw\na generic error raised from the barbican client and was unable to delete\nload balancer resources. This patch corrects both of those issues.\n\nChange-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d\nStory: 2006676\nTask: 37012\nTask: 37077\n(cherry picked from commit 7fcef817eca3ad177460ee6976633f3dbd078cf2)\n'}]",0,691693,bfa553925c22b637a11b4cbf567919d0edcb9203,10,4,2,11628,,,0,"Fix issues with unavailable secrets

Previously, if a secret became unavailable in barbican, the user saw
a generic error raised from the barbican client and was unable to delete
load balancer resources. This patch corrects both of those issues.

Change-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d
Story: 2006676
Task: 37012
Task: 37077
(cherry picked from commit 7fcef817eca3ad177460ee6976633f3dbd078cf2)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/691693/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py', 'octavia/api/drivers/utils.py']",9,8abc249ff309ea24aa17653e08fd2788b9236129,,"from oslo_utils import excutilsdef lb_dict_to_provider_dict(lb_dict, vip=None, db_pools=None, db_listeners=None, for_delete=False): new_lb_dict['pools'] = db_pools_to_provider_pools( db_pools, for_delete=for_delete) db_listeners, for_delete=for_delete)def db_loadbalancer_to_provider_loadbalancer(db_loadbalancer, for_delete=False): db_listeners=db_loadbalancer.listeners, for_delete=for_delete)def db_listeners_to_provider_listeners(db_listeners, for_delete=False): provider_listener = db_listener_to_provider_listener( listener, for_delete=for_delete)def db_listener_to_provider_listener(db_listener, for_delete=False): db_listener.to_dict(recurse=True), for_delete=for_delete) provider_pool = db_pool_to_provider_pool(db_listener.default_pool, for_delete=for_delete)def _get_secret_data(cert_manager, project_id, secret_ref, for_delete=False): try: secret_data = cert_manager.get_secret(context, secret_ref) except Exception as e: LOG.warning('Unable to retrieve certificate: %s due to %s.', secret_ref, str(e)) if for_delete: secret_data = None else: raise exceptions.CertificateRetrievalException(ref=secret_ref) return secret_data def listener_dict_to_provider_dict(listener_dict, for_delete=False): new_listener_dict = _base_to_provider_dict(listener_dict, include_project_id=True) try: cert_dict = cert_parser.load_certificates_data(cert_manager, listener_obj) except Exception as e: with excutils.save_and_reraise_exception() as ctxt: LOG.warning('Unable to retrieve certificate(s) due to %s.', str(e)) if for_delete: ctxt.reraise = False cert_dict = {} new_listener_dict['default_pool'] = pool_dict_to_provider_dict( pool, for_delete=for_delete)def db_pools_to_provider_pools(db_pools, for_delete=False): provider_pools.append(db_pool_to_provider_pool(pool, for_delete=for_delete))def db_pool_to_provider_pool(db_pool, for_delete=False): new_pool_dict = pool_dict_to_provider_dict(db_pool.to_dict(recurse=True), for_delete=for_delete)def pool_dict_to_provider_dict(pool_dict, for_delete=False): new_pool_dict = _base_to_provider_dict(pool_dict, include_project_id=True) try: cert_dict = cert_parser.load_certificates_data(cert_manager, pool_obj) except Exception as e: with excutils.save_and_reraise_exception() as ctxt: LOG.warning('Unable to retrieve certificate(s) due to %s.', str(e)) if for_delete: ctxt.reraise = False cert_dict = {}","def lb_dict_to_provider_dict(lb_dict, vip=None, db_pools=None, db_listeners=None): new_lb_dict['pools'] = db_pools_to_provider_pools(db_pools) db_listeners)def db_loadbalancer_to_provider_loadbalancer(db_loadbalancer): db_listeners=db_loadbalancer.listeners)def db_listeners_to_provider_listeners(db_listeners): provider_listener = db_listener_to_provider_listener(listener)def db_listener_to_provider_listener(db_listener): db_listener.to_dict(recurse=True)) provider_pool = db_pool_to_provider_pool(db_listener.default_pool)def _get_secret_data(cert_manager, project_id, secret_ref): return cert_manager.get_secret(context, secret_ref) def listener_dict_to_provider_dict(listener_dict): new_listener_dict = _base_to_provider_dict(listener_dict) cert_dict = cert_parser.load_certificates_data(cert_manager, listener_obj) new_listener_dict['default_pool'] = pool_dict_to_provider_dict(pool)def db_pools_to_provider_pools(db_pools): provider_pools.append(db_pool_to_provider_pool(pool))def db_pool_to_provider_pool(db_pool): new_pool_dict = pool_dict_to_provider_dict(db_pool.to_dict(recurse=True))def pool_dict_to_provider_dict(pool_dict): new_pool_dict = _base_to_provider_dict(pool_dict) cert_dict = cert_parser.load_certificates_data(cert_manager, pool_obj)",259,38
openstack%2Foctavia~stable%2Ftrain~I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,openstack/octavia,stable/train,I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,Fix issues with unavailable secrets,MERGED,2019-10-24 14:30:56.000000000,2019-11-11 16:49:57.000000000,2019-11-11 16:47:38.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 14:30:56.000000000', 'files': ['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2fd3f6ef64ffa4e843a8e41b33c7d6171cf7e49c', 'message': 'Fix issues with unavailable secrets\n\nPreviously, if a secret became unavailable in barbican, the user saw\na generic error raised from the barbican client and was unable to delete\nload balancer resources. This patch corrects both of those issues.\n\nChange-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d\nStory: 2006676\nTask: 37012\nTask: 37077\n(cherry picked from commit 7fcef817eca3ad177460ee6976633f3dbd078cf2)\n'}]",0,690984,2fd3f6ef64ffa4e843a8e41b33c7d6171cf7e49c,11,4,1,11628,,,0,"Fix issues with unavailable secrets

Previously, if a secret became unavailable in barbican, the user saw
a generic error raised from the barbican client and was unable to delete
load balancer resources. This patch corrects both of those issues.

Change-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d
Story: 2006676
Task: 37012
Task: 37077
(cherry picked from commit 7fcef817eca3ad177460ee6976633f3dbd078cf2)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/690984/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py', 'octavia/api/drivers/utils.py']",9,2fd3f6ef64ffa4e843a8e41b33c7d6171cf7e49c,,"from oslo_utils import excutilsdef lb_dict_to_provider_dict(lb_dict, vip=None, db_pools=None, db_listeners=None, for_delete=False): new_lb_dict['pools'] = db_pools_to_provider_pools( db_pools, for_delete=for_delete) db_listeners, for_delete=for_delete)def db_loadbalancer_to_provider_loadbalancer(db_loadbalancer, for_delete=False): db_listeners=db_loadbalancer.listeners, for_delete=for_delete)def db_listeners_to_provider_listeners(db_listeners, for_delete=False): provider_listener = db_listener_to_provider_listener( listener, for_delete=for_delete)def db_listener_to_provider_listener(db_listener, for_delete=False): db_listener.to_dict(recurse=True), for_delete=for_delete) provider_pool = db_pool_to_provider_pool(db_listener.default_pool, for_delete=for_delete)def _get_secret_data(cert_manager, project_id, secret_ref, for_delete=False): try: secret_data = cert_manager.get_secret(context, secret_ref) except Exception as e: LOG.warning('Unable to retrieve certificate: %s due to %s.', secret_ref, str(e)) if for_delete: secret_data = None else: raise exceptions.CertificateRetrievalException(ref=secret_ref) return secret_data def listener_dict_to_provider_dict(listener_dict, for_delete=False): try: cert_dict = cert_parser.load_certificates_data(cert_manager, listener_obj) except Exception as e: with excutils.save_and_reraise_exception() as ctxt: LOG.warning('Unable to retrieve certificate(s) due to %s.', str(e)) if for_delete: ctxt.reraise = False cert_dict = {} new_listener_dict['default_pool'] = pool_dict_to_provider_dict( pool, for_delete=for_delete)def db_pools_to_provider_pools(db_pools, for_delete=False): provider_pools.append(db_pool_to_provider_pool(pool, for_delete=for_delete))def db_pool_to_provider_pool(db_pool, for_delete=False): new_pool_dict = pool_dict_to_provider_dict(db_pool.to_dict(recurse=True), for_delete=for_delete)def pool_dict_to_provider_dict(pool_dict, for_delete=False): try: cert_dict = cert_parser.load_certificates_data(cert_manager, pool_obj) except Exception as e: with excutils.save_and_reraise_exception() as ctxt: LOG.warning('Unable to retrieve certificate(s) due to %s.', str(e)) if for_delete: ctxt.reraise = False cert_dict = {}","def lb_dict_to_provider_dict(lb_dict, vip=None, db_pools=None, db_listeners=None): new_lb_dict['pools'] = db_pools_to_provider_pools(db_pools) db_listeners)def db_loadbalancer_to_provider_loadbalancer(db_loadbalancer): db_listeners=db_loadbalancer.listeners)def db_listeners_to_provider_listeners(db_listeners): provider_listener = db_listener_to_provider_listener(listener)def db_listener_to_provider_listener(db_listener): db_listener.to_dict(recurse=True)) provider_pool = db_pool_to_provider_pool(db_listener.default_pool)def _get_secret_data(cert_manager, project_id, secret_ref): return cert_manager.get_secret(context, secret_ref) def listener_dict_to_provider_dict(listener_dict): cert_dict = cert_parser.load_certificates_data(cert_manager, listener_obj) new_listener_dict['default_pool'] = pool_dict_to_provider_dict(pool)def db_pools_to_provider_pools(db_pools): provider_pools.append(db_pool_to_provider_pool(pool))def db_pool_to_provider_pool(db_pool): new_pool_dict = pool_dict_to_provider_dict(db_pool.to_dict(recurse=True))def pool_dict_to_provider_dict(pool_dict): cert_dict = cert_parser.load_certificates_data(cert_manager, pool_obj)",254,36
openstack%2Fkolla-ansible~master~I7cc8f7853d49a22be6cc04312366a811c0d2799c,openstack/kolla-ansible,master,I7cc8f7853d49a22be6cc04312366a811c0d2799c,Update master for stable/train,MERGED,2019-11-11 15:41:29.000000000,2019-11-11 16:38:27.000000000,2019-11-11 16:36:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-11 15:41:29.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0dc4af9bce991f2302a11e6de3355eeda75b307d', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I7cc8f7853d49a22be6cc04312366a811c0d2799c\nSem-Ver: feature\n'}]",0,693716,0dc4af9bce991f2302a11e6de3355eeda75b307d,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I7cc8f7853d49a22be6cc04312366a811c0d2799c
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/693716/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,0dc4af9bce991f2302a11e6de3355eeda75b307d,reno-train, train,,7,0
openstack%2Fkolla-ansible~stable%2Frocky~I600891a15244ce705861f6ec93eec1d5ba83c1b8,openstack/kolla-ansible,stable/rocky,I600891a15244ce705861f6ec93eec1d5ba83c1b8,Fix swift.conf custom configuration path collision,MERGED,2019-11-05 14:43:16.000000000,2019-11-11 16:36:45.000000000,2019-11-11 16:34:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-05 14:43:16.000000000', 'files': ['ansible/roles/swift/tasks/config.yml', 'releasenotes/notes/fix-swift-conf-collision-ee98d09a91c270bd.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc12f502a5ddcfb52a9fc1a981d1cf04a94fd579', 'message': 'Fix swift.conf custom configuration path collision\n\nBoth swift.conf and proxy-server.conf are affected be\n/etc/kolla/config/swift/proxy-server.conf. However, some options in\nproxy-server.conf are not valid in swift.conf.\n\nThis change keeps this path for proxy-server.conf, but modifies the path\nfor swift.conf to /etc/kolla/config/swift/proxy-server/swift.conf. The\nsame applies for other services, object-*, account-*, container-*.\n\nChange-Id: I600891a15244ce705861f6ec93eec1d5ba83c1b8\nCloses-Bug: #1849265\n(cherry picked from commit 86ccefc6233c52a083ccdbec23011d528a999964)\n'}]",0,693021,cc12f502a5ddcfb52a9fc1a981d1cf04a94fd579,10,4,1,14826,,,0,"Fix swift.conf custom configuration path collision

Both swift.conf and proxy-server.conf are affected be
/etc/kolla/config/swift/proxy-server.conf. However, some options in
proxy-server.conf are not valid in swift.conf.

This change keeps this path for proxy-server.conf, but modifies the path
for swift.conf to /etc/kolla/config/swift/proxy-server/swift.conf. The
same applies for other services, object-*, account-*, container-*.

Change-Id: I600891a15244ce705861f6ec93eec1d5ba83c1b8
Closes-Bug: #1849265
(cherry picked from commit 86ccefc6233c52a083ccdbec23011d528a999964)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/693021/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/tasks/config.yml', 'releasenotes/notes/fix-swift-conf-collision-ee98d09a91c270bd.yaml']",2,cc12f502a5ddcfb52a9fc1a981d1cf04a94fd579,bug/1849265-stable/rocky,"--- upgrade: - | Modifies the path for custom configuration of ``swift.conf`` from ``/etc/kolla/config/swift/<service>.conf`` to ``/etc/kolla/config/swift/<service>/swift.conf``, to avoid a collision with custom configuration for ``<service>.conf``. Here, ``<service>`` may be ``proxy-server``, ``account-*``, ``container-*`` or ``object-*``. ",,10,2
openstack%2Fkolla-ansible~stable%2Fstein~I600891a15244ce705861f6ec93eec1d5ba83c1b8,openstack/kolla-ansible,stable/stein,I600891a15244ce705861f6ec93eec1d5ba83c1b8,Fix swift.conf custom configuration path collision,MERGED,2019-11-05 14:43:06.000000000,2019-11-11 16:35:47.000000000,2019-11-11 16:34:30.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-05 14:43:06.000000000', 'files': ['ansible/roles/swift/tasks/config.yml', 'releasenotes/notes/fix-swift-conf-collision-ee98d09a91c270bd.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2ee470bbe31c43022053045b295e0a32951146e5', 'message': 'Fix swift.conf custom configuration path collision\n\nBoth swift.conf and proxy-server.conf are affected be\n/etc/kolla/config/swift/proxy-server.conf. However, some options in\nproxy-server.conf are not valid in swift.conf.\n\nThis change keeps this path for proxy-server.conf, but modifies the path\nfor swift.conf to /etc/kolla/config/swift/proxy-server/swift.conf. The\nsame applies for other services, object-*, account-*, container-*.\n\nChange-Id: I600891a15244ce705861f6ec93eec1d5ba83c1b8\nCloses-Bug: #1849265\n(cherry picked from commit 86ccefc6233c52a083ccdbec23011d528a999964)\n'}]",0,693020,2ee470bbe31c43022053045b295e0a32951146e5,8,3,1,14826,,,0,"Fix swift.conf custom configuration path collision

Both swift.conf and proxy-server.conf are affected be
/etc/kolla/config/swift/proxy-server.conf. However, some options in
proxy-server.conf are not valid in swift.conf.

This change keeps this path for proxy-server.conf, but modifies the path
for swift.conf to /etc/kolla/config/swift/proxy-server/swift.conf. The
same applies for other services, object-*, account-*, container-*.

Change-Id: I600891a15244ce705861f6ec93eec1d5ba83c1b8
Closes-Bug: #1849265
(cherry picked from commit 86ccefc6233c52a083ccdbec23011d528a999964)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/693020/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/tasks/config.yml', 'releasenotes/notes/fix-swift-conf-collision-ee98d09a91c270bd.yaml']",2,2ee470bbe31c43022053045b295e0a32951146e5,bug/1849265-stable/stein,"--- upgrade: - | Modifies the path for custom configuration of ``swift.conf`` from ``/etc/kolla/config/swift/<service>.conf`` to ``/etc/kolla/config/swift/<service>/swift.conf``, to avoid a collision with custom configuration for ``<service>.conf``. Here, ``<service>`` may be ``proxy-server``, ``account-*``, ``container-*`` or ``object-*``. ",,10,2
openstack%2Fkayobe~stable%2Frocky~I0d3c7865eab71e0020bdb4646550d8ae27e31458,openstack/kayobe,stable/rocky,I0d3c7865eab71e0020bdb4646550d8ae27e31458,Only stop chrony on nodes in kolla inventory,MERGED,2019-11-11 12:18:31.000000000,2019-11-11 16:19:00.000000000,2019-11-11 16:19:00.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-11-11 12:18:31.000000000', 'files': ['ansible/stop-chrony.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/735b66db8523566c35819f8d795f65c2e9cdab33', 'message': 'Only stop chrony on nodes in kolla inventory\n\nIf docker is not installed this task will currently fail.\n\nChange-Id: I0d3c7865eab71e0020bdb4646550d8ae27e31458\nStory: 2006247\nTask: 37391\n(cherry picked from commit 114b92905ad6842c9d26f0976307cdb63e6174f6)\n'}]",0,693687,735b66db8523566c35819f8d795f65c2e9cdab33,7,4,1,14826,,,0,"Only stop chrony on nodes in kolla inventory

If docker is not installed this task will currently fail.

Change-Id: I0d3c7865eab71e0020bdb4646550d8ae27e31458
Story: 2006247
Task: 37391
(cherry picked from commit 114b92905ad6842c9d26f0976307cdb63e6174f6)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/87/693687/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/stop-chrony.yml'],1,735b66db8523566c35819f8d795f65c2e9cdab33,chrony-fix-stable/rocky," vars: # kolla_overcloud_inventory_top_level_group_map looks like: # kolla_overcloud_inventory_top_level_group_map: # control: # groups: # - controllers overcloud_nodes_in_kolla_inventory: >- {{ kolla_overcloud_inventory_top_level_group_map.values() | map(attribute='groups') | flatten | unique | join(':') }} when: - not kolla_enable_chrony | bool - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)", when: not kolla_enable_chrony | bool,12,1
openstack%2Fkayobe~stable%2Fstein~I0d3c7865eab71e0020bdb4646550d8ae27e31458,openstack/kayobe,stable/stein,I0d3c7865eab71e0020bdb4646550d8ae27e31458,Only stop chrony on nodes in kolla inventory,MERGED,2019-11-11 12:18:17.000000000,2019-11-11 15:58:24.000000000,2019-11-11 15:57:03.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-11-11 12:18:17.000000000', 'files': ['ansible/stop-chrony.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b5137651e91e23f53bf97bde72d3cea3e4993f3b', 'message': 'Only stop chrony on nodes in kolla inventory\n\nIf docker is not installed this task will currently fail.\n\nChange-Id: I0d3c7865eab71e0020bdb4646550d8ae27e31458\nStory: 2006247\nTask: 37391\n(cherry picked from commit 114b92905ad6842c9d26f0976307cdb63e6174f6)\n'}]",0,693686,b5137651e91e23f53bf97bde72d3cea3e4993f3b,8,4,1,14826,,,0,"Only stop chrony on nodes in kolla inventory

If docker is not installed this task will currently fail.

Change-Id: I0d3c7865eab71e0020bdb4646550d8ae27e31458
Story: 2006247
Task: 37391
(cherry picked from commit 114b92905ad6842c9d26f0976307cdb63e6174f6)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/86/693686/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/stop-chrony.yml'],1,b5137651e91e23f53bf97bde72d3cea3e4993f3b,chrony-fix-stable/stein," vars: # kolla_overcloud_inventory_top_level_group_map looks like: # kolla_overcloud_inventory_top_level_group_map: # control: # groups: # - controllers overcloud_nodes_in_kolla_inventory: >- {{ kolla_overcloud_inventory_top_level_group_map.values() | map(attribute='groups') | flatten | unique | join(':') }} when: - not kolla_enable_chrony | bool - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)", when: not kolla_enable_chrony | bool,12,1
openstack%2Freleases~master~Ia9372735364110bbd9ad56c11e641b17a88cb232,openstack/releases,master,Ia9372735364110bbd9ad56c11e641b17a88cb232,Add recent release note landing pages,MERGED,2019-10-29 21:51:06.000000000,2019-11-11 15:52:32.000000000,2019-11-11 15:52:32.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-29 21:51:06.000000000', 'files': ['deliverables/train/openstack-ansible.yaml', 'deliverables/train/os-net-config.yaml', 'deliverables/train/python-cinderclient.yaml', 'deliverables/train/neutron-fwaas-dashboard.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/train/keystoneauth.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/oslo.cache.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/tripleo-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/685f62444cbeb75a3a0527aedc2ccdc7be940c5d', 'message': 'Add recent release note landing pages\n\nChange-Id: Ia9372735364110bbd9ad56c11e641b17a88cb232\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,691993,685f62444cbeb75a3a0527aedc2ccdc7be940c5d,7,3,1,11904,,,0,"Add recent release note landing pages

Change-Id: Ia9372735364110bbd9ad56c11e641b17a88cb232
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/691993/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/openstack-ansible.yaml', 'deliverables/train/os-net-config.yaml', 'deliverables/train/python-cinderclient.yaml', 'deliverables/train/neutron-fwaas-dashboard.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/train/keystoneauth.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/oslo.cache.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/tripleo-common.yaml']",16,685f62444cbeb75a3a0527aedc2ccdc7be940c5d,,release-notes: https://docs.openstack.org/releasenotes/tripleo-common/train.html,,16,0
openstack%2Freleases~master~If1b1c74109f678fedf10704bb2db8322d79f7e25,openstack/releases,master,If1b1c74109f678fedf10704bb2db8322d79f7e25,Release oslo.messaging 10.3.0,MERGED,2019-10-30 16:05:32.000000000,2019-11-11 15:52:31.000000000,2019-11-11 15:52:31.000000000,"[{'_account_id': 6928}, {'_account_id': 7634}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 16:05:32.000000000', 'files': ['deliverables/ussuri/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b913b42a6823a90f17a810d42d3a0e9ea9d7782a', 'message': ""Release oslo.messaging 10.3.0\n\n...to pick up (at least) [1].\n\nFeature level bump since it's the first ussuri release.\n\n[1] https://review.opendev.org/#/c/683600/\n\nChange-Id: If1b1c74109f678fedf10704bb2db8322d79f7e25\n""}]",0,692181,b913b42a6823a90f17a810d42d3a0e9ea9d7782a,9,4,1,14070,,,0,"Release oslo.messaging 10.3.0

...to pick up (at least) [1].

Feature level bump since it's the first ussuri release.

[1] https://review.opendev.org/#/c/683600/

Change-Id: If1b1c74109f678fedf10704bb2db8322d79f7e25
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/692181/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/oslo.messaging.yaml'],1,b913b42a6823a90f17a810d42d3a0e9ea9d7782a,oslo.messaging-10.3.0,releases: - version: 10.3.0 projects: - repo: openstack/oslo.messaging hash: 6bca848f5b272149bb32353a62f9d37108fcbe15,,5,0
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~Idf31f0a3cda2932ba041defef803ac66c88a2e8e,openstack/openstack-ansible-os_zun,stable/train,Idf31f0a3cda2932ba041defef803ac66c88a2e8e,Allow venv python interpreter to be overridden,MERGED,2019-11-08 11:55:38.000000000,2019-11-11 15:51:55.000000000,2019-11-11 15:49:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-08 11:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/2cade819b2a9c42fbf24f4ebcd8f9cd1c8edbd82', 'message': 'Allow venv python interpreter to be overridden\n\nChange-Id: Idf31f0a3cda2932ba041defef803ac66c88a2e8e\n(cherry picked from commit 5425851cf3ba5f3ad2dc8aa262cdea3eaf8f778a)\n'}, {'number': 2, 'created': '2019-11-08 11:55:56.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/8206ef3712da94b960b84973b9c5ebd11cc4a35a', 'message': 'Allow venv python interpreter to be overridden\n\nChange-Id: Idf31f0a3cda2932ba041defef803ac66c88a2e8e\n(cherry picked from commit 5425851cf3ba5f3ad2dc8aa262cdea3eaf8f778a)\n'}]",0,693529,8206ef3712da94b960b84973b9c5ebd11cc4a35a,12,4,2,28619,,,0,"Allow venv python interpreter to be overridden

Change-Id: Idf31f0a3cda2932ba041defef803ac66c88a2e8e
(cherry picked from commit 5425851cf3ba5f3ad2dc8aa262cdea3eaf8f778a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/29/693529/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,2cade819b2a9c42fbf24f4ebcd8f9cd1c8edbd82,osa-py3-stable/train,"#python venv executable zun_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}"" ",,4,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6aae1c8029cf6c9fff52a79d7a1519888f46dd81,openstack/tripleo-heat-templates,stable/train,I6aae1c8029cf6c9fff52a79d7a1519888f46dd81,Fix the amqp presettle option for metrics and events in collectd,MERGED,2019-11-09 16:46:11.000000000,2019-11-11 15:39:42.000000000,2019-11-11 15:39:42.000000000,"[{'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30893}]","[{'number': 1, 'created': '2019-11-09 16:46:11.000000000', 'files': ['environments/metrics/collectd-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aad1d31df7bcdd97469d291e15b8d99d68451782', 'message': ""Fix the amqp presettle option for metrics and events in collectd\n\nThe values for presettle were incorrect for metrics and events sent\nvia AMQP.\nEvents should NOT be pre-settled, as they need to be ack'd to\nensure that all messages are delivered.\nMetrics should be presettled as they don't require an ack.\n\nChange-Id: I6aae1c8029cf6c9fff52a79d7a1519888f46dd81\n(cherry picked from commit 1c1f78bc5bce2f5fa957c1e042bfd735d81320e9)\n""}]",0,693611,aad1d31df7bcdd97469d291e15b8d99d68451782,7,6,1,13177,,,0,"Fix the amqp presettle option for metrics and events in collectd

The values for presettle were incorrect for metrics and events sent
via AMQP.
Events should NOT be pre-settled, as they need to be ack'd to
ensure that all messages are delivered.
Metrics should be presettled as they don't require an ack.

Change-Id: I6aae1c8029cf6c9fff52a79d7a1519888f46dd81
(cherry picked from commit 1c1f78bc5bce2f5fa957c1e042bfd735d81320e9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/693611/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/collectd-write-qdr.yaml'],1,aad1d31df7bcdd97469d291e15b8d99d68451782,fix_collectd_amq_presettle-stable/train, presettle: false presettle: true, presettle: true presettle: false,2,2
openstack%2Freleases~master~Ib5d582dbe092a54ccf307d667cb405d13e2eb453,openstack/releases,master,Ib5d582dbe092a54ccf307d667cb405d13e2eb453,Remove artifact links for monasca-kibana-plugin,MERGED,2019-11-06 06:33:53.000000000,2019-11-11 15:32:34.000000000,2019-11-11 15:32:34.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 06:33:53.000000000', 'files': ['deliverables/stein/monasca-kibana-plugin.yaml', 'deliverables/ussuri/monasca-kibana-plugin.yaml', 'deliverables/train/monasca-kibana-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3be70b0f9259f361fc155cd36eae173e5de59c8f', 'message': 'Remove artifact links for monasca-kibana-plugin\n\nSet artifact-link-mode: none for monasca-kibana-plugin to avoid\nbroken pgp signature links. Retroactively fix Stein and Train.\n\nChange-Id: Ib5d582dbe092a54ccf307d667cb405d13e2eb453\n'}]",0,693125,3be70b0f9259f361fc155cd36eae173e5de59c8f,7,2,1,308,,,0,"Remove artifact links for monasca-kibana-plugin

Set artifact-link-mode: none for monasca-kibana-plugin to avoid
broken pgp signature links. Retroactively fix Stein and Train.

Change-Id: Ib5d582dbe092a54ccf307d667cb405d13e2eb453
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/693125/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/monasca-kibana-plugin.yaml', 'deliverables/ussuri/monasca-kibana-plugin.yaml', 'deliverables/train/monasca-kibana-plugin.yaml']",3,3be70b0f9259f361fc155cd36eae173e5de59c8f,fix-kibana-link,artifact-link-mode: none,,3,0
openstack%2Freleases~master~I88d086cfdeef9092954eace7931a0a5cde3a06fc,openstack/releases,master,I88d086cfdeef9092954eace7931a0a5cde3a06fc,Release kolla-ansible 9.0.0.0rc1 for Train,MERGED,2019-11-04 12:20:01.000000000,2019-11-11 15:32:33.000000000,2019-11-11 15:32:33.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-04 12:20:01.000000000', 'files': ['deliverables/train/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b94be80e26a49c9d840f83ff51d6bc148b064501', 'message': 'Release kolla-ansible 9.0.0.0rc1 for Train\n\nChange-Id: I88d086cfdeef9092954eace7931a0a5cde3a06fc\n'}]",2,692813,b94be80e26a49c9d840f83ff51d6bc148b064501,15,10,1,14826,,,0,"Release kolla-ansible 9.0.0.0rc1 for Train

Change-Id: I88d086cfdeef9092954eace7931a0a5cde3a06fc
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/692813/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kolla-ansible.yaml'],1,b94be80e26a49c9d840f83ff51d6bc148b064501,,branches: - location: 9.0.0.0rc1 name: stable/train releases: - projects: - hash: 6160cdc5764e471b71166c2ccc28888513d1c638 repo: openstack/kolla-ansible version: 9.0.0.0rc1,,8,0
openstack%2Fopenstack-ansible-os_horizon~stable%2Fqueens~I7aa8d7a911585e00d8ede92bf909492cf70cba6e,openstack/openstack-ansible-os_horizon,stable/queens,I7aa8d7a911585e00d8ede92bf909492cf70cba6e,Add new config to disable openrc_v2 in horizon,MERGED,2019-10-29 16:02:42.000000000,2019-11-11 15:26:44.000000000,2019-11-11 15:24:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-29 16:02:42.000000000', 'files': ['releasenotes/notes/keystone-openrc-v2-show-0bbfc8ab1dba8bd6.yaml', 'defaults/main.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/6db84bfe99a32c0d1749714f3f240e420bdfe3f3', 'message': ""Add new config to disable openrc_v2 in horizon\n\nit's now possible to remove the openstack rc file v2 from horizon download list.\n\nChange-Id: I7aa8d7a911585e00d8ede92bf909492cf70cba6e\n(cherry picked from commit 10aa884a1655a4ebde559f5770824fe68cd1ba35)\n""}]",0,691899,6db84bfe99a32c0d1749714f3f240e420bdfe3f3,8,3,1,13095,,,0,"Add new config to disable openrc_v2 in horizon

it's now possible to remove the openstack rc file v2 from horizon download list.

Change-Id: I7aa8d7a911585e00d8ede92bf909492cf70cba6e
(cherry picked from commit 10aa884a1655a4ebde559f5770824fe68cd1ba35)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/99/691899/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-openrc-v2-show-0bbfc8ab1dba8bd6.yaml', 'defaults/main.yml', 'templates/horizon_local_settings.py.j2']",3,6db84bfe99a32c0d1749714f3f240e420bdfe3f3,,"SHOW_KEYSTONE_V2_RC = ""{{ horizon_show_keystone_v2_rc }}"" ",,10,0
openstack%2Fopenstack-helm-infra~master~I56b01f1312efa8de90def349518c618affb5de85,openstack/openstack-helm-infra,master,I56b01f1312efa8de90def349518c618affb5de85,Grafana gridPos y key resolves true in chart json,MERGED,2019-10-15 21:35:25.000000000,2019-11-11 15:23:28.000000000,2019-11-11 09:42:13.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28849}, {'_account_id': 30582}, {'_account_id': 30692}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-15 21:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bc4d7fc675baa9f3797c98f06be003e287454c86', 'message': ""[WIP] gridPos y key resolving to true in chart json\n\nFixing the issue where Kubernetes Calico dashboard is not loading\nin grafana dashboard.\nFound the behavior that YAML reserved keys like yes/no/y/n evaluate\nto true and false in Ruby hash,so the gridPos key like 'y:' converts\nto 'true:' in charts json causing the dashbaord not loading.\nHence updating gridPos panel key (y:) by wrapping it with quotes\nlike ('y':) to resolve the issue.\nThere's actually a long list of YAML reserved words with this\nbehavior like below-\ny|Y|yes|Yes|YES|n|N|no|No|NO\n|true|True|TRUE|false|False|FALSE\n|on|On|ON|off|Off|OFF\n\nChange-Id: I56b01f1312efa8de90def349518c618affb5de85\n""}, {'number': 2, 'created': '2019-10-15 21:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/89a470b8908ca4c77804c06994636d3a9b1d4a1a', 'message': ""[WIP] gridPos y key resolving to true in chart json\n\nThis change is to fix the issue where Kubernetes Calico dashboard\nis not loading in grafana dashboard.\nFound the behavior that YAML reserved keys like yes/no/y/n evaluate\nto true and false in Ruby hash,so the gridPos key like 'y:' converts\nto 'true:' in charts json causing the dashbaord not loading.\nHence updating gridPos panel key (y:) by wrapping it with quotes\nlike ('y':) to resolve the issue.\nThere's actually a long list of YAML reserved words with this\nbehavior like below-\ny|Y|yes|Yes|YES|n|N|no|No|NO\n|true|True|TRUE|false|False|FALSE\n|on|On|ON|off|Off|OFF\n\nChange-Id: I56b01f1312efa8de90def349518c618affb5de85\n""}, {'number': 3, 'created': '2019-10-16 15:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd8c4c32dcfa32253cefe19de69336aaa0a10760', 'message': ""gridPos y key resolving to true in chart json\n\nThis change is to fix the issue where Kubernetes Calico dashboard\nis not loading in grafana dashboard.\nFound the behavior that YAML reserved keys like yes/no/y/n evaluate\nto true and false in Ruby hash,so the gridPos key like 'y:' converts\nto 'true:' in charts json causing the dashbaord not loading.\nHence updating gridPos panel key (y:) by wrapping it with quotes\nlike ('y':) to resolve the issue.\nThere's actually a long list of YAML reserved words with this\nbehavior like below-\ny|Y|yes|Yes|YES|n|N|no|No|NO\n|true|True|TRUE|false|False|FALSE\n|on|On|ON|off|Off|OFF\n\nChange-Id: I56b01f1312efa8de90def349518c618affb5de85\n""}, {'number': 4, 'created': '2019-10-21 15:01:12.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/020a9d959324ad277d2811eb80e558b38d931000', 'message': ""Grafana gridPos y key resolves true in chart json\n\nThis change is to fix the issue where Kubernetes Calico dashboard\nis not loading in grafana dashboard.\nFound the behavior that YAML reserved keys like yes/no/y/n evaluate\nto true and false in Ruby hash,so the gridPos key like 'y:' converts\nto 'true:' in charts json causing the dashbaord not loading.\nHence updating gridPos panel key (y:) by wrapping it with quotes\nlike ('y':) to resolve the issue.\nThere's actually a long list of YAML reserved words with this\nbehavior like below-\ny|Y|yes|Yes|YES|n|N|no|No|NO\n|true|True|TRUE|false|False|FALSE\n|on|On|ON|off|Off|OFF\n\nChange-Id: I56b01f1312efa8de90def349518c618affb5de85\n""}]",0,688821,020a9d959324ad277d2811eb80e558b38d931000,27,11,4,30692,,,0,"Grafana gridPos y key resolves true in chart json

This change is to fix the issue where Kubernetes Calico dashboard
is not loading in grafana dashboard.
Found the behavior that YAML reserved keys like yes/no/y/n evaluate
to true and false in Ruby hash,so the gridPos key like 'y:' converts
to 'true:' in charts json causing the dashbaord not loading.
Hence updating gridPos panel key (y:) by wrapping it with quotes
like ('y':) to resolve the issue.
There's actually a long list of YAML reserved words with this
behavior like below-
y|Y|yes|Yes|YES|n|N|no|No|NO
|true|True|TRUE|false|False|FALSE
|on|On|ON|off|Off|OFF

Change-Id: I56b01f1312efa8de90def349518c618affb5de85
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/21/688821/2 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,bc4d7fc675baa9f3797c98f06be003e287454c86,grafana-y-keys, 'y': 0 'y': 1 'y': 1 'y': 8 'y': 8 'y': 15 'y': 15 'y': 22 'y': 22 'y': 29 'y': 29 'y': 36 'y': 36 'y': 43 'y': 43, y: 0 y: 1 y: 1 y: 8 y: 8 y: 15 y: 15 y: 22 y: 22 y: 29 y: 29 y: 36 y: 36 y: 43 y: 43,15,15
openstack%2Fnova~master~I0b70b19d74007041fc2da55a4edb1c636af691d6,openstack/nova,master,I0b70b19d74007041fc2da55a4edb1c636af691d6,Remove the TODO about using OSC for BFV in test_evacuate.sh,MERGED,2019-11-07 18:35:23.000000000,2019-11-11 15:15:26.000000000,2019-11-08 08:18:06.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 18:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cf5bc8bf7dc05552357d65b7108ff32645bfe53', 'message': 'Use openstack server create --boot-from-volume in test_evacuate.sh\n\nThe openstack server create command now has a --boot-from-volume\noption so we can use that in the test_evacuate.sh script instead\nof using the nova boot command.\n\nChange-Id: I0b70b19d74007041fc2da55a4edb1c636af691d6\n'}, {'number': 2, 'created': '2019-11-07 18:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0c986ea1aec795d7a93f059b8283a747d0fcfef', 'message': 'Use openstack server create --boot-from-volume in test_evacuate.sh\n\nThe openstack server create command now has a --boot-from-volume\noption so we can use that in the test_evacuate.sh script instead\nof using the nova boot command.\n\nChange-Id: I0b70b19d74007041fc2da55a4edb1c636af691d6\n'}, {'number': 3, 'created': '2019-11-07 19:35:47.000000000', 'files': ['gate/test_evacuate.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/14ca6f62e30d11dbe63731cf95f0f0bd38780ff7', 'message': ""Remove the TODO about using OSC for BFV in test_evacuate.sh\n\nWith OSC 4.0.0 we could now use the --boot-from-volume option\nto create a volume-backed server from the provided image. However,\nthat option leaves the created root volume around since\ndelete_on_termination defaults to false in the API. So while we\ncould use that option and convert from nova boot to openstack\nserver create, it would mean we'd have to find and manually delete\nthe created volume after the server is created, which is more work\nthan it's worth to implement the TODO so just remove it.\n\nChange-Id: I0b70b19d74007041fc2da55a4edb1c636af691d6\n""}]",9,693406,14ca6f62e30d11dbe63731cf95f0f0bd38780ff7,40,13,3,6873,,,0,"Remove the TODO about using OSC for BFV in test_evacuate.sh

With OSC 4.0.0 we could now use the --boot-from-volume option
to create a volume-backed server from the provided image. However,
that option leaves the created root volume around since
delete_on_termination defaults to false in the API. So while we
could use that option and convert from nova boot to openstack
server create, it would mean we'd have to find and manually delete
the created volume after the server is created, which is more work
than it's worth to implement the TODO so just remove it.

Change-Id: I0b70b19d74007041fc2da55a4edb1c636af691d6
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/693406/1 && git format-patch -1 --stdout FETCH_HEAD,['gate/test_evacuate.sh'],1,6cf5bc8bf7dc05552357d65b7108ff32645bfe53,test_evacuate_bfv,openstack server create --flavor ${flavor_id} --wait --boot-from-volume 1 \,"# TODO(mriedem): Use OSC when it supports boot from volume where nova creates # the root volume from an image. nova boot --flavor ${flavor_id} --poll \ --block-device id=${image_id},source=image,dest=volume,size=1,bootindex=0,shutdown=remove \",1,4
openstack%2Fneutron~stable%2Fqueens~I6482223ed2a479de4f5ef4cef056c311c0281408,openstack/neutron,stable/queens,I6482223ed2a479de4f5ef4cef056c311c0281408,Create _mech_context before delete to avoid race [refactored for Queens],ABANDONED,2019-09-25 07:57:49.000000000,2019-11-11 15:11:36.000000000,,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 14826}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-25 07:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f933b704536273a85ab16e0f1bf0014634277f04', 'message': 'Create _mech_context before delete to avoid race\n\nWhen a network is deleted, precommit handlers are notified prior to the\ndeletion of the network from the database. One handler exists in the ML2\nplugin - _network_delete_precommit_handler. This handler queries the\ndatabase for the current state of the network and uses it to create a\nNetworkContext which it saves under context._mech_context. When the\npostcommit handler _network_delete_after_delete_handler is triggered\nlater, it passess the saved context._mech_context to mechanism drivers.\n\nA problem can occur with provider networks since the segments service\nalso registers a precommit handler - _delete_segments_for_network. Both\nprecommit handlers use the default priority, so the order in which they\nare called is random, and determined by dict ordering. If the segment\nprecommit handler executes first, it will delete the segments associated\nwith the network. When the ML2 plugin precommit handler runs it then\nsees no segments for the network and sets the provider attributes of the\nnetwork in the NetworkContext to None.\n\nA mechanism driver that is passed a NetworkContext without provider\nattributes in its delete_network_postcommit method will not have the\ninformation to perform the necessary actions.  In the case of the\nnetworking-generic-switch mechanism driver where this was observed, this\nresulted in the driver ignoring the event, because the network did not\nlook like a VLAN.\n\nThis change uses a priority of zero for ML2 network delete precommit\nhandler, to ensure they query the network and store the NetworkContext\nbefore the segments service has a chance to delete segments.\n\nA similar change has been made for subnets, both to keep the pattern\nconsistent and avoid any similar issues.\n\nChange-Id: I6482223ed2a479de4f5ef4cef056c311c0281408\nCloses-Bug: #1841967\nDepends-On: https://review.opendev.org/680001\n(cherry picked from commit fea2d9091f71a2ec88318121ed9a22180e1ae96f)\n(cherry picked from commit f913394d70dede8d40d6e96485bd5333dfb6f43f)\n'}, {'number': 2, 'created': '2019-10-01 16:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fce19d002c023cbbf5dc144ac1713ddae702246c', 'message': ""Create _mech_context before delete to avoid race [refactored for Queens]\n\nWhen a network is deleted, precommit handlers are notified prior to the\ndeletion of the network from the database. One handler exists in the ML2\nplugin - _network_delete_precommit_handler. This handler queries the\ndatabase for the current state of the network and uses it to create a\nNetworkContext which it saves under context._mech_context. When the\npostcommit handler _network_delete_after_delete_handler is triggered\nlater, it passess the saved context._mech_context to mechanism drivers.\n\nA problem can occur with provider networks since the segments service\nalso registers a precommit handler - _delete_segments_for_network. Both\nprecommit handlers use the default priority, so the order in which they\nare called is random, and determined by dict ordering. If the segment\nprecommit handler executes first, it will delete the segments associated\nwith the network. When the ML2 plugin precommit handler runs it then\nsees no segments for the network and sets the provider attributes of the\nnetwork in the NetworkContext to None.\n\nA mechanism driver that is passed a NetworkContext without provider\nattributes in its delete_network_postcommit method will not have the\ninformation to perform the necessary actions.  In the case of the\nnetworking-generic-switch mechanism driver where this was observed, this\nresulted in the driver ignoring the event, because the network did not\nlook like a VLAN.\n\nThis change uses a priority of zero for ML2 network delete precommit\nhandler, to ensure they query the network and store the NetworkContext\nbefore the segments service has a chance to delete segments.\n\nA similar change has been made for subnets, both to keep the pattern\nconsistent and avoid any similar issues.\n\nNote: This is not clean backport. The original fix on master used the\nregistry.receives decorator's priority parameter (see [0]) which was\nintroduced in Rocky (see: [1]). To fix the problem on Queens this patch\nbackports ps2 from the original solution (see: [3])\nThe differenc from the original, merged patch:\n- On Queens there is no priority parameter for registry.receives\ndecorator, the workaround is (as in ps2) to register for BEFORE_DELETE\nNETWORK callback and get a copy of the network before segments can touch\nprovider information.\nThe differences from PS2 of the original patch:\n- In db_base_plugin_v2.py use registry.notify instead of publish.\n- In plugin.py change the decorated callback method signatures as it is\nsuitable for notify.\n\n[0]: https://opendev.org/openstack/neutron-lib/src/branch/master/neutron_lib/callbacks/registry.py#L67\n[1]: https://review.opendev.org/541766\n[3]: https://review.opendev.org/#/c/679483/2\n\nChange-Id: I6482223ed2a479de4f5ef4cef056c311c0281408\nCloses-Bug: #1841967\nDepends-On: https://review.opendev.org/680001\n(cherry picked from commit fea2d9091f71a2ec88318121ed9a22180e1ae96f)\n(cherry picked from commit f913394d70dede8d40d6e96485bd5333dfb6f43f)\n""}, {'number': 3, 'created': '2019-10-02 07:27:29.000000000', 'files': ['neutron/db/db_base_plugin_v2.py', 'releasenotes/notes/fix-net-delete-race-f2fa5bac3ab35a5b.yaml', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f90b643650df18bd9e5b31a57a84fd4620069393', 'message': ""Create _mech_context before delete to avoid race [refactored for Queens]\n\nWhen a network is deleted, precommit handlers are notified prior to the\ndeletion of the network from the database. One handler exists in the ML2\nplugin - _network_delete_precommit_handler. This handler queries the\ndatabase for the current state of the network and uses it to create a\nNetworkContext which it saves under context._mech_context. When the\npostcommit handler _network_delete_after_delete_handler is triggered\nlater, it passess the saved context._mech_context to mechanism drivers.\n\nA problem can occur with provider networks since the segments service\nalso registers a precommit handler - _delete_segments_for_network. Both\nprecommit handlers use the default priority, so the order in which they\nare called is random, and determined by dict ordering. If the segment\nprecommit handler executes first, it will delete the segments associated\nwith the network. When the ML2 plugin precommit handler runs it then\nsees no segments for the network and sets the provider attributes of the\nnetwork in the NetworkContext to None.\n\nA mechanism driver that is passed a NetworkContext without provider\nattributes in its delete_network_postcommit method will not have the\ninformation to perform the necessary actions.  In the case of the\nnetworking-generic-switch mechanism driver where this was observed, this\nresulted in the driver ignoring the event, because the network did not\nlook like a VLAN.\n\nThis change uses a priority of zero for ML2 network delete precommit\nhandler, to ensure they query the network and store the NetworkContext\nbefore the segments service has a chance to delete segments.\n\nA similar change has been made for subnets, both to keep the pattern\nconsistent and avoid any similar issues.\n\nNote: This is not clean backport. The original fix on master used the\nregistry.receives decorator's priority parameter (see [0]) which was\nintroduced in Rocky (see: [1]). To fix the problem on Queens this patch\nbackports ps2 from the original solution (see: [3])\nThe differenc from the original, merged patch:\n- On Queens there is no priority parameter for registry.receives\ndecorator, the workaround is (as in ps2) to register for BEFORE_DELETE\nNETWORK callback and get a copy of the network before segments can touch\nprovider information.\nThe differences from PS2 of the original patch:\n- In db_base_plugin_v2.py use registry.notify instead of publish.\n- In plugin.py change the decorated callback method signatures as it is\nsuitable for notify.\n\n[0]: https://opendev.org/openstack/neutron-lib/src/branch/master/neutron_lib/callbacks/registry.py#L67\n[1]: https://review.opendev.org/541766\n[3]: https://review.opendev.org/#/c/679483/2\n\nChange-Id: I6482223ed2a479de4f5ef4cef056c311c0281408\nCloses-Bug: #1841967\nDepends-On: https://review.opendev.org/680001\n(cherry picked from commit fea2d9091f71a2ec88318121ed9a22180e1ae96f)\n(cherry picked from commit f913394d70dede8d40d6e96485bd5333dfb6f43f)\n""}]",5,684552,f90b643650df18bd9e5b31a57a84fd4620069393,22,9,3,8313,,,0,"Create _mech_context before delete to avoid race [refactored for Queens]

When a network is deleted, precommit handlers are notified prior to the
deletion of the network from the database. One handler exists in the ML2
plugin - _network_delete_precommit_handler. This handler queries the
database for the current state of the network and uses it to create a
NetworkContext which it saves under context._mech_context. When the
postcommit handler _network_delete_after_delete_handler is triggered
later, it passess the saved context._mech_context to mechanism drivers.

A problem can occur with provider networks since the segments service
also registers a precommit handler - _delete_segments_for_network. Both
precommit handlers use the default priority, so the order in which they
are called is random, and determined by dict ordering. If the segment
precommit handler executes first, it will delete the segments associated
with the network. When the ML2 plugin precommit handler runs it then
sees no segments for the network and sets the provider attributes of the
network in the NetworkContext to None.

A mechanism driver that is passed a NetworkContext without provider
attributes in its delete_network_postcommit method will not have the
information to perform the necessary actions.  In the case of the
networking-generic-switch mechanism driver where this was observed, this
resulted in the driver ignoring the event, because the network did not
look like a VLAN.

This change uses a priority of zero for ML2 network delete precommit
handler, to ensure they query the network and store the NetworkContext
before the segments service has a chance to delete segments.

A similar change has been made for subnets, both to keep the pattern
consistent and avoid any similar issues.

Note: This is not clean backport. The original fix on master used the
registry.receives decorator's priority parameter (see [0]) which was
introduced in Rocky (see: [1]). To fix the problem on Queens this patch
backports ps2 from the original solution (see: [3])
The differenc from the original, merged patch:
- On Queens there is no priority parameter for registry.receives
decorator, the workaround is (as in ps2) to register for BEFORE_DELETE
NETWORK callback and get a copy of the network before segments can touch
provider information.
The differences from PS2 of the original patch:
- In db_base_plugin_v2.py use registry.notify instead of publish.
- In plugin.py change the decorated callback method signatures as it is
suitable for notify.

[0]: https://opendev.org/openstack/neutron-lib/src/branch/master/neutron_lib/callbacks/registry.py#L67
[1]: https://review.opendev.org/541766
[3]: https://review.opendev.org/#/c/679483/2

Change-Id: I6482223ed2a479de4f5ef4cef056c311c0281408
Closes-Bug: #1841967
Depends-On: https://review.opendev.org/680001
(cherry picked from commit fea2d9091f71a2ec88318121ed9a22180e1ae96f)
(cherry picked from commit f913394d70dede8d40d6e96485bd5333dfb6f43f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/684552/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-net-delete-race-f2fa5bac3ab35a5b.yaml', 'neutron/plugins/ml2/plugin.py']",2,f933b704536273a85ab16e0f1bf0014634277f04,bug/1841967," # NOTE(mgoddard): Use a priority of zero to ensure this handler runs before # other precommit handlers. This is necessary to ensure we avoid another # handler deleting a subresource of the network, e.g. segments. @registry.receives(resources.NETWORK, [events.PRECOMMIT_DELETE], priority=0) # NOTE(mgoddard): Use a priority of zero to ensure this handler runs before # other precommit handlers. This is necessary to ensure we avoid another # handler deleting a subresource of the subnet. @registry.receives(resources.SUBNET, [events.PRECOMMIT_DELETE], priority=0)"," @registry.receives(resources.NETWORK, [events.PRECOMMIT_DELETE]) @registry.receives(resources.SUBNET, [events.PRECOMMIT_DELETE])",18,2
openstack%2Fmistral~master~I055bc2d5a4bdf839f1e262e49563616d8deff92f,openstack/mistral,master,I055bc2d5a4bdf839f1e262e49563616d8deff92f,Reformat rerun logic for tasks with join,MERGED,2019-06-18 15:11:05.000000000,2019-11-11 14:43:49.000000000,2019-11-11 14:42:37.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 11391}, {'_account_id': 15895}, {'_account_id': 18955}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-06-18 15:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fa154232ba2cf249dca3e3839883c78e5870a1af', 'message': 'Reformat rerun logic for tasks with join\n\nChange-Id: I055bc2d5a4bdf839f1e262e49563616d8deff92f\nCloses-Bug: #1833262\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 2, 'created': '2019-06-18 17:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a7f61f1daee8b0cde4e9c32e85bc4dc6b64f0712', 'message': 'Reformat rerun logic for tasks with join\n\nChange-Id: I055bc2d5a4bdf839f1e262e49563616d8deff92f\nCloses-Bug: #1833262\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 3, 'created': '2019-07-10 22:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/02777a29677d5ec7202e8c79c9ba5e24490f6388', 'message': 'Reformat rerun logic for tasks with join\n\nChange-Id: I055bc2d5a4bdf839f1e262e49563616d8deff92f\nCloses-Bug: #1833262\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 4, 'created': '2019-07-10 23:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4fde696227eef4b5f6d95a09bd90b33f2831f31d', 'message': 'Reformat rerun logic for tasks with join\n\nChange-Id: I055bc2d5a4bdf839f1e262e49563616d8deff92f\nCloses-Bug: #1833262\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 5, 'created': '2019-07-11 14:11:24.000000000', 'files': ['mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/engine/tasks.py', 'mistral/engine/policies.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/bdbfb823010cefe94945ba118199d9ecccdbcab7', 'message': 'Reformat rerun logic for tasks with join\n\nChange-Id: I055bc2d5a4bdf839f1e262e49563616d8deff92f\nCloses-Bug: #1833262\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}]",6,666016,bdbfb823010cefe94945ba118199d9ecccdbcab7,30,10,5,29124,,,0,"Reformat rerun logic for tasks with join

Change-Id: I055bc2d5a4bdf839f1e262e49563616d8deff92f
Closes-Bug: #1833262
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/16/666016/4 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/engine/tasks.py']",2,fa154232ba2cf249dca3e3839883c78e5870a1af,bug/1833262," self.waiting = True # NOTE(vgvoleg): join tasks in direct workflows can't be # rerun as is, because this tasks can't start without # the correct logical state. if self.rerun and hasattr(self.task_spec, ""get_join"") \ and self.task_spec.get_join(): self.defer() return ",,59,16
openstack%2Fironic-python-agent~master~I5c643b1ae8819b02b667b2df13241753ddca5743,openstack/ironic-python-agent,master,I5c643b1ae8819b02b667b2df13241753ddca5743,Fix instructions for enabling SSH on recent tinyipa images,MERGED,2019-11-11 14:09:29.000000000,2019-11-11 14:35:34.000000000,2019-11-11 14:34:23.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-11 14:09:29.000000000', 'files': ['doc/source/admin/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/11862ccae925904d034cb27b6ed6078fc91e1a09', 'message': 'Fix instructions for enabling SSH on recent tinyipa images\n\nWe need to use AUTHORIZE_SSH since ENABLE_SSH was fully removed in\nchange I4256c8e89923c7104cb4191f3381312c1593b535.\n\nChange-Id: I5c643b1ae8819b02b667b2df13241753ddca5743\n'}]",0,693700,11862ccae925904d034cb27b6ed6078fc91e1a09,8,3,1,15197,,,0,"Fix instructions for enabling SSH on recent tinyipa images

We need to use AUTHORIZE_SSH since ENABLE_SSH was fully removed in
change I4256c8e89923c7104cb4191f3381312c1593b535.

Change-Id: I5c643b1ae8819b02b667b2df13241753ddca5743
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/00/693700/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/troubleshooting.rst'],1,11862ccae925904d034cb27b6ed6078fc91e1a09,tinyipa-ssh-docs,set ``AUTHORIZE_SSH`` variable in your shell to ``true`` before building export AUTHORIZE_SSH=true,set ``ENABLE_SSH`` variable in your shell to ``true`` before building export ENABLE_SSH=true,2,2
openstack%2Ftripleo-common~stable%2Fqueens~I869a77a5975ca7a1947cce256b094947e9e6351d,openstack/tripleo-common,stable/queens,I869a77a5975ca7a1947cce256b094947e9e6351d,Bump ceph-container to version 3.2.8,MERGED,2019-10-30 11:49:23.000000000,2019-11-11 14:27:08.000000000,2019-11-11 14:27:08.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14270}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-30 11:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11e756018d92a50123bbb4aece23cb1a76a76a48', 'message': 'Bump ceph-container to 3.2.7\n\nTested in https://review.opendev.org/#/c/562215/12\n\nChange-Id: I869a77a5975ca7a1947cce256b094947e9e6351d\n'}, {'number': 2, 'created': '2019-10-31 09:45:38.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8fc4eedde0488fee3d2f4416584fb4fcaf46c556', 'message': 'Bump ceph-container to version 3.2.8\n\nTested in https://review.opendev.org/#/c/562215\n\nChange-Id: I869a77a5975ca7a1947cce256b094947e9e6351d\n'}]",0,692113,8fc4eedde0488fee3d2f4416584fb4fcaf46c556,28,8,2,6796,,,0,"Bump ceph-container to version 3.2.8

Tested in https://review.opendev.org/#/c/562215

Change-Id: I869a77a5975ca7a1947cce256b094947e9e6351d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/692113/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,11e756018d92a50123bbb4aece23cb1a76a76a48,," 'ceph_tag': 'v3.2.7-stable-3.2-luminous-centos-7-x86_64',"," 'ceph_tag': 'v3.2.1-stable-3.2-luminous-centos-7-x86_64',",3,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I99bc5342360e307a9ee499cde5f2a0b5d78170f8,openstack/tripleo-heat-templates,stable/train,I99bc5342360e307a9ee499cde5f2a0b5d78170f8,Adds ceph-systemd tag in external_upgrade_tasks for systemd units,MERGED,2019-11-07 15:28:05.000000000,2019-11-11 14:27:07.000000000,2019-11-11 14:27:07.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-11-07 15:28:05.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e866739b6c736cdcf86903f3463a7f522a8f3d40', 'message': ""Adds ceph-systemd tag in external_upgrade_tasks for systemd units\n\nWhen upgrading the host operating system we'll also replace docker\nwith podman; ceph-ansible provides for a special playbook meant\nto refresh the systemd units to work with podman.\n\nThis change adds a task which on upgrade will execute the special\nplaybook. It requires ceph_ansible_limit to be set by the user as\nthat gets translated into a --limit option for the playbook execution\nso that it runs only against a specific node undergoing upgrade\nof the host operating system.\n\nChange-Id: I99bc5342360e307a9ee499cde5f2a0b5d78170f8\nDepends-On: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0\n(cherry picked from commit e8048707f7a56e52d8664ece8a4adbf958c0001e)\n""}]",0,693374,e866739b6c736cdcf86903f3463a7f522a8f3d40,12,5,1,6796,,,0,"Adds ceph-systemd tag in external_upgrade_tasks for systemd units

When upgrading the host operating system we'll also replace docker
with podman; ceph-ansible provides for a special playbook meant
to refresh the systemd units to work with podman.

This change adds a task which on upgrade will execute the special
playbook. It requires ceph_ansible_limit to be set by the user as
that gets translated into a --limit option for the playbook execution
so that it runs only against a specific node undergoing upgrade
of the host operating system.

Change-Id: I99bc5342360e307a9ee499cde5f2a0b5d78170f8
Depends-On: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0
(cherry picked from commit e8048707f7a56e52d8664ece8a4adbf958c0001e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/693374/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,e866739b6c736cdcf86903f3463a7f522a8f3d40,," tags: ceph-systemd block: - name: stop if _limit is unset fail: msg: The ceph-ansible systemd units migration playbook limit is not set; please use -e ceph_ansible_limit=##nodename## when: (ceph_ansible_limit is not defined) or (ceph_ansible_limit|length == 0) - name: set ceph_ansible_playbooks_default set_fact: ceph_ansible_playbooks_default: [""/usr/share/ceph-ansible/infrastructure-playbooks/docker-to-podman.yml""] - when: step|int == 0",,10,0
openstack%2Fopenstack-ansible-os_nova~stable%2Fqueens~Iecb74fd1e5a92e883152ac1e44d22b4a228372fd,openstack/openstack-ansible-os_nova,stable/queens,Iecb74fd1e5a92e883152ac1e44d22b4a228372fd,Undepricate the nova_compute_pip_packages in queens,ABANDONED,2019-11-08 08:59:42.000000000,2019-11-11 14:17:40.000000000,,"[{'_account_id': 6816}, {'_account_id': 14200}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 30568}]","[{'number': 1, 'created': '2019-11-08 08:59:42.000000000', 'files': ['tasks/drivers/kvm/nova_compute_kvm_install.yml', 'releasenotes/notes/libvirt-python-symlink-e892dd3536c02179.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c79bd417a893e5ef5d8ead1fcb0e56996dbbe37a', 'message': ""Undepricate the nova_compute_pip_packages in queens\n\nWith the change Id962efe16c425424715409f071c4a304f8416001 we lost the\nability to install the pip packages on the compute nodes only. In upstream\nwe have the many changes and 'nova_user_pip_packages' option, but for\nqueens we partialy revert the Id962efe16c425424715409f071c4a304f8416001.\n\nChange-Id: Iecb74fd1e5a92e883152ac1e44d22b4a228372fd\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",0,693504,c79bd417a893e5ef5d8ead1fcb0e56996dbbe37a,15,8,1,14200,,,0,"Undepricate the nova_compute_pip_packages in queens

With the change Id962efe16c425424715409f071c4a304f8416001 we lost the
ability to install the pip packages on the compute nodes only. In upstream
we have the many changes and 'nova_user_pip_packages' option, but for
queens we partialy revert the Id962efe16c425424715409f071c4a304f8416001.

Change-Id: Iecb74fd1e5a92e883152ac1e44d22b4a228372fd
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/04/693504/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-python-symlink-e892dd3536c02179.yaml', 'tasks/drivers/kvm/nova_compute_kvm_install.yml', 'defaults/main.yml']",3,c79bd417a893e5ef5d8ead1fcb0e56996dbbe37a,nova-compute-pip-packages,# pip packages that must be installed on compute nodes only #nova_compute_pip_packages: [] ,,22,4
openstack%2Ftripleo-common~stable%2Frocky~Icd5c919a634238551fef23cc9d03d63ed4089d7b,openstack/tripleo-common,stable/rocky,Icd5c919a634238551fef23cc9d03d63ed4089d7b,Bump ceph-container version to 3.2.8,MERGED,2019-10-30 11:46:49.000000000,2019-11-11 14:16:05.000000000,2019-11-11 14:16:05.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14270}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-30 11:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a6b84c8c1be0abf60a424333aa6fb81278a3377', 'message': 'Bump ceph-container version to 3.2.7\n\nTested in https://review.opendev.org/#/c/601598/10\n\nChange-Id: Icd5c919a634238551fef23cc9d03d63ed4089d7b\n'}, {'number': 2, 'created': '2019-10-31 09:46:28.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8e50afb2b600d35cbc0f7c7b7d97e09a053bbf33', 'message': 'Bump ceph-container version to 3.2.8\n\nTested in https://review.opendev.org/#/c/601598\n\nChange-Id: Icd5c919a634238551fef23cc9d03d63ed4089d7b\n'}]",0,692111,8e50afb2b600d35cbc0f7c7b7d97e09a053bbf33,31,7,2,6796,,,0,"Bump ceph-container version to 3.2.8

Tested in https://review.opendev.org/#/c/601598

Change-Id: Icd5c919a634238551fef23cc9d03d63ed4089d7b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/692111/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",3,0a6b84c8c1be0abf60a424333aa6fb81278a3377,," 'ceph_tag': 'v3.2.7-stable-3.2-luminous-centos-7-x86_64',"," 'ceph_tag': 'v3.2.1-stable-3.2-luminous-centos-7-x86_64',",3,3
openstack%2Fgovernance-uc~master~Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35,openstack/governance-uc,master,Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-05-11 07:29:50.000000000,2019-11-11 14:05:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-05-11 07:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/d0f3fd8d99475b4c2840f48096c71cc2d6924944', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35\n'}, {'number': 2, 'created': '2019-05-11 07:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/eab58f4bfc13b34d3671fdd1d36b9c4b4f0d20ea', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35\n'}, {'number': 3, 'created': '2019-05-11 07:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/fec10d2e8199889d03d8f161b1d4f66a610bd1a9', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35\n'}, {'number': 4, 'created': '2019-05-11 07:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/772e613388813fac7b17909e8bed8e74bca7a87d', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35\n'}, {'number': 5, 'created': '2019-07-17 02:41:44.000000000', 'files': ['reference/charter.rst', 'resolutions/20182407-new-auc-recognition-criteria.rst', 'doc/source/conf.py', 'reference/running-a-uc-election.rst'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/7178129183c47e9049124be77e764787ea69efa4', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35\n'}]",0,658526,7178129183c47e9049124be77e764787ea69efa4,13,2,5,30356,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/26/658526/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/charter.rst', 'resolutions/20182407-new-auc-recognition-criteria.rst', 'doc/source/conf.py', 'reference/running-a-uc-election.rst']",4,d0f3fd8d99475b4c2840f48096c71cc2d6924944,,1. Start by adding a patch to the `governance-uc <https://opendev.org/openstack/governance-uc>`_ repository similar to this `patch <https://review.opendev.org/#/c/627575/>`_; **be sure to modify the content like dates and number of seats**.,1. Start by adding a patch to the `governance-uc <https://git.openstack.org/openstack/governance-uc>`_ repository similar to this `patch <https://review.openstack.org/#/c/627575/>`_; **be sure to modify the content like dates and number of seats**.,10,10
openstack%2Fopenstack-ansible-os_nova~master~Iecb74fd1e5a92e883152ac1e44d22b4a228372fd,openstack/openstack-ansible-os_nova,master,Iecb74fd1e5a92e883152ac1e44d22b4a228372fd,Undepricate the nova_compute_pip_packages in queens,ABANDONED,2019-11-11 06:20:39.000000000,2019-11-11 14:05:34.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-11 06:20:39.000000000', 'files': ['releasenotes/notes/libvirt-python-symlink-e892dd3536c02179.yaml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2f7588caade10b7cc9be089f00e1da49cf54d4da', 'message': ""Undepricate the nova_compute_pip_packages in queens\n\nWith the change Id962efe16c425424715409f071c4a304f8416001 we lost the\nability to install the pip packages on the compute nodes only. In upstream\nwe have the many changes and 'nova_user_pip_packages' option, but for\nqueens we partialy revert the Id962efe16c425424715409f071c4a304f8416001.\n\nChange-Id: Iecb74fd1e5a92e883152ac1e44d22b4a228372fd\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",0,693652,2f7588caade10b7cc9be089f00e1da49cf54d4da,9,3,1,14200,,,0,"Undepricate the nova_compute_pip_packages in queens

With the change Id962efe16c425424715409f071c4a304f8416001 we lost the
ability to install the pip packages on the compute nodes only. In upstream
we have the many changes and 'nova_user_pip_packages' option, but for
queens we partialy revert the Id962efe16c425424715409f071c4a304f8416001.

Change-Id: Iecb74fd1e5a92e883152ac1e44d22b4a228372fd
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/52/693652/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-python-symlink-e892dd3536c02179.yaml', 'defaults/main.yml', 'vars/main.yml']",3,2f7588caade10b7cc9be089f00e1da49cf54d4da,nova-compute-pip-packages, {%- if nova_compute_pip_packages is defined %} {%- set _ = pkg_list.extend(nova_compute_pip_packages) %} {%- endif %},,6,4
openstack%2Fdiskimage-builder~master~I40492b82e7708135f447cf8a141dc12ce50aade0,openstack/diskimage-builder,master,I40492b82e7708135f447cf8a141dc12ce50aade0,Split out kernel tasks from ubuntu-minimal,NEW,2019-11-11 02:12:46.000000000,2019-11-11 13:55:56.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-11 02:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dcb05976d84fb11d8a0efed36dbd8b13f7ce9273', 'message': ""Split out kernel tasks from ubuntu-minimal\n\nubuntu-minimal does important things on top of a minimal chroot, but\nit has an element-dep on debootstrap, which means it's hard to\nuse it in combination with container-image to produce a working\nubuntu image.\n\nSplit it out into an element that does not depend on an element that\nproduces base filesystems.\n\nChange-Id: I40492b82e7708135f447cf8a141dc12ce50aade0\n""}, {'number': 2, 'created': '2019-11-11 11:04:00.000000000', 'files': ['diskimage_builder/elements/ubuntu-kernel/test-elements/bionic-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/ubuntu-kernel/test-elements/bionic-build-succeeds/README.rst', 'diskimage_builder/elements/ubuntu-kernel/test-elements/bionic-build-succeeds/test-output-formats', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/ubuntu-kernel/element-deps', 'diskimage_builder/elements/ubuntu-kernel/root.d/75-ubuntu-kernel-baseinstall', 'diskimage_builder/elements/ubuntu-kernel/test-elements/bionic-build-succeeds/element-deps', 'diskimage_builder/elements/ubuntu-kernel/package-installs.yaml', 'diskimage_builder/elements/ubuntu-minimal/root.d/74-ubuntu-minimal-apt-key', 'diskimage_builder/elements/ubuntu-kernel/README.rst', 'diskimage_builder/elements/ubuntu-kernel/environment.d/11-ubuntu-kernel.bash', 'diskimage_builder/elements/ubuntu-minimal/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a621e5cb411cb0a283af357b609b072dfb6e4ad2', 'message': ""Split out kernel tasks from ubuntu-minimal\n\nubuntu-minimal does important things on top of a minimal chroot, but\nit has an element-dep on debootstrap, which means it's hard to\nuse it in combination with container-image to produce a working\nubuntu image.\n\nSplit it out into an element that does not depend on an element that\nproduces base filesystems.\n\nChange-Id: I40492b82e7708135f447cf8a141dc12ce50aade0\n""}]",0,693642,a621e5cb411cb0a283af357b609b072dfb6e4ad2,8,3,2,2,,,0,"Split out kernel tasks from ubuntu-minimal

ubuntu-minimal does important things on top of a minimal chroot, but
it has an element-dep on debootstrap, which means it's hard to
use it in combination with container-image to produce a working
ubuntu image.

Split it out into an element that does not depend on an element that
produces base filesystems.

Change-Id: I40492b82e7708135f447cf8a141dc12ce50aade0
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/42/693642/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ubuntu-kernel/test-elements/bionic-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/ubuntu-kernel/test-elements/bionic-build-succeeds/README.rst', 'diskimage_builder/elements/ubuntu-kernel/test-elements/bionic-build-succeeds/test-output-formats', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/ubuntu-kernel/element-deps', 'diskimage_builder/elements/ubuntu-kernel/root.d/75-ubuntu-kernel-baseinstall', 'diskimage_builder/elements/ubuntu-kernel/test-elements/bionic-build-succeeds/element-deps', 'diskimage_builder/elements/ubuntu-kernel/package-installs.yaml', 'diskimage_builder/elements/ubuntu-minimal/root.d/74-ubuntu-minimal-apt-key', 'diskimage_builder/elements/ubuntu-kernel/README.rst', 'diskimage_builder/elements/ubuntu-kernel/environment.d/11-ubuntu-kernel.bash', 'diskimage_builder/elements/ubuntu-minimal/element-deps']",12,dcb05976d84fb11d8a0efed36dbd8b13f7ce9273,,ubuntu-kernel,package-installs ubuntu-common,72,10
openstack%2Fopenstack-ansible-os_magnum~master~Ibd3217424eda4cbc1cb25553065a0dde0d472b88,openstack/openstack-ansible-os_magnum,master,Ibd3217424eda4cbc1cb25553065a0dde0d472b88,Fix a typo,MERGED,2019-11-05 08:48:15.000000000,2019-11-11 13:54:37.000000000,2019-11-11 13:53:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-05 08:48:15.000000000', 'files': ['releasenotes/notes/magnum-init-config-overrides-aec21cbbd9da8e4e.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/9a9e77a50407acf247b0a6850921350f147fb6e4', 'message': 'Fix a typo\n\nChange-Id: Ibd3217424eda4cbc1cb25553065a0dde0d472b88\n'}]",0,692960,9a9e77a50407acf247b0a6850921350f147fb6e4,8,3,1,23317,,,0,"Fix a typo

Change-Id: Ibd3217424eda4cbc1cb25553065a0dde0d472b88
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/60/692960/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/magnum-init-config-overrides-aec21cbbd9da8e4e.yaml'],1,9a9e77a50407acf247b0a6850921350f147fb6e4,fix, load extra options into the defaults and pollute the generic, load extra options into the defaults and polute the generic,1,1
openstack%2Fsearchlight-specs~master~I474ae8075b1051b578a0f21f592f58d0790501a3,openstack/searchlight-specs,master,I474ae8075b1051b578a0f21f592f58d0790501a3,Sync Sphinx requirement,ABANDONED,2019-06-09 15:50:04.000000000,2019-11-11 13:52:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-06-09 15:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/9d32108f2869ce94ef04174196add7d0b47d29f5', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n\nChange-Id: I474ae8075b1051b578a0f21f592f58d0790501a3\n'}, {'number': 2, 'created': '2019-09-13 16:52:59.000000000', 'files': ['doc/source/index.rst', 'specs/ocata/ironic-plugin.rst', 'doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/107974b256c68424a37a804658d3e8820762aae4', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n\nChange-Id: I474ae8075b1051b578a0f21f592f58d0790501a3\n'}]",0,664160,107974b256c68424a37a804658d3e8820762aae4,8,4,2,30356,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest

Change-Id: I474ae8075b1051b578a0f21f592f58d0790501a3
",git fetch https://review.opendev.org/openstack/searchlight-specs refs/changes/60/664160/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/ocata/ironic-plugin.rst', 'doc/requirements.txt', 'setup.cfg']",4,9d32108f2869ce94ef04174196add7d0b47d29f5,,home-page = https://specs.openstack.org/openstack/searchlight-specs/,home-page = http://specs.openstack.org/openstack/searchlight-specs/,6,5
openstack%2Ftripleo-quickstart-extras~master~Ibd49b6a0026626200ab6d9c788cbb1c62ef3df94,openstack/tripleo-quickstart-extras,master,Ibd49b6a0026626200ab6d9c788cbb1c62ef3df94,Sync Sphinx requirement,ABANDONED,2019-06-04 03:04:31.000000000,2019-11-11 13:51:29.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 17130}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27781}, {'_account_id': 27822}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-06-04 03:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0abce3b514b26600f91e162d9bb38b28b8057f2d', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ibd49b6a0026626200ab6d9c788cbb1c62ef3df94\nCloses-Bug: #1831512\n'}, {'number': 2, 'created': '2019-10-14 10:27:25.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9b766b639f1330213401cafca55a0d82b24c5c47', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ibd49b6a0026626200ab6d9c788cbb1c62ef3df94\nCloses-Bug: #1831512\n'}]",1,662919,9b766b639f1330213401cafca55a0d82b24c5c47,12,9,2,30356,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ibd49b6a0026626200ab6d9c788cbb1c62ef3df94
Closes-Bug: #1831512
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/19/662919/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0abce3b514b26600f91e162d9bb38b28b8057f2d,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,2,1
openstack%2Fsahara-specs~master~I677168980f7fbabbf388d377eb20ce8b01a3b4b1,openstack/sahara-specs,master,I677168980f7fbabbf388d377eb20ce8b01a3b4b1,Remove seamingly unused cmd2 dependency,MERGED,2019-10-29 10:51:06.000000000,2019-11-11 13:35:16.000000000,2019-11-11 13:34:14.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-29 10:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/4694f29eeb22bd1b46c7659caf635dc337e886b1', 'message': 'Remove seamingly unused cmd2 dependency\n\nChange-Id: I677168980f7fbabbf388d377eb20ce8b01a3b4b1\n'}, {'number': 2, 'created': '2019-11-11 12:32:09.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/b41a9883fbb7cf409d0d03ef348391dd3d204e52', 'message': 'Remove seamingly unused cmd2 dependency\n\ncmd2 was brought in as a dependency here:\n\nhttps://review.opendev.org/#/c/570972/\n\nAs long as we used python 2, we needed to cap cmd2.\nHowever, some time ago we switched to Python3 as part\nof https://review.opendev.org/#/c/581193/ so the cap\nis no longer needed.\n\nChange-Id: I677168980f7fbabbf388d377eb20ce8b01a3b4b1\n'}]",0,691839,b41a9883fbb7cf409d0d03ef348391dd3d204e52,13,3,2,6593,,,0,"Remove seamingly unused cmd2 dependency

cmd2 was brought in as a dependency here:

https://review.opendev.org/#/c/570972/

As long as we used python 2, we needed to cap cmd2.
However, some time ago we switched to Python3 as part
of https://review.opendev.org/#/c/581193/ so the cap
is no longer needed.

Change-Id: I677168980f7fbabbf388d377eb20ce8b01a3b4b1
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/39/691839/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4694f29eeb22bd1b46c7659caf635dc337e886b1,,,cmd2<0.9.0,0,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I1d24dce0ff9c88380e8769593d619a9e4e944e40,openstack/tripleo-heat-templates,stable/stein,I1d24dce0ff9c88380e8769593d619a9e4e944e40,Define ovn_dbs_image fact for upgrades.,MERGED,2019-11-08 07:07:11.000000000,2019-11-11 13:11:16.000000000,2019-11-09 00:48:14.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-08 07:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fdc7c83722dfc13f16e66570139ff515196a3e2', 'message': 'Define ovn_dbs_image fact for upgrades.\n\nThe ovn upgrade_tasks make use of a block which belongs\nto the update_tasks. In that block, the ovs_dbs_image\nvariable is being referenced. However, the fact is set\nin a step before the block invoked.\n\nThis patch sets ovn_dbs_image fact in step0 for upgrade\ntasks and fixes a small typo with the bundle.\n\nChange-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40\nCloses-Bug: #1851669\n(cherry picked from commit 460d4771a6be1b7aebc8c86263149e2835cad654)\n'}, {'number': 2, 'created': '2019-11-08 07:07:44.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad729328dbba653dd42a11b5f8012c5d1e5e1c08', 'message': 'Define ovn_dbs_image fact for upgrades.\n\nThe ovn upgrade_tasks make use of a block which belongs\nto the update_tasks. In that block, the ovs_dbs_image\nvariable is being referenced. However, the fact is set\nin a step before the block invoked.\n\nThis patch sets ovn_dbs_image fact in step0 for upgrade\ntasks and fixes a small typo with the bundle.\n\nChange-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40\nCloses-Bug: #1851669\n(cherry picked from commit 460d4771a6be1b7aebc8c86263149e2835cad654)\n'}]",1,693490,ad729328dbba653dd42a11b5f8012c5d1e5e1c08,14,5,2,3153,,,0,"Define ovn_dbs_image fact for upgrades.

The ovn upgrade_tasks make use of a block which belongs
to the update_tasks. In that block, the ovs_dbs_image
variable is being referenced. However, the fact is set
in a step before the block invoked.

This patch sets ovn_dbs_image fact in step0 for upgrade
tasks and fixes a small typo with the bundle.

Change-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40
Closes-Bug: #1851669
(cherry picked from commit 460d4771a6be1b7aebc8c86263149e2835cad654)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/693490/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,6fdc7c83722dfc13f16e66570139ff515196a3e2,, ovn_dbs_image: {get_param: ContainerOvnDbsImage} resource: ovn-dbs-bundle, resource: ovn-dbs-bindle,2,1
openstack%2Fnetworking-calico~master~If8bde036b750a3610d68024fe88482fdf1303d04,openstack/networking-calico,master,If8bde036b750a3610d68024fe88482fdf1303d04,Log more detail for Etcd3Exceptions,MERGED,2019-11-08 15:21:16.000000000,2019-11-11 12:49:31.000000000,2019-11-11 12:49:31.000000000,"[{'_account_id': 13734}, {'_account_id': 19461}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 15:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/2e9c3af7414c144964ee766a335528d0aa63bd9f', 'message': ""Log more detail for Etcd3Exceptions\n\nAs of https://github.com/dims/etcd3-gateway/pull/31 and\nhttps://github.com/dims/etcd3-gateway/pull/32, etcd3-gateway's\nEtcd3Exception can report additional information, in its detail_text\nfield, when an HTTP request from Calico to the grpc gateway gets a\nfailure response.\n\nThis change updates the networking-calico code to include that\ndetail_text content in logging.\n\nChange-Id: If8bde036b750a3610d68024fe88482fdf1303d04\n""}, {'number': 2, 'created': '2019-11-08 16:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/ebcb4923dc72aa9ee117385bdece971456c269b5', 'message': ""Log more detail for Etcd3Exceptions\n\nAs of https://github.com/dims/etcd3-gateway/pull/31 and\nhttps://github.com/dims/etcd3-gateway/pull/32, etcd3-gateway's\nEtcd3Exception can report additional information, in its detail_text\nfield, when an HTTP request from Calico to the grpc gateway gets a\nfailure response.\n\nThis change updates the networking-calico code to include that\ndetail_text content in logging.\n\nChange-Id: If8bde036b750a3610d68024fe88482fdf1303d04\n""}, {'number': 3, 'created': '2019-11-08 17:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/b4263f263191574103892f67ee364ee9d006c6e7', 'message': ""Log more detail for Etcd3Exceptions\n\nAs of https://github.com/dims/etcd3-gateway/pull/31 and\nhttps://github.com/dims/etcd3-gateway/pull/32, etcd3-gateway's\nEtcd3Exception can report additional information, in its detail_text\nfield, when an HTTP request from Calico to the grpc gateway gets a\nfailure response.\n\nThis change updates the networking-calico code to include that\ndetail_text content in logging.\n\nChange-Id: If8bde036b750a3610d68024fe88482fdf1303d04\n""}, {'number': 4, 'created': '2019-11-10 15:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/fa5d4fe9cdc9a5dd7f1f51b3409d87b52550618d', 'message': ""Log more detail for Etcd3Exceptions\n\nAs of https://github.com/dims/etcd3-gateway/pull/31 and\nhttps://github.com/dims/etcd3-gateway/pull/32, etcd3-gateway's\nEtcd3Exception can report additional information, in its detail_text\nfield, when an HTTP request from Calico to the grpc gateway gets a\nfailure response.\n\nThis change updates the networking-calico code to include that\ndetail_text content in logging.\n\nChange-Id: If8bde036b750a3610d68024fe88482fdf1303d04\n""}, {'number': 5, 'created': '2019-11-11 09:56:20.000000000', 'files': ['networking_calico/tests/test_subnet_watcher.py', 'networking_calico/etcdv3.py', 'networking_calico/plugins/ml2/drivers/calico/mech_calico.py', 'networking_calico/plugins/ml2/drivers/calico/election.py', 'networking_calico/plugins/ml2/drivers/calico/test/test_election.py', 'networking_calico/tests/test_etcdv3.py', 'networking_calico/agent/dhcp_agent.py', 'tox.ini', 'networking_calico/plugins/ml2/drivers/calico/test/test_compaction.py'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/a742d23666324081bb6937f2aa354f3a53634c80', 'message': ""Log more detail for Etcd3Exceptions\n\nAs of https://github.com/dims/etcd3-gateway/pull/31 and\nhttps://github.com/dims/etcd3-gateway/pull/32, etcd3-gateway's\nEtcd3Exception can report additional information, in its detail_text\nfield, when an HTTP request from Calico to the grpc gateway gets a\nfailure response.\n\nThis change updates the networking-calico code to include that\ndetail_text content in logging.\n\nChange-Id: If8bde036b750a3610d68024fe88482fdf1303d04\n""}]",2,693550,a742d23666324081bb6937f2aa354f3a53634c80,24,3,5,13734,,,0,"Log more detail for Etcd3Exceptions

As of https://github.com/dims/etcd3-gateway/pull/31 and
https://github.com/dims/etcd3-gateway/pull/32, etcd3-gateway's
Etcd3Exception can report additional information, in its detail_text
field, when an HTTP request from Calico to the grpc gateway gets a
failure response.

This change updates the networking-calico code to include that
detail_text content in logging.

Change-Id: If8bde036b750a3610d68024fe88482fdf1303d04
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/50/693550/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_calico/etcdv3.py', 'networking_calico/plugins/ml2/drivers/calico/mech_calico.py', 'networking_calico/plugins/ml2/drivers/calico/election.py', 'networking_calico/agent/dhcp_agent.py', 'tox.ini']",5,2e9c3af7414c144964ee766a335528d0aa63bd9f,log-extra-detail," pip install -q -e ""git+https://github.com/dims/etcd3-gateway.git@19abd85#egg=etcd3gw""",,14,6
openstack%2Fopenstack-manuals~master~Iff66f21c7e12562eaec6b71b5966245c1b1e8c9c,openstack/openstack-manuals,master,Iff66f21c7e12562eaec6b71b5966245c1b1e8c9c,Add Train install guide links,MERGED,2019-11-08 08:02:57.000000000,2019-11-11 12:47:05.000000000,2019-11-11 12:19:59.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 08:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/abb4d8ca7e614499c388584e043bffb2b20dc584', 'message': 'Add Train install guide links\n\nChange-Id: Iff66f21c7e12562eaec6b71b5966245c1b1e8c9c\n'}, {'number': 2, 'created': '2019-11-11 02:24:30.000000000', 'files': ['doc/install-guide/source/openstack-services.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f16e54c5d872f2dd22b92f24f3728bb5f70b580b', 'message': 'Add Train install guide links\n\nChange-Id: Iff66f21c7e12562eaec6b71b5966245c1b1e8c9c\n'}]",2,693496,f16e54c5d872f2dd22b92f24f3728bb5f70b580b,12,4,2,19779,,,0,"Add Train install guide links

Change-Id: Iff66f21c7e12562eaec6b71b5966245c1b1e8c9c
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/96/693496/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/openstack-services.rst'],1,abb4d8ca7e614499c388584e043bffb2b20dc584,train-release," <https://docs.openstack.org/train/install/>`_ * `OpenStack Installation Guides for SteinMinimal deployment for Train ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ At a minimum, you need to install the following services. Install the services in the order specified below: * Identity service  `keystone installation for Train <https://docs.openstack.org/keystone/train/install/>`_ * Image service  `glance installation for Train <https://docs.openstack.org/glance/train/install/>`_ * Placement service  `placement installation for Train <https://docs.openstack.org/placement/train/install/>`_ * Compute service  `nova installation for Train <https://docs.openstack.org/nova/train/install/>`_ * Networking service  `neutron installation for Train <https://docs.openstack.org/neutron/train/install/>`_ We advise to also install the following components after you have installed the minimal deployment services: * Dashboard  `horizon installation for Train <https://docs.openstack.org/horizon/train/install/>`_ * Block Storage service  `cinder installation for Train <https://docs.openstack.org/cinder/train/install/>`_ ",,25,0
openstack%2Fkolla~stable%2Frocky~I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,openstack/kolla,stable/rocky,I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,swift-rsyncd: don't recursively chown /srv/node at startup,MERGED,2019-11-11 09:38:17.000000000,2019-11-11 12:42:29.000000000,2019-11-11 12:42:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-11 09:38:17.000000000', 'files': ['docker/swift/swift-rsyncd/extend_start.sh', 'docker/swift/swift-base/swift_sudoers'], 'web_link': 'https://opendev.org/openstack/kolla/commit/daafc9380b326cb04ced3033dd8686673df3dc0d', 'message': ""swift-rsyncd: don't recursively chown /srv/node at startup\n\nInstead of doing a recursive chown on /srv/node, chown only /srv/node\nand any immediate subdirectory under /srv/node.\n\nChange-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5\nCloses-Bug: #1851169\n(cherry picked from commit 2d122afaf9817cadc668b308c4f736e47c09a55f)\n""}]",0,693668,daafc9380b326cb04ced3033dd8686673df3dc0d,7,3,1,14826,,,0,"swift-rsyncd: don't recursively chown /srv/node at startup

Instead of doing a recursive chown on /srv/node, chown only /srv/node
and any immediate subdirectory under /srv/node.

Change-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5
Closes-Bug: #1851169
(cherry picked from commit 2d122afaf9817cadc668b308c4f736e47c09a55f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/693668/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-rsyncd/extend_start.sh', 'docker/swift/swift-base/swift_sudoers']",2,daafc9380b326cb04ced3033dd8686673df3dc0d,bug/1851169-stable/rocky,swift ALL=(root) NOPASSWD: /bin/find /srv/node/ -maxdepth 1 -type d -execdir chown swift\:swift {} \\+ swift ALL=(root) NOPASSWD: /usr/bin/find /srv/node/ -maxdepth 1 -type d -execdir chown swift\:swift {} \\+,swift ALL=(root) NOPASSWD: /bin/chown -R swift\:swift /srv/node swift ALL=(root) NOPASSWD: /usr/bin/chown -R swift\:swift /srv/node,3,3
openstack%2Fneutron~master~I18ff3b434cf62267ef26f90f00096ab812d0b4b4,openstack/neutron,master,I18ff3b434cf62267ef26f90f00096ab812d0b4b4,"Revert ""Add binding_index to NetworkDhcpAgentBinding""",ABANDONED,2019-10-28 16:21:19.000000000,2019-11-11 12:30:16.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 11159}, {'_account_id': 11975}, {'_account_id': 12708}, {'_account_id': 13252}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16264}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17491}, {'_account_id': 19726}, {'_account_id': 20330}, {'_account_id': 21784}, {'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 26622}, {'_account_id': 29157}]","[{'number': 1, 'created': '2019-10-28 16:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb2726c8a8a5aae40c61135abcf0dca106f42352', 'message': 'Revert ""Add binding_index to NetworkDhcpAgentBinding""\n\nThis reverts commit 69b3762dda47272513e02340e7942d5a39f825c5.\n\nChange-Id: I18ff3b434cf62267ef26f90f00096ab812d0b4b4\n'}, {'number': 2, 'created': '2019-10-28 21:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c0d77180b3bd81691f07c403d5543de340c4c08', 'message': 'Revert ""Add binding_index to NetworkDhcpAgentBinding""\n\nThis reverts commit 69b3762dda47272513e02340e7942d5a39f825c5.\n\nCloses-bug: #1849976\n\nChange-Id: I18ff3b434cf62267ef26f90f00096ab812d0b4b4\n'}, {'number': 3, 'created': '2019-10-30 09:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31f98f08c4caca8c8e64eace5fcca0da6e3db220', 'message': 'Revert ""Add binding_index to NetworkDhcpAgentBinding""\n\nThis reverts commit 69b3762dda47272513e02340e7942d5a39f825c5.\n\nConflicts:\n        neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD\n        neutron/tests/unit/objects/test_objects.py\n\nCloses-bug: #1849976\nChange-Id: I18ff3b434cf62267ef26f90f00096ab812d0b4b4\n'}, {'number': 4, 'created': '2019-10-30 22:10:16.000000000', 'files': ['neutron/objects/network.py', 'neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/scheduler/base_scheduler.py', 'neutron/db/agentschedulers_db.py', 'neutron/tests/unit/scheduler/test_dhcp_agent_scheduler.py', 'neutron/db/migration/alembic_migrations/versions/ussuri/expand/86274d77933e_change_mtu_to_not_null.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/db/migration/alembic_migrations/versions/train/expand/c3e9d13c4367_add_binding_index_to_.py', 'neutron/db/network_dhcp_agent_binding/models.py', 'neutron/tests/functional/db/migrations/test_c3e9d13c4367_add_binding_index_to_.py', 'neutron/scheduler/base_resource_filter.py', 'neutron/scheduler/dhcp_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4da4434d52a05e63fb8bbc043171149068ffe603', 'message': 'Revert ""Add binding_index to NetworkDhcpAgentBinding""\n\nThis reverts commit 69b3762dda47272513e02340e7942d5a39f825c5.\n\nConflicts:\n        neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD\n        neutron/tests/unit/objects/test_objects.py\n\nCloses-bug: #1849976\nChange-Id: I18ff3b434cf62267ef26f90f00096ab812d0b4b4\n'}]",7,691710,4da4434d52a05e63fb8bbc043171149068ffe603,78,38,4,1131,,,0,"Revert ""Add binding_index to NetworkDhcpAgentBinding""

This reverts commit 69b3762dda47272513e02340e7942d5a39f825c5.

Conflicts:
        neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD
        neutron/tests/unit/objects/test_objects.py

Closes-bug: #1849976
Change-Id: I18ff3b434cf62267ef26f90f00096ab812d0b4b4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/691710/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/network.py', 'neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/scheduler/base_scheduler.py', 'neutron/db/agentschedulers_db.py', 'neutron/tests/unit/scheduler/test_dhcp_agent_scheduler.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/db/migration/alembic_migrations/versions/train/expand/c3e9d13c4367_add_binding_index_to_.py', 'neutron/db/network_dhcp_agent_binding/models.py', 'neutron/tests/functional/db/migrations/test_c3e9d13c4367_add_binding_index_to_.py', 'neutron/scheduler/base_resource_filter.py', 'neutron/scheduler/dhcp_agent_scheduler.py']",12,eb2726c8a8a5aae40c61135abcf0dca106f42352,bug/1849976," bindings_to_add.append((dhcp_agent, net_id)) for agent, net_id in bindings_to_add: self.resource_filter.bind(context, [agent], net_id) def bind(self, context, agents, network_id): network_id=network_id).create() 'hosted by DHCP agent %(agent_id)s', 'agent_id': agent_id})","from neutron.db.network_dhcp_agent_binding import models as ndab_model bindings_to_add.append( (dhcp_agent, net_id, is_routed_network)) for agent, net_id, is_routed_network in bindings_to_add: self.resource_filter.bind( context, [agent], net_id, force_scheduling=is_routed_network) def get_vacant_network_dhcp_agent_binding_index( self, context, network_id, force_scheduling): """"""Return a vacant binding_index to use and whether or not it exists. Each NetworkDhcpAgentBinding has a binding_index which is unique per network_id, and when creating a single binding we require to find a 'vacant' binding_index which isn't yet used - for example if we have bindings with indices 1 and 3, then clearly binding_index == 2 is free. :returns: binding_index. """""" num_agents = agent_obj.Agent.count( context, agent_type=constants.AGENT_TYPE_DHCP) num_agents = min(num_agents, cfg.CONF.dhcp_agents_per_network) bindings = network.NetworkDhcpAgentBinding.get_objects( context, network_id=network_id) binding_indices = [b.binding_index for b in bindings] all_indices = set(range(ndab_model.LOWEST_BINDING_INDEX, num_agents + 1)) open_slots = sorted(list(all_indices - set(binding_indices))) if open_slots: return open_slots[0] # Last chance: if this is a manual scheduling, we're gonna allow # creation of a binding_index even if it will exceed # max_l3_agents_per_router. if force_scheduling: return max(all_indices) + 1 return -1 def bind(self, context, agents, network_id, force_scheduling=False): binding_index = self.get_vacant_network_dhcp_agent_binding_index( context, network_id, force_scheduling) if binding_index < ndab_model.LOWEST_BINDING_INDEX: LOG.debug('Unable to find a vacant binding_index for ' 'network %(network_id)s and agent %(agent_id)s', {'network_id': network_id, 'agent_id': agent.id}) continue network_id=network_id, binding_index=binding_index).create() 'hosted by DHCP agent %(agent_id)s with binding_index ' '%(binding_index)d', 'agent_id': agent_id, 'binding_index': binding_index})",69,291
openstack%2Fsearchlight~master~Id5a2d06a4c006f042a33fd68fb1b77be7513ee04,openstack/searchlight,master,Id5a2d06a4c006f042a33fd68fb1b77be7513ee04,Remove image_urls of CirrOS in local.conf.example,MERGED,2019-11-11 11:04:48.000000000,2019-11-11 12:21:04.000000000,2019-11-11 12:19:56.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-11-11 11:04:48.000000000', 'files': ['devstack/local.conf.example'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/7361075238ecb8ee60d250c5228d8af74a821695', 'message': 'Remove image_urls of CirrOS in local.conf.example\n\nCirrOS is default image in latest devstack.\nSo, The error occurs during run stack.sh like below.\n\n[ERROR] /opt/stack/devstack/stackrc:780\nhttp://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img is\nduplicate, please remove it from IMAGE_URLS.\n\nChange-Id: Id5a2d06a4c006f042a33fd68fb1b77be7513ee04\n'}]",0,693679,7361075238ecb8ee60d250c5228d8af74a821695,7,2,1,23279,,,0,"Remove image_urls of CirrOS in local.conf.example

CirrOS is default image in latest devstack.
So, The error occurs during run stack.sh like below.

[ERROR] /opt/stack/devstack/stackrc:780
http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img is
duplicate, please remove it from IMAGE_URLS.

Change-Id: Id5a2d06a4c006f042a33fd68fb1b77be7513ee04
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/79/693679/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.example'],1,7361075238ecb8ee60d250c5228d8af74a821695,,,"# latest cirros qcow2 image instead of UEC ones IMAGE_URLS+="",http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"" ",0,3
openstack%2Fkayobe~master~I0d3c7865eab71e0020bdb4646550d8ae27e31458,openstack/kayobe,master,I0d3c7865eab71e0020bdb4646550d8ae27e31458,Only stop chrony on nodes in kolla inventory,MERGED,2019-11-08 13:53:54.000000000,2019-11-11 12:18:31.000000000,2019-11-11 11:14:42.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 13:53:54.000000000', 'files': ['ansible/stop-chrony.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/114b92905ad6842c9d26f0976307cdb63e6174f6', 'message': 'Only stop chrony on nodes in kolla inventory\n\nIf docker is not installed this task will currently fail.\n\nChange-Id: I0d3c7865eab71e0020bdb4646550d8ae27e31458\nStory: 2006247\nTask: 37391\n'}]",0,693539,114b92905ad6842c9d26f0976307cdb63e6174f6,10,3,1,28048,,,0,"Only stop chrony on nodes in kolla inventory

If docker is not installed this task will currently fail.

Change-Id: I0d3c7865eab71e0020bdb4646550d8ae27e31458
Story: 2006247
Task: 37391
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/39/693539/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/stop-chrony.yml'],1,114b92905ad6842c9d26f0976307cdb63e6174f6,chrony-fix," vars: # kolla_overcloud_inventory_top_level_group_map looks like: # kolla_overcloud_inventory_top_level_group_map: # control: # groups: # - controllers overcloud_nodes_in_kolla_inventory: >- {{ kolla_overcloud_inventory_top_level_group_map.values() | map(attribute='groups') | flatten | unique | join(':') }} when: - not kolla_enable_chrony | bool - inventory_hostname in query('inventory_hostnames', overcloud_nodes_in_kolla_inventory)", when: not kolla_enable_chrony | bool,12,1
openstack%2Fnova~master~Ibaa31fc8079c16e169472372c05dc48ff0602515,openstack/nova,master,Ibaa31fc8079c16e169472372c05dc48ff0602515,Execute CrossCellMigrationTask from MigrationTask,MERGED,2019-02-07 22:06:10.000000000,2019-11-11 11:25:26.000000000,2019-11-07 20:54:14.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-02-07 22:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be89c0a1024f2322fb3d276ae54a7ed861dd084b', 'message': 'WIP: Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 2, 'created': '2019-02-08 01:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2aeef80d12cc28969688c0831be1aeeff8bf5317', 'message': 'WIP: Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 3, 'created': '2019-02-08 21:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4a0c4839c0039c24dae62a2e9e8e1df8bf2d139', 'message': 'WIP: Execute CrossCellMigrationTask from MigrationTask\n\nTODO: tests and fix bug 1815153 separately\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 4, 'created': '2019-02-11 17:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/421bf5114e85362b508037201044adf439fac632', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 5, 'created': '2019-02-11 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bf465ad926360a02caf7be883991efe34a6e95e', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 6, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e81048c262aba73b146d207b02acfb410402c4c6', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 7, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ac14a1adab59c4b2c0cace019e5045dce25e006', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 8, 'created': '2019-02-18 19:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5672957ebc1781056e8173c58e8a48cb75b17897', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 9, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8609e5da355104b02a0643f2d77ddd2970eb28fd', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 10, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c13f7dec7b4f14b941f6ef147fbe146cd8da3d40', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 11, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b414ef69fb12aeb558f2ff4a248afbfad9b07ce', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 12, 'created': '2019-03-08 23:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b321f14c1133b1047dcd92f34790638df5b7bb7b', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 13, 'created': '2019-03-11 22:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57e704896676e284fd3319a978a54c4ce999d644', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 14, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c75939f12f019ba5cf742798365f8bf64496eb99', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 15, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abd6f9345c87b84dbb47cffd0e85967c483850a9', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 16, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bb2975b737416608d7d2eebea0187f17b537eb8', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 17, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e087800c0f0109b74560227f9a643862e0f4f28', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 18, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4456f11e2cbabda4162a445de7fd4a8782ae14d', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 19, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76e027b9528125bfd41ab4f17d68fc14d2606627', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 20, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/378b9c9300ea2f82066e6096b93b2b5da58b74e6', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 21, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a21dac68e95b752a0af1ab4cbc6880f8eeb9cc1e', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 22, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37fdac93683ac16b393216462e1c88acf6a45f59', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 23, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4821f598e2bc7c1072b0ee17dc4c48ea72ef8e8a', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 24, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c974362b3fb1c9d8ca1d00869a0d8fc91f7983fb', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 25, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86af8239967b19950da90075cd129e72c6d2ab51', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 26, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d111a53b1788c768f9b3e7abc71fe3f8a4f7ceb0', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 27, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fea9b4593a2a6caf85171003dc5524440059f9d1', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 28, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c50dc615ac7bc6d8879748c9c2a2b4d7a1e1528', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 29, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/972ce6119e9744e141b4f2d41e53d217c22cf682', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 30, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73fa318b384bf59104d789acc295cfdfd6a9570a', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 31, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14516beb46e235ca05e810a14624c1ec6c15085e', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 32, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1dc7cbec178a28a7c4d4a89af42053b9e7045c4', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 33, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b2fec150f62d5c48d88b9474b9f320dca9d23ad', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 34, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d57a9da4d90024bf61a0faba6244b0831677b732', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 35, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9be3c8975bcb5d7d0330846ea49102b1d3bb2c48', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 36, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d703bc27be9da31a1a4b806f463fe47ab5c6a923', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 37, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f06c1e7903a0c77c79651db8fdedc637cf357e31', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 38, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b68e9c06639a4b139d8a0a2c541f713e2b0ad3cd', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 39, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3a7677a837af72b4b2f0acfe5f8790e11005760', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 40, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3944741790d9056dc00380c7ff528e957827fe4', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 41, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24903ba30972a91df8d2aaa9f37c14e7b83c7694', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 42, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dad0448afccfce51272c2ad7c6dac4c76b8ea39', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 43, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/541aca390b65dea4c20dc0cc36ac6fcfaa1b4e42', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 44, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3a1dd0e367c07fba2c0ee7b799eb44bf7fc9d6e', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 45, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/805d48e0ec14679c844374c8975855d94239950e', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 46, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b947ef1f841b1464d8fa6ffea2e55a46441e5af', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 47, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/966bd0297684d2adbbdff633a527f5dcbe37ac05', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 48, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b58d277383d0dfe930c6fa3cc241dde3d4f3c06', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 49, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86a5a6cb41e27dc7ccb8d767288e8fa2854dc5c2', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 50, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcb13851c97f10f706f7dd1ee4ba01473e797cb2', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 51, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06593b0d4f7416701fbee50a04bbfaa917c9b3fa', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 52, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ee2d4337fe6faad20708a5296712c69e1f01b62', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nNote the _restrict_request_spec_to_cell method gets\nrenamed and logging is adjusted since we may not be\nrestricting the scheduler to hosts in the same cell\nif cross-cell moves are allowed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}, {'number': 53, 'created': '2019-11-05 19:24:41.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/tasks/migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/425518d1988a60ec0dc9bf35622c57ae809798f9', 'message': 'Execute CrossCellMigrationTask from MigrationTask\n\nThis adds the code to check if a cross-cell move is\nallowed by the RequestSpec, which is set in the API,\nand if so, checks to see if the scheduler selected\na host in another cell. If so, then CrossCellMigrationTask\nis executed.\n\nNote the _restrict_request_spec_to_cell method gets\nrenamed and logging is adjusted since we may not be\nrestricting the scheduler to hosts in the same cell\nif cross-cell moves are allowed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515\n'}]",30,635668,425518d1988a60ec0dc9bf35622c57ae809798f9,540,18,53,6873,,,0,"Execute CrossCellMigrationTask from MigrationTask

This adds the code to check if a cross-cell move is
allowed by the RequestSpec, which is set in the API,
and if so, checks to see if the scheduler selected
a host in another cell. If so, then CrossCellMigrationTask
is executed.

Note the _restrict_request_spec_to_cell method gets
renamed and logging is adjusted since we may not be
restricting the scheduler to hosts in the same cell
if cross-cell moves are allowed.

Part of blueprint cross-cell-resize

Change-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/635668/29 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/tasks/migrate.py'],1,be89c0a1024f2322fb3d276ae54a7ed861dd084b,bp/cross-cell-resize,"from nova.conductor.tasks import cross_cell_migrate # NOTE(mriedem): If the user is allowed to perform a cross-cell resize # then add the current cell to the request spec as ""preferred"" so the # scheduler will weigh hosts within the current cell over hosts in # another cell, all other things being equal. If the user is not # allowed to perform cross-cell resize, then we limit the request spec # and tell the scheduler to only look at hosts in the current cell. # TODO(mriedem): This calculation needs to happen in the API code. # allow_cross_cell_resize = self.context.can( # server_policies.CROSS_CELL_RESIZE, # target={'user_id': self.instance.user_id, # 'project_id': self.instance.project_id}, # fatal=False) allow_cross_cell_resize = ( 'requested_destination' in self.request_spec and self.request_spec.requested_destination and self.request_spec.requested_destination.allow_cross_cell_move) # TODO(mriedem): If true, we should probably check a few things like # (1) is cinder new enough for the new attachment flow (v3.44 API) and # (2) are all of the computes running a high enough service version? if allow_cross_cell_resize: LOG.debug('Preferring cell %(cell)s while migrating', {'cell': instance_mapping.cell_mapping.identity}, instance=self.instance) else: LOG.debug('Restricting to cell %(cell)s while migrating', {'cell': instance_mapping.cell_mapping.identity}, instance=self.instance) # NOTE(mriedem): This must only be called after calling # _restrict_request_spec_to_cell to setup the request spec. def _is_selected_host_in_source_cell(self, selection): if self.request_spec.requested_destination.allow_cross_cell_move: # Check to see if the selected host is in another cell by # looking at the host mapping. We can only do this while # we're in the superconductor so we don't do an up-call. hm = objects.HostMapping.get_by_host( self.context, selection.service_host) if (hm.cell_mapping.uuid != self.request_spec.requested_destination.cell.uuid): return False return True if not self._is_selected_host_in_source_cell(selection): # If the selected host is in another cell, we need to execute # another task to do the cross-cell migration # NOTE(mriedem): We need to keep in mind that at this point # we're still in a synchronous RPC call from nova-api and could # timeout the API response if we're going to do reschedules # within conductor like the live migration task does when # picking a host in the _find_destination method. Maybe we need # a microversion to make resize perform the pre-checks # synchronously like 2.34. # TODO(mriedem): Per the NOTE above, have the API RPC cast # if we're allowed to do a cross-cell resize. LOG.info('Executing cross-cell resize task starting with ' 'target host: %s', selection.service_host, instance=self.instance) task = cross_cell_migrate.CrossCellMigrationTask( self.context, self.instance, self.flavor, self.request_spec, self._migration, self.compute_rpcapi, selection, self.host_list) task.execute() return"," # NOTE(danms): Right now we only support migrate to the same # cell as the current instance, so request that the scheduler # limit thusly. LOG.debug('Requesting cell %(cell)s while migrating', {'cell': instance_mapping.cell_mapping.identity}, instance=self.instance)",66,6
openstack%2Ftempest~master~Ie8e7e8f462011fb13f780892c4541bc1e79f7845,openstack/tempest,master,Ie8e7e8f462011fb13f780892c4541bc1e79f7845,Default securit group may be in-use by resources,ABANDONED,2019-05-21 09:40:02.000000000,2019-11-11 11:14:03.000000000,,"[{'_account_id': 5689}, {'_account_id': 9531}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-21 09:40:02.000000000', 'files': ['tempest/lib/common/dynamic_creds.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a7c43a85ba12f59a4a8ddfca9417b9a66323837', 'message': 'Default securit group may be in-use by resources\n\nChange-Id: Ie8e7e8f462011fb13f780892c4541bc1e79f7845\n'}]",6,660318,4a7c43a85ba12f59a4a8ddfca9417b9a66323837,8,4,1,9531,,,0,"Default securit group may be in-use by resources

Change-Id: Ie8e7e8f462011fb13f780892c4541bc1e79f7845
",git fetch https://review.opendev.org/openstack/tempest refs/changes/18/660318/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/dynamic_creds.py'],1,4a7c43a85ba12f59a4a8ddfca9417b9a66323837,," except lib_exc.Conflict as e_conf: LOG.warning(""failed to cleanup tenant %s's secgroup, "" ""it may still in use by other resources, "" ""detail: %s."", creds.tenant_name, str(e_conf))",,6,0
openstack%2Fneutron~stable%2Fstein~I1137eb18efaf51c67fab145e645f58cbd3772e40,openstack/neutron,stable/stein,I1137eb18efaf51c67fab145e645f58cbd3772e40,Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall,MERGED,2019-10-28 06:35:05.000000000,2019-11-11 11:12:41.000000000,2019-10-30 19:28:14.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-28 06:35:05.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fb7f8ddac0d55dfc64c0c0c2931b3c17cb00d37', 'message': 'Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall\n\nThis will prevent ovs agent from endless fail loop when dealing\nwith unbound port: like when port was created in neutron before\nagent become alive, then agent gets online and and starts processing\ndevices.\nThis patch adds exception handling to prepare_port_filter() -\nsame as done in update_port_filter().\n\nChange-Id: I1137eb18efaf51c67fab145e645f58cbd3772e40\nCloses-Bug: #1849098\n(cherry picked from commit e801159003978f7c5c67eb3e9fe36fa690656d77)\n'}]",0,691605,0fb7f8ddac0d55dfc64c0c0c2931b3c17cb00d37,13,6,1,5948,,,0,"Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall

This will prevent ovs agent from endless fail loop when dealing
with unbound port: like when port was created in neutron before
agent become alive, then agent gets online and and starts processing
devices.
This patch adds exception handling to prepare_port_filter() -
same as done in update_port_filter().

Change-Id: I1137eb18efaf51c67fab145e645f58cbd3772e40
Closes-Bug: #1849098
(cherry picked from commit e801159003978f7c5c67eb3e9fe36fa690656d77)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/691605/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,0fb7f8ddac0d55dfc64c0c0c2931b3c17cb00d37,bug/1849098-stable/stein," try: old_of_port = self.get_ofport(port) of_port = self.get_or_create_ofport(port) if old_of_port: LOG.info(""Initializing port %s that was already initialized."", port['device']) self._update_flows_for_port(of_port, old_of_port) else: self._set_port_filters(of_port) except exceptions.OVSFWPortNotFound as not_found_error: LOG.info(""port %(port_id)s does not exist in ovsdb: %(err)s."", {'port_id': port['device'], 'err': not_found_error}) except exceptions.OVSFWTagNotFound as tag_not_found: LOG.info(""Tag was not found for port %(port_id)s: %(err)s."", {'port_id': port['device'], 'err': tag_not_found})"," old_of_port = self.get_ofport(port) of_port = self.get_or_create_ofport(port) if old_of_port: LOG.info(""Initializing port %s that was already initialized."", port['device']) self._update_flows_for_port(of_port, old_of_port) else: self._set_port_filters(of_port)",17,8
openstack%2Fkolla~stable%2Ftrain~Ia592dda4ee20979c701efe6007f236dba9848997,openstack/kolla,stable/train,Ia592dda4ee20979c701efe6007f236dba9848997,[manila] Fixes manila-share on debian/ubuntu,MERGED,2019-11-11 08:39:21.000000000,2019-11-11 11:00:09.000000000,2019-11-11 10:59:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-11 08:39:21.000000000', 'files': ['docker/manila/manila-share/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cc615dd041e9e6b82bd8b34fc87d34fe6878386f', 'message': '[manila] Fixes manila-share on debian/ubuntu\n\nmanila-share cannot start on debian/ubuntu because python3-cephfs is missing.\n\nChange-Id: Ia592dda4ee20979c701efe6007f236dba9848997\nCloses-Bug: #1851692\n(cherry picked from commit 1d5a208c2e5c81ed4169c63d1d5ea0ad31b78f2f)\n'}]",0,693659,cc615dd041e9e6b82bd8b34fc87d34fe6878386f,9,4,1,30491,,,0,"[manila] Fixes manila-share on debian/ubuntu

manila-share cannot start on debian/ubuntu because python3-cephfs is missing.

Change-Id: Ia592dda4ee20979c701efe6007f236dba9848997
Closes-Bug: #1851692
(cherry picked from commit 1d5a208c2e5c81ed4169c63d1d5ea0ad31b78f2f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/693659/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/manila/manila-share/Dockerfile.j2'],1,cc615dd041e9e6b82bd8b34fc87d34fe6878386f,bug/1851692-stable/train," 'python3-cephfs', 'python3-cephfs',",,2,0
openstack%2Ftripleo-ansible~master~Ia02ca1263590e2b579f2534e99119d7b1cd4b39a,openstack/tripleo-ansible,master,Ia02ca1263590e2b579f2534e99119d7b1cd4b39a,Fix network hostnames in tripleo-hosts-entries,MERGED,2019-11-05 14:10:30.000000000,2019-11-11 10:48:16.000000000,2019-11-11 10:48:16.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-05 14:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/446038f43f6215488966413a3164318ed6e3a2dc', 'message': 'Fix network hostnames in tripleo-hosts-entries\n\nThe previous Heat behavior used the jinja2 lower() filter on the network\nname to create the hostnames, not network.name_lower. As\nnetwork.name_lower can container underscores, this was causing an issue\nsince the expected hostnames were not present in /etc/hosts.\n\nThis patch corrects the issue by switching to just using the lower()\nfilter.\n\nChange-Id: Ia02ca1263590e2b579f2534e99119d7b1cd4b39a\n'}, {'number': 2, 'created': '2019-11-05 14:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f5a39ccca90cf327643828147d4691c0101cf3b', 'message': 'Fix network hostnames in tripleo-hosts-entries\n\nThe previous Heat behavior used the jinja2 lower() filter on the network\nname to create the hostnames, not network.name_lower. As\nnetwork.name_lower can container underscores, this was causing an issue\nsince the expected hostnames were not present in /etc/hosts.\n\nThis patch corrects the issue by switching to just using the lower()\nfilter.\n\nChange-Id: Ia02ca1263590e2b579f2534e99119d7b1cd4b39a\n'}, {'number': 3, 'created': '2019-11-06 15:04:33.000000000', 'files': ['tripleo_ansible/roles/tripleo-hosts-entries/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-hosts-entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f27375920b0ac2ffcba975f95f54a5f3aa7be76', 'message': 'Fix network hostnames in tripleo-hosts-entries\n\nThe previous Heat behavior used the jinja2 lower() filter on the network\nname to create the hostnames, not network.name_lower. As\nnetwork.name_lower can container underscores, this was causing an issue\nsince the expected hostnames were not present in /etc/hosts.\n\nThis patch corrects the issue by switching to just using the lower()\nfilter.\n\nChange-Id: Ia02ca1263590e2b579f2534e99119d7b1cd4b39a\n'}]",1,693010,3f27375920b0ac2ffcba975f95f54a5f3aa7be76,16,5,3,7144,,,0,"Fix network hostnames in tripleo-hosts-entries

The previous Heat behavior used the jinja2 lower() filter on the network
name to create the hostnames, not network.name_lower. As
network.name_lower can container underscores, this was causing an issue
since the expected hostnames were not present in /etc/hosts.

This patch corrects the issue by switching to just using the lower()
filter.

Change-Id: Ia02ca1263590e2b579f2534e99119d7b1cd4b39a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/10/693010/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hosts-entries/tasks/main.yml'],1,446038f43f6215488966413a3164318ed6e3a2dc,, host ~ '.' ~ networks[network]['name'].lower() ~ '.' ~ cloud_domain ~ ' ' ~ host ~ '.' ~ networks[network]['name'].lower() }}, host ~ '.' ~ networks[network]['name_lower'] ~ '.' ~ cloud_domain ~ ' ' ~ host ~ '.' ~ networks[network]['name_lower'] }},2,2
openstack%2Fkolla~stable%2Fstein~I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,openstack/kolla,stable/stein,I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,swift-rsyncd: don't recursively chown /srv/node at startup,MERGED,2019-11-08 18:50:11.000000000,2019-11-11 10:35:59.000000000,2019-11-11 10:34:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-08 18:50:11.000000000', 'files': ['docker/swift/swift-rsyncd/extend_start.sh', 'docker/swift/swift-base/swift_sudoers'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8673f02844a4a43e6eeb74d6437c2d97b530802a', 'message': ""swift-rsyncd: don't recursively chown /srv/node at startup\n\nInstead of doing a recursive chown on /srv/node, chown only /srv/node\nand any immediate subdirectory under /srv/node.\n\nChange-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5\nCloses-Bug: #1851169\n(cherry picked from commit 2d122afaf9817cadc668b308c4f736e47c09a55f)\n""}]",0,693576,8673f02844a4a43e6eeb74d6437c2d97b530802a,8,3,1,27330,,,0,"swift-rsyncd: don't recursively chown /srv/node at startup

Instead of doing a recursive chown on /srv/node, chown only /srv/node
and any immediate subdirectory under /srv/node.

Change-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5
Closes-Bug: #1851169
(cherry picked from commit 2d122afaf9817cadc668b308c4f736e47c09a55f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/76/693576/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-rsyncd/extend_start.sh', 'docker/swift/swift-base/swift_sudoers']",2,8673f02844a4a43e6eeb74d6437c2d97b530802a,bug/1851169-stable/train-stable/stein,swift ALL=(root) NOPASSWD: /bin/find /srv/node/ -maxdepth 1 -type d -execdir chown swift\:swift {} \\+ swift ALL=(root) NOPASSWD: /usr/bin/find /srv/node/ -maxdepth 1 -type d -execdir chown swift\:swift {} \\+,swift ALL=(root) NOPASSWD: /bin/chown -R swift\:swift /srv/node swift ALL=(root) NOPASSWD: /usr/bin/chown -R swift\:swift /srv/node,3,3
openstack%2Fkolla~stable%2Ftrain~I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,openstack/kolla,stable/train,I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,swift-rsyncd: don't recursively chown /srv/node at startup,MERGED,2019-11-08 18:49:57.000000000,2019-11-11 10:27:14.000000000,2019-11-11 10:25:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-08 18:49:57.000000000', 'files': ['docker/swift/swift-rsyncd/extend_start.sh', 'docker/swift/swift-base/swift_sudoers'], 'web_link': 'https://opendev.org/openstack/kolla/commit/78762fabbd7440d699b6cb52c1da94a7529eb39c', 'message': ""swift-rsyncd: don't recursively chown /srv/node at startup\n\nInstead of doing a recursive chown on /srv/node, chown only /srv/node\nand any immediate subdirectory under /srv/node.\n\nChange-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5\nCloses-Bug: #1851169\n(cherry picked from commit 2d122afaf9817cadc668b308c4f736e47c09a55f)\n""}]",0,693575,78762fabbd7440d699b6cb52c1da94a7529eb39c,9,3,1,27330,,,0,"swift-rsyncd: don't recursively chown /srv/node at startup

Instead of doing a recursive chown on /srv/node, chown only /srv/node
and any immediate subdirectory under /srv/node.

Change-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5
Closes-Bug: #1851169
(cherry picked from commit 2d122afaf9817cadc668b308c4f736e47c09a55f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/693575/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-rsyncd/extend_start.sh', 'docker/swift/swift-base/swift_sudoers']",2,78762fabbd7440d699b6cb52c1da94a7529eb39c,bug/1851169-stable/train,swift ALL=(root) NOPASSWD: /bin/find /srv/node/ -maxdepth 1 -type d -execdir chown swift\:swift {} \\+ swift ALL=(root) NOPASSWD: /usr/bin/find /srv/node/ -maxdepth 1 -type d -execdir chown swift\:swift {} \\+,swift ALL=(root) NOPASSWD: /bin/chown -R swift\:swift /srv/node swift ALL=(root) NOPASSWD: /usr/bin/chown -R swift\:swift /srv/node,3,3
openstack%2Fopenstack-helm-addons~master~I7f48605f08f574822179d51cd645ded07714d9c3,openstack/openstack-helm-addons,master,I7f48605f08f574822179d51cd645ded07714d9c3,Update kubernetes-entrypoint image reference,MERGED,2019-10-14 15:58:48.000000000,2019-11-11 10:01:08.000000000,2019-11-11 10:01:08.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-14 15:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/1ef290e7471176b8fd619912885ef7280e35acd6', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nChange-Id: I7f48605f08f574822179d51cd645ded07714d9c3\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-10-14 17:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0335c1b8d835f826be91ec1b5a7e61b70f38fcb7', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I7f48605f08f574822179d51cd645ded07714d9c3\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-10-17 14:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/5d9072d0dd5f1cdb8e59f3433a14da6d17581fb7', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I7f48605f08f574822179d51cd645ded07714d9c3\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-10-18 15:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/1088c7067d1e773f444b5d3a5a174123fcb950c5', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I7f48605f08f574822179d51cd645ded07714d9c3\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-10-18 16:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/642a25cb0f6b56fcae7a6bee72ce142b23812753', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I7f48605f08f574822179d51cd645ded07714d9c3\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-11-11 07:34:30.000000000', 'files': ['ranger/values.yaml', 'prometheus-bot/values.yaml', 'shaker/values.yaml', 'sonobuoy/values.yaml', 'mini-mirror/values.yaml', 'ranger-agent/values.yaml', 'tools/gate/scripts/085-ceph-ns-activate.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d6309100d7a4bacaec1f563ee2937d1ac8216290', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I7f48605f08f574822179d51cd645ded07714d9c3\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,688438,d6309100d7a4bacaec1f563ee2937d1ac8216290,31,8,6,17591,,,0,"Update kubernetes-entrypoint image reference

This updates the kubernetes-entrypoint image reference to consume
the publicly available kubernetes-entrypoint image that is built
and maintained under the airshipit namespace, as the stackanetes
image is no longer actively maintained

Depends-On: https://review.opendev.org/688435

Change-Id: I7f48605f08f574822179d51cd645ded07714d9c3
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/38/688438/3 && git format-patch -1 --stdout FETCH_HEAD,"['ranger/values.yaml', 'prometheus-bot/values.yaml', 'shaker/values.yaml', 'sonobuoy/values.yaml', 'mini-mirror/values.yaml', 'ranger-agent/values.yaml']",6,1ef290e7471176b8fd619912885ef7280e35acd6,update-k8s-entrypoint, dep_check: quay.io/airshipit/kubernetes-entrypoint:v1.0.0, dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.3.1,6,6
openstack%2Fopenstack-helm-infra~master~I2df253457140411e90d77b01c899ace0d392a423,openstack/openstack-helm-infra,master,I2df253457140411e90d77b01c899ace0d392a423,Update grafana link,MERGED,2019-09-19 06:19:16.000000000,2019-11-11 09:44:50.000000000,2019-11-11 09:42:14.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27383}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-09-19 06:19:16.000000000', 'files': ['doc/source/monitoring/grafana.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9ee02ec88409e4497a7871fab8d33925347ad29', 'message': 'Update grafana link\n\nChange-Id: I2df253457140411e90d77b01c899ace0d392a423\n'}]",0,683033,f9ee02ec88409e4497a7871fab8d33925347ad29,12,7,1,30408,,,0,"Update grafana link

Change-Id: I2df253457140411e90d77b01c899ace0d392a423
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/33/683033/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/monitoring/grafana.rst'],1,f9ee02ec88409e4497a7871fab8d33925347ad29,,.. _configuration: https://grafana.com/docs/installation/configuration/.. _sources: https://grafana.com/docs/features/datasources/,.. _configuration: http://docs.grafana.org/installation/configuration/.. _sources: http://docs.grafana.org/features/datasources/,2,2
openstack%2Fopenstack-helm-infra~master~Ieee874bf837c7947e3681e0447d150174c99d880,openstack/openstack-helm-infra,master,Ieee874bf837c7947e3681e0447d150174c99d880,Add missing pod labels for CronJobs,MERGED,2019-10-28 20:08:17.000000000,2019-11-11 09:40:39.000000000,2019-11-11 09:38:35.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28849}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-28 20:08:17.000000000', 'files': ['gnocchi/templates/cron-job-resources-cleaner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5919aaf60d70c95c85e04c96a5b30e0989446d15', 'message': 'Add missing pod labels for CronJobs\n\nPods for some of the CronJobs do not have correct\napplication and component labels applied, they are\nunable to start if Network Policies are enabled.\n\nRelated-Change: Ie4eed0e9829419b4b2e40e9b712b73a86d6fc3d2\nChange-Id: Ieee874bf837c7947e3681e0447d150174c99d880\n'}]",0,691745,5919aaf60d70c95c85e04c96a5b30e0989446d15,13,7,1,8749,,,0,"Add missing pod labels for CronJobs

Pods for some of the CronJobs do not have correct
application and component labels applied, they are
unable to start if Network Policies are enabled.

Related-Change: Ie4eed0e9829419b4b2e40e9b712b73a86d6fc3d2
Change-Id: Ieee874bf837c7947e3681e0447d150174c99d880
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/691745/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/templates/cron-job-resources-cleaner.yaml'],1,5919aaf60d70c95c85e04c96a5b30e0989446d15,netpol," metadata: labels: {{ tuple $envAll ""gnocchi"" ""resources-cleaner"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 12 }}",,3,0
openstack%2Fopenstack-helm-infra~master~Ibb8c5e99d5311ccf23800c6d912201ea54ae057f,openstack/openstack-helm-infra,master,Ibb8c5e99d5311ccf23800c6d912201ea54ae057f,Update the constraints url,MERGED,2019-09-24 07:51:11.000000000,2019-11-11 09:39:29.000000000,2019-11-11 09:38:34.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28849}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-09-24 07:51:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0bd299897b17fbd6ba6e308f5726079cba972d5', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ibb8c5e99d5311ccf23800c6d912201ea54ae057f\n'}]",0,684215,c0bd299897b17fbd6ba6e308f5726079cba972d5,11,11,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ibb8c5e99d5311ccf23800c6d912201ea54ae057f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/15/684215/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c0bd299897b17fbd6ba6e308f5726079cba972d5,constraints,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fkolla~master~I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,openstack/kolla,master,I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,swift-rsyncd: don't recursively chown /srv/node at startup,MERGED,2019-11-04 18:54:16.000000000,2019-11-11 09:38:17.000000000,2019-11-07 10:27:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 27330}]","[{'number': 1, 'created': '2019-11-04 18:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/df9b4f1fd10eda140380fdf442e357564d332fe5', 'message': ""swift-rsyncd: don't recursively chown /srv/node at startup\n\nInstead of doing a recursive chown on /srv/node, chown /srv/node and\nthen chown anything under /srv/node non-recursively.\n\nChange-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5\nCloses-Bug: #1851169\n""}, {'number': 2, 'created': '2019-11-05 12:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b8406a2daf2a598ecef19beef703a8202ad4d812', 'message': ""swift-rsyncd: don't recursively chown /srv/node at startup\n\nInstead of doing a recursive chown on /srv/node, chown /srv/node and\nthen chown anything under /srv/node non-recursively.\n\nChange-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5\nCloses-Bug: #1851169\n""}, {'number': 3, 'created': '2019-11-05 14:15:40.000000000', 'files': ['docker/swift/swift-rsyncd/extend_start.sh', 'docker/swift/swift-base/swift_sudoers'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2d122afaf9817cadc668b308c4f736e47c09a55f', 'message': ""swift-rsyncd: don't recursively chown /srv/node at startup\n\nInstead of doing a recursive chown on /srv/node, chown only /srv/node\nand any immediate subdirectory under /srv/node.\n\nChange-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5\nCloses-Bug: #1851169\n""}]",3,692870,2d122afaf9817cadc668b308c4f736e47c09a55f,20,5,3,27330,,,0,"swift-rsyncd: don't recursively chown /srv/node at startup

Instead of doing a recursive chown on /srv/node, chown only /srv/node
and any immediate subdirectory under /srv/node.

Change-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5
Closes-Bug: #1851169
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/692870/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/swift/swift-rsyncd/extend_start.sh'],1,df9b4f1fd10eda140380fdf442e357564d332fe5,bug/1851169,sudo chown swift:swift /srv/node sudo chown swift:swift /srv/node/*,sudo chown -R swift:swift /srv/node,2,1
openstack%2Foctavia~master~I8cdc7eac65be4b3fa1fe444c769a51ce60469263,openstack/octavia,master,I8cdc7eac65be4b3fa1fe444c769a51ce60469263,Fix wrong urls in Quota API,NEW,2019-10-26 08:06:33.000000000,2019-11-11 09:30:01.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29870}]","[{'number': 1, 'created': '2019-10-26 08:06:33.000000000', 'files': ['api-ref/source/v2/quota.inc', 'api-ref/source/v2/examples/quotas-defaults-curl'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0e5a058fc2918487daa207803e4cb070883f2073', 'message': ""Fix wrong urls in Quota API\n\nIn the Octavia v2 API implemention, the url of getting project\ndefault quota is 'quotas/{project_id}/defaults', which is wrong\nabout 'quotas/defaults' in API doc, So we fix it\n\nChange-Id: I8cdc7eac65be4b3fa1fe444c769a51ce60469263\n""}]",4,691469,0e5a058fc2918487daa207803e4cb070883f2073,8,3,1,29870,,,0,"Fix wrong urls in Quota API

In the Octavia v2 API implemention, the url of getting project
default quota is 'quotas/{project_id}/defaults', which is wrong
about 'quotas/defaults' in API doc, So we fix it

Change-Id: I8cdc7eac65be4b3fa1fe444c769a51ce60469263
",git fetch https://review.opendev.org/openstack/octavia refs/changes/69/691469/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/quota.inc', 'api-ref/source/v2/examples/quotas-defaults-curl']",2,0e5a058fc2918487daa207803e4cb070883f2073,fix-URL,"curl -X GET -H ""X-Auth-Token: <token>"" http://198.51.100.10:9876/v2/lbaas/quotas/e3cd678b11784734bc366148aa37580e/defaults","curl -X GET -H ""X-Auth-Token: <token>"" http://198.51.100.10:9876/v2/lbaas/quotas/defaults",7,4
openstack%2Fkolla~master~Ia592dda4ee20979c701efe6007f236dba9848997,openstack/kolla,master,Ia592dda4ee20979c701efe6007f236dba9848997,[manila] Fixes manila-share on debian/ubuntu,MERGED,2019-11-07 18:04:51.000000000,2019-11-11 08:39:21.000000000,2019-11-08 13:53:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-07 18:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b7b2771661303b390f26a3d35ef44729c261f67d', 'message': '[manila] Fixes manila-share on debian/ubuntu\n\nmanila-share cannot start on debian/ubuntu because python3-cephfs is missing.\n\nChange-Id: Ia592dda4ee20979c701efe6007f236dba9848997\nCloses-Bug: #1851692\n'}, {'number': 2, 'created': '2019-11-08 10:36:33.000000000', 'files': ['docker/manila/manila-share/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1d5a208c2e5c81ed4169c63d1d5ea0ad31b78f2f', 'message': '[manila] Fixes manila-share on debian/ubuntu\n\nmanila-share cannot start on debian/ubuntu because python3-cephfs is missing.\n\nChange-Id: Ia592dda4ee20979c701efe6007f236dba9848997\nCloses-Bug: #1851692\n'}]",2,693400,1d5a208c2e5c81ed4169c63d1d5ea0ad31b78f2f,15,5,2,30523,,,0,"[manila] Fixes manila-share on debian/ubuntu

manila-share cannot start on debian/ubuntu because python3-cephfs is missing.

Change-Id: Ia592dda4ee20979c701efe6007f236dba9848997
Closes-Bug: #1851692
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/693400/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/manila/manila-share/Dockerfile.j2'],1,b7b2771661303b390f26a3d35ef44729c261f67d,bug/1851692," 'python3-cephfs',",,1,0
openstack%2Ftripleo-quickstart-extras~master~Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a,openstack/tripleo-quickstart-extras,master,Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a,Add playbook and role to run tobiko,MERGED,2019-04-24 12:57:18.000000000,2019-11-11 08:15:10.000000000,2019-11-08 20:34:03.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27329}]","[{'number': 1, 'created': '2019-04-24 12:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b5089939c1e211e5a1fb359b828bd60734edb213', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 2, 'created': '2019-05-08 06:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4ee517a3ea7cce8cfa3f48ed926c07a23a4b6887', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 3, 'created': '2019-05-29 09:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b7b9231ee9ccfa662ac3223da5457ac041986ee1', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 4, 'created': '2019-05-29 11:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1bb80ce4b5ab285dc64a0f8ddf8f4b783cc00499', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 5, 'created': '2019-05-31 07:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5792df83838dc737784c7d323b36379eb0045ca8', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 6, 'created': '2019-06-05 12:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3c75d76a39c04b690d12874db46a4c4996ba817f', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 7, 'created': '2019-06-19 10:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/78c5a2745b954c3598ac17e15276c9591c370625', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 8, 'created': '2019-06-20 10:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d38afb9cd4c92dc229cec1054a438515b2503944', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 9, 'created': '2019-06-21 12:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e822d34eba9b39177e472e02be1064cb3bed94a3', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 10, 'created': '2019-06-21 14:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b2bd15982bb021c1be810beaa83b9cee786000cb', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 11, 'created': '2019-06-22 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a73e829cd04e6e22fec57ef428de372039f514bc', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 12, 'created': '2019-06-23 10:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/38b2863a393a1fb42e2bd6ba36f449783dd2acc5', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 13, 'created': '2019-06-26 13:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/28766f64504a21976b08868fd8e7ae576c0291df', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 14, 'created': '2019-06-27 12:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/111f18b05b57efb1765d65b027f77e85bc3fba40', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 15, 'created': '2019-06-28 13:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/65fd7f83aa5cb5f51eabe3336b4e4cdbadecf502', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 16, 'created': '2019-06-29 10:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9a14afe75120f04737394b8e172552963e95283c', 'message': 'WIP Add playbooks to run tobiko jobs\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 17, 'created': '2019-07-01 10:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/11b9d6b3449b904c22bedad2ea983dbb5c189118', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 18, 'created': '2019-07-02 12:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c6e50a7c61a475d1a67c554c08946eca5cacc149', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 19, 'created': '2019-07-03 14:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7baf54ec31789293f16fc886ec266c23357ad242', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 20, 'created': '2019-07-04 09:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/82d2f86f150d938c213f291310de7000c007972a', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 21, 'created': '2019-07-04 11:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9e52b66ce97a29b5190f4ee818532bf246de1aa1', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 22, 'created': '2019-07-04 14:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/32d253a279a6a2d894232a0d9844c3eae5dde5db', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 23, 'created': '2019-07-05 08:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8681dc56389a71341da8906765b358aadb724c9d', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 24, 'created': '2019-07-05 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1ef4ef03e519292bd62ff293e3bd1f7b2dbdfdb8', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 25, 'created': '2019-07-05 15:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/599713eb459732ec322bde6532af1dab29bb1b07', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 26, 'created': '2019-07-08 21:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d13b7d3d50efafc9cb9957e6383e33aafefe8c64', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 27, 'created': '2019-07-09 10:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c0f656419391a3e807f7088f580761e1fa1c1386', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 28, 'created': '2019-07-10 14:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4454c16a3f5d0f903634700a0ecf6e25548fa84c', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 29, 'created': '2019-07-10 19:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/55ccf208ba5da7f9bca2983cb88f2ab2949a24b3', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 30, 'created': '2019-07-12 11:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c95ee6bb20576fe161a1f03caca62cf0c26f7c9b', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 31, 'created': '2019-07-12 12:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c8abc56ea15f9c1b62eb1c82849d58c6ae2b39cc', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 32, 'created': '2019-07-12 15:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5f997c0dc95d696c850bf5aa25fba0118064229a', 'message': 'WIP Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 33, 'created': '2019-07-19 13:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/99526d3f5320079636c8aa243deeef2126557499', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 34, 'created': '2019-07-19 13:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/653b58117054c6581829d26f0cc3890b7387287f', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 35, 'created': '2019-07-20 11:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e89eeaf14505014e1e3384d1de7595e4bb121723', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 36, 'created': '2019-07-21 15:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/895e35d59910857fac0d61a13796030ef6c56d21', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 37, 'created': '2019-07-31 14:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5021052b536a4b79a9d72dd08280a9622368c49f', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 38, 'created': '2019-07-31 17:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ccc776b5d753d0d79629dcca382d4bd713614846', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 39, 'created': '2019-07-31 21:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/40cec98e6260e06517a0c161baf9171b504aa3e0', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 40, 'created': '2019-08-01 13:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3f2baac5d60600fd7accb7b7310db04ee6e80808', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 41, 'created': '2019-08-12 10:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5aa9e4cb1277ce1ca6473f67182d03d3cac9e027', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 42, 'created': '2019-08-12 14:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6f3ba9910a448a1a9ed44a909ec459c9aaf5d7d2', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 43, 'created': '2019-08-14 20:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/09e83f5f7e969f9d17fad0d7f4a18a77d03d3473', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 44, 'created': '2019-08-15 17:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33c4043970bdffb0b9ef9092daaa99026298cd39', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 45, 'created': '2019-08-16 07:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c57e1f5df7a435bc77f32f2e3d3ca4fd9bb77b31', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 46, 'created': '2019-08-16 08:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/57b43acb8a6728202c6b22c2278847be2dae9010', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 47, 'created': '2019-08-16 08:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4f4680566d370f859d78d7446aa0d7f91898b1da', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 48, 'created': '2019-08-16 10:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9f517a2e8db8a3da50f854576585ecd382fa9d0e', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 49, 'created': '2019-09-03 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ab80ce580642ba552269bf2e6f34d4aa76158481', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 50, 'created': '2019-09-03 12:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ae9f59ff809c43ff8ed2f01ad9498f4b4ca5a5a9', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 51, 'created': '2019-09-03 15:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/00f03fbd514ad731bc543a594c84b20e6e602da9', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 52, 'created': '2019-09-03 17:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4363ad277a840b45de38819772188dd4fd38482a', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 53, 'created': '2019-09-04 07:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d6b6470ca7f2682ef78e66b8b7f1e284c747673d', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 54, 'created': '2019-09-04 10:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aea1e0b0906eb435351babd6cfa0183b577b08b0', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 55, 'created': '2019-09-04 10:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/50e2339a40dde9343cb7e41fb452079fbcd7f24f', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 56, 'created': '2019-09-04 14:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/631fb8986c9f5208d5d72eef6a26ad93e5646f87', 'message': 'Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nTo collect logs:\nDepends-On: https://review.opendev.org/671939\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n'}, {'number': 57, 'created': '2019-09-05 08:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/47b755d123f4175ff5516ab0bfcac519463d2f2f', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 58, 'created': '2019-09-05 14:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/221c9349e3cde28968cf53554524c8c958e9e125', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 59, 'created': '2019-09-06 12:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5dc4d7efa94ff1c5d9e5582c2a73f5758f9e5bc3', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 60, 'created': '2019-09-18 13:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f860d89592132804ccb6bedebe51bdda961467a', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 61, 'created': '2019-09-20 15:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ce609a3a43f02125244e9e71f2e93308aa18fa5', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 62, 'created': '2019-09-26 14:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fcbb626238e5d7891580d62d1dcd14fdc4679b4d', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 63, 'created': '2019-09-27 14:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b42a4c1ad967ff0696319c362d0d4ec22f9ac85e', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 64, 'created': '2019-09-30 10:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/02dd737dd08405f0b654aa8e3722e5ed07d2ef48', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 65, 'created': '2019-10-01 06:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c331570d9273572e0c9998157fc89886c687961', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 66, 'created': '2019-10-02 13:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1227d2808cbc27f9f5404a90dbf653f5d015cc5a', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 67, 'created': '2019-10-04 13:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3565c0ec5eaee96a0f9145592fa348c609407125', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 68, 'created': '2019-10-14 12:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/328ed57a37be544cf77a2396fdabe69fa49ddf71', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 69, 'created': '2019-10-14 13:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fabe45bba6ce1956960e1fafbbf7244e0797dbea', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}, {'number': 70, 'created': '2019-11-08 07:31:29.000000000', 'files': ['roles/validate-tobiko/templates/tobiko.conf.j2', 'roles/validate-tobiko/tasks/run-tobiko.yml', 'roles/validate-tobiko/templates/configure_public_network.sh.j2', 'roles/validate-tobiko/tasks/main.yml', 'roles/validate-tobiko/meta/main.yml', 'roles/validate-tobiko/README.md', 'playbooks/tobiko.yml', 'roles/validate-tobiko/tasks/tobiko-results.yml', 'roles/validate-tobiko/tasks/prepare-tobiko.yml', 'roles/validate-tobiko/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0046662a0b71815234cdef44f832c8a5a75e39dc', 'message': ""Add playbook and role to run tobiko\n\nIn Tobiko project we want to run job based on TripleO. To achieve that\nwe need to use some Tobiko specific playbooks which are added by this\npatch.\n\nThis role will be used in Tobiko's TripleO based job which is\nproposed in https://review.opendev.org/#/c/651828/\n\nChange-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a\n""}]",77,655423,0046662a0b71815234cdef44f832c8a5a75e39dc,336,11,70,11975,,,0,"Add playbook and role to run tobiko

In Tobiko project we want to run job based on TripleO. To achieve that
we need to use some Tobiko specific playbooks which are added by this
patch.

This role will be used in Tobiko's TripleO based job which is
proposed in https://review.opendev.org/#/c/651828/

Change-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/655423/34 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tobiko.yml', 'playbooks/tobiko-prepare.yml']",2,b5089939c1e211e5a1fb359b828bd60734edb213,tobiko-playbook,"# Copyright 2019 Red Hat # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. --- - hosts: all tasks: - name: TODO generate tobiko.conf debug: msg: | System {{ inventory_hostname }} has uuid {{ ansible_product_uuid }} ",,41,0
openstack%2Fopenstack-helm-images~master~Ic186398a4fd93322060d5116325e8770ca92f35d,openstack/openstack-helm-images,master,Ic186398a4fd93322060d5116325e8770ca92f35d,mini-mirror: Add retries to package downloads,MERGED,2019-11-06 22:07:59.000000000,2019-11-11 08:02:40.000000000,2019-11-11 07:58:56.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28237}, {'_account_id': 28618}, {'_account_id': 30582}]","[{'number': 1, 'created': '2019-11-06 22:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4e9a2f20f7a109c0ccf6fa6ddbb0dbfbe4ebbb91', 'message': 'mini-mirror: Add retries to package downloads\n\nCurrently, a single package download failure causes the mini-mirror\nbuild job to fail. This change adds three retries [0] to package\ndownloads to circumvent intermittent download errors due to a bad\nnetwork connection.\n\nAn aptly version of 1.0.0 or greater is required for this feature.\n\n[0] https://www.aptly.info/doc/aptly/mirror/update/\n\nChange-Id: Ic186398a4fd93322060d5116325e8770ca92f35d\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 2, 'created': '2019-11-06 22:19:34.000000000', 'files': ['mini-mirror/tools/publish_snapshots.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0968eeb58991df5c4e7b48f0e3bf5e5118d1bde4', 'message': 'mini-mirror: Add retries to package downloads\n\nCurrently, a single package download failure causes the mini-mirror\nbuild job to fail. This change adds three retries [0] to package\ndownloads to circumvent intermittent download errors due to a bad\nnetwork connection.\n\nAn aptly version of 1.0.0 or greater is required for this feature.\n\n[0] https://www.aptly.info/doc/aptly/mirror/update/\n\nChange-Id: Ic186398a4fd93322060d5116325e8770ca92f35d\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}]",0,693262,0968eeb58991df5c4e7b48f0e3bf5e5118d1bde4,23,9,2,28618,,,0,"mini-mirror: Add retries to package downloads

Currently, a single package download failure causes the mini-mirror
build job to fail. This change adds three retries [0] to package
downloads to circumvent intermittent download errors due to a bad
network connection.

An aptly version of 1.0.0 or greater is required for this feature.

[0] https://www.aptly.info/doc/aptly/mirror/update/

Change-Id: Ic186398a4fd93322060d5116325e8770ca92f35d
Signed-off-by: Drew Walters <andrew.walters@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/62/693262/1 && git format-patch -1 --stdout FETCH_HEAD,['mini-mirror/tools/publish_snapshots.sh'],1,4e9a2f20f7a109c0ccf6fa6ddbb0dbfbe4ebbb91,aptly-version," aptly mirror update -config=""${conf}"" -max-tries=3 ""${name}"""," aptly mirror update -config=""${conf}"" ""${name}""",1,1
openstack%2Fopenstack-helm-images~master~Ic2f79b0a910f0c0e3e2aff361dfe14c9b312f0f9,openstack/openstack-helm-images,master,Ic2f79b0a910f0c0e3e2aff361dfe14c9b312f0f9,mini-mirror: Use latest aptly version,MERGED,2019-11-06 21:21:34.000000000,2019-11-11 08:00:55.000000000,2019-11-11 07:58:55.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28237}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-11-06 21:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c1f86292417e795b4baa55410d5a56316ce1ce12', 'message': 'mini-mirror: Use latest aptly version\n\nCurrently, the mini-mirror image job installs aptly from the standard\nUbuntu repositories. Consequently, the version of aptly used for the\nXenial build is 0.9.1 and differs from the version of aptly in the\nBionic build.\n\nThis change adds the official aptly repositories when installing aptly\nin order to use the latest version and maintain consistency between the\ntwo builds.\n\nChange-Id: Ic2f79b0a910f0c0e3e2aff361dfe14c9b312f0f9\nSigned-off-by: WALTERS, ANDREW (aw442m) <andrew.walters@att.com>\n'}, {'number': 2, 'created': '2019-11-06 21:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fb6e68767a6e3bde5b470152b8e5af2801c98ca6', 'message': 'mini-mirror: Use latest aptly version\n\nCurrently, the mini-mirror image job installs aptly from the standard\nUbuntu repositories. Consequently, the version of aptly used for the\nXenial build is 0.9.1 and differs from the version of aptly in the\nBionic build.\n\nThis change adds the official aptly repositories when installing aptly\nin order to use the latest version and maintain consistency between the\ntwo builds.\n\nChange-Id: Ic2f79b0a910f0c0e3e2aff361dfe14c9b312f0f9\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 3, 'created': '2019-11-06 22:19:34.000000000', 'files': ['mini-mirror/tools/install_aptly.sh', 'mini-mirror/Dockerfile.ubuntu_bionic', 'mini-mirror/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/306ba07e0af1d951a5244dc35be31a3456f1a074', 'message': 'mini-mirror: Use latest aptly version\n\nCurrently, the mini-mirror image job installs aptly from the standard\nUbuntu repositories. Consequently, the version of aptly used for the\nXenial build is 0.9.1 and differs from the version of aptly in the\nBionic build.\n\nThis change adds the official aptly repositories when installing aptly\nin order to use the latest version and maintain consistency between the\ntwo builds.\n\nChange-Id: Ic2f79b0a910f0c0e3e2aff361dfe14c9b312f0f9\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}]",0,693256,306ba07e0af1d951a5244dc35be31a3456f1a074,42,12,3,28618,,,0,"mini-mirror: Use latest aptly version

Currently, the mini-mirror image job installs aptly from the standard
Ubuntu repositories. Consequently, the version of aptly used for the
Xenial build is 0.9.1 and differs from the version of aptly in the
Bionic build.

This change adds the official aptly repositories when installing aptly
in order to use the latest version and maintain consistency between the
two builds.

Change-Id: Ic2f79b0a910f0c0e3e2aff361dfe14c9b312f0f9
Signed-off-by: Drew Walters <andrew.walters@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/56/693256/2 && git format-patch -1 --stdout FETCH_HEAD,"['mini-mirror/tools/install_aptly.sh', 'mini-mirror/Dockerfile.ubuntu_bionic', 'mini-mirror/Dockerfile.ubuntu_xenial']",3,c1f86292417e795b4baa55410d5a56316ce1ce12,aptly-version,COPY tools/install_aptly.sh /opt/install_aptly.shRUN apt-get install -y wget RUN /opt/install_aptly.sh,RUN apt-get install -y aptly wget ,33,2
openstack%2Fopenstack-helm-images~master~I6f53d424612af8788818d23ea43460444afc2172,openstack/openstack-helm-images,master,I6f53d424612af8788818d23ea43460444afc2172,tox: Keeping going with docs,MERGED,2019-11-01 06:31:47.000000000,2019-11-11 07:51:34.000000000,2019-11-11 07:47:33.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-11-01 06:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fe0b75a9fbe0b45c75278e0fc8d9cd16e1f7272d', 'message': 'tox: Keeping going with docs\n\nChange-Id: I6f53d424612af8788818d23ea43460444afc2172\n'}, {'number': 2, 'created': '2019-11-01 06:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6ce35829bee6e1ded6df1c6b8408445ddf9cff17', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. cleanup the exists folder before run sphinx-build command\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I6f53d424612af8788818d23ea43460444afc2172\n""}, {'number': 3, 'created': '2019-11-01 06:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/aa665465a6b98fc3e29771f215ccd635fc33d06a', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. cleanup the exists folder before run sphinx-build command\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I6f53d424612af8788818d23ea43460444afc2172\n""}, {'number': 4, 'created': '2019-11-01 16:21:57.000000000', 'files': ['CONTRIBUTING.rst', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3f036b5f72a9616575b968788aa3d46dcfb1dedc', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. cleanup the exists folder before run sphinx-build command\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I6f53d424612af8788818d23ea43460444afc2172\n""}]",2,692500,3f036b5f72a9616575b968788aa3d46dcfb1dedc,16,5,4,30356,,,0,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

2. cleanup the exists folder before run sphinx-build command

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I6f53d424612af8788818d23ea43460444afc2172
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/00/692500/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fe0b75a9fbe0b45c75278e0fc8d9cd16e1f7272d,, sphinx-build --keep-going -b html doc/source doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -b html doc/source doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,2,2
openstack%2Fopenstack-helm-images~master~I9a912776d13585a1fbd75c5fc4bc7a297b8e225e,openstack/openstack-helm-images,master,I9a912776d13585a1fbd75c5fc4bc7a297b8e225e,Nagios http POST event handler timeout,MERGED,2019-11-05 22:42:30.000000000,2019-11-11 07:50:04.000000000,2019-11-11 07:47:33.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-11-05 22:42:30.000000000', 'files': ['nagios/plugins/send_http_post_event.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/01210c2a09be5c66ec7eeba735378f6a5ae8aac0', 'message': 'Nagios http POST event handler timeout\n\nThe current timeout is very low and is not efficient.\nA default value of 20s timeout is added.\n\nChange-Id: I9a912776d13585a1fbd75c5fc4bc7a297b8e225e\n'}]",0,693091,01210c2a09be5c66ec7eeba735378f6a5ae8aac0,10,5,1,18295,,,0,"Nagios http POST event handler timeout

The current timeout is very low and is not efficient.
A default value of 20s timeout is added.

Change-Id: I9a912776d13585a1fbd75c5fc4bc7a297b8e225e
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/91/693091/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/plugins/send_http_post_event.py'],1,01210c2a09be5c66ec7eeba735378f6a5ae8aac0,,"parser.add_argument( '--timeout', type=int, default=20, required=False, help='timeout in seconds, default 20s') timeout=args.timeout, timeout=args.timeout,"," timeout=0.0000001, timeout=0.0000001,",8,2
openstack%2Fopenstack-helm~master~I8512b9f3202b2bf56b77408aca8d239daab32add,openstack/openstack-helm,master,I8512b9f3202b2bf56b77408aca8d239daab32add,Update apiversion,MERGED,2019-10-03 19:24:55.000000000,2019-11-11 07:39:11.000000000,2019-11-11 07:37:32.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28614}, {'_account_id': 28618}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-03 19:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e5caf1a62cc08250cca4d479629ae4a39c94fb79', 'message': 'Update apiversion\n\nFor k8s 1.16+, the extensions/v1beta1 has been replaced by\nnetworking.k8s.io/v1. This patch set updates reference in\nthe OpenStack-Helm repository.\n\nChange-Id: I8512b9f3202b2bf56b77408aca8d239daab32add\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-10-03 19:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eab0ecedd5b40b3dcfa1eff7b859787d96bbfe51', 'message': 'Update apiversion\n\nFor k8s 1.16+, the extensions/v1beta1 has been replaced by\nnetworking.k8s.io/v1. This patch set updates reference in\nthe OpenStack-Helm repository.\n\nChange-Id: I8512b9f3202b2bf56b77408aca8d239daab32add\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2019-10-04 19:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d1ee34d24a914eef1b09f4177eb38384ebaf3ba0', 'message': 'Update apiversion\n\nFor k8s 1.16+, the extensions/v1beta1 has been replaced by\napps/v1 for DaemonSet. This patch set updates documents in\nthe OpenStack-Helm repository.\n\nChange-Id: I8512b9f3202b2bf56b77408aca8d239daab32add\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2019-10-17 19:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/41f35f3a0ab8280dd3ab791ec2e2516a35a941a8', 'message': 'Update apiversion\n\nFor k8s 1.16+, the extensions/v1beta1 has been replaced by\napps/v1 for DaemonSet. This patch set updates documents in\nthe OpenStack-Helm repository.\n\nChange-Id: I8512b9f3202b2bf56b77408aca8d239daab32add\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2019-10-22 05:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9b5023e6641af0794d056b0c0c2861b73e2b3aab', 'message': 'Update apiversion\n\nFor k8s 1.16+, the extensions/v1beta1 has been replaced by\napps/v1 for DaemonSet. This patch set updates documents in\nthe OpenStack-Helm repository.\n\nChange-Id: I8512b9f3202b2bf56b77408aca8d239daab32add\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2019-10-23 15:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cf50febf0e691e8a2e92956c1113f518e51b0fab', 'message': 'Update apiversion\n\nFor k8s 1.16+, the extensions/v1beta1 has been replaced by\napps/v1 for DaemonSet. This patch set updates documents in\nthe OpenStack-Helm repository.\n\nChange-Id: I8512b9f3202b2bf56b77408aca8d239daab32add\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2019-10-24 05:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48de9ef5235bb40c8dcfa9e526411a01d80e4eca', 'message': 'Update apiversion\n\nFor k8s 1.16+, the extensions/v1beta1 has been replaced by\napps/v1 for DaemonSet. This patch set updates documents in\nthe OpenStack-Helm repository.\n\nChange-Id: I8512b9f3202b2bf56b77408aca8d239daab32add\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2019-11-01 15:10:49.000000000', 'files': ['doc/source/devref/node-and-label-specific-configurations.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/853f321f7bfe43ca4dab42ce17a902b95ba1cbed', 'message': 'Update apiversion\n\nFor k8s 1.16+, the extensions/v1beta1 has been replaced by\napps/v1 for DaemonSet. This patch set updates documents in\nthe OpenStack-Helm repository.\n\nChange-Id: I8512b9f3202b2bf56b77408aca8d239daab32add\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,686470,853f321f7bfe43ca4dab42ce17a902b95ba1cbed,34,9,8,20466,,,0,"Update apiversion

For k8s 1.16+, the extensions/v1beta1 has been replaced by
apps/v1 for DaemonSet. This patch set updates documents in
the OpenStack-Helm repository.

Change-Id: I8512b9f3202b2bf56b77408aca8d239daab32add
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/70/686470/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/node-and-label-specific-configurations.rst'],1,e5caf1a62cc08250cca4d479629ae4a39c94fb79,manifest-update, apiVersion: networking.k8s.io/v1 apiVersion: networking.k8s.io/v1, apiVersion: extensions/v1beta1 apiVersion: extensions/v1beta1,2,2
openstack%2Fopenstack-helm-images~master~Iea6b2e57b3a0319e8bcf98d23619d824cae97349,openstack/openstack-helm-images,master,Iea6b2e57b3a0319e8bcf98d23619d824cae97349,Pin Patroni to v1.5.6,MERGED,2019-08-26 15:20:41.000000000,2019-11-11 07:35:53.000000000,2019-11-11 07:34:28.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24816}, {'_account_id': 27715}, {'_account_id': 28614}, {'_account_id': 28618}, {'_account_id': 28718}, {'_account_id': 30106}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-08-26 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3b9520891d314a49b4e989a48cee95c10fe8fd8c', 'message': 'Pin Patroni to v1.5.6\n\nPin the version of Patroni to v1.5.6 to prevent any issues that may\narise with using an new, untested version.\n\nChange-Id: Iea6b2e57b3a0319e8bcf98d23619d824cae97349\n'}, {'number': 2, 'created': '2019-09-09 16:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b5ed49aed64ca8affe88d8f628bb9872f7bde844', 'message': 'Pin Patroni to v1.5.6\n\nPin the version of Patroni to v1.5.6 to prevent any issues that may\narise with using an new, untested version.\n\nChange-Id: Iea6b2e57b3a0319e8bcf98d23619d824cae97349\n'}, {'number': 3, 'created': '2019-09-09 16:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3aebdf6cf185cc9e0448f509d45d9c927a374c6b', 'message': 'Pin Patroni to v1.5.6\n\nPin the version of Patroni to v1.5.6 to prevent any issues that may\narise with using an new, untested version.\n\nChange-Id: Iea6b2e57b3a0319e8bcf98d23619d824cae97349\n'}, {'number': 4, 'created': '2019-09-09 17:27:26.000000000', 'files': ['patroni/build.sh', 'patroni/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/343175b16ea73e86b1fc92adf667265d1a01e7c1', 'message': 'Pin Patroni to v1.5.6\n\nPin the version of Patroni to v1.5.6 to prevent any issues that may\narise with using an new, untested version.\n\nChange-Id: Iea6b2e57b3a0319e8bcf98d23619d824cae97349\n'}]",3,678591,343175b16ea73e86b1fc92adf667265d1a01e7c1,27,12,4,28718,,,0,"Pin Patroni to v1.5.6

Pin the version of Patroni to v1.5.6 to prevent any issues that may
arise with using an new, untested version.

Change-Id: Iea6b2e57b3a0319e8bcf98d23619d824cae97349
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/91/678591/4 && git format-patch -1 --stdout FETCH_HEAD,['patroni/Dockerfile.ubuntu_xenial'],1,3b9520891d314a49b4e989a48cee95c10fe8fd8c,patroni_version_pin, && pip3 install 'git+https://github.com/zalando/patroni.git@v1.5.6#egg=patroni[kubernetes]' \, && pip3 install 'git+https://github.com/zalando/patroni.git#egg=patroni[kubernetes]' \,1,1
openstack%2Fkarbor~master~Ife73b29511de3eea5094732fcfc82ff5e9783bc2,openstack/karbor,master,Ife73b29511de3eea5094732fcfc82ff5e9783bc2,Add some operation log,MERGED,2019-11-09 08:00:48.000000000,2019-11-11 07:21:49.000000000,2019-11-11 07:20:31.000000000,"[{'_account_id': 17843}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-09 08:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/64e00f8889c4a61eac32e610642d6565894d3188', 'message': 'Add some operation log print.\n\nFor protect operation and retention operation, lacks some\nkey operation log print, so we add it.\n\nChange-Id: Ife73b29511de3eea5094732fcfc82ff5e9783bc2\nSigned-off-by: guolei <guolei@cmss.chinamobile.com>\n'}, {'number': 2, 'created': '2019-11-11 02:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/991b543332b44b5ff18e6f39f22161d717305096', 'message': 'Add some operation log.\n\nFor protect operation and retention operation, lacks some\nkey operation log print, so we add it.\n\nChange-Id: Ife73b29511de3eea5094732fcfc82ff5e9783bc2\nSigned-off-by: guolei <guolei@cmss.chinamobile.com>\n'}, {'number': 3, 'created': '2019-11-11 03:33:02.000000000', 'files': ['karbor/services/operationengine/operations/retention_operation.py', 'karbor/services/operationengine/operations/protect_operation.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/11ce26e4845f2396c0e63447ad174c357d75ea5c', 'message': 'Add some operation log\n\nFor protect operation and retention operation, lacks some\nkey operation log print, so we add it.\n\nChange-Id: Ife73b29511de3eea5094732fcfc82ff5e9783bc2\nSigned-off-by: guolei <guolei@cmss.chinamobile.com>\n'}]",10,693608,11ce26e4845f2396c0e63447ad174c357d75ea5c,16,4,3,17843,,,0,"Add some operation log

For protect operation and retention operation, lacks some
key operation log print, so we add it.

Change-Id: Ife73b29511de3eea5094732fcfc82ff5e9783bc2
Signed-off-by: guolei <guolei@cmss.chinamobile.com>
",git fetch https://review.opendev.org/openstack/karbor refs/changes/08/693608/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/operationengine/operations/retention_operation.py', 'karbor/services/operationengine/operations/protect_operation.py']",2,64e00f8889c4a61eac32e610642d6565894d3188,,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.debug(""_execute operation starting"") LOG.debug(""_resume operation starting"") LOG.debug(""Create checkpoints finished, state=%s"" % state)",,20,0
openstack%2Fpython-senlinclient~stable%2Frocky~I08efcf3ca8382eab89db4da22821799faf32af59,openstack/python-senlinclient,stable/rocky,I08efcf3ca8382eab89db4da22821799faf32af59,Update json module to jsonutils,ABANDONED,2019-04-13 14:37:56.000000000,2019-11-11 05:17:01.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-04-13 14:37:56.000000000', 'files': ['senlinclient/tests/unit/test_format_utils.py', 'senlinclient/tests/unit/v1/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/52fcbc604327408ed12059bdf74322d84611f8d1', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and senlinclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-senlinclient/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I08efcf3ca8382eab89db4da22821799faf32af59\n(cherry picked from commit 3425b56057ccb05ef6a110d59fbcc95be94b0fb2)\n'}]",0,652201,52fcbc604327408ed12059bdf74322d84611f8d1,4,3,1,30098,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and senlinclient use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-senlinclient/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I08efcf3ca8382eab89db4da22821799faf32af59
(cherry picked from commit 3425b56057ccb05ef6a110d59fbcc95be94b0fb2)
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/01/652201/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlinclient/tests/unit/test_format_utils.py', 'senlinclient/tests/unit/v1/fakes.py']",2,52fcbc604327408ed12059bdf74322d84611f8d1,, from oslo_serialization import jsonutils self._content = jsonutils.dump_as_bytes(data),"import jsonimport six self._content = json.dumps(data) if not isinstance(self._content, six.binary_type): self._content = self._content.encode()",5,7
openstack%2Fsenlin~stable%2Fqueens~Iec7c869aa88a0f8600cc805008d01b2eee721565,openstack/senlin,stable/queens,Iec7c869aa88a0f8600cc805008d01b2eee721565,DNM testing sdk bump,ABANDONED,2019-03-20 18:13:04.000000000,2019-11-11 05:16:44.000000000,,"[{'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-20 18:13:04.000000000', 'files': ['senlin/version.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/b658d49e9535074faf517bd947216f60ef6e77e1', 'message': 'DNM testing sdk bump\n\nDepends-On: https://review.openstack.org/644960\nChange-Id: Iec7c869aa88a0f8600cc805008d01b2eee721565\n'}]",0,644962,b658d49e9535074faf517bd947216f60ef6e77e1,6,2,1,2,,,0,"DNM testing sdk bump

Depends-On: https://review.openstack.org/644960
Change-Id: Iec7c869aa88a0f8600cc805008d01b2eee721565
",git fetch https://review.opendev.org/openstack/senlin refs/changes/62/644962/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/version.py'],1,b658d49e9535074faf517bd947216f60ef6e77e1,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at# Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License.","# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at# Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License.",8,8
openstack%2Fopenstacksdk~master~I74714bfae1d488049d25701efcaad823b315631b,openstack/openstacksdk,master,I74714bfae1d488049d25701efcaad823b315631b,Increase test timeout for 2 tests in TestImageProxy class,MERGED,2019-10-31 10:21:37.000000000,2019-11-11 03:49:17.000000000,2019-11-11 03:47:47.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 10:21:37.000000000', 'files': ['openstack/tests/unit/image/v2/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/561c3a6831af2428a61dc21221322f68f053a1fb', 'message': 'Increase test timeout for 2 tests in TestImageProxy class\n\nThe tests TestImageProxy.test_wait_for_task_error_396 and\nTestImageProxy.test_wait_for_task_error_396 from\nopenstack.tests.unit.image.v2.test_proxy are failing in some build\nenvironments with:\n\nopenstack.exceptions.ResourceTimeout: Timeout waiting for Task:id to \\\n    transition to success\n\nIncreasing the timeout hopefully helps.\n\nChange-Id: I74714bfae1d488049d25701efcaad823b315631b\n'}]",0,692323,561c3a6831af2428a61dc21221322f68f053a1fb,7,2,1,7102,,,0,"Increase test timeout for 2 tests in TestImageProxy class

The tests TestImageProxy.test_wait_for_task_error_396 and
TestImageProxy.test_wait_for_task_error_396 from
openstack.tests.unit.image.v2.test_proxy are failing in some build
environments with:

openstack.exceptions.ResourceTimeout: Timeout waiting for Task:id to \
    transition to success

Increasing the timeout hopefully helps.

Change-Id: I74714bfae1d488049d25701efcaad823b315631b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/23/692323/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/image/v2/test_proxy.py'],1,561c3a6831af2428a61dc21221322f68f053a1fb,," res, interval=0.01, wait=0.5) res, interval=0.01, wait=0.5)"," res, interval=0.01, wait=0.1) res, interval=0.01, wait=0.1)",2,2
openstack%2Fstorlets~master~I4f4ae8f9d1248feaca5b9181fc72e5b44e1eed4e,openstack/storlets,master,I4f4ae8f9d1248feaca5b9181fc72e5b44e1eed4e,Ensure task_id is a native string on py3,MERGED,2019-11-08 00:15:53.000000000,2019-11-11 03:08:50.000000000,2019-11-11 03:07:51.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 00:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/db9adc53a388370ac455ad649118a166e5bcde80', 'message': 'Ensure task_id is a native string on py3\n\nChange-Id: I4f4ae8f9d1248feaca5b9181fc72e5b44e1eed4e\n'}, {'number': 2, 'created': '2019-11-08 06:40:14.000000000', 'files': ['storlets/gateway/gateways/docker/runtime.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/ba5aa7cdb803c66fa6e1b9ce84ef64fd78b7605e', 'message': 'Ensure task_id is a native string on py3\n\nChange-Id: I4f4ae8f9d1248feaca5b9181fc72e5b44e1eed4e\n'}]",0,693454,ba5aa7cdb803c66fa6e1b9ce84ef64fd78b7605e,9,2,2,15343,,,0,"Ensure task_id is a native string on py3

Change-Id: I4f4ae8f9d1248feaca5b9181fc72e5b44e1eed4e
",git fetch https://review.opendev.org/openstack/storlets refs/changes/54/693454/2 && git format-patch -1 --stdout FETCH_HEAD,['storlets/gateway/gateways/docker/runtime.py'],1,db9adc53a388370ac455ad649118a166e5bcde80,693291," if not isinstance(self.task_id, str): self.task_id = self.task_id.decode('utf-8')",,2,0
openstack%2Fstorlets~master~I69ebd60bda4e711b560b8cc7b3487988f69acafa,openstack/storlets,master,I69ebd60bda4e711b560b8cc7b3487988f69acafa,PY3: Fix datagram message to be bytes,MERGED,2019-11-07 05:32:29.000000000,2019-11-11 03:06:09.000000000,2019-11-11 03:04:49.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 05:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/194b6029a22bc944284bbdce72b6c33ddbc95522', 'message': 'WIP: Fix datagram command to be str\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}, {'number': 2, 'created': '2019-11-07 07:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a8db7941439be89df93bdb6ec52bebacc237f1ee', 'message': 'WIP: Fix datagram command to be str\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}, {'number': 3, 'created': '2019-11-07 07:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/b95b800a74e4f152bd9eafee27c266fa91865be7', 'message': 'PY3: Fix datagram command to be str\n\nAnd reply too.\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}, {'number': 4, 'created': '2019-11-07 08:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/baed6538f07174b2a713a751b85d0556f68dcbee', 'message': 'PY3: Fix datagram command to be str\n\nAnd reply too.\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}, {'number': 5, 'created': '2019-11-07 23:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e38f3a876ffb792430a19a497ed32648bb7bce04', 'message': 'PY3: Fix datagram command to be str\n\nAnd reply too.\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}, {'number': 6, 'created': '2019-11-08 01:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d7622ec7d07fc4541bd470664fd298d8def40c47', 'message': 'PY3: Fix datagram massage to be bytes\n\nAnd the reply should be str after it was received.\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}, {'number': 7, 'created': '2019-11-08 02:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ab39d18a0f744871f61a7539f5a28aa248480919', 'message': 'PY3: Fix datagram message to be bytes\n\nAnd the reply should be str after it was received.\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}, {'number': 8, 'created': '2019-11-08 03:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/b977488824c7d98d7b7e66afdfbab8a14bf01e95', 'message': 'PY3: Fix datagram message to be bytes\n\nAnd the reply should be str after it was received.\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}, {'number': 9, 'created': '2019-11-08 05:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d4ed87a83bd7d7a62d7d0bec7255e65159d3e64b', 'message': 'PY3: Fix datagram message to be bytes\n\nAnd the reply should be str after it was received.\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}, {'number': 10, 'created': '2019-11-08 06:33:59.000000000', 'files': ['tests/unit/sbus/client/test_client.py', 'storlets/sbus/client/client.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/236aaf2894271b50f9e80d623074fb4bb10da5ef', 'message': 'PY3: Fix datagram message to be bytes\n\nAnd the reply should be str after it was received.\n\nChange-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa\n'}]",1,693291,236aaf2894271b50f9e80d623074fb4bb10da5ef,25,4,10,4608,,,0,"PY3: Fix datagram message to be bytes

And the reply should be str after it was received.

Change-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa
",git fetch https://review.opendev.org/openstack/storlets refs/changes/91/693291/9 && git format-patch -1 --stdout FETCH_HEAD,['storlets/sbus/client/__init__.py'],1,194b6029a22bc944284bbdce72b6c33ddbc95522,693291," command,"," command.encode('utf-8'),",1,1
openstack%2Fstorlets~master~I5cc87cac7eb2a36b8c86a4807592d3ee64d94780,openstack/storlets,master,I5cc87cac7eb2a36b8c86a4807592d3ee64d94780,Port gathering logs routine from .functests to post ansible yaml,MERGED,2019-11-08 05:58:16.000000000,2019-11-11 02:56:30.000000000,2019-11-11 02:55:20.000000000,"[{'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 05:58:16.000000000', 'files': ['.functests', 'playbooks/storlets-functional/post.yaml', 'playbooks/storlets-functional/post-py3.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/28677c01134034c297b54fbb8195b57667065dfd', 'message': 'Port gathering logs routine from .functests to post ansible yaml\n\nChange-Id: I5cc87cac7eb2a36b8c86a4807592d3ee64d94780\n'}]",2,693481,28677c01134034c297b54fbb8195b57667065dfd,8,3,1,4608,,,0,"Port gathering logs routine from .functests to post ansible yaml

Change-Id: I5cc87cac7eb2a36b8c86a4807592d3ee64d94780
",git fetch https://review.opendev.org/openstack/storlets refs/changes/81/693481/1 && git format-patch -1 --stdout FETCH_HEAD,"['.functests', 'playbooks/storlets-functional/post.yaml', 'playbooks/storlets-functional/post-py3.yaml']",3,28677c01134034c297b54fbb8195b57667065dfd,," - name: Create log directory to pull file: path: '{{ zuul.project.src_dir }}/logs' state: directory - name: Prepare the logs into user space shell: ""egrep {{ item }} /var/log/syslog > {{ zuul.project.src_dir }}/logs/{{ item }}.log"" with_items: - ""account-server"" - ""container-server"" - ""object-server"" - ""proxy-server"" - ""ansible"" - ""storlets-daemon"" - ""daemon-factory"" become: yes - name: Change log permisson as readable file: path: ""{{ zuul.project.src_dir }}/logs/{{ item }}.log"" mode: 0644 with_items: - ""account-server"" - ""container-server"" - ""object-server"" - ""proxy-server"" - ""ansible"" - ""storlets-daemon"" - ""daemon-factory"" become: yes src: '{{ zuul.project.src_dir }}/logs'", src: '{{ zuul.project.src_dir }}/.tox/func-py3/logs',63,18
openstack%2Frally-openstack~master~I387705ad9c5ca9179b6079a49dd39ed9b9361a03,openstack/rally-openstack,master,I387705ad9c5ca9179b6079a49dd39ed9b9361a03,fix number of users for NeutronSubnets.delete_subnets,MERGED,2019-02-11 17:40:25.000000000,2019-11-11 02:53:52.000000000,2019-11-11 02:53:52.000000000,"[{'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-02-11 17:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/54f0f2bdc10ebda40a1b48fa336aad9db3d656d1', 'message': 'fix number of users for NeutronSubnets.delete_subnets\n\nThe NeutronSubnets.delete_subnets scenario assumes that the number of\nusers per tenant is greater or equal to the number of subnets per\nnetwork:\n\nhttps://github.com/openstack/rally-openstack/blob/ed524c07c1559a4ed45c5f7eee78c4cac8a3450b/rally_openstack/scenarios/neutron/network.py\n\nNote that `number` is set to the index of the user in the `users` list.\nIf there are fewer users than subnets, this means that a request to\ndelete the subnet is submitted more than once - resulting in\nfailures.\n\nThis change fixes the number of users per tenant to the same value as\nthe number of subnets per network. Additionally, we must use round robin\nuser selection to ensure that the same user is not selected twice.\n\nChange-Id: I387705ad9c5ca9179b6079a49dd39ed9b9361a03\n'}, {'number': 2, 'created': '2019-08-27 11:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2b06dd1b416fe6bf741c9991cad0d63968f5c812', 'message': 'fix number of users for NeutronSubnets.delete_subnets\n\nThe NeutronSubnets.delete_subnets scenario assumes that the number of\nusers per tenant is greater or equal to the number of subnets per\nnetwork:\n\nhttps://github.com/openstack/rally-openstack/blob/ed524c07c1559a4ed45c5f7eee78c4cac8a3450b/rally_openstack/scenarios/neutron/network.py\n\nNote that `number` is set to the index of the user in the `users` list.\nIf there are fewer users than subnets, this means that a request to\ndelete the subnet is submitted more than once - resulting in\nfailures.\n\nThis change fixes the number of users per tenant to the same value as\nthe number of subnets per network. Additionally, we must use round robin\nuser selection to ensure that the same user is not selected twice.\n\nChange-Id: I387705ad9c5ca9179b6079a49dd39ed9b9361a03\n'}, {'number': 3, 'created': '2019-11-10 02:06:50.000000000', 'files': ['tasks/openstack/scenario/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a718e27474e2bf1555f060e28c4de27de1e561f4', 'message': 'fix number of users for NeutronSubnets.delete_subnets\n\nThe NeutronSubnets.delete_subnets scenario assumes that the number of\nusers per tenant is greater or equal to the number of subnets per\nnetwork:\n\nhttps://github.com/openstack/rally-openstack/blob/ed524c07c1559a4ed45c5f7eee78c4cac8a3450b/rally_openstack/scenarios/neutron/network.py\n\nNote that `number` is set to the index of the user in the `users` list.\nIf there are fewer users than subnets, this means that a request to\ndelete the subnet is submitted more than once - resulting in\nfailures.\n\nThis change fixes the number of users per tenant to the same value as\nthe number of subnets per network. Additionally, we must use round robin\nuser selection to ensure that the same user is not selected twice.\n\nChange-Id: I387705ad9c5ca9179b6079a49dd39ed9b9361a03\n'}]",1,636187,a718e27474e2bf1555f060e28c4de27de1e561f4,18,4,3,28048,,,0,"fix number of users for NeutronSubnets.delete_subnets

The NeutronSubnets.delete_subnets scenario assumes that the number of
users per tenant is greater or equal to the number of subnets per
network:

https://github.com/openstack/rally-openstack/blob/ed524c07c1559a4ed45c5f7eee78c4cac8a3450b/rally_openstack/scenarios/neutron/network.py

Note that `number` is set to the index of the user in the `users` list.
If there are fewer users than subnets, this means that a request to
delete the subnet is submitted more than once - resulting in
failures.

This change fixes the number of users per tenant to the same value as
the number of subnets per network. Additionally, we must use round robin
user selection to ensure that the same user is not selected twice.

Change-Id: I387705ad9c5ca9179b6079a49dd39ed9b9361a03
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/87/636187/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack/scenario/neutron.yaml'],1,54f0f2bdc10ebda40a1b48fa336aad9db3d656d1,fix-neutron-subnet," {{ user_context(tenants_amount, 15, use_existing_users, True) }}"," {{ user_context(tenants_amount, users_amount, use_existing_users, use_round_robin) }}",1,1
openstack%2Fwhitebox-tempest-plugin~master~I733ecae620800d6a6f9ca296da427d9986f3bf4e,openstack/whitebox-tempest-plugin,master,I733ecae620800d6a6f9ca296da427d9986f3bf4e,"[WIP] When pcpu is a single cpu, convert to int",ABANDONED,2019-11-10 04:03:17.000000000,2019-11-11 02:29:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-10 04:03:17.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/bc2e92346ef7928a07b4a87a17a2c79557964c35', 'message': '[WIP] When pcpu is a single cpu, convert to int\n\nChange-Id: I733ecae620800d6a6f9ca296da427d9986f3bf4e\nStory: 2006824\nTask: 37397\n'}]",0,693618,bc2e92346ef7928a07b4a87a17a2c79557964c35,3,1,1,8864,,,0,"[WIP] When pcpu is a single cpu, convert to int

Change-Id: I733ecae620800d6a6f9ca296da427d9986f3bf4e
Story: 2006824
Task: 37397
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/18/693618/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'],1,bc2e92346ef7928a07b4a87a17a2c79557964c35,," # NOTE(artom) This test uses cpu_policy=dedicated, so pcpu will # only ever be a single CPU. pcpu = list(cpu_pinnings[vcpu])[0] # NOTE(artom) This test uses cpu_policy=dedicated, so pcpu will # only ever be a single CPU. pcpu = list(cpu_pinnings[vcpu])[0] # NOTE(artom) This test uses cpu_policy=dedicated, so pcpu will # only ever be a single CPU. pcpu = list(cpu_pinnings[vcpu])[0]", pcpu = cpu_pinnings[vcpu] pcpu = cpu_pinnings[vcpu] pcpu = cpu_pinnings[vcpu],9,3
openstack%2Fopenstack-helm-infra~master~I604ec837f3f2d157c829ab43a44e561879775c77,openstack/openstack-helm-infra,master,I604ec837f3f2d157c829ab43a44e561879775c77,Fix search of max sequence number,MERGED,2019-10-23 12:41:00.000000000,2019-11-11 01:09:07.000000000,2019-11-11 01:08:00.000000000,"[{'_account_id': 8749}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29013}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-23 12:41:00.000000000', 'files': ['mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d808243f0b9419b6d65423589e5c55128e6553e', 'message': 'Fix search of max sequence number\n\nIt was observed that sometimes during\ngalera ckuster restart the node with highest\nseqno is determined incorrecly. After investigation\nit was found that max function is invoked on the\nlist of string values which can lead to incorrect results.\nThis patch performs casting the value to integer before building\nlist of seqnos hence max function will return correct result\n\nChange-Id: I604ec837f3f2d157c829ab43a44e561879775c77\n'}]",0,690560,4d808243f0b9419b6d65423589e5c55128e6553e,12,6,1,29013,,,0,"Fix search of max sequence number

It was observed that sometimes during
galera ckuster restart the node with highest
seqno is determined incorrecly. After investigation
it was found that max function is invoked on the
list of string values which can lead to incorrect results.
This patch performs casting the value to integer before building
list of seqnos hence max function will return correct result

Change-Id: I604ec837f3f2d157c829ab43a44e561879775c77
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/60/690560/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.py.tpl'],1,4d808243f0b9419b6d65423589e5c55128e6553e,fix_max_seqno, #Explicit casting to integer to have resulting list of integers for correct comparison seqnos[node] = int(value), seqnos[node] = value,2,1
openstack%2Fopenstack-ansible~stable%2Ftrain~I3609d68769075c8bbee77214f3790b89692dd0b0,openstack/openstack-ansible,stable/train,I3609d68769075c8bbee77214f3790b89692dd0b0,Add metal upgrade jobs,MERGED,2019-11-01 07:10:44.000000000,2019-11-11 00:36:07.000000000,2019-11-11 00:34:01.000000000,"[{'_account_id': 1004}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-01 07:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1b2e1b3744b0302467339abe3e2a4575d90f39f7', 'message': ""Add metal upgrade jobs\n\nThis patch adds jobs for both CentOS 7 and Ubuntu upgrades to\nrun in check and gate to ensure that we don't break upgrade paths.\n\nDepends-On: https://review.opendev.org/690072\nChange-Id: I3609d68769075c8bbee77214f3790b89692dd0b0\n""}, {'number': 2, 'created': '2019-11-01 17:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/311ee3df29fd295ad9000a2505d8e7b4e2e59e17', 'message': ""Add metal upgrade jobs\n\nThis patch adds jobs for both CentOS 7 and Ubuntu upgrades to\nrun in check and gate to ensure that we don't break upgrade paths.\n\nDepends-On: https://review.opendev.org/691437\nChange-Id: I3609d68769075c8bbee77214f3790b89692dd0b0\n""}, {'number': 3, 'created': '2019-11-01 22:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/78c7ea77017a2f59549eb3b0d68f7a5f55327506', 'message': ""Add metal upgrade jobs\n\nThis patch adds jobs for both CentOS 7 and Ubuntu upgrades to\nrun in check and gate to ensure that we don't break upgrade paths.\n\nDepends-On: https://review.opendev.org/692607/\nChange-Id: I3609d68769075c8bbee77214f3790b89692dd0b0\n""}, {'number': 4, 'created': '2019-11-08 07:53:08.000000000', 'files': ['zuul.d/project-templates.yaml', 'scripts/gate-check-commit.sh', 'zuul.d/playbooks/pre-gate-scenario.yml', 'zuul.d/jobs.yaml', 'zuul.d/playbooks/templates/osa-gate-scenario.yml.j2', 'zuul.d/playbooks/pre-osa-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/988b81300f486a452ff793d496ff0bf060c462b0', 'message': ""Add metal upgrade jobs\n\nThis patch adds jobs for both CentOS 7 and Ubuntu upgrades to\nrun in check and gate to ensure that we don't break upgrade paths.\n\nChange-Id: I3609d68769075c8bbee77214f3790b89692dd0b0\n""}]",0,692504,988b81300f486a452ff793d496ff0bf060c462b0,26,6,4,28619,,,0,"Add metal upgrade jobs

This patch adds jobs for both CentOS 7 and Ubuntu upgrades to
run in check and gate to ensure that we don't break upgrade paths.

Change-Id: I3609d68769075c8bbee77214f3790b89692dd0b0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/692504/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'scripts/gate-check-commit.sh', 'zuul.d/playbooks/pre-gate-scenario.yml', 'zuul.d/jobs.yaml', 'zuul.d/playbooks/templates/osa-gate-scenario.yml.j2', 'zuul.d/playbooks/pre-osa-aio.yml']",6,1b2e1b3744b0302467339abe3e2a4575d90f39f7,add-upgrade-jobs-stable/train, when: action != 'upgrade' when: action != 'upgrade',,31,6
openstack%2Fopenstack-helm-images~master~I64064ab93bce0c341df2b6d319f49b391e77f142,openstack/openstack-helm-images,master,I64064ab93bce0c341df2b6d319f49b391e77f142,"[Abandon] Feature is no longer needed. Trying to abandon it, but button not found",ABANDONED,2019-04-30 20:35:28.000000000,2019-11-11 00:24:13.000000000,,"[{'_account_id': 8898}, {'_account_id': 9079}, {'_account_id': 10068}, {'_account_id': 13486}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26686}, {'_account_id': 28025}, {'_account_id': 29131}, {'_account_id': 29161}, {'_account_id': 29298}, {'_account_id': 30355}, {'_account_id': 30358}]","[{'number': 1, 'created': '2019-04-30 20:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f5a9ea49490a09bbb70dc36693156a9f296e9a41', 'message': 'Add Dockerfile and make file for MySQL-Client-Utility container.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 2, 'created': '2019-04-30 21:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ae849c3d7ab4a54e1ca622eb083d727258633b91', 'message': 'Add Dockerfile and make file for MySQL-Client-Utility container.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 3, 'created': '2019-05-01 16:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5957bf414077e1589e475128c317fb6949e257f9', 'message': 'Add Dockerfile and make file for MySQL-Client-Utility container.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 4, 'created': '2019-05-15 15:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1f00355d7c30a21bc28f5400728389f29611df41', 'message': 'Add Dockerfile and make file for MySQL-Client-Utility container.\nThis container provides MySQL Client software to connect to\nMySQL and MariaDB server.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 5, 'created': '2019-05-20 21:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d88a5a77ab455a9e9e84a4330180ea948f4638ba', 'message': 'Add Dockerfile and make file for MySQL-Client-Utility container.\nThis container provides MySQL Client software to connect to\nMySQL and MariaDB server.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 6, 'created': '2019-05-23 20:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/26cf4bbc62a1f49f01a2058ce7081eabfbaa3791', 'message': 'Add Dockerfile and make file for MySQL-Client-Utility container.\nThis container provides MySQL Client software to connect to\nMySQL and MariaDB server.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 7, 'created': '2019-11-08 13:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2e035198e6a2429a6ebd211632637c40e4899c6a', 'message': 'Add Dockerfile and make file for MySQL-Client-Utility container.\nThis container provides MySQL Client software to connect to\nMySQL and MariaDB server.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 8, 'created': '2019-11-08 15:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7c975be906bedb005586b6364fe1f5a66ded31f1', 'message': 'Add Dockerfile and make file for MySQL-Client-Utility container.\nThis container provides MySQL Client software to connect to\nMySQL and MariaDB server.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 9, 'created': '2019-11-08 16:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c4682d3abfe484bd96b36d6d61d197af7209bd0c', 'message': 'Feature is no longer needed. Trying to abandon it, but button not found\n\nAdd Dockerfile and make file for MySQL-Client-Utility container.\nThis container provides MySQL Client software to connect to\nMySQL and MariaDB server.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 10, 'created': '2019-11-08 16:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/947bac82bbdbb06346890fd1fc86c5ab88b5e9ae', 'message': 'Feature is no longer needed. Trying to abandon it, but button not found\n\nAdd Dockerfile and make file for MySQL-Client-Utility container.\nThis container provides MySQL Client software to connect to\nMySQL and MariaDB server.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}, {'number': 11, 'created': '2019-11-08 16:54:43.000000000', 'files': ['zuul.d/calicoctl-utility.yaml', 'doc/source/tempest.rst', 'zuul.d/tempest.yaml', 'mini-mirror/sources/aptly-example/squeeze/packages.txt', 'openstack/loci/build-queens.sh', 'patroni/build.sh', 'openstack/loci/build-ocata.sh', 'mini-mirror/etc/aptly.conf', 'libvirt/build.sh', 'openstack/loci/build-rocky.sh', 'prometheus-openstack-exporter/exporter/base.py', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_xenial', 'nagios/plugins/send_host_trap.sh', 'prometheus-openstack-exporter/exporter/check_os_api.py', 'doc/source/openvswitch.rst', 'ospurge/Dockerfile.ubuntu_bionic', 'nagios/apache2/ports.conf', 'zuul.d/playbooks/build-loci.yml', 'zuul.d/libvirt.yaml', 'nagios/plugins/check_prometheus_metric.sh', 'openvswitch/Dockerfile.ubuntu_bionic', 'zuul.d/nagios.yaml', 'prometheus-openstack-exporter/exporter/neutron_agents.py', 'prometheus-openstack-exporter/exporter/osclient.py', 'doc/source/loci.rst', 'doc/source/vbmc.rst', 'nagios/plugins/send_http_post_event.py', 'tempest/Dockerfile.ubuntu_xenial', 'zuul.d/elasticsearch-s3.yaml', 'zuul.d/openstack-loci.yaml', 'openstack/loci/build-pike.sh', 'zuul.d/openvswitch.yaml', 'zuul.d/fluentd.yaml', 'zuul.d/ospurge.yaml', 'elasticsearch-s3/build.sh', 'doc/source/_templates/.placeholder', 'libvirt/ubuntu-install-libvirt.sh', 'releasenotes/source/_templates/.placeholder', 'zuul.d/ceph-rbd-provisioner.yaml', 'README_MAKEFILE', 'prometheus-openstack-exporter/exporter/main.py', 'ceph-daemon/build.sh', 'nagios/plugins/query_prometheus_alerts.py', 'zuul.d/ceph-cephfs-provisioner.yaml', 'nagios/apache2/sites-available/nagios.conf', 'libvirt/Dockerfile.suse_15', 'ceph-daemon/Dockerfile.ubuntu_xenial', 'mariadb/build.sh', 'libvirt/Dockerfile.ubuntu_bionic', 'prometheus-openstack-exporter/build.sh', 'gate-utils/Dockerfile.suse_15', 'libvirt/suse_leap15_virtualization_repo.key', 'mini-mirror/build.sh', 'ceph-config-helper/build.sh', 'doc/source/ceph-daemon.rst', 'patroni/Dockerfile.ubuntu_xenial', 'doc/source/ospurge.rst', 'doc/source/index.rst', 'nagios/scripts/entrypoint.sh', 'vbmc/build.sh', 'calicoctl-utility/build.sh', 'doc/source/calicoctl-utility.rst', 'mini-mirror/sources/aptly-example/squeeze/source.txt', 'openvswitch/Dockerfile.suse_15', 'ospurge/build.sh', 'doc/source/ceph-config-helper.rst', 'osh-selenium/Dockerfile.ubuntu_bionic', 'prometheus-openstack-exporter/exporter/nova_services.py', '.gitreview', 'zuul.d/ceph-daemon.yaml', 'README.rst', 'fluentd/Dockerfile.debian', 'setup.py', 'doc/source/gate-utils.rst', 'zuul.d/osh-selenium.yaml', 'ceph-utility/Dockerfile.ubuntu_xenial', 'osh-selenium/Dockerfile.opensuse_15', 'releasenotes/notes/.placeholder', 'fluentd/build.sh', 'openvswitch/build.sh', 'tempest/Dockerfile.opensuse_15', 'CONTRIBUTING.rst', 'nagios/plugins/check_exporter_health_metric.py', 'osh-selenium/linux_signing_key.pub', 'nagios/plugins/check_rest_get_api.py', 'mysql-client-utility/Dockerfile.ubuntu_xenial', 'LICENSE', 'ceph-config-helper/Dockerfile.suse_15', 'libvirt/suse_sle15_ceph_repo.key', 'nagios/plugins/query_elasticsearch.py', 'zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'nagios/plugins/send_service_trap.sh', 'mini-mirror/Dockerfile.ubuntu_xenial', 'prometheus-openstack-exporter/exporter/hypervisor_stats.py', 'releasenotes/source/index.rst', 'ceph-rbd-provisioner/Dockerfile.ubuntu_xenial', 'zuul.d/vbmc.yaml', 'nagios/plugins/define-nagios-hosts.py', 'ceph-cephfs-provisioner/build.sh', 'openvswitch/Dockerfile.ubuntu_bionic-dpdk', 'mini-mirror/README.rst', 'openstack/loci/build-stein.sh', 'prometheus-openstack-exporter/exporter/cinder_services.py', 'zuul.d/playbooks/Dockerfile', 'libvirt/Dockerfile.ubuntu_xenial', 'setup.cfg', 'tox.ini', 'elasticsearch-s3/Dockerfile.5_6_4', 'nagios/scripts/snmp-mibs/NAGIOS-NOTIFY-MIB', '.gitignore', 'vbmc/Dockerfile.suse_15', 'mini-mirror/tools/publish_snapshots.sh', 'Makefile', 'zuul.d/patroni.yaml', 'mariadb/Dockerfile.ubuntu_xenial', 'tempest/Cloud:OpenStack:Master-openSUSE_Leap_15.0.gpgkey', 'nagios/plugins/pvc_pv_rbd_monitoring.py', 'openstack/loci/build.sh', 'ceph-rbd-provisioner/build.sh', 'nagios/Dockerfile.ubuntu_xenial', 'osh-selenium/build.sh', 'ceph-config-helper/Dockerfile.ubuntu_xenial', 'zuul.d/mini-mirror.yaml', 'ceph-utility/build.sh', 'releasenotes/source/_static/.placeholder', 'tempest/build.sh', 'openvswitch/Dockerfile.debian', 'zuul.d/mysql-client-utility.yaml', 'prometheus-openstack-exporter/Dockerfile.ubuntu_bionic', 'gate-utils/Dockerfile.debian', 'prometheus-openstack-exporter/exporter/__init__.py', 'vbmc/Dockerfile.centos_7', 'calicoctl-utility/Dockerfile.alpine', 'openvswitch/Dockerfile.suse_15-dpdk', 'mini-mirror/Dockerfile.ubuntu_bionic', 'doc/source/conf.py', 'doc/source/mariadb.rst', 'openstack/loci/build-newton.sh', 'zuul.d/base.yaml', 'zuul.d/ceph-config-helper.yaml', 'nagios/scripts/snmp-mibs/NAGIOS-ROOT-MIB', 'releasenotes/notes/image-name-convention-3acbf8dddd42427a.yaml', 'zuul.d/prometheus-openstack-exporter.yaml', 'nagios/plugins/nagiosutil.py', 'releasenotes/source/unreleased.rst', 'gate-utils/build.sh', 'doc/source/_static/.placeholder', 'prometheus-openstack-exporter/exporter/oscache.py', 'doc/source/libvirt.rst', 'doc/requirements.txt', 'nagios/build.sh', 'zuul.d/mariadb.yaml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4aec4a2fc3538b7f2399d30637461e02799d1c51', 'message': '[Abandon] Feature is no longer needed. Trying to abandon it, but button not found\n\nAdd Dockerfile and make file for MySQL-Client-Utility container.\nThis container provides MySQL Client software to connect to\nMySQL and MariaDB server.\n\nChange-Id: I64064ab93bce0c341df2b6d319f49b391e77f142\n'}]",23,656584,4aec4a2fc3538b7f2399d30637461e02799d1c51,41,14,11,30355,,,0,"[Abandon] Feature is no longer needed. Trying to abandon it, but button not found

Add Dockerfile and make file for MySQL-Client-Utility container.
This container provides MySQL Client software to connect to
MySQL and MariaDB server.

Change-Id: I64064ab93bce0c341df2b6d319f49b391e77f142
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/84/656584/10 && git format-patch -1 --stdout FETCH_HEAD,"['mysql-client-utility/build.sh', 'mysql-client-utility/Dockerfile.ubuntu_xenial']",2,f5a9ea49490a09bbb70dc36693156a9f296e9a41,,"FROM docker.io/ubuntu:xenial RUN set -xe \ && sed -i '/nobody/d' /etc/passwd \ && echo ""nobody:x:65534:65534:nobody:/nonexistent:/bin/bash"" >> /etc/passwd \ && apt-get update && apt-get install -y bash moreutils vim sudo screen rsyslog python-oslo.rootwrap python3-oslo.rootwrap mysql-client \ && apt-get clean && rm -rf /var/lib/apt/lists/* CMD [""/bin/bash""]",,26,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Fqueens~Ib764c70e483513bec5bd97d4499e67beb4501826,openstack/openstack-ansible-os_tempest,stable/queens,Ib764c70e483513bec5bd97d4499e67beb4501826,Don't download image when it's already there,MERGED,2019-11-06 14:09:35.000000000,2019-11-10 22:46:12.000000000,2019-11-10 22:46:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-06 14:09:35.000000000', 'files': ['tasks/tempest_resources.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e6f27c29df82978b45b15e417437df56eb8fd2d3', 'message': ""Don't download image when it's already there\n\nAs image should have been already cached in CI, we shouldn't\ndownload it again but just verify the checksum.\n\nNOTE - at the time of this commit download.cirros.com is not working\nso the cirros image is also switched to 0.4.0 which is present in\nthe infra CI image.\n\n(cherry-picked from commit ad4841f70a0ad4ed8090fc3f4c83812204cb59c0)\nChange-Id: Ib764c70e483513bec5bd97d4499e67beb4501826\n""}]",0,693182,e6f27c29df82978b45b15e417437df56eb8fd2d3,34,4,1,25023,,,0,"Don't download image when it's already there

As image should have been already cached in CI, we shouldn't
download it again but just verify the checksum.

NOTE - at the time of this commit download.cirros.com is not working
so the cirros image is also switched to 0.4.0 which is present in
the infra CI image.

(cherry-picked from commit ad4841f70a0ad4ed8090fc3f4c83812204cb59c0)
Change-Id: Ib764c70e483513bec5bd97d4499e67beb4501826
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/82/693182/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_resources.yml', 'defaults/main.yml']",2,e6f27c29df82978b45b15e417437df56eb8fd2d3,queens/ci-image," - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"" checksum: ""sha256:a8dd75ecffd4cdd96072d60c2237b448e0c8b2bc94d57f10fdbc8c481d9005b8"" - url: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"" checksum: ""sha256:a8dd75ecffd4cdd96072d60c2237b448e0c8b2bc94d57f10fdbc8c481d9005b8"""," - url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" checksum: ""sha256:e137062a4dfbb4c225971b67781bc52183d14517170e16a3841d16f962ae7470"" - url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" checksum: ""sha256:e137062a4dfbb4c225971b67781bc52183d14517170e16a3841d16f962ae7470""",5,5
openstack%2Fnova~master~I1333e9f888bb2994d0818a4498b20abe920aa23b,openstack/nova,master,I1333e9f888bb2994d0818a4498b20abe920aa23b,Avoid live migrate to same host,ABANDONED,2018-02-09 07:36:19.000000000,2019-11-10 21:21:37.000000000,,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10439}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17288}, {'_account_id': 19944}, {'_account_id': 21279}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26580}, {'_account_id': 27738}]","[{'number': 1, 'created': '2018-02-09 07:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c48ce53a1d0915b4c80b44120af5a062168d62b', 'message': 'Avoid live mgirate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1741235\n'}, {'number': 2, 'created': '2018-02-09 09:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/558627483283edef2a060dfd0a0b2bc17ddf8b69', 'message': 'Avoid live mgirate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 3, 'created': '2018-02-13 07:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb971a10217ebe40d31fb10ebb37d03d8e223f86', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 4, 'created': '2018-02-14 05:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e9b6279eca702146f2240c8ddf243a9743d8ff9', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 5, 'created': '2018-03-22 05:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dda47fa3b28d42a22aa92d358fae0eb2c6d268e1', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 6, 'created': '2018-03-27 02:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eba07aaf0f45dd917346e38f99608ecf2d23452e', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 7, 'created': '2018-03-27 07:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a7ceb19b9f9e4f7533a13f603bffc787d16238b', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 8, 'created': '2018-04-09 01:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d478dfe14a54887ffa3a4d36392dcc53e0344ed0', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 9, 'created': '2018-04-12 06:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2eb7975af7302fab588db4d75613f8671248bbd4', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 10, 'created': '2018-05-02 01:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4cbdde245ea27e0654e0fbc1f43eb1ffcf89389', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 11, 'created': '2018-05-10 07:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c6c5df428f7ba65e6615a7a69d21b37bb6c98e7', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 12, 'created': '2018-05-21 06:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e225b091314b856068360db14b449564e8ddd096', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 13, 'created': '2018-07-05 04:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcd5c4be79b745a9012faa9137b44501a4e68ab7', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}, {'number': 14, 'created': '2018-08-03 15:24:20.000000000', 'files': ['nova/tests/functional/api_sample_tests/test_migrate_server.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bb7923ec55ed5d878453ff09a445abda3d1b5965', 'message': 'Avoid live migrate to same host\n\nAs live migrate target to move instance to another host, we should\ncheck at API layer before really do the action. This patch add\na check before calling conductor on whether host name is same.\n\nChange-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b\nCloses-Bug: 1714235\n'}]",26,542689,bb7923ec55ed5d878453ff09a445abda3d1b5965,232,26,14,6062,,,0,"Avoid live migrate to same host

As live migrate target to move instance to another host, we should
check at API layer before really do the action. This patch add
a check before calling conductor on whether host name is same.

Change-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b
Closes-Bug: 1714235
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/542689/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",2,6c48ce53a1d0915b4c80b44120af5a062168d62b,bug/1714235," def test_migrate_live_same_host(self): body = self._get_migration_body(host='hostname') instance = self._stub_instance_get(uuid=None) # This sets the target host to same host instance is on body['os-migrateLive']['host'] = instance.host self.assertRaises(webob.exc.HTTPBadRequest, self.controller._migrate_live, self.req, instance.uuid, body=body) ",,17,0
openstack%2Fnova~master~Id4c92741dbe2e794c1be677874891468a03bc935,openstack/nova,master,Id4c92741dbe2e794c1be677874891468a03bc935,Use subprocess securely,ABANDONED,2017-11-15 08:56:32.000000000,2019-11-10 21:12:05.000000000,,"[{'_account_id': 6062}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-15 08:56:32.000000000', 'files': ['tools/db/schema_diff.py', 'tools/xenserver/stress_test.py', 'tools/reserve-migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a05d258fd1619c164ef19d1821a89da26b4cefb', 'message': 'Use subprocess securely\n\nDue to https://docs.openstack.org/bandit/latest/plugins/subprocess_popen_with_shell_equals_true.html,\nand reference https://security.openstack.org/guidelines/dg_avoid-shell-true.html and\nhttps://security.openstack.org/guidelines/dg_use-subprocess-securely.html,\nwe should use python pipes to avoid shells and use subprocess more securely.\n\nCloses-Bug: #1732363\nChange-Id: Id4c92741dbe2e794c1be677874891468a03bc935\n'}]",2,520013,7a05d258fd1619c164ef19d1821a89da26b4cefb,18,8,1,22056,,,0,"Use subprocess securely

Due to https://docs.openstack.org/bandit/latest/plugins/subprocess_popen_with_shell_equals_true.html,
and reference https://security.openstack.org/guidelines/dg_avoid-shell-true.html and
https://security.openstack.org/guidelines/dg_use-subprocess-securely.html,
we should use python pipes to avoid shells and use subprocess more securely.

Closes-Bug: #1732363
Change-Id: Id4c92741dbe2e794c1be677874891468a03bc935
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/520013/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/db/schema_diff.py', 'tools/xenserver/stress_test.py', 'tools/reserve-migrations.py']",3,7a05d258fd1619c164ef19d1821a89da26b4cefb,bug/1732363," cmd = ['git', 'add', path] subprocess.call(cmd)"," subprocess.call('git add %s' % path, shell=True)",19,19
openstack%2Fnova~master~I909827bdb542bffeecd0e694fadd94f650445db2,openstack/nova,master,I909827bdb542bffeecd0e694fadd94f650445db2,Add a communication channel for power management support,ABANDONED,2017-10-17 20:20:36.000000000,2019-11-10 21:10:30.000000000,,"[{'_account_id': 6062}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23803}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2017-10-17 20:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04b3b07fbdfac208fbd0f6bb310c34191269ac6d', 'message': ""[WIP] Add a communication channel for power management support\n\nSome network operators aim to reduce operational costs by tying power\nconsumption to the actual traffic flowing through their VNFs. These VNFs\ncan evaluate the required performance but also need a way to control\npower related HW capabilities present on the host.\n\nThis patch configures the libvirt domain XML to include a virtio-serial\nchannel for power management purposes only, for VMs running on Qemu or\nKVM and executing an image with the 'hw_power_governor' property.\nSuch channel can then be used by energy-aware applications in the guest,\nrun in combination with a matching power agent on the host for HW\ncontrol.\n\nThe DPDK project already provides a sample agent and application for\nsuch purpose, DPDK based VNFs would benefit from improved support at the\norchestration layer.\n\nTODO: improve testing\n\nImplements: blueprint vm-power-management\nChange-Id: I909827bdb542bffeecd0e694fadd94f650445db2""}, {'number': 2, 'created': '2017-11-08 09:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f11840c4977565045ea16be17bd14a252dda5b51', 'message': ""Add a communication channel for power management support\n\nSome network operators aim to reduce operational costs by tying power\nconsumption to the actual traffic flowing through their VNFs. These VNFs\ncan evaluate the required performance but also need a way to control\npower related HW capabilities present on the host.\n\nThis patch configures the libvirt domain XML to include a virtio-serial\nchannel for power management purposes only, for VMs running on Qemu or\nKVM and executing an image with the 'hw_power_governor' property.\nSuch channel can then be used by energy-aware applications in the guest,\nrun in combination with a matching power agent on the host for HW\ncontrol.\n\nThe DPDK project already provides a sample agent and application for\nsuch purpose, DPDK based VNFs would benefit from improved support at the\norchestration layer.\n\nImplements: blueprint vm-power-management\nChange-Id: I909827bdb542bffeecd0e694fadd94f650445db2""}, {'number': 3, 'created': '2017-11-08 16:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cf4f96380046dfe508818d5808c49f360d9b0f0', 'message': ""Add a communication channel for power management support\n\nSome network operators aim to reduce operational costs by tying power\nconsumption to the actual traffic flowing through their VNFs. These VNFs\ncan evaluate the required performance but also need a way to control\npower related HW capabilities present on the host.\n\nThis patch configures the libvirt domain XML to include a virtio-serial\nchannel for power management purposes only, for VMs running on Qemu or\nKVM and executing an image with the 'hw_power_governor' property.\nSuch channel can then be used by energy-aware applications in the guest,\nrun in combination with a matching power agent on the host for HW\ncontrol.\n\nThe DPDK project already provides a sample agent and application for\nsuch purpose, DPDK based VNFs would benefit from improved support at the\norchestration layer.\n\nImplements: blueprint vm-power-management\nChange-Id: I909827bdb542bffeecd0e694fadd94f650445db2""}, {'number': 4, 'created': '2017-11-09 08:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d3f47a1e68c6b171d637cdbc75de98b9f30eee9', 'message': ""Add a communication channel for power management support\n\nSome network operators aim to reduce operational costs by tying power\nconsumption to the actual traffic flowing through their VNFs. These VNFs\ncan evaluate the required performance but also need a way to control\npower related HW capabilities present on the host.\n\nThis patch configures the libvirt domain XML to include a virtio-serial\nchannel for power management purposes only, for VMs running on Qemu or\nKVM and executing an image with the 'hw_power_governor' property.\nSuch channel can then be used by energy-aware applications in the guest,\nrun in combination with a matching power agent on the host for HW\ncontrol.\n\nThe DPDK project already provides a sample agent and application for\nsuch purpose, DPDK based VNFs would benefit from improved support at the\norchestration layer.\n\nImplements: blueprint vm-power-management\nChange-Id: I909827bdb542bffeecd0e694fadd94f650445db2""}, {'number': 5, 'created': '2017-11-09 14:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5b61b4775bff89a1cecf43ba963a8ff84c79533', 'message': ""Add a communication channel for power management support\n\nSome network operators aim to reduce operational costs by tying power\nconsumption to the actual traffic flowing through their VNFs. These VNFs\ncan evaluate the required performance but also need a way to control\npower related HW capabilities present on the host.\n\nThis patch configures the libvirt domain XML to include a virtio-serial\nchannel for power management purposes only, for VMs running on Qemu or\nKVM and executing an image with the 'hw_power_governor' property.\nSuch channel can then be used by energy-aware applications in the guest,\nrun in combination with a matching power agent on the host for HW\ncontrol.\n\nThe DPDK project already provides a sample agent and application for\nsuch purpose, DPDK based VNFs would benefit from improved support at the\norchestration layer.\n\nImplements: blueprint vm-power-management\nChange-Id: I909827bdb542bffeecd0e694fadd94f650445db2""}, {'number': 6, 'created': '2017-11-09 21:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1465ecfa938f873c669ce066355ce82c2857b26f', 'message': ""Add a communication channel for power management support\n\nSome network operators aim to reduce operational costs by tying power\nconsumption to the actual traffic flowing through their VNFs. These VNFs\ncan evaluate the required performance but also need a way to control\npower related HW capabilities present on the host.\n\nThis patch configures the libvirt domain XML to include a virtio-serial\nchannel for power management purposes only, for VMs running on Qemu or\nKVM and executing an image with the 'hw_power_governor' property.\nSuch channel can then be used by energy-aware applications in the guest,\nrun in combination with a matching power agent on the host for HW\ncontrol.\n\nThe DPDK project already provides a sample agent and application for\nsuch purpose, DPDK based VNFs would benefit from improved support at the\norchestration layer.\n\nImplements: blueprint vm-power-management\nChange-Id: I909827bdb542bffeecd0e694fadd94f650445db2""}, {'number': 7, 'created': '2017-11-16 08:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21ab1aae5a872fe01aae013970d8cc2fd3805bec', 'message': ""Add a communication channel for power management support\n\nSome network operators aim to reduce operational costs by tying power\nconsumption to the actual traffic flowing through their VNFs. These VNFs\ncan evaluate the required performance but also need a way to control\npower related HW capabilities present on the host.\n\nThis patch configures the libvirt domain XML to include a virtio-serial\nchannel for power management purposes only, for VMs running on Qemu or\nKVM and executing an image with the 'hw_power_governor' property.\nSuch channel can then be used by energy-aware applications in the guest,\nrun in combination with a matching power agent on the host for HW\ncontrol.\n\nThe DPDK project already provides a sample agent and application for\nsuch purpose, DPDK based VNFs would benefit from improved support at the\norchestration layer.\n\nImplements: blueprint vm-power-management\nChange-Id: I909827bdb542bffeecd0e694fadd94f650445db2""}, {'number': 8, 'created': '2017-11-16 08:16:25.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/objects/test_image_meta.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/conf/libvirt.py', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'nova/objects/image_meta.py', 'releasenotes/notes/bp-vm-power-management-ce07404d11898040.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e13b4d04f64acd020b00a07de6b8c40edd5e22f8', 'message': ""Add a communication channel for power management support\n\nSome network operators aim to reduce operational costs by tying power\nconsumption to the actual traffic flowing through their VNFs. These VNFs\ncan evaluate the required performance but also need a way to control\npower related HW capabilities present on the host.\n\nThis patch configures the libvirt domain XML to include a virtio-serial\nchannel for power management purposes only, for VMs running on Qemu or\nKVM and executing an image with the 'hw_power_governor' property.\nSuch channel can then be used by energy-aware applications in the guest,\nrun in combination with a matching power agent on the host for HW\ncontrol.\n\nThe DPDK project already provides a sample agent and application for\nsuch purpose, DPDK based VNFs would benefit from improved support at the\norchestration layer.\n\nImplements: blueprint vm-power-management\nChange-Id: I909827bdb542bffeecd0e694fadd94f650445db2""}]",5,512815,e13b4d04f64acd020b00a07de6b8c40edd5e22f8,77,16,8,23803,,,0,"Add a communication channel for power management support

Some network operators aim to reduce operational costs by tying power
consumption to the actual traffic flowing through their VNFs. These VNFs
can evaluate the required performance but also need a way to control
power related HW capabilities present on the host.

This patch configures the libvirt domain XML to include a virtio-serial
channel for power management purposes only, for VMs running on Qemu or
KVM and executing an image with the 'hw_power_governor' property.
Such channel can then be used by energy-aware applications in the guest,
run in combination with a matching power agent on the host for HW
control.

The DPDK project already provides a sample agent and application for
such purpose, DPDK based VNFs would benefit from improved support at the
orchestration layer.

Implements: blueprint vm-power-management
Change-Id: I909827bdb542bffeecd0e694fadd94f650445db2",git fetch https://review.opendev.org/openstack/nova refs/changes/15/512815/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'nova/objects/image_meta.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,04b3b07fbdfac208fbd0f6bb310c34191269ac6d,bp/vm-power-management," def test_get_guest_config_with_pm_through_image_meta(self): self.flags(virt_type='kvm', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict({ ""disk_format"": ""raw"", ""properties"": {""hw_power_governor"": ""yes"", ""hw_cpu_policy"": ""dedicated"", ""hw_cpu_thread_policy"": ""isolate""} }) cfg = drvr._get_guest_config(instance_ref, [], image_meta, disk_info) self.assertEqual(len(cfg.devices), 8) self.assertIsInstance(cfg.devices[0], vconfig.LibvirtConfigGuestDisk) self.assertIsInstance(cfg.devices[1], vconfig.LibvirtConfigGuestDisk) self.assertIsInstance(cfg.devices[2], vconfig.LibvirtConfigGuestSerial) self.assertIsInstance(cfg.devices[3], vconfig.LibvirtConfigGuestSerial) self.assertIsInstance(cfg.devices[4], vconfig.LibvirtConfigGuestInput) self.assertIsInstance(cfg.devices[5], vconfig.LibvirtConfigGuestGraphics) self.assertIsInstance(cfg.devices[6], vconfig.LibvirtConfigGuestVideo) self.assertIsInstance(cfg.devices[7], vconfig.LibvirtConfigGuestChannel) self.assertIsInstance(cfg.devices[8], vconfig.LibvirtConfigMemoryBalloon) # self.assertEqual(cfg.) # CPU pinning # self.assertEqual(cfg.) # CPU thread self.assertEqual(cfg.devices[7].type, ""unix"") self.assertEqual(cfg.devices[7].target_name, ""virtio.serial.port.poweragent.0"") def test_get_guest_config_without_pm_through_image_meta(self): self.flags(virt_type='kvm', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict({ ""disk_format"": ""raw"", ""properties"": {""hw_power_governor"": ""no""}}) cfg = drvr._get_guest_config(instance_ref, [], image_meta, disk_info) self.assertEqual(len(cfg.devices), 8) self.assertIsInstance(cfg.devices[0], vconfig.LibvirtConfigGuestDisk) self.assertIsInstance(cfg.devices[1], vconfig.LibvirtConfigGuestDisk) self.assertIsInstance(cfg.devices[2], vconfig.LibvirtConfigGuestSerial) self.assertIsInstance(cfg.devices[3], vconfig.LibvirtConfigGuestSerial) self.assertIsInstance(cfg.devices[4], vconfig.LibvirtConfigGuestInput) self.assertIsInstance(cfg.devices[5], vconfig.LibvirtConfigGuestGraphics) self.assertIsInstance(cfg.devices[6], vconfig.LibvirtConfigGuestVideo) self.assertIsInstance(cfg.devices[7], vconfig.LibvirtConfigMemoryBalloon) def test_get_guest_config_with_pm_through_image_meta_unsupp_hyperv(self): self.flags(virt_type='xen', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict({ ""disk_format"": ""raw"", ""properties"": {""hw_power_governor"": ""yes"", ""hw_cpu_policy"": ""dedicated"", ""hw_cpu_thread_policy"": ""isolate""} }) cfg = drvr._get_guest_config(instance_ref, [], image_meta, disk_info) self.assertEqual(len(cfg.devices), 8) self.assertIsInstance(cfg.devices[0], vconfig.LibvirtConfigGuestDisk) self.assertIsInstance(cfg.devices[1], vconfig.LibvirtConfigGuestDisk) self.assertIsInstance(cfg.devices[2], vconfig.LibvirtConfigGuestSerial) self.assertIsInstance(cfg.devices[3], vconfig.LibvirtConfigGuestSerial) self.assertIsInstance(cfg.devices[4], vconfig.LibvirtConfigGuestInput) self.assertIsInstance(cfg.devices[5], vconfig.LibvirtConfigGuestGraphics) self.assertIsInstance(cfg.devices[6], vconfig.LibvirtConfigGuestVideo) self.assertIsInstance(cfg.devices[7], vconfig.LibvirtConfigMemoryBalloon) def test_get_guest_config_with_pm_wrong_pinning(self): self.flags(virt_type='kvm', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict({ ""disk_format"": ""raw"", ""properties"": {""hw_power_governor"": ""no"", ""hw_cpu_policy"": ""shared"", ""hw_cpu_thread_policy"": ""require""} }) self.assertRises(exception.PowerManagementInvalidPinning, drvr._get_guest_config, instance_ref, [], image_meta, disk_info) def test_get_guest_config_with_pm_no_pinning(self): self.flags(virt_type='kvm', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict({ ""disk_format"": ""raw"", ""properties"": {""hw_power_governor"": ""yes""}}) self.assertRises(exception.PowerManagementInvalidPinning, drvr._get_guest_config, instance_ref, [], image_meta, disk_info) ",,188,1
openstack%2Fironic~master~I2edec4cbea2d39910f1fb52b0373169c03a4ec0d,openstack/ironic,master,I2edec4cbea2d39910f1fb52b0373169c03a4ec0d,Fix `snmp` unit test,MERGED,2019-11-07 11:29:22.000000000,2019-11-10 18:01:20.000000000,2019-11-10 17:59:57.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 11:29:22.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_snmp.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a6b74b558e762e4848dee0edc6d16ff016f9227', 'message': ""Fix `snmp` unit test\n\nUnder some condition, some code underneath `snmp` power driver\nseems to call `sleep` for its own reason. That fails sleep\nmock call assertion:\n\n    AssertionError: Expected 'sleep' to be called once. Called 8 times.\n    Calls: [call(0), call(0), call(0), ... call(0), call(5)].\n\nThis fix asserts just the sleep call we expect.\n\nChange-Id: I2edec4cbea2d39910f1fb52b0373169c03a4ec0d\n""}]",0,693343,2a6b74b558e762e4848dee0edc6d16ff016f9227,10,5,1,26340,,,0,"Fix `snmp` unit test

Under some condition, some code underneath `snmp` power driver
seems to call `sleep` for its own reason. That fails sleep
mock call assertion:

    AssertionError: Expected 'sleep' to be called once. Called 8 times.
    Calls: [call(0), call(0), call(0), ... call(0), call(5)].

This fix asserts just the sleep call we expect.

Change-Id: I2edec4cbea2d39910f1fb52b0373169c03a4ec0d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/43/693343/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/test_snmp.py'],1,2a6b74b558e762e4848dee0edc6d16ff016f9227,50-fix-snmp-test-sleep-mock, calls = [mock.call(5)] mock_sleep.assert_has_calls(calls), mock_sleep.assert_called_once_with(5),2,1
openstack%2Fopenstack-ansible~master~I501651f417ace6492bf039605ec5a61c21bfab12,openstack/openstack-ansible,master,I501651f417ace6492bf039605ec5a61c21bfab12,Fix core-reviewer source  link.,MERGED,2019-10-19 03:35:02.000000000,2019-11-10 16:42:07.000000000,2019-11-10 16:40:14.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 30717}]","[{'number': 1, 'created': '2019-10-19 03:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad8e4d33f9cf863f01f761510ab1ea057e0e3c5e', 'message': 'Fix core-reviewer source  link.\n\nChange-Id: I501651f417ace6492bf039605ec5a61c21bfab12\n'}, {'number': 2, 'created': '2019-11-08 20:11:12.000000000', 'files': ['doc/source/contributor/core-reviewers.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ee679637f6cd17f08a4b6b233d2cce94d036683e', 'message': 'Fix core-reviewer source  link.\n\nChange-Id: I501651f417ace6492bf039605ec5a61c21bfab12\n'}]",0,689614,ee679637f6cd17f08a4b6b233d2cce94d036683e,11,5,2,30717,,,0,"Fix core-reviewer source  link.

Change-Id: I501651f417ace6492bf039605ec5a61c21bfab12
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/14/689614/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/core-reviewers.rst'],1,ad8e4d33f9cf863f01f761510ab1ea057e0e3c5e,,".. _OpenStack-Ansible Core Reviewer Team: https://review.opendev.org/#/admin/groups/490,members",".. _OpenStack-Ansible Core Reviewer Team: https://review.openstack.org/#/admin/groups/490,members",1,1
openstack%2Fneutron~master~If856bba4e61a6f1326138fc3a7ab29ce87c3ad04,openstack/neutron,master,If856bba4e61a6f1326138fc3a7ab29ce87c3ad04,Fix Geneve max_header_size config option text,MERGED,2019-11-01 12:50:35.000000000,2019-11-10 12:33:33.000000000,2019-11-10 12:31:52.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-01 12:50:35.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/driver_type.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/30d3e4c56cf0ae91ddefa673cafc20f9f274cf25', 'message': ""Fix Geneve max_header_size config option text\n\nThe max_header_size config option only applies to the\nGeneve header itself, not the underlying IP/IPv6 header,\nwhose size is calculated separately. Remove a misleading\nsentence and correct the help text to say '30'.\n\nTrivialfix\n\nChange-Id: If856bba4e61a6f1326138fc3a7ab29ce87c3ad04\n""}]",0,692538,30d3e4c56cf0ae91ddefa673cafc20f9f274cf25,31,7,1,1131,,,0,"Fix Geneve max_header_size config option text

The max_header_size config option only applies to the
Geneve header itself, not the underlying IP/IPv6 header,
whose size is calculated separately. Remove a misleading
sentence and correct the help text to say '30'.

Trivialfix

Change-Id: If856bba4e61a6f1326138fc3a7ab29ce87c3ad04
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/692538/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/plugins/ml2/drivers/driver_type.py'],1,30d3e4c56cf0ae91ddefa673cafc20f9f274cf25,geneve-max-header-config," ""The default size for this field is 30, which is the """," ""This is the sum of the sizes of the outer "" ""ETH + IP + UDP + GENEVE header sizes. "" ""The default size for this field is 50, which is the """,1,3
openstack%2Frequirements~master~I7960b30e43153704197edcbd2f5dcd60eccc8abd,openstack/requirements,master,I7960b30e43153704197edcbd2f5dcd60eccc8abd,Updated from generate-constraints,MERGED,2019-11-09 06:29:46.000000000,2019-11-10 10:06:23.000000000,2019-11-10 10:05:19.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-09 06:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b318f35065ccc14df00d58327f5e0598e2655d39', 'message': 'Updated from generate-constraints\n\nChange-Id: I7960b30e43153704197edcbd2f5dcd60eccc8abd\n'}, {'number': 2, 'created': '2019-11-10 06:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/63e7ea669da79db86faf39cef00ce3966f422e49', 'message': 'Updated from generate-constraints\n\nChange-Id: I7960b30e43153704197edcbd2f5dcd60eccc8abd\n'}, {'number': 3, 'created': '2019-11-10 06:41:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9d5d92e6ef8f5b02dda50f694642c0dec2acaadc', 'message': 'Updated from generate-constraints\n\nChange-Id: I7960b30e43153704197edcbd2f5dcd60eccc8abd\n'}]",0,693606,9d5d92e6ef8f5b02dda50f694642c0dec2acaadc,11,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I7960b30e43153704197edcbd2f5dcd60eccc8abd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/693606/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b318f35065ccc14df00d58327f5e0598e2655d39,openstack/requirements/constraints/noclob,persist-queue===0.5.0networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'libvirt-python===5.9.0amqp===2.5.2tinyrpc===1.0.4boto3===1.10.14botocore===1.13.14,persist-queue===0.4.2networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'libvirt-python===5.8.0amqp===2.5.1tinyrpc===1.0.1boto3===1.10.8botocore===1.13.8,10,10
openstack%2Fdiskimage-builder~master~I1d9c510eded1ee49ce724f7257b15fc55c1e7a9a,openstack/diskimage-builder,master,I1d9c510eded1ee49ce724f7257b15fc55c1e7a9a,Add container-image root element,NEW,2019-11-10 04:26:41.000000000,2019-11-10 07:25:20.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-10 04:26:41.000000000', 'files': ['diskimage_builder/elements/container-image/element-deps', 'diskimage_builder/elements/container-image/README.rst', 'diskimage_builder/elements/container-image/root.d/08-export-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8d2c77ddbfd007342d61a359687a49efcbb51fc0', 'message': ""Add container-image root element\n\nGetting minimal starting filesystems is done via tools such as\ndebootstrap and yum on the host OS. This gets complicated as the\nhost OS then has to have appropriate verions of such tools for\ngiven target image OSes, which is often not a priority for host\ndistros.\n\nIn the time since diskimage-builder was written, container images\nhave become prevalent, and there is, generally speaking, a container\nimage for every minimal root filesystem we'd like. Additionally,\nsince container image building tools are also prevalent, custom\ncontainer images can easily be used as an input for custom root\nfilesystems before applying diskimage-builder specific elements.\n\nAdd a container-image root element that creates a container based\non a given image name and then exports the contents of that over\nTARGET_ROOT.\n\nChange-Id: I1d9c510eded1ee49ce724f7257b15fc55c1e7a9a\n""}]",0,693619,8d2c77ddbfd007342d61a359687a49efcbb51fc0,4,3,1,2,,,0,"Add container-image root element

Getting minimal starting filesystems is done via tools such as
debootstrap and yum on the host OS. This gets complicated as the
host OS then has to have appropriate verions of such tools for
given target image OSes, which is often not a priority for host
distros.

In the time since diskimage-builder was written, container images
have become prevalent, and there is, generally speaking, a container
image for every minimal root filesystem we'd like. Additionally,
since container image building tools are also prevalent, custom
container images can easily be used as an input for custom root
filesystems before applying diskimage-builder specific elements.

Add a container-image root element that creates a container based
on a given image name and then exports the contents of that over
TARGET_ROOT.

Change-Id: I1d9c510eded1ee49ce724f7257b15fc55c1e7a9a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/19/693619/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/container-image/element-deps', 'diskimage_builder/elements/container-image/README.rst', 'diskimage_builder/elements/container-image/root.d/08-export-image']",3,8d2c77ddbfd007342d61a359687a49efcbb51fc0,,"#!/bin/bash # # Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # if [ ${DIB_DEBUG_TRACE:-1} -gt 0 ]; then set -x fi set -eu set -o pipefail if [ -f ${TARGET_ROOT}/.extra_settings ] ; then . ${TARGET_ROOT}/.extra_settings fi [ -n ""$DIB_CONTAINER_IMAGE"" ] if type podman >/dev/null; then _podman=podman elif type docker >/dev/null; then _podman=docker else die ""Either podman or docker is required for the container_image element"" fi _temp_container_name=$(_podman create $DIB_CONTAINER_IMAGE) trap ""sudo $_podman rm $_temp_container_name"" EXIT sudo sh -c ""$_podman export $_temp_container_name | tar -C $TARGET_ROOT -xf -"" sudo rm -f ${TARGET_ROOT}/.extra_settings ",,60,0
openstack%2Ftripleo-ansible~master~Ieb99efd35108f4cb53e4f3f29da2415ba4152a9c,openstack/tripleo-ansible,master,Ieb99efd35108f4cb53e4f3f29da2415ba4152a9c,tox: Keeping going with docs,MERGED,2019-11-02 18:38:08.000000000,2019-11-10 07:24:06.000000000,2019-11-10 07:22:28.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-02 18:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02e3727323d71949a44b6814d47bf4cb420d8561', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ieb99efd35108f4cb53e4f3f29da2415ba4152a9c\n'}, {'number': 2, 'created': '2019-11-02 18:49:01.000000000', 'files': ['tox.ini', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d4fd512305296f5f7cf7881660ec3acc5c014760', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ieb99efd35108f4cb53e4f3f29da2415ba4152a9c\n'}]",0,692682,d4fd512305296f5f7cf7881660ec3acc5c014760,11,5,2,30356,,,0,"tox: Keeping going with docs

Change-Id: Ieb99efd35108f4cb53e4f3f29da2415ba4152a9c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/82/692682/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,02e3727323d71949a44b6814d47bf4cb420d8561,, sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html sphinx-build -a -E -W -d doc/build/doctrees --keep-going -b html doc/source doc/build/html -T, sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html sphinx-build -a -E -W -d doc/build/doctrees -b html doc/source doc/build/html -T,2,2
openstack%2Ftripleo-ansible~master~I2afb71288208c8b97763caa832c94e06e1b9457c,openstack/tripleo-ansible,master,I2afb71288208c8b97763caa832c94e06e1b9457c,tripleo-container-manage: fix exec check,MERGED,2019-11-07 20:22:29.000000000,2019-11-10 07:22:27.000000000,2019-11-10 07:22:27.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 20:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bd1f9d9abebdcd0c92151ad3d6dfdb336a4ec01', 'message': 'tripleo-container-manage: use ""podman container exists"" for exec\n\nInstead of looping in the podman_container_infos to find if a container\nis running, let\'s use the podman CLI for now.\nThe code that was in place didn\'t work anyway.\n\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n'}, {'number': 2, 'created': '2019-11-07 20:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3caafc56fe0a4338ef56a5d187ecf2fef2f1b930', 'message': 'tripleo-container-manage: use ""podman container exists"" for exec\n\nInstead of looping in the podman_container_infos to find if a container\nis running, let\'s use the podman CLI for now.\nThe code that was in place didn\'t work anyway.\n\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n'}, {'number': 3, 'created': '2019-11-08 13:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a769bafcd0543ed208a70840a9562c5b5e5ebc2', 'message': 'tripleo-container-manage: use ""podman container exists"" for exec\n\nInstead of looping in the podman_container_infos to find if a container\nis running, let\'s use the podman CLI for now.\nThe code that was in place didn\'t work anyway.\n\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n'}, {'number': 4, 'created': '2019-11-08 14:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c3cce233152248f40275bd3a107d8cda9918bf8', 'message': 'tripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n'}, {'number': 5, 'created': '2019-11-08 14:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/693fa8da6c254ef9ad230b90d23c093186e9e3fe', 'message': 'tripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n'}, {'number': 6, 'created': '2019-11-08 14:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f27646d0a2efe8dd00e02ce00b904b27d9a0e00b', 'message': 'tripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n'}, {'number': 7, 'created': '2019-11-08 21:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/905c36f4dbd1248ea9d93154d5c013a4089452bb', 'message': 'tripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n'}, {'number': 8, 'created': '2019-11-09 06:41:28.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/start_order.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/delete.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e68d4b42a222e97f6c0263398ac739866e5969b4', 'message': 'tripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nAlso podman_containers needs to be refreshed at every start_order to get\nnew container informations status.\nSo moving podman_containers from main, and putting it where we need it:\n- before processing the list of containers to delete\n- when start_order playbook starts\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n'}]",2,693423,e68d4b42a222e97f6c0263398ac739866e5969b4,24,4,8,3153,,,0,"tripleo-container-manage: fix exec check

Fix the task which check if the container where the exec happens is
actually running.

Also podman_containers needs to be refreshed at every start_order to get
new container informations status.
So moving podman_containers from main, and putting it where we need it:
- before processing the list of containers to delete
- when start_order playbook starts

Co-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>
Change-Id: I2afb71288208c8b97763caa832c94e06e1b9457c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/693423/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml'],1,8bd1f9d9abebdcd0c92151ad3d6dfdb336a4ec01,exec," - name: ""Check if {{ container_data.command.0 }} is running"" command: ""podman container exists {{ container_data.command.0 }}"""," - name: ""Check if {{ container_data.command.0 }} container is running"" block: - name: ""Fail if {{ container_data.command.0 }} is not running"" fail: msg: ""Can't run container exec for {{ container_name }}, {{ container_data.command.0 }} is not running"" when: - not podman_containers.containers.0.State.Running",2,7
openstack%2Fmanila-ui~master~I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411,openstack/manila-ui,master,I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411,Drop python2.7 support,MERGED,2019-10-25 05:01:52.000000000,2019-11-09 20:41:05.000000000,2019-11-09 20:39:23.000000000,"[{'_account_id': 1736}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-25 05:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/64ad850efee4944540db376402b1aa7d3dead072', 'message': 'Drop python2.7 support\n\nAs per the official python support timeline\nset forth by the OpenStack TC [1], OpenStack\nTrain (in our case, manila-ui 2.19.x\nseries) is the last release that will support\npython2.7.\n\nDepends-On: https://review.opendev.org/#/c/688997/\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411\n'}, {'number': 2, 'created': '2019-10-25 06:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/2ffe1629e8435f176a02fc8e2cc49a287c1ab29b', 'message': 'Drop python2.7 support\n\nAs per the official python support timeline\nset forth by the OpenStack TC [1], OpenStack\nTrain (in our case, manila-ui 2.19.x\nseries) is the last release that will support\npython2.7.\n\nDepends-On: https://review.opendev.org/#/c/688997/\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411\n'}, {'number': 3, 'created': '2019-11-06 21:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/34ceb04f8fd03fcd6cf904667f69ee0e95b84f99', 'message': 'Drop python2.7 support\n\nAs per the official python support timeline\nset forth by the OpenStack TC [1], OpenStack\nTrain (in our case, manila-ui 2.19.x\nseries) is the last release that will support\npython2.7.\n\nDepends-On: https://review.opendev.org/#/c/688997/\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411\n'}, {'number': 4, 'created': '2019-11-07 15:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/8ee0dc958e4915cc3d9edda245ae17fbba97558a', 'message': 'Drop python2.7 support\n\nAs per the official python support timeline\nset forth by the OpenStack TC [1], OpenStack\nTrain (in our case, manila-ui 2.19.x\nseries) is the last release that will support\npython2.7.\n\nDepends-On: https://review.opendev.org/#/c/688997/\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411\n'}, {'number': 5, 'created': '2019-11-07 18:15:34.000000000', 'files': ['doc/source/contributor/testing.rst', '.zuul.yaml', 'releasenotes/notes/drop-python2-support-8f7cbc2c3a758777.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/3cd2fec23064fb8e2abe7062e72ab22efca6b2c8', 'message': 'Drop python2.7 support\n\nAs per the official python support timeline\nset forth by the OpenStack TC [1], OpenStack\nTrain (in our case, manila-ui 2.19.x\nseries) is the last release that will support\npython2.7.\n\nDepends-On: https://review.opendev.org/#/c/688997/\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411\n'}]",0,691184,3cd2fec23064fb8e2abe7062e72ab22efca6b2c8,19,5,5,16643,,,0,"Drop python2.7 support

As per the official python support timeline
set forth by the OpenStack TC [1], OpenStack
Train (in our case, manila-ui 2.19.x
series) is the last release that will support
python2.7.

Depends-On: https://review.opendev.org/#/c/688997/
[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html

Change-Id: I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/84/691184/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', '.zuul.yaml', 'releasenotes/notes/drop-python2-support-8f7cbc2c3a758777.yaml', 'setup.cfg', 'tox.ini']",5,64ad850efee4944540db376402b1aa7d3dead072,drop-py27-support,"envlist = py37,pep8,py3-{dj111,dj22}basepython = python3","envlist = py27,py37,pep8,py3-{dj111,dj22}[testenv:py27] setenv = DJANGO_SETTINGS_MODULE=manila_ui.tests.settings basepython = python2.7",10,18
openstack%2Fcharm-mysql-innodb-cluster~master~I7b43c3e137b44b93dcf501235c5b55975250019f,openstack/charm-mysql-innodb-cluster,master,I7b43c3e137b44b93dcf501235c5b55975250019f,Documentation corrections,MERGED,2019-11-08 19:32:15.000000000,2019-11-09 17:12:35.000000000,2019-11-09 17:12:35.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 19:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/4b59116a08ef9b45f7123228a148bc93f35c4be1', 'message': 'Docstring correction\n\nPer issues/1 change MySQLInnoDBClusterCharm  to ConfigurationAdapter in\nthe class method docstrings.\nThis change is a functional noop.\n\nCloses issues/1\n\nChange-Id: I7b43c3e137b44b93dcf501235c5b55975250019f\n'}, {'number': 2, 'created': '2019-11-08 21:30:19.000000000', 'files': ['src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/HACKING.md'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/d63757b6124104c76c6e2b60879631234511911c', 'message': 'Documentation corrections\n\nPer issues/1 change MySQLInnoDBClusterCharm  to ConfigurationAdapter in\nthe class method docstrings.\nUpdate HACKING to remove features that already exist.\nThis change is a functional noop.\n\nCloses issues/1\n\nChange-Id: I7b43c3e137b44b93dcf501235c5b55975250019f\n'}]",0,693581,d63757b6124104c76c6e2b60879631234511911c,10,3,2,20805,,,0,"Documentation corrections

Per issues/1 change MySQLInnoDBClusterCharm  to ConfigurationAdapter in
the class method docstrings.
Update HACKING to remove features that already exist.
This change is a functional noop.

Closes issues/1

Change-Id: I7b43c3e137b44b93dcf501235c5b55975250019f
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/81/693581/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/mysql_innodb_cluster.py'],1,4b59116a08ef9b45f7123228a148bc93f35c4be1,issue/1, :type cls: ConfigurationAdapter class :type cls: ConfigurationAdapter class :type cls: ConfigurationAdapter class :type cls: ConfigurationAdapter class, :type cls: MySQLInnoDBClusterCharm class :type cls: MySQLInnoDBClusterCharm class :type cls: MySQLInnoDBClusterCharm class :type cls: MySQLInnoDBClusterCharm class,4,4
openstack%2Ftripleo-heat-templates~master~I6aae1c8029cf6c9fff52a79d7a1519888f46dd81,openstack/tripleo-heat-templates,master,I6aae1c8029cf6c9fff52a79d7a1519888f46dd81,Fix the amqp presettle option for metrics and events in collectd,MERGED,2019-11-01 11:17:38.000000000,2019-11-09 16:46:11.000000000,2019-11-08 23:48:02.000000000,"[{'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30893}]","[{'number': 1, 'created': '2019-11-01 11:17:38.000000000', 'files': ['environments/metrics/collectd-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c1f78bc5bce2f5fa957c1e042bfd735d81320e9', 'message': ""Fix the amqp presettle option for metrics and events in collectd\n\nThe values for presettle were incorrect for metrics and events sent\nvia AMQP.\nEvents should NOT be pre-settled, as they need to be ack'd to\nensure that all messages are delivered.\nMetrics should be presettled as they don't require an ack.\n\nChange-Id: I6aae1c8029cf6c9fff52a79d7a1519888f46dd81\n""}]",0,692529,1c1f78bc5bce2f5fa957c1e042bfd735d81320e9,16,8,1,13177,,,0,"Fix the amqp presettle option for metrics and events in collectd

The values for presettle were incorrect for metrics and events sent
via AMQP.
Events should NOT be pre-settled, as they need to be ack'd to
ensure that all messages are delivered.
Metrics should be presettled as they don't require an ack.

Change-Id: I6aae1c8029cf6c9fff52a79d7a1519888f46dd81
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/692529/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/metrics/collectd-write-qdr.yaml'],1,1c1f78bc5bce2f5fa957c1e042bfd735d81320e9,fix_collectd_amq_presettle, presettle: false presettle: true, presettle: true presettle: false,2,2
openstack%2Fpuppet-neutron~master~I4d48f811aff6bfb54f7089130d513ee52de2b8a7,openstack/puppet-neutron,master,I4d48f811aff6bfb54f7089130d513ee52de2b8a7,Add default value for radvd_user option,MERGED,2019-11-09 01:50:34.000000000,2019-11-09 09:05:32.000000000,2019-11-09 09:05:32.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-09 01:50:34.000000000', 'files': ['manifests/agents/l3.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0d9bc9d96cad7ff76cd5af063c2b188fb9b37047', 'message': 'Add default value for radvd_user option\n\nChange-Id: I4d48f811aff6bfb54f7089130d513ee52de2b8a7\n'}]",0,693603,0d9bc9d96cad7ff76cd5af063c2b188fb9b37047,7,3,1,9414,,,0,"Add default value for radvd_user option

Change-Id: I4d48f811aff6bfb54f7089130d513ee52de2b8a7
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/03/693603/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agents/l3.pp'],1,0d9bc9d96cad7ff76cd5af063c2b188fb9b37047,missing-defalut-value-radvd_user,# Defaults to $::os_service_default,,1,0
openstack%2Fsecurity-doc~master~Iadbd35f56da7968352afbce3476f762440c98843,openstack/security-doc,master,Iadbd35f56da7968352afbce3476f762440c98843,Imported Translations from Zanata,MERGED,2019-11-09 08:33:42.000000000,2019-11-09 09:02:06.000000000,2019-11-09 09:00:43.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-09 08:33:42.000000000', 'files': ['security-guide/source/locale/de/LC_MESSAGES/security-guide.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/bd583f4f479ee24a0d12b35d6c451b5a3af85dbd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iadbd35f56da7968352afbce3476f762440c98843\n'}]",0,693609,bd583f4f479ee24a0d12b35d6c451b5a3af85dbd,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iadbd35f56da7968352afbce3476f762440c98843
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/09/693609/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/locale/de/LC_MESSAGES/security-guide.po'],1,bd583f4f479ee24a0d12b35d6c451b5a3af85dbd,zanata/translations,"""POT-Creation-Date: 2019-11-07 10:27+0000\n""""PO-Revision-Date: 2019-11-08 11:16+0000\n""""``[keystone_authtoken]`` section in ``/etc/glance/glance-api.conf`` is not "" ""set to Identity API endpoint starting with ``https://``, or value of "" ""parameter ``insecure`` under the same ``[keystone_authtoken]`` section in "" ""the same ``/etc/glance/glance-api.conf`` is set to ``True``."" msgstr """" ""**Fail:** Wenn der Wert des Parameters ``www_authenticate_uri`` unter "" ""``[keystone_authtoken]`` Abschnitt in ``/etc/glance/glance-api.conf`` nicht "" ""auf Identity API Endpunkt gesetzt ist, der mit ``https://`` beginnt oder "" ""Wert des Parameters ``insecure`` unter demselben ``[keystone_authtoken] "" ""``Abschnitt in der gleichen ``/etc/glance/glance-api.conf`` ist auf ``True "" ""gesetzt ``."" msgid """" ""**Fail:** If value of parameter ``www_authenticate_uri`` under """"``[keystone_authtoken]`` section in ``/etc/glance/glance-api.conf`` is set "" ""to the Identity API endpoint starting with ``https://``, and the value of "" ""the parameter ``insecure`` is under the same ``[keystone_authtoken]`` "" ""section in the same ``/etc/glance/glance-registry.conf`` is set to ``False``."" msgstr """" ""**Pass:** Wenn der Wert des Parameters ``www_authenticate_uri`` unter "" ""``[keystone_authtoken]`` Abschnitt in ``/etc/glance/glance-api.conf`` auf "" ""den Identity API Endpunkt beginnend mit ``https://`` gesetzt ist und der "" ""Wert des Parameters ``insecure`` unter demselben `` [keystone_authtoken]`` "" ""Abschnitt in der gleichen ``/etc/glance/glance-registry.conf`` ist auf "" ""``False`` gesetzt."" msgid """" ""**Pass:** If value of parameter ``www_authenticate_uri`` under """"Before we delve into the configurations, we briefly discuss the ciphers' "" ""configuration element and its format. A more exhaustive treatment on "" ""available ciphers and the OpenSSL cipher list format can be found at: "" ""`ciphers <https://www.openssl.org/docs/manmaster/man1/ciphers.html>`_."" msgstr """" ""Bevor wir uns in die Konfigurationen einlassen, diskutieren wir kurz das "" ""Konfigurations-Element der Ziffern und deren Format. Eine ausfhrlichere "" ""Behandlung der verfgbaren Ziffern und das OpenSSL-Chiffrierlistenformat "" ""finden Sie unter: `Ciphers <https://www.openssl.org/docs/manmaster/man1/"" ""ciphers.html> `_."" msgid """"""`Security in MySQL <https://dev.mysql.com/doc/refman/5.5/en/security.html>`__"" msgstr """" ""`Sicherheit in MySQL <https://dev.mysql.com/doc/refman/5.5/en/security."" ""html>`__"" msgid """"","""POT-Creation-Date: 2019-11-05 03:53+0000\n""""PO-Revision-Date: 2019-09-24 07:22+0000\n""",48,2
openstack%2Fpuppet-neutron~master~Iea4a47e5a58021a2244057996ed3f5765cb8978f,openstack/puppet-neutron,master,Iea4a47e5a58021a2244057996ed3f5765cb8978f,Add unit test for radvd_user option,MERGED,2019-11-09 01:57:02.000000000,2019-11-09 08:51:54.000000000,2019-11-09 08:51:54.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-09 01:57:02.000000000', 'files': ['spec/classes/neutron_agents_l3_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f590e019eb28dbc159f07c021a5712b55c14ef69', 'message': 'Add unit test for radvd_user option\n\nChange-Id: Iea4a47e5a58021a2244057996ed3f5765cb8978f\n'}]",0,693604,f590e019eb28dbc159f07c021a5712b55c14ef69,6,2,1,9414,,,0,"Add unit test for radvd_user option

Change-Id: Iea4a47e5a58021a2244057996ed3f5765cb8978f
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/04/693604/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/neutron_agents_l3_spec.rb'],1,f590e019eb28dbc159f07c021a5712b55c14ef69,add-unit-test-radvd_user, should contain_neutron_l3_agent_config('DEFAULT/radvd_user').with_value('<SERVICE DEFAULT>') context 'with radvd user' do before :each do params.merge!(:radvd_user => 'root') end it 'configures radvd user' do should contain_neutron_l3_agent_config('DEFAULT/radvd_user').with_value(p[:radvd_user]) end end ,,11,0
openstack%2Fkarbor~master~I54497c76c3fc7f6624d4b8ac48601b46569a0d9d,openstack/karbor,master,I54497c76c3fc7f6624d4b8ac48601b46569a0d9d,Update contributor doc,MERGED,2019-11-03 12:28:56.000000000,2019-11-09 08:43:41.000000000,2019-11-09 08:42:06.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-03 12:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a4bfac0055da6ec484fe21dc3792aa585217347d', 'message': 'Update contributor doc\n\nChange-Id: I54497c76c3fc7f6624d4b8ac48601b46569a0d9d\nStory: 2006807\nTask: 37357\n'}, {'number': 2, 'created': '2019-11-03 12:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/bdc7ab137ba7ef7c83b3e5de3771942954884d41', 'message': 'Update contributor doc\n\nChange-Id: I54497c76c3fc7f6624d4b8ac48601b46569a0d9d\nStory: 2006807\nTask: 37357\n'}, {'number': 3, 'created': '2019-11-09 07:31:34.000000000', 'files': ['doc/source/contributor/protection_plugins_guide.rst', 'doc/source/contributor/bank_plugins_guide.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/14c723aa8d3043b451b11fb836465f49472e459c', 'message': 'Update contributor doc\n\nChange-Id: I54497c76c3fc7f6624d4b8ac48601b46569a0d9d\nStory: 2006807\nTask: 37357\n'}]",0,692745,14c723aa8d3043b451b11fb836465f49472e459c,10,2,3,21224,,,0,"Update contributor doc

Change-Id: I54497c76c3fc7f6624d4b8ac48601b46569a0d9d
Story: 2006807
Task: 37357
",git fetch https://review.opendev.org/openstack/karbor refs/changes/45/692745/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/protection_plugins_guide.rst', 'doc/source/contributor/bank_plugins_guide.rst']",3,a4bfac0055da6ec484fe21dc3792aa585217347d,contributor-guide, enabled=True,,15,0
openstack%2Fkarbor~master~I55995462f46d4cd7a135602bde92174edaf6b5a8,openstack/karbor,master,I55995462f46d4cd7a135602bde92174edaf6b5a8,Add unit test for triggers,MERGED,2019-11-07 08:28:51.000000000,2019-11-09 07:31:39.000000000,2019-11-09 07:30:25.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-11-07 08:28:51.000000000', 'files': ['karbor/tests/unit/api/v1/test_triggers.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/3ce0a84c36b7187683fc19254f5ec3818937443a', 'message': 'Add unit test for triggers\n\nChange-Id: I55995462f46d4cd7a135602bde92174edaf6b5a8\n'}]",0,693313,3ce0a84c36b7187683fc19254f5ec3818937443a,9,3,1,29272,,,0,"Add unit test for triggers

Change-Id: I55995462f46d4cd7a135602bde92174edaf6b5a8
",git fetch https://review.opendev.org/openstack/karbor refs/changes/13/693313/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/api/v1/test_triggers.py'],1,3ce0a84c36b7187683fc19254f5ec3818937443a,unit_test_triggers," def test_update_trigger_without_start_time(self): trigger = self._create_one_trigger() name = 'every minutes' param = self.default_create_trigger_param.copy() param['name'] = name param['properties'].pop('start_time') body = self._get_create_trigger_request_body(param) self.assertRaises( exc.HTTPBadRequest, self.controller.update, self.req, trigger['trigger_info']['id'], body=body ) ",,16,0
openstack%2Fpython-karborclient~master~Id0d6ee5142687f64cbf448a8983683b19eb4b1f6,openstack/python-karborclient,master,Id0d6ee5142687f64cbf448a8983683b19eb4b1f6,Add unit test for quotas,MERGED,2019-11-07 08:49:53.000000000,2019-11-09 07:29:31.000000000,2019-11-09 07:28:19.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 08:49:53.000000000', 'files': ['karborclient/tests/unit/v1/test_quota_classes.py', 'karborclient/tests/unit/v1/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/21addfcca0e5c726cac4ea75c699d7700ea5e817', 'message': 'Add unit test for quotas\n\nChange-Id: Id0d6ee5142687f64cbf448a8983683b19eb4b1f6\n'}]",0,693318,21addfcca0e5c726cac4ea75c699d7700ea5e817,7,2,1,29272,,,0,"Add unit test for quotas

Change-Id: Id0d6ee5142687f64cbf448a8983683b19eb4b1f6
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/18/693318/1 && git format-patch -1 --stdout FETCH_HEAD,"['karborclient/tests/unit/v1/test_quota_classes.py', 'karborclient/tests/unit/v1/test_quotas.py']",2,21addfcca0e5c726cac4ea75c699d7700ea5e817,unit_test_quotas," def test_show_quota_with_headers(self, mock_request): mock_request.return_value = mock_request_return cs.quotas.get(fakes.PROJECT_ID, False, session_id='fake_session_id') mock_request.assert_called_with( 'GET', '/quotas/{project_id}'.format(project_id=fakes.PROJECT_ID), headers={'X-Configuration-Session': 'fake_session_id'}) @mock.patch('karborclient.common.http.HTTPClient.json_request') @mock.patch('karborclient.common.http.HTTPClient.json_request') def test_show_quota_default_with_headers(self, mock_request): mock_request.return_value = mock_request_return cs.quotas.defaults(fakes.PROJECT_ID, session_id='fake_session_id') mock_request.assert_called_with( 'GET', '/quotas/{project_id}/defaults'.format( project_id=fakes.PROJECT_ID), headers={'X-Configuration-Session': 'fake_session_id'})",,28,0
openstack%2Fpuppet-neutron~master~I132cb641df708e72e0adb649b1b068e9bab5a1ec,openstack/puppet-neutron,master,I132cb641df708e72e0adb649b1b068e9bab5a1ec,Add missing release note for radvd_user option,MERGED,2019-11-09 01:48:40.000000000,2019-11-09 02:17:55.000000000,2019-11-09 02:16:59.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-09 01:48:40.000000000', 'files': ['releasenotes/notes/add-radvd-user-a9f61b1da024452c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/353bdc69d09d05538a3a357446513d2a7f118255', 'message': 'Add missing release note for radvd_user option\n\nChange-Id: I132cb641df708e72e0adb649b1b068e9bab5a1ec\n'}]",0,693602,353bdc69d09d05538a3a357446513d2a7f118255,7,2,1,9414,,,0,"Add missing release note for radvd_user option

Change-Id: I132cb641df708e72e0adb649b1b068e9bab5a1ec
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/02/693602/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-radvd-user-a9f61b1da024452c.yaml'],1,353bdc69d09d05538a3a357446513d2a7f118255,add-releasenotes-radvd_user,--- features: - | Added new parameters radvd_user that can define the username passed to radvd. ,,5,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,openstack/python-tripleoclient,stable/train,I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,Support undercloud fake-hardware ironic driver,MERGED,2019-11-06 21:08:36.000000000,2019-11-09 01:42:56.000000000,2019-11-09 01:41:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 21:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5df6803c8428c7a796b1cb0f7b7dff70b76d13d7', 'message': ""Support undercloud fake-hardware ironic driver\n\nWhen including fake-hardware in the undercloud.conf\nenabled_hardware_types, some of the fake-hardware default interfaces\nare not enabled so it can't be used.\n\nThis change allows nodes to be created with driver fake-hardware. If\nthis proves useful for development or some scale testing then it might\nbe desirable to add fake-hardware by default to the\nenabled_hardware_types list.\n\nChange-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b\n(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)\n""}, {'number': 2, 'created': '2019-11-06 21:32:49.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f2a8ae360501df755dd41d156c4cbed6db55fe5', 'message': ""Support undercloud fake-hardware ironic driver\n\nWhen including fake-hardware in the undercloud.conf\nenabled_hardware_types, some of the fake-hardware default interfaces\nare not enabled so it can't be used.\n\nThis change allows nodes to be created with driver fake-hardware. If\nthis proves useful for development or some scale testing then it might\nbe desirable to add fake-hardware by default to the\nenabled_hardware_types list.\n\nChange-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b\nCloses-Bug: 1851572\n(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)\n""}]",0,693254,9f2a8ae360501df755dd41d156c4cbed6db55fe5,16,5,2,4571,,,0,"Support undercloud fake-hardware ironic driver

When including fake-hardware in the undercloud.conf
enabled_hardware_types, some of the fake-hardware default interfaces
are not enabled so it can't be used.

This change allows nodes to be created with driver fake-hardware. If
this proves useful for development or some scale testing then it might
be desirable to add fake-hardware by default to the
enabled_hardware_types list.

Change-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b
Closes-Bug: 1851572
(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/54/693254/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,5df6803c8428c7a796b1cb0f7b7dff70b76d13d7,trainbug/1851572," 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'irmc', 'xclarity', 'fake-hardware'] 'IronicEnabledHardwareTypes': ['fake-hardware', 'idrac', 'ilo', 'ipmi', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledBootInterfaces': ['fake', 'ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'fake', 'iscsi'],"," 'irmc', 'xclarity'] 'IronicEnabledHardwareTypes': ['idrac', 'ilo', 'ipmi', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledBootInterfaces': ['ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'],",17,6
openstack%2Fnova~master~I3cf6eb4654663865d9258c38f05cd05974ffcf9d,openstack/nova,master,I3cf6eb4654663865d9258c38f05cd05974ffcf9d,Use admin neutron client to see if instance has qos ports,MERGED,2019-10-29 16:04:15.000000000,2019-11-09 01:30:34.000000000,2019-11-08 21:16:12.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-29 16:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2816d45434566a3ed03be15e525ccf33fa11f2b5', 'message': 'Use admin neutron client to see if instance has qos ports\n\nThe nova-api checks at each move operation if the instance has qos port\nattached as not all the move operations are supported for such servers.\nNova uses the request context to initialize the neutron client for the\nport query. However neutron does not return the value of the\nresource_request of the port if it is queried with a non admin client.\nThis causes that if the move operation is initiated by a non admin\nthen nova thinks that the ports do not have resource request.\n\nThis patch creates an admin context for this neutron query.\n\nThe new functional tests are not added before this patch in a regression\ntest like way as existing functional tests are reused with different\nsetup and doing that without the fix causes a lot of different failure\nscenarios.\n\nNote that neutron fixture is changed to simulate the different behavior\nin case of different request context are used to initialize the client.\n\nChange-Id: I3cf6eb4654663865d9258c38f05cd05974ffcf9d\nCloses-Bug: #1850280\n'}, {'number': 2, 'created': '2019-10-29 16:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ebd379c7d16e2f86674a3c1e011c96db1a13a6f', 'message': 'Use admin neutron client to see if instance has qos ports\n\nThe nova-api checks at each move operation if the instance has qos port\nattached as not all the move operations are supported for such servers.\nNova uses the request context to initialize the neutron client for the\nport query. However neutron does not return the value of the\nresource_request of the port if it is queried with a non admin client.\nThis causes that if the move operation is initiated by a non admin\nthen nova thinks that the ports do not have resource request.\n\nThis patch creates an admin context for this neutron query.\n\nThe new functional tests are not added before this patch in a regression\ntest like way as existing functional tests are reused with different\nsetup and doing that without the fix causes a lot of different failure\nscenarios.\n\nNote that neutron fixture is changed to simulate the different behavior\nin case of different request context are used to initialize the client.\n\nChange-Id: I3cf6eb4654663865d9258c38f05cd05974ffcf9d\nCloses-Bug: #1850280\n'}, {'number': 3, 'created': '2019-11-06 20:57:09.000000000', 'files': ['nova/tests/unit/api/openstack/test_common.py', 'nova/api/openstack/compute/shelve.py', 'nova/tests/fixtures.py', 'nova/tests/functional/integrated_helpers.py', 'nova/api/openstack/common.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/899976960503524b8e5c6588e339742ca4bf8158', 'message': 'Use admin neutron client to see if instance has qos ports\n\nThe nova-api checks at each move* operation if the instance has qos port\nattached as not all the move operations are supported for such servers.\nNova uses the request context to initialize the neutron client for the\nport query. However neutron does not return the value of the\nresource_request of the port if it is queried with a non admin client.\nThis causes that if the move operation is initiated by a non admin\nthen nova thinks that the ports do not have resource request.\n\nThis patch creates an admin context for this neutron query.\n\nThe new functional tests are not added before this patch in a regression\ntest like way as existing functional tests are reused with different\nsetup and doing that without the fix causes a lot of different failure\nscenarios.\n\nNote that neutron fixture is changed to simulate the different behavior\nin case of different request context are used to initialize the client.\n\n*: Note that Id5f2f4f22b856c989e2eef8ed56b9829d1bcefb6 removed the check\n   for evacuate in Ussuri but exists in Train and Stein.\n\nChange-Id: I3cf6eb4654663865d9258c38f05cd05974ffcf9d\nCloses-Bug: #1850280\n'}]",6,691900,899976960503524b8e5c6588e339742ca4bf8158,69,15,3,9708,,,0,"Use admin neutron client to see if instance has qos ports

The nova-api checks at each move* operation if the instance has qos port
attached as not all the move operations are supported for such servers.
Nova uses the request context to initialize the neutron client for the
port query. However neutron does not return the value of the
resource_request of the port if it is queried with a non admin client.
This causes that if the move operation is initiated by a non admin
then nova thinks that the ports do not have resource request.

This patch creates an admin context for this neutron query.

The new functional tests are not added before this patch in a regression
test like way as existing functional tests are reused with different
setup and doing that without the fix causes a lot of different failure
scenarios.

Note that neutron fixture is changed to simulate the different behavior
in case of different request context are used to initialize the client.

*: Note that Id5f2f4f22b856c989e2eef8ed56b9829d1bcefb6 removed the check
   for evacuate in Ussuri but exists in Train and Stein.

Change-Id: I3cf6eb4654663865d9258c38f05cd05974ffcf9d
Closes-Bug: #1850280
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/691900/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/test_common.py', 'nova/api/openstack/compute/shelve.py', 'nova/tests/fixtures.py', 'nova/tests/functional/integrated_helpers.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/common.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",11,2816d45434566a3ed03be15e525ccf33fa11f2b5,bug/1850280," instance['uuid'], self.controller.network_api)"," self.req.environ['nova.context'], instance['uuid'], self.controller.network_api)",83,16
openstack%2Fopenstack-ansible-os_tempest~master~I13d77c0d24a5fbf9c7839b55918a7a886cc09256,openstack/openstack-ansible-os_tempest,master,I13d77c0d24a5fbf9c7839b55918a7a886cc09256,Fix a typo in tempest_install_source.yml,MERGED,2019-11-04 09:12:15.000000000,2019-11-09 01:09:56.000000000,2019-11-09 01:08:44.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23317}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-04 09:12:15.000000000', 'files': ['tasks/tempest_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/657a13fb649582a02f7b76519429d41376482f99', 'message': 'Fix a typo in tempest_install_source.yml\n\nFix the wrong word ""visable"" to ""visible"".\n\nChange-Id: I13d77c0d24a5fbf9c7839b55918a7a886cc09256\n'}]",0,692779,657a13fb649582a02f7b76519429d41376482f99,22,5,1,23317,,,0,"Fix a typo in tempest_install_source.yml

Fix the wrong word ""visable"" to ""visible"".

Change-Id: I13d77c0d24a5fbf9c7839b55918a7a886cc09256
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/79/692779/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_install_source.yml'],1,657a13fb649582a02f7b76519429d41376482f99,fix,# installed via system packages so that plugins will be visible for tempest.,# installed via system packages so that plugins will be visable for tempest.,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I354c2fedafb88bb363321d1338c39d479560fc3e,openstack/tripleo-heat-templates,stable/stein,I354c2fedafb88bb363321d1338c39d479560fc3e,Fix typo in OVN upgrade tasks.,MERGED,2019-11-08 07:05:53.000000000,2019-11-09 00:44:32.000000000,2019-11-09 00:44:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-08 07:05:53.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d54d0d92c562e750bc31b8592d12cd561104a980', 'message': 'Fix typo in OVN upgrade tasks.\n\nChange-Id: I354c2fedafb88bb363321d1338c39d479560fc3e\nCloses-Bug: #1851660\n(cherry picked from commit eda88f0c7142ae22d2b252956fcaf461eb7e99b6)\n'}]",0,693488,d54d0d92c562e750bc31b8592d12cd561104a980,8,5,1,3153,,,0,"Fix typo in OVN upgrade tasks.

Change-Id: I354c2fedafb88bb363321d1338c39d479560fc3e
Closes-Bug: #1851660
(cherry picked from commit eda88f0c7142ae22d2b252956fcaf461eb7e99b6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/693488/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,d54d0d92c562e750bc31b8592d12cd561104a980,," ovn_dbs_pcs_res: ""{{ ovn_dbs_pcs_result.rc == 0 }}"""," ovndbs_pcs_res: ""{{ ovn_dbs_pcs_result.rc == 0 }}""",1,1
openstack%2Ftripleo-common~stable%2Ftrain~Ia9e291d476d3143b194ce06002a0c1745cf3ef94,openstack/tripleo-common,stable/train,Ia9e291d476d3143b194ce06002a0c1745cf3ef94,"Revert ""Set display_skipped_host to no""",MERGED,2019-11-08 00:20:06.000000000,2019-11-08 23:40:54.000000000,2019-11-08 23:39:22.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-08 00:20:06.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dea009bf19f6707f55f0f33466d2edae4b2c5420', 'message': 'Revert ""Set display_skipped_host to no""\n\ndisplay_skipped_hosts=no has the unfortunate side effect of not showing\nthe running task name until the task has returned. The reason is b/c the\ntask name won\'t be shown at all if all hosts are skipped, but that won\'t\nbe known until the task returns.\n\nFor long running tasks, this can be quite misleading as the running task\nname is not seen until it returns. This makes debugging difficult, and users\ndon\'t know what task is actually running until it\'s completed.\n\nThere is an option to show the task name as soon as it starts executing,\nbut it was not added until ansible-2.9:\nhttps://github.com/ansible/ansible/pull/53819\n\nSee also https://github.com/ansible/ansible/issues/51042\n\nThis reverts commit 403535c5722cda7cdc7573b009046fb0c2f86c7c.\n\nChange-Id: Ia9e291d476d3143b194ce06002a0c1745cf3ef94\n(cherry picked from commit efe21cdecbba5a17dfe805e238865c8fd696c39d)\n'}]",0,693456,dea009bf19f6707f55f0f33466d2edae4b2c5420,12,5,1,14985,,,0,"Revert ""Set display_skipped_host to no""

display_skipped_hosts=no has the unfortunate side effect of not showing
the running task name until the task has returned. The reason is b/c the
task name won't be shown at all if all hosts are skipped, but that won't
be known until the task returns.

For long running tasks, this can be quite misleading as the running task
name is not seen until it returns. This makes debugging difficult, and users
don't know what task is actually running until it's completed.

There is an option to show the task name as soon as it starts executing,
but it was not added until ansible-2.9:
https://github.com/ansible/ansible/pull/53819

See also https://github.com/ansible/ansible/issues/51042

This reverts commit 403535c5722cda7cdc7573b009046fb0c2f86c7c.

Change-Id: Ia9e291d476d3143b194ce06002a0c1745cf3ef94
(cherry picked from commit efe21cdecbba5a17dfe805e238865c8fd696c39d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/693456/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,dea009bf19f6707f55f0f33466d2edae4b2c5420,,," # suppress tasks if all hosts skip, was previously full_skip callback config.set('defaults', 'display_skipped_hosts', 'no')",0,2
openstack%2Fopenstack-ansible~stable%2Ftrain~I06cf7fa01b5406222356aa133123bf7a1b04c0b7,openstack/openstack-ansible,stable/train,I06cf7fa01b5406222356aa133123bf7a1b04c0b7,Fix requirements_git_url call,MERGED,2019-11-08 17:45:08.000000000,2019-11-08 23:26:42.000000000,2019-11-08 23:25:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-08 17:45:08.000000000', 'files': ['playbooks/utility-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cfab9119e84b35da2b00ac06765ed1941ef9b493', 'message': 'Fix requirements_git_url call\n\nrequirements_git_url is the full url to upper-constraints.txt.\n\nChange-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7\nClose-Bug: 1851379\n(cherry picked from commit e5a6a1416f1547a2dce283b74af8457c3a22f5a3)\n'}]",0,693565,cfab9119e84b35da2b00ac06765ed1941ef9b493,9,3,1,23182,,,0,"Fix requirements_git_url call

requirements_git_url is the full url to upper-constraints.txt.

Change-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7
Close-Bug: 1851379
(cherry picked from commit e5a6a1416f1547a2dce283b74af8457c3a22f5a3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/693565/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/utility-install.yml'],1,cfab9119e84b35da2b00ac06765ed1941ef9b493,bug/1851379-stable/train," utility_upper_constraints_url: ""{{ requirements_git_url | default('https://opendev.org/openstack/requirements/raw/' ~ requirements_git_install_branch | default('master') ~ '/upper-constraints.txt') }}"""," utility_upper_constraints_url: ""{{ requirements_git_url | default('https://opendev.org/openstack/requirements/raw/' ~ requirements_git_install_branch | default('master')) ~ '/upper-constraints.txt' }}""",1,1
openstack%2Fovsdbapp~master~Ia710b8f394e9446f0da83221e314d73d2edcfb08,openstack/ovsdbapp,master,Ia710b8f394e9446f0da83221e314d73d2edcfb08,Fix debug_venv for ovn split,MERGED,2019-11-05 02:53:15.000000000,2019-11-08 23:23:53.000000000,2019-11-08 23:22:28.000000000,"[{'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 02:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/86711a05b4b88711669236887735ac49ba9b969d', 'message': 'Fix debug_venv for ovn split\n\nChange-Id: Ia710b8f394e9446f0da83221e314d73d2edcfb08\n'}, {'number': 2, 'created': '2019-11-06 00:07:15.000000000', 'files': ['tools/debug_venv.py', 'ovsdbapp/venv.py', 'tools/debug_venv'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/0bd24c269d07e1181d9e6a7ed4267a63d7ad1921', 'message': 'Fix debug_venv for ovn split\n\nChange-Id: Ia710b8f394e9446f0da83221e314d73d2edcfb08\n'}]",0,692941,0bd24c269d07e1181d9e6a7ed4267a63d7ad1921,10,3,2,5756,,,0,"Fix debug_venv for ovn split

Change-Id: Ia710b8f394e9446f0da83221e314d73d2edcfb08
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/41/692941/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/debug_venv.py', 'tools/debug_venv']",2,86711a05b4b88711669236887735ac49ba9b969d,,tools/debug_venv.py $ovsvenv $VIRTUAL_ENV/src/ovs $VIRTUAL_ENV/src/ovn,tools/debug_venv.py $ovsvenv $VIRTUAL_ENV/src/ovs,5,4
openstack%2Ftripleo-ansible~master~I9c6ad6c0d1b41bbe0bb64c7c1bc9e9ef159ed172,openstack/tripleo-ansible,master,I9c6ad6c0d1b41bbe0bb64c7c1bc9e9ef159ed172,Run undercloud-containers job in check/gate,MERGED,2019-11-08 12:56:21.000000000,2019-11-08 23:13:53.000000000,2019-11-08 23:13:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 12:56:21.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a395adc0db2563e42bec637fbeaf6b6e40d0e4e', 'message': 'Run undercloud-containers job in check/gate\n\nThis job is about to run without Paunch which happens thanks to a new\nrole in tripleo-ansible, so we need to gate changes in tripleo-ansible\non undercloud-containers job as well.\n\nChange-Id: I9c6ad6c0d1b41bbe0bb64c7c1bc9e9ef159ed172\n'}]",0,693534,2a395adc0db2563e42bec637fbeaf6b6e40d0e4e,8,4,1,3153,,,0,"Run undercloud-containers job in check/gate

This job is about to run without Paunch which happens thanks to a new
role in tripleo-ansible, so we need to gate changes in tripleo-ansible
on undercloud-containers job as well.

Change-Id: I9c6ad6c0d1b41bbe0bb64c7c1bc9e9ef159ed172
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/693534/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,2a395adc0db2563e42bec637fbeaf6b6e40d0e4e,zuul, - tripleo-ci-centos-7-undercloud-containers: &undercloud_containers files: - ^tripleo_ansible/.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-7-undercloud-containers: *undercloud_containers,,5,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I46143c5c8fd4d10436f972dae87d4f0340bb3616,openstack/openstack-ansible-openstack_hosts,master,I46143c5c8fd4d10436f972dae87d4f0340bb3616,Fix typos in yml files,MERGED,2019-11-07 03:08:31.000000000,2019-11-08 22:59:33.000000000,2019-11-08 22:58:35.000000000,"[{'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-07 03:08:31.000000000', 'files': ['tasks/openstack_hosts_configure_apt.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ffe2155298023918d63b67637e2b8f9af4d4263f', 'message': 'Fix typos in yml files\n\nChange-Id: I46143c5c8fd4d10436f972dae87d4f0340bb3616\n'}]",0,693280,ffe2155298023918d63b67637e2b8f9af4d4263f,10,4,1,23317,,,0,"Fix typos in yml files

Change-Id: I46143c5c8fd4d10436f972dae87d4f0340bb3616
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/80/693280/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/openstack_hosts_configure_apt.yml', 'vars/suse.yml']",2,ffe2155298023918d63b67637e2b8f9af4d4263f,fix, - python3-systemd # this can be removed once the oslo.log package has a dependency on python3-systemd, - python3-systemd # this can be removed once the oslo.log package has a dependancy on python3-systemd,2,2
openstack%2Fopenstack-helm-infra~master~I8b6eda00f77ec7393a4311309f3ff76908d06ae6,openstack/openstack-helm-infra,master,I8b6eda00f77ec7393a4311309f3ff76908d06ae6,fix: ceph-osd AppArmor profiles not applied,MERGED,2019-10-23 01:32:54.000000000,2019-11-08 22:50:47.000000000,2019-11-08 22:49:15.000000000,"[{'_account_id': 8898}, {'_account_id': 9079}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 26686}, {'_account_id': 28372}, {'_account_id': 28719}, {'_account_id': 29131}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-10-23 01:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/26dac5098f7e3a8fe2fe3d4d18c833c42d6a831b', 'message': 'fix: ceph-osd AppArmor profiles not applied\n\nAppArmor annotations require the container name to be applied properly.\nBefore this when, when overrides are not used, the container name is\nceph-osd-default. When overrides are used, the container name is of the\nform ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for\nall the daemonsets. However, it is not possible to predict this value,\nand as a result, the AppArmor profiles are not applied.\n\nThis change removes the customization of the container name, and sets\nit to ceph-osd-default, allowing AppArmor annotations to be consistently\napplied using:\n\n    pod:\n      mandatory_access_control:\n      type: apparmor\n      ceph-osd-default:\n        ceph-osd-default: localhost/profilename\n\nChange-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6\n'}, {'number': 2, 'created': '2019-10-23 01:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fac3540ebc9de43a36771b5437e44d8804554af9', 'message': 'fix: ceph-osd AppArmor profiles not applied\n\nAppArmor annotations require the container name to be applied properly.\nBefore this change, when overrides are not used, the container name is\nceph-osd-default. When overrides are used, the container name is of the\nform ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for\nall the daemonsets. However, it is not possible to predict this value,\nand as a result, the AppArmor profiles are not applied.\n\nThis change removes the customization of the container name, and sets\nit to ceph-osd-default, allowing AppArmor annotations to be consistently\napplied using:\n\n    pod:\n      mandatory_access_control:\n      type: apparmor\n      ceph-osd-default:\n        ceph-osd-default: localhost/profilename\n\nChange-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6\n'}, {'number': 3, 'created': '2019-10-23 14:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c94e82e1caec92f33d2b1c3c6611c4de4a4c07f', 'message': 'fix: ceph-osd AppArmor profiles not applied\n\nAppArmor annotations require the container name to be applied properly.\nBefore this change, when overrides are not used, the container name is\nceph-osd-default. When overrides are used, the container name is of the\nform ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for\nall the daemonsets. However, it is not possible to predict this value,\nand as a result, the AppArmor profiles are not applied.\n\nThis change removes the customization of the container name, and sets\nit to ceph-osd-default, allowing AppArmor annotations to be consistently\napplied using:\n\n    pod:\n      mandatory_access_control:\n        type: apparmor\n        ceph-osd-default:\n          ceph-osd-default: localhost/profilename\n\nChange-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6\n'}, {'number': 4, 'created': '2019-10-26 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8c006fef2d355026c0c3d7360bb622b0961d78b', 'message': 'fix: ceph-osd AppArmor profiles not applied\n\nAppArmor annotations require the container name to be applied properly.\nBefore this change, when overrides are not used, the container name is\nceph-osd-default. When overrides are used, the container name is of the\nform ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for\nall the daemonsets. However, it is not possible to predict this value,\nand as a result, the AppArmor profiles are not applied.\n\nThis change removes the customization of the container name, and sets\nit to ceph-osd-default, allowing AppArmor annotations to be consistently\napplied using:\n\n    pod:\n      mandatory_access_control:\n        type: apparmor\n        ceph-osd-default:\n          ceph-osd-default: localhost/profilename\n\nChange-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6\n'}, {'number': 5, 'created': '2019-10-28 20:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c9fa27db42594433db5eb9b8dbaf977dbe42152', 'message': 'fix: ceph-osd AppArmor profiles not applied\n\nAppArmor annotations require the container name to be applied properly.\nBefore this change, when overrides are not used, the container name is\nceph-osd-default. When overrides are used, the container name is of the\nform ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for\nall the daemonsets. However, it is not possible to predict this value,\nand as a result, the AppArmor profiles are not applied.\n\nThis change removes the customization of the container name, and sets\nit to ceph-osd-default, allowing AppArmor annotations to be consistently\napplied using:\n\n    pod:\n      mandatory_access_control:\n        type: apparmor\n        ceph-osd-default:\n          ceph-osd-default: localhost/profilename\n\nChange-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6\n'}, {'number': 6, 'created': '2019-10-28 20:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b452cce2d262ded8beb098416720e142d8e24bfc', 'message': 'fix: ceph-osd AppArmor profiles not applied\n\nAppArmor annotations require the container name to be applied properly.\nBefore this change, when overrides are not used, the container name is\nceph-osd-default. When overrides are used, the container name is of the\nform ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for\nall the daemonsets. However, it is not possible to predict this value,\nand as a result, the AppArmor profiles are not applied.\n\nThis change removes the customization of the container name, and sets\nit to ceph-osd-default, allowing AppArmor annotations to be consistently\napplied using:\n\n    pod:\n      mandatory_access_control:\n        type: apparmor\n        ceph-osd-default:\n          ceph-osd-default: localhost/profilename\n\nChange-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6\n'}, {'number': 7, 'created': '2019-11-01 16:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e53ed37f756a8fd490e7e98298561681689e4db9', 'message': 'fix: ceph-osd AppArmor profiles not applied\n\nAppArmor annotations require the container name to be applied properly.\nBefore this change, when overrides are not used, the container name is\nceph-osd-default. When overrides are used, the container name is of the\nform ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for\nall the daemonsets. However, it is not possible to predict this value,\nand as a result, the AppArmor profiles are not applied.\n\nThis change removes the customization of the container name, and sets\nit to ceph-osd-default, allowing AppArmor annotations to be consistently\napplied using:\n\n    pod:\n      mandatory_access_control:\n        type: apparmor\n        ceph-osd-default:\n          ceph-osd-default: localhost/profilename\n\nChange-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6\n'}, {'number': 8, 'created': '2019-11-06 14:48:12.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/templates/utils/_osd_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/938c6d9bb92a37a9702e8205aa6ab259bf3f39f5', 'message': 'fix: ceph-osd AppArmor profiles not applied\n\nAppArmor annotations require the container name to be applied properly.\nBefore this change, when overrides are not used, the container name is\nceph-osd-default. When overrides are used, the container name is of the\nform ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for\nall the daemonsets. However, it is not possible to predict this value,\nand as a result, the AppArmor profiles are not applied.\n\nThis change removes the customization of the container name, and sets\nit to ceph-osd-default, allowing AppArmor annotations to be consistently\napplied using:\n\n    pod:\n      mandatory_access_control:\n        type: apparmor\n        ceph-osd-default:\n          ceph-osd-default: localhost/profilename\n\nChange-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6\n'}]",7,690457,938c6d9bb92a37a9702e8205aa6ab259bf3f39f5,36,12,8,28719,,,0,"fix: ceph-osd AppArmor profiles not applied

AppArmor annotations require the container name to be applied properly.
Before this change, when overrides are not used, the container name is
ceph-osd-default. When overrides are used, the container name is of the
form ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for
all the daemonsets. However, it is not possible to predict this value,
and as a result, the AppArmor profiles are not applied.

This change removes the customization of the container name, and sets
it to ceph-osd-default, allowing AppArmor annotations to be consistently
applied using:

    pod:
      mandatory_access_control:
        type: apparmor
        ceph-osd-default:
          ceph-osd-default: localhost/profilename

Change-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/57/690457/8 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/templates/utils/_osd_daemonset_overrides.tpl']",2,26dac5098f7e3a8fe2fe3d4d18c833c42d6a831b,,," {{/* set container names and add to the list of containers for the pod */}} {{- $_ := set $context.Values ""__containers_list"" ( list ) }} {{- range $container := $context.Values.__daemonset_yaml.spec.template.spec.containers }} {{- if eq $container.name ""osd-pod"" }} {{- $_ := set $container ""name"" $current_dict.dns_1123_name }} {{- end }} {{- $__containers_list := append $context.Values.__containers_list $container }} {{- $_ := set $context.Values ""__containers_list"" $__containers_list }} {{- end }} {{- $_ := set $context.Values.__daemonset_yaml.spec.template.spec ""containers"" $context.Values.__containers_list }} ",1,12
openstack%2Fopenstack-ansible-rabbitmq_server~master~I5c82c6c10d32ccfb19c983fd4aaf0a44aee31681,openstack/openstack-ansible-rabbitmq_server,master,I5c82c6c10d32ccfb19c983fd4aaf0a44aee31681,Fix typos in install_apt.yml,MERGED,2019-11-07 02:58:32.000000000,2019-11-08 22:48:57.000000000,2019-11-08 22:47:49.000000000,"[{'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-07 02:58:32.000000000', 'files': ['tasks/install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5761171b92333918d6023c1c4555c5453e60a495', 'message': 'Fix typos in install_apt.yml\n\nChange-Id: I5c82c6c10d32ccfb19c983fd4aaf0a44aee31681\n'}]",0,693279,5761171b92333918d6023c1c4555c5453e60a495,10,4,1,23317,,,0,"Fix typos in install_apt.yml

Change-Id: I5c82c6c10d32ccfb19c983fd4aaf0a44aee31681
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/79/693279/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/install_apt.yml'],1,5761171b92333918d6023c1c4555c5453e60a495,fix,# and the cache update as two separate tasks.# and the cache update as two separate tasks.,# and the cache update as two seperate tasks.# and the cache update as two seperate tasks.,2,2
openstack%2Fopenstack-ansible-os_nova~stable%2Ftrain~I709230061de4a743e1efc50ee3dd8d3c3465f10b,openstack/openstack-ansible-os_nova,stable/train,I709230061de4a743e1efc50ee3dd8d3c3465f10b,Add auth_type to the ironic section of nova.conf,MERGED,2019-11-08 14:09:11.000000000,2019-11-08 21:41:01.000000000,2019-11-08 21:39:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-08 14:09:11.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9bc26d8214fe323617f042c5f9e65dcc4f247503', 'message': 'Add auth_type to the ironic section of nova.conf\n\nWithout auth_type, nova cannot authenticate to keystone to see\navailable ironic hypervisors/create new baremetal boots.\n\nChange-Id: I709230061de4a743e1efc50ee3dd8d3c3465f10b\n(cherry picked from commit c0f95b09ac3ed9a0ca41d4efae5b9491707ef432)\n'}]",0,693541,9bc26d8214fe323617f042c5f9e65dcc4f247503,8,4,1,21314,,,0,"Add auth_type to the ironic section of nova.conf

Without auth_type, nova cannot authenticate to keystone to see
available ironic hypervisors/create new baremetal boots.

Change-Id: I709230061de4a743e1efc50ee3dd8d3c3465f10b
(cherry picked from commit c0f95b09ac3ed9a0ca41d4efae5b9491707ef432)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/41/693541/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,9bc26d8214fe323617f042c5f9e65dcc4f247503,,auth_type = {{ nova_keystone_auth_plugin }},,1,0
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~I43fb85532d1bbf0316a10664116a3bbbd9fdc66a,openstack/openstack-ansible-os_zun,stable/train,I43fb85532d1bbf0316a10664116a3bbbd9fdc66a,PDF Documentation Build tox target,MERGED,2019-11-08 11:56:14.000000000,2019-11-08 21:30:21.000000000,2019-11-08 21:28:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-08 11:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/b567ee5a4d3579d47659e0591a4d37ea33d41994', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I43fb85532d1bbf0316a10664116a3bbbd9fdc66a\nStory: 2006105\n(cherry picked from commit c462c02e38cda38ad76dd0dd7204dbc107e00ce6)\n'}, {'number': 2, 'created': '2019-11-08 11:56:22.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/4cae331dfbc1a5223362116247d181a1dd9702f2', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I43fb85532d1bbf0316a10664116a3bbbd9fdc66a\nStory: 2006105\n(cherry picked from commit c462c02e38cda38ad76dd0dd7204dbc107e00ce6)\n'}]",0,693530,4cae331dfbc1a5223362116247d181a1dd9702f2,9,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I43fb85532d1bbf0316a10664116a3bbbd9fdc66a
Story: 2006105
(cherry picked from commit c462c02e38cda38ad76dd0dd7204dbc107e00ce6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/30/693530/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,b567ee5a4d3579d47659e0591a4d37ea33d41994,build-pdf-docs-stable/train,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~I7b26fd1df0f5cece5063e377e0050eb20b692c1e,openstack/openstack-ansible-os_zun,stable/train,I7b26fd1df0f5cece5063e377e0050eb20b692c1e,Update .gitreview for stable/train,MERGED,2019-10-22 19:03:01.000000000,2019-11-08 21:24:38.000000000,2019-11-08 21:22:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-22 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/12ccc0b11a5153b1bf34869522fb81a98a7fac98', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I7b26fd1df0f5cece5063e377e0050eb20b692c1e\n'}, {'number': 2, 'created': '2019-11-08 11:57:09.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/78b0a909b24d71d68ffe48a3aa2ca39990bb29b8', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I7b26fd1df0f5cece5063e377e0050eb20b692c1e\n'}]",0,690308,78b0a909b24d71d68ffe48a3aa2ca39990bb29b8,10,3,2,22816,,,0,"Update .gitreview for stable/train

Change-Id: I7b26fd1df0f5cece5063e377e0050eb20b692c1e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/08/690308/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,12ccc0b11a5153b1bf34869522fb81a98a7fac98,create-train,defaultbranch=stable/train,,1,0
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~I991a5e62275eb13d8c86c6908274e2baf3aeb4d4,openstack/openstack-ansible-os_zun,stable/train,I991a5e62275eb13d8c86c6908274e2baf3aeb4d4,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-22 19:03:03.000000000,2019-11-08 21:23:50.000000000,2019-11-08 21:22:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-22 19:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/3142ccc5f15bb4abdbdfb80659e80a9951642337', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I991a5e62275eb13d8c86c6908274e2baf3aeb4d4\n'}, {'number': 2, 'created': '2019-11-08 11:57:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/6a50cd8d291ed83fac4f04521916aa31fe7ff720', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I991a5e62275eb13d8c86c6908274e2baf3aeb4d4\n'}]",0,690309,6a50cd8d291ed83fac4f04521916aa31fe7ff720,10,3,2,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I991a5e62275eb13d8c86c6908274e2baf3aeb4d4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/09/690309/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3142ccc5f15bb4abdbdfb80659e80a9951642337,create-train, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-helm-images~master~I4af2da482b96b93b3e7f5b6248df401b318bf95d,openstack/openstack-helm-images,master,I4af2da482b96b93b3e7f5b6248df401b318bf95d,"Revert ""mini-mirror: Add support for multi-dist publishing""",ABANDONED,2019-10-31 20:40:11.000000000,2019-11-08 21:23:06.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 18180}, {'_account_id': 20466}, {'_account_id': 20998}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23186}, {'_account_id': 23928}, {'_account_id': 25907}, {'_account_id': 26365}, {'_account_id': 26449}, {'_account_id': 26628}, {'_account_id': 26686}, {'_account_id': 27715}, {'_account_id': 28208}, {'_account_id': 28235}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-10-31 20:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/202d8a1812972d96e91be3f7ba9544ace03a526c', 'message': 'Revert ""mini-mirror: Add support for multi-dist publishing""\n\nThis reverts commit 2d3ea795fa8fc5d0b5efb76eb6c8561928b43a3a.\n\nChange-Id: I4af2da482b96b93b3e7f5b6248df401b318bf95d\n'}, {'number': 2, 'created': '2019-10-31 20:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/df03aec89c4d1d4ed4eae553d511010a31f7725b', 'message': 'Revert ""mini-mirror: Add support for multi-dist publishing""\n\nThis reverts commit 2d3ea795fa8fc5d0b5efb76eb6c8561928b43a3a.\n\nChange-Id: I4af2da482b96b93b3e7f5b6248df401b318bf95d\n'}, {'number': 3, 'created': '2019-10-31 21:00:15.000000000', 'files': ['mini-mirror/tools/publish_snapshots.sh', 'mini-mirror/README.rst', 'mini-mirror/sources/aptly-example/source.txt', 'mini-mirror/sources/aptly-example/packages.txt'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6e7b78fd221b9e1a5ef6df37c4795c9e2db56705', 'message': 'Revert ""mini-mirror: Add support for multi-dist publishing""\n\nThis reverts commit 2d3ea795fa8fc5d0b5efb76eb6c8561928b43a3a.\n\nChange-Id: I4af2da482b96b93b3e7f5b6248df401b318bf95d\n'}]",0,692449,6e7b78fd221b9e1a5ef6df37c4795c9e2db56705,10,20,3,28618,,,0,"Revert ""mini-mirror: Add support for multi-dist publishing""

This reverts commit 2d3ea795fa8fc5d0b5efb76eb6c8561928b43a3a.

Change-Id: I4af2da482b96b93b3e7f5b6248df401b318bf95d
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/49/692449/3 && git format-patch -1 --stdout FETCH_HEAD,"['mini-mirror/tools/publish_snapshots.sh', 'mini-mirror/README.rst', 'mini-mirror/sources/aptly-example/source.txt', 'mini-mirror/sources/aptly-example/packages.txt']",4,202d8a1812972d96e91be3f7ba9544ace03a526c,mini-mirror/multi-dist-component,,,42,57
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~Idc16ce7b7e673fda63e0c422bcd15d222379532f,openstack/openstack-ansible-os_zun,stable/train,Idc16ce7b7e673fda63e0c422bcd15d222379532f,Updated from OpenStack Ansible Tests,MERGED,2019-11-01 16:53:05.000000000,2019-11-08 21:14:13.000000000,2019-11-08 21:12:08.000000000,"[{'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-01 16:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/e4515be4c5dd5a29d66fe3eb1aad3f984004b950', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Idc16ce7b7e673fda63e0c422bcd15d222379532f\n'}, {'number': 2, 'created': '2019-11-08 11:56:43.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/d4e1c18f2d503dda020499dd0cfdce594c340fee', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Idc16ce7b7e673fda63e0c422bcd15d222379532f\n'}]",0,692587,d4e1c18f2d503dda020499dd0cfdce594c340fee,10,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Idc16ce7b7e673fda63e0c422bcd15d222379532f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/87/692587/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,e4515be4c5dd5a29d66fe3eb1aad3f984004b950,openstack/openstack-ansible-tests/sync-tests,"sphinx>=1.8.0,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD sphinxcontrib-svg2pdfconverter>=0.1.0 # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",2,1
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~I2efc775d7e38019eb39ca85b6135b8506fc76c52,openstack/openstack-ansible-os_zun,stable/train,I2efc775d7e38019eb39ca85b6135b8506fc76c52,Add uwsgi role into local a-r-r and test placement,MERGED,2019-11-08 08:00:34.000000000,2019-11-08 21:13:12.000000000,2019-11-08 21:12:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-08 08:00:34.000000000', 'files': ['tests/inventory', 'tests/ansible-role-requirements.yml', 'tests/test.yml', 'tests/test-install-placement.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/e91069b5dbf795863c2288760e606adb23c6e69d', 'message': 'Add uwsgi role into local a-r-r and test placement\n\nChange-Id: I2efc775d7e38019eb39ca85b6135b8506fc76c52\n'}]",0,693495,e91069b5dbf795863c2288760e606adb23c6e69d,8,3,1,28619,,,0,"Add uwsgi role into local a-r-r and test placement

Change-Id: I2efc775d7e38019eb39ca85b6135b8506fc76c52
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/95/693495/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/inventory', 'tests/ansible-role-requirements.yml', 'tests/test.yml', 'tests/test-install-placement.yml']",4,e91069b5dbf795863c2288760e606adb23c6e69d,zun_tests-stable/train,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Deploy placement hosts: placement_all remote_user: root gather_facts: true any_errors_fatal: true roles: - role: ""os_placement"" placement_service_password: secrete placement_galera_password: secrete vars_files: - common/test-vars.yml ",,43,0
openstack%2Ftripleo-common~stable%2Fstein~Ief83030835fa7e8c76ca2607135a4f840782bbb9,openstack/tripleo-common,stable/stein,Ief83030835fa7e8c76ca2607135a4f840782bbb9,Stop logging manifest in debug,MERGED,2019-11-08 07:09:05.000000000,2019-11-08 21:04:32.000000000,2019-11-08 21:03:25.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 07:09:05.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ee405ae33fe0bf8e17a7fdc16082b1b1b54eea03', 'message': ""Stop logging manifest in debug\n\nIt's excessively verbose and is a json object which leads to the log\nlines not being individual lines. We don't really need to be printing\nthis anymore.\n\nChange-Id: Ief83030835fa7e8c76ca2607135a4f840782bbb9\n(cherry picked from commit 958937eb67e289f5da7e790d47dcd69011732a50)\n""}]",0,693492,ee405ae33fe0bf8e17a7fdc16082b1b1b54eea03,11,3,1,3153,,,0,"Stop logging manifest in debug

It's excessively verbose and is a json object which leads to the log
lines not being individual lines. We don't really need to be printing
this anymore.

Change-Id: Ief83030835fa7e8c76ca2607135a4f840782bbb9
(cherry picked from commit 958937eb67e289f5da7e790d47dcd69011732a50)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/693492/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,ee405ae33fe0bf8e17a7fdc16082b1b1b54eea03,logging-improvements-stable/stein,," LOG.debug('[%s] Current image manifest: [%s]' % (image, json.dumps(manifest, indent=4)))",0,2
openstack%2Fopenstack-ansible-galera_server~stable%2Fstein~I23811cfaf23007c5da1860e78397be380d67403b,openstack/openstack-ansible-galera_server,stable/stein,I23811cfaf23007c5da1860e78397be380d67403b,Restart mysql when package is installed,MERGED,2019-11-06 12:44:57.000000000,2019-11-08 20:37:53.000000000,2019-11-08 20:36:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-06 12:44:57.000000000', 'files': ['tasks/galera_install_yum.yml', 'tasks/galera_install_zypper.yml', 'tasks/galera_install_portage.yml', 'tasks/galera_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/fbc410f82d44e7e457d6b6a92948132e4a0572a1', 'message': ""Restart mysql when package is installed\n\nWhen running galera_server role with galera_upgrade=true\nit uninstalls mariadb and installs again. In some distros, like CentOS,\nmariadb don't start automatically after installation, so upgrade fails.\n\nThis patch adds handler on packsage installation, which will be\ntriggered when package state is changed.\n\nChange-Id: I23811cfaf23007c5da1860e78397be380d67403b\nRelated-bug: 1628720\n(cherry picked from commit efc965f00fc515a46d03fcf22270ebc7bb8e4791)\n""}]",0,693173,fbc410f82d44e7e457d6b6a92948132e4a0572a1,8,3,1,28619,,,0,"Restart mysql when package is installed

When running galera_server role with galera_upgrade=true
it uninstalls mariadb and installs again. In some distros, like CentOS,
mariadb don't start automatically after installation, so upgrade fails.

This patch adds handler on packsage installation, which will be
triggered when package state is changed.

Change-Id: I23811cfaf23007c5da1860e78397be380d67403b
Related-bug: 1628720
(cherry picked from commit efc965f00fc515a46d03fcf22270ebc7bb8e4791)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/73/693173/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_install_yum.yml', 'tasks/galera_install_zypper.yml', 'tasks/galera_install_portage.yml', 'tasks/galera_install_apt.yml']",4,fbc410f82d44e7e457d6b6a92948132e4a0572a1,bugs/1628720-stable/stein, notify: - Manage LB - Restart all mysql ,,13,0
openstack%2Fopenstack-ansible-os_heat~master~I5616c4b89444c8b87edbd5cefd61174d9b0f4ae9,openstack/openstack-ansible-os_heat,master,I5616c4b89444c8b87edbd5cefd61174d9b0f4ae9,Fix a typo,MERGED,2019-11-05 08:41:08.000000000,2019-11-08 20:24:04.000000000,2019-11-08 20:22:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-05 08:41:08.000000000', 'files': ['releasenotes/notes/heat-init-config-overrides-004872081661a34c.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/9cf5cd8e95d80e885905de96e99bdaf9e0a6f8d6', 'message': 'Fix a typo\n\nChange-Id: I5616c4b89444c8b87edbd5cefd61174d9b0f4ae9\n'}]",0,692959,9cf5cd8e95d80e885905de96e99bdaf9e0a6f8d6,8,3,1,23317,,,0,"Fix a typo

Change-Id: I5616c4b89444c8b87edbd5cefd61174d9b0f4ae9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/59/692959/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/heat-init-config-overrides-004872081661a34c.yaml'],1,9cf5cd8e95d80e885905de96e99bdaf9e0a6f8d6,fix, load extra options into the defaults and pollute the generic, load extra options into the defaults and polute the generic,1,1
openstack%2Ftripleo-common~stable%2Ftrain~Ief83030835fa7e8c76ca2607135a4f840782bbb9,openstack/tripleo-common,stable/train,Ief83030835fa7e8c76ca2607135a4f840782bbb9,Stop logging manifest in debug,MERGED,2019-11-08 07:08:48.000000000,2019-11-08 20:23:25.000000000,2019-11-08 20:22:07.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 07:08:48.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7920221e52b311242d0ac71f529886c3dbc97330', 'message': ""Stop logging manifest in debug\n\nIt's excessively verbose and is a json object which leads to the log\nlines not being individual lines. We don't really need to be printing\nthis anymore.\n\nChange-Id: Ief83030835fa7e8c76ca2607135a4f840782bbb9\n(cherry picked from commit 958937eb67e289f5da7e790d47dcd69011732a50)\n""}]",0,693491,7920221e52b311242d0ac71f529886c3dbc97330,12,4,1,3153,,,0,"Stop logging manifest in debug

It's excessively verbose and is a json object which leads to the log
lines not being individual lines. We don't really need to be printing
this anymore.

Change-Id: Ief83030835fa7e8c76ca2607135a4f840782bbb9
(cherry picked from commit 958937eb67e289f5da7e790d47dcd69011732a50)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/693491/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,7920221e52b311242d0ac71f529886c3dbc97330,logging-improvements-stable/train,," LOG.debug('[%s] Current image manifest: [%s]' % (image, json.dumps(manifest, indent=4)))",0,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6,openstack/tripleo-heat-templates,stable/rocky,I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6,Run nova_api unprivileged,MERGED,2019-10-31 10:49:59.000000000,2019-11-08 20:08:21.000000000,2019-11-08 20:08:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-31 10:49:59.000000000', 'files': ['docker/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80133ccb83165611acbf94af1ff54449e839efa1', 'message': 'Run nova_api unprivileged\n\nRunning it privileged is no longer necessary and bad for security.\n\nResolves: rhbz#1767385\n\nChange-Id: I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6\n(cherry picked from commit 268aad2258dda4c4eff6a6a3173aa0ab1c36e781)\n'}]",0,692328,80133ccb83165611acbf94af1ff54449e839efa1,22,5,1,14250,,,0,"Run nova_api unprivileged

Running it privileged is no longer necessary and bad for security.

Resolves: rhbz#1767385

Change-Id: I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6
(cherry picked from commit 268aad2258dda4c4eff6a6a3173aa0ab1c36e781)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/692328/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-api.yaml'],1,80133ccb83165611acbf94af1ff54449e839efa1,, privileged: false, privileged: true,1,1
openstack%2Fopenstack-helm-infra~master~I62cdb88ab0f1d088c66a67f849bf74b3d002974b,openstack/openstack-helm-infra,master,I62cdb88ab0f1d088c66a67f849bf74b3d002974b,[WIP/DNM] Tune up Prom Alerts,ABANDONED,2019-11-07 17:30:49.000000000,2019-11-08 20:02:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-11-07 17:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b153d3ad72cfc027fce20f6187d3e7f39668891d', 'message': '[WIP/DNM] Tune up Prom Alerts\n\nCo-Authored By: Meg Heisler\n\nChange-Id: I62cdb88ab0f1d088c66a67f849bf74b3d002974b\n'}, {'number': 2, 'created': '2019-11-07 18:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d7711f63c860ab725f6ec0c2e7afb337c61a1b41', 'message': '[WIP/DNM] Tune up Prom Alerts\n\nThis change converts alert expressions which relied on instant vectors\nto use range aggregate functions instead.\n\nCo-Authored-By: Meg Heisler\n\nChange-Id: I62cdb88ab0f1d088c66a67f849bf74b3d002974b\n'}, {'number': 3, 'created': '2019-11-07 18:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2a563ad8ab639d28dda6d470a2963d75e13beeb', 'message': '[WIP/DNM] Tune up Prom Alerts\n\nThis change converts alert expressions which relied on instant vectors\nto use range aggregate functions instead.\n\nCo-Authored-By: Meg Heisler\n\nChange-Id: I62cdb88ab0f1d088c66a67f849bf74b3d002974b\n'}, {'number': 4, 'created': '2019-11-07 22:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8233c7e4953beab2f453d57fbc3acb09ff89a673', 'message': '[WIP/DNM] Tune up Prom Alerts\n\nThis change converts alert expressions which relied on instant vectors\nto use range aggregate functions instead.\n\nCo-Authored-By: Meg Heisler\n\nChange-Id: I62cdb88ab0f1d088c66a67f849bf74b3d002974b\n'}, {'number': 5, 'created': '2019-11-08 00:12:36.000000000', 'files': ['prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e491f5c41f10ab07d7d7d24bba5cc3ffe89ee3ac', 'message': '[WIP/DNM] Tune up Prom Alerts\n\nThis change converts alert expressions which relied on instant vectors\nto use range aggregate functions instead.\n\nCo-Authored-By: Meg Heisler\n\nChange-Id: I62cdb88ab0f1d088c66a67f849bf74b3d002974b\n'}]",1,693397,e491f5c41f10ab07d7d7d24bba5cc3ffe89ee3ac,11,2,5,30777,,,0,"[WIP/DNM] Tune up Prom Alerts

This change converts alert expressions which relied on instant vectors
to use range aggregate functions instead.

Co-Authored-By: Meg Heisler

Change-Id: I62cdb88ab0f1d088c66a67f849bf74b3d002974b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/693397/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus/values.yaml'],1,b153d3ad72cfc027fce20f6187d3e7f39668891d,prom-alert-fix," expr: avg_over_time(elasticsearch_process_cpu_percent[5m]) > 95 expr: avg_over_time(100 * (elasticsearch_filesystem_data_size_bytes - elasticsearch_filesystem_data_free_bytes) / elasticsearch_filesystem_data_size_bytes)[5m]) > 80 expr: avg_over_time(elasticsearch_cluster_health_unassigned_shards[5m]) > 0 expr: avg_over_time(elasticsearch_cluster_health_timed_out[5m]) < 1 description: 'Elasticsearch cluster health status call have timedout recently.' expr: avg_over_time(elasticsearch_cluster_health_status{color=""green""}[5m]) < 1 description: 'Elasticsearch cluster health status is not green. One or more shards or replicas are unallocated.' expr: avg_over_time(elasticsearch_cluster_health_number_of_nodes[5m]) < 3 description: 'There are less than 3 ElasticSearch nodes running' expr: avg_over_time(elasticsearch_cluster_health_number_of_data_nodes[5m]) < 1 description: 'There are no ElasticSearch data nodes running.' summary: 'There are no ElasticSearch data nodes running.'"," - alert: es_high_process_open_files_count expr: sum(elasticsearch_process_open_files_count) by (host) > 64000 for: 10m labels: severity: warning annotations: description: 'Elasticsearch at {{ $labels.host }} has more than 64000 process open file count.' summary: 'Elasticsearch has a very high process open file count.' expr: elasticsearch_process_cpu_percent > 95 expr: (100 * (elasticsearch_filesystem_data_size_bytes - elasticsearch_filesystem_data_free_bytes) / elasticsearch_filesystem_data_size_bytes) > 80 expr: elasticsearch_cluster_health_unassigned_shards > 0 expr: elasticsearch_cluster_health_timed_out > 0 description: 'Elasticsearch cluster health status call timedout {{ $value }} times.' expr: (sum(elasticsearch_cluster_health_status{color=""green""})*2)+sum(elasticsearch_cluster_health_status{color=""yellow""}) < 2 description: 'Elasticsearch cluster health status is {{ $value }}, not 2 (green). One or more shards or replicas are unallocated.' expr: elasticsearch_cluster_health_number_of_nodes < 3 description: 'There are only {{$value}} < 3 ElasticSearch nodes running' expr: elasticsearch_cluster_health_number_of_data_nodes < 3 description: 'There are only {{$value}} < 3 ElasticSearch data nodes running' summary: 'ElasticSearch running on less than 3 data nodes' - alert: es_cluster_health_too_few_data_nodes_running expr: elasticsearch_cluster_health_number_of_data_nodes < 3 for: 10m labels: severity: warning annotations: description: 'There are only {{$value}} < 3 ElasticSearch data nodes running' summary: 'ElasticSearch running on less than 3 data nodes'",12,28
openstack%2Ftripleo-ansible~master~Ic73ad9cf3ea13ad485458a2d7c9d84690fe51d09,openstack/tripleo-ansible,master,Ic73ad9cf3ea13ad485458a2d7c9d84690fe51d09,tripleo-container-manage: add task to start systemd healthcheck service,MERGED,2019-11-08 13:18:00.000000000,2019-11-08 19:24:34.000000000,2019-11-08 19:24:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 13:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/326f9995f5048bc1d09303986fa3d5e386d657b2', 'message': ""tripleo-container-manage: add task to start systemd healthcheck service\n\nIt seems like the healthcheck timer is started but sometimes not the\nhealthcheck service. Let's make sure it's properly started as well.\n\nChange-Id: Ic73ad9cf3ea13ad485458a2d7c9d84690fe51d09\n""}, {'number': 2, 'created': '2019-11-08 13:31:40.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cb4b443f6ecce49dc047772544b26001ecf25d37', 'message': ""tripleo-container-manage: add task to start systemd healthcheck service\n\nIt seems like the healthcheck timer is started but sometimes not the\nhealthcheck service. Let's make sure it's properly started as well.\n\nChange-Id: Ic73ad9cf3ea13ad485458a2d7c9d84690fe51d09\n""}]",0,693536,cb4b443f6ecce49dc047772544b26001ecf25d37,9,4,2,3153,,,0,"tripleo-container-manage: add task to start systemd healthcheck service

It seems like the healthcheck timer is started but sometimes not the
healthcheck service. Let's make sure it's properly started as well.

Change-Id: Ic73ad9cf3ea13ad485458a2d7c9d84690fe51d09
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/693536/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml'],1,326f9995f5048bc1d09303986fa3d5e386d657b2,systemd," - name: ""Enable and start systemd healthcheck timer for {{ container_name }}"" - name: ""Enable and start systemd healthcheck service for {{ container_name }}"" systemd: # Restart the service if it was already running state: restarted name: ""tripleo_{{ container_name }}_healthcheck.service"" enabled: true daemon_reload: true when: - systemd_healthcheck.changed or systemd_timer.changed"," - name: ""Enable and start systemd timer for {{ container_name }}""",10,1
openstack%2Fcharm-mysql-innodb-cluster~master~I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61,openstack/charm-mysql-innodb-cluster,master,I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61,Enable restart on config changed using coordinator,MERGED,2019-11-01 23:30:16.000000000,2019-11-08 19:10:56.000000000,2019-11-08 19:10:56.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-01 23:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/1a21535c44a048551ff121edbd0b06171cf77ee6', 'message': 'MySQL8 Specific ZAZA tests\n\n* Add initial config options\n* Move to lib/charm/openstack to re-use pause/resume\n\nChange-Id: I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/107\n'}, {'number': 2, 'created': '2019-11-03 00:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f962ff7129516f4d6161ff31b2f16575c3e917d1', 'message': 'MySQL8 Specific ZAZA tests\n\n* Add initial config options\n* Move to lib/charm/openstack to re-use pause/resume\n\nChange-Id: I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/107\n'}, {'number': 3, 'created': '2019-11-07 18:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7a3fc349f1ee7f89fd919ec7bf2d1bde1dc56fea', 'message': 'Enable restart on config changed using coordinator\n\n* Add initial config options\n* Use coordinator to manage rolling restarts\n* Factor out mysqlsh script execution\n* Move to lib/charm/openstack to reuse charms.openstack features\n\nChange-Id: I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61\n'}, {'number': 4, 'created': '2019-11-08 16:35:38.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/__init__.py', 'src/templates/mysqld.cnf', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'unit_tests/__init__.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/actions/actions.py', 'src/reactive/mysql_innodb_cluster_handlers.py', 'src/tests/tests.yaml', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/88c1aae8007046742a1e147c9246ffc6f27eafe5', 'message': 'Enable restart on config changed using coordinator\n\n* Add initial config options\n* Use coordinator to manage rolling restarts\n* Factor out mysqlsh script execution\n* Move to lib/charm/openstack to reuse charms.openstack features\n\nChange-Id: I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61\n'}]",10,692627,88c1aae8007046742a1e147c9246ffc6f27eafe5,23,5,4,20805,,,0,"Enable restart on config changed using coordinator

* Add initial config options
* Use coordinator to manage rolling restarts
* Factor out mysqlsh script execution
* Move to lib/charm/openstack to reuse charms.openstack features

Change-Id: I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/27/692627/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/__init__.py', 'src/templates/mysqld.cnf', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py', 'src/reactive/mysql_innodb_cluster_handlers.py', 'src/tests/tests.yaml']",7,1a21535c44a048551ff121edbd0b06171cf77ee6,feature/rolling-restarts,# The pause and resume test validates changing the R/W primary. # Running the keystone tests after the MySQLInnoDBClusterTests # validates DB functionality after a change in the R/W primary. tests: - zaza.openstack.charm_tests.mysql.tests.MySQLInnoDBClusterTests,tests:,43,3
openstack%2Frequirements~master~I9a585cf749fbb6ec18f84cb1b1ea3c0003474f28,openstack/requirements,master,I9a585cf749fbb6ec18f84cb1b1ea3c0003474f28,Updated from generate-constraints,MERGED,2019-11-07 06:26:53.000000000,2019-11-08 19:09:39.000000000,2019-11-08 19:08:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 06:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cc2147e933cab96d205710602c9e9c7a56c7af64', 'message': 'Updated from generate-constraints\n\nChange-Id: I9a585cf749fbb6ec18f84cb1b1ea3c0003474f28\n'}, {'number': 2, 'created': '2019-11-08 06:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/55f15807ccaaeecbc32d6b8f85aab873c2a24521', 'message': 'Updated from generate-constraints\n\nChange-Id: I9a585cf749fbb6ec18f84cb1b1ea3c0003474f28\n'}, {'number': 3, 'created': '2019-11-08 15:48:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ecd5f77bb01785a10aa08b4e2a9bff741f5c6953', 'message': 'Updated from generate-constraints\n\nChange-Id: I9a585cf749fbb6ec18f84cb1b1ea3c0003474f28\n'}]",0,693293,ecd5f77bb01785a10aa08b4e2a9bff741f5c6953,12,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I9a585cf749fbb6ec18f84cb1b1ea3c0003474f28
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/693293/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cc2147e933cab96d205710602c9e9c7a56c7af64,openstack/requirements/constraints/nocolb,rtslib-fb===2.1.71networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'graphviz===0.13.1libvirt-python===5.8.0amqp===2.5.2tinyrpc===1.0.4cassandra-driver===3.20.1purestorage===1.18.1boto3===1.10.12psutil===5.6.5requests-oauthlib===1.3.0botocore===1.13.12tenacity===6.0.0,rtslib-fb===2.1.69networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'graphviz===0.13libvirt-python===5.7.0amqp===2.5.1tinyrpc===1.0.3cassandra-driver===3.20.0purestorage===1.17.0boto3===1.10.8psutil===5.6.4requests-oauthlib===1.2.0botocore===1.13.8tenacity===5.1.5,16,16
openstack%2Ftripleo-heat-templates~stable%2Fstein~I382b472185f445e5d81077bc50b4c9cb65285530,openstack/tripleo-heat-templates,stable/stein,I382b472185f445e5d81077bc50b4c9cb65285530,Fix debug hiera keys,MERGED,2019-11-07 23:16:29.000000000,2019-11-08 18:50:57.000000000,2019-11-08 18:50:57.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 23:16:29.000000000', 'files': ['deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/sahara/sahara-base.yaml', 'deployment/manila/manila-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2e2706c593fdffe0cbd5505be68048234c2aed6', 'message': 'Fix debug hiera keys\n\nThe correct key to configure mistral debug is mistral::logging::debug\nnot mistral::debug. The same is true for heat, manila and sahara.\n\nChange-Id: I382b472185f445e5d81077bc50b4c9cb65285530\nCloses-Bug: #1851667\n(cherry picked from commit cf3fa9d77dff583ba62484f21d1ca150cfb73ecf)\n'}]",0,693445,c2e2706c593fdffe0cbd5505be68048234c2aed6,12,3,1,14985,,,0,"Fix debug hiera keys

The correct key to configure mistral debug is mistral::logging::debug
not mistral::debug. The same is true for heat, manila and sahara.

Change-Id: I382b472185f445e5d81077bc50b4c9cb65285530
Closes-Bug: #1851667
(cherry picked from commit cf3fa9d77dff583ba62484f21d1ca150cfb73ecf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/693445/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/sahara/sahara-base.yaml', 'deployment/manila/manila-base.yaml']",4,c2e2706c593fdffe0cbd5505be68048234c2aed6,bug/1851667-stable/stein, manila::logging::debug:, manila::debug:,4,4
openstack%2Fcharm-deployment-guide~master~I6c9520ba2b81a358a66bdb0be92410c90dfaccf2,openstack/charm-deployment-guide,master,I6c9520ba2b81a358a66bdb0be92410c90dfaccf2,No mixing of charm releases nor series versions,MERGED,2019-11-07 20:29:24.000000000,2019-11-08 18:34:02.000000000,2019-11-08 18:32:46.000000000,"[{'_account_id': 11805}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-11-07 20:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a61d0de210d7158fb9cc41680352fc2c02968f88', 'message': 'No mixing of charm releases nor series versions\n\nChange-Id: I6c9520ba2b81a358a66bdb0be92410c90dfaccf2\nCloses-Bug: #1811867\n'}, {'number': 2, 'created': '2019-11-07 21:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/02b32e101838a7a6ffdc6c94facdd84a6d9a979e', 'message': 'No mixing of charm releases nor series versions\n\nCloses-Bug: #1811867\n\nChange-Id: I6c9520ba2b81a358a66bdb0be92410c90dfaccf2\n'}, {'number': 3, 'created': '2019-11-08 17:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/998e830d05875b56e711b8ee81bf1e6b58e3771d', 'message': ""No mixing of charm releases nor series versions\n\nI realise now that 'Charm upgrades' should be\non its own page as they can be done independently\nof an OpenStack upgrade. A future PR may address\nthis.\n\nCloses-Bug: #1811867\n\nChange-Id: I6c9520ba2b81a358a66bdb0be92410c90dfaccf2\n""}, {'number': 4, 'created': '2019-11-08 18:25:03.000000000', 'files': ['deploy-guide/source/app-series-upgrade.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/app-ceph-migration.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c74ce0fbdf81996331d7bddd259e15492ce7ee1d', 'message': ""No mixing of charm releases nor series versions\n\nI realise now that 'Charm upgrades' should be\non its own page as they can be done independently\nof an OpenStack upgrade. A future PR may address\nthis.\n\nCloses-Bug: #1811867\n\nChange-Id: I6c9520ba2b81a358a66bdb0be92410c90dfaccf2\n""}]",6,693424,c74ce0fbdf81996331d7bddd259e15492ce7ee1d,23,4,4,30561,,,0,"No mixing of charm releases nor series versions

I realise now that 'Charm upgrades' should be
on its own page as they can be done independently
of an OpenStack upgrade. A future PR may address
this.

Closes-Bug: #1811867

Change-Id: I6c9520ba2b81a358a66bdb0be92410c90dfaccf2
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/24/693424/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/app-series-upgrade.rst', 'deploy-guide/source/install-openstack.rst']",2,a61d0de210d7158fb9cc41680352fc2c02968f88,bug/1811867,".. important:: Irrespective of install method, once the cloud is deployed, the following best practices related to charm versions and machine series need to be adhered to: #. The suite of charms used to manage the cloud must track the same `OpenStack Charms`_ release as they are engineered to work as a collective. Because Juju charms follow a ""rolling release"" model and a charm update causes the charm revision to increment, there is no obvious way to link a charm's revision number to an OpenStack Charms release. However, this lack of mapping is inconsequential in a practical sense. This note simply means that during `Charm upgrades`_, all charms must be upgraded together. #. The Juju machines that comprise the cloud need to all be running the same series (e.g. 'xenial' or 'bionic', but not a mix of the two). .. note:: If a message from a ceph-osd unit like ""Non-pristine devices detected"" appears in the output of :command:`juju status` you will need to use actions ``zap-disk`` and ``add-disk`` that come with the 'ceph-osd' charm. .. _OpenStack Charms: https://docs.openstack.org/charm-guide/latest/openstack-charms.html .. _Charm upgrades: app-upgrade-openstack#charm-upgrades "," osd-reformat: ""yes""",31,1
openstack%2Ftripleo-puppet-elements~master~I27621ebb0fdc4e55aed19dbed7c0c924616fdd2f,openstack/tripleo-puppet-elements,master,I27621ebb0fdc4e55aed19dbed7c0c924616fdd2f,Detect if the network.service is available.,ABANDONED,2019-11-06 14:54:13.000000000,2019-11-08 18:00:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-06 14:54:13.000000000', 'files': ['elements/overcloud-base/post-install.d/51-enable-network-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/5f95ac4db0c89a242b1722248a11f753d6ee115e', 'message': 'Detect if the network.service is available.\n\nIf not, then use the NetworkManager.service (for RHEL 8).\n\nChange-Id: I27621ebb0fdc4e55aed19dbed7c0c924616fdd2f\nCloses-Bug: 1851274\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,693190,5f95ac4db0c89a242b1722248a11f753d6ee115e,8,3,1,25877,,,0,"Detect if the network.service is available.

If not, then use the NetworkManager.service (for RHEL 8).

Change-Id: I27621ebb0fdc4e55aed19dbed7c0c924616fdd2f
Closes-Bug: 1851274
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/90/693190/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/post-install.d/51-enable-network-service'],1,5f95ac4db0c89a242b1722248a11f753d6ee115e,,if [[ ! -f /usr/lib/systemd/system/network.service ]]; then systemctl --now enable NetworkManager else systemctl enable network systemctl start network fi,systemctl enable network systemctl start network,6,2
openstack%2Ftripleo-common-tempest-plugin~master~I30fa4e2308d83f4e6afd9efadf72b0096ad5fb83,openstack/tripleo-common-tempest-plugin,master,I30fa4e2308d83f4e6afd9efadf72b0096ad5fb83,tox: Keeping going with docs,MERGED,2019-11-02 18:38:09.000000000,2019-11-08 17:58:16.000000000,2019-11-08 17:58:16.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 18:38:09.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common-tempest-plugin/commit/b6929550ca4a5b6269b4451ec2250053728b7fa2', 'message': 'tox: Keeping going with docs\n\nChange-Id: I30fa4e2308d83f4e6afd9efadf72b0096ad5fb83\n'}]",0,692683,b6929550ca4a5b6269b4451ec2250053728b7fa2,7,3,1,30356,,,0,"tox: Keeping going with docs

Change-Id: I30fa4e2308d83f4e6afd9efadf72b0096ad5fb83
",git fetch https://review.opendev.org/openstack/tripleo-common-tempest-plugin refs/changes/83/692683/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,b6929550ca4a5b6269b4451ec2250053728b7fa2,,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,3,3
openstack%2Ftripleo-heat-templates~master~I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c,openstack/tripleo-heat-templates,master,I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c,container-puppet: update 'env' when not null,MERGED,2019-11-07 14:15:16.000000000,2019-11-08 17:58:15.000000000,2019-11-08 17:58:15.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 14:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8839a24615fb4f908eebdbf9ce67d6ba2903c227', 'message': 'container-puppet: update \'env\' when not null\n\nOnly update ""env"" if the content isn\'t null otherwise we\'ll have\ncontainer configs with:\n""environment"": null\n\nAnd it causes problem later when we manipulate the config.\n\nChange-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n'}, {'number': 2, 'created': '2019-11-07 14:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2205b182c16d351634c3a097930c2c638ffa9ce', 'message': 'container-puppet: update \'env\' when not null\n\nOnly update ""env"" if the content isn\'t null otherwise we\'ll have\ncontainer configs with:\n""environment"": null\n\nAnd it causes problem later when we manipulate the config.\n\nChange-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n'}, {'number': 3, 'created': '2019-11-07 17:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5fd3084f74cb5b0e5cd880e92cea51df7dcc3bb', 'message': 'container-puppet: update \'env\' when not null\n\nOnly update ""env"" if the content isn\'t null otherwise we\'ll have\ncontainer configs with:\n""environment"": null\n\nAnd it causes problem later when we manipulate the config.\n\nChange-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n'}, {'number': 4, 'created': '2019-11-07 17:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57a08c722c2bd2124c6eef942a6333b39f7294ed', 'message': 'container-puppet: update \'env\' when not null\n\nOnly update ""env"" if the content isn\'t null otherwise we\'ll have\ncontainer configs with:\n""environment"": null\n\nAnd it causes problem later when we manipulate the config.\n\nChange-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n'}, {'number': 5, 'created': '2019-11-07 17:24:01.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c01f383ea0283ac864b3bde63b0f424783afd1a2', 'message': 'container-puppet: update \'env\' when not null\n\nOnly update ""env"" if the content isn\'t null otherwise we\'ll have\ncontainer configs with:\n""environment"": null\n\nAnd it causes problem later when we manipulate the config.\n\nChange-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n'}]",1,693358,c01f383ea0283ac864b3bde63b0f424783afd1a2,20,5,5,3153,,,0,"container-puppet: update 'env' when not null

Only update ""env"" if the content isn't null otherwise we'll have
container configs with:
""environment"": null

And it causes problem later when we manipulate the config.

Change-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/693358/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,8839a24615fb4f908eebdbf9ce67d6ba2903c227,, if infile_data.get('environment') is not None: infile_data['environment'] = env, env = infile_data.get('environment') infile_data['environment'] = env,2,2
openstack%2Ftripleo-quickstart~master~Ic300d137d628f65b1e0e7ab7a130b63bc83150fe,openstack/tripleo-quickstart,master,Ic300d137d628f65b1e0e7ab7a130b63bc83150fe,Add CloudSIG stein/train release files,MERGED,2019-06-18 11:56:59.000000000,2019-11-08 17:50:36.000000000,2019-11-08 17:48:35.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 11:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c805934eebf3c751afab263ba522978fb2140a0d', 'message': '[DNM] Add CloudSIG stein release file\n\nAdd a release file for Testing CloudSIG stein repos [1].\nThis release file will be initially used to run a scenario001\njob which build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 2, 'created': '2019-06-20 12:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dcca179050cfc33b8926e405531facd5b0bc026e', 'message': '[DNM] Add CloudSIG stein release file\n\nAdd a release file for Testing CloudSIG stein repos [1].\nThis release file will be initially used to run a scenario001\njob which build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 3, 'created': '2019-06-20 13:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/03cbc85e9b39dfe1b903a52f4dbd77bec29b8a4e', 'message': '[DNM] Add CloudSIG stein release file\n\nAdd a release file for Testing CloudSIG stein repos [1].\nThis release file will be initially used to run a scenario001\njob which build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 4, 'created': '2019-06-20 16:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c580ab6ee9299f0691187853bcf48f91a98cd162', 'message': '[DNM] Add CloudSIG stein release file\n\nAdd a release file for Testing CloudSIG stein repos [1].\nThis release file will be initially used to run a scenario001\njob which build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 5, 'created': '2019-06-21 03:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4e184bc9a93d43c31887e44a11d5878d11395f3e', 'message': '[DNM] Add CloudSIG stein release file\n\nAdd a release file for Testing CloudSIG stein repos [1].\nThis release file will be initially used to run a scenario001\njob which build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 6, 'created': '2019-06-21 08:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9b8fe5bfe9d5123f0f5fad1a4bf484d6e679fc3c', 'message': '[DNM] Add CloudSIG stein release file\n\nAdd a release file for Testing CloudSIG stein repos [1].\nThis release file will be initially used to run a scenario001\njob which build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 7, 'created': '2019-10-25 07:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cfa1feea3608e869b7f79ff4d2e203955005e206', 'message': '[DNM] Add CloudSIG stein release file\n\nAdd a release file for Testing CloudSIG stein repos [1].\nThis release file will be initially used to run a scenario001\njob which build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 8, 'created': '2019-10-25 12:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a4ee2589bb37460b84281a35a700c1e797619c1b', 'message': '[DNM] Add CloudSIG stein release file\n\nAdd a release file for Testing CloudSIG stein repos [1].\nThis release file will be initially used to run a scenario001\njob which build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 9, 'created': '2019-10-30 04:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c272fa9c8a6e8b6c4b3d8c1251d92ae09673205e', 'message': '[DNM] Add CloudSIG stein/train release files\n\nAdd release files for Testing CloudSIG stein/train repos [1][2].\nThese will be initially used to run a scenario001\njob which will build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-train/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 10, 'created': '2019-10-31 10:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/05c90b40f6bb2b61f85c6a9bf001b7c05a284511', 'message': 'Add CloudSIG stein/train release files\n\nAdd release files for Testing CloudSIG stein/train repos [1][2].\nThese will be initially used to run a scenario001\njob in RDO which will build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-train/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 11, 'created': '2019-10-31 15:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/16b21ded3da889e371503dfc163f8da4429b6b5b', 'message': 'Add CloudSIG stein/train release files\n\nAdd release files for Testing CloudSIG stein/train repos [1][2].\nThese will be initially used to run a scenario001\njob in RDO which will build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-train/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 12, 'created': '2019-11-04 05:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c79281a9f778f09d44f95b39f3da137939b7a9a7', 'message': 'Add CloudSIG stein/train release files\n\nAdd release files for Testing CloudSIG stein/train repos [1][2].\nThese will be initially used to run a scenario001\njob in RDO which will build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-train/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}, {'number': 13, 'created': '2019-11-05 16:35:15.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/cloudsig/train.yml', 'config/release/tripleo-ci/CentOS-7/cloudsig/stein.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8b8e2b44f4f8c87cddad67e0114c5d2238f69e70', 'message': 'Add CloudSIG stein/train release files\n\nAdd release files for Testing CloudSIG stein/train repos [1][2].\nThese will be initially used to run a scenario001\njob in RDO which will build containers for CloudSIG repos and then deploy\nthose containers.\n\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/\n[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-train/\n\nChange-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe\n'}]",2,665959,8b8e2b44f4f8c87cddad67e0114c5d2238f69e70,48,10,13,13861,,,0,"Add CloudSIG stein/train release files

Add release files for Testing CloudSIG stein/train repos [1][2].
These will be initially used to run a scenario001
job in RDO which will build containers for CloudSIG repos and then deploy
those containers.

[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/
[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-train/

Change-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/59/665959/11 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/cloudsig-stein.yml', 'zuul.d/layout.yaml']",2,c805934eebf3c751afab263ba522978fb2140a0d,cloudsig-containers,, templates: - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-full - openstack-tox-molecule check: jobs: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - config/general_config/featureset030.yml - tripleo-ci-centos-7-scenario009-multinode-oooq-container: files: - config/general_config/featureset033.yml - requirements.txt - tripleo-ci-centos-7-standalone: files: - config/general_config/featureset052.yml - requirements.txt - tripleo-ci-centos-7-containers-multinode: files: - requirements.txt - openstack-tox-linters - tripleo-ci-centos-7-scenario010-multinode-oooq-container: files: - config/general_config/featureset038.yml,129,28
openstack%2Ftripleo-heat-templates~master~I3f05ca26064a2897a724876033a5cc4a602c38a2,openstack/tripleo-heat-templates,master,I3f05ca26064a2897a724876033a5cc4a602c38a2,"zuul: remove ""files"" for openstack-tox-tht",MERGED,2019-11-07 14:36:46.000000000,2019-11-08 17:49:19.000000000,2019-11-08 17:49:19.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-07 14:36:46.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccf1bca97c3932368a06fb5298a5a6f2993e5d78', 'message': 'zuul: remove ""files"" for openstack-tox-tht\n\nopenstack-tox-tht is a dependency of functional testing jobs, which can\nbe problematic now because it only runs if some files are touched.\n\nIf e.g. common/container_puppet.py is the only file that is changed,\nzuul will complain because the dependency graph is broken.\n\nLet\'s relax openstack-tox-tht to run all the times; and stay a\ndependency of other functional testing jobs (which brings value).\n\nChange-Id: I3f05ca26064a2897a724876033a5cc4a602c38a2\n'}]",0,693363,ccf1bca97c3932368a06fb5298a5a6f2993e5d78,14,5,1,3153,,,0,"zuul: remove ""files"" for openstack-tox-tht

openstack-tox-tht is a dependency of functional testing jobs, which can
be problematic now because it only runs if some files are touched.

If e.g. common/container_puppet.py is the only file that is changed,
zuul will complain because the dependency graph is broken.

Let's relax openstack-tox-tht to run all the times; and stay a
dependency of other functional testing jobs (which brings value).

Change-Id: I3f05ca26064a2897a724876033a5cc4a602c38a2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/693363/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ccf1bca97c3932368a06fb5298a5a6f2993e5d78,tox,, files: - ^((docker|puppet)/services|deployment)/.*$ - tools/*,0,3
openstack%2Ftripleo-upgrade~master~Ic6dab95db351f7aca0bda1a734e79ed28d9afca2,openstack/tripleo-upgrade,master,Ic6dab95db351f7aca0bda1a734e79ed28d9afca2,tox: Keeping going with docs,MERGED,2019-11-02 18:38:07.000000000,2019-11-08 17:48:37.000000000,2019-11-08 17:48:37.000000000,"[{'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-02 18:38:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e6cb67ac4af02dce2039bb3002c11d3ed31767d5', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ic6dab95db351f7aca0bda1a734e79ed28d9afca2\n'}]",0,692681,e6cb67ac4af02dce2039bb3002c11d3ed31767d5,8,4,1,30356,,,0,"tox: Keeping going with docs

Change-Id: Ic6dab95db351f7aca0bda1a734e79ed28d9afca2
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/81/692681/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e6cb67ac4af02dce2039bb3002c11d3ed31767d5,,"sphinx>=1.8.0,<2.0.0;python_version=='2.7' # BSD sphinx>=1.8.0,!=2.1.0;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",2,2
openstack%2Ftripleo-upgrade~master~Ic1f46e1978bbb34f80aed8a761c38acedd040296,openstack/tripleo-upgrade,master,Ic1f46e1978bbb34f80aed8a761c38acedd040296,Do not validate neutron related side car container images.,MERGED,2019-10-16 16:36:23.000000000,2019-11-08 17:48:36.000000000,2019-11-08 17:48:36.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-16 16:36:23.000000000', 'files': ['templates/validate_docker_images_versions.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/32c2dc994f2bd4ec6715db6686195484c1909186', 'message': 'Do not validate neutron related side car container images.\n\nNeutron spawns side car container when it needs them. In stein that\nwould be neutron-haproxy-ovnmeta which has an haproxy that relays\nmetadata queries.\n\nWhen we run an update those side car container are not updated to not\ndisrupt services, so we add them to the list of container to not\ncheck.\n\nChange-Id: Ic1f46e1978bbb34f80aed8a761c38acedd040296\n'}]",2,688972,32c2dc994f2bd4ec6715db6686195484c1909186,11,5,1,8297,,,0,"Do not validate neutron related side car container images.

Neutron spawns side car container when it needs them. In stein that
would be neutron-haproxy-ovnmeta which has an haproxy that relays
metadata queries.

When we run an update those side car container are not updated to not
disrupt services, so we add them to the list of container to not
check.

Change-Id: Ic1f46e1978bbb34f80aed8a761c38acedd040296
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/72/688972/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/validate_docker_images_versions.sh.j2'],1,32c2dc994f2bd4ec6715db6686195484c1909186,," ""sudo podman ps 2>&1 | grep -v -e pcmk -e ID -e qrouter -e 'neutron.*ip netns exec' -e neutron-haproxy-ovnmeta | awk '{ print \$2 }'"" )"," ""sudo podman ps 2>&1 | grep -v -e pcmk -e ID -e qrouter -e 'neutron.*ip netns exec' | awk '{ print \$2 }'"" )",1,1
openstack%2Fopenstack-ansible~master~I06cf7fa01b5406222356aa133123bf7a1b04c0b7,openstack/openstack-ansible,master,I06cf7fa01b5406222356aa133123bf7a1b04c0b7,Fix requirements_git_url call,MERGED,2019-11-05 14:12:44.000000000,2019-11-08 17:45:08.000000000,2019-11-08 15:37:15.000000000,"[{'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-05 14:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1fbb3bb752d40dd3eedcc620cef588c71b6ac10c', 'message': 'Fix requirements_git_url call\n\nrequirements_git_url is the full url to upper-constraints.txt.\n\nChange-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7\nClose-Bug: 1851379\n'}, {'number': 2, 'created': '2019-11-06 08:27:30.000000000', 'files': ['playbooks/utility-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e5a6a1416f1547a2dce283b74af8457c3a22f5a3', 'message': 'Fix requirements_git_url call\n\nrequirements_git_url is the full url to upper-constraints.txt.\n\nChange-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7\nClose-Bug: 1851379\n'}]",0,693011,e5a6a1416f1547a2dce283b74af8457c3a22f5a3,20,5,2,23182,,,0,"Fix requirements_git_url call

requirements_git_url is the full url to upper-constraints.txt.

Change-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7
Close-Bug: 1851379
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/693011/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/utility-install.yml'],1,1fbb3bb752d40dd3eedcc620cef588c71b6ac10c,bug/1851379," utility_upper_constraints_url: ""{{ requirements_git_url | default('https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=' ~ requirements_git_install_branch | default('master')) }}"""," utility_upper_constraints_url: ""{{ requirements_git_url | default('https://opendev.org/openstack/requirements/raw/' ~ requirements_git_install_branch | default('master')) ~ '/upper-constraints.txt' }}""",1,1
openstack%2Fswift~stable%2Frocky~I84b062d062ff49935feed0aee3e1963bb72eb5ea,openstack/swift,stable/rocky,I84b062d062ff49935feed0aee3e1963bb72eb5ea,Remove invalid dict entries from hashes.pkl,MERGED,2019-10-23 20:38:52.000000000,2019-11-08 17:42:15.000000000,2019-11-08 17:42:15.000000000,"[{'_account_id': 6968}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 20:38:52.000000000', 'files': ['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b90c87158df46513489f64e34224de7424859874', 'message': 'Remove invalid dict entries from hashes.pkl\n\nIf the data in a hashes.pkl is corrupted but still de-serialized without\nerrors, it will mess up the replication and gets never fixed. This\nhappens for example if one of the keys is a NULL byte.\n\nThis patch checks if the dict keys in hashes.pkl are valid strings and\ninvalidates it if not.\n\nCloses-Bug: 1830881\nChange-Id: I84b062d062ff49935feed0aee3e1963bb72eb5ea\n(cherry picked from commit c9e78d15e1e05f23facf7c28758b442bb25bde68)\n(cherry picked from commit 46da6c1c01bc8beaf9a2b0a46122376b1bc7441f)\n'}]",0,690737,b90c87158df46513489f64e34224de7424859874,12,3,1,15343,,,0,"Remove invalid dict entries from hashes.pkl

If the data in a hashes.pkl is corrupted but still de-serialized without
errors, it will mess up the replication and gets never fixed. This
happens for example if one of the keys is a NULL byte.

This patch checks if the dict keys in hashes.pkl are valid strings and
invalidates it if not.

Closes-Bug: 1830881
Change-Id: I84b062d062ff49935feed0aee3e1963bb72eb5ea
(cherry picked from commit c9e78d15e1e05f23facf7c28758b442bb25bde68)
(cherry picked from commit 46da6c1c01bc8beaf9a2b0a46122376b1bc7441f)
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/690737/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",2,b90c87158df46513489f64e34224de7424859874,bug/1830881, # Check for corrupted data that could break os.listdir() for suffix in hashes.keys(): if not suffix.isalnum(): return {'valid': False} ,,11,0
openstack%2Fswift~master~I6b968d3707fede6d62974c31e1b741c81ed66907,openstack/swift,master,I6b968d3707fede6d62974c31e1b741c81ed66907,Add libsrvg2 packages to bindep,NEW,2019-11-08 16:18:44.000000000,2019-11-08 17:33:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-08 16:18:44.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/9ce803d1283a6d25e8962052db201817a82d2633', 'message': 'Add libsrvg2 packages to bindep\n\nlibsrvg2 is needed for sphinxcontrib-svg2pdfconverter in docs builds.\n\nChange-Id: I6b968d3707fede6d62974c31e1b741c81ed66907\n'}]",0,693557,9ce803d1283a6d25e8962052db201817a82d2633,2,1,1,9625,,,0,"Add libsrvg2 packages to bindep

libsrvg2 is needed for sphinxcontrib-svg2pdfconverter in docs builds.

Change-Id: I6b968d3707fede6d62974c31e1b741c81ed66907
",git fetch https://review.opendev.org/openstack/swift refs/changes/57/693557/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,9ce803d1283a6d25e8962052db201817a82d2633,bindep_docs, # libsrvg2 is needed for sphinxcontrib-svg2pdfconverter in docs builds. librsvg2-tools [doc platform:rpm] librsvg2-bin [doc platform:dpkg],,4,0
openstack%2Ftripleo-ci~master~Ia89f612540e50a4f917c57d6b85ceb28a73b09ff,openstack/tripleo-ci,master,Ia89f612540e50a4f917c57d6b85ceb28a73b09ff,Allow to specify custom version_hash,MERGED,2019-06-14 09:52:09.000000000,2019-11-08 17:17:55.000000000,2019-11-08 17:17:55.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-14 09:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6f786f2461cf45e73589c70d02aee98b76c088dc', 'message': '[DNM] Allow to specify custom version_hash\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 2, 'created': '2019-06-17 11:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/568be6ab0ff66bf01e12f2efbf9498c59d5e6a87', 'message': '[DNM] Allow to specify custom version_hash\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 3, 'created': '2019-10-25 07:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0b49847020ba7bf71e859fd5c3a4c69a027e56a3', 'message': '[DNM] Allow to specify custom version_hash\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 4, 'created': '2019-10-25 08:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c56d5129cfaab6d4b0e927c49ac660be0b6b334f', 'message': '[DNM] Allow to specify custom version_hash\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 5, 'created': '2019-10-25 09:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5e5e3ea67c995dc5b8270be81a78c41e19562efb', 'message': '[DNM] Allow to specify custom version_hash\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 6, 'created': '2019-10-25 11:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/04fb7ab76c32dd6f815255919aa3f1c277891715', 'message': '[DNM] Allow to specify custom version_hash\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 7, 'created': '2019-10-30 04:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b285f3a8e0beda6018baa8c33b7c56a3ce1ecd6f', 'message': '[DNM] Allow to specify custom version_hash\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 8, 'created': '2019-11-01 05:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/553b4eac9a42728a46b6654481dc84fdcf0922ff', 'message': '[DNM] Allow to specify custom version_hash\n\nHandle branches with name containing cloudsig/.\n\nAlso allow passing vars to run-test role.\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 9, 'created': '2019-11-01 07:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cd6bbe6714ee59a6bebb5564f3923fd403253da5', 'message': '[DNM] Allow to specify custom version_hash\n\nHandle branches with name containing cloudsig/.\n\nAlso allow passing vars to run-test role.\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 10, 'created': '2019-11-01 09:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/18152df2af40c4b0184fe6d4973b883689a564db', 'message': '[DNM] Allow to specify custom version_hash\n\nHandle branches with name containing cloudsig/.\n\nAlso allow passing vars to run-test role.\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 11, 'created': '2019-11-01 09:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a9410dc65b920f16df69be462d3d7cb39988dd82', 'message': '[DNM] Allow to specify custom version_hash\n\nHandle branches with name containing cloudsig/.\n\nAlso allow passing vars to run-test role.\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 12, 'created': '2019-11-01 10:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e13fbfd80f2f4dde36b356ab79a296516ab9a91b', 'message': '[DNM] Allow to specify custom version_hash\n\nHandle branches with name containing cloudsig/.\n\nAlso allow passing vars to run-test role.\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 13, 'created': '2019-11-01 11:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/376d205feab7eed67ba5365424848caa8f7d29b2', 'message': '[DNM] Allow to specify custom version_hash\n\nHandle branches with name containing cloudsig/.\n\nAlso allow passing vars to run-test role.\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 14, 'created': '2019-11-01 17:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/38feb07032dbd8b196da877d9eeece6739d78f71', 'message': '[DNM] Allow to specify custom version_hash\n\nHandle branches with name containing cloudsig/.\n\nAlso allow passing vars to run-test role.\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 15, 'created': '2019-11-04 06:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e080c15effba2d31718201c36240de0f1867e0e1', 'message': 'Allow to specify custom version_hash\n\nHandle branches with name containing cloudsig/.\n\nAlso allow passing vars to run-test role, this is\nmainly needed when run-test role is called with zuul\nplaybooks and need to pass variables to it so it can\nbe forwarded to nested quickstart ansible.\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}, {'number': 16, 'created': '2019-11-07 10:26:10.000000000', 'files': ['roles/run-test/templates/role-vars.j2', 'roles/run-test/tasks/main.yaml', 'roles/common/vars/main.yaml', 'roles/run-test/templates/common_vars.bash.j2', 'roles/build-containers/tasks/main.yaml', 'roles/run-test/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7c18d920b32d7d347da0a0f15b3d82834cabc742', 'message': 'Allow to specify custom version_hash\n\nHandle branches with name containing cloudsig/.\n\nAlso allow passing vars to run-test role, this is\nmainly needed when run-test role is called with zuul\nplaybooks and need to pass variables to it so it can\nbe forwarded to nested quickstart ansible.\n\nChange-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff\n'}]",21,665345,7c18d920b32d7d347da0a0f15b3d82834cabc742,49,9,16,13861,,,0,"Allow to specify custom version_hash

Handle branches with name containing cloudsig/.

Also allow passing vars to run-test role, this is
mainly needed when run-test role is called with zuul
playbooks and need to pass variables to it so it can
be forwarded to nested quickstart ansible.

Change-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/45/665345/6 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/tasks/main.yaml', 'zuul.d/layout.yaml']",2,6f786f2461cf45e73589c70d02aee98b76c088dc,cloudsig-containers,," templates: - tripleo-build-containers-jobs - tripleo-multinode-baremetal-full - tripleo-multinode-branchful - tripleo-multinode-container-full - tripleo-multinode-experimental - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-periodic - openstack-tox-molecule check: jobs: - openstack-tox-linters - openstack-tox-py27: &files success-url: ""tox/reports.html"" failure-url: ""tox/reports.html"" files: - ^bindep.txt$ - ^requirements.txt$ - ^scripts/emit_releases_file/.*$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ - openstack-tox-py35: <<: *files - tripleo-buildimage-overcloud-full-centos-7: files: - ^playbooks/tripleo-buildimage/.*$ - tripleo-buildimage-ironic-python-agent-centos-7: files: - ^playbooks/tripleo-buildimage/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-7: files: - ^playbooks/tripleo-buildimage/.*$ - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario008-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario009-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario012-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$",7,58
openstack%2Fopenstack-ansible-os_placement~master~I281d8974ee22e65da8d03c6784bcbbbe79648351,openstack/openstack-ansible-os_placement,master,I281d8974ee22e65da8d03c6784bcbbbe79648351,"Revert ""Add nova to placement DB migration""",MERGED,2019-11-01 18:52:52.000000000,2019-11-08 17:05:44.000000000,2019-11-08 17:04:43.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-01 18:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/670295f689094ee5e78f47f9a25b80c9ff0ff52d', 'message': 'Revert ""Add nova to placement DB migration""\n\nAs nova_placement -> placement takes place in S->T upgrade,\nwe don\'t need this code anymore, as S->U is not supported anyway,\nand T->U don\'t need placement to be migrated again\n\nThis reverts commit 3d6cedf85985ae9c658ee02f3c68c98e969c0f29.\n\nChange-Id: I281d8974ee22e65da8d03c6784bcbbbe79648351\n'}, {'number': 2, 'created': '2019-11-01 18:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/906101d0bf4d42cacc4b0ea3ed6c03ea5391b54d', 'message': 'Revert ""Add nova to placement DB migration""\n\nAs nova_placement -> placement takes place in S->T upgrade,\nwe don\'t need this code anymore, as S->U is not supported anyway,\nand T->U don\'t need placement to be migrated again\n\nThis reverts commit 3d6cedf85985ae9c658ee02f3c68c98e969c0f29.\n\nChange-Id: I281d8974ee22e65da8d03c6784bcbbbe79648351\n'}, {'number': 3, 'created': '2019-11-07 15:03:03.000000000', 'files': ['tasks/placement_post_install.yml', 'tasks/placement_db_sync.yml', 'templates/placement-migrate-db.rc.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/5c0a44c4df9c167edae7330ec4e603131da0aa75', 'message': 'Revert ""Add nova to placement DB migration""\n\nAs nova_placement -> placement takes place in S->T upgrade,\nwe don\'t need this code anymore, as S->U is not supported anyway,\nand T->U don\'t need placement to be migrated again\n\nThis reverts commit 3d6cedf85985ae9c658ee02f3c68c98e969c0f29.\n\nDepends-On: https://review.opendev.org/692509\nChange-Id: I281d8974ee22e65da8d03c6784bcbbbe79648351\n'}]",0,692602,5c0a44c4df9c167edae7330ec4e603131da0aa75,15,6,3,28619,,,0,"Revert ""Add nova to placement DB migration""

As nova_placement -> placement takes place in S->T upgrade,
we don't need this code anymore, as S->U is not supported anyway,
and T->U don't need placement to be migrated again

This reverts commit 3d6cedf85985ae9c658ee02f3c68c98e969c0f29.

Depends-On: https://review.opendev.org/692509
Change-Id: I281d8974ee22e65da8d03c6784bcbbbe79648351
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/02/692602/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/placement_post_install.yml', 'tasks/placement_db_sync.yml', 'templates/placement-migrate-db.rc.j2']",3,670295f689094ee5e78f47f9a25b80c9ff0ff52d,placement_db_migration,,"NOVA_API_DB=""{{ nova_api_galera_database | default('nova_api') }}"" NOVA_API_USER=""{{ nova_api_galera_user | default('nova_api') }}"" NOVA_API_PASS=""{{ nova_api_container_mysql_password }}"" NOVA_API_DB_HOST=""{{ nova_api_galera_address | default(placement_galera_address) }}"" PLACEMENT_DB=""{{ placement_galera_database }}"" PLACEMENT_USER=""{{ placement_galera_user }}"" PLACEMENT_PASS=""{{ placement_galera_password }}"" PLACEMENT_DB_HOST=""{{ placement_galera_address }}"" MIGRATE_TABLES=""allocations placement_aggregates consumers inventories projects resource_classes resource_provider_aggregates resource_provider_traits resource_providers traits users"" ",0,35
openstack%2Fcharm-vault~master~Ie0a19ff7af99620506734ce89909c2b4a5e96ca7,openstack/charm-vault,master,Ie0a19ff7af99620506734ce89909c2b4a5e96ca7,Add missing repo to layers.yaml,MERGED,2019-07-30 22:16:34.000000000,2019-11-08 16:48:04.000000000,2019-11-08 16:48:04.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 22:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/7bc28329815afbb4a9e3525e29cb8b621f1137ac', 'message': 'Add missing repo to layers.yaml\n\nWithout it, it will inherit from other layers and display incorrectly\nin the charm store, see LP: #1833502\n\nChange-Id: Ie0a19ff7af99620506734ce89909c2b4a5e96ca7\nCloses-Bug: 1833502\n'}, {'number': 2, 'created': '2019-08-16 22:10:04.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b025be42f361ac26d0df7615f4bcd4df81e34618', 'message': 'Add missing repo to layers.yaml\n\nWithout it, it will inherit from other layers and display incorrectly\nin the charm store, see LP: #1833502\n\nChange-Id: Ie0a19ff7af99620506734ce89909c2b4a5e96ca7\nCloses-Bug: 1833502\n'}]",0,673705,b025be42f361ac26d0df7615f4bcd4df81e34618,13,4,2,8097,,,0,"Add missing repo to layers.yaml

Without it, it will inherit from other layers and display incorrectly
in the charm store, see LP: #1833502

Change-Id: Ie0a19ff7af99620506734ce89909c2b4a5e96ca7
Closes-Bug: 1833502
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/05/673705/2 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,7bc28329815afbb4a9e3525e29cb8b621f1137ac,bug/1833502,repo: https://opendev.org/openstack/charm-vault.git,,1,0
openstack%2Fcastellan~master~I10a12b9a2a7f796eca37dd20a280d3a4015a6903,openstack/castellan,master,I10a12b9a2a7f796eca37dd20a280d3a4015a6903,Reuse existing token from RequestContext,MERGED,2019-06-03 19:15:29.000000000,2019-11-08 16:28:52.000000000,2019-11-08 16:27:43.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 7973}, {'_account_id': 8478}, {'_account_id': 9542}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-06-03 19:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/aedbec0dda3701218ad3bddf20a3550fbf72cd50', 'message': ""Reuse existing token to request info from barbican\n\nWhen castellan trying to recreate trust-scoped token\nkeystone throw exception because it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from request context.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 2, 'created': '2019-06-04 13:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/13b48c56520b5ac8020c1da7ee256c7c3133c4b2', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 3, 'created': '2019-06-04 14:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/1c30c8b21c767daed457b090d73e316613e8e10c', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 4, 'created': '2019-06-04 14:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/cebe61ddd65d982ad5bd07d82c359f2708a316e5', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 5, 'created': '2019-06-04 16:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/7f0dcfca0f249fd8ca61e3d7ef5b33ea2e89129b', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 6, 'created': '2019-06-05 06:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/674df1aaa3418e809252a6e8ba664dac7f2c2710', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 7, 'created': '2019-06-05 12:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/b73049c5551fc05e5d3131672062c84b9e5ade3d', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 8, 'created': '2019-06-05 13:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/35a4aef58e41f97a2828bef2a8b7f0b8de249ba4', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 9, 'created': '2019-06-10 08:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/d3ecf474dd363d3f45d5ea047523501357cff591', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 10, 'created': '2019-06-10 10:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/5498783c74d7f6c934b948c47c8f059922d97251', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 11, 'created': '2019-06-10 10:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/6ac98f2714a8c8c8fe321055e98819d2f54ba8e8', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 12, 'created': '2019-06-10 14:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/3729acd8d95a601cf722d0cbfd9e05f2e46747b8', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 13, 'created': '2019-06-11 08:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/14dbc112ba3cd740e2b4405e2a7c19af0d2c120e', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\n""}, {'number': 14, 'created': '2019-06-11 11:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/ae846840506da327577e991287258c082793c831', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\nDepends-On: Ie865107dcb39bc078dbc669ba64989dc1ea62a64\n""}, {'number': 15, 'created': '2019-06-11 13:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/9f994581a23fba4aa9cf82a362d93227a0cb72e7', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\nDepends-On: https://review.opendev.org/#/c/664558/\n""}, {'number': 16, 'created': '2019-06-13 11:45:24.000000000', 'files': ['castellan/tests/unit/key_manager/test_barbican_key_manager.py', 'castellan/key_manager/barbican_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/5d936763380b9d97df409de2d33b3e9b98d61a94', 'message': ""Reuse existing token from RequestContext\n\nWhen castellan trying to recreate trust-scoped token\nfrom RequestContext keystone throw exception\nbecause it's not allowed.\nStarting from this commit castellan trying to\nreuse existing token constructed from RequestContext\nif get_auth_plugin() is available.\n\nChange-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903\nCloses-Bug: #1827047\nDepends-On: https://review.opendev.org/#/c/664558/\n""}]",5,662830,5d936763380b9d97df409de2d33b3e9b98d61a94,47,9,16,8478,,,0,"Reuse existing token from RequestContext

When castellan trying to recreate trust-scoped token
from RequestContext keystone throw exception
because it's not allowed.
Starting from this commit castellan trying to
reuse existing token constructed from RequestContext
if get_auth_plugin() is available.

Change-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903
Closes-Bug: #1827047
Depends-On: https://review.opendev.org/#/c/664558/
",git fetch https://review.opendev.org/openstack/castellan refs/changes/30/662830/16 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/tests/unit/key_manager/test_migration_key_manager.py', 'castellan/tests/unit/key_manager/test_barbican_key_manager.py', 'castellan/key_manager/barbican_key_manager.py']",3,aedbec0dda3701218ad3bddf20a3550fbf72cd50,," auth = context.get_auth_plugin() barbican_endpoint = self._get_barbican_endpoint(auth, sess) endpoint=barbican_endpoint) barbican_endpoint) def _create_base_url(self, auth, endpoint): api_version = '' endpoint_data = auth.service_catalog.endpoint_data_for( service_type='key-manager') api_version = endpoint_data.api_version if not api_version: return endpoint","from keystoneauth1 import identity auth = self._get_keystone_auth(context) self._barbican_endpoint = self._get_barbican_endpoint(auth, sess) endpoint=self._barbican_endpoint) sess, self._barbican_endpoint) def _get_keystone_auth(self, context): if context.__class__.__name__ is 'KeystonePassword': return identity.Password( auth_url=context.auth_url, username=context.username, password=context.password, user_id=context.user_id, user_domain_id=context.user_domain_id, user_domain_name=context.user_domain_name, trust_id=context.trust_id, domain_id=context.domain_id, domain_name=context.domain_name, project_id=context.project_id, project_name=context.project_name, project_domain_id=context.project_domain_id, project_domain_name=context.project_domain_name, reauthenticate=context.reauthenticate) elif context.__class__.__name__ is 'KeystoneToken': return identity.Token( auth_url=context.auth_url, token=context.token, trust_id=context.trust_id, domain_id=context.domain_id, domain_name=context.domain_name, project_id=context.project_id, project_name=context.project_name, project_domain_id=context.project_domain_id, project_domain_name=context.project_domain_name, reauthenticate=context.reauthenticate) # this will be kept for oslo.context compatibility until # projects begin to use utils.credential_factory elif context.__class__.__name__ is 'RequestContext': return identity.Token( auth_url=self.conf.barbican.auth_endpoint, token=context.auth_token, project_id=context.project_id, project_name=context.project_name, project_domain_id=context.project_domain_id, project_domain_name=context.project_domain_name) else: msg = _(""context must be of type KeystonePassword, "" ""KeystoneToken, or RequestContext."") LOG.error(msg) raise exception.Forbidden(reason=msg) def _create_base_url(self, auth, sess, endpoint): discovery = auth.get_discovery(sess, url=endpoint) raw_data = discovery.raw_version_data() if len(raw_data) == 0: msg = _( ""Could not find discovery information for %s"") % endpoint LOG.error(msg) raise exception.KeyManagerError(reason=msg) latest_version = raw_data[-1] api_version = latest_version.get('id')",12,89
openstack%2Fswift~master~I6d1f9a8f449744812f164aa4885c23fb35eab16c,openstack/swift,master,I6d1f9a8f449744812f164aa4885c23fb35eab16c,WIP: fix DB status replication,NEW,2019-11-07 07:17:28.000000000,2019-11-08 16:27:45.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 07:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d69a802b612b6954ff50a1619e524a684f08d08', 'message': 'WIP: fix DB status replication\n\nChange-Id: I6d1f9a8f449744812f164aa4885c23fb35eab16c\n'}, {'number': 2, 'created': '2019-11-08 08:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/29faf90598fe591809d7d50781a4a5a65f55a772', 'message': 'WIP: fix DB status replication\n\nChange-Id: I6d1f9a8f449744812f164aa4885c23fb35eab16c\n'}, {'number': 3, 'created': '2019-11-08 15:17:11.000000000', 'files': ['swift/account/backend.py', 'swift/common/db.py', 'test/unit/common/test_db_replicator.py', 'test/probe/test_account_replicates_delete_status.py', 'swift/common/db_replicator.py', 'test/unit/common/test_db.py', 'swift/container/replicator.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9ac1cb4aa3fb267ba1536cc310427fada9ef1d7d', 'message': 'WIP: fix DB status replication\n\nChange-Id: I6d1f9a8f449744812f164aa4885c23fb35eab16c\n'}]",12,693299,9ac1cb4aa3fb267ba1536cc310427fada9ef1d7d,9,3,3,15343,,,0,"WIP: fix DB status replication

Change-Id: I6d1f9a8f449744812f164aa4885c23fb35eab16c
",git fetch https://review.opendev.org/openstack/swift refs/changes/99/693299/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'swift/account/backend.py', 'swift/common/db.py', 'test/unit/common/test_db_replicator.py', 'swift/common/memcached.py', 'test/probe/test_account_replicates_delete_status.py', 'swift/common/db_replicator.py', 'test/unit/common/test_db.py', 'swift/container/backend.py']",9,5d69a802b612b6954ff50a1619e524a684f08d08,693299," delete_timestamp, status, status_changed_at,"," delete_timestamp, status_changed_at,",203,53
openstack%2Fopenstack-ansible-repo_server~stable%2Ftrain~I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,openstack/openstack-ansible-repo_server,stable/train,I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,Add possibility to overwrite nginx public repo,MERGED,2019-11-08 09:47:22.000000000,2019-11-08 16:22:26.000000000,2019-11-08 16:21:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-08 09:47:22.000000000', 'files': ['tasks/repo_install.yml', 'vars/redhat.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/cf4ad43ca84262ff26cde6a03a243472e9e5e06b', 'message': 'Add possibility to overwrite nginx public repo\n\nFor Centos, we use by default public repo for nginx. You can change this\nbehaviour with these role-wide variables:\n- repo_centos_nginx_mirror\n- repo_centos_nginx_key\n\nOr with these osa-wide variables:\n- centos_nginx_mirror\n- centos_nginx_key\n\nChange-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c\n(cherry picked from commit bd8a24716c519badc985aceb08d00b113ab5f857)\n'}]",0,693507,cf4ad43ca84262ff26cde6a03a243472e9e5e06b,8,3,1,23182,,,0,"Add possibility to overwrite nginx public repo

For Centos, we use by default public repo for nginx. You can change this
behaviour with these role-wide variables:
- repo_centos_nginx_mirror
- repo_centos_nginx_key

Or with these osa-wide variables:
- centos_nginx_mirror
- centos_nginx_key

Change-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c
(cherry picked from commit bd8a24716c519badc985aceb08d00b113ab5f857)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/07/693507/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_install.yml', 'vars/redhat.yml', 'defaults/main.yml']",3,cf4ad43ca84262ff26cde6a03a243472e9e5e06b,Offline_repo-stable/train,"## Centos NGINX repository options repo_centos_nginx_mirror: ""{{ centos_nginx_mirror | default('http://nginx.org/packages/centos/7/$basearch/') }}"" repo_centos_nginx_key: ""{{ centos_nginx_key | default('http://nginx.org/keys/nginx_signing.key') }}"" ",,6,4
openstack%2Ftripleo-docs~master~I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5,openstack/tripleo-docs,master,I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5,tripleo-ci ruck|rover and promotions docs,MERGED,2019-10-18 15:49:21.000000000,2019-11-08 16:15:10.000000000,2019-11-08 16:13:25.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-10-18 15:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/bda834e0414a9ec7250cddbeb7b7627c7a20f334', 'message': 'WIP: tripleo-ci ruck|rover and promotions docs\n\nWIP needs more work posting what i have for first pass\n\nChange-Id: I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5\n'}, {'number': 2, 'created': '2019-10-30 13:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a60766a583115336db59908b1181e63956bbee70', 'message': 'tripleo-ci ruck|rover and promotions docs\n\nSome docs about the promotion process from the ruck|rover\nperspective and note about testproject and periodics\n\nChange-Id: I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5\n'}, {'number': 3, 'created': '2019-10-30 13:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/43a4d6402353c8543a4bc529dc470b9a364c630e', 'message': 'tripleo-ci ruck|rover and promotions docs\n\nSome docs about the promotion process from the ruck|rover\nperspective and note about testproject and periodics\n\nChange-Id: I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5\n'}, {'number': 4, 'created': '2019-10-31 10:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a96dfe432cd8ded9237f93961c78becc72b8c44e', 'message': 'tripleo-ci ruck|rover and promotions docs\n\nSome docs about the promotion process from the ruck|rover\nperspective and note about testproject and periodics\n\nChange-Id: I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5\n'}, {'number': 5, 'created': '2019-10-31 15:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a632abec0640c3e86e79648349d1be6e85a8c18e', 'message': 'tripleo-ci ruck|rover and promotions docs\n\nSome docs about the promotion process from the ruck|rover\nperspective and note about testproject and periodics\n\nChange-Id: I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5\n'}, {'number': 6, 'created': '2019-11-01 10:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b8496166caa0a4f5e35694fbfc52ac63d8481289', 'message': 'tripleo-ci ruck|rover and promotions docs\n\nSome docs about the promotion process from the ruck|rover\nperspective and note about testproject and periodics\n\nChange-Id: I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5\n'}, {'number': 7, 'created': '2019-11-04 15:51:37.000000000', 'files': ['doc/source/ci/chasing_promotions.rst', 'doc/source/ci/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/508ffb72645feeaeba8a49c45c4654c186a3cb8f', 'message': 'tripleo-ci ruck|rover and promotions docs\n\nSome docs about the promotion process from the ruck|rover\nperspective and note about testproject and periodics\n\nChange-Id: I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5\n'}]",18,689530,508ffb72645feeaeba8a49c45c4654c186a3cb8f,31,10,7,8449,,,0,"tripleo-ci ruck|rover and promotions docs

Some docs about the promotion process from the ruck|rover
perspective and note about testproject and periodics

Change-Id: I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/30/689530/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ci/chasing_promotions.rst', 'doc/source/ci/index.rst']",2,bda834e0414a9ec7250cddbeb7b7627c7a20f334,I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5, chasing_promotions,,78,0
openstack%2Ftripleo-docs~master~I75ca305e9f5c994f06ccfbfebb1ef53d36e83dfd,openstack/tripleo-docs,master,I75ca305e9f5c994f06ccfbfebb1ef53d36e83dfd,tox: Keeping going with docs,MERGED,2019-11-02 18:38:09.000000000,2019-11-08 16:03:27.000000000,2019-11-08 16:02:20.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 18:38:09.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b53091fd4b25a6c1ba84b2859754143606f8f40e', 'message': 'tox: Keeping going with docs\n\nChange-Id: I75ca305e9f5c994f06ccfbfebb1ef53d36e83dfd\n'}]",0,692685,b53091fd4b25a6c1ba84b2859754143606f8f40e,8,3,1,30356,,,0,"tox: Keeping going with docs

Change-Id: I75ca305e9f5c994f06ccfbfebb1ef53d36e83dfd
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/85/692685/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,b53091fd4b25a6c1ba84b2859754143606f8f40e,, sphinx-build -a -E -W -d doc/build/doctrees --keep-going -b html doc/source doc/build/html sphinx-build --keep-going -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d deploy-guide/build/doctrees --keep-going -b html deploy-guide/source deploy-guide/build/html, sphinx-build -a -E -W -d doc/build/doctrees -b html doc/source doc/build/html sphinx-build -b latex doc/source doc/build/pdfcommands = sphinx-build -a -E -W -d deploy-guide/build/doctrees -b html deploy-guide/source deploy-guide/build/html,4,4
