id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Felection~master~Ic9e8e3e061d824ca2e90774c9b267c473cc0d3a6,openstack/election,master,Ic9e8e3e061d824ca2e90774c9b267c473cc0d3a6,Adding Takashi Kajinami candidacy for Storlets PTL,MERGED,2022-02-14 17:00:28.000000000,2022-02-14 21:59:23.000000000,2022-02-14 21:57:47.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 17:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/96fc2d9f0a1f5a387a52e5be6d0e7430b3b31c1c', 'message': 'Adding Takashi Kajinami candidacy for Storlets PTL\n\nChange-Id: Ic9e8e3e061d824ca2e90774c9b267c473cc0d3a6\n'}, {'number': 2, 'created': '2022-02-14 17:02:56.000000000', 'files': ['candidates/z/Storlets/tkajinam@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/f4e6c1333ce09faf439c302ac7e545db8a95aeda', 'message': 'Adding Takashi Kajinami candidacy for Storlets PTL\n\nChange-Id: Ic9e8e3e061d824ca2e90774c9b267c473cc0d3a6\n'}]",2,829112,f4e6c1333ce09faf439c302ac7e545db8a95aeda,9,3,2,9816,,,0,"Adding Takashi Kajinami candidacy for Storlets PTL

Change-Id: Ic9e8e3e061d824ca2e90774c9b267c473cc0d3a6
",git fetch https://review.opendev.org/openstack/election refs/changes/12/829112/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Storlets/tkajinam@redhat.com'],1,96fc2d9f0a1f5a387a52e5be6d0e7430b3b31c1c,storlets-z,"Hi All, I'd like to announce my candidacy for PTL of Storlets for the z release cycle, continuining the role from past several cycles. The biggest change we're expecting for this cycle is removal of Python 2 support, following the same in Swift, which was recently announced[1]. We don't expect any challenges at this moment as Storlets has been fully complatble with Python 3 for several cycles, but the remaining work to clean up items left to keep Python 2 supoort (Python 2 jobs, for example) is our priority. [1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026925.html Thank you for your consideration. Thank you, Takashi ",,19,0
openstack%2Felection~master~I4f52817a92da41af299d8635d156ea1346f74e3a,openstack/election,master,I4f52817a92da41af299d8635d156ea1346f74e3a,Adding Takashi Kajinami candidacy for Puppet OpenStack PTL,MERGED,2022-02-14 17:31:00.000000000,2022-02-14 21:57:49.000000000,2022-02-14 21:57:49.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 17:31:00.000000000', 'files': ['candidates/z/Puppet_OpenStack/tkajinam@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/ae87c0ee4c4bd5d28edb9a4c429be6d0c4145307', 'message': 'Adding Takashi Kajinami candidacy for Puppet OpenStack PTL\n\nChange-Id: I4f52817a92da41af299d8635d156ea1346f74e3a\n'}]",2,829117,ae87c0ee4c4bd5d28edb9a4c429be6d0c4145307,7,3,1,9816,,,0,"Adding Takashi Kajinami candidacy for Puppet OpenStack PTL

Change-Id: I4f52817a92da41af299d8635d156ea1346f74e3a
",git fetch https://review.opendev.org/openstack/election refs/changes/17/829117/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Puppet_OpenStack/tkajinam@redhat.com'],1,ae87c0ee4c4bd5d28edb9a4c429be6d0c4145307,puppet-z,"Hello, I'd like to announce my candidacy for the PTL role in Puppet OpenStack, for the Z release cycle. I've been involved in the project for a few years. I joined the core reviers of the project in 2020. My contribution started with adding a few parameters but nowdays I'm covering literally all modules to keep these modules consistent with the latest service implementation, as well as helping release management. I'll list up some important items for the upcoming Z-release, which I'd like to prioritize. - Keep our implementation up to date and clean up old items to keep codes as much simple as possible. - Extend support for Secure RBAC. We are adding partial support to enforce Secure RBAC in Keystone durign Yoga. - Stabilize support for CentOS 9 Stream, which we are adding for Yoga. - Add support for the new Ubuntu LTS. - Improve scenario/component coverage by CI. Finally, as we are currently a small team, we always welcome new contributors, reviewers or whoever interested in helping the project ! Thank you for your consideration. Thank you, Takashi ",,33,0
openstack%2Felection~master~If55abf1a47b8d2ea95e4b6b26622f9ae98b83da7,openstack/election,master,If55abf1a47b8d2ea95e4b6b26622f9ae98b83da7,Adding Michael Johnson candidacy for Designate,MERGED,2022-02-14 16:02:07.000000000,2022-02-14 21:53:37.000000000,2022-02-14 21:52:02.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 16:02:07.000000000', 'files': ['candidates/z/Designate/johnsomor@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/28f6b9f88daa7fdcfb38e13400fde0903c4542b0', 'message': 'Adding Michael Johnson candidacy for Designate\n\nChange-Id: If55abf1a47b8d2ea95e4b6b26622f9ae98b83da7\n'}]",2,829065,28f6b9f88daa7fdcfb38e13400fde0903c4542b0,8,3,1,11628,,,0,"Adding Michael Johnson candidacy for Designate

Change-Id: If55abf1a47b8d2ea95e4b6b26622f9ae98b83da7
",git fetch https://review.opendev.org/openstack/election refs/changes/65/829065/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Designate/johnsomor@gmail.com'],1,28f6b9f88daa7fdcfb38e13400fde0903c4542b0,,"Hello OpenStack community, I would like to announce my candidacy for PTL of Designate for the ""Z"" cycle. I would like to continue to support the Designate team for the ""Z"" release. We have made good progress improving the Designate tempest tests and documentation, but we have more work to do. The team has also been focusing on cleaning up some of the accumulated technical debt, which I expect will continue into the ""Z"" cycle. Thank you for your support and your consideration for ""Z"", Michael Johnson (johnsom) ",,15,0
openstack%2Fpuppet-ec2api~master~Ia9141906bdac3d9b32cdfd2255c87579d153b8a7,openstack/puppet-ec2api,master,Ia9141906bdac3d9b32cdfd2255c87579d153b8a7,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:36:09.000000000,2022-02-14 21:44:17.000000000,2022-02-14 21:42:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 16:36:09.000000000', 'files': ['lib/puppet/type/ec2api_api_paste_ini.rb', 'releasenotes/notes/api_paste_ini-separator-64712897b0b9f878.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/6b8356112ba5cfe68600acbdde53ccc09bc10c45', 'message': 'Allow customizing separator for api-paste.ini\n\nThe api-paste.ini accepts not only ""="" but also "":"" and some services\nlike Barbican have been using "":"" for their default api-paste.ini\nfiles.\n\n[composite:main]\nuse = egg:Paste#urlmap\n/: barbican_version\n/v1: barbican-api-keystone\n\nThis change allows users to use "":"" so that they can update the ini\nfiles with keeping it consistent with the default fules\n\nDepends-on: https://review.opendev.org/813614\nChange-Id: Ia9141906bdac3d9b32cdfd2255c87579d153b8a7\n'}]",1,828957,6b8356112ba5cfe68600acbdde53ccc09bc10c45,10,3,1,9816,,,0,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: Ia9141906bdac3d9b32cdfd2255c87579d153b8a7
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/57/828957/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/ec2api_api_paste_ini.rb', 'releasenotes/notes/api_paste_ini-separator-64712897b0b9f878.yaml']",2,6b8356112ba5cfe68600acbdde53ccc09bc10c45,paste-ini-sep,--- features: - | The new ``key_val_separator`` parameter has been added to the ``ec2api_api_paste_ini`` resource type. ,,10,0
openstack%2Fgovernance~master~I56eff178cd59ca1f40bedc45f12a9a888948e015,openstack/governance,master,I56eff178cd59ca1f40bedc45f12a9a888948e015,Switch Keystone to DPL,MERGED,2021-03-31 14:08:41.000000000,2022-02-14 20:34:57.000000000,2021-04-07 15:04:10.000000000,"[{'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-31 14:08:41.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/48a02a308e73eb0c2fc57c758b23e1b1c25f66bb', 'message': 'Switch Keystone to DPL\n\nThis patch switches Keystone to the distributed leadership model.\n\nChange-Id: I56eff178cd59ca1f40bedc45f12a9a888948e015\n'}]",0,784102,48a02a308e73eb0c2fc57c758b23e1b1c25f66bb,15,8,1,16465,,,0,"Switch Keystone to DPL

This patch switches Keystone to the distributed leadership model.

Change-Id: I56eff178cd59ca1f40bedc45f12a9a888948e015
",git fetch https://review.opendev.org/openstack/governance refs/changes/02/784102/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,48a02a308e73eb0c2fc57c758b23e1b1c25f66bb,formal-vote, leadership_type: distributed release: - name: Kristi Nikolla irc: knikolla email: knikolla@bu.edu tact-sig: - name: Kristi Nikolla irc: knikolla email: knikolla@bu.edu security: - name: Gage Hugo irc: gagehugo email: gagehugo@gmail.com, ptl: name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org,13,4
openstack%2Fpython-designateclient~master~I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef,openstack/python-designateclient,master,I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef,Add profiling support to designateclient,MERGED,2021-02-02 06:54:53.000000000,2022-02-14 20:31:46.000000000,2022-02-14 20:30:09.000000000,"[{'_account_id': 11628}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}, {'_account_id': 32881}]","[{'number': 1, 'created': '2021-02-02 06:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/8dc4f6166509a8d914bb539e8f10fa6ee665d150', 'message': ""Add profiling support to designateclient\n\nTo be able to create profiling traces for Designate, client should\nbe able to send special HTTP header that contains trace info.\n\nDon't worry no security issue here, trace information is signed by HMAC\nkey that is setted in api-paste.ini. So only person that knows HMAC key\nis able to send proper header.\n\nMain patch (in Designate) is:\nhttps://review.opendev.org/c/openstack/designate/+/773574\n\nChange-Id: I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef\n""}, {'number': 2, 'created': '2021-02-02 08:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/9e4f4d5b306b53e7d24a0883a1f1cc77f47ad1e5', 'message': ""Add profiling support to designateclient\n\nTo be able to create profiling traces for Designate, client should\nbe able to send special HTTP header that contains trace info.\n\nDon't worry no security issue here, trace information is signed by HMAC\nkey that is setted in api-paste.ini. So only person that knows HMAC key\nis able to send proper header.\n\nMain patch (in Designate) is:\nhttps://review.opendev.org/c/openstack/designate/+/773574\n\nChange-Id: I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef\n""}, {'number': 3, 'created': '2021-03-09 00:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/383235b6b2443e3e3eef09de7f23d3193cd17e42', 'message': ""Add profiling support to designateclient\n\nTo be able to create profiling traces for Designate, client should\nbe able to send special HTTP header that contains trace info.\n\nDon't worry no security issue here, trace information is signed by HMAC\nkey that is setted in api-paste.ini. So only person that knows HMAC key\nis able to send proper header.\n\nMain patch (in Designate) is:\nhttps://review.opendev.org/c/openstack/designate/+/773574\n\nChange-Id: I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef\n""}, {'number': 4, 'created': '2021-04-15 08:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/911627e9980a308b7e0b64ddfa403b436331c6f8', 'message': ""Add profiling support to designateclient\n\nTo be able to create profiling traces for Designate, client should\nbe able to send special HTTP header that contains trace info.\n\nDon't worry no security issue here, trace information is signed by HMAC\nkey that is setted in api-paste.ini. So only person that knows HMAC key\nis able to send proper header.\n\nMain patch (in Designate) is:\nhttps://review.opendev.org/c/openstack/designate/+/773574\n\nChange-Id: I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef\n""}, {'number': 5, 'created': '2021-05-07 03:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/48bc0076976fd890ab0648fcaee23cf5039a445e', 'message': ""Add profiling support to designateclient\n\nTo be able to create profiling traces for Designate, client should\nbe able to send special HTTP header that contains trace info.\n\nDon't worry no security issue here, trace information is signed by HMAC\nkey that is setted in api-paste.ini. So only person that knows HMAC key\nis able to send proper header.\n\nMain patch (in Designate) is:\nhttps://review.opendev.org/c/openstack/designate/+/773574\n\nChange-Id: I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef\n""}, {'number': 6, 'created': '2021-11-22 20:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/3d338537d5da1099b5307fbed252301ac5a86b7b', 'message': ""Add profiling support to designateclient\n\nTo be able to create profiling traces for Designate, client should\nbe able to send special HTTP header that contains trace info.\n\nDon't worry no security issue here, trace information is signed by HMAC\nkey that is setted in api-paste.ini. So only person that knows HMAC key\nis able to send proper header.\n\nMain patch (in Designate) is:\nhttps://review.opendev.org/c/openstack/designate/+/773574\n\nChange-Id: I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef\n""}, {'number': 7, 'created': '2021-12-24 17:53:48.000000000', 'files': ['designateclient/v2/client.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/52e9ef4a4112ac5d4108b10c43472b384425a187', 'message': ""Add profiling support to designateclient\n\nTo be able to create profiling traces for Designate, client should\nbe able to send special HTTP header that contains trace info.\n\nDon't worry no security issue here, trace information is signed by HMAC\nkey that is setted in api-paste.ini. So only person that knows HMAC key\nis able to send proper header.\n\nMain patch (in Designate) is:\nhttps://review.opendev.org/c/openstack/designate/+/773574\n\nChange-Id: I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef\n""}]",6,773575,52e9ef4a4112ac5d4108b10c43472b384425a187,29,6,7,32919,,,0,"Add profiling support to designateclient

To be able to create profiling traces for Designate, client should
be able to send special HTTP header that contains trace info.

Don't worry no security issue here, trace information is signed by HMAC
key that is setted in api-paste.ini. So only person that knows HMAC key
is able to send proper header.

Main patch (in Designate) is:
https://review.opendev.org/c/openstack/designate/+/773574

Change-Id: I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/75/773575/1 && git format-patch -1 --stdout FETCH_HEAD,['designateclient/v2/client.py'],1,8dc4f6166509a8d914bb539e8f10fa6ee665d150,bp/designate-os-profiler,"from oslo_utils import importutils try: osprofiler_web = importutils.try_import(""osprofiler.web"") except Exception: pass if osprofiler_web: kwargs['headers'].update(osprofiler_web.get_trace_id_headers()) ",,9,0
openstack%2Fdesignate~master~I2a3787b6428d679555a9add3a57ffe8c2112b6d3,openstack/designate,master,I2a3787b6428d679555a9add3a57ffe8c2112b6d3,Integrate OSprofiler and Designate,MERGED,2021-02-02 06:44:05.000000000,2022-02-14 20:30:48.000000000,2022-02-14 20:28:53.000000000,"[{'_account_id': 11628}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}, {'_account_id': 32881}, {'_account_id': 34181}]","[{'number': 1, 'created': '2021-02-02 06:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e0863ee093a34f72ba56d6fc4eef298971fb8df8', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nRun any command with --profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 2, 'created': '2021-02-02 07:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3c1e584eab70d25041b3437301184e4ac1bf15f8', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 3, 'created': '2021-04-15 03:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f0fd4a0ab351ff4a06fd38288c9f72eebb9ca3a9', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 4, 'created': '2021-05-07 03:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e2e901fc576a269da5fbb52a6d4db21049341653', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 5, 'created': '2021-05-24 07:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0e0f7fc014d10c444185c332940f442d1a0862f2', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 6, 'created': '2021-06-07 03:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cc6a1f8d2a64adc282078d45ed57e36dd45a05dc', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 7, 'created': '2021-07-21 16:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/791c86aa4601735b44aa8c9cc02f07adde7a0667', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 8, 'created': '2021-11-22 20:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5ca7241d2b22a51ab243a29851834f8d956fe8c1', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 9, 'created': '2021-11-22 21:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e13798b314504d23c00c79c5e6e0a09bb703ffe3', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 10, 'created': '2021-11-23 06:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/045983f026f18664e75dfe0dd408a3cf6643ba2d', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 11, 'created': '2021-11-28 00:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a8357e31ce2b0940e65060c73f260e9e6b42204f', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 12, 'created': '2021-12-18 16:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/af8f1b9e30e5cfdc27ed767604b6baa22f675800', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 13, 'created': '2021-12-21 23:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e3d90eefe1d8be3bb94e9998cf5af77ce8f4a74b', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 14, 'created': '2021-12-28 12:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/255910d69bfde88634ffeb8b3b6b8065f2629478', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 15, 'created': '2021-12-28 16:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/39a17e0a46f278edd4986e7c1569e212aa9aca31', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 16, 'created': '2021-12-29 17:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/85bfb0927bf0347d5664dd506b526287e0980071', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 17, 'created': '2021-12-30 12:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8fe37207b30b04ece082f67c4de2ed47c1647484', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 18, 'created': '2022-02-01 04:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/640cf9fe89b7134f8bdd2c15422942bc3a8815d7', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}, {'number': 19, 'created': '2022-02-07 07:12:18.000000000', 'files': ['releasenotes/notes/bp-designate-os-profiler-3f507d5e1e319f3d.yaml', 'designate/tests/__init__.py', 'designate/api/wsgi.py', 'lower-constraints.txt', 'designate/central/rpcapi.py', 'requirements.txt', 'designate/common/profiler.py', 'designate/service.py', 'designate/rpc.py', 'etc/designate/api-paste.ini', 'designate/sqlalchemy/session.py', 'designate/mdns/rpcapi.py', 'designate/worker/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9541a29761db75c4b7b24c216a311214696a0582', 'message': 'Integrate OSprofiler and Designate\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-designateclient with this patch:\n\nhttps://review.opendev.org/#/c/773575\n\nRun any command with --os-profile SECRET_KEY\n\n  $ openstack zone create --email <email_id> <zone_name> \\\n    --os-profile SECRET_KEY\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint designate-os-profiler\nChange-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3\n'}]",45,773574,9541a29761db75c4b7b24c216a311214696a0582,81,7,19,32919,,,0,"Integrate OSprofiler and Designate

*) Add osprofiler wsgi middleware

This middleware is used for 2 things:
1) It checks that person who want to trace is trusted and knows
secret HMAC key.
2) It start tracing in case of proper trace headers and add
first wsgi trace point, with info about HTTP request
*) Add initialization of osprofiler at start of serivce.

You should use python-designateclient with this patch:

https://review.opendev.org/#/c/773575

Run any command with --os-profile SECRET_KEY

  $ openstack zone create --email <email_id> <zone_name> \
    --os-profile SECRET_KEY
  # it will print <Trace ID>

Get pretty HTML with traces:

  $ osprofiler trace show --html <Trace ID> --connection-string \
   <connection_string> --out <output.html>
  e.g. --connection-string can be redis://localhost:6379

Note that osprofiler should be run from admin user name & tenant.

Implements: blueprint designate-os-profiler
Change-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3
",git fetch https://review.opendev.org/openstack/designate refs/changes/74/773574/15 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/rpcapi.py', 'designate/tests/__init__.py', 'requirements.txt', 'designate/service.py', 'designate/rpc.py', 'designate/api/wsgi.py', 'lower-constraints.txt', 'etc/designate/api-paste.ini', 'designate/sqlalchemy/session.py', 'designate/mdns/rpcapi.py', 'designate/worker/rpcapi.py']",11,e0863ee093a34f72ba56d6fc4eef298971fb8df8,bp/designate-os-profiler,"from oslo_utils import importutilsprofiler = importutils.try_import('osprofiler.profiler')@profiler.trace_cls(""rpc"")",,99,13
openstack%2Fglance~master~I7c24a1aa3545f3499a7a2ce30b73e2656666c764,openstack/glance,master,I7c24a1aa3545f3499a7a2ce30b73e2656666c764,Remove final six usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-14 20:07:27.000000000,2022-02-14 20:05:38.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b85eea5a33b44951407ffe18b9c8aa8eaca5bab7', 'message': 'Remove final six usage\n\nWe also update docs since guidance has necessarily changed here.\n\nChange-Id: I7c24a1aa3545f3499a7a2ce30b73e2656666c764\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-12-23 10:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/407b7d63c19041150bde074263cbffb698402e83', 'message': 'Remove final six usage\n\nWe also update docs since guidance has necessarily changed here.\n\nChange-Id: I7c24a1aa3545f3499a7a2ce30b73e2656666c764\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-01-27 16:39:44.000000000', 'files': ['glance/tests/unit/common/test_wsgi.py', 'glance/api/middleware/cache.py', 'glance/api/v2/tasks.py', 'doc/source/contributor/gerrit.rst', 'glance/cmd/replicator.py', 'glance/common/client.py', 'glance/tests/unit/test_misc.py', 'glance/common/crypt.py', 'glance/common/utils.py', 'requirements.txt', 'glance/common/wsgi.py', 'glance/image_cache/drivers/xattr.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/33741138d92b7806700c843de9a885ae821db663', 'message': 'Remove final six usage\n\nWe also update docs since guidance has necessarily changed here.\n\nChange-Id: I7c24a1aa3545f3499a7a2ce30b73e2656666c764\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",9,822740,33741138d92b7806700c843de9a885ae821db663,29,5,3,15334,,,0,"Remove final six usage

We also update docs since guidance has necessarily changed here.

Change-Id: I7c24a1aa3545f3499a7a2ce30b73e2656666c764
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/40/822740/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_wsgi.py', 'glance/api/middleware/cache.py', 'glance/api/v2/tasks.py', 'doc/source/contributor/gerrit.rst', 'glance/cmd/replicator.py', 'glance/common/client.py', 'glance/tests/unit/test_misc.py', 'glance/common/crypt.py', 'glance/common/utils.py', 'requirements.txt', 'glance/common/wsgi.py', 'glance/image_cache/drivers/xattr.py']",12,b85eea5a33b44951407ffe18b9c8aa8eaca5bab7,remove-six, value = str(value).encode('utf-8'),import six value = str(value) if six.PY3: value = value.encode('utf-8'),17,112
openstack%2Frequirements~master~I759cea1cb71c3ec7471f6ecd771ee0a94253e4d2,openstack/requirements,master,I759cea1cb71c3ec7471f6ecd771ee0a94253e4d2,update constraint for python-neutronclient to new release 7.8.0,MERGED,2022-02-14 16:23:23.000000000,2022-02-14 20:07:01.000000000,2022-02-14 20:05:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-14 16:23:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eb3c3c2b34d655a64736bbf646a1d4c525e7e7d4', 'message': 'update constraint for python-neutronclient to new release 7.8.0\n\nmeta: version: 7.8.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: LIU Yulong <i@liuyulong.me>\nmeta: release:Commit: LIU Yulong <i@liuyulong.me>\nmeta: release:Change-Id: I4e7645ea1acbab8a31bfd4b125eb53e7d073b521\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I759cea1cb71c3ec7471f6ecd771ee0a94253e4d2\n'}]",0,829093,eb3c3c2b34d655a64736bbf646a1d4c525e7e7d4,9,3,1,11131,,,0,"update constraint for python-neutronclient to new release 7.8.0

meta: version: 7.8.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: LIU Yulong <i@liuyulong.me>
meta: release:Commit: LIU Yulong <i@liuyulong.me>
meta: release:Change-Id: I4e7645ea1acbab8a31bfd4b125eb53e7d073b521
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I759cea1cb71c3ec7471f6ecd771ee0a94253e4d2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/829093/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eb3c3c2b34d655a64736bbf646a1d4c525e7e7d4,new-release,python-neutronclient===7.8.0,python-neutronclient===7.7.0,1,1
openstack%2Fpuppet-openstack-integration~master~I05881459950c716430190ceba0813ac15f92da85,openstack/puppet-openstack-integration,master,I05881459950c716430190ceba0813ac15f92da85,MySQL: Remove workaround for old mariadb-libs in CentOS7,MERGED,2022-02-13 03:51:57.000000000,2022-02-14 20:06:34.000000000,2022-02-14 20:06:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 03:51:57.000000000', 'files': ['manifests/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fc220e0a0824b62f74d74db047119bc5d4c48061', 'message': 'MySQL: Remove workaround for old mariadb-libs in CentOS7\n\nThis reverts the commit 3b6bc5bb3ee63cf23ae56cfbf7c102799f2480b4 , and\nremoves the workaround added by that change, because\n\n- We no longer use CentOS 7 in CI\n\n- The issue is supposed to have been fixed in a recent mariadb-libs\n  package.\n\nChange-Id: I05881459950c716430190ceba0813ac15f92da85\n'}]",0,828969,fc220e0a0824b62f74d74db047119bc5d4c48061,7,3,1,9816,,,0,"MySQL: Remove workaround for old mariadb-libs in CentOS7

This reverts the commit 3b6bc5bb3ee63cf23ae56cfbf7c102799f2480b4 , and
removes the workaround added by that change, because

- We no longer use CentOS 7 in CI

- The issue is supposed to have been fixed in a recent mariadb-libs
  package.

Change-Id: I05881459950c716430190ceba0813ac15f92da85
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/69/828969/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/mysql.pp'],1,fc220e0a0824b62f74d74db047119bc5d4c48061,cleanup,," # FIXME (amoralej) Required until a new release of mariadb-libs is released by RDO # Fedora and CentOS8 do not have mariadb-libs, so changing only for CentOS if ($::operatingsystem == 'CentOS') and (versioncmp($::operatingsystemmajrelease, '7') == 0) { package { 'mariadb-libs': ensure => 'latest' } Package['mariadb-libs'] -> Class['mysql::server'] Package['mariadb-libs'] -> Class['mysql::client'] } ",0,10
openstack%2Fpuppet-nova~master~I7fc60bf3ba35f270ab843df917d43e5deaf047fd,openstack/puppet-nova,master,I7fc60bf3ba35f270ab843df917d43e5deaf047fd,Add wait_for_vif_plugged_event_during_hard_reboot,MERGED,2022-02-09 08:22:43.000000000,2022-02-14 20:00:46.000000000,2022-02-14 19:56:18.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 08:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4543208ca72abd0ea720aead280b05f90d62c7ed', 'message': 'Add wait_for_vif_plugged_event_during_hard_reboot\n\nAdds parameter for the Nova workaround that waits\nfor Neutron ML2 backend to sent vif plugged on\nhard reboot.\n\nChange-Id: I7fc60bf3ba35f270ab843df917d43e5deaf047fd\n'}, {'number': 2, 'created': '2022-02-11 13:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e8caca16d16e70af20de0a5188af0215e46e2f10', 'message': 'Add wait_for_vif_plugged_event_during_hard_reboot\n\nAdds parameter for the Nova workaround that waits\nfor Neutron ML2 backend to sent vif plugged on\nhard reboot.\n\nChange-Id: I7fc60bf3ba35f270ab843df917d43e5deaf047fd\n'}, {'number': 3, 'created': '2022-02-11 15:55:43.000000000', 'files': ['spec/classes/nova_workarounds_spec.rb', 'releasenotes/notes/workarounds-wait_for_vif_plugged_event_during_hard_reboot-092dada6f6a1e632.yaml', 'manifests/workarounds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/84e565b1a04ce8d27a7621e88a0dbbc59fab982e', 'message': 'Add wait_for_vif_plugged_event_during_hard_reboot\n\nAdds parameter for the Nova workaround that waits\nfor Neutron ML2 backend to sent vif plugged on\nhard reboot.\n\nChange-Id: I7fc60bf3ba35f270ab843df917d43e5deaf047fd\n'}]",8,828470,84e565b1a04ce8d27a7621e88a0dbbc59fab982e,21,4,3,16137,,,0,"Add wait_for_vif_plugged_event_during_hard_reboot

Adds parameter for the Nova workaround that waits
for Neutron ML2 backend to sent vif plugged on
hard reboot.

Change-Id: I7fc60bf3ba35f270ab843df917d43e5deaf047fd
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/70/828470/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_workarounds_spec.rb', 'releasenotes/notes/workarounds-wait_for_vif_plugged_event_during_hard_reboot-092dada6f6a1e632.yaml', 'manifests/workarounds.pp']",3,4543208ca72abd0ea720aead280b05f90d62c7ed,,"# [*wait_for_vif_plugged_event_during_hard_reboot*] # (Optional) If set Nova will wait for the Neutron ML2 backend to sent vif # plugged events when performing hard reboot. # Defaults to $::os_service_default # $never_download_image_if_on_rbd = $::os_service_default, $ensure_libvirt_rbd_instance_dir_cleanup = $::os_service_default, $enable_qemu_monitor_announce_self = $::os_service_default, $wait_for_vif_plugged_event_during_hard_reboot = $::os_service_default, 'workarounds/wait_for_vif_plugged_event_during_hard_reboot': value => $wait_for_vif_plugged_event_during_hard_reboot;"," $never_download_image_if_on_rbd = $::os_service_default, $ensure_libvirt_rbd_instance_dir_cleanup = $::os_service_default, $enable_qemu_monitor_announce_self = $::os_service_default,",23,7
openstack%2Fpuppet-nova~master~I527aa84d52dd787169e38f81a1c2fde9f67a3046,openstack/puppet-nova,master,I527aa84d52dd787169e38f81a1c2fde9f67a3046,nova_flavor: Refactor property setter,MERGED,2022-02-13 14:15:46.000000000,2022-02-14 20:00:29.000000000,2022-02-14 20:00:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 14:15:46.000000000', 'files': ['lib/puppet/provider/nova_flavor/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f40bf357c0ce58a49e8daee00b5dc55da28b9565', 'message': 'nova_flavor: Refactor property setter\n\nThis change replaces redundant implementation of some property setters\nby the common template.\n\nChange-Id: I527aa84d52dd787169e38f81a1c2fde9f67a3046\n'}]",0,828976,f40bf357c0ce58a49e8daee00b5dc55da28b9565,7,3,1,9816,,,0,"nova_flavor: Refactor property setter

This change replaces redundant implementation of some property setters
by the common template.

Change-Id: I527aa84d52dd787169e38f81a1c2fde9f67a3046
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/76/828976/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/nova_flavor/openstack.rb'],1,f40bf357c0ce58a49e8daee00b5dc55da28b9565,," [ :is_public, :id, :ram, :disk, :vcpus, :swap, :rtxt_factor, ].each do |attr| define_method(attr.to_s + ""="") do |value| fail(""{#attr.to_s} is read only"") end", def is_public=(value) fail('is_public is read only') end def id=(value) fail('id is read only') end def ram=(value) fail('ram is read only') end def disk=(value) fail('disk is read only') end def vcpus=(value) fail('vcpus is read only') end def swap=(value) fail('swap is read only') end def rxtx_factor=(value) fail('rxtx_factor is read only'),12,26
openstack%2Fpuppet-nova~master~I9732ccbdafa79b11d8cb4955381794b922e16385,openstack/puppet-nova,master,I9732ccbdafa79b11d8cb4955381794b922e16385,Remove unused str2hash,MERGED,2022-02-13 12:33:32.000000000,2022-02-14 20:00:26.000000000,2022-02-14 20:00:26.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 12:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d83f730665c274fccdcfb743b7dfdbab89af9241', 'message': 'Remove unused str2hash\n\nChange-Id: I9732ccbdafa79b11d8cb4955381794b922e16385\n'}, {'number': 2, 'created': '2022-02-13 12:34:44.000000000', 'files': ['lib/puppet/provider/nova.rb', 'spec/unit/provider/nova_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/599703b53040ad1e035965490fd321c6e14f67ba', 'message': 'Remove unused str2hash\n\nChange-Id: I9732ccbdafa79b11d8cb4955381794b922e16385\n'}]",0,828974,599703b53040ad1e035965490fd321c6e14f67ba,10,4,2,9816,,,0,"Remove unused str2hash

Change-Id: I9732ccbdafa79b11d8cb4955381794b922e16385
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/74/828974/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/nova.rb', 'spec/unit/provider/nova_spec.rb']",2,d83f730665c274fccdcfb743b7dfdbab89af9241,,," describe 'when parse a string line' do it 'should return the same string' do res = klass.str2hash(""zone1"") expect(res).to eq(""zone1"") end it 'should return the string without quotes' do res = klass.str2hash(""'zone1'"") expect(res).to eq(""zone1"") end it 'should return the same string' do res = klass.str2hash(""z o n e1"") expect(res).to eq(""z o n e1"") end it 'should return a hash' do res = klass.str2hash(""a=b"") expect(res).to eq({""a""=>""b""}) end it 'should return a hash with containing spaces' do res = klass.str2hash(""a b = c d"") expect(res).to eq({""a b ""=>"" c d""}) end end",0,37
openstack%2Fpuppet-nova~master~I9d81eff950a50a2139c874ecc426040bcc0a93d4,openstack/puppet-nova,master,I9d81eff950a50a2139c874ecc426040bcc0a93d4,Ensure auth_endpoint is cleared by reset,MERGED,2022-02-12 03:13:46.000000000,2022-02-14 19:56:22.000000000,2022-02-14 19:56:22.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 03:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8625098db7f3af706b31efffb67323899862406b', 'message': 'Ensure auth_endpoint is cleared by reset\n\nChange-Id: I9d81eff950a50a2139c874ecc426040bcc0a93d4\n'}, {'number': 2, 'created': '2022-02-12 03:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8dfd3204736cc2d3dcd8e130af7cc5771b75995e', 'message': 'Ensure auth_endpoint is cleared by reset\n\nChange-Id: I9d81eff950a50a2139c874ecc426040bcc0a93d4\n'}, {'number': 3, 'created': '2022-02-12 05:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a82325d35422f599796ded36709e3e07a15e9b29', 'message': 'Ensure auth_endpoint is cleared by reset\n\nChange-Id: I9d81eff950a50a2139c874ecc426040bcc0a93d4\n'}, {'number': 4, 'created': '2022-02-12 13:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4d26e7b091a9dbd87a81d66737692c2bc68dc61e', 'message': 'Ensure auth_endpoint is cleared by reset\n\nChange-Id: I9d81eff950a50a2139c874ecc426040bcc0a93d4\n'}, {'number': 5, 'created': '2022-02-12 13:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8ed4d5a9a64171ec32da480656de03a83f82bfea', 'message': 'Ensure auth_endpoint is cleared by reset\n\nChange-Id: I9d81eff950a50a2139c874ecc426040bcc0a93d4\n'}, {'number': 6, 'created': '2022-02-12 14:20:42.000000000', 'files': ['lib/puppet/provider/nova.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0ce7d9fe9e377df96a7a6e727735d69b79db3500', 'message': 'Ensure auth_endpoint is cleared by reset\n\nChange-Id: I9d81eff950a50a2139c874ecc426040bcc0a93d4\n'}]",2,828935,0ce7d9fe9e377df96a7a6e727735d69b79db3500,21,4,6,9816,,,0,"Ensure auth_endpoint is cleared by reset

Change-Id: I9d81eff950a50a2139c874ecc426040bcc0a93d4
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/35/828935/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/nova.rb'],1,8625098db7f3af706b31efffb67323899862406b,, @auth_endpoint = nil,,1,0
openstack%2Fpuppet-nova~master~I611e3d0428674e7438fe15b276667f7b379d136e,openstack/puppet-nova,master,I611e3d0428674e7438fe15b276667f7b379d136e,Fix missing update of property_hash,MERGED,2022-02-12 03:10:31.000000000,2022-02-14 19:56:20.000000000,2022-02-14 19:56:20.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 03:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/70b2e06628b0ce4320ceecefd52a1bb1027af6a4', 'message': 'Update :ensure key while creating/deleting a resource\n\nChange-Id: I611e3d0428674e7438fe15b276667f7b379d136e\n'}, {'number': 2, 'created': '2022-02-12 03:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9821478debacd0cd229c4110edc5527b0be2d391', 'message': ""Fix missing update of property_hash\n\nWhen a resource is created, the :ensure parameter should be set to\n'present' so that exists returns true.\nAlso, the whole has should be cleared when a resource is deleted,\notherwise subsequent access might look up stale values.\n\nChange-Id: I611e3d0428674e7438fe15b276667f7b379d136e\n""}, {'number': 3, 'created': '2022-02-12 05:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c7d7d37c5e744415028428a5c8c578477244d66a', 'message': ""Fix missing update of property_hash\n\nWhen a resource is created, the :ensure parameter should be set to\n'present' so that exists returns true.\nAlso, the whole has should be cleared when a resource is deleted,\notherwise subsequent access might look up stale values.\n\nChange-Id: I611e3d0428674e7438fe15b276667f7b379d136e\n""}, {'number': 4, 'created': '2022-02-12 13:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5ee3c979e2a1a445839c03dd582fabc736eae24d', 'message': ""Fix missing update of property_hash\n\nWhen a resource is created, the :ensure parameter should be set to\n'present' so that exists returns true. In addition, the whole hash\nshould be cleared when a resource is deleted, otherwise subsequent\naccess might look up stale values. This change ensures property_hash is\nupdated in create/destroy accordingly.\n\nAlso, the ignored unit tests are fixed.\n\nChange-Id: I611e3d0428674e7438fe15b276667f7b379d136e\n""}, {'number': 5, 'created': '2022-02-12 13:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bc924db7a8435cf773e5a6a48f4fd82e5ab2a620', 'message': ""Fix missing update of property_hash\n\nWhen a resource is created, the :ensure parameter should be set to\n'present' so that exists returns true. In addition, the whole hash\nshould be cleared when a resource is deleted, otherwise subsequent\naccess might look up stale values. This change ensures property_hash is\nupdated in create/destroy accordingly.\n\nAlso, the ignored unit tests are fixed.\n\nChange-Id: I611e3d0428674e7438fe15b276667f7b379d136e\n""}, {'number': 6, 'created': '2022-02-12 14:20:42.000000000', 'files': ['spec/unit/provider/nova_aggregate/openstack_spec.rb', 'lib/puppet/provider/nova_service/openstack.rb', 'lib/puppet/provider/nova_flavor/openstack.rb', 'spec/unit/provider/nova_flavor/openstack_spec.rb', 'lib/puppet/provider/nova_cell_v2/nova_manage.rb', 'lib/puppet/provider/nova_aggregate/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/60acc82c22d1edace44bffa8c1a9a6b23f739d25', 'message': 'Fix missing update of property_hash\n\nWhen a resource is created, the :ensure parameter should be set to\n\'present\' so that exists returns true. In addition, the whole hash\nshould be cleared when a resource is deleted, otherwise subsequent\naccess might look up stale values. This change ensures property_hash is\nupdated in create/destroy accordingly.\n\nThis change also fixes the incorrect handling of ""project"" property\nin nova_flavor which is causing unexpected update.\n\nFinally, the ignored unit tests are fixed, to test the above fixes.\n\nChange-Id: I611e3d0428674e7438fe15b276667f7b379d136e\n'}]",2,828934,60acc82c22d1edace44bffa8c1a9a6b23f739d25,20,4,6,9816,,,0,"Fix missing update of property_hash

When a resource is created, the :ensure parameter should be set to
'present' so that exists returns true. In addition, the whole hash
should be cleared when a resource is deleted, otherwise subsequent
access might look up stale values. This change ensures property_hash is
updated in create/destroy accordingly.

This change also fixes the incorrect handling of ""project"" property
in nova_flavor which is causing unexpected update.

Finally, the ignored unit tests are fixed, to test the above fixes.

Change-Id: I611e3d0428674e7438fe15b276667f7b379d136e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/34/828934/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/nova_service/openstack.rb', 'lib/puppet/provider/nova_flavor/openstack.rb', 'lib/puppet/provider/nova_cell_v2/nova_manage.rb', 'lib/puppet/provider/nova_aggregate/openstack.rb']",4,70b2e06628b0ce4320ceecefd52a1bb1027af6a4,, @property_hash[:ensure] = :absent @property_hash[:ensure] = :present,,9,6
openstack%2Fpuppet-tempest~master~I0fd7481e09dbf897dab4a8d726a7d852d0e77a09,openstack/puppet-tempest,master,I0fd7481e09dbf897dab4a8d726a7d852d0e77a09,Remove panko_available,MERGED,2022-02-14 02:57:41.000000000,2022-02-14 19:55:40.000000000,2022-02-14 19:53:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 02:57:41.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/retire-panko-cleanup-7641cca0641e688a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/fcba2cf5fb658de21c0d822687a0b2325559d386', 'message': 'Remove panko_available\n\n... because Panko was retired during Xena cycle and the parameter was\ndeprecated then[1].\n\n[1] d273aa3c564808f6d4f35da9e30dcf1e4cdb9ab1\n\nChange-Id: I0fd7481e09dbf897dab4a8d726a7d852d0e77a09\n'}]",0,828988,fcba2cf5fb658de21c0d822687a0b2325559d386,8,3,1,9816,,,0,"Remove panko_available

... because Panko was retired during Xena cycle and the parameter was
deprecated then[1].

[1] d273aa3c564808f6d4f35da9e30dcf1e4cdb9ab1

Change-Id: I0fd7481e09dbf897dab4a8d726a7d852d0e77a09
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/88/828988/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/retire-panko-cleanup-7641cca0641e688a.yaml']",2,fcba2cf5fb658de21c0d822687a0b2325559d386,,--- upgrade: - | The ``tempest::panko_available`` parameter has been removed. ,,4,7
openstack%2Fpuppet-tempest~master~Ic0501b6d53d0ce38fec45ce125bf184e89e87b24,openstack/puppet-tempest,master,Ic0501b6d53d0ce38fec45ce125bf184e89e87b24,Remove img_dir parameter,MERGED,2022-02-14 00:43:25.000000000,2022-02-14 19:52:37.000000000,2022-02-14 19:51:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 00:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/ac234c41eb27ce2dc47c4032f7d490c87c4de899', 'message': 'Remove img_dir parameter\n\n... because it was deprecated during Victoria cycle[1].\n\n[1] dacf254b8e6a78f3e0456115a687361632135586\n\nChange-Id: Ic0501b6d53d0ce38fec45ce125bf184e89e87b24\n'}, {'number': 2, 'created': '2022-02-14 02:55:22.000000000', 'files': ['releasenotes/notes/remove-img_dir-1ca314f67b227268.yaml', 'manifests/init.pp', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/97cb83dfe92fceb3d4c4bd3d65bd9966399b80c6', 'message': 'Remove img_dir parameter\n\n... because it was deprecated during Victoria cycle[1].\n\n[1] dacf254b8e6a78f3e0456115a687361632135586\n\nChange-Id: Ic0501b6d53d0ce38fec45ce125bf184e89e87b24\n'}]",0,828983,97cb83dfe92fceb3d4c4bd3d65bd9966399b80c6,10,3,2,9816,,,0,"Remove img_dir parameter

... because it was deprecated during Victoria cycle[1].

[1] dacf254b8e6a78f3e0456115a687361632135586

Change-Id: Ic0501b6d53d0ce38fec45ce125bf184e89e87b24
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/83/828983/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-img_dir-1ca314f67b227268.yaml', 'manifests/init.pp', 'spec/classes/tempest_init_spec.rb']",3,ac234c41eb27ce2dc47c4032f7d490c87c4de899,, context 'with img_file set' do," context 'with deprecated img_dir parameter and img_file set' do context 'with deprecated img_dir parameter set' do let :params do { :image_name => 'cirros', :image_name_alt => 'cirros', :img_dir => '/home/stack' } end it 'sets image_file based on img_dir' do is_expected.to contain_tempest_config('scenario/img_file').with(:value => '/home/stack/cirros-0.4.0-x86_64-disk.img') end end context 'with deprecated img_dir parameter and img_file set' do let :params do { :image_name => 'cirros', :image_name_alt => 'cirros', :img_dir => '/home/stack', :img_file => 'myimage.img' } end it 'sets image_file based on img_dir and img_file' do is_expected.to contain_tempest_config('scenario/img_file').with(:value => '/home/stack/myimage.img') end end ",7,45
openstack%2Freleases~master~Ia2329fdf6142ca6b4a2c91acec7675b0fbba4dc2,openstack/releases,master,Ia2329fdf6142ca6b4a2c91acec7675b0fbba4dc2,Release bugfix 10.10 for Inspector in Yoga,MERGED,2022-02-14 04:19:47.000000000,2022-02-14 19:49:13.000000000,2022-02-14 19:49:13.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-14 04:19:47.000000000', 'files': ['deliverables/yoga/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f46c94456e49483c3aa727c3448b5c8b2dbc433f', 'message': 'Release bugfix 10.10 for Inspector in Yoga\n\nChange-Id: Ia2329fdf6142ca6b4a2c91acec7675b0fbba4dc2\n'}]",3,828993,f46c94456e49483c3aa727c3448b5c8b2dbc433f,11,5,1,15519,,,0,"Release bugfix 10.10 for Inspector in Yoga

Change-Id: Ia2329fdf6142ca6b4a2c91acec7675b0fbba4dc2
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/828993/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ironic-inspector.yaml'],1,f46c94456e49483c3aa727c3448b5c8b2dbc433f,bugfix_inspector, - version: 10.10.0 projects: - repo: openstack/ironic-inspector hash: 567b73138d5dae3b7924e98abc946a5f4a90e352 - name: bugfix/10.10 location: 10.10.0,,6,0
openstack%2Fpuppet-ironic~master~I0893e3765515e96d90cc5e0dc85aa94254f5f886,openstack/puppet-ironic,master,I0893e3765515e96d90cc5e0dc85aa94254f5f886,ironic_config: Deprecate transfomers,MERGED,2022-02-12 14:55:02.000000000,2022-02-14 19:48:18.000000000,2022-02-14 19:46:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 14:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a84a295536eeaedc45ad982f126ead2d97c803a4', 'message': 'ironic_config: Deprecate transfomers\n\n... because all parameters using these transformers have been\ndeprecated.\n\nChange-Id: I0893e3765515e96d90cc5e0dc85aa94254f5f886\n'}, {'number': 2, 'created': '2022-02-12 14:56:29.000000000', 'files': ['lib/puppet/provider/ironic_config/openstackconfig.rb', 'releasenotes/notes/deprecate-transformers-3988c7f4587743b2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0a3af34213e472e9c439adef86a9ba78c4f98abf', 'message': 'ironic_config: Deprecate transfomers\n\n... because all parameters using these transformers have been\ndeprecated.\n\nChange-Id: I0893e3765515e96d90cc5e0dc85aa94254f5f886\n'}]",4,828946,0a3af34213e472e9c439adef86a9ba78c4f98abf,16,3,2,9816,,,0,"ironic_config: Deprecate transfomers

... because all parameters using these transformers have been
deprecated.

Change-Id: I0893e3765515e96d90cc5e0dc85aa94254f5f886
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/46/828946/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/ironic_config/openstackconfig.rb', 'releasenotes/notes/deprecate-transformers-3988c7f4587743b2.yaml']",2,a84a295536eeaedc45ad982f126ead2d97c803a4,,--- deprecations: - | Usage of ``ironic_config`` with ``transform_to => 'net_uuid'`` or ``transform_to => 'project_uuid'`` has been deprecated will be removed in a future release. ,,18,8
openstack%2Fpuppet-ironic~master~Icdea064773915a5f68beb3a08590645aba6d29bc,openstack/puppet-ironic,master,Icdea064773915a5f68beb3a08590645aba6d29bc,Deprecate ironic::glance::swift_account_project_name,MERGED,2022-02-12 14:55:02.000000000,2022-02-14 19:46:37.000000000,2022-02-14 19:45:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 14:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/00a5f8b9241ad15a328f96a0f98670478952eafc', 'message': 'Deprecate ironic::glance::swift_account_project_name\n\nThis parameter has been supposed to allow users to use project name,\ninstead of project id, and have puppet code to look up project id\nautomatically. However this implementation has been problematic,\nespecially in usual usecase where a single set of manifests is used\nto set up all services.\n\nThe most challenging point is the unavoidable circular dependency.\nResolving the parameter requires access to Keystone API, which is not\ncorrectly enforced now, while setting the parameter should trigger\nrestarting ironic services. When ironic-api and keystone are both\nrunning by httpd+mod_wsgi, this eventually results in circular\ndependency caused by that duplicate usage of httpd.\n\nThis change deprecates the parameter, since it has not been working\nas intended in most of the cases.\n\nChange-Id: Icdea064773915a5f68beb3a08590645aba6d29bc\n'}, {'number': 2, 'created': '2022-02-12 14:56:29.000000000', 'files': ['manifests/glance.pp', 'releasenotes/notes/deprecate-swift_account_project_name-5cdc53f1558a7838.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/fb064ecb914fb145c79ec742c5308ec5f53ef6dd', 'message': 'Deprecate ironic::glance::swift_account_project_name\n\nThis parameter has been supposed to allow users to use project name,\ninstead of project id, and have puppet code look up project id\nautomatically.\n\nHowever this implementation has been problematic, especially in usual\nusecase where a single set of manifests is used to set up all services.\nThe most challenging point is the unavoidable circular dependency.\nResolving the parameter requires access to Keystone API, which is not\ncorrectly enforced now, while setting the parameter should trigger\nrestarting ironic services. When ironic-api and keystone are both\nrunning by httpd+mod_wsgi, this eventually results in circular\ndependency, because the parameter requires httpd and notifies httpd.\n\nThis change deprecates the parameter, since it has not been working\nas intended in most of the cases.\n\nChange-Id: Icdea064773915a5f68beb3a08590645aba6d29bc\n'}]",0,828945,fb064ecb914fb145c79ec742c5308ec5f53ef6dd,9,3,2,9816,,,0,"Deprecate ironic::glance::swift_account_project_name

This parameter has been supposed to allow users to use project name,
instead of project id, and have puppet code look up project id
automatically.

However this implementation has been problematic, especially in usual
usecase where a single set of manifests is used to set up all services.
The most challenging point is the unavoidable circular dependency.
Resolving the parameter requires access to Keystone API, which is not
correctly enforced now, while setting the parameter should trigger
restarting ironic services. When ironic-api and keystone are both
running by httpd+mod_wsgi, this eventually results in circular
dependency, because the parameter requires httpd and notifies httpd.

This change deprecates the parameter, since it has not been working
as intended in most of the cases.

Change-Id: Icdea064773915a5f68beb3a08590645aba6d29bc
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/45/828945/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/glance.pp', 'releasenotes/notes/deprecate-swift_account_project_name-5cdc53f1558a7838.yaml']",2,00a5f8b9241ad15a328f96a0f98670478952eafc,,--- deprecations: - | The ``ironic::glance::swift_account_project_name`` parameter is deprecated and will be removed in a future release. ,,17,8
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4d803a7b43533debdf6063299878cf1b13c664e6,openstack/tripleo-heat-templates,stable/train,I4d803a7b43533debdf6063299878cf1b13c664e6,[Neutron] Add custom env file to set dns_domain_name,MERGED,2022-02-12 00:19:04.000000000,2022-02-14 19:46:24.000000000,2022-02-14 19:46:24.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-12 00:19:04.000000000', 'files': ['ci/environments/neutron_dns_domain.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6f2a3b3c26bb1d47658d88846d366378b81bfa2', 'message': '[Neutron] Add custom env file to set dns_domain_name\n\nTo be able to run properly dns_domain_name related tests from the\nneutron_tempest_plugin.api.test_ports module, Neutron has to have\nconfigured non default dns_domain_name option.\nThis patch adds custom environment file which will set that config\noption to ""openstackgate.local"" which is the same value like is configured\nin all of the Neutron CI jobs by the Neutron Devstack plugin.\n\nRelated-Bug: #1950815\nChange-Id: I4d803a7b43533debdf6063299878cf1b13c664e6\n(cherry picked from commit 3da3ff6ea5d36f5a13a5ef1aaa3cac2dc806655d)\n'}]",1,828841,d6f2a3b3c26bb1d47658d88846d366378b81bfa2,11,7,1,29775,,,0,"[Neutron] Add custom env file to set dns_domain_name

To be able to run properly dns_domain_name related tests from the
neutron_tempest_plugin.api.test_ports module, Neutron has to have
configured non default dns_domain_name option.
This patch adds custom environment file which will set that config
option to ""openstackgate.local"" which is the same value like is configured
in all of the Neutron CI jobs by the Neutron Devstack plugin.

Related-Bug: #1950815
Change-Id: I4d803a7b43533debdf6063299878cf1b13c664e6
(cherry picked from commit 3da3ff6ea5d36f5a13a5ef1aaa3cac2dc806655d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/828841/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/neutron_dns_domain.yaml'],1,d6f2a3b3c26bb1d47658d88846d366378b81bfa2,rhbz#2053527,parameter_defaults: NeutronDnsDomain: 'openstackgate.local' ,,2,0
openstack%2Fpuppet-neutron~stable%2Ftrain~I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,openstack/puppet-neutron,stable/train,I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,Add report_inteval parameter in ml2 baremetal,MERGED,2022-02-09 16:56:59.000000000,2022-02-14 19:45:42.000000000,2022-02-14 19:43:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 16:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4b23a385735015364696625cabe678d05c5775b9', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nConflicts:\n  manifests/agents/ml2/networking_baremetal.pp\n  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)\n'}, {'number': 2, 'created': '2022-02-09 17:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/302f06be61fb2f24519ac71fcc410496ce02821f', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nConflicts:\n  manifests/agents/ml2/networking_baremetal.pp\n  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)\n'}, {'number': 3, 'created': '2022-02-10 13:01:58.000000000', 'files': ['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b793bbfc699ac35b5c789410fe82bdfc1cd3d3d9', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nConflicts:\n  manifests/agents/ml2/networking_baremetal.pp\n  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb\n\nBackport note to stable/train:\nResolved additional conflicts caused by\ndfeccd674988f34edea5ca7b95bdeea827bab000\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)\n(cherry picked from commit 41bcf66eafc092890cdd6d2560d02642c5a55761)\n(cherry picked from commit 629dbe0f1e89bec38d02050f80d3dda30e20d170)\n(cherry picked from commit b9f3a4baa62d72b356d3307a380f2aa1f3f7703d)\n'}]",0,828556,b793bbfc699ac35b5c789410fe82bdfc1cd3d3d9,12,3,3,24245,,,0,"Add report_inteval parameter in ml2 baremetal

Add the parameter $report_interval to the ml2
networking-baremetal manifest. By default the global
report_interval as defined in neutron.conf is used.

In some cases it makes sense to change the report_interval
specifically for ironic-neutron-agent.

Conflicts:
  manifests/agents/ml2/networking_baremetal.pp
  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb

Backport note to stable/train:
Resolved additional conflicts caused by
dfeccd674988f34edea5ca7b95bdeea827bab000

Related-Bug: #1940838
Change-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)
(cherry picked from commit 41bcf66eafc092890cdd6d2560d02642c5a55761)
(cherry picked from commit 629dbe0f1e89bec38d02050f80d3dda30e20d170)
(cherry picked from commit b9f3a4baa62d72b356d3307a380f2aa1f3f7703d)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/56/828556/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml']",3,4b23a385735015364696625cabe678d05c5775b9,bug/1940838-stable/train,--- features: - | It is now possible to set the report interval for the networking-baremetal ml2 agent by using new parameter ``report_interval`` in the ``neutron::agents::ml2::networking_baremetal`` class. ,,36,0
openstack%2Fpuppet-neutron~master~Ie8d379d5dbb7b4095d8dc35311170ab2e07b6a76,openstack/puppet-neutron,master,Ie8d379d5dbb7b4095d8dc35311170ab2e07b6a76,neutron_port: Ensure network and subnet are created,MERGED,2022-02-13 12:16:52.000000000,2022-02-14 19:45:30.000000000,2022-02-14 19:45:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 12:16:52.000000000', 'files': ['lib/puppet/type/neutron_port.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/01ec1c56f7755be643ab27c946419f95263fcf90', 'message': 'neutron_port: Ensure network and subnet are created\n\nThis change fixes the wrong key used to look up the neutron_network\nresource which should be created before a neutron_port is created.\n\nAlso, additional requirement for neutron_subnet is added, so that\nthe subnet is created before a port which belongs to that subnet is\ncreated.\n\nChange-Id: Ie8d379d5dbb7b4095d8dc35311170ab2e07b6a76\n'}]",1,828973,01ec1c56f7755be643ab27c946419f95263fcf90,9,3,1,9816,,,0,"neutron_port: Ensure network and subnet are created

This change fixes the wrong key used to look up the neutron_network
resource which should be created before a neutron_port is created.

Also, additional requirement for neutron_subnet is added, so that
the subnet is created before a port which belongs to that subnet is
created.

Change-Id: Ie8d379d5dbb7b4095d8dc35311170ab2e07b6a76
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/73/828973/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/type/neutron_port.rb'],1,01ec1c56f7755be643ab27c946419f95263fcf90,, [self[:network_name]] end autorequire(:neutron_subnet) do [self[:subnet_name]] if self[:subnet_name], [self[:name]],5,1
openstack%2Fpuppet-neutron~master~Icb0d67a70f940182c69e3a877e69425f75f98135,openstack/puppet-neutron,master,Icb0d67a70f940182c69e3a877e69425f75f98135,neutron_router: Fix detection of tenant_id,MERGED,2022-02-12 14:18:11.000000000,2022-02-14 19:45:28.000000000,2022-02-14 19:45:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 14:18:11.000000000', 'files': ['spec/unit/provider/neutron_router/openstack_spec.rb', 'lib/puppet/provider/neutron_router/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2ef08f70b152258af763e33fff16f326a49dfeb1', 'message': 'neutron_router: Fix detection of tenant_id\n\nThis change fixes the wrong key used to pick up tenant_id, which was\nintroduced by 75ca125cfaf86d3b14852a546edf9954162fd01d .\n\nChange-Id: Icb0d67a70f940182c69e3a877e69425f75f98135\n'}]",5,828941,2ef08f70b152258af763e33fff16f326a49dfeb1,16,3,1,9816,,,0,"neutron_router: Fix detection of tenant_id

This change fixes the wrong key used to pick up tenant_id, which was
introduced by 75ca125cfaf86d3b14852a546edf9954162fd01d .

Change-Id: Icb0d67a70f940182c69e3a877e69425f75f98135
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/41/828941/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/neutron_router/openstack_spec.rb', 'lib/puppet/provider/neutron_router/openstack.rb']",2,2ef08f70b152258af763e33fff16f326a49dfeb1,," :tenant_id => router[:project_id], :tenant_id => router[:project_id],"," :tenant_id => router[:tenant_id], :tenant_id => router[:tenant_id],",2,4
openstack%2Fpuppet-vitrage~master~I60a5751470b48aef2aa005af4ad9a82d799b721e,openstack/puppet-vitrage,master,I60a5751470b48aef2aa005af4ad9a82d799b721e,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:39:14.000000000,2022-02-14 19:42:34.000000000,2022-02-14 19:38:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 16:39:14.000000000', 'files': ['releasenotes/notes/api_paste_ini-separator-7e90d209007b1d4d.yaml', 'lib/puppet/type/vitrage_api_paste_ini.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/82862829cd315e588caa39277d6741b075b208d5', 'message': 'Allow customizing separator for api-paste.ini\n\nThe api-paste.ini accepts not only ""="" but also "":"" and some services\nlike Barbican have been using "":"" for their default api-paste.ini\nfiles.\n\n[composite:main]\nuse = egg:Paste#urlmap\n/: barbican_version\n/v1: barbican-api-keystone\n\nThis change allows users to use "":"" so that they can update the ini\nfiles with keeping it consistent with the default fules\n\nDepends-on: https://review.opendev.org/813614\nChange-Id: I60a5751470b48aef2aa005af4ad9a82d799b721e\n'}]",3,828960,82862829cd315e588caa39277d6741b075b208d5,13,3,1,9816,,,0,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: I60a5751470b48aef2aa005af4ad9a82d799b721e
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/60/828960/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/api_paste_ini-separator-7e90d209007b1d4d.yaml', 'lib/puppet/type/vitrage_api_paste_ini.rb']",2,82862829cd315e588caa39277d6741b075b208d5,paste-ini-sep, newparam(:key_val_separator) do desc 'The separator string to use between each setting name and value.' defaultto('=') end ,,10,0
openstack%2Ftripleo-repos~master~Ib3fbf6a0ed3e196893add875d6901b4dfd925827,openstack/tripleo-repos,master,Ib3fbf6a0ed3e196893add875d6901b4dfd925827,Move zuul job layout to centos9 only for master,MERGED,2022-02-11 11:55:47.000000000,2022-02-14 19:39:25.000000000,2022-02-14 19:39:25.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-02-11 11:55:47.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/cbbdde6cb6c73692b3ce9d0f6931f1b6e6fe6c91', 'message': 'Move zuul job layout to centos9 only for master\n\nThis replaces the ubi-8 container build job with the centos9 content\nprovider. Also replace the overcloud-full with hardened-uefi since\nthat is now default for master/wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317\nChange-Id: Ib3fbf6a0ed3e196893add875d6901b4dfd925827\n'}]",2,828865,cbbdde6cb6c73692b3ce9d0f6931f1b6e6fe6c91,10,4,1,8449,,,0,"Move zuul job layout to centos9 only for master

This replaces the ubi-8 container build job with the centos9 content
provider. Also replace the overcloud-full with hardened-uefi since
that is now default for master/wallaby.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: Ib3fbf6a0ed3e196893add875d6901b4dfd925827
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/65/828865/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,cbbdde6cb6c73692b3ce9d0f6931f1b6e6fe6c91,c8_teardown_master, - tripleo-buildimage-overcloud-hardened-uefi-full-centos-9: - tripleo-ci-centos-9-content-provider: - tripleo-buildimage-overcloud-hardened-uefi-full-centos-9: - tripleo-ci-centos-9-content-provider:, - tripleo-buildimage-overcloud-full-centos-8: - tripleo-build-containers-ubi-8: - tripleo-buildimage-overcloud-full-centos-8: - tripleo-build-containers-ubi-8:,4,4
openstack%2Fpuppet-cinder~master~I64d3da1c9c6e379f410cf575c874c9d8d3153bb8,openstack/puppet-cinder,master,I64d3da1c9c6e379f410cf575c874c9d8d3153bb8,Do not define service resource when service management is disabled,MERGED,2022-02-10 04:12:54.000000000,2022-02-14 19:35:45.000000000,2022-02-14 19:35:45.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 04:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0a389e628dad2e9945311e8b8c4302522e1c420c', 'message': 'Do not define service resource when service management is disabled\n\nChange-Id: I64d3da1c9c6e379f410cf575c874c9d8d3153bb8\n'}, {'number': 2, 'created': '2022-02-10 04:54:02.000000000', 'files': ['manifests/scheduler.pp', 'spec/classes/cinder_backup_spec.rb', 'manifests/api.pp', 'spec/classes/cinder_api_spec.rb', 'manifests/backup.pp', 'manifests/volume.pp', 'spec/classes/cinder_scheduler_spec.rb', 'spec/classes/cinder_volume_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/58eb8a17334aa072099525fabf26944d37560d17', 'message': 'Do not define service resource when service management is disabled\n\nChange-Id: I64d3da1c9c6e379f410cf575c874c9d8d3153bb8\n'}]",0,828640,58eb8a17334aa072099525fabf26944d37560d17,8,3,2,9816,,,0,"Do not define service resource when service management is disabled

Change-Id: I64d3da1c9c6e379f410cf575c874c9d8d3153bb8
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/40/828640/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler.pp', 'manifests/api.pp', 'spec/classes/cinder_api_spec.rb', 'manifests/volume.pp', 'spec/classes/cinder_scheduler_spec.rb', 'spec/classes/cinder_volume_spec.rb']",6,0a389e628dad2e9945311e8b8c4302522e1c420c,manage_service, it { is_expected.to_not contain_service('cinder-volume') }, it { is_expected.to contain_service('cinder-volume').without_ensure },41,43
openstack%2Fpuppet-sahara~master~I24ae79928b5575fc333d679952dafce06a3b10e2,openstack/puppet-sahara,master,I24ae79928b5575fc333d679952dafce06a3b10e2,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:37:02.000000000,2022-02-14 19:33:56.000000000,2022-02-14 19:32:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 16:37:02.000000000', 'files': ['releasenotes/notes/api_paste_ini-separator-4d27dd2c2e38b587.yaml', 'lib/puppet/type/sahara_api_paste_ini.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/619be82e99001d067df75124a40cf0337d57f6d1', 'message': 'Allow customizing separator for api-paste.ini\n\nThe api-paste.ini accepts not only ""="" but also "":"" and some services\nlike Barbican have been using "":"" for their default api-paste.ini\nfiles.\n\n[composite:main]\nuse = egg:Paste#urlmap\n/: barbican_version\n/v1: barbican-api-keystone\n\nThis change allows users to use "":"" so that they can update the ini\nfiles with keeping it consistent with the default fules\n\nDepends-on: https://review.opendev.org/813614\nChange-Id: I24ae79928b5575fc333d679952dafce06a3b10e2\n'}]",0,828958,619be82e99001d067df75124a40cf0337d57f6d1,8,3,1,9816,,,0,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: I24ae79928b5575fc333d679952dafce06a3b10e2
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/58/828958/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/api_paste_ini-separator-4d27dd2c2e38b587.yaml', 'lib/puppet/type/sahara_api_paste_ini.rb']",2,619be82e99001d067df75124a40cf0337d57f6d1,paste-ini-sep, newparam(:key_val_separator) do desc 'The separator string to use between each setting name and value.' defaultto('=') end ,,10,0
openstack%2Fpuppet-trove~master~I372a41b5fc6c6632a0a1a615f23d69ab6203dfac,openstack/puppet-trove,master,I372a41b5fc6c6632a0a1a615f23d69ab6203dfac,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:38:05.000000000,2022-02-14 19:24:03.000000000,2022-02-14 19:22:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 16:38:05.000000000', 'files': ['releasenotes/notes/api_paste_ini-separator-04370950f086c7bb.yaml', 'lib/puppet/type/trove_api_paste_ini.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/538f6d5237c5a47b27a3f969891f3f70206803f8', 'message': 'Allow customizing separator for api-paste.ini\n\nThe api-paste.ini accepts not only ""="" but also "":"" and some services\nlike Barbican have been using "":"" for their default api-paste.ini\nfiles.\n\n[composite:main]\nuse = egg:Paste#urlmap\n/: barbican_version\n/v1: barbican-api-keystone\n\nThis change allows users to use "":"" so that they can update the ini\nfiles with keeping it consistent with the default fules\n\nDepends-on: https://review.opendev.org/813614\nChange-Id: I372a41b5fc6c6632a0a1a615f23d69ab6203dfac\n'}]",0,828959,538f6d5237c5a47b27a3f969891f3f70206803f8,8,3,1,9816,,,0,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: I372a41b5fc6c6632a0a1a615f23d69ab6203dfac
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/59/828959/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/api_paste_ini-separator-04370950f086c7bb.yaml', 'lib/puppet/type/trove_api_paste_ini.rb']",2,538f6d5237c5a47b27a3f969891f3f70206803f8,paste-ini-sep, newparam(:key_val_separator) do desc 'The separator string to use between each setting name and value.' defaultto('=') end ,,10,0
openstack%2Fpuppet-glance~stable%2Fxena~Ic7a01c9ca60196f89750026e7540a39c41e07cd3,openstack/puppet-glance,stable/xena,Ic7a01c9ca60196f89750026e7540a39c41e07cd3,Disallow sheepdog backend,MERGED,2022-02-11 05:13:27.000000000,2022-02-14 19:23:21.000000000,2022-02-14 19:23:21.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 05:13:27.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/157e9ab163b6eff4ea36a5d301952cff4440f98a', 'message': 'Disallow sheepdog backend\n\n... because it was removed during Ussuri cycle[1].\n\n[1] 5c9db72a93356876fabab2b294bced61a67105fe\n\nChange-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3\n(cherry picked from commit a37cdd923e0ae6eb22c616ef8c8c4c92376762a1)\n'}]",6,828765,157e9ab163b6eff4ea36a5d301952cff4440f98a,16,3,1,9816,,,0,"Disallow sheepdog backend

... because it was removed during Ussuri cycle[1].

[1] 5c9db72a93356876fabab2b294bced61a67105fe

Change-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3
(cherry picked from commit a37cdd923e0ae6eb22c616ef8c8c4c92376762a1)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/65/828765/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,157e9ab163b6eff4ea36a5d301952cff4440f98a,remove-sheepdog-driver, unless $backend_type =~ /file|http|swift|rbd|cinder|vsphere/ {, unless $backend_type =~ /file|http|swift|rbd|sheepdog|cinder|vsphere/ {,1,1
openstack%2Fpuppet-designate~master~I5534cdf776d361a1ed7ecb54af85886e390e680e,openstack/puppet-designate,master,I5534cdf776d361a1ed7ecb54af85886e390e680e,Standardize parameters for package/service management,MERGED,2022-02-14 00:05:54.000000000,2022-02-14 19:20:47.000000000,2022-02-14 19:18:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 00:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/053e3845e839603f00f05535ecdaa546a649cdbd', 'message': 'Standardize parameters for package/service management\n\nThe designate::worker class provides some additional parameters than\nthe other classes. Because there is no clear requirement for these\nparameters, this change deprecates these parameters so that we can\nprovide consistent interface to all service classes.\n\nChange-Id: I5534cdf776d361a1ed7ecb54af85886e390e680e\n'}, {'number': 2, 'created': '2022-02-14 00:06:26.000000000', 'files': ['manifests/worker.pp', 'releasenotes/notes/worker-reduce-service-and-package-params-dda3f31059ab300f.yaml', 'spec/classes/designate_worker_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/913b9a5af480794c3d2518c17e53fe1a427c5627', 'message': 'Standardize parameters for package/service management\n\nThe designate::worker class provides some additional parameters than\nthe other classes. Because there is no clear requirement for these\nparameters, this change deprecates these parameters so that we can\nprovide consistent interface to all service classes.\n\nChange-Id: I5534cdf776d361a1ed7ecb54af85886e390e680e\n'}]",0,828981,913b9a5af480794c3d2518c17e53fe1a427c5627,9,3,2,9816,,,0,"Standardize parameters for package/service management

The designate::worker class provides some additional parameters than
the other classes. Because there is no clear requirement for these
parameters, this change deprecates these parameters so that we can
provide consistent interface to all service classes.

Change-Id: I5534cdf776d361a1ed7ecb54af85886e390e680e
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/81/828981/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/worker.pp', 'releasenotes/notes/worker-reduce-service-and-package-params-dda3f31059ab300f.yaml', 'spec/classes/designate_worker_spec.rb']",3,053e3845e839603f00f05535ecdaa546a649cdbd,,," :manage_package => true, :worker_package_name => nil, :service_ensure => 'running',",26,23
openstack%2Fpuppet-horizon~master~I1baa3f166ef895bfb55302f144b696a9ace293cc,openstack/puppet-horizon,master,I1baa3f166ef895bfb55302f144b696a9ace293cc,Recommend dashboard-specific classes,MERGED,2022-02-13 04:08:06.000000000,2022-02-14 19:19:09.000000000,2022-02-14 19:19:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 04:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/7e0c57eae25076bd4cc38f82a088384be86d60d9', 'message': 'Suggest users to use dashboard-specific classes\n\nCurrently puppet-horizon has implementations to allow more flexible\ncustomization of specific dashboars(heat, octavia and manila) while\nit provides the basic one to only install plugin packages.\n\nThis change adds a warning message to let users aware of the new\nclasses which provides more complete support for dashboard parameters.\n\nChange-Id: I1baa3f166ef895bfb55302f144b696a9ace293cc\n'}, {'number': 2, 'created': '2022-02-13 04:35:32.000000000', 'files': ['manifests/dashboard.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/8bf867856f912400b1c0dc7d39ac5f01f1a3222a', 'message': 'Recommend dashboard-specific classes\n\nCurrently puppet-horizon has implementations to allow more flexible\ncustomization of specific dashboars(heat, octavia and manila) while\nit provides the basic one to only install plugin packages.\n\nThis change adds a warning message to let users aware of the new\nclasses which provides more complete support for dashboard parameters.\n\nChange-Id: I1baa3f166ef895bfb55302f144b696a9ace293cc\n'}]",0,828971,8bf867856f912400b1c0dc7d39ac5f01f1a3222a,8,3,2,9816,,,0,"Recommend dashboard-specific classes

Currently puppet-horizon has implementations to allow more flexible
customization of specific dashboars(heat, octavia and manila) while
it provides the basic one to only install plugin packages.

This change adds a warning message to let users aware of the new
classes which provides more complete support for dashboard parameters.

Change-Id: I1baa3f166ef895bfb55302f144b696a9ace293cc
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/71/828971/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/dashboard.pp'],1,7e0c57eae25076bd4cc38f82a088384be86d60d9,,"# This will install the correct cloudkitty-dashboard package for your deployment. # horizon::dashboard { 'cloudkitty': } if $dashboard in ['heat', 'octavia', 'manila'] { warning(""Use the horizon::dashboard::${dashboard} class instead. \ The class allows more flexible customization of the ${dashboard} dashboard."") } ",# This will install the correct heat-dashboard package for your deployment. # horizon::dashboard { 'heat': },7,2
openstack%2Fpuppet-designate~master~Iacb44a1d485c475bcb3a0be053c8ed7a60399866,openstack/puppet-designate,master,Iacb44a1d485c475bcb3a0be053c8ed7a60399866,Stop inheriting the base designate class,MERGED,2022-02-14 00:17:09.000000000,2022-02-14 19:18:35.000000000,2022-02-14 19:18:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 00:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d1dbddb80a12d3f97bfe6801771a7e074ed31434', 'message': 'Stop inheriting the base designate class\n\n... because it is not required and inheriting designate::params is\nenough. Reducing scope of inheritance allows us to decouple individual\nclasses.\n\nChange-Id: Iacb44a1d485c475bcb3a0be053c8ed7a60399866\n'}, {'number': 2, 'created': '2022-02-14 02:12:52.000000000', 'files': ['manifests/producer.pp', 'manifests/zone_manager.pp', 'manifests/worker.pp', 'manifests/sink.pp', 'manifests/agent.pp', 'manifests/central.pp', 'manifests/mdns.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/e586326e77e6234854e84cef005de1ca30a8c6d7', 'message': 'Stop inheriting the base designate class\n\n... because it is not required and inheriting designate::params is\nenough. Reducing scope of inheritance allows us to decouple individual\nclasses.\n\nChange-Id: Iacb44a1d485c475bcb3a0be053c8ed7a60399866\n'}]",0,828982,e586326e77e6234854e84cef005de1ca30a8c6d7,9,3,2,9816,,,0,"Stop inheriting the base designate class

... because it is not required and inheriting designate::params is
enough. Reducing scope of inheritance allows us to decouple individual
classes.

Change-Id: Iacb44a1d485c475bcb3a0be053c8ed7a60399866
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/82/828982/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/producer.pp', 'manifests/zone_manager.pp', 'manifests/worker.pp', 'manifests/sink.pp', 'manifests/agent.pp', 'manifests/central.pp', 'manifests/mdns.pp']",7,d1dbddb80a12d3f97bfe6801771a7e074ed31434,,) inherits designate::params {,) inherits designate {,11,13
openstack%2Fpuppet-magnum~master~Ie486a11c7ca19ec37c64e6b291420f216fe62a89,openstack/puppet-magnum,master,Ie486a11c7ca19ec37c64e6b291420f216fe62a89,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:33:30.000000000,2022-02-14 19:17:40.000000000,2022-02-14 19:15:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 16:33:30.000000000', 'files': ['lib/puppet/type/magnum_api_paste_ini.rb', 'releasenotes/notes/api_paste_ini-separator-a70260fefa06fe0c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/bf9bb02fcf990208c91cc637522801f71608fc18', 'message': 'Allow customizing separator for api-paste.ini\n\nThe api-paste.ini accepts not only ""="" but also "":"" and some services\nlike Barbican have been using "":"" for their default api-paste.ini\nfiles.\n\n[composite:main]\nuse = egg:Paste#urlmap\n/: barbican_version\n/v1: barbican-api-keystone\n\nThis change allows users to use "":"" so that they can update the ini\nfiles with keeping it consistent with the default fules\n\nDepends-on: https://review.opendev.org/813614\nChange-Id: Ie486a11c7ca19ec37c64e6b291420f216fe62a89\n'}]",0,828955,bf9bb02fcf990208c91cc637522801f71608fc18,8,3,1,9816,,,0,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: Ie486a11c7ca19ec37c64e6b291420f216fe62a89
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/55/828955/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/magnum_api_paste_ini.rb', 'releasenotes/notes/api_paste_ini-separator-a70260fefa06fe0c.yaml']",2,bf9bb02fcf990208c91cc637522801f71608fc18,paste-ini-sep,--- features: - | The new ``key_val_separator`` parameter has been added to the ``magnum_api_paste_ini`` resource type. ,,10,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Fxena~I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2,openstack/openstack-ansible-os_keystone,stable/xena,I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2,Drop ProxyPass out of VHost,MERGED,2022-02-11 16:11:34.000000000,2022-02-14 19:11:26.000000000,2022-02-14 19:09:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-11 16:11:34.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/fbad6161cb1872e5b8bf89c00019f56ac68224fb', 'message': 'Drop ProxyPass out of VHost\n\nAs ProxyPass defined out of VHost, it has global effect, resulting\nin Horizon Identity section to be jsut proxied to keystone API\ninstead of rederred by Django as instructed by Horizon VHost.\n\nChange-Id: I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2\nCloses-Bug: #1960342\n(cherry picked from commit 790d0c3482ba8d98c97ee941c595bd2ffd80d810)\n'}]",3,828838,fbad6161cb1872e5b8bf89c00019f56ac68224fb,13,3,1,28619,,,0,"Drop ProxyPass out of VHost

As ProxyPass defined out of VHost, it has global effect, resulting
in Horizon Identity section to be jsut proxied to keystone API
instead of rederred by Django as instructed by Horizon VHost.

Change-Id: I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2
Closes-Bug: #1960342
(cherry picked from commit 790d0c3482ba8d98c97ee941c595bd2ffd80d810)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/38/828838/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,fbad6161cb1872e5b8bf89c00019f56ac68224fb,bug/1960342-stable/xena,, ProxyPass /identity uwsgi://127.0.0.1:{{ keystone_uwsgi_ports['keystone-wsgi-public']['socket'] }},0,2
openstack%2Fos-brick~master~If47dbc692e8e2ae1eab89cd190e0299c530b9d43,openstack/os-brick,master,If47dbc692e8e2ae1eab89cd190e0299c530b9d43,Updating python testing as per Yoga testing runtime,MERGED,2022-02-14 14:23:03.000000000,2022-02-14 18:55:47.000000000,2022-02-14 18:53:28.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 14:23:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3f033107e06af0ea3b3893a1f9489db1615c0ea9', 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting and as we are testing py3.6 and py3.9\nwe do not need to test py3.7|8 explicitly. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit makes update the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: If47dbc692e8e2ae1eab89cd190e0299c530b9d43\n'}]",3,829055,3f033107e06af0ea3b3893a1f9489db1615c0ea9,17,3,1,30615,,,0,"Updating python testing as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting and as we are testing py3.6 and py3.9
we do not need to test py3.7|8 explicitly. Unit tests update are
handled by the job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit makes update the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: If47dbc692e8e2ae1eab89cd190e0299c530b9d43
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/55/829055/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3f033107e06af0ea3b3893a1f9489db1615c0ea9,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fopenstack-ansible-repo_server~stable%2Fxena~I26bb0e21d797c2bfbe67e03003da01c355c27561,openstack/openstack-ansible-repo_server,stable/xena,I26bb0e21d797c2bfbe67e03003da01c355c27561,Ensure insist=true is always set for lsyncd,MERGED,2022-02-11 16:03:30.000000000,2022-02-14 18:44:05.000000000,2022-02-14 18:42:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-11 16:03:30.000000000', 'files': ['templates/lsyncd.lua.j2', 'templates/lsyncd.defaults.j2', 'tasks/repo_sync_manager.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/20f01a5d8840ae664deebda54d3525b385b38331', 'message': 'Ensure insist=true is always set for lsyncd\n\nIf insist is not set to true then lsyncd will exit if it cannot\nperform an initial rsync to the target hosts.\n\nDue to the order in which the repo servers are configured, lsyncd\nmay be installed and started on the first host in the repo_servers\ngroup before the ssh keys and other necessary configuration have\nbeen placed on the remaining hosts. This leads to a failure to\nstart lsyncd.\n\nThis patch moves the setting of insist into the lua config file\nfor all operating systems, and removes the need to template a\ndefaults file on debian derivatives.\n\nChange-Id: I26bb0e21d797c2bfbe67e03003da01c355c27561\n(cherry picked from commit ee0a6d5b3713299aa183c98590f4a252135d8568)\n'}]",2,828835,20f01a5d8840ae664deebda54d3525b385b38331,12,3,1,25023,,,0,"Ensure insist=true is always set for lsyncd

If insist is not set to true then lsyncd will exit if it cannot
perform an initial rsync to the target hosts.

Due to the order in which the repo servers are configured, lsyncd
may be installed and started on the first host in the repo_servers
group before the ssh keys and other necessary configuration have
been placed on the remaining hosts. This leads to a failure to
start lsyncd.

This patch moves the setting of insist into the lua config file
for all operating systems, and removes the need to template a
defaults file on debian derivatives.

Change-Id: I26bb0e21d797c2bfbe67e03003da01c355c27561
(cherry picked from commit ee0a6d5b3713299aa183c98590f4a252135d8568)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/35/828835/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/lsyncd.lua.j2', 'templates/lsyncd.defaults.j2', 'tasks/repo_sync_manager.yml']",3,20f01a5d8840ae664deebda54d3525b385b38331,," - { src: ""lsyncd.lua.j2"", dest: ""{{ repo_lsyncd_config_file }}"", condition: true } - { src: ""lsyncd.defaults.j2"", dest: ""{{ repo_lsyncd_defaults_file }}"", condition: ""{{ ansible_facts['pkg_mgr'] == 'dnf' }}"" } - item.condition | bool"," - { src: ""lsyncd.lua.j2"", dest: ""{{ repo_lsyncd_config_file }}"" } - { src: ""lsyncd.defaults.j2"", dest: ""{{ repo_lsyncd_defaults_file }}"" }",5,7
openstack%2Fos-brick~master~Ia73c391d2fafde119e0bb4914c30b48b4300e330,openstack/os-brick,master,Ia73c391d2fafde119e0bb4914c30b48b4300e330,Fix PowerFlex connector HTTPS certificate validation,MERGED,2021-09-22 12:28:31.000000000,2022-02-14 18:35:47.000000000,2022-02-14 18:33:20.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 13425}, {'_account_id': 13671}, {'_account_id': 14624}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31016}, {'_account_id': 34071}]","[{'number': 1, 'created': '2021-09-22 12:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0d869112b1fa2b0b822282a95e28effcb462caa9', 'message': 'Closes-Bug: #1929223\n\nChange-Id: Ia73c391d2fafde119e0bb4914c30b48b4300e330\n'}, {'number': 2, 'created': '2021-09-22 12:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/42c879638b8a0f6320ebf3a8675f186773d0c1d4', 'message': 'Fix PowerFlex connector HTTPS certificate validation\n\nCloses-Bug: #1929223\n\nChange-Id: Ia73c391d2fafde119e0bb4914c30b48b4300e330\n'}, {'number': 3, 'created': '2021-09-22 14:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/83c458972c99f8e98f7598947607f6d5a96a6f67', 'message': 'Fix PowerFlex connector HTTPS certificate validation\nCloses-Bug: #1929223\n\nChange-Id: Ia73c391d2fafde119e0bb4914c30b48b4300e330\n'}, {'number': 4, 'created': '2021-09-22 17:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c19370431555016cc92244ea35c415e4f8b5d3e7', 'message': 'Fix PowerFlex connector HTTPS certificate validation\nCloses-Bug: #1929223\n\nChange-Id: Ia73c391d2fafde119e0bb4914c30b48b4300e330\n'}, {'number': 5, 'created': '2021-09-23 17:38:31.000000000', 'files': ['releasenotes/notes/bug-1929223-powerflex-connector-certificate-validation-cf9ffc98391115d5.yaml', 'os_brick/initiator/connectors/scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/adde4de38d3bee0e3e3fa9c94de647b28d53a2a8', 'message': 'Fix PowerFlex connector HTTPS certificate validation\n\nCloses-Bug: #1929223\n\nChange-Id: Ia73c391d2fafde119e0bb4914c30b48b4300e330\n'}]",15,810419,adde4de38d3bee0e3e3fa9c94de647b28d53a2a8,51,13,5,33502,,,0,"Fix PowerFlex connector HTTPS certificate validation

Closes-Bug: #1929223

Change-Id: Ia73c391d2fafde119e0bb4914c30b48b4300e330
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/19/810419/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/scaleio.py'],1,0d869112b1fa2b0b822282a95e28effcb462caa9,bug/1929223, self.verify_certificate = None self.certificate_path = None verify=self._verify_cert() verify=self._verify_cert()) verify=self._verify_cert() verify=self._verify_cert()) verify=self._verify_cert() def _verify_cert(self): verify_cert = self.verify_certificate if self.verify_certificate and self.certificate_path: verify_cert = self.certificate_path return verify_cert self.verify_certificate = connection_properties['verify_certificate'] self.certificate_path = connection_properties['certificate_path'] verify=self._verify_cert() verify=self._verify_cert() verify=self._verify_cert(), verify=False verify=False) verify=False verify=False) verify=False verify=False verify=False verify=False,18,8
openstack%2Ftripleo-docs~master~I53d0fdee72a2de2143226a2e1f7fe3c75701f16a,openstack/tripleo-docs,master,I53d0fdee72a2de2143226a2e1f7fe3c75701f16a,Split off Ceph related container images,MERGED,2022-01-14 12:20:53.000000000,2022-02-14 18:33:25.000000000,2022-02-14 18:31:35.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 12:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c3b0f92b37adcf8866bce0082c49210ab8dccaf5', 'message': 'Split off Ceph related container images\n\nThis change describes the required parameters we need to skip\nthe ceph related containers during container image prepare.\n\nDepends-On: I7e337596b653cf635f07a36606e9f673044402a3\nChange-Id: I53d0fdee72a2de2143226a2e1f7fe3c75701f16a\n'}, {'number': 2, 'created': '2022-02-09 09:34:46.000000000', 'files': ['deploy-guide/source/deployment/container_image_prepare.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e524e3e0e41df2a093643d78952902e754a5be19', 'message': 'Split off Ceph related container images\n\nThis change describes the required parameters we need to skip\nthe ceph related containers during container image prepare.\n\nDepends-On: I7e337596b653cf635f07a36606e9f673044402a3\nChange-Id: I53d0fdee72a2de2143226a2e1f7fe3c75701f16a\n'}]",4,824704,e524e3e0e41df2a093643d78952902e754a5be19,15,6,2,25402,,,0,"Split off Ceph related container images

This change describes the required parameters we need to skip
the ceph related containers during container image prepare.

Depends-On: I7e337596b653cf635f07a36606e9f673044402a3
Change-Id: I53d0fdee72a2de2143226a2e1f7fe3c75701f16a
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/04/824704/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/container_image_prepare.rst'],1,c3b0f92b37adcf8866bce0082c49210ab8dccaf5,split_off_ceph,"If Ceph is not part of the overcloud deployment, it's possible to skip pulling the related containers using the following syntax:: ContainerImagePrepare: - push_destination: 192.168.24.1:8787 set: ceph_images: false By doing this, the Ceph container images are not pulled from the remote registry during the deployment.",,10,0
openstack%2Fcharm-pacemaker-remote~master~Ief58dc3b09a7b9c3f23fd2cb9054fb01306e56a9,openstack/charm-pacemaker-remote,master,Ief58dc3b09a7b9c3f23fd2cb9054fb01306e56a9,Update to build using charmcraft,MERGED,2022-02-01 21:07:08.000000000,2022-02-14 18:30:18.000000000,2022-02-10 11:41:37.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 21:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/0e5e5344a3e30a645fca879f7373f4033f27f24e', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ief58dc3b09a7b9c3f23fd2cb9054fb01306e56a9\n'}, {'number': 2, 'created': '2022-02-07 15:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/98e07c02c49371df8632c008c42e08947e57912c', 'message': 'WIP - update to build using charmcraft\n\nNOTE: this uses a modified charmhelpers that has no Tempita module\ndependency to see if pacemaker remote actually needs it for operations.\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ief58dc3b09a7b9c3f23fd2cb9054fb01306e56a9\n'}, {'number': 3, 'created': '2022-02-09 10:41:55.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/jammy-basic.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-basic.yaml', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/bionic-basic.yaml', 'src/tests/bundles/impish-basic.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/fb5e0dfc9fce70f825a24edfa93992d60b8f09c9', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Ief58dc3b09a7b9c3f23fd2cb9054fb01306e56a9\n'}]",4,827370,fb5e0dfc9fce70f825a24edfa93992d60b8f09c9,21,5,3,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Ief58dc3b09a7b9c3f23fd2cb9054fb01306e56a9
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/70/827370/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/jammy-basic.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-basic.yaml', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/bionic-basic.yaml', 'src/tests/bundles/impish-basic.yaml', 'tox.ini']",12,0e5e5344a3e30a645fca879f7373f4033f27f24e,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,81,36
openstack%2Fpuppet-tacker~master~I92df917887da3220dfb7c7ed10fac123f01af1aa,openstack/puppet-tacker,master,I92df917887da3220dfb7c7ed10fac123f01af1aa,Allow customizing api-paste.ini file,MERGED,2022-02-13 03:38:55.000000000,2022-02-14 18:29:03.000000000,2022-02-14 18:27:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 03:38:55.000000000', 'files': ['spec/unit/type/tacker_api_paste_ini_spec.rb', 'spec/unit/provider/tacker_api_paste_ini/ini_setting_spec.rb', 'lib/puppet/type/tacker_api_paste_ini.rb', 'lib/puppet/provider/tacker_api_paste_ini/ini_setting.rb', 'releasenotes/notes/api_paste_ini-db64650c80b35187.yaml', 'manifests/deps.pp', 'manifests/config.pp', 'spec/classes/tacker_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/10eda6e7802ee28855ea2a8012b920d63b0b40a2', 'message': 'Allow customizing api-paste.ini file\n\nThis change introduces a new resource type and the corresponding puppet\nparameter to allow managing records in api-paste.ini.\n\nChange-Id: I92df917887da3220dfb7c7ed10fac123f01af1aa\n'}]",0,828968,10eda6e7802ee28855ea2a8012b920d63b0b40a2,8,3,1,9816,,,0,"Allow customizing api-paste.ini file

This change introduces a new resource type and the corresponding puppet
parameter to allow managing records in api-paste.ini.

Change-Id: I92df917887da3220dfb7c7ed10fac123f01af1aa
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/68/828968/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/tacker_api_paste_ini/ini_setting_spec.rb', 'spec/unit/type/tacker_api_paste_ini_spec.rb', 'lib/puppet/type/tacker_api_paste_ini.rb', 'lib/puppet/provider/tacker_api_paste_ini/ini_setting.rb', 'releasenotes/notes/api_paste_ini-db64650c80b35187.yaml', 'manifests/deps.pp', 'manifests/config.pp', 'spec/classes/tacker_config_spec.rb']",8,10eda6e7802ee28855ea2a8012b920d63b0b40a2,api_paste_ini,"require 'spec_helper' describe 'tacker::config' do let(:config_hash) do { 'DEFAULT/foo' => { 'value' => 'fooValue' }, 'DEFAULT/bar' => { 'value' => 'barValue' }, 'DEFAULT/baz' => { 'ensure' => 'absent' } } end shared_examples_for 'tacker_config' do let :params do { :tacker_config => config_hash } end it { is_expected.to contain_class('tacker::deps') } it 'configures arbitrary tacker-config configurations' do is_expected.to contain_tacker_config('DEFAULT/foo').with_value('fooValue') is_expected.to contain_tacker_config('DEFAULT/bar').with_value('barValue') is_expected.to contain_tacker_config('DEFAULT/baz').with_ensure('absent') end end shared_examples_for 'tacker_api_paste_ini' do let :params do { :tacker_api_paste_ini => config_hash } end it 'configures arbitrary tacker-api-paste-ini configurations' do is_expected.to contain_tacker_api_paste_ini('DEFAULT/foo').with_value('fooValue') is_expected.to contain_tacker_api_paste_ini('DEFAULT/bar').with_value('barValue') is_expected.to contain_tacker_api_paste_ini('DEFAULT/baz').with_ensure('absent') end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'tacker_config' it_configures 'tacker_api_paste_ini' end end end ",,191,1
openstack%2Fpuppet-ovn~stable%2Fvictoria~I884a1bd836d21fba520bf5a6c17ff2bdc949e31f,openstack/puppet-ovn,stable/victoria,I884a1bd836d21fba520bf5a6c17ff2bdc949e31f,Add new update parameter: enable_ovn_match_northd.,MERGED,2022-02-11 12:05:26.000000000,2022-02-14 18:22:37.000000000,2022-02-14 18:22:37.000000000,"[{'_account_id': 8655}, {'_account_id': 9816}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-02-11 12:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/26f14c8cd53a0a6646b1655387b34aa97a1c2975', 'message': ""Add new update parameter: enable_ovn_match_northd.\n\nThis new boolean parameter enables update of the ovn-controllers after\novn-northd. It tells the ovn-controller to not fetch new messages from\nthe ovn-northd until they are both the same version.\n\nIt's false by default so nothing changes.\n\nChange-Id: I884a1bd836d21fba520bf5a6c17ff2bdc949e31f\n(cherry picked from commit 392ad7946ef5c7659f9320a3f832245e21f8365f)\n""}, {'number': 2, 'created': '2022-02-11 12:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/f6090ba125b470f79b2b24eb2c31a3994ac8b783', 'message': ""Add new update parameter: enable_ovn_match_northd.\n\nThis new boolean parameter enables update of the ovn-controllers after\novn-northd. It tells the ovn-controller to not fetch new messages from\nthe ovn-northd until they are both the same version.\n\nIt's false by default so nothing changes.\n\nChange-Id: I884a1bd836d21fba520bf5a6c17ff2bdc949e31f\n(cherry picked from commit 392ad7946ef5c7659f9320a3f832245e21f8365f)\n""}, {'number': 3, 'created': '2022-02-11 12:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/33e3893564d35ec592e125f137076fb610e45f79', 'message': ""Add new update parameter: enable_ovn_match_northd.\n\nThis new boolean parameter enables update of the ovn-controllers after\novn-northd. It tells the ovn-controller to not fetch new messages from\nthe ovn-northd until they are both the same version.\n\nIt's false by default so nothing changes.\n\nChange-Id: I884a1bd836d21fba520bf5a6c17ff2bdc949e31f\n(cherry picked from commit 392ad7946ef5c7659f9320a3f832245e21f8365f)\n""}, {'number': 4, 'created': '2022-02-11 14:22:00.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/f30b76a657349fe5a98dc0e97ee130f088677235', 'message': ""Add new update parameter: enable_ovn_match_northd.\n\nThis new boolean parameter enables update of the ovn-controllers after\novn-northd. It tells the ovn-controller to not fetch new messages from\nthe ovn-northd until they are both the same version.\n\nIt's false by default so nothing changes.\n\nConflicts:\n\tmanifests/controller.pp\n\tspec/classes/ovn_controller_spec.rb\n\nChange-Id: I884a1bd836d21fba520bf5a6c17ff2bdc949e31f\n(cherry picked from commit 392ad7946ef5c7659f9320a3f832245e21f8365f)\n""}]",7,828866,f30b76a657349fe5a98dc0e97ee130f088677235,17,6,4,8297,,,0,"Add new update parameter: enable_ovn_match_northd.

This new boolean parameter enables update of the ovn-controllers after
ovn-northd. It tells the ovn-controller to not fetch new messages from
the ovn-northd until they are both the same version.

It's false by default so nothing changes.

Conflicts:
	manifests/controller.pp
	spec/classes/ovn_controller_spec.rb

Change-Id: I884a1bd836d21fba520bf5a6c17ff2bdc949e31f
(cherry picked from commit 392ad7946ef5c7659f9320a3f832245e21f8365f)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/66/828866/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp']",2,26f14c8cd53a0a6646b1655387b34aa97a1c2975,,"# # [*enable_ovn_match_northd*] # (optional) When set to true, enable update of ovn_controller after # ovn-northd by blocking new message from the ovn-northd to be # accepted by the ovn_controller until they have the same version. # This need >= ovn2.13-20.09.0-17. $enable_ovn_match_northd = false, $ovn_match_northd = { 'external_ids:ovn-match-northd-version' => { 'value' => bool2str($enable_ovn_match_northd) } } create_resources('vs_config', merge($config_items, $chassis_mac_map, $bridge_items, $tz_items, $hw_offload, $datapath_config, $ovn_match_northd))"," create_resources('vs_config', merge($config_items, $chassis_mac_map, $bridge_items, $tz_items, $hw_offload, $datapath_config))",16,1
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fvictoria~I3adb4dd75198935c4656d0208043ad8051f29312,openstack/openstack-ansible-lxc_hosts,stable/victoria,I3adb4dd75198935c4656d0208043ad8051f29312,Ensure that the legacy network-scripts package is present,MERGED,2022-02-08 09:28:17.000000000,2022-02-14 18:21:52.000000000,2022-02-14 18:19:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-08 09:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/13030b77994e352cc5336eef2d2ba52b5adde8f3', 'message': 'Ensure that the legacy network-scripts package is present\n\nThe lxc_hosts ansible role currently relies on the ifup / ifdown\ncommands.\n\nChange-Id: I3adb4dd75198935c4656d0208043ad8051f29312\n(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)\n'}, {'number': 2, 'created': '2022-02-08 14:19:56.000000000', 'files': ['vars/redhat-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1ed262ebbd4226d9af9e0e9325fe5013520b48e6', 'message': 'Ensure that the legacy network-scripts package is present\n\nThe lxc_hosts ansible role currently relies on the ifup / ifdown\ncommands.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/828346\nChange-Id: I3adb4dd75198935c4656d0208043ad8051f29312\n(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)\n'}]",2,828237,1ed262ebbd4226d9af9e0e9325fe5013520b48e6,15,3,2,25023,,,0,"Ensure that the legacy network-scripts package is present

The lxc_hosts ansible role currently relies on the ifup / ifdown
commands.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/828346
Change-Id: I3adb4dd75198935c4656d0208043ad8051f29312
(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/37/828237/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-host.yml'],1,13030b77994e352cc5336eef2d2ba52b5adde8f3,, - network-scripts,,1,0
openstack%2Fpuppet-cloudkitty~master~I8eab557c13b3a6455a38b24732c692c5e823421a,openstack/puppet-cloudkitty,master,I8eab557c13b3a6455a38b24732c692c5e823421a,Deprecate cloudkitty::ui,MERGED,2022-02-13 04:02:23.000000000,2022-02-14 18:19:00.000000000,2022-02-14 18:14:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 04:02:23.000000000', 'files': ['manifests/ui.pp', 'releasenotes/notes/deprecate-ui-c0d9ab54c28b1764.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/0f89c9ab8fccbe7840dda5ad5309a12784e417ef', 'message': 'Deprecate cloudkitty::ui\n\nThe cloudkitty::ui class has been added to install the dashboard plugin\npackage. However the current implementation is incomplete and does not\ndefine the required dependencies to install the plugin package before\nstarting the horizon service. Furthermore, the same can be achieved by\nthe horizon::dashboard resource type and that is considered to be more\n""native"" way.\n\nThis change deprecates the ui class so that we can get rid of it in\na future release.\n\nChange-Id: I8eab557c13b3a6455a38b24732c692c5e823421a\n'}]",0,828970,0f89c9ab8fccbe7840dda5ad5309a12784e417ef,8,3,1,9816,,,0,"Deprecate cloudkitty::ui

The cloudkitty::ui class has been added to install the dashboard plugin
package. However the current implementation is incomplete and does not
define the required dependencies to install the plugin package before
starting the horizon service. Furthermore, the same can be achieved by
the horizon::dashboard resource type and that is considered to be more
""native"" way.

This change deprecates the ui class so that we can get rid of it in
a future release.

Change-Id: I8eab557c13b3a6455a38b24732c692c5e823421a
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/70/828970/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ui.pp', 'releasenotes/notes/deprecate-ui-c0d9ab54c28b1764.yaml']",2,0f89c9ab8fccbe7840dda5ad5309a12784e417ef,,--- deprecations: - | The ``cloudkitty::ui`` class has been deprecated and will be removed in a future release. ,,8,0
openstack%2Fpuppet-cloudkitty~master~I3c357f6188cdd60e6bb799063e76a600d885aa54,openstack/puppet-cloudkitty,master,I3c357f6188cdd60e6bb799063e76a600d885aa54,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:34:58.000000000,2022-02-14 18:17:27.000000000,2022-02-14 18:14:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 16:34:58.000000000', 'files': ['releasenotes/notes/api_paste_ini-separator-08a7613effc251a0.yaml', 'lib/puppet/type/cloudkitty_api_paste_ini.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/7c80854c17abb1d5b8ba835ac42fab261853298d', 'message': 'Allow customizing separator for api-paste.ini\n\nThe api-paste.ini accepts not only ""="" but also "":"" and some services\nlike Barbican have been using "":"" for their default api-paste.ini\nfiles.\n\n[composite:main]\nuse = egg:Paste#urlmap\n/: barbican_version\n/v1: barbican-api-keystone\n\nThis change allows users to use "":"" so that they can update the ini\nfiles with keeping it consistent with the default fules\n\nDepends-on: https://review.opendev.org/813614\nChange-Id: I3c357f6188cdd60e6bb799063e76a600d885aa54\n'}]",0,828956,7c80854c17abb1d5b8ba835ac42fab261853298d,8,3,1,9816,,,0,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: I3c357f6188cdd60e6bb799063e76a600d885aa54
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/56/828956/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/api_paste_ini-separator-08a7613effc251a0.yaml', 'lib/puppet/type/cloudkitty_api_paste_ini.rb']",2,7c80854c17abb1d5b8ba835ac42fab261853298d,paste-ini-sep, newparam(:key_val_separator) do desc 'The separator string to use between each setting name and value.' defaultto('=') end ,,10,0
openstack%2Fpuppet-cloudkitty~master~Icd30923802064aec6a3ae9716b2ae30665998aae,openstack/puppet-cloudkitty,master,Icd30923802064aec6a3ae9716b2ae30665998aae,Support more [orchestrator] parameters,MERGED,2022-02-13 02:29:59.000000000,2022-02-14 18:14:33.000000000,2022-02-14 18:14:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 02:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/3ef71ccd8fb1fc3cdef4bb864ea852edcdd861f4', 'message': 'Support more [orchestrator] parameters\n\nChange-Id: Icd30923802064aec6a3ae9716b2ae30665998aae\n'}, {'number': 2, 'created': '2022-02-13 02:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/0c75f12bf3f2f2f5a570e41348882b9fe8cb87fa', 'message': 'Support more [orchestrator] parameters\n\nChange-Id: Icd30923802064aec6a3ae9716b2ae30665998aae\n'}, {'number': 3, 'created': '2022-02-13 02:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/85e985e18124ee56cefc6953eb811b10524e257c', 'message': 'Support more [orchestrator] parameters\n\nChange-Id: Icd30923802064aec6a3ae9716b2ae30665998aae\n'}, {'number': 4, 'created': '2022-02-13 03:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/5820369a09f85c20dc2121a3a6e819962097c447', 'message': 'Support more [orchestrator] parameters\n\nChange-Id: Icd30923802064aec6a3ae9716b2ae30665998aae\n'}, {'number': 5, 'created': '2022-02-13 03:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/12165fca633a1ed32b90e5b65601b4ffc9b72043', 'message': 'Support more [orchestrator] parameters\n\nChange-Id: Icd30923802064aec6a3ae9716b2ae30665998aae\n'}, {'number': 6, 'created': '2022-02-13 04:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/2d529c36b35b21605ab6826df7dace920799a297', 'message': 'Support more [orchestrator] parameters\n\nChange-Id: Icd30923802064aec6a3ae9716b2ae30665998aae\n'}, {'number': 7, 'created': '2022-02-13 12:20:30.000000000', 'files': ['spec/classes/cloudkitty_orchestrator_spec.rb', 'releasenotes/notes/orchestrator-2f9ead1187266db8.yaml', 'manifests/orchestrator.pp', 'manifests/deps.pp', 'manifests/processor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/bd9098ec8773cca96f54c2b013e37c087a51029d', 'message': 'Support more [orchestrator] parameters\n\nThis change introduces a separate new class to manage [orchestrator]\nparameters. The max_workers parameter in the processor class is\ndeprecated in favor of that new class.\n\nChange-Id: Icd30923802064aec6a3ae9716b2ae30665998aae\n'}]",0,828966,bd9098ec8773cca96f54c2b013e37c087a51029d,16,3,7,9816,,,0,"Support more [orchestrator] parameters

This change introduces a separate new class to manage [orchestrator]
parameters. The max_workers parameter in the processor class is
deprecated in favor of that new class.

Change-Id: Icd30923802064aec6a3ae9716b2ae30665998aae
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/66/828966/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cloudkitty_orchestrator_spec.rb', 'releasenotes/notes/orchestrator-2f9ead1187266db8.yaml', 'manifests/orchestrator.pp', 'manifests/processor.pp']",4,3ef71ccd8fb1fc3cdef4bb864ea852edcdd861f4,orchestrator,"# DEPRECATED PARAMETERS # # DEPRECATED PARAMETERS $max_workers = undef, if $max_workers != undef { warning('The max_workers parameter is deprecated. Use the cloudkitty::coordination class.') } include cloudkitty::coordination "," $max_workers = $::os_service_default, 'orchestrator/max_workers': value => $max_workers;",114,2
openstack%2Fos-brick~master~I629b80b208295c0e6bc9f18ad8e6905759e6593e,openstack/os-brick,master,I629b80b208295c0e6bc9f18ad8e6905759e6593e,nvmeof connector utilize replica_count,MERGED,2021-09-29 11:19:02.000000000,2022-02-14 18:12:27.000000000,2022-02-14 18:06:58.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 30555}, {'_account_id': 34173}, {'_account_id': 34550}]","[{'number': 1, 'created': '2021-09-29 11:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d87e402d2f7a39f01a35ed44fd2cfe7f4ce81a6d', 'message': 'nvmeof connector utilize replica_count\n\nnvmeof connector methods handling volumes with volume_replicas should utilize replica_count parameter in connection_information to determine method of device exposure to host\n\nCloses-Bug: #1938870\nChange-Id: I629b80b208295c0e6bc9f18ad8e6905759e6593e\n'}, {'number': 2, 'created': '2022-01-20 10:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8dfd3686c0b6ea8a2e1091f33e4719c621ef817c', 'message': 'nvmeof connector utilize replica_count\n\nnvmeof connector methods handling volumes with volume_replicas should utilize replica_count parameter in connection_information to determine method of device exposure to host\n\nCloses-Bug: #1938870\nChange-Id: I629b80b208295c0e6bc9f18ad8e6905759e6593e\n'}, {'number': 3, 'created': '2022-01-20 10:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b16f9845f8dd4c05726354b043428262a26ecb0d', 'message': 'nvmeof connector utilize replica_count\n\nnvmeof connector methods handling volumes with volume_replicas should utilize replica_count parameter in connection_information to determine method of device exposure to host\n\nCloses-Bug: #1938870\nChange-Id: I629b80b208295c0e6bc9f18ad8e6905759e6593e\n'}, {'number': 4, 'created': '2022-01-20 11:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/62f1c47f002aaa9dbee5b1e109db01f8b13ac554', 'message': 'nvmeof connector utilize replica_count\n\nnvmeof connector methods handling volumes with volume_replicas should utilize replica_count parameter in connection_information to determine method of device exposure to host\n\nCloses-Bug: #1938870\nChange-Id: I629b80b208295c0e6bc9f18ad8e6905759e6593e\n'}, {'number': 5, 'created': '2022-01-20 14:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/94458bf854a3b33614886c5c7f12e032058734c9', 'message': 'nvmeof connector utilize replica_count\n\nnvmeof connector methods handling volumes with volume_replicas should utilize replica_count parameter in connection_information to determine method of device exposure to host\n\nCloses-Bug: #1938870\nChange-Id: I629b80b208295c0e6bc9f18ad8e6905759e6593e\nrecheck\n'}, {'number': 6, 'created': '2022-02-02 11:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2f3f7e0c95386147920a1c54b9a9f2a9c637e5af', 'message': 'nvmeof connector utilize replica_count\n\nnvmeof connector methods handling volumes with volume_replicas should utilize replica_count parameter in connection_information to determine method of device exposure to host\n\nCloses-Bug: #1938870\nChange-Id: I629b80b208295c0e6bc9f18ad8e6905759e6593e\nrecheck\n'}, {'number': 7, 'created': '2022-02-09 08:14:30.000000000', 'files': ['os_brick/tests/initiator/connectors/test_nvmeof.py', 'releasenotes/notes/bug-1938870-af85c420d1a108a9.yaml', 'os_brick/initiator/connectors/nvmeof.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/49114867f9be48afa6379a2e76fdc1403c7784f1', 'message': 'nvmeof connector utilize replica_count\n\nnvmeof connector methods handling volumes with volume_replicas should\nutilize replica_count parameter in connection_information to\ndetermine method of device exposure to host\n\nCloses-Bug: #1938870\nChange-Id: I629b80b208295c0e6bc9f18ad8e6905759e6593e\n'}]",24,811717,49114867f9be48afa6379a2e76fdc1403c7784f1,84,8,7,16721,,,0,"nvmeof connector utilize replica_count

nvmeof connector methods handling volumes with volume_replicas should
utilize replica_count parameter in connection_information to
determine method of device exposure to host

Closes-Bug: #1938870
Change-Id: I629b80b208295c0e6bc9f18ad8e6905759e6593e
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/17/811717/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py']",2,d87e402d2f7a39f01a35ed44fd2cfe7f4ce81a6d,bug/1938870," replica_count = connection_properties.get('replica_count') if volume_replicas and replica_count > 1: if volume_replicas and replica_count == 1: replica_count = connection_properties.get('replica_count') if replica_count > 1: host_device_paths, volume_alias, replica_count) replica_count = connection_properties.get('replica_count') elif volume_replicas and replica_count > 1: if volume_replicas and replica_count > 1: replica_count = connection_properties.get('replica_count') if volume_replicas and replica_count > 1:"," if volume_replicas and len(volume_replicas) > 1: if volume_replicas and len(volume_replicas) == 1: if len(volume_replicas) > 1: host_device_paths, volume_alias, len(volume_replicas)) elif volume_replicas and len(volume_replicas) > 1: if volume_replicas and len(volume_replicas) > 1: if volume_replicas and len(volume_replicas) > 1:",20,11
openstack%2Fos-brick~master~Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09,openstack/os-brick,master,Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09,NVMeOF connector support multipath-enabled kernels,MERGED,2021-08-31 08:34:27.000000000,2022-02-14 18:09:49.000000000,2022-02-14 18:06:56.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 12670}, {'_account_id': 13425}, {'_account_id': 16721}, {'_account_id': 22348}, {'_account_id': 30555}, {'_account_id': 30615}, {'_account_id': 34173}, {'_account_id': 34550}]","[{'number': 1, 'created': '2021-08-31 08:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/efd5437facfe62c4f424da39cabcab162ba477cd', 'message': ""NVMeOF connector support multipath-enabled kernels\n\nUse the '/sys/class/block/<ctrl>n*' form for finding nvme devices.\nThis way is more generic, and is mainly beneficial because the device name format does not change as it does in '/sys/class/nvme-fabrics/ctl/' for multipath-enabled vs disabled kernels.\n\nChange-Id: Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09\n""}, {'number': 2, 'created': '2021-09-14 15:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7c4346e7d156424d7e523708967124cc8f418f45', 'message': ""NVMeOF connector support multipath-enabled kernels\n\nUse the '/sys/class/block/<ctrl>n*' form for finding nvme devices.\nThis way is more generic, and is mainly beneficial because the device name format does not change as it does in '/sys/class/nvme-fabrics/ctl/' for multipath-enabled vs disabled kernels.\n\nCloses-Bug: #1943615\nChange-Id: Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09\n""}, {'number': 3, 'created': '2021-10-07 15:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/96744203684a7eaa5ea87ea713096644c4233879', 'message': ""NVMeOF connector support multipath-enabled kernels\n\nUse the '/sys/class/block/<ctrl>n*' form for finding nvme devices.\nThis way is more generic, and is mainly beneficial because the device name format does not change as it does in '/sys/class/nvme-fabrics/ctl/' for multipath-enabled vs disabled kernels.\n\nCloses-Bug: #1943615\nChange-Id: Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09\n""}, {'number': 4, 'created': '2021-12-08 10:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7eabc8f1e0f89d7dddd4ced2821c22eea90aae0a', 'message': ""NVMeOF connector support multipath-enabled kernels\n\nUse the '/sys/class/block/<ctrl>n*' form for finding nvme devices.\nThis way is more generic, and is mainly beneficial because the device name format does not change as it does in '/sys/class/nvme-fabrics/ctl/*' - where it is 'nvme*c*n*' vs 'nvme*n*' for multipath-enabled vs disabled kernels.\n\nCloses-Bug: #1943615\nChange-Id: Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09\n""}, {'number': 5, 'created': '2021-12-08 11:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3939b2173850e56007257457775718ac9db1effb', 'message': ""NVMeOF connector support multipath-enabled kernels\n\nUse the '/sys/class/block/<ctrl>n*' form for finding nvme devices.\nThis way is more generic, and is mainly beneficial because the device name format does not change as it does in '/sys/class/nvme-fabrics/ctl/*' - where it is 'nvme*c*n*' vs 'nvme*n*' for multipath-enabled vs disabled kernels.\n\nCloses-Bug: #1943615\nChange-Id: Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09\n""}, {'number': 6, 'created': '2022-02-02 10:41:38.000000000', 'files': ['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py', 'releasenotes/notes/bug-nvmeof-connector-support-multipath-kernels-ff6f1f27fdea2c8e.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5614196e53b2248fc32d7fa1ff09a1cfee10d5b3', 'message': ""NVMeOF connector support multipath-enabled kernels\n\nUse the '/sys/class/block/<ctrl>n*' form for finding nvme devices.\nThis way is more generic, and is mainly beneficial because the device name format does not change as it does in '/sys/class/nvme-fabrics/ctl/*' - where it is 'nvme*c*n*' vs 'nvme*n*' for multipath-enabled vs disabled kernels.\n\nCloses-Bug: #1943615\nChange-Id: Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09\n""}]",38,806687,5614196e53b2248fc32d7fa1ff09a1cfee10d5b3,96,11,6,16721,,,0,"NVMeOF connector support multipath-enabled kernels

Use the '/sys/class/block/<ctrl>n*' form for finding nvme devices.
This way is more generic, and is mainly beneficial because the device name format does not change as it does in '/sys/class/nvme-fabrics/ctl/*' - where it is 'nvme*c*n*' vs 'nvme*n*' for multipath-enabled vs disabled kernels.

Closes-Bug: #1943615
Change-Id: Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/87/806687/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py']",2,efd5437facfe62c4f424da39cabcab162ba477cd,change-806687-1," @utils.retry(exception.VolumeDeviceNotFound, retries=5) blocks = glob.glob('/sys/class/block/' + nvme_ctrl + 'n*') for block in blocks: uuid_path = block + '/uuid' try: exists = os.path.exists(uuid_path) if exists: uuid_lines, _err = priv_rootwrap.custom_execute( 'cat', uuid_path) if uuid_lines.split('\n')[0] == vol_uuid: return '/dev/' + block[block.rfind('/') + 1:] except putils.ProcessExecutionError as e: LOG.exception(e)"," @utils.retry(exception.VolumeDeviceNotFound) try: blocks = glob.glob( '/sys/class/nvme-fabrics/ctl/' + nvme_ctrl + '/' + nvme_ctrl + 'n*') for block in blocks: uuid_lines, _err = executor._execute( 'cat', block + '/uuid', run_as_root=True, root_helper=executor._root_helper) if uuid_lines.split('\n')[0] == vol_uuid: return '/dev/' + block[block.rfind('/') + 1:] except putils.ProcessExecutionError as e: LOG.exception(e) ",19,19
openstack%2Ftripleo-common~master~I7e337596b653cf635f07a36606e9f673044402a3,openstack/tripleo-common,master,I7e337596b653cf635f07a36606e9f673044402a3,Split off Ceph related container images,MERGED,2022-01-12 12:56:38.000000000,2022-02-14 18:02:09.000000000,2022-02-14 17:59:24.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-12 12:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb0e0449853491804198b73b2632025c3697dadd', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 2, 'created': '2022-01-12 13:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/92e0eb55467ae52b9108c0136941b813ef50def0', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 3, 'created': '2022-01-12 13:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5ecdb574b3382e745c0bd92175f74ceabcd5519d', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 4, 'created': '2022-01-13 08:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7e0e68f8cd47fecea226751e233c9813a22665d9', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 5, 'created': '2022-01-13 08:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3a5b7cce9a4a50f713dc7e59fb0283f9b547df53', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 6, 'created': '2022-01-13 16:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d4784294242893c82c68ab50d0e1ae73eeef102', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 7, 'created': '2022-01-14 07:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/31d5c104c8869a5870883311a7b86b730acb131c', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 8, 'created': '2022-01-14 08:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/804e9bfa182a5b4d6d012eaa1b93d79cc9584213', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 9, 'created': '2022-01-14 08:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2de93713900eaa1d54bab0e256659fbd7c6a38d9', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 10, 'created': '2022-01-14 13:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a055503fd7faa1b204ad8118423968ccf3f6ffbe', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 11, 'created': '2022-02-03 08:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/331d3103a6ad67f894fc3d92cde19b80de2367bc', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}, {'number': 12, 'created': '2022-02-03 13:34:00.000000000', 'files': ['tripleo_common/image/base.py', 'container-images/ceph.j2', 'container-images/tripleo_containers.yaml.j2', 'container-images/container_image_prepare_defaults.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/utils/plan.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml', 'releasenotes/notes/split_off_ceph_containers-e1a66fa39076c2cf.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/08a8118f1b26a170219c63feb8bb5f0b929028c3', 'message': ""Split off Ceph related container images\n\nThis commit updates the default tripleo_containers jinja template\nsplitting off the Ceph related container images.\nWith this new approach pulling the ceph containers is optional,\nand can be avoided by setting the 'ceph_images' boolean to False.\nTo make this possible, a new jinja template processing approach\nhas been introduced, and a template basedir parameter (required\nby the jinja loader) has been added to the BaseImageManager.\n\nIn particular:\n\n- the 'template_dir' parameter represents the location path to the\n  j2 templates that can be included in the main tripleo containers\n  template; a default location (which matches with the default j2\n  path) has been added, but if nothing is passed the old behavior\n  is maintained;\n\n- Two more 'ceph_' prefixed containers, required to deploy the Ceph\n  Ingress daemon are added, and they are supposed to match with the\n  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.\n  The Ingress daemon won’t be baked into the Ceph daemon container,\n  hence `tripleo container image prepare` should be executed to pull\n  the new container images/tags in the undercloud as made for the\n  Ceph Dashboard and the regular Ceph image.\n\nChange-Id: I7e337596b653cf635f07a36606e9f673044402a3\n""}]",28,824431,08a8118f1b26a170219c63feb8bb5f0b929028c3,62,11,12,25402,,,0,"Split off Ceph related container images

This commit updates the default tripleo_containers jinja template
splitting off the Ceph related container images.
With this new approach pulling the ceph containers is optional,
and can be avoided by setting the 'ceph_images' boolean to False.
To make this possible, a new jinja template processing approach
has been introduced, and a template basedir parameter (required
by the jinja loader) has been added to the BaseImageManager.

In particular:

- the 'template_dir' parameter represents the location path to the
  j2 templates that can be included in the main tripleo containers
  template; a default location (which matches with the default j2
  path) has been added, but if nothing is passed the old behavior
  is maintained;

- Two more 'ceph_' prefixed containers, required to deploy the Ceph
  Ingress daemon are added, and they are supposed to match with the
  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.
  The Ingress daemon won’t be baked into the Ceph daemon container,
  hence `tripleo container image prepare` should be executed to pull
  the new container images/tags in the undercloud as made for the
  Ceph Dashboard and the regular Ceph image.

Change-Id: I7e337596b653cf635f07a36606e9f673044402a3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/824431/12 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/base.py', 'container-images/ceph.j2', 'container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml.j2', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml']",7,fb0e0449853491804198b73b2632025c3697dadd,split_off_ceph,- imagename: docker.io/arcts/keepalived:latest image_source: keepalived - imagename: docker.io/library/haproxy:2.3 image_source: haproxy,,119,47
openstack%2Fpuppet-tripleo~master~Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76,openstack/puppet-tripleo,master,Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76,Increase connection timeouts for Redis,MERGED,2022-01-26 12:59:45.000000000,2022-02-14 18:00:16.000000000,2022-02-14 18:00:16.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-26 12:59:45.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/209e954c5f77d827ca0dff836d86b10fa04f80c3', 'message': 'Increase connection timeouts for Redis\n\nWhen using py-redis for connecting to Redis via HAProxy the connection\nis being closed even when alive by HAProxy. Unfortunately this is a know\nissue on py-redis side (see [1]). This patch increases connection timeouts\nto not pollute (for example) Gnocchi [2] logs with reconnect tracebacks every\n2 minutes.\n\n[1] https://github.com/redis/redis-py/issues/1140\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1924373\n\nChange-Id: Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76\n'}]",3,826461,209e954c5f77d827ca0dff836d86b10fa04f80c3,15,6,1,5241,,,0,"Increase connection timeouts for Redis

When using py-redis for connecting to Redis via HAProxy the connection
is being closed even when alive by HAProxy. Unfortunately this is a know
issue on py-redis side (see [1]). This patch increases connection timeouts
to not pollute (for example) Gnocchi [2] logs with reconnect tracebacks every
2 minutes.

[1] https://github.com/redis/redis-py/issues/1140
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1924373

Change-Id: Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/61/826461/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,209e954c5f77d827ca0dff836d86b10fa04f80c3,bz1924373," 'timeout client' => '90m', 'timeout server' => '90m', 'balance' => 'first', 'option' => [ 'tcp-check' ], 'tcp-check' => $redis_tcp_check_options, 'balance' => 'first', 'timeout client' => '90m', 'timeout server' => '90m', 'option' => [ 'tcp-check', 'tcplog' ], 'tcp-check' => $redis_tcp_check_options,"," 'balance' => 'first', 'option' => [ 'tcp-check' ], 'tcp-check' => $redis_tcp_check_options, 'balance' => 'first', 'option' => [ 'tcp-check', 'tcplog' ], 'tcp-check' => $redis_tcp_check_options,",10,6
openstack%2Ftripleo-quickstart-extras~master~Ib78602d7fb2dd10f1e7ea630d937cc3bfa35b109,openstack/tripleo-quickstart-extras,master,Ib78602d7fb2dd10f1e7ea630d937cc3bfa35b109,Use CentOS Stream when dlrn_use_local_mirrors is disabled,MERGED,2022-02-07 11:49:02.000000000,2022-02-14 18:00:13.000000000,2022-02-14 18:00:13.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-02-07 11:49:02.000000000', 'files': ['roles/build-test-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/17c27f754f1f771a663b080b5a0aeff446d3f973', 'message': ""Use CentOS Stream when dlrn_use_local_mirrors is disabled\n\nCurrently, when dlrn_use_local_mirrors parameter is false, target is set\nto centos[8|9]. For CS9 that's fine as centos9.cfg is a symlink to\ncentos9-stream config [1]. However, that's not true for centos8 where it\npoints to the old CL8 which is now EOL. This patch is setting target to\ncentos8-stream in that case.\n\n[1] https://github.com/softwarefactory-project/DLRN/tree/48c4decf75162c3f98c19bb333dcc7a608f98b92/scripts\n\nChange-Id: Ib78602d7fb2dd10f1e7ea630d937cc3bfa35b109\n""}]",4,828115,17c27f754f1f771a663b080b5a0aeff446d3f973,24,8,1,16312,,,0,"Use CentOS Stream when dlrn_use_local_mirrors is disabled

Currently, when dlrn_use_local_mirrors parameter is false, target is set
to centos[8|9]. For CS9 that's fine as centos9.cfg is a symlink to
centos9-stream config [1]. However, that's not true for centos8 where it
points to the old CL8 which is now EOL. This patch is setting target to
centos8-stream in that case.

[1] https://github.com/softwarefactory-project/DLRN/tree/48c4decf75162c3f98c19bb333dcc7a608f98b92/scripts

Change-Id: Ib78602d7fb2dd10f1e7ea630d937cc3bfa35b109
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/15/828115/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/defaults/main.yml'],1,17c27f754f1f771a663b080b5a0aeff446d3f973,, centos{{ ansible_distribution_major_version }}-stream, centos{{ ansible_distribution_major_version }},1,1
openstack%2Ftripleo-ansible~master~I416f60b27406b711c0c778a856dc83663c627899,openstack/tripleo-ansible,master,I416f60b27406b711c0c778a856dc83663c627899,Switch collectd molecule jobs to use CentOS Stream 8 image,MERGED,2022-02-09 21:34:22.000000000,2022-02-14 17:59:21.000000000,2022-02-14 17:59:21.000000000,"[{'_account_id': 10969}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 21:34:22.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/requirements.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6137dd86186c1530aa81cda906fba321388a6ef6', 'message': ""Switch collectd molecule jobs to use CentOS Stream 8 image\n\nCollectd molecule depends on tripleo-repos to install appstream and\nbaseos repos, which by default will configure repos for CentOS-8. Since\nCentOS-8 already reached EOL, we can move molecule jobs' image to CentOS\nStream 8, instead of changing tripleo-repos to provide different repos\nfor ubi-8.\nThis is a follow-up change of ab88334e147d354f55e007cad68021ad8083dae9\n\nRelated-Bug: #1959100\nChange-Id: I416f60b27406b711c0c778a856dc83663c627899\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n""}]",0,828611,6137dd86186c1530aa81cda906fba321388a6ef6,7,3,1,30002,,,0,"Switch collectd molecule jobs to use CentOS Stream 8 image

Collectd molecule depends on tripleo-repos to install appstream and
baseos repos, which by default will configure repos for CentOS-8. Since
CentOS-8 already reached EOL, we can move molecule jobs' image to CentOS
Stream 8, instead of changing tripleo-repos to provide different repos
for ubi-8.
This is a follow-up change of ab88334e147d354f55e007cad68021ad8083dae9

Related-Bug: #1959100
Change-Id: I416f60b27406b711c0c778a856dc83663c627899
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/828611/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/requirements.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml']",8,6137dd86186c1530aa81cda906fba321388a6ef6,bug/1959100, image: centos/centos:stream8 registry: url: quay.io, image: ubi8/ubi-init registry: url: registry.access.redhat.com,16,17
openstack%2Fkayobe~master~I96827fc32c1594ca9a0535e259929c49d3f0e704,openstack/kayobe,master,I96827fc32c1594ca9a0535e259929c49d3f0e704,CI: Enable bare metal testing for Ubuntu,MERGED,2021-03-22 15:10:40.000000000,2022-02-14 17:50:12.000000000,2022-02-14 17:46:53.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 15:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c7bdba7cb16118ee4b55abee10b0fbde04f76d22', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 2, 'created': '2021-03-22 16:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/209242f3aa58cf9eb3a005d1c33b4c6fce5a8c5b', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 3, 'created': '2021-03-23 09:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3e1b910c831f95a6db7e7cc20a72bdef81fdf69e', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/782383\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 4, 'created': '2021-03-24 10:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/93075cf2b195491f091651dc03ccd64dab2d3d61', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/782383\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 5, 'created': '2021-03-24 11:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5167f1badd91e1f568d19698f44f58cd1a464dc8', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 6, 'created': '2022-02-10 10:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7a814c8b18f6183d59a76bb2ac6a127810e1816e', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 7, 'created': '2022-02-10 11:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/45f5a76f97763f06e61af26757376b3218378b29', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 8, 'created': '2022-02-10 16:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8f0ef2e84a25f460444b6fc7205aa54e518410ab', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 9, 'created': '2022-02-10 20:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3266bc49fb196ee3315951ecd4bd8cdecde8c3f1', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 10, 'created': '2022-02-11 10:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a4c5be1e3848fe5524d8c36cc97f11f444bd39b0', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 11, 'created': '2022-02-11 10:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f11b2e3ab6b5305af0f84dba865554a81a6019ff', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nPreviously we were seeing issues with ipmitool and virtualbmc on Ubuntu,\nbut this no longer seems to be the case. Example error:\n\n  Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot Parameter 0\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 12, 'created': '2022-02-11 16:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c7e5ed08b8394a31e560f1842cf0a451b1e8723d', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nPreviously we were seeing issues with ipmitool and virtualbmc on Ubuntu,\nbut this no longer seems to be the case. Example error:\n\n  Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot Parameter 0\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 13, 'created': '2022-02-11 16:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bdfd7e8a2cfbd5a23c97ae5b94d26e4ebaad3add', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nPreviously we were seeing issues with ipmitool and virtualbmc on Ubuntu,\nbut this no longer seems to be the case. Example error:\n\n  Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot Parameter 0\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 14, 'created': '2022-02-11 18:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/88352a07c6af0fff67b20f72a975ee3f217fba62', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nPreviously we were seeing issues with ipmitool and virtualbmc on Ubuntu,\nbut this no longer seems to be the case. Example error:\n\n  Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot Parameter 0\n\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/828901\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 15, 'created': '2022-02-11 20:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/01e36d3be2194b45481647461129754f4670d6c5', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nPreviously we were seeing issues with ipmitool and virtualbmc on Ubuntu,\nbut this no longer seems to be the case. Example error:\n\n  Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot Parameter 0\n\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/828901\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}, {'number': 16, 'created': '2022-02-14 09:18:43.000000000', 'files': ['playbooks/kayobe-overcloud-base/run.yml', 'roles/kayobe-diagnostics/files/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/883027afb0656a46369d3f4965a0c65b4a3e8dd8', 'message': 'CI: Enable bare metal testing for Ubuntu\n\nPreviously we were seeing issues with ipmitool and virtualbmc on Ubuntu:\n\n  Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot Parameter 0\n\nThe dependent change fixes these issues, and this change enables bare\nmetal testing in Ubuntu CI.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/829006\n\nChange-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704\n'}]",13,782273,883027afb0656a46369d3f4965a0c65b4a3e8dd8,65,3,16,14826,,,0,"CI: Enable bare metal testing for Ubuntu

Previously we were seeing issues with ipmitool and virtualbmc on Ubuntu:

  Error setting Chassis Boot Parameter 5\nError setting Chassis Boot Parameter 0

The dependent change fixes these issues, and this change enables bare
metal testing in Ubuntu CI.

Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/829006

Change-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/73/782273/16 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/run.yml', 'zuul.d/project.yaml']",2,c7bdba7cb16118ee4b55abee10b0fbde04f76d22,,, templates: - openstack-cover-jobs - openstack-python3-wallaby-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-tox-molecule - kayobe-overcloud-centos8 - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-host-configure-ubuntu-focal - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-ubuntu-focal - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8 - kayobe-seed-vm-ubuntu-focal,0,24
openstack%2Freleases~master~I8aaa893a0dffa93a158aedab6dbce29da123aba0,openstack/releases,master,I8aaa893a0dffa93a158aedab6dbce29da123aba0,Release bugfix 8.4 for IPA in Yoga,MERGED,2022-02-14 04:16:25.000000000,2022-02-14 17:40:24.000000000,2022-02-14 17:40:24.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-14 04:16:25.000000000', 'files': ['deliverables/yoga/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fcfbe2ad67dbceb8572c4b5d830d7338e9e228a5', 'message': 'Release bugfix 8.4 for IPA in Yoga\n\nChange-Id: I8aaa893a0dffa93a158aedab6dbce29da123aba0\n'}]",1,828992,fcfbe2ad67dbceb8572c4b5d830d7338e9e228a5,9,5,1,15519,,,0,"Release bugfix 8.4 for IPA in Yoga

Change-Id: I8aaa893a0dffa93a158aedab6dbce29da123aba0
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/828992/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ironic-python-agent.yaml'],1,fcfbe2ad67dbceb8572c4b5d830d7338e9e228a5,bugfix-ipa, - version: 8.4.0 projects: - repo: openstack/ironic-python-agent hash: b8b1991bea20bb34075cb9295b16256cf0dabc95 - name: bugfix/8.4 location: 8.4.0,,6,0
openstack%2Fkayobe-config-dev~master~Ib4fce74cebebe85c31049eafe2eeb6b28dfab041,openstack/kayobe-config-dev,master,Ib4fce74cebebe85c31049eafe2eeb6b28dfab041,ironic: use ipmitool retries,MERGED,2022-02-14 09:15:56.000000000,2022-02-14 17:36:22.000000000,2022-02-14 17:36:22.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 09:15:56.000000000', 'files': ['etc/kayobe/kolla/config/ironic.conf'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/8b618b7e5a86bda2722427bc1072c24b31677b93', 'message': 'ironic: use ipmitool retries\n\nIn Ubuntu baremetal CI testing, we saw issues with IPMI commands\nfailing, resuling in job failures:\n\n  Error setting Chassis Boot Parameter 5\n\nA metal3.io commit [1] was found that fixes the issue by moving IPMI\nretries from ironic to ipmitool, which has a side-effect of increasing\nthe timeout. This change applies the same configuration.\n\n[1] https://github.com/metal3-io/ironic-image/commit/6bc1499d8bb04c2c859b970b3739c3a8ed66ae2a\n\nChange-Id: Ib4fce74cebebe85c31049eafe2eeb6b28dfab041\n'}]",0,829006,8b618b7e5a86bda2722427bc1072c24b31677b93,7,3,1,14826,,,0,"ironic: use ipmitool retries

In Ubuntu baremetal CI testing, we saw issues with IPMI commands
failing, resuling in job failures:

  Error setting Chassis Boot Parameter 5

A metal3.io commit [1] was found that fixes the issue by moving IPMI
retries from ironic to ipmitool, which has a side-effect of increasing
the timeout. This change applies the same configuration.

[1] https://github.com/metal3-io/ironic-image/commit/6bc1499d8bb04c2c859b970b3739c3a8ed66ae2a

Change-Id: Ib4fce74cebebe85c31049eafe2eeb6b28dfab041
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/06/829006/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla/config/ironic.conf'],1,8b618b7e5a86bda2722427bc1072c24b31677b93,," # This IPMI configuration has been taken from the metal3.io ironic-image # project. It is necessary to make IPMI reliable in Kayobe Ubuntu CI jobs. # Without this, we saw the following error: # Error setting Chassis Boot Parameter 5 # https://github.com/metal3-io/ironic-image/commit/6bc1499d8bb04c2c859b970b3739c3a8ed66ae2a [ipmi] # use_ipmitool_retries transfers the responsibility of retrying to ipmitool # when supported. If set to false, then ipmitool is called as follows : # $ipmitool -R 1 -N 1 ... # and Ironic handles the retry loop. use_ipmitool_retries = true # The following parameters are the defaults in Ironic. They are used in the # following way if use_ipmitool_retries is set to true: # $ipmitool -R <X> -N <Y> ... # where : # X = command_retry_timeout / min_command_interval # Y = min_command_interval # If use_ipmitool_retries is false, then ironic retries X times, with an # interval of Y in between each tries. min_command_interval = 5 command_retry_timeout = 60",,22,0
openstack%2Fstorlets~master~Icd0469f4740e2cc47129529d89b9808790ec4e6b,openstack/storlets,master,Icd0469f4740e2cc47129529d89b9808790ec4e6b,Add Python 3.9 as supported runtime,MERGED,2022-02-14 16:35:06.000000000,2022-02-14 17:31:54.000000000,2022-02-14 17:30:20.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 16:35:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/storlets/commit/ad8fc39bca667296dfb1c3ec3f45a61c8aa7ca3f', 'message': 'Add Python 3.9 as supported runtime\n\n... because it has been tested as part of supported runtimes for\nupcoming Yoga release[1].\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\nChange-Id: Icd0469f4740e2cc47129529d89b9808790ec4e6b\n'}]",0,829105,ad8fc39bca667296dfb1c3ec3f45a61c8aa7ca3f,7,2,1,9816,,,0,"Add Python 3.9 as supported runtime

... because it has been tested as part of supported runtimes for
upcoming Yoga release[1].

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html
Change-Id: Icd0469f4740e2cc47129529d89b9808790ec4e6b
",git fetch https://review.opendev.org/openstack/storlets refs/changes/05/829105/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ad8fc39bca667296dfb1c3ec3f45a61c8aa7ca3f,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fcharm-specs~master~I790fbb2bd1f48bf410f151427d44784c115b0626,openstack/charm-specs,master,I790fbb2bd1f48bf410f151427d44784c115b0626,Add Keystone OpenID Connect spec.,MERGED,2021-11-08 15:20:05.000000000,2022-02-14 17:30:21.000000000,2022-02-14 17:28:43.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 15:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/27e7e2ae94d6a0f34045b8a95d05dd11df8b328c', 'message': 'Add Keystone OpenID spec.\n\nThis spec proposes the creation of a new charm subordinate to Keystone\nto enable the use OpenID providers in Keystone federation.\n\nRelated-Bug: #1859883\nChange-Id: I790fbb2bd1f48bf410f151427d44784c115b0626\n'}, {'number': 2, 'created': '2022-01-12 15:37:21.000000000', 'files': ['specs/yoga/approved/keystone-openidc.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/cacc78996be1d495c60ee21b6857bd0ee900cbd5', 'message': 'Add Keystone OpenID Connect spec.\n\nThis spec proposes the creation of a new charm subordinate to Keystone\nto enable the use OpenID Connect providers in Keystone federation.\n\nRelated-Bug: #1859883\nChange-Id: I790fbb2bd1f48bf410f151427d44784c115b0626\n'}]",14,817036,cacc78996be1d495c60ee21b6857bd0ee900cbd5,16,3,2,2424,,,0,"Add Keystone OpenID Connect spec.

This spec proposes the creation of a new charm subordinate to Keystone
to enable the use OpenID Connect providers in Keystone federation.

Related-Bug: #1859883
Change-Id: I790fbb2bd1f48bf410f151427d44784c115b0626
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/36/817036/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/keystone-openid.rst'],1,27e7e2ae94d6a0f34045b8a95d05dd11df8b328c,keystone-openidc,".. Copyright 2021 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ===================================== Enablement of Keystone OpenID Support ===================================== Keystone Charm support pluggable backends that use Keystone federations to enable a variety of providers for the account users and groups. This spec attempts to discuss how to enable support for OpenID. Problem Description =================== When deploying the OpenStack charms in an enterprise environment currently it's only possible to bring up the central database of users into Keystone via LDAP or Federation, this last one method support only SAML integration, hence environments where users are exposed with OpenID (e.g. Google Apps), Charmed OpenStack provides no solution. Proposed Change =============== The proposed solution is to make OpenID available to Charmed OpenStack in a new subordinate charm to keystone. The new feature would be supported on OpenStack Yoga (and later) on Ubuntu 22.04 LTS. Alternatives ------------ - Allow operators to configure OpenID federation with some support backed into the Keystone charm directly. Implementation ============== Assignee(s) ----------- Primary assignee: Felipe Reyes <felipe.reyes@canonical.com> Gerrit Topic ------------ Use Gerrit topic ""keystone-openid"" for all patches related to this spec. .. code-block:: bash git-review -t keystone-openid Work Items ---------- * Implement a new operator framework subordinate charm, keystone-openid, that implements keystone-fid-service-provider and keystone-fid-service-provider relations * Add a charm option that allows the operator to pass a custom HTML template to be used as a Single Sign On template * Create a new snap with a OpenID provider software such as Ipsilon_ or Oidc-op_ * Create a new charm that deploys a OpenID provider for testing purposes, openid-test-fixture * Write unit tests * Extend current functional tests using the zaza testing framework Timeline -------- The goal is to implement this change in the OpenStack Charms 22.04 release. Repositories ------------ During the intial development the code will be managed here: - https://github.com/openstack-charmers/charm-keystone-openid - https://github.com/openstack-charmers/charm-openid-test-fixture - https://github.com/openstack-charmers/snap-<openid-provider> When ready the charm keystone-openid will be managed via OpenDev gerrit at: https://opendev.org/openstack/charm-keystone-openid Documentation ------------- The charm should contain documented options: * Create charm options * Create charm relations * Create charm README * Update the deployment-guide_ to include a section that explains how to configure Charmed OpenStack to authenticate against a OpenID provider. Security -------- The OpenStack Identity Service (Keystone) has to interact exclusively with OpenID providers served over valid HTTPS endpoints. Testing ------- Code changes will be by unit tests. Functional tests would be covered by zaza testing framework. Dependencies ============ - This enablement depends on libapache2-mod-auth-openidc_ available in Ubuntu since 18.04 (Bionic) in the Universe pocket. .. _Ipsilon: https://pagure.io/ipsilon .. _Oidc-op: https://github.com/IdentityPython/oidc-op .. _deployment-guide: https://opendev.org/openstack/charm-deployment-guide/ .. _libapache2-mod-auth-openidc: https://launchpad.net/ubuntu/+source/libapache2-mod-auth-openidc ",,140,0
openstack%2Freleases~master~I0a5a7f1bb29b02993050bea314e5b94107ed1a4c,openstack/releases,master,I0a5a7f1bb29b02993050bea314e5b94107ed1a4c,Swift 2.29.0 release,MERGED,2022-02-11 21:54:40.000000000,2022-02-14 17:25:51.000000000,2022-02-14 17:25:51.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 21:54:40.000000000', 'files': ['deliverables/yoga/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5251ea20df71651ff16bec9bfe631719ecbc6a1a', 'message': 'Swift 2.29.0 release\n\nChange-Id: I0a5a7f1bb29b02993050bea314e5b94107ed1a4c\n'}]",1,828926,5251ea20df71651ff16bec9bfe631719ecbc6a1a,8,3,1,15343,,,0,"Swift 2.29.0 release

Change-Id: I0a5a7f1bb29b02993050bea314e5b94107ed1a4c
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/828926/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/swift.yaml'],1,5251ea20df71651ff16bec9bfe631719ecbc6a1a,,releases: - version: 2.29.0 projects: - repo: openstack/swift hash: 975d3dbcfe8ef7e8007444e5bb5c0b3f890e534e,,5,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6627eef1ed0fa8eb7665ad8b6b9f61784702d8e4,openstack/tripleo-ansible,stable/wallaby,I6627eef1ed0fa8eb7665ad8b6b9f61784702d8e4,Move metrics_qdr molecule tests to centos stream,ABANDONED,2022-02-14 16:23:19.000000000,2022-02-14 17:21:05.000000000,,[],"[{'number': 1, 'created': '2022-02-14 16:23:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-edge-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/internal-tls/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-interior-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/common/verify.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/common/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f546d82c65081931b389bada0dec1a8448a8148b', 'message': 'Move metrics_qdr molecule tests to centos stream\n\nThese were failing with ""Failed to download metadata for repo \'tripleo-centos-appstream\': Cannot download repomd.xml""\n\nFollowed the pattern here to fix: https://review.opendev.org/c/openstack/tripleo-ansible/+/826535\n\nChange-Id: I6627eef1ed0fa8eb7665ad8b6b9f61784702d8e4\n(cherry picked from commit 67aa99089905f885914d3ef817b08f6db6725f66)\n'}]",0,829092,f546d82c65081931b389bada0dec1a8448a8148b,2,0,1,30893,,,0,"Move metrics_qdr molecule tests to centos stream

These were failing with ""Failed to download metadata for repo 'tripleo-centos-appstream': Cannot download repomd.xml""

Followed the pattern here to fix: https://review.opendev.org/c/openstack/tripleo-ansible/+/826535

Change-Id: I6627eef1ed0fa8eb7665ad8b6b9f61784702d8e4
(cherry picked from commit 67aa99089905f885914d3ef817b08f6db6725f66)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/92/829092/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-edge-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/internal-tls/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-interior-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/common/verify.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/common/prepare.yml']",6,f546d82c65081931b389bada0dec1a8448a8148b,, tripleo-repos -b master current-tripleo, tripleo-repos --no-stream -b master current-tripleo,31,34
openstack%2Fneutron~stable%2Fwallaby~I120ae54bce01b78546e0426531850f1ad177de17,openstack/neutron,stable/wallaby,I120ae54bce01b78546e0426531850f1ad177de17,Use Port_Binding up column to set Neutron port status,ABANDONED,2022-01-31 16:56:14.000000000,2022-02-14 17:14:05.000000000,,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 16:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5d84d3a14f68266d9a0d2a053f235f08c4013f8', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823412\nEnsure subports transition to DOWN\n\nDue to a bug in OVN seting the subports SB DB ""up"" field to False\nafter subport detachment from the trunk port, the subports are never\ntransition from ACTIVE to DOWN after this patch:\nhttps://review.opendev.org/c/openstack/neutron/+/821544\n\nThis patch ensures the chassis is also considered for such cases,\nand ports without chassis but ""up"" field set to True are\ntransitioned to DOWN.\nCloses-Bug: #1956233\n\n(cherry picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n(squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)\nChange-Id: I120ae54bce01b78546e0426531850f1ad177de17\n'}, {'number': 2, 'created': '2022-02-02 10:21:27.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac908657f0ca9ca76135ba4055776993733607cd', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823818\nEnsure only the right events are processed\n\nThere is no need to set up CR-LRP ports up, as well as there is no\nneed to re-process the router ports after the initial creation\n\nThis patch also includes squashed patch:\nhttps://review.opendev.org/c/openstack/neutron/+/823412\nEnsure subports transition to DOWN\n\nDue to a bug in OVN seting the subports SB DB ""up"" field to False\nafter subport detachment from the trunk port, the subports are never\ntransition from ACTIVE to DOWN after this patch:\nhttps://review.opendev.org/c/openstack/neutron/+/821544\n\nThis patch ensures the chassis is also considered for such cases,\nand ports without chassis but ""up"" field set to True are\ntransitioned to DOWN.\nCloses-Bug: #1956233\n\nChange-Id: I120ae54bce01b78546e0426531850f1ad177de17\n(cherry picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n(squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)\n(squashed commit from 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa)\n'}]",11,827156,ac908657f0ca9ca76135ba4055776993733607cd,35,3,2,23567,,,0,"Use Port_Binding up column to set Neutron port status

Currently in order to bring Neutron port to active, Neutron waits for
Logical Switch Port to become up in OVN. That means ovn-controller
changes the up status in SB DB and northd propagates it up to NB DB.
We do not need to wait and can save some time if we use the newly added
SB DB up column instead, when possible:
https://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152

This patch also includes squashed patch:
https://review.opendev.org/c/openstack/neutron/+/823818
Ensure only the right events are processed

There is no need to set up CR-LRP ports up, as well as there is no
need to re-process the router ports after the initial creation

This patch also includes squashed patch:
https://review.opendev.org/c/openstack/neutron/+/823412
Ensure subports transition to DOWN

Due to a bug in OVN seting the subports SB DB ""up"" field to False
after subport detachment from the trunk port, the subports are never
transition from ACTIVE to DOWN after this patch:
https://review.opendev.org/c/openstack/neutron/+/821544

This patch ensures the chassis is also considered for such cases,
and ports without chassis but ""up"" field set to True are
transitioned to DOWN.
Closes-Bug: #1956233

Change-Id: I120ae54bce01b78546e0426531850f1ad177de17
(cherry picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)
(squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)
(squashed commit from 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/827156/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",4,f5d84d3a14f68266d9a0d2a053f235f08c4013f8,wallaby," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": ""string""}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() self.chassis_row_json = { def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def test_chassis_create_event(self): self._test_chassis_helper('create', self.chassis_row_json) self._test_chassis_helper('delete', self.chassis_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) self.chassis_row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self.chassis_row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.chassis_row_json, old_row_json) old_row_json = copy.deepcopy(self.chassis_row_json) self._test_chassis_helper('update', self.chassis_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_update_event_up_not_updated(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": None} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name"", ""chassis"": ""foo-host""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name"", ""chassis"": None} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) "," }class TestPortBindingChassisUpdateEvent(base.BaseTestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver._nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') self.row_json = { def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table def test_chassis_create_event(self): self._test_chassis_helper('create', self.row_json) self._test_chassis_helper('delete', self.row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) self.row_json['external_ids'][1].append(['foo_field', 'foo_value_new']) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = '' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] += ',foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self.row_json['external_ids'][1][0][1] = 'foo_physnet:foo_br' self._test_chassis_helper('update', self.row_json, old_row_json) old_row_json = copy.deepcopy(self.row_json) self._test_chassis_helper('update', self.row_json, old_row_json)",375,258
openstack%2Fos-brick~master~I5cd5456c4cc3e415fd08b678cc57fc794dc0621b,openstack/os-brick,master,I5cd5456c4cc3e415fd08b678cc57fc794dc0621b,Lightos connector - refactor disconnect volume,MERGED,2022-02-02 13:27:18.000000000,2022-02-14 17:10:40.000000000,2022-02-14 17:08:47.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 34459}]","[{'number': 1, 'created': '2022-02-02 13:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5cdc4d04ac5d8fd6916caeb4c4ff6113c463dc05', 'message': 'Lightos connector - refactor disconnect volume\n\nDisconnect volume have the following actions:\n- flush the device\n- update queue\n- remove discovery client file\n\nThe actual detach happens in the cinder driver when the ACL is changed.\nin case we want to make sure the volume reach the cinder driver we can\nrun it with ""ignore_errors"" flag active.\n\nRemoving the force flag and replacing it with try:except block\nusing the ""ignore_errors"" flag\n\nChange-Id: I5cd5456c4cc3e415fd08b678cc57fc794dc0621b\n'}, {'number': 2, 'created': '2022-02-03 09:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bf6e0f3f62312541bdaf35a77bf5e3a8987e3a7f', 'message': 'Lightos connector - refactor disconnect volume\n\nDisconnect volume needs to perform the following operations:\n1. Update our connection DB that the volume has been disconnected\n2. Flush any pending I/Os on the device file\n3. Update the discovery-client that the volume has been disconnected.\n\nIf force is True we avoid raising any error to reach the cinder ACL\nupdate.\n\nChange-Id: I5cd5456c4cc3e415fd08b678cc57fc794dc0621b\n'}, {'number': 3, 'created': '2022-02-03 10:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c8ce070955aa2ad1d95447bcff018a33c122a03d', 'message': 'Lightos connector - refactor disconnect volume\n\nDisconnect volume needs to perform the following operations:\n1. Update our connection DB that the volume has been disconnected\n2. Flush any pending I/Os on the device file\n3. Update the discovery-client that the volume has been disconnected.\n\nIf force is True we avoid raising any error to reach the cinder ACL\nupdate.\n\nSigned-off-by: Yuval Brave  yuval@lightbitslabs.com\nChange-Id: I5cd5456c4cc3e415fd08b678cc57fc794dc0621b\n'}, {'number': 4, 'created': '2022-02-04 08:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/66d4d7a662350f2573a017b86e213e63b1c4d14c', 'message': 'Lightos connector - refactor disconnect volume\n\nDisconnect volume needs to perform the following operations:\n1. Update our connection DB that the volume has been disconnected\n2. Flush any pending I/Os on the device file\n3. Update the discovery-client that the volume has been disconnected.\n\nIf force is True we avoid raising any error to reach the cinder ACL\nupdate.\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I5cd5456c4cc3e415fd08b678cc57fc794dc0621b\n'}, {'number': 5, 'created': '2022-02-11 08:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/333d31b8021026c8c7635706f12244a422e11622', 'message': 'Lightos connector - refactor disconnect volume\n\nDisconnect volume needs to perform the following operations:\n1. Update our connection DB that the volume has been disconnected\n2. Flush any pending I/Os on the device file\n3. Update the discovery-client that the volume has been disconnected.\n\nIf force is True we avoid raising any error to reach the cinder ACL\nupdate.\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I5cd5456c4cc3e415fd08b678cc57fc794dc0621b\n'}, {'number': 6, 'created': '2022-02-11 11:59:09.000000000', 'files': ['os_brick/initiator/connectors/lightos.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b0356db3d527dd5e5239adb92e3f26d0f71d1d70', 'message': 'Lightos connector - refactor disconnect volume\n\nDisconnect volume needs to perform the following operations:\n1. Update our connection DB that the volume has been disconnected\n2. Flush any pending I/Os on the device file\n3. Update the discovery-client that the volume has been disconnected.\n\nSigned-off-by: Yuval Brave  <yuval@lightbitslabs.com>\nChange-Id: I5cd5456c4cc3e415fd08b678cc57fc794dc0621b\n'}]",38,827496,b0356db3d527dd5e5239adb92e3f26d0f71d1d70,84,7,6,33612,,,0,"Lightos connector - refactor disconnect volume

Disconnect volume needs to perform the following operations:
1. Update our connection DB that the volume has been disconnected
2. Flush any pending I/Os on the device file
3. Update the discovery-client that the volume has been disconnected.

Signed-off-by: Yuval Brave  <yuval@lightbitslabs.com>
Change-Id: I5cd5456c4cc3e415fd08b678cc57fc794dc0621b
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/96/827496/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/lightos.py'],1,5cdc4d04ac5d8fd6916caeb4c4ff6113c463dc05,827496," # bookkeeping lightos connections - delete connection if self.message_queue: self.message_queue.put(('delete', connection_properties)) try: self.dsc_disconnect_volume(connection_properties) except Exception: if not ignore_errors: raise"," if force: # if operator want to force detach - we just return and cinder # driver will terminate the connection by updating the ACL return self.dsc_disconnect_volume(connection_properties) # bookkeeping lightos connections - delete connection if self.message_queue: self.message_queue.put(('delete', connection_properties))",9,8
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~Iac091d77abcc8075acff3981604747159e4c2884,openstack/openstack-ansible-os_neutron,stable/wallaby,Iac091d77abcc8075acff3981604747159e4c2884,DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828551,ABANDONED,2022-02-09 15:12:05.000000000,2022-02-14 17:03:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-09 15:12:05.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e616d5ad56ac938b8c1bfd183be9e683671f85ee', 'message': 'DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828551\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828551\nChange-Id: Iac091d77abcc8075acff3981604747159e4c2884\n'}]",0,828552,e616d5ad56ac938b8c1bfd183be9e683671f85ee,3,1,1,25023,,,0,"DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828551

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828551
Change-Id: Iac091d77abcc8075acff3981604747159e4c2884
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/52/828552/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,e616d5ad56ac938b8c1bfd183be9e683671f85ee,,,,0,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Fxena~Iac091d77abcc8075acff3981604747159e4c2884,openstack/openstack-ansible-os_neutron,stable/xena,Iac091d77abcc8075acff3981604747159e4c2884,DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828548,ABANDONED,2022-02-09 15:07:15.000000000,2022-02-14 17:02:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-09 15:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/060b7af7027599439daef41d94041bc24bc35e59', 'message': 'DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828548\n\nChange-Id: Iac091d77abcc8075acff3981604747159e4c2884\n'}, {'number': 2, 'created': '2022-02-09 15:10:37.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b777b5faf60636f2d3240d5fbcb870a161e166b1', 'message': 'DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828548\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828548\nChange-Id: Iac091d77abcc8075acff3981604747159e4c2884\n'}]",0,828549,b777b5faf60636f2d3240d5fbcb870a161e166b1,4,1,2,25023,,,0,"DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828548

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828548
Change-Id: Iac091d77abcc8075acff3981604747159e4c2884
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/49/828549/2 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,060b7af7027599439daef41d94041bc24bc35e59,,,,0,0
openstack%2Fcinder~master~I0bfb79db4f69c0705a1e0fa971376d14c232d5cb,openstack/cinder,master,I0bfb79db4f69c0705a1e0fa971376d14c232d5cb,[SVf] update rccg name property to metadata,MERGED,2021-09-24 14:05:33.000000000,2022-02-14 16:57:08.000000000,2022-02-14 16:55:13.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32036}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-09-24 14:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9f7006c9189f4bfe667c58291319d08dd59cb6f', 'message': '[SVF] update rccg name property to metadata\n\n[Spectrum Virtualize Family] While creating a group either from\nsource_group or group_snapshot, the resulted group-volumes metadata\nis not updated with the rccg_name attribute. This is happening due to\nthe order of some function calls to update volume metadata.\n\nProviding a fix to update rccg_name property to volume metadata which\ncould cover all the possible cases like add a volume to the group,\ncreate a group from source_group and create a group from group_snapshot.\n\nCloses-Bug: #1943682\n\nChange-Id: I0bfb79db4f69c0705a1e0fa971376d14c232d5cb\n'}, {'number': 2, 'created': '2021-12-27 06:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb9ba48bb0e121cc6a14a10510bc6f45c48e3413', 'message': '[SVF] update rccg name property to metadata\n\n[Spectrum Virtualize Family] While creating a group either from\nsource_group or group_snapshot, the resulted group-volumes metadata\nis not updated with the rccg_name attribute. This is happening due to\nthe order of some function calls to update volume metadata.\n\nProviding a fix to update rccg_name property to volume metadata which\ncould cover all the possible cases like add a volume to the group,\ncreate a group from source_group and create a group from group_snapshot.\n\nCloses-Bug: #1943682\n\nChange-Id: I0bfb79db4f69c0705a1e0fa971376d14c232d5cb\n'}, {'number': 3, 'created': '2022-02-07 13:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd610c7aa9214388a1c46b3fe8c9e1c710fcfda8', 'message': '[SVf] update rccg name property to metadata\n\n[Spectrum Virtualize family] While creating a group either from\nsource_group or group_snapshot, the resulted group-volumes metadata\nis not updated with the rccg_name attribute. This is happening due to\nthe order of some function calls to update volume metadata.\n\nProviding a fix to update rccg_name property to volume metadata which\ncould cover all the possible cases like add a volume to the group,\ncreate a group from source_group and create a group from group_snapshot.\n\nCloses-Bug: #1943682\n\nChange-Id: I0bfb79db4f69c0705a1e0fa971376d14c232d5cb\n'}, {'number': 4, 'created': '2022-02-09 11:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ece9a904d0f239ba0c32867b85f7dfc9604f3007', 'message': '[SVf] update rccg name property to metadata\n\n[Spectrum Virtualize family] While creating a group either from\nsource_group or group_snapshot, the resulted group-volumes metadata\nis not updated with the rccg_name attribute. This is happening due to\nthe order of some function calls to update volume metadata.\n\nProviding a fix to update rccg_name property to volume metadata which\ncould cover all the possible cases like add a volume to the group,\ncreate a group from source_group and create a group from group_snapshot.\n\nCloses-Bug: #1943682\n\nChange-Id: I0bfb79db4f69c0705a1e0fa971376d14c232d5cb\n'}, {'number': 5, 'created': '2022-02-11 12:27:25.000000000', 'files': ['releasenotes/notes/bug-1943682-ibm-svf-update-rccgname-to-metadata-for-clone-group-volumes-baa6bebcf8caacb8.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/88d3005df43e00ac2d93b70be5bc696b1ad3a275', 'message': '[SVf] update rccg name property to metadata\n\n[Spectrum Virtualize family] While creating a group either from\nsource_group or group_snapshot, the resulted group-volumes metadata\nis not updated with the rccg_name attribute. This is happening due to\nthe order of some function calls to update volume metadata.\n\nProviding a fix to update rccg_name property to volume metadata which\ncould cover all the possible cases like add a volume to the group,\ncreate a group from source_group and create a group from group_snapshot.\n\nCloses-Bug: #1943682\n\nChange-Id: I0bfb79db4f69c0705a1e0fa971376d14c232d5cb\n'}]",40,810917,88d3005df43e00ac2d93b70be5bc696b1ad3a275,177,7,5,32266,,,0,"[SVf] update rccg name property to metadata

[Spectrum Virtualize family] While creating a group either from
source_group or group_snapshot, the resulted group-volumes metadata
is not updated with the rccg_name attribute. This is happening due to
the order of some function calls to update volume metadata.

Providing a fix to update rccg_name property to volume metadata which
could cover all the possible cases like add a volume to the group,
create a group from source_group and create a group from group_snapshot.

Closes-Bug: #1943682

Change-Id: I0bfb79db4f69c0705a1e0fa971376d14c232d5cb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/810917/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1943682-ibm-svf-update-rccgname-to-metadata-for-clone-group-volumes-baa6bebcf8caacb8.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",3,e9f7006c9189f4bfe667c58291319d08dd59cb6f,bug/1943682," model_update, added_vols, removed_vols = ( self._update_replication_grp(context, group, volumes, [])) if model_update.get('status') != fields.GroupStatus.ERROR: # Updating RCCG property to volume metadata for vol in volumes: volumes_model[volumes.index(vol)][ 'metadata']['Consistency Group Name'] = rccg_name"," self.update_group(context, group, add_volumes=volumes, remove_volumes=[])",22,9
openstack%2Fkayobe~master~Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd,openstack/kayobe,master,Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd,DNM: molecule debug,ABANDONED,2022-01-28 17:03:47.000000000,2022-02-14 16:54:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-28 17:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a945a1cf460ef44b13534c02e6740b49472bde0d', 'message': 'DNM: molecule debug\n\nChange-Id: Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd\n'}, {'number': 2, 'created': '2022-01-28 18:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/553a24dfcc9a0a6206c35856749b338e27f61084', 'message': 'DNM: molecule debug\n\nChange-Id: Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd\n'}, {'number': 3, 'created': '2022-01-29 14:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4826af9e15f65cdace83dc4f32dc76c8105bc990', 'message': 'DNM: molecule debug\n\nChange-Id: Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd\n'}, {'number': 4, 'created': '2022-01-29 14:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aa4bd645c7aa879318206bb9e3df51f62c03e0e7', 'message': 'DNM: molecule debug\n\nChange-Id: Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd\n'}, {'number': 5, 'created': '2022-02-11 16:10:48.000000000', 'files': ['ansible/roles/kolla-openstack/molecule/enable-everything/prepare.yml', 'tools/test-molecule.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/159372dc377dfeeb6aa6bc104e0d1e314ecabca7', 'message': 'DNM: molecule debug\n\nChange-Id: Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd\n'}]",0,826921,159372dc377dfeeb6aa6bc104e0d1e314ecabca7,11,1,5,14826,,,0,"DNM: molecule debug

Change-Id: Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/21/826921/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/molecule/enable-everything/prepare.yml', 'zuul.d/project.yaml']",3,a945a1cf460ef44b13534c02e6740b49472bde0d,,, templates: - openstack-cover-jobs - openstack-python3-yoga-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-overcloud-centos8s - kayobe-overcloud-ubuntu-focal - kayobe-overcloud-tls-centos8s,16,10
openstack%2Fkolla~stable%2Fwallaby~I86aa697b8def34e0cfb11d2f5ad903dd54e975ef,openstack/kolla,stable/wallaby,I86aa697b8def34e0cfb11d2f5ad903dd54e975ef,base: Drop usage of Ceph Nautilus from RDO,MERGED,2022-02-08 08:12:38.000000000,2022-02-14 16:50:04.000000000,2022-02-14 16:48:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-08 08:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/57e602f5e0fd5ccbcb2089e145f55b6ef0f01c4c', 'message': 'base: Drop usage of Ceph Nautilus from RDO\n\nThis was temporary due to missing Ceph Nautilus\nrepo on CentOS mirrors (after removing CentOS Linux\ncontent on EOL date).\n\nChange-Id: I86aa697b8def34e0cfb11d2f5ad903dd54e975ef\n'}, {'number': 2, 'created': '2022-02-10 19:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/74ae566f587ee2bb9764b135af647e5c6ef3dd65', 'message': 'base: Drop usage of Ceph Nautilus from RDO\n\nThis was temporary due to missing Ceph Nautilus\nrepo on CentOS mirrors (after removing CentOS Linux\ncontent on EOL date).\n\nChange-Id: I86aa697b8def34e0cfb11d2f5ad903dd54e975ef\n'}, {'number': 3, 'created': '2022-02-11 06:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2fc241516dc01f9b260ccb115d1c5db3d4aeb653', 'message': 'base: Drop usage of Ceph Nautilus from RDO\n\nThis was temporary due to missing Ceph Nautilus\nrepo on CentOS mirrors (after removing CentOS Linux\ncontent on EOL date).\n\nChange-Id: I86aa697b8def34e0cfb11d2f5ad903dd54e975ef\n'}, {'number': 4, 'created': '2022-02-14 12:04:38.000000000', 'files': ['docker/base/Dockerfile.j2', 'tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7f38bce812ccb621a089755526f79bd792f4e071', 'message': 'base: Drop usage of Ceph Nautilus from RDO\n\nThis was temporary due to missing Ceph Nautilus\nrepo on CentOS mirrors (after removing CentOS Linux\ncontent on EOL date).\n\nChange-Id: I86aa697b8def34e0cfb11d2f5ad903dd54e975ef\n'}]",7,828228,7f38bce812ccb621a089755526f79bd792f4e071,26,3,4,22629,,,0,"base: Drop usage of Ceph Nautilus from RDO

This was temporary due to missing Ceph Nautilus
repo on CentOS mirrors (after removing CentOS Linux
content on EOL date).

Change-Id: I86aa697b8def34e0cfb11d2f5ad903dd54e975ef
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/828228/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,57e602f5e0fd5ccbcb2089e145f55b6ef0f01c4c,,,"{# TODO(mnasiadka): Remove this once Nautilus C8S lands on mirror.centos.org #} RUN sed -i \ -e ""s|^\(mirrorlist.*\)|#\1|"" \ -e ""s|^#baseurl=http://mirror.centos.org.*|baseurl=https://trunk.rdoproject.org/centos8-master/deps/storage/nautilus/|"" \ /etc/yum.repos.d/CentOS-Ceph-Nautilus.repo ",0,7
openstack%2Fironic~master~I9fe5cd295df33dd3af9bcbdc3fc5f35bd0c6df1b,openstack/ironic,master,I9fe5cd295df33dd3af9bcbdc3fc5f35bd0c6df1b,Update some releasenotes for 19.1 release,MERGED,2022-02-14 04:12:51.000000000,2022-02-14 16:34:26.000000000,2022-02-14 16:31:52.000000000,"[{'_account_id': 6618}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-14 04:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca2d491e81b655b2c14e11cc4a43531ede4feda7', 'message': 'Update some releasenotes for 19.1 release\n\nChange-Id: I9fe5cd295df33dd3af9bcbdc3fc5f35bd0c6df1b\n'}, {'number': 2, 'created': '2022-02-14 11:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/37a187b1c088d31e1480f5cac6ff660f6a4a0c7f', 'message': 'Update some releasenotes for 19.1 release\n\nChange-Id: I9fe5cd295df33dd3af9bcbdc3fc5f35bd0c6df1b\n'}, {'number': 3, 'created': '2022-02-14 13:55:28.000000000', 'files': ['releasenotes/notes/fix-redfish-raid-deploy-steps-e9ee1ea3d1f2a475.yaml', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml', 'releasenotes/notes/update-idrac-redfish-management-export-conf-9fb17273c4d9a050.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfa47c54b9eb9795f5e0e911d5bb0e7cb5dc790a', 'message': 'Update some releasenotes for 19.1 release\n\nChange-Id: I9fe5cd295df33dd3af9bcbdc3fc5f35bd0c6df1b\n'}]",6,828991,cfa47c54b9eb9795f5e0e911d5bb0e7cb5dc790a,17,3,3,15519,,,0,"Update some releasenotes for 19.1 release

Change-Id: I9fe5cd295df33dd3af9bcbdc3fc5f35bd0c6df1b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/828991/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-redfish-raid-deploy-steps-e9ee1ea3d1f2a475.yaml', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml', 'releasenotes/notes/update-idrac-redfish-management-export-conf-9fb17273c4d9a050.yaml']",3,ca2d491e81b655b2c14e11cc4a43531ede4feda7,update_release_notes_for_19.1, Updates the export configuration step from the`idrac-redfish`` to not export iDRAC BMC connection settings to avoid overwriting those in another system when using unmodified configuration mold in import step., Updates ``idrac-redfish`` management interface export configuration step to not export iDRAC BMC connection settings to avoid overwriting those in another system when using unmodified configuration mold in import step.,5,5
openstack%2Fkolla~stable%2Fxena~I79e78dca550262fc86b092a036f9ea96b214ab48,openstack/kolla,stable/xena,I79e78dca550262fc86b092a036f9ea96b214ab48,ironic: Fix UEFI & iPXE bootloader filenames,MERGED,2022-02-14 09:24:49.000000000,2022-02-14 16:21:01.000000000,2022-02-14 16:18:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-14 09:24:49.000000000', 'files': ['docker/ironic/ironic-pxe/extend_start.sh', 'releasenotes/notes/bug-1959203-1bb695e052248d78.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/af092df6aa66f58a8d3ad3b363db0d81f54c0944', 'message': 'ironic: Fix UEFI & iPXE bootloader filenames\n\nWhen using Ironic with UEFI boot mode and iPXE booting, nodes will\nattempt to chainload iPXE using a Network Boot Program (NBP). This is\nconfigured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default\nsince Xena is snponly.efi. In Wallaby and earlier releases, the default\nwas ipxe.efi. These files need to be available in the /tftpboot\ndirectory of the ironic-pxe image.\n\nThe current default of snponly.efi was not present for any supported\ndistros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which\nappends the architecture to the filename (e.g. ipxe-x86_64.efi).\n\nThis change ensures that both ipxe.efi and snponly.efi exist in\n/tftpboot for all supported distributions, ensuring that both the\ncurrent and previous Ironic defaults should work. Where these files have\ndifferent names, we use symlinks to allow for any deployers overriding\nthe filenames in configuration.\n\nCloses-Bug: #1959203\n\nChange-Id: I79e78dca550262fc86b092a036f9ea96b214ab48\n(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)\n'}]",0,828845,af092df6aa66f58a8d3ad3b363db0d81f54c0944,9,3,1,14826,,,0,"ironic: Fix UEFI & iPXE bootloader filenames

When using Ironic with UEFI boot mode and iPXE booting, nodes will
attempt to chainload iPXE using a Network Boot Program (NBP). This is
configured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default
since Xena is snponly.efi. In Wallaby and earlier releases, the default
was ipxe.efi. These files need to be available in the /tftpboot
directory of the ironic-pxe image.

The current default of snponly.efi was not present for any supported
distros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which
appends the architecture to the filename (e.g. ipxe-x86_64.efi).

This change ensures that both ipxe.efi and snponly.efi exist in
/tftpboot for all supported distributions, ensuring that both the
current and previous Ironic defaults should work. Where these files have
different names, we use symlinks to allow for any deployers overriding
the filenames in configuration.

Closes-Bug: #1959203

Change-Id: I79e78dca550262fc86b092a036f9ea96b214ab48
(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/828845/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ironic/ironic-pxe/extend_start.sh', 'releasenotes/notes/bug-1959203-1bb695e052248d78.yaml']",2,af092df6aa66f58a8d3ad3b363db0d81f54c0944,,"--- fixes: - | Fixes an issue with Ironic deployments using UEFI and iPXE, where the default UEFI iPXE bootloader in Ironic was not available in the TFTP server. This affects all Kolla releases on CentOS, and Xena on Debian/Ubuntu. `LP#1959203 <https://bugs.launchpad.net/kolla/+bug/1959203>`__ ",,25,0
openstack%2Fkolla~stable%2Fwallaby~I79e78dca550262fc86b092a036f9ea96b214ab48,openstack/kolla,stable/wallaby,I79e78dca550262fc86b092a036f9ea96b214ab48,ironic: Fix UEFI & iPXE bootloader filenames,MERGED,2022-02-14 09:24:59.000000000,2022-02-14 16:16:00.000000000,2022-02-14 16:13:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-14 09:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ef187f75db1ced128e851d344e8faad8a51cd935', 'message': 'ironic: Fix UEFI & iPXE bootloader filenames\n\nWhen using Ironic with UEFI boot mode and iPXE booting, nodes will\nattempt to chainload iPXE using a Network Boot Program (NBP). This is\nconfigured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default\nsince Xena is snponly.efi. In Wallaby and earlier releases, the default\nwas ipxe.efi. These files need to be available in the /tftpboot\ndirectory of the ironic-pxe image.\n\nThe current default of snponly.efi was not present for any supported\ndistros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which\nappends the architecture to the filename (e.g. ipxe-x86_64.efi).\n\nThis change ensures that both ipxe.efi and snponly.efi exist in\n/tftpboot for all supported distributions, ensuring that both the\ncurrent and previous Ironic defaults should work. Where these files have\ndifferent names, we use symlinks to allow for any deployers overriding\nthe filenames in configuration.\n\nCloses-Bug: #1959203\n\nChange-Id: I79e78dca550262fc86b092a036f9ea96b214ab48\n(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)\n'}, {'number': 2, 'created': '2022-02-14 09:26:05.000000000', 'files': ['docker/ironic/ironic-pxe/extend_start.sh', 'releasenotes/notes/bug-1959203-1bb695e052248d78.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1ac4662c11b7baade1a1d689f5a8b40d481aa3ab', 'message': 'ironic: Fix UEFI & iPXE bootloader filenames\n\nWhen using Ironic with UEFI boot mode and iPXE booting, nodes will\nattempt to chainload iPXE using a Network Boot Program (NBP). This is\nconfigured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default\nsince Xena is snponly.efi. In Wallaby and earlier releases, the default\nwas ipxe.efi. These files need to be available in the /tftpboot\ndirectory of the ironic-pxe image.\n\nThe current default of snponly.efi was not present for any supported\ndistros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which\nappends the architecture to the filename (e.g. ipxe-x86_64.efi).\n\nThis change ensures that both ipxe.efi and snponly.efi exist in\n/tftpboot for all supported distributions, ensuring that both the\ncurrent and previous Ironic defaults should work. Where these files have\ndifferent names, we use symlinks to allow for any deployers overriding\nthe filenames in configuration.\n\nCloses-Bug: #1959203\n\nChange-Id: I79e78dca550262fc86b092a036f9ea96b214ab48\n(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)\n'}]",0,828846,1ac4662c11b7baade1a1d689f5a8b40d481aa3ab,11,3,2,14826,,,0,"ironic: Fix UEFI & iPXE bootloader filenames

When using Ironic with UEFI boot mode and iPXE booting, nodes will
attempt to chainload iPXE using a Network Boot Program (NBP). This is
configured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default
since Xena is snponly.efi. In Wallaby and earlier releases, the default
was ipxe.efi. These files need to be available in the /tftpboot
directory of the ironic-pxe image.

The current default of snponly.efi was not present for any supported
distros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which
appends the architecture to the filename (e.g. ipxe-x86_64.efi).

This change ensures that both ipxe.efi and snponly.efi exist in
/tftpboot for all supported distributions, ensuring that both the
current and previous Ironic defaults should work. Where these files have
different names, we use symlinks to allow for any deployers overriding
the filenames in configuration.

Closes-Bug: #1959203

Change-Id: I79e78dca550262fc86b092a036f9ea96b214ab48
(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/828846/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ironic/ironic-pxe/extend_start.sh', 'releasenotes/notes/bug-1959203-1bb695e052248d78.yaml']",2,ef187f75db1ced128e851d344e8faad8a51cd935,,"--- fixes: - | Fixes an issue with Ironic deployments using UEFI and iPXE, where the default UEFI iPXE bootloader in Ironic was not available in the TFTP server. This affects all Kolla releases on CentOS, and Xena on Debian/Ubuntu. `LP#1959203 <https://bugs.launchpad.net/kolla/+bug/1959203>`__ ",,29,0
openstack%2Felection~master~I9dfb96e0d6e1a6309861c7e7a073edc65f93790a,openstack/election,master,I9dfb96e0d6e1a6309861c7e7a073edc65f93790a,Add Pierre Riteau's candidacy for Blazar PTL (Z),MERGED,2022-02-14 14:15:19.000000000,2022-02-14 16:12:30.000000000,2022-02-14 16:10:25.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 14:15:19.000000000', 'files': ['candidates/z/Blazar/pierre@stackhpc.com'], 'web_link': 'https://opendev.org/openstack/election/commit/e26a71629881ccb4f5d5dd6e58773d3594ae9c25', 'message': ""Add Pierre Riteau's candidacy for Blazar PTL (Z)\n\nChange-Id: I9dfb96e0d6e1a6309861c7e7a073edc65f93790a\n""}]",2,829052,e26a71629881ccb4f5d5dd6e58773d3594ae9c25,8,3,1,15197,,,0,"Add Pierre Riteau's candidacy for Blazar PTL (Z)

Change-Id: I9dfb96e0d6e1a6309861c7e7a073edc65f93790a
",git fetch https://review.opendev.org/openstack/election refs/changes/52/829052/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Blazar/pierre@stackhpc.com'],1,e26a71629881ccb4f5d5dd6e58773d3594ae9c25,blazar-z,"Hi, I would like to self-nominate for the role of PTL of Blazar for the Z release cycle. I have been PTL since the Stein cycle and I am willing to continue in this role. We have experienced an uptick in contributions during the Yoga cycle, merging some long-awaited features such as a calendar view in the dashboard or initial support for preemptible instances. I would like to keep this momentum going, improving Blazar for its existing users and plugging gaps preventing it from getting adopted by more deployments. Thank you for your support, Pierre Riteau (priteau) ",,14,0
openstack%2Fkolla~stable%2Fvictoria~I79e78dca550262fc86b092a036f9ea96b214ab48,openstack/kolla,stable/victoria,I79e78dca550262fc86b092a036f9ea96b214ab48,ironic: Fix UEFI & iPXE bootloader filenames,MERGED,2022-02-14 09:31:11.000000000,2022-02-14 16:10:06.000000000,2022-02-14 16:08:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-14 09:31:11.000000000', 'files': ['docker/ironic/ironic-pxe/extend_start.sh', 'releasenotes/notes/bug-1959203-1bb695e052248d78.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/77d683caaaed46149d2323b5a94c0e73bef3241c', 'message': 'ironic: Fix UEFI & iPXE bootloader filenames\n\nWhen using Ironic with UEFI boot mode and iPXE booting, nodes will\nattempt to chainload iPXE using a Network Boot Program (NBP). This is\nconfigured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default\nsince Xena is snponly.efi. In Wallaby and earlier releases, the default\nwas ipxe.efi. These files need to be available in the /tftpboot\ndirectory of the ironic-pxe image.\n\nThe current default of snponly.efi was not present for any supported\ndistros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which\nappends the architecture to the filename (e.g. ipxe-x86_64.efi).\n\nThis change ensures that both ipxe.efi and snponly.efi exist in\n/tftpboot for all supported distributions, ensuring that both the\ncurrent and previous Ironic defaults should work. Where these files have\ndifferent names, we use symlinks to allow for any deployers overriding\nthe filenames in configuration.\n\nCloses-Bug: #1959203\n\nChange-Id: I79e78dca550262fc86b092a036f9ea96b214ab48\n(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)\n'}]",1,828847,77d683caaaed46149d2323b5a94c0e73bef3241c,12,3,1,14826,,,0,"ironic: Fix UEFI & iPXE bootloader filenames

When using Ironic with UEFI boot mode and iPXE booting, nodes will
attempt to chainload iPXE using a Network Boot Program (NBP). This is
configured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default
since Xena is snponly.efi. In Wallaby and earlier releases, the default
was ipxe.efi. These files need to be available in the /tftpboot
directory of the ironic-pxe image.

The current default of snponly.efi was not present for any supported
distros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which
appends the architecture to the filename (e.g. ipxe-x86_64.efi).

This change ensures that both ipxe.efi and snponly.efi exist in
/tftpboot for all supported distributions, ensuring that both the
current and previous Ironic defaults should work. Where these files have
different names, we use symlinks to allow for any deployers overriding
the filenames in configuration.

Closes-Bug: #1959203

Change-Id: I79e78dca550262fc86b092a036f9ea96b214ab48
(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/828847/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ironic/ironic-pxe/extend_start.sh', 'releasenotes/notes/bug-1959203-1bb695e052248d78.yaml']",2,77d683caaaed46149d2323b5a94c0e73bef3241c,,"--- fixes: - | Fixes an issue with Ironic deployments using UEFI and iPXE, where the default UEFI iPXE bootloader in Ironic was not available in the TFTP server. This affects all Kolla releases on CentOS, and Xena on Debian/Ubuntu. `LP#1959203 <https://bugs.launchpad.net/kolla/+bug/1959203>`__ ",,25,0
openstack%2Ftripleo-ci~master~I4a1c357d181edd8e4c491d73756775ca185b8003,openstack/tripleo-ci,master,I4a1c357d181edd8e4c491d73756775ca185b8003,DNM test c9 build job,ABANDONED,2022-02-08 09:58:10.000000000,2022-02-14 16:08:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-08 09:58:10.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c04246eba1a242b8181b03b7821540c3c35b6dfc', 'message': 'DNM test c9 build job\n\nChange-Id: I4a1c357d181edd8e4c491d73756775ca185b8003\n'}]",0,828265,c04246eba1a242b8181b03b7821540c3c35b6dfc,4,2,1,10969,,,0,"DNM test c9 build job

Change-Id: I4a1c357d181edd8e4c491d73756775ca185b8003
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/65/828265/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c04246eba1a242b8181b03b7821540c3c35b6dfc,testsa9b, - tripleo-ci-centos-8-standalone-build - tripleo-ci-centos-9-standalone-build ,,3,0
openstack%2Fpuppet-oslo~stable%2Fwallaby~I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7,openstack/puppet-oslo,stable/wallaby,I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7,Add pymemcache's HashClient retrying options to oslo.cache,MERGED,2022-02-04 17:48:28.000000000,2022-02-14 16:04:52.000000000,2022-02-14 16:02:55.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-04 17:48:28.000000000', 'files': ['releasenotes/notes/pymemcache_hashclient_retrying-10a756708ad9894b.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/d80fbfc9de7e46c8c943454671810a08e43af6e5', 'message': ""Add pymemcache's HashClient retrying options to oslo.cache\n\nThis patch specifies a set of options required to setup pymemcache's\nHashClient retrying feature (dogpile.cache) cache backend.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/824944\n\nChange-Id: I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7\n(cherry picked from commit 34e1446f44d66a96c8fbe631fc29413de0a51551)\n(cherry picked from commit edf16447f0a8fa8be0000a3ecf7d751142048a49)\n""}]",2,827911,d80fbfc9de7e46c8c943454671810a08e43af6e5,10,4,1,28522,,,0,"Add pymemcache's HashClient retrying options to oslo.cache

This patch specifies a set of options required to setup pymemcache's
HashClient retrying feature (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/824944

Change-Id: I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7
(cherry picked from commit 34e1446f44d66a96c8fbe631fc29413de0a51551)
(cherry picked from commit edf16447f0a8fa8be0000a3ecf7d751142048a49)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/11/827911/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pymemcache_hashclient_retrying-10a756708ad9894b.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",3,d80fbfc9de7e46c8c943454671810a08e43af6e5,wallaby,"# [*hashclient_retry_attempts*] # (Optional) Amount of times a client should be tried # before it is marked dead and removed from the pool in # the HashClient's internal mechanisms. # Default to $::os_service_default # # [*hashclient_retry_delay*] # (Optional) Time in seconds that should pass between # retry attempts in the HashClient's internal mechanisms. # Default to $::os_service_default # # [*dead_timeout*] # (Optional) Time in seconds before attempting to add a node # back in the pool in the HashClient's internal mechanisms. # Default to $::os_service_default # $hashclient_retry_attempts = $::os_service_default, $hashclient_retry_delay = $::os_service_default, $dead_timeout = $::os_service_default, 'cache/hashclient_retry_attempts' => { value => $hashclient_retry_attempts }, 'cache/hashclient_retry_delay' => { value => $hashclient_retry_delay }, 'cache/dead_timeout' => { value => $dead_timeout },",,36,0
openstack%2Freleases~master~I4e7645ea1acbab8a31bfd4b125eb53e7d073b521,openstack/releases,master,I4e7645ea1acbab8a31bfd4b125eb53e7d073b521,Release python-neutronclient,MERGED,2022-02-09 02:23:05.000000000,2022-02-14 15:57:49.000000000,2022-02-14 15:57:49.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 02:23:05.000000000', 'files': ['deliverables/yoga/python-neutronclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b499ab98a4394f8b78bea18972342294e401ac14', 'message': 'Release python-neutronclient\n\nSome required feature for Yoga:\n1. Add CURD actions for packet rate limit rule\n2. Add support for minimum packet rate rule to the client\n\nChange-Id: I4e7645ea1acbab8a31bfd4b125eb53e7d073b521\n'}]",2,828442,b499ab98a4394f8b78bea18972342294e401ac14,9,5,1,9531,,,0,"Release python-neutronclient

Some required feature for Yoga:
1. Add CURD actions for packet rate limit rule
2. Add support for minimum packet rate rule to the client

Change-Id: I4e7645ea1acbab8a31bfd4b125eb53e7d073b521
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/828442/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-neutronclient.yaml'],1,b499ab98a4394f8b78bea18972342294e401ac14,, - version: 7.8.0 projects: - repo: openstack/python-neutronclient hash: 6ca3341352e17f8ea4e79627c5a96c519b73a7b6,,4,0
openstack%2Felection~master~Ic7358f2b1f07335b5ffaa28dcab88447d3417bf3,openstack/election,master,Ic7358f2b1f07335b5ffaa28dcab88447d3417bf3,Add Gregory Thiemonge candidacy for Octavia PTL,MERGED,2022-02-14 13:44:28.000000000,2022-02-14 15:55:28.000000000,2022-02-14 15:53:34.000000000,"[{'_account_id': 7198}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 13:44:28.000000000', 'files': ['candidates/z/Octavia/gthiemon@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/6b226f9382c91113e7d8834b877f6cc94412660a', 'message': 'Add Gregory Thiemonge candidacy for Octavia PTL\n\nChange-Id: Ic7358f2b1f07335b5ffaa28dcab88447d3417bf3\n'}]",2,829026,6b226f9382c91113e7d8834b877f6cc94412660a,9,3,1,29244,,,0,"Add Gregory Thiemonge candidacy for Octavia PTL

Change-Id: Ic7358f2b1f07335b5ffaa28dcab88447d3417bf3
",git fetch https://review.opendev.org/openstack/election refs/changes/26/829026/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Octavia/gthiemon@redhat.com'],1,6b226f9382c91113e7d8834b877f6cc94412660a,,"Hi, I would like to nominate myself for Octavia PTL for the Z release cycle. I am the current PTL and I would like to continue to contribute to this role. For the Z release, my plan for Octavia is to enable persistence in taskflow in the amphorav2 driver, to start working on HTTP/3 support, to fix old known issues (handling multiple subnets on the VIP port, fixing multiple subnets issue on member ports). Thanks for your consideration, Gregory ",,13,0
openstack%2Fbarbican~master~Ie3e3adc1ee02d770de050f5cfa8110774bb1f661,openstack/barbican,master,Ie3e3adc1ee02d770de050f5cfa8110774bb1f661,"Allow secret delete by users with ""creator"" role",MERGED,2022-01-20 21:03:02.000000000,2022-02-14 15:44:24.000000000,2022-02-14 15:42:14.000000000,"[{'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 34120}]","[{'number': 1, 'created': '2022-01-20 21:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3ab69553ad06fdd8536b0c86bf3223983bdcc57f', 'message': 'Allow secret delete by users with ""creator"" role\n\nUsers with the ""creator"" role on a project can now delete secrets owned\nby the project even if the user is different than the user that originally\ncreated the secret.  Previous to this fix a user with the ""creator"" role\nwas only allowed to delete a secret owned by the project if they were also\nthe same user that originally created, which was inconsistent with the way\nthat deletes are handled by other OpenStack projects that integrate with\nBarbican.\n\nStory: 2009791\nTask: 44324\nChange-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661\n'}, {'number': 2, 'created': '2022-01-20 22:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fc8ae0dd820593a93801b289d52bbbacd6404be8', 'message': 'Allow secret delete by users with ""creator"" role\n\nUsers with the ""creator"" role on a project can now delete secrets owned\nby the project even if the user is different than the user that\noriginally created the secret.  Previous to this fix a user with the\n""creator"" role was only allowed to delete a secret owned by the project\nif they were also the same user that originally created, which was\ninconsistent with the way that deletes are handled by other OpenStack\nprojects that integrate with Barbican.\n\nStory: 2009791\nTask: 44324\nChange-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661\n'}, {'number': 3, 'created': '2022-01-20 22:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/328377cc09832bf129222e6a7773b1fc9d4c833b', 'message': 'Allow secret delete by users with ""creator"" role\n\nUsers with the ""creator"" role on a project can now delete secrets owned\nby the project even if the user is different than the user that\noriginally created the secret.  Previous to this fix a user with the\n""creator"" role was only allowed to delete a secret owned by the project\nif they were also the same user that originally created, which was\ninconsistent with the way that deletes are handled by other OpenStack\nprojects that integrate with Barbican.\n\nStory: 2009791\nTask: 44324\nChange-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661\n'}, {'number': 4, 'created': '2022-01-21 15:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6fbef2c79c17a9eb7f8ee351c09807e5ae08c6c8', 'message': 'Allow secret delete by users with ""creator"" role\n\nUsers with the ""creator"" role on a project can now delete secrets owned\nby the project even if the user is different than the user that\noriginally created the secret.  Previous to this fix a user with the\n""creator"" role was only allowed to delete a secret owned by the project\nif they were also the same user that originally created, which was\ninconsistent with the way that deletes are handled by other OpenStack\nprojects that integrate with Barbican.\n\nStory: 2009791\nTask: 44324\nChange-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661\n'}, {'number': 5, 'created': '2022-01-21 21:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3b2b379c3e931547ef3f0fc98c6940f1e131d564', 'message': 'Allow secret delete by users with ""creator"" role\n\nUsers with the ""creator"" role on a project can now delete secrets owned\nby the project even if the user is different than the user that\noriginally created the secret.  Previous to this fix a user with the\n""creator"" role was only allowed to delete a secret owned by the project\nif they were also the same user that originally created, which was\ninconsistent with the way that deletes are handled by other OpenStack\nprojects that integrate with Barbican.\n\nThis change does not affect the policy for delting private secrets\n(i.e. secrets with the ""project-access"" flag set to ""false"").\n\nStory: 2009791\nTask: 44324\nChange-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661\n'}, {'number': 6, 'created': '2022-01-25 18:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1c7cf0551253ec163ad83dd2495e77fac934a6c2', 'message': 'Allow secret delete by users with ""creator"" role\n\nUsers with the ""creator"" role on a project can now delete secrets owned\nby the project even if the user is different than the user that\noriginally created the secret.  Previous to this fix a user with the\n""creator"" role was only allowed to delete a secret owned by the project\nif they were also the same user that originally created, which was\ninconsistent with the way that deletes are handled by other OpenStack\nprojects that integrate with Barbican.\n\nThis change does not affect the policy for delting private secrets\n(i.e. secrets with the ""project-access"" flag set to ""false"").\n\nStory: 2009791\nTask: 44324\nChange-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661\n'}, {'number': 7, 'created': '2022-01-31 20:22:07.000000000', 'files': ['functionaltests/api/v1/functional/test_secrets_rbac.py', 'barbican/tests/api/test_resources_policy.py', 'doc/source/admin/access_control.rst', 'api-guide/source/acls.rst', 'releasenotes/notes/fix-story-2009791-allow-creator-delete-06dd3eb670d0e624.yaml', 'barbican/common/policies/secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2620d14c5fae378a5e8d7d550d5ae8efb263d63a', 'message': 'Allow secret delete by users with ""creator"" role\n\nUsers with the ""creator"" role on a project can now delete secrets owned\nby the project even if the user is different than the user that\noriginally created the secret.  Previous to this fix a user with the\n""creator"" role was only allowed to delete a secret owned by the project\nif they were also the same user that originally created, which was\ninconsistent with the way that deletes are handled by other OpenStack\nprojects that integrate with Barbican.\n\nThis change does not affect the policy for delting private secrets\n(i.e. secrets with the ""project-access"" flag set to ""false"").\n\nStory: 2009791\nTask: 44324\nChange-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661\n'}]",12,825675,2620d14c5fae378a5e8d7d550d5ae8efb263d63a,29,4,7,7973,,,0,"Allow secret delete by users with ""creator"" role

Users with the ""creator"" role on a project can now delete secrets owned
by the project even if the user is different than the user that
originally created the secret.  Previous to this fix a user with the
""creator"" role was only allowed to delete a secret owned by the project
if they were also the same user that originally created, which was
inconsistent with the way that deletes are handled by other OpenStack
projects that integrate with Barbican.

This change does not affect the policy for delting private secrets
(i.e. secrets with the ""project-access"" flag set to ""false"").

Story: 2009791
Task: 44324
Change-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661
",git fetch https://review.opendev.org/openstack/barbican refs/changes/75/825675/7 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/api/test_resources_policy.py', 'releasenotes/notes/fix-story-2009791-allow-creator-delete-06dd3eb670d0e624.yaml', 'barbican/common/policies/secrets.py']",3,3ab69553ad06fdd8536b0c86bf3223983bdcc57f,story/2009791, 'rule:secret_project_creator_role or ' +, 'rule:secret_project_creator or ' +,13,3
openstack%2Fopenstack-manuals~master~I9146c424d021a72176cdb60fa49d8e9c954d939f,openstack/openstack-manuals,master,I9146c424d021a72176cdb60fa49d8e9c954d939f,Add a user guide link for Cinder,ABANDONED,2022-01-24 16:12:59.000000000,2022-02-14 15:41:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-24 16:12:59.000000000', 'files': ['www/project-data/train.yaml', 'www/project-data/ussuri.yaml', 'www/project-data/xena.yaml', 'www/project-data/wallaby.yaml', 'www/project-data/latest.yaml', 'www/project-data/victoria.yaml', 'www/project-data/stein.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f3945bdf70ac7eb1e6cf2af40828065bcc55b1e3', 'message': 'Add a user guide link for Cinder\n\nSince Stein, the Cinder documentation has included a subheading for\nend users in its main index. In order to treat that as a user guide,\nan htaccess redirect has been added from /user/ to it.\n\nDepends-On: https://review.opendev.org/826116\nChange-Id: I9146c424d021a72176cdb60fa49d8e9c954d939f\n'}]",1,826119,f3945bdf70ac7eb1e6cf2af40828065bcc55b1e3,4,1,1,5263,,,0,"Add a user guide link for Cinder

Since Stein, the Cinder documentation has included a subheading for
end users in its main index. In order to treat that as a user guide,
an htaccess redirect has been added from /user/ to it.

Depends-On: https://review.opendev.org/826116
Change-Id: I9146c424d021a72176cdb60fa49d8e9c954d939f
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/19/826119/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/project-data/train.yaml', 'www/project-data/ussuri.yaml', 'www/project-data/xena.yaml', 'www/project-data/wallaby.yaml', 'www/project-data/latest.yaml', 'www/project-data/victoria.yaml', 'www/project-data/stein.yaml']",7,f3945bdf70ac7eb1e6cf2af40828065bcc55b1e3,cinder-users, has_user_guide: true,,7,0
openstack%2Fcinder~master~I86229ca20f14531c4e2853be726b10798c5ebfed,openstack/cinder,master,I86229ca20f14531c4e2853be726b10798c5ebfed,Fake a user guide,ABANDONED,2022-01-24 16:10:51.000000000,2022-02-14 15:41:51.000000000,,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 16:10:51.000000000', 'files': ['doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37d3cfb65dbc10d990e1b646d2078549861a9d05', 'message': ""Fake a user guide\n\nAt least some users are confused that the user guides section of the\nmain docs site doesn't include an entry for Cinder. This is because\nthe has_user_guide option assumes the project will present a\nseparate user guide in a /user/ subtree. Cinder merely uses a\nsubheading in its main documentation index for this purpose, so add\na convenience redirect making it possible to be included in the user\nguides list.\n\nChange-Id: I86229ca20f14531c4e2853be726b10798c5ebfed\n""}]",0,826116,37d3cfb65dbc10d990e1b646d2078549861a9d05,28,2,1,5263,,,0,"Fake a user guide

At least some users are confused that the user guides section of the
main docs site doesn't include an entry for Cinder. This is because
the has_user_guide option assumes the project will present a
separate user guide in a /user/ subtree. Cinder merely uses a
subheading in its main documentation index for this purpose, so add
a convenience redirect making it possible to be included in the user
guides list.

Change-Id: I86229ca20f14531c4e2853be726b10798c5ebfed
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/826116/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_extra/.htaccess'],1,37d3cfb65dbc10d990e1b646d2078549861a9d05,user-guide,redirectmatch 301 ^/cinder/([^/]+)/user/.* /cinder/$1/#for-end-users,,1,0
openstack%2Fnova-specs~master~Ia8a537a3de08333262410f8ce1d1d0c6ae997e1a,openstack/nova-specs,master,Ia8a537a3de08333262410f8ce1d1d0c6ae997e1a,Late Amendments to the Off-path Backends Spec,MERGED,2022-02-07 18:22:43.000000000,2022-02-14 15:33:53.000000000,2022-02-14 15:31:48.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 18:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2d33a9ec494fd352c6d436ad0be87e47e9b7a78c', 'message': 'Late Amendments to the Off-path Backends Spec\n\nThis change mainly addresses the issue with reusing the existing\n``VNIC_SMARTNIC`` vnic type.\n\nAs discussed on IRC, this will run into a conflict with the existing\nIronic use-case with SmartNICs since the remote_managed tag addition to\nan InstancePCIRequest is based the usage of ``VNIC_TYPE_SMARTNIC`` in\nthe current design:\n\nhttps://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56\n\nIn order to address that, a new ``VNIC_TYPE_REMOTE_MANAGED`` vnic type\nis introduced into neutron-lib:\n\nhttps://review.opendev.org/c/openstack/neutron-lib/+/828174\nhttps://review.opendev.org/c/openstack/neutron-specs/+/828173\n\nAdditionally, this change actualizes some of the implementation details\nand cleans up references to dependent changes in different projects\n(OVN, Libvirt).\n\nChange-Id: Ia8a537a3de08333262410f8ce1d1d0c6ae997e1a\n'}, {'number': 2, 'created': '2022-02-09 15:23:21.000000000', 'files': ['specs/yoga/approved/integration-with-off-path-network-backends.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/284908e7203d007e31b2689a4dcc2ced8762f2d1', 'message': 'Late Amendments to the Off-path Backends Spec\n\nThis change mainly addresses the issue with reusing the existing\n``VNIC_SMARTNIC`` vnic type.\n\nAs discussed on IRC, this will run into a conflict with the existing\nIronic use-case with SmartNICs since the remote_managed tag addition to\nan InstancePCIRequest is based the usage of ``VNIC_TYPE_SMARTNIC`` in\nthe current design:\n\nhttps://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56\n\nIn order to address that, a new ``VNIC_TYPE_REMOTE_MANAGED`` vnic type\nis introduced into neutron-lib:\n\nhttps://review.opendev.org/c/openstack/neutron-lib/+/828174\nhttps://review.opendev.org/c/openstack/neutron-specs/+/828173\n\nAdditionally, this change actualizes some of the implementation details\nand cleans up references to dependent changes in different projects\n(OVN, Libvirt).\n\nChange-Id: Ia8a537a3de08333262410f8ce1d1d0c6ae997e1a\n'}]",7,828177,284908e7203d007e31b2689a4dcc2ced8762f2d1,18,3,2,24824,,,0,"Late Amendments to the Off-path Backends Spec

This change mainly addresses the issue with reusing the existing
``VNIC_SMARTNIC`` vnic type.

As discussed on IRC, this will run into a conflict with the existing
Ironic use-case with SmartNICs since the remote_managed tag addition to
an InstancePCIRequest is based the usage of ``VNIC_TYPE_SMARTNIC`` in
the current design:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

In order to address that, a new ``VNIC_TYPE_REMOTE_MANAGED`` vnic type
is introduced into neutron-lib:

https://review.opendev.org/c/openstack/neutron-lib/+/828174
https://review.opendev.org/c/openstack/neutron-specs/+/828173

Additionally, this change actualizes some of the implementation details
and cleans up references to dependent changes in different projects
(OVN, Libvirt).

Change-Id: Ia8a537a3de08333262410f8ce1d1d0c6ae997e1a
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/77/828177/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/integration-with-off-path-network-backends.rst'],1,2d33a9ec494fd352c6d436ad0be87e47e9b7a78c,integration-with-off-path-network-backends,"* Add logic to handle ports of type ``VNIC_REMOTE_MANAGED`` (""remote-managed""); * Add a new Nova compute service version constant (``SUPPORT_VNIC_TYPE_REMOTE_MANAGED``) and an instance build-time check (in ``_validate_and_build_base_options``) to make sure that instances with this port type are scheduled only when all compute services in all cells have this service version; requests containing port_ids that have ``VNIC_TYPE_REMOTE_MANAGED`` port type. Nova will need to learn to query the port type by its ID to perform that check; ``VNIC_TYPE_REMOTE_MANAGED`` port type and add the ``COMPUTE_REMOTE_MANAGED_PORTS`` to the request spec in this case. This will make sure that instances are scheduled on compute nodes that have the necessary virt driver supporting remote managed ports enabled; * Add compute service version checks for the following operations for instances with ``VNIC_TYPE_REMOTE_MANAGED`` ports: * Create server; * Attach a VNIC_TYPE_REMOTE_MANAGED port; * Add ``VNIC_TYPE_REMOTE_MANAGED`` to the ``VNIC_TYPES_DIRECT_PASSTHROUGH`` list since Nova instance lifecycle operations like live migration will be handled in the same way as other VNIC types already present there; * Avoid waiting for ``network-vif-plugged`` events for active ports with ``VNIC_TYPE_REMOTE_MANAGED`` ports.SmartNIC DPUs also may prevent VLAN programming by for VFs, therefore, operations like the following will fail (see, [26]_ for the example driver code causing it which was later fixed in [27]_)::(``SUPPORT_VNIC_TYPE_REMOTE_MANAGED``) and an instance build-time check across all cells. For operators, the upgrade impact will be such that this feature will not be possible to use until all Nova Compute services will be upgraded toto support instances booted with the ``VNIC_TYPE_REMOTE_MANAGED`` port type.``VNIC_TYPE_REMOTE_MANAGED`` ports but only if a particular configuration option is set in the Neutron OpenvSwitch Agent (which was done for Ironic purposes, not Nova [14]_). * Representor plugging and related OVN changes: [16]_ [17]_ [24]_ [25]_;.. [17] https://patchwork.ozlabs.org/project/ovn/list/?series=270569&archive=both&state=*.. [22] https://gitlab.com/libvirt/libvirt/-/commit/09cdd16a9bf73bc1f75fe774216c71f9ebc78c88.. [24] https://github.com/ovn-org/ovn-vif .. [25] https://github.com/ovn-org/ovn-vif/pull/3 .. [26] https://github.com/torvalds/linux/blob/v5.15/drivers/net/ethernet/mellanox/mlx5/core/esw/legacy.c#L427-L434 .. [27] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7846665d3504812acaebf920d1141851379a7f37","* Add logic to handle ports of type ``VNIC_SMARTNIC`` (""smart-nic""); * Add a new Nova service version constant (``SUPPORT_VNIC_TYPE_SMARTNIC``) and an instance build-time check (in ``_validate_and_build_base_options``) to make sure that instances with this port type are scheduled only when all compute services in all cells have this service version; requests containing port_ids that have ``VNIC_TYPE_SMARTNIC`` port type. Nova will need to learn to query the port type by its ID to perform that check; ``VNIC_TYPE_SMARTNIC`` port type and add the ``COMPUTE_REMOTE_MANAGED_PORTS`` to the request spec in this case. This will make sure that instances are scheduled on compute nodes that have the necessary virt driver supporting remote managed ports enabled; * Add stubs in the Nova API to prevent the following lifecycle operations for instances with VNIC_TYPE_SMARTNIC ports: * Resize; * Shelve; * Live migrate; * Evacuate; * Suspend; * Attach/detach a VNIC_TYPE_SMARTNIC port; * Rebuild; * Extend ``VIF.has_bind_time_event`` in Nova to return True for VNIC_TYPE_SMARTNIC ports; * Handle early arrival of ``network-vif-plugged`` in the Libvirt virt driver code for ``VNIC_TYPE_SMARTNIC`` ports by extending the ``_get_neutron_events`` function to rely on ``VIF.has_bind_time_event`` for filtering.SmartNIC DPUs also prevent VLAN programming by for VFs, therefore, operations like the following will fail (see, [27]_ for the example driver code causing it)::(``SUPPORT_VNIC_TYPE_SMARTNIC``) and an instance build-time check across all cells. For operators, the upgrade impact will be such that this feature will not be possible to use until all Nova Compute services will be upgraded toto support instances booted with the ``VNIC_TYPE_SMARTNIC`` port type.``VNIC_TYPE_SMARTNIC`` ports but only if a particular configuration option is set in the Neutron OpenvSwitch Agent (which was done for Ironic purposes, not Nova [14]_). * Representor plugging and related OVN changes: [16]_ [17]_ [24]_ (note that [24]_ will be hosted at [25]_ shortly per [26]_ and a follow-up discussion that happened in the #openvswitch IRC channel);.. [17] https://patchwork.ozlabs.org/project/ovn/list/?series=269965&state=*&archive=both.. [22] https://listman.redhat.com/archives/libvir-list/2021-November/msg00431.html.. [24] https://github.com/fnordahl/ovn-vif .. [25] https://github.com/ovn-org/ovn-vif .. [26] https://mail.openvswitch.org/pipermail/ovs-dev/2021-November/389200.html .. [27] https://github.com/torvalds/linux/blob/v5.15/drivers/net/ethernet/mellanox/mlx5/core/esw/legacy.c#L427-L434",39,46
openstack%2Fpuppet-oslo~stable%2Fwallaby~If4622f85e1e7f715805b205bfc3c16cb1e53b943,openstack/puppet-oslo,stable/wallaby,If4622f85e1e7f715805b205bfc3c16cb1e53b943,Add retrying options to oslo.cache,MERGED,2022-02-04 13:44:42.000000000,2022-02-14 15:33:48.000000000,2022-02-14 15:30:47.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-04 13:44:42.000000000', 'files': ['releasenotes/notes/pymemcache_retrying-4fa326e3bc913a97.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/c6fe2e52e3aac5722c5a1f855951017543a8a704', 'message': 'Add retrying options to oslo.cache\n\nThis patch specifies a set of options required to setup the retrying wrapper\nfeature of pymemcache (dogpile.cache) cache backend.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/803747\n\nChange-Id: If4622f85e1e7f715805b205bfc3c16cb1e53b943\n(cherry picked from commit f7dbe8aa5f4ebc31d77344932fef2eea84a32906)\n(cherry picked from commit 88197f306123c521967b5a16b4909e5227554325)\n'}]",2,827864,c6fe2e52e3aac5722c5a1f855951017543a8a704,11,4,1,28522,,,0,"Add retrying options to oslo.cache

This patch specifies a set of options required to setup the retrying wrapper
feature of pymemcache (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/803747

Change-Id: If4622f85e1e7f715805b205bfc3c16cb1e53b943
(cherry picked from commit f7dbe8aa5f4ebc31d77344932fef2eea84a32906)
(cherry picked from commit 88197f306123c521967b5a16b4909e5227554325)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/64/827864/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pymemcache_retrying-4fa326e3bc913a97.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",3,c6fe2e52e3aac5722c5a1f855951017543a8a704,wallaby,"# [*enable_retry_client*] # (Optional) Enable retry client mechanisms to handle failure. # Those mechanisms can be used to wrap all kind of pymemcache # clients. The wrapper allows you to define how many attempts # to make and how long to wait between attemots. # Default to $::os_service_default # # [*retry_attempts*] # (Optional) Number of times to attempt an action before failing. # Default to $::os_service_default # # [*retry_delay*] # (Optional) Number of seconds to sleep between each attempt. # Default to $::os_service_default # $enable_retry_client = $::os_service_default, $retry_attempts = $::os_service_default, $retry_delay = $::os_service_default, 'cache/enable_retry_client' => { value => $enable_retry_client }, 'cache/retry_attempts' => { value => $retry_attempts }, 'cache/retry_delay' => { value => $retry_delay },",,34,0
openstack%2Fpython-tripleoclient~master~I33c9b5bea949d148f21175c15e9d8522fa4297bf,openstack/python-tripleoclient,master,I33c9b5bea949d148f21175c15e9d8522fa4297bf,Add --reproduce-command option into Undercloud commands.,MERGED,2022-02-02 13:26:11.000000000,2022-02-14 15:33:13.000000000,2022-02-14 14:39:02.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-02-02 13:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/24021a4be0b6367c7252c18745071ee096b013ed', 'message': 'WIP: Add --reproduce-command option into Undercloud commands.\n\nThe tripleo deploy command contains a very useful option named\n--reproduce-command. This option will drop a script with the\nneeded command to reproduce an ansible playbook execution.\n\nThis patch adds the very same option into the openstack undercloud\ninstall and openstack undercloud upgrade commands, so that the\nunderlying tripleo deploy command used to deploy or upgrade creates\nthis reproducer script.\n\nChange-Id: I33c9b5bea949d148f21175c15e9d8522fa4297bf\nResolves: rhbz#2049444\n'}, {'number': 2, 'created': '2022-02-04 15:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f1894a2941ccbc6421754d821f4b00398b80017', 'message': 'Add --reproduce-command option into Undercloud commands.\n\nThe tripleo deploy command contains a very useful option named\n--reproduce-command. This option will drop a script with the\nneeded command to reproduce an ansible playbook execution.\n\nThis patch adds the very same option into the openstack undercloud\ninstall and openstack undercloud upgrade commands, so that the\nunderlying tripleo deploy command used to deploy or upgrade creates\nthis reproducer script.\n\nChange-Id: I33c9b5bea949d148f21175c15e9d8522fa4297bf\nResolves: rhbz#2049444\n'}, {'number': 3, 'created': '2022-02-07 11:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/30cceea762b49fd2aed3b53aee8b6ca92a0d3f3a', 'message': 'Add --reproduce-command option into Undercloud commands.\n\nThe tripleo deploy command contains a very useful option named\n--reproduce-command. This option will drop a script with the\nneeded command to reproduce an ansible playbook execution.\n\nThis patch adds the very same option into the openstack undercloud\ninstall and openstack undercloud upgrade commands, so that the\nunderlying tripleo deploy command used to deploy or upgrade creates\nthis reproducer script.\n\nChange-Id: I33c9b5bea949d148f21175c15e9d8522fa4297bf\nResolves: rhbz#2049444\n'}, {'number': 4, 'created': '2022-02-09 14:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bc55bdeb64b7a9b56db475a1f5082922c19d0990', 'message': 'Add --reproduce-command option into Undercloud commands.\n\nThe tripleo deploy command contains a very useful option named\n--reproduce-command. This option will drop a script with the\nneeded command to reproduce an ansible playbook execution.\n\nThis patch adds the very same option into the openstack undercloud\ninstall and openstack undercloud upgrade commands, so that the\nunderlying tripleo deploy command used to deploy or upgrade creates\nthis reproducer script.\n\nChange-Id: I33c9b5bea949d148f21175c15e9d8522fa4297bf\nResolves: rhbz#2049444\n'}, {'number': 5, 'created': '2022-02-10 09:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0313a7a21ffaeaeb2e81ecc14f028a16e61dcd5a', 'message': 'Add --reproduce-command option into Undercloud commands.\n\nThe tripleo deploy command contains a very useful option named\n--reproduce-command. This option will drop a script with the\nneeded command to reproduce an ansible playbook execution.\n\nThis patch adds the very same option into the openstack undercloud\ninstall and openstack undercloud upgrade commands, so that the\nunderlying tripleo deploy command used to deploy or upgrade creates\nthis reproducer script.\n\nChange-Id: I33c9b5bea949d148f21175c15e9d8522fa4297bf\nResolves: rhbz#2049444\n'}, {'number': 6, 'created': '2022-02-10 14:47:27.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/348437dfa200dff0e45c665f0bf1a2dd65121052', 'message': 'Add --reproduce-command option into Undercloud commands.\n\nThe tripleo deploy command contains a very useful option named\n--reproduce-command. This option will drop a script with the\nneeded command to reproduce an ansible playbook execution.\n\nThis patch adds the very same option into the openstack undercloud\ninstall and openstack undercloud upgrade commands, so that the\nunderlying tripleo deploy command used to deploy or upgrade creates\nthis reproducer script.\n\nChange-Id: I33c9b5bea949d148f21175c15e9d8522fa4297bf\nResolves: rhbz#2049444\n'}]",18,827494,348437dfa200dff0e45c665f0bf1a2dd65121052,26,6,6,26343,,,0,"Add --reproduce-command option into Undercloud commands.

The tripleo deploy command contains a very useful option named
--reproduce-command. This option will drop a script with the
needed command to reproduce an ansible playbook execution.

This patch adds the very same option into the openstack undercloud
install and openstack undercloud upgrade commands, so that the
underlying tripleo deploy command used to deploy or upgrade creates
this reproducer script.

Change-Id: I33c9b5bea949d148f21175c15e9d8522fa4297bf
Resolves: rhbz#2049444
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/827494/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/undercloud.py']",2,24021a4be0b6367c7252c18745071ee096b013ed,reproduce-command," parser.add_argument( '--reproduce-command', action='store_true', default=False, help=_('Create a reproducer command with ansible command' 'line and all environments variables.') ) reproducer=parsed_args.reproduce_command, reproducer=parsed_args.reproduce_command,",,13,0
openstack%2Fpuppet-oslo~stable%2Fwallaby~I7deed1bca1ce2f715967e966d4b0cedc1f227027,openstack/puppet-oslo,stable/wallaby,I7deed1bca1ce2f715967e966d4b0cedc1f227027,Add socket keepalive options for the pymemcache backend,MERGED,2022-02-04 13:44:42.000000000,2022-02-14 15:32:28.000000000,2022-02-14 15:30:45.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-04 13:44:42.000000000', 'files': ['releasenotes/notes/add_keepalive_options-3802510b6d4461e1.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/02f7cc8a8fdbe8091edd561add51805cb340249f', 'message': 'Add socket keepalive options for the pymemcache backend\n\nThis patch specifies a set of options required to setup the socket\nkeepalive feature of pymemcache (dogpile.cache) cache backend.\n\nDepends-On: https://review.opendev.org/803716\nChange-Id: I7deed1bca1ce2f715967e966d4b0cedc1f227027\n(cherry picked from commit 60495a42c9e46144dc3625cef6ede24e18245011)\n(cherry picked from commit ba251d3e2d85c1c247968c5103805ba6f144a536)\n'}]",2,827863,02f7cc8a8fdbe8091edd561add51805cb340249f,11,4,1,28522,,,0,"Add socket keepalive options for the pymemcache backend

This patch specifies a set of options required to setup the socket
keepalive feature of pymemcache (dogpile.cache) cache backend.

Depends-On: https://review.opendev.org/803716
Change-Id: I7deed1bca1ce2f715967e966d4b0cedc1f227027
(cherry picked from commit 60495a42c9e46144dc3625cef6ede24e18245011)
(cherry picked from commit ba251d3e2d85c1c247968c5103805ba6f144a536)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/63/827863/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_keepalive_options-3802510b6d4461e1.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",3,02f7cc8a8fdbe8091edd561add51805cb340249f,wallaby,"# [*enable_socket_keepalive*] # (Optional) Global toggle for the socket keepalive of dogpile's # pymemcache backend # Defaults to $::os_service_default # # [*socket_keepalive_idle*] # (Optional) The time (in seconds) the connection needs to remain idle # before TCP starts sending keepalive probes. Should be a positive integer # most greater than zero. # Defaults to $::os_service_default # # [*socket_keepalive_interval*] # (Optional) The time (in seconds) between individual keepalive probes. # Should be a positive integer most greater than zero. # Defaults to $::os_service_default # # [*socket_keepalive_count*] # (Optional) The maximum number of keepalive probes TCP should send before # dropping the connection. Should be a positive integer most greater than # zero. # Defaults to $::os_service_default # $enable_socket_keepalive = $::os_service_default, $socket_keepalive_idle = $::os_service_default, $socket_keepalive_interval = $::os_service_default, $socket_keepalive_count = $::os_service_default, 'cache/enable_socket_keepalive' => { value => $enable_socket_keepalive }, 'cache/socket_keepalive_idle' => { value => $socket_keepalive_idle }, 'cache/socket_keepalive_interval' => { value => $socket_keepalive_interval }, 'cache/socket_keepalive_count' => { value => $socket_keepalive_count },",,46,0
openstack%2Fpuppet-nova~master~I69fe5993232a8b37e4b9f527548932c6a2f83864,openstack/puppet-nova,master,I69fe5993232a8b37e4b9f527548932c6a2f83864,Remove redundant usage of pick function,MERGED,2021-01-12 04:14:19.000000000,2022-02-14 15:13:00.000000000,2022-02-14 15:13:00.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 04:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/47ae9f60ad7388d709c9c23aed0cd64898aebfb1', 'message': ""Remove redundant usage of pick function\n\nThe cpu_shared_set parameter and the cpu_dedicated_set parameter are\nset to $::os_service_default by default, so we don't need to implement\na safe default by pick function.\n\nChange-Id: I69fe5993232a8b37e4b9f527548932c6a2f83864\n""}, {'number': 2, 'created': '2022-02-12 16:50:49.000000000', 'files': ['manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c89593bbef4cffa3ca879094b19f3475694a8181', 'message': ""Remove redundant usage of pick function\n\nThe cpu_shared_set parameter and the cpu_dedicated_set parameter are\nset to $::os_service_default by default, so we don't need to implement\na safe default by pick function.\n\nChange-Id: I69fe5993232a8b37e4b9f527548932c6a2f83864\n""}]",3,770228,c89593bbef4cffa3ca879094b19f3475694a8181,18,4,2,9816,,,0,"Remove redundant usage of pick function

The cpu_shared_set parameter and the cpu_dedicated_set parameter are
set to $::os_service_default by default, so we don't need to implement
a safe default by pick function.

Change-Id: I69fe5993232a8b37e4b9f527548932c6a2f83864
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/28/770228/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute.pp'],1,47ae9f60ad7388d709c9c23aed0cd64898aebfb1,redundant-pick," $cpu_shared_set_real = join(any2array($cpu_shared_set), ',') $cpu_dedicated_set_real = join(any2array($cpu_dedicated_set), ',')"," $cpu_shared_set_real = pick(join(any2array($cpu_shared_set), ','), $::os_service_default) $cpu_dedicated_set_real = pick(join(any2array($cpu_dedicated_set), ','), $::os_service_default)",2,2
openstack%2Fpuppet-nova~master~Ia92d579cb4e94de90802449fd277dbc6eb425bdd,openstack/puppet-nova,master,Ia92d579cb4e94de90802449fd277dbc6eb425bdd,Drop support for old libvirt package,ABANDONED,2022-02-01 12:11:00.000000000,2022-02-14 15:00:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 12:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e5e26e4c9e943cc50e6aedfb8355f5839e455e12', 'message': ""Drop support for old libvirt package\n\nThis change removes logic to support very old packages. Currently all\ndistros we support provider puppet 5.6 or later and we don't expect\nusers are using packages older than distro packages.\n\nChange-Id: Ia92d579cb4e94de90802449fd277dbc6eb425bdd\n""}, {'number': 2, 'created': '2022-02-01 12:16:57.000000000', 'files': ['releasenotes/notes/migration-libvirt-cleanup-6cf91ed5dd736420.yaml', 'manifests/compute/libvirt/version.pp', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb', 'manifests/compute/libvirt/qemu.pp', 'spec/classes/nova_compute_libvirt_qemu_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8e401825389462b56f0946cff0be14b111dbde6e', 'message': ""Drop support for old libvirt package\n\nThis change removes logic to support very old packages. Currently all\ndistros we support provider puppet 5.6 or later and we don't expect\nusers are using packages older than distro packages.\n\nChange-Id: Ia92d579cb4e94de90802449fd277dbc6eb425bdd\n""}]",0,827273,8e401825389462b56f0946cff0be14b111dbde6e,7,1,2,9816,,,0,"Drop support for old libvirt package

This change removes logic to support very old packages. Currently all
distros we support provider puppet 5.6 or later and we don't expect
users are using packages older than distro packages.

Change-Id: Ia92d579cb4e94de90802449fd277dbc6eb425bdd
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/73/827273/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migration-libvirt-cleanup-6cf91ed5dd736420.yaml', 'manifests/compute/libvirt/version.pp', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb', 'manifests/compute/libvirt/qemu.pp', 'spec/classes/nova_compute_libvirt_qemu_spec.rb']",6,e5e26e4c9e943cc50e6aedfb8355f5839e455e12,," context 'when not configuring qemu with libvirt' do :max_files => 32768, :max_processes => 131072, :configure_qemu => true, :group => 'openvswitch', :max_files => 32768, :max_processes => 131072, ""set nbd_tls 0"", :vnc_tls => true, ""set nbd_tls 0"", :configure_qemu => true, ""set nbd_tls 0"", :vnc_tls => true, ""set nbd_tls 0"", :configure_qemu => true, ""set nbd_tls 0"", context 'when configuring qemu with nbd_tls and libvirt' do :nbd_tls => true,"," context 'when not configuring qemu' do :libvirt_version => '3.9', } end it { is_expected.to contain_augeas('qemu-conf-limits').with({ :context => '/files/etc/libvirt/qemu.conf', :changes => [ ""rm max_files"", ""rm max_processes"", ""rm group"", ""rm vnc_tls"", ""rm vnc_tls_x509_verify"", ""rm default_tls_x509_verify"", ""rm memory_backing_dir"", ], }).that_notifies('Service[libvirt]') } end context 'when not configuring qemu with libvirt >= 4.5' do let :params do { :configure_qemu => false, :libvirt_version => '4.5', :configure_qemu => true, :libvirt_version => '3.9', } end it { is_expected.to contain_augeas('qemu-conf-limits').with({ :context => '/files/etc/libvirt/qemu.conf', :changes => [ ""set max_files 1024"", ""set max_processes 4096"", ""set vnc_tls 0"", ""set vnc_tls_x509_verify 0"", ""set default_tls_x509_verify 1"", ], :tag => 'qemu-conf-augeas', }).that_notifies('Service[libvirt]') } end context 'when configuring qemu by default with libvirt >= 4.5' do let :params do { :libvirt_version => '4.5', :max_files => 32768, :max_processes => 131072, :libvirt_version => '3.9', } end it { is_expected.to contain_augeas('qemu-conf-limits').with({ :context => '/files/etc/libvirt/qemu.conf', :changes => [ ""set max_files 32768"", ""set max_processes 131072"", ""set vnc_tls 0"", ""set vnc_tls_x509_verify 0"", ""set default_tls_x509_verify 1"", ], :tag => 'qemu-conf-augeas', }).that_notifies('Service[libvirt]') } end context 'when configuring qemu with overridden parameters with libvirt >= 4.5' do let :params do { :configure_qemu => true, :max_files => 32768, :max_processes => 131072, :libvirt_version => '4.5', :configure_qemu => true, :group => 'openvswitch', :max_files => 32768, :max_processes => 131072, :libvirt_version => '3.9', :vnc_tls => true, :libvirt_version => '3.9', :configure_qemu => true, :libvirt_version => '3.9', :vnc_tls => true, :libvirt_version => '3.9', :configure_qemu => true, :libvirt_version => '3.9', context 'when configuring qemu with nbd_tls and libvirt < 4.5' do :nbd_tls => true, :libvirt_version => '3.9', } end it { is_expected.to contain_augeas('qemu-conf-limits').with({ :context => '/files/etc/libvirt/qemu.conf', :changes => [ ""set max_files 1024"", ""set max_processes 4096"", ""set vnc_tls 0"", ""set vnc_tls_x509_verify 0"", ""set default_tls_x509_verify 1"", ], :tag => 'qemu-conf-augeas', }).that_notifies('Service[libvirt]') } end context 'when configuring qemu with nbd_tls and libvirt >= 4.5' do let :params do { :configure_qemu => true, :nbd_tls => true, :libvirt_version => '4.5',",136,300
openstack%2Fcinder~master~I7ee24eb3c247bc2e8d5189e6d7ad6d638eeabe66,openstack/cinder,master,I7ee24eb3c247bc2e8d5189e6d7ad6d638eeabe66,WIP: Always message on nova volume extend failures,NEW,2019-12-10 23:24:02.000000000,2022-02-14 14:45:35.000000000,,"[{'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2019-12-10 23:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/36cd43f2c517b55b17445e18f4a3069e458d6988', 'message': 'WIP: Always message on nova volume extend failures\n\nWhen a volume is extended, cinder sends events to nova through the\nos-server-external-events API. Nova is supposed to react to those events\nby doing whatever\'s necessary to reflect the new size to the\ninstance(s).\n\nWhen something goes wrong with the os-server-external-events API, cinder\nsends a user message:\n\n    NOTIFY_COMPUTE_SERVICE_FAILED = (\n        \'009\',\n        _(""Compute service failed to extend volume.""))\n\nPrior to the fix for bug 1855752 in nova [1], this message would *not*\nbe sent under the following conditions:\n\n- The volume is attached to multiple instances; and\n- The event was rejected for a *subset* of those instances.\n\nAfter the fix, the conditions also include:\n\n- The event was rejected for *all* instances, even if that\'s just one\n  instance.\n\nThis commit makes rejection of *any* event trigger a message.\n\n[1] https://review.opendev.org/#/c/698037/\n\nChange-Id: I7ee24eb3c247bc2e8d5189e6d7ad6d638eeabe66\nCloses-Bug: #1855940\nRelated-Bug: #1855752\n'}, {'number': 2, 'created': '2021-02-19 14:40:24.000000000', 'files': ['cinder/compute/nova.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7b3f19b2780c482268d1b84b0ccc78dff7f8fda', 'message': 'WIP: Always message on nova volume extend failures\n\nWhen a volume is extended, cinder sends events to nova through the\nos-server-external-events API. Nova is supposed to react to those events\nby doing whatever\'s necessary to reflect the new size to the\ninstance(s).\n\nWhen something goes wrong with the os-server-external-events API, cinder\nsends a user message:\n\n    NOTIFY_COMPUTE_SERVICE_FAILED = (\n        \'009\',\n        _(""Compute service failed to extend volume.""))\n\nPrior to the fix for bug 1855752 in nova [1], this message would *not*\nbe sent under the following conditions:\n\n- The volume is attached to multiple instances; and\n- The event was rejected for a *subset* of those instances.\n\nAfter the fix, the conditions also include:\n\n- The event was rejected for *all* instances, even if that\'s just one\n  instance.\n\nThis commit makes rejection of *any* event trigger a message.\n\n[1] https://review.opendev.org/#/c/698037/\n\nChange-Id: I7ee24eb3c247bc2e8d5189e6d7ad6d638eeabe66\nCloses-Bug: #1855940\nRelated-Bug: #1855752\n'}]",2,698340,f7b3f19b2780c482268d1b84b0ccc78dff7f8fda,52,20,2,14070,,,0,"WIP: Always message on nova volume extend failures

When a volume is extended, cinder sends events to nova through the
os-server-external-events API. Nova is supposed to react to those events
by doing whatever's necessary to reflect the new size to the
instance(s).

When something goes wrong with the os-server-external-events API, cinder
sends a user message:

    NOTIFY_COMPUTE_SERVICE_FAILED = (
        '009',
        _(""Compute service failed to extend volume.""))

Prior to the fix for bug 1855752 in nova [1], this message would *not*
be sent under the following conditions:

- The volume is attached to multiple instances; and
- The event was rejected for a *subset* of those instances.

After the fix, the conditions also include:

- The event was rejected for *all* instances, even if that's just one
  instance.

This commit makes rejection of *any* event trigger a message.

[1] https://review.opendev.org/#/c/698037/

Change-Id: I7ee24eb3c247bc2e8d5189e6d7ad6d638eeabe66
Closes-Bug: #1855940
Related-Bug: #1855752
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/698340/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/compute/nova.py'],1,36cd43f2c517b55b17445e18f4a3069e458d6988,bug/1855752," response_error = True # NOTE(efried): If there are multiple servers, this message doesn't # indicate which one(s) failed.",,3,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I169e8a453ba32870b5e6142b5cac97c97ef69716,openstack/puppet-tripleo,stable/wallaby,I169e8a453ba32870b5e6142b5cac97c97ef69716,Fix lint failures,MERGED,2022-02-05 17:38:46.000000000,2022-02-14 14:39:00.000000000,2022-02-14 14:39:00.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-05 17:38:46.000000000', 'files': ['manifests/profile/base/designate/backend.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ece8832bfc2a2cca260cf8cef6ea4181cad42c5c', 'message': 'Fix lint failures\n\nThis is partial backport of eac5caa96cb675969ea55d736b28735eb6e2fa2a\nand fixes lint failures which were not caught properly before.\n\nChange-Id: I169e8a453ba32870b5e6142b5cac97c97ef69716\n'}]",0,828012,ece8832bfc2a2cca260cf8cef6ea4181cad42c5c,8,4,1,9816,,,0,"Fix lint failures

This is partial backport of eac5caa96cb675969ea55d736b28735eb6e2fa2a
and fixes lint failures which were not caught properly before.

Change-Id: I169e8a453ba32870b5e6142b5cac97c97ef69716
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/12/828012/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/designate/backend.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",2,ece8832bfc2a2cca260cf8cef6ea4181cad42c5c,," op_params => ""start timeout=200s stop timeout=200s \ monitor interval=${monitor_interval_master}s role=Master timeout=${dbs_timeout}s \"," op_params => ""start timeout=200s stop timeout=200s monitor interval=${monitor_interval_master}s role=Master timeout=${dbs_timeout}s \",3,2
openstack%2Fopenstack-tempest-skiplist~master~Id8cd34cb6b14e50cd089ae2671bfce1f530adcde,openstack/openstack-tempest-skiplist,master,Id8cd34cb6b14e50cd089ae2671bfce1f530adcde,Add ServerRescueNegativeTestJSON to skiplist for victoria,ABANDONED,2022-02-11 18:22:52.000000000,2022-02-14 14:29:31.000000000,,"[{'_account_id': 8367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 18:22:52.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/860d0a85698aee9394980e5693a7ad7285ba27ea', 'message': 'Add ServerRescueNegativeTestJSON to skiplist for victoria\n\nRelated-Bug: #1960667\n\nChange-Id: Id8cd34cb6b14e50cd089ae2671bfce1f530adcde\n'}]",5,828913,860d0a85698aee9394980e5693a7ad7285ba27ea,6,2,1,34208,,,0,"Add ServerRescueNegativeTestJSON to skiplist for victoria

Related-Bug: #1960667

Change-Id: Id8cd34cb6b14e50cd089ae2671bfce1f530adcde
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/13/828913/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,860d0a85698aee9394980e5693a7ad7285ba27ea,, - name: victoria reason: timeout lp: https://bugs.launchpad.net/tripleo/+bug/1960667 installers: - 'tripleo' - periodic-tripleo-ci-centos-8-standalone-full-tempest-api-victoria - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-victoria - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-victoria - name: victoria reason: timeout lp: https://bugs.launchpad.net/tripleo/+bug/1960667 installers: - 'tripleo' - periodic-tripleo-ci-centos-8-standalone-full-tempest-api-victoria - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-victoria - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-victoria,,16,0
openstack%2Ftripleo-specs~master~I2d00a0974e89314bde1e57cd77f00c28507375d1,openstack/tripleo-specs,master,I2d00a0974e89314bde1e57cd77f00c28507375d1,Introduce TripleO Ceph Ingress Integration,MERGED,2022-01-11 11:58:26.000000000,2022-02-14 14:17:48.000000000,2022-02-14 14:16:06.000000000,"[{'_account_id': 6413}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-11 11:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/a1b94180ec94f678b978581703b3f54e7dfa6bf4', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 2, 'created': '2022-01-11 13:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/bb433186644340ebd2fe38061a75a9670457d18b', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 3, 'created': '2022-01-11 16:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/966b5b6e03c64c3dddab682d13ca54b6e0625782', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 4, 'created': '2022-01-12 13:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/047c2ae0cdd4aa548bd55ed043aaf99948f852bd', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 5, 'created': '2022-01-14 08:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/2f849b5be121be26d91006e9b399ccfb19c01251', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 6, 'created': '2022-01-21 11:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0162bfc41f6fff231e7b49ab62a842d0139222bf', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 7, 'created': '2022-01-26 15:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/02de88218f3684a04905dd69ab7c927e7cebf581', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 8, 'created': '2022-01-26 15:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/ac00e35a6f128d79d02289e44d26e0a96ea9e286', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 9, 'created': '2022-02-10 14:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/8183e63751066ad30320d45668c3cf8a0c706007', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 10, 'created': '2022-02-10 16:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/968efe81c92eeeeaa43c8972e58a90252a7b46ae', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 11, 'created': '2022-02-11 08:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/8d6c581a77c540aa06eafa3ce1273c87f0a6d06f', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 12, 'created': '2022-02-11 09:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b31ebf60e7cc99c8626b6d75104c94161b31b83c', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}, {'number': 13, 'created': '2022-02-11 10:22:49.000000000', 'files': ['specs/yoga/tripleo_ceph_ingress.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/ee446b7f409099d4f66d7a0038349e57d0d5d4dc', 'message': 'Introduce TripleO Ceph Ingress Integration\n\nThis spec represents a follow up of [1] where new requirements\nare introduced to rely on the provided Ceph HA services. In\nparticular the goal is to propose and define the changes we need\nfor the Ceph Ingress daemon across the TripleO projects.\n\n[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html\n\nChange-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1\n'}]",72,824146,ee446b7f409099d4f66d7a0038349e57d0d5d4dc,63,12,13,25402,,,0,"Introduce TripleO Ceph Ingress Integration

This spec represents a follow up of [1] where new requirements
are introduced to rely on the provided Ceph HA services. In
particular the goal is to propose and define the changes we need
for the Ceph Ingress daemon across the TripleO projects.

[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html

Change-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/46/824146/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/tripleo_ceph_ingress.rst'],1,a1b94180ec94f678b978581703b3f54e7dfa6bf4,ingress_daemon,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== TripleO Ceph Ingress Daemon Integration =========================================== Starting in the Octopus release, Ceph introduced its own day1 tool called cephadm and its own day2 tool called orchestrator which replaced ceph-ansible. During the Wallaby and Xena cycles TripleO moved away from ceph-ansible and adopted cephadm [1]_ as described in [2]_. During Xena cycle a new approach of deploying Ceph in a TripleO context has been established and now a Ceph cluster can be provisioned before the overcloud is created, leaving to the overcloud deployment phase the final configuration of the Ceph cluster which depends on the OpenStack enabled services defined by the tripleo-heat-templates interface. The goal for the next cycle is moving to deployed Ceph as much services as possible, minimizing the actions against the Ceph cluster during the overcloud deployment phase. As part of this effort, we should pay attention to the high-availability aspect, how it's implemented in the current release and how it should be changed for Ceph. This spec represents a follow up of [3]_, it defines the requirements to rely on the Ceph provided HA daemons and describes the changes required in TripleO to meet this goal. Problem Description =================== In the following description we are referring to the Ganesha daemon and the need of the related Ceph Ingress daemon deployment, but the same applies to all the existing daemons that requires an high-availability configuration (e.g., RGW and the Ceph dashboard for the next Ceph release). In TripleO we support deployment of Ganesha both when the Ceph cluster is itself managed by TripleO and when the Ceph cluster is itself not managed by TripleO. When the cluster is managed by TripleO, as per spec [3]_, it is preferable to have cephadm manage the lifecycle of the NFS container instead of deploying it with tripleo-ansible, and this is broadly covered and solved by allowing the tripleo Ceph mkspec module to support the new Ceph daemon [4]_. The ceph-nfs daemon deployed by cephadm has its own HA mechanism, called ingress, which is based on haproxy and keepalived [5]_ so we would no longer use pcmk as the VIP owner. Note this means we would run pcmk and keepalived in addition to haproxy (deployed by tripleo) and another haproxy (deployed by cephadm) on the same server (though with listeners on different ports). This approach totally relies on Ceph components, and both external and internal scenarios are covered. However, adopting the ingress daemon for a TripleO deployed Ceph cluster means that we need to make the overcloud aware about the new running services: for this reason the proposed change is meant to introduce a new TripleO resource that properly handles the interface with the Ceph services and it helps being consistent with the tripleo-heat-templates roles. Proposed Change =============== Overview -------- The change proposed by this spec requires the introduction of a new TripleO Ceph Ingress resource that describes the ingress daemon provided by Ceph and it's made by two components: - The HAProxy container - The keepalived container The impact of adding a new `OS::Heat::CephIngress` resource can be seen on the following projects. tripleo-common -------------- As described in Container Image Preparation [6]_ the undercloud may be used as a container registry for all the ceph related containers and a new, supported syntax, has been introduced to `deployed ceph` to download containers from authenticated registries. However, as per [7]_, the Ceph ingress daemons won’t be baked into the Ceph daemon container, hence `tripleo container image prepare` should be executed to pull the new container images/tags in the undercloud as made for the Ceph Dashboard and the regular Ceph image. Once the ingress containers are available, it's possible to deploy the daemon on top of ceph-nfs or ceph-rgw. In particular, if this spec is going to be implemented, `deployed ceph` will be the only way of setting up this daemon through cephadm for ceph-nfs, resulting in a simplified tripleo-heat-templates interface and a less number of tripleo ansible tasks execution because part of the configuration is moved before the overcloud deploy created. As part of this effort, considering that the Ceph related container images have grown over the time, a new condition will be added to the tripleo-container jinja template [8]_ to avoid pulling additional ceph images if Ceph is not deployed by TripleO. This result in a new optimization for all the Ceph external cluster use cases, as well as the existing CI jobs without Ceph. tripleo-heat-templates ---------------------- A Heat resource will be created within the cephadm space. The new resource will be also added to the existing Controller roles and all the relevant environment files will be updated with the new reference. In addition, as described in the spec [3]_, pacemaker constraints for ceph-nfs and the related vip will be removed. The Ceph mkspec tripleo-ansible module is already able to generate the spec for this kind of daemon and it will trigger cephadm [4]_ to deploy an ingress daemon provided that the NFS Ceph spec is applied against an existing cluster and the backend daemon is up and running. As mentioned before, the ingress daemon can also be deployed on top of an RGW instance, therefore the proposed change is valid for all the Ceph services that require an HA configuration. Security Impact --------------- None, the ingress daemon applied to an existing ceph-nfs instance it's managed by cephadm, resulting in a simplified model. The firewall rules are still applied and managed by TripleO and defined for each HEAT resource. Upgrade Impact -------------- The problem of an existing Ceph cluster is covered by the spec [8]_. Performance Impact ------------------ No changes. Developer Impact ---------------- This effort can be easily extended to move the RGW service to deployed ceph, which is out of scope of this spec. Implementation ============== Deployment Flow --------------- The deployment and configuration described in this spec will happen during `openstack overcloud ceph deploy`, as described in [8]_. VIPs are provisioned with `openstack overcloud network vip provision` before `openstack overcloud network provision` and before `openstack overcloud node provision` so we would have an ingress VIP in advance that can be processed by cephadm in the ""deployed ceph"" context. Parameters will be provided to deploy this daemon, along with ceph-nfs, after the Ceph cluster is up & running. As described in the overview section, an ingress object will be defined and deployed and this is supposed to manage both the VIP and the HA for this component. Assignee(s) ----------- - fmount - fultonj - gfidente Work Items ---------- - Create a new Ceph prefixed Heat resource that describes the Ingress daemon in the TripleO context. - Add both haproxy and keepalived containers to the Ceph list so that they can be pulled during the `Container Image preparation` phase. - Create a set of tasks to deploy both the nfs and the related ingress daemon - Deprecate the pacemaker related configuration for ceph-nfs, including pacemaker constraints between the manila-share service and ceph-nfs - Create upgrade playbooks to transition from TripleO/pcmk managed nfs ganesha to nfs/ingress daemons deployed by cephadm and managed by ceph orch Depending on the state of the directord/task-core migration we might skip the ansible part, though we could POC with it to get started, extending the existing tripleo-ansible cephadm role. Dependencies ============ - This work depends on the tripleo_ceph_nfs spec [3]_ that moves from tripleo deployed ganesha to the cephadm approach. Testing ======= The NFS daemon feature can be enabled at day1 and it will be tested against the existing TripleO scenario004 [9]_. As part of the implementation plan, the update of the existing heat templates environment CI files, which contain both the Heat resources and the testing job parameters, is one of the goals of this spec. Documentation Impact ==================== The documentation will describe the new parameters introduced to the `deployed ceph` cli to give the ability to deploy additional daemons (ceph-nfs and the related ingress daemon) as part of deployed ceph. However, we should provide upgrade instructions for pre existing environments that need to transition from TripleO/pcmk managed nfs ganesha to nfs daemons deployed by cephadm and managed by ceph orch. References ========== .. [1] `cephadm <https://github.com/ceph/ceph/tree/master/src/cephadm>`_ .. [2] `tripleo-ceph <https://specs.openstack.org/openstack/tripleo-specs/specs/wallaby/tripleo-ceph.html>`_ .. [3] `tripleo-nfs-spec <https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html>`_ .. [4] `tripleo-ceph-mkspec <https://review.opendev.org/c/openstack/tripleo-ansible/+/818786>`_ .. [5] `cephadm-nfs-ingress <https://docs.ceph.com/en/pacific/cephadm/nfs/#high-availability-nfs>`_ .. [6] `container-image-preparation <https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html>`_ .. [7] `ceph-ingress-containers <https://github.com/ceph/ceph/blob/master/src/cephadm/cephadm#L55-L56>`_ .. [8] `tripleo-common-jinja <https://github.com/openstack/tripleo-common/blob/master/container-images/tripleo_containers.yaml.j2>`_ .. [9] `tripleo-scenario004 <https://github.com/openstack/tripleo-heat-templates/blob/master/ci/environments/scenario004-standalone.yaml>`_ ",,224,0
openstack%2Felection~master~Icefeb2a5e7ed90109a58c3b165ad9c74530697f7,openstack/election,master,Icefeb2a5e7ed90109a58c3b165ad9c74530697f7,Add Martin Kopec candidacy for Quality_Assurance Z PTL,MERGED,2022-02-14 09:46:11.000000000,2022-02-14 14:10:27.000000000,2022-02-14 14:08:15.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 09:46:11.000000000', 'files': ['candidates/z/Quality_Assurance/mkopec@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/b210e691981902a3860639de0076c442e99e1987', 'message': 'Add Martin Kopec candidacy for Quality_Assurance Z PTL\n\nChange-Id: Icefeb2a5e7ed90109a58c3b165ad9c74530697f7\n'}]",2,829007,b210e691981902a3860639de0076c442e99e1987,8,4,1,22873,,,0,"Add Martin Kopec candidacy for Quality_Assurance Z PTL

Change-Id: Icefeb2a5e7ed90109a58c3b165ad9c74530697f7
",git fetch https://review.opendev.org/openstack/election refs/changes/07/829007/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Quality_Assurance/mkopec@redhat.com'],1,b210e691981902a3860639de0076c442e99e1987,,"Hi everyone, I would like to propose my candidacy and continue serving as Quality Assurance PTL in the Z cycle. I have been serving as PTL of QA for the last 2 cycles during which we have done ton of work, finished outstanding tasks and resolved many bugs. I would like to thank all the contributors, core reviewers, and anyone involved in any QA project, without you the maintaining of the projects would simply not be possible. My priorities in the Z cycle will be: * Finding and guiding new contributors to QA projects - this is very important, in order to keep up we need more active contributors. * Keep decreasing the bug counts and watching over open reviews as these are cruical activities to keep us moving forward. * Complete priority items from the previous cycles. Thanks for your consideration! -- Martin Kopec (kopecmartin) ",,24,0
openstack%2Felection~master~I160a6c3034668a6b49ac0f02ba76d99d71ce1d7a,openstack/election,master,I160a6c3034668a6b49ac0f02ba76d99d71ce1d7a,Add Brin Zhang candidacy for Cyborg,MERGED,2022-02-14 08:54:25.000000000,2022-02-14 14:09:03.000000000,2022-02-14 14:07:29.000000000,"[{'_account_id': 7198}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 08:54:25.000000000', 'files': ['candidates/z/Cyborg/zhangbailin@inspur.com'], 'web_link': 'https://opendev.org/openstack/election/commit/a67a16b7c1cca21cc942b1c5e04f086b66f9e27f', 'message': 'Add Brin Zhang candidacy for Cyborg\n\nChange-Id: I160a6c3034668a6b49ac0f02ba76d99d71ce1d7a\n'}]",2,829003,a67a16b7c1cca21cc942b1c5e04f086b66f9e27f,8,3,1,26458,,,0,"Add Brin Zhang candidacy for Cyborg

Change-Id: I160a6c3034668a6b49ac0f02ba76d99d71ce1d7a
",git fetch https://review.opendev.org/openstack/election refs/changes/03/829003/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Cyborg/zhangbailin@inspur.com'],1,a67a16b7c1cca21cc942b1c5e04f086b66f9e27f,ptl_candidacy,"Hi all, I write to submit my candidacy for the Cyborg PTL position during the Z cycle. I have been PTL for the Yoga cycle, and I would like to serve the community for another cycle. In yoga cycle, we have competed get device profile by name, clearly resource provide, updated devices, deployables' API docs, etc.. But we also have some new feature need to trace, e.g. vGPU support (splite a new spec wit usage of new trait of OWNER_NOVA, need to be down with Nova team), add xilinx FPGA driver, and add the UT to cover many scenarios. Another thing is to attract more contributors to the Cyborg contribution, to increase the activity of the Cyborg project, although I have started to do so. In summary, I want to keep the stability and diversity of accelerator devices in OpenStack. Best regards for you. Brin Zhang (brinzhang) ",,22,0
openstack%2Fmagnum~master~Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe,openstack/magnum,master,Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe,Upgrade to calico_tag=v3.21.2,MERGED,2021-03-08 22:10:28.000000000,2022-02-14 14:03:23.000000000,2022-02-03 13:55:51.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-03-08 22:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f1e828892d73b9e3a54e68610b278e863e5c376c', 'message': 'Upgrade to calico v3.18.0\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 2, 'created': '2021-03-09 09:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6592a692f4c6bc238f302c2b5edc193424519345', 'message': 'Upgrade to calico v3.18.0\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 3, 'created': '2021-03-09 09:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f405896fa9ef232d21d494b3256280b32a63c63a', 'message': 'Upgrade to calico_tag=v3.18.0\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 4, 'created': '2021-06-22 15:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/71877628f701362369800c9f142f65224d6c968d', 'message': 'Upgrade to calico_tag=v3.18.0\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 5, 'created': '2022-01-13 12:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b413891bcff7f3883fdff57219cd9bc2531af5d3', 'message': 'Upgrade to calico_tag=v3.21.2\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 6, 'created': '2022-01-14 09:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1039e4234a8f09963c15ebf0fb3c14ee7d867b2f', 'message': 'Upgrade to calico_tag=v3.21.2\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 7, 'created': '2022-01-18 15:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/551f4d0c040a367d2953f372d4ff3214e1975134', 'message': 'Upgrade to calico_tag=v3.21.2\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 8, 'created': '2022-01-20 16:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e50222a5c18525d16db1cc47e053f577a1013edc', 'message': 'Upgrade to calico_tag=v3.21.2\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 9, 'created': '2022-01-20 16:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d4a337b19c6cd8a7d9c825ed3ec66a9be6bac83c', 'message': 'Upgrade to calico_tag=v3.21.2\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 10, 'created': '2022-01-20 16:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4c311b665d905acbd51d47f23964f1477564cd4a', 'message': 'Upgrade to calico_tag=v3.21.2\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 11, 'created': '2022-01-21 08:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/72d1d446545395c0d05e51e7c6da1da0ab12e891', 'message': 'Upgrade to calico_tag=v3.21.2\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 12, 'created': '2022-01-21 08:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/65203541b83fe5d41c5541b06fd97a4a9c463a11', 'message': 'Upgrade to calico_tag=v3.21.2\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}, {'number': 13, 'created': '2022-01-21 08:50:15.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'releasenotes/notes/calico-3.21.2-193c895134e9c3c1.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9643abc9aeca6584f1dd3aa36e96310dac038fb5', 'message': 'Upgrade to calico_tag=v3.21.2\n\nAdditionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD\nsupported from v3.16.x onwards.\n\nStory: 2007256\nTask: 42017\n\nChange-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe\n'}]",7,779378,9643abc9aeca6584f1dd3aa36e96310dac038fb5,47,5,13,28022,,,0,"Upgrade to calico_tag=v3.21.2

Additionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD
supported from v3.16.x onwards.

Story: 2007256
Task: 42017

Change-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe
",git fetch https://review.opendev.org/openstack/magnum refs/changes/78/779378/6 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'releasenotes/notes/calico-3.18-193c895134e9c3c1.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh']",8,f1e828892d73b9e3a54e68610b278e863e5c376c,calico-3.18,"CLUSTER_SUBNET_CIDR=""$CLUSTER_SUBNET_CIDR""",,24,2
openstack%2Ftripleo-quickstart-extras~master~Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4,openstack/tripleo-quickstart-extras,master,Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4,Need to add netstat logging in the background,MERGED,2021-10-27 12:43:54.000000000,2022-02-14 13:53:41.000000000,2022-02-14 13:53:41.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-27 12:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9b72005fbb75c325eddfa89feefbda2080d04739', 'message': 'Need to add netstat logging in the background\n\nThis patch helps us to log netstat.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4\n'}, {'number': 2, 'created': '2021-10-28 12:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1409b231a31e7bb686359f00633c47f0648700f1', 'message': 'Need to add netstat logging in the background\n\nThis patch helps us to log netstat.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4\n'}, {'number': 3, 'created': '2021-11-29 12:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7637e27e03fdfec3ae730c6c2ada6fceee87f7e7', 'message': 'Need to add netstat logging in the background\n\nThis patch helps us to log netstat.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4\n'}, {'number': 4, 'created': '2022-01-05 11:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aba6d358e9e0c139bba0ba1a8c1d1903431d8f2a', 'message': 'Need to add netstat logging in the background\n\nThis patch helps us to log netstat.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4\n'}, {'number': 5, 'created': '2022-01-10 14:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7b8acf0f8c61fc9e6d47846358e9dfacc7db4ac9', 'message': 'Need to add netstat logging in the background\n\nThis patch helps us to log netstat.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4\n'}, {'number': 6, 'created': '2022-01-12 14:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/87fa6bd5f6b05265d270054fbd4d4d0e02211d69', 'message': 'Need to add netstat logging in the background\n\nThis patch helps us to log netstat.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4\n'}, {'number': 7, 'created': '2022-01-19 10:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1cf5cd8cd9319bccdeedb6d13a9359c2ca4006bf', 'message': 'Need to add netstat logging in the background\n\nThis patch helps us to log netstat.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4\n'}, {'number': 8, 'created': '2022-01-19 10:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ad768538dbdc64d628dccc1da1012c14f0adc4c1', 'message': 'Need to add netstat logging in the background\n\nThis patch helps us to log netstat.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4\n'}, {'number': 9, 'created': '2022-02-10 11:35:08.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ec65d258abbb9f7a8ad6141a36bccc40ac540695', 'message': 'Need to add netstat logging in the background\n\nThis patch helps us to log netstat.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4\n'}]",38,815654,ec65d258abbb9f7a8ad6141a36bccc40ac540695,89,6,9,30742,,,0,"Need to add netstat logging in the background

This patch helps us to log netstat.
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/54/815654/9 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,9b72005fbb75c325eddfa89feefbda2080d04739,netstat-logging," - name: start netstat logging in the backgrounbd shell: | set -e nohup /usr/bin/netstat -lnp -c 60 &> /var/log/netstat_audit.log & echo $! >/tmp/netstat.pid async: 0 poll: 0 become: true when: - not netstat_logging | bool - name: Get running processes shell: ""ps -ef | grep -v grep | grep -w {{ PROCESS }} | awk '{print $2}'"" register: running_processes - name: Kill running processes shell: ""kill {{ item }}"" with_items: ""{{ running_processes.stdout_lines }}"" - wait_for: path: ""/proc/{{ item }}/status"" state: absent with_items: ""{{ running_processes.stdout_lines }}"" ignore_errors: yes register: killed_processes - name: Force kill stuck processes shell: ""kill -9 {{ item }}"" with_items: ""{{ killed_processes.results | select('failed') | map(attribute='item') | list }}"" ",,30,0
openstack%2Ftripleo-ci~master~Iab540e69b698205cbb9c75061313aad9d9c2d3c4,openstack/tripleo-ci,master,Iab540e69b698205cbb9c75061313aad9d9c2d3c4,Install dataclasses only for python version < 3.7,MERGED,2022-02-11 09:25:50.000000000,2022-02-14 13:50:32.000000000,2022-02-14 13:50:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-02-11 09:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/21c806510bc4e361b0f0c75c42293e23f7d2b24a', 'message': ""Install dataclasses only for python version < 3.7\n\nAccording [1] the dataclasses is already included in python 3.7 and\nfoward versions. Attempt to install it fails because the package\ndoesn't exist. This patch fix the test-requirements.txt to only\ninstall it when python version is lower than 3.7.\n\n1 - https://github.com/ericvsmith/dataclasses\n\nChange-Id: Iab540e69b698205cbb9c75061313aad9d9c2d3c4\n""}, {'number': 2, 'created': '2022-02-11 09:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6b0b091424d3d0ef73730ce4dc62e005da2cc4ec', 'message': ""Install dataclasses only for python version < 3.7\n\nAccording [1] the dataclasses is already included in python 3.7 and\nfoward versions. Attempt to install it fails because the package\ndoesn't exist. This patch fix the test-requirements.txt to only\ninstall it when python version is lower than 3.7.\n\n1 - https://github.com/ericvsmith/dataclasses\n\nCloses-Bug: #1960603\nChange-Id: Iab540e69b698205cbb9c75061313aad9d9c2d3c4\n""}, {'number': 3, 'created': '2022-02-11 09:50:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c2cf3e63ca423977e8eb4d73de738b3c0cb6eed', 'message': ""Install dataclasses only for python version < 3.7\n\nAccording [1] the dataclasses is already included in python 3.7 and\nfoward versions. Attempt to install it fails because the package\ndoesn't exist. This patch fix the test-requirements.txt to only\ninstall it when python version is lower than 3.7.\n\n1 - https://github.com/ericvsmith/dataclasses\n\nCloses-Bug: #1960603\nChange-Id: Iab540e69b698205cbb9c75061313aad9d9c2d3c4\n""}]",4,828826,0c2cf3e63ca423977e8eb4d73de738b3c0cb6eed,21,7,3,8367,,,0,"Install dataclasses only for python version < 3.7

According [1] the dataclasses is already included in python 3.7 and
foward versions. Attempt to install it fails because the package
doesn't exist. This patch fix the test-requirements.txt to only
install it when python version is lower than 3.7.

1 - https://github.com/ericvsmith/dataclasses

Closes-Bug: #1960603
Change-Id: Iab540e69b698205cbb9c75061313aad9d9c2d3c4
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/26/828826/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,21c806510bc4e361b0f0c75c42293e23f7d2b24a,fix-dataclasses,dataclasses==0.8; python_version < '3.7',dataclasses==0.8,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4d803a7b43533debdf6063299878cf1b13c664e6,openstack/tripleo-heat-templates,stable/ussuri,I4d803a7b43533debdf6063299878cf1b13c664e6,[Neutron] Add custom env file to set dns_domain_name,MERGED,2022-02-12 00:16:35.000000000,2022-02-14 13:50:27.000000000,2022-02-14 13:50:27.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-12 00:16:35.000000000', 'files': ['ci/environments/neutron_dns_domain.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d4deb693615e0c6fee8e29e8ab707667d3f3bb3', 'message': '[Neutron] Add custom env file to set dns_domain_name\n\nTo be able to run properly dns_domain_name related tests from the\nneutron_tempest_plugin.api.test_ports module, Neutron has to have\nconfigured non default dns_domain_name option.\nThis patch adds custom environment file which will set that config\noption to ""openstackgate.local"" which is the same value like is configured\nin all of the Neutron CI jobs by the Neutron Devstack plugin.\n\nRelated-Bug: #1950815\nChange-Id: I4d803a7b43533debdf6063299878cf1b13c664e6\n(cherry picked from commit 3da3ff6ea5d36f5a13a5ef1aaa3cac2dc806655d)\n'}]",0,828840,8d4deb693615e0c6fee8e29e8ab707667d3f3bb3,11,5,1,29775,,,0,"[Neutron] Add custom env file to set dns_domain_name

To be able to run properly dns_domain_name related tests from the
neutron_tempest_plugin.api.test_ports module, Neutron has to have
configured non default dns_domain_name option.
This patch adds custom environment file which will set that config
option to ""openstackgate.local"" which is the same value like is configured
in all of the Neutron CI jobs by the Neutron Devstack plugin.

Related-Bug: #1950815
Change-Id: I4d803a7b43533debdf6063299878cf1b13c664e6
(cherry picked from commit 3da3ff6ea5d36f5a13a5ef1aaa3cac2dc806655d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/828840/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/neutron_dns_domain.yaml'],1,8d4deb693615e0c6fee8e29e8ab707667d3f3bb3,rhbz#2053527,parameter_defaults: NeutronDnsDomain: 'openstackgate.local' ,,2,0
openstack%2Fneutron-lib~master~I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0,openstack/neutron-lib,master,I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0,Add filter flags for QoS rule types,MERGED,2022-02-02 17:28:39.000000000,2022-02-14 13:13:01.000000000,2022-02-14 13:11:28.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-02-02 17:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b7a2c577194b8eb85f2f736e56d6268572952180', 'message': 'Add filter flags for QoS rule types\n\nAdded two filter flags for the QoS rule type API definition:\n- all_supported: if True, the listing call will print all QoS rule\n  types supported by at least one loaded mechanism driver.\n- all_rules: if True, the listing call will print all QoS rule types\n  supported by the Neutron server.\n\nBoth flags are exclusive and not required.\n\nChange-Id: I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0\nRelated-Bug: #1959778\n'}, {'number': 2, 'created': '2022-02-03 10:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/165edbbe210f25542ebcac23fde3a99f6aea5cf1', 'message': 'Add filter flags for QoS rule types\n\nAdded two filter flags for the QoS rule type API definition:\n- all_supported: if True, the listing call will print all QoS rule\n  types supported by at least one loaded mechanism driver.\n- all_rules: if True, the listing call will print all QoS rule types\n  supported by the Neutron server.\n\nBoth flags are exclusive and not required.\n\nChange-Id: I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0\nRelated-Bug: #1959778\n'}, {'number': 3, 'created': '2022-02-03 12:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4f9fd4fde69560964ded245d3546e3e84e14f931', 'message': 'Add filter flags for QoS rule types\n\nAdded two filter flags for the QoS rule type API definition:\n- all_supported: if True, the listing call will print all QoS rule\n  types supported by at least one loaded mechanism driver.\n- all_rules: if True, the listing call will print all QoS rule types\n  supported by the Neutron server.\n\nBoth flags are exclusive and not required.\n\nChange-Id: I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0\nRelated-Bug: #1959749\n'}, {'number': 4, 'created': '2022-02-10 11:57:57.000000000', 'files': ['releasenotes/notes/qos-rule-type-filter-dbac0ec80ce342f3.yaml', 'api-ref/source/v2/qos.inc', 'neutron_lib/tests/unit/api/definitions/test_qos_rule_type_filter.py', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/api/definitions/qos_rule_type_filter.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/683bca82151bf1b33b172d439e0fd1ed47dabe57', 'message': 'Add filter flags for QoS rule types\n\nAdded two filter flags for the QoS rule type API definition:\n- all_supported: if True, the listing call will print all QoS rule\n  types supported by at least one loaded mechanism driver.\n- all_rules: if True, the listing call will print all QoS rule types\n  supported by the Neutron server.\n\nBoth flags are exclusive and not required.\n\nChange-Id: I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0\nRelated-Bug: #1959749\n'}]",11,827533,683bca82151bf1b33b172d439e0fd1ed47dabe57,33,6,4,16688,,,0,"Add filter flags for QoS rule types

Added two filter flags for the QoS rule type API definition:
- all_supported: if True, the listing call will print all QoS rule
  types supported by at least one loaded mechanism driver.
- all_rules: if True, the listing call will print all QoS rule types
  supported by the Neutron server.

Both flags are exclusive and not required.

Change-Id: I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0
Related-Bug: #1959749
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/33/827533/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/qos-rule-type-filter-dbac0ec80ce342f3.yaml', 'api-ref/source/v2/qos.inc', 'neutron_lib/tests/unit/api/definitions/test_qos_rule_type_filter.py', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/api/definitions/qos_rule_type_filter.py']",7,b7a2c577194b8eb85f2f736e56d6268572952180,bug/1959749,"# Copyright 2022 Red Hat, Inc. # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api import converters from neutron_lib.api.definitions import qos as qos_apidef from neutron_lib import constants ALIAS = 'qos-rule-type-filter' IS_SHIM_EXTENSION = False IS_STANDARD_ATTR_EXTENSION = False NAME = 'Allow to filter the list of QoS rule types' API_PREFIX = '' DESCRIPTION = ('Allows to filter the QoS rule type list adding two new flags. ' '""all_rules"" prints all implemented QoS rule types.' '""all_supported"" prints all supported QoS rule types by the ' 'loaded mechanism drivers') UPDATED_TIMESTAMP = '2022-02-02T10:00:00-00:00' QOS_RULE_TYPE_ALL_SUPPORTED = 'all_supported' QOS_RULE_TYPE_ALL_RULES = 'all_rules' RESOURCE_ATTRIBUTE_MAP = { qos_apidef.RULE_TYPES: { QOS_RULE_TYPE_ALL_RULES: { 'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_boolean_if_not_none, 'default': constants.ATTR_NOT_SPECIFIED, 'is_filter': True, 'is_visible': False }, QOS_RULE_TYPE_ALL_SUPPORTED: { 'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_boolean_if_not_none, 'default': constants.ATTR_NOT_SPECIFIED, 'is_filter': True, 'is_visible': False } } } SUB_RESOURCE_ATTRIBUTE_MAP = {} ACTION_MAP = {} REQUIRED_EXTENSIONS = [qos_apidef.ALIAS] OPTIONAL_EXTENSIONS = [] ACTION_STATUS = {} ",,107,0
openstack%2Fcharm-ceph-mon~master~Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea,openstack/charm-ceph-mon,master,Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea,Add profile-name parameter in create-pool action,MERGED,2022-02-04 13:36:40.000000000,2022-02-14 12:51:34.000000000,2022-02-14 12:51:34.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 13:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/721c5a1e6291d48ffaaba91b9b44418592924a6b', 'message': 'Add profile-name parameter in create-pool action\n\nThis change adds a profile name parameter in the create-pool action that\nallows a replicated pool to be created with a CRUSH profile other than\nthe default replicated_rule.\n\ncloses bug: #1905573\n\nChange-Id: Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea\n'}, {'number': 2, 'created': '2022-02-04 15:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7901f41c35fb1ae38f993882ecc8904e8e5a6d65', 'message': 'Add profile-name parameter in create-pool action\n\nThis change adds a profile name parameter in the create-pool action that\nallows a replicated pool to be created with a CRUSH profile other than\nthe default replicated_rule.\n\nCloses-Bug: #1905573\n\nChange-Id: Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea\n'}, {'number': 3, 'created': '2022-02-11 14:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/01dc9fdc7cbfd6ce46782f37b34c7dd8afbeb08a', 'message': 'Add profile-name parameter in create-pool action\n\nThis change adds a profile name parameter in the create-pool action that\nallows a replicated pool to be created with a CRUSH profile other than\nthe default replicated_rule.\n\nCloses-Bug: #1905573\n\nChange-Id: Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea\n'}, {'number': 4, 'created': '2022-02-11 15:37:54.000000000', 'files': ['actions/create_pool.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'unit_tests/test_ceph_ops.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/da798bdd95f8fa19ce42363be6bfb268d62fe690', 'message': 'Add profile-name parameter in create-pool action\n\nThis change adds a profile name parameter in the create-pool action that\nallows a replicated pool to be created with a CRUSH profile other than\nthe default replicated_rule.\n\nCloses-Bug: #1905573\n\nChange-Id: Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea\n'}]",3,827862,da798bdd95f8fa19ce42363be6bfb268d62fe690,18,3,4,19690,,,0,"Add profile-name parameter in create-pool action

This change adds a profile name parameter in the create-pool action that
allows a replicated pool to be created with a CRUSH profile other than
the default replicated_rule.

Closes-Bug: #1905573

Change-Id: Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/62/827862/3 && git format-patch -1 --stdout FETCH_HEAD,"['actions/create_pool.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'unit_tests/test_ceph_ops.py']",3,721c5a1e6291d48ffaaba91b9b44418592924a6b,bug/1905573," @patch.object(broker.ReplicatedPool, 'create') @patch.object(broker, 'log', lambda *args, **kwargs: None) def test_process_requests_create_replicated_pool(self, mock_replicated_pool, mock_pool_exists, mock_cmp_pkgrevno): mock_pool_exists.return_value = False mock_cmp_pkgrevno.return_value = 1 reqs = json.dumps({'api-version': 1, 'ops': [{ 'op': 'create-pool', 'name': 'foo', 'replicas': 3 }]}) rc = broker.process_requests(reqs) mock_pool_exists.assert_called_with(service='admin', name='foo') mock_replicated_pool.assert_called_with() self.assertEqual(json.loads(rc), {'exit-code': 0}) @patch('charmhelpers.contrib.storage.linux.ceph.cmp_pkgrevno') @patch.object(broker, 'pool_exists')",,69,5
openstack%2Ftripleo-quickstart-extras~master~I3cd8d0bcc01021b27ca7dc3a3670e3fce60bf861,openstack/tripleo-quickstart-extras,master,I3cd8d0bcc01021b27ca7dc3a3670e3fce60bf861,Set dns_domain_name option for train/ussuri aswell,MERGED,2022-02-11 10:55:10.000000000,2022-02-14 12:49:00.000000000,2022-02-14 12:49:00.000000000,"[{'_account_id': 8449}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-11 10:55:10.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7756b775c0000daeeb16af9d3f7e0575cce544b3', 'message': 'Set dns_domain_name option for train/ussuri aswell\n\nTo be able to run properly dns_domain_name related tests\nfrom the neutron_tempest_plugin.api.test_ports module,\nNeutron has to have configured non default dns_domain_name option.\n\nThis patch set dns_domain_name option to ""openstackgate.local""\nwhich is the same value like configured in all of the Neutron CI\njobs by the Neutron Devstack plugin.\n\nWe have enabled this test in 16.2 by cherry-picking [2] and [3]\nin downstream. Same test should not be triggered in train/ussuri\nas tempest is pinned - So adding dns_domain_name should ideally\nfix downstream(and add coverage) without affecting train/ussuri.\n\nCouldn\'t find any reason in related-bug on why NeutronDnsDomain\ncannot be added for train/ussuri version.\n\nRelated-Bug: #1950815\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2053378\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/821079/\n[3] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/820456/\n\nChange-Id: I3cd8d0bcc01021b27ca7dc3a3670e3fce60bf861\n'}]",6,828854,7756b775c0000daeeb16af9d3f7e0575cce544b3,14,6,1,29775,,,0,"Set dns_domain_name option for train/ussuri aswell

To be able to run properly dns_domain_name related tests
from the neutron_tempest_plugin.api.test_ports module,
Neutron has to have configured non default dns_domain_name option.

This patch set dns_domain_name option to ""openstackgate.local""
which is the same value like configured in all of the Neutron CI
jobs by the Neutron Devstack plugin.

We have enabled this test in 16.2 by cherry-picking [2] and [3]
in downstream. Same test should not be triggered in train/ussuri
as tempest is pinned - So adding dns_domain_name should ideally
fix downstream(and add coverage) without affecting train/ussuri.

Couldn't find any reason in related-bug on why NeutronDnsDomain
cannot be added for train/ussuri version.

Related-Bug: #1950815

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2053378
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/821079/
[3] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/820456/

Change-Id: I3cd8d0bcc01021b27ca7dc3a3670e3fce60bf861
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/54/828854/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,7756b775c0000daeeb16af9d3f7e0575cce544b3,rhbz#2053527,,"{% if release is defined and release not in ['train', 'ussuri'] %}{% endif %}",0,2
openstack%2Fnova~master~I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,openstack/nova,master,I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,Gracefull recovery when attaching volume fails,MERGED,2022-02-09 11:07:54.000000000,2022-02-14 12:39:45.000000000,2022-02-14 12:37:58.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 11:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ec856842497376956c28e5774cd9704cf9d8ed8', 'message': 'Gracefull recovery when attaching volume fails\n\nWhen trying to attach a volume to an already running instance the nova-api\nrequests the nova-compute service to create a BlockDeviceMapping. If the\nnova-api does not receive a response within `rpc_response_timeout` it will\ntreat the request as failed and raise an exception.\n\nThere are multiple cases where nova-compute actually already processed the\nrequest and just the reply did not reach the nova-api in time (see bug report).\nAfter the failed request the database will contain a BlockDeviceMapping entry\nfor the volume + instance combination that will never be cleaned up again.\nThis entry also causes the nova-api to reject all future attachments of this\nvolume to this instance (as it assumes it is already attached).\n\nTo work around this we check if a BlockDeviceMapping has already been created\nwhen we see a messaging timeout. If this is the case we can safely delete it\nas the compute node has already finished processing and we will no longer pick\nit up.\nThis allows users to try the request again.\n\nA previous fix was abandoned but without a clear reason ([1]).\n\n[1]: https://review.opendev.org/c/openstack/nova/+/731804\n\nCloses-Bug: 1960401\nChange-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527\n'}, {'number': 2, 'created': '2022-02-09 12:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23166f58538dff5edb5d33de1e1e1aa9e911a0df', 'message': 'Gracefull recovery when attaching volume fails\n\nWhen trying to attach a volume to an already running instance the nova-api\nrequests the nova-compute service to create a BlockDeviceMapping. If the\nnova-api does not receive a response within `rpc_response_timeout` it will\ntreat the request as failed and raise an exception.\n\nThere are multiple cases where nova-compute actually already processed the\nrequest and just the reply did not reach the nova-api in time (see bug report).\nAfter the failed request the database will contain a BlockDeviceMapping entry\nfor the volume + instance combination that will never be cleaned up again.\nThis entry also causes the nova-api to reject all future attachments of this\nvolume to this instance (as it assumes it is already attached).\n\nTo work around this we check if a BlockDeviceMapping has already been created\nwhen we see a messaging timeout. If this is the case we can safely delete it\nas the compute node has already finished processing and we will no longer pick\nit up.\nThis allows users to try the request again.\n\nA previous fix was abandoned but without a clear reason ([1]).\n\n[1]: https://review.opendev.org/c/openstack/nova/+/731804\n\nCloses-Bug: 1960401\nChange-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527\n'}, {'number': 3, 'created': '2022-02-09 13:03:42.000000000', 'files': ['releasenotes/notes/bug-1960401-504eb255253d966a.yaml', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9eb116b99ce32bc69c4abf8ec3b0179ef89a8860', 'message': 'Gracefull recovery when attaching volume fails\n\nWhen trying to attach a volume to an already running instance the nova-api\nrequests the nova-compute service to create a BlockDeviceMapping. If the\nnova-api does not receive a response within `rpc_response_timeout` it will\ntreat the request as failed and raise an exception.\n\nThere are multiple cases where nova-compute actually already processed the\nrequest and just the reply did not reach the nova-api in time (see bug report).\nAfter the failed request the database will contain a BlockDeviceMapping entry\nfor the volume + instance combination that will never be cleaned up again.\nThis entry also causes the nova-api to reject all future attachments of this\nvolume to this instance (as it assumes it is already attached).\n\nTo work around this we check if a BlockDeviceMapping has already been created\nwhen we see a messaging timeout. If this is the case we can safely delete it\nas the compute node has already finished processing and we will no longer pick\nit up.\nThis allows users to try the request again.\n\nA previous fix was abandoned but without a clear reason ([1]).\n\n[1]: https://review.opendev.org/c/openstack/nova/+/731804\n\nCloses-Bug: 1960401\nChange-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527\n'}]",11,828516,9eb116b99ce32bc69c4abf8ec3b0179ef89a8860,30,3,3,29074,,,0,"Gracefull recovery when attaching volume fails

When trying to attach a volume to an already running instance the nova-api
requests the nova-compute service to create a BlockDeviceMapping. If the
nova-api does not receive a response within `rpc_response_timeout` it will
treat the request as failed and raise an exception.

There are multiple cases where nova-compute actually already processed the
request and just the reply did not reach the nova-api in time (see bug report).
After the failed request the database will contain a BlockDeviceMapping entry
for the volume + instance combination that will never be cleaned up again.
This entry also causes the nova-api to reject all future attachments of this
volume to this instance (as it assumes it is already attached).

To work around this we check if a BlockDeviceMapping has already been created
when we see a messaging timeout. If this is the case we can safely delete it
as the compute node has already finished processing and we will no longer pick
it up.
This allows users to try the request again.

A previous fix was abandoned but without a clear reason ([1]).

[1]: https://review.opendev.org/c/openstack/nova/+/731804

Closes-Bug: 1960401
Change-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/828516/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",2,5ec856842497376956c28e5774cd9704cf9d8ed8,fix_bdm_create_with_timeout," @mock.patch.object( objects.BlockDeviceMapping, 'get_by_volume_and_instance') @mock.patch.object(objects.BlockDeviceMappingList, 'get_by_volume') def test_attach_volume_reserve_bdm_timeout( self, mock_get_by_volume, mock_get_by_volume_and_instance, mock_reserve): mock_get_by_volume.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') fake_bdm = mock.MagicMock(spec=objects.BlockDeviceMapping) mock_get_by_volume_and_instance.return_value = fake_bdm instance = self._create_instance_obj() volume = fake_volume.fake_volume(1, 'test-vol', 'test-vol', None, None, None, None, None) mock_reserve.side_effect = oslo_exceptions.MessagingTimeout() mock_volume_api = mock.patch.object(self.compute_api, 'volume_api', mock.MagicMock(spec=cinder.API)) with mock_volume_api as mock_v_api: mock_v_api.get.return_value = volume self.assertRaises(oslo_exceptions.MessagingTimeout, self.compute_api.attach_volume, self.context, instance, volume['id']) mock_get_by_volume_and_instance.assert_called_once_with( self.context, volume['id'], instance.uuid) fake_bdm.destroy.assert_called_once_with() @mock.patch.object(compute_rpcapi.ComputeAPI, 'reserve_block_device_name')",,45,4
openstack%2Fneutron~master~I53ee3c87ab2a6306b31fc3387b706d8296031a14,openstack/neutron,master,I53ee3c87ab2a6306b31fc3387b706d8296031a14,[OVS] Add IPv6 ICMP RA to the default ingress rules,MERGED,2022-01-31 17:36:36.000000000,2022-02-14 12:13:24.000000000,2022-02-14 12:11:21.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28722}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-01-31 17:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00bcfc06dc193a1394b9852908a97ab43b81303e', 'message': '[OVS] Add IPv6 ICMP RA to the default ingress rules\n\n""ICMPV6_TYPE_RA"" was removed from ""ICMPV6_ALLOWED_INGRESS_TYPES""\nbecause of a bug in the iptables firewall (described in the LP\nbug). This rule was added in ""_add_ingress_ra_rule"" to\nport[""security_group_rules""]. However, the OVS firewall does not\nuse this rule list but builds the default rules from scratch.\n\nCloses-Bug: #1958643\nChange-Id: I53ee3c87ab2a6306b31fc3387b706d8296031a14\n'}, {'number': 2, 'created': '2022-02-01 12:13:01.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d233041206434b91e5f2d1f00593e592019a99d', 'message': '[OVS] Add IPv6 ICMP RA to the default ingress rules\n\n""ICMPV6_TYPE_RA"" was removed from ""ICMPV6_ALLOWED_INGRESS_TYPES""\nbecause of a bug in the iptables firewall (described in the LP\nbug). This rule was added in ""_add_ingress_ra_rule"" to\nport[""security_group_rules""]. However, the OVS firewall does not\nuse this rule list but builds the default rules from scratch.\n\nCloses-Bug: #1958643\nChange-Id: I53ee3c87ab2a6306b31fc3387b706d8296031a14\n'}]",7,827159,0d233041206434b91e5f2d1f00593e592019a99d,33,8,2,16688,,,0,"[OVS] Add IPv6 ICMP RA to the default ingress rules

""ICMPV6_TYPE_RA"" was removed from ""ICMPV6_ALLOWED_INGRESS_TYPES""
because of a bug in the iptables firewall (described in the LP
bug). This rule was added in ""_add_ingress_ra_rule"" to
port[""security_group_rules""]. However, the OVS firewall does not
use this rule list but builds the default rules from scratch.

Closes-Bug: #1958643
Change-Id: I53ee3c87ab2a6306b31fc3387b706d8296031a14
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/827159/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,00bcfc06dc193a1394b9852908a97ab43b81303e,bug/1958643," # NOTE(ralonsoh): ""ICMPV6_TYPE_RA"" was removed from # ""ICMPV6_ALLOWED_INGRESS_TYPES"" because of a bug in the iptables # firewall. This rule was added in ""_add_ingress_ra_rule"". However, # the OVS firewall does not use port[""security_group_rules""]. for icmp_type in (firewall.ICMPV6_ALLOWED_INGRESS_TYPES, lib_const.ICMPV6_TYPE_RA):", for icmp_type in firewall.ICMPV6_ALLOWED_INGRESS_TYPES:,6,1
openstack%2Fneutron~master~Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c,openstack/neutron,master,Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c,Add qos-pps-minimum-rule-alias API extension,MERGED,2021-10-22 14:00:52.000000000,2022-02-14 11:57:47.000000000,2022-02-14 11:55:48.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-10-22 14:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d35a9fa0b4a39a04bb8fbdf42308586e6a23da2e', 'message': 'Add qos-pps-minimum-rule-alias API extension\n\nIntroduce a new API extension to enable GET, PUT and DELETE\noperations on QoS minimum packet rate rule without specifying\npolicy ID.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c\n'}, {'number': 2, 'created': '2022-01-05 11:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8b32223279dd46ace296ad086331459a7853d2b', 'message': 'Add qos-pps-minimum-rule-alias API extension\n\nIntroduce a new API extension to enable GET, PUT and DELETE\noperations on QoS minimum packet rate rule without specifying\npolicy ID.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c\n'}, {'number': 3, 'created': '2022-01-05 16:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e5e501eff38a683d2bba3db057c2965b32af52b', 'message': 'Add qos-pps-minimum-rule-alias API extension\n\nIntroduce a new API extension to enable GET, PUT and DELETE\noperations on QoS minimum packet rate rule without specifying\npolicy ID.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c\n'}, {'number': 4, 'created': '2022-02-07 10:53:43.000000000', 'files': ['neutron/conf/policies/qos.py', 'neutron/services/qos/qos_plugin.py', 'releasenotes/notes/qos-pps-minimum-rule-alias-dbd652445a033f31.yaml', 'neutron/tests/unit/conf/policies/test_qos.py', 'neutron/extensions/qos_pps_minimum_rule_alias.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/084bb163f2427d9ba260dc376b1c0b831387e503', 'message': 'Add qos-pps-minimum-rule-alias API extension\n\nIntroduce a new API extension to enable GET, PUT and DELETE\noperations on QoS minimum packet rate rule without specifying\npolicy ID.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c\n'}]",10,815120,084bb163f2427d9ba260dc376b1c0b831387e503,42,9,4,33652,,,0,"Add qos-pps-minimum-rule-alias API extension

Introduce a new API extension to enable GET, PUT and DELETE
operations on QoS minimum packet rate rule without specifying
policy ID.

Partial-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/815120/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/qos.py', 'neutron/services/qos/qos_plugin.py', 'releasenotes/notes/qos-pps-minimum-rule-alias-dbd652445a033f31.yaml', 'neutron/tests/unit/conf/policies/test_qos.py', 'neutron/extensions/_qos_pps_minimum_rule_alias.py', 'neutron/extensions/qos_pps_minimum_rule_alias.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",7,d35a9fa0b4a39a04bb8fbdf42308586e6a23da2e,bp/qos-minimum-guaranteed-packet-rate,"from neutron.extensions import qos_pps_minimum_rule_aliasclass QoSRuleAliasMinimumPacketRateTestExtensionManager(object): def get_resources(self): return qos_pps_minimum_rule_alias.Qos_pps_minimum_rule_alias.\ get_resources() def get_actions(self): return [] def get_request_extensions(self): return [] class TestQoSRuleAliasMinimumPacketRate(TestQoSRuleAlias): def setUp(self): # Remove MissingAuthPlugin exception from logs self.patch_notifier = mock.patch( 'neutron.notifiers.batch_notifier.BatchNotifier._notify') self.patch_notifier.start() plugin = 'ml2' service_plugins = {'qos_plugin_name': SERVICE_PLUGIN_KLASS} ext_mgr = QoSRuleAliasMinimumPacketRateTestExtensionManager() super(TestQoSRuleAlias, self).setUp(plugin=plugin, ext_mgr=ext_mgr, service_plugins=service_plugins) self.qos_plugin = directory.get_plugin(plugins_constants.QOS) self.ctxt = context.Context('fake_user', 'fake_tenant') self.rule_objects = { 'minimum_packet_rate': rule_object.QosMinimumPacketRateRule } self.qos_policy_id = uuidutils.generate_uuid() self.rule_data = { 'minimum_packet_rate_rule': {'min_kpps': 10, 'direction': 'any'} } ",,269,0
openstack%2Fpuppet-ceilometer~master~I03fe6c57382069200a1057da46fece3d04f1b972,openstack/puppet-ceilometer,master,I03fe6c57382069200a1057da46fece3d04f1b972,Add scenario002 integration job,MERGED,2022-02-04 09:28:37.000000000,2022-02-14 11:27:57.000000000,2022-02-14 11:27:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 09:28:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/6975e81db4fa3af7a56343deac56114c95155d98', 'message': 'Add scenario002 integration job\n\n... because Telemetry service is now enabled in that scenario.\n\nDepends-on: https://review.opendev.org/825929\nChange-Id: I03fe6c57382069200a1057da46fece3d04f1b972\n'}]",1,827822,6975e81db4fa3af7a56343deac56114c95155d98,9,3,1,9816,,,0,"Add scenario002 integration job

... because Telemetry service is now enabled in that scenario.

Depends-on: https://review.opendev.org/825929
Change-Id: I03fe6c57382069200a1057da46fece3d04f1b972
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/22/827822/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6975e81db4fa3af7a56343deac56114c95155d98,gnocchi-swift, - puppet-openstack-integration-jobs-scenario002,,1,0
openstack%2Fopenstack-ansible-lxc_hosts~master~Icf3c21de86297c2de3fc043d4903452747710e39,openstack/openstack-ansible-lxc_hosts,master,Icf3c21de86297c2de3fc043d4903452747710e39,Simplify installtion of libpython,MERGED,2022-02-02 09:40:32.000000000,2022-02-14 11:21:03.000000000,2022-02-14 11:19:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:40:32.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/bafac67172162ae8f569a3a1321f700015650800', 'message': 'Simplify installtion of libpython\n\nWe only support one version of Debian so can remove the logic that\nsupports older versions.\n\nChange-Id: Icf3c21de86297c2de3fc043d4903452747710e39\n'}]",5,827458,bafac67172162ae8f569a3a1321f700015650800,19,3,1,25023,,,0,"Simplify installtion of libpython

We only support one version of Debian so can remove the logic that
supports older versions.

Change-Id: Icf3c21de86297c2de3fc043d4903452747710e39
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/58/827458/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,bafac67172162ae8f569a3a1321f700015650800,, - libpython3.9," - ""{{ hostvars[physical_host]['ansible_facts']['distribution_major_version'] is version('10', '>') | ternary('libpython3.9', 'libpython3.7') }}""",1,1
openstack%2Fpuppet-horizon~stable%2Fwallaby~I7a900d75ddffae88760d5965a1f9ac2f4277624f,openstack/puppet-horizon,stable/wallaby,I7a900d75ddffae88760d5965a1f9ac2f4277624f,Fix missing HORIZON_IMAGES_UPLOAD_MODE,MERGED,2021-10-25 12:30:58.000000000,2022-02-14 10:47:55.000000000,2022-02-14 10:44:47.000000000,"[{'_account_id': 8318}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 12:30:58.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/init.pp', 'spec/classes/horizon_init_spec.rb', 'releasenotes/notes/fix_missing_quotes_for_images_upload-bcd649d0311afe32.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a12c7720700b79cb3e5da60b91e2b1cd3d76b221', 'message': 'Fix missing HORIZON_IMAGES_UPLOAD_MODE\n\nThe value as of current is treated as an expression\nby horizon and will cause horizon to fail. The value\nmust be encapsulated with quotes so it is treated as\na string.\n\nBackport note:\nThe deprecation warning message is not included in backports.\n\nConflicts:\n\tmanifests/init.pp\n\nCloses-Bug: #1946277\nChange-Id: I7a900d75ddffae88760d5965a1f9ac2f4277624f\n(cherry picked from commit 625275af36f6775e939334724f439c480d863d24)\n(cherry picked from commit d22f10750cb712c89a7f9164e8b9dabadd3d6d9f)\n'}]",0,815291,a12c7720700b79cb3e5da60b91e2b1cd3d76b221,8,5,1,9816,,,0,"Fix missing HORIZON_IMAGES_UPLOAD_MODE

The value as of current is treated as an expression
by horizon and will cause horizon to fail. The value
must be encapsulated with quotes so it is treated as
a string.

Backport note:
The deprecation warning message is not included in backports.

Conflicts:
	manifests/init.pp

Closes-Bug: #1946277
Change-Id: I7a900d75ddffae88760d5965a1f9ac2f4277624f
(cherry picked from commit 625275af36f6775e939334724f439c480d863d24)
(cherry picked from commit d22f10750cb712c89a7f9164e8b9dabadd3d6d9f)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/91/815291/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/local_settings.py.erb', 'manifests/init.pp', 'spec/classes/horizon_init_spec.rb', 'releasenotes/notes/fix_missing_quotes_for_images_upload-bcd649d0311afe32.yaml']",4,a12c7720700b79cb3e5da60b91e2b1cd3d76b221,,--- fixes: - | Fix HORIZON_IMAGES_UPLOAD_MODE in template file because the value must be encapsulated with quotes or it will be treated as an expression by horizon. ,,27,3
openstack%2Freleases~master~I95d9b537530982648db231da7cb4dbcfdaa904d6,openstack/releases,master,I95d9b537530982648db231da7cb4dbcfdaa904d6,New OpenStack SDK release 0.62.0,ABANDONED,2022-02-01 16:09:01.000000000,2022-02-14 10:43:12.000000000,,"[{'_account_id': 9708}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-02-01 16:09:01.000000000', 'files': ['deliverables/yoga/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a6879c8f6e1e55573d39624d06cb6f152444026a', 'message': 'New OpenStack SDK release 0.62.0\n\nIncluded (feature) commits:\ndd892d7b Use empty read_acl for swift container\n3c8826d0 Get rid of normalization in compute CL\n3e84351c Add QoS min pps rule object and CRUD operations\n\nI do no list here the many things merged from feature/r1\n\nChange-Id: I95d9b537530982648db231da7cb4dbcfdaa904d6\n'}]",1,827316,a6879c8f6e1e55573d39624d06cb6f152444026a,4,5,1,8313,,,0,"New OpenStack SDK release 0.62.0

Included (feature) commits:
dd892d7b Use empty read_acl for swift container
3c8826d0 Get rid of normalization in compute CL
3e84351c Add QoS min pps rule object and CRUD operations

I do no list here the many things merged from feature/r1

Change-Id: I95d9b537530982648db231da7cb4dbcfdaa904d6
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/827316/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/openstacksdk.yaml'],1,a6879c8f6e1e55573d39624d06cb6f152444026a,openstacksdk_0620, - version: 0.62.0 projects: - repo: openstack/openstacksdk hash: 3c47d7d0a3ad7857c9df126d71921b8171180866,,4,0
openstack%2Fpuppet-gnocchi~master~Ibc71fef2e59da5eff55555960dc8c59c5e368194,openstack/puppet-gnocchi,master,Ibc71fef2e59da5eff55555960dc8c59c5e368194,Add scenario002 integration job,MERGED,2022-02-04 09:28:07.000000000,2022-02-14 10:41:46.000000000,2022-02-14 10:41:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 09:28:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/792621d97da0ae59e975f0bb017c3d68c1c7da22', 'message': 'Add scenario002 integration job\n\n... because Telemetry service is now enabled in that scenario.\n\nDepends-on: https://review.opendev.org/825929\nChange-Id: Ibc71fef2e59da5eff55555960dc8c59c5e368194\n'}]",0,827821,792621d97da0ae59e975f0bb017c3d68c1c7da22,7,3,1,9816,,,0,"Add scenario002 integration job

... because Telemetry service is now enabled in that scenario.

Depends-on: https://review.opendev.org/825929
Change-Id: Ibc71fef2e59da5eff55555960dc8c59c5e368194
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/21/827821/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,792621d97da0ae59e975f0bb017c3d68c1c7da22,gnocchi-swift, - puppet-openstack-integration-jobs-scenario002,,1,0
openstack%2Fpuppet-aodh~master~I0f8213343ec1946212378adef80d222a2cc73a89,openstack/puppet-aodh,master,I0f8213343ec1946212378adef80d222a2cc73a89,Add scenario002 integration job,MERGED,2022-02-04 09:27:23.000000000,2022-02-14 10:36:09.000000000,2022-02-14 10:36:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 09:27:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ece29f7d9cdedaefcc83da13fc6d98bbfafc91f4', 'message': 'Add scenario002 integration job\n\n... because Telemetry service is now enabled in that scenario.\n\nDepends-on: https://review.opendev.org/825929\nChange-Id: I0f8213343ec1946212378adef80d222a2cc73a89\n'}]",0,827820,ece29f7d9cdedaefcc83da13fc6d98bbfafc91f4,7,3,1,9816,,,0,"Add scenario002 integration job

... because Telemetry service is now enabled in that scenario.

Depends-on: https://review.opendev.org/825929
Change-Id: I0f8213343ec1946212378adef80d222a2cc73a89
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/20/827820/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ece29f7d9cdedaefcc83da13fc6d98bbfafc91f4,gnocchi-swift, - puppet-openstack-integration-jobs-scenario002,,1,0
openstack%2Fkuryr-kubernetes~master~Ic93a105b4a67b8dff15bf0e80b13f4743ffce7ff,openstack/kuryr-kubernetes,master,Ic93a105b4a67b8dff15bf0e80b13f4743ffce7ff,Update KLB .spec.provider when required,MERGED,2022-02-08 11:46:12.000000000,2022-02-14 10:35:40.000000000,2022-02-14 10:33:58.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-02-08 11:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bc92a9d180eb521cce1b46afec7c0a6b34f0cf5f', 'message': ""Update KLB .spec.provider when required\n\nDuring the refactoring to allow proper Events creation for Services,\nwe've lost ability to update KLBs .spec.provider when configuration is\nchanged to use another provider. This commit fixes it by making sure\n.spec.provider mismatch with the configured provider triggers the .spec\nupdate.\n\nChange-Id: Ic93a105b4a67b8dff15bf0e80b13f4743ffce7ff\nCloses-Bug: 1960311\n""}, {'number': 2, 'created': '2022-02-09 15:43:34.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b9f68b40fa4eefa9b58b9c8f732255de2ecbae80', 'message': ""Update KLB .spec.provider when required\n\nDuring the refactoring to allow proper Events creation for Services,\nwe've lost ability to update KLBs .spec.provider when configuration is\nchanged to use another provider. This commit fixes it by making sure\n.spec.provider mismatch with the configured provider triggers the .spec\nupdate.\n\nChange-Id: Ic93a105b4a67b8dff15bf0e80b13f4743ffce7ff\nCloses-Bug: 1960311\n""}]",5,828284,b9f68b40fa4eefa9b58b9c8f732255de2ecbae80,18,5,2,11600,,,0,"Update KLB .spec.provider when required

During the refactoring to allow proper Events creation for Services,
we've lost ability to update KLBs .spec.provider when configuration is
changed to use another provider. This commit fixes it by making sure
.spec.provider mismatch with the configured provider triggers the .spec
update.

Change-Id: Ic93a105b4a67b8dff15bf0e80b13f4743ffce7ff
Closes-Bug: 1960311
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/84/828284/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py']",2,bc92a9d180eb521cce1b46afec7c0a6b34f0cf5f,bug/1960311," for timeout in (True, False): for provider in (True, False): m_handler._has_ip_changes.return_value = has_ip_changes m_port_changes.return_value = has_port_changes m_handler._has_timeout_changes.return_value = timeout m_handler._has_provider_changes.return_value = provider ret = h_lbaas.ServiceHandler._has_lbaas_spec_changes( m_handler, service, lbaas_spec) self.assertEqual( has_ip_changes or has_port_changes or timeout or provider, ret)"," for has_timeout_ in (True, False): m_handler._has_ip_changes.return_value = has_ip_changes m_port_changes.return_value = has_port_changes m_handler._has_timeout_changes.return_value = has_timeout_ ret = h_lbaas.ServiceHandler._has_lbaas_spec_changes( m_handler, service, lbaas_spec) self.assertEqual( has_ip_changes or has_port_changes or has_timeout_, ret)",17,10
openstack%2Fdebtcollector~master~Ib34c55347d2285fb162467dfbe8b3049d7c06069,openstack/debtcollector,master,Ib34c55347d2285fb162467dfbe8b3049d7c06069,requirements: Move doc requirements to their own file,ABANDONED,2021-11-12 11:44:24.000000000,2022-02-14 10:29:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-12 11:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/11302440ffa56d96ce13e483499101443c46dd81', 'message': ""requirements: Move doc requirements to their own file\n\nWe can also remove some dependencies that we don't actually use.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ib34c55347d2285fb162467dfbe8b3049d7c06069\n""}, {'number': 2, 'created': '2022-02-11 11:07:50.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/ca0a9c69dbbb53b5a621c2267bb6acc7fa8b3949', 'message': ""requirements: Move doc requirements to their own file\n\nWe can also remove some dependencies that we don't actually use.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ib34c55347d2285fb162467dfbe8b3049d7c06069\n""}]",0,817751,ca0a9c69dbbb53b5a621c2267bb6acc7fa8b3949,5,1,2,15334,,,0,"requirements: Move doc requirements to their own file

We can also remove some dependencies that we don't actually use.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ib34c55347d2285fb162467dfbe8b3049d7c06069
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/51/817751/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,11302440ffa56d96ce13e483499101443c46dd81,trivial, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txtdeps = {[testenv]deps} -r{toxinidir}/doc/requirements.txt commands = sphinx-build -W --keep-going -b html -d doc/build/doctrees doc/source doc/build/htmldeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,setenv = VIRTUAL_ENV={envdir} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txtcommands = sphinx-build -W --keep-going -b html -d doc/build/doctrees doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ,17,18
openstack%2Fpuppet-ironic~stable%2Fxena~If032600c34394f9f0f3686971082aafeab9be3ea,openstack/puppet-ironic,stable/xena,If032600c34394f9f0f3686971082aafeab9be3ea,Add support for MultiStrOpt (inspector),MERGED,2021-12-27 07:30:45.000000000,2022-02-14 10:21:51.000000000,2022-02-14 10:21:51.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 07:30:45.000000000', 'files': ['lib/puppet/provider/ironic_inspector_config/openstackconfig.rb', 'lib/puppet/type/ironic_inspector_config.rb', 'spec/unit/type/ironic_inspector_config_spec.rb', 'spec/unit/provider/ironic_inspector_config/openstackconfig_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7e1f4200372542e9169c4e18fcf5f557b9e2ce46', 'message': 'Add support for MultiStrOpt (inspector)\n\nThis replaces the provider implementation of ironic_inspector_config\ntype so that MultiStrOpt, which is used by several options like\n - oslo_policy/policy_dirs\nare handled correctly.\n\nThe same was already implemented for ironic_config by [1].\n\n[1] 0f4a5263a7f4264f6148e8c04f32992b0b07e1a5\n\nChange-Id: If032600c34394f9f0f3686971082aafeab9be3ea\n(cherry picked from commit ecdeb8f36575675998e1d3e77fba53fb5ee87e50)\n'}]",0,822938,7e1f4200372542e9169c4e18fcf5f557b9e2ce46,7,3,1,9816,,,0,"Add support for MultiStrOpt (inspector)

This replaces the provider implementation of ironic_inspector_config
type so that MultiStrOpt, which is used by several options like
 - oslo_policy/policy_dirs
are handled correctly.

The same was already implemented for ironic_config by [1].

[1] 0f4a5263a7f4264f6148e8c04f32992b0b07e1a5

Change-Id: If032600c34394f9f0f3686971082aafeab9be3ea
(cherry picked from commit ecdeb8f36575675998e1d3e77fba53fb5ee87e50)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/38/822938/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/ironic_inspector_config/openstackconfig.rb', 'lib/puppet/type/ironic_inspector_config.rb', 'spec/unit/type/ironic_inspector_config_spec.rb', 'spec/unit/provider/ironic_inspector_config/openstackconfig_spec.rb']",4,7e1f4200372542e9169c4e18fcf5f557b9e2ce46,multistropt-stable/xena,"# # these tests are a little concerning b/c they are hacking around the # modulepath, so these tests will not catch issues that may eventually arise # related to loading these plugins. # I could not, for the life of me, figure out how to programmatically set the modulepathprovider_class = Puppet::Type.type(:ironic_inspector_config).provider(:openstackconfig) {:name => 'DEFAULT/foo', :value => 'bar'} {:name => 'dude/foo', :value => 'bar'}","provider_class = Puppet::Type.type(:ironic_inspector_config).provider(:ini_setting) { :name => 'DEFAULT/foo', :value => 'bar' } { :name => 'dude/foo', :value => 'bar' }",66,13
openstack%2Fcyborg~master~Idac2258cb411c2065212d4b76989d572b9f86f3d,openstack/cyborg,master,Idac2258cb411c2065212d4b76989d572b9f86f3d,no type field in ExpectedOneObject format message,MERGED,2020-02-14 11:36:15.000000000,2022-02-14 10:03:15.000000000,2022-02-14 10:01:49.000000000,"[{'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-02-14 11:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9bbed42fd7b0873dc79146d9c3f33714f80db685', 'message': 'no type field in ExpectedOneObject format message\n\nChange-Id: Idac2258cb411c2065212d4b76989d572b9f86f3d\n'}, {'number': 2, 'created': '2022-02-07 09:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/638ed0673672f8d9be3c9411088ff8169629c04f', 'message': 'no type field in ExpectedOneObject format message\n\nChange-Id: Idac2258cb411c2065212d4b76989d572b9f86f3d\n'}, {'number': 3, 'created': '2022-02-08 07:29:04.000000000', 'files': ['cyborg/tests/unit/objects/test_fpga_ext_arq.py', 'cyborg/objects/extarq/fpga_ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/60e98412900b4dbd7a79faeaaa681a938bfa8dd4', 'message': 'no type field in ExpectedOneObject format message\n\nCo-Authored-By: Eric Xie <eric_xiett@163.com>\nChange-Id: Idac2258cb411c2065212d4b76989d572b9f86f3d\n'}]",4,707821,60e98412900b4dbd7a79faeaaa681a938bfa8dd4,15,6,3,14131,,,0,"no type field in ExpectedOneObject format message

Co-Authored-By: Eric Xie <eric_xiett@163.com>
Change-Id: Idac2258cb411c2065212d4b76989d572b9f86f3d
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/21/707821/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/objects/extarq/fpga_ext_arq.py'],1,9bbed42fd7b0873dc79146d9c3f33714f80db685,exc-bug," raise exception.ExpectedOneObject(obj='controlpath_id',"," raise exception.ExpectedOneObject(type='controlpath_id',",1,1
openstack%2Fkayobe~master~Icb45116708bd31581c50a758180a531144eeac8f,openstack/kayobe,master,Icb45116708bd31581c50a758180a531144eeac8f,DNM: use correct libvirt roles,ABANDONED,2022-02-08 15:39:59.000000000,2022-02-14 09:55:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-08 15:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/21f755a0a92a0fc590e92211e13cea1c02d5ab4e', 'message': 'DNM: use correct libvirt roles\n\nChange-Id: Icb45116708bd31581c50a758180a531144eeac8f\n'}, {'number': 2, 'created': '2022-02-09 08:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fe21cc72af4fc0d403427d68bf6532928e634239', 'message': 'DNM: use correct libvirt roles\n\nChange-Id: Icb45116708bd31581c50a758180a531144eeac8f\n'}, {'number': 3, 'created': '2022-02-09 12:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a034c9c8b750dbf891aad44f5a49fe376a723cd4', 'message': 'DNM: use correct libvirt roles\n\nChange-Id: Icb45116708bd31581c50a758180a531144eeac8f\n'}, {'number': 4, 'created': '2022-02-09 13:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cc5e66618b9ee2ddc7ea3e559d98ada841c0f040', 'message': 'DNM: use correct libvirt roles\n\nChange-Id: Icb45116708bd31581c50a758180a531144eeac8f\n'}, {'number': 5, 'created': '2022-02-10 10:40:35.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4cd9ab97b09e34b57bd25855a129239fda22776e', 'message': 'DNM: use correct libvirt roles\n\nChange-Id: Icb45116708bd31581c50a758180a531144eeac8f\n'}]",0,828367,4cd9ab97b09e34b57bd25855a129239fda22776e,10,1,5,14826,,,0,"DNM: use correct libvirt roles

Change-Id: Icb45116708bd31581c50a758180a531144eeac8f
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/67/828367/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'zuul.d/project.yaml']",2,21f755a0a92a0fc590e92211e13cea1c02d5ab4e,,, templates: - openstack-cover-jobs - openstack-python3-yoga-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-tox-molecule - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-host-configure-ubuntu-focal - kayobe-overcloud-upgrade-ubuntu-focal - kayobe-seed-centos8s - kayobe-seed-ubuntu-focal - kayobe-seed-upgrade-centos8s - kayobe-seed-upgrade-ubuntu-focal - kayobe-seed-vm-centos8s - kayobe-seed-vm-ubuntu-focal - kayobe-infra-vm-centos8s - kayobe-infra-vm-ubuntu-focal,12,19
openstack%2Fswift~master~Ie1a435ae7f5e5f1926e94393ae397f64ba9ea4f4,openstack/swift,master,Ie1a435ae7f5e5f1926e94393ae397f64ba9ea4f4,update REVIEW_GUIDELINES,NEW,2022-02-12 14:35:20.000000000,2022-02-14 09:38:14.000000000,,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-12 14:35:20.000000000', 'files': ['REVIEW_GUIDELINES.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/baf5567cb053108319248428834666edbc33cc53', 'message': 'update REVIEW_GUIDELINES\n\nChange-Id: Ie1a435ae7f5e5f1926e94393ae397f64ba9ea4f4\n'}]",30,828944,baf5567cb053108319248428834666edbc33cc53,7,3,1,1179,,,0,"update REVIEW_GUIDELINES

Change-Id: Ie1a435ae7f5e5f1926e94393ae397f64ba9ea4f4
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/828944/1 && git format-patch -1 --stdout FETCH_HEAD,['REVIEW_GUIDELINES.rst'],1,baf5567cb053108319248428834666edbc33cc53,doc-update,"""Did you even run this?"" is a review comment that suggests the reviewer feels the author hasn't invested a fair amount of time exercising their change in a realistic way. It's hard to produce code that works well at scale, a thourough review of a change requires that it has been *well* exercised - at *least* on your dev machine; but maybe in prod. ;) A comment on a review that says roughly ""I ran this in ``description of environment`` and observed ``description of behavior change is supposed to achieve``"" is VERY useful.Scale is an *amazingly* helpful partner in producing robust systems. When contributing changes to Swift, our code is running - in production - at scale - and our bugs cannot hide. Bad things that happen only 1 out of every 10K times an op isYes, I know Zuul does this already. You can do it *too*. You mightall of them could help use learn how to use them: unit, functional, s3api, cors, probe. If you can't reliablyable to do as effective reviews. Whatever tests/suites you are able toMost changes will include documentation. New functions and codeAlways point out tyops or grammar mistakes you when see them initerate and improve on than nothing. ;)","""Did you even run this?"" is the review comment all contributors dread. Reviewers in particular need to be fearful merging changes that just don't work - or at least fail in frequently common enough scenarios to be considered ""horribly broken"". A comment in our review that says roughly ""I ran this on my machine and observed ``description of behavior change is supposed to achieve``"" is the most powerful defense we have against the terrible scorn from our fellow Swift developers and operators when we accidentally merge bad code. If you're doing a fair amount of reviews - you will participate in merging a change that will break my clusters - it's cool - I'll do it to you at some point too (sorry about that). But when either of us go look at the reviews to understand the process gap that allowed this to happen - it better not be just because we were too lazy to check it out and run it before it got merged. Or be warned, you may receive, the dreaded... ""Did you even *run* this?"" I'm sorry, I know it's rough. ;)Scale is an *amazingly* abusive partner. If you contribute changes to Swift your code is running - in production - at scale - and your bugs cannot hide. I wish on all of us that our bugs may be exceptionally rare - meaning they only happen in extremely unlikely edge cases. For example, bad things that happen only 1 out of every 10K times an op isYes, I know Gerrit does this already. You can do it *too*. You mightall of them best - unit - functional - probe. If you can't reliablyable to do effective reviews. Whatever tests/suites you are able toMost changes should include documentation. New functions and codeAlways point out typos or grammar mistakes when you see them initerate and improve on than nothing.Every change could have better documentation. Like with tests, a patch isn't done until it has docs. Any patch that adds a new feature, changes behavior, updates configs, or in any other way is different than previous behavior requires docs. manpages, sample configs, docstrings, descriptive prose in the source tree, etc. ",22,38
openstack%2Fnova~master~I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,openstack/nova,master,I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,libvirt: Delegate OVS plug to os-vif,MERGED,2018-09-13 20:03:24.000000000,2022-02-14 09:26:54.000000000,2021-05-01 04:06:48.000000000,"[{'_account_id': 4690}, {'_account_id': 5756}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9531}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16011}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25733}, {'_account_id': 26286}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27594}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-09-13 20:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80d506ab9f5dbda34c633bb4273bb8c8ef944891', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\nCloses-Bug: #1734320\nDepends-On: https://review.openstack.org/#/c/602384/1\n'}, {'number': 2, 'created': '2018-09-13 22:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73bb05845b47f7b4fea8dabcbe194831d3c32574', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\nCloses-Bug: #1734320\nDepends-On: https://review.openstack.org/#/c/602384\n'}, {'number': 3, 'created': '2019-01-16 15:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d77c6d963e6291d28ae3311fc2d2613cba1bc028', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\nCloses-Bug: #1734320\nDepends-On: https://review.openstack.org/#/c/602384\n'}, {'number': 4, 'created': '2019-02-11 14:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6b9c1f919a13db24cb978256543ed90bebaf4d4', 'message': '[DNM] libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\nCloses-Bug: #1734320\nDepends-On: https://review.openstack.org/#/c/636139/1\n'}, {'number': 5, 'created': '2019-02-11 14:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f00be973b5d58a34a62ec35fc4d25905a8e11bdf', 'message': '[DNM] libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\nCloses-Bug: #1734320\nDepends-On: https://review.openstack.org/#/c/636139/1\n'}, {'number': 6, 'created': '2019-02-28 16:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f958c080385f9a2419c83360ff0462b3fd41fd27', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 7, 'created': '2019-03-01 04:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9453d5ef99896a3254a457f97e582b173de528f', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nDepends-On: https://review.openstack.org/640258\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 8, 'created': '2019-03-05 19:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3c5e19db75bd88001995ea3fa8e42ccc1392118', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nDepends-On: https://review.openstack.org/640258\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 9, 'created': '2019-06-10 10:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0832ebdd9bc9edbe2a325468195cbf1ee693fdc', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nDepends-On: https://review.openstack.org/640258\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 10, 'created': '2019-06-12 23:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/662e606bbed6cb7933387f240b43406d24ccf60c', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nDepends-On: https://review.openstack.org/640258\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 11, 'created': '2019-07-22 21:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e77ce62316ec880f0f6239221b1f5d1d8e2badbb', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nDepends-On: https://review.openstack.org/640258\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 12, 'created': '2019-07-23 15:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22eb5a6704cdfc2bc615f55d2be10fedc5603ad3', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nDepends-On: https://review.openstack.org/640258\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 13, 'created': '2019-07-29 21:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/600d3f23f944abbac1c4291766e440247af7643a', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nDepends-On: https://review.opendev.org/#/c/640258\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 14, 'created': '2020-08-25 11:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4897f3df34c37daf3029f6946094370e165ca03', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nDepends-On: https://review.opendev.org/#/c/640258\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 15, 'created': '2020-08-26 20:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65066a8cd255580e8d62eeaf1cb4c1826c320ec5', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nDepends-On: https://review.opendev.org/#/c/640258\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 16, 'created': '2020-09-08 10:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cf8a9afbb070f3e0d47853ffe0c7c9f45362c62', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 17, 'created': '2020-09-17 17:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/925e33c58a6a0007f86dce91ee45ef4fe45416ab', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 18, 'created': '2020-09-21 12:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb8827c52928bd0f78978d2278369864b3bd443d', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 19, 'created': '2020-09-22 13:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a505473a43d37debe044e7eaab59a187b2e9070', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time reqiured\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 20, 'created': '2020-09-24 18:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc273933e703798cf987cd8199a4dcc90fc9302f', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 21, 'created': '2020-10-01 14:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/995013860b32c672f6861638b26021adb614978e', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 22, 'created': '2020-10-21 18:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f201a56ae38140a2dac741dd2eebcc2918bd8e6b', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 23, 'created': '2020-11-06 14:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10905bcde2ffe51f8d6602999ff09963c8a712ca', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 24, 'created': '2020-11-09 14:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8b2ed19fe29df19351b788358bd4a30cb1144ff', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 25, 'created': '2020-11-09 17:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4740f56ec9180740c4352aabda8b54399d40c3e', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 26, 'created': '2020-11-18 18:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6eeb046360457724819b28872cb57d699d821129', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\n- This change bumps the min os-vif version to 1.15.2\n  to ensure that create-port is present in the profile.\n  create-port was added in 1.15.0 however 1.15.1 and\n  1.15.2 have important bugfixs for linuxbridge so\n  1.15.2 is chosen instead.\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 27, 'created': '2020-12-14 21:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eecc7429fc96128ed1a46415e6bd53687595e1bd', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\n- This change bumps the min os-vif version to 1.15.2\n  to ensure that create-port is present in the profile.\n  create-port was added in 1.15.0 however 1.15.1 and\n  1.15.2 have important bugfixs for linuxbridge so\n  1.15.2 is chosen instead.\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 28, 'created': '2021-01-25 16:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37f74077fa7a57ec3e46ea0bb8abb0f6c1242c7a', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\n- This change bumps the min os-vif version to 1.15.2\n  to ensure that create-port is present in the profile.\n  create-port was added in 1.15.0 however 1.15.1 and\n  1.15.2 have important bugfixs for linuxbridge so\n  1.15.2 is chosen instead.\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 29, 'created': '2021-01-27 16:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04e7eb66854995962f33f5cd9ae2e55f702790e5', 'message': 'libvirt: delegate ovs plug to os-vif\n\n- This change alters the xml generation\n  for ovs ports when hybrid plug is false\n  to be of type ethernet\n\n- This change will reduce the time required\n  to wire up the port on live migration\n\n- This change corrects the order of arguments\n  passed to assertXML in _test_config_os_vif\n\n- This change bumps the min os-vif version to 1.15.2\n  to ensure that create-port is present in the profile.\n  create-port was added in 1.15.0 however 1.15.1 and\n  1.15.2 have important bugfixs for linuxbridge so\n  1.15.2 is chosen instead.\n\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\n'}, {'number': 30, 'created': '2021-03-16 19:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9a17be7659cf6c1bb1523976908f5f95f983543', 'message': 'libvirt: Delegate OVS plug to os-vif\n\nos-vif 1.15.0 added the ability to create an OVS port during plugging\nby specifying the \'create_port\' attribute in the \'port_profile\' field.\nBy delegating port creation to os-vif, we can rely on it\'s \'isolate_vif\'\nconfig option [1] that will temporarily configure the VLAN to 4095\n(0xfff), which is reserved for implementation use [2] and is used by\nneutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged\nsecurely, preventing guests from accessing other tenants\' networks\nbefore the neutron OVS agent can wire up the port.\n\nThis change requires a little dance as part of the live migration flow.\nSince we can\'t be certain the destination host has a version of os-vif\nthat supports this feature, we need to use a sentinel to indicate when\nit does. Typically we would do so with a field in\n\'LibvirtLiveMigrateData\', such as the \'src_supports_numa_live_migration\'\nand \'dst_supports_numa_live_migration\' fields used to indicate support\nfor NUMA-aware live migration. However, doing this prevents us\nbackporting this important fix since o.vo changes are not backportable.\nInstead, we (somewhat evilly) rely on the free-form nature of the\n\'VIFMigrateData.profile_json\' string field, which stores JSON blobs and\nis included in \'LibvirtLiveMigrateData\' via the \'vifs\' attribute, to\ntransport this sentinel. This is a hack but is necessary to work around\nthe lack of a free-form ""capabilities"" style dict that would allow us do\nbackportable fixes to live migration features.\n\nNote that this change has the knock on effect of modifying the XML\ngenerated for OVS ports: when hybrid plug is false will now be of type\n\'ethernet\' rather than \'bridge\' as before. This explains the larger than\nexpected test damage but should not affect users.\n\n[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93\n[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format\n[3] https://answers.launchpad.net/neutron/+question/231806\n\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\n'}, {'number': 31, 'created': '2021-03-18 11:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/792747d62f6d00f06aedc4401446e10d7e5cd8de', 'message': 'libvirt: Delegate OVS plug to os-vif\n\nos-vif 1.15.0 added the ability to create an OVS port during plugging\nby specifying the \'create_port\' attribute in the \'port_profile\' field.\nBy delegating port creation to os-vif, we can rely on it\'s \'isolate_vif\'\nconfig option [1] that will temporarily configure the VLAN to 4095\n(0xfff), which is reserved for implementation use [2] and is used by\nneutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged\nsecurely, preventing guests from accessing other tenants\' networks\nbefore the neutron OVS agent can wire up the port.\n\nThis change requires a little dance as part of the live migration flow.\nSince we can\'t be certain the destination host has a version of os-vif\nthat supports this feature, we need to use a sentinel to indicate when\nit does. Typically we would do so with a field in\n\'LibvirtLiveMigrateData\', such as the \'src_supports_numa_live_migration\'\nand \'dst_supports_numa_live_migration\' fields used to indicate support\nfor NUMA-aware live migration. However, doing this prevents us\nbackporting this important fix since o.vo changes are not backportable.\nInstead, we (somewhat evilly) rely on the free-form nature of the\n\'VIFMigrateData.profile_json\' string field, which stores JSON blobs and\nis included in \'LibvirtLiveMigrateData\' via the \'vifs\' attribute, to\ntransport this sentinel. This is a hack but is necessary to work around\nthe lack of a free-form ""capabilities"" style dict that would allow us do\nbackportable fixes to live migration features.\n\nNote that this change has the knock on effect of modifying the XML\ngenerated for OVS ports: when hybrid plug is false will now be of type\n\'ethernet\' rather than \'bridge\' as before. This explains the larger than\nexpected test damage but should not affect users.\n\n[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93\n[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format\n[3] https://answers.launchpad.net/neutron/+question/231806\n\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\n'}, {'number': 32, 'created': '2021-03-26 03:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c53b9bf4ecbc0df93a836c75a3aad624f764676a', 'message': 'libvirt: Delegate OVS plug to os-vif\n\nos-vif 1.15.0 added the ability to create an OVS port during plugging\nby specifying the \'create_port\' attribute in the \'port_profile\' field.\nBy delegating port creation to os-vif, we can rely on it\'s \'isolate_vif\'\nconfig option [1] that will temporarily configure the VLAN to 4095\n(0xfff), which is reserved for implementation use [2] and is used by\nneutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged\nsecurely, preventing guests from accessing other tenants\' networks\nbefore the neutron OVS agent can wire up the port.\n\nThis change requires a little dance as part of the live migration flow.\nSince we can\'t be certain the destination host has a version of os-vif\nthat supports this feature, we need to use a sentinel to indicate when\nit does. Typically we would do so with a field in\n\'LibvirtLiveMigrateData\', such as the \'src_supports_numa_live_migration\'\nand \'dst_supports_numa_live_migration\' fields used to indicate support\nfor NUMA-aware live migration. However, doing this prevents us\nbackporting this important fix since o.vo changes are not backportable.\nInstead, we (somewhat evilly) rely on the free-form nature of the\n\'VIFMigrateData.profile_json\' string field, which stores JSON blobs and\nis included in \'LibvirtLiveMigrateData\' via the \'vifs\' attribute, to\ntransport this sentinel. This is a hack but is necessary to work around\nthe lack of a free-form ""capabilities"" style dict that would allow us do\nbackportable fixes to live migration features.\n\nNote that this change has the knock on effect of modifying the XML\ngenerated for OVS ports: when hybrid plug is false will now be of type\n\'ethernet\' rather than \'bridge\' as before. This explains the larger than\nexpected test damage but should not affect users.\n\n[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93\n[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format\n[3] https://answers.launchpad.net/neutron/+question/231806\n\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\n'}, {'number': 33, 'created': '2021-04-30 11:53:59.000000000', 'files': ['nova/tests/unit/fake_network.py', 'nova/tests/unit/network/test_os_vif_util.py', 'nova/virt/libvirt/vif.py', 'lower-constraints.txt', 'nova/network/os_vif_util.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/migrate_data.py', 'nova/virt/libvirt/driver.py', 'requirements.txt', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/model.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'releasenotes/notes/libvirt-delegate-ovs-plugging-to-os-vif-6adc0398a0e0df58.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a62dd42c0dbb6b2ab128e558e127d76962738446', 'message': 'libvirt: Delegate OVS plug to os-vif\n\nos-vif 1.15.0 added the ability to create an OVS port during plugging\nby specifying the \'create_port\' attribute in the \'port_profile\' field.\nBy delegating port creation to os-vif, we can rely on it\'s \'isolate_vif\'\nconfig option [1] that will temporarily configure the VLAN to 4095\n(0xfff), which is reserved for implementation use [2] and is used by\nneutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged\nsecurely, preventing guests from accessing other tenants\' networks\nbefore the neutron OVS agent can wire up the port.\n\nThis change requires a little dance as part of the live migration flow.\nSince we can\'t be certain the destination host has a version of os-vif\nthat supports this feature, we need to use a sentinel to indicate when\nit does. Typically we would do so with a field in\n\'LibvirtLiveMigrateData\', such as the \'src_supports_numa_live_migration\'\nand \'dst_supports_numa_live_migration\' fields used to indicate support\nfor NUMA-aware live migration. However, doing this prevents us\nbackporting this important fix since o.vo changes are not backportable.\nInstead, we (somewhat evilly) rely on the free-form nature of the\n\'VIFMigrateData.profile_json\' string field, which stores JSON blobs and\nis included in \'LibvirtLiveMigrateData\' via the \'vifs\' attribute, to\ntransport this sentinel. This is a hack but is necessary to work around\nthe lack of a free-form ""capabilities"" style dict that would allow us do\nbackportable fixes to live migration features.\n\nNote that this change has the knock on effect of modifying the XML\ngenerated for OVS ports: when hybrid plug is false will now be of type\n\'ethernet\' rather than \'bridge\' as before. This explains the larger than\nexpected test damage but should not affect users.\n\n[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93\n[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format\n[3] https://answers.launchpad.net/neutron/+question/231806\n\nChange-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e\nDepends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50\nCloses-Bug: #1734320\nCloses-Bug: #1815989\n'}]",115,602432,a62dd42c0dbb6b2ab128e558e127d76962738446,403,29,33,11604,,,0,"libvirt: Delegate OVS plug to os-vif

os-vif 1.15.0 added the ability to create an OVS port during plugging
by specifying the 'create_port' attribute in the 'port_profile' field.
By delegating port creation to os-vif, we can rely on it's 'isolate_vif'
config option [1] that will temporarily configure the VLAN to 4095
(0xfff), which is reserved for implementation use [2] and is used by
neutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged
securely, preventing guests from accessing other tenants' networks
before the neutron OVS agent can wire up the port.

This change requires a little dance as part of the live migration flow.
Since we can't be certain the destination host has a version of os-vif
that supports this feature, we need to use a sentinel to indicate when
it does. Typically we would do so with a field in
'LibvirtLiveMigrateData', such as the 'src_supports_numa_live_migration'
and 'dst_supports_numa_live_migration' fields used to indicate support
for NUMA-aware live migration. However, doing this prevents us
backporting this important fix since o.vo changes are not backportable.
Instead, we (somewhat evilly) rely on the free-form nature of the
'VIFMigrateData.profile_json' string field, which stores JSON blobs and
is included in 'LibvirtLiveMigrateData' via the 'vifs' attribute, to
transport this sentinel. This is a hack but is necessary to work around
the lack of a free-form ""capabilities"" style dict that would allow us do
backportable fixes to live migration features.

Note that this change has the knock on effect of modifying the XML
generated for OVS ports: when hybrid plug is false will now be of type
'ethernet' rather than 'bridge' as before. This explains the larger than
expected test damage but should not affect users.

[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93
[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format
[3] https://answers.launchpad.net/neutron/+question/231806

Change-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e
Depends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50
Closes-Bug: #1734320
Closes-Bug: #1815989
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/602432/26 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py']",3,80d506ab9f5dbda34c633bb4273bb8c8ef944891,bug/1895220," self._assertTypeAndMacEquals(node, ""ethernet"", ""target"", ""dev"", <interface type=""ethernet""> <mac address=""22:52:25:62:e2:aa""/> <model type=""virtio""/> <script path=""""/> <mtu size=""9000""/> <target dev=""nicdc065497-3c""/> </interface>"""""", cfg.to_xml()) <interface type=""ethernet""> <script path=""""/> <interface type=""ethernet""> <script path=""""/> <interface type=""ethernet""> <mac address=""22:52:25:62:e2:aa""/> <model type=""virtio""/> <script path=""""/> <target dev=""nicdc065497-3c""/> </interface>"""""", cfg.to_xml())"," def _check_ovs_virtualport_driver(self, d, vif, want_iface_id): self.flags(firewall_driver=""nova.virt.firewall.NoopFirewallDriver"") xml = self._get_instance_xml(d, vif) node = self._get_node(xml) self._assertTypeAndMacEquals(node, ""bridge"", ""source"", ""bridge"", vif, ""br0"") vp = node.find(""virtualport"") self.assertEqual(vp.get(""type""), ""openvswitch"") iface_id_found = False for p_elem in vp.findall(""parameters""): iface_id = p_elem.get(""interfaceid"", None) if iface_id: self.assertEqual(iface_id, want_iface_id) iface_id_found = True self.assertTrue(iface_id_found) def test_generic_ovs_virtualport_driver(self): d = vif.LibvirtGenericVIFDriver() want_iface_id = self.vif_ovs['ovs_interfaceid'] self._check_ovs_virtualport_driver(d, self.vif_ovs, want_iface_id) self._assertTypeAndMacEquals(node, ""bridge"", ""target"", ""dev"", <interface type=""bridge""> <mac address=""22:52:25:62:e2:aa""/> <model type=""virtio""/> <source bridge=""br0""/> <mtu size=""9000""/> <target dev=""nicdc065497-3c""/> <virtualport type=""openvswitch""> <parameters interfaceid=""07bd6cea-fb37-4594-b769-90fc51854ee9""/> </virtualport> </interface>"""""", cfg.to_xml()) <interface type=""bridge""> <source bridge=""br0""/> <virtualport type=""openvswitch""> <parameters interfaceid=""07bd6cea-fb37-4594-b769-90fc51854ee9""/> </virtualport> <interface type=""bridge""> <source bridge=""br0""/> <virtualport type=""openvswitch""> <parameters interfaceid=""07bd6cea-fb37-4594-b769-90fc51854ee9""/> </virtualport> <interface type=""bridge""> <mac address=""22:52:25:62:e2:aa""/> <model type=""virtio""/> <source bridge=""br0""/> <target dev=""nicdc065497-3c""/> <virtualport type=""openvswitch""> <parameters interfaceid=""07bd6cea-fb37-4594-b769-90fc51854ee9""/> </virtualport> </interface>"""""", cfg.to_xml())",32,69
openstack%2Ftenks~master~I293e1c14ec478a3b2e59f1e03f2c00e35f955b8b,openstack/tenks,master,I293e1c14ec478a3b2e59f1e03f2c00e35f955b8b,DNM: IPMI listen on localhost,ABANDONED,2022-02-11 15:56:39.000000000,2022-02-14 09:17:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-11 15:56:39.000000000', 'files': ['ansible/group_vars/hypervisors'], 'web_link': 'https://opendev.org/openstack/tenks/commit/bc7b54467cb56939a04d9571a4aecfd62236400a', 'message': 'DNM: IPMI listen on localhost\n\nChange-Id: I293e1c14ec478a3b2e59f1e03f2c00e35f955b8b\n'}]",0,828901,bc7b54467cb56939a04d9571a4aecfd62236400a,3,1,1,14826,,,0,"DNM: IPMI listen on localhost

Change-Id: I293e1c14ec478a3b2e59f1e03f2c00e35f955b8b
",git fetch https://review.opendev.org/openstack/tenks refs/changes/01/828901/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/hypervisors'],1,bc7b54467cb56939a04d9571a4aecfd62236400a,,ipmi_address: 127.0.0.1,ipmi_address: 0.0.0.0,1,1
openstack%2Freleases~master~I314ba9c6cd42fa1cf0c6bfdfa3404f4de651c80e,openstack/releases,master,I314ba9c6cd42fa1cf0c6bfdfa3404f4de651c80e,New neutron-lib release,ABANDONED,2022-02-09 05:13:10.000000000,2022-02-14 09:14:53.000000000,,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 05:13:10.000000000', 'files': ['deliverables/yoga/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ba07941ab5e1f3d763843ec1c571a93c8ffd6982', 'message': ""New neutron-lib release\n\nDuring the review of the Nova side of the off-path SmartNIC DPU\nsupport [0] it became apparent that the initial guidance to re-use\nthe VNIC_SMARTNIC vnic type would not hold as it would affect\nIronic's usage of it.\n\nAs such a new vnic type, VNIC_REMOTE_MANAGED, has been introduced\n[1].\n\nReview of the Neutron side of this work is blocked until a new\nrelease is made available.\n\n0: https://review.opendev.org/c/openstack/neutron-specs/+/828173\n1: https://review.opendev.org/c/openstack/neutron-lib/+/828174\n\nRelated-Bug: #1932154\nChange-Id: I314ba9c6cd42fa1cf0c6bfdfa3404f4de651c80e\n""}]",5,828452,ba07941ab5e1f3d763843ec1c571a93c8ffd6982,10,4,1,13686,,,0,"New neutron-lib release

During the review of the Nova side of the off-path SmartNIC DPU
support [0] it became apparent that the initial guidance to re-use
the VNIC_SMARTNIC vnic type would not hold as it would affect
Ironic's usage of it.

As such a new vnic type, VNIC_REMOTE_MANAGED, has been introduced
[1].

Review of the Neutron side of this work is blocked until a new
release is made available.

0: https://review.opendev.org/c/openstack/neutron-specs/+/828173
1: https://review.opendev.org/c/openstack/neutron-lib/+/828174

Related-Bug: #1932154
Change-Id: I314ba9c6cd42fa1cf0c6bfdfa3404f4de651c80e
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/828452/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/neutron-lib.yaml'],1,ba07941ab5e1f3d763843ec1c571a93c8ffd6982,bug/1932154, - version: 2.19.1 projects: - repo: openstack/neutron-lib hash: 18a69117202080a56a39e32b130e3813c344b9f2,,4,0
openstack%2Fcharm-rabbitmq-server~master~I72155c4bd2ace7497d59eeec3552985aec39d44b,openstack/charm-rabbitmq-server,master,I72155c4bd2ace7497d59eeec3552985aec39d44b,Add charmhelpers to charmcraft.yaml,MERGED,2022-02-14 03:41:26.000000000,2022-02-14 08:18:17.000000000,2022-02-14 08:18:17.000000000,"[{'_account_id': 10366}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 03:41:26.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/c01df1bc3564d337fa5bf2d59b76e49efe8aeefd', 'message': 'Add charmhelpers to charmcraft.yaml\n\nCharmhelpers directory was missed in the conversion to the charmcraft\nway of building charms. The rabbit charm has a slightly different\nlocation for charmhelpers than other charms. Add charmhelpers to\ncharmcraft.yaml to ensure it is packed in the charm file.\n\nChange-Id: I72155c4bd2ace7497d59eeec3552985aec39d44b\nCloses-Bug: #1960769\n'}]",2,828990,c01df1bc3564d337fa5bf2d59b76e49efe8aeefd,8,4,1,8992,,,0,"Add charmhelpers to charmcraft.yaml

Charmhelpers directory was missed in the conversion to the charmcraft
way of building charms. The rabbit charm has a slightly different
location for charmhelpers than other charms. Add charmhelpers to
charmcraft.yaml to ensure it is packed in the charm file.

Change-Id: I72155c4bd2ace7497d59eeec3552985aec39d44b
Closes-Bug: #1960769
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/90/828990/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,c01df1bc3564d337fa5bf2d59b76e49efe8aeefd,bug/1960769, - charmhelpers/*,,1,0
openstack%2Ftripleo-ci~master~I36468ab9a93b0260bf597d381057286efc5608e1,openstack/tripleo-ci,master,I36468ab9a93b0260bf597d381057286efc5608e1,DNM: Add quickstart verbosity to upgrades victoria job,ABANDONED,2021-12-09 08:54:26.000000000,2022-02-14 06:57:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-09 08:54:26.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4093d63019f1acc52719e9435a833e8931b6fb69', 'message': 'DNM: Add quickstart verbosity to upgrades victoria job\n\nChange-Id: I36468ab9a93b0260bf597d381057286efc5608e1\n'}]",0,821165,4093d63019f1acc52719e9435a833e8931b6fb69,4,2,1,26343,,,0,"DNM: Add quickstart verbosity to upgrades victoria job

Change-Id: I36468ab9a93b0260bf597d381057286efc5608e1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/65/821165/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,4093d63019f1acc52719e9435a833e8931b6fb69,, quickstart_verbosity: '-vvv',,1,0
openstack%2Fglance~master~I172d640b7155913ad20599fd99825e501ed82631,openstack/glance,master,I172d640b7155913ad20599fd99825e501ed82631,Remove six.assertRaisesRegex usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-14 06:48:58.000000000,2022-02-14 06:46:15.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/109608fc3bcbeaad974fa3b6f2490d0c1449b33e', 'message': 'Remove six.assertRaisesRegex usage\n\nChange-Id: I172d640b7155913ad20599fd99825e501ed82631\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-12-23 10:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9d21844e211c26f653b300814ac4a2d2323b27dc', 'message': 'Remove six.assertRaisesRegex usage\n\nChange-Id: I172d640b7155913ad20599fd99825e501ed82631\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-01-27 16:39:44.000000000', 'files': ['glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f68e04f26837cbebd8593c6ca87ec9fe9bca0ea4', 'message': 'Remove six.assertRaisesRegex usage\n\nChange-Id: I172d640b7155913ad20599fd99825e501ed82631\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,822739,f68e04f26837cbebd8593c6ca87ec9fe9bca0ea4,14,4,3,15334,,,0,"Remove six.assertRaisesRegex usage

Change-Id: I172d640b7155913ad20599fd99825e501ed82631
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/39/822739/3 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/v2/test_images_resource.py'],1,109608fc3bcbeaad974fa3b6f2490d0c1449b33e,remove-six," self.assertRaisesRegex( webob.exc.HTTPConflict, ""may only be provided when image status is 'queued'"", self.controller.update, request, image_id, changes) self.assertRaisesRegex( webob.exc.HTTPConflict, ""already set with a different value"", self.controller.update, request, image_id, changes) self.assertRaisesRegex( webob.exc.HTTPConflict, 'checksum .* is not a valid hexadecimal value', self.controller.update, request, image_id, changes) self.assertRaisesRegex( webob.exc.HTTPConflict, 'checksum .* is not the correct size', self.controller.update, request, image_id, changes) self.assertRaisesRegex( webob.exc.HTTPConflict, 'os_hash_algo must be sha512', self.controller.update, request, image_id, changes) self.assertRaisesRegex( webob.exc.HTTPConflict, 'os_hash_value .* is not a valid hexadecimal value', self.controller.update, request, image_id, changes) self.assertRaisesRegex( webob.exc.HTTPConflict, 'os_hash_value .* is not the correct size for sha512', self.controller.update, request, image_id, changes) self.assertRaisesRegex( webob.exc.HTTPConflict, ""already set with a different value"", self.controller.update, request, image_id, changes) self.assertRaisesRegex( webob.exc.HTTPBadRequest, 'Additional properties are not allowed', self.deserializer.update, request) self.assertRaisesRegex( webob.exc.HTTPBadRequest, 'os_hash.* is a required property', self.deserializer.update, request)","import six six.assertRaisesRegex(self, webob.exc.HTTPConflict, ""may only be provided when image status "" ""is 'queued'"", self.controller.update, request, image_id, changes) six.assertRaisesRegex(self, webob.exc.HTTPConflict, ""already set with a different value"", self.controller.update, request, image_id, changes) six.assertRaisesRegex(self, webob.exc.HTTPConflict, 'checksum .* is not a valid hexadecimal value', self.controller.update, request, image_id, changes) six.assertRaisesRegex(self, webob.exc.HTTPConflict, 'checksum .* is not the correct size', self.controller.update, request, image_id, changes) six.assertRaisesRegex(self, webob.exc.HTTPConflict, 'os_hash_algo must be sha512', self.controller.update, request, image_id, changes) six.assertRaisesRegex(self, webob.exc.HTTPConflict, 'os_hash_value .* is not a valid hexadecimal ' 'value', self.controller.update, request, image_id, changes) six.assertRaisesRegex(self, webob.exc.HTTPConflict, 'os_hash_value .* is not the correct size ' 'for sha512', self.controller.update, request, image_id, changes) six.assertRaisesRegex(self, webob.exc.HTTPConflict, ""already set with a different value"", self.controller.update, request, image_id, changes) six.assertRaisesRegex(self, webob.exc.HTTPBadRequest, 'Additional properties are not allowed', self.deserializer.update, request) six.assertRaisesRegex(self, webob.exc.HTTPBadRequest, 'os_hash.* is a required property', self.deserializer.update, request)",48,52
openstack%2Fglance~master~Ibca3884e1ea3d0fb170bcc9e70a176d144ee24cc,openstack/glance,master,Ibca3884e1ea3d0fb170bcc9e70a176d144ee24cc,Remove remaining six.moves usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-14 06:47:47.000000000,2022-02-14 06:46:12.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dd55cbe2d93435315a0e455de581296a7ae292ee', 'message': 'Remove remaining six.moves usage\n\nChange-Id: Ibca3884e1ea3d0fb170bcc9e70a176d144ee24cc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-12-23 10:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cb53bf501b48639d6f52ac18ed661752a1928f29', 'message': 'Remove remaining six.moves usage\n\nChange-Id: Ibca3884e1ea3d0fb170bcc9e70a176d144ee24cc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-01-27 16:39:44.000000000', 'files': ['glance/tests/functional/db/base.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/common/swift_store_utils.py', 'glance/common/property_utils.py', 'glance/hacking/checks.py', 'glance/tests/test_hacking.py', 'tox.ini', 'glance/tests/__init__.py', 'HACKING.rst', 'glance/cmd/cache_manage.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/931809c0379ff3bc08f9caabd40416c00c556392', 'message': 'Remove remaining six.moves usage\n\nChange-Id: Ibca3884e1ea3d0fb170bcc9e70a176d144ee24cc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",6,822738,931809c0379ff3bc08f9caabd40416c00c556392,22,4,3,15334,,,0,"Remove remaining six.moves usage

Change-Id: Ibca3884e1ea3d0fb170bcc9e70a176d144ee24cc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/38/822738/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/db/base.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/common/swift_store_utils.py', 'glance/common/property_utils.py', 'glance/hacking/checks.py', 'glance/tests/test_hacking.py', 'tox.ini', 'glance/cmd/cache_manage.py', 'glance/tests/__init__.py']",9,dd55cbe2d93435315a0e455de581296a7ae292ee,remove-six,"import builtinssetattr(builtins, '_', lambda x: x)","import six.moves.builtins as __builtin__ setattr(__builtin__, '_', lambda x: x)",31,39
openstack%2Fpuppet-cinder~master~I6471cc1d49e578cc4391cf1db218a55835c5c140,openstack/puppet-cinder,master,I6471cc1d49e578cc4391cf1db218a55835c5c140,TripleO jobs: Replace CentOS 8 jobs by CentOS 9 jobs,ABANDONED,2022-02-09 14:48:41.000000000,2022-02-14 06:33:37.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 14:48:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/93a98fde9bb747f07a8594eec9d2616096a8f49c', 'message': 'TripleO jobs: Replace CentOS 8 jobs by CentOS 9 jobs\n\nNow TripleO team is replacing CentOS 8 jobs in master by CentOS 9 jobs.\nThis follows that and replaces tripleo jobs in puppet repos to switch\nto CentOS 9.\n\nDepends-on: https://review.opendev.org/828525\nChange-Id: I6471cc1d49e578cc4391cf1db218a55835c5c140\n'}]",1,828544,93a98fde9bb747f07a8594eec9d2616096a8f49c,4,2,1,31075,,,0,"TripleO jobs: Replace CentOS 8 jobs by CentOS 9 jobs

Now TripleO team is replacing CentOS 8 jobs in master by CentOS 9 jobs.
This follows that and replaces tripleo jobs in puppet repos to switch
to CentOS 9.

Depends-on: https://review.opendev.org/828525
Change-Id: I6471cc1d49e578cc4391cf1db218a55835c5c140
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/44/828544/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,93a98fde9bb747f07a8594eec9d2616096a8f49c,c8_teardown_master, parent: tripleo-puppet-ci-centos-9-standalone, parent: tripleo-puppet-ci-centos-8-standalone,1,1
openstack%2Ftempest~master~I58f6fefef0f0a9db2f7fdf2a1a0125f616319949,openstack/tempest,master,I58f6fefef0f0a9db2f7fdf2a1a0125f616319949,Add logging to metadata parsing,MERGED,2022-02-03 13:04:35.000000000,2022-02-14 04:30:18.000000000,2022-02-14 04:28:29.000000000,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 13:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8346246ef5b4cdcac612c32298f9dc414eaa60f9', 'message': 'DNM: add debug log to test_tagged_attachment\n\nCurrently nova-next job fails pretty frequently with metadata issues. So\nthis patch adds extra logs to tempest to show what the query returns.\n\nRelated-Bug: #1959899\nChange-Id: I58f6fefef0f0a9db2f7fdf2a1a0125f616319949\n'}, {'number': 2, 'created': '2022-02-03 13:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cacf331ecf32d8d74b49a902d413811992133cf9', 'message': 'DNM: add debug log to test_tagged_attachment\n\nCurrently nova-next job fails pretty frequently with metadata issues. So\nthis patch adds extra logs to tempest to show what the query returns.\n\nRelated-Bug: #1959899\nChange-Id: I58f6fefef0f0a9db2f7fdf2a1a0125f616319949\n'}, {'number': 3, 'created': '2022-02-04 14:27:06.000000000', 'files': ['tempest/api/compute/servers/test_device_tagging.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8f68f69ccfb9ad2bd4cdf822d248278dd08faef2', 'message': 'Add logging to metadata parsing\n\nThe TaggedAttachmentsTest class queries server metadata to see if the\ntagging is visible from the guest. However when the check fails it does\nnot log what was the faulty metadata. To make troubleshooting easier\nthis patch adds logging for the error cases.\n\nChange-Id: I58f6fefef0f0a9db2f7fdf2a1a0125f616319949\n'}]",4,827659,8f68f69ccfb9ad2bd4cdf822d248278dd08faef2,15,3,3,9708,,,0,"Add logging to metadata parsing

The TaggedAttachmentsTest class queries server metadata to see if the
tagging is visible from the guest. However when the check fails it does
not log what was the faulty metadata. To make troubleshooting easier
this patch adds logging for the error cases.

Change-Id: I58f6fefef0f0a9db2f7fdf2a1a0125f616319949
",git fetch https://review.opendev.org/openstack/tempest refs/changes/59/827659/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_device_tagging.py'],1,8346246ef5b4cdcac612c32298f9dc414eaa60f9,bug/1959899," LOG.info('The result of querying metadata: %s', md_json) except (json_decoder.JSONDecodeError, TypeError) as e: LOG.info('Failed to decode json metadata: %s', str(e)) except Exception as e: LOG.info('Failed to parse metadata: %s', str(e))"," except (json_decoder.JSONDecodeError, TypeError): except Exception:",5,2
openstack%2Fskyline-apiserver~master~I1c07a63700d2f0b9c3474f95dae8d430d0ef03bb,openstack/skyline-apiserver,master,I1c07a63700d2f0b9c3474f95dae8d430d0ef03bb,fix: Update README.md,MERGED,2022-02-14 01:51:04.000000000,2022-02-14 03:07:00.000000000,2022-02-14 03:07:00.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 01:51:04.000000000', 'files': ['README-zh_CN.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/47291a236598487576760860e559cad27cb33008', 'message': 'fix: Update README.md\n\nUpdate README.md\n\nChange-Id: I1c07a63700d2f0b9c3474f95dae8d430d0ef03bb\n'}]",0,828985,47291a236598487576760860e559cad27cb33008,6,2,1,33196,,,0,"fix: Update README.md

Update README.md

Change-Id: I1c07a63700d2f0b9c3474f95dae8d430d0ef03bb
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/85/828985/1 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'README.md']",2,47291a236598487576760860e559cad27cb33008,,"> Use the new feature Context Variables of python37. Considering that most systems do not support python37, we choose to support python38 at least. ",,4,0
openstack%2Fskyline-console~master~I8014f8cc0387391df141b4d8d34c9647bfee1e7f,openstack/skyline-console,master,I8014f8cc0387391df141b4d8d34c9647bfee1e7f,fix: update .gitreview,MERGED,2022-02-14 02:14:11.000000000,2022-02-14 03:06:59.000000000,2022-02-14 03:06:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-02-14 02:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2e40bf61de3d47f46db5f1ff9fc53ffad9879a0b', 'message': 'fix: update .gitreview\n\nUpdate .gitreview\n\nChange-Id: I8014f8cc0387391df141b4d8d34c9647bfee1e7f\n'}, {'number': 2, 'created': '2022-02-14 02:27:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4f7dec52bd38e99cbed5442996f53f4c1e4a6510', 'message': 'fix: update .gitreview\n\nUpdate .gitreview\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/822222\n\nChange-Id: I8014f8cc0387391df141b4d8d34c9647bfee1e7f\n'}]",2,828987,4f7dec52bd38e99cbed5442996f53f4c1e4a6510,9,2,2,33196,,,0,"fix: update .gitreview

Update .gitreview
Depends-On: https://review.opendev.org/c/openstack/project-config/+/822222

Change-Id: I8014f8cc0387391df141b4d8d34c9647bfee1e7f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/87/828987/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2e40bf61de3d47f46db5f1ff9fc53ffad9879a0b,,project=openstack/skyline-console.git,project=skyline/skyline-console.git,1,1
openstack%2Frequirements~master~I31c56063ab6e00391e9a89adfd7fbc9c9f6e5f7e,openstack/requirements,master,I31c56063ab6e00391e9a89adfd7fbc9c9f6e5f7e,update constraint for taskflow to new release 4.6.4,MERGED,2022-02-09 09:20:07.000000000,2022-02-14 02:39:11.000000000,2022-02-14 02:36:55.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-09 09:20:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ad3ad158a689c6220dd7233c95085f9e7f9322c3', 'message': 'update constraint for taskflow to new release 4.6.4\n\nmeta: version: 4.6.4\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I31c56063ab6e00391e9a89adfd7fbc9c9f6e5f7e\n'}]",0,828503,ad3ad158a689c6220dd7233c95085f9e7f9322c3,20,3,1,11131,,,0,"update constraint for taskflow to new release 4.6.4

meta: version: 4.6.4
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I31c56063ab6e00391e9a89adfd7fbc9c9f6e5f7e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/828503/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ad3ad158a689c6220dd7233c95085f9e7f9322c3,new-release,taskflow===4.6.4,taskflow===4.6.3,1,1
openstack%2Ftempest~master~I7ea26df580db89f1c451499df72d6556269d8a6c,openstack/tempest,master,I7ea26df580db89f1c451499df72d6556269d8a6c,Fix order of arguments in assertEqual,ABANDONED,2016-12-19 02:33:27.000000000,2022-02-14 02:34:11.000000000,,"[{'_account_id': 5196}, {'_account_id': 10385}, {'_account_id': 17130}]","[{'number': 1, 'created': '2016-12-19 02:33:27.000000000', 'files': ['tempest/tests/cmd/test_list_plugins.py', 'tempest/tests/test_decorators.py', 'tempest/tests/lib/test_decorators.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e6dbb484db3075545543e86996a0b5fe26a1063', 'message': 'Fix order of arguments in assertEqual\n\n1. What is the problem?\nSome tests used incorrect order assertEqual(observed, expected),\nthe correct order expected by testtools is\nassertEqual(expected, observed).\n\n2. What is the solution to the problem?\nChange assertEqual(observed, expected) to the correct order of\nassertEqual(expected, observed).\n\n3. What the features need to be implemented to the Tricircle to\nrealize the solution?\nNo new features\n\nChange-Id: I7ea26df580db89f1c451499df72d6556269d8a6c\n'}]",3,412250,9e6dbb484db3075545543e86996a0b5fe26a1063,9,3,1,24061,,,0,"Fix order of arguments in assertEqual

1. What is the problem?
Some tests used incorrect order assertEqual(observed, expected),
the correct order expected by testtools is
assertEqual(expected, observed).

2. What is the solution to the problem?
Change assertEqual(observed, expected) to the correct order of
assertEqual(expected, observed).

3. What the features need to be implemented to the Tricircle to
realize the solution?
No new features

Change-Id: I7ea26df580db89f1c451499df72d6556269d8a6c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/50/412250/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/cmd/test_list_plugins.py', 'tempest/tests/test_decorators.py', 'tempest/tests/lib/test_decorators.py']",3,9e6dbb484db3075545543e86996a0b5fe26a1063,assertEqual," self.assertEqual(TestFoo(0,'test_bar').test_bar())"," self.assertEqual(TestFoo('test_bar').test_bar(), 0)",6,6
openstack%2Ftempest~master~I7c5d06e1f8d45a5b95a27a616d90c86206a6bf8c,openstack/tempest,master,I7c5d06e1f8d45a5b95a27a616d90c86206a6bf8c,Remove Glance v1,ABANDONED,2018-07-25 17:00:34.000000000,2022-02-14 02:33:09.000000000,,"[{'_account_id': 8122}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 10385}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2018-07-25 17:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e94f6ebdec14f31da7be4c0b072b090fdbb3f81e', 'message': '[WIP] Remove Glance v1\n\nGlance will be deprecating v1 in Rocky. Part of this work means removing\nv1-specific code from Tempest.\n\nChange-Id: I7c5d06e1f8d45a5b95a27a616d90c86206a6bf8c\n'}, {'number': 2, 'created': '2018-07-25 20:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce64e52baaccf0bab416a42e4c6500937684a85e', 'message': '[WIP] Remove Glance v1\n\nGlance will be deprecating v1 in Rocky. Part of this work means removing\nv1-specific code from Tempest.\n\nChange-Id: I7c5d06e1f8d45a5b95a27a616d90c86206a6bf8c\n'}, {'number': 3, 'created': '2020-10-02 04:20:27.000000000', 'files': ['tempest/api/compute/servers/test_servers_negative.py', 'tempest/tests/lib/services/registry_fixture.py', 'tempest/lib/services/image/v1/images_client.py', 'tempest/lib/services/image/__init__.py', 'tempest/scenario/manager.py', 'tempest/cmd/verify_tempest_config.py', 'tempest/api/image/v1/test_images_negative.py', 'tempest/api/compute/images/test_list_image_filters.py', 'tempest/tests/lib/services/image/v2/test_versions_client.py', 'tempest/tests/lib/services/image/v1/test_image_members_client.py', 'tempest/api/compute/base.py', 'tempest/api/image/v1/test_image_members_negative.py', 'tempest/api/compute/flavors/test_flavors_negative.py', 'tempest/api/image/base.py', 'tempest/common/waiters.py', 'tempest/api/image/v1/test_images.py', 'tempest/api/compute/images/test_image_metadata.py', 'tempest/tests/lib/services/image/v1/__init__.py', 'tempest/api/compute/servers/test_server_actions.py', 'tempest/lib/services/image/v1/__init__.py', 'tempest/lib/services/image/v1/image_members_client.py', 'tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/clients.py', 'tempest/config.py', 'tempest/lib/services/clients.py', 'tempest/api/image/v1/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/13d74ac7f3975c3e24f744056a1757e2dacd8ae1', 'message': 'Remove Glance v1\n\nGlance v1 has been deprecated since Rocky. We should now be able to\nremove v1-specific code from Tempest.\n\nChange-Id: I7c5d06e1f8d45a5b95a27a616d90c86206a6bf8c\n'}]",2,585828,13d74ac7f3975c3e24f744056a1757e2dacd8ae1,16,7,3,8122,,,0,"Remove Glance v1

Glance v1 has been deprecated since Rocky. We should now be able to
remove v1-specific code from Tempest.

Change-Id: I7c5d06e1f8d45a5b95a27a616d90c86206a6bf8c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/585828/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/services/registry_fixture.py', 'tempest/lib/services/image/v1/images_client.py', 'tempest/lib/services/image/__init__.py', 'tempest/scenario/manager.py', 'tempest/cmd/verify_tempest_config.py', 'tempest/api/image/v1/test_images_negative.py', 'tempest/api/compute/images/test_list_image_filters.py', 'tempest/tests/lib/services/image/v2/test_versions_client.py', 'tempest/tests/lib/services/image/v1/test_image_members_client.py', 'tempest/api/compute/base.py', 'tempest/api/image/v1/test_image_members_negative.py', 'tempest/api/compute/flavors/test_flavors_negative.py', 'tempest/api/image/base.py', 'tempest/common/waiters.py', 'tempest/api/image/v1/test_images.py', 'tempest/api/compute/images/test_image_metadata.py', 'tempest/api/image/v1/test_image_members.py', 'tempest/tests/lib/services/image/v1/__init__.py', 'tempest/api/compute/servers/test_server_actions.py', 'tempest/lib/services/image/v1/__init__.py', 'tempest/lib/services/image/v1/image_members_client.py', 'tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/clients.py', 'tempest/config.py', 'tempest/lib/services/clients.py', 'tempest/api/image/v1/__init__.py']",26,e94f6ebdec14f31da7be4c0b072b090fdbb3f81e,remove-glance-v1,,,35,1166
openstack%2Ftacker~master~I4de84c85ab77429fb5b2c07f500c453632960a84,openstack/tacker,master,I4de84c85ab77429fb5b2c07f500c453632960a84,Add specifying tenant in notification,MERGED,2021-07-01 09:12:59.000000000,2022-02-14 02:04:32.000000000,2022-02-14 02:00:11.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 33284}]","[{'number': 1, 'created': '2021-07-01 09:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/035950d860eec06d0015e4a690d1a3f63edcd366', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 2, 'created': '2021-10-06 06:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/805860bddeacbb975dc0f72a9ec99c94a043ba8e', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 3, 'created': '2021-10-06 07:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fa97945299ab73ade2e12d2131a0bd2d8b6e708b', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 4, 'created': '2021-10-07 10:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5ce0e7678811bd756da423fe0208b9fb6019f652', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 5, 'created': '2021-10-13 09:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/81fdeaa98911f341c26b1c91880f1f9080285abb', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 6, 'created': '2021-11-15 05:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7629830a0842717ccf0da0ccc23c31bc26650c6f', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/817183\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 7, 'created': '2021-11-15 08:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ea9d206a2256a190d95236e25048744eb2c5f2d5', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/817183\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 8, 'created': '2021-11-19 16:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b382ea81a8dec73694e77b01b0f9ee56bd835f4a', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/817183\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/818500\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 9, 'created': '2021-11-19 16:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c780c3666e990c3f488df0fa4117fdd621809861', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/817183\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/818500\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 10, 'created': '2021-11-24 15:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6a655d7849b29d9e2044f84764e49ace0474d3c5', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 11, 'created': '2021-11-24 17:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/572ebc2464aeb4c7ba327391638f76053d4ecb1f', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 12, 'created': '2021-11-25 07:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/787f6cd2cf2eab9701cd1998f8e3dec104674e3e', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 13, 'created': '2021-11-29 08:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7b47c5643b8913121e53ee8b18b03a5ce840d8a0', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 14, 'created': '2021-11-29 12:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/efa48fe042bebd1aabfd60f4321aeff2fe8a381e', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/819554\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 15, 'created': '2021-12-01 02:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3e60c8059d499b83bc25b919a8c7475fc3360da9', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/819554\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 16, 'created': '2021-12-14 08:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7c05fa88acd287423c7dd336f28c92e9c1e4f656', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 17, 'created': '2021-12-15 14:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b23a917680a2926b36a2894abafd512cfac1110e', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 18, 'created': '2021-12-15 15:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/73114ffe4d4986649bcfcff94f054c61adf07bd2', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 19, 'created': '2021-12-16 02:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c9398552437ae83403ed048ed33be7ecec45e976', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 20, 'created': '2022-01-06 15:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ca19e6d440274b5dca232779b4f1943de1fc3340', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nCo-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 21, 'created': '2022-01-07 02:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/adf44361b035125a613462eb89a7f4215d5feeaf', 'message': '[WIP]Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nCo-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 22, 'created': '2022-01-18 09:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cd13d81a3f61a0011dd6ec76c6e5ad29049e216d', 'message': 'Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nCo-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>\n\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 23, 'created': '2022-01-18 09:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1a9d8d0e47aa1e8dd64c9321b2be3b4024bf50d0', 'message': 'Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nCo-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>\n\nImplement: blueprint multi-tenant-policy\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 24, 'created': '2022-01-27 03:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0446337b4f9ebe41ecfc675595ff27e1e152049a', 'message': 'Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nCo-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>\n\nImplement: blueprint multi-tenant-policy\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 25, 'created': '2022-01-27 05:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/00c6d80997dd79483fb716fe1f63962ac3f2a2d1', 'message': 'Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nCo-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>\n\nImplement: blueprint multi-tenant-policy\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 26, 'created': '2022-02-08 01:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/62b477f42e6585ef706951fac08d989bc2196a0c', 'message': 'Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nCo-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>\n\nImplement: blueprint multi-tenant-policy\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}, {'number': 27, 'created': '2022-02-08 14:10:03.000000000', 'files': ['tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/db/migration/alembic_migrations/versions/d6ae359ab0d6_add_tenant_id_to_lcm_subscriptions_and_.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/objects/vnf_instance.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/tests/unit/db/test_vnf_instance.py', 'tacker/tests/unit/objects/fakes.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/objects/test_vnf_lcm_op_occs.py', 'tacker/tests/unit/objects/test_vnf_lcm_subscriptions.py', 'tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/41d7f5ce01116780bbfca3c99c45c7ffdcc11c31', 'message': 'Add specifying tenant in notification\n\nThis patch fixes separate resources related to ETSI NFV-SOL based\nVNF management by using tenant.\n\nCo-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>\n\nImplement: blueprint multi-tenant-policy\nChange-Id: I4de84c85ab77429fb5b2c07f500c453632960a84\n'}]",30,799022,41d7f5ce01116780bbfca3c99c45c7ffdcc11c31,76,5,27,32736,,,0,"Add specifying tenant in notification

This patch fixes separate resources related to ETSI NFV-SOL based
VNF management by using tenant.

Co-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>

Implement: blueprint multi-tenant-policy
Change-Id: I4de84c85ab77429fb5b2c07f500c453632960a84
",git fetch https://review.opendev.org/openstack/tacker refs/changes/22/799022/26 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/db/migration/alembic_migrations/versions/013f4be94f5a_add_tenant_id_to_lcm_subscriptions_and_.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/objects/vnf_instance.py', 'tacker/conductor/conductor_server.py', 'tacker/db/db_sqlalchemy/models.py']",8,035950d860eec06d0015e4a690d1a3f63edcd366,bp/multi-tenant-policy," tenant_id = sa.Column('tenant_id', sa.String(length=64), nullable=False) tenant_id = sa.Column('tenant_id', sa.String(length=64), nullable=False)",,96,13
openstack%2Frequirements~master~Iaa3a8b56d70762dbd16e61711d160ffd47d2530c,openstack/requirements,master,Iaa3a8b56d70762dbd16e61711d160ffd47d2530c,Updated from generate-constraints,MERGED,2022-02-05 03:05:35.000000000,2022-02-14 00:45:38.000000000,2022-02-14 00:43:14.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 03:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/562546d9b3c34213064747342556bb5257aa19a5', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\n'}, {'number': 2, 'created': '2022-02-06 03:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1959d24778498d6c63b20af656d49ac821e10617', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\n'}, {'number': 3, 'created': '2022-02-07 03:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bec2fabac1f3fe317cfff69cac6d71297fe81ad4', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\n'}, {'number': 4, 'created': '2022-02-08 03:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/802bae5a695c6c3ae2b52211f4789bfa5a3104ad', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\n'}, {'number': 5, 'created': '2022-02-09 03:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/70aa709a6950c33dde1ab44d1ff52e9c3e5a62d5', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\n'}, {'number': 6, 'created': '2022-02-10 03:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/174aff4a465367ff8755834bd4a6e433373aae74', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\n'}, {'number': 7, 'created': '2022-02-11 02:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/df41fe96d9ee9892bd620b62f7f771984c87e2bf', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\n'}, {'number': 8, 'created': '2022-02-12 02:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7b0832b625e8f30126ce96cde91042abc0e444fc', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\n'}, {'number': 9, 'created': '2022-02-13 02:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c5f5568bf396737929536c39573ce99e929ce6a4', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\n'}, {'number': 10, 'created': '2022-02-13 19:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7b3e6ce34ab3c15bb2546dd01a343532f7d4d9ce', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 11, 'created': '2022-02-13 19:53:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fb90846cf0603a2a2822d6cda16f5ce194964953', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,827939,fb90846cf0603a2a2822d6cda16f5ce194964953,42,2,11,11131,,,0,"Updated from generate-constraints

Change-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/827939/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,562546d9b3c34213064747342556bb5257aa19a5,openstack/requirements/constraints/noclob,pytest===7.0.0oslo.context===4.0.0rcssmin===1.1.0XStatic-Angular===1.8.2.1pyudev===0.23.2paramiko===2.9.2httpcore===0.14.7pycryptodomex===3.14.1pkg_resources===0.0.0django-compressor===3.1boto3===1.20.49botocore===1.23.49rjsmin===1.2.0,pytest===6.2.5oslo.context===3.4.0rcssmin===1.0.6XStatic-Angular===1.5.8.0pyudev===0.23.1paramiko===2.8.1httpcore===0.14.6pycryptodomex===3.14.0django-compressor===2.4.1boto3===1.20.48botocore===1.23.48rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===60.7.1;python_version=='3.8',13,14
openstack%2Fpuppet-designate~master~I5d7c0ebe62525cfa75e2e46fd66effa7404cecbf,openstack/puppet-designate,master,I5d7c0ebe62525cfa75e2e46fd66effa7404cecbf,designate-worker: Use consistent parameters for service/package,ABANDONED,2021-07-30 13:48:51.000000000,2022-02-14 00:12:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-30 13:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/8bcaaa7ef5c26a36c48ee124ef7491a7b5fb4593', 'message': ""designate-worker: Use consistent parameters for service/package\n\nCurrently only the designate::worker class provides service_ensure and\npackage_management, while the other service classes like designate::api\ndoesn't. This change deprecates parameters only implemented in worker\nclass to make interface consistent among all services.\n\nChange-Id: I5d7c0ebe62525cfa75e2e46fd66effa7404cecbf\n""}, {'number': 2, 'created': '2021-07-30 16:30:56.000000000', 'files': ['manifests/producer.pp', 'manifests/zone_manager.pp', 'manifests/generic_service.pp', 'manifests/sink.pp', 'manifests/api.pp', 'manifests/init.pp', 'manifests/mdns.pp', 'releasenotes/notes/worker-consistent-params-e56033fd266c2d55.yaml', 'manifests/worker.pp', 'manifests/agent.pp', 'spec/classes/designate_worker_spec.rb', 'manifests/central.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/ee28e0ebc3cbcfea3cddcf8c5c1f41773f77ff8a', 'message': ""designate-worker: Use consistent parameters for service/package\n\nCurrently only the designate::worker class provides service_ensure and\npackage_management, while the other service classes like designate::api\ndoesn't. This change deprecates parameters only implemented in worker\nclass to make interface consistent among all services.\n\nChange-Id: I5d7c0ebe62525cfa75e2e46fd66effa7404cecbf\n""}]",0,803036,ee28e0ebc3cbcfea3cddcf8c5c1f41773f77ff8a,5,1,2,9816,,,0,"designate-worker: Use consistent parameters for service/package

Currently only the designate::worker class provides service_ensure and
package_management, while the other service classes like designate::api
doesn't. This change deprecates parameters only implemented in worker
class to make interface consistent among all services.

Change-Id: I5d7c0ebe62525cfa75e2e46fd66effa7404cecbf
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/36/803036/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/worker-consistent-params-e56033fd266c2d55.yaml', 'manifests/worker.pp', 'spec/classes/designate_worker_spec.rb']",3,8bcaaa7ef5c26a36c48ee124ef7491a7b5fb4593,standardize_manage_service,," :manage_package => true, :worker_package_name => nil, :service_ensure => 'running',",41,32
openstack%2Fpuppet-octavia~master~Icddb75d432c351d99b3de115820da1310313f402,openstack/puppet-octavia,master,Icddb75d432c351d99b3de115820da1310313f402,DNM: testing fix of nova_flavor,ABANDONED,2022-02-13 12:53:59.000000000,2022-02-13 23:41:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-13 12:53:59.000000000', 'files': ['spec/acceptance/octavia_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/dddbfe3e495c57a228c9488ef769c0f73871939a', 'message': 'DNM: testing fix of nova_flavor\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-nova/+/828934\nChange-Id: Icddb75d432c351d99b3de115820da1310313f402\n'}]",0,828975,dddbfe3e495c57a228c9488ef769c0f73871939a,3,1,1,9816,,,0,"DNM: testing fix of nova_flavor

Depends-on: https://review.opendev.org/c/openstack/puppet-nova/+/828934
Change-Id: Icddb75d432c351d99b3de115820da1310313f402
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/75/828975/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/octavia_spec.rb'],1,dddbfe3e495c57a228c9488ef769c0f73871939a,,, manage_nova_flavor => false,0,1
openstack%2Frequirements~master~Ic17d2c6dcc4da53636ff3eb60d0fc78fb472f7a4,openstack/requirements,master,Ic17d2c6dcc4da53636ff3eb60d0fc78fb472f7a4,update constraint for pbr to new release 5.8.1,MERGED,2022-02-07 07:53:04.000000000,2022-02-13 23:10:30.000000000,2022-02-13 23:09:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-07 07:53:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/52e599898018adca31a79dd1fefebcc5b6113b67', 'message': 'update constraint for pbr to new release 5.8.1\n\nmeta: version: 5.8.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Jeremy Stanley <fungi@yuggoth.org>\nmeta: release:Commit: Jeremy Stanley <fungi@yuggoth.org>\nmeta: release:Change-Id: I4a96f0cb79547b2d65abcb606472ea41b21c9ad6\nmeta: release:Code-Review+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ic17d2c6dcc4da53636ff3eb60d0fc78fb472f7a4\n'}]",2,828084,52e599898018adca31a79dd1fefebcc5b6113b67,22,3,1,11131,,,0,"update constraint for pbr to new release 5.8.1

meta: version: 5.8.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Jeremy Stanley <fungi@yuggoth.org>
meta: release:Commit: Jeremy Stanley <fungi@yuggoth.org>
meta: release:Change-Id: I4a96f0cb79547b2d65abcb606472ea41b21c9ad6
meta: release:Code-Review+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ic17d2c6dcc4da53636ff3eb60d0fc78fb472f7a4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/828084/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,52e599898018adca31a79dd1fefebcc5b6113b67,new-release,pbr===5.8.1,pbr===5.8.0,1,1
openstack%2Fnova~stable%2Fvictoria~I1ceb01a6f4d8d6e1d04fd18c62beee051f41cdf0,openstack/nova,stable/victoria,I1ceb01a6f4d8d6e1d04fd18c62beee051f41cdf0,libvirt: disable secure boot on non-q35 or with os secure_boot options,ABANDONED,2022-02-13 22:25:07.000000000,2022-02-13 22:26:06.000000000,,[],"[{'number': 1, 'created': '2022-02-13 22:25:07.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/41227b7127e05cb583f781cc0877ad4e453a2c29', 'message': 'libvirt: disable secure boot on non-q35 or with os secure_boot options\n\nImpact:\n===\n\nCurrently, setting hw_firwmare_type=uefi on Ubuntu 20.04\nmight create _unbootable_ servers on Ussuri and Victoria.\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"") and others.\n\nIssue:\n===\n\nThe issue is that if UEFI is enabled, SB can be enabled\nif loader OVMF_CODE.secboot.fd exists (eg, Ubuntu 20.04);\nsee commit 363710b65543 (""libvirt: Handle alternative\nUEFI firmware binary paths"").\n\nThis is unintended and might prevent guest from booting\nbecause SB requires an q35 machine type, SMM feature in\nlibvirt XML, SB-ready image etc. (Neither is enabled by\ndefault nor guaranteed to be available or functional.)\n\nApproach:\n===\n\nWell, SB support _isn\'t_ implemented in Ussuri/Victoria,\nonly later in Wallaby. The first commit above fixes the\nissue because it removes hardcoded firmware/loader path\nfrom second commit above.\n\nAs SB isn\'t supported, could we just ignore .secboot.fd?\n\nBut let\'s not change default behavior ~2 years into LTS.\n\nFix:\n===\n\nSo, ignore .secboot.fd loader IF not q35. And since q35\nmay be set for AMD SEV, check `os.secure_boot` property/\nextra spec for `disabled` to ignore .secboot.fd as well\n(as listed in future `doc/source/admin/secure-boot.rst`),\nand users can explicitly disable it to boot UEFI on q35.\n\n(And as SB is not supported, do not check for both must\nmatch [`disabled`/`required`] as `required` isn\'t valid;\nthus if either image/flavor sets `disabled`, disable it).\n\nInfo:\n===\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTests:\n===\n\n    Original:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Fails: UEFI / pc  / OVMF_CODE.secboot.fd\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd\n\n    Patched:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Boots: UEFI / pc  / OVMF_CODE.fd          # FIXED!\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd  # No change by default.\n\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os_secure_boot=disabled (image)\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os:secure_boot=disabled (flavor)\n\nLogs: (included for PC with UEFI only; broken/fixed case)\n===\n\n    $ openstack image set --property hw_firmware_type=uefi bionic\n    $ openstack server create --image bionic --flavor m1.small --network private srv\n\nBefore:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    Guest doesn\'t boot; nothing in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    $ openstack console log show srv | wc -l\n    0\n\n    QEMU looping / 100% CPU:\n\n    $ juju run --app nova-compute \'top -b -d1 -n5 | grep qemu\'\n      67205 libvirt+  ... 100.0   1.4   1:18.35\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:19.36\tqemu-sy+\n      67205 libvirt+  ...  99.0   1.4   1:20.36\tqemu-sy+\n      67205 libvirt+  ... 101.0   1.4   1:21.37\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:22.38\tqemu-sy+\n\nAfter:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    Guest booted; details in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    ...\n    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\\EFI\\ubuntu\\shimx64.efi""\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI\n    2.0=0x7fbfa014  MEMATTR=0x7eb30018\n    [    0.000000] SMBIOS 2.8 present.\n    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n        <nova:name>srv</nova:name>\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: I1ceb01a6f4d8d6e1d04fd18c62beee051f41cdf0\n'}]",0,828978,41227b7127e05cb583f781cc0877ad4e453a2c29,2,0,1,28621,,,0,"libvirt: disable secure boot on non-q35 or with os secure_boot options

Impact:
===

Currently, setting hw_firwmare_type=uefi on Ubuntu 20.04
might create _unbootable_ servers on Ussuri and Victoria.

Wallaby and later are fixed with refactoring, as part of
the Secure Boot implementation, but that's risky; see
commit 9fff6893ce2e (""libvirt: Use firmware metadata files
to configure instance"") and others.

Issue:
===

The issue is that if UEFI is enabled, SB can be enabled
if loader OVMF_CODE.secboot.fd exists (eg, Ubuntu 20.04);
see commit 363710b65543 (""libvirt: Handle alternative
UEFI firmware binary paths"").

This is unintended and might prevent guest from booting
because SB requires an q35 machine type, SMM feature in
libvirt XML, SB-ready image etc. (Neither is enabled by
default nor guaranteed to be available or functional.)

Approach:
===

Well, SB support _isn't_ implemented in Ussuri/Victoria,
only later in Wallaby. The first commit above fixes the
issue because it removes hardcoded firmware/loader path
from second commit above.

As SB isn't supported, could we just ignore .secboot.fd?

But let's not change default behavior ~2 years into LTS.

Fix:
===

So, ignore .secboot.fd loader IF not q35. And since q35
may be set for AMD SEV, check `os.secure_boot` property/
extra spec for `disabled` to ignore .secboot.fd as well
(as listed in future `doc/source/admin/secure-boot.rst`),
and users can explicitly disable it to boot UEFI on q35.

(And as SB is not supported, do not check for both must
match [`disabled`/`required`] as `required` isn't valid;
thus if either image/flavor sets `disabled`, disable it).

Info:
===

    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html
    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html
    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html
    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html

Tests:
===

    Original:

    - Boots: BIOS / pc
    - Boots: BIOS / q35

    - Fails: UEFI / pc  / OVMF_CODE.secboot.fd
    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd

    Patched:

    - Boots: BIOS / pc
    - Boots: BIOS / q35

    - Boots: UEFI / pc  / OVMF_CODE.fd          # FIXED!
    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd  # No change by default.

    - Boots: UEFI / q35 / OVMF_CODE.fd / os_secure_boot=disabled (image)
    - Boots: UEFI / q35 / OVMF_CODE.fd / os:secure_boot=disabled (flavor)

Logs: (included for PC with UEFI only; broken/fixed case)
===

    $ openstack image set --property hw_firmware_type=uefi bionic
    $ openstack server create --image bionic --flavor m1.small --network private srv

Before:

    $ juju run --app nova-compute 'for guest in $(virsh list --name); do \
      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader'
          <nova:name>srv</nova:name>
        <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
        <loader readonly='yes' type='pflash'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>

    Guest doesn't boot; nothing in the console log:

    $ openstack console log show srv | grep -i -e efi -e bios
    $ openstack console log show srv | wc -l
    0

    QEMU looping / 100% CPU:

    $ juju run --app nova-compute 'top -b -d1 -n5 | grep qemu'
      67205 libvirt+  ... 100.0   1.4   1:18.35	qemu-sy+
      67205 libvirt+  ... 100.0   1.4   1:19.36	qemu-sy+
      67205 libvirt+  ...  99.0   1.4   1:20.36	qemu-sy+
      67205 libvirt+  ... 101.0   1.4   1:21.37	qemu-sy+
      67205 libvirt+  ... 100.0   1.4   1:22.38	qemu-sy+

After:

    $ juju run --app nova-compute 'for guest in $(virsh list --name); do \
      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader'
          <nova:name>srv</nova:name>
        <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
        <loader readonly='yes' type='pflash'>/usr/share/OVMF/OVMF_CODE.fd</loader>

    Guest booted; details in the console log:

    $ openstack console log show srv | grep -i -e efi -e bios
    ...
    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\EFI\ubuntu\shimx64.efi""
    ...
    [    0.000000] efi: EFI v2.70 by EDK II
    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI
    2.0=0x7fbfa014  MEMATTR=0x7eb30018
    [    0.000000] SMBIOS 2.8 present.
    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015
    ...

Note that the XML snippet for the loader is aligned with Wallaby,
in which just setting hw_firmware_type=uefi works out of the box:

    $ juju run --app nova-compute 'for guest in $(virsh list --name); do \
      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader'
        <nova:name>srv</nova:name>
      <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
      <loader readonly='yes' secure='no' type='pflash'>/usr/share/OVMF/OVMF_CODE.fd</loader>

Closes-Bug: #1960758
Signed-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>
Change-Id: I1ceb01a6f4d8d6e1d04fd18c62beee051f41cdf0
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/828978/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,41227b7127e05cb583f781cc0877ad4e453a2c29,sf321893v1-victoria," # If UEFI is enabled, Secure Boot can be enabled if loader # OVMF_CODE.secboot.fd exists, but SB is not yet supported. # So, ignore .secboot.fd loader if not q35 (required by SB) # and check for explicit os secure_boot 'disabled' options. disable_sb = False image_sb = image_meta.properties.get('os_secure_boot') flavor_sb = flavor.extra_specs.get('os:secure_boot') mach_type = libvirt_utils.get_machine_type(image_meta) if (image_sb == fields.SecureBoot.DISABLED or flavor_sb == fields.SecureBoot.DISABLED): disable_sb = True elif 'q35' not in mach_type: disable_sb = True for lpath in DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch]: if (disable_sb and lpath.endswith('.secboot.fd')): continue", for lpath in DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch]:,17,0
openstack%2Frequirements~stable%2Fxena~I6505027d10b9fdc2648e1d2a011c9f098e8f498d,openstack/requirements,stable/xena,I6505027d10b9fdc2648e1d2a011c9f098e8f498d,update constraint for oslo.metrics to new release 0.3.1,MERGED,2022-02-07 10:31:52.000000000,2022-02-13 21:55:34.000000000,2022-02-13 21:55:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-07 10:31:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5d886748b001cd6ad883b4f6cdc009efe121c910', 'message': 'update constraint for oslo.metrics to new release 0.3.1\n\nmeta: version: 0.3.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I6505027d10b9fdc2648e1d2a011c9f098e8f498d\n'}]",0,828104,5d886748b001cd6ad883b4f6cdc009efe121c910,13,3,1,11131,,,0,"update constraint for oslo.metrics to new release 0.3.1

meta: version: 0.3.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I6505027d10b9fdc2648e1d2a011c9f098e8f498d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/828104/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5d886748b001cd6ad883b4f6cdc009efe121c910,new-release,oslo.metrics===0.3.1,oslo.metrics===0.3.0,1,1
openstack%2Fopenstack-ansible~stable%2Fxena~Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,openstack/openstack-ansible,stable/xena,Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,Remove enablement of neutron tempest plugin in scenario templates,MERGED,2022-02-09 15:02:47.000000000,2022-02-13 20:18:10.000000000,2022-02-13 20:16:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-09 15:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b1de664a60ade27adca8f4eb0e7a1b24fc439430', 'message': 'Remove enablement of neutron tempest plugin in scenario templates\n\nThe plugin should be enabled by the tempest role due to the\npresence of the neutron inventory group.\n\nChange-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7\n'}, {'number': 2, 'created': '2022-02-09 15:09:32.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1d6274ffada64da930e50b481b642c81161cd1a7', 'message': 'Remove enablement of neutron tempest plugin in scenario templates\n\nThe plugin should be enabled by the tempest role due to the\npresence of the neutron inventory group.\n\nChange-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7\n'}]",1,828548,1d6274ffada64da930e50b481b642c81161cd1a7,11,3,2,25023,,,0,"Remove enablement of neutron tempest plugin in scenario templates

The plugin should be enabled by the tempest role due to the
presence of the neutron inventory group.

Change-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/48/828548/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2']",2,b1de664a60ade27adca8f4eb0e7a1b24fc439430,,,tempest_plugins: - name: neutron-tempest-plugin repo: https://opendev.org/openstack/neutron-tempest-plugin branch: master,0,8
openstack%2Fopenstack-ansible~master~Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,openstack/openstack-ansible,master,Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,Remove enablement of neutron tempest plugin in scenario templates,MERGED,2022-02-09 15:47:09.000000000,2022-02-13 17:17:39.000000000,2022-02-13 17:16:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-09 15:47:09.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c23153087a65e5dee7bec7cfe08157df88884e0f', 'message': 'Remove enablement of neutron tempest plugin in scenario templates\n\nThe plugin should be enabled by the tempest role due to the\npresence of the neutron inventory group.\n\nChange-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7\n'}]",1,828553,c23153087a65e5dee7bec7cfe08157df88884e0f,12,3,1,28619,,,0,"Remove enablement of neutron tempest plugin in scenario templates

The plugin should be enabled by the tempest role due to the
presence of the neutron inventory group.

Change-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/828553/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2']",2,c23153087a65e5dee7bec7cfe08157df88884e0f,,,tempest_plugins: - name: neutron-tempest-plugin repo: https://opendev.org/openstack/neutron-tempest-plugin branch: master,0,8
openstack%2Fansible-collections-openstack~master~I809cca0f27f16b37cb9c1c18121f468ccf5c805c,openstack/ansible-collections-openstack,master,I809cca0f27f16b37cb9c1c18121f468ccf5c805c,Adds use_name variable,MERGED,2021-11-09 07:49:30.000000000,2022-02-13 12:09:57.000000000,2022-02-13 12:09:57.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 07:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fd0e66a706e83cda89c380f36b5f356519f5afd4', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this is; the name of the host is its FQDN, and you\nhave a SSH configuration that makes use of jump/bastion hosts that is\napplied based off of the FQDN of the ansible_host. EG you can't SSH to\nthe host via its floating IP and must use a jumpbox. You have a SSH\nconfiguration file which forces hosts within subdomain test.example.com\nto use a specific jump host. 'use_names` will use the name of the host\nfor the connection, rather than the floating IP.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 2, 'created': '2021-11-09 10:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7ab1f2bcd653e987746f4512985f785ae62664b8', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this is; the name of the host is its FQDN, and you\nhave a SSH configuration that makes use of jump/bastion hosts that is\napplied based off of the FQDN of the ansible_host. EG you can't SSH to\nthe host via its floating IP and must use a jumpbox. You have a SSH\nconfiguration file which forces hosts within subdomain test.example.com\nto use a specific jump host. 'use_names` will use the name of the host\nfor the connection, rather than the floating IP.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 3, 'created': '2021-11-10 07:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c2ab84da6d2a9744eb467f8918b2801852672b7d', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this is; the name of the host is its FQDN, and you\nhave a SSH configuration that makes use of jump/bastion hosts that is\napplied based off of the FQDN of the ansible_host. EG you can't SSH to\nthe host via its floating IP and must use a jumpbox. You have a SSH\nconfiguration file which forces hosts within subdomain test.example.com\nto use a specific jump host. 'use_names` will use the name of the host\nfor the connection, rather than the floating IP.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 4, 'created': '2022-02-09 23:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4855a9b1d7336b004482df0dc3d6e7c2ff6dba95', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this is; the name of the host is its FQDN, and you\nhave a SSH configuration that makes use of jump/bastion hosts that is\napplied based off of the FQDN of the ansible_host. EG you can't SSH to\nthe host via its floating IP and must use a jumpbox. You have a SSH\nconfiguration file which forces hosts within subdomain test.example.com\nto use a specific jump host. 'use_names` will use the name of the host\nfor the connection, rather than the floating IP.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 5, 'created': '2022-02-10 10:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4cebbcc6f8314cc561838553c9c8a20a909a36bd', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this, is if you want to access hosts using\nthe instance name defined in OpenStack instead of the floating IP.\nThis is usually when using a jump/bastion host.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 6, 'created': '2022-02-10 10:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2a3aff9f91e2bc4cfb393b275e785b6ede67878c', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this, is if you want to access hosts using\nthe instance name defined in OpenStack instead of the floating IP.\nThis is usually when using a jump/bastion host.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 7, 'created': '2022-02-10 10:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ce3d55f771ffcb37e6c5e1d61ea0bb1240f9c83f', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this, is if you want to access hosts using\nthe instance name defined in OpenStack instead of the floating IP.\nThis is usually when using a jump/bastion host.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 8, 'created': '2022-02-10 10:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4e2ceb2de55163263b4afd2d85d723427b256756', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this, is if you want to access hosts using\nthe instance name defined in OpenStack instead of the floating IP.\nThis is usually when using a jump/bastion host.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 9, 'created': '2022-02-10 10:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3d498778f1ea9bc74fbe38d83dcb650c492f9855', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this, is if you want to access hosts using\nthe instance name defined in OpenStack instead of the floating IP.\nThis is usually when using a jump/bastion host.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 10, 'created': '2022-02-10 10:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e6a09d2f0ae4d2cef435f37e498521ddaf66329b', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this, is if you want to access hosts using\nthe instance name defined in OpenStack instead of the floating IP.\nThis is usually when using a jump/bastion host.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}, {'number': 11, 'created': '2022-02-10 10:44:52.000000000', 'files': ['plugins/inventory/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bcb5d18492d2df18dcabc284b1e35109f2d118d0', 'message': ""Adds use_name variable\n\nThis commit adds the ability to specify whether the ansible_host and\nansible_ssh_host variables should use 'name' inplace of 'interface_ip'.\n\nThe primary use case for this, is if you want to access hosts using\nthe instance name defined in OpenStack instead of the floating IP.\nThis is usually when using a jump/bastion host.\n\nImplements: use_names\nChange-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c\n""}]",16,817150,bcb5d18492d2df18dcabc284b1e35109f2d118d0,28,2,11,34235,,,0,"Adds use_name variable

This commit adds the ability to specify whether the ansible_host and
ansible_ssh_host variables should use 'name' inplace of 'interface_ip'.

The primary use case for this, is if you want to access hosts using
the instance name defined in OpenStack instead of the floating IP.
This is usually when using a jump/bastion host.

Implements: use_names
Change-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/50/817150/10 && git format-patch -1 --stdout FETCH_HEAD,['plugins/inventory/openstack.py'],1,fd0e66a706e83cda89c380f36b5f356519f5afd4,ansible_host_name," use_names: description: | Use the host's 'name' instead of 'interface_ip' for the 'ansible_host' and 'ansible_ssh_host' facts. This might be desired when using jump or bastion hosts and the name is the FQDN of the host. type: bool default: 'no' self.use_names = self._config_data.get('use_names', False) if not self.use_names: hostvars[current_host] = dict( ansible_ssh_host=server['interface_ip'], ansible_host=server['interface_ip'], openstack=server) self.inventory.add_host(current_host) if self.use_names: hostvars[current_host] = dict( ansible_ssh_host=server['name'], ansible_host=server['name'], openstack=server) self.inventory.add_host(current_host)"," hostvars[current_host] = dict( ansible_ssh_host=server['interface_ip'], ansible_host=server['interface_ip'], openstack=server) self.inventory.add_host(current_host)",21,6
openstack%2Ftrove~master~I6aff0d185991db77b17a4f23084de6734b2b3a6c,openstack/trove,master,I6aff0d185991db77b17a4f23084de6734b2b3a6c,Improve the detect backup was created when parse log,MERGED,2021-09-05 06:54:16.000000000,2022-02-13 11:27:43.000000000,2022-02-13 11:25:48.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 33822}]","[{'number': 1, 'created': '2021-09-05 06:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b0f8014672db5830609b6ad07c7662ad1707fabb', 'message': 'Improve the detect backup was created when parse log\n\nTask: #43209\nStory: #2009176\nChange-Id: I6aff0d185991db77b17a4f23084de6734b2b3a6c\n'}, {'number': 2, 'created': '2022-01-21 03:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/099ab05c25fd99b4b331aa3a29b1f7f572870d5c', 'message': 'Improve the detect backup was created when parse log\n\nTask: #43209\nStory: #2009176\nChange-Id: I6aff0d185991db77b17a4f23084de6734b2b3a6c\n'}, {'number': 3, 'created': '2022-01-21 03:34:48.000000000', 'files': ['backup/main.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/91e002b1f2a509407055590e79a6ac489ab90755', 'message': 'Improve the detect backup was created when parse log\n\nTask: #43209\nStory: #2009176\nChange-Id: I6aff0d185991db77b17a4f23084de6734b2b3a6c\n'}]",0,807474,91e002b1f2a509407055590e79a6ac489ab90755,12,3,3,28691,,,0,"Improve the detect backup was created when parse log

Task: #43209
Story: #2009176
Change-Id: I6aff0d185991db77b17a4f23084de6734b2b3a6c
",git fetch https://review.opendev.org/openstack/trove refs/changes/74/807474/2 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/datastore/service.py'],1,b0f8014672db5830609b6ad07c7662ad1707fabb,improve_parse_log, backup_result = None output.reverse() for result in output: backup_result = BACKUP_LOG_RE.match(result) if backup_result: break , result = output[-1] backup_result = BACKUP_LOG_RE.match(result),7,2
openstack%2Ftrove~master~I34d47e709a9a7478cb6a85d6e6e37da3f92e40b0,openstack/trove,master,I34d47e709a9a7478cb6a85d6e6e37da3f92e40b0,Adapt to file injection deprecation in nova,MERGED,2022-01-06 07:27:42.000000000,2022-02-13 11:26:42.000000000,2022-02-13 11:25:23.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 33822}]","[{'number': 1, 'created': '2022-01-06 07:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1318445b3962dc7b149fd10c41ea61552512b08e', 'message': 'Adapt to file injection deprecation in nova\n\nStory: #2009770\nTask: #44247\nChange-Id: I34d47e709a9a7478cb6a85d6e6e37da3f92e40b0\n'}, {'number': 2, 'created': '2022-01-06 09:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/02c1efc47af7d405c1d019114e22d5cac9123d66', 'message': 'Adapt to file injection deprecation in nova\n\nStory: #2009770\nTask: #44247\nChange-Id: I34d47e709a9a7478cb6a85d6e6e37da3f92e40b0\n'}, {'number': 3, 'created': '2022-01-24 10:06:23.000000000', 'files': ['trove/common/cfg.py', 'trove/instance/models.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/99df090a857f48ae27e9c361f6835fc2297a0498', 'message': 'Adapt to file injection deprecation in nova\n\nStory: #2009770\nTask: #44247\nChange-Id: I34d47e709a9a7478cb6a85d6e6e37da3f92e40b0\n'}]",2,823632,99df090a857f48ae27e9c361f6835fc2297a0498,12,3,3,28691,,,0,"Adapt to file injection deprecation in nova

Story: #2009770
Task: #44247
Change-Id: I34d47e709a9a7478cb6a85d6e6e37da3f92e40b0
",git fetch https://review.opendev.org/openstack/trove refs/changes/32/823632/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/cfg.py', 'trove/instance/models.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py']",4,1318445b3962dc7b149fd10c41ea61552512b08e,inject_userdata_config,"from unittest.mock import call from unittest.mock import patch import cinderclient.v3.client as cinderclient import neutronclient.v2_0.client as neutronclient import novaclient.v2.flavors import novaclient.v2.serversimport trove.backup.models import trove.common.context import trove.common.template as template import trove.db.models import trove.guestagent.api from trove.common import exception userdata = self.userdata + ""#cloud-config\nwrite_files:\n"" self.assertEqual(server.userdata, userdata) self.freshinstancetasks.prepare_userdata = Mock( return_value=""#cloud-config\nwrite_files:\n"") userdata = self.freshinstancetasks.prepare_userdata('mysql') userdata = userdata + \ self.freshinstancetasks.prepare_cloud_config({}) userdata=userdata, config_drive=False,","from unittest.mock import callfrom unittest.mock import patchimport cinderclient.v3.client as cinderclient import neutronclient.v2_0.client as neutronclientimport novaclient.v2.flavors import novaclient.v2.serversimport trove.backup.modelsimport trove.common.context from trove.common import exceptionimport trove.common.template as templateimport trove.db.modelsimport trove.guestagent.api self.assertEqual(server.userdata, self.userdata) self.freshinstancetasks.prepare_userdata = Mock(return_value=None) userdata=None, config_drive=True,",90,38
openstack%2Felection~master~I4a8419ce6b4bc8d1d22bf31c9b3b8d8c35dea9b3,openstack/election,master,I4a8419ce6b4bc8d1d22bf31c9b3b8d8c35dea9b3,Add Douglas Mendizábal candidacy for Barbican,MERGED,2022-02-11 21:46:20.000000000,2022-02-13 10:04:26.000000000,2022-02-13 10:01:56.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 21:46:20.000000000', 'files': ['candidates/z/Barbican/dmendiza@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/74bd8fb7811d8ccc0e76efc029687d569d1449dd', 'message': 'Add Douglas Mendizábal candidacy for Barbican\n\nChange-Id: I4a8419ce6b4bc8d1d22bf31c9b3b8d8c35dea9b3\n'}]",2,828925,74bd8fb7811d8ccc0e76efc029687d569d1449dd,9,3,1,7973,,,0,"Add Douglas Mendizábal candidacy for Barbican

Change-Id: I4a8419ce6b4bc8d1d22bf31c9b3b8d8c35dea9b3
",git fetch https://review.opendev.org/openstack/election refs/changes/25/828925/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Barbican/dmendiza@redhat.com'],1,74bd8fb7811d8ccc0e76efc029687d569d1449dd,,"Hi All, I would like to continue to serve as Barbican PTL for the Z cycle. Barbican is slowly moving forward, and I would like to see improvements continue for the next cycle. Thanks, - Douglas Mendizábal (dmendiza[m]) ",,9,0
openstack%2Felection~master~Ia18993d4972a24068185887241a4e8b9d76fbb3e,openstack/election,master,Ia18993d4972a24068185887241a4e8b9d76fbb3e,Adding Abhishek Kekane candidacy for Glance PTL,MERGED,2022-02-11 14:59:37.000000000,2022-02-13 10:03:25.000000000,2022-02-13 10:01:52.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 14:59:37.000000000', 'files': ['candidates/z/Glance/akekane@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/d5273015d4540187510805603570a85253b14e07', 'message': 'Adding Abhishek Kekane candidacy for Glance PTL\n\nChange-Id: Ia18993d4972a24068185887241a4e8b9d76fbb3e\n'}]",2,828891,d5273015d4540187510805603570a85253b14e07,8,3,1,9303,,,0,"Adding Abhishek Kekane candidacy for Glance PTL

Change-Id: Ia18993d4972a24068185887241a4e8b9d76fbb3e
",git fetch https://review.opendev.org/openstack/election refs/changes/91/828891/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Glance/akekane@redhat.com'],1,d5273015d4540187510805603570a85253b14e07,glance-abhishekk-z,"Hi All, I would like to announce my candidacy for Glance PTL for the Z cycle. I've had the great privilege of leading this team for the past four releases. During this time we focused on some major refactoring including moving policy checks towards API layer to make SRBAC implementation easy enough. Introduced limits based quota system, distributed image import workflow etc. Over the past three/four years we've had a small team looking after Glance and planned the priorities accordingly. During Yoga cycle we started putting efforts in adding new caching APIs to help ease the caching operations, added quota-usage API to help user to understand the quota statistics and revisit out bug backlogs. In Z our priority will be to complete SRBAC work, remove policy and authentication layer from code base. Also we will keep focusing on improving tempest coverage for glance. Thank you for taking my self nomination into consideration, Abhishek Kekane (abhishekk) ",,25,0
openstack%2Felection~master~I2e740da950f5746e003d9a1474d7c79f16230f7d,openstack/election,master,I2e740da950f5746e003d9a1474d7c79f16230f7d,Add Vishal Manchanda candidacy for Horizon PTL(Z),MERGED,2022-02-11 18:03:24.000000000,2022-02-13 10:01:54.000000000,2022-02-13 10:01:54.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 18:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/8cd9b30291d50b96b174bb102b234f4711a7ebdb', 'message': 'Add Vishal Manchanda candidacy for Horizon PTL(Z)\n\nChange-Id: I2e740da950f5746e003d9a1474d7c79f16230f7d\n'}, {'number': 2, 'created': '2022-02-11 18:05:06.000000000', 'files': ['candidates/z/Horizon/manchandavishal143@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/68576e217f9aab8f6f9ed78e1d367625c47ce480', 'message': 'Add Vishal Manchanda candidacy for Horizon PTL(Z)\n\nChange-Id: I2e740da950f5746e003d9a1474d7c79f16230f7d\n'}]",2,828912,68576e217f9aab8f6f9ed78e1d367625c47ce480,8,3,2,29313,,,0,"Add Vishal Manchanda candidacy for Horizon PTL(Z)

Change-Id: I2e740da950f5746e003d9a1474d7c79f16230f7d
",git fetch https://review.opendev.org/openstack/election refs/changes/12/828912/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Horizon/manchandavishal143@gmail.com'],1,8cd9b30291d50b96b174bb102b234f4711a7ebdb,,"I would like to announce my candidacy for PTL of Horizon for the Z cycle. I am serving as horizon PTL for the last two cycles and would like to continue the same. In the Yoga cycle, we have dropped Django 2.2 support, added a basic menu to Switch to System Scope, improved horizon-integration testing, and support to add backend services feature in the horizon is in progress. In the Z cycle, My main focus will be on filling more feature gaps [1] and closing more actions item from the previous ptg [2]. [1] https://etherpad.opendev.org/p/horizon-feature-gap [2] https://etherpad.opendev.org/p/horizon-release-priorities3 Thanks for reading and considering my candidacy for the Z cycle. Vishal Manchanda (irc: vishalmanchanda) ",,17,0
openstack%2Felection~master~I2c043ec95d627c72397c3d16d335b4f91383c836,openstack/election,master,I2c043ec95d627c72397c3d16d335b4f91383c836,Adding Sylvain Bauza candidacy for Nova Zzzzzz PTL,MERGED,2022-02-11 14:52:44.000000000,2022-02-13 09:52:41.000000000,2022-02-13 09:51:24.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 14:52:44.000000000', 'files': ['candidates/z/Nova/sbauza@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/6a06d4e6f054403d11449739efc9ec6e01bdcb30', 'message': 'Adding Sylvain Bauza candidacy for Nova Zzzzzz PTL\n\nChange-Id: I2c043ec95d627c72397c3d16d335b4f91383c836\n'}]",2,828889,6a06d4e6f054403d11449739efc9ec6e01bdcb30,8,3,1,7166,,,0,"Adding Sylvain Bauza candidacy for Nova Zzzzzz PTL

Change-Id: I2c043ec95d627c72397c3d16d335b4f91383c836
",git fetch https://review.opendev.org/openstack/election refs/changes/89/828889/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Nova/sbauza@redhat.com'],1,6a06d4e6f054403d11449739efc9ec6e01bdcb30,bauzas_nova_ptl_z,"Hello again Nova (and Placement) fellows, This went fast, but it's time for me to run again for the Nova PTL position, this time for the Zen/Zombie/Zeta [1] release cycle, after having been the PTL for the Yoga cycle. Just a quick look at this current cycle. First, it was quick but : - we added a new way to help contributors to say they are reviewing some change - we now have a new nova-core - we have around 25 accepted feature requests and 15 of them are already reviewed. What we had't yet time to discuss and what I'd like us to start to look are : - given some operators want to upgrade at least every year, we should try to start seeing how to support two-cycle-older computes - sometimes we want to do things that we'd like but that we don't have time for. Some of them are actually simple to implement. Maybe then we should organize back ways to share ideas to new contributors and provide them mentoring efforts (eg. with Outreachy or any engineering interns wanting to work on OpenStack and Nova in particular) As you know, I'm also open to any idea. I'm not a leader, I'm just a herder. Thanks, -Sylvain [1] Pick any Z name you want given we don't know yet the result. ",,32,0
openstack%2Ftripleo-heat-templates~master~Ice8d3ee63d11c531641b9defeb615ad7006f1671,openstack/tripleo-heat-templates,master,Ice8d3ee63d11c531641b9defeb615ad7006f1671,Fix AnyErrorsFatal type,MERGED,2022-02-10 15:04:49.000000000,2022-02-13 08:19:36.000000000,2022-02-13 08:19:36.000000000,"[{'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-10 15:04:49.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fceeb2fbd30595c81bf77f813b0d01be45d18c15', 'message': ""Fix AnyErrorsFatal type\n\nAnyErrorsFatal is boolean, just like its neighbor\nNetworkConfigUpdate param.\n\nThe string type ends up with group_vars, like:\nany_errors_fatal: 'True'\nnetwork_config_update: false\n\nFix the type to correspond a bool in ansible.\n\nChange-Id: Ice8d3ee63d11c531641b9defeb615ad7006f1671\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",1,828726,fceeb2fbd30595c81bf77f813b0d01be45d18c15,14,7,1,6926,,,0,"Fix AnyErrorsFatal type

AnyErrorsFatal is boolean, just like its neighbor
NetworkConfigUpdate param.

The string type ends up with group_vars, like:
any_errors_fatal: 'True'
network_config_update: false

Fix the type to correspond a bool in ansible.

Change-Id: Ice8d3ee63d11c531641b9defeb615ad7006f1671
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/828726/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,fceeb2fbd30595c81bf77f813b0d01be45d18c15,, type: boolean, type: string,1,1
openstack%2Ftripleo-heat-templates~master~Ia6a8d27fd2ae6310544bc3767cf7f1fb246939c3,openstack/tripleo-heat-templates,master,Ia6a8d27fd2ae6310544bc3767cf7f1fb246939c3,Don't bind host's /run in multipathd container,MERGED,2022-02-09 16:38:03.000000000,2022-02-13 08:14:58.000000000,2022-02-13 08:14:58.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-09 16:38:03.000000000', 'files': ['deployment/multipathd/multipathd-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ae6ce355c61ec64da0010f1b20a329233dd03ef', 'message': ""Don't bind host's /run in multipathd container\n\nThe multipathd daemon uses a hard-coded pidfile path that conflicts\nwith the one we use for conmon on the host. If we bind /run:/run\nthen multipathd overwrites the host file with its own pid, and this\ninterferes with systemd's ability to manage the service via the\npidfile. systemd expects the pidfile to contain the host's conmon\npid, not the multipathd daemon's pid.\n\nChange-Id: Ia6a8d27fd2ae6310544bc3767cf7f1fb246939c3\n""}]",0,828587,3ae6ce355c61ec64da0010f1b20a329233dd03ef,8,6,1,21129,,,0,"Don't bind host's /run in multipathd container

The multipathd daemon uses a hard-coded pidfile path that conflicts
with the one we use for conmon on the host. If we bind /run:/run
then multipathd overwrites the host file with its own pid, and this
interferes with systemd's ability to manage the service via the
pidfile. systemd expects the pidfile to contain the host's conmon
pid, not the multipathd daemon's pid.

Change-Id: Ia6a8d27fd2ae6310544bc3767cf7f1fb246939c3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/828587/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/multipathd/multipathd-container-ansible.yaml'],1,3ae6ce355c61ec64da0010f1b20a329233dd03ef,multipath-v2,, - /run/:/run/,0,1
openstack%2Fpuppet-nova~stable%2Fvictoria~I6bf4da9360f78ee94dbf02e7a6f7b109cf50b154,openstack/puppet-nova,stable/victoria,I6bf4da9360f78ee94dbf02e7a6f7b109cf50b154,Add missing dependency about nova_api_paste_ini,MERGED,2021-10-19 23:08:12.000000000,2022-02-12 18:57:52.000000000,2022-02-12 18:57:52.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-19 23:08:12.000000000', 'files': ['manifests/deps.pp', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/af369b4d96058900abc21fae10697c08cb4342c9', 'message': 'Add missing dependency about nova_api_paste_ini\n\nThis change fixes missing dependency about nova_api_paste_ini, which\nshould have been added when the nova_paste_api_ini resource type was\nrenamed to the nova_api_paste_ini resource type[1].\n\n[1] b5c5d7acc3cc2cf2836a4f4556543d3fe1737b95\n\nChange-Id: I6bf4da9360f78ee94dbf02e7a6f7b109cf50b154\n(cherry picked from commit fb654c6bff451add69b43a424e019962223541b0)\n(cherry picked from commit 119f46164029cf29f80e6f8a946924b6bebc0307)\n(cherry picked from commit 1b9e5bf7a45d0e4e4f329924258d0a031b6d2e0a)\n'}]",1,814656,af369b4d96058900abc21fae10697c08cb4342c9,8,5,1,9816,,,0,"Add missing dependency about nova_api_paste_ini

This change fixes missing dependency about nova_api_paste_ini, which
should have been added when the nova_paste_api_ini resource type was
renamed to the nova_api_paste_ini resource type[1].

[1] b5c5d7acc3cc2cf2836a4f4556543d3fe1737b95

Change-Id: I6bf4da9360f78ee94dbf02e7a6f7b109cf50b154
(cherry picked from commit fb654c6bff451add69b43a424e019962223541b0)
(cherry picked from commit 119f46164029cf29f80e6f8a946924b6bebc0307)
(cherry picked from commit 1b9e5bf7a45d0e4e4f329924258d0a031b6d2e0a)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/56/814656/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/deps.pp', 'manifests/config.pp']",2,af369b4d96058900abc21fae10697c08cb4342c9,,# The value is an hash of nova_api_paste_ini resources. Example:release. Use nova_api_paste_ini'),# The value is an hash of nova_paste_api_ini resources. Example:release. Use nova_api_paste_init'),6,2
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I47d6bcee4ded407634f12cea221c3ea1dc035b49,openstack/puppet-openstack-integration,stable/ussuri,I47d6bcee4ded407634f12cea221c3ea1dc035b49,"Revert ""Ussuri-only: Make beaker job non-voting""",ABANDONED,2022-02-12 18:20:33.000000000,2022-02-12 18:23:24.000000000,,[],"[{'number': 1, 'created': '2022-02-12 18:20:33.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e386bfe9f45ad574a989043d4552e0eafa46c21b', 'message': 'Revert ""Ussuri-only: Make beaker job non-voting""\n\nThis reverts commit 48ab839e7b08314ca8bec3b6ccde178a7584eaa4.\n\nReason for revert:\nBeaker jobs are now passing and we no longer observe the failure,\npossibly because of the change in underlying OS.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by migration from CentOS 8 to CentOS 8 Stream.\n\nRelated-Bug: #1933232\nChange-Id: I47d6bcee4ded407634f12cea221c3ea1dc035b49\n'}]",0,828964,e386bfe9f45ad574a989043d4552e0eafa46c21b,2,0,1,9816,,,0,"Revert ""Ussuri-only: Make beaker job non-voting""

This reverts commit 48ab839e7b08314ca8bec3b6ccde178a7584eaa4.

Reason for revert:
Beaker jobs are now passing and we no longer observe the failure,
possibly because of the change in underlying OS.

Conflicts:
	zuul.d/base.yaml

Resolved conflict caused by migration from CentOS 8 to CentOS 8 Stream.

Related-Bug: #1933232
Change-Id: I47d6bcee4ded407634f12cea221c3ea1dc035b49
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/64/828964/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,e386bfe9f45ad574a989043d4552e0eafa46c21b,,, voting: false,0,1
openstack%2Fpuppet-sahara~master~I032817e11921504a73ebb386a745acc0f114f9e4,openstack/puppet-sahara,master,I032817e11921504a73ebb386a745acc0f114f9e4,Add support for healthcheck middleware options,MERGED,2021-07-12 07:35:27.000000000,2022-02-12 18:18:58.000000000,2022-02-12 18:17:41.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 07:35:27.000000000', 'files': ['spec/classes/sahara_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-8487fe35fdd908c7.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/ee913f3a91dc466806f4838be1df961570431ccc', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nDepends-on: https://review.opendev.org/800408\nChange-Id: I032817e11921504a73ebb386a745acc0f114f9e4\n'}]",1,800426,ee913f3a91dc466806f4838be1df961570431ccc,9,4,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Depends-on: https://review.opendev.org/800408
Change-Id: I032817e11921504a73ebb386a745acc0f114f9e4
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/26/800426/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/sahara_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-8487fe35fdd908c7.yaml', 'manifests/healthcheck.pp']",3,ee913f3a91dc466806f4838be1df961570431ccc,healthcheck,"# == Class: sahara::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class sahara::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include sahara::deps oslo::healthcheck { 'sahara_config': detailed => $detailed, backends => $backends, disable_by_file_path => $disable_by_file_path, disable_by_file_paths => $disable_by_file_paths, } } ",,101,0
openstack%2Fnova~stable%2Ftrain~Ie3129ee395427337e9abcef2f938012608f643e1,openstack/nova,stable/train,Ie3129ee395427337e9abcef2f938012608f643e1,Ensure MAC addresses characters are in the same case,MERGED,2021-11-12 23:00:33.000000000,2022-02-12 17:12:47.000000000,2022-02-12 17:11:10.000000000,"[{'_account_id': 4690}, {'_account_id': 7130}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-11-12 23:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bde073a9c37cb715d05345ffd78091e501058938', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n""}, {'number': 2, 'created': '2021-12-23 14:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edc474d959df01cde8133c1e9eb95308dcd4d503', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_migration.py\n\nNote: conflict is caused by not having six.text_type removal patch\nI779bd1446dc1f070fa5100ccccda7881fa508d79 in stable/victoria.\nOriginal assertion method was preserved to resolve this conflict in\nstable/victoria and older stable branches.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n(cherry picked from commit 28d0059c1f52e51add31bff50f1f6e443c938792)\n(cherry picked from commit 97f84cd37d4f36344fe5efab72988c09470492e1)\n""}, {'number': 3, 'created': '2022-01-21 11:47:27.000000000', 'files': ['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5da31ec1ea1d1c7b4df146857982699ebdc328e', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n(cherry picked from commit 28d0059c1f52e51add31bff50f1f6e443c938792)\n(cherry picked from commit 184a3c976faed38907af148a533bc6e9faa410f5)\n""}]",7,817830,a5da31ec1ea1d1c7b4df146857982699ebdc328e,40,6,3,7130,,,0,"Ensure MAC addresses characters are in the same case

Currently neutron can report ports to have MAC addresses
in upper case when they're created like that. In the meanwhile
libvirt configuration file always stores MAC in lower case
which leads to KeyError while trying to retrieve migrate_vif.

Closes-Bug: #1945646
Change-Id: Ie3129ee395427337e9abcef2f938012608f643e1
(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)
(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)
(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)
(cherry picked from commit 28d0059c1f52e51add31bff50f1f6e443c938792)
(cherry picked from commit 184a3c976faed38907af148a533bc6e9faa410f5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/817830/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py']",2,bde073a9c37cb715d05345ffd78091e501058938,bug/1945646-stable/train," self.assertIn(""ca:fe:de:ad:be:ef"", str(ex)) def test_update_vif_xml_lower_case_mac(self): """"""Tests that the vif in the migrate data is not found in the existing guest interfaces. """""" conf = vconfig.LibvirtConfigGuestInterface() conf.net_type = ""bridge"" conf.source_dev = ""qbra188171c-ea"" conf.target_dev = ""tapa188171c-ea"" conf.mac_addr = ""DE:AD:BE:EF:CA:FE"" conf.model = ""virtio"" original_xml = """"""<domain> <uuid>3de6550a-8596-4937-8046-9d862036bca5</uuid> <devices> <interface type=""bridge""> <mac address=""de:ad:be:ef:ca:fe""/> <model type=""virtio""/> <source bridge=""qbra188171c-ea""/> <target dev=""tapa188171c-ea""/> <virtualport type=""openvswitch""> <parameters interfaceid=""%s""/> </virtualport> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </interface> </devices> </domain>"""""" % uuids.ovs expected_xml = """"""<domain> <uuid>3de6550a-8596-4937-8046-9d862036bca5</uuid> <devices> <interface type=""bridge""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source bridge=""qbra188171c-ea""/> <target dev=""tapa188171c-ea""/> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </interface> </devices> </domain>"""""" self._test_update_vif_xml(conf, original_xml, expected_xml)"," self.assertIn(""CA:FE:DE:AD:BE:EF"", six.text_type(ex))",51,3
openstack%2Fpuppet-openstacklib~master~I5ed061a4771b962caa115caae34a8a78cf068a79,openstack/puppet-openstacklib,master,I5ed061a4771b962caa115caae34a8a78cf068a79,Add function to build generic uri,ABANDONED,2019-09-13 22:34:18.000000000,2022-02-12 17:00:45.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 22:34:18.000000000', 'files': ['lib/puppet/functions/os_uri.rb', 'spec/functions/os_uri.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/a78b1c409af0c48aefded6458053ddc37323a48c', 'message': 'Add function to build generic uri\n\nChange-Id: I5ed061a4771b962caa115caae34a8a78cf068a79\n'}]",0,682184,a78b1c409af0c48aefded6458053ddc37323a48c,5,3,1,9816,,,0,"Add function to build generic uri

Change-Id: I5ed061a4771b962caa115caae34a8a78cf068a79
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/84/682184/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/functions/os_uri.rb', 'spec/functions/os_uri.rb']",2,a78b1c409af0c48aefded6458053ddc37323a48c,os-uri,"require 'spec_helper' describe 'os_url' do it 'refuses String' do is_expected.to run.with_params('foo').\ and_raise_error(Puppet::ParseError, /Requires an hash/) end it 'refuses Array' do is_expected.to run.with_params(['foo']).\ and_raise_error(Puppet::ParseError, /Requires an hash/) end it 'refuses without at least one argument' do is_expected.to run.with_params().\ and_raise_error(Puppet::ParseError, /Wrong number of arguments/) end it 'refuses too many arguments' do is_expected.to run.with_params('foo', 'bar').\ and_raise_error(Puppet::ParseError, /Wrong number of arguments/) end it 'fails if port is provided with missing host' do is_expected.to run.with_params({ 'procol' => 'http', 'path' => 'a/b/c', 'port' => '8080', 'query' => { 'key1' => 'foo', 'key2' => 'baa' } }).and_raise_error(Puppet::ParseError, /host is required with port/) end context 'creates the correct connection URI' do it 'with all parameters' do is_expected.to run.with_params({ 'procol' => 'http', 'host' => '127.0.0.1', 'port' => '8080', 'path' => 'a/b/c', 'username' => 'guest', 'password' => 's3cr3t', 'query' => { 'key1' => 'foo', 'key2' => 'baa' } }).and_return('http://guest:s3cr3t@127.0.0.1:8080/a/b/c?key1=foo&key2=baa') end it 'without port' do is_expected.to run.with_params({ 'procol' => 'http', 'host' => '127.0.0.1', 'path' => 'a/b/c', 'username' => 'guest', 'password' => 's3cr3t', 'query' => { 'key1' => 'foo', 'key2' => 'baa' } }).and_return('http://guest:s3cr3t@127.0.0.1/a/b/c?key1=foo&key2=baa') end it 'without host and port' do is_expected.to run.with_params({ 'procol' => 'http', 'path' => 'a/b/c', 'username' => 'guest', 'password' => 's3cr3t', 'query' => { 'key1' => 'foo', 'key2' => 'baa' } }).and_return('http:////a/b/c') end it 'without username and password' do is_expected.to run.with_params({ 'procol' => 'http', 'host' => '127.0.0.1', 'port' => '8080', 'path' => 'a/b/c', 'query' => { 'key1' => 'foo', 'key2' => 'baa' } }).and_return('http://127.0.0.1:8080/a/b/c?key1=foo&key2=baa') end it 'with username set to undef' do is_expected.to run.with_params({ 'procol' => 'http', 'host' => '127.0.0.1', 'port' => '8080', 'path' => 'a/b/c', 'username' => ':undef', 'password' => 's3cr3t', 'query' => { 'key1' => 'foo', 'key2' => 'baa' } }).and_return('http://127.0.0.1:8080/a/b/c?key1=foo&key2=baa') end it 'with username set to an empty string' do is_expected.to run.with_params({ 'procol' => 'http', 'host' => '127.0.0.1', 'port' => '8080', 'path' => 'a/b/c', 'username' => '', 'password' => 's3cr3t', 'query' => { 'key1' => 'foo', 'key2' => 'baa' } }).and_return('http://127.0.0.1:8080/a/b/c?key1=foo&key2=baa') end it 'without password' do is_expected.to run.with_params({ 'procol' => 'http', 'host' => '127.0.0.1', 'port' => '8080', 'path' => 'a/b/c', 'username' => 'guest', 'query' => { 'key1' => 'foo', 'key2' => 'baa' } }).and_return('http://guest@127.0.0.1:8080/a/b/c?key1=foo&key2=baa') end it 'with password set to undef' do is_expected.to run.with_params({ 'procol' => 'http', 'host' => '127.0.0.1', 'port' => '8080', 'path' => 'a/b/c', 'username' => 'guest', 'password' => :undef, }).and_return('http://guest@127.0.0.1:8080/a/b/c?key1=foo&key2=baa') end it 'with password set to an empty string' do is_expected.to run.with_params({ 'procol' => 'http', 'host' => '127.0.0.1', 'port' => '8080', 'path' => 'a/b/c', 'username' => 'guest', 'password' => '', 'query' => { 'key1' => 'foo', 'key2' => 'baa' } }).and_return('http://guest@127.0.0.1:8080/a/b/c?key1=foo&key2=baa') end end end ",,220,0
openstack%2Fpuppet-openstack-integration~master~I227c1755e2069c539fdb1702f2450220a16ffaa2,openstack/puppet-openstack-integration,master,I227c1755e2069c539fdb1702f2450220a16ffaa2,Migrate workaround for selinux default enforcement to more common place,ABANDONED,2021-06-22 13:28:50.000000000,2022-02-12 16:59:48.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 13:28:50.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario000.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'manifests/init.pp', 'fixtures/scenario004.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6be2875c6603a3ab952bcff49597f6983b0e3b9c', 'message': 'Migrate workaround for selinux default enforcement to more common place\n\nThis migrates the workaround implemented by [1] to more common place\nso that the same workaround is also used in litmus jobs(and beaker jobs\nin stable branches).\n\nCloses-Bug: #1933232\nChange-Id: I227c1755e2069c539fdb1702f2450220a16ffaa2\n'}]",0,797447,6be2875c6603a3ab952bcff49597f6983b0e3b9c,4,2,1,9816,,,0,"Migrate workaround for selinux default enforcement to more common place

This migrates the workaround implemented by [1] to more common place
so that the same workaround is also used in litmus jobs(and beaker jobs
in stable branches).

Closes-Bug: #1933232
Change-Id: I227c1755e2069c539fdb1702f2450220a16ffaa2
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/47/797447/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario000.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp', 'manifests/init.pp']",6,6be2875c6603a3ab952bcff49597f6983b0e3b9c,bug/1933232, # (amoralej) - disable selinux defaults until # https://tickets.puppetlabs.com/browse/PUP-7559 is fixed Concat { selinux_ignore_defaults => true } File { selinux_ignore_defaults => true } ,,5,35
openstack%2Fpuppet-openstacklib~master~I76908f8bd7abd0d326133aca2833d17d858486a0,openstack/puppet-openstacklib,master,I76908f8bd7abd0d326133aca2833d17d858486a0,Add unit tests for openstacklib::wsgi::uwsgi,ABANDONED,2021-03-29 08:46:32.000000000,2022-02-12 16:59:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-29 08:46:32.000000000', 'files': ['spec/defines/openstacklib_wsgi_uwsgi_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/4d984607e4615780fae3bc443bdb192186a28322', 'message': 'Add unit tests for openstacklib::wsgi::uwsgi\n\nDepends-on: https://review.opendev.org/780918\nChange-Id: I76908f8bd7abd0d326133aca2833d17d858486a0\n'}]",0,783620,4d984607e4615780fae3bc443bdb192186a28322,5,1,1,9816,,,0,"Add unit tests for openstacklib::wsgi::uwsgi

Depends-on: https://review.opendev.org/780918
Change-Id: I76908f8bd7abd0d326133aca2833d17d858486a0
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/20/783620/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/openstacklib_wsgi_uwsgi_spec.rb'],1,4d984607e4615780fae3bc443bdb192186a28322,uwsgi,"require 'spec_helper' describe 'openstacklib::wsgi::uwsgi' do let (:title) { 'keystone_uwsgi_config' } shared_examples 'openstacklib::wsgi::uwsgi' do context 'with default parameters' do let :params do {} end it 'configure uwsgi default params' do is_expected.to contain_keystone_uwsgi_config('uwsgi/processes').with_value(8) is_expected.to contain_keystone_uwsgi_config('uwsgi/threads').with_value(32) is_expected.to contain_keystone_uwsgi_config('uwsgi/listen').with_value(100) end end context 'with specific values' do let :params do { :processes => 4, :threads => 16, :listen_queue_size => 200, } end it 'configure uwsgi default params' do is_expected.to contain_keystone_uwsgi_config('uwsgi/processes').with_value(4) is_expected.to contain_keystone_uwsgi_config('uwsgi/threads').with_value(16) is_expected.to contain_keystone_uwsgi_config('uwsgi/listen').with_value(200) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts({ :os_workers => 8, })) end end it_behaves_like 'openstacklib::wsgi::uwsgi' end end ",,46,0
openstack%2Fpuppet-openstacklib~master~I0ddbac5d64d4c859b4f1613d8b059b75552551ca,openstack/puppet-openstacklib,master,I0ddbac5d64d4c859b4f1613d8b059b75552551ca,Add support for uwsgi configuration,ABANDONED,2021-03-18 09:33:13.000000000,2022-02-12 16:58:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-18 09:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/a672a34a506d382049a7eb7e3bdcc930e79c3f37', 'message': 'Add support for uwsgi configuration\n\nThis change introduces the basic class (openstacklib::wsgi::uwsgi) to\nmaintain parameters to run openstack services by uwsgi framework.\n\nDepends-on: https://review.opendev.org/780918\nChange-Id: I0ddbac5d64d4c859b4f1613d8b059b75552551ca\n'}, {'number': 2, 'created': '2021-03-18 09:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/e79d466b7040a261b1e4f549bd0519bba7ac208c', 'message': 'Add support for uwsgi configuration\n\nThis change introduces the resource type (openstacklib::wsgi::uwsgi) to\nmaintain parameters to run openstack services by uwsgi framework.\n\nDepends-on: https://review.opendev.org/780918\nChange-Id: I0ddbac5d64d4c859b4f1613d8b059b75552551ca\n'}, {'number': 3, 'created': '2021-03-18 12:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/ee407f68854bda9ec4964555baaf8a713108bf78', 'message': 'Add support for uwsgi configuration\n\nThis change introduces the resource type (openstacklib::wsgi::uwsgi) to\nmaintain parameters to run openstack services by uwsgi framework.\n\nDepends-on: https://review.opendev.org/780918\nChange-Id: I0ddbac5d64d4c859b4f1613d8b059b75552551ca\n'}, {'number': 4, 'created': '2021-03-29 08:46:32.000000000', 'files': ['manifests/wsgi/uwsgi.pp', 'releasenotes/notes/uwsgi-d1787559b7560787.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/8f447d7fff26563f8802439db8cd5817dc300a9c', 'message': 'Add support for uwsgi configuration\n\nThis change introduces the resource type (openstacklib::wsgi::uwsgi) to\nmaintain parameters to run openstack services by uwsgi framework.\n\nNote that unit tests will be added later once the patch to\npuppet-keystone[1] is merged.\n\n[1] https://review.opendev.org/780918\nChange-Id: I0ddbac5d64d4c859b4f1613d8b059b75552551ca\n'}]",0,781230,8f447d7fff26563f8802439db8cd5817dc300a9c,8,1,4,9816,,,0,"Add support for uwsgi configuration

This change introduces the resource type (openstacklib::wsgi::uwsgi) to
maintain parameters to run openstack services by uwsgi framework.

Note that unit tests will be added later once the patch to
puppet-keystone[1] is merged.

[1] https://review.opendev.org/780918
Change-Id: I0ddbac5d64d4c859b4f1613d8b059b75552551ca
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/30/781230/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/openstacklib_wsgi_uwsgi_spec.rb', 'manifests/wsgi/uwsgi.pp', 'releasenotes/notes/uwsgi-d1787559b7560787.yaml']",3,a672a34a506d382049a7eb7e3bdcc930e79c3f37,uwsgi,--- features: - | The new ``openstacklib::wsgi::uwsgi`` class has been added. ,,99,0
openstack%2Fpuppet-gnocchi~master~I023ab02f0d1eac5e6d9d72cff63319ed10797402,openstack/puppet-gnocchi,master,I023ab02f0d1eac5e6d9d72cff63319ed10797402,gnocchi::db: Do not test behavior of lower libraries,ABANDONED,2021-05-31 14:55:27.000000000,2022-02-12 16:58:37.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 14:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/fc028fbf188d5e6ab8765a49ebc7cae61c18b7cf', 'message': 'gnocchi::db: Do not test behavior of lower libraries\n\nCurrent unit tests of gnocchi::db tests behavior of puppet-oslo,\npuppetlabs-mysql and so on but this is not necessary and makes\nmaintaince difficult because we need to update all test implementaton\nconsistent with lower libraries.\nThis replaces the current unit test cases with the common ones we have\nconsistently in all repos.\n\nChange-Id: I023ab02f0d1eac5e6d9d72cff63319ed10797402\n'}, {'number': 2, 'created': '2021-05-31 15:04:10.000000000', 'files': ['spec/classes/gnocchi_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/1f22c98a418742f9695f5e4a5b82e35233e08a59', 'message': 'gnocchi::db: Do not test behavior of lower libraries\n\nCurrent unit tests of gnocchi::db tests behavior of puppetlabs-mysql\nand puppetlabs-postgresql but this is not necessary and makes our\nmaintaince difficult because we need to update all test implementaton\nconsistent with lower libraries.\n\nThis makes these unit tests assert only the required classes are\nincluded and stop testing behavior of these included classes.\n\nChange-Id: I023ab02f0d1eac5e6d9d72cff63319ed10797402\n'}]",0,793807,1f22c98a418742f9695f5e4a5b82e35233e08a59,7,2,2,9816,,,0,"gnocchi::db: Do not test behavior of lower libraries

Current unit tests of gnocchi::db tests behavior of puppetlabs-mysql
and puppetlabs-postgresql but this is not necessary and makes our
maintaince difficult because we need to update all test implementaton
consistent with lower libraries.

This makes these unit tests assert only the required classes are
included and stop testing behavior of these included classes.

Change-Id: I023ab02f0d1eac5e6d9d72cff63319ed10797402
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/07/793807/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/gnocchi_db_spec.rb'],1,fc028fbf188d5e6ab8765a49ebc7cae61c18b7cf,gnocchi-db-ut," it { is_expected.to contain_class('gnocchi::deps') } it { is_expected.to contain_oslo__db('gnocchi_config').with( :db_max_retries => '<SERVICE DEFAULT>', :connection => 'sqlite:////var/lib/gnocchi/gnocchi.sqlite', :connection_recycle_time => '<SERVICE DEFAULT>', :max_pool_size => '<SERVICE DEFAULT>', :max_retries => '<SERVICE DEFAULT>', :retry_interval => '<SERVICE DEFAULT>', :max_overflow => '<SERVICE DEFAULT>', :pool_timeout => '<SERVICE DEFAULT>', :mysql_enable_ndb => '<SERVICE DEFAULT>', :database_db_max_retries => '-1', :database_connection => 'mysql+pymysql://gnocchi:gnocchi@localhost/gnocchi', :database_connection_recycle_time => '3601', :database_max_pool_size => '11', :database_max_retries => '11', :database_retry_interval => '11', :database_max_overflow => '21', :database_pool_timeout => '21', :mysql_enable_ndb => true, it { is_expected.to contain_class('gnocchi::deps') } it { is_expected.to contain_oslo__db('gnocchi_config').with( :db_max_retries => '-1', :connection => 'mysql+pymysql://gnocchi:gnocchi@localhost/gnocchi', :connection_recycle_time => '3601', :max_pool_size => '11', :max_retries => '11', :retry_interval => '11', :max_overflow => '21', :pool_timeout => '21', :mysql_enable_ndb => true,"," it { should contain_gnocchi_config('indexer/url').with( :value => 'sqlite:////var/lib/gnocchi/gnocchi.sqlite', :secret => true, :database_connection => 'mysql+pymysql://gnocchi:gnocchi@localhost/gnocchi' it { should contain_gnocchi_config('indexer/url').with( :value => 'mysql+pymysql://gnocchi:gnocchi@localhost/gnocchi', :secret => true, context 'with postgresql backend' do let :params do { :database_connection => 'postgresql://gnocchi:gnocchi@localhost/gnocchi', } end it { should contain_package('python-psycopg2').with_ensure('present') } end context 'with MySQL-python library as backend package' do let :params do { :database_connection => 'mysql://gnocchi:gnocchi@localhost/gnocchi', } end it { should contain_package('python-mysqldb').with_ensure('present') } end context 'with incorrect database_connection string' do let :params do { :database_connection => 'redis://gnocchi:gnocchi@localhost/gnocchi', } end it { should raise_error(Puppet::Error, /validate_re/) } end context 'with incorrect pymysql database_connection string' do let :params do { :database_connection => 'foo+pymysql://gnocchi:gnocchi@localhost/gnocchi', } end it { should raise_error(Puppet::Error, /validate_re/) } end end shared_examples 'gnocchi::db on Debian' do context 'using pymysql driver' do let :params do { :database_connection => 'mysql+pymysql://gnocchi:gnocchi@localhost/gnocchi', } end it { should contain_package('gnocchi-backend-package').with( :ensure => 'present', :name => platform_params[:pymysql_package_name], :tag => 'openstack' )} end end shared_examples 'gnocchi::db on RedHat' do context 'using sqlite' do it { should contain_package('gnocchi-indexer-sqlalchemy').with( :name => 'openstack-gnocchi-indexer-sqlalchemy', :ensure => 'present', :tag => ['openstack', 'gnocchi-package'] )} end context 'using pymysql driver' do let :params do { :database_connection => 'mysql+pymysql://gnocchi:gnocchi@localhost/gnocchi', } end it { should_not contain_package('gnocchi-backend-package') } end let(:platform_params) do case facts[:osfamily] when 'Debian' { :pymysql_package_name => 'python3-pymysql', } end end it_behaves_like ""gnocchi::db on #{facts[:osfamily]}""",33,91
openstack%2Fpuppet-openstacklib~master~I4ee9bed6ad480a8978749bb5c2c9b8ccd0e70890,openstack/puppet-openstacklib,master,I4ee9bed6ad480a8978749bb5c2c9b8ccd0e70890,WIP: Use iscsid-init service to set initiator name,ABANDONED,2021-06-04 11:47:50.000000000,2022-02-12 16:57:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-04 11:47:50.000000000', 'files': ['manifests/iscsid.pp', 'manifests/params.pp', 'spec/classes/openstacklib_iscsid_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/e4b4cf01c0d540b22d1829cdb486b7539a7aa647', 'message': 'WIP: Use iscsid-init service to set initiator name\n\nChange-Id: I4ee9bed6ad480a8978749bb5c2c9b8ccd0e70890\n'}]",0,794780,e4b4cf01c0d540b22d1829cdb486b7539a7aa647,3,1,1,9816,,,0,"WIP: Use iscsid-init service to set initiator name

Change-Id: I4ee9bed6ad480a8978749bb5c2c9b8ccd0e70890
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/80/794780/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/iscsid.pp', 'manifests/params.pp', 'spec/classes/openstacklib_iscsid_spec.rb']",3,e4b4cf01c0d540b22d1829cdb486b7539a7aa647,iscsid," :name => platform_params[:open_iscsi_package_name], :name => 'iscsid',"," :name => platform_params[:open_iscsi_package_name], it { is_expected.to contain_exec('create-initiatorname-file').with({ :command => 'echo ""InitiatorName=`/usr/sbin/iscsi-iname`"" > /etc/iscsi/initiatorname.iscsi', :path => ['/usr/bin','/usr/sbin','/bin','/usr/bin'], :unless => 'test -e /etc/iscsi/initiatorname.iscsi', }).that_requires('Package[open-iscsi]')} ",22,18
openstack%2Fpuppet-openstack-integration~master~Ibb32a794aebb19ba5bfb2261d5aba8fd49b210f6,openstack/puppet-openstack-integration,master,Ibb32a794aebb19ba5bfb2261d5aba8fd49b210f6,Remove content provider job,ABANDONED,2021-07-01 06:54:12.000000000,2022-02-12 16:57:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-01 06:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fdf927a08ef87f88c4314d84a7a220d369abdf27', 'message': 'Remove content provider job\n\nA separate content provider job for tripleo-undercloud job is redundant\nbecause only the subsequent tripleo job consumes the container built\nby the job.\n\nAlso, the tripleo-puppet-standalone template is not used by any modules\nso we can remove it as well.\n\nChange-Id: Ibb32a794aebb19ba5bfb2261d5aba8fd49b210f6\n'}, {'number': 2, 'created': '2021-07-01 06:55:53.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/04387988da7e49af2a6ef0208e2870515491e4db', 'message': 'Remove content provider job\n\nA separate content provider job for tripleo-undercloud job is redundant\nbecause only the subsequent tripleo job consumes the container built\nby the job.\n\nAlso, the tripleo-puppet-standalone template is not used by any modules\nso we can remove it as well.\n\nChange-Id: Ibb32a794aebb19ba5bfb2261d5aba8fd49b210f6\n'}]",1,798977,04387988da7e49af2a6ef0208e2870515491e4db,5,1,2,9816,,,0,"Remove content provider job

A separate content provider job for tripleo-undercloud job is redundant
because only the subsequent tripleo job consumes the container built
by the job.

Also, the tripleo-puppet-standalone template is not used by any modules
so we can remove it as well.

Change-Id: Ibb32a794aebb19ba5bfb2261d5aba8fd49b210f6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/77/798977/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,fdf927a08ef87f88c4314d84a7a220d369abdf27,tripleo-undercloud, vars: build_container_images: true tripleo-puppet-ci-centos-8-undercloud-containers tripleo-puppet-ci-centos-8-undercloud-containers build_container_images: true, - job: name: tripleo-puppet-ci-centos-8-content-provider parent: tripleo-ci-centos-8-content-provider irrelevant-files: *irrelevant_files - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: &undercloud_consumer_vars consumer_job: true remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: *undercloud_consumer_vars dependencies: - tripleo-puppet-ci-centos-8-content-provider - project-template: name: tripleo-puppet-standalone check: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: vars: &standalone_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider gate: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: vars: *standalone_consumer_vars dependencies: - tripleo-puppet-ci-centos-8-content-provider,5,39
openstack%2Fpuppet-openstack-integration~master~Ia364ef0e81bac73abeb9049c20f058c2bdcdd191,openstack/puppet-openstack-integration,master,Ia364ef0e81bac73abeb9049c20f058c2bdcdd191,Enable ironic-inspector on Ubuntu/Debian,ABANDONED,2021-04-30 08:44:16.000000000,2022-02-12 16:57:09.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 08:44:16.000000000', 'files': ['manifests/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e87229d45e86990afb7c14e306a5f6be7aafb7a9', 'message': 'Enable ironic-inspector on Ubuntu/Debian\n\nironic-inspector has been disabled on Ubuntu/Debian but the packages\nare already available in these two distros.\n\nChange-Id: Ia364ef0e81bac73abeb9049c20f058c2bdcdd191\n'}]",0,788905,e87229d45e86990afb7c14e306a5f6be7aafb7a9,4,2,1,9816,,,0,"Enable ironic-inspector on Ubuntu/Debian

ironic-inspector has been disabled on Ubuntu/Debian but the packages
are already available in these two distros.

Change-Id: Ia364ef0e81bac73abeb9049c20f058c2bdcdd191
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/05/788905/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ironic.pp'],1,e87229d45e86990afb7c14e306a5f6be7aafb7a9,ironic-inspector," class { 'ironic::inspector::db::mysql': password => 'a_big_secret', } class { 'ironic::inspector::authtoken': password => 'a_big_secret', } class { 'ironic::pxe': } class { 'ironic::inspector::db': database_connection => 'mysql+pymysql://ironic-inspector:a_big_secret@127.0.0.1/ironic-inspector?charset=utf8', } class { 'ironic::inspector::ironic': password => 'a_big_secret', auth_url => ""${::openstack_integration::config::keystone_auth_uri}/v3"", } class { 'ironic::inspector': listen_address => $::openstack_integration::config::host, default_transport_url => os_transport_url({ 'transport' => $::openstack_integration::config::messaging_default_proto, 'host' => $::openstack_integration::config::host, 'port' => $::openstack_integration::config::messaging_default_port, 'username' => 'ironic', 'password' => 'an_even_bigger_secret', }), dnsmasq_interface => 'eth0',"," case $::osfamily { 'Debian': { warning(""Ironic inspector packaging is not ready on ${::osfamily}."") } 'RedHat': { class { 'ironic::inspector::db::mysql': password => 'a_big_secret', } class { 'ironic::inspector::authtoken': password => 'a_big_secret', } class { 'ironic::pxe': } class { 'ironic::inspector::db': database_connection => 'mysql+pymysql://ironic-inspector:a_big_secret@127.0.0.1/ironic-inspector?charset=utf8', } class { 'ironic::inspector::ironic': password => 'a_big_secret', auth_url => ""${::openstack_integration::config::keystone_auth_uri}/v3"", } class { 'ironic::inspector': listen_address => $::openstack_integration::config::host, default_transport_url => os_transport_url({ 'transport' => $::openstack_integration::config::messaging_default_proto, 'host' => $::openstack_integration::config::host, 'port' => $::openstack_integration::config::messaging_default_port, 'username' => 'ironic', 'password' => 'an_even_bigger_secret', }), dnsmasq_interface => 'eth0', } } default: { fail(""Unsupported osfamily (${::osfamily})"") }",24,34
openstack%2Fpuppet-openstack-integration~master~I99b1319617e8e82fe4e86a24aa060dc1d122a673,openstack/puppet-openstack-integration,master,I99b1319617e8e82fe4e86a24aa060dc1d122a673,WIP: Enable networking-baremetal in scenario002,ABANDONED,2021-07-23 06:41:11.000000000,2022-02-12 16:57:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-23 06:41:11.000000000', 'files': ['manifests/neutron.pp', 'fixtures/scenario002.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/53b46ae9e89c8511aa58b763ee8a2d489648744b', 'message': 'WIP: Enable networking-baremetal in scenario002\n\nChange-Id: I99b1319617e8e82fe4e86a24aa060dc1d122a673\n'}]",0,801938,53b46ae9e89c8511aa58b763ee8a2d489648744b,3,1,1,9816,,,0,"WIP: Enable networking-baremetal in scenario002

Change-Id: I99b1319617e8e82fe4e86a24aa060dc1d122a673
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/801938/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/neutron.pp', 'fixtures/scenario002.pp']",2,53b46ae9e89c8511aa58b763ee8a2d489648744b,baremetal, $ipv6 = false $ec2api_enabled = false # networking-baremetal is not packaged $networking_baremetal_enabled = false $ipv6 = true $ec2api_enabled = true $networking_baremetal_enabled = trueclass { 'openstack_integration::neutron': enable_baremetal = $networking_baremetal_enabled }, $ipv6 = false $ec2api_enabled = false $ipv6 = true $ec2api_enabled = trueinclude openstack_integration::neutron,28,6
openstack%2Fpuppet-openstack-cookiecutter~master~Ieb31f78bf617a2ee16dfeac5b9ddb26057c48eaa,openstack/puppet-openstack-cookiecutter,master,Ieb31f78bf617a2ee16dfeac5b9ddb26057c48eaa,Bump dependencies from Puppet OpenStack,ABANDONED,2021-11-02 04:58:15.000000000,2022-02-12 16:54:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-02 04:58:15.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/452a4ff39fde892e9c4c9819a7134de201e55613', 'message': 'Bump dependencies from Puppet OpenStack\n\nChange-Id: Ieb31f78bf617a2ee16dfeac5b9ddb26057c48eaa\n'}]",1,816297,452a4ff39fde892e9c4c9819a7134de201e55613,5,1,1,9816,,,0,"Bump dependencies from Puppet OpenStack

Change-Id: Ieb31f78bf617a2ee16dfeac5b9ddb26057c48eaa
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/97/816297/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/metadata.json'],1,452a4ff39fde892e9c4c9819a7134de201e55613,," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"""," ""version_requirement"": "">=14.1.0 <15.0.0"" ""version_requirement"": "">=14.1.0 <15.0.0"" ""version_requirement"": "">=14.1.0 <15.0.0""",3,3
openstack%2Fpuppet-swift~master~I75a75459b10d0dbf13f72694bc4a70eb4a958e49,openstack/puppet-swift,master,I75a75459b10d0dbf13f72694bc4a70eb4a958e49,Add support for [filter:slo] allow_async_delete,ABANDONED,2021-09-22 13:27:46.000000000,2022-02-12 16:53:34.000000000,,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-22 13:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1c575ad12e732d8b5fb758e4ab41dbbbb0c34ba4', 'message': 'Add support for [filter:slo] allow_async_delete\n\n... which was implemented during the Wallaby cycle[1].\n\n[1] e78377624ab7d34d2fedc06e907dcb9899d89b4a\n\nChange-Id: I75a75459b10d0dbf13f72694bc4a70eb4a958e49\n'}, {'number': 2, 'created': '2021-10-01 01:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a6a362da3db0648bbd5d054e97a60489f4bd7264', 'message': 'Add support for [filter:slo] allow_async_delete\n\n... which was implemented during the Wallaby cycle[1].\n\n[1] e78377624ab7d34d2fedc06e907dcb9899d89b4a\n\nChange-Id: I75a75459b10d0dbf13f72694bc4a70eb4a958e49\n'}, {'number': 3, 'created': '2021-10-01 07:05:25.000000000', 'files': ['spec/classes/swift_proxy_slo_spec.rb', 'releasenotes/notes/slo-allow_async_delete-0e9426d8c92198dc.yaml', 'manifests/proxy/slo.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/76355f8a20df64b865380cb0e46abe77f7c3ecc6', 'message': 'Add support for [filter:slo] allow_async_delete\n\n... which was implemented during the Wallaby cycle[1].\n\n[1] e78377624ab7d34d2fedc06e907dcb9899d89b4a\n\nChange-Id: I75a75459b10d0dbf13f72694bc4a70eb4a958e49\n'}]",0,810433,76355f8a20df64b865380cb0e46abe77f7c3ecc6,12,3,3,9816,,,0,"Add support for [filter:slo] allow_async_delete

... which was implemented during the Wallaby cycle[1].

[1] e78377624ab7d34d2fedc06e907dcb9899d89b4a

Change-Id: I75a75459b10d0dbf13f72694bc4a70eb4a958e49
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/33/810433/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_proxy_slo_spec.rb', 'releasenotes/notes/slo-allow_async_delete-0e9426d8c92198dc.yaml', 'manifests/proxy/slo.pp']",3,1c575ad12e732d8b5fb758e4ab41dbbbb0c34ba4,," $max_get_time = '86400', $allow_async_delete = $::os_service_default, 'filter:slo/allow_async_delete': value => $allow_async_delete;", $max_get_time = '86400',10,1
openstack%2Fpuppet-mistral~stable%2Fvictoria~Ib6005052e15c04b3ae4fb1e4ab2548c10efc6e8d,openstack/puppet-mistral,stable/victoria,Ib6005052e15c04b3ae4fb1e4ab2548c10efc6e8d,DNM: Checking Victoria tripleo undercloud job,ABANDONED,2021-07-12 06:13:23.000000000,2022-02-12 16:49:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-12 06:13:23.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/44be2c822ab82889e0a847e3adbc33c8b1122f4a', 'message': 'DNM: Checking Victoria tripleo undercloud job\n\nChange-Id: Ib6005052e15c04b3ae4fb1e4ab2548c10efc6e8d\n'}]",0,800417,44be2c822ab82889e0a847e3adbc33c8b1122f4a,3,1,1,9816,,,0,"DNM: Checking Victoria tripleo undercloud job

Change-Id: Ib6005052e15c04b3ae4fb1e4ab2548c10efc6e8d
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/17/800417/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,44be2c822ab82889e0a847e3adbc33c8b1122f4a,,,,0,1
openstack%2Fpuppet-octavia~master~Ife0de3c0a89576bf32a04c4fcebeedba4bc819e7,openstack/puppet-octavia,master,Ife0de3c0a89576bf32a04c4fcebeedba4bc819e7,DNM: Check TripleO job,ABANDONED,2021-07-14 15:17:55.000000000,2022-02-12 16:48:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-14 15:17:55.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/15265c2a06bde96f4bc8b4608f1847a27aa193f0', 'message': 'DNM: Check TripleO job\n\nChange-Id: Ife0de3c0a89576bf32a04c4fcebeedba4bc819e7\n'}]",0,800801,15265c2a06bde96f4bc8b4608f1847a27aa193f0,3,1,1,9816,,,0,"DNM: Check TripleO job

Change-Id: Ife0de3c0a89576bf32a04c4fcebeedba4bc819e7
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/01/800801/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,15265c2a06bde96f4bc8b4608f1847a27aa193f0,check-tripleo,,,1,0
openstack%2Fpuppet-neutron~master~I10a48ef6bc35b3ac2d370c85bfeb930a8b9b1e51,openstack/puppet-neutron,master,I10a48ef6bc35b3ac2d370c85bfeb930a8b9b1e51,Remove deprecated neutron_api_config,ABANDONED,2022-01-20 13:47:50.000000000,2022-02-12 16:46:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-20 13:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5d594a00592086ae60eaf8de0be9fe0e20148ff6', 'message': 'Remove deprecated neutron_api_config\n\nThe neutron_api_config type was deprecated in favor of the different\ntype(neutron_api_ini) which provides the same feature[1].\nBecause some cycles have passed since that deprecation, we are now\nready to remove it.\n\n[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6\n\nChange-Id: I10a48ef6bc35b3ac2d370c85bfeb930a8b9b1e51\n'}, {'number': 2, 'created': '2022-01-20 13:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2a5dbf86efb74633aa37ec3ef8c8bbad3ee422f8', 'message': 'Remove deprecated neutron_api_config\n\nThe neutron_api_config type was deprecated during Victoria cycle in\nfavor of the neutron_api_ini type which provides the same feature[1].\n\nBecause some cycles have passed since that deprecation, we are now\nready to remove it.\n\n[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6\n\nChange-Id: I10a48ef6bc35b3ac2d370c85bfeb930a8b9b1e51\n'}, {'number': 3, 'created': '2022-01-20 17:04:55.000000000', 'files': ['releasenotes/notes/remove-neutron_api_config-e43acb3536e619be.yaml', 'spec/unit/provider/neutron_api_config/ini_setting_spec.rb', 'lib/puppet/provider/neutron_api_config/ini_setting.rb', 'lib/puppet/type/neutron_api_config.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e12c7ebdde67ed7544c88e2fbe91434d18c35e47', 'message': 'Remove deprecated neutron_api_config\n\nThe neutron_api_config type was deprecated during Victoria cycle in\nfavor of the neutron_api_ini type which provides the same feature[1].\n\nBecause some cycles have passed since that deprecation, we are now\nready to remove it.\n\n[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6\n\nChange-Id: I10a48ef6bc35b3ac2d370c85bfeb930a8b9b1e51\n'}]",0,825503,e12c7ebdde67ed7544c88e2fbe91434d18c35e47,6,1,3,9816,,,0,"Remove deprecated neutron_api_config

The neutron_api_config type was deprecated during Victoria cycle in
favor of the neutron_api_ini type which provides the same feature[1].

Because some cycles have passed since that deprecation, we are now
ready to remove it.

[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6

Change-Id: I10a48ef6bc35b3ac2d370c85bfeb930a8b9b1e51
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/03/825503/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-neutron_api_config-e43acb3536e619be.yaml', 'lib/puppet/provider/neutron_api_config/ini_setting.rb', 'lib/puppet/type/neutron_api_config.rb']",3,5d594a00592086ae60eaf8de0be9fe0e20148ff6,,,"Puppet::Type.newtype(:neutron_api_config) do ensurable newparam(:name, :namevar => true) do desc 'Section/setting name to manage from api-paste.ini (DEPRECATED!)' newvalues(/\S+\/\S+/) end newproperty(:value) do desc 'The value of the setting to be defined.' munge do |value| value = value.to_s.strip value.capitalize! if value =~ /^(true|false)$/i value end def is_to_s( currentvalue ) if resource.secret? return '[old secret redacted]' else return currentvalue end end def should_to_s( newvalue ) if resource.secret? return '[new secret redacted]' else return newvalue end end end newparam(:secret, :boolean => true) do desc 'Whether to hide the value from Puppet logs. Defaults to `false`.' newvalues(:true, :false) defaultto false end newparam(:ensure_absent_val) do desc 'A value that is specified as the value property will behave as if ensure => absent was specified' defaultto('<SERVICE DEFAULT>') end end ",4,63
openstack%2Fironic-tempest-plugin~master~I1afcd9f2f89267467a103d4cdea240073422ff01,openstack/ironic-tempest-plugin,master,I1afcd9f2f89267467a103d4cdea240073422ff01,Addressing review comments,ABANDONED,2022-02-12 12:37:29.000000000,2022-02-12 12:38:59.000000000,,[],"[{'number': 1, 'created': '2022-02-12 12:37:29.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_cleaning.py', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/81db0d6cf6af992acf86cc93877196afc11c29c5', 'message': 'Addressing review comments\n\n- Added credentials\n- Changed api microversion\n- Removed service tags\n\nChange-Id: I1afcd9f2f89267467a103d4cdea240073422ff01\n'}]",0,828939,81db0d6cf6af992acf86cc93877196afc11c29c5,2,0,1,31719,,,0,"Addressing review comments

- Added credentials
- Changed api microversion
- Removed service tags

Change-Id: I1afcd9f2f89267467a103d4cdea240073422ff01
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/39/828939/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_cleaning.py', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py']",2,81db0d6cf6af992acf86cc93877196afc11c29c5,,# Copyright (c) 2022 Dell Inc. or its subsidiaries.,# Copyright (c) 2022 Dell Inc. or its subsidiaries.#,6,6
openstack%2Fkeystone~master~Ib832a8a9257ecdc7bffcc81ee003d1f5a37588e0,openstack/keystone,master,Ib832a8a9257ecdc7bffcc81ee003d1f5a37588e0,Fix API path in document,MERGED,2022-02-11 09:20:59.000000000,2022-02-12 09:54:02.000000000,2022-02-11 18:15:12.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 09:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/85e096dc50792c0f22684ecf77bf85677a3bcc8a', 'message': 'Fix API path\n\nGET /limits-model => GET /limits/model\n\nChange-Id: Ib832a8a9257ecdc7bffcc81ee003d1f5a37588e0\n'}, {'number': 2, 'created': '2022-02-11 09:44:13.000000000', 'files': ['doc/source/admin/unified-limits.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e833bd8478fe9fde6521b67375076369b3d50c4a', 'message': 'Fix API path in document\n\nGET /limits-model => GET /limits/model\n\nChange-Id: Ib832a8a9257ecdc7bffcc81ee003d1f5a37588e0\n'}]",0,828825,e833bd8478fe9fde6521b67375076369b3d50c4a,11,5,2,34427,,,0,"Fix API path in document

GET /limits-model => GET /limits/model

Change-Id: Ib832a8a9257ecdc7bffcc81ee003d1f5a37588e0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/25/828825/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/unified-limits.rst'],1,85e096dc50792c0f22684ecf77bf85677a3bcc8a,,Keystone exposes a ``GET /limits/model`` endpoint that returns the enforcement,Keystone exposes a ``GET /limits-model`` endpoint that returns the enforcement,1,1
openstack%2Fcyborg~master~I6a81ec9560aafc531a0147292f89ebb11b969bbf,openstack/cyborg,master,I6a81ec9560aafc531a0147292f89ebb11b969bbf,support program for fake driver,NEW,2019-12-03 07:38:33.000000000,2022-02-12 09:46:15.000000000,,"[{'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-12-03 07:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/167c1ce7b6862fc005cdfeed2562bed6fcc17a74', 'message': 'support program for fake driver\n\nChange-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf\n'}, {'number': 2, 'created': '2019-12-03 10:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7e70280fdeed1ff55b891b5568daa8b9cf26da45', 'message': 'support program for fake driver\n\nsumilate the fake program process similar to really fpga driver code.\nJust call ""ls"" shell command instead of fpga program tools.\n\nChange-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf\n'}, {'number': 3, 'created': '2019-12-03 12:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/03a2c4cffe0c69636a16d256a03750d08adf641e', 'message': 'support program for fake driver\n\nsumilate the fake program process similar to really fpga driver code.\nJust call ""ls"" shell command instead of fpga program tools.\n\nChange-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf\n'}, {'number': 4, 'created': '2019-12-04 03:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/846d9c4c63debc07edae293c84b94f3f686166b2', 'message': 'support program for fake driver\n\nsumilate the fake program process similar to really fpga driver code.\nJust call ""ls"" shell command instead of fpga program tools.\n\nChange-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf\n'}, {'number': 5, 'created': '2019-12-06 09:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7357c61ec21a89a56b8ca9fdc35319f45af27964', 'message': 'support program for fake driver\n\nsumilate the fake program process similar to really fpga driver code.\nJust call ""ls"" shell command instead of fpga program tools.\n\nChange-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf\n'}, {'number': 6, 'created': '2020-04-07 08:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/24ccd40ab11483a5bafe25a012004946a1070d78', 'message': 'support program for fake driver\n\nsumilate the fake program process similar to really fpga driver code.\nJust call ""ls"" shell command instead of fpga program tools.\n\nChange-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf\n'}, {'number': 7, 'created': '2020-04-07 09:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/540e74081d65fb039447f747acfeba25479e1945', 'message': 'support program for fake driver\n\nsumilate the fake program process similar to really fpga driver code.\nJust call ""ls"" shell command instead of fpga program tools.\n\nChange-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf\n'}, {'number': 8, 'created': '2020-04-07 11:43:39.000000000', 'files': ['cyborg/accelerator/drivers/fake.py', 'cyborg/tests/unit/accelerator/drivers/test_fake_driver.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/130e2dfbff7b2bc90849536140439294fe319833', 'message': 'support program for fake driver\n\nsumilate the fake program process similar to really fpga driver code.\nJust call ""ls"" shell command instead of fpga program tools.\n\nChange-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf\n'}]",16,697011,130e2dfbff7b2bc90849536140439294fe319833,21,4,8,14131,,,0,"support program for fake driver

sumilate the fake program process similar to really fpga driver code.
Just call ""ls"" shell command instead of fpga program tools.

Change-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/11/697011/8 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/drivers/fake.py', 'cyborg/tests/unit/accelerator/drivers/test_fake_driver.py']",2,167c1ce7b6862fc005cdfeed2562bed6fcc17a74,fake-driver-v1,"import mockfrom cyborg.common import constants from cyborg.common import exception @mock.patch('cyborg.accelerator.drivers.fake._fpga_program_privileged') def test_fake_driver_program(self, mock_prog): b = ""5e"" d = ""00"" f = ""0"" expect_cmd = ['/path/image'] fake_drv = FakeDriver() cpid_info = {""domain"": ""0000"", ""bus"": b, ""device"": d, ""function"": f} cpid = {'cpid_type': constants.AH_TYPE_TEST_PCI, 'cpid_info': cpid_info} # program PF mock_prog.return_value = bytes([0]) fake_drv.program_v2(cpid, ""/path/image"") mock_prog.assert_called_with(expect_cmd) def test_fake_driver_program_with_bad_bdf(self): b = ""pp"" d = ""yy"" f = ""0x0"" path = '/path/image' expect_cmd = [path] fake_drv = FakeDriver() cpid_info = {""domain"": ""0000"", ""bus"": b, ""device"": d, ""function"": f} cpid = {'cpid_type': constants.AH_TYPE_TEST_PCI, 'cpid_info': cpid_info} # program PF self.assertRaises(exception.InvalidParameterValue, fake_drv.program_v2, cpid, path) def test_fake_driver_program_with_bad_path(self): b = ""5e"" d = ""00"" f = ""0"" path = '/path/image' expect_cmd = [path] fake_drv = FakeDriver() cpid_info = {""domain"": ""0000"", ""bus"": b, ""device"": d, ""function"": f} cpid = {'cpid_type': constants.AH_TYPE_TEST_PCI, 'cpid_info': cpid_info} # program PF self.assertFalse(fake_drv.program_v2(cpid, path))",,113,0
openstack%2Fdesignate~master~If8bc6043d95f52f67899a5ac69a2f72c8fd4de17,openstack/designate,master,If8bc6043d95f52f67899a5ac69a2f72c8fd4de17,Fix recordset_records quota enforcement,MERGED,2019-10-08 08:05:01.000000000,2022-02-12 06:48:37.000000000,2022-02-12 06:47:14.000000000,"[{'_account_id': 11628}, {'_account_id': 15736}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30380}, {'_account_id': 31039}]","[{'number': 1, 'created': '2019-10-08 08:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/287fd813753ba1d3536f36b0a8bba7545d6770c8', 'message': 'fix Quota recordset_records do not take effect at the time recordset created\n\nFirst I set recordset_records=3, and I can create recordset with 4 records\nsuccessfully.\nNow enforce record quota by count records in database. when crteate recordset\nthe number in database is 0., and quotas will not work no matter how much\nquota recordset_records are set. And once the excess quota is created\nsuccessfully, it can not be updated. Unless quotas are updated.\n\nPartial-bug: #1847200\n\nChange-Id: If8bc6043d95f52f67899a5ac69a2f72c8fd4de17\n'}, {'number': 2, 'created': '2019-10-08 08:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e974a99317d3fb99b21b16adac616936472d175a', 'message': 'fix Quota recordset_records do not take effect at the time recordset created\n\nFirst I set recordset_records=3, and I can create recordset with 4 records\nsuccessfully.\nNow enforce record quota by count records in database. when create recordset\nthe number in database is 0., and quotas will not work no matter how much\nquota recordset_records are set. And once the excess quota is created\nsuccessfully, it can not be updated. Unless quotas are updated.\n\nPartial-bug: #1847200\n\nChange-Id: If8bc6043d95f52f67899a5ac69a2f72c8fd4de17\n'}, {'number': 3, 'created': '2019-10-09 01:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/69d3f607b588b41d0fa87c7516e2b13077097e33', 'message': 'fix Quota recordset_records do not take effect at the time recordset created\n\nFirst I set recordset_records=3, and I can create recordset with 4 records\nsuccessfully.\nNow enforce record quota by count records in database. when create recordset\nthe number in database is 0., and quotas will not work no matter how much\nquota recordset_records are set. And once the excess quota is created\nsuccessfully, it can not be updated. Unless quotas are updated.\n\nPartial-bug: #1847200\n\nChange-Id: If8bc6043d95f52f67899a5ac69a2f72c8fd4de17\n'}, {'number': 4, 'created': '2019-11-28 01:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6762df4473257dc88545ea8772906dfbf6e5554c', 'message': 'fix Quota recordset_records do not take effect at the time recordset created\n\nFirst I set recordset_records=3, and I can create recordset with 4 records\nsuccessfully.\nNow enforce record quota by count records in database. when create recordset\nthe number in database is 0., and quotas will not work no matter how much\nquota recordset_records are set. And once the excess quota is created\nsuccessfully, it can not be updated. Unless quotas are updated.\n\nPartial-bug: #1847200\n\nChange-Id: If8bc6043d95f52f67899a5ac69a2f72c8fd4de17\n'}, {'number': 5, 'created': '2020-10-23 01:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9ccae3cedd695e3dbb41b1f187116cc4c870c54d', 'message': 'fix Quota recordset_records do not take effect at the time recordset created\n\nFirst I set recordset_records=3, and I can create recordset with 4 records\nsuccessfully.\nNow enforce record quota by count records in database. when create recordset\nthe number in database is 0., and quotas will not work no matter how much\nquota recordset_records are set. And once the excess quota is created\nsuccessfully, it can not be updated. Unless quotas are updated.\n\nPartial-bug: #1847200\n\nChange-Id: If8bc6043d95f52f67899a5ac69a2f72c8fd4de17\n'}, {'number': 6, 'created': '2022-02-11 01:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f8d12cf909523b3a19187e8af113ae929d14184b', 'message': 'Fix recordset_records quota enforcement\n\nFirst I set recordset_records=3, and I can create recordset with 4 records\nsuccessfully.\nNow enforce record quota by count records in database. when create recordset\nthe number in database is 0., and quotas will not work no matter how much\nquota recordset_records are set. And once the excess quota is created\nsuccessfully, it can not be updated. Unless quotas are updated.\n\nCloses-Bug: #1847200\n\nChange-Id: If8bc6043d95f52f67899a5ac69a2f72c8fd4de17\n'}, {'number': 7, 'created': '2022-02-11 20:49:51.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'releasenotes/notes/Fix-recordset-records-quota-76ed3095dd2afbbe.yaml', 'designate/tests/test_quota/test_quota.py', 'designate/central/service.py', 'designate/quota/base.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/df10ff5b5c76657e4287b36fbf525ad91091dd34', 'message': 'Fix recordset_records quota enforcement\n\nFirst I set recordset_records=3, and I can create recordset with 4 records\nsuccessfully.\nNow enforce record quota by count records in database. when create recordset\nthe number in database is 0., and quotas will not work no matter how much\nquota recordset_records are set. And once the excess quota is created\nsuccessfully, it can not be updated. Unless quotas are updated.\n\nCloses-Bug: #1847200\n\nChange-Id: If8bc6043d95f52f67899a5ac69a2f72c8fd4de17\n'}]",2,687230,df10ff5b5c76657e4287b36fbf525ad91091dd34,29,6,7,30380,,,0,"Fix recordset_records quota enforcement

First I set recordset_records=3, and I can create recordset with 4 records
successfully.
Now enforce record quota by count records in database. when create recordset
the number in database is 0., and quotas will not work no matter how much
quota recordset_records are set. And once the excess quota is created
successfully, it can not be updated. Unless quotas are updated.

Closes-Bug: #1847200

Change-Id: If8bc6043d95f52f67899a5ac69a2f72c8fd4de17
",git fetch https://review.opendev.org/openstack/designate refs/changes/30/687230/3 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,287fd813753ba1d3536f36b0a8bba7545d6770c8,bug/1847200, recordset_records=len(recordset.records)), recordset_records=recordset_records),1,1
openstack%2Fglance~master~Ibdbeb752d29afeb48628587442577ab139be9ac9,openstack/glance,master,Ibdbeb752d29afeb48628587442577ab139be9ac9,Update migration constant,MERGED,2022-02-04 20:36:06.000000000,2022-02-12 06:35:59.000000000,2022-02-12 06:34:37.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 20:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6cc68959a3f56d901a72ce6872b08957f6b17ef6', 'message': 'Update migration constant part 1\n\nTrigger a major version increment in master.  When this lands, it\nwill break glance.tests.unit.gate.test_data_migration_version, which\nwill be fixed by change I895f8352a374.\n\nChange-Id: Ibdbeb752d29afeb48628587442577ab139be9ac9\nSem-Ver: api-break\n'}, {'number': 2, 'created': '2022-02-05 15:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bc48e3b90f06ae46a04ca58ab50852b12c619a2f', 'message': ""Update migration constant\n\nUpdate the data migration current release to 'yoga'.  Include a\nsemver pseudo-header in this commit message so that pbr will\nincrement the major version number, otherwise\nglance.tests.unit.gate.test_data_migration_version will break.\n\nChange-Id: Ibdbeb752d29afeb48628587442577ab139be9ac9\nSem-Ver: api-break\n""}, {'number': 3, 'created': '2022-02-08 15:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3cea20f01ac13e20a3f663f9a13196e072519e23', 'message': ""Update migration constant\n\nUpdate the data migration current release to 'yoga'.  Include a\nsemver pseudo-header in this commit message so that pbr will\nincrement the major version number, otherwise\nglance.tests.unit.gate.test_data_migration_version will break.\n\nAlso add a reminder about this to the release cycle tasks list.\n\nChange-Id: Ibdbeb752d29afeb48628587442577ab139be9ac9\nSem-Ver: api-break\n""}, {'number': 4, 'created': '2022-02-10 14:31:25.000000000', 'files': ['glance/db/migration.py', 'doc/source/contributor/releasecycle.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/ba5f556d276a5b0782220bd24ad2eae504403ddd', 'message': ""Update migration constant\n\nUpdate the data migration current release to 'yoga'.  Include a\nsemver pseudo-header in this commit message so that pbr will\nincrement the major version number, otherwise\nglance.tests.unit.gate.test_data_migration_version will break.\n\nAlso add a reminder about this to the release cycle tasks list.\n\nChange-Id: Ibdbeb752d29afeb48628587442577ab139be9ac9\nSem-Ver: api-break\n""}]",12,827919,ba5f556d276a5b0782220bd24ad2eae504403ddd,33,5,4,5314,,,0,"Update migration constant

Update the data migration current release to 'yoga'.  Include a
semver pseudo-header in this commit message so that pbr will
increment the major version number, otherwise
glance.tests.unit.gate.test_data_migration_version will break.

Also add a reminder about this to the release cycle tasks list.

Change-Id: Ibdbeb752d29afeb48628587442577ab139be9ac9
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/glance refs/changes/19/827919/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,6cc68959a3f56d901a72ce6872b08957f6b17ef6,update-mig-const,,,0,0
openstack%2Fkeystone~master~I8e2babbd4d75bd2dc3e8451e5e2604bfe98668a7,openstack/keystone,master,I8e2babbd4d75bd2dc3e8451e5e2604bfe98668a7,Add Python3 xena unit tests,MERGED,2021-03-26 18:37:14.000000000,2022-02-12 06:26:29.000000000,2022-02-12 06:22:04.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dc76c8defafb348488066ab0a83f277d41efe5d0', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8e2babbd4d75bd2dc3e8451e5e2604bfe98668a7\n'}, {'number': 2, 'created': '2022-02-06 06:00:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e826b05c3a1e72d543bd77dbbce6b2b7c2914142', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8e2babbd4d75bd2dc3e8451e5e2604bfe98668a7\n'}]",1,783451,e826b05c3a1e72d543bd77dbbce6b2b7c2914142,17,3,2,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I8e2babbd4d75bd2dc3e8451e5e2604bfe98668a7
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/783451/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dc76c8defafb348488066ab0a83f277d41efe5d0,add-xena-python-jobtemplates, - openstack-python3-xena-jobs-arm64, - openstack-python3-wallaby-jobs-arm64,1,1
openstack%2Fkeystone~master~I4170f4cc381d497a12796120b143f65a1894a301,openstack/keystone,master,I4170f4cc381d497a12796120b143f65a1894a301,Add Python3 wallaby unit tests,MERGED,2020-09-25 08:36:59.000000000,2022-02-12 06:16:10.000000000,2022-02-12 06:11:45.000000000,"[{'_account_id': 5046}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 08:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/729ba983aa1a173355612a5596265369bdb8e682', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I4170f4cc381d497a12796120b143f65a1894a301\n'}, {'number': 2, 'created': '2022-02-06 05:57:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/06383f5f61fcb7f0ff9514c389259562efba9240', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I4170f4cc381d497a12796120b143f65a1894a301\n'}]",1,754297,06383f5f61fcb7f0ff9514c389259562efba9240,17,4,2,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I4170f4cc381d497a12796120b143f65a1894a301
",git fetch https://review.opendev.org/openstack/keystone refs/changes/97/754297/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,729ba983aa1a173355612a5596265369bdb8e682,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Fpuppet-cinder~master~Ifa4005a24cebb6a8164cc47473060a5156dc3848,openstack/puppet-cinder,master,Ifa4005a24cebb6a8164cc47473060a5156dc3848,Testing the fix for missing var,ABANDONED,2022-02-10 15:52:37.000000000,2022-02-12 05:38:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-10 15:52:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1459ebe9010e3fdcb3cbb855802ea9556652d252', 'message': 'Testing the fix for missing var\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/828736\nChange-Id: Ifa4005a24cebb6a8164cc47473060a5156dc3848\n'}]",0,828737,1459ebe9010e3fdcb3cbb855802ea9556652d252,3,1,1,9816,,,0,"Testing the fix for missing var

Depends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/828736
Change-Id: Ifa4005a24cebb6a8164cc47473060a5156dc3848
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/37/828737/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1459ebe9010e3fdcb3cbb855802ea9556652d252,c8_teardown_master,,,1,0
openstack%2Ftripleo-heat-templates~master~I4cc8837b52e6b2356b6bc4436c340b2cb83879fe,openstack/tripleo-heat-templates,master,I4cc8837b52e6b2356b6bc4436c340b2cb83879fe,IDM server registration is fixed to one server only,MERGED,2021-12-19 00:29:53.000000000,2022-02-12 04:56:47.000000000,2022-02-12 04:56:47.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-19 00:29:53.000000000', 'files': ['deployment/ipa/ipaservices-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d142165f12a03bd3d0b27ed3b377e48b6a8ad5b', 'message': 'IDM server registration is fixed to one server only\n\nHeat IdMServer can not convey multiple values of IPA servers,\nand it is set to a string, limited to one IPA server only.\n\nSince IPA ansible playbook can accept multiple values of servers,\nIdMServer needs update to be changed from string to array.\n\nCloses-Bug: #1955319\nChange-Id: I4cc8837b52e6b2356b6bc4436c340b2cb83879fe\n'}]",2,822250,6d142165f12a03bd3d0b27ed3b377e48b6a8ad5b,18,4,1,16718,,,0,"IDM server registration is fixed to one server only

Heat IdMServer can not convey multiple values of IPA servers,
and it is set to a string, limited to one IPA server only.

Since IPA ansible playbook can accept multiple values of servers,
IdMServer needs update to be changed from string to array.

Closes-Bug: #1955319
Change-Id: I4cc8837b52e6b2356b6bc4436c340b2cb83879fe
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/822250/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ipa/ipaservices-baremetal-ansible.yaml'],1,6d142165f12a03bd3d0b27ed3b377e48b6a8ad5b,," default: [] type: comma_delimited_list equals: [{get_param: IdMServer}, []] - IPA_HOST: {get_param: [IdMServer, 0]}"," default: '' type: string equals: [{get_param: IdMServer}, """"] - IPA_HOST: {get_param: IdMServer}",4,4
openstack%2Ftripleo-heat-templates~master~I98e0ec977fe768c84a70572e4156d69cdbfccb54,openstack/tripleo-heat-templates,master,I98e0ec977fe768c84a70572e4156d69cdbfccb54,Checking bug 1960630,ABANDONED,2022-02-11 15:15:27.000000000,2022-02-12 03:25:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-11 15:15:27.000000000', 'files': ['deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dc5d4c8410c4e07fcfa6aa7306becce7ba1f874', 'message': 'Checking bug 1960630\n\nChange-Id: I98e0ec977fe768c84a70572e4156d69cdbfccb54\n'}]",0,828896,2dc5d4c8410c4e07fcfa6aa7306becce7ba1f874,4,2,1,9816,,,0,"Checking bug 1960630

Change-Id: I98e0ec977fe768c84a70572e4156d69cdbfccb54
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/828896/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-proxy-container-puppet.yaml'],1,2dc5d4c8410c4e07fcfa6aa7306becce7ba1f874,, tripleo::profile::base::swift::proxy::audit_enabled: true,,1,0
openstack%2Ftripleo-heat-templates~master~I7f64449685fc0116662baf780bf48381fdd15502,openstack/tripleo-heat-templates,master,I7f64449685fc0116662baf780bf48381fdd15502,Remove unused environment file,MERGED,2022-02-02 15:35:24.000000000,2022-02-12 03:19:12.000000000,2022-02-12 03:19:12.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-02 15:35:24.000000000', 'files': ['environments/services/undercloud-remove-novajoin.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33d4b44ae1104fd269153f5de75d44cfeb44d05d', 'message': 'Remove unused environment file\n\nThis file is no longer used by python-tripleoclient, and can be\ndropped.\n\nDepends-on: https://review.opendev.org/827518\nChange-Id: I7f64449685fc0116662baf780bf48381fdd15502\n'}]",6,827519,33d4b44ae1104fd269153f5de75d44cfeb44d05d,27,6,1,9816,,,0,"Remove unused environment file

This file is no longer used by python-tripleoclient, and can be
dropped.

Depends-on: https://review.opendev.org/827518
Change-Id: I7f64449685fc0116662baf780bf48381fdd15502
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/827519/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/services/undercloud-remove-novajoin.yaml'],1,33d4b44ae1104fd269153f5de75d44cfeb44d05d,novajoin-cleanup-default,,# A Heat environment file which can be used to enable # ipa services with an OTP provided resource_registry: OS::TripleO::Services::UndercloudRemoveNovajoin: ../../deployment/tls/undercloud-remove-novajoin.yaml ,0,4
openstack%2Fopenstack-ansible-rabbitmq_server~master~I86462f8279ebb5dc28e92fc8440cc0ab26f0759d,openstack/openstack-ansible-rabbitmq_server,master,I86462f8279ebb5dc28e92fc8440cc0ab26f0759d,Use journald logging for RabbitMQ,MERGED,2022-01-25 17:40:22.000000000,2022-02-12 02:24:22.000000000,2022-02-12 02:10:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-25 17:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/cf457c6933f395a7592a76918b190635b12e9d5e', 'message': 'Use journald logging for RabbitMQ\n\nSince RabbitMQ 3.9 [1] journald logging support has been implemented\n\nAs we use journald logging for most of the services and aim to make it\na standard, switching rabbitmq to journald follows this goal and\ndeployment unification\n\n[1] https://github.com/rabbitmq/rabbitmq-server/pull/2940\n\nChange-Id: I86462f8279ebb5dc28e92fc8440cc0ab26f0759d\n'}, {'number': 2, 'created': '2022-01-26 11:46:09.000000000', 'files': ['templates/rabbitmq.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/a31f2e20f41402aec309bbe45cfe84587921d956', 'message': 'Use journald logging for RabbitMQ\n\nSince RabbitMQ 3.9 [1] journald logging support has been implemented\n\nAs we use journald logging for most of the services and aim to make it\na standard, switching rabbitmq to journald follows this goal and\ndeployment unification\n\n[1] https://github.com/rabbitmq/rabbitmq-server/pull/2940\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/826446/\nChange-Id: I86462f8279ebb5dc28e92fc8440cc0ab26f0759d\n'}]",6,826345,a31f2e20f41402aec309bbe45cfe84587921d956,22,4,2,28619,,,0,"Use journald logging for RabbitMQ

Since RabbitMQ 3.9 [1] journald logging support has been implemented

As we use journald logging for most of the services and aim to make it
a standard, switching rabbitmq to journald follows this goal and
deployment unification

[1] https://github.com/rabbitmq/rabbitmq-server/pull/2940

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/826446/
Change-Id: I86462f8279ebb5dc28e92fc8440cc0ab26f0759d
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/45/826345/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/rabbitmq.conf.j2'],1,cf457c6933f395a7592a76918b190635b12e9d5e,,log.journald = true log.file = false ,,3,0
openstack%2Fopenstack-ansible-rabbitmq_server~master~Iffb5dd5f9a1937825e2cc345b720d7af072608c1,openstack/openstack-ansible-rabbitmq_server,master,Iffb5dd5f9a1937825e2cc345b720d7af072608c1,Remove old repos for Debian,MERGED,2022-02-01 09:08:29.000000000,2022-02-12 02:21:18.000000000,2022-02-12 02:03:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-01 09:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0c2033e5299a54489367f1af7b4f9c33721a00b4', 'message': ""Remove old repos for Debian\n\nIt appears that old repo must be removed explicitly and apt_repository\ndon't have an option for exclusive content when filename defined\nSo we need to drop old repo after switching to cloudsmith to avoid\nfetching data from them and make repos clean during upgrade.\n\nChange-Id: Iffb5dd5f9a1937825e2cc345b720d7af072608c1\n""}, {'number': 2, 'created': '2022-02-03 19:30:11.000000000', 'files': ['tasks/install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/3a735007c6f10c9a83e7e0680a5594c78f7eb793', 'message': ""Remove old repos for Debian\n\nIt appears that old repo must be removed explicitly and apt_repository\ndon't have an option for exclusive content when filename defined\nSo we need to drop old repo after switching to cloudsmith to avoid\nfetching data from them and make repos clean during upgrade.\n\nChange-Id: Iffb5dd5f9a1937825e2cc345b720d7af072608c1\n""}]",7,827221,3a735007c6f10c9a83e7e0680a5594c78f7eb793,25,3,2,28619,,,0,"Remove old repos for Debian

It appears that old repo must be removed explicitly and apt_repository
don't have an option for exclusive content when filename defined
So we need to drop old repo after switching to cloudsmith to avoid
fetching data from them and make repos clean during upgrade.

Change-Id: Iffb5dd5f9a1937825e2cc345b720d7af072608c1
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/21/827221/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/install_apt.yml'],1,0c2033e5299a54489367f1af7b4f9c33721a00b4,826446,"# NOTE(noonedeadpunk): Remove this after Y release - name: Remove old repos apt_repository: repo: ""{{ item.repo }}"" state: absent filename: ""{{ item.filename | default(omit) }}"" update_cache: no with_items: - repo: ""deb https://packagecloud.io/rabbitmq/rabbitmq-server/{{ ansible_facts['distribution'] | lower }} {{ ansible_facts['distribution_release'] | lower }} main"" filename: ""{{ rabbitmq_repo.filename | default(omit) }}"" condition: ""{{ (rabbitmq_install_method == 'external_repo') }}"" - repo: ""deb https://packages.erlang-solutions.com/{{ ansible_facts['distribution'] | lower }} {{ ansible_facts['distribution_release'] | lower }} contrib"" filename: ""{{ rabbitmq_erlang_repo.filename | default(omit) }}"" condition: ""{{ (rabbitmq_erlang_install_method == 'external_repo') }}"" when: - item.condition | default(True) - rabbitmq_upgrade | bool ",,18,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,stable/train,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-07 11:58:55.000000000,2022-02-12 00:35:59.000000000,2022-02-12 00:35:59.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-07 11:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/741844016636bb2fcdeee98001632d19392eb510', 'message': 'historical variable evaluated as bool\n\nThe tripleo_backup_and_restore_historical variable is checked by some\ntasks using when, but as it lacks the | bool extension, it is being\nevaluated as string, meaning that ""false"" is considered a valid and not\nempty string and as such evaluated as true. This patch fixes this\nbehaviour by evaluating the variable as as boolean value\n\nChange-Id: I73b0d054644eb43016d61299b7c372ca86b18472\n(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)\n'}, {'number': 2, 'created': '2022-02-07 12:05:16.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/backup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d418568446daead46496d3a2561d619d8b3ad3cd', 'message': 'historical variable evaluated as bool\n\nThe tripleo_backup_and_restore_historical variable is checked by some\ntasks using when, but as it lacks the | bool extension, it is being\nevaluated as string, meaning that ""false"" is considered a valid and not\nempty string and as such evaluated as true. This patch fixes this\nbehaviour by evaluating the variable as as boolean value\n\nChange-Id: I73b0d054644eb43016d61299b7c372ca86b18472\n(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)\n'}]",0,828133,d418568446daead46496d3a2561d619d8b3ad3cd,11,6,2,32968,,,0,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/828133/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'],1,741844016636bb2fcdeee98001632d19392eb510,historical_bool-stable/wallaby-stable/victoria-stable/ussuri-stable/train,"<<<<<<< HEAD (b7f71c Merge ""Disable cloud-init netconfig post os-net-config"" into) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""backup_and_restore"" will search for and load any operating system variable file # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" tags: - always - name: Take this node out of pacemaker command: pcs cluster stop --request-timeout={{ tripleo_backup_and_restore_pcs_timeout }} when: - pacemaker_enabled - tripleo_backup_and_restore_enable_snapshots|bool tags: - bar_create_recover_image - name: Check if /boot/efi is mounted when the OS uses UEFI set_fact: boot_efi_mount: ""{{ ansible_facts['mounts'] | selectattr('mount', 'equalto', '/boot/efi') | list | length > 0 }}"" when: efi_dir.stat.exists tags: - bar_create_recover_image - name: Manually mount /boot/efi if it is not mounted shell: | set -o pipefail mkdir /boot/efi_stack mount /dev/{{ tripleo_backup_and_restore_boot_efi_mount }} /boot/efi_stack dd if=/dev/{{ tripleo_backup_and_restore_boot_mount }} of=/boot/{{ tripleo_backup_and_restore_boot_mount }} when: - efi_dir.stat.exists - not boot_efi_mount tags: - bar_create_recover_image - name: Get date and time to add to the backup prefix command: ""date +\""{{ tripleo_backup_and_restore_date_argument }}\"""" register: bar_timestamp when: tripleo_backup_and_restore_historical | bool tags: - bar_create_recover_image - name: Modify on LOG_FILE on /etc/rear/local.conf lineinfile: path: /etc/rear/local.conf regexp: ""^LOGFILE.*"" line: LOGFILE=""$LOG_DIR/rear-$HOSTNAME-{{ bar_timestamp.stdout }}.log"" when: - tripleo_backup_and_restore_historical | bool tags: - bar_create_recover_image - name: Modify ISO_PREFIX on /etc/rear/local.conf lineinfile: path: /etc/rear/local.conf regexp: ""^ISO_PREFIX.*"" line: ISO_PREFIX=$HOSTNAME-{{ bar_timestamp.stdout }} when: - tripleo_backup_and_restore_historical tags: - bar_create_recover_image - name: Modify BACKUP_PROG_ARCHIVE on /etc/rear/local.conf lineinfile: path: /etc/rear/local.conf regexp: ""^BACKUP_PROG_ARCHIVE.*"" line: BACKUP_PROG_ARCHIVE=$HOSTNAME-{{ bar_timestamp.stdout }} when: - tripleo_backup_and_restore_historical tags: - bar_create_recover_image - name: Create the node backup command: rear {{ (tripleo_backup_and_restore_rear_simulate | bool) | ternary('-s ', '') }}-d -v mkbackup register: tripleo_backup_and_restore_rear_output when: tripleo_backup_and_restore_rear_output is undefined tags: - bar_create_recover_image - name: Display ReaR recovery image creation output debug: var: tripleo_backup_and_restore_rear_output tags: - bar_create_recover_image - name: Clean old backups shell: | set -o pipefail rm -rf /tmp/rear.* || true rm -rf /var/lib/rear/output/* failed_when: false args: warn: false tags: - bar_create_recover_image >>>>>>> CHANGE (14ec86 historical variable evaluated as bool) ",,124,0
openstack%2Fopenstack-ansible~stable%2Fxena~If48096a7309c7140cd9c182d5d3175e8d827cbd6,openstack/openstack-ansible,stable/xena,If48096a7309c7140cd9c182d5d3175e8d827cbd6,Rename RBD cinder backend,MERGED,2022-02-10 15:49:47.000000000,2022-02-11 23:07:47.000000000,2022-02-11 23:05:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-10 15:49:47.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9fde6408b8750bd9718b9a208fba1b3d2a896fd1', 'message': ""Rename RBD cinder backend\n\nRBD seems to be reserved name in cinder. Once it's used as\nvolume type, cinder fails with [1]\n\nWe rename backend name in doc and AIO to workaround the issue\n\n[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/\n\nCloses-Bug: #1877421\nChange-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6\n(cherry picked from commit e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628)\n""}]",1,828663,9fde6408b8750bd9718b9a208fba1b3d2a896fd1,10,3,1,28619,,,0,"Rename RBD cinder backend

RBD seems to be reserved name in cinder. Once it's used as
volume type, cinder fails with [1]

We rename backend name in doc and AIO to workaround the issue

[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/

Closes-Bug: #1877421
Change-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6
(cherry picked from commit e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/828663/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml']",3,9fde6408b8750bd9718b9a208fba1b3d2a896fd1,bug/1877421-stable/xena," ""rbd_volumes"":"," ""RBD"":",3,3
openstack%2Fswift~master~If218fe19eb75c42f56d25bf9c61adceeec025b6e,openstack/swift,master,If218fe19eb75c42f56d25bf9c61adceeec025b6e,AUTHORS/CHANGELOG for 2.29.0,MERGED,2022-01-29 01:17:11.000000000,2022-02-11 23:03:34.000000000,2022-02-11 21:48:37.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-29 01:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/268231dc13b95f2c5abfb7a08fa74e2571198fa1', 'message': 'AUTHORS/CHANGELOG for 2.29.0\n\nChange-Id: If218fe19eb75c42f56d25bf9c61adceeec025b6e\n'}, {'number': 2, 'created': '2022-02-03 01:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bdfa8be7755fbf9f295e8db2dd16569fa5dc2e1a', 'message': 'AUTHORS/CHANGELOG for 2.29.0\n\nChange-Id: If218fe19eb75c42f56d25bf9c61adceeec025b6e\n'}, {'number': 3, 'created': '2022-02-04 19:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/48dd71255d4db3f369593d670aba9798d710f288', 'message': 'AUTHORS/CHANGELOG for 2.29.0\n\nChange-Id: If218fe19eb75c42f56d25bf9c61adceeec025b6e\n'}, {'number': 4, 'created': '2022-02-10 16:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/205a19b50485d2541076d17fd7c7703a1ea2ed38', 'message': 'AUTHORS/CHANGELOG for 2.29.0\n\nChange-Id: If218fe19eb75c42f56d25bf9c61adceeec025b6e\n'}, {'number': 5, 'created': '2022-02-11 19:59:43.000000000', 'files': ['CHANGELOG', 'releasenotes/notes/2_29_0_release-af71f7efd73109b0.yaml', 'AUTHORS'], 'web_link': 'https://opendev.org/openstack/swift/commit/975d3dbcfe8ef7e8007444e5bb5c0b3f890e534e', 'message': 'AUTHORS/CHANGELOG for 2.29.0\n\nChange-Id: If218fe19eb75c42f56d25bf9c61adceeec025b6e\n'}]",5,826947,975d3dbcfe8ef7e8007444e5bb5c0b3f890e534e,31,4,5,15343,,,0,"AUTHORS/CHANGELOG for 2.29.0

Change-Id: If218fe19eb75c42f56d25bf9c61adceeec025b6e
",git fetch https://review.opendev.org/openstack/swift refs/changes/47/826947/4 && git format-patch -1 --stdout FETCH_HEAD,"['CHANGELOG', 'AUTHORS']",2,268231dc13b95f2c5abfb7a08fa74e2571198fa1,release-2-29-0,Aymeric Ducroquetz (aymeric.ducroquetz@ovhcloud.com)Dr. Jens Harbott (harbott@osism.tech)Florent Vennetier (florent.vennetier@ovhcloud.com)jinyuanliu (liujinyuan@inspur.com)Luciano Lo Giudice (luciano.logiudice@canonical.com)Matthew Vernon (mvernon@wikimedia.org)Nicholas Njihia (nicholas.njihia@canonical.com),,121,1
openstack%2Frequirements~master~I4c644e473c0be569f36056e1505bf0eac76df51a,openstack/requirements,master,I4c644e473c0be569f36056e1505bf0eac76df51a,Constrain 'coverage' for python 3.9,ABANDONED,2022-02-11 16:16:18.000000000,2022-02-11 22:57:14.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 16:16:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c6943e855c2849151f1aaedb580578682e7ebc5b', 'message': 'Constrain \'coverage\' for python 3.9\n\nYoga supports py3.6, 3.8, and 3.9 and testing is supposed to be done\nin at least 3.6 and 3.9 [0].  For the \'coverage\' package, the\nfollowing is currently in upper-constraints.txt:\n\n  coverage===6.2;python_version==\'3.6\'\n  coverage===6.3.1;python_version==\'3.8\'\n\n(We have to do something like this because python 3.6 is EOL and\npackages we consume are dropping support for it.)\n\nThis leaves the package unconstrained for python 3.9, and the pattern\nis repeated throughout the file for other packages.  It also leaves\npython 3.7 unconstrained.  (Technically, OpenStack doesn\'t support 3.7,\nbut I\'m not sure that should mean ""anything goes"" in the u-c.)\n\nThe point of this patch is to get the discussion going about what\npattern we should be using in the u-c file to handle this situation.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I4c644e473c0be569f36056e1505bf0eac76df51a\n'}]",0,828903,c6943e855c2849151f1aaedb580578682e7ebc5b,6,2,1,5314,,,0,"Constrain 'coverage' for python 3.9

Yoga supports py3.6, 3.8, and 3.9 and testing is supposed to be done
in at least 3.6 and 3.9 [0].  For the 'coverage' package, the
following is currently in upper-constraints.txt:

  coverage===6.2;python_version=='3.6'
  coverage===6.3.1;python_version=='3.8'

(We have to do something like this because python 3.6 is EOL and
packages we consume are dropping support for it.)

This leaves the package unconstrained for python 3.9, and the pattern
is repeated throughout the file for other packages.  It also leaves
python 3.7 unconstrained.  (Technically, OpenStack doesn't support 3.7,
but I'm not sure that should mean ""anything goes"" in the u-c.)

The point of this patch is to get the discussion going about what
pattern we should be using in the u-c file to handle this situation.

[0] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I4c644e473c0be569f36056e1505bf0eac76df51a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/828903/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c6943e855c2849151f1aaedb580578682e7ebc5b,coverage-py39,coverage===6.2;python_version<='3.6' coverage===6.3.1;python_version>='3.7',coverage===6.2;python_version=='3.6' coverage===6.3.1;python_version=='3.8',2,2
openstack%2Fswift~master~I8665e416e419a31f096268413bbd71a01ac8e70a,openstack/swift,master,I8665e416e419a31f096268413bbd71a01ac8e70a,Trim tempurl signature in the logs (CVE-2017-8761),ABANDONED,2021-11-10 21:10:16.000000000,2022-02-11 22:29:57.000000000,,"[{'_account_id': 6968}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 21:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3655af59a15424407cc0aafeeb8ffd504bbb933a', 'message': 'Fix CVE-2017-8761\n\nChange-Id: I8665e416e419a31f096268413bbd71a01ac8e70a\n'}, {'number': 2, 'created': '2021-11-11 05:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/09314240b5626ea9b80008ee9021081af460d5f7', 'message': 'Fix CVE-2017-8761\n\nChange-Id: I8665e416e419a31f096268413bbd71a01ac8e70a\n'}, {'number': 3, 'created': '2021-11-11 22:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8058d0fbae18980fd0d0bf0b7997b6f54bc20025', 'message': 'Fix CVE-2017-8761\n\nCloses-Bug: #1685798\nChange-Id: I8665e416e419a31f096268413bbd71a01ac8e70a\n'}, {'number': 4, 'created': '2021-11-11 22:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bda5aef40dbd35e241bc553aa12c87529286e8c1', 'message': 'Trim tempurl signature in the logs (CVE-2017-8761)\n\nThis trims the temp_url_sig querystring for valid URLs (ie ones that are\nsuccessfully authenticated) within the current request environment,\nwhich is finally used when logging the request. By default it will only\nkeep the first 8 chars, which should be enough for troubleshooting.\n\nThis is especially important with tempurls that are valid for extended\nperiods and/or when using central logging servers.\n\nThere are two cases when the whole signature might be still revealed in\nthe logs:\n\n- if eventlet_debug is enabled in the proxy\n- if a tempurl sig/expires combination is invalid\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I8665e416e419a31f096268413bbd71a01ac8e70a\n'}, {'number': 5, 'created': '2021-11-11 22:54:51.000000000', 'files': ['swift/common/middleware/tempurl.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/test_tempurl.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5e7fd8efd7076ef9198a04bb972cb4c9c286d126', 'message': 'Trim tempurl signature in the logs (CVE-2017-8761)\n\nThis trims the temp_url_sig querystring for valid URLs (ie ones that are\nsuccessfully authenticated) within the current request environment,\nwhich is finally used when logging the request. By default it will only\nkeep the first 8 chars, which should be enough for troubleshooting.\n\nThis is especially important with tempurls that are valid for extended\nperiods and/or when using central logging servers.\n\nThere are two cases when the whole signature might be still revealed in\nthe logs:\n\n- if eventlet_debug is enabled in the proxy\n- if a tempurl sig/expires combination is invalid\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I8665e416e419a31f096268413bbd71a01ac8e70a\n'}]",19,817476,5e7fd8efd7076ef9198a04bb972cb4c9c286d126,23,4,5,1179,,,0,"Trim tempurl signature in the logs (CVE-2017-8761)

This trims the temp_url_sig querystring for valid URLs (ie ones that are
successfully authenticated) within the current request environment,
which is finally used when logging the request. By default it will only
keep the first 8 chars, which should be enough for troubleshooting.

This is especially important with tempurls that are valid for extended
periods and/or when using central logging servers.

There are two cases when the whole signature might be still revealed in
the logs:

- if eventlet_debug is enabled in the proxy
- if a tempurl sig/expires combination is invalid

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Closes-Bug: #1685798
Change-Id: I8665e416e419a31f096268413bbd71a01ac8e70a
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/817476/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/tempurl.py', 'test/unit/common/middleware/test_tempurl.py']",2,3655af59a15424407cc0aafeeb8ffd504bbb933a,," trimmed_sig_qs = 'temp_url_sig=%s...' % sig[:8] self.assertIn(trimmed_sig_qs, req.environ.get('QUERY_STRING'))",,8,1
openstack%2Fwhitebox-tempest-plugin~master~Ife7277db7be8d32a2630b3a221e641f9dca1ceb3,openstack/whitebox-tempest-plugin,master,Ife7277db7be8d32a2630b3a221e641f9dca1ceb3,Consolidate roles into pre playbook as tasks,MERGED,2022-02-09 16:40:43.000000000,2022-02-11 21:39:38.000000000,2022-02-11 21:39:38.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 16:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ed6fd36ba8ad026da4e988e6ed965c64cd58293e', 'message': 'Consolidate roles into pre playbook as tasks\n\nRemove roles directory and respective tasks from whitebox-common and\nwhitebox-nova-compute and consolidate those tasks into\nwhitebox/pre.yaml. Also remove the installation of the package numactl\nsince it is no longer used in tests.\n\nChange-Id: Ife7277db7be8d32a2630b3a221e641f9dca1ceb3\n'}, {'number': 2, 'created': '2022-02-11 03:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0b210d1e3033e718dca1e5ae588ba0aac5adf028', 'message': 'Consolidate roles into pre playbook as tasks\n\nRemove roles directory and respective tasks from whitebox-common and\nwhitebox-nova-compute and consolidate those tasks into\nwhitebox/pre.yaml. Also remove the installation of the package numactl\nsince it is no longer used in tests.\n\nChange-Id: Ife7277db7be8d32a2630b3a221e641f9dca1ceb3\n'}, {'number': 3, 'created': '2022-02-11 19:20:42.000000000', 'files': ['playbooks/whitebox/pre.yaml', 'roles/whitebox-nova-compute/tasks/main.yml', 'roles/whitebox-common/tasks/main.yml', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b79ba5557b9eaca8374dd912d6032d4f3701586f', 'message': 'Consolidate roles into pre playbook as tasks\n\nRemove roles directory and respective tasks from whitebox-common and\nwhitebox-nova-compute and consolidate those tasks into\nwhitebox/pre.yaml. Also remove the installation of the package numactl\nsince it is no longer used in tests.\n\nChange-Id: Ife7277db7be8d32a2630b3a221e641f9dca1ceb3\n'}]",3,828589,b79ba5557b9eaca8374dd912d6032d4f3701586f,12,2,3,31033,,,0,"Consolidate roles into pre playbook as tasks

Remove roles directory and respective tasks from whitebox-common and
whitebox-nova-compute and consolidate those tasks into
whitebox/pre.yaml. Also remove the installation of the package numactl
since it is no longer used in tests.

Change-Id: Ife7277db7be8d32a2630b3a221e641f9dca1ceb3
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/89/828589/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/whitebox/pre.yaml', 'roles/whitebox-nova-compute/tasks/main.yml', 'roles/whitebox-common/tasks/main.yml']",3,ed6fd36ba8ad026da4e988e6ed965c64cd58293e,multi_hugepage_size,,"- name: crudini pip: name: crudini state: present become: yes # NOTE(artom) The run-tempest role runs as the tempest user, so we need to give # the tempest user SSH access to all hosts. Devstack's orchestrate-devstack # role should have put a pubkey into the stack user's authorized_keys, so if we # put the corresponding private key in the tempest user's .ssh, things should # magically work. - name: Setup tempest SSH key include_role: name: copy-build-sshkey vars: ansible_become: yes copy_sshkey_target_user: 'tempest' ",18,28
openstack%2Fopenstack-ansible-os_designate~master~I299aa04729790d0c194032a36c7b50a3306990c1,openstack/openstack-ansible-os_designate,master,I299aa04729790d0c194032a36c7b50a3306990c1,Refactor use of include_vars,MERGED,2022-01-12 08:36:47.000000000,2022-02-11 21:32:52.000000000,2022-02-11 21:31:28.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:36:47.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/2d2b7d7b50de25c5af39eec031322449c1339a55', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I299aa04729790d0c194032a36c7b50a3306990c1\n""}]",0,824335,2d2b7d7b50de25c5af39eec031322449c1339a55,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I299aa04729790d0c194032a36c7b50a3306990c1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/35/824335/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,2d2b7d7b50de25c5af39eec031322449c1339a55,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Foctavia-lib~stable%2Fwallaby~I48106513291263a7f754cfe7f9edc3703f8fbb7a,openstack/octavia-lib,stable/wallaby,I48106513291263a7f754cfe7f9edc3703f8fbb7a,Fix PDF docs build,MERGED,2022-02-08 09:26:59.000000000,2022-02-11 21:32:00.000000000,2022-02-11 21:30:38.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-02-08 09:26:59.000000000', 'files': ['.pylintrc', 'tox.ini', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/f7129dcf0478a42952af62e14126d9bcbae07999', 'message': 'Fix PDF docs build\n\nUpdate tox config to include upper-constraints as dependencies. This\nresolves issues with building PDF docs.\n\nNew pylint 2.9.0 provides some new checkers and detects new errors with\nexisting checkers:\n\n - consider-using-dict-items\n\nSimilar change was done in Octavia repo already.\n\nstable branch only: Also include a backport of ""Ignore new pylint\nchecker"" (Icfdf75d4cb99efc1f2c063e10c93968f816c20e0) that disables\nconsider-using-f-string checker\n\nChange-Id: I48106513291263a7f754cfe7f9edc3703f8fbb7a\n(cherry picked from commit 6a9cd92ae0206f615a872042dbd7cde3e1c3e83a)\n'}]",1,828254,f7129dcf0478a42952af62e14126d9bcbae07999,9,4,1,29244,,,0,"Fix PDF docs build

Update tox config to include upper-constraints as dependencies. This
resolves issues with building PDF docs.

New pylint 2.9.0 provides some new checkers and detects new errors with
existing checkers:

 - consider-using-dict-items

Similar change was done in Octavia repo already.

stable branch only: Also include a backport of ""Ignore new pylint
checker"" (Icfdf75d4cb99efc1f2c063e10c93968f816c20e0) that disables
consider-using-f-string checker

Change-Id: I48106513291263a7f754cfe7f9edc3703f8fbb7a
(cherry picked from commit 6a9cd92ae0206f615a872042dbd7cde3e1c3e83a)
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/54/828254/1 && git format-patch -1 --stdout FETCH_HEAD,"['.pylintrc', 'tox.ini', 'octavia_lib/api/drivers/data_models.py']",3,f7129dcf0478a42952af62e14126d9bcbae07999,," for attr, value in self.__dict__.items():", for attr in self.__dict__: value = self.__dict__[attr],5,3
openstack%2Fopenstack-helm-infra~master~I57f87130e95088217c3cfe73512caaae41d3ef22,openstack/openstack-helm-infra,master,I57f87130e95088217c3cfe73512caaae41d3ef22,[ceph-mon] Add a post-apply job to restart mons after mgrs,MERGED,2022-02-07 21:05:22.000000000,2022-02-11 21:27:11.000000000,2022-02-11 21:25:41.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28372}, {'_account_id': 30449}, {'_account_id': 30777}, {'_account_id': 32433}]","[{'number': 1, 'created': '2022-02-07 21:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/efcac1d182e49001946ecb4efda3dbe5574a3bba', 'message': '[ceph-mon] Add a post-apply job to restart mons after mgrs\n\nIf the OnDelete pod restart strategy is used for the ceph-mon\ndaemonset, run a post-apply job to restart the ceph-mon pods one\nat a time. Otherwise the mons could restart before the mgrs, which\ncan be problematic in some upgrade scenarios.\n\nChange-Id: I57f87130e95088217c3cfe73512caaae41d3ef22\n'}, {'number': 2, 'created': '2022-02-08 20:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/efbe19c59ad68f9a6fa193554e6ffde372032c55', 'message': '[ceph-mon] Add a post-apply job to restart mons after mgrs\n\nIf the OnDelete pod restart strategy is used for the ceph-mon\ndaemonset, run a post-apply job to restart the ceph-mon pods one\nat a time. Otherwise the mons could restart before the mgrs, which\ncan be problematic in some upgrade scenarios.\n\nChange-Id: I57f87130e95088217c3cfe73512caaae41d3ef22\n'}, {'number': 3, 'created': '2022-02-09 17:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a0bade97329404894de031cecff11609e9ce9cd', 'message': '[ceph-mon] Add a post-apply job to restart mons after mgrs\n\nIf the OnDelete pod restart strategy is used for the ceph-mon\ndaemonset, run a post-apply job to restart the ceph-mon pods one\nat a time. Otherwise the mons could restart before the mgrs, which\ncan be problematic in some upgrade scenarios.\n\nChange-Id: I57f87130e95088217c3cfe73512caaae41d3ef22\n'}, {'number': 4, 'created': '2022-02-09 21:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c9c8276fad9eaaaee650275ff976408f129aa4cc', 'message': '[ceph-mon] Add a post-apply job to restart mons after mgrs\n\nIf the OnDelete pod restart strategy is used for the ceph-mon\ndaemonset, run a post-apply job to restart the ceph-mon pods one\nat a time. Otherwise the mons could restart before the mgrs, which\ncan be problematic in some upgrade scenarios.\n\nChange-Id: I57f87130e95088217c3cfe73512caaae41d3ef22\n'}, {'number': 5, 'created': '2022-02-10 14:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60a6aa93a60182f2535c17bde115e9af31309051', 'message': '[ceph-mon] Add a post-apply job to restart mons after mgrs\n\nIf the OnDelete pod restart strategy is used for the ceph-mon\ndaemonset, run a post-apply job to restart the ceph-mon pods one\nat a time. Otherwise the mons could restart before the mgrs, which\ncan be problematic in some upgrade scenarios.\n\nChange-Id: I57f87130e95088217c3cfe73512caaae41d3ef22\n'}, {'number': 6, 'created': '2022-02-10 15:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2936195937d26d0261102bea60f832347cd2b221', 'message': '[ceph-mon] Add a post-apply job to restart mons after mgrs\n\nIf the OnDelete pod restart strategy is used for the ceph-mon\ndaemonset, run a post-apply job to restart the ceph-mon pods one\nat a time. Otherwise the mons could restart before the mgrs, which\ncan be problematic in some upgrade scenarios.\n\nChange-Id: I57f87130e95088217c3cfe73512caaae41d3ef22\n'}, {'number': 7, 'created': '2022-02-10 19:43:35.000000000', 'files': ['ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/Chart.yaml', 'ceph-mon/templates/job-post-apply.yaml', 'ceph-mon/values_overrides/apparmor.yaml', 'releasenotes/notes/ceph-mon.yaml', 'ceph-mon/templates/bin/_post-apply.sh.tpl', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae17a61836c8d4d0b7e12bdf1b433b78c9afe24c', 'message': '[ceph-mon] Add a post-apply job to restart mons after mgrs\n\nIf the OnDelete pod restart strategy is used for the ceph-mon\ndaemonset, run a post-apply job to restart the ceph-mon pods one\nat a time. Otherwise the mons could restart before the mgrs, which\ncan be problematic in some upgrade scenarios.\n\nChange-Id: I57f87130e95088217c3cfe73512caaae41d3ef22\n'}]",5,828193,ae17a61836c8d4d0b7e12bdf1b433b78c9afe24c,28,11,7,29974,,,0,"[ceph-mon] Add a post-apply job to restart mons after mgrs

If the OnDelete pod restart strategy is used for the ceph-mon
daemonset, run a post-apply job to restart the ceph-mon pods one
at a time. Otherwise the mons could restart before the mgrs, which
can be problematic in some upgrade scenarios.

Change-Id: I57f87130e95088217c3cfe73512caaae41d3ef22
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/93/828193/7 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/Chart.yaml', 'ceph-mon/templates/job-post-apply.yaml', 'ceph-mon/values_overrides/apparmor.yaml', 'releasenotes/notes/ceph-mon.yaml', 'ceph-mon/templates/bin/_post-apply.sh.tpl', 'ceph-mon/values.yaml']",7,efcac1d182e49001946ecb4efda3dbe5574a3bba,, post_apply: pod: runAsUser: 65534 container: ceph_mon_post_apply: allowPrivilegeEscalation: false readOnlyRootFilesystem: true pod_replacement_strategy: OnDelete, pod_replacement_strategy: RollingUpdate,190,2
openstack%2Fglance~master~I1a9dbd087cca52798f0d01c62ebb47e37f52d87a,openstack/glance,master,I1a9dbd087cca52798f0d01c62ebb47e37f52d87a,Make FIPS job non-voting,MERGED,2022-02-11 15:02:11.000000000,2022-02-11 20:40:16.000000000,2022-02-11 20:35:43.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 15:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ba34289fe6c3b2c923c4314fc6b68a1708f86502', 'message': 'Make FIPS job non-voting\n\nTemporarily make the FIPS job non-voting till we figure out why\nits failing.\n\nChange-Id: I1a9dbd087cca52798f0d01c62ebb47e37f52d87a\n'}, {'number': 2, 'created': '2022-02-11 18:12:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/0457ab20860ab6721ddb874dd6729cc5f898830b', 'message': 'Make FIPS job non-voting\n\nTemporarily make the FIPS job non-voting till we figure out why\nits failing. Restore the non-fips version of the cinder job so\nwe keep the coverage.\n\nChange-Id: I1a9dbd087cca52798f0d01c62ebb47e37f52d87a\n'}]",4,828892,0457ab20860ab6721ddb874dd6729cc5f898830b,13,6,2,9914,,,0,"Make FIPS job non-voting

Temporarily make the FIPS job non-voting till we figure out why
its failing. Restore the non-fips version of the cinder job so
we keep the coverage.

Change-Id: I1a9dbd087cca52798f0d01c62ebb47e37f52d87a
",git fetch https://review.opendev.org/openstack/glance refs/changes/92/828892/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ba34289fe6c3b2c923c4314fc6b68a1708f86502,make-fips-nonvoting, voting: false,,1,0
openstack%2Fdebtcollector~master~Ia3eda6d451b673f3eafba1aa3ecd2e51b7038f1f,openstack/debtcollector,master,Ia3eda6d451b673f3eafba1aa3ecd2e51b7038f1f,Remove references to Python 2 objects,MERGED,2021-04-26 09:23:49.000000000,2022-02-11 20:17:58.000000000,2022-02-11 20:16:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-26 09:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/327db19af21fe7e9197ad8c29106dc3a2eae1cee', 'message': ""Remove 'six'\n\nThis is no longer necessary in a Python 3-only world.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ia3eda6d451b673f3eafba1aa3ecd2e51b7038f1f\n""}, {'number': 2, 'created': '2022-02-11 17:25:38.000000000', 'files': ['debtcollector/_utils.py'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/a6b46c5f01b76bd87eb4e47cdac26f645e72d716', 'message': 'Remove references to Python 2 objects\n\nThese are no longer necessary in a Python 3-only world.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ia3eda6d451b673f3eafba1aa3ecd2e51b7038f1f\n'}]",1,787948,a6b46c5f01b76bd87eb4e47cdac26f645e72d716,10,3,2,15334,,,0,"Remove references to Python 2 objects

These are no longer necessary in a Python 3-only world.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ia3eda6d451b673f3eafba1aa3ecd2e51b7038f1f
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/48/787948/1 && git format-patch -1 --stdout FETCH_HEAD,"['debtcollector/_utils.py', 'requirements.txt', 'debtcollector/removals.py', 'debtcollector/moves.py']",4,327db19af21fe7e9197ad8c29106dc3a2eae1cee,remove-python-2-stuff,"import functools @functools.wraps(new_func, assigned=_utils.get_assigned(new_func)) @functools.wraps(f, assigned=_utils.get_assigned(f))","import six @six.wraps(new_func, assigned=_utils.get_assigned(new_func)) @six.wraps(f, assigned=_utils.get_assigned(f))",12,32
openstack%2Fneutron~master~I6f4489b14b164e4699a600acac84065dfe1231dc,openstack/neutron,master,I6f4489b14b164e4699a600acac84065dfe1231dc,doc: Remove references to dead VMWare NSX extensions,MERGED,2021-07-22 11:07:06.000000000,2022-02-11 20:01:54.000000000,2022-02-11 19:58:02.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 11:07:06.000000000', 'files': ['doc/source/admin/archives/adv-features.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6d2f077829f337cec2a1a2dfb7d494e51624adf', 'message': ""doc: Remove references to dead VMWare NSX extensions\n\nThere are a number of extensions that were removed from the vmware-nsx\npackage as part of the removal of NSX-MH support in 15.0.0 (October\n2019) [1]. We don't need to keep references to these. You can prove this\nby grepping for the various references config options in the current\nsource tree and using 'git log -S' to find the patches that removed\nthings.\n\n[1] https://opendev.org/x/vmware-nsx/commit/26135f34acca66ce994e0dd4280e2e968ed10ce3\n\nChange-Id: I6f4489b14b164e4699a600acac84065dfe1231dc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,801771,b6d2f077829f337cec2a1a2dfb7d494e51624adf,10,4,1,15334,,,0,"doc: Remove references to dead VMWare NSX extensions

There are a number of extensions that were removed from the vmware-nsx
package as part of the removal of NSX-MH support in 15.0.0 (October
2019) [1]. We don't need to keep references to these. You can prove this
by grepping for the various references config options in the current
source tree and using 'git log -S' to find the patches that removed
things.

[1] https://opendev.org/x/vmware-nsx/commit/26135f34acca66ce994e0dd4280e2e968ed10ce3

Change-Id: I6f4489b14b164e4699a600acac84065dfe1231dc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/801771/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/archives/adv-features.rst'],1,b6d2f077829f337cec2a1a2dfb7d494e51624adf,cleanup,,"VMware NSX extensions --------------------- These sections explain NSX plug-in extensions. VMware NSX QoS extension ^^^^^^^^^^^^^^^^^^^^^^^^ The VMware NSX QoS extension rate-limits network ports to guarantee a specific amount of bandwidth for each port. This extension, by default, is only accessible by a project with an admin role but is configurable through the ``policy.yaml`` file. To use this extension, create a queue and specify the min/max bandwidth rates (kbps) and optionally set the QoS Marking and DSCP value (if your network fabric uses these values to make forwarding decisions). Once created, you can associate a queue with a network. Then, when ports are created on that network they are automatically created and associated with the specific queue size that was associated with the network. Because one size queue for a every port on a network might not be optimal, a scaling factor from the nova flavor ``rxtx_factor`` is passed in from Compute when creating the port to scale the queue. Lastly, if you want to set a specific baseline QoS policy for the amount of bandwidth a single port can use (unless a network queue is specified with the network a port is created on) a default queue can be created in Networking which then causes ports created to be associated with a queue of that size times the rxtx scaling factor. Note that after a network or default queue is specified, queues are added to ports that are subsequently created but are not added to existing ports. Basic VMware NSX QoS operations ''''''''''''''''''''''''''''''' This table shows example neutron commands that enable you to complete basic queue operations: .. list-table:: **Basic VMware NSX QoS operations** :widths: 30 50 :header-rows: 1 * - Operation - Command * - Creates QoS queue (admin-only). - .. code-block:: console $ neutron queue-create --min 10 --max 1000 myqueue * - Associates a queue with a network. - .. code-block:: console $ neutron net-create network --queue_id QUEUE_ID * - Creates a default system queue. - .. code-block:: console $ neutron queue-create --default True --min 10 --max 2000 default * - Lists QoS queues. - .. code-block:: console $ neutron queue-list * - Deletes a QoS queue. - .. code-block:: console $ neutron queue-delete QUEUE_ID_OR_NAME VMware NSX provider networks extension ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Provider networks can be implemented in different ways by the underlying NSX platform. The *FLAT* and *VLAN* network types use bridged transport connectors. These network types enable the attachment of large number of ports. To handle the increased scale, the NSX plug-in can back a single OpenStack Network with a chain of NSX logical switches. You can specify the maximum number of ports on each logical switch in this chain on the ``max_lp_per_bridged_ls`` parameter, which has a default value of 5,000. The recommended value for this parameter varies with the NSX version running in the back-end, as shown in the following table. **Recommended values for max_lp_per_bridged_ls** +---------------+---------------------+ | NSX version | Recommended Value | +===============+=====================+ | 2.x | 64 | +---------------+---------------------+ | 3.0.x | 5,000 | +---------------+---------------------+ | 3.1.x | 5,000 | +---------------+---------------------+ | 3.2.x | 10,000 | +---------------+---------------------+ In addition to these network types, the NSX plug-in also supports a special *l3_ext* network type, which maps external networks to specific NSX gateway services as discussed in the next section. VMware NSX L3 extension ^^^^^^^^^^^^^^^^^^^^^^^ NSX exposes its L3 capabilities through gateway services which are usually configured out of band from OpenStack. To use NSX with L3 capabilities, first create an L3 gateway service in the NSX Manager. Next, in ``/etc/neutron/plugins/vmware/nsx.ini`` set ``default_l3_gw_service_uuid`` to this value. By default, routers are mapped to this gateway service. VMware NSX L3 extension operations '''''''''''''''''''''''''''''''''' Create external network and map it to a specific NSX gateway service: .. code-block:: console $ openstack network create public --external --provider-network-type l3_ext \ --provider-physical-network L3_GATEWAY_SERVICE_UUID Terminate traffic on a specific VLAN from a NSX gateway service: .. code-block:: console $ openstack network create public --external --provider-network-type l3_ext \ --provider-physical-network L3_GATEWAY_SERVICE_UUID --provider-segment VLAN_ID Operational status synchronization in the VMware NSX plug-in ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Starting with the Havana release, the VMware NSX plug-in provides an asynchronous mechanism for retrieving the operational status for neutron resources from the NSX back-end; this applies to *network*, *port*, and *router* resources. The back-end is polled periodically and the status for every resource is retrieved; then the status in the Networking database is updated only for the resources for which a status change occurred. As operational status is now retrieved asynchronously, performance for ``GET`` operations is consistently improved. Data to retrieve from the back-end are divided in chunks in order to avoid expensive API requests; this is achieved leveraging NSX APIs response paging capabilities. The minimum chunk size can be specified using a configuration option; the actual chunk size is then determined dynamically according to: total number of resources to retrieve, interval between two synchronization task runs, minimum delay between two subsequent requests to the NSX back-end. The operational status synchronization can be tuned or disabled using the configuration options reported in this table; it is however worth noting that the default values work fine in most cases. .. list-table:: **Configuration options for tuning operational status synchronization in the NSX plug-in** :widths: 10 10 10 10 35 :header-rows: 1 * - Option name - Group - Default value - Type and constraints - Notes * - ``state_sync_interval`` - ``nsx_sync`` - 10 seconds - Integer; no constraint. - Interval in seconds between two run of the synchronization task. If the synchronization task takes more than ``state_sync_interval`` seconds to execute, a new instance of the task is started as soon as the other is completed. Setting the value for this option to 0 will disable the synchronization task. * - ``max_random_sync_delay`` - ``nsx_sync`` - 0 seconds - Integer. Must not exceed ``min_sync_req_delay`` - When different from zero, a random delay between 0 and ``max_random_sync_delay`` will be added before processing the next chunk. * - ``min_sync_req_delay`` - ``nsx_sync`` - 1 second - Integer. Must not exceed ``state_sync_interval``. - The value of this option can be tuned according to the observed load on the NSX controllers. Lower values will result in faster synchronization, but might increase the load on the controller cluster. * - ``min_chunk_size`` - ``nsx_sync`` - 500 resources - Integer; no constraint. - Minimum number of resources to retrieve from the back-end for each synchronization chunk. The expected number of synchronization chunks is given by the ratio between ``state_sync_interval`` and ``min_sync_req_delay``. This size of a chunk might increase if the total number of resources is such that more than ``min_chunk_size`` resources must be fetched in one chunk with the current number of chunks. * - ``always_read_status`` - ``nsx_sync`` - False - Boolean; no constraint. - When this option is enabled, the operational status will always be retrieved from the NSX back-end ad every ``GET`` request. In this case it is advisable to disable the synchronization task. When running multiple OpenStack Networking server instances, the status synchronization task should not run on every node; doing so sends unnecessary traffic to the NSX back-end and performs unnecessary DB operations. Set the ``state_sync_interval`` configuration option to a non-zero value exclusively on a node designated for back-end status synchronization. The ``fields=status`` parameter in Networking API requests always triggers an explicit query to the NSX back end, even when you enable asynchronous state synchronization. For example, ``GET /v2.0/networks/NET_ID?fields=status&fields=name``. ",0,213
openstack%2Fneutron~master~I5c1474b405d436d3b1e5db745d77999f1723b660,openstack/neutron,master,I5c1474b405d436d3b1e5db745d77999f1723b660,Wait longer before deleting DPDK vhu trunk bridges,MERGED,2022-02-03 01:38:19.000000000,2022-02-11 20:00:25.000000000,2022-02-11 19:57:57.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-02-03 01:38:19.000000000', 'files': ['neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/140bb63665223d7cd2a7fee8c1d1494ebd2a802f', 'message': 'Wait longer before deleting DPDK vhu trunk bridges\n\nIn [1] we added a delay before deleting DPDK vhu trunk bridges to\nmitigate a race condition when instances are rebooted. As explained in\n[1], with DPDK rhu, a reboot is esentially a super fast bridge\ndelete-then-create that is prone to race conditions. We have recently\nencountered in customer deployments that the wait added in [1] is not\nlong enough. As a consequence, this change increases the wait.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/717394\n\nChange-Id: I5c1474b405d436d3b1e5db745d77999f1723b660\nPartial-Bug: #1869244\n'}]",5,827580,140bb63665223d7cd2a7fee8c1d1494ebd2a802f,21,5,1,4694,,,0,"Wait longer before deleting DPDK vhu trunk bridges

In [1] we added a delay before deleting DPDK vhu trunk bridges to
mitigate a race condition when instances are rebooted. As explained in
[1], with DPDK rhu, a reboot is esentially a super fast bridge
delete-then-create that is prone to race conditions. We have recently
encountered in customer deployments that the wait added in [1] is not
long enough. As a consequence, this change increases the wait.

[1] https://review.opendev.org/c/openstack/neutron/+/717394

Change-Id: I5c1474b405d436d3b1e5db745d77999f1723b660
Partial-Bug: #1869244
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/827580/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py'],1,140bb63665223d7cd2a7fee8c1d1494ebd2a802f,bug-1869244,WAIT_BEFORE_TRUNK_DELETE = 6,WAIT_BEFORE_TRUNK_DELETE = 3,1,1
openstack%2Fneutron~stable%2Ftrain~I935186b6ee95f0cae8dc05869d9742c8fb3353c3,openstack/neutron,stable/train,I935186b6ee95f0cae8dc05869d9742c8fb3353c3,Avoid writing segments to the DB repeatedly,MERGED,2022-01-21 08:53:42.000000000,2022-02-11 19:59:54.000000000,2022-02-11 19:58:11.000000000,"[{'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 08:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/819f8deac870e73c6bd45486da3ecd49bcd7c12a', 'message': ""Avoid writing segments to the DB repeatedly\n\nWhen:\n* the segments service plugin is enabled and\n* we have multiple rpc worker processes (as in the sum of rpc_workers\n  and rpc_state_report_workers, since both kind processes agent\n  state_reports) and\n* many ovs-agents report physnets,\nthen rabbitmq dispatches the state_report messages between the workers\nin a round robin fashion, therefore eventually the state_reports of the\nsame agent will hit all rpc workers.\n\nUnfortunately all worker processes have a 'reported_hosts' set to\nremember from which host it has seen agent reports already. But right\nafter a server start when that set is still empty, each worker will\nunconditionally write the received physnet-segment information into\nthe db. This means we multiply the load on the db and rpc workers by\na factor of the rpc worker count.\n\nThis patch tries to reduce the load on the db by adding another early\nreturn before the unconditional db write.\n\nChange-Id: I935186b6ee95f0cae8dc05869d9742c8fb3353c3\nCloses-Bug: #1952730\n(cherry picked from commit 176503e610aee16cb5799a77466579bc55129450)\n(cherry picked from commit dcb372b041a97121027706ca18c616adfc07d243)\n(cherry picked from commit 0c909e3b55c0f4d38647fa54882f8cbfd85f662a)\n(cherry picked from commit ed7bfa11ded509466a8d07ebe952c21621a22c2d)\n""}, {'number': 2, 'created': '2022-02-11 09:13:44.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/services/segments/db.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7816ae3750b79a55d5e80daec9a93579d43ae94b', 'message': ""Avoid writing segments to the DB repeatedly\n\nWhen:\n* the segments service plugin is enabled and\n* we have multiple rpc worker processes (as in the sum of rpc_workers\n  and rpc_state_report_workers, since both kind processes agent\n  state_reports) and\n* many ovs-agents report physnets,\nthen rabbitmq dispatches the state_report messages between the workers\nin a round robin fashion, therefore eventually the state_reports of the\nsame agent will hit all rpc workers.\n\nUnfortunately all worker processes have a 'reported_hosts' set to\nremember from which host it has seen agent reports already. But right\nafter a server start when that set is still empty, each worker will\nunconditionally write the received physnet-segment information into\nthe db. This means we multiply the load on the db and rpc workers by\na factor of the rpc worker count.\n\nThis patch tries to reduce the load on the db by adding another early\nreturn before the unconditional db write.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/828769\nChange-Id: I935186b6ee95f0cae8dc05869d9742c8fb3353c3\nCloses-Bug: #1952730\n(cherry picked from commit 176503e610aee16cb5799a77466579bc55129450)\n(cherry picked from commit dcb372b041a97121027706ca18c616adfc07d243)\n(cherry picked from commit 0c909e3b55c0f4d38647fa54882f8cbfd85f662a)\n(cherry picked from commit ed7bfa11ded509466a8d07ebe952c21621a22c2d)\n""}]",11,825735,7816ae3750b79a55d5e80daec9a93579d43ae94b,31,5,2,11975,,,0,"Avoid writing segments to the DB repeatedly

When:
* the segments service plugin is enabled and
* we have multiple rpc worker processes (as in the sum of rpc_workers
  and rpc_state_report_workers, since both kind processes agent
  state_reports) and
* many ovs-agents report physnets,
then rabbitmq dispatches the state_report messages between the workers
in a round robin fashion, therefore eventually the state_reports of the
same agent will hit all rpc workers.

Unfortunately all worker processes have a 'reported_hosts' set to
remember from which host it has seen agent reports already. But right
after a server start when that set is still empty, each worker will
unconditionally write the received physnet-segment information into
the db. This means we multiply the load on the db and rpc workers by
a factor of the rpc worker count.

This patch tries to reduce the load on the db by adding another early
return before the unconditional db write.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/828769
Change-Id: I935186b6ee95f0cae8dc05869d9742c8fb3353c3
Closes-Bug: #1952730
(cherry picked from commit 176503e610aee16cb5799a77466579bc55129450)
(cherry picked from commit dcb372b041a97121027706ca18c616adfc07d243)
(cherry picked from commit 0c909e3b55c0f4d38647fa54882f8cbfd85f662a)
(cherry picked from commit ed7bfa11ded509466a8d07ebe952c21621a22c2d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/825735/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/services/segments/db.py', 'neutron/tests/unit/extensions/test_segment.py']",3,819f8deac870e73c6bd45486da3ecd49bcd7c12a,bug/1952730-stable/ussuri-stable/train," self.assertEqual(1, mock_function.call_count) mock_function.assert_has_calls([expected_call])"," self.assertEqual(2, mock_function.call_count) mock_function.assert_has_calls([expected_call, expected_call])",10,3
openstack%2Fdevstack~stable%2Fstein~Iab2c391d5388461fe9e9037cee81884ce8032e72,openstack/devstack,stable/stein,Iab2c391d5388461fe9e9037cee81884ce8032e72,Add python3.6 pip support,MERGED,2022-02-11 09:11:50.000000000,2022-02-11 19:59:38.000000000,2022-02-11 19:57:54.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-02-11 09:11:50.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a5366e573225bd637e987f00db8be9c8cfb0c753', 'message': 'Add python3.6 pip support\n\nSince pip v22, python3.6 is not supported (the minimum version is\npython3.7). This patch adds the reference for the pip3.6 URL to be\nused instead of the default one.\n\nNOTE: stable/train had its own method to provide support for py3x.\nThis patch uses it instead of pushing the master patch approach.\n\nThis patch is also fixing the py35 pip URL string that should be\nhttps://bootstrap.pypa.io/pip/3.5/get-pip.py.\n\nConflicts:\n  tools/install_pip.sh\n\nCloses-Bug: #1959600\nChange-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72\n(cherry picked from commit 05a2cebeb4e93377fa88633eef4b2cc0ea584450)\n'}]",2,828769,a5366e573225bd637e987f00db8be9c8cfb0c753,11,5,1,21798,,,0,"Add python3.6 pip support

Since pip v22, python3.6 is not supported (the minimum version is
python3.7). This patch adds the reference for the pip3.6 URL to be
used instead of the default one.

NOTE: stable/train had its own method to provide support for py3x.
This patch uses it instead of pushing the master patch approach.

This patch is also fixing the py35 pip URL string that should be
https://bootstrap.pypa.io/pip/3.5/get-pip.py.

Conflicts:
  tools/install_pip.sh

Closes-Bug: #1959600
Change-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72
(cherry picked from commit 05a2cebeb4e93377fa88633eef4b2cc0ea584450)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/69/828769/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,a5366e573225bd637e987f00db8be9c8cfb0c753,bug/1959600-stable/stein," PIP_GET_PIP_URL=$(dirname $PIP_GET_PIP_URL)/pip/3.5/$(basename $PIP_GET_PIP_URL) elif [[ ""$PYTHON3_VERSION"" == ""3.6"" ]]; then PIP_GET_PIP_URL=$(dirname $PIP_GET_PIP_URL)/pip/3.6/$(basename $PIP_GET_PIP_URL) LOCAL_PIP=${LOCAL_PIP}-py36", PIP_GET_PIP_URL=$(dirname $PIP_GET_PIP_URL)/3.5/$(basename $PIP_GET_PIP_URL),4,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~I2759b1949e9ecc98953f414c6f9838aed7dd8499,openstack/openstack-ansible-rabbitmq_server,master,I2759b1949e9ecc98953f414c6f9838aed7dd8499,Use systemd_service role for overrides,MERGED,2022-01-26 13:21:33.000000000,2022-02-11 19:21:31.000000000,2022-02-11 19:19:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-26 13:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/2aa20933af1168a14104cc405f69685613921cf6', 'message': 'Use systemd_service role for overrides\n\nReplace placing templates for systemd overrides with\nsystemd_service role, that will handle overrides for us in more\nconvenient and unified way.\n\nChange-Id: I2759b1949e9ecc98953f414c6f9838aed7dd8499\n'}, {'number': 2, 'created': '2022-02-01 19:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/b1c1d225e13c0a3003923fc761dee3bc58f8ddd2', 'message': 'Use systemd_service role for overrides\n\nReplace placing templates for systemd overrides with\nsystemd_service role, that will handle overrides for us in more\nconvenient and unified way.\n\nChange-Id: I2759b1949e9ecc98953f414c6f9838aed7dd8499\n'}, {'number': 3, 'created': '2022-02-01 19:43:07.000000000', 'files': ['releasenotes/notes/rabbitmq_init_overrides-74ce479a2dcf304c.yaml', 'templates/rabbitmq-server.service.j2', 'templates/limits.conf.j2', 'tasks/rabbitmq_post_install.yml', 'templates/systemd-restart-on-failure.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/8271919b17b5a0662e2baa4fd66d292d3dcf1e24', 'message': 'Use systemd_service role for overrides\n\nReplace placing templates for systemd overrides with\nsystemd_service role, that will handle overrides for us in more\nconvenient and unified way.\n\nChange-Id: I2759b1949e9ecc98953f414c6f9838aed7dd8499\n'}]",4,826463,8271919b17b5a0662e2baa4fd66d292d3dcf1e24,15,3,3,28619,,,0,"Use systemd_service role for overrides

Replace placing templates for systemd overrides with
systemd_service role, that will handle overrides for us in more
convenient and unified way.

Change-Id: I2759b1949e9ecc98953f414c6f9838aed7dd8499
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/63/826463/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq_init_overrides-74ce479a2dcf304c.yaml', 'templates/rabbitmq-server.service.j2', 'templates/limits.conf.j2', 'tasks/rabbitmq_post_install.yml', 'templates/systemd-restart-on-failure.conf.j2', 'defaults/main.yml', 'meta/main.yml']",7,2aa20933af1168a14104cc405f69685613921cf6,826463,dependencies: - name: systemd_service src: git+https://opendev.org/openstack/ansible-role-systemd_service version: master,dependencies: [],34,61
openstack%2Foslo.privsep~master~Ia29fdf5058c2b22327cb0ba16c28bef3660e9ceb,openstack/oslo.privsep,master,Ia29fdf5058c2b22327cb0ba16c28bef3660e9ceb,Remove six,MERGED,2021-12-22 16:14:22.000000000,2022-02-11 19:03:39.000000000,2022-02-11 19:02:07.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-22 16:14:22.000000000', 'files': ['oslo_privsep/tests/test_comm.py', 'oslo_privsep/tests/test_daemon.py', 'oslo_privsep/daemon.py', 'oslo_privsep/comm.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/7f7b9d921e89e1b7684f28140c4d82992da88f31', 'message': ""Remove six\n\nThis wasn't actually recorded in our list of dependencies, but we were\nusing it all the same. In any case, it's no longer necessary so remove\nit.\n\nChange-Id: Ia29fdf5058c2b22327cb0ba16c28bef3660e9ceb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,822730,7f7b9d921e89e1b7684f28140c4d82992da88f31,8,3,1,15334,,,0,"Remove six

This wasn't actually recorded in our list of dependencies, but we were
using it all the same. In any case, it's no longer necessary so remove
it.

Change-Id: Ia29fdf5058c2b22327cb0ba16c28bef3660e9ceb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/30/822730/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/tests/test_comm.py', 'oslo_privsep/daemon.py', 'oslo_privsep/tests/test_daemon.py', 'oslo_privsep/comm.py']",4,7f7b9d921e89e1b7684f28140c4d82992da88f31,remove-six,class Deserializer(object):class ServerChannel(object):,import sixclass Deserializer(six.Iterator):class ServerChannel(six.Iterator):,11,14
openstack%2Ftripleo-ansible~master~I200865bfd03aa63a9fe07b517bf60151e495455f,openstack/tripleo-ansible,master,I200865bfd03aa63a9fe07b517bf60151e495455f,Remove old per step startup configs,MERGED,2022-02-08 03:36:32.000000000,2022-02-11 19:00:58.000000000,2022-02-11 18:59:20.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-02-08 03:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/71b303e7c4acd45283a1410fc11eaf081843beb7', 'message': ""Remove old per step startup configs\n\nThere may be cases where certain steps may not exist after\nremoval of services during update/upgrade. As we recreate\nthe startup configs per step every time, let's clean all.\nIf we need to archive old configs we can backup docker_config.yaml\nwhich can be done in a separate THT patch.\n\nChange-Id: I200865bfd03aa63a9fe07b517bf60151e495455f\nCloses-bug: #1959662\n""}, {'number': 2, 'created': '2022-02-08 12:59:42.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/487f127b70d846db9fde0b6e90f463c26af68bd1', 'message': ""Remove old per step startup configs\n\nThere may be cases where certain steps may not exist after\nremoval of services during update/upgrade. As we recreate\nthe startup configs per step every time, let's clean all.\nIf we need to archive old configs we can backup docker_config.yaml\nwhich can be done in a separate THT patch.\n\nChange-Id: I200865bfd03aa63a9fe07b517bf60151e495455f\nCloses-bug: #1959662\n""}]",9,828212,487f127b70d846db9fde0b6e90f463c26af68bd1,33,5,2,8833,,,0,"Remove old per step startup configs

There may be cases where certain steps may not exist after
removal of services during update/upgrade. As we recreate
the startup configs per step every time, let's clean all.
If we need to archive old configs we can backup docker_config.yaml
which can be done in a separate THT patch.

Change-Id: I200865bfd03aa63a9fe07b517bf60151e495455f
Closes-bug: #1959662
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/828212/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'],1,71b303e7c4acd45283a1410fc11eaf081843beb7,," step_dirs = glob.glob('config_base_dir' + '/step_*') for step_dir in step_dirs: shutil.rmtree(step_dir, ignore_errors=True) "," # Note: it'll cleanup old configs before creating new ones. # TODO(emilien) add idempotency so we only remove the needed files shutil.rmtree(path, ignore_errors=True)",4,3
openstack%2Foslo.cache~master~Ia28ce314044f5790372e6a75dd5d6ae0407bec74,openstack/oslo.cache,master,Ia28ce314044f5790372e6a75dd5d6ae0407bec74,Use the right backend for TLS tests,MERGED,2022-02-11 14:09:54.000000000,2022-02-11 18:54:34.000000000,2022-02-11 18:52:58.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 14:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8645ce294251e9f4216c43ed918948cd3b2951f8', 'message': ""Use the right backend for TLS tests\n\nThe TLS features were introduced to be consummed by the\ndogpile.cache.pymemcache backend, however, these tests\nmodified by this commit do not instantiate the\ndogpile.cache.pymemcache backend but rather the oslo_cache.dict\nbackend which won't consumme the TLS arguments.\n\nThese tests do not reflects the thing they were made for.\n\nThis patch propose to switch to the right backend.\n\n[1] https://opendev.org/openstack/oslo.cache/commit/996036acd7b1376f0a378a407697afa28e5b2861\n[2] https://github.com/sqlalchemy/dogpile.cache/commit/a2e25bc743a48d91705d944e52aa667ebff10943\n\nChange-Id: Ia28ce314044f5790372e6a75dd5d6ae0407bec74\n""}, {'number': 2, 'created': '2022-02-11 14:36:50.000000000', 'files': ['oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d75020b33541ade07c8c9415e29992042896ef19', 'message': ""Use the right backend for TLS tests\n\nThe TLS features were introduced to be consummed by the\ndogpile.cache.pymemcache backend [1][2], however, the tests\nmodified by this commit do not instantiate the\ndogpile.cache.pymemcache backend but rather the oslo_cache.dict\nbackend which won't consumme the TLS arguments.\n\nThese tests do not really reflects the thing they were made for.\n\nThe oslo.cache.dict backend do not expect TLS options [3] whereas\nthe dogpile.cache.memcached module (and backend) expect TLS\ncontext [4].\n\nThis patch propose to switch to the right backend.\n\n[1] https://opendev.org/openstack/oslo.cache/commit/996036acd7b1376f0a378a407697afa28e5b2861\n[2] https://github.com/sqlalchemy/dogpile.cache/commit/a2e25bc743a48d91705d944e52aa667ebff10943\n[3] https://opendev.org/openstack/oslo.cache/src/branch/master/oslo_cache/backends/dictionary.py\n[4] https://github.com/sqlalchemy/dogpile.cache/search?q=tls_context\n\nChange-Id: Ia28ce314044f5790372e6a75dd5d6ae0407bec74\n""}]",0,828882,d75020b33541ade07c8c9415e29992042896ef19,9,2,2,28522,,,0,"Use the right backend for TLS tests

The TLS features were introduced to be consummed by the
dogpile.cache.pymemcache backend [1][2], however, the tests
modified by this commit do not instantiate the
dogpile.cache.pymemcache backend but rather the oslo_cache.dict
backend which won't consumme the TLS arguments.

These tests do not really reflects the thing they were made for.

The oslo.cache.dict backend do not expect TLS options [3] whereas
the dogpile.cache.memcached module (and backend) expect TLS
context [4].

This patch propose to switch to the right backend.

[1] https://opendev.org/openstack/oslo.cache/commit/996036acd7b1376f0a378a407697afa28e5b2861
[2] https://github.com/sqlalchemy/dogpile.cache/commit/a2e25bc743a48d91705d944e52aa667ebff10943
[3] https://opendev.org/openstack/oslo.cache/src/branch/master/oslo_cache/backends/dictionary.py
[4] https://github.com/sqlalchemy/dogpile.cache/search?q=tls_context

Change-Id: Ia28ce314044f5790372e6a75dd5d6ae0407bec74
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/82/828882/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/tests/unit/test_cache_basics.py'],1,8645ce294251e9f4216c43ed918948cd3b2951f8,," backend='dogpile.cache.pymemcache', backend='dogpile.cache.pymemcache', backend='dogpile.cache.pymemcache',"," backend='oslo_cache.dict', backend='oslo_cache.dict', backend='oslo_cache.dict',",3,3
openstack%2Fkeystone~master~I7e6b1df5eac59bac33674934d7b3e8cdd16cea27,openstack/keystone,master,I7e6b1df5eac59bac33674934d7b3e8cdd16cea27,using standard library secrets function token_bytes to replace os.urandom,MERGED,2021-12-22 23:42:06.000000000,2022-02-11 18:45:58.000000000,2022-02-11 18:43:39.000000000,"[{'_account_id': 2218}, {'_account_id': 6593}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16198}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 34392}]","[{'number': 1, 'created': '2021-12-22 23:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/de69880650fd0c5bc8246d59f3041a966dc2af6c', 'message': 'replace os.urandom with secrets.token_bytes, that function more security.\n\nChange-Id: If0877968ba257fa913b03d512633f2d62e5d22de\n\nsecrets.token_bytes source code: https://github.com/python/cpython/blob/3.8/Lib/secrets.py\ntoken_bytes can deal with parameters is none, but os.urandom will raise\na typeError\n\nChange-Id: I7e6b1df5eac59bac33674934d7b3e8cdd16cea27\n'}, {'number': 2, 'created': '2021-12-24 09:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f771f14cd60931348af43192804092488180fffb', 'message': 'replace os.urandom with secrets.token_bytes, that function more security.\nsecrets.token_bytes source code: https://github.com/python/cpython/blob/3.8/Lib/secrets.py\ntoken_bytes can deal with parameters is none, but os.urandom will raise\na typeError\n\nChange-Id: I7e6b1df5eac59bac33674934d7b3e8cdd16cea27\n'}, {'number': 3, 'created': '2021-12-24 11:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4322eef79bc6d316ed682b4e89023dee927985ca', 'message': 'using standard library secrets function token_bytes replace with os.urandom\n\nlink:https://www.python.org/dev/peps/pep-0506/\n\nChange-Id: I7e6b1df5eac59bac33674934d7b3e8cdd16cea27\n'}, {'number': 4, 'created': '2021-12-27 15:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f5787df9d49140e31a2f807bc10d55754a3ca297', 'message': 'https://www.python.org/dev/peps/pep-0506/, using standard library secrets function token_bytes replace with os.urandom\n\ntoken_bytes can deal with parameters is none, but os.urandom will raise\na typeError,maybe sometime using token_bytes more security\n\nChange-Id: I7e6b1df5eac59bac33674934d7b3e8cdd16cea27\n'}, {'number': 5, 'created': '2022-01-03 11:22:05.000000000', 'files': ['keystone/api/users.py', 'keystone/tests/unit/core.py', 'keystone/common/cache/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0b64050e6b3daeed0aee4496d6cba2c31eeb7d83', 'message': 'using standard library secrets function token_bytes to replace os.urandom\n\ntoken_bytes is an standard library secrets function ,we can get the information from link https://www.python.org/dev/peps/pep-0506/\n\nChange-Id: I7e6b1df5eac59bac33674934d7b3e8cdd16cea27\n'}]",10,822767,0b64050e6b3daeed0aee4496d6cba2c31eeb7d83,39,11,5,34392,,,0,"using standard library secrets function token_bytes to replace os.urandom

token_bytes is an standard library secrets function ,we can get the information from link https://www.python.org/dev/peps/pep-0506/

Change-Id: I7e6b1df5eac59bac33674934d7b3e8cdd16cea27
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/822767/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/api/users.py', 'keystone/tests/unit/core.py', 'keystone/common/cache/core.py']",3,de69880650fd0c5bc8246d59f3041a966dc2af6c,linjiangbieji,import secrets return secrets.token_bytes(10),import os return os.urandom(10),8,6
openstack%2Fheat~master~Ib47b6335b591850965132448befb7b3dbe31984a,openstack/heat,master,Ib47b6335b591850965132448befb7b3dbe31984a,Fix for tenacity 8.0.1,MERGED,2022-02-11 12:47:36.000000000,2022-02-11 18:45:45.000000000,2022-02-11 18:44:02.000000000,"[{'_account_id': 4257}, {'_account_id': 6476}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-11 12:47:36.000000000', 'files': ['heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b1fe9752b0e03a6036e7fde8312a8e0e80e297f9', 'message': 'Fix for tenacity 8.0.1\n\nUse retry_state parameter that contains all information about\ncurrent retry invocation in the prepare_attempt callback.\n\nChange-Id: Ib47b6335b591850965132448befb7b3dbe31984a\nTask: 44471\n'}]",2,828875,b1fe9752b0e03a6036e7fde8312a8e0e80e297f9,13,4,1,8833,,,0,"Fix for tenacity 8.0.1

Use retry_state parameter that contains all information about
current retry invocation in the prepare_attempt callback.

Change-Id: Ib47b6335b591850965132448befb7b3dbe31984a
Task: 44471
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/828875/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resource.py'],1,b1fe9752b0e03a6036e7fde8312a8e0e80e297f9,, def prepare_attempt(retry_state): if retry_state.attempt_number > 1:," def prepare_attempt(fn, attempt): if attempt > 1:",2,2
openstack%2Fopenstack-ansible~stable%2Fxena~Idb4b9622b642dc0690a31f0c600420b78cf43f79,openstack/openstack-ansible,stable/xena,Idb4b9622b642dc0690a31f0c600420b78cf43f79,Bump os_zun role SHA to pick up new location for kata repo,MERGED,2022-02-02 05:54:02.000000000,2022-02-11 18:40:26.000000000,2022-02-11 18:38:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 05:54:02.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e38a4e2798fc74415815be4e135a23d36b8a92a3', 'message': 'Bump os_zun role SHA to pick up new location for kata repo\n\nThis is needed for os_zun role upgrade jobs to pass on master.\n\nChange-Id: Idb4b9622b642dc0690a31f0c600420b78cf43f79\n'}]",1,827412,e38a4e2798fc74415815be4e135a23d36b8a92a3,10,3,1,25023,,,0,"Bump os_zun role SHA to pick up new location for kata repo

This is needed for os_zun role upgrade jobs to pass on master.

Change-Id: Idb4b9622b642dc0690a31f0c600420b78cf43f79
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/827412/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,e38a4e2798fc74415815be4e135a23d36b8a92a3,, version: 37edf2b21a7568076427e1af7ce396d1ff2a9f26, version: 1295de6563744947562010792a944a7d4c1f898e,1,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~I239366ad4aa2bc7a02d826b6c2f94631f4b0e622,openstack/openstack-ansible-rabbitmq_server,master,I239366ad4aa2bc7a02d826b6c2f94631f4b0e622,Use sysctl ini-like config file,MERGED,2022-01-25 17:26:18.000000000,2022-02-11 18:39:30.000000000,2022-02-11 18:38:02.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-25 17:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/6c5b91587c8c30c89ff027ee6f943a7a099eef3e', 'message': ""Use sysctl ini-like config file\n\nStarting from RabbitMQ 3.7.0 it's recommended to use new-style\nconfig which is simply an ini file.\n\nIt's easier to read and maintain config file in ini fromat rather then\nin classic erlang.\n\nAt the same time we still keep old-style config as it might have settings\nthat are not supported in new-style config.\n\nThere're no evidences that used there options are still supported,\nbut it's worth deprecating them in follow-up patch anyway.\n\nChange-Id: I239366ad4aa2bc7a02d826b6c2f94631f4b0e622\n""}, {'number': 2, 'created': '2022-01-25 17:27:16.000000000', 'files': ['tasks/rabbitmq_post_install.yml', 'templates/rabbitmq.conf.j2', 'templates/rabbitmq.config.j2', 'releasenotes/notes/rabbitmq_ini_config-dcf95fe46a37ff2c.yaml', 'templates/rabbitmq-env.j2', 'defaults/main.yml', 'templates/advanced.config.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/e707eecdd84b420c9f8af318959f6e5653d0c0e8', 'message': ""Use sysctl ini-like config file\n\nStarting from RabbitMQ 3.7.0 it's recommended to use new-style\nconfig which is simply an ini file.\n\nIt's easier to read and maintain config file in ini fromat rather then\nin classic erlang.\n\nAt the same time we still keep old-style config as it might have settings\nthat are not supported in new-style config.\n\nThere're no evidences that used there options are still supported,\nbut it's worth deprecating them in follow-up patch anyway.\n\nChange-Id: I239366ad4aa2bc7a02d826b6c2f94631f4b0e622\n""}]",1,826338,e707eecdd84b420c9f8af318959f6e5653d0c0e8,12,4,2,28619,,,0,"Use sysctl ini-like config file

Starting from RabbitMQ 3.7.0 it's recommended to use new-style
config which is simply an ini file.

It's easier to read and maintain config file in ini fromat rather then
in classic erlang.

At the same time we still keep old-style config as it might have settings
that are not supported in new-style config.

There're no evidences that used there options are still supported,
but it's worth deprecating them in follow-up patch anyway.

Change-Id: I239366ad4aa2bc7a02d826b6c2f94631f4b0e622
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/38/826338/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/rabbitmq_post_install.yml', 'templates/rabbitmq.conf.j2', 'templates/rabbitmq.config.j2', 'releasenotes/notes/rabbitmq_ini_config-dcf95fe46a37ff2c.yaml', 'defaults/main.yml', 'templates/advanced.config.j2']",6,6c5b91587c8c30c89ff027ee6f943a7a099eef3e,,"[ {kernel, [ {inet_dist_use_interface, { {{ rabbitmq_management_bind_address|replace('.',',') }} } } ]}, {mnesia, [{dump_log_write_threshold, {{ mnesia_dump_log_write_threshold }} }]} ]. ",,104,68
openstack%2Fosc-lib~master~I549d0897ef3704b7f47000f867d6731ad15d3f2b,openstack/osc-lib,master,I549d0897ef3704b7f47000f867d6731ad15d3f2b,parseractions: Make key validation reusable,MERGED,2021-03-31 14:50:27.000000000,2022-02-11 18:29:56.000000000,2022-02-11 18:28:22.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-31 14:50:27.000000000', 'files': ['osc_lib/cli/parseractions.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/86a42cc7ec20c78ea5fb827f77dffac5773f040a', 'message': ""parseractions: Make key validation reusable\n\nSub-classes of 'MultiKeyValueAction' may wish to reuse the key\nvalidation aspects of the action (Do I have the required keys? Do I have\nunknown keys?) wile overriding other aspects of the action. Make this\npossible, reducing some duplication in the process.\n\nChange-Id: I549d0897ef3704b7f47000f867d6731ad15d3f2b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,784110,86a42cc7ec20c78ea5fb827f77dffac5773f040a,7,3,1,15334,,,0,"parseractions: Make key validation reusable

Sub-classes of 'MultiKeyValueAction' may wish to reuse the key
validation aspects of the action (Do I have the required keys? Do I have
unknown keys?) wile overriding other aspects of the action. Make this
possible, reducing some duplication in the process.

Change-Id: I549d0897ef3704b7f47000f867d6731ad15d3f2b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/10/784110/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_lib/cli/parseractions.py'],1,86a42cc7ec20c78ea5fb827f77dffac5773f040a,osc-first," def validate_keys(self, keys): """"""Validate the provided keys. :param keys: A list of keys to validate. """""" # Check key validation valid_keys = self.required_keys | self.optional_keys if valid_keys: invalid_keys = [k for k in keys if k not in valid_keys] if invalid_keys: msg = _( ""Invalid keys %(invalid_keys)s specified.\n"" ""Valid keys are: %(valid_keys)s"" ) raise argparse.ArgumentTypeError(msg % { 'invalid_keys': ', '.join(invalid_keys), 'valid_keys': ', '.join(valid_keys), }) if self.required_keys: missing_keys = [k for k in self.required_keys if k not in keys] if missing_keys: msg = _( ""Missing required keys %(missing_keys)s.\n"" ""Required keys are: %(required_keys)s"" ) raise argparse.ArgumentTypeError(msg % { 'missing_keys': ', '.join(missing_keys), 'required_keys': ', '.join(self.required_keys), }) self.validate_keys(list(params)) self.validate_keys(list(params))"," valid_keys = self.required_keys | self.optional_keys if valid_keys: invalid_keys = [k for k in params if k not in valid_keys] if invalid_keys: msg = _( ""Invalid keys %(invalid_keys)s specified.\n"" ""Valid keys are: %(valid_keys)s"" ) raise argparse.ArgumentTypeError(msg % { 'invalid_keys': ', '.join(invalid_keys), 'valid_keys': ', '.join(valid_keys), }) if self.required_keys: missing_keys = [k for k in self.required_keys if k not in params] if missing_keys: msg = _( ""Missing required keys %(missing_keys)s.\n"" ""Required keys are: %(required_keys)s"" ) raise argparse.ArgumentTypeError(msg % { 'missing_keys': ', '.join(missing_keys), 'required_keys': ', '.join(self.required_keys), }) valid_keys = self.required_keys | self.optional_keys if valid_keys: invalid_keys = [k for k in params if k not in valid_keys] if invalid_keys: msg = _( ""Invalid keys %(invalid_keys)s specified.\n"" ""Valid keys are: %(valid_keys)s"" ) raise argparse.ArgumentTypeError(msg % { 'invalid_keys': ', '.join(invalid_keys), 'valid_keys': ', '.join(valid_keys), }) if self.required_keys: missing_keys = [k for k in self.required_keys if k not in params] if missing_keys: msg = _( ""Missing required keys %(missing_keys)s.\n"" ""Required keys are: %(required_keys)s"" ) raise argparse.ArgumentTypeError(msg % { 'missing_keys': ', '.join(missing_keys), 'required_keys': ', '.join(self.required_keys), })",33,48
openstack%2Fkeystone~master~I005d20ef21b6c8122be90e8afb38abd902fdfc6e,openstack/keystone,master,I005d20ef21b6c8122be90e8afb38abd902fdfc6e,sql: Prepare for alembic migration,MERGED,2022-01-21 17:46:19.000000000,2022-02-11 18:17:09.000000000,2022-02-11 18:15:06.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 17:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/07e2c60ee0d7dd496851d44e74ef6b7dd4731be7', 'message': 'sql: Prepare for alembic migration\n\nNothing functional here. We simply switch from using ""repo_name""\nterminology and move/rename some helper functions. Branches aren\'t\nreally a SQLAlchemy-Migrate thing but it\'s close enough to do.\n\nChange-Id: I005d20ef21b6c8122be90e8afb38abd902fdfc6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-24 18:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1fad3322ff2896f8035a728d63e246040dbff8d6', 'message': 'sql: Prepare for alembic migration\n\nNothing functional here. We simply switch from using ""repo_name""\nterminology and move/rename some helper functions. Branches aren\'t\nreally a SQLAlchemy-Migrate thing but it\'s close enough to do.\n\nChange-Id: I005d20ef21b6c8122be90e8afb38abd902fdfc6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-02-04 19:35:15.000000000', 'files': ['keystone/cmd/cli.py', 'keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dce38678fc252bd39d3e28e920e76668e47398cd', 'message': 'sql: Prepare for alembic migration\n\nNothing functional here. We simply switch from using ""repo_name""\nterminology and move/rename some helper functions. Branches aren\'t\nreally a SQLAlchemy-Migrate thing but it\'s close enough to do.\n\nChange-Id: I005d20ef21b6c8122be90e8afb38abd902fdfc6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,825843,dce38678fc252bd39d3e28e920e76668e47398cd,20,5,3,15334,,,0,"sql: Prepare for alembic migration

Nothing functional here. We simply switch from using ""repo_name""
terminology and move/rename some helper functions. Branches aren't
really a SQLAlchemy-Migrate thing but it's close enough to do.

Change-Id: I005d20ef21b6c8122be90e8afb38abd902fdfc6e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/825843/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/cmd/cli.py', 'keystone/common/sql/upgrades.py']",2,07e2c60ee0d7dd496851d44e74ef6b7dd4731be7,bp/remove-sqlalchemy-migrate,"EXPAND_BRANCH = 'expand_repo' DATA_MIGRATION_BRANCH = 'data_migration_repo' CONTRACT_BRANCH = 'contract_repo' def _get_migrate_repo_path(branch): f'{branch}_repo',def get_db_version(branch=EXPAND_BRANCH): abs_path = _get_migrate_repo_path(branch) with sql.session_for_read() as session: return _migrate_db_version( session.get_bind(), abs_path, INITIAL_VERSION, ) def _db_sync(branch): abs_path = _get_migrate_repo_path(branch)def _validate_upgrade_order(branch, target_repo_version=None): """"""Validate the state of the migration repositories. This is run before allowing the db_sync command to execute. Ensure the upgrade step and version specified by the operator remains consistent with the upgrade process. I.e. expand's version is greater or equal to migrate's, migrate's version is greater or equal to contract's. :param branch: The name of the repository that the user is trying to upgrade. :param target_repo_version: The version to upgrade the repo. Otherwise, the version will be upgraded to the latest version available. """""" # Initialize a dict to have each key assigned a repo with their value being # the repo that comes before. db_sync_order = { DATA_MIGRATION_BRANCH: EXPAND_BRANCH, CONTRACT_BRANCH: DATA_MIGRATION_BRANCH, } if branch == EXPAND_BRANCH: return # find the latest version that the current command will upgrade to if there # wasn't a version specified for upgrade. if not target_repo_version: abs_path = _get_migrate_repo_path(branch) repo = _find_migrate_repo(abs_path) target_repo_version = int(repo.latest) # get current version of the command that runs before the current command. dependency_repo_version = get_db_version(repo=db_sync_order[branch]) if dependency_repo_version < target_repo_version: raise db_exception.DBMigrationError( 'You are attempting to upgrade %s ahead of %s. Please refer to ' 'https://docs.openstack.org/keystone/latest/admin/' 'identity-upgrading.html ' 'to see the proper steps for rolling upgrades.' % ( branch, db_sync_order[branch])) def expand_schema(): """"""Expand the database schema ahead of data migration. This is run manually by the keystone-manage command before the first keystone node is migrated to the latest release. """""" _validate_upgrade_order(EXPAND_BRANCH) _db_sync(branch=EXPAND_BRANCH) def migrate_data(): """"""Migrate data to match the new schema. This is run manually by the keystone-manage command once the keystone schema has been expanded for the new release. """""" _validate_upgrade_order(DATA_MIGRATION_BRANCH) _db_sync(branch=DATA_MIGRATION_BRANCH) def contract_schema(): """"""Contract the database. This is run manually by the keystone-manage command once the keystone nodes have been upgraded to the latest release and will remove any old tables/columns that are no longer required. """""" _validate_upgrade_order(CONTRACT_BRANCH) _db_sync(branch=CONTRACT_BRANCH) ","EXPAND_REPO = 'expand_repo' DATA_MIGRATION_REPO = 'data_migration_repo' CONTRACT_REPO = 'contract_repo' def _get_migrate_repo_path(repo_name): repo_name,def _sync_repo(repo_name): abs_path = _get_migrate_repo_path(repo_name) def get_db_version(repo_name=EXPAND_REPO): abs_path = _get_migrate_repo_path(repo_name) with sql.session_for_read() as session: return _migrate_db_version( session.get_bind(), abs_path, INITIAL_VERSION, ) def validate_upgrade_order(repo_name, target_repo_version=None): """"""Validate the state of the migration repositories. This is run before allowing the db_sync command to execute. Ensure the upgrade step and version specified by the operator remains consistent with the upgrade process. I.e. expand's version is greater or equal to migrate's, migrate's version is greater or equal to contract's. :param repo_name: The name of the repository that the user is trying to upgrade. :param target_repo_version: The version to upgrade the repo. Otherwise, the version will be upgraded to the latest version available. """""" # Initialize a dict to have each key assigned a repo with their value being # the repo that comes before. db_sync_order = { DATA_MIGRATION_REPO: EXPAND_REPO, CONTRACT_REPO: DATA_MIGRATION_REPO, } if repo_name == EXPAND_REPO: return # find the latest version that the current command will upgrade to if there # wasn't a version specified for upgrade. if not target_repo_version: abs_path = _get_migrate_repo_path(repo_name) repo = _find_migrate_repo(abs_path) target_repo_version = int(repo.latest) # get current version of the command that runs before the current command. dependency_repo_version = get_db_version(repo=db_sync_order[repo_name]) if dependency_repo_version < target_repo_version: raise db_exception.DBMigrationError( 'You are attempting to upgrade %s ahead of %s. Please refer to ' 'https://docs.openstack.org/keystone/latest/admin/' 'identity-upgrading.html ' 'to see the proper steps for rolling upgrades.' % ( repo_name, db_sync_order[repo_name])) def expand_schema(): """"""Expand the database schema ahead of data migration. This is run manually by the keystone-manage command before the first keystone node is migrated to the latest release. """""" validate_upgrade_order(EXPAND_REPO) _sync_repo(repo_name=EXPAND_REPO) def migrate_data(): """"""Migrate data to match the new schema. This is run manually by the keystone-manage command once the keystone schema has been expanded for the new release. """""" validate_upgrade_order(DATA_MIGRATION_REPO) _sync_repo(repo_name=DATA_MIGRATION_REPO) def contract_schema(): """"""Contract the database. This is run manually by the keystone-manage command once the keystone nodes have been upgraded to the latest release and will remove any old tables/columns that are no longer required. """""" validate_upgrade_order(CONTRACT_REPO) _sync_repo(repo_name=CONTRACT_REPO)",94,94
openstack%2Fkeystone~master~Id3d2769af6004bd4d4792c4488ac5eba94a5a776,openstack/keystone,master,Id3d2769af6004bd4d4792c4488ac5eba94a5a776,sql: Remove dead helpers,MERGED,2022-02-04 19:35:15.000000000,2022-02-11 17:43:48.000000000,2022-02-11 17:41:34.000000000,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 19:35:15.000000000', 'files': ['keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a6887c13ea75cbd3a09abab3dbcfe194637b3ed0', 'message': 'sql: Remove dead helpers\n\n\'assertTableCountsMatch\' should have been removed in change\nI41584c652ab34a267009136ee2a2e159ee2f2a6e (""sql: Squash mitaka\nmigrations"")\n\n\'does_constraint_exist\' should have been removed in change\nIc499a996e1b9c6f0a9d885b4a9e655008002d49f (""sql: Squash queens\nmigrations"")\n\n\'does_pk_exist\' should have been removed in change\nI6beb8c9c827546757f2d7673a917b98f8b917012 (""sql: Squash rocky\nmigrations"")\n\n\'assertTableExists\' should have been removed in change\nI58e4b6833036a25ea8a1202c87ceebdbe932b447 (""sql: Squash stein\nmigrations"")\n\n\'insert_dict\', \'does_index_exist\', and \'does_unique_constraint_exist\'\nshould have been removed in change\nIfc71efb8609bc26ce998a9fa48b207abf8b9a38b (""sql: Squash train\nmigrations"")\n\n\'does_fk_exist\' should have been removed in change\nIa1495cd4683d6631be2691e816734d01b03037a3 (""sql: Squash ussuri\nmigrations"")\n\nChange-Id: Id3d2769af6004bd4d4792c4488ac5eba94a5a776\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,827915,a6887c13ea75cbd3a09abab3dbcfe194637b3ed0,10,4,1,15334,,,0,"sql: Remove dead helpers

'assertTableCountsMatch' should have been removed in change
I41584c652ab34a267009136ee2a2e159ee2f2a6e (""sql: Squash mitaka
migrations"")

'does_constraint_exist' should have been removed in change
Ic499a996e1b9c6f0a9d885b4a9e655008002d49f (""sql: Squash queens
migrations"")

'does_pk_exist' should have been removed in change
I6beb8c9c827546757f2d7673a917b98f8b917012 (""sql: Squash rocky
migrations"")

'assertTableExists' should have been removed in change
I58e4b6833036a25ea8a1202c87ceebdbe932b447 (""sql: Squash stein
migrations"")

'insert_dict', 'does_index_exist', and 'does_unique_constraint_exist'
should have been removed in change
Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b (""sql: Squash train
migrations"")

'does_fk_exist' should have been removed in change
Ia1495cd4683d6631be2691e816734d01b03037a3 (""sql: Squash ussuri
migrations"")

Change-Id: Id3d2769af6004bd4d4792c4488ac5eba94a5a776
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/15/827915/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_sql_upgrade.py'],1,a6887c13ea75cbd3a09abab3dbcfe194637b3ed0,bp/remove-sqlalchemy-migrate," table = sqlalchemy.Table(name, self.metadata, autoload=True)","from sqlalchemy import inspect table = sqlalchemy.Table(name, self.metadata, autoload=True) def assertTableExists(self, table_name): try: self.load_table(table_name) except sqlalchemy.exc.NoSuchTableError: raise AssertionError('Table ""%s"" does not exist' % table_name) def calc_table_row_count(self, table_name): """"""Return the number of rows in the table."""""" t = sqlalchemy.Table(table_name, self.metadata, autoload=True) session = self.sessionmaker() row_count = session.query( sqlalchemy.func.count('*')).select_from(t).scalar() return row_count def assertTableCountsMatch(self, table1_name, table2_name): table1_count = self.calc_table_row_count(table1_name) table2_count = self.calc_table_row_count(table2_name) if table1_count != table2_count: raise AssertionError('Table counts do not match: {0} ({1}), {2} ' '({3})'.format(table1_name, table1_count, table2_name, table2_count)) def insert_dict(self, session, table_name, d, table=None): """"""Naively inserts key-value pairs into a table, given a dictionary."""""" if table is None: this_table = sqlalchemy.Table(table_name, self.metadata, autoload=True) else: this_table = table insert = this_table.insert().values(**d) session.execute(insert) def does_pk_exist(self, table, pk_column): """"""Check whether a column is primary key on a table."""""" inspector = inspect(self.engine) pk_columns = inspector.get_pk_constraint(table)['constrained_columns'] return pk_column in pk_columns def does_fk_exist(self, table, fk_column): inspector = inspect(self.engine) for fk in inspector.get_foreign_keys(table): if fk_column in fk['constrained_columns']: return True return False def does_constraint_exist(self, table_name, constraint_name): table = sqlalchemy.Table(table_name, self.metadata, autoload=True) return constraint_name in [con.name for con in table.constraints] def does_index_exist(self, table_name, index_name): table = sqlalchemy.Table(table_name, self.metadata, autoload=True) return index_name in [idx.name for idx in table.indexes] def does_unique_constraint_exist(self, table_name, column_names): inspector = inspect(self.engine) constraints = inspector.get_unique_constraints(table_name) for c in constraints: if (len(c['column_names']) == 1 and column_names in c['column_names']): return True if (len(c['column_names'])) > 1 and isinstance(column_names, list): return set(c['column_names']) == set(column_names) return False ",1,69
openstack%2Fneutron~stable%2Fwallaby~Ie0660e5e89e45c00b79464368ba337d27a824714,openstack/neutron,stable/wallaby,Ie0660e5e89e45c00b79464368ba337d27a824714,[Stable Only] Enforce policy for qos_policy_id attribute,MERGED,2022-01-31 15:54:34.000000000,2022-02-11 17:43:43.000000000,2022-02-11 17:41:31.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 15:54:34.000000000', 'files': ['releasenotes/notes/bug-1957175-764bc9c73b8d46e9.yaml', 'neutron/extensions/qos_fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5765cdd75731eac10c93d2eb01bc4846e3a8d04', 'message': ""[Stable Only] Enforce policy for qos_policy_id attribute\n\nCurrently while updating 'qos_policy_id', authorization policies\nare not enforced and as a result it can be set or unset over\nport/network/fip by an unauthorized user.\n\nThis patch fixes it by setting 'enforce_policy' to True\nfor this attribute for Floating IP, for port and network\nit's fixed in neutron-lib[1].\n\nThis patch is only for stable releases as for releases since\nYoga this is fixed in neutron-lib[2] itself.\n\n[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657\n[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088\n\nCloses-Bug: #1957175\nChange-Id: Ie0660e5e89e45c00b79464368ba337d27a824714\n(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)\n""}]",4,827015,c5765cdd75731eac10c93d2eb01bc4846e3a8d04,29,5,1,13861,,,0,"[Stable Only] Enforce policy for qos_policy_id attribute

Currently while updating 'qos_policy_id', authorization policies
are not enforced and as a result it can be set or unset over
port/network/fip by an unauthorized user.

This patch fixes it by setting 'enforce_policy' to True
for this attribute for Floating IP, for port and network
it's fixed in neutron-lib[1].

This patch is only for stable releases as for releases since
Yoga this is fixed in neutron-lib[2] itself.

[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657
[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088

Closes-Bug: #1957175
Change-Id: Ie0660e5e89e45c00b79464368ba337d27a824714
(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/827015/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1957175-764bc9c73b8d46e9.yaml', 'neutron/extensions/qos_fip.py']",2,c5765cdd75731eac10c93d2eb01bc4846e3a8d04,bug/1957175-stable/wallaby," 'enforce_policy': True,",,7,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ibaeb1249ae02651cbefba75d0912da205880a495,openstack/tripleo-ansible,stable/wallaby,Ibaeb1249ae02651cbefba75d0912da205880a495,Add playbooks to config overcloud hosts and container regsitry,MERGED,2022-02-09 19:33:06.000000000,2022-02-11 17:39:56.000000000,2022-02-11 17:39:56.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-02-09 19:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b4d68ab01f47591cd065b44560281a07e60231ab', 'message': ""Add playbooks to config overcloud hosts and container regsitry\n\nAdd two playbooks which call the tripleo_hosts_entries and\ntripleo_podman roles. These roles are usually called from\nTHT deploy-steps but in order to deploy Ceph before the\novercloud the 'openstack overcloud ceph deploy' command\nneeds to be able to call them earlier so these two playbooks\nprovide it an interface to do so.\n\nSee I24bea131cc949888518994a3aa08c200d579cb7d which depends-on\nthis patch.\n\nRelated-Bug: 1958524\nChange-Id: Ibaeb1249ae02651cbefba75d0912da205880a495\n""}, {'number': 2, 'created': '2022-02-09 22:00:31.000000000', 'files': ['tripleo_ansible/playbooks/cli-hosts-file-config.yaml', 'tripleo_ansible/playbooks/cli-container-registry-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e72d0ff92999e8f25c92fdd6fa6ea1d0a133cbf', 'message': ""Add playbooks to config overcloud hosts and container regsitry\n\nAdd two playbooks which call the tripleo_hosts_entries and\ntripleo_podman roles. These roles are usually called from\nTHT deploy-steps but in order to deploy Ceph before the\novercloud the 'openstack overcloud ceph deploy' command\nneeds to be able to call them earlier so these two playbooks\nprovide it an interface to do so.\n\nSee I24bea131cc949888518994a3aa08c200d579cb7d which depends-on\nthis patch.\n\nRelated-Bug: 1958524\nChange-Id: Ibaeb1249ae02651cbefba75d0912da205880a495\n(cherry picked from commit 4de0bc4d94f2fa1c1234db4519aa316b96495108)\n""}]",2,828562,4e72d0ff92999e8f25c92fdd6fa6ea1d0a133cbf,13,4,2,18002,,,0,"Add playbooks to config overcloud hosts and container regsitry

Add two playbooks which call the tripleo_hosts_entries and
tripleo_podman roles. These roles are usually called from
THT deploy-steps but in order to deploy Ceph before the
overcloud the 'openstack overcloud ceph deploy' command
needs to be able to call them earlier so these two playbooks
provide it an interface to do so.

See I24bea131cc949888518994a3aa08c200d579cb7d which depends-on
this patch.

Related-Bug: 1958524
Change-Id: Ibaeb1249ae02651cbefba75d0912da205880a495
(cherry picked from commit 4de0bc4d94f2fa1c1234db4519aa316b96495108)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/828562/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-container-registry-config.yaml', 'tripleo_ansible/playbooks/cli-hosts-file-config.yaml']",2,b4d68ab01f47591cd065b44560281a07e60231ab,cherrypick-bug/1958524-ciurj3s19i,"--- # Copyright 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Used by deployed ceph to configure /etc/hosts before overcloud deploy - name: Configure overcloud hosts file hosts: allovercloud become: true tasks: - name: Add hosts to /etc/hosts include_role: name: tripleo_hosts_entries ",,49,0
openstack%2Fhacking~master~Ie51ab50dc1215d9a503067595532302de4338fbd,openstack/hacking,master,Ie51ab50dc1215d9a503067595532302de4338fbd,"Revert ""Catch .format() use in log string interpoliation check""",ABANDONED,2020-12-11 11:30:59.000000000,2022-02-11 17:28:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-11 11:30:59.000000000', 'files': ['hacking/checks/other.py', 'hacking/tests/checks/test_other.py'], 'web_link': 'https://opendev.org/openstack/hacking/commit/f4287ebe1c01d8bbe57181107768b17b7b497964', 'message': 'Revert ""Catch .format() use in log string interpoliation check""\n\nThis reverts commit f82f995d022f5e1786460900266dc0e54786eacd. This check\nis overly broad and catches many things other than \'str.format()\', as\nnoted in the bug.\n\nChange-Id: Ie51ab50dc1215d9a503067595532302de4338fbd\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #190787\n'}]",0,766718,f4287ebe1c01d8bbe57181107768b17b7b497964,6,1,1,15334,,,0,"Revert ""Catch .format() use in log string interpoliation check""

This reverts commit f82f995d022f5e1786460900266dc0e54786eacd. This check
is overly broad and catches many things other than 'str.format()', as
noted in the bug.

Change-Id: Ie51ab50dc1215d9a503067595532302de4338fbd
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #190787
",git fetch https://review.opendev.org/openstack/hacking refs/changes/18/766718/1 && git format-patch -1 --stdout FETCH_HEAD,"['hacking/checks/other.py', 'hacking/tests/checks/test_other.py']",2,f4287ebe1c01d8bbe57181107768b17b7b497964,bug/1907807,," (1, 'LOG.info(""Test {}"".format(foo))', None),",1,2
openstack%2Fdebtcollector~master~Iaf6de36834e4497962a93640f68ca4e3d7909442,openstack/debtcollector,master,Iaf6de36834e4497962a93640f68ca4e3d7909442,trivial: Remove 'coding' headers,ABANDONED,2021-04-26 09:23:49.000000000,2022-02-11 17:25:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-26 09:23:49.000000000', 'files': ['debtcollector/updating.py', 'debtcollector/__init__.py', 'debtcollector/_utils.py', 'debtcollector/fixtures/disable.py', 'debtcollector/tests/base.py', 'debtcollector/renames.py', 'doc/source/conf.py', 'debtcollector/moves.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/cddeb66a532dbec49930d35614f2749a4d68f018', 'message': ""trivial: Remove 'coding' headers\n\nSource files are read as UTF-8 by default in Python 3. There's no need\nfor these headers.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Iaf6de36834e4497962a93640f68ca4e3d7909442\n""}]",0,787949,cddeb66a532dbec49930d35614f2749a4d68f018,4,2,1,15334,,,0,"trivial: Remove 'coding' headers

Source files are read as UTF-8 by default in Python 3. There's no need
for these headers.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Iaf6de36834e4497962a93640f68ca4e3d7909442
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/49/787949/1 && git format-patch -1 --stdout FETCH_HEAD,"['debtcollector/updating.py', 'debtcollector/__init__.py', 'debtcollector/_utils.py', 'debtcollector/fixtures/disable.py', 'debtcollector/tests/base.py', 'debtcollector/renames.py', 'doc/source/conf.py', 'debtcollector/moves.py', 'releasenotes/source/conf.py']",9,cddeb66a532dbec49930d35614f2749a4d68f018,no-pbr,,# -*- coding: utf-8 -*-,40,56
openstack%2Fneutron-lib~master~I876405a68cd0f1727350e96eca6fb65433d7247f,openstack/neutron-lib,master,I876405a68cd0f1727350e96eca6fb65433d7247f,api-ref for ndp proxy,MERGED,2021-07-17 08:15:04.000000000,2022-02-11 17:12:57.000000000,2022-02-11 17:11:03.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-17 08:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c5a9a8cd8857f7bf237c4db24ac8d419caf9ff39', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}, {'number': 2, 'created': '2021-07-17 08:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e344ceb7e382a8552380b1d257e60affa9950686', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}, {'number': 3, 'created': '2021-07-17 08:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/41f5a17708267f77bc4b3d07a61968a5f9caf317', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}, {'number': 4, 'created': '2021-07-19 10:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7c54719b229494b2d95201b61c8b23c0ba883c05', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}, {'number': 5, 'created': '2022-02-04 03:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/931ca471537a9dd3b4fabe46df007207686f8d19', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}, {'number': 6, 'created': '2022-02-06 03:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/aeaff10a144f95631c71ff25122d1e204bf8b68c', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}, {'number': 7, 'created': '2022-02-06 03:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c3c6db67c875c7dc4062dea33fea5a0129ece31f', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}, {'number': 8, 'created': '2022-02-06 08:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cbd17383fc5ac654ddb72439e03cc45820f29f1a', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}, {'number': 9, 'created': '2022-02-11 13:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6a4fbc208cb926d4a575040530c352ab83bd5531', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}, {'number': 10, 'created': '2022-02-11 15:09:08.000000000', 'files': ['api-ref/source/v2/samples/ndp_proxies/ndp-proxy-create-request.json', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxy-show-response.json', 'api-ref/source/v2/router-ndp-proxy.inc', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxy-update-request.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxy-update-response.json', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxies-list-response.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/routers.inc', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxy-create-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c7a2f76cdbabc65d1dcebb76822d664f4c4de354', 'message': 'api-ref for ndp proxy\n\nThis patch adds the API documentation for the ndp proxy\n\nChange-Id: I876405a68cd0f1727350e96eca6fb65433d7247f\nPartial-Bug: #1877301\n'}]",39,801181,c7a2f76cdbabc65d1dcebb76822d664f4c4de354,38,5,10,28329,,,0,"api-ref for ndp proxy

This patch adds the API documentation for the ndp proxy

Change-Id: I876405a68cd0f1727350e96eca6fb65433d7247f
Partial-Bug: #1877301
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/81/801181/7 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/ndp_proxies/ndp-proxy-create-request.json', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxy-show-response.json', 'api-ref/source/v2/router-ndp-proxy.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxy-update-request.json', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxies-list-response.json', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxy-update-response.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/ndp_proxies/ndp-proxy-create-response.json']",9,c5a9a8cd8857f7bf237c4db24ac8d419caf9ff39,bug/1877301,"{ ""ndp_proxy"": { ""name"": ""ndp_proxy1"", ""id"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"", ""router_id"": ""1238be08-a2a8-4b8d-addf-fb5e2250e480"", ""port_id"": ""6738be23-a398-445d-aaaf-785e4550e4cb"", ""ip_address"": ""2001::1:6"", ""revision_number"": 1, ""project_id"": ""0bd18306d801447bb457a46252d82d13"", ""tenant_id"": ""0bd18306d801447bb457a46252d82d13"", ""created_at"": ""2021-07-16T19:17:04Z"", ""updated_at"": ""2021-07-16T20:36:22Z"", ""tags"": [""tag1,tag2""], ""description"": ""Some description"" } } ",,455,0
openstack%2Fnova~master~I1ea7021e5fb6528250a5d0d8c205703ed084ab4b,openstack/nova,master,I1ea7021e5fb6528250a5d0d8c205703ed084ab4b,Deprecate the zvm driver,ABANDONED,2021-11-25 18:50:47.000000000,2022-02-11 17:10:41.000000000,,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 18:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e5536a3f8ddb034258085b37174dc3172341a61', 'message': 'Deprecate the zvm driver\n\nAs with the vmwareapi driver back in Ussuri [1], our indications suggest\nthat this driver is no longer maintained and may be abandonware. Start\nthe deprecation timer for the driver. If we see signs of life, we can\nre-assess this decision.\n\n[1] Ie39e9605dc8cebff3795a29ea91dc08ee64a21eb\n\nChange-Id: I1ea7021e5fb6528250a5d0d8c205703ed084ab4b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-11-25 18:56:36.000000000', 'files': ['nova/virt/zvm/driver.py', 'releasenotes/notes/deprecate-zvm-yoga-61b0949f45a9956f.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/acd702052b48a94e132d88035d69b085dfe263de', 'message': 'Deprecate the zvm driver\n\nAs with the vmwareapi driver back in Ussuri [1], our indications suggest\nthat this driver is no longer maintained and may be abandonware. Start\nthe deprecation timer for the driver. If we see signs of life, we can\nre-assess this decision.\n\n[1] Ie39e9605dc8cebff3795a29ea91dc08ee64a21eb\n\nChange-Id: I1ea7021e5fb6528250a5d0d8c205703ed084ab4b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,819365,acd702052b48a94e132d88035d69b085dfe263de,20,3,2,15334,,,0,"Deprecate the zvm driver

As with the vmwareapi driver back in Ussuri [1], our indications suggest
that this driver is no longer maintained and may be abandonware. Start
the deprecation timer for the driver. If we see signs of life, we can
re-assess this decision.

[1] Ie39e9605dc8cebff3795a29ea91dc08ee64a21eb

Change-Id: I1ea7021e5fb6528250a5d0d8c205703ed084ab4b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/819365/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/zvm/driver.py', 'releasenotes/notes/deprecate-powervm-yoga-61b0949f45a9956f.yaml']",2,0e5536a3f8ddb034258085b37174dc3172341a61,deprecate-zvm-driver,--- deprecations: - | The zvm driver is deprecated and may be removed in a future release. The driver is not tested by the OpenStack project nor does it have clear maintainers and thus its quality can not be ensured. ,,9,1
openstack%2Foctavia~master~Ic379570f90ea00844600988e2fc198e2aa483088,openstack/octavia,master,Ic379570f90ea00844600988e2fc198e2aa483088,DNM: member-monitor IPv6 debugging,ABANDONED,2022-02-09 06:58:43.000000000,2022-02-11 17:03:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-09 06:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e708733c0512bd9683f86395484156f19ae53e29', 'message': 'DNM: member-monitor IPv6 debugging\n\nChange-Id: Ic379570f90ea00844600988e2fc198e2aa483088\n'}, {'number': 2, 'created': '2022-02-09 07:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/af51b244cba85622f3a56ccd890cbc291c6f7f61', 'message': 'DNM: member-monitor IPv6 debugging\n\nChange-Id: Ic379570f90ea00844600988e2fc198e2aa483088\n'}, {'number': 3, 'created': '2022-02-09 08:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/599e1cf9df63b63943c4d7686dc360e40262f292', 'message': 'DNM: member-monitor IPv6 debugging\n\nChange-Id: Ic379570f90ea00844600988e2fc198e2aa483088\n'}, {'number': 4, 'created': '2022-02-09 23:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/03290586c44c874eb9663a9d58d59e4c55ece184', 'message': 'DNM: member-monitor IPv6 debugging\n\nChange-Id: Ic379570f90ea00844600988e2fc198e2aa483088\n'}, {'number': 5, 'created': '2022-02-10 01:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ef70012840d87ad110fc6f81387bd3a6d89fe087', 'message': 'DNM: member-monitor IPv6 debugging\n\nChange-Id: Ic379570f90ea00844600988e2fc198e2aa483088\n'}, {'number': 6, 'created': '2022-02-10 16:16:41.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'zuul.d/projects.yaml', 'setup.cfg', 'octavia/cmd/member_monitor.py', 'elements/amphora-agent/install.d/amphora-agent-source-install/75-amphora-agent-install'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4bffe103698830d082a5160752885107198a7a7a', 'message': 'DNM: member-monitor IPv6 debugging\n\nChange-Id: Ic379570f90ea00844600988e2fc198e2aa483088\n'}]",1,828461,4bffe103698830d082a5160752885107198a7a7a,14,1,6,11628,,,0,"DNM: member-monitor IPv6 debugging

Change-Id: Ic379570f90ea00844600988e2fc198e2aa483088
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/828461/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'zuul.d/projects.yaml', 'setup.cfg', 'octavia/cmd/member_monitor.py']",4,e708733c0512bd9683f86395484156f19ae53e29,,"# Copyright 2022 Red Hat # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # make sure PYTHONPATH includes the home directory if you didn't install import os import subprocess import sys import time from oslo_config import cfg from oslo_log import log as logging import requests from octavia.common import config from octavia.common import constants as const CONF = cfg.CONF LOG = logging.getLogger(__name__) def _run_and_log(cmd): output = subprocess.check_output(cmd.split(), stderr=subprocess.STDOUT) LOG.info(output) def main(): config.init(['--config-file', '/etc/octavia/amphora-agent.conf']) config.setup_logging(cfg.CONF) ip = sys.argv[1] port = sys.argv[2] haproxy_sock = sys.argv[3] LOG.debug(""Starting member monitor: %s %s"", (ip, port)) lock_path = ""/tmp/{}.lock"".format(ip + '.' + port) # nosec url = ""http://{}:{}"".format(ip, port) # One monitor only, please if os.path.exists(lock_path): sys.exit(0) else: with open(lock_path, 'a', encoding='utf-8'): pass while True: try: response = requests.get(url, timeout=5) assert response.status_code == 200 except Exception as e: LOG.error(""Get failed for %s:%s due to %s"", (ip, port, str(e))) cmd = (""ip netns exec {} ip a"".format(const.AMPHORA_NAMESPACE)) _run_and_log(cmd) cmd = (""ip netns exec {} ip route show"".format( const.AMPHORA_NAMESPACE)) _run_and_log(cmd) cmd = (""ip netns exec {} ip -6 route show"".format( const.AMPHORA_NAMESPACE)) _run_and_log(cmd) cmd = (""ip netns exec {} ip neigh show"".format( const.AMPHORA_NAMESPACE)) _run_and_log(cmd) cmd = (""ip netns exec {} ip -6 neigh show"".format( const.AMPHORA_NAMESPACE)) _run_and_log(cmd) cmd = ('/bin/sh -c ""echo \'show info; show servers state; ' 'show stat\' | socat stdio unix-connect:{}'.format( haproxy_sock)) _run_and_log(cmd) time.sleep(10) ",,193,71
openstack%2Foctavia-tempest-plugin~master~I9bb32a381c7cdcb841396104538c8662ff247bf7,openstack/octavia-tempest-plugin,master,I9bb32a381c7cdcb841396104538c8662ff247bf7,DNM: Testing IPv6,ABANDONED,2022-02-09 07:05:39.000000000,2022-02-11 17:03:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-09 07:05:39.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e161ad8336abecfefe4db503cc7e917dd01b19f6', 'message': 'DNM: Testing IPv6\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/828461\nChange-Id: I9bb32a381c7cdcb841396104538c8662ff247bf7\n'}]",5,828462,e161ad8336abecfefe4db503cc7e917dd01b19f6,13,1,1,11628,,,0,"DNM: Testing IPv6

Depends-On: https://review.opendev.org/c/openstack/octavia/+/828461
Change-Id: I9bb32a381c7cdcb841396104538c8662ff247bf7
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/62/828462/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,e161ad8336abecfefe4db503cc7e917dd01b19f6,,# templates: # - check-requirements # - publish-openstack-docs-pti # - tempest-plugin-jobs # - release-notes-jobs-python3# - octavia-v2-dsvm-noop-api # - octavia-v2-dsvm-noop-api-stable-xena # - octavia-v2-dsvm-noop-api-stable-wallaby # - octavia-v2-dsvm-noop-api-stable-victoria # - octavia-v2-dsvm-noop-api-stable-ussuri # - octavia-v2-dsvm-noop-api-scoped-tokens # - octavia-v2-dsvm-scenario # - octavia-v2-dsvm-scenario-stable-xena # - octavia-v2-dsvm-scenario-stable-wallaby # - octavia-v2-dsvm-scenario-stable-victoria # - octavia-v2-dsvm-scenario-stable-ussuri # - octavia-v2-dsvm-tls-barbican # - octavia-v2-dsvm-tls-barbican-stable-xena # - octavia-v2-dsvm-tls-barbican-stable-wallaby # - octavia-v2-dsvm-tls-barbican-stable-victoria # - octavia-v2-dsvm-tls-barbican-stable-ussuri# - octavia-v2-dsvm-scenario-centos-8-stream: # voting: false # - octavia-v2-dsvm-scenario-centos-9-stream: # voting: false # - octavia-v2-act-stdby-dsvm-scenario-two-node: # voting: false # - octavia-v2-act-stdby-dsvm-scenario: # voting: false # - octavia-v2-act-stdby-dsvm-scenario-stable-xena: # voting: false # - octavia-v2-act-stdby-dsvm-scenario-stable-wallaby: # voting: false # - octavia-v2-act-stdby-dsvm-scenario-stable-victoria: # voting: false # - octavia-v2-act-stdby-dsvm-scenario-stable-ussuri: # voting: false # - octavia-v2-dsvm-spare-pool: # voting: false # - octavia-v2-dsvm-spare-pool-stable-xena: # voting: false # - octavia-v2-dsvm-spare-pool-stable-wallaby: # voting: false # - octavia-v2-dsvm-spare-pool-stable-victoria: # voting: false # - octavia-v2-dsvm-spare-pool-stable-ussuri: # voting: false # - octavia-v2-dsvm-cinder-amphora: # voting: false# - neutron-ovn-provider-v2-api: # voting: false # - neutron-ovn-provider-v2-scenario: # voting: false, templates: - check-requirements - publish-openstack-docs-pti - tempest-plugin-jobs - release-notes-jobs-python3 - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-api-stable-xena - octavia-v2-dsvm-noop-api-stable-wallaby - octavia-v2-dsvm-noop-api-stable-victoria - octavia-v2-dsvm-noop-api-stable-ussuri - octavia-v2-dsvm-noop-api-scoped-tokens - octavia-v2-dsvm-scenario - octavia-v2-dsvm-scenario-stable-xena - octavia-v2-dsvm-scenario-stable-wallaby - octavia-v2-dsvm-scenario-stable-victoria - octavia-v2-dsvm-scenario-stable-ussuri - octavia-v2-dsvm-tls-barbican - octavia-v2-dsvm-tls-barbican-stable-xena - octavia-v2-dsvm-tls-barbican-stable-wallaby - octavia-v2-dsvm-tls-barbican-stable-victoria - octavia-v2-dsvm-tls-barbican-stable-ussuri - octavia-v2-dsvm-scenario-centos-8-stream: voting: false - octavia-v2-dsvm-scenario-centos-9-stream: voting: false - octavia-v2-act-stdby-dsvm-scenario-two-node: voting: false - octavia-v2-act-stdby-dsvm-scenario: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-xena: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-wallaby: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-victoria: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-ussuri: voting: false - octavia-v2-dsvm-spare-pool: voting: false - octavia-v2-dsvm-spare-pool-stable-xena: voting: false - octavia-v2-dsvm-spare-pool-stable-wallaby: voting: false - octavia-v2-dsvm-spare-pool-stable-victoria: voting: false - octavia-v2-dsvm-spare-pool-stable-ussuri: voting: false - octavia-v2-dsvm-cinder-amphora: voting: false - neutron-ovn-provider-v2-api: voting: false - neutron-ovn-provider-v2-scenario: voting: false,53,53
openstack%2Fpuppet-neutron~stable%2Fussuri~I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,openstack/puppet-neutron,stable/ussuri,I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,Add report_inteval parameter in ml2 baremetal,MERGED,2022-02-09 16:56:40.000000000,2022-02-11 16:59:20.000000000,2022-02-11 16:56:55.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 16:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2698deb79159e508ef9e30e5ef0cf82f8058ec69', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nConflicts:\n  manifests/agents/ml2/networking_baremetal.pp\n  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)\n'}, {'number': 2, 'created': '2022-02-10 12:57:51.000000000', 'files': ['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b9f3a4baa62d72b356d3307a380f2aa1f3f7703d', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nConflicts:\n  manifests/agents/ml2/networking_baremetal.pp\n  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)\n(cherry picked from commit 41bcf66eafc092890cdd6d2560d02642c5a55761)\n(cherry picked from commit 629dbe0f1e89bec38d02050f80d3dda30e20d170)\n'}]",2,828555,b9f3a4baa62d72b356d3307a380f2aa1f3f7703d,17,3,2,24245,,,0,"Add report_inteval parameter in ml2 baremetal

Add the parameter $report_interval to the ml2
networking-baremetal manifest. By default the global
report_interval as defined in neutron.conf is used.

In some cases it makes sense to change the report_interval
specifically for ironic-neutron-agent.

Conflicts:
  manifests/agents/ml2/networking_baremetal.pp
  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb

Related-Bug: #1940838
Change-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)
(cherry picked from commit 41bcf66eafc092890cdd6d2560d02642c5a55761)
(cherry picked from commit 629dbe0f1e89bec38d02050f80d3dda30e20d170)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/55/828555/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml']",3,2698deb79159e508ef9e30e5ef0cf82f8058ec69,bug/1940838-stable/ussuri,--- features: - | It is now possible to set the report interval for the networking-baremetal ml2 agent by using new parameter ``report_interval`` in the ``neutron::agents::ml2::networking_baremetal`` class. ,,17,0
openstack%2Fdevstack~stable%2Fussuri~Ife528fa6383b14a89b5d4a330ae60c2f82116798,openstack/devstack,stable/ussuri,Ife528fa6383b14a89b5d4a330ae60c2f82116798,Drop centos8 nodeset,MERGED,2022-02-10 22:27:59.000000000,2022-02-11 16:58:27.000000000,2022-02-11 16:53:27.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 22:27:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9e7df2e553f700837fe9367daae94ed5882bf9f8', 'message': 'Drop centos8 nodeset\n\nCentOS8 is going to be EOL soon and opendev\nis planning to drop the centOS8 image from CI\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nDepends-On: https://review.opendev.org/c/openstack/python-cinderclient/+/826092\nChange-Id: Ife528fa6383b14a89b5d4a330ae60c2f82116798\n'}]",3,828804,9e7df2e553f700837fe9367daae94ed5882bf9f8,10,3,1,8556,,,0,"Drop centos8 nodeset

CentOS8 is going to be EOL soon and opendev
is planning to drop the centOS8 image from CI
- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Depends-On: https://review.opendev.org/c/openstack/python-cinderclient/+/826092
Change-Id: Ife528fa6383b14a89b5d4a330ae60c2f82116798
",git fetch https://review.opendev.org/openstack/devstack refs/changes/04/828804/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9e7df2e553f700837fe9367daae94ed5882bf9f8,remove-centos-8,, name: devstack-single-node-centos-8 nodes: - name: controller label: centos-8 groups: - name: tempest nodes: - controller - nodeset:,0,10
openstack%2Fbarbican-tempest-plugin~master~If2209b12dce107c5648d39270d977a1e9f3bea1d,openstack/barbican-tempest-plugin,master,If2209b12dce107c5648d39270d977a1e9f3bea1d,Add secure-rbac test for Consumers,MERGED,2021-10-21 20:50:36.000000000,2022-02-11 16:50:26.000000000,2022-02-11 16:50:26.000000000,"[{'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-21 20:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/5af932a60f20e9047a52e26103e5cdef34725b52', 'message': 'WIP - Add secure-rbac test for Consumers\n\nChange-Id: If2209b12dce107c5648d39270d977a1e9f3bea1d\n'}, {'number': 2, 'created': '2021-11-03 17:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/9921aa0c5ec2543e9d9f56b69049006952875c21', 'message': 'WIP - Add secure-rbac test for Consumers\n\nChange-Id: If2209b12dce107c5648d39270d977a1e9f3bea1d\n'}, {'number': 3, 'created': '2021-11-04 22:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/d5ae005e3279d7b983b7a5af1153e630e1dc5dfa', 'message': 'WIP - Add secure-rbac test for Consumers\n\nDepends-On: I1724152839f0f5850f8d32d40b36d1670c0ad996\nChange-Id: If2209b12dce107c5648d39270d977a1e9f3bea1d\n'}, {'number': 4, 'created': '2021-11-11 21:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/522d84d80ac1304955ea53330ae53901769cef61', 'message': 'Add secure-rbac test for Consumers\n\nThis patch adds tests for Container Consumers.\n\nDepends-On: I1724152839f0f5850f8d32d40b36d1670c0ad996\nChange-Id: If2209b12dce107c5648d39270d977a1e9f3bea1d\n'}, {'number': 5, 'created': '2021-11-11 21:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/195471cb3d53be712f6f1e39d0b9d6bf6ca906b7', 'message': 'Add secure-rbac test for Consumers\n\nThis patch adds tests for Container Consumers.\n\nDepends-On: I1724152839f0f5850f8d32d40b36d1670c0ad996\nChange-Id: If2209b12dce107c5648d39270d977a1e9f3bea1d\n'}, {'number': 6, 'created': '2021-11-29 21:33:33.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/services/key_manager/json/consumer_client.py', 'barbican_tempest_plugin/tests/rbac/v1/test_containers.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/82fa4a08a3a7da9b6159b9ffd545976fdce59e63', 'message': 'Add secure-rbac test for Consumers\n\nThis patch adds tests for Container Consumers.\n\nDepends-On: I1724152839f0f5850f8d32d40b36d1670c0ad996\nChange-Id: If2209b12dce107c5648d39270d977a1e9f3bea1d\n'}]",17,815071,82fa4a08a3a7da9b6159b9ffd545976fdce59e63,26,3,6,7973,,,0,"Add secure-rbac test for Consumers

This patch adds tests for Container Consumers.

Depends-On: I1724152839f0f5850f8d32d40b36d1670c0ad996
Change-Id: If2209b12dce107c5648d39270d977a1e9f3bea1d
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/71/815071/4 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/services/key_manager/json/consumer_client.py', 'barbican_tempest_plugin/tests/rbac/v1/test_containers.py']",3,5af932a60f20e9047a52e26103e5cdef34725b52,secure-rbac," cls.consumer_client = cls.os_project_reader.secret_v1.ConsumerClient() self.test_consumer = { ""name"": ""test-consumer"", ""URL"": ""https://example.test/consumer"" } self.member_consumer_client.add_consumer_to_container( self.container_id, **self.test_consumer ) self.container_id) self.container_id, **self.test_consumer) self.assertRaises( exceptions.Forbidden, self.consumer_client.delete_consumer_from_container, self.container_id, **self.test_consumer) cls.consumer_client = cls.member_consumer_client def test_list_container_consumers(self): resp = self.consumer_client.list_consumers_in_container(self.container_id) self.assertEqual(1, resp['total']) def test_create_container_consumer(self): second_consumer = { 'name': 'another-tets-consumer', 'URL': 'https://exlample.test/consumer/two' } resp = self.consumer_client.add_consumer_to_container( self.container_id, **second_consumer) self.assertEqual(2, len(resp['consumers'])) def test_delete_container_consumer(self): resp = self.consumer_client.delete_consumer_from_container( self.container_id, **self.test_consumer) self.assertEqual(0, len(resp['consumers'])) cls.consumer_clienet = cls.admin_consumer_client"," resp = self.create_empty_container_admin( 'test_reader_list_container_consumers') container_id = self.ref_to_uuid(resp['container_ref']) resp = self.add_consumer_to_container_admin( consumer_name='test_reader_list_container_consumer', consumer_url=resp['container_ref'], container_id=container_id) container_id=container_id) resp = self.create_empty_container_admin( 'test_reader_create_container_consumer_container') container_id = self.ref_to_uuid(resp['container_ref']) name='test_reader_create_container_consumer', URL=resp['container_ref'], container_id=container_id) def test_get_container_consumer(self): pass pass",48,38
openstack%2Fneutron~stable%2Fwallaby~I570b2251da8a4a25d155ba838346b24afafd727f,openstack/neutron,stable/wallaby,I570b2251da8a4a25d155ba838346b24afafd727f,[OVN] Check new added segments in OVN mech driver,MERGED,2022-01-24 15:26:43.000000000,2022-02-11 16:42:31.000000000,2022-02-11 16:40:34.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 15:26:43.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/tests/unit/plugins/ml2/drivers/macvtap/mech_driver/test_mech_macvtap.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/mech_driver/test_mech_linuxbridge.py', 'neutron/tests/unit/plugins/ml2/_test_mech_agent.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/common/ovn/constants.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/mech_driver/test_mech_sriov_nic_switch.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d53733c33a140d88b1ed9c7f59cf5963b18bd555', 'message': '[OVN] Check new added segments in OVN mech driver\n\nCheck new segments added to OVN mechanism driver. This mechanism\ndriver does not inherit from ``SimpleAgentMechanismDriverBase``\nbecause OVN has no agents (NOTE 1). However OVN mechanism driver\nrequires an OVN controller service in each deployed chassis. This\nis how OVN driver knows the hosts using this backend.\n\nThe segments, attached to an external network (connected to a\nphysical network), can be mapped to a host if ther is a chassis (OVN\ncontroller agent) in this host.\n\nNOTE 1: OVN provides agent API compatibility, presenting the\ncontroller and the metadata services as agents. But OVN mechanism\ndriver has no control or provides any information (via RPC) to\nthose services.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nCloses-Bug: #1949967\nChange-Id: I570b2251da8a4a25d155ba838346b24afafd727f\n(cherry picked from commit c8427c82dae38154df70400f7d2fe69f0d6c3354)\n'}]",26,826103,d53733c33a140d88b1ed9c7f59cf5963b18bd555,125,3,1,16688,,,0,"[OVN] Check new added segments in OVN mech driver

Check new segments added to OVN mechanism driver. This mechanism
driver does not inherit from ``SimpleAgentMechanismDriverBase``
because OVN has no agents (NOTE 1). However OVN mechanism driver
requires an OVN controller service in each deployed chassis. This
is how OVN driver knows the hosts using this backend.

The segments, attached to an external network (connected to a
physical network), can be mapped to a host if ther is a chassis (OVN
controller agent) in this host.

NOTE 1: OVN provides agent API compatibility, presenting the
controller and the metadata services as agents. But OVN mechanism
driver has no control or provides any information (via RPC) to
those services.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Closes-Bug: #1949967
Change-Id: I570b2251da8a4a25d155ba838346b24afafd727f
(cherry picked from commit c8427c82dae38154df70400f7d2fe69f0d6c3354)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/826103/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/macvtap/mech_driver/test_mech_macvtap.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/mech_driver/test_mech_linuxbridge.py', 'neutron/tests/unit/plugins/ml2/_test_mech_agent.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/common/ovn/constants.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/mech_driver/test_mech_sriov_nic_switch.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",11,d53733c33a140d88b1ed9c7f59cf5963b18bd555,bug/1949967,"from neutron_lib.utils import helpers def check_segment_for_agent(self, segment, agent): """"""Check if the OVN controller agent br mappings has segment physnet Only segments on physical networks (flat or vlan) can be associated to a host. """""" if agent['agent_type'] not in ovn_const.OVN_CONTROLLER_TYPES: return False br_map = agent.get('configurations', {}).get('bridge-mappings', '') mapping_dict = helpers.parse_mappings(br_map.split(','), unique_values=False) return segment['physical_network'] in mapping_dict ",,121,32
openstack%2Foslo.policy~master~I09de011b77b49801da2a70eebacfab1d10de32d3,openstack/oslo.policy,master,I09de011b77b49801da2a70eebacfab1d10de32d3,Fix formatting of release list,MERGED,2022-02-07 10:26:56.000000000,2022-02-11 16:41:20.000000000,2022-02-11 16:39:37.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-07 10:26:56.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/c2382f990e6f434ab718dd535c94da8c5f9297e4', 'message': 'Fix formatting of release list\n\nChange-Id: I09de011b77b49801da2a70eebacfab1d10de32d3\n'}]",1,828101,c2382f990e6f434ab718dd535c94da8c5f9297e4,8,3,1,15197,,,0,"Fix formatting of release list

Change-Id: I09de011b77b49801da2a70eebacfab1d10de32d3
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/01/828101/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,c2382f990e6f434ab718dd535c94da8c5f9297e4,,.. toctree:: :maxdepth: 1 unreleased xena wallaby victoria ussuri train stein rocky queens pike ocata newton, .. toctree:: :maxdepth: 1 unreleased xena wallaby victoria ussuri train stein rocky queens pike ocata newton,14,14
openstack%2Fneutron~master~I5f631dc6c653eb8d9513721bf52400323b6f5b75,openstack/neutron,master,I5f631dc6c653eb8d9513721bf52400323b6f5b75,Re enable test_network_v6.TestGettingAddress,MERGED,2022-02-02 08:49:34.000000000,2022-02-11 16:30:57.000000000,2022-02-11 16:25:03.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-02-02 08:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6205b8d1503b5f240112e4d14856975aa8168b93', 'message': '[DNM] Test test_network_v6.TestGettingAddress\n\nThe slow job was removed with [1] but that should run\nfor slow tempest tests, Re adding the job by removing\ntest_network_v6.TestGettingAddress from the exclude list\nto get the latest status.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/815465\n\nRelated-Bug: #1863577\nChange-Id: I5f631dc6c653eb8d9513721bf52400323b6f5b75\n'}, {'number': 2, 'created': '2022-02-03 06:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c61743c4133a41ec57975d07a124741a35ce6715', 'message': ""Re enable test_network_v6.TestGettingAddress\n\nThe test is working fine now so let's re enable.\n\nRelated-Bug: #1863577\nChange-Id: I5f631dc6c653eb8d9513721bf52400323b6f5b75\n""}, {'number': 3, 'created': '2022-02-03 08:20:17.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4be4511bec6856e30d18b8789a3508832ad73c94', 'message': ""Re enable test_network_v6.TestGettingAddress\n\nThe test is working fine now so let's re enable.\n\nRelated-Bug: #1863577\nChange-Id: I5f631dc6c653eb8d9513721bf52400323b6f5b75\n""}]",3,827424,4be4511bec6856e30d18b8789a3508832ad73c94,20,6,3,13861,,,0,"Re enable test_network_v6.TestGettingAddress

The test is working fine now so let's re enable.

Related-Bug: #1863577
Change-Id: I5f631dc6c653eb8d9513721bf52400323b6f5b75
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/827424/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml']",2,6205b8d1503b5f240112e4d14856975aa8168b93,bug/1863577, - neutron-ovn-tempest-slow - neutron-ovn-tempest-slow," templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-yoga-jobs - openstack-python3-yoga-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-rally-task - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-yoga-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-yoga-jobs template timeout: 3600 - openstack-tox-py39: # from openstack-python3-yoga-jobs template timeout: 3600 voting: false - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800",12,41
openstack%2Fneutron~stable%2Fussuri~Ie0660e5e89e45c00b79464368ba337d27a824714,openstack/neutron,stable/ussuri,Ie0660e5e89e45c00b79464368ba337d27a824714,[Stable Only] Enforce policy for qos_policy_id attribute,MERGED,2022-01-31 15:55:13.000000000,2022-02-11 16:30:31.000000000,2022-02-11 16:24:57.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 15:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6080728fb17963cc8e1f1068e9bac3f8b83f6577', 'message': ""[Stable Only] Enforce policy for qos_policy_id attribute\n\nCurrently while updating 'qos_policy_id', authorization policies\nare not enforced and as a result it can be set or unset over\nport/network/fip by an unauthorized user.\n\nThis patch fixes it by setting 'enforce_policy' to True\nfor this attribute for Floating IP, for port and network\nit's fixed in neutron-lib[1].\n\nThis patch is only for stable releases as for releases since\nYoga this is fixed in neutron-lib[2] itself.\n\n[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657\n[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088\n\nCloses-Bug: #1957175\nChange-Id: Ie0660e5e89e45c00b79464368ba337d27a824714\n(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)\n""}, {'number': 2, 'created': '2022-02-09 06:00:03.000000000', 'files': ['releasenotes/notes/bug-1957175-764bc9c73b8d46e9.yaml', 'neutron/extensions/qos_fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b738de94182b90a72b28e92f5b2218b5198e01f6', 'message': ""[Stable Only] Enforce policy for qos_policy_id attribute\n\nCurrently while updating 'qos_policy_id', authorization policies\nare not enforced and as a result it can be set or unset over\nport/network/fip by an unauthorized user.\n\nThis patch fixes it by setting 'enforce_policy' to True\nfor this attribute for Floating IP, for port and network\nit's fixed in neutron-lib[1].\n\nThis patch is only for stable releases as for releases since\nYoga this is fixed in neutron-lib[2] itself.\n\n[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657\n[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/828245\nCloses-Bug: #1957175\nChange-Id: Ie0660e5e89e45c00b79464368ba337d27a824714\n(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)\n""}]",5,827017,b738de94182b90a72b28e92f5b2218b5198e01f6,18,6,2,13861,,,0,"[Stable Only] Enforce policy for qos_policy_id attribute

Currently while updating 'qos_policy_id', authorization policies
are not enforced and as a result it can be set or unset over
port/network/fip by an unauthorized user.

This patch fixes it by setting 'enforce_policy' to True
for this attribute for Floating IP, for port and network
it's fixed in neutron-lib[1].

This patch is only for stable releases as for releases since
Yoga this is fixed in neutron-lib[2] itself.

[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657
[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088

Depends-On: https://review.opendev.org/c/openstack/tempest/+/828245
Closes-Bug: #1957175
Change-Id: Ie0660e5e89e45c00b79464368ba337d27a824714
(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/827017/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1957175-764bc9c73b8d46e9.yaml', 'neutron/extensions/qos_fip.py']",2,6080728fb17963cc8e1f1068e9bac3f8b83f6577,bug/1957175-stable/wallaby-stable/victoria-stable/ussuri," 'enforce_policy': True,",,7,0
openstack%2Fnova~stable%2Fxena~Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9,openstack/nova,stable/xena,Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9,Avoid unbound instance_uuid var during delete,MERGED,2021-11-04 08:08:43.000000000,2022-02-11 16:29:52.000000000,2022-02-11 16:24:50.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32291}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-04 08:08:43.000000000', 'files': ['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/00cba396134846dbbcf68cc9cf08e80618322bbe', 'message': 'Avoid unbound instance_uuid var during delete\n\nThe patch I03cf285ad83e09d88cdb702a88dfed53c01610f8 fixed most of the\npossible cases for this to happen but missed one. An early enough\nexception during _delete() can cause that the instance_uuid never gets\ndefined but then we try to use it during the finally block. This patch\nmoves the saving of the instance_uuid to the top of the try block to\navoid the issue.\n\nChange-Id: Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9\nCloses-Bug: #1940812\nRelated-Bug: #1914777\n(cherry picked from commit 14e43f385e6d243b6efd11a777d082e63b66367c)\n'}]",11,816488,00cba396134846dbbcf68cc9cf08e80618322bbe,56,8,1,9708,,,0,"Avoid unbound instance_uuid var during delete

The patch I03cf285ad83e09d88cdb702a88dfed53c01610f8 fixed most of the
possible cases for this to happen but missed one. An early enough
exception during _delete() can cause that the instance_uuid never gets
defined but then we try to use it during the finally block. This patch
moves the saving of the instance_uuid to the top of the try block to
avoid the issue.

Change-Id: Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9
Closes-Bug: #1940812
Related-Bug: #1914777
(cherry picked from commit 14e43f385e6d243b6efd11a777d082e63b66367c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/816488/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",2,00cba396134846dbbcf68cc9cf08e80618322bbe,bug/1940812," def test_delete_instance_while_booting_host_changes_lookup_fails(self): """"""Tests the case where the instance become scheduled while being destroyed but then the final lookup fails. """""" instance = self._create_instance_obj({'host': None}) with test.nested( mock.patch.object( self.compute_api, '_delete_while_booting', side_effect=exception.ObjectActionError( action=""delete"", reason=""reason"")), mock.patch.object( self.compute_api, '_lookup_instance', return_value=(None, None)), mock.patch.object(self.compute_api, '_local_delete_cleanup') ) as ( _delete_while_booting, _lookup_instance, _local_delete_cleanup ): self.compute_api._delete( self.context, instance, 'delete', mock.NonCallableMock()) _delete_while_booting.assert_called_once_with( self.context, instance) _lookup_instance.assert_called_once_with( self.context, instance.uuid) _local_delete_cleanup.assert_called_once_with( self.context, instance.uuid) ",,34,4
openstack%2Fdevstack-plugin-ceph~master~Iad5577cdce8c1a46254cabc68f480b1952fbd9bc,openstack/devstack-plugin-ceph,master,Iad5577cdce8c1a46254cabc68f480b1952fbd9bc,WIP: set enable_deferred deletion to test Ceph changes,NEW,2022-01-07 17:28:08.000000000,2022-02-11 16:26:12.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 17:28:08.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/809b16d090130f0e665377beb8549ec8ae53967f', 'message': 'WIP: set enable_deferred deletion to test Ceph changes\n\nChange-Id: Iad5577cdce8c1a46254cabc68f480b1952fbd9bc\n'}]",0,823826,809b16d090130f0e665377beb8549ec8ae53967f,3,2,1,4523,,,0,"WIP: set enable_deferred deletion to test Ceph changes

Change-Id: Iad5577cdce8c1a46254cabc68f480b1952fbd9bc
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/26/823826/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,809b16d090130f0e665377beb8549ec8ae53967f,, iniset $CINDER_CONF backend_defaults enable_deferred_deletion True,,2,0
openstack%2Fdevstack-plugin-ceph~master~Icb5d9932f02dd5e8359e10d775350106a83c29c8,openstack/devstack-plugin-ceph,master,Icb5d9932f02dd5e8359e10d775350106a83c29c8,WIP: test enable_deferred_deletion w/ Ceph driver change,NEW,2022-01-07 17:28:08.000000000,2022-02-11 16:26:06.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 17:28:08.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/f9c7af0ba145fed8d6bf4a548df2bc84f98bee73', 'message': 'WIP: test enable_deferred_deletion w/ Ceph driver change\n\nDepends-On: I4170e093baf46745e3ba6e74efc680beaee08fab\nChange-Id: Icb5d9932f02dd5e8359e10d775350106a83c29c8\n'}]",0,823827,f9c7af0ba145fed8d6bf4a548df2bc84f98bee73,3,2,1,4523,,,0,"WIP: test enable_deferred_deletion w/ Ceph driver change

Depends-On: I4170e093baf46745e3ba6e74efc680beaee08fab
Change-Id: Icb5d9932f02dd5e8359e10d775350106a83c29c8
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/27/823827/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,f9c7af0ba145fed8d6bf4a548df2bc84f98bee73,,,,1,0
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~If97d33aee65a05f6fb860eb4f3c1655bc4605908,openstack/openstack-virtual-baremetal,stable/2.0,If97d33aee65a05f6fb860eb4f3c1655bc4605908,Set explicit boot mode even for bios boot,MERGED,2022-02-10 23:56:18.000000000,2022-02-11 16:20:08.000000000,2022-02-11 16:20:08.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-10 23:56:18.000000000', 'files': ['openstack_virtual_baremetal/build_nodes_json.py', 'openstack_virtual_baremetal/tests/test_build_nodes_json.py'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/f2c81a807c584d3a8b3ed9ed12760352939fbdf7', 'message': ""Set explicit boot mode even for bios boot\n\nOVB correctly detects when the image is UEFI boot enabled and sets\nboot_mode:uefi. However non-UEFI images will use the ironic configured\ndefault, and this will soon change from 'bios' to 'uefi'.\n\nThis change explicitly sets to boot mode to either 'bios' or 'uefi'\nbased on discovered image properties so that ironic defaults can\nchange without causing CI failures.\n\nChange-Id: If97d33aee65a05f6fb860eb4f3c1655bc4605908\n(cherry picked from commit 041df632fccdf75686144e4e8651bd9d731fcfee)\n""}]",3,828759,f2c81a807c584d3a8b3ed9ed12760352939fbdf7,8,4,1,24245,,,0,"Set explicit boot mode even for bios boot

OVB correctly detects when the image is UEFI boot enabled and sets
boot_mode:uefi. However non-UEFI images will use the ironic configured
default, and this will soon change from 'bios' to 'uefi'.

This change explicitly sets to boot mode to either 'bios' or 'uefi'
based on discovered image properties so that ironic defaults can
change without causing CI failures.

Change-Id: If97d33aee65a05f6fb860eb4f3c1655bc4605908
(cherry picked from commit 041df632fccdf75686144e4e8651bd9d731fcfee)
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/59/828759/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_virtual_baremetal/build_nodes_json.py', 'openstack_virtual_baremetal/tests/test_build_nodes_json.py']",2,f2c81a807c584d3a8b3ed9ed12760352939fbdf7,uefi-stable/2.0," 'capabilities': 'boot_option:local,boot_mode:bios',"," 'capabilities': 'boot_option:local',",3,1
openstack%2Ftripleo-heat-templates~master~I8eb45da9a932eff459d2d1ea980c405d25411d78,openstack/tripleo-heat-templates,master,I8eb45da9a932eff459d2d1ea980c405d25411d78,Clean up old container config files from container-startup-config.,ABANDONED,2022-02-04 06:56:49.000000000,2022-02-11 16:10:35.000000000,,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-04 06:56:49.000000000', 'files': ['deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb738fa8bab0cca63c837942a48357de85307bd0', 'message': 'Clean up old container config files from container-startup-config.\n\nWhen performing the upgrade from Train to Wallaby some of\nthe container config files from Train remain causing its\nrecreation during the the deployment steps.\n\nThis patch removes the /var/lib/tripleo-config/container-startup-\nconfig folder with the intention of cleaining it up during the\nUndercloud upgrade procedure. The folder then gets recreated and\nall the new corresponding container configs will be added during\nthe deployment steps.\n\nChange-Id: I8eb45da9a932eff459d2d1ea980c405d25411d78\nRelated-bug: #1959662\n'}]",9,827806,eb738fa8bab0cca63c837942a48357de85307bd0,15,9,1,26343,,,0,"Clean up old container config files from container-startup-config.

When performing the upgrade from Train to Wallaby some of
the container config files from Train remain causing its
recreation during the the deployment steps.

This patch removes the /var/lib/tripleo-config/container-startup-
config folder with the intention of cleaining it up during the
Undercloud upgrade procedure. The folder then gets recreated and
all the new corresponding container configs will be added during
the deployment steps.

Change-Id: I8eb45da9a932eff459d2d1ea980c405d25411d78
Related-bug: #1959662
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/827806/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/undercloud/undercloud-upgrade.yaml'],1,eb738fa8bab0cca63c837942a48357de85307bd0,, - name: get rid of old container config files in tripleo-config/container-startup-config become: true file: path: /var/lib/tripleo-config/container-startup-config/ state: absent when: step|int == 0,,6,0
openstack%2Felection~master~I0314d4c3e88cfdac933186fe3cea66311983ecd2,openstack/election,master,I0314d4c3e88cfdac933186fe3cea66311983ecd2,Adding Arne Wiebalck candidacy for TC,MERGED,2022-02-11 09:29:56.000000000,2022-02-11 16:09:22.000000000,2022-02-11 16:07:28.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 09:29:56.000000000', 'files': ['candidates/z/TC/arne.wiebalck@cern.ch'], 'web_link': 'https://opendev.org/openstack/election/commit/44c9713f72a78291b11d24bb329341043e5b3f2f', 'message': 'Adding Arne Wiebalck candidacy for TC\n\nChange-Id: I0314d4c3e88cfdac933186fe3cea66311983ecd2\n'}]",3,828827,44c9713f72a78291b11d24bb329341043e5b3f2f,9,3,1,11292,,,0,"Adding Arne Wiebalck candidacy for TC

Change-Id: I0314d4c3e88cfdac933186fe3cea66311983ecd2
",git fetch https://review.opendev.org/openstack/election refs/changes/27/828827/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/TC/arne.wiebalck@cern.ch'],1,44c9713f72a78291b11d24bb329341043e5b3f2f,,"Hello Everyone! I would like to declare my candidacy for the Technical Committee. I joined the CERN OpenStack team in 2014, initially to help with the operations of the storage components (Cinder, later Manila), and since 2016 I am looking after the overall operations of our cloud infrastructure service here at CERN. As part of this operational role, I have contributed upstream to several projects [1], recently mostly to Ironic which I help as a core member since about three years. I chair the Bare Metal SIG [2] since its inception, and together with other community members I am trying to establish it as a forum to promote the use of OpenStack for bare metal use cases [3] and to help new users to get started. Presentations at several summits [4] and regular blog posts [5] are examples of how I share the operational challenges and the solutions we apply in our cloud, in the hope these are helpful to other deployers in the same way we profit from them sharing their experiences. The combination of running an in-production OpenStack deployment downstream while interacting with core developers and the overall community upstream is something that I've enjoyed _a lot_ since several years now. I see how real-life input can be essential for upstream projects to move forward, set priorities, or maintain momentum. Equally, interaction with a responsive community where feedback is turned into tangible improvements is a valuable asset for any deployment. This positive experience of being an operator/developer hybrid in the OpenStack community is something I would like to bring to the TC, assisting with the ongoing (but continuous) effort to engage operators and help when global technical issues need to be sorted. I am sure being a member of the TC and helping with its work comes with a learning curve, but I'd be happy to contribute where I can. Thanks for reading and your consideration! Arne Wiebalck IRC (OFTC): arne_wiebalck [1] https://www.stackalytics.io/?metric=commits&release=all&user_id=arne-wiebalck [2] https://etherpad.opendev.org/p/bare-metal-sig [3] https://www.youtube.com/playlist?list=PLKqaoAnDyfgoBFAjUvZGjKXQjogWZBLL_ [4] https://www.openstack.org/videos/search?search=wiebalck [5] https://techblog.web.cern.ch/techblog/ ",,48,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I07339f62fc99ee517851fb706eaf051231b7f1d5,openstack/tripleo-heat-templates,stable/train,I07339f62fc99ee517851fb706eaf051231b7f1d5,WIP: Update repositories during minor update.,ABANDONED,2020-12-14 09:51:14.000000000,2022-02-11 16:09:18.000000000,,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-14 09:51:14.000000000', 'files': ['deployment/rhsm/rhsm-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e83ac06d4215a54faddae3ada9b5ac1848e5c7aa', 'message': 'WIP: Update repositories during minor update.\n\nThe minor update relies on the host_prep_tasks to set the subscription\ndetails. However, this task is triggered after the update_tasks therefore\nwe end up running the update_tasks with the old repositories, rhel_release,\netc... Which has been solved in documentation by adding extra steps that\nperform the update in all overcloud nodes [0]. By adding a new update_task\nthat calls the redhat_subscription role we will make sure that new repos\nare set properly.\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/keeping_red_hat_openstack_platform_updated/index#locking-the-environment-to-a-red-hat-enterprise-linux-release\n\nChange-Id: I07339f62fc99ee517851fb706eaf051231b7f1d5\n'}]",0,766911,e83ac06d4215a54faddae3ada9b5ac1848e5c7aa,9,3,1,26343,,,0,"WIP: Update repositories during minor update.

The minor update relies on the host_prep_tasks to set the subscription
details. However, this task is triggered after the update_tasks therefore
we end up running the update_tasks with the old repositories, rhel_release,
etc... Which has been solved in documentation by adding extra steps that
perform the update in all overcloud nodes [0]. By adding a new update_task
that calls the redhat_subscription role we will make sure that new repos
are set properly.

[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/keeping_red_hat_openstack_platform_updated/index#locking-the-environment-to-a-red-hat-enterprise-linux-release

Change-Id: I07339f62fc99ee517851fb706eaf051231b7f1d5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/766911/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rhsm/rhsm-baremetal-ansible.yaml'],1,e83ac06d4215a54faddae3ada9b5ac1848e5c7aa,, upgrade_tasks: &upgrade_subscription update_tasks: *upgrade_subscription, upgrade_tasks:,2,1
openstack%2Fpython-cinderclient~master~I5ad342f2b60348a0ba79c95415fdf1ae39714558,openstack/python-cinderclient,master,I5ad342f2b60348a0ba79c95415fdf1ae39714558,Add Python 3 only classifier,MERGED,2022-02-08 14:16:08.000000000,2022-02-11 16:04:38.000000000,2022-02-11 16:02:45.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-02-08 14:16:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ef4991dc7aa20480cdc4f48ea9874cce1916a4f0', 'message': 'Add Python 3 only classifier\n\nPython 2 support was removed during Ussuri cycle. This change adds\nthe classifier to clearly state that only Python 3 is supported.\n\nThis allows us to keep the setup.cfg file in cinder and the one in\ncinderclient more consistent.\n\nChange-Id: I5ad342f2b60348a0ba79c95415fdf1ae39714558\n'}]",2,828343,ef4991dc7aa20480cdc4f48ea9874cce1916a4f0,9,3,1,9816,,,0,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

This allows us to keep the setup.cfg file in cinder and the one in
cinderclient more consistent.

Change-Id: I5ad342f2b60348a0ba79c95415fdf1ae39714558
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/43/828343/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ef4991dc7aa20480cdc4f48ea9874cce1916a4f0,py3-only, Programming Language :: Python :: 3 :: Only,,1,0
openstack%2Freleases~master~I846785b7fda22c8057a8ac6e84e75dd07fa31d37,openstack/releases,master,I846785b7fda22c8057a8ac6e84e75dd07fa31d37,[ironic] Propose to switch the release model,ABANDONED,2022-01-25 17:14:10.000000000,2022-02-11 15:57:50.000000000,,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-25 17:14:10.000000000', 'files': ['deliverables/yoga/ironic-python-agent-builder.yaml', 'deliverables/yoga/networking-generic-switch.yaml', 'deliverables/yoga/ironic-ui.yaml', 'deliverables/yoga/networking-baremetal.yaml', 'deliverables/yoga/ironic-prometheus-exporter.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/60ee47d103122844f66bc5061c684dbe88b5e8f5', 'message': '[ironic] Propose to switch the release model\n\nIntermediary-released deliverables that did release only once during\nthe last cycle, and have not done a release yet are good candidates\nto switch to the cycle-with-rc model, which is much more suitable for\ndeliverables that are only released once per cycle.\n\nThese changes are not mandatory and this patch is a conveniences to\nhighlight this point and open the discussion.\n\nPTLs and release liaisons please decide to:\n- immediately release an intermediary release (and -1 the proposed change)\n- confirm the release model change (+1 the proposed change)\n- stay uncertain for this cycle of how many releases will be made, but\n  acknowledge that they need to do a release before RC1 (-1 the proposed\n  change)\n\nChange-Id: I846785b7fda22c8057a8ac6e84e75dd07fa31d37\n'}]",3,826332,60ee47d103122844f66bc5061c684dbe88b5e8f5,6,4,1,17685,,,0,"[ironic] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: I846785b7fda22c8057a8ac6e84e75dd07fa31d37
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/826332/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/ironic-python-agent-builder.yaml', 'deliverables/yoga/networking-generic-switch.yaml', 'deliverables/yoga/ironic-ui.yaml', 'deliverables/yoga/ironic-prometheus-exporter.yaml', 'deliverables/yoga/networking-baremetal.yaml']",5,60ee47d103122844f66bc5061c684dbe88b5e8f5,not-yet-released-yoga,release-model: cycle-with-rc,release-model: cycle-with-intermediary,5,5
openstack%2Fvalidations-common~master~I53f31f6fd30a15698328cada54c96d7d902e0155,openstack/validations-common,master,I53f31f6fd30a15698328cada54c96d7d902e0155,New validation for checking presence of running rsyslog service.,MERGED,2021-02-16 12:36:16.000000000,2022-02-11 15:35:55.000000000,2022-02-11 15:30:37.000000000,"[{'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-02-16 12:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/891f2cd8661950c155edeb71415f149bed36214e', 'message': 'New validation for checking presence of running rsyslog service.\n\nNecessity of proper logging is described in depth by NIST SP 800-171\nas well as by the Red Hat Openstack Security and Hardening Guide.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I53f31f6fd30a15698328cada54c96d7d902e0155\n'}, {'number': 2, 'created': '2021-02-16 15:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1bdf7affab1d115930775e3b62263038c66360c6', 'message': 'New validation for checking presence of running rsyslog service.\n\nNecessity of proper logging is described in depth by NIST SP 800-171\nas well as by the Red Hat Openstack Security and Hardening Guide.\n\nNew validation group `security` consists only of check-rsyslog and\ncheck-selinux-mode validations at this time.\n\nFurther security related validations should be included\nin this group, in addition to other groups as needed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I53f31f6fd30a15698328cada54c96d7d902e0155\n'}, {'number': 3, 'created': '2022-01-19 10:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1aa4cfdbd29db452059e1b87de435be013ed158b', 'message': 'New validation for checking presence of running rsyslog service.\n\nNecessity of proper logging is described in depth by NIST SP 800-171\nas well as by the Red Hat Openstack Security and Hardening Guide.\n\nNew validation group `security` consists only of check-rsyslog and\ncheck-selinux-mode validations at this time.\n\nFurther security related validations should be included\nin this group, in addition to other groups as needed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I53f31f6fd30a15698328cada54c96d7d902e0155\n'}, {'number': 4, 'created': '2022-01-19 10:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0e3be93b917afd16f21542b1d01d022b5d5f632f', 'message': 'New validation for checking presence of running rsyslog service.\n\nNecessity of proper logging is described in depth by NIST SP 800-171\nas well as by the Red Hat Openstack Security and Hardening Guide.\n\nNew validation group `security` consists only of check-rsyslog and\ncheck-selinux-mode validations at this time.\n\nFurther security related validations should be included\nin this group, in addition to other groups as needed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I53f31f6fd30a15698328cada54c96d7d902e0155\n'}, {'number': 5, 'created': '2022-01-20 08:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cb25afd60f57dffbef614d53adf82527666a87da', 'message': 'New validation for checking presence of running rsyslog service.\n\nNecessity of proper logging is described in depth by NIST SP 800-171\nas well as by the Red Hat Openstack Security and Hardening Guide.\n\nNew validation group `security` consists only of check-rsyslog and\ncheck-selinux-mode validations at this time.\n\nFurther security related validations should be included\nin this group, in addition to other groups as needed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I53f31f6fd30a15698328cada54c96d7d902e0155\n'}, {'number': 6, 'created': '2022-01-24 13:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3b3c18e73a012b765055389bf401b0ca6d5a490d', 'message': 'New validation for checking presence of running rsyslog service.\n\nNecessity of proper logging is described in depth by NIST SP 800-171\nas well as by the Red Hat Openstack Security and Hardening Guide.\n\nNew validation group `security` consists only of check-rsyslog and\ncheck-selinux-mode validations at this time.\n\nFurther security related validations should be included\nin this group, in addition to other groups as needed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I53f31f6fd30a15698328cada54c96d7d902e0155\n'}, {'number': 7, 'created': '2022-01-25 10:28:59.000000000', 'files': ['validations_common/playbooks/check-rsyslog.yaml', 'validations_common/roles/check_rsyslog/defaults/main.yaml', 'validations_common/roles/check_rsyslog/molecule/default/converge.yml', 'validations_common/roles/check_rsyslog/molecule/default/molecule.yml', '.zuul.yaml', 'validations_common/roles/check_rsyslog/tasks/main.yaml', 'validations_common/roles/check_rsyslog/tasks/yum.yaml', 'validations_common/roles/check_rsyslog/tasks/systemctl.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9b2bddbab898ac28ca368663906243b2869b689b', 'message': 'New validation for checking presence of running rsyslog service.\n\nNecessity of proper logging is described in depth by NIST SP 800-171\nas well as by the Red Hat Openstack Security and Hardening Guide.\n\nNew validation group `security` consists only of check-rsyslog and\ncheck-selinux-mode validations at this time.\n\nFurther security related validations should be included\nin this group, in addition to other groups as needed.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I53f31f6fd30a15698328cada54c96d7d902e0155\n'}]",4,775822,9b2bddbab898ac28ca368663906243b2869b689b,33,9,7,32926,,,0,"New validation for checking presence of running rsyslog service.

Necessity of proper logging is described in depth by NIST SP 800-171
as well as by the Red Hat Openstack Security and Hardening Guide.

New validation group `security` consists only of check-rsyslog and
check-selinux-mode validations at this time.

Further security related validations should be included
in this group, in addition to other groups as needed.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I53f31f6fd30a15698328cada54c96d7d902e0155
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/22/775822/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/roles/check_rsyslog/molecule/default/Dockerfile', 'validations_common/playbooks/check-rsyslog.yaml', 'validations_common/roles/check_rsyslog/defaults/main.yaml', 'validations_common/roles/check_rsyslog/molecule/default/converge.yml', 'validations_common/roles/check_rsyslog/molecule/default/molecule.yml', 'validations_common/roles/check_rsyslog/tasks/main.yaml', 'validations_common/roles/check_rsyslog/tasks/systemctl.yaml', 'validations_common/roles/check_rsyslog/tasks/yum.yaml']",8,891f2cd8661950c155edeb71415f149bed36214e,validation/check-rsyslog,"--- - name: Get installed package from yum shell: > yum list --installed | grep ""rsyslog"" register: rsyslog_presence changed_when: false - name: Fails if we don't find the rsyslog installed assert: that: - rsyslog_presence.stdout_lines|length != 0 fail_msg: ""rsyslog package is not installed"" success_msg: ""rsyslog package is installed"" ",,161,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iecaeb2c1fd276d624f91ca4b21efaf700701f46c,openstack/tripleo-heat-templates,stable/train,Iecaeb2c1fd276d624f91ca4b21efaf700701f46c,[train-only][ffwd][allinone] Last piece of puzzle for all in one upgrade,MERGED,2022-02-01 20:29:19.000000000,2022-02-11 15:30:34.000000000,2022-02-11 15:30:34.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-02-01 20:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aeb3b245e19e9e0870928aefce2fd6e141cd42ca', 'message': '[train-only][ffwd][allinone] Last piece of puzzle for all in one upgrade\n\nThe all in one upgrade procedure does not run transfer data as it\nonly stops all services. There is no point to transfer data to\nbootstrap controller as all nodes will pop back into existence\nat once. For this we need to override check for mysql data transfer.\n\nChange-Id: Iecaeb2c1fd276d624f91ca4b21efaf700701f46c\n'}, {'number': 2, 'created': '2022-02-01 20:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9c614a6d74781b51f1b960f25a03518307ad4af', 'message': '[train-only][ffwd][allinone] Last piece of puzzle for all in one upgrade\n\nThe all in one upgrade procedure does not run transfer data as it\nonly stops all services. There is no point to transfer data to\nbootstrap controller as all nodes will pop back into existence\nat once. For this we need to override check for mysql data transfer.\n\nChange-Id: Iecaeb2c1fd276d624f91ca4b21efaf700701f46c\n'}, {'number': 3, 'created': '2022-02-07 13:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aac10708e649be8820003c72981aa72c006b38db', 'message': '[train-only][ffwd][allinone] Last piece of puzzle for all in one upgrade\n\nThe all in one upgrade procedure does not run transfer data as it\nonly stops all services. There is no point to transfer data to\nbootstrap controller as all nodes will pop back into existence\nat once. For this we need to override check for mysql data transfer.\n\nChange-Id: Iecaeb2c1fd276d624f91ca4b21efaf700701f46c\n'}, {'number': 4, 'created': '2022-02-10 21:06:43.000000000', 'files': ['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8e54513771e3336e8435701e12d13291b78fd61', 'message': '[train-only][ffwd][allinone] Last piece of puzzle for all in one upgrade\n\nThe all in one upgrade procedure does not run transfer data as it\nonly stops all services. There is no point to transfer data to\nbootstrap controller as all nodes will pop back into existence\nat once. For this we need to override check for mysql data transfer.\n\nChange-Id: Iecaeb2c1fd276d624f91ca4b21efaf700701f46c\n'}]",4,827360,d8e54513771e3336e8435701e12d13291b78fd61,20,4,4,11166,,,0,"[train-only][ffwd][allinone] Last piece of puzzle for all in one upgrade

The all in one upgrade procedure does not run transfer data as it
only stops all services. There is no point to transfer data to
bootstrap controller as all nodes will pop back into existence
at once. For this we need to override check for mysql data transfer.

Change-Id: Iecaeb2c1fd276d624f91ca4b21efaf700701f46c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/827360/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,aeb3b245e19e9e0870928aefce2fd6e141cd42ca,, AllInOneUpgrade: type: boolean default: false description: Parameter used to skip transfer data check during a special case of upgrade called AllInOne. This causes outage! vars: allinone_upgrade: {get_param: AllInOneUpgrade} - name: Override cluster_recreate in case of AllInOneUpgrade set_fact: cluster_recreate: true when: - allinone_upgrade|bool,,13,0
openstack%2Fnova~stable%2Fvictoria~Ie904d1513b5cf76d6d5f6877545e8eb378dd5499,openstack/nova,stable/victoria,Ie904d1513b5cf76d6d5f6877545e8eb378dd5499,Add a WA flag waiting for vif-plugged event during reboot,MERGED,2021-11-19 14:49:57.000000000,2022-02-11 15:28:30.000000000,2022-02-11 15:22:27.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-19 14:49:57.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1946729-wait-for-vif-plugged-event-during-hard-reboot-fb491f6a68370bab.yaml', '.zuul.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c531fdcc192afb5af628ac567cb0ff8aa3eab052', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround config option to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enabled unconditionally as not all neutron\nnetworking backend sending plug time events to wait for. Also the logic\nneeds to be vnic_type dependent as ml2/ovs and the in tree sriov backend\noften deployed together on the same compute. While ml2/ovs sends plug\ntime event the sriov backend does not send it reliably. So the\nconfiguration is not just a boolean flag but a list of vnic_types\ninstead. This way the waiting for the plug time event for a vif that is\nhandled by ml2/ovs is possible while the instance has other vifs handled\nby the sriov backend where no event can be expected.\n\nConflicts:\n      nova/virt/libvirt/driver.py both\n      I73305e82da5d8da548961b801a8e75fb0e8c4cf1 and\n      I0b93bdc12cdce591c7e642ab8830e92445467b9a are not in\n      stable/victoria\n\nThe stable/victoria specific changes:\n\n* The list of accepted vnic_type-s are adapted to what is supported by\n  neutron on this release. So vdpa, accelerator-direct, and\n  accelerator-direct-physical are removed as they are only added in\n  stable/wallaby\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n(cherry picked from commit 68c970ea9915a95f9828239006559b84e4ba2581)\n(cherry picked from commit 0c41bfb8c5c60f1cc930ae432e6be460ee2e97ac)\n(cherry picked from commit 89c4ff5f7b45f1a5bed8b6b9b4586fceaa391bfb)\n'}]",5,818559,c531fdcc192afb5af628ac567cb0ff8aa3eab052,26,5,1,9708,,,0,"Add a WA flag waiting for vif-plugged event during reboot

The libvirt driver power on and hard reboot destroys the domain first
and unplugs the vifs then recreate the domain and replug the vifs.
However nova does not wait for the network-vif-plugged event before
unpause the domain. This can cause that the domain starts running and
requesting IP via DHCP before the networking backend finished plugging
the vifs.

So this patch adds a workaround config option to nova to wait for
network-vif-plugged events during hard reboot the same way as nova waits
for this event during new instance spawn.

This logic cannot be enabled unconditionally as not all neutron
networking backend sending plug time events to wait for. Also the logic
needs to be vnic_type dependent as ml2/ovs and the in tree sriov backend
often deployed together on the same compute. While ml2/ovs sends plug
time event the sriov backend does not send it reliably. So the
configuration is not just a boolean flag but a list of vnic_types
instead. This way the waiting for the plug time event for a vif that is
handled by ml2/ovs is possible while the instance has other vifs handled
by the sriov backend where no event can be expected.

Conflicts:
      nova/virt/libvirt/driver.py both
      I73305e82da5d8da548961b801a8e75fb0e8c4cf1 and
      I0b93bdc12cdce591c7e642ab8830e92445467b9a are not in
      stable/victoria

The stable/victoria specific changes:

* The list of accepted vnic_type-s are adapted to what is supported by
  neutron on this release. So vdpa, accelerator-direct, and
  accelerator-direct-physical are removed as they are only added in
  stable/wallaby

Change-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499
Closes-Bug: #1946729
(cherry picked from commit 68c970ea9915a95f9828239006559b84e4ba2581)
(cherry picked from commit 0c41bfb8c5c60f1cc930ae432e6be460ee2e97ac)
(cherry picked from commit 89c4ff5f7b45f1a5bed8b6b9b4586fceaa391bfb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/818559/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1946729-wait-for-vif-plugged-event-during-hard-reboot-fb491f6a68370bab.yaml', '.zuul.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,c531fdcc192afb5af628ac567cb0ff8aa3eab052,bug/1946729," vifs_already_plugged=True, external_events=[]) @mock.patch('oslo_utils.fileutils.ensure_tree', new=mock.Mock()) @mock.patch('nova.virt.libvirt.LibvirtDriver.get_info') @mock.patch('nova.virt.libvirt.LibvirtDriver._create_guest_with_network') @mock.patch('nova.virt.libvirt.LibvirtDriver._get_guest_xml') @mock.patch('nova.virt.libvirt.LibvirtDriver.destroy', new=mock.Mock()) @mock.patch( 'nova.virt.libvirt.LibvirtDriver._get_all_assigned_mediated_devices', new=mock.Mock(return_value={})) def test_hard_reboot_wait_for_plug( self, mock_get_guest_xml, mock_create_guest_with_network, mock_get_info ): self.flags( group=""workarounds"", wait_for_vif_plugged_event_during_hard_reboot=[""normal""]) self.context.auth_token = None instance = objects.Instance(**self.test_instance) network_info = _fake_network_info(self, num_networks=4) network_info[0][""vnic_type""] = ""normal"" network_info[1][""vnic_type""] = ""direct"" network_info[2][""vnic_type""] = ""normal"" network_info[3][""vnic_type""] = ""direct-physical"" block_device_info = None return_values = [hardware.InstanceInfo(state=power_state.SHUTDOWN), hardware.InstanceInfo(state=power_state.RUNNING)] mock_get_info.side_effect = return_values mock_get_guest_xml.return_value = mock.sentinel.xml drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._hard_reboot( self.context, instance, network_info, block_device_info) mock_create_guest_with_network.assert_called_once_with( self.context, mock.sentinel.xml, instance, network_info, block_device_info, vifs_already_plugged=False, external_events=[ ('network-vif-plugged', uuids.vif1), ('network-vif-plugged', uuids.vif3), ] )", vifs_already_plugged=True),141,2
openstack%2Fkolla-ansible~stable%2Fwallaby~I40c4e209470d21e0a02fd447fb628acfdae9fa9d,openstack/kolla-ansible,stable/wallaby,I40c4e209470d21e0a02fd447fb628acfdae9fa9d,Fix log rotation for fluentd created files,MERGED,2022-02-09 10:41:53.000000000,2022-02-11 15:21:46.000000000,2022-02-11 15:13:48.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 10:41:53.000000000', 'files': ['releasenotes/notes/fix-haproxy-logrotate-e299a0000728fd8f.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/cron-logrotate-haproxy.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b33c6fa91a72cd6ae8631819ee7ac229e631f595', 'message': 'Fix log rotation for fluentd created files\n\nOverrides default fluentd buffer config to stop log files from using\ndatestamped filenames, allowing logrotate to manage them.\n\nCloses-Bug: #1940118\nChange-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d\n(cherry picked from commit 79b59e2c0b43936a12a9c676d8a48cd62c733a0f)\n'}]",0,828405,b33c6fa91a72cd6ae8631819ee7ac229e631f595,9,3,1,30491,,,0,"Fix log rotation for fluentd created files

Overrides default fluentd buffer config to stop log files from using
datestamped filenames, allowing logrotate to manage them.

Closes-Bug: #1940118
Change-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d
(cherry picked from commit 79b59e2c0b43936a12a9c676d8a48cd62c733a0f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/828405/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-haproxy-logrotate-e299a0000728fd8f.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/cron-logrotate-haproxy.conf.j2']",3,b33c6fa91a72cd6ae8631819ee7ac229e631f595,fix-haproxy-logrotate-stable/xena-stable/wallaby,"""/var/log/kolla/haproxy/*.log""","""/var/log/kolla/haproxy/haproxy.log""",44,23
openstack%2Fkolla-ansible~stable%2Fvictoria~I40c4e209470d21e0a02fd447fb628acfdae9fa9d,openstack/kolla-ansible,stable/victoria,I40c4e209470d21e0a02fd447fb628acfdae9fa9d,Fix log rotation for fluentd created files,MERGED,2022-02-09 10:42:00.000000000,2022-02-11 15:21:40.000000000,2022-02-11 15:13:51.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 10:42:00.000000000', 'files': ['releasenotes/notes/fix-haproxy-logrotate-e299a0000728fd8f.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/cron-logrotate-haproxy.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aaa56405d33656104fd7b1972b3688bd4aadd95f', 'message': 'Fix log rotation for fluentd created files\n\nOverrides default fluentd buffer config to stop log files from using\ndatestamped filenames, allowing logrotate to manage them.\n\nCloses-Bug: #1940118\nChange-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d\n(cherry picked from commit 79b59e2c0b43936a12a9c676d8a48cd62c733a0f)\n'}]",0,828406,aaa56405d33656104fd7b1972b3688bd4aadd95f,9,3,1,30491,,,0,"Fix log rotation for fluentd created files

Overrides default fluentd buffer config to stop log files from using
datestamped filenames, allowing logrotate to manage them.

Closes-Bug: #1940118
Change-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d
(cherry picked from commit 79b59e2c0b43936a12a9c676d8a48cd62c733a0f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/828406/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-haproxy-logrotate-e299a0000728fd8f.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/cron-logrotate-haproxy.conf.j2']",3,aaa56405d33656104fd7b1972b3688bd4aadd95f,fix-haproxy-logrotate-stable/xena-stable/wallaby-stable/victoria,"""/var/log/kolla/haproxy/*.log""","""/var/log/kolla/haproxy/haproxy.log""",44,23
openstack%2Fkolla-ansible~stable%2Fxena~I40c4e209470d21e0a02fd447fb628acfdae9fa9d,openstack/kolla-ansible,stable/xena,I40c4e209470d21e0a02fd447fb628acfdae9fa9d,Fix log rotation for fluentd created files,MERGED,2022-02-09 10:41:43.000000000,2022-02-11 15:21:39.000000000,2022-02-11 15:13:44.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 10:41:43.000000000', 'files': ['releasenotes/notes/fix-haproxy-logrotate-e299a0000728fd8f.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/cron-logrotate-haproxy.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a763f586b652a30d55e8d94a4e0dfef4bffeb9d7', 'message': 'Fix log rotation for fluentd created files\n\nOverrides default fluentd buffer config to stop log files from using\ndatestamped filenames, allowing logrotate to manage them.\n\nCloses-Bug: #1940118\nChange-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d\n(cherry picked from commit 79b59e2c0b43936a12a9c676d8a48cd62c733a0f)\n'}]",4,828404,a763f586b652a30d55e8d94a4e0dfef4bffeb9d7,13,3,1,30491,,,0,"Fix log rotation for fluentd created files

Overrides default fluentd buffer config to stop log files from using
datestamped filenames, allowing logrotate to manage them.

Closes-Bug: #1940118
Change-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d
(cherry picked from commit 79b59e2c0b43936a12a9c676d8a48cd62c733a0f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/828404/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-haproxy-logrotate-e299a0000728fd8f.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/cron-logrotate-haproxy.conf.j2']",3,a763f586b652a30d55e8d94a4e0dfef4bffeb9d7,fix-haproxy-logrotate-stable/xena,"""/var/log/kolla/haproxy/*.log""","""/var/log/kolla/haproxy/haproxy.log""",44,23
openstack%2Ftenks~master~Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52,openstack/tenks,master,Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52,Support UEFI boot mode,MERGED,2022-02-02 11:34:33.000000000,2022-02-11 15:19:41.000000000,2022-02-11 15:12:24.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2022-02-02 11:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/b7d30acf0e008d102b1c2c1ff1eb4a9f3a044997', 'message': 'Support UEFI boot mode\n\nAdds support for using UEFI boot mode for nodes. This is done via node\ncapabilities, as it is in Ironic. The default boot mode remains legacy\nBIOS for now, although this may change.\n\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50\n\nChange-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52\n'}, {'number': 2, 'created': '2022-02-02 13:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/67a3ad5f6cc65974fc2f9e6d0e45a2e4df715afa', 'message': 'Support UEFI boot mode\n\nAdds support for using UEFI boot mode for nodes. This is done via node\ncapabilities, as it is in Ironic. The default boot mode remains legacy\nBIOS for now, although this may change.\n\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50\n\nChange-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52\n'}, {'number': 3, 'created': '2022-02-02 14:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/d141e95829fde04e7181de964057ff5a16ae5510', 'message': 'Support UEFI boot mode\n\nAdds support for using UEFI boot mode for nodes. This is done via node\ncapabilities, as it is in Ironic. The default boot mode remains legacy\nBIOS for now, although this may change.\n\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50\n\nChange-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52\n'}, {'number': 4, 'created': '2022-02-02 14:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/6b1edf5f7b8daaae68178a5426d0c43e145f5702', 'message': 'Support UEFI boot mode\n\nAdds support for using UEFI boot mode for nodes. This is done via node\ncapabilities, as it is in Ironic. The default boot mode remains legacy\nBIOS for now, although this may change.\n\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/827486\n\nChange-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52\n'}, {'number': 5, 'created': '2022-02-02 14:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/6960e0e757ab90b123d0d9fab596c82a2aae6ffb', 'message': 'Support UEFI boot mode\n\nAdds support for using UEFI boot mode for nodes. This is done via node\ncapabilities, as it is in Ironic. The default boot mode remains legacy\nBIOS for now, although this may change.\n\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/827486\n\nChange-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52\n'}, {'number': 6, 'created': '2022-02-02 16:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/c9928cde12f7834d637ef58dc1c9292540381fb5', 'message': 'Support UEFI boot mode\n\nAdds support for using UEFI boot mode for nodes. This is done via node\ncapabilities, as it is in Ironic.\n\nThe default boot mode is now configurable via the default_boot_mode\nvariable. The default boot mode remains legacy BIOS for now, although\nthis may change.\n\nUpdates the existing CI jobs, with the OVS jobs using BIOS boot mode,\nand the linuxbridge jobs using UEFI boot mode.\n\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/827486\n\nChange-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52\n'}, {'number': 7, 'created': '2022-02-02 16:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/5342f1ba71cd8bb0c7913d8bc14f549454b2ed14', 'message': 'Support UEFI boot mode\n\nAdds support for using UEFI boot mode for nodes. This is done via node\ncapabilities, as it is in Ironic.\n\nThe default boot mode is now configurable via the default_boot_mode\nvariable. The default boot mode remains legacy BIOS for now, although\nthis may change.\n\nUpdates the existing CI jobs, with the OVS jobs using BIOS boot mode,\nand the linuxbridge jobs using UEFI boot mode.\n\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/827486\n\nChange-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52\n'}, {'number': 8, 'created': '2022-02-02 17:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/1e77ba6609e52a928c70959b83019e09fe976167', 'message': 'Support UEFI boot mode\n\nAdds support for using UEFI boot mode for nodes. This is done via node\ncapabilities, as it is in Ironic.\n\nThe default boot mode is now configurable via the default_boot_mode\nvariable. The default boot mode remains legacy BIOS for now, although\nthis may change.\n\nUpdates the existing CI jobs, with the OVS jobs using BIOS boot mode,\nand the linuxbridge jobs using UEFI boot mode.\n\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/827486\n\nChange-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52\n'}, {'number': 9, 'created': '2022-02-08 11:16:54.000000000', 'files': ['doc/source/configuration.rst', 'playbooks/tenks-deploy-teardown/templates/tenks-overrides.yml.j2', 'ansible/filter_plugins/tenks.py', 'ansible/host_vars/localhost', 'zuul.d/base.yaml', 'releasenotes/notes/uefi-7a19ff8a549a3e9e.yaml', 'ansible/node_instantiation.yml', 'doc/source/development.rst', 'zuul.d/project.yaml', 'ansible/host_setup.yml', 'ansible/roles/ironic-enrolment/tasks/node.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/fc1b42c60d19e148a746bc171a71ec13dd39ecfd', 'message': 'Support UEFI boot mode\n\nAdds support for using UEFI boot mode for nodes. This is done via node\ncapabilities, as it is in Ironic.\n\nThe default boot mode is now configurable via the default_boot_mode\nvariable. The default boot mode remains legacy BIOS for now, although\nthis may change.\n\nUpdates the existing CI jobs, with the OVS jobs using BIOS boot mode,\nand the linuxbridge jobs using UEFI boot mode.\n\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83\nDepends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/827486\n\nChange-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52\n'}]",4,827479,fc1b42c60d19e148a746bc171a71ec13dd39ecfd,27,5,9,14826,,,0,"Support UEFI boot mode

Adds support for using UEFI boot mode for nodes. This is done via node
capabilities, as it is in Ironic.

The default boot mode is now configurable via the default_boot_mode
variable. The default boot mode remains legacy BIOS for now, although
this may change.

Updates the existing CI jobs, with the OVS jobs using BIOS boot mode,
and the linuxbridge jobs using UEFI boot mode.

Depends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83
Depends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/827486

Change-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52
",git fetch https://review.opendev.org/openstack/tenks refs/changes/79/827479/8 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/node_instantiation.yml', 'playbooks/tenks-deploy-teardown/templates/tenks-overrides.yml.j2', 'ansible/filter_plugins/tenks.py', 'ansible/host_setup.yml']",4,b7d30acf0e008d102b1c2c1ff1eb4a9f3a044997,," libvirt_host_enable_efi_support: >- {{ nodes | map('set_libvirt_boot_mode') | selectattr('boot_firmware', 'defined') | selectattr('boot_firmware', 'equalto', 'uefi') | list | length > 0 }}",,55,1
openstack%2Fdevstack~stable%2Fussuri~Ica61976ac51b21dcea73654df0c62a313d9a2b6e,openstack/devstack,stable/ussuri,Ica61976ac51b21dcea73654df0c62a313d9a2b6e,Drop centos8 nodeset,ABANDONED,2022-02-01 20:21:16.000000000,2022-02-11 15:15:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 20:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/eb79d03a5eb3f90641188ebba2061dadf2069ae0', 'message': 'Drop centos8 nodeset\n\nChange-Id: Ica61976ac51b21dcea73654df0c62a313d9a2b6e\n'}, {'number': 2, 'created': '2022-02-04 10:26:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8a2c38b16b232b278944a80e822de6ad42c793e0', 'message': 'Drop centos8 nodeset\n\nChange-Id: Ica61976ac51b21dcea73654df0c62a313d9a2b6e\n'}]",0,827355,8a2c38b16b232b278944a80e822de6ad42c793e0,5,1,2,13252,,,0,"Drop centos8 nodeset

Change-Id: Ica61976ac51b21dcea73654df0c62a313d9a2b6e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/55/827355/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eb79d03a5eb3f90641188ebba2061dadf2069ae0,remove-centos-8,, name: devstack-single-node-centos-8 nodes: - name: controller label: centos-8 groups: - name: tempest nodes: - controller - nodeset:,0,10
openstack%2Fpython-cinderclient~stable%2Fvictoria~I6d8864905cbfdffa32b02d9ffbc463f30d3ff720,openstack/python-cinderclient,stable/victoria,I6d8864905cbfdffa32b02d9ffbc463f30d3ff720,Migrate job from CentOS8 to Bionic,MERGED,2022-01-24 14:12:38.000000000,2022-02-11 15:13:54.000000000,2022-02-11 15:07:58.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 14:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4418c94b7e838cc41a17fa0636a4f60449d0e21a', 'message': 'Migrate jobs from CentOS8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I6d8864905cbfdffa32b02d9ffbc463f30d3ff720\n'}, {'number': 2, 'created': '2022-02-10 14:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b9436dba266f619391a50834947033696a3d6f0f', 'message': 'DNM: Migrate job from CentOS8 to Bionic\n\nCentOS 8 is being removed from CI because of its EOL[1].\nCentOS 8 stream is not currently supported by victoria devstack,\nOur functional-py36 job is a child of devstack-tox-functional.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I6d8864905cbfdffa32b02d9ffbc463f30d3ff720\n'}, {'number': 3, 'created': '2022-02-10 18:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/a837536cef20377c364371bf7a2eaf436d176efe', 'message': 'DNM: Migrate job from CentOS8 to Bionic\n\nCentOS 8 is being removed from CI (and quite rightly so) because\nof its EOL[1].  CentOS 8 stream is not currently supported by victoria\ndevstack.  Our functional-py36 job is a child of\ndevstack-tox-functional, so we need run devstack with py36 on a\nsupported platform.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I6d8864905cbfdffa32b02d9ffbc463f30d3ff720\n'}, {'number': 4, 'created': '2022-02-10 20:15:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/3bc7349bc545d8f5a3299aa4faa046630334482c', 'message': 'Migrate job from CentOS8 to Bionic\n\nCentOS 8 is being removed from CI because of its EOL[1].\nCentOS 8 stream is not currently supported by victoria devstack.\nOur functional-py36 job is a child of devstack-tox-functional.\nSo we need to run devstack with py36 on a supported platform.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I6d8864905cbfdffa32b02d9ffbc463f30d3ff720\n'}]",7,826092,3bc7349bc545d8f5a3299aa4faa046630334482c,22,6,4,5314,,,0,"Migrate job from CentOS8 to Bionic

CentOS 8 is being removed from CI because of its EOL[1].
CentOS 8 stream is not currently supported by victoria devstack.
Our functional-py36 job is a child of devstack-tox-functional.
So we need to run devstack with py36 on a supported platform.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Change-Id: I6d8864905cbfdffa32b02d9ffbc463f30d3ff720
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/92/826092/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4418c94b7e838cc41a17fa0636a4f60449d0e21a,remove-centos-8, nodeset: devstack-single-node-centos-8-stream, nodeset: devstack-single-node-centos-8,1,1
openstack%2Fkolla-ansible~master~Ie7a7bc44fe2bf312c2c2ad97da56ac85694b82a8,openstack/kolla-ansible,master,Ie7a7bc44fe2bf312c2c2ad97da56ac85694b82a8,haproxy: support fqdn based single frontend,ABANDONED,2022-01-12 08:05:01.000000000,2022-02-11 15:12:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-12 08:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c712435a7920e9ea322d6051868c59465010da4c', 'message': 'WIP: haproxy: support fqdn based single frontend\n\nChange-Id: Ie7a7bc44fe2bf312c2c2ad97da56ac85694b82a8\n'}, {'number': 2, 'created': '2022-02-02 13:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69be299a0bacecfa50770a875587422ff27f7001', 'message': 'haproxy: support fqdn based single frontend\n\nChange-Id: Ie7a7bc44fe2bf312c2c2ad97da56ac85694b82a8\n'}, {'number': 3, 'created': '2022-02-11 09:59:12.000000000', 'files': ['ansible/roles/loadbalancer/templates/haproxy/haproxy_main.cfg.j2', 'ansible/group_vars/all.yml', 'ansible/roles/loadbalancer/vars/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/loadbalancer/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9017a1a4d94f2449a1ab34d6aa3547e1eb19770a', 'message': 'haproxy: support fqdn based single frontend\n\nChange-Id: Ie7a7bc44fe2bf312c2c2ad97da56ac85694b82a8\n'}]",0,824312,9017a1a4d94f2449a1ab34d6aa3547e1eb19770a,10,1,3,22629,,,0,"haproxy: support fqdn based single frontend

Change-Id: Ie7a7bc44fe2bf312c2c2ad97da56ac85694b82a8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/824312/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/loadbalancer/templates/haproxy/haproxy_main.cfg.j2', 'ansible/roles/loadbalancer/vars/main.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2']",3,c712435a7920e9ea322d6051868c59465010da4c,, {% set with_frontend = not haproxy_single_frontend|bool and haproxy_service.with_frontend|default(true)|bool %} {% if (external|bool and not haproxy_single_frontend_external|bool) or (not external|bool and not haproxy_single_frontend_internal|bool) {% endif %}, {% set with_frontend = haproxy_service.with_frontend|default(true)|bool %},69,1
openstack%2Foslo.log~master~If1e846c79477cb0fc06d5702240e1dbb9f2c9c40,openstack/oslo.log,master,If1e846c79477cb0fc06d5702240e1dbb9f2c9c40,Add Yoga to versionutils,MERGED,2022-02-04 21:33:23.000000000,2022-02-11 14:50:43.000000000,2022-02-11 14:48:30.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-04 21:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/e0e3178dc34d8d23f65c91a2d22ac79d2cb072e8', 'message': 'Add Yoga to versionutils\n\nChange-Id: If1e846c79477cb0fc06d5702240e1dbb9f2c9c40\n'}, {'number': 2, 'created': '2022-02-05 21:01:14.000000000', 'files': ['oslo_log/versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/de03a59ed78e3e5d97d530918a4a1680160660dc', 'message': 'Add Yoga to versionutils\n\nChange-Id: If1e846c79477cb0fc06d5702240e1dbb9f2c9c40\n'}]",2,827926,de03a59ed78e3e5d97d530918a4a1680160660dc,11,3,2,21129,,,0,"Add Yoga to versionutils

Change-Id: If1e846c79477cb0fc06d5702240e1dbb9f2c9c40
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/26/827926/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/versionutils.py'],1,e0e3178dc34d8d23f65c91a2d22ac79d2cb072e8,yoga," 'Y': 'Yoga', YOGA = 'Y'",,2,0
openstack%2Fcinder~stable%2Fvictoria~Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,openstack/cinder,stable/victoria,Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,Reject bad img formats for uploaded encrypted vols,MERGED,2022-02-03 23:17:47.000000000,2022-02-11 14:37:30.000000000,2022-02-11 14:35:13.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 23:17:47.000000000', 'files': ['releasenotes/notes/bug-193688-bb045badcd5aecad.yaml', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fac676112da484e8ad2627de4333ab72b70fe5c8', 'message': ""Reject bad img formats for uploaded encrypted vols\n\nCinder only supports uploading volumes of encrypted volume types as\nimages with disk format 'raw' and container format 'bare'.  Screen\nfor this at the REST API layer when the request is made.\n\nThis change is applied directly to the VolumeActionsController in\nthe cinder.api.contrib module, so it affects both the Block Storage\nAPI v2 and v3.\n\nChange-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782\nCloses-bug: #1935688\n(cherry picked from commit de8b3b0b00421a01ed777880d2b5bf6fffc068d5)\n(cherry picked from commit 78682022d2dcf07c270356d23a27843578466469)\n(cherry picked from commit 12f7376fe44ea53e6e84dfd12577953bd841d25d)\n""}]",1,827776,fac676112da484e8ad2627de4333ab72b70fe5c8,20,4,1,5314,,,0,"Reject bad img formats for uploaded encrypted vols

Cinder only supports uploading volumes of encrypted volume types as
images with disk format 'raw' and container format 'bare'.  Screen
for this at the REST API layer when the request is made.

This change is applied directly to the VolumeActionsController in
the cinder.api.contrib module, so it affects both the Block Storage
API v2 and v3.

Change-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782
Closes-bug: #1935688
(cherry picked from commit de8b3b0b00421a01ed777880d2b5bf6fffc068d5)
(cherry picked from commit 78682022d2dcf07c270356d23a27843578466469)
(cherry picked from commit 12f7376fe44ea53e6e84dfd12577953bd841d25d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/827776/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_volume_actions.py', 'releasenotes/notes/bug-193688-bb045badcd5aecad.yaml', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/api/contrib/volume_actions.py']",5,fac676112da484e8ad2627de4333ab72b70fe5c8,img-fmt-victoria," # encrypted volumes cannot be converted on upload if (image_metadata['disk_format'] != 'raw' or image_metadata['container_format'] != 'bare'): msg = _(""An encrypted volume uploaded as an image must use "" ""'raw' disk_format and 'bare' container_format, "" ""which are the defaults for these options."") raise webob.exc.HTTPBadRequest(explanation=msg) ",,68,2
openstack%2Foslo.log~master~Id6d4b6eaa2b96ba5bd53e8b2dae5d9eea13b25d9,openstack/oslo.log,master,Id6d4b6eaa2b96ba5bd53e8b2dae5d9eea13b25d9,Use project when logging the user identity,MERGED,2022-02-05 21:01:14.000000000,2022-02-11 14:32:48.000000000,2022-02-11 14:31:04.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-05 21:01:14.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/_options.py', 'releasenotes/notes/use-project-in-user-identity-93fd6e0a2e434a6f.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/650ce7d313e00525c4391692fbdc4cba529e11ea', 'message': ""Use project when logging the user identity\n\nThe logging_user_identity_format option's default value is changed\nto reference the project instead of the tenant. This is necessary\nbecause I2fded6f3476df1fb8c4e042ef28ed8ccb7ab0737 removed the tenant\nargument from request contexts.\n\nRelated-Bug: #1505827\nChange-Id: Id6d4b6eaa2b96ba5bd53e8b2dae5d9eea13b25d9\n""}]",4,828017,650ce7d313e00525c4391692fbdc4cba529e11ea,15,6,1,21129,,,0,"Use project when logging the user identity

The logging_user_identity_format option's default value is changed
to reference the project instead of the tenant. This is necessary
because I2fded6f3476df1fb8c4e042ef28ed8ccb7ab0737 removed the tenant
argument from request contexts.

Related-Bug: #1505827
Change-Id: Id6d4b6eaa2b96ba5bd53e8b2dae5d9eea13b25d9
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/17/828017/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/_options.py', 'oslo_log/tests/unit/test_log.py', 'releasenotes/notes/use-project-in-user-identity-93fd6e0a2e434a6f.yaml']",3,650ce7d313e00525c4391692fbdc4cba529e11ea,context-attr,--- upgrade: - | The ``logging_user_identity_format`` option's default value is updated to replace the obsolete ``tenant`` argument with ``project``. ,,22,27
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I70ba5016a63a08a1bf2650a4e24f889b24c96f44,openstack/tripleo-heat-templates,stable/train,I70ba5016a63a08a1bf2650a4e24f889b24c96f44,[train-only][ffwd][allinone] Fix idempotency for all in one upgrade,MERGED,2022-01-21 14:15:05.000000000,2022-02-11 14:30:44.000000000,2022-02-11 14:30:44.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-01-21 14:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a70462a99d7f85769ac8422501d48062b2442ac', 'message': '[train-only][ffwd] Fix idempotency for all in one upgrade\n\nChange-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44\n'}, {'number': 2, 'created': '2022-01-21 14:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34ca3670e97669933309091483c9353a73e4bdf1', 'message': '[train-only][ffwd] Fix idempotency for all in one upgrade\n\nChange-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44\n'}, {'number': 3, 'created': '2022-01-21 15:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69aa519291053b2ab3a7820af6efb98217d3e2fe', 'message': '[train-only][ffwd] Fix idempotency for all in one upgrade\n\nChange-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44\n'}, {'number': 4, 'created': '2022-01-21 15:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63d28f02fd366ecdaaf7ae26aa035a192be208d8', 'message': '[train-only][ffwd] Fix idempotency for all in one upgrade\n\nChange-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44\n'}, {'number': 5, 'created': '2022-02-01 20:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b3b1d1674b2678c2fc8a7a850582376e2cb9bd5', 'message': '[train-only][ffwd] Fix idempotency for all in one upgrade\n\nChange-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44\n'}, {'number': 6, 'created': '2022-02-01 20:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63af777fad0c3b134f96a32411fa7900e25b4fcf', 'message': ""[train-only][ffwd][allinone] Fix idempotency for all in one upgrade\n\nBefore running leapp on the nodes we need to pause ceph as\nthe whole ceph cluster will go down. This has to be done just\nonce but if we fail somewhere in system upgrade - wrong leapp\nrepos for example - we end up in situation where we don't know\nif ceph is paused or not and we can't check as caph can be\npartially or fully down. Best way is to make sure we create state\nfile right after succesful pause on the node where we executed\nthe operation.\n\nChange-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44\n""}, {'number': 7, 'created': '2022-02-07 13:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19d36417a9005c4339bf83ebb02a95d70201bb11', 'message': ""[train-only][ffwd][allinone] Fix idempotency for all in one upgrade\n\nBefore running leapp on the nodes we need to pause ceph as\nthe whole ceph cluster will go down. This has to be done just\nonce but if we fail somewhere in system upgrade - wrong leapp\nrepos for example - we end up in situation where we don't know\nif ceph is paused or not and we can't check as caph can be\npartially or fully down. Best way is to make sure we create state\nfile right after succesful pause on the node where we executed\nthe operation.\n\nChange-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44\n""}, {'number': 8, 'created': '2022-02-10 21:06:43.000000000', 'files': ['deployment/ceph-ansible/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfbf6be363648b36f5bd6abab32b73f175be2f60', 'message': ""[train-only][ffwd][allinone] Fix idempotency for all in one upgrade\n\nBefore running leapp on the nodes we need to pause ceph as\nthe whole ceph cluster will go down. This has to be done just\nonce but if we fail somewhere in system upgrade - wrong leapp\nrepos for example - we end up in situation where we don't know\nif ceph is paused or not and we can't check as caph can be\npartially or fully down. Best way is to make sure we create state\nfile right after succesful pause on the node where we executed\nthe operation.\n\nChange-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44\n""}]",12,825810,bfbf6be363648b36f5bd6abab32b73f175be2f60,47,6,8,11166,,,0,"[train-only][ffwd][allinone] Fix idempotency for all in one upgrade

Before running leapp on the nodes we need to pause ceph as
the whole ceph cluster will go down. This has to be done just
once but if we fail somewhere in system upgrade - wrong leapp
repos for example - we end up in situation where we don't know
if ceph is paused or not and we can't check as caph can be
partially or fully down. Best way is to make sure we create state
file right after succesful pause on the node where we executed
the operation.

Change-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/825810/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-osd.yaml'],1,9a70462a99d7f85769ac8422501d48062b2442ac,," - name: check ceph flag file existence stat: path: ""/var/lib/tripleo/ceph_paused"" register: tripleo_ceph_paused_stat become: true when: not tripleo_ceph_paused_stat.stat.exists|bool register: ceph_paused - name: Create ceph flag file file: path: ""/var/lib/tripleo/ceph_paused"" state: touch when: ceph_paused|success",,12,0
openstack%2Fpuppet-glance~stable%2Fussuri~Ic7a01c9ca60196f89750026e7540a39c41e07cd3,openstack/puppet-glance,stable/ussuri,Ic7a01c9ca60196f89750026e7540a39c41e07cd3,Disallow sheepdog backend,ABANDONED,2022-02-11 05:14:56.000000000,2022-02-11 14:28:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-11 05:14:56.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f7fa3d07aafa90fcff88e94e56cb785421136f75', 'message': 'Disallow sheepdog backend\n\n... because it was removed during Ussuri cycle[1].\n\n[1] 5c9db72a93356876fabab2b294bced61a67105fe\n\nChange-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3\n(cherry picked from commit a37cdd923e0ae6eb22c616ef8c8c4c92376762a1)\n(cherry picked from commit 157e9ab163b6eff4ea36a5d301952cff4440f98a)\n(cherry picked from commit adc1f24f521f87d5cd63562e345314686af52e4a)\n(cherry picked from commit 7a9d7ca720f4084c53a60ecc25744f1ad24b1506)\n'}]",0,828768,f7fa3d07aafa90fcff88e94e56cb785421136f75,5,1,1,9816,,,0,"Disallow sheepdog backend

... because it was removed during Ussuri cycle[1].

[1] 5c9db72a93356876fabab2b294bced61a67105fe

Change-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3
(cherry picked from commit a37cdd923e0ae6eb22c616ef8c8c4c92376762a1)
(cherry picked from commit 157e9ab163b6eff4ea36a5d301952cff4440f98a)
(cherry picked from commit adc1f24f521f87d5cd63562e345314686af52e4a)
(cherry picked from commit 7a9d7ca720f4084c53a60ecc25744f1ad24b1506)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/68/828768/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,f7fa3d07aafa90fcff88e94e56cb785421136f75,remove-sheepdog-driver, unless $backend_type =~ /file|http|swift|rbd|cinder|vsphere/ {, unless $backend_type =~ /file|http|swift|rbd|sheepdog|cinder|vsphere/ {,1,1
openstack%2Fpuppet-glance~stable%2Fvictoria~Ic7a01c9ca60196f89750026e7540a39c41e07cd3,openstack/puppet-glance,stable/victoria,Ic7a01c9ca60196f89750026e7540a39c41e07cd3,Disallow sheepdog backend,ABANDONED,2022-02-11 05:14:24.000000000,2022-02-11 14:28:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-11 05:14:24.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/7a9d7ca720f4084c53a60ecc25744f1ad24b1506', 'message': 'Disallow sheepdog backend\n\n... because it was removed during Ussuri cycle[1].\n\n[1] 5c9db72a93356876fabab2b294bced61a67105fe\n\nChange-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3\n(cherry picked from commit a37cdd923e0ae6eb22c616ef8c8c4c92376762a1)\n(cherry picked from commit 157e9ab163b6eff4ea36a5d301952cff4440f98a)\n(cherry picked from commit adc1f24f521f87d5cd63562e345314686af52e4a)\n'}]",0,828767,7a9d7ca720f4084c53a60ecc25744f1ad24b1506,5,1,1,9816,,,0,"Disallow sheepdog backend

... because it was removed during Ussuri cycle[1].

[1] 5c9db72a93356876fabab2b294bced61a67105fe

Change-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3
(cherry picked from commit a37cdd923e0ae6eb22c616ef8c8c4c92376762a1)
(cherry picked from commit 157e9ab163b6eff4ea36a5d301952cff4440f98a)
(cherry picked from commit adc1f24f521f87d5cd63562e345314686af52e4a)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/67/828767/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,7a9d7ca720f4084c53a60ecc25744f1ad24b1506,remove-sheepdog-driver, unless $backend_type =~ /file|http|swift|rbd|cinder|vsphere/ {, unless $backend_type =~ /file|http|swift|rbd|sheepdog|cinder|vsphere/ {,1,1
openstack%2Fpuppet-openstack-integration~master~I8c63f4ea6ac9a68e171fc0320a6e5e2b0c6cf38e,openstack/puppet-openstack-integration,master,I8c63f4ea6ac9a68e171fc0320a6e5e2b0c6cf38e,Updated from Puppet OpenStack modules constraints,MERGED,2022-02-08 02:47:33.000000000,2022-02-11 13:57:04.000000000,2022-02-11 13:57:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 02:47:33.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c12ffb3546f55f82dbbd4947d72cd5ad5ea7be58', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I8c63f4ea6ac9a68e171fc0320a6e5e2b0c6cf38e\n'}]",2,828209,c12ffb3546f55f82dbbd4947d72cd5ad5ea7be58,15,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I8c63f4ea6ac9a68e171fc0320a6e5e2b0c6cf38e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/09/828209/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,c12ffb3546f55f82dbbd4947d72cd5ad5ea7be58,openstack/puppet/constraints, :ref => 'v3.1.1', :ref => 'v3.1.0',1,1
openstack%2Felection~master~I7fa10c47d1778733ad5226123519540a91870795,openstack/election,master,I7fa10c47d1778733ad5226123519540a91870795,Add Artem Goncharov candidacy for OpenStackSDK PTL,MERGED,2022-02-11 11:22:56.000000000,2022-02-11 13:41:07.000000000,2022-02-11 13:38:09.000000000,"[{'_account_id': 7198}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 11:22:56.000000000', 'files': ['candidates/z/OpenStackSDK/artem.goncharov@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/b632351dbfe8bb4a10c9d27d806bda7a891c207b', 'message': 'Add Artem Goncharov candidacy for OpenStackSDK PTL\n\nChange-Id: I7fa10c47d1778733ad5226123519540a91870795\n'}]",2,828859,b632351dbfe8bb4a10c9d27d806bda7a891c207b,8,3,1,27900,,,0,"Add Artem Goncharov candidacy for OpenStackSDK PTL

Change-Id: I7fa10c47d1778733ad5226123519540a91870795
",git fetch https://review.opendev.org/openstack/election refs/changes/59/828859/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/OpenStackSDK/artem.goncharov@gmail.com'],1,b632351dbfe8bb4a10c9d27d806bda7a891c207b,,Hi everybody! I'd like to run again for PTL of OpenStackSDK. We are as close to R1.0 as never before. Main bunch of changes is there and we are currently only polishing remainings and recovering compatibility for the corner cases. Please help me complete this work and drive SDK/CLI further for wider adoption and better usability. Thanks! Artem ,,11,0
openstack%2Felection~master~I0efafc55858ae37f143ec7069f5d199649656cae,openstack/election,master,I0efafc55858ae37f143ec7069f5d199649656cae,[trivial] Fix formatting typo in git command,MERGED,2022-02-11 09:10:24.000000000,2022-02-11 13:39:48.000000000,2022-02-11 13:38:07.000000000,"[{'_account_id': 7198}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 09:10:24.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/4655c57d248338fc2900e254708b4b7ab3df1561', 'message': '[trivial] Fix formatting typo in git command\n\nAdd backslashes to escape the asterisks in a git command.\n\nChange-Id: I0efafc55858ae37f143ec7069f5d199649656cae\n'}]",2,828824,4655c57d248338fc2900e254708b4b7ab3df1561,9,3,1,11292,,,0,"[trivial] Fix formatting typo in git command

Add backslashes to escape the asterisks in a git command.

Change-Id: I0efafc55858ae37f143ec7069f5d199649656cae
",git fetch https://review.opendev.org/openstack/election refs/changes/24/828824/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,4655c57d248338fc2900e254708b4b7ab3df1561,escape_asterisk,* Commit the candidacy: git add candidates/<cycle>/\*/\*;,* Commit the candidacy: git add candidates/<cycle>/*/*;,1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I162e417387393e806886b1c9ea8053b89778b4d1,openstack/kolla-ansible,stable/wallaby,I162e417387393e806886b1c9ea8053b89778b4d1,Fix Apparmor libvirt profile removal,MERGED,2022-02-11 09:19:13.000000000,2022-02-11 13:34:43.000000000,2022-02-11 13:32:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-11 09:19:13.000000000', 'files': ['releasenotes/notes/fix-apparmor-libvirt-profile-removal-01db6ca6dd66879f.yaml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b3b2fdab7d2dff83e010b813a9c1c640d264226', 'message': 'Fix Apparmor libvirt profile removal\n\nThe apparmor_parser actually doesn\'t remove the file or doesn\'t create\nthe symlink in \'/etc/apparmor.d/disable\' itself so the next run of the\nbaremetal role will fail with the error ""Unable to remove ""libvirtd"".\nEven more after reboot, the profile is still active. We need to\ndisable the profile completly ourselves. This change fixes the\nidempotents of the baremetal role.\n\nCloses-Bug: #1960302\nChange-Id: I162e417387393e806886b1c9ea8053b89778b4d1\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 75f55d13ad9060b7821a6e7702a347debd785ee9)\n'}]",1,828830,9b3b2fdab7d2dff83e010b813a9c1c640d264226,9,3,1,14826,,,0,"Fix Apparmor libvirt profile removal

The apparmor_parser actually doesn't remove the file or doesn't create
the symlink in '/etc/apparmor.d/disable' itself so the next run of the
baremetal role will fail with the error ""Unable to remove ""libvirtd"".
Even more after reboot, the profile is still active. We need to
disable the profile completly ourselves. This change fixes the
idempotents of the baremetal role.

Closes-Bug: #1960302
Change-Id: I162e417387393e806886b1c9ea8053b89778b4d1
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 75f55d13ad9060b7821a6e7702a347debd785ee9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/828830/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-apparmor-libvirt-profile-removal-01db6ca6dd66879f.yaml', 'ansible/roles/baremetal/tasks/post-install.yml']",2,9b3b2fdab7d2dff83e010b813a9c1c640d264226,fix-apparmor-libvirt-profile-removal-stable/wallaby, shell: | apparmor_parser -v -R /etc/apparmor.d/usr.sbin.libvirtd && \ ln -vsf /etc/apparmor.d/usr.sbin.libvirtd /etc/apparmor.d/disable args: executable: /bin/bash, command: apparmor_parser -R /etc/apparmor.d/usr.sbin.libvirtd,12,1
openstack%2Fproject-config~master~I64c1977e261d4469fb31afa03b839136ea8bfc33,openstack/project-config,master,I64c1977e261d4469fb31afa03b839136ea8bfc33,Mirror charm-ops-interface-* to GitHub,MERGED,2022-02-07 15:47:48.000000000,2022-02-11 13:16:22.000000000,2022-02-11 13:16:22.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 15:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c463d2bd190d62292612214eb695441167cd94e4', 'message': 'Mirror charm-interface-openstack-loadbalancer to GitHub\n\nChange-Id: I64c1977e261d4469fb31afa03b839136ea8bfc33\n'}, {'number': 2, 'created': '2022-02-07 15:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/086f55bca2feb86e9f84a7484ea488601952d5ab', 'message': 'Mirror charm-ops-interface-openstack-loadbalancer to GitHub\n\nChange-Id: I64c1977e261d4469fb31afa03b839136ea8bfc33\n'}, {'number': 3, 'created': '2022-02-08 09:33:42.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/80792c80ec24806221ab63759ac4449f70a86688', 'message': 'Mirror charm-ops-interface-* to GitHub\n\nChange-Id: I64c1977e261d4469fb31afa03b839136ea8bfc33\n'}]",1,828166,80792c80ec24806221ab63759ac4449f70a86688,11,3,3,31289,,,0,"Mirror charm-ops-interface-* to GitHub

Change-Id: I64c1977e261d4469fb31afa03b839136ea8bfc33
",git fetch https://review.opendev.org/openstack/project-config refs/changes/66/828166/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,c463d2bd190d62292612214eb695441167cd94e4,charm-interface-github-mirror, name: openstack/charm-interface-openstack-loadbalancer templates: - official-openstack-repo-jobs - project:,,5,0
openstack%2Fpuppet-swift~stable%2Fwallaby~Ie5024b614749beafeb2e34df5021114d5c4c5b5e,openstack/puppet-swift,stable/wallaby,Ie5024b614749beafeb2e34df5021114d5c4c5b5e,TripleO: Enable container build in standalone job,MERGED,2022-02-11 05:10:27.000000000,2022-02-11 13:15:55.000000000,2022-02-11 13:15:55.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 05:10:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/6b4e64bc9b3989d79c6cc54f7d5c75d8ffea42c9', 'message': 'TripleO: Enable container build in standalone job\n\nSince we removed undercloud job, there is no job building container\nimages and we should enable that process as part of standalone job.\nThis change fixes the missing build_container_images flag to enable\ncontainer build.\n\nChange-Id: Ie5024b614749beafeb2e34df5021114d5c4c5b5e\n(cherry picked from commit 7e86bb55caefa824a252d590b66b9984ffb974d7)\n'}]",1,828764,6b4e64bc9b3989d79c6cc54f7d5c75d8ffea42c9,10,2,1,9816,,,0,"TripleO: Enable container build in standalone job

Since we removed undercloud job, there is no job building container
images and we should enable that process as part of standalone job.
This change fixes the missing build_container_images flag to enable
container build.

Change-Id: Ie5024b614749beafeb2e34df5021114d5c4c5b5e
(cherry picked from commit 7e86bb55caefa824a252d590b66b9984ffb974d7)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/64/828764/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6b4e64bc9b3989d79c6cc54f7d5c75d8ffea42c9,, build_container_images: true,,1,0
openstack%2Fproject-config~master~Idf828470361285f3d14a8046dc92858950db57de,openstack/project-config,master,Idf828470361285f3d14a8046dc92858950db57de,Mirror cinder-solidfire and cinder-nimblestorage to Github,MERGED,2022-01-18 16:37:00.000000000,2022-02-11 13:12:22.000000000,2022-02-11 13:12:22.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-18 16:37:00.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a3a967611a088aa36e4088be2724c98c2ddcc1e6', 'message': 'Mirror cinder-solidfire and cinder-nimblestorage to Github\n\nChange-Id: Idf828470361285f3d14a8046dc92858950db57de\n'}]",0,825138,a3a967611a088aa36e4088be2724c98c2ddcc1e6,8,4,1,33741,,,0,"Mirror cinder-solidfire and cinder-nimblestorage to Github

Change-Id: Idf828470361285f3d14a8046dc92858950db57de
",git fetch https://review.opendev.org/openstack/project-config refs/changes/38/825138/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a3a967611a088aa36e4088be2724c98c2ddcc1e6,github, name: openstack/charm-cinder-nimblestorage templates: - official-openstack-repo-jobs - project: name: openstack/charm-cinder-solidfire templates: - official-openstack-repo-jobs - project:,,10,0
openstack%2Fneutron~stable%2Fvictoria~Ie0660e5e89e45c00b79464368ba337d27a824714,openstack/neutron,stable/victoria,Ie0660e5e89e45c00b79464368ba337d27a824714,[Stable Only] Enforce policy for qos_policy_id attribute,MERGED,2022-01-31 15:54:56.000000000,2022-02-11 13:04:01.000000000,2022-02-11 13:02:00.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 15:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a9c427c4155dca92e8a8bd12976d8af63ae813f', 'message': ""[Stable Only] Enforce policy for qos_policy_id attribute\n\nCurrently while updating 'qos_policy_id', authorization policies\nare not enforced and as a result it can be set or unset over\nport/network/fip by an unauthorized user.\n\nThis patch fixes it by setting 'enforce_policy' to True\nfor this attribute for Floating IP, for port and network\nit's fixed in neutron-lib[1].\n\nThis patch is only for stable releases as for releases since\nYoga this is fixed in neutron-lib[2] itself.\n\n[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657\n[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088\n\nCloses-Bug: #1957175\nChange-Id: Ie0660e5e89e45c00b79464368ba337d27a824714\n(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)\n""}, {'number': 2, 'created': '2022-02-09 05:58:40.000000000', 'files': ['releasenotes/notes/bug-1957175-764bc9c73b8d46e9.yaml', 'neutron/extensions/qos_fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae55ae36738e65cc86e48869b99984b80043f559', 'message': ""[Stable Only] Enforce policy for qos_policy_id attribute\n\nCurrently while updating 'qos_policy_id', authorization policies\nare not enforced and as a result it can be set or unset over\nport/network/fip by an unauthorized user.\n\nThis patch fixes it by setting 'enforce_policy' to True\nfor this attribute for Floating IP, for port and network\nit's fixed in neutron-lib[1].\n\nThis patch is only for stable releases as for releases since\nYoga this is fixed in neutron-lib[2] itself.\n\n[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657\n[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/828245\nCloses-Bug: #1957175\nChange-Id: Ie0660e5e89e45c00b79464368ba337d27a824714\n(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)\n""}]",4,827016,ae55ae36738e65cc86e48869b99984b80043f559,20,6,2,13861,,,0,"[Stable Only] Enforce policy for qos_policy_id attribute

Currently while updating 'qos_policy_id', authorization policies
are not enforced and as a result it can be set or unset over
port/network/fip by an unauthorized user.

This patch fixes it by setting 'enforce_policy' to True
for this attribute for Floating IP, for port and network
it's fixed in neutron-lib[1].

This patch is only for stable releases as for releases since
Yoga this is fixed in neutron-lib[2] itself.

[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657
[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088

Depends-On: https://review.opendev.org/c/openstack/tempest/+/828245
Closes-Bug: #1957175
Change-Id: Ie0660e5e89e45c00b79464368ba337d27a824714
(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/827016/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1957175-764bc9c73b8d46e9.yaml', 'neutron/extensions/qos_fip.py']",2,3a9c427c4155dca92e8a8bd12976d8af63ae813f,bug/1957175-stable/wallaby-stable/victoria," 'enforce_policy': True,",,7,0
openstack%2Fdebtcollector~master~I93152b5826620a867125aeb5edc54b5f5489fbab,openstack/debtcollector,master,I93152b5826620a867125aeb5edc54b5f5489fbab,requirements: Remove pbr,MERGED,2021-11-12 11:44:24.000000000,2022-02-11 12:42:43.000000000,2022-02-11 12:41:06.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-12 11:44:24.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/1e08744110cd46b85010c2a60ce692f3979156a4', 'message': ""requirements: Remove pbr\n\nWe haven't used this at runtime since we switched to using\nimportlib.metadata in change Ib10180732042bda254b058b94c9ff41f5c31c3cb,\ntherefore there's no longer any need to include it in the\n'requirements.txt' file. Remove it.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I93152b5826620a867125aeb5edc54b5f5489fbab\n""}]",1,817750,1e08744110cd46b85010c2a60ce692f3979156a4,9,3,1,15334,,,0,"requirements: Remove pbr

We haven't used this at runtime since we switched to using
importlib.metadata in change Ib10180732042bda254b058b94c9ff41f5c31c3cb,
therefore there's no longer any need to include it in the
'requirements.txt' file. Remove it.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I93152b5826620a867125aeb5edc54b5f5489fbab
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/50/817750/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1e08744110cd46b85010c2a60ce692f3979156a4,trivial,,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later. pbr!=2.1.0,>=2.0.0 # Apache-2.0",0,5
openstack%2Foslo.messaging~stable%2Fxena~Id4ccafc95314c86ae918336e42cca64a6acd4d94,openstack/oslo.messaging,stable/xena,Id4ccafc95314c86ae918336e42cca64a6acd4d94,[rabbit] use retry parameters during notification sending,MERGED,2022-01-13 08:53:00.000000000,2022-02-11 12:20:07.000000000,2022-02-11 12:18:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}, {'_account_id': 31733}]","[{'number': 1, 'created': '2022-01-13 08:53:00.000000000', 'files': ['oslo_messaging/tests/notify/test_notifier.py', 'oslo_messaging/_drivers/pool.py', 'oslo_messaging/tests/drivers/test_pool.py', 'oslo_messaging/notify/messaging.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/common.py', 'oslo_messaging/_drivers/impl_rabbit.py', 'releasenotes/notes/bug-1917645-rabbit-use-retry-parameter-for-notifications-3f7c508ab4437579.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3b5a0543e97619ca8f8cf98193f6b6375d77cbf2', 'message': '[rabbit] use retry parameters during notification sending\n\nThe rabbit backend now applies the [oslo_messaging_notifications]retry,\n[oslo_messaging_rabbit]rabbit_retry_interval, rabbit_retry_backoff and\nrabbit_interval_max configuration parameters when tries to establish the\nconnection to the message bus during notification sending.\n\nThis patch also clarifies the differences between the behavior\nof the kafka and the rabbit drivers in this regard.\n\nCloses-Bug: #1917645\nChange-Id: Id4ccafc95314c86ae918336e42cca64a6acd4d94\n(cherry picked from commit 7b3968d9b012e873a9b393fcefa578c46fca18c6)\n'}]",1,824513,3b5a0543e97619ca8f8cf98193f6b6375d77cbf2,9,5,1,9708,,,0,"[rabbit] use retry parameters during notification sending

The rabbit backend now applies the [oslo_messaging_notifications]retry,
[oslo_messaging_rabbit]rabbit_retry_interval, rabbit_retry_backoff and
rabbit_interval_max configuration parameters when tries to establish the
connection to the message bus during notification sending.

This patch also clarifies the differences between the behavior
of the kafka and the rabbit drivers in this regard.

Closes-Bug: #1917645
Change-Id: Id4ccafc95314c86ae918336e42cca64a6acd4d94
(cherry picked from commit 7b3968d9b012e873a9b393fcefa578c46fca18c6)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/13/824513/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/notify/test_notifier.py', 'oslo_messaging/_drivers/pool.py', 'oslo_messaging/tests/drivers/test_pool.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/notify/messaging.py', 'oslo_messaging/_drivers/common.py', 'oslo_messaging/_drivers/impl_rabbit.py', 'releasenotes/notes/bug-1917645-rabbit-use-retry-parameter-for-notifications-3f7c508ab4437579.yaml']",8,3b5a0543e97619ca8f8cf98193f6b6375d77cbf2,bug/1917645,--- fixes: - | As a fix for `bug 1917645 <https://launchpad.net/bugs/1917645>`_ the rabbit backend is changed to use the ``[oslo_messaging_notifications]retry`` parameter when driver tries to connect to the message bus during notification sending. Before this fix the rabbit backend retried the connection forever blocking the caller thread. ,,60,26
openstack%2Ftripleo-docs~master~I7253b91a146342ad30aeab6fb4914b90c9bd8746,openstack/tripleo-docs,master,I7253b91a146342ad30aeab6fb4914b90c9bd8746,Updating vDPA guide following CentOS9 deployment,MERGED,2021-10-28 02:07:19.000000000,2022-02-11 11:55:43.000000000,2022-02-11 11:54:02.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 02:07:19.000000000', 'files': ['deploy-guide/source/features/vdpa_deployment.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2c0d731570938e8bbf2bfc01f4839e17f35745ca', 'message': 'Updating vDPA guide following CentOS9 deployment\n\nCentOS 9 is going to be the supported OS for vDPA. We have to adapt the\nguide to the latest release. In kernel 5.14, the vhost devices are not\nautomatically created anymore, we need to create them using the new vdpa\ncommand.\n\nAlso, fixing a few typos.\n\nChange-Id: I7253b91a146342ad30aeab6fb4914b90c9bd8746\n'}]",0,815768,2c0d731570938e8bbf2bfc01f4839e17f35745ca,8,3,1,27419,,,0,"Updating vDPA guide following CentOS9 deployment

CentOS 9 is going to be the supported OS for vDPA. We have to adapt the
guide to the latest release. In kernel 5.14, the vhost devices are not
automatically created anymore, we need to create them using the new vdpa
command.

Also, fixing a few typos.

Change-Id: I7253b91a146342ad30aeab6fb4914b90c9bd8746
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/68/815768/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/vdpa_deployment.rst'],1,2c0d731570938e8bbf2bfc01f4839e17f35745ca,,"CentOS9/RHEL9 with a kernel of 5.14 or higher is required. - ... product_id: ""101e"" product_id: ""101e"".. note:: It's important to use the ``product_id`` of a VF device and not a PF 06:00.1 Ethernet controller [0200]: Mellanox Technologies MT2892 Family [ConnectX-6 Dx] [15b3:101d] 06:00.2 Ethernet controller [0200]: Mellanox Technologies ConnectX Family mlx5Gen Virtual Function [15b3:101e] --provider-segment 1337 \ --dhcp \The flavor will map to that new aggregate with the ``trait:CUSTOM_VDPA`` property:: --property trait:CUSTOM_VDPA=required \ pci/0000:06:00.0: mode switchdev inline-mode none encap-mode basic pci/0000:06:00.1: mode switchdev inline-mode none encap-mode basic [root@computevdpa-0 ~]# podman exec -u0 nova_virtqemud virsh -c qemu:///system nodedev-list | grep -P ""pci_0000_06|enp6|vdpa"" net_enp6s0f0np0_04_3f_72_ee_ec_84 net_enp6s0f0np0_0_1a_c1_a5_25_94_ef net_enp6s0f0np0_1_3a_dc_1d_36_85_af net_enp6s0f0np0_2_6a_95_0c_e9_8f_1a net_enp6s0f0np0_3_ba_c8_5b_f5_70_cc net_enp6s0f0np0_4_9e_03_86_23_cd_65 net_enp6s0f0np0_5_0a_5c_8b_c4_00_7a net_enp6s0f0np0_6_2e_f6_bc_e6_6f_cd net_enp6s0f0np0_7_ce_1e_b2_20_5e_15 net_enp6s0f1np1_04_3f_72_ee_ec_85 net_enp6s0f1np1_0_a6_04_9e_5a_cd_3b net_enp6s0f1np1_1_56_5d_59_b0_df_17 net_enp6s0f1np1_2_de_ac_7c_3f_19_b1 net_enp6s0f1np1_3_16_0c_8c_47_40_5c net_enp6s0f1np1_4_0e_a6_15_f5_68_77 net_enp6s0f1np1_5_e2_73_dc_f9_c2_46 net_enp6s0f1np1_6_e6_13_57_c9_cf_0f net_enp6s0f1np1_7_62_10_4f_2b_1b_ae net_vdpa06p00vf2_42_11_c8_97_aa_43 net_vdpa06p00vf3_2a_59_5e_32_3e_b7 net_vdpa06p00vf4_9a_5c_3f_c9_cc_42 net_vdpa06p00vf5_26_73_2a_e3_db_f9 net_vdpa06p00vf6_9a_bf_a9_e9_6b_06 net_vdpa06p00vf7_d2_1f_cc_00_a9_95 net_vdpa06p01vf0_ba_81_cb_7e_01_1d net_vdpa06p01vf1_56_95_fa_5e_4a_51 net_vdpa06p01vf2_72_53_64_8d_12_98 net_vdpa06p01vf3_9e_ff_1d_6d_c1_4e net_vdpa06p01vf4_96_20_f3_b1_69_ef net_vdpa06p01vf5_ea_0c_8b_0b_3f_ff net_vdpa06p01vf6_0a_53_4e_94_e0_8b net_vdpa06p01vf7_16_84_48_e6_74_59 net_vdpa06p02vf0_b2_cc_fa_16_f0_52 net_vdpa06p02vf1_0a_12_1b_a2_1a_d3 vdpa_0000_06_00_2 vdpa_0000_06_00_3 vdpa_0000_06_00_4 vdpa_0000_06_00_5 vdpa_0000_06_00_6 vdpa_0000_06_00_7 vdpa_0000_06_01_0 vdpa_0000_06_01_1 vdpa_0000_06_01_2 vdpa_0000_06_01_3 vdpa_0000_06_01_4 vdpa_0000_06_01_5 vdpa_0000_06_01_6 vdpa_0000_06_01_7 vdpa_0000_06_02_0 vdpa_0000_06_02_1 [root@controller-2 neutron]# podman exec -u0 $(podman ps -q -f name=galera) mysql -t -D nova -e ""select address,product_id,vendor_id,dev_type,dev_id from pci_devices where address like '0000:06:%' and deleted=0;"" | 0000:06:01.1 | 101e | 15b3 | vdpa | pci_0000_06_01_1 | | 0000:06:00.2 | 101e | 15b3 | vdpa | pci_0000_06_00_2 | | 0000:06:00.3 | 101e | 15b3 | vdpa | pci_0000_06_00_3 | | 0000:06:00.4 | 101e | 15b3 | vdpa | pci_0000_06_00_4 | | 0000:06:00.5 | 101e | 15b3 | vdpa | pci_0000_06_00_5 | | 0000:06:00.6 | 101e | 15b3 | vdpa | pci_0000_06_00_6 | | 0000:06:00.7 | 101e | 15b3 | vdpa | pci_0000_06_00_7 | | 0000:06:01.0 | 101e | 15b3 | vdpa | pci_0000_06_01_0 | | 0000:06:01.2 | 101e | 15b3 | vdpa | pci_0000_06_01_2 | | 0000:06:01.3 | 101e | 15b3 | vdpa | pci_0000_06_01_3 | | 0000:06:01.4 | 101e | 15b3 | vdpa | pci_0000_06_01_4 | | 0000:06:01.5 | 101e | 15b3 | vdpa | pci_0000_06_01_5 | | 0000:06:01.6 | 101e | 15b3 | vdpa | pci_0000_06_01_6 | | 0000:06:01.7 | 101e | 15b3 | vdpa | pci_0000_06_01_7 | | 0000:06:02.0 | 101e | 15b3 | vdpa | pci_0000_06_02_0 | | 0000:06:02.1 | 101e | 15b3 | vdpa | pci_0000_06_02_1 | | 0000:06:00.2 | 101e | 15b3 | vdpa | pci_0000_06_00_2 | | 0000:06:00.3 | 101e | 15b3 | vdpa | pci_0000_06_00_3 | | 0000:06:00.4 | 101e | 15b3 | vdpa | pci_0000_06_00_4 | | 0000:06:00.5 | 101e | 15b3 | vdpa | pci_0000_06_00_5 | | 0000:06:00.6 | 101e | 15b3 | vdpa | pci_0000_06_00_6 | | 0000:06:00.7 | 101e | 15b3 | vdpa | pci_0000_06_00_7 | | 0000:06:01.0 | 101e | 15b3 | vdpa | pci_0000_06_01_0 | | 0000:06:01.1 | 101e | 15b3 | vdpa | pci_0000_06_01_1 | | 0000:06:01.2 | 101e | 15b3 | vdpa | pci_0000_06_01_2 | | 0000:06:01.3 | 101e | 15b3 | vdpa | pci_0000_06_01_3 | | 0000:06:01.4 | 101e | 15b3 | vdpa | pci_0000_06_01_4 | | 0000:06:01.5 | 101e | 15b3 | vdpa | pci_0000_06_01_5 | | 0000:06:01.6 | 101e | 15b3 | vdpa | pci_0000_06_01_6 | | 0000:06:01.7 | 101e | 15b3 | vdpa | pci_0000_06_01_7 | | 0000:06:02.0 | 101e | 15b3 | vdpa | pci_0000_06_02_0 | | 0000:06:02.1 | 101e | 15b3 | vdpa | pci_0000_06_02_1 |The ``vdpa`` command:: [root@computevdpa-0 ~]# vdpa dev 0000:06:01.0: type network mgmtdev pci/0000:06:01.0 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:00.6: type network mgmtdev pci/0000:06:00.6 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:00.4: type network mgmtdev pci/0000:06:00.4 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:00.2: type network mgmtdev pci/0000:06:00.2 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:01.1: type network mgmtdev pci/0000:06:01.1 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:00.7: type network mgmtdev pci/0000:06:00.7 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:00.5: type network mgmtdev pci/0000:06:00.5 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:00.3: type network mgmtdev pci/0000:06:00.3 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:02.0: type network mgmtdev pci/0000:06:02.0 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:01.6: type network mgmtdev pci/0000:06:01.6 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:01.4: type network mgmtdev pci/0000:06:01.4 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:01.2: type network mgmtdev pci/0000:06:01.2 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:02.1: type network mgmtdev pci/0000:06:02.1 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:01.7: type network mgmtdev pci/0000:06:01.7 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:01.5: type network mgmtdev pci/0000:06:01.5 vendor_id 5555 max_vqs 16 max_vq_size 256 0000:06:01.3: type network mgmtdev pci/0000:06:01.3 vendor_id 5555 max_vqs 16 max_vq_size 256 Validating the OVN agents:: (overcloud) [stack@undercloud-0 ~]$ openstack network agent list --host computevdpa-0.home.arpa +--------------------------------------+----------------------+-------------------------+-------------------+-------+-------+----------------------------+ | ID | Agent Type | Host | Availability Zone | Alive | State | Binary | +--------------------------------------+----------------------+-------------------------+-------------------+-------+-------+----------------------------+ | ef2e6ced-e723-449c-bbf8-7513709f33ea | OVN Controller agent | computevdpa-0.home.arpa | | :-) | UP | ovn-controller | | 7be39049-db5b-54fc-add1-4a0687160542 | OVN Metadata agent | computevdpa-0.home.arpa | | :-) | UP | neutron-ovn-metadata-agent | +--------------------------------------+----------------------+-------------------------+-------------------+-------+-------+----------------------------+ "," - ... product_id: ""101d"" product_id: ""101d"" --provider-segment 1337 --dhcpThe flavor will map to that new aggregate with the ``traits:CUSTOM_VDPA`` property:: --property traits:CUSTOM_VDPA=required \ pci/0000:06:00.0: mode switchdev inline-mode none encap enable pci/0000:06:00.1: mode switchdev inline-mode none encap enable [root@computevdpa-0 ~]# podman exec -u0 nova_libvirt virsh nodedev-list | grep -P ""pci_0000_06|enp6|vdpa"" net_enp6s0f0_04_3f_72_ee_ec_80 net_enp6s0f0_0_5a_86_bd_4b_06_d9 net_enp6s0f0_1_72_b9_6b_12_33_57 net_enp6s0f0_2_f6_f2_db_7c_52_90 net_enp6s0f0_3_66_e5_9e_b8_79_7f net_enp6s0f0_4_32_04_6f_ef_ef_c3 net_enp6s0f0_5_a2_fe_8d_4a_95_64 net_enp6s0f0_6_8e_23_fa_bb_95_41 net_enp6s0f0_7_8a_9f_0f_53_f6_19 net_enp6s0f0v0_ee_a1_e2_4e_80_8d net_enp6s0f0v1_ce_b7_e1_33_33_56 net_enp6s0f0v2_fe_91_a8_ee_2e_79 net_enp6s0f0v3_2a_34_e0_a0_e6_ff net_enp6s0f0v4_26_59_82_da_65_4e net_enp6s0f0v5_a6_fd_db_97_c6_8a net_enp6s0f0v6_36_5d_5c_ff_e8_00 net_enp6s0f0v7_4e_23_6c_95_b6_a4 net_enp6s0f1_04_3f_72_ee_ec_81 net_enp6s0f1_0_0e_0c_86_b5_43_c1 net_enp6s0f1_1_be_f5_75_f4_da_b1 net_enp6s0f1_2_ea_6a_21_37_91_24 net_enp6s0f1_3_06_95_51_55_de_80 net_enp6s0f1_4_86_a4_d5_83_bd_56 net_enp6s0f1_5_86_d1_a9_ba_b7_f0 net_enp6s0f1_6_82_ae_32_56_07_84 net_enp6s0f1_7_62_b7_93_7e_5c_30 net_enp6s0f1v0_b2_b3_0d_bd_6f_5d net_enp6s0f1v1_4a_24_a1_24_ae_39 net_enp6s0f1v2_8e_19_b2_aa_ae_d7 net_enp6s0f1v3_b6_e2_4b_fa_d8_f0 net_enp6s0f1v4_5e_31_7f_17_ee_4d net_enp6s0f1v5_5e_77_99_09_1a_89 net_enp6s0f1v6_96_68_4b_70_c5_1b net_enp6s0f1v7_c2_bb_14_95_81_29 vdpa_vdpa0 vdpa_vdpa1 vdpa_vdpa10 vdpa_vdpa11 vdpa_vdpa12 vdpa_vdpa13 vdpa_vdpa14 vdpa_vdpa15 vdpa_vdpa2 vdpa_vdpa3 vdpa_vdpa4 vdpa_vdpa5 vdpa_vdpa6 vdpa_vdpa7 vdpa_vdpa8 vdpa_vdpa9 [root@controller-0 ~]# podman exec -u0 $(podman ps -q -f name=galera) mysql -t -D nova -e ""select address,product_id,vendor_id,dev_type,dev_id from pci_devices where address like '0000:06:%';"" | 0000:06:00.0 | 101d | 15b3 | vdpa | pci_0000_06_00_0 | | 0000:06:00.1 | 101d | 15b3 | vdpa | pci_0000_06_00_1 |",133,63
openstack%2Foslo.utils~master~I678d0d3d9506709404d534dc1c68ed6f75445558,openstack/oslo.utils,master,I678d0d3d9506709404d534dc1c68ed6f75445558,Fix formatting of release list,MERGED,2022-02-07 12:22:02.000000000,2022-02-11 11:48:37.000000000,2022-02-11 11:46:55.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-07 12:22:02.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ad49b3ace4424637df4bae91bf82820e27341bc1', 'message': 'Fix formatting of release list\n\nChange-Id: I678d0d3d9506709404d534dc1c68ed6f75445558\n'}]",1,828117,ad49b3ace4424637df4bae91bf82820e27341bc1,8,3,1,15197,,,0,"Fix formatting of release list

Change-Id: I678d0d3d9506709404d534dc1c68ed6f75445558
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/17/828117/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,ad49b3ace4424637df4bae91bf82820e27341bc1,,.. toctree:: :maxdepth: 1 unreleased xena wallaby victoria ussuri train stein rocky queens pike ocata newton, .. toctree:: :maxdepth: 1 unreleased xena wallaby victoria ussuri train stein rocky queens pike ocata newton,14,14
openstack%2Fnetworking-ovn~stable%2Ftrain~I1a539bcb6b52684d43a98bd814c9821ffea68b57,openstack/networking-ovn,stable/train,I1a539bcb6b52684d43a98bd814c9821ffea68b57,Support creating members without a subnet ID,MERGED,2022-01-31 11:02:51.000000000,2022-02-11 11:35:58.000000000,2022-02-11 11:34:23.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 11:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/652ec1a9a36862fc3c30a5493aec63e25209b2ee', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nFrom ovn-octavia-provider master:\n    https://review.opendev.org/c/openstack/ovn-octavia-provider/+/795896\n\nCloses-bug: #1896677\n(manually cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\n\nChange-Id: I1a539bcb6b52684d43a98bd814c9821ffea68b57\n'}, {'number': 2, 'created': '2022-02-04 14:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9c6dcccba86397ec3e23af476353b0a24b43f959', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nFrom ovn-octavia-provider master:\n    https://review.opendev.org/c/openstack/ovn-octavia-provider/+/795896\n\nCloses-bug: #1896677\n(manually cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\n\nChange-Id: I1a539bcb6b52684d43a98bd814c9821ffea68b57\n'}, {'number': 3, 'created': '2022-02-04 16:02:49.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py', 'releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/97d9b0462ff0fbd458204ca61e464c604f90f78d', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nFrom ovn-octavia-provider master:\n    https://review.opendev.org/c/openstack/ovn-octavia-provider/+/795896\n\nCloses-bug: #1896677\n(manually cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\n\nChange-Id: I1a539bcb6b52684d43a98bd814c9821ffea68b57\n'}]",2,827051,97d9b0462ff0fbd458204ca61e464c604f90f78d,13,3,3,23567,,,0,"Support creating members without a subnet ID

Since subnet ID is an optional API argument, if not
available the provider driver will now attempt to look
it up via the pool ID that is required.

From ovn-octavia-provider master:
    https://review.opendev.org/c/openstack/ovn-octavia-provider/+/795896

Closes-bug: #1896677
(manually cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)

Change-Id: I1a539bcb6b52684d43a98bd814c9821ffea68b57
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/51/827051/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py', 'releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py']",4,652ec1a9a36862fc3c30a5493aec63e25209b2ee,bug/1896677-stable/train," network_id, address, expected_subnet=None): # The ""expected"" member value, which might be different from what # we pass to member_create(), for example, if an expected_subnet # was given. if expected_subnet: e_member = copy.deepcopy(m_member) e_member.subnet_id = expected_subnet else: e_member = m_member pool.members.append(e_member) # Deleting the pool should also delete the members. self._delete_pool_and_validate(lb_data, ""p_TCP"") # Delete the whole LB. self._delete_load_balancer_and_validate(lb_data) def test_member_no_subnet(self): self._o_driver_lib.get_pool.return_value = None # Test creating Member without subnet and unknown pool m_member = self._create_member_model('pool_from_nowhere', lb_data = self._create_load_balancer_and_validate( {'vip_network': 'vip_network', 'cidr': '10.0.0.0/24'}) # TCP Pool self._create_pool_and_validate(lb_data, ""p_TCP"", protocol='TCP') pool_TCP_id = lb_data['pools'][0].pool_id self._o_driver_lib.get_pool.return_value = lb_data['pools'][0] self._o_driver_lib.get_loadbalancer.return_value = lb_data['model'] # Test creating Member without subnet but with pool self._create_member_and_validate( lb_data, pool_TCP_id, None, lb_data['vip_net_info'][0], '10.0.0.10', expected_subnet=lb_data['vip_net_info'][1]) "," network_id, address): pool.members.append(m_member) # Test creating Member without subnet m_member = self._create_member_model(pool_1_id,",111,15
openstack%2Fkayobe~stable%2Fwallaby~I42026fafb1be0071f5ec94e81881c4a3bdd34af8,openstack/kayobe,stable/wallaby,I42026fafb1be0071f5ec94e81881c4a3bdd34af8,Set requirements branch for IPA build,MERGED,2022-02-10 11:36:45.000000000,2022-02-11 11:25:04.000000000,2022-02-11 11:23:18.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 11:36:45.000000000', 'files': ['releasenotes/notes/specify-requirements-branch-for-ipa-build-c3ca977ec21b58f4.yaml', 'doc/source/configuration/reference/ironic-python-agent.rst', 'ansible/group_vars/all/ipa'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/52973754493db472a0b5f058ae76c8af35c2e14c', 'message': 'Set requirements branch for IPA build\n\nCurrently we use the HEAD reference for OpenStack requirements. This can\ncreate images that are incompatible with your version of OpenStack.\n\nSee:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911\n\nChange-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8\nStory: 2009810\nTask: 44371\n(cherry picked from commit 156ae2bb8ba9df35696018b8321e6d1ab9060ef0)\n'}]",0,828659,52973754493db472a0b5f058ae76c8af35c2e14c,8,3,1,14826,,,0,"Set requirements branch for IPA build

Currently we use the HEAD reference for OpenStack requirements. This can
create images that are incompatible with your version of OpenStack.

See:
https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911

Change-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8
Story: 2009810
Task: 44371
(cherry picked from commit 156ae2bb8ba9df35696018b8321e6d1ab9060ef0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/59/828659/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/specify-requirements-branch-for-ipa-build-c3ca977ec21b58f4.yaml', 'doc/source/configuration/reference/ironic-python-agent.rst', 'ansible/group_vars/all/ipa']",3,52973754493db472a0b5f058ae76c8af35c2e14c,story/2009810-stable/wallaby," DIB_REPOREF_requirements: ""{{ openstack_branch }}""",,13,3
openstack%2Fkayobe~stable%2Fxena~I42026fafb1be0071f5ec94e81881c4a3bdd34af8,openstack/kayobe,stable/xena,I42026fafb1be0071f5ec94e81881c4a3bdd34af8,Set requirements branch for IPA build,MERGED,2022-02-10 10:32:21.000000000,2022-02-11 11:25:03.000000000,2022-02-11 11:23:11.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 10:32:21.000000000', 'files': ['releasenotes/notes/specify-requirements-branch-for-ipa-build-c3ca977ec21b58f4.yaml', 'doc/source/configuration/reference/ironic-python-agent.rst', 'ansible/group_vars/all/ipa'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/deb969e597608838730d47cfa8693d431661446c', 'message': 'Set requirements branch for IPA build\n\nCurrently we use the HEAD reference for OpenStack requirements. This can\ncreate images that are incompatible with your version of OpenStack.\n\nSee:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911\n\nChange-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8\nStory: 2009810\nTask: 44371\n(cherry picked from commit 156ae2bb8ba9df35696018b8321e6d1ab9060ef0)\n'}]",0,828658,deb969e597608838730d47cfa8693d431661446c,8,3,1,14826,,,0,"Set requirements branch for IPA build

Currently we use the HEAD reference for OpenStack requirements. This can
create images that are incompatible with your version of OpenStack.

See:
https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911

Change-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8
Story: 2009810
Task: 44371
(cherry picked from commit 156ae2bb8ba9df35696018b8321e6d1ab9060ef0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/58/828658/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/specify-requirements-branch-for-ipa-build-c3ca977ec21b58f4.yaml', 'doc/source/configuration/reference/ironic-python-agent.rst', 'ansible/group_vars/all/ipa']",3,deb969e597608838730d47cfa8693d431661446c,story/2009810-stable/xena," DIB_REPOREF_requirements: ""{{ openstack_branch }}""",,13,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I200865bfd03aa63a9fe07b517bf60151e495455f,openstack/tripleo-ansible,stable/wallaby,I200865bfd03aa63a9fe07b517bf60151e495455f,Remove old per step startup configs,MERGED,2022-02-09 21:43:21.000000000,2022-02-11 11:14:03.000000000,2022-02-11 11:12:30.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-02-09 21:43:21.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/36b2175afb1243efa9a5f40aa0f6eee2c5c8e934', 'message': ""Remove old per step startup configs\n\nThere may be cases where certain steps may not exist after\nremoval of services during update/upgrade. As we recreate\nthe startup configs per step every time, let's clean all.\nIf we need to archive old configs we can backup docker_config.yaml\nwhich can be done in a separate THT patch.\n\nChange-Id: I200865bfd03aa63a9fe07b517bf60151e495455f\nCloses-bug: #1959662\n""}]",3,828567,36b2175afb1243efa9a5f40aa0f6eee2c5c8e934,10,7,1,26343,,,0,"Remove old per step startup configs

There may be cases where certain steps may not exist after
removal of services during update/upgrade. As we recreate
the startup configs per step every time, let's clean all.
If we need to archive old configs we can backup docker_config.yaml
which can be done in a separate THT patch.

Change-Id: I200865bfd03aa63a9fe07b517bf60151e495455f
Closes-bug: #1959662
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/67/828567/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'],1,36b2175afb1243efa9a5f40aa0f6eee2c5c8e934,," step_dirs = glob.glob(self.config_base_dir + '/step_*') for step_dir in step_dirs: shutil.rmtree(step_dir, ignore_errors=True) "," # Note: it'll cleanup old configs before creating new ones. # TODO(emilien) add idempotency so we only remove the needed files shutil.rmtree(path, ignore_errors=True)",4,3
openstack%2Fkolla~master~Ifbaccc54896bab096a6d16dc7733941dd600cf39,openstack/kolla,master,Ifbaccc54896bab096a6d16dc7733941dd600cf39,rabbitmq: update to 3.9,MERGED,2022-02-03 12:56:19.000000000,2022-02-11 11:05:09.000000000,2022-02-11 11:03:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-03 12:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/355d16f6b1464bfa82c927b0a6738d3099b56954', 'message': 'rabbitmq: update to 3.9 on x86\n\nChange-Id: Ifbaccc54896bab096a6d16dc7733941dd600cf39\n'}, {'number': 2, 'created': '2022-02-04 11:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bd5fec9ea0f271c024a2a0c64b2995554219f2f2', 'message': 'rabbitmq/centos: update to 3.9\n\nAlso update Erlang to 24.*\n\nChange-Id: Ifbaccc54896bab096a6d16dc7733941dd600cf39\n'}, {'number': 3, 'created': '2022-02-04 11:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/54ea8728bbc2d56045a91cf9e2403df843fa3e91', 'message': 'rabbitmq: update to 3.9\n\nAlso update Erlang to 24\n\nChange-Id: Ifbaccc54896bab096a6d16dc7733941dd600cf39\n'}, {'number': 4, 'created': '2022-02-05 09:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0bf259e997be864d1832161374ddbb55acad32b0', 'message': 'rabbitmq: update to 3.9\n\nAlso update Erlang to 24\n\nChange-Id: Ifbaccc54896bab096a6d16dc7733941dd600cf39\n'}, {'number': 5, 'created': '2022-02-09 15:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/063b7801c1260be2d5969cb575e66d9492f3bf13', 'message': 'rabbitmq: update to 3.9\n\nAlso update Erlang to 24\n\nChange-Id: Ifbaccc54896bab096a6d16dc7733941dd600cf39\n'}, {'number': 6, 'created': '2022-02-09 17:26:39.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'releasenotes/notes/rabbitmq-39-6791f54358018428.yaml', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/732860302cebbccc7344d2e4c345d26259ab979d', 'message': 'rabbitmq: update to 3.9\n\nAlso update Erlang to 24\n\nChange-Id: Ifbaccc54896bab096a6d16dc7733941dd600cf39\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/828594\n'}]",3,827656,732860302cebbccc7344d2e4c345d26259ab979d,26,4,6,22629,,,0,"rabbitmq: update to 3.9

Also update Erlang to 24

Change-Id: Ifbaccc54896bab096a6d16dc7733941dd600cf39
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/828594
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/827656/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq-39-6791f54358018428.yaml', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",3,355d16f6b1464bfa82c927b0a6738d3099b56954,827656-patch3," 'erlang-24.*', 'rabbitmq-server-3.9.*'"," 'erlang-23.*', 'rabbitmq-server-3.8.*'",9,4
openstack%2Fdevstack~master~Ifd5b77e0097ed05cddec4962de1755336f2de2af,openstack/devstack,master,Ifd5b77e0097ed05cddec4962de1755336f2de2af,Clean up systemd unit files for devstack,ABANDONED,2017-05-31 13:21:29.000000000,2022-02-11 10:49:17.000000000,,"[{'_account_id': 4146}, {'_account_id': 6593}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-05-31 13:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c8db7fea1ca3ba258ac5064f71cba27484275afa', 'message': 'Clean up systemd unit files for devstack\n\ndevstack use systemctl to control openstack\nservices through adding systemd unit files,\nbut such files are not deleted after unstack.\n\nChange-Id: Ifd5b77e0097ed05cddec4962de1755336f2de2af\n'}, {'number': 2, 'created': '2017-06-01 01:20:25.000000000', 'files': ['unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c865fc7da66f703626c736873da86da1c0e12a98', 'message': 'Clean up systemd unit files for devstack\n\ndevstack use systemctl to control openstack\nservices through adding systemd unit files,\nbut such files are not deleted after unstack.\n\nChange-Id: Ifd5b77e0097ed05cddec4962de1755336f2de2af\n'}]",2,469478,c865fc7da66f703626c736873da86da1c0e12a98,20,6,2,25836,,,0,"Clean up systemd unit files for devstack

devstack use systemctl to control openstack
services through adding systemd unit files,
but such files are not deleted after unstack.

Change-Id: Ifd5b77e0097ed05cddec4962de1755336f2de2af
",git fetch https://review.opendev.org/openstack/devstack refs/changes/78/469478/1 && git format-patch -1 --stdout FETCH_HEAD,['unstack.sh'],1,c8db7fea1ca3ba258ac5064f71cba27484275afa,systemd_unit_clean,"# Clean up systemd unit files for devstack if [[ ""$USE_SYSTEMD"" == ""True"" ]]; then for svc in $(echo $ENABLED_SERVICES | sed 's/,/ /g') ; do SVC_F=""${SYSTEMD_DIR}/devstack@${svc}.service"" SVC_LNK=""${SYSTEMD_DIR}/multi-user.target.wants/devstack@${svc}.service"" if [[ -L $SVC_LNK ]]; then sudo rm $SVC_LNK sudo rm $SVC_F elif [[ -f $SVC_F ]]; then sudo rm $SVC_F fi done fi ",,14,0
openstack%2Fdevstack~master~I12bcc40609a110431c2b3a4c254cc9e479b22385,openstack/devstack,master,I12bcc40609a110431c2b3a4c254cc9e479b22385,Display the Serial number in plugin-registry table.,ABANDONED,2018-08-01 02:01:20.000000000,2022-02-11 10:42:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 02:01:20.000000000', 'files': ['tools/generate-devstack-plugins-list.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7a7511b05c126fedaca365b9bdb5e3b40616e379', 'message': 'Display the Serial number in plugin-registry table.\n\nThis commit adds the new column SR which will show\nserial number for devstack plugins. That is easy way to\ncount the total number of plugins quickly.\n\nChange-Id: I12bcc40609a110431c2b3a4c254cc9e479b22385\n'}]",0,587669,7a7511b05c126fedaca365b9bdb5e3b40616e379,13,7,1,8556,,,0,"Display the Serial number in plugin-registry table.

This commit adds the new column SR which will show
serial number for devstack plugins. That is easy way to
count the total number of plugins quickly.

Change-Id: I12bcc40609a110431c2b3a4c254cc9e479b22385
",git fetch https://review.opendev.org/openstack/devstack refs/changes/69/587669/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-devstack-plugins-list.sh'],1,7a7511b05c126fedaca365b9bdb5e3b40616e379,," printf ""== ""printf ""%-3s %-${name_col_len}s %s\n"" ""SR"" ""Plugin Name"" ""URL""i=0 i=$((i+1)) printf ""%-3s %-${name_col_len}s %s\n"" ""$i"" ""${plugin}"" ""\`${giturl} <${gitlink}>\`__""","printf ""%-${name_col_len}s %s\n"" ""Plugin Name"" ""URL"" printf ""%-${name_col_len}s %s\n"" ""${plugin}"" ""\`${giturl} <${gitlink}>\`__""",5,2
openstack%2Fdevstack~master~Id42bca04dd1c65e22c159d99f2e68287be31128f,openstack/devstack,master,Id42bca04dd1c65e22c159d99f2e68287be31128f,horizon:use correct python binary for compilemessages cmd,ABANDONED,2018-05-25 11:07:09.000000000,2022-02-11 10:41:01.000000000,,"[{'_account_id': 6593}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 13404}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-05-25 11:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/add2ac35e20035634449b71bd748821bfa8b17d4', 'message': ""fixed horizon compilemessages\n\ninstead of using $PYTHON variable which may not point to the correct\npython(2,3) let django-admin binary figure out the exact binary to be\nused\n\ndjango-admin uses 'env' find the python binary.\n\nChange-Id: Id42bca04dd1c65e22c159d99f2e68287be31128f\n""}, {'number': 2, 'created': '2018-05-25 11:08:58.000000000', 'files': ['lib/horizon'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4f5c8623b94710b7f9c7f5abafdb8f83025cc269', 'message': ""horizon:use correct python binary for compilemessages cmd\n\ninstead of using $PYTHON variable which may not point to the correct\npython(2,3) let django-admin binary figure out the exact binary to be\nused\n\ndjango-admin uses 'env' find the python binary.\n\nChange-Id: Id42bca04dd1c65e22c159d99f2e68287be31128f\n""}]",1,570559,4f5c8623b94710b7f9c7f5abafdb8f83025cc269,12,8,2,23735,,,0,"horizon:use correct python binary for compilemessages cmd

instead of using $PYTHON variable which may not point to the correct
python(2,3) let django-admin binary figure out the exact binary to be
used

django-admin uses 'env' find the python binary.

Change-Id: Id42bca04dd1c65e22c159d99f2e68287be31128f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/59/570559/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/horizon'],1,add2ac35e20035634449b71bd748821bfa8b17d4,, local django_admin if type -p django-admin > /dev/null; then django_admin=django-admin else django_admin=django-admin.py fi (cd $HORIZON_DIR; DJANGO_SETTINGS_MODULE=openstack_dashboard.settings $django_admin compilemessages), (cd $HORIZON_DIR; $PYTHON manage.py compilemessages),7,1
openstack%2Fdevstack~master~I0450fe2ab08bc103b1848bf9018468c1a8dc94e4,openstack/devstack,master,I0450fe2ab08bc103b1848bf9018468c1a8dc94e4,Make flavor_alt_ref default to m1.micro,ABANDONED,2018-08-10 12:21:43.000000000,2022-02-11 10:39:30.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-08-10 12:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b88c8182b9700f7a4bbbb5305426e01366da9ce4', 'message': 'Make flavor_alt_ref default to m1.micro\n\nWhen DEFAULT_INSTANCE_TYPE is not declared, the default flavor is\nm1.nano and alt flavor is m1.micro. However, when it is defined, alt\nflavor is chosen as the first available flavor (m1.tiny) which is not\nenough when using advanced images like ubuntu or centos.\n\nThis patch defaults alt flavor to m1.micro and keeps the old logic for\nwhenever DEFAULT_INSTANCE_TYPE is m1.micro too as devstack ensures that\nboth flavors are different.\n\nChange-Id: I0450fe2ab08bc103b1848bf9018468c1a8dc94e4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2018-08-10 14:52:12.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3ae7c62c52bdcc5f1bd5abd79ac4509bf2ef1206', 'message': 'Make flavor_alt_ref default to m1.micro\n\nWhen DEFAULT_INSTANCE_TYPE is not declared, the default flavor is\nm1.nano and alt flavor is m1.micro. However, when it is defined, alt\nflavor is chosen as the first available flavor (m1.tiny) which is not\nenough when using advanced images like ubuntu or centos.\n\nThis patch defaults alt flavor to m1.micro and keeps the old logic for\nwhenever DEFAULT_INSTANCE_TYPE is m1.micro too as devstack ensures that\nboth flavors are different.\n\nChange-Id: I0450fe2ab08bc103b1848bf9018468c1a8dc94e4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",5,590757,3ae7c62c52bdcc5f1bd5abd79ac4509bf2ef1206,20,8,2,23804,,,0,"Make flavor_alt_ref default to m1.micro

When DEFAULT_INSTANCE_TYPE is not declared, the default flavor is
m1.nano and alt flavor is m1.micro. However, when it is defined, alt
flavor is chosen as the first available flavor (m1.tiny) which is not
enough when using advanced images like ubuntu or centos.

This patch defaults alt flavor to m1.micro and keeps the old logic for
whenever DEFAULT_INSTANCE_TYPE is m1.micro too as devstack ensures that
both flavors are different.

Change-Id: I0450fe2ab08bc103b1848bf9018468c1a8dc94e4
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/57/590757/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,b88c8182b9700f7a4bbbb5305426e01366da9ce4,," flavor_ref_alt=84 if [[ ""$flavor_ref"" == ""$flavor_ref_alt"" ]]; then for f in ${flavors[@]:1}; do if [[ ""$f"" != ""$flavor_ref"" ]]; then flavor_ref_alt=$f break fi done fi"," flavor_ref_alt=$flavor_ref for f in ${flavors[@]:1}; do if [[ ""$f"" != ""$flavor_ref"" ]]; then flavor_ref_alt=$f break fi done",9,7
openstack%2Ftripleo-ansible~stable%2Fussuri~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,stable/ussuri,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-07 11:58:39.000000000,2022-02-11 10:39:16.000000000,2022-02-11 10:39:16.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-07 11:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/14ec8676d9c9a11f3d2ffcd7234f5006975704a5', 'message': 'historical variable evaluated as bool\n\nThe tripleo_backup_and_restore_historical variable is checked by some\ntasks using when, but as it lacks the | bool extension, it is being\nevaluated as string, meaning that ""false"" is considered a valid and not\nempty string and as such evaluated as true. This patch fixes this\nbehaviour by evaluating the variable as as boolean value\n\nChange-Id: I73b0d054644eb43016d61299b7c372ca86b18472\n(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)\n'}, {'number': 2, 'created': '2022-02-08 11:51:49.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c2aa54cb04fdbb9849020be196479fd36d64a41', 'message': 'historical variable evaluated as bool\n\nThe tripleo_backup_and_restore_historical variable is checked by some\ntasks using when, but as it lacks the | bool extension, it is being\nevaluated as string, meaning that ""false"" is considered a valid and not\nempty string and as such evaluated as true. This patch fixes this\nbehaviour by evaluating the variable as as boolean value\n\nChange-Id: I73b0d054644eb43016d61299b7c372ca86b18472\n(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)\n'}]",0,828132,1c2aa54cb04fdbb9849020be196479fd36d64a41,10,5,2,32968,,,0,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/828132/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'],1,14ec8676d9c9a11f3d2ffcd7234f5006975704a5,historical_bool-stable/wallaby-stable/victoria-stable/ussuri, when: tripleo_backup_and_restore_historical | bool - tripleo_backup_and_restore_historical | bool, when: tripleo_backup_and_restore_historical - tripleo_backup_and_restore_historical,2,2
openstack%2Fkolla-ansible~stable%2Fxena~I162e417387393e806886b1c9ea8053b89778b4d1,openstack/kolla-ansible,stable/xena,I162e417387393e806886b1c9ea8053b89778b4d1,Fix Apparmor libvirt profile removal,MERGED,2022-02-10 10:52:05.000000000,2022-02-11 10:37:26.000000000,2022-02-11 10:35:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-10 10:52:05.000000000', 'files': ['releasenotes/notes/fix-apparmor-libvirt-profile-removal-01db6ca6dd66879f.yaml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae8900855a8081c57640c0f617d8a6307fdb4c7b', 'message': 'Fix Apparmor libvirt profile removal\n\nThe apparmor_parser actually doesn\'t remove the file or doesn\'t create\nthe symlink in \'/etc/apparmor.d/disable\' itself so the next run of the\nbaremetal role will fail with the error ""Unable to remove ""libvirtd"".\nEven more after reboot, the profile is still active. We need to\ndisable the profile completly ourselves. This change fixes the\nidempotents of the baremetal role.\n\nCloses-Bug: #1960302\nChange-Id: I162e417387393e806886b1c9ea8053b89778b4d1\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 75f55d13ad9060b7821a6e7702a347debd785ee9)\n'}]",1,828692,ae8900855a8081c57640c0f617d8a6307fdb4c7b,9,3,1,14200,,,0,"Fix Apparmor libvirt profile removal

The apparmor_parser actually doesn't remove the file or doesn't create
the symlink in '/etc/apparmor.d/disable' itself so the next run of the
baremetal role will fail with the error ""Unable to remove ""libvirtd"".
Even more after reboot, the profile is still active. We need to
disable the profile completly ourselves. This change fixes the
idempotents of the baremetal role.

Closes-Bug: #1960302
Change-Id: I162e417387393e806886b1c9ea8053b89778b4d1
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 75f55d13ad9060b7821a6e7702a347debd785ee9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/828692/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-apparmor-libvirt-profile-removal-01db6ca6dd66879f.yaml', 'ansible/roles/baremetal/tasks/post-install.yml']",2,ae8900855a8081c57640c0f617d8a6307fdb4c7b,fix-apparmor-libvirt-profile-removal, shell: | apparmor_parser -v -R /etc/apparmor.d/usr.sbin.libvirtd && \ ln -vsf /etc/apparmor.d/usr.sbin.libvirtd /etc/apparmor.d/disable args: executable: /bin/bash, command: apparmor_parser -R /etc/apparmor.d/usr.sbin.libvirtd,12,1
openstack%2Ftripleo-quickstart-extras~master~I5a0188524ee05053c708ceb5c564bb3ebcb614dc,openstack/tripleo-quickstart-extras,master,I5a0188524ee05053c708ceb5c564bb3ebcb614dc,Set dns_domain_name option,MERGED,2021-11-17 12:07:30.000000000,2022-02-11 10:35:45.000000000,2021-11-19 02:52:15.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11975}, {'_account_id': 12398}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-11-17 12:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/71429d6f5e760f6f0e63ff906c1feff3fb3a952a', 'message': 'Set dns_domain_name option\n\nTo be able to run properly dns_domain_name related tests\nfrom the neutron_tempest_plugin.api.test_ports module,\nNeutron has to have configured non default dns_domain_name option.\n\nThis patch set dns_domain_name option to ""openstackgate.local""\nwhich is the same value like configured in all of the Neutron CI\njobs by the Neutron Devstack plugin.\n\nRelated-Bug: #1950815\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I5a0188524ee05053c708ceb5c564bb3ebcb614dc\n'}, {'number': 2, 'created': '2021-11-17 12:32:16.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9b68d39983a8ef8d61e96b449542bfa2bc166e4d', 'message': 'Set dns_domain_name option\n\nTo be able to run properly dns_domain_name related tests\nfrom the neutron_tempest_plugin.api.test_ports module,\nNeutron has to have configured non default dns_domain_name option.\n\nThis patch set dns_domain_name option to ""openstackgate.local""\nwhich is the same value like configured in all of the Neutron CI\njobs by the Neutron Devstack plugin.\n\nRelated-Bug: #1950815\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I5a0188524ee05053c708ceb5c564bb3ebcb614dc\n'}]",6,818227,9b68d39983a8ef8d61e96b449542bfa2bc166e4d,28,10,2,30750,,,0,"Set dns_domain_name option

To be able to run properly dns_domain_name related tests
from the neutron_tempest_plugin.api.test_ports module,
Neutron has to have configured non default dns_domain_name option.

This patch set dns_domain_name option to ""openstackgate.local""
which is the same value like configured in all of the Neutron CI
jobs by the Neutron Devstack plugin.

Related-Bug: #1950815

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I5a0188524ee05053c708ceb5c564bb3ebcb614dc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/27/818227/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,71429d6f5e760f6f0e63ff906c1feff3fb3a952a,bug/1950815,{% if release in ['wallaby'] %} NeutronDnsDomain: 'openstackgate.local' {% endif %},,3,0
openstack%2Fopenstack-ansible~stable%2Fvictoria~If48096a7309c7140cd9c182d5d3175e8d827cbd6,openstack/openstack-ansible,stable/victoria,If48096a7309c7140cd9c182d5d3175e8d827cbd6,Rename RBD cinder backend,MERGED,2022-02-10 15:50:21.000000000,2022-02-11 10:19:45.000000000,2022-02-11 10:16:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-10 15:50:21.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f369d0ff7cb3e8db53f9af9ab0af0973706a3e3', 'message': ""Rename RBD cinder backend\n\nRBD seems to be reserved name in cinder. Once it's used as\nvolume type, cinder fails with [1]\n\nWe rename backend name in doc and AIO to workaround the issue\n\n[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/\n\nCloses-Bug: #1877421\nChange-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6\n(cherry picked from commit e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628)\n""}]",0,828665,5f369d0ff7cb3e8db53f9af9ab0af0973706a3e3,8,3,1,28619,,,0,"Rename RBD cinder backend

RBD seems to be reserved name in cinder. Once it's used as
volume type, cinder fails with [1]

We rename backend name in doc and AIO to workaround the issue

[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/

Closes-Bug: #1877421
Change-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6
(cherry picked from commit e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/828665/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml']",3,5f369d0ff7cb3e8db53f9af9ab0af0973706a3e3,bug/1877421-stable/victoria," ""rbd_volumes"":"," ""RBD"":",3,3
openstack%2Fopenstack-ansible~stable%2Fwallaby~If48096a7309c7140cd9c182d5d3175e8d827cbd6,openstack/openstack-ansible,stable/wallaby,If48096a7309c7140cd9c182d5d3175e8d827cbd6,Rename RBD cinder backend,MERGED,2022-02-10 15:50:01.000000000,2022-02-11 10:19:39.000000000,2022-02-11 10:16:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-10 15:50:01.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e82ca398d5a50013679d55235a0abb0b4a986fa3', 'message': ""Rename RBD cinder backend\n\nRBD seems to be reserved name in cinder. Once it's used as\nvolume type, cinder fails with [1]\n\nWe rename backend name in doc and AIO to workaround the issue\n\n[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/\n\nCloses-Bug: #1877421\nChange-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6\n(cherry picked from commit e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628)\n""}]",0,828664,e82ca398d5a50013679d55235a0abb0b4a986fa3,8,3,1,28619,,,0,"Rename RBD cinder backend

RBD seems to be reserved name in cinder. Once it's used as
volume type, cinder fails with [1]

We rename backend name in doc and AIO to workaround the issue

[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/

Closes-Bug: #1877421
Change-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6
(cherry picked from commit e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/828664/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml']",3,e82ca398d5a50013679d55235a0abb0b4a986fa3,bug/1877421-stable/wallaby," ""rbd_volumes"":"," ""RBD"":",3,3
openstack%2Fovn-octavia-provider~stable%2Fussuri~I69a052aadf299907bf8ba1634376504461e2d779,openstack/ovn-octavia-provider,stable/ussuri,I69a052aadf299907bf8ba1634376504461e2d779,Support creating members without a subnet ID,MERGED,2022-01-31 10:42:07.000000000,2022-02-11 10:13:00.000000000,2022-02-11 10:10:53.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-01-31 10:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/28d0185ec842d067ca4de09fd52d9c837f4e0d0b', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nCloses-bug: #1896677\n(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\nChange-Id: I69a052aadf299907bf8ba1634376504461e2d779\n'}, {'number': 2, 'created': '2022-02-04 14:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1beb9b55aef66878118572f9ea7185e5c5dcd2bd', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nCloses-bug: #1896677\n(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\nChange-Id: I69a052aadf299907bf8ba1634376504461e2d779\n'}, {'number': 3, 'created': '2022-02-04 15:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4a996c94a3babbff4c3c7bebee25f7c30740b9b8', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nCloses-bug: #1896677\n(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\nChange-Id: I69a052aadf299907bf8ba1634376504461e2d779\n'}, {'number': 4, 'created': '2022-02-09 16:38:58.000000000', 'files': ['releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/bf86846205718f652457aec1943e4c53334dd2a6', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nNOTE: Manually cherry-picked as there was a code reshape,\nand in the backport all the code goes to driver.py\n\nCloses-bug: #1896677\n(manually cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\nChange-Id: I69a052aadf299907bf8ba1634376504461e2d779\n'}]",2,827045,bf86846205718f652457aec1943e4c53334dd2a6,19,4,4,23567,,,0,"Support creating members without a subnet ID

Since subnet ID is an optional API argument, if not
available the provider driver will now attempt to look
it up via the pool ID that is required.

NOTE: Manually cherry-picked as there was a code reshape,
and in the backport all the code goes to driver.py

Closes-bug: #1896677
(manually cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)
Change-Id: I69a052aadf299907bf8ba1634376504461e2d779
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/45/827045/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",4,28d0185ec842d067ca4de09fd52d9c837f4e0d0b,bug/1896677-stable/ussuri," def _get_subnet_from_pool(self, pool_id): pool = self._octavia_driver_lib.get_pool(pool_id) if not pool: return lb = self._octavia_driver_lib.get_loadbalancer(pool.loadbalancer_id) if lb and lb.vip_subnet_id: return lb.vip_subnet_id if not ovn_lb: return False subnet_id = member.subnet_id if (isinstance(subnet_id, o_datamodels.UnsetType) or not subnet_id): subnet_id = self._ovn_helper._get_subnet_from_pool(member.pool_id) if not subnet_id: msg = _('Subnet is required, or Loadbalancer associated with ' 'Pool must have a subnet, for Member creation ' 'with OVN Provider Driver') raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) 'subnet_id': subnet_id, 'subnet_id': subnet_id,"," if (isinstance(member.subnet_id, o_datamodels.UnsetType) or not member.subnet_id): msg = _('Subnet is required for Member creation' ' with OVN Provider Driver') raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) 'subnet_id': member.subnet_id, 'subnet_id': member.subnet_id,",111,15
openstack%2Fkolla-ansible~stable%2Fussuri~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,stable/ussuri,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 17:13:25.000000000,2022-02-11 10:12:51.000000000,2022-02-11 10:10:51.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-10 17:13:25.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d059a5492d646121d824a1080cf1d2a939669668', 'message': 'neutron: fix placement endpoint type configuration\n\nChange-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea\nCloses-Bug: #1960503\n(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)\n'}]",0,828756,d059a5492d646121d824a1080cf1d2a939669668,10,4,1,15197,,,0,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/828756/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml']",2,d059a5492d646121d824a1080cf1d2a939669668,neutron-endpoint-type-stable/ussuri,--- fixes: - | Fixes the configuration option setting the type of endpoint used by Neutron to send requests to Placement. `LP#1960503 <https://bugs.launchpad.net/kolla-ansible/+bug/1960503>`__ ,,7,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,stable/victoria,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 17:13:16.000000000,2022-02-11 10:12:50.000000000,2022-02-11 10:10:49.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-10 17:13:16.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5bd751804ff9d3b291fffe64467e737e284598f', 'message': 'neutron: fix placement endpoint type configuration\n\nChange-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea\nCloses-Bug: #1960503\n(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)\n'}]",0,828755,d5bd751804ff9d3b291fffe64467e737e284598f,10,4,1,15197,,,0,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/828755/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml']",2,d5bd751804ff9d3b291fffe64467e737e284598f,neutron-endpoint-type-stable/victoria,--- fixes: - | Fixes the configuration option setting the type of endpoint used by Neutron to send requests to Placement. `LP#1960503 <https://bugs.launchpad.net/kolla-ansible/+bug/1960503>`__ ,,7,1
openstack%2Fovn-octavia-provider~stable%2Fvictoria~Iec17b36ce38be89f83a45ea3ef4c652e837c69c5,openstack/ovn-octavia-provider,stable/victoria,Iec17b36ce38be89f83a45ea3ef4c652e837c69c5,Support creating members without a subnet ID,MERGED,2022-01-31 10:21:53.000000000,2022-02-11 10:12:42.000000000,2022-02-11 10:10:54.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 10:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2ab874388733a06bf85e5af4d7e2fd45fa0094d6', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nCloses-bug: #1896677\nChange-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5\n(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\n'}, {'number': 2, 'created': '2022-02-04 14:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/268ebdb7b917b4f1370a0829a09257f29c5ff57d', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nCloses-bug: #1896677\nChange-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5\n(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\n'}, {'number': 3, 'created': '2022-02-04 15:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0fb7473925918753e4c40857a1acf1a875a02d9c', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nCloses-bug: #1896677\nChange-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5\n(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\n'}, {'number': 4, 'created': '2022-02-09 16:44:10.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3860ca0159f50bd530c2198a55c50724db02cc0c', 'message': 'Support creating members without a subnet ID\n\nSince subnet ID is an optional API argument, if not\navailable the provider driver will now attempt to look\nit up via the pool ID that is required.\n\nConflicts:\n    ovn_octavia_provider/tests/functional/test_driver.py\n\nCloses-bug: #1896677\nChange-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5\n(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)\n'}]",3,827040,3860ca0159f50bd530c2198a55c50724db02cc0c,19,3,4,23567,,,0,"Support creating members without a subnet ID

Since subnet ID is an optional API argument, if not
available the provider driver will now attempt to look
it up via the pool ID that is required.

Conflicts:
    ovn_octavia_provider/tests/functional/test_driver.py

Closes-bug: #1896677
Change-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5
(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/40/827040/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'releasenotes/notes/support-member-create-without-subnetid-0b4e3aa6ac453f28.yaml', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",7,2ab874388733a06bf85e5af4d7e2fd45fa0094d6,bug/1896677-stable/victoria,"from octavia_lib.api.drivers import data_models def test__get_subnet_from_pool(self): f = self.helper._get_subnet_from_pool lb = data_models.LoadBalancer( loadbalancer_id=self.loadbalancer_id, name='The LB', vip_address=self.vip_address, vip_subnet_id=self.vip_subnet_id, vip_network_id=self.vip_network_id) lb_pool = data_models.Pool( loadbalancer_id=self.loadbalancer_id, name='The pool', pool_id=self.pool_id, protocol='TCP') with mock.patch.object(self.helper, '_octavia_driver_lib') as dlib: dlib.get_pool.return_value = None found = f('not_found') self.assertIsNone(found) dlib.get_pool.return_value = lb_pool dlib.get_loadbalancer.return_value = lb found = f(self.pool_id) self.assertEqual(found, lb.vip_subnet_id) ",,112,15
openstack%2Fkolla-ansible~stable%2Fwallaby~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,stable/wallaby,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 17:13:06.000000000,2022-02-11 10:12:33.000000000,2022-02-11 10:10:46.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-10 17:13:06.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d95eb6a264fb881e0e8dd6e1c2c1bfec3115656f', 'message': 'neutron: fix placement endpoint type configuration\n\nChange-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea\nCloses-Bug: #1960503\n(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)\n'}]",0,828754,d95eb6a264fb881e0e8dd6e1c2c1bfec3115656f,10,4,1,15197,,,0,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/828754/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml']",2,d95eb6a264fb881e0e8dd6e1c2c1bfec3115656f,neutron-endpoint-type-stable/wallaby,--- fixes: - | Fixes the configuration option setting the type of endpoint used by Neutron to send requests to Placement. `LP#1960503 <https://bugs.launchpad.net/kolla-ansible/+bug/1960503>`__ ,,7,1
openstack%2Fkolla-ansible~stable%2Fxena~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,stable/xena,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 17:12:56.000000000,2022-02-11 10:12:32.000000000,2022-02-11 10:10:44.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-10 17:12:56.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47ac706d225ac1be6d79e571f57954f2e25ac3ab', 'message': 'neutron: fix placement endpoint type configuration\n\nChange-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea\nCloses-Bug: #1960503\n(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)\n'}]",0,828753,47ac706d225ac1be6d79e571f57954f2e25ac3ab,10,4,1,15197,,,0,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/828753/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml']",2,47ac706d225ac1be6d79e571f57954f2e25ac3ab,neutron-endpoint-type-stable/xena,--- fixes: - | Fixes the configuration option setting the type of endpoint used by Neutron to send requests to Placement. `LP#1960503 <https://bugs.launchpad.net/kolla-ansible/+bug/1960503>`__ ,,7,1
openstack%2Fkolla-ansible~master~I493430e255c76bf2a30818b63913ecabb40c5afc,openstack/kolla-ansible,master,I493430e255c76bf2a30818b63913ecabb40c5afc,[CI] Filter fluentd errors more,MERGED,2022-02-09 17:25:06.000000000,2022-02-11 10:04:14.000000000,2022-02-11 10:02:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-09 17:25:06.000000000', 'files': ['tests/check-logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58dd72583b72d13d44d3c09fcb3f2275255c3710', 'message': '[CI] Filter fluentd errors more\n\nMake it less likely to fail on false positives.\n\nChange-Id: I493430e255c76bf2a30818b63913ecabb40c5afc\n'}]",0,828594,58dd72583b72d13d44d3c09fcb3f2275255c3710,9,3,1,30491,,,0,"[CI] Filter fluentd errors more

Make it less likely to fail on false positives.

Change-Id: I493430e255c76bf2a30818b63913ecabb40c5afc
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/828594/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/check-logs.sh'],1,58dd72583b72d13d44d3c09fcb3f2275255c3710,ci-fluentd-filter-errors," sudo egrep ""\[$2\]:"" $1"," sudo egrep ""\[$2\]"" $1",1,1
openstack%2Fneutron~stable%2Fvictoria~I0391dd24224f8656a09ddb002e7dae8783ba37a4,openstack/neutron,stable/victoria,I0391dd24224f8656a09ddb002e7dae8783ba37a4,"Make sure ""dead vlan"" ports cannot transmit packets",MERGED,2022-02-09 09:11:55.000000000,2022-02-11 10:00:01.000000000,2022-02-11 09:58:01.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 09:11:55.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/88abffcb48d3237a3758e415cc9db86c312b0f68', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default\n(""access"").\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nbackport-only:\nOn newer than victoria branches we merged two changes of which the first\ngot problematic side effects (a race condition between agents\nmanipulating flows) and a second change partially reverting the first\nand using the above mentioned other approach. The first change never got\nmerged on victoria or older, so this backport squashes the two changes\ntogether.\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py\n\nCloses-Bug: #1930414\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n(squashed from cherry-picked commits 7aae31c9f9ed938760ca0be3c461826b598c7004, 0ddca284542aed89df4a22607a2da03f193f083c)\n'}]",4,828497,88abffcb48d3237a3758e415cc9db86c312b0f68,15,3,1,15554,,,0,"Make sure ""dead vlan"" ports cannot transmit packets

https://review.opendev.org/c/openstack/neutron/+/820897 added
a dead vlan flow that pushes the dead vlan tag onto frames
belonging to dead ports before these ports are reassigned to
their proper vlans. However add_flow and delete_flows race and
delete_flows may run before add_flow, in this case deleting 0 flows
but not giving us a chance to detect this: neither does it throw
an error nor does it return the number of deleted flows.
This leads to port staying inaccessible forever and hence
breaks corresponding DHCP or router.

Current patch suggests another approach to make sure no packets are
leaked from newly plugged ports: setting their ""vlan_mode"" attribute
to ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).
With this OVS normal pipeline will allow only packets tagged with 4095
from such ports [1], which normally not happens, but even if it does -
default rule in br-int will drop them anyway.
Thus untagged packets from such ports will also be dropped until
ovs agent sets proper VLAN tag and clears vlan_mode to default
(""access"").

This approach avoids the race between dhcp/l3 and ovs agents because
dhcp/l3 agents no longer modify flow table.

backport-only:
On newer than victoria branches we merged two changes of which the first
got problematic side effects (a race condition between agents
manipulating flows) and a second change partially reverting the first
and using the above mentioned other approach. The first change never got
merged on victoria or older, so this backport squashes the two changes
together.

[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py

Closes-Bug: #1930414
Change-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4
(squashed from cherry-picked commits 7aae31c9f9ed938760ca0be3c461826b598c7004, 0ddca284542aed89df4a22607a2da03f193f083c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/828497/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",11,88abffcb48d3237a3758e415cc9db86c312b0f68,bug/1930414," (_dp, ofp, ofpp) = self._get_dp() self.install_drop( table_id=constants.LOCAL_SWITCHING, priority=constants.OPENFLOW_MAX_PRIORITY, vlan_vid=ofp.OFPVID_PRESENT | constants.DEAD_VLAN_TAG, )"," self.install_drop(table_id=constants.LOCAL_SWITCHING, priority=constants.OPENFLOW_MAX_PRIORITY, vlan_vid=constants.DEAD_VLAN_TAG)",70,20
openstack%2Fdevstack~master~Iea57006ace2f1853a6e39d3189405c6bfb5a0793,openstack/devstack,master,Iea57006ace2f1853a6e39d3189405c6bfb5a0793,DNM: test gate only,ABANDONED,2018-07-31 03:34:39.000000000,2022-02-11 09:40:13.000000000,,"[{'_account_id': 4694}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15471}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 03:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f3d74a3a540de4e0cef75fafc864eb7371bc94ef', 'message': 'DNM: test gate only\n\nDepends-On: https://review.openstack.org/#/c/586452/\n\nChange-Id: Iea57006ace2f1853a6e39d3189405c6bfb5a0793\n'}, {'number': 2, 'created': '2018-08-08 11:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f5c1decd75d814d0ce7e94dd874d0a97efc28125', 'message': 'DNM: test gate only\n\nDepends-On: https://review.openstack.org/#/c/586452/\n\nChange-Id: Iea57006ace2f1853a6e39d3189405c6bfb5a0793\n'}, {'number': 3, 'created': '2018-08-13 06:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/822131f16519d760f28ac2a3ee9b08a74350b554', 'message': 'DNM: test gate only\n\nDepends-On: https://review.openstack.org/#/c/586452/\n\nChange-Id: Iea57006ace2f1853a6e39d3189405c6bfb5a0793\n'}, {'number': 4, 'created': '2018-08-27 08:04:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/67b626cf969383264e69551781bd791f173bd75a', 'message': 'DNM: test gate only\n\nDepends-On: https://review.openstack.org/#/c/586452/\n\nChange-Id: Iea57006ace2f1853a6e39d3189405c6bfb5a0793\n'}]",0,587276,67b626cf969383264e69551781bd791f173bd75a,32,7,4,15471,,,0,"DNM: test gate only

Depends-On: https://review.openstack.org/#/c/586452/

Change-Id: Iea57006ace2f1853a6e39d3189405c6bfb5a0793
",git fetch https://review.opendev.org/openstack/devstack refs/changes/76/587276/4 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f3d74a3a540de4e0cef75fafc864eb7371bc94ef,test_gate,test,,1,0
openstack%2Fdevstack~stable%2Fqueens~If9bc7ba45522189d03f19b86cb681bb150ee2f25,openstack/devstack,stable/queens,If9bc7ba45522189d03f19b86cb681bb150ee2f25,Add option to install everything in global venvs,ABANDONED,2018-04-06 20:51:29.000000000,2022-02-11 09:39:33.000000000,,"[{'_account_id': 4146}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-06 20:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aa99c55d7b8de4caa849e3d65e9927d9d2b5a10c', 'message': ""Install everything in global venvs\n\nOne venv for python2 and one for python3. This is a major change and\nwill likely break many things. But tl;dr is pip is making it\nincreasingly difficult to use globally install python packages with pip\nalongside distro supplied packages. So we now install everything into\nvirtualenvs.\n\nMajor hurdles we have to get over are convincing rootwrap to trust\nbinaries in the virtualenvs (so you'll notice we update rootwrap\nconfigs). Additionally this doesn't yet support mixing python2 and\npython3 installed services. You get python2 by default and python3 if\nyou opt into python3 but no mixing.\n\nChange-Id: If9bc7ba45522189d03f19b86cb681bb150ee2f25\n(cherry picked from commit 0a3003bdcfc05747719271c4e0a4e14772dd9df3)\n""}, {'number': 2, 'created': '2018-04-06 21:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ebf5570579261a11568565c75aa8ced54821d56', 'message': ""Install everything in global venvs\n\nOne venv for python2 and one for python3. This is a major change and\nwill likely break many things. But tl;dr is pip is making it\nincreasingly difficult to use globally install python packages with pip\nalongside distro supplied packages. So we now install everything into\nvirtualenvs.\n\nMajor hurdles we have to get over are convincing rootwrap to trust\nbinaries in the virtualenvs (so you'll notice we update rootwrap\nconfigs). Additionally this doesn't yet support mixing python2 and\npython3 installed services. You get python2 by default and python3 if\nyou opt into python3 but no mixing.\n\nChange-Id: If9bc7ba45522189d03f19b86cb681bb150ee2f25\n(cherry picked from commit 863709dff038516bd422e74ebb01cb1444ddf73b)\n""}, {'number': 3, 'created': '2018-04-06 22:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e4683a8e1af2c86ea488a4ce67ded432db539f34', 'message': ""Install everything in global venvs\n\nOne venv for python2 and one for python3. This is a major change and\nwill likely break many things. But tl;dr is pip is making it\nincreasingly difficult to use globally install python packages with pip\nalongside distro supplied packages. So we now install everything into\nvirtualenvs.\n\nMajor hurdles we have to get over are convincing rootwrap to trust\nbinaries in the virtualenvs (so you'll notice we update rootwrap\nconfigs). Additionally this doesn't yet support mixing python2 and\npython3 installed services. You get python2 by default and python3 if\nyou opt into python3 but no mixing.\n\nChange-Id: If9bc7ba45522189d03f19b86cb681bb150ee2f25\n(cherry picked from commit 7b8a9e0051f2d5b50dbca9bbe29d72d814248d70)\n""}, {'number': 4, 'created': '2018-04-06 23:43:11.000000000', 'files': ['lib/neutron', 'inc/python', 'functions-common', 'tools/fixup_stuff.sh', 'tools/install_prereqs.sh', 'inc/rootwrap', 'stackrc', 'lib/neutron-legacy', 'tools/memory_tracker.sh', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f5b73442dd7e8fb381dd83dc0cc801f31c5ea45d', 'message': ""Add option to install everything in global venvs\n\nOne venv for python2 and one for python3. This is a major change and\nwill likely break many things. But tl;dr is pip is making it\nincreasingly difficult to use globally install python packages with pip\nalongside distro supplied packages. So add the option to install\neverything into virtualenvs. This change was made optional in order to\nadd the required features to grenade without force merging updates;\nhowever, we should consider making it non optional once we get the\nbasics in place.\n\nMajor hurdles we have to get over are convincing rootwrap to trust\nbinaries in the virtualenvs (so you'll notice we update rootwrap\nconfigs). Additionally this doesn't yet support mixing python2 and\npython3 installed services. You get python2 by default and python3 if\nyou opt into python3 but no mixing.\n\nChange-Id: If9bc7ba45522189d03f19b86cb681bb150ee2f25\n(cherry picked from commit f08cb4f7314a86c7ee6b7ff489932eca5488a091)\n""}]",0,559418,f5b73442dd7e8fb381dd83dc0cc801f31c5ea45d,13,5,4,4146,,,0,"Add option to install everything in global venvs

One venv for python2 and one for python3. This is a major change and
will likely break many things. But tl;dr is pip is making it
increasingly difficult to use globally install python packages with pip
alongside distro supplied packages. So add the option to install
everything into virtualenvs. This change was made optional in order to
add the required features to grenade without force merging updates;
however, we should consider making it non optional once we get the
basics in place.

Major hurdles we have to get over are convincing rootwrap to trust
binaries in the virtualenvs (so you'll notice we update rootwrap
configs). Additionally this doesn't yet support mixing python2 and
python3 installed services. You get python2 by default and python3 if
you opt into python3 but no mixing.

Change-Id: If9bc7ba45522189d03f19b86cb681bb150ee2f25
(cherry picked from commit f08cb4f7314a86c7ee6b7ff489932eca5488a091)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/559418/4 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'lib/neutron', 'functions-common', 'tools/fixup_stuff.sh', 'tools/install_prereqs.sh', 'inc/rootwrap', 'stackrc', 'lib/neutron-legacy', 'tools/memory_tracker.sh', 'stack.sh']",10,aa99c55d7b8de4caa849e3d65e9927d9d2b5a10c,venv_support,"# This will ensure that virtualenv is installed source $TOP_DIR/tools/fixup_stuff.sh fixup_all # We run devstack out of global virtualenvs. One for python2 and possibly # one for python3 if using python3. if [[ ! -d $DEVSTACK_VENV2 ]] ; then # Using system site packages to enable nova to use libguestfs. # This package is currently installed via the distro and not # available on pypi. virtualenv --system-site-packages -p python2 $DEVSTACK_VENV2 fi # We put these at the front of the path so that things like # get_pip_command find the virtualenv'd tools if [[ "":$PATH:"" != *"":$DEVSTACK_VENV2/bin:""* ]] ; then export PATH=""$DEVSTACK_VENV2/bin:$PATH"" export PYTHON=""$DEVSTACK_VENV2/bin/python2"" fi # Do the same for python3 if necessary if python3_enabled ; then if [[ ! -d $DEVSTACK_VENV3 ]] ; then # Using system site packages to enable nova to use libguestfs. # This package is currently installed via the distro and not # available on pypi. virtualenv --system-site-packages -p python3 $DEVSTACK_VENV3 fi if [[ "":$PATH:"" != *"":$DEVSTACK_VENV3/bin:""* ]] ; then export PATH=""$DEVSTACK_VENV3/bin:$PATH"" export PYTHON=""$DEVSTACK_VENV3/bin/python3"" fi fi ", pip_install -U virtualenv# Do the ugly hacks for broken packages and distros source $TOP_DIR/tools/fixup_stuff.sh fixup_all ,67,20
openstack%2Fdevstack~stable%2Fstein~I437a46c875cf633272e8cad0811e5557f2ac3641,openstack/devstack,stable/stein,I437a46c875cf633272e8cad0811e5557f2ac3641,Set ownership of /etc/pki/<console> files for TLS,ABANDONED,2019-03-28 15:34:24.000000000,2022-02-11 09:37:22.000000000,,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-28 15:34:24.000000000', 'files': ['lib/nova', 'lib/nova_plugins/functions-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/39c70120ad241b499ddd883152025df0eb1101f2', 'message': 'Set ownership of /etc/pki/<console> files for TLS\n\nOpenSSL 1.0.2 generates key files with default permissions: 644 and the\nfiles are copied to the /etc/pki/* directories with sudo.\n\nWhen the default CI node Ubuntu version was changed from Xenial =>\nBionic we changed from OpenSSL 1.0.2 => 1.1.0. And OpenSSL 1.1.0\ngenerates key files with default permissions: 600. When we copy the key\nfile to /etc/pki/* using sudo, it becomes owned by root and then the\nconsole-related users are unable to read it.\n\nThis sets the ownership of the /etc/pki/<console> files to the\nuser:group intended to read them.\n\nCloses-Bug: #1819794\n\nChange-Id: I437a46c875cf633272e8cad0811e5557f2ac3641\n(cherry picked from commit e2853bf2d0a2e63d53d0f2d0cb21fd406f6289b0)\n'}]",0,648442,39c70120ad241b499ddd883152025df0eb1101f2,7,4,1,8556,,,0,"Set ownership of /etc/pki/<console> files for TLS

OpenSSL 1.0.2 generates key files with default permissions: 644 and the
files are copied to the /etc/pki/* directories with sudo.

When the default CI node Ubuntu version was changed from Xenial =>
Bionic we changed from OpenSSL 1.0.2 => 1.1.0. And OpenSSL 1.1.0
generates key files with default permissions: 600. When we copy the key
file to /etc/pki/* using sudo, it becomes owned by root and then the
console-related users are unable to read it.

This sets the ownership of the /etc/pki/<console> files to the
user:group intended to read them.

Closes-Bug: #1819794

Change-Id: I437a46c875cf633272e8cad0811e5557f2ac3641
(cherry picked from commit e2853bf2d0a2e63d53d0f2d0cb21fd406f6289b0)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/42/648442/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'lib/nova_plugins/functions-libvirt']",2,39c70120ad241b499ddd883152025df0eb1101f2,bug/1819794," # OpenSSL 1.1.0 generates the key file with permissions: 600, by # default and the deploy_int* methods use 'sudo cp' to copy the # files, making them owned by root:root. # Change ownership of everything under /etc/pki/libvirt-vnc to # libvirt-qemu:libvirt-qemu so that libvirt-qemu can read the key # file. sudo chown -R libvirt-qemu:libvirt-qemu /etc/pki/libvirt-vnc", sudo chown libvirt-qemu:libvirt-qemu /etc/pki/libvirt-vnc,23,1
openstack%2Fdevstack~stable%2Fstein~I09dffabc1aefac412a83c2a202c42288952e6ea3,openstack/devstack,stable/stein,I09dffabc1aefac412a83c2a202c42288952e6ea3,"Revert ""Update opensuse version""",ABANDONED,2020-11-10 19:51:20.000000000,2022-02-11 09:35:08.000000000,,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 12907}, {'_account_id': 22348}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-10 19:51:20.000000000', 'files': ['lib/lvm', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2bf1e08e3be12719f38e0e7ffda7b51f41f817b9', 'message': 'Revert ""Update opensuse version""\n\nopenSUSE Leap 15.2 comes with libvirt 6.0.0, but stein upper-constrains has libvirt-python===5.1.0, those won\'t work together. Thus stein needs to remain on Leap 15.1.\n\nThis reverts commit e5007d46183328f2a57a5126d2a5f3b5f30d12f9.\n\nChange-Id: I09dffabc1aefac412a83c2a202c42288952e6ea3\n'}]",1,762204,2bf1e08e3be12719f38e0e7ffda7b51f41f817b9,13,6,1,12907,,,0,"Revert ""Update opensuse version""

openSUSE Leap 15.2 comes with libvirt 6.0.0, but stein upper-constrains has libvirt-python===5.1.0, those won't work together. Thus stein needs to remain on Leap 15.1.

This reverts commit e5007d46183328f2a57a5126d2a5f3b5f30d12f9.

Change-Id: I09dffabc1aefac412a83c2a202c42288952e6ea3
",git fetch https://review.opendev.org/openstack/devstack refs/changes/04/762204/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/lvm', 'stack.sh']",2,2bf1e08e3be12719f38e0e7ffda7b51f41f817b9,backport-to-stein,if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f28|f29|opensuse-15.0|opensuse-15.1|opensuse-tumbleweed|rhel7) ]]; then,if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f28|f29|opensuse-15.2|opensuse-tumbleweed|rhel7) ]]; then,7,9
openstack%2Fovn-bgp-agent~master~Ie44d3c458b7dd0828fa7510529dd9d3c3ba35dc8,openstack/ovn-bgp-agent,master,Ie44d3c458b7dd0828fa7510529dd9d3c3ba35dc8,Make is_port_on_chassis not specific to a port type,MERGED,2022-02-10 15:17:15.000000000,2022-02-11 09:34:08.000000000,2022-02-11 09:34:08.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-02-10 15:17:15.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/ovn.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/860d1ef7ff61bc1867b15b961deaf1352f8a73d1', 'message': 'Make is_port_on_chassis not specific to a port type\n\nChange-Id: Ie44d3c458b7dd0828fa7510529dd9d3c3ba35dc8\n'}]",0,828731,860d1ef7ff61bc1867b15b961deaf1352f8a73d1,6,3,1,23567,,,0,"Make is_port_on_chassis not specific to a port type

Change-Id: Ie44d3c458b7dd0828fa7510529dd9d3c3ba35dc8
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/31/828731/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/drivers/openstack/utils/ovn.py'],1,860d1ef7ff61bc1867b15b961deaf1352f8a73d1,,, port_info.type == constants.OVN_VM_VIF_PORT_TYPE and,0,1
openstack%2Fkolla-ansible~master~I40c4e209470d21e0a02fd447fb628acfdae9fa9d,openstack/kolla-ansible,master,I40c4e209470d21e0a02fd447fb628acfdae9fa9d,Fix log rotation for fluentd created files,MERGED,2021-06-24 13:13:34.000000000,2022-02-11 09:33:20.000000000,2022-01-28 12:24:37.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-06-24 13:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e304e1335c6e28dae82c15ec35ee671fa3db764', 'message': 'Fix log rotation for fluentd created files\n\nChange-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d\n'}, {'number': 2, 'created': '2021-08-16 16:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0fa9a4e606544fd1affb71b149d59d456f304de', 'message': 'Fix log rotation for fluentd created files\n\nCloses-Bug: #1940118\nChange-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d\n'}, {'number': 3, 'created': '2021-08-16 16:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7ce297cf6a47aa43cab62133b85b7cf2842034a', 'message': 'Fix log rotation for fluentd created files\n\nCloses-Bug: #1940118\nChange-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d\n'}, {'number': 4, 'created': '2021-08-17 12:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e4b6b1fba31e6289f33d4de73e9aa70db51f5b03', 'message': 'Fix log rotation for fluentd created files\n\nCloses-Bug: #1940118\nChange-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d\n'}, {'number': 5, 'created': '2022-01-25 12:02:43.000000000', 'files': ['releasenotes/notes/fix-haproxy-logrotate-e299a0000728fd8f.yaml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/cron-logrotate-haproxy.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79b59e2c0b43936a12a9c676d8a48cd62c733a0f', 'message': 'Fix log rotation for fluentd created files\n\nOverrides default fluentd buffer config to stop log files from using\ndatestamped filenames, allowing logrotate to manage them.\n\nCloses-Bug: #1940118\nChange-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d\n'}]",13,797900,79b59e2c0b43936a12a9c676d8a48cd62c733a0f,33,4,5,30438,,,0,"Fix log rotation for fluentd created files

Overrides default fluentd buffer config to stop log files from using
datestamped filenames, allowing logrotate to manage them.

Closes-Bug: #1940118
Change-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/797900/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/cron-logrotate-haproxy.conf.j2']",2,5e304e1335c6e28dae82c15ec35ee671fa3db764,fix-haproxy-logrotate,"""/var/log/kolla/haproxy/*.log""","""/var/log/kolla/haproxy/haproxy.log""",25,23
openstack%2Fneutron~stable%2Fpike~Ie4677eb31593e524049449f47277cb49c2266f7c,openstack/neutron,stable/pike,Ie4677eb31593e524049449f47277cb49c2266f7c,[stable][pike]: remove publish-openstack-sphinx-docs template,ABANDONED,2022-02-09 10:38:12.000000000,2022-02-11 09:31:30.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 10:38:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a944d9b163d4db65d0094bf83a2c477db35383c', 'message': ""[stable][pike]: remove publish-openstack-sphinx-docs template\n\nSphinx build jobs on older branches (stable/queens, stable/pike) are\nfailing due to missing python 2.7 support for it, see [1], till an\nOpenstack global solution is accepted, let's remove the job template.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2022-February/027106.html\n\nChange-Id: Ie4677eb31593e524049449f47277cb49c2266f7c\n""}]",3,828513,9a944d9b163d4db65d0094bf83a2c477db35383c,5,2,1,8313,,,0,"[stable][pike]: remove publish-openstack-sphinx-docs template

Sphinx build jobs on older branches (stable/queens, stable/pike) are
failing due to missing python 2.7 support for it, see [1], till an
Openstack global solution is accepted, let's remove the job template.

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2022-February/027106.html

Change-Id: Ie4677eb31593e524049449f47277cb49c2266f7c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/828513/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9a944d9b163d4db65d0094bf83a2c477db35383c,remove_sphinx_job,, - publish-openstack-sphinx-docs,0,1
openstack%2Fgovernance~master~Ia7f35bec67c90a907d87d089fc596b203f405a26,openstack/governance,master,Ia7f35bec67c90a907d87d089fc596b203f405a26,Clean generated files before run in docs target,MERGED,2022-02-10 18:31:47.000000000,2022-02-11 09:23:58.000000000,2022-02-11 09:22:09.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-10 18:31:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/governance/commit/72a3018a21fab9268440cb39b2d93f5fbfa5ffea', 'message': 'Clean generated files before run in docs target\n\nChange-Id: Ia7f35bec67c90a907d87d089fc596b203f405a26\n'}]",0,828780,72a3018a21fab9268440cb39b2d93f5fbfa5ffea,11,4,1,4393,,,0,"Clean generated files before run in docs target

Change-Id: Ia7f35bec67c90a907d87d089fc596b203f405a26
",git fetch https://review.opendev.org/openstack/governance refs/changes/80/828780/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,72a3018a21fab9268440cb39b2d93f5fbfa5ffea,code-change,whitelist_externals = find rm commands = rm -Rf doc/build find reference/projects -name '*.rst' -a '!' -name index.rst -delete sphinx-build -W -b html doc/source doc/build/html,commands = sphinx-build -W -b html doc/source doc/build/html,7,1
openstack%2Fswift~master~I5b299bc0adb526c468c6364a5706eb86809533e5,openstack/swift,master,I5b299bc0adb526c468c6364a5706eb86809533e5,Add docs for registry module,MERGED,2022-02-10 19:17:55.000000000,2022-02-11 08:15:16.000000000,2022-02-11 05:24:23.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 19:17:55.000000000', 'files': ['swift/common/registry.py', 'test/unit/common/test_registry.py', 'doc/source/misc.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/a9565893f29626093040cb38fe4a19e855e69afa', 'message': 'Add docs for registry module\n\nDrive-By: make the register_sensitive_header() implementation more\nobviously case-insensitive.\n\nChange-Id: I5b299bc0adb526c468c6364a5706eb86809533e5\n'}]",3,828787,a9565893f29626093040cb38fe4a19e855e69afa,14,2,1,15343,,,0,"Add docs for registry module

Drive-By: make the register_sensitive_header() implementation more
obviously case-insensitive.

Change-Id: I5b299bc0adb526c468c6364a5706eb86809533e5
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/828787/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/registry.py', 'doc/source/misc.rst', 'test/unit/common/test_registry.py']",3,a9565893f29626093040cb38fe4a19e855e69afa,," expected_headers = {'some-header'} expected_headers.add(""new-header"") self.assertEqual(registry.get_sensitive_headers(), {'header1'}) {'header1', 'header2'})"," expected_headers = {'Some-Header'} expected_headers.add(""New-Header"") self.assertEqual(registry.get_sensitive_headers(), {'Header1'}) {'Header1', 'Header2'})",50,5
openstack%2Ftripleo-ci~master~I42092ee8633a5dfe041af8cd12f15c24b995eaf1,openstack/tripleo-ci,master,I42092ee8633a5dfe041af8cd12f15c24b995eaf1,Fix image used in c9 standalone job with container builds,MERGED,2022-02-10 15:48:34.000000000,2022-02-11 07:54:47.000000000,2022-02-11 07:54:47.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-02-10 15:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0ceeada08412cd8d2b802c1a70075d91ff57f01a', 'message': 'Fix image used in c9 standalone job with container builds\n\nCurrently when tripleo-ci-centos-9-standalone template is used with\nbuild_container_images: true, it by default uses ubi8 image and we\nalways need to set the containers_base_image var.\n\nThis change adds that var in the base job so that we no longer need to\ndefine the var in standalone jobs inheriting that template.\n\nCloses-Bug: #1960522\nChange-Id: I42092ee8633a5dfe041af8cd12f15c24b995eaf1\n'}, {'number': 2, 'created': '2022-02-10 15:49:17.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/615e8055ec0fc63736a5d6139f0b6b3b9161d933', 'message': 'Fix image used in c9 standalone job with container builds\n\nCurrently when tripleo-ci-centos-9-standalone template is used with\nbuild_container_images: true, it by default uses ubi8 image and we\nalways need to set the containers_base_image var.\n\nThis change adds that var in the base job so that we no longer need to\ndefine the var in standalone jobs inheriting that template.\n\nCloses-Bug: #1960308\nChange-Id: I42092ee8633a5dfe041af8cd12f15c24b995eaf1\n'}]",4,828736,615e8055ec0fc63736a5d6139f0b6b3b9161d933,12,6,2,9816,,,0,"Fix image used in c9 standalone job with container builds

Currently when tripleo-ci-centos-9-standalone template is used with
build_container_images: true, it by default uses ubi8 image and we
always need to set the containers_base_image var.

This change adds that var in the base job so that we no longer need to
define the var in standalone jobs inheriting that template.

Closes-Bug: #1960308
Change-Id: I42092ee8633a5dfe041af8cd12f15c24b995eaf1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/36/828736/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,0ceeada08412cd8d2b802c1a70075d91ff57f01a,bug/1960308, vars: containers_base_image: quay.io/centos/centos:stream9,,2,0
openstack%2Fcinder-tempest-plugin~master~Ied40f6e4fefc66f847fed7e934d53ccb64be8dd4,openstack/cinder-tempest-plugin,master,Ied40f6e4fefc66f847fed7e934d53ccb64be8dd4,Dropping explicit unicode literal,MERGED,2021-07-06 07:37:37.000000000,2022-02-11 07:49:16.000000000,2022-02-11 07:49:16.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-07-06 07:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b43a683f0ec4333b4e86ee3a23dbbc88fd6b7d91', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: Ied40f6e4fefc66f847fed7e934d53ccb64be8dd4\n'}, {'number': 2, 'created': '2022-02-07 03:34:13.000000000', 'files': ['cinder_tempest_plugin/api/volume/test_volume_unicode.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a3b2272871db9ceacf99324f980f12af716f7b69', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: Ied40f6e4fefc66f847fed7e934d53ccb64be8dd4\n'}]",7,799564,a3b2272871db9ceacf99324f980f12af716f7b69,39,9,2,30615,,,0,"Dropping explicit unicode literal

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: Ied40f6e4fefc66f847fed7e934d53ccb64be8dd4
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/64/799564/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/test_volume_unicode.py'],1,b43a683f0ec4333b4e86ee3a23dbbc88fd6b7d91,, description = '\u05e7\u05d9\u05d9\u05e4\u05e9' description = '\u4e2d\u56fd\u793e\u533a', description = u'\u05e7\u05d9\u05d9\u05e4\u05e9' description = u'\u4e2d\u56fd\u793e\u533a',2,2
openstack%2Fpuppet-swift~master~Ie5024b614749beafeb2e34df5021114d5c4c5b5e,openstack/puppet-swift,master,Ie5024b614749beafeb2e34df5021114d5c4c5b5e,TripleO: Enable container build in standalone job,MERGED,2022-02-10 15:40:51.000000000,2022-02-11 07:12:33.000000000,2022-02-11 07:12:33.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 15:40:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7e86bb55caefa824a252d590b66b9984ffb974d7', 'message': 'TripleO: Enable container build in standalone job\n\nSince we removed undercloud job, there is no job building container\nimages and we should enable that process as part of standalone job.\nThis change fixes the missing build_container_images flag to enable\ncontainer build.\n\nChange-Id: Ie5024b614749beafeb2e34df5021114d5c4c5b5e\n'}]",0,828734,7e86bb55caefa824a252d590b66b9984ffb974d7,6,2,1,9816,,,0,"TripleO: Enable container build in standalone job

Since we removed undercloud job, there is no job building container
images and we should enable that process as part of standalone job.
This change fixes the missing build_container_images flag to enable
container build.

Change-Id: Ie5024b614749beafeb2e34df5021114d5c4c5b5e
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/34/828734/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7e86bb55caefa824a252d590b66b9984ffb974d7,, build_container_images: true,,1,0
openstack%2Fswift~master~I01528eadf6abfc6b7daa99e718a70dcbe668f910,openstack/swift,master,I01528eadf6abfc6b7daa99e718a70dcbe668f910,Quiet more BadStatusLine tracebacks,MERGED,2022-02-10 20:41:16.000000000,2022-02-11 05:37:20.000000000,2022-02-11 05:24:29.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 20:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/872c819207b0c7abf1cf96b8fe12bc3374441f3b', 'message': 'Quiet more BadStatusLine tracebacks\n\nChange-Id: I01528eadf6abfc6b7daa99e718a70dcbe668f910\n'}, {'number': 2, 'created': '2022-02-10 23:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dfdfe912bb9206affca7b8ef2a6c7fbad10ca079', 'message': 'Quiet more BadStatusLine tracebacks\n\nRelated-Change: I07192b8d2ece2d2ee04fe0d877ead6fbfc321d86\nChange-Id: I01528eadf6abfc6b7daa99e718a70dcbe668f910\n'}, {'number': 3, 'created': '2022-02-11 00:54:51.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c4762acaaa9aada53cb9eb20d06c67d7f77a6319', 'message': 'Quiet more BadStatusLine tracebacks\n\nRelated-Change: I07192b8d2ece2d2ee04fe0d877ead6fbfc321d86\nChange-Id: I01528eadf6abfc6b7daa99e718a70dcbe668f910\n'}]",1,828790,c4762acaaa9aada53cb9eb20d06c67d7f77a6319,12,2,3,15343,,,0,"Quiet more BadStatusLine tracebacks

Related-Change: I07192b8d2ece2d2ee04fe0d877ead6fbfc321d86
Change-Id: I01528eadf6abfc6b7daa99e718a70dcbe668f910
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/828790/3 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/utils.py'],1,872c819207b0c7abf1cf96b8fe12bc3374441f3b,badstatusline," elif any(c.__name__ == 'BadStatusLine' for c in exc.__class__.__mro__): # There seems to be a weird split where *sometimes* we see these # as eventlet.green.http.client.BadStatusLine and *sometimes* as # http.client.BadStatusLine. Yes, reimplementing isinstance() like # that is kinda horrible. "," elif isinstance(exc, http_client.BadStatusLine):",6,1
openstack%2Fneutron~stable%2Fussuri~Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458,openstack/neutron,stable/ussuri,Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458,"[OVN] Add the VIF details ""connectivity"" parameter",MERGED,2022-01-26 10:36:30.000000000,2022-02-11 05:26:13.000000000,2022-02-11 05:24:19.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-26 10:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdfa8a7d21ff2acf2deca58c1660c84870a651db', 'message': '[OVN] Add the VIF details ""connectivity"" parameter\n\nIn [1], the parameter was included in the mech driver ""vif_details""\nmember, instead of adding it in each defined VIF type, ""ovs"" and\n""vhostuser"".\n\n[1]https://review.opendev.org/c/openstack/networking-ovn/+/678599\n\nCloses-Bug: #1947378\n\nChange-Id: Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458\n(cherry picked from commit b871dabdf433d2393551de6597d43774ed6cf1e4)\n'}, {'number': 2, 'created': '2022-01-27 16:15:18.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5f7694b0debf9f48e95d798d3f0006be8da246a', 'message': '[OVN] Add the VIF details ""connectivity"" parameter\n\nIn [1], the parameter was included in the mech driver ""vif_details""\nmember, instead of adding it in each defined VIF type, ""ovs"" and\n""vhostuser"".\n\n[1]https://review.opendev.org/c/openstack/networking-ovn/+/678599\n\nNOTE: this patch differs from the master one (in ""Y"" release) due\nto LP#1959125. Because the fix for this bug implies a change in\nneutron-lib, this patch addresses the issue by leaving the\nconnectivity parameter in the OVN mech driver ""vif_details""\ndictionary, thus ""_check_drivers_connectivity"" can properly\ncheck it.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nCloses-Bug: #1947378\n\nChange-Id: Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458\n(cherry picked from commit b871dabdf433d2393551de6597d43774ed6cf1e4)\n(cherry picked from commit 6be2df7eb5969e0b5440ccd53a1fe19029870fe7)\n'}]",7,826441,c5f7694b0debf9f48e95d798d3f0006be8da246a,28,4,2,16688,,,0,"[OVN] Add the VIF details ""connectivity"" parameter

In [1], the parameter was included in the mech driver ""vif_details""
member, instead of adding it in each defined VIF type, ""ovs"" and
""vhostuser"".

[1]https://review.opendev.org/c/openstack/networking-ovn/+/678599

NOTE: this patch differs from the master one (in ""Y"" release) due
to LP#1959125. Because the fix for this bug implies a change in
neutron-lib, this patch addresses the issue by leaving the
connectivity parameter in the OVN mech driver ""vif_details""
dictionary, thus ""_check_drivers_connectivity"" can properly
check it.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Closes-Bug: #1947378

Change-Id: Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458
(cherry picked from commit b871dabdf433d2393551de6597d43774ed6cf1e4)
(cherry picked from commit 6be2df7eb5969e0b5440ccd53a1fe19029870fe7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/826441/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,bdfa8a7d21ff2acf2deca58c1660c84870a651db,bug/1947378," portbindings.CAP_PORT_FILTER: self.sg_enabled, portbindings.VIF_DETAILS_CONNECTIVITY: portbindings.CONNECTIVITY_L2, portbindings.VHOST_USER_OVS_PLUG: True, portbindings.VIF_DETAILS_CONNECTIVITY: portbindings.CONNECTIVITY_L2,"," portbindings.CAP_PORT_FILTER: self.sg_enabled portbindings.VHOST_USER_OVS_PLUG: True portbindings.VIF_DETAILS_CONNECTIVITY: portbindings.CONNECTIVITY_L2,",23,15
openstack%2Fswift~master~I632d58697a1026a6a581db27786ab9503c62f97e,openstack/swift,master,I632d58697a1026a6a581db27786ab9503c62f97e,read-only: Only act on Swift paths,MERGED,2022-02-09 22:01:50.000000000,2022-02-11 05:24:26.000000000,2022-02-11 05:24:26.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 22:01:50.000000000', 'files': ['swift/common/middleware/read_only.py', 'test/unit/common/middleware/test_read_only.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/00bb0f8ba68f2108dcf2f3d486217de298114044', 'message': 'read-only: Only act on Swift paths\n\n... and they must include an account.\n\nChange-Id: I632d58697a1026a6a581db27786ab9503c62f97e\n'}]",2,828612,00bb0f8ba68f2108dcf2f3d486217de298114044,10,2,1,15343,,,0,"read-only: Only act on Swift paths

... and they must include an account.

Change-Id: I632d58697a1026a6a581db27786ab9503c62f97e
",git fetch https://review.opendev.org/openstack/swift refs/changes/12/828612/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/read_only.py', 'test/unit/common/middleware/test_read_only.py']",2,00bb0f8ba68f2108dcf2f3d486217de298114044,," req = Request.blank('/v1/a') req = Request.blank('/v1/a') req = Request.blank('/v1/a') req = Request.blank('/v1/a') req = Request.blank('/v1/a') req = Request.blank('/v1/a') req = Request.blank('/v1/a') req = Request.blank('/v1/a') req = Request.blank('/v1/a') req = Request.blank('/v1/a', headers=headers) req = Request.blank('/v1/a', headers=headers) req = Request.blank('/v1/a', headers=headers) req = Request.blank('/v1/a', headers=headers) def test_global_read_only_non_swift_path(self): conf = {} ro = read_only.filter_factory(conf)(FakeApp()) ro.logger = debug_logger() def fake_account_read_only(self, req, account): return 'on' with mock.patch( 'swift.common.middleware.read_only.ReadOnlyMiddleware.' + 'account_read_only', fake_account_read_only): req = Request.blank('/auth/v3.14') req.method = ""POST"" resp = ro(req.environ, start_response) self.assertEqual(resp, [b'Some Content']) req = Request.blank('/v1') req.method = ""PUT"" resp = ro(req.environ, start_response) self.assertEqual(resp, [b'Some Content']) req = Request.blank('/v1.0/') req.method = ""DELETE"" resp = ro(req.environ, start_response) self.assertEqual(resp, [b'Some Content']) "," req = Request.blank('/v/a') req = Request.blank('/v/a') req = Request.blank('/v/a') req = Request.blank('/v/a') req = Request.blank('/v/a') req = Request.blank('/v/a') req = Request.blank('/v/a') req = Request.blank('/v/a') req = Request.blank('/v/a') req = Request.blank('/v/a', headers=headers) req = Request.blank('/v/a', headers=headers) req = Request.blank('/v/a', headers=headers) req = Request.blank('/v/a', headers=headers)",45,15
openstack%2Fpython-cinderclient~master~I2c27a7744c871efe30bda6ac26e979769e3c99e8,openstack/python-cinderclient,master,I2c27a7744c871efe30bda6ac26e979769e3c99e8,Add Python 3 only classifier,ABANDONED,2022-02-09 08:37:04.000000000,2022-02-11 05:06:38.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-02-09 08:37:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ffb35b234cc9b200dfe41cc8b8f9a87d57feee6e', 'message': 'Add Python 3 only classifier\n\nPython 2 support was removed during Ussuri cycle. This change adds\nthe classifier to clearly state that only Python 3 is supported.\n\nChange-Id: I2c27a7744c871efe30bda6ac26e979769e3c99e8\n'}]",1,828479,ffb35b234cc9b200dfe41cc8b8f9a87d57feee6e,4,6,1,30615,,,0,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: I2c27a7744c871efe30bda6ac26e979769e3c99e8
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/79/828479/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ffb35b234cc9b200dfe41cc8b8f9a87d57feee6e,, Programming Language :: Python :: 3 :: Only,,1,0
openstack%2Frequirements~stable%2Fxena~Icca2962ace4b54828855d148b49a4fa9f8adb03f,openstack/requirements,stable/xena,Icca2962ace4b54828855d148b49a4fa9f8adb03f,update constraint for ceilometer to new release 17.0.1,MERGED,2022-02-10 11:03:34.000000000,2022-02-11 04:44:08.000000000,2022-02-11 04:44:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 11:03:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a135f20faffb90fed69cd304a67f2cf87f0c1865', 'message': 'update constraint for ceilometer to new release 17.0.1\n\nmeta: version: 17.0.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Tobias Urdin <tobias.urdin@binero.se>\nmeta: release:Commit: Tobias Urdin <tobias.urdin@binero.se>\nmeta: release:Change-Id: Id8762695c32cfc9f41efbc7686c4304b5c761e4e\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Icca2962ace4b54828855d148b49a4fa9f8adb03f\n'}]",0,828693,a135f20faffb90fed69cd304a67f2cf87f0c1865,7,2,1,11131,,,0,"update constraint for ceilometer to new release 17.0.1

meta: version: 17.0.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Tobias Urdin <tobias.urdin@binero.se>
meta: release:Commit: Tobias Urdin <tobias.urdin@binero.se>
meta: release:Change-Id: Id8762695c32cfc9f41efbc7686c4304b5c761e4e
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Icca2962ace4b54828855d148b49a4fa9f8adb03f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/828693/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a135f20faffb90fed69cd304a67f2cf87f0c1865,new-release,ceilometer===17.0.1,ceilometer===17.0.0,1,1
openstack%2Frequirements~stable%2Fwallaby~I04bbb0a73aa47675c69450c9c216bdb5f0bec8ac,openstack/requirements,stable/wallaby,I04bbb0a73aa47675c69450c9c216bdb5f0bec8ac,update constraint for ceilometer to new release 16.0.1,MERGED,2022-02-10 10:47:54.000000000,2022-02-11 04:44:06.000000000,2022-02-11 04:44:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-10 10:47:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/12d141827c21cbc0860d348fb91fc465c685f036', 'message': 'update constraint for ceilometer to new release 16.0.1\n\nmeta: version: 16.0.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Tobias Urdin <tobias.urdin@binero.se>\nmeta: release:Commit: Tobias Urdin <tobias.urdin@binero.com>\nmeta: release:Change-Id: I6ac44990dc80582afa897fc3cb9f5784897456b5\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I04bbb0a73aa47675c69450c9c216bdb5f0bec8ac\n'}]",0,828690,12d141827c21cbc0860d348fb91fc465c685f036,8,3,1,11131,,,0,"update constraint for ceilometer to new release 16.0.1

meta: version: 16.0.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Tobias Urdin <tobias.urdin@binero.se>
meta: release:Commit: Tobias Urdin <tobias.urdin@binero.com>
meta: release:Change-Id: I6ac44990dc80582afa897fc3cb9f5784897456b5
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I04bbb0a73aa47675c69450c9c216bdb5f0bec8ac
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/828690/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,12d141827c21cbc0860d348fb91fc465c685f036,new-release,ceilometer===16.0.1,ceilometer===16.0.0,1,1
openstack%2Fnova~stable%2Fwallaby~I332d4f33ea6b9506cc24ac12e5c0994f208a3107,openstack/nova,stable/wallaby,I332d4f33ea6b9506cc24ac12e5c0994f208a3107,Add functional test for bug 1937375,MERGED,2021-08-06 10:01:49.000000000,2022-02-11 04:05:37.000000000,2022-02-11 04:03:13.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29074}]","[{'number': 1, 'created': '2021-08-06 10:01:49.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1937375.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a9e3dcd172f187cf93f406b09f49d2ded9bd90d', 'message': 'Add functional test for bug 1937375\n\nRelated-Bug: #1937375\nChange-Id: I332d4f33ea6b9506cc24ac12e5c0994f208a3107\n(cherry picked from commit 2ffd9738602531e93495a1feca76bbb687c3e72c)\n'}]",1,803717,7a9e3dcd172f187cf93f406b09f49d2ded9bd90d,11,4,1,10135,,,0,"Add functional test for bug 1937375

Related-Bug: #1937375
Change-Id: I332d4f33ea6b9506cc24ac12e5c0994f208a3107
(cherry picked from commit 2ffd9738602531e93495a1feca76bbb687c3e72c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/803717/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1937375.py'],1,7a9e3dcd172f187cf93f406b09f49d2ded9bd90d,,"# Copyright 2020, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import time from nova import context from nova import objects from nova.tests.functional import integrated_helpers class TestDuplicateVolAttachRace(integrated_helpers._IntegratedTestBase): """"""Regression test for bug #1937375 A regression test to assert the behaviour of bug #1937375 where calls to reserve_block_device_name can race and create duplicate bdm records. As we can't recreate the race with pure API driven requests in our functional tests this instead makes duplicate calls to reserve_block_device_name during an attach to mimic the behaviour. """""" microversion = 'latest' # TODO(lyarwood): Copied from test_bug_1675570.py, move both into # _IntegratedTestBase. def _wait_for_volume_attach(self, server_id, volume_id): timeout = 0.0 server = self.api.get_server(server_id) attached_vols = [vol['id'] for vol in server['os-extended-volumes:volumes_attached']] while volume_id not in attached_vols and timeout < 10.0: time.sleep(.1) timeout += .1 server = self.api.get_server(server_id) attached_vols = [vol['id'] for vol in server['os-extended-volumes:volumes_attached']] if volume_id not in attached_vols: self.fail('Timed out waiting for volume %s to be attached to ' 'server %s. Currently attached volumes: %s' % (volume_id, server_id, attached_vols)) def test_duplicate_volume_attach_race(self): ctxt = context.get_admin_context() volume_id = self.cinder.IMAGE_BACKED_VOL server_id = self._create_server(networks='none')['id'] original_reserve_name = self.compute.manager.reserve_block_device_name def wrap_reserve_block_device_name(*args, **kwargs): # We can't cause a race with duplicate API requests as functional # tests are single threaded and the first would always complete # before the second was serviced. Instead we can wrap # reserve_block_device_name on the compute manager and call it # twice to mimic two callers racing each other after the checks on # the api. original_bdm = original_reserve_name(*args, **kwargs) original_reserve_name(*args, **kwargs) return original_bdm with mock.patch.object( self.compute.manager, 'reserve_block_device_name', wrap_reserve_block_device_name ): self.api.post_server_volume( server_id, {'volumeAttachment': {'volumeId': volume_id}}) # Wait for a volume to be attached self._wait_for_volume_attach(server_id, volume_id) # Fetch all bdms for the instance to assert what we have bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( ctxt, server_id) # FIXME(lyarwood): This is bug #1937375, we now have 3 bdms for the # instance, the original root disk and two duplicate volume bdms for # the same volume attachment. self.assertEqual(3, len(bdms)) self.assertEqual(volume_id, bdms[2].volume_id) self.assertEqual(volume_id, bdms[1].volume_id) self.assertEqual('local', bdms[0].destination_type) ",,95,0
openstack%2Fnova~stable%2Fxena~I812d720555bdf008c83cae3d81541a37bd99e594,openstack/nova,stable/xena,I812d720555bdf008c83cae3d81541a37bd99e594,Migrate RequestSpec.numa_topology to use pcpuset,MERGED,2022-02-04 14:30:53.000000000,2022-02-11 03:59:24.000000000,2022-02-11 03:56:58.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 14:30:53.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/objects/instance_numa.py', 'releasenotes/notes/bug-1952941-request-spec-numa-topology-migration-c97dbd51b3c6c116.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f6ec8cf546cf8f437ee94bb2308447427f54ada', 'message': 'Migrate RequestSpec.numa_topology to use pcpuset\n\nWhen the InstanceNUMATopology OVO has changed in\nI901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track\npcpus from vcpus a data migration was added. This data migration is\ntriggered when the InstanceNUMATopology object is loaded from the\ninstance_extra table. However that patch is missed the fact that the\nInstanceNUMATopology object can be loaded from the request_spec table as\nwell. So InstanceNUMATopology object in RequestSpec are not migrated.\nThis could lead to errors in the scheduler when such RequestSpec object\nis used for scheduling (e.g. during a migration of a pre Victoria\ninstance with cpu pinning)\n\nThis patch adds the missing data migration.\n\nChange-Id: I812d720555bdf008c83cae3d81541a37bd99e594\nCloses-Bug: #1952941\n(cherry picked from commit e853bb57181721725a89656b3cb3058636630a6e)\n'}]",2,827869,7f6ec8cf546cf8f437ee94bb2308447427f54ada,10,3,1,9708,,,0,"Migrate RequestSpec.numa_topology to use pcpuset

When the InstanceNUMATopology OVO has changed in
I901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track
pcpus from vcpus a data migration was added. This data migration is
triggered when the InstanceNUMATopology object is loaded from the
instance_extra table. However that patch is missed the fact that the
InstanceNUMATopology object can be loaded from the request_spec table as
well. So InstanceNUMATopology object in RequestSpec are not migrated.
This could lead to errors in the scheduler when such RequestSpec object
is used for scheduling (e.g. during a migration of a pre Victoria
instance with cpu pinning)

This patch adds the missing data migration.

Change-Id: I812d720555bdf008c83cae3d81541a37bd99e594
Closes-Bug: #1952941
(cherry picked from commit e853bb57181721725a89656b3cb3058636630a6e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/827869/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/objects/instance_numa.py', 'releasenotes/notes/bug-1952941-request-spec-numa-topology-migration-c97dbd51b3c6c116.yaml']",4,7f6ec8cf546cf8f437ee94bb2308447427f54ada,bug/1952941,--- fixes: - | The `bug 1952941`_ is fixed where a pre-Victoria server with pinned CPUs cannot be migrated or evacuated after the cloud is upgraded to Victoria or newer as the scheduling fails with ``NotImplementedError: Cannot load 'pcpuset'`` error. .. _bug 1952941: https://bugs.launchpad.net/nova/+bug/1952941 ,,47,42
openstack%2Fnova~stable%2Fxena~I672af45a1d1c7fb428b1c4983d4f856852829fb9,openstack/nova,stable/xena,I672af45a1d1c7fb428b1c4983d4f856852829fb9,Reproduce bug 1952941,MERGED,2022-02-04 14:30:53.000000000,2022-02-11 03:56:05.000000000,2022-02-11 03:54:02.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 14:30:53.000000000', 'files': ['nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/fake_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d860615527a4f492251c363b2092674d55228a40', 'message': 'Reproduce bug 1952941\n\nThe added unit test proves that pre-Victoria RequestSpec objects\ndescribing a cpu pinned Instance are not migrated to a proper format\nin Victoria or newer.\n\nRelated-Bug: #1952941\n\nChange-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9\n(cherry picked from commit 05e8977cb2fd660dcf6af32c5804f7548bf722a7)\n'}]",2,827868,d860615527a4f492251c363b2092674d55228a40,10,3,1,9708,,,0,"Reproduce bug 1952941

The added unit test proves that pre-Victoria RequestSpec objects
describing a cpu pinned Instance are not migrated to a proper format
in Victoria or newer.

Related-Bug: #1952941

Change-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9
(cherry picked from commit 05e8977cb2fd660dcf6af32c5804f7548bf722a7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/827868/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/fake_request_spec.py']",2,d860615527a4f492251c363b2092674d55228a40,bug/1952941,"def fake_db_spec(spec_obj=None): if not spec_obj: spec_obj = fake_spec_obj() del spec_obj.retry 'instance_uuid': spec_obj.instance_uuid, 'spec': jsonutils.dumps(spec_obj.obj_to_primitive()),","def fake_db_spec(): req_obj = fake_spec_obj() del req_obj.retry 'instance_uuid': req_obj.instance_uuid, 'spec': jsonutils.dumps(req_obj.obj_to_primitive()),",69,5
openstack%2Ftripleo-quickstart~master~I6aedafc218ed676b41ac8dc9bf332b3338775521,openstack/tripleo-quickstart,master,I6aedafc218ed676b41ac8dc9bf332b3338775521,Reference distro for release files in centosci,MERGED,2022-02-07 17:11:14.000000000,2022-02-11 03:31:44.000000000,2022-02-11 03:29:23.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 31068}]","[{'number': 1, 'created': '2022-02-07 17:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bb02f497940880756af25d9fab6cc301314dced5', 'message': '[WIP] Add C9 release file for jenkins jobs\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521\n'}, {'number': 2, 'created': '2022-02-07 17:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f5b4965b4ccf289fd69e19ff676edbc517fb3b65', 'message': '[WIP] Add C9 release file for jenkins jobs\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521\n'}, {'number': 3, 'created': '2022-02-07 17:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4815674078b2eaede24f5dcec612b1ea7d8060eb', 'message': '[WIP] Add C9 release file for jenkins jobs\n\nChange directory structure for release files.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521\n'}, {'number': 4, 'created': '2022-02-07 18:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f514ad12856fd636de06716b8a4f52f19491032b', 'message': '[WIP] Add C9 release file for jenkins jobs\n\nChange directory structure for release files.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521\n'}, {'number': 5, 'created': '2022-02-07 20:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/84e5570e4accf5d412b9e9f4cf2b84f2b9c6488e', 'message': '[WIP] Add C9 release file for jenkins jobs\n\nChange directory structure for release files.\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/39181\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521\n'}, {'number': 6, 'created': '2022-02-08 19:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/13d2512d7805073ab1601c296fb61cf18e8f5535', 'message': '[WIP] Add C9 release file for jenkins jobs\n\nChange directory structure for release files.\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/39181\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521\n'}, {'number': 7, 'created': '2022-02-09 14:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6357c5426723151f6945413bbfe5f3df76eb7002', 'message': 'Reference distro for release files in centosci\n\nThe release files in\ntripleo-quickstart/tree/master/config/release/centosci\nhad a flat dir structure and did not allow for\nreleases of the same name on different distros.\n\nThe review adds the same structure as tripleo-ci\nand changes the quickstart scripts to use that path.\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/39181\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521\n'}, {'number': 8, 'created': '2022-02-10 21:00:10.000000000', 'files': ['ci-scripts/basic.sh', 'config/release/centosci/CentOS-8/wallaby-current-tripleo.yml', 'ci-scripts/full-deploy-baremetal.sh', 'ci-scripts/include-gate-changes.sh', 'config/release/centosci/CentOS-8/victoria-current-tripleo.yml', 'config/release/centosci/CentOS-8/master-current-tripleo.yml', 'ci-scripts/feature-scale-deploy.sh', 'config/release/centosci/CentOS-8/ussuri-current-tripleo.yml', 'config/release/centosci/CentOS-8/train-current-tripleo.yml', 'ci-scripts/upgrade.sh', 'ci-scripts/images.sh', 'config/release/centosci/CentOS-9/master-current-tripleo.yml', 'ci-scripts/full-deploy.sh', 'ci-scripts/upgrade-baremetal.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d68ddc37a90cbd4b6dfbd8527a96b29d119e4a94', 'message': 'Reference distro for release files in centosci\n\nThe release files in\ntripleo-quickstart/tree/master/config/release/centosci\nhad a flat dir structure and did not allow for\nreleases of the same name on different distros.\n\nThe review adds the same structure as tripleo-ci\nand changes the quickstart scripts to use that path.\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/39181\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521\n'}]",9,828171,d68ddc37a90cbd4b6dfbd8527a96b29d119e4a94,50,8,8,30750,,,0,"Reference distro for release files in centosci

The release files in
tripleo-quickstart/tree/master/config/release/centosci
had a flat dir structure and did not allow for
releases of the same name on different distros.

The review adds the same structure as tripleo-ci
and changes the quickstart scripts to use that path.

Depends-On: https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/39181
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/71/828171/8 && git format-patch -1 --stdout FETCH_HEAD,['config/release/centosci/master-centos-9-current-tripleo.yml'],1,bb02f497940880756af25d9fab6cc301314dced5,jenkins_c9,"release: master distro_ver: centos9 dlrn_hash_tag: current-tripleo docker_image_tag: ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" overcloud_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar"" ipa_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar"" docker_registry_host: trunk.registry.rdoproject.org docker_registry_namespace: tripleomastercentos9 overcloud_as_undercloud: true update_images: true images: - name: overcloud-full url: ""{{ overcloud_image_url }}"" type: tar - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar repo_cmd_before: | sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo rm -rf /etc/yum.repos.d/epel*; sudo dnf clean all; sudo dnf config-manager --disable ""*"" || true; # In https://review.opendev.org/c/765834 a release specific gating-repo is created. # The release specifc gating repo is copied to gating.repo for consistency across ci # The original file is backed up for logging purposes. Upgrade jobs will run with # two releases. sudo cp -f /etc/yum.repos.d/gating-repo-{{ release }}.repo /etc/yum.repos.d/gating.repo || true; sudo sed -i -e ""s/gating-repo-{{ release }}/gating-repo/"" /etc/yum.repos.d/gating.repo || true; sudo mv /etc/yum.repos.d/gating-repo-{{ release }}.repo /etc/yum.repos.d/gating-repo-{{ release }}.repo_previous || true; sudo dnf config-manager --enable gating-repo || true; if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ ansible_env['NODEPOOL_CENTOS_MIRROR']|default('http://mirror.stream.centos.org', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi {% if dlrn_hash_path_newest is defined and dlrn_hash_path_newest %} export DLRN_PATH_TAG_NEWEST=""current/{{ dlrn_hash_path_newest }}"" {% elif dlrn_hash_tag_newest is match(""^[a-zA-Z0-9]{32}$"") %} export DLRN_PATH_TAG_NEWEST=""current/{{ dlrn_hash_tag_newest[:2] }}/{{ dlrn_hash_tag_newest[2:4] }}/{{ dlrn_hash_tag_newest }}"" {% else %} export DLRN_PATH_TAG_NEWEST=""{{ dlrn_hash_tag_newest }}"" {% endif %} {% if dlrn_hash_path is defined and dlrn_hash_path %} export DLRN_PATH_TAG=""{{ promote_source }}/{{ dlrn_hash_path }}"" {% elif dlrn_hash_tag is match(""^[a-zA-Z0-9]{32}$"") %} export DLRN_PATH_TAG=""{{ promote_source }}/{{ dlrn_hash_tag[:2] }}/{{ dlrn_hash_tag[2:4] }}/{{ dlrn_hash_tag }}"" {% else %} export DLRN_PATH_TAG=""{{ dlrn_hash_tag }}"" {% endif %} rdo_dlrn=`curl --silent https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG_NEWEST}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | grep ""component/tripleo"" | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi export RDO_DLRN_REPO=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} # Save environment variables, to be used afterwards echo ""export NODEPOOL_CENTOS_MIRROR=${NODEPOOL_CENTOS_MIRROR}"" >> {{ repo_setup_env_filepath }} echo ""export NODEPOOL_RDO_PROXY=${NODEPOOL_RDO_PROXY}"" >> {{ repo_setup_env_filepath }} echo ""export RDO_DLRN_REPO=${RDO_DLRN_REPO}"" >> {{ repo_setup_env_filepath }} echo ""export DLRN_PATH_TAG=${DLRN_PATH_TAG}"" >> {{ repo_setup_env_filepath }} repos: - type: file filename: delorean.repo down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_tag }}/delorean.repo"" # name of delorean-tripleo-component-current? naming is hard - type: generic reponame: delorean-current filename: delorean-current.repo baseurl: $RDO_DLRN_REPO priority: 10 includepkgs: - ansible-role-container-registry - ansible-role-tripleo* - ansible-tripleo-ipsec - instack - instack-undercloud - openstack-tripleo-* - os-apply-config - os-collect-config - os-net-config - os-refresh-config - puppet-oslo - puppet-cinder - puppet-heat - puppet-neutron - puppet-nova - puppet-glance - puppet-horizon - puppet-ironic - puppet-keystone - puppet-openstacklib - puppet-placement - puppet-swift - puppet-tripleo - python*-tripleo* - tripleo-ansible - ansible-config_template - tripleo-operator-ansible - type: file filename: delorean-deps.repo down_url: https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/delorean-deps.repo - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/BaseOS/x86_64/os/ - type: generic reponame: quickstart-centos-appstreams filename: quickstart-centos-appstreams.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/AppStream/x86_64/os/ exclude: - libvirt* - python*libvirt* - qemu* - type: generic reponame: quickstart-centos-crb filename: quickstart-centos-crb.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/PowerTools/x86_64/os/ - type: generic reponame: quickstart-centos-highavailability filename: quickstart-centos-highavailability.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/HighAvailability/x86_64/os/ repo_cmd_after: | # Replace trunk.rdoproject.org to nodepool proxy sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean.repo sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean-master-deps.repo # note potential name change - FIX ME sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean-current.repo sudo sed -i -e ""s|priority=1|priority=20|g"" /etc/yum.repos.d/delorean.repo {% if not enable_cs9_opstools_repo|default(false)|bool %}sudo dnf config-manager --save --setopt centos9-opstools.enabled=0; {%endif %} # sudo dnf config-manager --disable rdo-qemu-ev; sudo rpm -e epel-release || true; sudo dnf remove -y rdo-release centos-release-ceph-* centos-release-openstack-* || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo; # Disable delorean repo if a similar component repo exists {% if job is defined and job.component is defined %} if [ -f ""/etc/yum.repos.d/{{ job.component }}-component.repo"" ] && sudo cat /etc/yum.repos.d/{{ job.component }}-component.repo | grep 'enabled=1'; then dnf config-manager --disable delorean-component-{{ job.component }}; fi {% endif %} sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo dnf repolist; sudo dnf module list; sudo dnf module disable container-tools:rhel8 -y; sudo dnf module enable container-tools:3.0 -y; {% if repo_setup_run_update|default(true)|bool %} sudo dnf update -y {% endif %} undercloud_rpm_dependencies: >- python3-tripleoclient tripleo-operator-ansible # baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20211020.0.x86_64.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""a42ef58319a546d038ea716dc693dda6 CentOS-Stream-GenericCloud-9-20211020.0.x86_64.qcow2"" ",,176,0
openstack%2Fnova~stable%2Fvictoria~I57982131768d87e067d1413012b96f1baa68052b,openstack/nova,stable/victoria,I57982131768d87e067d1413012b96f1baa68052b,Extend the reproducer for 1953359 and 1952915,MERGED,2021-12-07 12:24:38.000000000,2022-02-11 02:27:17.000000000,2022-02-11 02:06:04.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 33987}]","[{'number': 1, 'created': '2021-12-07 12:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fe1522280320f5c20ca66872946e2e901422e76', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction I4be429c56aaa15ee12f448978c38214e741eae63\nto cover bug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n'}, {'number': 2, 'created': '2021-12-07 12:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90048c24931e517037ceb3b15eba7bebfe943870', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction I4be429c56aaa15ee12f448978c38214e741eae63\nto cover bug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n'}, {'number': 3, 'created': '2021-12-16 08:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/143b6699c969d03edfa8872d2ca2a3fb809adae9', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)\n'}, {'number': 4, 'created': '2022-01-04 14:49:37.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8d4487465b60cd165dc76dea5a9fdb3c4dbf5740', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)\n'}]",5,820856,8d4487465b60cd165dc76dea5a9fdb3c4dbf5740,27,5,4,9708,,,0,"Extend the reproducer for 1953359 and 1952915

This patch extends the original reproduction
I4be429c56aaa15ee12f448978c38214e741eae63 to cover
bug 1952915 as well as they have a common root cause.

Change-Id: I57982131768d87e067d1413012b96f1baa68052b
Related-Bug: #1953359
Related-Bug: #1952915
(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)
(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)
(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/820856/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,3fe1522280320f5c20ca66872946e2e901422e76,bug/1953359,"from nova.compute import manager def test_resize_dedicated_policy_race_on_dest_bug_1953359(self): self.flags(cpu_dedicated_set='0-2', cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=2, cpu_threads=1) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:cpu_policy': 'dedicated', } flavor_id = self._create_flavor(vcpu=1, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 1} server = self._run_build_test(flavor_id, expected_usage=expected_usage) inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(1, len(inst.numa_topology.cells)) # assert that the pcpu 0 is used on compute1 self.assertEqual({'0': 0}, inst.numa_topology.cells[0].cpu_pinning_raw) # start another compute with the same config self.start_compute(host_info=host_info, hostname='compute2') # boot another instance but now on compute2 so that it occupies the # pcpu 0 on compute2 # NOTE(gibi): _run_build_test cannot be used here as it assumes only # compute1 exists server2 = self._create_server( flavor_id=flavor_id, host='compute2', ) inst2 = objects.Instance.get_by_uuid(self.ctxt, server2['id']) self.assertEqual(1, len(inst2.numa_topology.cells)) # assert that the pcpu 0 is used self.assertEqual( {'0': 0}, inst2.numa_topology.cells[0].cpu_pinning_raw) # migrate the first instance from compute1 to compute2 but stop # migrating at the start of finish_resize. Then start a racing periodic # update_available_resources. orig_finish_resize = manager.ComputeManager.finish_resize def fake_finish_resize(*args, **kwargs): # start a racing update_available_resource periodic self._run_periodics() # we expect it that CPU pinning fails on the destination node # as the resource_tracker will use the source node numa_topology # and that does not fit to the dest node as pcpu 0 in the dest # is already occupied. log = self.stdlog.logger.output # The resize_claim correctly calculates that the instance should be # pinned to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, ) # But the periodic fails as it tries to apply the source topology # on the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) self.assertIn( 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log, ) # now let the resize finishes return orig_finish_resize(*args, **kwargs) # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch('nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}'): with mock.patch( 'nova.compute.manager.ComputeManager.finish_resize', new=fake_finish_resize, ): post = {'migrate': None} # this is expected to succeed but logs are emitted # from the racing periodic task. See fake_finish_resize # for the asserts self.admin_api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'VERIFY_RESIZE') # as the periodic job raced and failed during the resize if we revert # the instance now then it tries to unpin its cpus from the dest host # but those was never pinned as the periodic failed. So the unpinning # will fail too. post = {'revertResize': {}} ex = self.assertRaises( client.OpenStackApiException, self.admin_api.post_server_action, server['id'], post ) # This is still bug 1953359. self.assertEqual(500, ex.response.status_code) server = self.api.get_server(server['id']) self.assertEqual('ERROR', server['status']) self.assertIn( 'nova.exception.CPUUnpinningInvalid: CPU set to unpin [1] must be ' 'a subset of pinned CPU set [0]', self.stdlog.logger.output, ) ",,118,1
openstack%2Fnova~stable%2Fvictoria~I4be429c56aaa15ee12f448978c38214e741eae63,openstack/nova,stable/victoria,I4be429c56aaa15ee12f448978c38214e741eae63,Reproduce bug 1953359,MERGED,2021-12-06 16:24:56.000000000,2022-02-11 02:23:28.000000000,2022-02-11 02:05:57.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-06 16:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e97e47887afbe64dcc142fc4c80c58b47d60f31b', 'message': 'Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit e94e7f218288a61c6bc7dcdec66463960b3a1bab)\n(cherry picked from commit 696197cf55eabf09be0eee2db27b85a4360d51e1)\n'}, {'number': 2, 'created': '2021-12-07 12:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e1ff4d54ca26aeaff431b61bbb8f8d59df610ac', 'message': 'Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic.\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit e94e7f218288a61c6bc7dcdec66463960b3a1bab)\n(cherry picked from commit 696197cf55eabf09be0eee2db27b85a4360d51e1)\n'}, {'number': 3, 'created': '2021-12-16 08:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7591825faf1a444a271a5399ba612bc26a99d63e', 'message': 'Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)\n(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)\n'}, {'number': 4, 'created': '2022-01-04 14:49:37.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e549fec76fd2015e6e21ee5138bf06142a71e71a', 'message': ""Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nFixes:\n    - Added more memory to mock 'host_info', since the default would not\n      fit the instance. Default was changed in later releases\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)\n(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)\n""}]",4,820558,e549fec76fd2015e6e21ee5138bf06142a71e71a,18,4,4,9708,,,0,"Reproduce bug 1953359

This patch adds a functional test that reproduces a race between
incoming migration and the update_available_resource periodic

Fixes:
    - Added more memory to mock 'host_info', since the default would not
      fit the instance. Default was changed in later releases

Change-Id: I4be429c56aaa15ee12f448978c38214e741eae63
Related-Bug: #1953359
(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)
(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)
(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/820558/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,e97e47887afbe64dcc142fc4c80c58b47d60f31b,bug/1953359," def test_resize_dedicated_policy_race_on_dest_bug_1953359(self): self.flags(cpu_dedicated_set='0-2', cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=2, cpu_threads=1) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:cpu_policy': 'dedicated', } flavor_id = self._create_flavor(vcpu=1, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 1} server = self._run_build_test(flavor_id, expected_usage=expected_usage) inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(1, len(inst.numa_topology.cells)) # assert that the pcpu 0 is used on compute1 self.assertEqual({'0': 0}, inst.numa_topology.cells[0].cpu_pinning_raw) # start another compute with the same config self.start_compute(host_info=host_info, hostname='compute2') # boot another instance but now on compute2 so that it occupies the # pcpu 0 on compute2 # NOTE(gibi): _run_build_test cannot be used here as it assumes only # compute1 exists server2 = self._create_server( flavor_id=flavor_id, host='compute2', ) inst2 = objects.Instance.get_by_uuid(self.ctxt, server2['id']) self.assertEqual(1, len(inst2.numa_topology.cells)) # assert that the pcpu 0 is used self.assertEqual( {'0': 0}, inst2.numa_topology.cells[0].cpu_pinning_raw) # migrate the first instance from compute1 to compute2 but stop # migrating at the start of finish_resize. Then start a racing periodic # update_available_resources. def fake_finish_resize(*args, **kwargs): # start a racing update_available_resource periodic self._run_periodics() # we expect it that CPU pinning fails on the destination node # as the resource_tracker will use the source node numa_topology # and that does not fit to the dest node as pcpu 0 in the dest # is already occupied. # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch('nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}'): with mock.patch( 'nova.compute.manager.ComputeManager.finish_resize' ) as mock_finish_resize: mock_finish_resize.side_effect = fake_finish_resize post = {'migrate': None} self.admin_api.post_server_action(server['id'], post) log = self.stdlog.logger.output # The resize_claim correctly calculates that the inst1 should be pinned # to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, ) # But the periodic fails as it tries to apply the source topology on # the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) self.assertIn( 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log, ) ",,90,1
openstack%2Ftripleo-quickstart~master~I927038d2fdecb0d37ba1305946c359a3efea142d,openstack/tripleo-quickstart,master,I927038d2fdecb0d37ba1305946c359a3efea142d,Don't enable undercloud heat in fs050,MERGED,2022-02-10 07:29:56.000000000,2022-02-11 01:50:51.000000000,2022-02-11 01:49:26.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-02-10 07:29:56.000000000', 'files': ['config/general_config/featureset050.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b9d6c939eb9afead0f5012b052f148c487b7e8b4', 'message': ""Don't enable undercloud heat in fs050\n\nThis adds the flag the undercloud upgrade job.\nundercloud_enable_heat (not ephemeral_heat) is used\nin the sanity check script (undercloud-sanity-check.sh).\n\nChange-Id: I927038d2fdecb0d37ba1305946c359a3efea142d\nCloses-Bug: #1960484\n""}]",4,828671,b9d6c939eb9afead0f5012b052f148c487b7e8b4,22,6,1,8833,,,0,"Don't enable undercloud heat in fs050

This adds the flag the undercloud upgrade job.
undercloud_enable_heat (not ephemeral_heat) is used
in the sanity check script (undercloud-sanity-check.sh).

Change-Id: I927038d2fdecb0d37ba1305946c359a3efea142d
Closes-Bug: #1960484
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/71/828671/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset050.yml'],1,b9d6c939eb9afead0f5012b052f148c487b7e8b4,," ephemeral_heat: ""{{ (release not in ['train','ussuri','victoria']) | bool }}""",,2,0
openstack%2Fneutron~stable%2Fvictoria~Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458,openstack/neutron,stable/victoria,Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458,"[OVN] Add the VIF details ""connectivity"" parameter",MERGED,2022-01-26 10:36:08.000000000,2022-02-11 01:05:11.000000000,2022-02-11 01:03:22.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-26 10:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0f65a0b91862619ac71c1455346f5634ede9b2d', 'message': '[OVN] Add the VIF details ""connectivity"" parameter\n\nIn [1], the parameter was included in the mech driver ""vif_details""\nmember, instead of adding it in each defined VIF type, ""ovs"" and\n""vhostuser"".\n\n[1]https://review.opendev.org/c/openstack/networking-ovn/+/678599\n\nCloses-Bug: #1947378\n\nChange-Id: Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458\n(cherry picked from commit b871dabdf433d2393551de6597d43774ed6cf1e4)\n'}, {'number': 2, 'created': '2022-01-27 16:14:55.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dacd5276b7c359baea4f4933ce99798b02a2cdea', 'message': '[OVN] Add the VIF details ""connectivity"" parameter\n\nIn [1], the parameter was included in the mech driver ""vif_details""\nmember, instead of adding it in each defined VIF type, ""ovs"" and\n""vhostuser"".\n\n[1]https://review.opendev.org/c/openstack/networking-ovn/+/678599\n\nNOTE: this patch differs from the master one (in ""Y"" release) due\nto LP#1959125. Because the fix for this bug implies a change in\nneutron-lib, this patch addresses the issue by leaving the\nconnectivity parameter in the OVN mech driver ""vif_details""\ndictionary, thus ""_check_drivers_connectivity"" can properly\ncheck it.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nCloses-Bug: #1947378\n\nChange-Id: Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458\n(cherry picked from commit b871dabdf433d2393551de6597d43774ed6cf1e4)\n(cherry picked from commit 6be2df7eb5969e0b5440ccd53a1fe19029870fe7)\n'}]",8,826440,dacd5276b7c359baea4f4933ce99798b02a2cdea,41,4,2,16688,,,0,"[OVN] Add the VIF details ""connectivity"" parameter

In [1], the parameter was included in the mech driver ""vif_details""
member, instead of adding it in each defined VIF type, ""ovs"" and
""vhostuser"".

[1]https://review.opendev.org/c/openstack/networking-ovn/+/678599

NOTE: this patch differs from the master one (in ""Y"" release) due
to LP#1959125. Because the fix for this bug implies a change in
neutron-lib, this patch addresses the issue by leaving the
connectivity parameter in the OVN mech driver ""vif_details""
dictionary, thus ""_check_drivers_connectivity"" can properly
check it.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Closes-Bug: #1947378

Change-Id: Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458
(cherry picked from commit b871dabdf433d2393551de6597d43774ed6cf1e4)
(cherry picked from commit 6be2df7eb5969e0b5440ccd53a1fe19029870fe7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/826440/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,c0f65a0b91862619ac71c1455346f5634ede9b2d,bug/1947378," portbindings.CAP_PORT_FILTER: self.sg_enabled, portbindings.VIF_DETAILS_CONNECTIVITY: portbindings.CONNECTIVITY_L2, portbindings.VHOST_USER_OVS_PLUG: True, portbindings.VIF_DETAILS_CONNECTIVITY: portbindings.CONNECTIVITY_L2,"," portbindings.CAP_PORT_FILTER: self.sg_enabled portbindings.VHOST_USER_OVS_PLUG: True portbindings.VIF_DETAILS_CONNECTIVITY: portbindings.CONNECTIVITY_L2,",23,15
openstack%2Fopenstack-ansible-os_neutron~stable%2Fvictoria~I033220eced95d146afe56bfbc1b84dd1a4705703,openstack/openstack-ansible-os_neutron,stable/victoria,I033220eced95d146afe56bfbc1b84dd1a4705703,Remove legacy centos-8 jobs,MERGED,2022-02-02 11:44:49.000000000,2022-02-11 00:45:55.000000000,2022-02-11 00:40:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 11:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0d3ce41eb272420cdab018110706a2e7e2067129', 'message': 'Remove legacy centos-8 jobs\n\nChange-Id: I033220eced95d146afe56bfbc1b84dd1a4705703\n'}, {'number': 2, 'created': '2022-02-08 17:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4569d524a6f07125f8f75f92b1475a4e56638a28', 'message': 'Remove legacy centos-8 jobs\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828386\nChange-Id: I033220eced95d146afe56bfbc1b84dd1a4705703\n'}, {'number': 3, 'created': '2022-02-09 07:03:26.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c9e64bd5745c1e9732d7d737f93e6b56bec4bb42', 'message': 'Remove legacy centos-8 jobs\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828386\nChange-Id: I033220eced95d146afe56bfbc1b84dd1a4705703\n'}]",2,827483,c9e64bd5745c1e9732d7d737f93e6b56bec4bb42,18,3,3,25023,,,0,"Remove legacy centos-8 jobs

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828386
Change-Id: I033220eced95d146afe56bfbc1b84dd1a4705703
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/83/827483/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,0d3ce41eb272420cdab018110706a2e7e2067129,osa/remove-centos8,,# CentOS 8 - job: name: openstack-ansible-deploy-aio_ovs_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_metal_ovs-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8,0,14
openstack%2Fmanila~master~If5bb2976bc54887c74649a00deaeaa71e296aaaa,openstack/manila,master,If5bb2976bc54887c74649a00deaeaa71e296aaaa,remove usage of six library,MERGED,2020-10-09 03:37:26.000000000,2022-02-11 00:23:32.000000000,2022-02-11 00:21:37.000000000,"[{'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 31721}, {'_account_id': 32635}, {'_account_id': 33431}]","[{'number': 1, 'created': '2020-10-09 03:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a4d86d4e9604fe819624ab18b67195c370cf7fa9', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 2, 'created': '2020-10-09 10:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/05132b389c150231ef35f04e376e21241c57adc6', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 3, 'created': '2020-10-09 10:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/632cef712b94bbe2383a785f095679327ca1860a', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 4, 'created': '2020-10-09 11:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b5b6f671ecf66d3e1a95fa85cfbbdaffe5f63237', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 5, 'created': '2020-10-10 01:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/49f6138e054e9162cb672fb5690792e8b85b5ea6', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 6, 'created': '2021-01-27 07:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/09e29fc8939bfd39bf56089e98e5fc7a6eee40d7', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 7, 'created': '2021-01-28 05:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/566dd8a926d62f0ada40b1b083852b67f15b2ad1', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 8, 'created': '2021-02-01 09:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8b34db9ff3aa4ba73e62c48bc95a9b5b20f198ee', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 9, 'created': '2021-02-01 09:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/674b94e61f2c80c974a59b57d15bdd0cf443290d', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 10, 'created': '2021-02-05 08:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7e9ee63f27999f40a79f1eb0baf46fe7adad8c90', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 11, 'created': '2021-02-24 01:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ac9413b9024008df6b448e3b460c65df4a391567', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 12, 'created': '2021-12-02 01:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b100c8b43869e1de33d68f9598515d8abcb97e12', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 13, 'created': '2021-12-02 07:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a9a139759957b7959d56d36b7112cc6fa30c9195', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 14, 'created': '2021-12-02 08:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f56485edfeee12ace37757d4f49df09c53a8ffd5', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 15, 'created': '2021-12-09 08:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cb47c38570f098360408273238e88a33d0704f0c', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}, {'number': 16, 'created': '2022-02-10 02:46:34.000000000', 'files': ['manila/share/share_types.py', 'manila/share/driver.py', 'manila/share/hook.py', 'manila/share_group/api.py', 'lower-constraints.txt', 'manila/share/access.py', 'manila/share/drivers/lvm.py', 'manila/share/drivers/service_instance.py', 'requirements.txt', 'manila/share/api.py', 'manila/volume/cinder.py', 'manila/share/drivers/helpers.py', 'manila/share/manager.py', 'manila/share/drivers/generic.py', 'manila/quota.py', 'manila/exception.py', 'manila/coordination.py', 'manila/share/drivers_private_data.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7f2b25332a2030d147083c90ab268c126575a3ce', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:share\n2:volume\nand some files.\n\nChange-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa\n'}]",59,756991,7f2b25332a2030d147083c90ab268c126575a3ce,134,12,16,30407,,,0,"remove usage of six library

remove usage of six library from the following directory:
1:share
2:volume
and some files.

Change-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa
",git fetch https://review.opendev.org/openstack/manila refs/changes/91/756991/13 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share_group/api.py', 'lower-constraints.txt', 'manila/share/drivers/lvm.py', 'manila/context.py', 'manila/share/drivers/service_instance.py', 'requirements.txt', 'manila/volume/cinder.py', 'manila/share/drivers/helpers.py', 'manila/share/drivers/generic.py', 'manila/quota.py', 'manila/exception.py', 'manila/coordination.py', 'manila/utils.py']",13,a4d86d4e9604fe819624ab18b67195c370cf7fa9,manila_remove_six," member_type = inspect.isfunction return str(cidr_to_network(cidr).netmask) raise exception.InvalidInput(str(err)) @functools.wraps(f) if isinstance(text, bytes): return text.decode('utf-8') else: return text if not isinstance(string, str):","import six if six.PY3: member_type = inspect.isfunction else: member_type = inspect.ismethod return six.text_type(cidr_to_network(cidr).netmask) raise exception.InvalidInput(six.text_type(err)) @six.wraps(f) if six.PY2: return encodeutils.safe_encode(text) else: if isinstance(text, bytes): return text.decode('utf-8') else: return text if not isinstance(string, six.string_types):",41,61
openstack%2Fwhitebox-tempest-plugin~master~I8340013dace577f415cf1b6d5e31f99ecd966964,openstack/whitebox-tempest-plugin,master,I8340013dace577f415cf1b6d5e31f99ecd966964,Remove NSM from SR-IOV Affinity Tests,MERGED,2021-10-06 16:30:14.000000000,2022-02-10 23:33:38.000000000,2022-02-10 23:33:38.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}]","[{'number': 1, 'created': '2021-10-06 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/2f9b7fe5b58cb9290dd1ee093f424a6172ab43c3', 'message': 'Remove NSM from SR-IOV Affinity Tests\n\nWith the transition away from the NovaServiceManager when working with\ncpu_dedicated_set and cpu_shared_set, [1] SR-IOV NUMA affinity tests\nneeded to be updated. NSM no longer reconfigures the cpu_dedicated_set\nfor compute hosts involved in the test. Instead tests gather current\nconfiguration of a target host and creates flavors based on the\nparameters.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nDepends-on: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/805731\n\nChange-Id: I8340013dace577f415cf1b6d5e31f99ecd966964\n'}, {'number': 2, 'created': '2022-02-03 22:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/cb12533a76dadc7178b6f96b1c9ef421a50346c4', 'message': 'Remove NSM from SR-IOV Affinity Tests\n\nWith the transition away from the NovaServiceManager when working with\ncpu_dedicated_set and cpu_shared_set, [1] SR-IOV NUMA affinity tests\nneeded to be updated. NSM no longer reconfigures the cpu_dedicated_set\nfor compute hosts involved in the test. Instead tests gather current\nconfiguration of a target host and creates flavors based on the\nparameters.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nDepends-on: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/805731\n\nChange-Id: I8340013dace577f415cf1b6d5e31f99ecd966964\n'}, {'number': 3, 'created': '2022-02-10 21:19:20.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_sriov.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/60cce7e64711f119045335512d2ef867596c1ab6', 'message': 'Remove NSM from SR-IOV Affinity Tests\n\nWith the transition away from the NovaServiceManager when working with\ncpu_dedicated_set and cpu_shared_set, [1] SR-IOV NUMA affinity tests\nneeded to be updated. NSM no longer reconfigures the cpu_dedicated_set\nfor compute hosts involved in the test. Instead tests gather current\nconfiguration of a target host and creates flavors based on the\nparameters.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d\n\nDepends-on: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/805731\n\nChange-Id: I8340013dace577f415cf1b6d5e31f99ecd966964\n'}]",24,812728,60cce7e64711f119045335512d2ef867596c1ab6,20,4,3,31033,,,0,"Remove NSM from SR-IOV Affinity Tests

With the transition away from the NovaServiceManager when working with
cpu_dedicated_set and cpu_shared_set, [1] SR-IOV NUMA affinity tests
needed to be updated. NSM no longer reconfigures the cpu_dedicated_set
for compute hosts involved in the test. Instead tests gather current
configuration of a target host and creates flavors based on the
parameters.

[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d

Depends-on: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/805731

Change-Id: I8340013dace577f415cf1b6d5e31f99ecd966964
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/28/812728/2 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_sriov.py'],1,2f9b7fe5b58cb9290dd1ee093f424a6172ab43c3,sriov_numa_update," affinity_node = str(CONF.whitebox_hardware.physnet_numa_affinity) self.host = self.list_compute_hosts()[0] host_sm = clients.NovaServiceManager(self.host, 'nova-compute', self.os_admin.services_client) self.cpu_dedicated_set = host_sm.get_cpu_dedicated_set() numa_nodes = list(CONF.whitebox_hardware.cpu_topology.keys()) # Gather PCPU ids from the NUMA Node that has affinity with the # physnet. With the list of ids with affinity determine which of them # are allocated the cpu_dedicated_set for the host self.dedicated_cpus_with_affinity = \ self._get_dedicated_cpus_from_numa_node(affinity_node) if len(self.dedicated_cpus_with_affinity) == 0: raise self.skipException( 'Need at least one dedicated PCPU that has affinity ' 'with the physnet in order to test scenario') # Iterate over NUMA nodes that do not have affinity with the SR-IOV # physnet, getting the PCPU ids in the process. From the list of ids # determine which PCPUs are allocated to the cpu_dedicated_set. If the # NUMA has PCPUs assigned to the dedicated set, stop iteration and use # the ids for the test. numa_nodes_without_affinity = [node for node in numa_nodes if node != affinity_node] second_numa_found = False for node in numa_nodes_without_affinity: self.dedicated_cpus_without_affinity = \ self._get_dedicated_cpus_from_numa_node(node) if len(self.dedicated_cpus_without_affinity) > 0: second_numa_found = True break if not second_numa_found: raise self.skipException( 'Need at least one other NUMA Node with a dedicated PCPU that ' 'does not have affinity with the physnet in order to test ' 'scenario') def _get_dedicated_cpus_from_numa_node(self, numa_node): cpu_ids = set(CONF.whitebox_hardware.cpu_topology.get(numa_node)) dedicated_cpus = self.cpu_dedicated_set.intersection(cpu_ids) return dedicated_cpus 1. Pick a single compute host and gather its cpu_dedicated_set configuration. Determine which of these dedicated PCPU's have affinity and do not have affinity with the SRIOV physnet. 2. Create flavors with preferred NUMA policy and hw:cpu_policy=dedicated. The first flavor vcpu size will be equal to the number of dedicated PCPUs of the NUMA Node with affinity to the physnet. This should result in any deployed instance using this flavor 'filling' the NUMA Node completely. The second flavor will have a vcpu size equal the PCPUs of another NUMA node without affinity 3. Launch two instances that incorporate the preferred policy along flavor_a = self.create_flavor( vcpus=len(self.dedicated_cpus_with_affinity), extra_specs=self.preferred ) flavor_b = self.create_flavor( vcpus=len(self.dedicated_cpus_without_affinity), extra_specs=self.preferred ) server_a = self.create_test_server( flavor=flavor_a['id'], networks=[{'port': self.port_a['port']['id']}], clients=self.os_admin, host=self.host ) server_b = self.create_test_server( flavor=flavor_b['id'], networks=[{'port': self.port_b['port']['id']}], clients=self.os_admin, host=self.host ) cpu_pins_a = self.get_pinning_as_set(server_a['id']) cpu_pins_b = self.get_pinning_as_set(server_b['id']) for cpu_pin_values, server in zip([cpu_pins_a, cpu_pins_b], [server_a, server_b]): self.assertTrue( cpu_pin_values.issubset(self.cpu_dedicated_set), 'Expected ' 'pCPUs for server %s to be subset of %s but instead are %s' % (server['id'], self.cpu_dedicated_set, cpu_pin_values)) self.assertTrue(cpu_pins_a.isdisjoint(cpu_pins_b), 'Cpus %s for server A %s are not disjointed with ' 'Cpus %s of server B %s' % (cpu_pins_a, server_a['id'], cpu_pins_b, server_b['id'])) # Validate servers A and B have correct sr-iov interface # information in the xml. Its type and vlan should be accurate. net_vlan = \ CONF.network_feature_enabled.provider_net_base_segmentation_id for server, port in zip([server_a, server_b], [self.port_a, self.port_b]): interface_xml_element = self._get_xml_interface_device( server['id'], port['port']['id'] self._validate_port_xml_vlan_tag( interface_xml_element, net_vlan) self.delete_server(server_a['id']) self.delete_server(server_b['id']) 1. Pick a single compute host and gather its cpu_dedicated_set configuration. Determine which of these dedicated PCPU's have affinity and do not have affinity with the SRIOV physnet. 2. Create flavors with required NUMA policy and hw:cpu_policy=dedicated. THe first flavor vcpu size will be equal to the number of dedicated PCPUs of the NUMA Node with affinity to the 'filling' the NUMA Node completely. The second flavor will have a vcpu size equal the PCPUs of another NUMA node without affinity flavor_a = self.create_flavor( vcpus=len(self.dedicated_cpus_with_affinity), extra_specs=self.required) flavor_b = self.create_flavor( vcpus=len(self.dedicated_cpus_without_affinity), extra_specs=self.required) server_a = self.create_test_server( flavor=flavor_a['id'], networks=[{'port': self.port_a['port']['id']}], clients=self.os_admin, host=self.host ) # With server A 'filling' pCPUs from the NUMA Node with SR-IOV # NIC affinity, and with NUMA policy set to required, creation # of server B should fail self.assertRaises(tempest_exc.BuildErrorException, self.create_test_server, flavor=flavor_b['id'], networks=[{'port': self.port_b['port']['id']}], clients=self.os_admin, host=self.host) # Validate server A has correct sr-iov interface information # in the xml. Its type and vlan should be accurate. net_vlan = \ CONF.network_feature_enabled.provider_net_base_segmentation_id interface_xml_element = self._get_xml_interface_device( server_a['id'], self.port_a['port']['id'] ) self._validate_port_xml_vlan_tag(interface_xml_element, net_vlan) # Compare the cpu pin set from server A with the expected PCPU's # from the NUMA Node with affinity to SR-IOV NIC that was gathered # earlier from from cpu_topology cpu_pins_a = self.get_pinning_as_set(server_a['id']) self.assertTrue( cpu_pins_a.issubset(self.dedicated_cpus_with_affinity), 'Pin set value %s is not a subset of %s' % (cpu_pins_a, self.dedicated_cpus_with_affinity) ) self.delete_server(server_a['id'])","from whitebox_tempest_plugin import hardware 1. Create a list of pCPUs based on the PCPUs of two NUMA Nodes, one of the nodes should have affinity with the SR-IOV physnet 2. Create a flavor with the preferred NUMA policy and hw:cpu_policy=dedicated. The flavor vcpu size will be equal to the number of pCPUs of the NUMA Node with affinity to the physnet. This should result in any deployed instances using this flavor 'filling' its respective NUMA Node completely. 3. Launch two instances that incorporate the preferred policy and along host = self.list_compute_hosts()[0] # Gather all NUMA nodes from the provided cpu_topology in tempest.conf. numa_nodes = CONF.whitebox_hardware.cpu_topology.keys() # Get the NUMA Node that has affinity with the sriov physnet affinity_node = str(CONF.whitebox_hardware.physnet_numa_affinity) # Get a second node that does not have affinity with the physnet second_node = list(filter(lambda x: x != affinity_node, numa_nodes))[0] # Create a cpu_dedicated_set comprised of the PCPU's of both NUMA Nodes cpu_dedicated_set = \ CONF.whitebox_hardware.cpu_topology[affinity_node] + \ CONF.whitebox_hardware.cpu_topology[second_node] cpu_dedicated_str = hardware.format_cpu_spec(cpu_dedicated_set) host_sm = clients.NovaServiceManager(host, 'nova-compute', self.os_admin.services_client) with host_sm.config_options(('compute', 'cpu_dedicated_set', cpu_dedicated_str)): flavor = self.create_flavor( vcpus=len(CONF.whitebox_hardware.cpu_topology['0']), extra_specs=self.preferred server_a = self.create_test_server( flavor=flavor['id'], networks=[{'port': self.port_a['port']['id']}], clients=self.os_admin, host=host ) server_b = self.create_test_server( flavor=flavor['id'], networks=[{'port': self.port_b['port']['id']}], clients=self.os_admin, host=host ) cpu_pins_a = self.get_pinning_as_set(server_a['id']) cpu_pins_b = self.get_pinning_as_set(server_b['id']) for cpu_pin_values, server in zip([cpu_pins_a, cpu_pins_b], [server_a, server_b]): self.assertTrue(cpu_pin_values.issubset( set(cpu_dedicated_set)), 'Expected pCPUs for server %s ' 'to be subset of %s but instead are %s' % (server['id'], cpu_dedicated_set, cpu_pin_values)) self.assertTrue(cpu_pins_a.isdisjoint(cpu_pins_b), 'Cpus %s for server A %s are not disjointed with ' 'Cpus %s of server B %s' % (cpu_pins_a, server_a['id'], cpu_pins_b, server_b['id'])) # Validate servers A and B have correct sr-iov interface # information in the xml. Its type and vlan should be accurate. net_vlan = \ CONF.network_feature_enabled.provider_net_base_segmentation_id for server, port in zip([server_a, server_b], [self.port_a, self.port_b]): interface_xml_element = self._get_xml_interface_device( server['id'], port['port']['id'] ) self._validate_port_xml_vlan_tag( interface_xml_element, net_vlan) # NOTE(jparker) At this point we have to manually delete both # servers before the config_option() context manager reverts # any config changes it made. This is Nova bug 1836945. self.delete_server(server_a['id']) self.delete_server(server_b['id']) 1. Create a cpu_dedicated_set based on just the PCPU's of the NUMA Node with affinity to the test's assocaiated SR-IOV physnet 2. Create a flavor with required NUMA policy and hw:cpu_policy=dedicated. The flavor vcpu size will be equal to the number of pCPUs of the NUMA Node with affinity to the 'filling' the NUMA Node completely. host = self.list_compute_hosts()[0] cpu_dedicated_set = CONF.whitebox_hardware.cpu_topology[ str(CONF.whitebox_hardware.physnet_numa_affinity)] cpu_dedicated_str = hardware.format_cpu_spec(cpu_dedicated_set) host_sm = clients.NovaServiceManager(host, 'nova-compute', self.os_admin.services_client) with host_sm.config_options(('compute', 'cpu_dedicated_set', cpu_dedicated_str)): flavor = self.create_flavor(vcpus=len(cpu_dedicated_set), extra_specs=self.required) server_a = self.create_test_server( flavor=flavor['id'], networks=[{'port': self.port_a['port']['id']}], clients=self.os_admin, host=host ) # With server A 'filling' pCPUs from the NUMA Node with SR-IOV # NIC affinity, and with NUMA policy set to required, creation # of server B should fail self.assertRaises(tempest_exc.BuildErrorException, self.create_test_server, flavor=flavor['id'], networks=[{'port': self.port_b['port']['id']}], clients=self.os_admin, host=host) # Validate server A has correct sr-iov interface information # in the xml. Its type and vlan should be accurate. net_vlan = \ CONF.network_feature_enabled.provider_net_base_segmentation_id interface_xml_element = self._get_xml_interface_device( server_a['id'], self.port_a['port']['id'] ) self._validate_port_xml_vlan_tag(interface_xml_element, net_vlan) # Compare the cpu pin set from server A with the expected PCPU's # from the NUMA Node with affinity to SR-IOV NIC that was gathered # earlier from from cpu_topology cpu_pins_a = self.get_pinning_as_set(server_a['id']) self.assertEqual(cpu_pins_a, set(cpu_dedicated_set), 'Server %s pCPUs expected to be %s but ' 'instead are %s' % (server_a['id'], cpu_dedicated_set, cpu_pins_a)) # NOTE(jparker) At this point we have to manually delete the # server before the config_option() context manager reverts # any config changes it made. This is Nova bug 1836945. self.delete_server(server_a['id'])",150,132
openstack%2Fkolla~master~I79e78dca550262fc86b092a036f9ea96b214ab48,openstack/kolla,master,I79e78dca550262fc86b092a036f9ea96b214ab48,ironic: Fix UEFI & iPXE bootloader filenames,MERGED,2022-02-10 11:11:01.000000000,2022-02-10 23:26:32.000000000,2022-02-10 20:47:28.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-10 11:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/af479f7bd2ef5d3ae6770c8e2a014c81a78332b2', 'message': 'ironic: Fix UEFI & iPXE bootloader filenames\n\nWhen using Ironic with UEFI boot mode and iPXE booting, nodes will\nattempt to chainload iPXE using a Network Boot Program (NBP). This is\nconfigured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default\nsince Xena is snponly.efi. In Wallaby and earlier releases, the default\nwas ipxe.efi. These files need to be available in the /tftpboot\ndirectory of the ironic-pxe image.\n\nThe current default of snponly.efi was not present for any supported\ndistros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which\nappends the architecture to the filename (e.g. ipxe-x86_64.efi).\n\nThis change ensures that both ipxe.efi and snponly.efi exist in\n/tftpboot for all supported distributions, ensuring that both the\ncurrent and previous Ironic defaults should work. Where these files have\ndifferent names, we use symlinks to allow for any deployers overriding\nthe filenames in configuration.\n\nCloses-Bug: #1959203\n\nChange-Id: I79e78dca550262fc86b092a036f9ea96b214ab48\n'}, {'number': 2, 'created': '2022-02-10 12:44:22.000000000', 'files': ['docker/ironic/ironic-pxe/extend_start.sh', 'releasenotes/notes/bug-1959203-1bb695e052248d78.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/909710d739f1d7d4c2ef0865ebc9338f260aaa5b', 'message': 'ironic: Fix UEFI & iPXE bootloader filenames\n\nWhen using Ironic with UEFI boot mode and iPXE booting, nodes will\nattempt to chainload iPXE using a Network Boot Program (NBP). This is\nconfigured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default\nsince Xena is snponly.efi. In Wallaby and earlier releases, the default\nwas ipxe.efi. These files need to be available in the /tftpboot\ndirectory of the ironic-pxe image.\n\nThe current default of snponly.efi was not present for any supported\ndistros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which\nappends the architecture to the filename (e.g. ipxe-x86_64.efi).\n\nThis change ensures that both ipxe.efi and snponly.efi exist in\n/tftpboot for all supported distributions, ensuring that both the\ncurrent and previous Ironic defaults should work. Where these files have\ndifferent names, we use symlinks to allow for any deployers overriding\nthe filenames in configuration.\n\nCloses-Bug: #1959203\n\nChange-Id: I79e78dca550262fc86b092a036f9ea96b214ab48\n'}]",13,828694,909710d739f1d7d4c2ef0865ebc9338f260aaa5b,29,3,2,14826,,,0,"ironic: Fix UEFI & iPXE bootloader filenames

When using Ironic with UEFI boot mode and iPXE booting, nodes will
attempt to chainload iPXE using a Network Boot Program (NBP). This is
configured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default
since Xena is snponly.efi. In Wallaby and earlier releases, the default
was ipxe.efi. These files need to be available in the /tftpboot
directory of the ironic-pxe image.

The current default of snponly.efi was not present for any supported
distros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which
appends the architecture to the filename (e.g. ipxe-x86_64.efi).

This change ensures that both ipxe.efi and snponly.efi exist in
/tftpboot for all supported distributions, ensuring that both the
current and previous Ironic defaults should work. Where these files have
different names, we use symlinks to allow for any deployers overriding
the filenames in configuration.

Closes-Bug: #1959203

Change-Id: I79e78dca550262fc86b092a036f9ea96b214ab48
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/828694/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ironic/ironic-pxe/extend_start.sh', 'releasenotes/notes/bug-1959203-1bb695e052248d78.yaml']",2,af479f7bd2ef5d3ae6770c8e2a014c81a78332b2,,"--- fixes: - | Fixes an issue with Ironic deployments using UEFI and iPXE, where the default UEFI iPXE bootloader in Ironic was not available in the TFTP server. This affects all Kolla releases on CentOS, and Xena on Debian/Ubuntu. `LP#1959203 <https://bugs.launchpad.net/kolla/+bug/1959203>`__ ",,21,0
openstack%2Fcharm-ceph-radosgw~master~I2d1eaa2d0d69bfc5d72d8350a7f94f6a76698644,openstack/charm-ceph-radosgw,master,I2d1eaa2d0d69bfc5d72d8350a7f94f6a76698644,Fix OSCI voting on xena,MERGED,2022-02-10 16:30:04.000000000,2022-02-10 22:30:31.000000000,2022-02-10 22:30:31.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 16:30:04.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/043c4fd79570247a165e3b077d416a8f80089fd3', 'message': 'Fix OSCI voting on xena\n\nChange-Id: I2d1eaa2d0d69bfc5d72d8350a7f94f6a76698644\n'}]",1,828741,043c4fd79570247a165e3b077d416a8f80089fd3,9,3,1,20634,,,0,"Fix OSCI voting on xena

Change-Id: I2d1eaa2d0d69bfc5d72d8350a7f94f6a76698644
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/41/828741/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,043c4fd79570247a165e3b077d416a8f80089fd3,,- job: name: vault-focal-xena_rgw tox_extra_args: vault:focal-xena - job: name: vault-focal-xena-namespaced parent: func-target dependencies: - osci-lint - tox-py38 - tox-py39 vars: tox_extra_args: vault:focal-xena-namespaced - job: name: vault-jammy-yoga_rgw parent: func-target dependencies: - vault-focal-xena_rgw - vault-focal-xena-namespaced vars: - vault-focal-xena_rgw - vault-focal-xena-namespaced - vault-focal-xena_rgw - vault-focal-xena-namespaced - vault-focal-xena_rgw - vault-focal-xena-namespaced - vault-focal-xena_rgw - vault-focal-xena-namespaced - vault-focal-xena_rgw - vault-focal-xena-namespaced, - job: name: vault-jammy-yoga_rgw - vault-jammy-yoga_rgw - vault-jammy-yoga_rgw - vault-jammy-yoga_rgw - vault-jammy-yoga_rgw - vault-jammy-yoga_rgw- job: name: vault-focal-xena_rgw parent: func-target dependencies: - vault-jammy-yoga_rgw vars: tox_extra_args: vault:focal-xena - job: name: vault-focal-xena-namespaced parent: func-target dependencies: - vault-jammy-yoga_rgw vars: tox_extra_args: vault:focal-xena-namespaced,29,21
openstack%2Fproject-config~master~Ie14ea374808e5518588925de3a476f0bc6ff2ccf,openstack/project-config,master,Ie14ea374808e5518588925de3a476f0bc6ff2ccf,Remove Fedora 34,MERGED,2021-11-08 04:20:41.000000000,2022-02-10 21:58:47.000000000,2022-02-10 21:51:38.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-08 04:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/71fa162e0ef5dc4eab7c6396c3bce67969ced8e7', 'message': 'Remove Fedora 34\n\nChange-Id: Ie14ea374808e5518588925de3a476f0bc6ff2ccf\n'}, {'number': 2, 'created': '2021-11-18 09:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ec0b297909650bf280fe78f31fe3cbe80a80f8d8', 'message': 'Remove Fedora 34\n\nChange-Id: Ie14ea374808e5518588925de3a476f0bc6ff2ccf\n'}, {'number': 3, 'created': '2022-02-03 02:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/61993a7fb73caed48f4844bb7cd99fcdb74ec63d', 'message': 'Remove Fedora 34\n\nThe dependent changes should be the last references to Fedora 34 nodes\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827576\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827578\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/827577\n\nChange-Id: Ie14ea374808e5518588925de3a476f0bc6ff2ccf\n'}, {'number': 4, 'created': '2022-02-10 20:56:05.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dd58c496f8a8609b3d77898ed508e620db2b3d19', 'message': 'Remove Fedora 34\n\nThe dependent changes should be the last references to Fedora 34 nodes\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827576\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827578\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/827577\n\nChange-Id: Ie14ea374808e5518588925de3a476f0bc6ff2ccf\n'}]",5,816933,dd58c496f8a8609b3d77898ed508e620db2b3d19,21,4,4,7118,,,0,"Remove Fedora 34

The dependent changes should be the last references to Fedora 34 nodes

Depends-On: https://review.opendev.org/c/openstack/devstack/+/827576
Depends-On: https://review.opendev.org/c/openstack/devstack/+/827578
Depends-On: https://review.opendev.org/c/zuul/nodepool/+/827577

Change-Id: Ie14ea374808e5518588925de3a476f0bc6ff2ccf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/33/816933/2 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml']",5,71fa162e0ef5dc4eab7c6396c3bce67969ced8e7,f35,, - name: fedora-34 - name: fedora-34 config-drive: true - name: fedora-34 min-ram: 8000 flavor-name: 'A1.8' diskimage: fedora-34 key-name: infra-root-keys-2020-05-13 - name: fedora-34 min-ram: 8000 flavor-name: v2-highcpu-8 boot-from-volume: true volume-size: 80 diskimage: fedora-34 key-name: infra-root-keys-2020-05-13 - name: fedora-34,0,65
openstack%2Fcharm-vault~master~I178660512a89752bf975c05ea2ca02d4cf385418,openstack/charm-vault,master,I178660512a89752bf975c05ea2ca02d4cf385418,doc update,ABANDONED,2022-02-10 21:38:03.000000000,2022-02-10 21:56:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-10 21:38:03.000000000', 'files': ['src/actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/6c9087c401733b5814cc16f867600d9f283e39e2', 'message': 'doc update\n\nChange-Id: I178660512a89752bf975c05ea2ca02d4cf385418\n'}]",0,828794,6c9087c401733b5814cc16f867600d9f283e39e2,3,1,1,27676,,,0,"doc update

Change-Id: I178660512a89752bf975c05ea2ca02d4cf385418
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/94/828794/1 && git format-patch -1 --stdout FETCH_HEAD,['src/actions.yaml'],1,6c9087c401733b5814cc16f867600d9f283e39e2,bug/1948837, Specifies the maximum Time To Live for generated certificates, Specifies the maximum Time To Live for generated certificates.,1,1
openstack%2Ftripleo-common~stable%2Fwallaby~I5049e88872bfe3aa8072804cb67e8f7178951d9d,openstack/tripleo-common,stable/wallaby,I5049e88872bfe3aa8072804cb67e8f7178951d9d,Fix reference to undefined variables when heat-config times out,MERGED,2022-01-21 14:47:56.000000000,2022-02-10 21:28:57.000000000,2022-02-10 21:22:18.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-21 14:47:56.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/64e0dc7fdf69bb4363764efcf4536f938803c76e', 'message': ""Fix reference to undefined variables when heat-config times out\n\nWhen an async task times out, it doesn't register its result and\nthe subsequent task which refers to the result can't look up details\nlike stderr output or return code.\n\nThis change defines the default values to fix reference to unefined\nvariables.\n\nCloses-Bug: #1958471\nChange-Id: I5049e88872bfe3aa8072804cb67e8f7178951d9d\n(cherry picked from commit 2cd1fbd87bfde7ec318356178d1ca4c68859e916)\n""}]",5,825743,64e0dc7fdf69bb4363764efcf4536f938803c76e,27,3,1,9816,,,0,"Fix reference to undefined variables when heat-config times out

When an async task times out, it doesn't register its result and
the subsequent task which refers to the result can't look up details
like stderr output or return code.

This change defines the default values to fix reference to unefined
variables.

Closes-Bug: #1958471
Change-Id: I5049e88872bfe3aa8072804cb67e8f7178951d9d
(cherry picked from commit 2cd1fbd87bfde7ec318356178d1ca4c68859e916)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/825743/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,64e0dc7fdf69bb4363764efcf4536f938803c76e,bug/1958471," - stderr: ""{{ deployment_async_result.stderr_lines | default(['Timed out']) }}"" - status_code: ""{{ deployment_async_result.rc | default(-1) }}"" failed_when: deployment_async_result.rc | default(-1) != 0"," - stderr: ""{{ deployment_async_result.stderr.split('\n') }}"" - status_code: ""{{ deployment_async_result.rc }}"" failed_when: deployment_async_result.rc != 0",3,3
openstack%2Ftripleo-validations~master~I77e0c4568ecca2638aaa880369b9dec0eb5d1599,openstack/tripleo-validations,master,I77e0c4568ecca2638aaa880369b9dec0eb5d1599,oslo_config_validator: Defaulting config_invalidations to empty list,MERGED,2022-02-03 17:43:49.000000000,2022-02-10 21:28:22.000000000,2022-02-10 21:22:04.000000000,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-02-03 17:43:49.000000000', 'files': ['roles/oslo_config_validator/tasks/invalidate_config.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ebcab3dbe93f80749de02f92d0bf1a57b18e45f8', 'message': ""oslo_config_validator: Defaulting config_invalidations to empty list\n\nWhen a node doesn't have anything to validate, the config invalidation\nfails, reporting a false negative.\n\nRelated: https://bugzilla.redhat.com/2047328\nChange-Id: I77e0c4568ecca2638aaa880369b9dec0eb5d1599\n""}]",0,827750,ebcab3dbe93f80749de02f92d0bf1a57b18e45f8,9,5,1,27419,,,0,"oslo_config_validator: Defaulting config_invalidations to empty list

When a node doesn't have anything to validate, the config invalidation
fails, reporting a false negative.

Related: https://bugzilla.redhat.com/2047328
Change-Id: I77e0c4568ecca2638aaa880369b9dec0eb5d1599
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/50/827750/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oslo_config_validator/tasks/invalidate_config.yml'],1,ebcab3dbe93f80749de02f92d0bf1a57b18e45f8,," loop: ""{{ config_invalidations | default([]) | subelements('invalid_settings') }}"""," loop: ""{{ config_invalidations | subelements('invalid_settings') }}""",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id77662e9dd466ec8609354c2dbeee8592f599e72,openstack/tripleo-heat-templates,stable/wallaby,Id77662e9dd466ec8609354c2dbeee8592f599e72,Add IronicNeutronAgentReportInterval parameter,MERGED,2022-02-09 14:20:03.000000000,2022-02-10 21:27:47.000000000,2022-02-10 21:21:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-09 14:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1677043f81268bbcde203dd76459f06440223256', 'message': 'Add IronicNeutronAgentReportInterval parameter\n\nAdd IronicNeutronAgentReportInterval with a default of\n30 seconds.\n\nPreviously the ironic-neutron-agent used the global report\ninterval in neutron. The global interval was increased to\n300s in change: Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f.\n\nWhile the 300s interval may make sense for other agents,\nthe ironic-neutron-agent can keep reporting at 30s, the\nprevious default.\n\nCloses-Bug: #1940838\nDepends-On: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\nChange-Id: Id77662e9dd466ec8609354c2dbeee8592f599e72\n(cherry picked from commit 9574cd4d0f65fd6f7a5a6e04379f8bc4fd6c020c)\n'}, {'number': 2, 'created': '2022-02-09 14:43:26.000000000', 'files': ['deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'releasenotes/notes/networking-baremetal-report-interval-d08a44a147a1846e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36be5cecad5afb15f2598fd19798e7797453d814', 'message': 'Add IronicNeutronAgentReportInterval parameter\n\nAdd IronicNeutronAgentReportInterval with a default of\n30 seconds.\n\nPreviously the ironic-neutron-agent used the global report\ninterval in neutron. The global interval was increased to\n300s in change: Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f.\n\nWhile the 300s interval may make sense for other agents,\nthe ironic-neutron-agent can keep reporting at 30s, the\nprevious default.\n\nConflicts:\n  deployment/ironic/ironic-neutron-agent-container-puppet.yaml\n\nCloses-Bug: #1940838\nDepends-On: https://review.opendev.org/828409\nChange-Id: Id77662e9dd466ec8609354c2dbeee8592f599e72\n(cherry picked from commit 9574cd4d0f65fd6f7a5a6e04379f8bc4fd6c020c)\n'}]",0,828408,36be5cecad5afb15f2598fd19798e7797453d814,14,4,2,24245,,,0,"Add IronicNeutronAgentReportInterval parameter

Add IronicNeutronAgentReportInterval with a default of
30 seconds.

Previously the ironic-neutron-agent used the global report
interval in neutron. The global interval was increased to
300s in change: Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f.

While the 300s interval may make sense for other agents,
the ironic-neutron-agent can keep reporting at 30s, the
previous default.

Conflicts:
  deployment/ironic/ironic-neutron-agent-container-puppet.yaml

Closes-Bug: #1940838
Depends-On: https://review.opendev.org/828409
Change-Id: Id77662e9dd466ec8609354c2dbeee8592f599e72
(cherry picked from commit 9574cd4d0f65fd6f7a5a6e04379f8bc4fd6c020c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/828408/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'releasenotes/notes/networking-baremetal-report-interval-d08a44a147a1846e.yaml']",2,1677043f81268bbcde203dd76459f06440223256,bug/1940838-stable/wallaby,--- fixes: - | The neutron agent report interval was recently changed from the 30s default to 300s. This caused issues whith timeouts when providing baremetal nodes. A new parameter IronicNeutronAgentReportInterval has been added with a default of 30s so that the report interval specifically for the networking baremetal agent is restored. See bug: `1940838 <https://bugs.launchpad.net/tripleo/+bug/1940838>`_. ,,44,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,openstack/tripleo-heat-templates,stable/wallaby,I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,Manage octavia flavor in tripleo-ansible,MERGED,2022-01-24 14:27:23.000000000,2022-02-10 21:22:13.000000000,2022-02-10 21:22:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-24 14:27:23.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7cfe7813b63a8882e41413ab70d510f62f1df190', 'message': 'Manage octavia flavor in tripleo-ansible\n\nMove the creation of the nova flavor for Octavia in tripleo-ansible, it\nallows us to specifiy the type of the API endpoint we want to use\n(internal endpoint).\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826088\n\nChange-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4\n(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)\n'}]",2,826094,7cfe7813b63a8882e41413ab70d510f62f1df190,17,3,1,29244,,,0,"Manage octavia flavor in tripleo-ansible

Move the creation of the nova flavor for Octavia in tripleo-ansible, it
allows us to specifiy the type of the API endpoint we want to use
(internal endpoint).

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826088

Change-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4
(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/826094/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml']",3,7cfe7813b63a8882e41413ab70d510f62f1df190,,, OctaviaFlavorProperties: default: ram : '1024' disk : '3' vcpus: '1' description: Dictionary describing the nova flavor for amphora. type: json OctaviaManageNovaFlavor: default: true description: Configure the nova flavor for the amphora. type: boolean octavia::worker::manage_nova_flavor: {get_param: OctaviaManageNovaFlavor} octavia::worker::nova_flavor_config: {get_param: OctaviaFlavorProperties} container_puppet_tasks: step_5: config_volume: octavia puppet_tags: nova_flavor step_config: | include ::octavia::worker config_image: {get_param: ContainerOctaviaConfigImage} volumes: - /var/lib/config-data/puppet-generated/nova/etc/nova:/etc/nova:ro,20,22
openstack%2Ftripleo-upgrade~stable%2Ftrain~I80002c2e368c13f1fe85958c551113380021a836,openstack/tripleo-upgrade,stable/train,I80002c2e368c13f1fe85958c551113380021a836,[train-only][ci] Increase scope for actor removal,MERGED,2022-02-10 11:46:41.000000000,2022-02-10 21:22:10.000000000,2022-02-10 21:22:10.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-10 11:46:41.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9c164ca5c520f6d382cb841cb9942db733e3a822', 'message': ""[train-only][ci] Increase scope for actor removal\n\nLeapp moved actors from el7toel8 to common. As we don't know what actors\nwill be moved to common (as they are used for rhel7>8 and rhel8>9\nupgrade) so this patch increases the scope where to look for actor to\nremove it.\n\nCloses-Bug: rhbz#2046211\n\nChange-Id: I80002c2e368c13f1fe85958c551113380021a836\n""}]",0,828699,9c164ca5c520f6d382cb841cb9942db733e3a822,7,5,1,6816,,,0,"[train-only][ci] Increase scope for actor removal

Leapp moved actors from el7toel8 to common. As we don't know what actors
will be moved to common (as they are used for rhel7>8 and rhel8>9
upgrade) so this patch increases the scope where to look for actor to
remove it.

Closes-Bug: rhbz#2046211

Change-Id: I80002c2e368c13f1fe85958c551113380021a836
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/99/828699/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,9c164ca5c520f6d382cb841cb9942db733e3a822,,"- name: Remove leapp actors to prevent them inhibiting the upgrade command: cmd: find /usr/share/leapp-repository/repositories/ -name {{ item }} -type d -print -exec rm -rf ""{}"" +",- name: Remove leapp actors file: path: /usr/share/leapp-repository/repositories/system_upgrade/common/actors/{{ item }} state: absent,3,4
openstack%2Ftripleo-validations~stable%2Fwallaby~I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa,openstack/tripleo-validations,stable/wallaby,I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa,oslo-config-validator: container run task should never fail,MERGED,2022-02-07 16:41:01.000000000,2022-02-10 21:22:01.000000000,2022-02-10 21:22:01.000000000,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-02-07 16:41:01.000000000', 'files': ['roles/oslo_config_validator/tasks/container_run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a758a74ef3a0730a1de91b4890f93a75ddf089c7', 'message': ""oslo-config-validator: container run task should never fail\n\nSince it's calling the collection, there's no rc to check against and if\nthere's no validation error, then it's not an issue.\n\nChange-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa\n(cherry picked from commit 3043ad836ba18dbf985c913814791741c61ae0e2)\n""}]",0,828137,a758a74ef3a0730a1de91b4890f93a75ddf089c7,8,5,1,27419,,,0,"oslo-config-validator: container run task should never fail

Since it's calling the collection, there's no rc to check against and if
there's no validation error, then it's not an issue.

Change-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa
(cherry picked from commit 3043ad836ba18dbf985c913814791741c61ae0e2)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/37/828137/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oslo_config_validator/tasks/container_run.yml'],1,a758a74ef3a0730a1de91b4890f93a75ddf089c7,, - false, - not container_run.stderr_lines | default([]) | count - not container_run.stdout_lines | default([]) | count,1,2
openstack%2Fdiskimage-builder~master~Ia99687815667c3cf5e82cf21d841d3b1008b8fa9,openstack/diskimage-builder,master,Ia99687815667c3cf5e82cf21d841d3b1008b8fa9,Futher bootloader cleanups,MERGED,2021-05-12 01:35:38.000000000,2022-02-10 21:08:14.000000000,2022-02-10 21:02:07.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 01:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05f4e75e0e4a8f842dd9d3f2511fadab74fdb2ea', 'message': 'Futher bootloader cleanups\n\nGRUB_OPTS has never been documented as externally available, and is\nnot used.  Assume it\'s value to simplify the code.\n\nMove the grub version check separately, as we only support grub2\n\nRemove references to buliding i386 images.  I don\'t image it works in\nany way.\n\nRemove ci.md, which is no longer relevant.\n\nRefactor the test for ""building BIOS image on EFI system"" consiberably\nafter these changes.\n\nChange-Id: Ia99687815667c3cf5e82cf21d841d3b1008b8fa9\n'}, {'number': 2, 'created': '2021-05-12 05:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/02039e8901fef2bbe058798e3ab516f0c470478f', 'message': 'Futher bootloader cleanups\n\nGRUB_OPTS has never been documented as externally available, and is\nnot used.  Assume it\'s value to simplify the code.\n\nMove the grub version check separately, as we only support grub2\n\nRemove references to buliding i386 images.  I don\'t image it works in\nany way.\n\nRemove ci.md, which is no longer relevant.\n\nRefactor the test for ""building BIOS image on EFI system"" consiberably\nafter these changes.\n\nChange-Id: Ia99687815667c3cf5e82cf21d841d3b1008b8fa9\n'}, {'number': 3, 'created': '2021-05-13 00:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/31e940f9e77e81d4b20cc7265d3719ad1b9a3c32', 'message': 'Futher bootloader cleanups\n\nGRUB_OPTS has never been documented as externally available, and is\nnot used.  Assume it\'s value to simplify the code.\n\nMove the grub version check separately, as we only support grub2\n\nRemove references to buliding i386 images.  I don\'t image it works in\nany way.\n\nRemove ci.md, which is no longer relevant.\n\nRefactor the test for ""building BIOS image on EFI system"" consiberably\nafter these changes.\n\nChange-Id: Ia99687815667c3cf5e82cf21d841d3b1008b8fa9\n'}, {'number': 4, 'created': '2022-02-10 03:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3d7cda189ac2bbdfbaae3a5860beecb48af57f27', 'message': 'Futher bootloader cleanups\n\nGRUB_OPTS has never been documented as externally available, and is\nnot used.  Assume it\'s value to simplify the code.\n\nMove the grub version check separately, as we only support grub2\n\nRemove references to buliding i386 images.  I don\'t image it works in\nany way.\n\nRemove ci.md, which is no longer relevant.\n\nRefactor the test for ""building BIOS image on EFI system"" consiberably\nafter these changes.\n\nChange-Id: Ia99687815667c3cf5e82cf21d841d3b1008b8fa9\n'}, {'number': 5, 'created': '2022-02-10 04:09:08.000000000', 'files': ['doc/source/ci.md', 'diskimage_builder/elements/rpm-distro/pre-install.d/01-override-yum-arch', 'doc/source/developer/developing_elements.rst', 'diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'releasenotes/notes/i386-removed-13fc770dc88e81dc.yaml', 'doc/source/developer/components.rst', 'diskimage_builder/lib/disk-image-create', 'diskimage_builder/elements/debian-minimal/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/79ea63f5251f6f9a11d1a26537cd2c76389d2d66', 'message': 'Futher bootloader cleanups\n\nGRUB_OPTS has never been documented as externally available, and is\nnot used.  Assume it\'s value to simplify the code.\n\nMove the grub version check separately, as we only support grub2\n\nRemove references to buliding i386 images.  I don\'t image it works in\nany way.\n\nRemove ci.md, which is no longer relevant.\n\nRefactor the test for ""building BIOS image on EFI system"" consiberably\nafter these changes.\n\nChange-Id: Ia99687815667c3cf5e82cf21d841d3b1008b8fa9\n'}]",3,790878,79ea63f5251f6f9a11d1a26537cd2c76389d2d66,31,3,5,7118,,,0,"Futher bootloader cleanups

GRUB_OPTS has never been documented as externally available, and is
not used.  Assume it's value to simplify the code.

Move the grub version check separately, as we only support grub2

Remove references to buliding i386 images.  I don't image it works in
any way.

Remove ci.md, which is no longer relevant.

Refactor the test for ""building BIOS image on EFI system"" consiberably
after these changes.

Change-Id: Ia99687815667c3cf5e82cf21d841d3b1008b8fa9
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/78/790878/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ci.md', 'diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/rpm-distro/pre-install.d/01-override-yum-arch', 'doc/source/developer/developing_elements.rst', 'releasenotes/notes/i386-removed-13fc770dc88e81dc.yaml', 'doc/source/developer/components.rst', 'diskimage_builder/lib/disk-image-create', 'diskimage_builder/elements/debian-minimal/package-installs.yaml']",8,05f4e75e0e4a8f842dd9d3f2511fadab74fdb2ea,bootloader-cleanup,,linux-image-686: arch: i386,26,86
openstack%2Fswift~stable%2Fxena~If0b4cfc1ac9a8c66085eb4dc95366d43806d5ae2,openstack/swift,stable/xena,If0b4cfc1ac9a8c66085eb4dc95366d43806d5ae2,Add FIPS CI jobs,MERGED,2022-02-04 21:38:08.000000000,2022-02-10 21:07:41.000000000,2022-02-10 21:01:57.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e21bd94d2a94adb70fdb87d90fa64511f58e3e82', 'message': ""Add FIPS CI jobs\n\nAdded jobs to run the swift functional tests when FIPS is enabled.\nWe'll set these jobs to be non-voting initially, so that we can\nensure that they are stable.\n\nChange-Id: If0b4cfc1ac9a8c66085eb4dc95366d43806d5ae2\n(cherry picked from commit 03be71c44aee283fa940f9a43c31072cb6082301)\n""}, {'number': 2, 'created': '2022-02-09 16:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f5b4b0ebf148b62097e5967f0228943bb3fb6c0', 'message': ""Add FIPS CI jobs\n\nAdded jobs to run the swift functional tests when FIPS is enabled.\nWe'll set these jobs to be non-voting initially, so that we can\nensure that they are stable.\n\nChange-Id: If0b4cfc1ac9a8c66085eb4dc95366d43806d5ae2\n(cherry picked from commit 03be71c44aee283fa940f9a43c31072cb6082301)\n""}, {'number': 3, 'created': '2022-02-09 16:38:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/01955bc1b3ff2cc118d7937b2aec22d0c72b79bb', 'message': ""Add FIPS CI jobs\n\nAdded jobs to run the swift functional tests when FIPS is enabled.\nWe'll set these jobs to be non-voting initially, so that we can\nensure that they are stable.\n\nChange-Id: If0b4cfc1ac9a8c66085eb4dc95366d43806d5ae2\n(cherry picked from commit 03be71c44aee283fa940f9a43c31072cb6082301)\n""}]",7,827901,01955bc1b3ff2cc118d7937b2aec22d0c72b79bb,22,2,3,9914,,,0,"Add FIPS CI jobs

Added jobs to run the swift functional tests when FIPS is enabled.
We'll set these jobs to be non-voting initially, so that we can
ensure that they are stable.

Change-Id: If0b4cfc1ac9a8c66085eb4dc95366d43806d5ae2
(cherry picked from commit 03be71c44aee283fa940f9a43c31072cb6082301)
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/827901/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e21bd94d2a94adb70fdb87d90fa64511f58e3e82,fips-compatibility,- job: name: swift-tox-func-py36-centos-8-stream-fips parent: swift-tox-func-py36-centos-8-stream voting: false description: | Functional testing on a FIPS enabled Centos 8 system vars: enable_fips: true - job: name: swift-tox-func-encryption-py36-centos-8-stream-fips parent: swift-tox-func-encryption-py36-centos-8-stream voting: false description: | Functional encryption testing on a FIPS enabled Centos 8 system vars: enable_fips: true - job: name: swift-tox-func-ec-py36-centos-8-stream-fips parent: swift-tox-func-ec-py36-centos-8-stream voting: false description: | Functional EC testing on a FIPS enabled Centos 8 system vars: enable_fips: true - swift-tox-func-encryption-py36-centos-8: irrelevant-files: &functest-irrelevant-files - ^(api-ref|doc|releasenotes)/.*$ - ^test/(cors|probe)/.*$ - ^(.gitreview|.mailmap|AUTHORS|CHANGELOG|.*\.rst)$ - swift-tox-func-py36-centos-8-stream-fips: irrelevant-files: *functest-irrelevant-files - swift-tox-func-encryption-py36-centos-8-stream-fips: irrelevant-files: *functest-irrelevant-files - swift-tox-func-ec-py36-centos-8-stream-fips: irrelevant-files: *functest-irrelevant-files irrelevant-files: *functest-irrelevant-files, irrelevant-files: &functest-irrelevant-files - ^(api-ref|doc|releasenotes)/.*$ - ^test/(cors|probe)/.*$ - ^(.gitreview|.mailmap|AUTHORS|CHANGELOG|.*\.rst)$,40,4
openstack%2Fneutron~master~Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9,openstack/neutron,master,Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9,[ovn] Prevent stale ports in the OVN database,MERGED,2022-02-04 10:39:59.000000000,2022-02-10 21:07:36.000000000,2022-02-10 21:01:51.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}, {'_account_id': 32586}, {'_account_id': 34118}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-02-04 10:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bff8ca5df389a9ef8d98b33091a25a1ed62319d', 'message': ""[WIP][ovn] Prevent stale ports in the OVN database\n\nUnder a lot of load, there can be situations where all the Neutron\nworkers have not updated their in-memory copy of the NB database\nin time before certain operations.\n\nThis scenario can lead to stale resources when a somewhat recently\ncreated port is attempted to be deleted, but the worker handling\nthis deletion doesn't know about the OVN port yet.\n\nThis patch detects this condition and allows some time (at least one\nmaintenance task cycle) before it deletes the OVN revision number.\nIf the port then shows up in the OVN database within that window, then\nit will be deleted later by the maintenance task avoiding the stale\nports. If not, the revision number row will be deleted and we won't\nstale these entries either.\n\nCloses-Bug: #1960006\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9\n""}, {'number': 2, 'created': '2022-02-04 16:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9710c88c4d3f80ffa624509c0aa488deeb06f7ef', 'message': ""[ovn] Prevent stale ports in the OVN database\n\nUnder a lot of load, there can be situations where all the Neutron\nworkers have not updated their in-memory copy of the NB database\nin time before certain operations.\n\nThis scenario can lead to stale resources when a somewhat recently\ncreated port is attempted to be deleted, but the worker handling\nthis deletion doesn't know about the OVN port yet.\n\nThis patch detects this condition and allows some time (at least one\nmaintenance task cycle) before it deletes the OVN revision number.\nIf the port then shows up in the OVN database within that window, then\nit will be deleted later by the maintenance task avoiding the stale\nports. If not, the revision number row will be deleted and we won't\nstale these entries either.\n\nCloses-Bug: #1960006\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9\n""}, {'number': 3, 'created': '2022-02-04 17:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84aca434e57aa0dbfeac9910dabb1c73f45fc34b', 'message': ""[ovn] Prevent stale ports in the OVN database\n\nUnder a lot of load, there can be situations where all the Neutron\nworkers have not updated their in-memory copy of the NB database\nin time before certain operations.\n\nThis scenario can lead to stale resources when a somewhat recently\ncreated port is attempted to be deleted, but the worker handling\nthis deletion doesn't know about the OVN port yet.\n\nThis patch detects this condition and allows some time (at least one\nmaintenance task cycle) before it deletes the OVN revision number.\nIf the port then shows up in the OVN database within that window, then\nit will be deleted later by the maintenance task avoiding the stale\nports. If not, the revision number row will be deleted and we won't\nstale these entries either.\n\nCloses-Bug: #1960006\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9\n""}, {'number': 4, 'created': '2022-02-04 22:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f94c90da464995380ca804268e342c2a675aad2', 'message': ""[ovn] Prevent stale ports in the OVN database\n\nUnder a lot of load, there can be situations where all the Neutron\nworkers have not updated their in-memory copy of the NB database\nin time before certain operations.\n\nThis scenario can lead to stale resources when a somewhat recently\ncreated port is attempted to be deleted, but the worker handling\nthis deletion doesn't know about the OVN port yet.\n\nThis patch detects this condition and allows some time (at least one\nmaintenance task cycle) before it deletes the OVN revision number.\nIf the port then shows up in the OVN database within that window, then\nit will be deleted later by the maintenance task avoiding the stale\nports. If not, the revision number row will be deleted and we won't\nstale these entries either.\n\nCloses-Bug: #1960006\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9\n""}, {'number': 5, 'created': '2022-02-06 10:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/997fa2af331b828ab47df057297bdab2f7c3a345', 'message': ""[ovn] Prevent stale ports in the OVN database\n\nUnder a lot of load, there can be situations where all the Neutron\nworkers have not updated their in-memory copy of the NB database\nin time before certain operations.\n\nThis scenario can lead to stale resources when a somewhat recently\ncreated port is attempted to be deleted, but the worker handling\nthis deletion doesn't know about the OVN port yet.\n\nThis patch detects this condition and allows some time (at least one\nmaintenance task cycle) before it deletes the OVN revision number.\nIf the port then shows up in the OVN database within that window, then\nit will be deleted later by the maintenance task avoiding the stale\nports. If not, the revision number row will be deleted and we won't\nstale these entries either.\n\nCloses-Bug: #1960006\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9\n""}, {'number': 6, 'created': '2022-02-07 09:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10d3350919906a7ffc8b4b7e71961df69608b097', 'message': ""[ovn] Prevent stale ports in the OVN database\n\nUnder a lot of load, there can be situations where all the Neutron\nworkers have not updated their in-memory copy of the NB database\nin time before certain operations.\n\nThis scenario can lead to stale resources when a somewhat recently\ncreated port is attempted to be deleted, but the worker handling\nthis deletion doesn't know about the OVN port yet.\n\nThis patch detects this condition and allows some time (at least one\nmaintenance task cycle) before it deletes the OVN revision number.\nIf the port then shows up in the OVN database within that window, then\nit will be deleted later by the maintenance task avoiding the stale\nports. If not, the revision number row will be deleted and we won't\nstale these entries either.\n\nCloses-Bug: #1960006\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9\n""}, {'number': 7, 'created': '2022-02-09 16:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abf1b990b90f07544fd3b0361d2baf9a86dd0a90', 'message': ""[ovn] Prevent stale ports in the OVN database\n\nUnder a lot of load, there can be situations where all the Neutron\nworkers have not updated their in-memory copy of the NB database\nin time before certain operations.\n\nThis scenario can lead to stale resources when a somewhat recently\ncreated port is attempted to be deleted, but the worker handling\nthis deletion doesn't know about the OVN port yet.\n\nThis patch detects this condition and allows some time (at least one\nmaintenance task cycle) before it deletes the OVN revision number.\nIf the port then shows up in the OVN database within that window, then\nit will be deleted later by the maintenance task avoiding the stale\nports. If not, the revision number row will be deleted and we won't\nstale these entries either.\n\nCloses-Bug: #1960006\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9\n""}, {'number': 8, 'created': '2022-02-09 16:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cef25b4a5864d67374fafaf735232df3835fa4e8', 'message': ""[ovn] Prevent stale ports in the OVN database\n\nUnder a lot of load, there can be situations where all the Neutron\nworkers have not updated their in-memory copy of the NB database\nin time before certain operations.\n\nThis scenario can lead to stale resources when a somewhat recently\ncreated port is attempted to be deleted, but the worker handling\nthis deletion doesn't know about the OVN port yet.\n\nThis patch detects this condition and allows some time (at least one\nmaintenance task cycle) before it deletes the OVN revision number.\nIf the port then shows up in the OVN database within that window, then\nit will be deleted later by the maintenance task avoiding the stale\nports. If not, the revision number row will be deleted and we won't\nstale these entries either.\n\nCloses-Bug: #1960006\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9\n""}, {'number': 9, 'created': '2022-02-10 08:08:07.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be7331c8169c53e3900c9c1a08e12808cf5ed2ec', 'message': ""[ovn] Prevent stale ports in the OVN database\n\nUnder a lot of load, there can be situations where all the Neutron\nworkers have not updated their in-memory copy of the NB database\nin time before certain operations.\n\nThis scenario can lead to stale resources when a somewhat recently\ncreated port is attempted to be deleted, but the worker handling\nthis deletion doesn't know about the OVN port yet.\n\nThis patch detects this condition and allows some time (at least one\nmaintenance task cycle) before it deletes the OVN revision number.\nIf the port then shows up in the OVN database within that window, then\nit will be deleted later by the maintenance task avoiding the stale\nports. If not, the revision number row will be deleted and we won't\nstale these entries either.\n\nCloses-Bug: #1960006\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9\n""}]",21,827834,be7331c8169c53e3900c9c1a08e12808cf5ed2ec,64,11,9,23804,,,0,"[ovn] Prevent stale ports in the OVN database

Under a lot of load, there can be situations where all the Neutron
workers have not updated their in-memory copy of the NB database
in time before certain operations.

This scenario can lead to stale resources when a somewhat recently
created port is attempted to be deleted, but the worker handling
this deletion doesn't know about the OVN port yet.

This patch detects this condition and allows some time (at least one
maintenance task cycle) before it deletes the OVN revision number.
If the port then shows up in the OVN database within that window, then
it will be deleted later by the maintenance task avoiding the stale
ports. If not, the revision number row will be deleted and we won't
stale these entries either.

Closes-Bug: #1960006
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/827834/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,4bff8ca5df389a9ef8d98b33091a25a1ed62319d,bug/1960006," elif row.resource_type == ovn_const.TYPE_PORTS: self._ovn_client.delete_port(admin_context, row.resource_uuid)",,19,5
openstack%2Fpuppet-glance~master~Ic7a01c9ca60196f89750026e7540a39c41e07cd3,openstack/puppet-glance,master,Ic7a01c9ca60196f89750026e7540a39c41e07cd3,Disallow sheepdog backend,MERGED,2022-02-10 04:29:32.000000000,2022-02-10 20:35:32.000000000,2022-02-10 20:35:32.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 04:29:32.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a37cdd923e0ae6eb22c616ef8c8c4c92376762a1', 'message': 'Disallow sheepdog backend\n\n... because it was removed during Ussuri cycle[1].\n\n[1] 5c9db72a93356876fabab2b294bced61a67105fe\n\nChange-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3\n'}]",0,828642,a37cdd923e0ae6eb22c616ef8c8c4c92376762a1,8,3,1,9816,,,0,"Disallow sheepdog backend

... because it was removed during Ussuri cycle[1].

[1] 5c9db72a93356876fabab2b294bced61a67105fe

Change-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/42/828642/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,a37cdd923e0ae6eb22c616ef8c8c4c92376762a1,remove-sheepdog-driver, unless $backend_type =~ /file|http|swift|rbd|cinder|vsphere/ {, unless $backend_type =~ /file|http|swift|rbd|sheepdog|cinder|vsphere/ {,1,1
openstack%2Fopenstack-helm~master~Iaa4da2ed8afbe17b031a4ca1da9ab98a79cc6caa,openstack/openstack-helm,master,Iaa4da2ed8afbe17b031a4ca1da9ab98a79cc6caa,initial commit,ABANDONED,2022-02-10 20:25:48.000000000,2022-02-10 20:33:52.000000000,,[],"[{'number': 1, 'created': '2022-02-10 20:25:48.000000000', 'files': ['charts/heat/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/releasenotes/notes/tempest.yaml', 'charts/neutron/templates/daemonset-lb-agent.yaml', 'charts/nova/templates/bin/_nova-service-cleaner.sh.tpl', 'charts/neutron/templates/pod-rally-test.yaml', 'charts/heat/templates/pod-rally-test.yaml', 'charts/keystone/templates/secret-keystone.yaml', 'charts/octavia/templates/ingress-api.yaml', 'charts/nova/templates/netpol-placement.yaml', 'charts/doc/source/testing/ceph-node-resiliency.rst', 'charts/horizon/templates/job-db-init.yaml', 'charts/barbican/templates/ingress-api.yaml', 'charts/heat/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/neutron/templates/bin/_neutron-sriov-agent.sh.tpl', 'charts/octavia/templates/job-bootstrap.yaml', 'charts/rally/templates/job-db-init.yaml', 'charts/keystone/Chart.yaml', 'charts/barbican/templates/job-db-drop.yaml', 'charts/horizon/values_overrides/rocky-opensuse_15.yaml', 'charts/nova/templates/cron-job-service-cleaner.yaml', 'charts/neutron/templates/secret-ingress-tls.yaml', 'charts/senlin/templates/service-ingress-api.yaml', 'charts/glance/templates/job-db-init.yaml', 'charts/neutron/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/nova/templates/ingress-metadata.yaml', 'charts/magnum/values.yaml', 'charts/cinder/templates/job-bootstrap.yaml', 'charts/rally/templates/job-image-repo-sync.yaml', 'charts/senlin/templates/secret-rabbitmq.yaml', 'charts/glance/templates/deployment-registry.yaml', 'charts/octavia/templates/job-db-drop.yaml', 'charts/senlin/templates/bin/_bootstrap.sh.tpl', 'charts/horizon/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/ironic/templates/ingress-api.yaml', 'charts/keystone/templates/secret-rabbitmq.yaml', 'charts/placement/templates/job-image-repo-sync.yaml', 'charts/magnum/templates/job-rabbit-init.yaml', 'charts/senlin/templates/job-db-init.yaml', 'charts/cinder/templates/job-ks-user.yaml', 'charts/ironic/templates/job-image-repo-sync.yaml', 'charts/nova/templates/bin/_nova-compute.sh.tpl', 'charts/cinder/templates/service-ingress-api.yaml', 'charts/magnum/templates/bin/_bootstrap.sh.tpl', 'charts/heat/.helmignore', 'charts/designate/templates/configmap-bin.yaml', 'charts/doc/source/specs/support-linux-bridge-on-neutron.rst', 'charts/nova/templates/bin/_iscsiadm.tpl', 'charts/placement/templates/bin/_db-migrate.sh.tpl', 'charts/barbican/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/neutron/values_overrides/ocata.yaml', 'charts/nova/templates/secret-db.yaml', 'charts/magnum/templates/job-ks-user.yaml', 'charts/designate/templates/secret-keystone.yaml', 'charts/doc/source/specs/multi-os.rst', 'charts/masakari/templates/bin/_masakari-instance-monitor.sh.tpl', 'charts/heat/templates/secret-db.yaml', 'charts/doc/source/testing/ceph-resiliency/host-failure.rst', 'charts/ironic/templates/bin/_ironic-api.sh.tpl', 'charts/neutron/templates/daemonset-metadata-agent.yaml', 'charts/barbican/Chart.yaml', 'charts/cyborg/templates/job-ks-endpoints.yaml', 'charts/senlin/templates/pdb-api.yaml', 'charts/ironic/templates/bin/_ironic-conductor-init.sh.tpl', 'charts/heat/templates/job-ks-user.yaml', 'charts/placement/values_overrides/netpol.yaml', 'charts/releasenotes/notes/magnum.yaml', 'charts/cinder/values_overrides/tls.yaml', 'charts/horizon/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/ceilometer/templates/job-db-sync.yaml', 'charts/horizon/templates/bin/_selenium-test.py.tpl', 'charts/heat/templates/ingress-cfn.yaml', 'charts/nova/requirements.yaml', 'charts/releasenotes/notes/ironic.yaml', 'charts/heat/templates/bin/_heat-api.sh.tpl', 'charts/horizon/templates/service.yaml', 'charts/doc/source/install/developer/exercise-the-cloud.rst', 'charts/nova/templates/secret-ssh.yaml', 'charts/cyborg/requirements.yaml', 'charts/masakari/templates/bin/_masakari-monitors-init.sh.tpl', 'charts/designate/templates/deployment-api.yaml', 'charts/octavia/templates/daemonset-health-manager.yaml', 'charts/cinder/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/tempest/templates/job-image-repo-sync.yaml', 'charts/ceilometer/values.yaml', 'charts/designate/templates/bin/_designate-mdns.sh.tpl', 'charts/senlin/templates/ingress-api.yaml', 'charts/doc/source/troubleshooting/ceph.rst', 'charts/mistral/templates/bin/_mistral-api.sh.tpl', 'charts/barbican/templates/bin/_simple_crypto_kek_rewrap.py.tpl', 'charts/cyborg/templates/job-ks-service.yaml', 'charts/ironic/templates/bin/_ironic-conductor-http-init.sh.tpl', 'charts/keystone/templates/bin/_fernet-manage.py.tpl', 'charts/cinder/values_overrides/rocky-opensuse_15.yaml', 'charts/neutron/templates/bin/_neutron-metadata-agent.sh.tpl', 'charts/masakari/requirements.yaml', 'charts/octavia/templates/bin/_octavia-health-manager-get-port.sh.tpl', 'charts/glance/templates/job-bootstrap.yaml', 'charts/magnum/templates/service-ingress-api.yaml', 'charts/mistral/templates/bin/_bootstrap.sh.tpl', 'charts/neutron/templates/configmap-bin.yaml', 'charts/horizon/templates/job-db-drop.yaml', 'charts/tempest/templates/bin/_run-tests.sh.tpl', 'charts/ironic/templates/pdb-api.yaml', 'afo-nc-openstack/.helmignore', 'charts/placement/templates/bin/_mysql-migrate-db.sh.tpl', 'charts/ceilometer/templates/deployment-central.yaml', 'charts/octavia/templates/job-image-repo-sync.yaml', 'charts/barbican/values_overrides/train-ubuntu_bionic.yaml', 'charts/heat/templates/job-ks-user-domain.yaml', 'charts/horizon/templates/bin/_horizon.sh.tpl', 'charts/octavia/templates/secret-db.yaml', 'charts/glance/templates/job-db-drop.yaml', 'charts/releasenotes/notes/glance.yaml', 'charts/keystone/templates/job-domain-manage.yaml', 'charts/heat/values.yaml', 'charts/heat/templates/pdb-cfn.yaml', 'charts/mistral/templates/statefulset-event-engine.yaml', 'charts/doc/source/install/developer/deploy-with-nfs.rst', 'charts/doc/source/locale/de/LC_MESSAGES/doc-testing.po', 'charts/masakari/templates/job-rabbitmq-init.yaml', 'charts/horizon/requirements.yaml', 'charts/keystone/templates/ingress-api.yaml', 'charts/nova/templates/pdb-placement.yaml', 'charts/heat/templates/bin/_heat-cfn.sh.tpl', 'charts/nova/templates/bin/_cell-setup.sh.tpl', 'charts/doc/source/conf.py', 'charts/doc/source/specs/developer-environment.rst', 'charts/glance/templates/service-ingress-api.yaml', 'charts/designate/templates/configmap-etc.yaml', 'charts/neutron/templates/secret_rabbitmq.yaml', 'charts/neutron/templates/job-ks-endpoints.yaml', 'charts/neutron/templates/daemonset-l2gw-agent.yaml', 'charts/cinder/templates/deployment-volume.yaml', 'charts/cyborg/templates/ingress-api.yaml', 'charts/cyborg/templates/secret-db.yaml', 'charts/mistral/values.yaml', 'charts/cinder/templates/job-rabbit-init.yaml', 'charts/barbican/requirements.yaml', 'charts/keystone/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/mistral/templates/job-ks-user.yaml', 'charts/nova/values_overrides/rocky-opensuse_15.yaml', 'charts/aodh/templates/job-rabbit-init.yaml', 'charts/doc/source/devref/index.rst', 'charts/barbican/templates/bin/_barbican.sh.tpl', 'charts/doc/source/devref/networking.rst', 'charts/ceilometer/templates/bin/_ceilometer-notification.sh.tpl', 'charts/nova/templates/job-cell-setup.yaml', 'charts/placement/templates/job-db-init.yaml', 'charts/glance/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/nova/templates/bin/_ceph-keyring.sh.tpl', 'charts/neutron/templates/bin/_neutron-netns-cleanup-cron.py.tpl', 'charts/designate/templates/bin/_designate-central.sh.tpl', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-specs.po', 'charts/nova/values_overrides/pike-ubuntu_xenial.yaml', 'charts/placement/requirements.yaml', 'charts/masakari/templates/deployment-engine.yaml', 'charts/aodh/templates/pod-aodh-test.yaml', 'charts/cinder/templates/bin/_cinder-scheduler.sh.tpl', 'charts/nova/templates/job-ks-placement-user.yaml', 'charts/neutron/templates/bin/_neutron-dhcp-agent-init.sh.tpl', 'charts/designate/templates/pdb-worker.yaml', 'charts/keystone/values.yaml', 'charts/designate/templates/pdb-central.yaml', 'charts/tempest/requirements.yaml', 'charts/doc/source/specs/values-ordering.rst', 'charts/mistral/templates/job-ks-service.yaml', 'charts/horizon/values_overrides/train-ubuntu_bionic.yaml', 'charts/magnum/templates/job-db-sync.yaml', 'charts/doc/source/gates.rst', 'charts/heat/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/designate/templates/service-mdns.yaml', 'charts/releasenotes/notes/increase-default-logging-31db0e9d3e51b429.yaml', 'charts/heat/values_overrides/train-ubuntu_bionic.yaml', 'charts/glance/templates/secret-keystone.yaml', 'charts/neutron/templates/daemonset-dhcp-agent.yaml', 'charts/masakari/templates/service-api.yaml', 'charts/cinder/templates/job-create-internal-tenant.yaml', 'charts/aodh/templates/bin/_bootstrap.sh.tpl', 'charts/aodh/templates/job-bootstrap.yaml', 'charts/cyborg/templates/job-db-drop.yaml', 'afo-nc-openstack/values.yaml', 'charts/nova/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/doc/source/install/index.rst', 'charts/cinder/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/keystone/templates/configmap-bin.yaml', 'charts/mistral/templates/job-db-init.yaml', 'charts/nova/templates/deployment-api-metadata.yaml', 'charts/barbican/.helmignore', 'charts/octavia/templates/job-db-init.yaml', 'charts/barbican/templates/secret-ingress-tls.yaml', 'charts/barbican/values_overrides/rocky.yaml', 'charts/releasenotes/notes/panko.yaml', 'charts/horizon/templates/ingress-api.yaml', 'charts/ceilometer/templates/service-api.yaml', 'charts/nova/templates/bin/_nova-console-proxy.sh.tpl', 'charts/aodh/templates/job-db-sync.yaml', 'afo-nc-openstack/templates/ingress.yaml', 'charts/glance/templates/pvc-images.yaml', 'charts/senlin/templates/bin/_senlin-test.sh.tpl', 'charts/horizon/templates/configmap-etc.yaml', 'charts/ceilometer/templates/deployment-collector.yaml', 'charts/releasenotes/notes/ceilometer.yaml', 'charts/tempest/templates/pvc-tempest.yaml', 'charts/doc/source/devref/upgrades.rst', 'charts/senlin/templates/secret-keystone.yaml', 'charts/mistral/templates/statefulset-engine.yaml', 'charts/magnum/templates/deployment-api.yaml', 'charts/barbican/templates/deployment-api.yaml', 'charts/neutron/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/heat/templates/job-image-repo-sync.yaml', 'charts/designate/templates/service-ingress-api.yaml', 'charts/keystone/templates/job-db-drop.yaml', 'charts/keystone/values_overrides/netpol.yaml', 'charts/octavia/templates/secret-rabbitmq.yaml', 'charts/mistral/templates/configmap-etc.yaml', 'charts/neutron/templates/daemonset-netns-cleanup-cron.yaml', 'README.md', 'charts/rally/templates/pvc-rally.yaml', 'charts/aodh/templates/deployment-notifier.yaml', 'charts/horizon/templates/deployment.yaml', 'charts/magnum/templates/pdb-api.yaml', 'charts/senlin/Chart.yaml', 'charts/doc/requirements.txt', 'charts/ceilometer/templates/bin/_db-sync.sh.tpl', 'charts/ironic/templates/job-bootstrap.yaml', 'charts/neutron/templates/job-db-init.yaml', 'charts/nova/values_overrides/stein.yaml', 'charts/nova/values_overrides/tf.yaml', 'charts/rally/README.rst', 'charts/designate/Chart.yaml', 'charts/doc/source/locale/ko_KR/LC_MESSAGES/doc-troubleshooting.po', 'charts/neutron/values_overrides/netpol.yaml', 'charts/aodh/templates/bin/_aodh-alarms-cleaner.sh.tpl', 'charts/rally/templates/bin/_manage-db.sh.tpl', 'charts/releasenotes/notes/designate.yaml', 'charts/heat/templates/job-bootstrap.yaml', 'charts/cyborg/templates/pdb-api.yaml', 'charts/keystone/templates/bin/_domain-manage.py.tpl', 'charts/neutron/templates/bin/_neutron-sriov-agent-init.sh.tpl', 'charts/doc/source/troubleshooting/ubuntu-hwe-kernel.rst', 'charts/barbican/templates/job-ks-service.yaml', 'charts/neutron/Chart.yaml', 'charts/cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'charts/designate/templates/bin/_designate-worker.sh.tpl', 'charts/ceilometer/templates/bin/_ceilometer-compute.sh.tpl', 'charts/ceilometer/templates/bin/_db-init-mongodb.sh.tpl', 'charts/placement/templates/job-ks-endpoints.yaml', 'charts/ironic/templates/service-ingress-api.yaml', 'charts/doc/source/install/developer/deploy-ovs-dpdk.rst', 'charts/senlin/templates/deployment-api.yaml', 'charts/masakari/templates/bin/_masakari-engine.sh.tpl', 'charts/barbican/values.yaml', 'charts/barbican/values_overrides/victoria-ubuntu_focal.yaml', 'charts/ceilometer/templates/deployment-notification.yaml', 'charts/heat/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/mistral/templates/bin/_mistral-executor.sh.tpl', 'charts/ironic/templates/job-db-drop.yaml', 'charts/nova/templates/job-ks-user.yaml', 'charts/mistral/templates/service-ingress-api.yaml', 'charts/horizon/templates/bin/_manage.py.tpl', 'charts/designate/requirements.yaml', 'charts/mistral/requirements.yaml', 'charts/doc/source/devref/images.rst', 'charts/aodh/templates/service-ingress-api.yaml', 'charts/octavia/Chart.yaml', 'charts/nova/templates/job-rabbit-init.yaml', 'charts/aodh/templates/secret-ingress-tls.yaml', 'charts/glance/Chart.yaml', 'charts/cinder/templates/bin/_cinder-volume.sh.tpl', 'charts/heat/Chart.yaml', 'charts/barbican/values_overrides/netpol.yaml', 'charts/heat/templates/bin/_trusts.sh.tpl', 'charts/heat/templates/deployment-cfn.yaml', 'charts/magnum/templates/bin/_magnum-conductor.sh.tpl', 'charts/barbican/templates/pod-test.yaml', 'charts/horizon/templates/network_policy.yaml', 'charts/mistral/templates/job-ks-endpoints.yaml', 'charts/aodh/values.yaml', 'charts/aodh/templates/secret-db.yaml', 'charts/placement/templates/service.yaml', 'charts/barbican/templates/job-rabbit-init.yaml', 'charts/releasenotes/notes/aodh.yaml', 'charts/heat/requirements.yaml', 'charts/mistral/templates/job-bootstrap.yaml', 'charts/heat/templates/bin/_heat-cloudwatch.sh.tpl', 'charts/designate/templates/deployment-worker.yaml', 'afo-nc-openstack/templates/deployment.yaml', 'charts/ceilometer/templates/daemonset-compute.yaml', 'charts/doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'charts/neutron/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/neutron/templates/job-ks-service.yaml', 'charts/barbican/templates/job-ks-endpoints.yaml', 'charts/placement/templates/job-ks-service.yaml', 'charts/glance/values_overrides/train-ubuntu_bionic.yaml', 'charts/aodh/templates/bin/_aodh-listener.sh.tpl', 'charts/nova/templates/service-spiceproxy.yaml', 'charts/cinder/templates/bin/_db-sync.sh.tpl', 'charts/releasenotes/notes/rename-ceph-rbd-pool-app-name.yaml', 'charts/glance/values_overrides/netpol.yaml', 'charts/ceilometer/templates/bin/_ceilometer-collector.sh.tpl', 'charts/cinder/templates/ingress-api.yaml', 'charts/glance/templates/bin/_bootstrap.sh.tpl', 'charts/nova/templates/deployment-spiceproxy.yaml', 'charts/mistral/templates/ingress-api.yaml', 'charts/masakari/templates/bin/_masakari-process-monitor.sh.tpl', 'charts/releasenotes/source/current.rst', 'charts/designate/templates/bin/_db-sync.sh.tpl', 'charts/cinder/templates/bin/_ceph-admin-keyring.sh.tpl', 'charts/doc/source/testing/helm-tests.rst', 'charts/neutron/values_overrides/rocky-opensuse_15.yaml', 'charts/placement/templates/bin/_db-sync.sh.tpl', 'charts/keystone/templates/bin/_keystone-api.sh.tpl', 'charts/cinder/templates/job-db-init.yaml', 'charts/ceilometer/templates/bin/_ceilometer-central.sh.tpl', 'charts/neutron/templates/certificates.yaml', 'charts/keystone/values_overrides/pike-ubuntu_xenial.yaml', 'charts/magnum/templates/job-bootstrap.yaml', 'charts/nova/templates/job-db-sync.yaml', 'charts/nova/templates/bin/_nova-console-proxy-init-assets.sh.tpl', 'charts/keystone/templates/deployment-api.yaml', 'charts/senlin/templates/job-bootstrap.yaml', 'charts/heat/templates/ingress-api.yaml', 'charts/mistral/templates/job-db-sync.yaml', 'charts/rally/templates/job-ks-service.yaml', 'charts/glance/templates/pdb-registry.yaml', 'charts/cyborg/templates/daemonset-agent.yaml', 'charts/neutron/templates/configmap-etc.yaml', 'charts/releasenotes/notes/placement.yaml', 'charts/keystone/templates/bin/_domain-manage.sh.tpl', 'charts/cinder/templates/pdb-api.yaml', 'charts/glance/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/rally/templates/configmap-tasks.yaml', 'charts/glance/templates/bin/_clean-image.sh.tpl', 'charts/nova/templates/bin/_ceph-admin-keyring.sh.tpl', 'charts/cinder/values_overrides/ocata.yaml', 'charts/releasenotes/notes/horizon.yaml', 'charts/ceilometer/templates/bin/_ceilometer-api.sh.tpl', 'charts/ceilometer/templates/secret-rabbitmq.yaml', 'charts/cyborg/templates/job-rabbit-init.yaml', 'charts/releasenotes/notes/octavia.yaml', 'charts/neutron/templates/job-bootstrap.yaml', 'charts/neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'charts/magnum/Chart.yaml', 'charts/magnum/templates/job-image-repo-sync.yaml', 'charts/glance/templates/job-storage-init.yaml', 'charts/keystone/templates/pdb.yaml', 'charts/neutron/templates/bin/_bootstrap.sh.tpl', 'charts/releasenotes/notes/neutron.yaml', 'charts/keystone/templates/job-image-repo-sync.yaml', 'charts/aodh/templates/network_policy.yaml', 'charts/nova/templates/bin/_multipathd.tpl', 'charts/masakari/templates/daemonset-instance-monitor.yaml', 'charts/aodh/templates/job-ks-service.yaml', 'charts/neutron/values_overrides/train-ubuntu_bionic.yaml', 'charts/senlin/templates/configmap-etc.yaml', 'charts/placement/templates/deployment.yaml', 'charts/magnum/templates/configmap-etc.yaml', 'charts/barbican/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/neutron/templates/network_policy.yaml', 'charts/nova/values_overrides/netpol.yaml', 'charts/nova/templates/bin/_cell-setup-init.sh.tpl', 'charts/cinder/templates/job-clean.yaml', 'charts/octavia/templates/bin/_bootstrap.sh.tpl', 'charts/glance/templates/pod-rally-test.yaml', 'charts/ironic/requirements.yaml', 'charts/nova/templates/daemonset-compute.yaml', 'charts/heat/templates/bin/_db-sync.sh.tpl', 'charts/cinder/templates/job-ks-endpoints.yaml', 'charts/horizon/Chart.yaml', 'charts/keystone/templates/service-api.yaml', 'charts/nova/templates/bin/_bootstrap.sh.tpl', 'charts/cinder/values_overrides/victoria-ubuntu_focal.yaml', 'charts/doc/source/locale/de/LC_MESSAGES/doc.po', 'charts/nova/templates/bin/_nova-console-compute-init.sh.tpl', 'charts/nova/templates/secret-db-api.yaml', 'charts/ceilometer/templates/service-ingress-api.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'charts/doc/source/troubleshooting/index.rst', 'charts/barbican/templates/secret-db.yaml', 'charts/mistral/templates/job-image-repo-sync.yaml', 'charts/glance/templates/job-ks-endpoints.yaml', 'charts/doc/source/locale/de/LC_MESSAGES/doc-troubleshooting.po', 'charts/rally/templates/job-ks-endpoints.yaml', 'charts/cyborg/templates/service-api.yaml', 'charts/nova/values_overrides/victoria-ubuntu_focal.yaml', 'charts/glance/templates/job-metadefs-load.yaml', 'charts/ironic/templates/bin/_retreive-swift-config.sh.tpl', 'charts/octavia/templates/bin/_db-sync.sh.tpl', 'charts/designate/templates/bin/_designate-sink.sh.tpl', 'charts/cyborg/templates/bin/_db-sync.sh.tpl', 'charts/doc/source/devref/pod-disruption-budgets.rst', 'charts/neutron/templates/bin/_neutron-openvswitch-agent.sh.tpl', 'charts/mistral/templates/secret-db.yaml', 'charts/barbican/templates/bin/_bootstrap.sh.tpl', 'charts/nova/templates/bin/_ssh-start.sh.tpl', 'charts/masakari/templates/job-db-drop.yaml', 'charts/heat/templates/job-rabbit-init.yaml', 'charts/glance/templates/service-ingress-registry.yaml', 'charts/ironic/templates/job-db-init.yaml', 'charts/octavia/templates/secret-ingress-tls.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-devref.po', 'charts/aodh/templates/job-db-init.yaml', 'charts/nova/templates/bin/_nova-api-metadata.sh.tpl', 'charts/cyborg/templates/secret-rabbitmq.yaml', 'charts/glance/requirements.yaml', 'charts/horizon/values_overrides/opensuse_15.yaml', 'charts/masakari/.helmignore', 'charts/cinder/requirements.yaml', 'charts/heat/values_overrides/victoria-ubuntu_focal.yaml', 'charts/glance/templates/secret-ingress-tls.yaml', 'charts/horizon/templates/certificates.yaml', 'charts/heat/templates/service-ingress-api.yaml', 'charts/keystone/templates/job-fernet-setup.yaml', 'charts/ceilometer/templates/configmap-etc.yaml', 'charts/nova/templates/bin/_db-archive-deleted-row.sh.tpl', 'charts/senlin/templates/network_policy.yaml', 'charts/octavia/templates/bin/_octavia-worker.sh.tpl', 'charts/releasenotes/notes/mistral.yaml', 'charts/neutron/templates/daemonset-l3-agent.yaml', 'charts/aodh/templates/secret-rabbitmq.yaml', 'charts/masakari/templates/configmap-bin.yaml', 'charts/barbican/templates/job-db-init.yaml', 'charts/heat/values_overrides/netpol.yaml', 'charts/barbican/templates/network_policy.yaml', 'charts/aodh/templates/job-ks-user.yaml', 'charts/glance/templates/certificates.yaml', 'charts/aodh/Chart.yaml', 'charts/horizon/templates/secret-ingress-tls.yaml', 'charts/keystone/templates/network_policy.yaml', 'charts/neutron/templates/bin/_neutron-l3-agent-init.sh.tpl', 'charts/tempest/templates/configmap-etc.yaml', 'charts/horizon/values_overrides/queens-ubuntu_xenial.yaml', 'charts/tempest/templates/_helpers.tpl', 'charts/glance/values_overrides/victoria-ubuntu_focal.yaml', 'charts/aodh/templates/deployment-api.yaml', 'charts/neutron/templates/job-db-drop.yaml', 'charts/nova/templates/bin/_nova-api.sh.tpl', 'charts/nova/values_overrides/ssh.yaml', 'charts/doc/source/readme.rst', 'charts/ceilometer/templates/job-bootstrap.yaml', 'charts/doc/source/install/ext-dns-fqdn.rst', 'afo-nc-openstack/templates/_helpers.tpl', 'charts/senlin/templates/job-db-drop.yaml', 'charts/ceilometer/templates/daemonset-ipmi.yaml', 'charts/heat/templates/job-db-sync.yaml', 'charts/nova/templates/deployment-novncproxy.yaml', 'charts/neutron/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/neutron/values_overrides/victoria-ubuntu_focal.yaml', 'charts/cinder/templates/job-image-repo-sync.yaml', 'charts/cinder/.helmignore', 'charts/doc/source/specs/support-OCI-image-registry-with-authentication-turned-on.rst', 'charts/cinder/templates/deployment-backup.yaml', 'charts/octavia/templates/pdb-api.yaml', 'charts/nova/.helmignore', 'charts/cinder/values_overrides/pike-ubuntu_xenial.yaml', 'charts/neutron/values_overrides/gate.yaml', 'charts/tempest/templates/job-ks-user.yaml', 'charts/releasenotes/notes/senlin.yaml', 'charts/ironic/templates/job-rabbit-init.yaml', 'charts/doc/source/testing/ceph-resiliency/disk-failure.rst', 'charts/glance/templates/ingress-api.yaml', 'charts/releasenotes/notes/barbican.yaml', 'charts/keystone/values_overrides/rocky-opensuse_15.yaml', 'charts/magnum/templates/network_policy.yaml', 'charts/heat/templates/service-cloudwatch.yaml', 'charts/aodh/requirements.yaml', 'charts/cinder/templates/bin/_retrieve-internal-tenant-id.sh.tpl', 'charts/cinder/templates/secret-db.yaml', 'charts/designate/templates/secret-rabbitmq.yaml', 'charts/nova/templates/job-ks-placement-service.yaml', 'charts/glance/templates/bin/_nginx.sh.tpl', 'charts/mistral/templates/bin/_db-sync.sh.tpl', 'charts/tempest/templates/secret-keystone.yaml', 'charts/neutron/templates/bin/_nginx.sh.tpl', 'charts/doc/source/devref/node-and-label-specific-configurations.rst', 'charts/octavia/templates/job-rabbit-init.yaml', 'charts/horizon/templates/configmap-bin.yaml', 'charts/mistral/templates/secret-keystone.yaml', 'charts/nova/templates/secret-keystone-placement.yaml', 'charts/doc/source/specs/tenant-ceph.rst', 'afo-nc-openstack/templates/hpa.yaml', 'charts/masakari/templates/bin/_masakari-host-monitor.sh.tpl', 'charts/cinder/templates/bin/_bootstrap.sh.tpl', 'charts/neutron/templates/bin/_neutron-metadata-agent-init.sh.tpl', 'charts/horizon/templates/pdb.yaml', 'charts/neutron/templates/bin/_neutron-linuxbridge-agent-init-modules.sh.tpl', 'charts/cinder/templates/bin/_clean-secrets.sh.tpl', 'charts/doc/source/install/plugins/figures/taas-architecture.png', 'charts/keystone/templates/certificates.yaml', 'charts/designate/templates/deployment-central.yaml', 'charts/horizon/.helmignore', 'charts/placement/templates/job-db-drop.yaml', 'charts/doc/source/devref/oslo-config.rst', 'charts/doc/source/specs/osh-1.0-requirements.rst', 'charts/placement/templates/secret-ingress-tls.yaml', 'charts/magnum/templates/job-ks-user-domain.yaml', 'charts/senlin/values.yaml', 'charts/neutron/values_overrides/tls.yaml', 'charts/glance/templates/job-ks-user.yaml', 'charts/keystone/templates/cron-job-fernet-rotate.yaml', 'charts/cinder/templates/bin/_cinder-backup.sh.tpl', 'charts/keystone/templates/secret-credential-keys.yaml', 'charts/placement/templates/pdb.yaml', 'charts/glance/templates/pdb-api.yaml', 'charts/cinder/templates/utils/_has_ceph_backend.tpl', 'charts/cinder/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/placement/templates/ingress.yaml', 'charts/neutron/templates/service-server.yaml', 'charts/ceilometer/templates/job-db-init.yaml', 'charts/octavia/templates/bin/_octavia-health-manager.sh.tpl', 'charts/tempest/templates/configmap-bin.yaml', 'charts/cyborg/Chart.yaml', 'charts/keystone/templates/bin/_domain-manage-init.sh.tpl', 'charts/glance/values_overrides/queens-ubuntu_xenial.yaml', 'charts/octavia/templates/job-db-sync.yaml', 'charts/ironic/templates/job-ks-service.yaml', 'charts/nova/templates/secret_rabbitmq.yaml', 'charts/aodh/templates/pdb-api.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-troubleshooting.po', 'charts/glance/values_overrides/tls.yaml', 'charts/heat/templates/configmap-bin.yaml', 'charts/nova/values_overrides/ussuri.yaml', 'charts/neutron/values_overrides/pike.yaml', 'charts/senlin/templates/bin/_senlin-engine-cleaner.sh.tpl', 'charts/masakari/templates/job-ks-user.yaml', 'charts/glance/values_overrides/apparmor.yaml', 'charts/aodh/templates/job-ks-endpoints.yaml', 'charts/mistral/templates/bin/_mistral-event-engine.sh.tpl', 'charts/nova/templates/configmap-bin.yaml', 'charts/doc/source/troubleshooting/persistent-storage.rst', 'charts/heat/values_overrides/tls.yaml', 'charts/keystone/values_overrides/ldap.yaml', 'charts/cinder/values_overrides/backend_pure.yaml', 'charts/placement/values_overrides/apparmor.yaml', 'charts/nova/templates/deployment-conductor.yaml', 'charts/doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'charts/cinder/templates/configmap-etc.yaml', 'charts/ironic/templates/network_policy.yaml', 'charts/doc/source/install/developer/deploy-with-ceph.rst', 'charts/keystone/templates/bin/_bootstrap.sh.tpl', 'charts/octavia/templates/job-ks-endpoint.yaml', 'charts/nova/templates/service-ingress-metadata.yaml', 'charts/neutron/values_overrides/shared-sriov-ovs-dpdk-bond.yaml', 'charts/senlin/templates/cron-job-engine-cleaner.yaml', 'charts/cinder/templates/bin/_multipath.tpl', 'charts/glance/templates/secret-db.yaml', 'charts/designate/templates/ingress-api.yaml', 'charts/nova/values_overrides/wallaby.yaml', 'charts/doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'charts/ironic/templates/bin/_db-sync.sh.tpl', 'charts/senlin/templates/secret-db.yaml', 'charts/aodh/templates/job-db-drop.yaml', 'charts/glance/values_overrides/rocky-opensuse_15.yaml', 'charts/designate/templates/job-db-init.yaml', 'charts/horizon/values_overrides/netpol.yaml', 'charts/glance/templates/deployment-api.yaml', 'charts/neutron/templates/bin/_health-probe.py.tpl', 'charts/barbican/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/designate/templates/bin/_designate-producer.sh.tpl', 'charts/tempest/Chart.yaml', 'charts/rally/templates/bin/_bootstrap.sh.tpl', 'charts/doc/source/install/developer/deploy-with-tungsten-fabric.rst', 'charts/ironic/templates/configmap-bin.yaml', 'charts/glance/templates/bin/_glance-api.sh.tpl', 'charts/nova/templates/deployment-consoleauth.yaml', 'charts/barbican/templates/job-db-sync.yaml', 'charts/senlin/templates/bin/_senlin-engine.sh.tpl', 'charts/glance/templates/bin/_ceph-keyring.sh.tpl', 'charts/nova/values_overrides/cntt.yaml', 'charts/glance/templates/configmap-bin.yaml', 'charts/mistral/templates/service-api.yaml', 'charts/cinder/templates/service-api.yaml', 'charts/glance/templates/ingress-registry.yaml', 'charts/aodh/templates/job-image-repo-sync.yaml', 'charts/barbican/values_overrides/tls.yaml', 'charts/cinder/templates/bin/_multipathd.tpl', 'charts/nova/templates/ingress-placement.yaml', 'charts/cinder/templates/secret-external-ceph-keyring.yaml', 'charts/neutron/templates/bin/_neutron-openvswitch-agent-init-modules.sh.tpl', 'charts/keystone/templates/secret-fernet-keys.yaml', 'charts/cyborg/templates/job-ks-user.yaml', 'charts/heat/templates/service-api.yaml', 'charts/placement/templates/job-db-migrate.yaml', 'charts/aodh/templates/ingress-api.yaml', 'charts/keystone/templates/pod-rally-test.yaml', 'charts/doc/source/install/developer/index.rst', 'charts/tempest/values.yaml', 'charts/ceilometer/templates/job-db-init-mongodb.yaml', 'charts/barbican/templates/bin/_barbican-test.sh.tpl', 'charts/rally/templates/secret-keystone.yaml', 'charts/glance/templates/configmap-etc.yaml', 'charts/cinder/values_overrides/qos.yaml', 'charts/heat/templates/job-ks-user-trustee.yaml', 'charts/barbican/templates/secret-rabbitmq.yaml', 'charts/cinder/values_overrides/rocky.yaml', 'charts/nova/templates/service-placement.yaml', 'charts/mistral/templates/deployment-executor.yaml', 'charts/placement/values.yaml', 'charts/ceilometer/templates/job-rabbit-init.yaml', 'charts/heat/templates/pdb-api.yaml', 'charts/ironic/Chart.yaml', 'charts/horizon/templates/job-db-sync.yaml', 'charts/doc/source/install/kubernetes-gate.rst', 'charts/glance/.helmignore', 'charts/glance/templates/bin/_storage-init.sh.tpl', 'charts/masakari/templates/job-ks-service.yaml', 'charts/aodh/templates/configmap-bin.yaml', 'charts/neutron/values_overrides/dpdk-bond.yaml', 'charts/octavia/templates/bin/_octavia-housekeeping.sh.tpl', 'charts/ceilometer/templates/job-db-drop.yaml', 'charts/doc/source/testing/ceph-resiliency/osd-failure.rst', 'charts/ironic/templates/job-manage-cleaning-network.yaml', 'charts/heat/templates/service-ingress-cfn.yaml', 'charts/horizon/values_overrides/victoria-ubuntu_focal.yaml', 'charts/designate/templates/pdb-sink.yaml', 'charts/nova/templates/bin/_ssh-init.sh.tpl', 'charts/doc/source/testing/ceph-resiliency/README.rst', 'charts/nova/templates/pdb-osapi.yaml', 'charts/magnum/requirements.yaml', 'charts/glance/templates/network_policy.yaml', 'charts/neutron/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/glance/templates/job-ks-service.yaml', 'charts/magnum/templates/secret-db.yaml', 'charts/nova/templates/bin/_nova-compute-init.sh.tpl', 'charts/keystone/values_overrides/apparmor.yaml', 'charts/rally/templates/secret-db.yaml', 'charts/designate/templates/job-bootstrap.yaml', 'charts/releasenotes/notes/rally.yaml', 'charts/horizon/templates/bin/_django.wsgi.tpl', 'charts/glance/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/octavia/templates/deployment-housekeeping.yaml', 'charts/octavia/templates/job-ks-service.yaml', 'charts/glance/templates/bin/_db-sync.sh.tpl', 'charts/neutron/templates/job-rabbit-init.yaml', 'charts/glance/templates/job-db-sync.yaml', 'charts/nova/templates/bin/_fake-iptables.sh.tpl', 'charts/placement/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/nova/templates/bin/_nova-placement-api.sh.tpl', 'charts/cyborg/templates/bin/_cyborg-agent.sh.tpl', 'charts/placement/Chart.yaml', 'charts/cinder/templates/bin/_ceph-keyring.sh.tpl', 'charts/neutron/values_overrides/dpdk.yaml', 'charts/doc/source/specs/osh-lma-stack.rst', 'charts/magnum/templates/job-db-drop.yaml', 'charts/releasenotes/notes/heat.yaml', 'afo-nc-openstack/Chart.yaml', 'charts/masakari/templates/job-ks-endpoints.yaml', 'charts/cinder/templates/secret_rabbitmq.yaml', 'charts/horizon/values_overrides/tls.yaml', 'charts/glance/templates/bin/_glance-registry.sh.tpl', 'charts/ironic/templates/job-ks-user.yaml', 'charts/horizon/templates/service-ingress.yaml', 'charts/doc/source/specs/neutron-multiple-sdns.rst', 'charts/magnum/templates/bin/_magnum-conductor-init.sh.tpl', 'charts/magnum/templates/configmap-bin.yaml', 'charts/neutron/templates/bin/_neutron-test-force-cleanup.sh.tpl', 'charts/doc/source/locale/ru/LC_MESSAGES/doc-troubleshooting.po', 'charts/keystone/values_overrides/queens-ubuntu_xenial.yaml', 'charts/barbican/values_overrides/queens.yaml', 'charts/cinder/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/doc/source/install/plugins/deploy-tap-as-a-service-neutron-plugin.rst', 'afo-nc-openstack/templates/NOTES.txt', 'charts/doc/source/index.rst', 'charts/nova/templates/service-metadata.yaml', 'charts/nova/templates/netpol-nova.yaml', 'charts/nova/values_overrides/train-ubuntu_bionic.yaml', 'charts/aodh/templates/configmap-etc.yaml', 'charts/ironic/templates/deployment-api.yaml', 'charts/doc/source/install/multinode.rst', 'charts/releasenotes/notes/masakari.yaml', 'charts/ceilometer/templates/pdb-api.yaml', 'charts/barbican/templates/job-ks-user.yaml', 'charts/doc/source/devref/endpoints.rst', 'charts/neutron/values_overrides/pike-ubuntu_xenial.yaml', 'charts/nova/templates/ingress-novncproxy.yaml', 'charts/neutron/.helmignore', 'charts/senlin/templates/job-ks-service.yaml', 'charts/ceilometer/requirements.yaml', 'charts/heat/templates/job-ks-endpoints.yaml', 'charts/keystone/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/rally/templates/job-manage-db.yaml', 'charts/senlin/templates/configmap-bin.yaml', 'charts/cyborg/templates/job-db-sync.yaml', 'charts/nova/templates/job-image-repo-sync.yaml', 'charts/heat/templates/deployment-cloudwatch.yaml', 'charts/placement/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/heat/templates/bin/_heat-engine-cleaner.sh.tpl', 'charts/ironic/templates/bin/_ironic-conductor-pxe-init.sh.tpl', 'charts/octavia/templates/configmap-bin.yaml', 'charts/neutron/requirements.yaml', 'charts/masakari/Chart.yaml', 'charts/magnum/templates/service-api.yaml', 'charts/aodh/templates/bin/_aodh-notifier.sh.tpl', 'charts/doc/source/install/common-requirements.rst', 'charts/cinder/values_overrides/external-ceph-backend.yaml', 'charts/keystone/values_overrides/train-ubuntu_bionic.yaml', 'charts/cyborg/templates/bin/_cyborg-api.sh.tpl', 'charts/barbican/templates/configmap-bin.yaml', 'charts/cyborg/values.yaml', 'charts/nova/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/mistral/templates/secret-rabbitmq.yaml', 'charts/magnum/templates/secret-rabbitmq.yaml', 'charts/nova/templates/bin/_db-sync.sh.tpl', 'charts/designate/templates/deployment-sink.yaml', 'charts/neutron/templates/daemonset-ovs-agent.yaml', 'charts/glance/templates/service-api.yaml', 'charts/nova/templates/pdb-metadata.yaml', 'charts/nova/values_overrides/train-disable-nova-placement.yaml', 'charts/barbican/templates/pdb-api.yaml', 'charts/masakari/templates/secret-db.yaml', 'charts/mistral/templates/pod-rally-test.yaml', 'charts/nova/templates/deployment-scheduler.yaml', 'charts/nova/templates/job-ks-endpoints.yaml', 'charts/releasenotes/notes/cinder.yaml', 'charts/cinder/templates/job-backup-storage-init.yaml', 'charts/neutron/templates/service-ingress-neutron.yaml', 'charts/keystone/templates/job-db-sync.yaml', 'charts/heat/values_overrides/pike-ubuntu_xenial.yaml', 'charts/ironic/templates/bin/_retreive-cleaning-network.sh.tpl', 'charts/designate/templates/job-rabbit-init.yaml', 'charts/doc/source/testing/ceph-upgrade.rst', 'charts/releasenotes/notes/cyborg.yaml', 'charts/barbican/values_overrides/rocky-opensuse_15.yaml', 'charts/ceilometer/templates/job-image-repo-sync.yaml', 'charts/neutron/templates/bin/_neutron-dhcp-agent.sh.tpl', 'charts/releasenotes/source/index.rst', 'charts/cinder/templates/job-db-drop.yaml', 'charts/ironic/templates/configmap-etc.yaml', 'charts/horizon/values_overrides/pike-ubuntu_xenial.yaml', 'charts/neutron/templates/bin/_neutron-l2gw-agent.sh.tpl', 'charts/nova/templates/statefulset-compute-ironic.yaml', 'charts/cinder/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/cinder/templates/certificates.yaml', 'charts/aodh/templates/secret-keystone.yaml', 'charts/heat/values_overrides/apparmor.yaml', 'charts/cinder/templates/bin/_create-internal-tenant-id.sh.tpl', 'charts/glance/templates/job-rabbit-init.yaml', 'charts/cinder/templates/utils/_is_ceph_backend.tpl', 'charts/cinder/templates/pvc-backup.yaml', 'charts/masakari/templates/daemonset-host-monitor.yaml', 'charts/horizon/templates/secret-db.yaml', 'charts/ironic/templates/statefulset-conductor.yaml', 'charts/placement/templates/secret-db.yaml', 'charts/masakari/templates/bin/_manage-db.sh.tpl', 'charts/ceilometer/templates/job-ks-endpoints.yaml', 'charts/glance/templates/job-clean.yaml', 'charts/heat/values_overrides/rocky-opensuse_15.yaml', 'charts/nova/templates/bin/_health-probe.py.tpl', 'afo-nc-openstack/templates/tests/test-connection.yaml', 'charts/doc/source/install/developer/requirements-and-host-config.rst', 'charts/horizon/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/ironic/templates/job-db-sync.yaml', 'charts/keystone/templates/secret-ingress-tls.yaml', 'charts/aodh/templates/deployment-listener.yaml', 'charts/keystone/templates/job-credential-setup.yaml', 'afo-nc-openstack/templates/serviceaccount.yaml', 'charts/glance/values_overrides/pike-ubuntu_xenial.yaml', 'charts/keystone/templates/cron-job-credential-rotate.yaml', 'charts/keystone/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/nova/values_overrides/victoria.yaml', 'charts/ceilometer/templates/configmap-bin.yaml', 'charts/heat/templates/cron-job-engine-cleaner.yaml', 'charts/cinder/templates/bin/_external-ceph-rbd-admin-keyring.sh.tpl', 'charts/heat/templates/configmap-etc.yaml', 'charts/designate/templates/secret-db.yaml', 'charts/horizon/templates/job-image-repo-sync.yaml', 'charts/ceilometer/templates/secret-keystone.yaml', 'charts/doc/source/contributor/contributing.rst', 'charts/magnum/templates/job-ks-service.yaml', 'charts/placement/templates/service-ingress.yaml', 'charts/nova/templates/deployment-placement.yaml', 'charts/cinder/templates/job-storage-init.yaml', 'charts/keystone/templates/secret-db.yaml', 'charts/neutron/templates/bin/_neutron-ironic-agent.sh.tpl', 'charts/releasenotes/config.yaml', 'charts/barbican/templates/job-image-repo-sync.yaml', 'charts/masakari/templates/configmap-etc.yaml', 'charts/cinder/templates/configmap-bin.yaml', 'charts/octavia/templates/deployment-worker.yaml', 'charts/rally/templates/pdb-api.yaml', 'charts/heat/templates/deployment-engine.yaml', 'charts/designate/templates/job-ks-endpoints.yaml', 'charts/keystone/templates/job-credential-cleanup.yaml', 'charts/placement/templates/bin/_placement-api.sh.tpl', 'charts/nova/templates/service-ingress-novncproxy.yaml', 'charts/heat/templates/job-db-init.yaml', 'charts/nova/templates/job-db-init.yaml', 'charts/octavia/templates/service-api.yaml', 'charts/rally/templates/job-ks-user.yaml', 'charts/nova/Chart.yaml', 'charts/nova/templates/bin/_nova-api-metadata-init.sh.tpl', 'charts/nova/values_overrides/tls.yaml', 'charts/aodh/templates/bin/_aodh-evaluator.sh.tpl', 'charts/nova/values_overrides/train.yaml', 'charts/cinder/values_overrides/queens-ubuntu_xenial.yaml', 'charts/neutron/templates/daemonset-bagpipe-bgp.yaml', 'charts/ceilometer/templates/job-ks-user.yaml', 'charts/keystone/templates/secret-ldap-tls.yaml', 'charts/heat/templates/bin/_bootstrap.sh.tpl', 'charts/octavia/templates/deployment-api.yaml', 'charts/cinder/templates/utils/_ceph_backend_list.tpl', 'charts/keystone/values_overrides/victoria-ubuntu_focal.yaml', 'charts/neutron/values.yaml', 'charts/ceilometer/Chart.yaml', 'charts/cinder/templates/bin/_iscsiadm.tpl', 'charts/cinder/templates/job-ks-service.yaml', 'charts/neutron/templates/bin/_neutron-server.sh.tpl', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-testing.po', 'charts/neutron/values_overrides/tf.yaml', 'charts/nova/templates/cron-job-archive-deleted-rows.yaml', 'charts/nova/templates/bin/_nova-conductor.sh.tpl', 'charts/neutron/templates/secret-db.yaml', 'charts/ironic/templates/bin/_ironic-conductor.sh.tpl', 'charts/senlin/templates/job-rabbit-init.yaml', 'charts/mistral/templates/job-db-drop.yaml', 'charts/cinder/templates/bin/_cinder-api.sh.tpl', 'charts/keystone/values_overrides/opensuse_15.yaml', 'charts/rally/values.yaml', 'charts/cinder/values_overrides/netpol.yaml', 'charts/horizon/templates/bin/_db-sync.sh.tpl', 'charts/neutron/templates/bin/_db-sync.sh.tpl', 'charts/designate/templates/service-api.yaml', 'charts/masakari/templates/daemonset-process-monitor.yaml', 'charts/ceilometer/templates/secret-mongodb.yaml', 'charts/placement/templates/network_policy.yaml', 'charts/placement/templates/configmap-bin.yaml', 'charts/rally/templates/configmap-etc.yaml', 'charts/placement/values_overrides/tls.yaml', 'charts/cyborg/templates/deployment-conductor.yaml', 'charts/ironic/values.yaml', 'charts/ceilometer/templates/network_policy.yaml', 'charts/magnum/templates/job-db-init.yaml', 'charts/cyborg/templates/service-ingress-api.yaml', 'charts/cinder/templates/job-db-sync.yaml', 'charts/cinder/templates/network_policy.yaml', 'charts/designate/templates/pdb-mdns.yaml', 'charts/cyborg/templates/configmap-etc.yaml', 'charts/ironic/templates/secret-rabbitmq.yaml', 'charts/neutron/templates/deployment-server.yaml', 'charts/nova/templates/bin/_nova-console-proxy-init.sh.tpl', 'charts/releasenotes/notes/change-memcache-backend-2d85a3c75b32db39.yaml', 'charts/senlin/templates/job-image-repo-sync.yaml', 'charts/octavia/templates/service-ingress-api.yaml', 'charts/nova/templates/bin/_wait-for-computes-init.sh.tpl', 'charts/rally/templates/job-bootstrap.yaml', 'charts/cinder/templates/secret-ingress-tls.yaml', 'charts/designate/templates/pdb-api.yaml', 'charts/mistral/templates/pdb-api.yaml', 'charts/magnum/templates/statefulset-conductor.yaml', 'charts/doc/source/troubleshooting/database.rst', 'charts/neutron/values_overrides/apparmor.yaml', 'charts/heat/templates/cron-job-purge-deleted.yaml', 'charts/barbican/templates/service-api.yaml', 'charts/masakari/templates/job-db-init.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'charts/neutron/templates/bin/_neutron-openvswitch-agent-readiness.sh.tpl', 'charts/designate/templates/job-ks-service.yaml', 'charts/neutron/templates/pdb-server.yaml', 'charts/designate/templates/deployment-producer.yaml', 'charts/keystone/templates/job-rabbit-init.yaml', 'charts/cinder/templates/bin/_storage-init.sh.tpl', 'charts/mistral/templates/configmap-bin.yaml', 'charts/aodh/templates/service-api.yaml', 'charts/designate/templates/bin/_designate-api.sh.tpl', 'charts/neutron/templates/job-ks-user.yaml', 'charts/nova/templates/job-ks-placement-endpoints.yaml', 'charts/heat/templates/service-cfn.yaml', 'charts/magnum/templates/job-ks-endpoints.yaml', 'charts/barbican/values_overrides/apparmor.yaml', 'charts/doc/source/install/developer/cleaning-deployment.rst', 'charts/placement/templates/configmap-etc.yaml', 'charts/barbican/values_overrides/ocata.yaml', 'charts/doc/source/devref/fluent-logging.rst', 'charts/glance/templates/bin/_clean-secrets.sh.tpl', 'charts/keystone/templates/bin/_cred-clean.py.tpl', 'charts/nova/templates/secret-db-cell0.yaml', 'charts/nova/values.yaml', 'charts/cinder/values.yaml', 'charts/heat/templates/job-trusts.yaml', 'charts/keystone/requirements.yaml', 'charts/heat/templates/secret-rabbitmq.yaml', 'charts/neutron/templates/bin/_neutron-bagpipe-bgp.sh.tpl', 'charts/neutron/templates/bin/_neutron-l3-agent.sh.tpl', 'charts/aodh/templates/cron-job-alarms-cleaner.yaml', 'charts/heat/templates/secret-keystone.yaml', 'charts/mistral/templates/deployment-api.yaml', 'charts/designate/templates/deployment-mdns.yaml', 'charts/placement/values_overrides/victoria-ubuntu_focal.yaml', 'charts/cyborg/templates/job-db-init.yaml', 'charts/designate/templates/pdb-producer.yaml', 'charts/releasenotes/notes/keystone.yaml', 'charts/releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'charts/octavia/templates/job-ks-user.yaml', 'charts/glance/templates/bin/_ceph-admin-keyring.sh.tpl', 'charts/keystone/.helmignore', 'charts/nova/templates/deployment-api-osapi.yaml', 'charts/ironic/templates/service-api.yaml', 'charts/senlin/templates/pod-test.yaml', 'charts/senlin/templates/service-api.yaml', 'charts/horizon/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/nova/templates/job-db-drop.yaml', 'Makefile', 'charts/heat/templates/job-ks-service.yaml', 'charts/nova/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/keystone/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/senlin/templates/deployment-engine.yaml', 'charts/placement/templates/job-ks-user.yaml', 'charts/designate/values.yaml', 'charts/heat/templates/service-ingress-cloudwatch.yaml', 'charts/senlin/requirements.yaml', 'charts/senlin/templates/job-ks-user.yaml', 'charts/horizon/values_overrides/apparmor.yaml', 'charts/mistral/Chart.yaml', 'charts/cinder/Chart.yaml', 'charts/glance/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/magnum/templates/secret-keystone.yaml', 'charts/placement/values_overrides/train-ubuntu_bionic.yaml', 'charts/magnum/templates/bin/_magnum-api.sh.tpl', 'charts/designate/templates/job-ks-user.yaml', 'charts/cinder/values_overrides/queens.yaml', 'charts/doc/source/locale/de/LC_MESSAGES/doc-install.po', 'charts/heat/templates/secret-ingress-tls.yaml', 'charts/ironic/templates/job-ks-endpoints.yaml', 'charts/rally/templates/configmap-test-templates.yaml', 'charts/nova/templates/bin/_nova-scheduler.sh.tpl', 'charts/cyborg/templates/deployment-api.yaml', 'charts/aodh/templates/bin/_db-sync.sh.tpl', 'charts/glance/templates/service-registry.yaml', 'charts/ceilometer/templates/bin/_bootstrap.sh.tpl', 'charts/ironic/templates/secret-keystone.yaml', 'charts/nova/templates/service-novncproxy.yaml', 'charts/heat/templates/network_policy.yaml', 'charts/masakari/templates/bin/_masakari-api.sh.tpl', 'charts/cinder/templates/secret-keystone.yaml', 'charts/neutron/templates/bin/_neutron-linuxbridge-agent.sh.tpl', 'charts/masakari/values.yaml', 'charts/nova/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/glance/templates/bin/_metadefs-load.sh.tpl', 'charts/keystone/templates/bin/_endpoint-update.py.tpl', 'charts/horizon/values_overrides/stein-ubuntu_bionic.yaml', 'charts/rally/Chart.yaml', 'charts/barbican/templates/service-ingress-api.yaml', 'charts/aodh/templates/bin/_aodh-api.sh.tpl', 'charts/cyborg/templates/bin/_cyborg-conductor.sh.tpl', 'charts/horizon/values.yaml', 'charts/nova/templates/service-ingress-placement.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'charts/ceilometer/templates/secret-db.yaml', 'charts/neutron/templates/daemonset-sriov-agent.yaml', 'charts/neutron/values_overrides/queens-ubuntu_xenial.yaml', 'charts/heat/templates/ingress-cloudwatch.yaml', 'charts/neutron/templates/job-db-sync.yaml', 'charts/nova/templates/bin/_nova-compute-ironic.sh.tpl', 'charts/octavia/templates/secret-keystone.yaml', 'charts/doc/source/specs/fluentbit-fluentd-architecture.rst', 'charts/senlin/templates/bin/_senlin-api.sh.tpl', 'charts/designate/templates/secret-ingress-tls.yaml', 'charts/neutron/templates/bin/_neutron-bagpipe-bgp-init.sh.tpl', 'charts/nova/templates/bin/_nova-consoleauth.sh.tpl', 'charts/cyborg/templates/configmap-bin.yaml', 'charts/senlin/templates/job-ks-endpoints.yaml', 'charts/doc/source/testing/index.rst', 'charts/ironic/templates/bin/_manage-cleaning-network.sh.tpl', 'charts/cyborg/templates/secret-keystone.yaml', 'charts/ironic/templates/bin/_ironic-conductor-pxe.sh.tpl', 'afo-nc-openstack/templates/service.yaml', 'charts/glance/templates/secret-rabbitmq.yaml', 'charts/nova/templates/certificates.yaml', 'charts/cinder/values_overrides/train-ubuntu_bionic.yaml', 'charts/tempest/templates/job-run-tests.yaml', 'charts/doc/source/testing/ceph-resiliency/index.rst', 'charts/octavia/templates/network_policy.yaml', 'charts/mistral/templates/job-rabbit-init.yaml', 'charts/nova/templates/cron-job-cell-setup.yaml', 'charts/masakari/templates/secret_rabbitmq.yaml', 'charts/cinder/templates/bin/_backup-storage-init.sh.tpl', 'charts/nova/templates/job-bootstrap.yaml', 'charts/masakari/templates/secret-keystone.yaml', 'charts/heat/templates/job-db-drop.yaml', 'charts/octavia/values.yaml', 'charts/glance/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/horizon/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/masakari/templates/pbd-api.yaml', 'charts/nova/values_overrides/apparmor.yaml', 'charts/cinder/values_overrides/pike.yaml', 'charts/releasenotes/source/conf.py', 'charts/magnum/templates/ingress-api.yaml', 'charts/ironic/templates/secret-db.yaml', 'charts/neutron/templates/deployment-ironic-agent.yaml', 'charts/masakari/templates/job-db-sync.yaml', 'charts/keystone/templates/service-ingress-api.yaml', 'charts/aodh/templates/bin/_aodh-test.sh.tpl', 'charts/doc/source/locale/ko_KR/LC_MESSAGES/doc-devref.po', 'charts/nova/templates/configmap-etc.yaml', 'charts/heat/templates/deployment-api.yaml', 'charts/keystone/templates/bin/_db-sync.sh.tpl', 'charts/senlin/templates/bin/_db-sync.sh.tpl', 'charts/cyborg/templates/network_policy.yaml', 'charts/doc/source/install/plugins/index.rst', 'charts/rally/templates/job-run-task.yaml', 'charts/barbican/values_overrides/pike.yaml', 'charts/nova/templates/bin/_multipath.tpl', 'charts/heat/values_overrides/queens-ubuntu_xenial.yaml', 'charts/cinder/values_overrides/nfs-cinder-backup.yaml', 'charts/neutron/templates/ingress-server.yaml', 'charts/cinder/templates/deployment-scheduler.yaml', 'charts/keystone/templates/job-bootstrap.yaml', 'charts/barbican/templates/bin/_db-sync.sh.tpl', 'charts/ceilometer/templates/pod-rally-test.yaml', 'charts/masakari/templates/deployment-api.yaml', 'charts/neutron/templates/secret-keystone.yaml', 'charts/nova/templates/secret-keystone.yaml', 'charts/releasenotes/notes/nova.yaml', 'charts/doc/source/specs/COPYME', 'charts/ironic/templates/bin/_bootstrap.sh.tpl', 'charts/rally/templates/configmap-bin.yaml', 'charts/magnum/templates/bin/_db-sync.sh.tpl', 'charts/ceilometer/templates/ingress-api.yaml', 'charts/heat/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/ceilometer/templates/bin/_ceilometer-ipmi.sh.tpl', 'charts/doc/source/install/developer/kubernetes-and-common-setup.rst', 'charts/cinder/templates/bin/_volume-usage-audit.sh.tpl', 'charts/rally/requirements.yaml', 'charts/horizon/templates/pod-helm-tests.yaml', 'charts/ceilometer/templates/deployment-api.yaml', 'charts/heat/templates/bin/_heat-purge-deleted-active.sh.tpl', 'charts/neutron/templates/bin/_neutron-linuxbridge-agent-init.sh.tpl', 'charts/nova/templates/job-ks-service.yaml', 'charts/doc/source/specs/index.rst', 'charts/barbican/templates/secret-keystone.yaml', 'charts/nova/values_overrides/opensuse_15.yaml', 'charts/octavia/requirements.yaml', 'charts/mistral/templates/bin/_mistral-engine.sh.tpl', 'charts/nova/templates/pod-rally-test.yaml', 'charts/placement/templates/job-db-sync.yaml', 'charts/cinder/templates/pod-rally-test.yaml', 'charts/ironic/templates/bin/_ironic-conductor-http.sh.tpl', 'charts/nova/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/keystone/templates/configmap-etc.yaml', 'charts/placement/templates/secret-keystone.yaml', 'charts/placement/templates/certificates.yaml', 'charts/doc/source/specs/nginx-sidecar.rst', 'charts/ceilometer/templates/job-ks-service.yaml', 'charts/nova/templates/secret-ingress-tls.yaml', 'charts/cinder/values_overrides/apparmor.yaml', 'charts/doc/source/testing/ceph-resiliency/monitor-failure.rst', 'charts/nova/values_overrides/queens-ubuntu_xenial.yaml', 'charts/designate/templates/job-db-sync.yaml', 'charts/horizon/templates/secret-keystone.yaml', 'charts/mistral/templates/network_policy.yaml', 'charts/cinder/templates/deployment-api.yaml', 'charts/keystone/values_overrides/tls.yaml', 'charts/glance/values.yaml', 'charts/senlin/templates/job-db-sync.yaml', 'charts/nova/templates/service-ingress-osapi.yaml', 'charts/octavia/templates/bin/_octavia-health-manager-nic-init.sh.tpl', 'charts/designate/templates/bin/_bootstrap.sh.tpl', 'charts/heat/templates/certificates.yaml', 'charts/octavia/templates/configmap-etc.yaml', 'charts/rally/templates/bin/_run-task.sh.tpl', 'charts/barbican/templates/job-bootstrap.yaml', 'charts/nova/templates/ingress-osapi.yaml', 'charts/heat/templates/bin/_heat-engine.sh.tpl', 'charts/heat/templates/pdb-cloudwatch.yaml', 'charts/keystone/templates/job-db-init.yaml', 'charts/nova/templates/service-osapi.yaml', 'charts/octavia/templates/bin/_octavia-api.sh.tpl', 'charts/neutron/templates/job-image-repo-sync.yaml', 'charts/glance/templates/job-image-repo-sync.yaml', 'charts/keystone/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/aodh/templates/deployment-evaluator.yaml', 'charts/barbican/templates/configmap-etc.yaml', 'charts/doc/source/_static/.placeholder'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/065b8fb72da6858925ebd9ab7c477159c0ce896f', 'message': 'initial commit\n\nChange-Id: Iaa4da2ed8afbe17b031a4ca1da9ab98a79cc6caa\n'}]",0,828789,065b8fb72da6858925ebd9ab7c477159c0ce896f,4,0,1,32090,,,0,"initial commit

Change-Id: Iaa4da2ed8afbe17b031a4ca1da9ab98a79cc6caa
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/89/828789/1 && git format-patch -1 --stdout FETCH_HEAD,"['charts/heat/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/releasenotes/notes/tempest.yaml', 'charts/neutron/templates/daemonset-lb-agent.yaml', 'charts/nova/templates/bin/_nova-service-cleaner.sh.tpl', 'charts/neutron/templates/pod-rally-test.yaml', 'charts/heat/templates/pod-rally-test.yaml', 'charts/keystone/templates/secret-keystone.yaml', 'charts/octavia/templates/ingress-api.yaml', 'charts/nova/templates/netpol-placement.yaml', 'charts/doc/source/testing/ceph-node-resiliency.rst', 'charts/horizon/templates/job-db-init.yaml', 'charts/barbican/templates/ingress-api.yaml', 'charts/heat/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/neutron/templates/bin/_neutron-sriov-agent.sh.tpl', 'charts/octavia/templates/job-bootstrap.yaml', 'charts/rally/templates/job-db-init.yaml', 'charts/keystone/Chart.yaml', 'charts/barbican/templates/job-db-drop.yaml', 'charts/horizon/values_overrides/rocky-opensuse_15.yaml', 'charts/nova/templates/cron-job-service-cleaner.yaml', 'charts/neutron/templates/secret-ingress-tls.yaml', 'charts/senlin/templates/service-ingress-api.yaml', 'charts/glance/templates/job-db-init.yaml', 'charts/neutron/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/nova/templates/ingress-metadata.yaml', 'charts/magnum/values.yaml', 'charts/cinder/templates/job-bootstrap.yaml', 'charts/rally/templates/job-image-repo-sync.yaml', 'charts/senlin/templates/secret-rabbitmq.yaml', 'charts/glance/templates/deployment-registry.yaml', 'charts/octavia/templates/job-db-drop.yaml', 'charts/senlin/templates/bin/_bootstrap.sh.tpl', 'charts/horizon/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/ironic/templates/ingress-api.yaml', 'charts/keystone/templates/secret-rabbitmq.yaml', 'charts/placement/templates/job-image-repo-sync.yaml', 'charts/magnum/templates/job-rabbit-init.yaml', 'charts/senlin/templates/job-db-init.yaml', 'charts/cinder/templates/job-ks-user.yaml', 'charts/ironic/templates/job-image-repo-sync.yaml', 'charts/nova/templates/bin/_nova-compute.sh.tpl', 'charts/cinder/templates/service-ingress-api.yaml', 'charts/magnum/templates/bin/_bootstrap.sh.tpl', 'charts/heat/.helmignore', 'charts/designate/templates/configmap-bin.yaml', 'charts/doc/source/specs/support-linux-bridge-on-neutron.rst', 'charts/nova/templates/bin/_iscsiadm.tpl', 'charts/placement/templates/bin/_db-migrate.sh.tpl', 'charts/barbican/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/neutron/values_overrides/ocata.yaml', 'charts/nova/templates/secret-db.yaml', 'charts/magnum/templates/job-ks-user.yaml', 'charts/designate/templates/secret-keystone.yaml', 'charts/doc/source/specs/multi-os.rst', 'charts/masakari/templates/bin/_masakari-instance-monitor.sh.tpl', 'charts/heat/templates/secret-db.yaml', 'charts/doc/source/testing/ceph-resiliency/host-failure.rst', 'charts/ironic/templates/bin/_ironic-api.sh.tpl', 'charts/neutron/templates/daemonset-metadata-agent.yaml', 'charts/barbican/Chart.yaml', 'charts/cyborg/templates/job-ks-endpoints.yaml', 'charts/senlin/templates/pdb-api.yaml', 'charts/ironic/templates/bin/_ironic-conductor-init.sh.tpl', 'charts/heat/templates/job-ks-user.yaml', 'charts/placement/values_overrides/netpol.yaml', 'charts/releasenotes/notes/magnum.yaml', 'charts/cinder/values_overrides/tls.yaml', 'charts/horizon/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/ceilometer/templates/job-db-sync.yaml', 'charts/horizon/templates/bin/_selenium-test.py.tpl', 'charts/heat/templates/ingress-cfn.yaml', 'charts/nova/requirements.yaml', 'charts/releasenotes/notes/ironic.yaml', 'charts/heat/templates/bin/_heat-api.sh.tpl', 'charts/horizon/templates/service.yaml', 'charts/doc/source/install/developer/exercise-the-cloud.rst', 'charts/nova/templates/secret-ssh.yaml', 'charts/cyborg/requirements.yaml', 'charts/masakari/templates/bin/_masakari-monitors-init.sh.tpl', 'charts/designate/templates/deployment-api.yaml', 'charts/octavia/templates/daemonset-health-manager.yaml', 'charts/cinder/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/tempest/templates/job-image-repo-sync.yaml', 'charts/ceilometer/values.yaml', 'charts/designate/templates/bin/_designate-mdns.sh.tpl', 'charts/senlin/templates/ingress-api.yaml', 'charts/doc/source/troubleshooting/ceph.rst', 'charts/mistral/templates/bin/_mistral-api.sh.tpl', 'charts/barbican/templates/bin/_simple_crypto_kek_rewrap.py.tpl', 'charts/cyborg/templates/job-ks-service.yaml', 'charts/ironic/templates/bin/_ironic-conductor-http-init.sh.tpl', 'charts/keystone/templates/bin/_fernet-manage.py.tpl', 'charts/cinder/values_overrides/rocky-opensuse_15.yaml', 'charts/neutron/templates/bin/_neutron-metadata-agent.sh.tpl', 'charts/masakari/requirements.yaml', 'charts/octavia/templates/bin/_octavia-health-manager-get-port.sh.tpl', 'charts/glance/templates/job-bootstrap.yaml', 'charts/magnum/templates/service-ingress-api.yaml', 'charts/mistral/templates/bin/_bootstrap.sh.tpl', 'charts/neutron/templates/configmap-bin.yaml', 'charts/horizon/templates/job-db-drop.yaml', 'charts/tempest/templates/bin/_run-tests.sh.tpl', 'charts/ironic/templates/pdb-api.yaml', 'afo-nc-openstack/.helmignore', 'charts/placement/templates/bin/_mysql-migrate-db.sh.tpl', 'charts/ceilometer/templates/deployment-central.yaml', 'charts/octavia/templates/job-image-repo-sync.yaml', 'charts/barbican/values_overrides/train-ubuntu_bionic.yaml', 'charts/heat/templates/job-ks-user-domain.yaml', 'charts/horizon/templates/bin/_horizon.sh.tpl', 'charts/octavia/templates/secret-db.yaml', 'charts/glance/templates/job-db-drop.yaml', 'charts/releasenotes/notes/glance.yaml', 'charts/keystone/templates/job-domain-manage.yaml', 'charts/heat/values.yaml', 'charts/heat/templates/pdb-cfn.yaml', 'charts/mistral/templates/statefulset-event-engine.yaml', 'charts/doc/source/install/developer/deploy-with-nfs.rst', 'charts/doc/source/locale/de/LC_MESSAGES/doc-testing.po', 'charts/masakari/templates/job-rabbitmq-init.yaml', 'charts/horizon/requirements.yaml', 'charts/keystone/templates/ingress-api.yaml', 'charts/nova/templates/pdb-placement.yaml', 'charts/heat/templates/bin/_heat-cfn.sh.tpl', 'charts/nova/templates/bin/_cell-setup.sh.tpl', 'charts/doc/source/conf.py', 'charts/doc/source/specs/developer-environment.rst', 'charts/glance/templates/service-ingress-api.yaml', 'charts/designate/templates/configmap-etc.yaml', 'charts/neutron/templates/secret_rabbitmq.yaml', 'charts/neutron/templates/job-ks-endpoints.yaml', 'charts/neutron/templates/daemonset-l2gw-agent.yaml', 'charts/cinder/templates/deployment-volume.yaml', 'charts/cyborg/templates/ingress-api.yaml', 'charts/cyborg/templates/secret-db.yaml', 'charts/mistral/values.yaml', 'charts/cinder/templates/job-rabbit-init.yaml', 'charts/barbican/requirements.yaml', 'charts/keystone/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/mistral/templates/job-ks-user.yaml', 'charts/nova/values_overrides/rocky-opensuse_15.yaml', 'charts/aodh/templates/job-rabbit-init.yaml', 'charts/doc/source/devref/index.rst', 'charts/barbican/templates/bin/_barbican.sh.tpl', 'charts/doc/source/devref/networking.rst', 'charts/ceilometer/templates/bin/_ceilometer-notification.sh.tpl', 'charts/nova/templates/job-cell-setup.yaml', 'charts/placement/templates/job-db-init.yaml', 'charts/glance/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/nova/templates/bin/_ceph-keyring.sh.tpl', 'charts/neutron/templates/bin/_neutron-netns-cleanup-cron.py.tpl', 'charts/designate/templates/bin/_designate-central.sh.tpl', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-specs.po', 'charts/nova/values_overrides/pike-ubuntu_xenial.yaml', 'charts/placement/requirements.yaml', 'charts/masakari/templates/deployment-engine.yaml', 'charts/aodh/templates/pod-aodh-test.yaml', 'charts/cinder/templates/bin/_cinder-scheduler.sh.tpl', 'charts/nova/templates/job-ks-placement-user.yaml', 'charts/neutron/templates/bin/_neutron-dhcp-agent-init.sh.tpl', 'charts/designate/templates/pdb-worker.yaml', 'charts/keystone/values.yaml', 'charts/designate/templates/pdb-central.yaml', 'charts/tempest/requirements.yaml', 'charts/doc/source/specs/values-ordering.rst', 'charts/mistral/templates/job-ks-service.yaml', 'charts/horizon/values_overrides/train-ubuntu_bionic.yaml', 'charts/magnum/templates/job-db-sync.yaml', 'charts/doc/source/gates.rst', 'charts/heat/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/designate/templates/service-mdns.yaml', 'charts/releasenotes/notes/increase-default-logging-31db0e9d3e51b429.yaml', 'charts/heat/values_overrides/train-ubuntu_bionic.yaml', 'charts/glance/templates/secret-keystone.yaml', 'charts/neutron/templates/daemonset-dhcp-agent.yaml', 'charts/masakari/templates/service-api.yaml', 'charts/cinder/templates/job-create-internal-tenant.yaml', 'charts/aodh/templates/bin/_bootstrap.sh.tpl', 'charts/aodh/templates/job-bootstrap.yaml', 'charts/cyborg/templates/job-db-drop.yaml', 'afo-nc-openstack/values.yaml', 'charts/nova/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/doc/source/install/index.rst', 'charts/cinder/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/keystone/templates/configmap-bin.yaml', 'charts/mistral/templates/job-db-init.yaml', 'charts/nova/templates/deployment-api-metadata.yaml', 'charts/barbican/.helmignore', 'charts/octavia/templates/job-db-init.yaml', 'charts/barbican/templates/secret-ingress-tls.yaml', 'charts/barbican/values_overrides/rocky.yaml', 'charts/releasenotes/notes/panko.yaml', 'charts/horizon/templates/ingress-api.yaml', 'charts/ceilometer/templates/service-api.yaml', 'charts/nova/templates/bin/_nova-console-proxy.sh.tpl', 'charts/aodh/templates/job-db-sync.yaml', 'afo-nc-openstack/templates/ingress.yaml', 'charts/glance/templates/pvc-images.yaml', 'charts/senlin/templates/bin/_senlin-test.sh.tpl', 'charts/horizon/templates/configmap-etc.yaml', 'charts/ceilometer/templates/deployment-collector.yaml', 'charts/releasenotes/notes/ceilometer.yaml', 'charts/tempest/templates/pvc-tempest.yaml', 'charts/doc/source/devref/upgrades.rst', 'charts/senlin/templates/secret-keystone.yaml', 'charts/mistral/templates/statefulset-engine.yaml', 'charts/magnum/templates/deployment-api.yaml', 'charts/barbican/templates/deployment-api.yaml', 'charts/neutron/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/heat/templates/job-image-repo-sync.yaml', 'charts/designate/templates/service-ingress-api.yaml', 'charts/keystone/templates/job-db-drop.yaml', 'charts/keystone/values_overrides/netpol.yaml', 'charts/octavia/templates/secret-rabbitmq.yaml', 'charts/mistral/templates/configmap-etc.yaml', 'charts/neutron/templates/daemonset-netns-cleanup-cron.yaml', 'README.md', 'charts/rally/templates/pvc-rally.yaml', 'charts/aodh/templates/deployment-notifier.yaml', 'charts/horizon/templates/deployment.yaml', 'charts/magnum/templates/pdb-api.yaml', 'charts/senlin/Chart.yaml', 'charts/doc/requirements.txt', 'charts/ceilometer/templates/bin/_db-sync.sh.tpl', 'charts/ironic/templates/job-bootstrap.yaml', 'charts/neutron/templates/job-db-init.yaml', 'charts/nova/values_overrides/stein.yaml', 'charts/nova/values_overrides/tf.yaml', 'charts/rally/README.rst', 'charts/designate/Chart.yaml', 'charts/doc/source/locale/ko_KR/LC_MESSAGES/doc-troubleshooting.po', 'charts/neutron/values_overrides/netpol.yaml', 'charts/aodh/templates/bin/_aodh-alarms-cleaner.sh.tpl', 'charts/rally/templates/bin/_manage-db.sh.tpl', 'charts/releasenotes/notes/designate.yaml', 'charts/heat/templates/job-bootstrap.yaml', 'charts/cyborg/templates/pdb-api.yaml', 'charts/keystone/templates/bin/_domain-manage.py.tpl', 'charts/neutron/templates/bin/_neutron-sriov-agent-init.sh.tpl', 'charts/doc/source/troubleshooting/ubuntu-hwe-kernel.rst', 'charts/barbican/templates/job-ks-service.yaml', 'charts/neutron/Chart.yaml', 'charts/cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'charts/designate/templates/bin/_designate-worker.sh.tpl', 'charts/ceilometer/templates/bin/_ceilometer-compute.sh.tpl', 'charts/ceilometer/templates/bin/_db-init-mongodb.sh.tpl', 'charts/placement/templates/job-ks-endpoints.yaml', 'charts/ironic/templates/service-ingress-api.yaml', 'charts/doc/source/install/developer/deploy-ovs-dpdk.rst', 'charts/senlin/templates/deployment-api.yaml', 'charts/masakari/templates/bin/_masakari-engine.sh.tpl', 'charts/barbican/values.yaml', 'charts/barbican/values_overrides/victoria-ubuntu_focal.yaml', 'charts/ceilometer/templates/deployment-notification.yaml', 'charts/heat/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/mistral/templates/bin/_mistral-executor.sh.tpl', 'charts/ironic/templates/job-db-drop.yaml', 'charts/nova/templates/job-ks-user.yaml', 'charts/mistral/templates/service-ingress-api.yaml', 'charts/horizon/templates/bin/_manage.py.tpl', 'charts/designate/requirements.yaml', 'charts/mistral/requirements.yaml', 'charts/doc/source/devref/images.rst', 'charts/aodh/templates/service-ingress-api.yaml', 'charts/octavia/Chart.yaml', 'charts/nova/templates/job-rabbit-init.yaml', 'charts/aodh/templates/secret-ingress-tls.yaml', 'charts/glance/Chart.yaml', 'charts/cinder/templates/bin/_cinder-volume.sh.tpl', 'charts/heat/Chart.yaml', 'charts/barbican/values_overrides/netpol.yaml', 'charts/heat/templates/bin/_trusts.sh.tpl', 'charts/heat/templates/deployment-cfn.yaml', 'charts/magnum/templates/bin/_magnum-conductor.sh.tpl', 'charts/barbican/templates/pod-test.yaml', 'charts/horizon/templates/network_policy.yaml', 'charts/mistral/templates/job-ks-endpoints.yaml', 'charts/aodh/values.yaml', 'charts/aodh/templates/secret-db.yaml', 'charts/placement/templates/service.yaml', 'charts/barbican/templates/job-rabbit-init.yaml', 'charts/releasenotes/notes/aodh.yaml', 'charts/heat/requirements.yaml', 'charts/mistral/templates/job-bootstrap.yaml', 'charts/heat/templates/bin/_heat-cloudwatch.sh.tpl', 'charts/designate/templates/deployment-worker.yaml', 'afo-nc-openstack/templates/deployment.yaml', 'charts/ceilometer/templates/daemonset-compute.yaml', 'charts/doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'charts/neutron/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/neutron/templates/job-ks-service.yaml', 'charts/barbican/templates/job-ks-endpoints.yaml', 'charts/placement/templates/job-ks-service.yaml', 'charts/glance/values_overrides/train-ubuntu_bionic.yaml', 'charts/aodh/templates/bin/_aodh-listener.sh.tpl', 'charts/nova/templates/service-spiceproxy.yaml', 'charts/cinder/templates/bin/_db-sync.sh.tpl', 'charts/releasenotes/notes/rename-ceph-rbd-pool-app-name.yaml', 'charts/glance/values_overrides/netpol.yaml', 'charts/ceilometer/templates/bin/_ceilometer-collector.sh.tpl', 'charts/cinder/templates/ingress-api.yaml', 'charts/glance/templates/bin/_bootstrap.sh.tpl', 'charts/nova/templates/deployment-spiceproxy.yaml', 'charts/mistral/templates/ingress-api.yaml', 'charts/masakari/templates/bin/_masakari-process-monitor.sh.tpl', 'charts/releasenotes/source/current.rst', 'charts/designate/templates/bin/_db-sync.sh.tpl', 'charts/cinder/templates/bin/_ceph-admin-keyring.sh.tpl', 'charts/doc/source/testing/helm-tests.rst', 'charts/neutron/values_overrides/rocky-opensuse_15.yaml', 'charts/placement/templates/bin/_db-sync.sh.tpl', 'charts/keystone/templates/bin/_keystone-api.sh.tpl', 'charts/cinder/templates/job-db-init.yaml', 'charts/ceilometer/templates/bin/_ceilometer-central.sh.tpl', 'charts/neutron/templates/certificates.yaml', 'charts/keystone/values_overrides/pike-ubuntu_xenial.yaml', 'charts/magnum/templates/job-bootstrap.yaml', 'charts/nova/templates/job-db-sync.yaml', 'charts/nova/templates/bin/_nova-console-proxy-init-assets.sh.tpl', 'charts/keystone/templates/deployment-api.yaml', 'charts/senlin/templates/job-bootstrap.yaml', 'charts/heat/templates/ingress-api.yaml', 'charts/mistral/templates/job-db-sync.yaml', 'charts/rally/templates/job-ks-service.yaml', 'charts/glance/templates/pdb-registry.yaml', 'charts/cyborg/templates/daemonset-agent.yaml', 'charts/neutron/templates/configmap-etc.yaml', 'charts/releasenotes/notes/placement.yaml', 'charts/keystone/templates/bin/_domain-manage.sh.tpl', 'charts/cinder/templates/pdb-api.yaml', 'charts/glance/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/rally/templates/configmap-tasks.yaml', 'charts/glance/templates/bin/_clean-image.sh.tpl', 'charts/nova/templates/bin/_ceph-admin-keyring.sh.tpl', 'charts/cinder/values_overrides/ocata.yaml', 'charts/releasenotes/notes/horizon.yaml', 'charts/ceilometer/templates/bin/_ceilometer-api.sh.tpl', 'charts/ceilometer/templates/secret-rabbitmq.yaml', 'charts/cyborg/templates/job-rabbit-init.yaml', 'charts/releasenotes/notes/octavia.yaml', 'charts/neutron/templates/job-bootstrap.yaml', 'charts/neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'charts/magnum/Chart.yaml', 'charts/magnum/templates/job-image-repo-sync.yaml', 'charts/glance/templates/job-storage-init.yaml', 'charts/keystone/templates/pdb.yaml', 'charts/neutron/templates/bin/_bootstrap.sh.tpl', 'charts/releasenotes/notes/neutron.yaml', 'charts/keystone/templates/job-image-repo-sync.yaml', 'charts/aodh/templates/network_policy.yaml', 'charts/nova/templates/bin/_multipathd.tpl', 'charts/masakari/templates/daemonset-instance-monitor.yaml', 'charts/aodh/templates/job-ks-service.yaml', 'charts/neutron/values_overrides/train-ubuntu_bionic.yaml', 'charts/senlin/templates/configmap-etc.yaml', 'charts/placement/templates/deployment.yaml', 'charts/magnum/templates/configmap-etc.yaml', 'charts/barbican/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/neutron/templates/network_policy.yaml', 'charts/nova/values_overrides/netpol.yaml', 'charts/nova/templates/bin/_cell-setup-init.sh.tpl', 'charts/cinder/templates/job-clean.yaml', 'charts/octavia/templates/bin/_bootstrap.sh.tpl', 'charts/glance/templates/pod-rally-test.yaml', 'charts/ironic/requirements.yaml', 'charts/nova/templates/daemonset-compute.yaml', 'charts/heat/templates/bin/_db-sync.sh.tpl', 'charts/cinder/templates/job-ks-endpoints.yaml', 'charts/horizon/Chart.yaml', 'charts/keystone/templates/service-api.yaml', 'charts/nova/templates/bin/_bootstrap.sh.tpl', 'charts/cinder/values_overrides/victoria-ubuntu_focal.yaml', 'charts/doc/source/locale/de/LC_MESSAGES/doc.po', 'charts/nova/templates/bin/_nova-console-compute-init.sh.tpl', 'charts/nova/templates/secret-db-api.yaml', 'charts/ceilometer/templates/service-ingress-api.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'charts/doc/source/troubleshooting/index.rst', 'charts/barbican/templates/secret-db.yaml', 'charts/mistral/templates/job-image-repo-sync.yaml', 'charts/glance/templates/job-ks-endpoints.yaml', 'charts/doc/source/locale/de/LC_MESSAGES/doc-troubleshooting.po', 'charts/rally/templates/job-ks-endpoints.yaml', 'charts/cyborg/templates/service-api.yaml', 'charts/nova/values_overrides/victoria-ubuntu_focal.yaml', 'charts/glance/templates/job-metadefs-load.yaml', 'charts/ironic/templates/bin/_retreive-swift-config.sh.tpl', 'charts/octavia/templates/bin/_db-sync.sh.tpl', 'charts/designate/templates/bin/_designate-sink.sh.tpl', 'charts/cyborg/templates/bin/_db-sync.sh.tpl', 'charts/doc/source/devref/pod-disruption-budgets.rst', 'charts/neutron/templates/bin/_neutron-openvswitch-agent.sh.tpl', 'charts/mistral/templates/secret-db.yaml', 'charts/barbican/templates/bin/_bootstrap.sh.tpl', 'charts/nova/templates/bin/_ssh-start.sh.tpl', 'charts/masakari/templates/job-db-drop.yaml', 'charts/heat/templates/job-rabbit-init.yaml', 'charts/glance/templates/service-ingress-registry.yaml', 'charts/ironic/templates/job-db-init.yaml', 'charts/octavia/templates/secret-ingress-tls.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-devref.po', 'charts/aodh/templates/job-db-init.yaml', 'charts/nova/templates/bin/_nova-api-metadata.sh.tpl', 'charts/cyborg/templates/secret-rabbitmq.yaml', 'charts/glance/requirements.yaml', 'charts/horizon/values_overrides/opensuse_15.yaml', 'charts/masakari/.helmignore', 'charts/cinder/requirements.yaml', 'charts/heat/values_overrides/victoria-ubuntu_focal.yaml', 'charts/glance/templates/secret-ingress-tls.yaml', 'charts/horizon/templates/certificates.yaml', 'charts/heat/templates/service-ingress-api.yaml', 'charts/keystone/templates/job-fernet-setup.yaml', 'charts/ceilometer/templates/configmap-etc.yaml', 'charts/nova/templates/bin/_db-archive-deleted-row.sh.tpl', 'charts/senlin/templates/network_policy.yaml', 'charts/octavia/templates/bin/_octavia-worker.sh.tpl', 'charts/releasenotes/notes/mistral.yaml', 'charts/neutron/templates/daemonset-l3-agent.yaml', 'charts/aodh/templates/secret-rabbitmq.yaml', 'charts/masakari/templates/configmap-bin.yaml', 'charts/barbican/templates/job-db-init.yaml', 'charts/heat/values_overrides/netpol.yaml', 'charts/barbican/templates/network_policy.yaml', 'charts/aodh/templates/job-ks-user.yaml', 'charts/glance/templates/certificates.yaml', 'charts/aodh/Chart.yaml', 'charts/horizon/templates/secret-ingress-tls.yaml', 'charts/keystone/templates/network_policy.yaml', 'charts/neutron/templates/bin/_neutron-l3-agent-init.sh.tpl', 'charts/tempest/templates/configmap-etc.yaml', 'charts/horizon/values_overrides/queens-ubuntu_xenial.yaml', 'charts/tempest/templates/_helpers.tpl', 'charts/glance/values_overrides/victoria-ubuntu_focal.yaml', 'charts/aodh/templates/deployment-api.yaml', 'charts/neutron/templates/job-db-drop.yaml', 'charts/nova/templates/bin/_nova-api.sh.tpl', 'charts/nova/values_overrides/ssh.yaml', 'charts/doc/source/readme.rst', 'charts/ceilometer/templates/job-bootstrap.yaml', 'charts/doc/source/install/ext-dns-fqdn.rst', 'afo-nc-openstack/templates/_helpers.tpl', 'charts/senlin/templates/job-db-drop.yaml', 'charts/ceilometer/templates/daemonset-ipmi.yaml', 'charts/heat/templates/job-db-sync.yaml', 'charts/nova/templates/deployment-novncproxy.yaml', 'charts/neutron/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/neutron/values_overrides/victoria-ubuntu_focal.yaml', 'charts/cinder/templates/job-image-repo-sync.yaml', 'charts/cinder/.helmignore', 'charts/doc/source/specs/support-OCI-image-registry-with-authentication-turned-on.rst', 'charts/cinder/templates/deployment-backup.yaml', 'charts/octavia/templates/pdb-api.yaml', 'charts/nova/.helmignore', 'charts/cinder/values_overrides/pike-ubuntu_xenial.yaml', 'charts/neutron/values_overrides/gate.yaml', 'charts/tempest/templates/job-ks-user.yaml', 'charts/releasenotes/notes/senlin.yaml', 'charts/ironic/templates/job-rabbit-init.yaml', 'charts/doc/source/testing/ceph-resiliency/disk-failure.rst', 'charts/glance/templates/ingress-api.yaml', 'charts/releasenotes/notes/barbican.yaml', 'charts/keystone/values_overrides/rocky-opensuse_15.yaml', 'charts/magnum/templates/network_policy.yaml', 'charts/heat/templates/service-cloudwatch.yaml', 'charts/aodh/requirements.yaml', 'charts/cinder/templates/bin/_retrieve-internal-tenant-id.sh.tpl', 'charts/cinder/templates/secret-db.yaml', 'charts/designate/templates/secret-rabbitmq.yaml', 'charts/nova/templates/job-ks-placement-service.yaml', 'charts/glance/templates/bin/_nginx.sh.tpl', 'charts/mistral/templates/bin/_db-sync.sh.tpl', 'charts/tempest/templates/secret-keystone.yaml', 'charts/neutron/templates/bin/_nginx.sh.tpl', 'charts/doc/source/devref/node-and-label-specific-configurations.rst', 'charts/octavia/templates/job-rabbit-init.yaml', 'charts/horizon/templates/configmap-bin.yaml', 'charts/mistral/templates/secret-keystone.yaml', 'charts/nova/templates/secret-keystone-placement.yaml', 'charts/doc/source/specs/tenant-ceph.rst', 'afo-nc-openstack/templates/hpa.yaml', 'charts/masakari/templates/bin/_masakari-host-monitor.sh.tpl', 'charts/cinder/templates/bin/_bootstrap.sh.tpl', 'charts/neutron/templates/bin/_neutron-metadata-agent-init.sh.tpl', 'charts/horizon/templates/pdb.yaml', 'charts/neutron/templates/bin/_neutron-linuxbridge-agent-init-modules.sh.tpl', 'charts/cinder/templates/bin/_clean-secrets.sh.tpl', 'charts/doc/source/install/plugins/figures/taas-architecture.png', 'charts/keystone/templates/certificates.yaml', 'charts/designate/templates/deployment-central.yaml', 'charts/horizon/.helmignore', 'charts/placement/templates/job-db-drop.yaml', 'charts/doc/source/devref/oslo-config.rst', 'charts/doc/source/specs/osh-1.0-requirements.rst', 'charts/placement/templates/secret-ingress-tls.yaml', 'charts/magnum/templates/job-ks-user-domain.yaml', 'charts/senlin/values.yaml', 'charts/neutron/values_overrides/tls.yaml', 'charts/glance/templates/job-ks-user.yaml', 'charts/keystone/templates/cron-job-fernet-rotate.yaml', 'charts/cinder/templates/bin/_cinder-backup.sh.tpl', 'charts/keystone/templates/secret-credential-keys.yaml', 'charts/placement/templates/pdb.yaml', 'charts/glance/templates/pdb-api.yaml', 'charts/cinder/templates/utils/_has_ceph_backend.tpl', 'charts/cinder/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/placement/templates/ingress.yaml', 'charts/neutron/templates/service-server.yaml', 'charts/ceilometer/templates/job-db-init.yaml', 'charts/octavia/templates/bin/_octavia-health-manager.sh.tpl', 'charts/tempest/templates/configmap-bin.yaml', 'charts/cyborg/Chart.yaml', 'charts/keystone/templates/bin/_domain-manage-init.sh.tpl', 'charts/glance/values_overrides/queens-ubuntu_xenial.yaml', 'charts/octavia/templates/job-db-sync.yaml', 'charts/ironic/templates/job-ks-service.yaml', 'charts/nova/templates/secret_rabbitmq.yaml', 'charts/aodh/templates/pdb-api.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-troubleshooting.po', 'charts/glance/values_overrides/tls.yaml', 'charts/heat/templates/configmap-bin.yaml', 'charts/nova/values_overrides/ussuri.yaml', 'charts/neutron/values_overrides/pike.yaml', 'charts/senlin/templates/bin/_senlin-engine-cleaner.sh.tpl', 'charts/masakari/templates/job-ks-user.yaml', 'charts/glance/values_overrides/apparmor.yaml', 'charts/aodh/templates/job-ks-endpoints.yaml', 'charts/mistral/templates/bin/_mistral-event-engine.sh.tpl', 'charts/nova/templates/configmap-bin.yaml', 'charts/doc/source/troubleshooting/persistent-storage.rst', 'charts/heat/values_overrides/tls.yaml', 'charts/keystone/values_overrides/ldap.yaml', 'charts/cinder/values_overrides/backend_pure.yaml', 'charts/placement/values_overrides/apparmor.yaml', 'charts/nova/templates/deployment-conductor.yaml', 'charts/doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'charts/cinder/templates/configmap-etc.yaml', 'charts/ironic/templates/network_policy.yaml', 'charts/doc/source/install/developer/deploy-with-ceph.rst', 'charts/keystone/templates/bin/_bootstrap.sh.tpl', 'charts/octavia/templates/job-ks-endpoint.yaml', 'charts/nova/templates/service-ingress-metadata.yaml', 'charts/neutron/values_overrides/shared-sriov-ovs-dpdk-bond.yaml', 'charts/senlin/templates/cron-job-engine-cleaner.yaml', 'charts/cinder/templates/bin/_multipath.tpl', 'charts/glance/templates/secret-db.yaml', 'charts/designate/templates/ingress-api.yaml', 'charts/nova/values_overrides/wallaby.yaml', 'charts/doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'charts/ironic/templates/bin/_db-sync.sh.tpl', 'charts/senlin/templates/secret-db.yaml', 'charts/aodh/templates/job-db-drop.yaml', 'charts/glance/values_overrides/rocky-opensuse_15.yaml', 'charts/designate/templates/job-db-init.yaml', 'charts/horizon/values_overrides/netpol.yaml', 'charts/glance/templates/deployment-api.yaml', 'charts/neutron/templates/bin/_health-probe.py.tpl', 'charts/barbican/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/designate/templates/bin/_designate-producer.sh.tpl', 'charts/tempest/Chart.yaml', 'charts/rally/templates/bin/_bootstrap.sh.tpl', 'charts/doc/source/install/developer/deploy-with-tungsten-fabric.rst', 'charts/ironic/templates/configmap-bin.yaml', 'charts/glance/templates/bin/_glance-api.sh.tpl', 'charts/nova/templates/deployment-consoleauth.yaml', 'charts/barbican/templates/job-db-sync.yaml', 'charts/senlin/templates/bin/_senlin-engine.sh.tpl', 'charts/glance/templates/bin/_ceph-keyring.sh.tpl', 'charts/nova/values_overrides/cntt.yaml', 'charts/glance/templates/configmap-bin.yaml', 'charts/mistral/templates/service-api.yaml', 'charts/cinder/templates/service-api.yaml', 'charts/glance/templates/ingress-registry.yaml', 'charts/aodh/templates/job-image-repo-sync.yaml', 'charts/barbican/values_overrides/tls.yaml', 'charts/cinder/templates/bin/_multipathd.tpl', 'charts/nova/templates/ingress-placement.yaml', 'charts/cinder/templates/secret-external-ceph-keyring.yaml', 'charts/neutron/templates/bin/_neutron-openvswitch-agent-init-modules.sh.tpl', 'charts/keystone/templates/secret-fernet-keys.yaml', 'charts/cyborg/templates/job-ks-user.yaml', 'charts/heat/templates/service-api.yaml', 'charts/placement/templates/job-db-migrate.yaml', 'charts/aodh/templates/ingress-api.yaml', 'charts/keystone/templates/pod-rally-test.yaml', 'charts/doc/source/install/developer/index.rst', 'charts/tempest/values.yaml', 'charts/ceilometer/templates/job-db-init-mongodb.yaml', 'charts/barbican/templates/bin/_barbican-test.sh.tpl', 'charts/rally/templates/secret-keystone.yaml', 'charts/glance/templates/configmap-etc.yaml', 'charts/cinder/values_overrides/qos.yaml', 'charts/heat/templates/job-ks-user-trustee.yaml', 'charts/barbican/templates/secret-rabbitmq.yaml', 'charts/cinder/values_overrides/rocky.yaml', 'charts/nova/templates/service-placement.yaml', 'charts/mistral/templates/deployment-executor.yaml', 'charts/placement/values.yaml', 'charts/ceilometer/templates/job-rabbit-init.yaml', 'charts/heat/templates/pdb-api.yaml', 'charts/ironic/Chart.yaml', 'charts/horizon/templates/job-db-sync.yaml', 'charts/doc/source/install/kubernetes-gate.rst', 'charts/glance/.helmignore', 'charts/glance/templates/bin/_storage-init.sh.tpl', 'charts/masakari/templates/job-ks-service.yaml', 'charts/aodh/templates/configmap-bin.yaml', 'charts/neutron/values_overrides/dpdk-bond.yaml', 'charts/octavia/templates/bin/_octavia-housekeeping.sh.tpl', 'charts/ceilometer/templates/job-db-drop.yaml', 'charts/doc/source/testing/ceph-resiliency/osd-failure.rst', 'charts/ironic/templates/job-manage-cleaning-network.yaml', 'charts/heat/templates/service-ingress-cfn.yaml', 'charts/horizon/values_overrides/victoria-ubuntu_focal.yaml', 'charts/designate/templates/pdb-sink.yaml', 'charts/nova/templates/bin/_ssh-init.sh.tpl', 'charts/doc/source/testing/ceph-resiliency/README.rst', 'charts/nova/templates/pdb-osapi.yaml', 'charts/magnum/requirements.yaml', 'charts/glance/templates/network_policy.yaml', 'charts/neutron/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/glance/templates/job-ks-service.yaml', 'charts/magnum/templates/secret-db.yaml', 'charts/nova/templates/bin/_nova-compute-init.sh.tpl', 'charts/keystone/values_overrides/apparmor.yaml', 'charts/rally/templates/secret-db.yaml', 'charts/designate/templates/job-bootstrap.yaml', 'charts/releasenotes/notes/rally.yaml', 'charts/horizon/templates/bin/_django.wsgi.tpl', 'charts/glance/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/octavia/templates/deployment-housekeeping.yaml', 'charts/octavia/templates/job-ks-service.yaml', 'charts/glance/templates/bin/_db-sync.sh.tpl', 'charts/neutron/templates/job-rabbit-init.yaml', 'charts/glance/templates/job-db-sync.yaml', 'charts/nova/templates/bin/_fake-iptables.sh.tpl', 'charts/placement/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/nova/templates/bin/_nova-placement-api.sh.tpl', 'charts/cyborg/templates/bin/_cyborg-agent.sh.tpl', 'charts/placement/Chart.yaml', 'charts/cinder/templates/bin/_ceph-keyring.sh.tpl', 'charts/neutron/values_overrides/dpdk.yaml', 'charts/doc/source/specs/osh-lma-stack.rst', 'charts/magnum/templates/job-db-drop.yaml', 'charts/releasenotes/notes/heat.yaml', 'afo-nc-openstack/Chart.yaml', 'charts/masakari/templates/job-ks-endpoints.yaml', 'charts/cinder/templates/secret_rabbitmq.yaml', 'charts/horizon/values_overrides/tls.yaml', 'charts/glance/templates/bin/_glance-registry.sh.tpl', 'charts/ironic/templates/job-ks-user.yaml', 'charts/horizon/templates/service-ingress.yaml', 'charts/doc/source/specs/neutron-multiple-sdns.rst', 'charts/magnum/templates/bin/_magnum-conductor-init.sh.tpl', 'charts/magnum/templates/configmap-bin.yaml', 'charts/neutron/templates/bin/_neutron-test-force-cleanup.sh.tpl', 'charts/doc/source/locale/ru/LC_MESSAGES/doc-troubleshooting.po', 'charts/keystone/values_overrides/queens-ubuntu_xenial.yaml', 'charts/barbican/values_overrides/queens.yaml', 'charts/cinder/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/doc/source/install/plugins/deploy-tap-as-a-service-neutron-plugin.rst', 'afo-nc-openstack/templates/NOTES.txt', 'charts/doc/source/index.rst', 'charts/nova/templates/service-metadata.yaml', 'charts/nova/templates/netpol-nova.yaml', 'charts/nova/values_overrides/train-ubuntu_bionic.yaml', 'charts/aodh/templates/configmap-etc.yaml', 'charts/ironic/templates/deployment-api.yaml', 'charts/doc/source/install/multinode.rst', 'charts/releasenotes/notes/masakari.yaml', 'charts/ceilometer/templates/pdb-api.yaml', 'charts/barbican/templates/job-ks-user.yaml', 'charts/doc/source/devref/endpoints.rst', 'charts/neutron/values_overrides/pike-ubuntu_xenial.yaml', 'charts/nova/templates/ingress-novncproxy.yaml', 'charts/neutron/.helmignore', 'charts/senlin/templates/job-ks-service.yaml', 'charts/ceilometer/requirements.yaml', 'charts/heat/templates/job-ks-endpoints.yaml', 'charts/keystone/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/rally/templates/job-manage-db.yaml', 'charts/senlin/templates/configmap-bin.yaml', 'charts/cyborg/templates/job-db-sync.yaml', 'charts/nova/templates/job-image-repo-sync.yaml', 'charts/heat/templates/deployment-cloudwatch.yaml', 'charts/placement/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/heat/templates/bin/_heat-engine-cleaner.sh.tpl', 'charts/ironic/templates/bin/_ironic-conductor-pxe-init.sh.tpl', 'charts/octavia/templates/configmap-bin.yaml', 'charts/neutron/requirements.yaml', 'charts/masakari/Chart.yaml', 'charts/magnum/templates/service-api.yaml', 'charts/aodh/templates/bin/_aodh-notifier.sh.tpl', 'charts/doc/source/install/common-requirements.rst', 'charts/cinder/values_overrides/external-ceph-backend.yaml', 'charts/keystone/values_overrides/train-ubuntu_bionic.yaml', 'charts/cyborg/templates/bin/_cyborg-api.sh.tpl', 'charts/barbican/templates/configmap-bin.yaml', 'charts/cyborg/values.yaml', 'charts/nova/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/mistral/templates/secret-rabbitmq.yaml', 'charts/magnum/templates/secret-rabbitmq.yaml', 'charts/nova/templates/bin/_db-sync.sh.tpl', 'charts/designate/templates/deployment-sink.yaml', 'charts/neutron/templates/daemonset-ovs-agent.yaml', 'charts/glance/templates/service-api.yaml', 'charts/nova/templates/pdb-metadata.yaml', 'charts/nova/values_overrides/train-disable-nova-placement.yaml', 'charts/barbican/templates/pdb-api.yaml', 'charts/masakari/templates/secret-db.yaml', 'charts/mistral/templates/pod-rally-test.yaml', 'charts/nova/templates/deployment-scheduler.yaml', 'charts/nova/templates/job-ks-endpoints.yaml', 'charts/releasenotes/notes/cinder.yaml', 'charts/cinder/templates/job-backup-storage-init.yaml', 'charts/neutron/templates/service-ingress-neutron.yaml', 'charts/keystone/templates/job-db-sync.yaml', 'charts/heat/values_overrides/pike-ubuntu_xenial.yaml', 'charts/ironic/templates/bin/_retreive-cleaning-network.sh.tpl', 'charts/designate/templates/job-rabbit-init.yaml', 'charts/doc/source/testing/ceph-upgrade.rst', 'charts/releasenotes/notes/cyborg.yaml', 'charts/barbican/values_overrides/rocky-opensuse_15.yaml', 'charts/ceilometer/templates/job-image-repo-sync.yaml', 'charts/neutron/templates/bin/_neutron-dhcp-agent.sh.tpl', 'charts/releasenotes/source/index.rst', 'charts/cinder/templates/job-db-drop.yaml', 'charts/ironic/templates/configmap-etc.yaml', 'charts/horizon/values_overrides/pike-ubuntu_xenial.yaml', 'charts/neutron/templates/bin/_neutron-l2gw-agent.sh.tpl', 'charts/nova/templates/statefulset-compute-ironic.yaml', 'charts/cinder/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/cinder/templates/certificates.yaml', 'charts/aodh/templates/secret-keystone.yaml', 'charts/heat/values_overrides/apparmor.yaml', 'charts/cinder/templates/bin/_create-internal-tenant-id.sh.tpl', 'charts/glance/templates/job-rabbit-init.yaml', 'charts/cinder/templates/utils/_is_ceph_backend.tpl', 'charts/cinder/templates/pvc-backup.yaml', 'charts/masakari/templates/daemonset-host-monitor.yaml', 'charts/horizon/templates/secret-db.yaml', 'charts/ironic/templates/statefulset-conductor.yaml', 'charts/placement/templates/secret-db.yaml', 'charts/masakari/templates/bin/_manage-db.sh.tpl', 'charts/ceilometer/templates/job-ks-endpoints.yaml', 'charts/glance/templates/job-clean.yaml', 'charts/heat/values_overrides/rocky-opensuse_15.yaml', 'charts/nova/templates/bin/_health-probe.py.tpl', 'afo-nc-openstack/templates/tests/test-connection.yaml', 'charts/doc/source/install/developer/requirements-and-host-config.rst', 'charts/horizon/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/ironic/templates/job-db-sync.yaml', 'charts/keystone/templates/secret-ingress-tls.yaml', 'charts/aodh/templates/deployment-listener.yaml', 'charts/keystone/templates/job-credential-setup.yaml', 'afo-nc-openstack/templates/serviceaccount.yaml', 'charts/glance/values_overrides/pike-ubuntu_xenial.yaml', 'charts/keystone/templates/cron-job-credential-rotate.yaml', 'charts/keystone/values_overrides/rocky-ubuntu_bionic.yaml', 'charts/nova/values_overrides/victoria.yaml', 'charts/ceilometer/templates/configmap-bin.yaml', 'charts/heat/templates/cron-job-engine-cleaner.yaml', 'charts/cinder/templates/bin/_external-ceph-rbd-admin-keyring.sh.tpl', 'charts/heat/templates/configmap-etc.yaml', 'charts/designate/templates/secret-db.yaml', 'charts/horizon/templates/job-image-repo-sync.yaml', 'charts/ceilometer/templates/secret-keystone.yaml', 'charts/doc/source/contributor/contributing.rst', 'charts/magnum/templates/job-ks-service.yaml', 'charts/placement/templates/service-ingress.yaml', 'charts/nova/templates/deployment-placement.yaml', 'charts/cinder/templates/job-storage-init.yaml', 'charts/keystone/templates/secret-db.yaml', 'charts/neutron/templates/bin/_neutron-ironic-agent.sh.tpl', 'charts/releasenotes/config.yaml', 'charts/barbican/templates/job-image-repo-sync.yaml', 'charts/masakari/templates/configmap-etc.yaml', 'charts/cinder/templates/configmap-bin.yaml', 'charts/octavia/templates/deployment-worker.yaml', 'charts/rally/templates/pdb-api.yaml', 'charts/heat/templates/deployment-engine.yaml', 'charts/designate/templates/job-ks-endpoints.yaml', 'charts/keystone/templates/job-credential-cleanup.yaml', 'charts/placement/templates/bin/_placement-api.sh.tpl', 'charts/nova/templates/service-ingress-novncproxy.yaml', 'charts/heat/templates/job-db-init.yaml', 'charts/nova/templates/job-db-init.yaml', 'charts/octavia/templates/service-api.yaml', 'charts/rally/templates/job-ks-user.yaml', 'charts/nova/Chart.yaml', 'charts/nova/templates/bin/_nova-api-metadata-init.sh.tpl', 'charts/nova/values_overrides/tls.yaml', 'charts/aodh/templates/bin/_aodh-evaluator.sh.tpl', 'charts/nova/values_overrides/train.yaml', 'charts/cinder/values_overrides/queens-ubuntu_xenial.yaml', 'charts/neutron/templates/daemonset-bagpipe-bgp.yaml', 'charts/ceilometer/templates/job-ks-user.yaml', 'charts/keystone/templates/secret-ldap-tls.yaml', 'charts/heat/templates/bin/_bootstrap.sh.tpl', 'charts/octavia/templates/deployment-api.yaml', 'charts/cinder/templates/utils/_ceph_backend_list.tpl', 'charts/keystone/values_overrides/victoria-ubuntu_focal.yaml', 'charts/neutron/values.yaml', 'charts/ceilometer/Chart.yaml', 'charts/cinder/templates/bin/_iscsiadm.tpl', 'charts/cinder/templates/job-ks-service.yaml', 'charts/neutron/templates/bin/_neutron-server.sh.tpl', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-testing.po', 'charts/neutron/values_overrides/tf.yaml', 'charts/nova/templates/cron-job-archive-deleted-rows.yaml', 'charts/nova/templates/bin/_nova-conductor.sh.tpl', 'charts/neutron/templates/secret-db.yaml', 'charts/ironic/templates/bin/_ironic-conductor.sh.tpl', 'charts/senlin/templates/job-rabbit-init.yaml', 'charts/mistral/templates/job-db-drop.yaml', 'charts/cinder/templates/bin/_cinder-api.sh.tpl', 'charts/keystone/values_overrides/opensuse_15.yaml', 'charts/rally/values.yaml', 'charts/cinder/values_overrides/netpol.yaml', 'charts/horizon/templates/bin/_db-sync.sh.tpl', 'charts/neutron/templates/bin/_db-sync.sh.tpl', 'charts/designate/templates/service-api.yaml', 'charts/masakari/templates/daemonset-process-monitor.yaml', 'charts/ceilometer/templates/secret-mongodb.yaml', 'charts/placement/templates/network_policy.yaml', 'charts/placement/templates/configmap-bin.yaml', 'charts/rally/templates/configmap-etc.yaml', 'charts/placement/values_overrides/tls.yaml', 'charts/cyborg/templates/deployment-conductor.yaml', 'charts/ironic/values.yaml', 'charts/ceilometer/templates/network_policy.yaml', 'charts/magnum/templates/job-db-init.yaml', 'charts/cyborg/templates/service-ingress-api.yaml', 'charts/cinder/templates/job-db-sync.yaml', 'charts/cinder/templates/network_policy.yaml', 'charts/designate/templates/pdb-mdns.yaml', 'charts/cyborg/templates/configmap-etc.yaml', 'charts/ironic/templates/secret-rabbitmq.yaml', 'charts/neutron/templates/deployment-server.yaml', 'charts/nova/templates/bin/_nova-console-proxy-init.sh.tpl', 'charts/releasenotes/notes/change-memcache-backend-2d85a3c75b32db39.yaml', 'charts/senlin/templates/job-image-repo-sync.yaml', 'charts/octavia/templates/service-ingress-api.yaml', 'charts/nova/templates/bin/_wait-for-computes-init.sh.tpl', 'charts/rally/templates/job-bootstrap.yaml', 'charts/cinder/templates/secret-ingress-tls.yaml', 'charts/designate/templates/pdb-api.yaml', 'charts/mistral/templates/pdb-api.yaml', 'charts/magnum/templates/statefulset-conductor.yaml', 'charts/doc/source/troubleshooting/database.rst', 'charts/neutron/values_overrides/apparmor.yaml', 'charts/heat/templates/cron-job-purge-deleted.yaml', 'charts/barbican/templates/service-api.yaml', 'charts/masakari/templates/job-db-init.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'charts/neutron/templates/bin/_neutron-openvswitch-agent-readiness.sh.tpl', 'charts/designate/templates/job-ks-service.yaml', 'charts/neutron/templates/pdb-server.yaml', 'charts/designate/templates/deployment-producer.yaml', 'charts/keystone/templates/job-rabbit-init.yaml', 'charts/cinder/templates/bin/_storage-init.sh.tpl', 'charts/mistral/templates/configmap-bin.yaml', 'charts/aodh/templates/service-api.yaml', 'charts/designate/templates/bin/_designate-api.sh.tpl', 'charts/neutron/templates/job-ks-user.yaml', 'charts/nova/templates/job-ks-placement-endpoints.yaml', 'charts/heat/templates/service-cfn.yaml', 'charts/magnum/templates/job-ks-endpoints.yaml', 'charts/barbican/values_overrides/apparmor.yaml', 'charts/doc/source/install/developer/cleaning-deployment.rst', 'charts/placement/templates/configmap-etc.yaml', 'charts/barbican/values_overrides/ocata.yaml', 'charts/doc/source/devref/fluent-logging.rst', 'charts/glance/templates/bin/_clean-secrets.sh.tpl', 'charts/keystone/templates/bin/_cred-clean.py.tpl', 'charts/nova/templates/secret-db-cell0.yaml', 'charts/nova/values.yaml', 'charts/cinder/values.yaml', 'charts/heat/templates/job-trusts.yaml', 'charts/keystone/requirements.yaml', 'charts/heat/templates/secret-rabbitmq.yaml', 'charts/neutron/templates/bin/_neutron-bagpipe-bgp.sh.tpl', 'charts/neutron/templates/bin/_neutron-l3-agent.sh.tpl', 'charts/aodh/templates/cron-job-alarms-cleaner.yaml', 'charts/heat/templates/secret-keystone.yaml', 'charts/mistral/templates/deployment-api.yaml', 'charts/designate/templates/deployment-mdns.yaml', 'charts/placement/values_overrides/victoria-ubuntu_focal.yaml', 'charts/cyborg/templates/job-db-init.yaml', 'charts/designate/templates/pdb-producer.yaml', 'charts/releasenotes/notes/keystone.yaml', 'charts/releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'charts/octavia/templates/job-ks-user.yaml', 'charts/glance/templates/bin/_ceph-admin-keyring.sh.tpl', 'charts/keystone/.helmignore', 'charts/nova/templates/deployment-api-osapi.yaml', 'charts/ironic/templates/service-api.yaml', 'charts/senlin/templates/pod-test.yaml', 'charts/senlin/templates/service-api.yaml', 'charts/horizon/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/nova/templates/job-db-drop.yaml', 'Makefile', 'charts/heat/templates/job-ks-service.yaml', 'charts/nova/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/keystone/values_overrides/ussuri-ubuntu_bionic.yaml', 'charts/senlin/templates/deployment-engine.yaml', 'charts/placement/templates/job-ks-user.yaml', 'charts/designate/values.yaml', 'charts/heat/templates/service-ingress-cloudwatch.yaml', 'charts/senlin/requirements.yaml', 'charts/senlin/templates/job-ks-user.yaml', 'charts/horizon/values_overrides/apparmor.yaml', 'charts/mistral/Chart.yaml', 'charts/cinder/Chart.yaml', 'charts/glance/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/magnum/templates/secret-keystone.yaml', 'charts/placement/values_overrides/train-ubuntu_bionic.yaml', 'charts/magnum/templates/bin/_magnum-api.sh.tpl', 'charts/designate/templates/job-ks-user.yaml', 'charts/cinder/values_overrides/queens.yaml', 'charts/doc/source/locale/de/LC_MESSAGES/doc-install.po', 'charts/heat/templates/secret-ingress-tls.yaml', 'charts/ironic/templates/job-ks-endpoints.yaml', 'charts/rally/templates/configmap-test-templates.yaml', 'charts/nova/templates/bin/_nova-scheduler.sh.tpl', 'charts/cyborg/templates/deployment-api.yaml', 'charts/aodh/templates/bin/_db-sync.sh.tpl', 'charts/glance/templates/service-registry.yaml', 'charts/ceilometer/templates/bin/_bootstrap.sh.tpl', 'charts/ironic/templates/secret-keystone.yaml', 'charts/nova/templates/service-novncproxy.yaml', 'charts/heat/templates/network_policy.yaml', 'charts/masakari/templates/bin/_masakari-api.sh.tpl', 'charts/cinder/templates/secret-keystone.yaml', 'charts/neutron/templates/bin/_neutron-linuxbridge-agent.sh.tpl', 'charts/masakari/values.yaml', 'charts/nova/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/glance/templates/bin/_metadefs-load.sh.tpl', 'charts/keystone/templates/bin/_endpoint-update.py.tpl', 'charts/horizon/values_overrides/stein-ubuntu_bionic.yaml', 'charts/rally/Chart.yaml', 'charts/barbican/templates/service-ingress-api.yaml', 'charts/aodh/templates/bin/_aodh-api.sh.tpl', 'charts/cyborg/templates/bin/_cyborg-conductor.sh.tpl', 'charts/horizon/values.yaml', 'charts/nova/templates/service-ingress-placement.yaml', 'charts/doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'charts/ceilometer/templates/secret-db.yaml', 'charts/neutron/templates/daemonset-sriov-agent.yaml', 'charts/neutron/values_overrides/queens-ubuntu_xenial.yaml', 'charts/heat/templates/ingress-cloudwatch.yaml', 'charts/neutron/templates/job-db-sync.yaml', 'charts/nova/templates/bin/_nova-compute-ironic.sh.tpl', 'charts/octavia/templates/secret-keystone.yaml', 'charts/doc/source/specs/fluentbit-fluentd-architecture.rst', 'charts/senlin/templates/bin/_senlin-api.sh.tpl', 'charts/designate/templates/secret-ingress-tls.yaml', 'charts/neutron/templates/bin/_neutron-bagpipe-bgp-init.sh.tpl', 'charts/nova/templates/bin/_nova-consoleauth.sh.tpl', 'charts/cyborg/templates/configmap-bin.yaml', 'charts/senlin/templates/job-ks-endpoints.yaml', 'charts/doc/source/testing/index.rst', 'charts/ironic/templates/bin/_manage-cleaning-network.sh.tpl', 'charts/cyborg/templates/secret-keystone.yaml', 'charts/ironic/templates/bin/_ironic-conductor-pxe.sh.tpl', 'afo-nc-openstack/templates/service.yaml', 'charts/glance/templates/secret-rabbitmq.yaml', 'charts/nova/templates/certificates.yaml', 'charts/cinder/values_overrides/train-ubuntu_bionic.yaml', 'charts/tempest/templates/job-run-tests.yaml', 'charts/doc/source/testing/ceph-resiliency/index.rst', 'charts/octavia/templates/network_policy.yaml', 'charts/mistral/templates/job-rabbit-init.yaml', 'charts/nova/templates/cron-job-cell-setup.yaml', 'charts/masakari/templates/secret_rabbitmq.yaml', 'charts/cinder/templates/bin/_backup-storage-init.sh.tpl', 'charts/nova/templates/job-bootstrap.yaml', 'charts/masakari/templates/secret-keystone.yaml', 'charts/heat/templates/job-db-drop.yaml', 'charts/octavia/values.yaml', 'charts/glance/values_overrides/rocky-ubuntu_xenial.yaml', 'charts/horizon/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/masakari/templates/pbd-api.yaml', 'charts/nova/values_overrides/apparmor.yaml', 'charts/cinder/values_overrides/pike.yaml', 'charts/releasenotes/source/conf.py', 'charts/magnum/templates/ingress-api.yaml', 'charts/ironic/templates/secret-db.yaml', 'charts/neutron/templates/deployment-ironic-agent.yaml', 'charts/masakari/templates/job-db-sync.yaml', 'charts/keystone/templates/service-ingress-api.yaml', 'charts/aodh/templates/bin/_aodh-test.sh.tpl', 'charts/doc/source/locale/ko_KR/LC_MESSAGES/doc-devref.po', 'charts/nova/templates/configmap-etc.yaml', 'charts/heat/templates/deployment-api.yaml', 'charts/keystone/templates/bin/_db-sync.sh.tpl', 'charts/senlin/templates/bin/_db-sync.sh.tpl', 'charts/cyborg/templates/network_policy.yaml', 'charts/doc/source/install/plugins/index.rst', 'charts/rally/templates/job-run-task.yaml', 'charts/barbican/values_overrides/pike.yaml', 'charts/nova/templates/bin/_multipath.tpl', 'charts/heat/values_overrides/queens-ubuntu_xenial.yaml', 'charts/cinder/values_overrides/nfs-cinder-backup.yaml', 'charts/neutron/templates/ingress-server.yaml', 'charts/cinder/templates/deployment-scheduler.yaml', 'charts/keystone/templates/job-bootstrap.yaml', 'charts/barbican/templates/bin/_db-sync.sh.tpl', 'charts/ceilometer/templates/pod-rally-test.yaml', 'charts/masakari/templates/deployment-api.yaml', 'charts/neutron/templates/secret-keystone.yaml', 'charts/nova/templates/secret-keystone.yaml', 'charts/releasenotes/notes/nova.yaml', 'charts/doc/source/specs/COPYME', 'charts/ironic/templates/bin/_bootstrap.sh.tpl', 'charts/rally/templates/configmap-bin.yaml', 'charts/magnum/templates/bin/_db-sync.sh.tpl', 'charts/ceilometer/templates/ingress-api.yaml', 'charts/heat/values_overrides/wallaby-ubuntu_focal.yaml', 'charts/ceilometer/templates/bin/_ceilometer-ipmi.sh.tpl', 'charts/doc/source/install/developer/kubernetes-and-common-setup.rst', 'charts/cinder/templates/bin/_volume-usage-audit.sh.tpl', 'charts/rally/requirements.yaml', 'charts/horizon/templates/pod-helm-tests.yaml', 'charts/ceilometer/templates/deployment-api.yaml', 'charts/heat/templates/bin/_heat-purge-deleted-active.sh.tpl', 'charts/neutron/templates/bin/_neutron-linuxbridge-agent-init.sh.tpl', 'charts/nova/templates/job-ks-service.yaml', 'charts/doc/source/specs/index.rst', 'charts/barbican/templates/secret-keystone.yaml', 'charts/nova/values_overrides/opensuse_15.yaml', 'charts/octavia/requirements.yaml', 'charts/mistral/templates/bin/_mistral-engine.sh.tpl', 'charts/nova/templates/pod-rally-test.yaml', 'charts/placement/templates/job-db-sync.yaml', 'charts/cinder/templates/pod-rally-test.yaml', 'charts/ironic/templates/bin/_ironic-conductor-http.sh.tpl', 'charts/nova/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/keystone/templates/configmap-etc.yaml', 'charts/placement/templates/secret-keystone.yaml', 'charts/placement/templates/certificates.yaml', 'charts/doc/source/specs/nginx-sidecar.rst', 'charts/ceilometer/templates/job-ks-service.yaml', 'charts/nova/templates/secret-ingress-tls.yaml', 'charts/cinder/values_overrides/apparmor.yaml', 'charts/doc/source/testing/ceph-resiliency/monitor-failure.rst', 'charts/nova/values_overrides/queens-ubuntu_xenial.yaml', 'charts/designate/templates/job-db-sync.yaml', 'charts/horizon/templates/secret-keystone.yaml', 'charts/mistral/templates/network_policy.yaml', 'charts/cinder/templates/deployment-api.yaml', 'charts/keystone/values_overrides/tls.yaml', 'charts/glance/values.yaml', 'charts/senlin/templates/job-db-sync.yaml', 'charts/nova/templates/service-ingress-osapi.yaml', 'charts/octavia/templates/bin/_octavia-health-manager-nic-init.sh.tpl', 'charts/designate/templates/bin/_bootstrap.sh.tpl', 'charts/heat/templates/certificates.yaml', 'charts/octavia/templates/configmap-etc.yaml', 'charts/rally/templates/bin/_run-task.sh.tpl', 'charts/barbican/templates/job-bootstrap.yaml', 'charts/nova/templates/ingress-osapi.yaml', 'charts/heat/templates/bin/_heat-engine.sh.tpl', 'charts/heat/templates/pdb-cloudwatch.yaml', 'charts/keystone/templates/job-db-init.yaml', 'charts/nova/templates/service-osapi.yaml', 'charts/octavia/templates/bin/_octavia-api.sh.tpl', 'charts/neutron/templates/job-image-repo-sync.yaml', 'charts/glance/templates/job-image-repo-sync.yaml', 'charts/keystone/values_overrides/ocata-ubuntu_xenial.yaml', 'charts/aodh/templates/deployment-evaluator.yaml', 'charts/barbican/templates/configmap-etc.yaml', 'charts/doc/source/_static/.placeholder']",1073,065b8fb72da6858925ebd9ab7c477159c0ce896f,,,,451,52
openstack%2Fhorizon~master~I1fc7f44326b82ceb303f8d663ff0b42f0bdf7855,openstack/horizon,master,I1fc7f44326b82ceb303f8d663ff0b42f0bdf7855,Update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE,MERGED,2022-01-12 13:13:48.000000000,2022-02-10 20:33:13.000000000,2022-02-10 20:31:25.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 13:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e0826c48e5cbbd82aece3125887eb46fbc097a34', 'message': 'Update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE\n\nThis patch update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE\nto \'member\' from \'_member_\'. If a user tries to create a new project now\nit leads to ""Could not find default role ""_member_"" in Keystone"" error.\n\nCloses-Bug: #1957173\nChange-Id: I1fc7f44326b82ceb303f8d663ff0b42f0bdf7855\n'}, {'number': 2, 'created': '2022-01-12 17:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/21bde94418238aaab6eaad106f0bd6f996910b70', 'message': 'Update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE\n\nThis patch update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE\nto \'member\' from \'_member_\'. If a user tries to create a new project now\nit leads to ""Could not find default role ""_member_"" in Keystone"" error.\n\nCloses-Bug: #1957173\nChange-Id: I1fc7f44326b82ceb303f8d663ff0b42f0bdf7855\n'}, {'number': 3, 'created': '2022-01-17 05:55:18.000000000', 'files': ['releasenotes/notes/change-keystone-default-role-3f95b6af11aed63b.yaml', 'doc/source/configuration/settings.rst', 'openstack_dashboard/dashboards/identity/projects/tests.py', 'openstack_dashboard/defaults.py', 'doc/source/contributor/topics/ini-based-configuration.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a375c5418633f8b15c7255030ecc008e20ccc806', 'message': 'Update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE\n\nThis patch update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE\nto \'member\' from \'_member_\'. If a user tries to create a new project now\nit leads to ""Could not find default role ""_member_"" in Keystone"" error.\n\nAlso long time ago keystone-bootstrap changed the default member role\nthat is created to member from the legacy _member_ role. Any deployments\nthat might still be using _member_ should set this explicitly.\n\nCloses-Bug: #1957173\nChange-Id: I1fc7f44326b82ceb303f8d663ff0b42f0bdf7855\n'}]",6,824432,a375c5418633f8b15c7255030ecc008e20ccc806,20,5,3,29313,,,0,"Update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE

This patch update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE
to 'member' from '_member_'. If a user tries to create a new project now
it leads to ""Could not find default role ""_member_"" in Keystone"" error.

Also long time ago keystone-bootstrap changed the default member role
that is created to member from the legacy _member_ role. Any deployments
that might still be using _member_ should set this explicitly.

Closes-Bug: #1957173
Change-Id: I1fc7f44326b82ceb303f8d663ff0b42f0bdf7855
",git fetch https://review.opendev.org/openstack/horizon refs/changes/32/824432/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/defaults.py'],1,e0826c48e5cbbd82aece3125887eb46fbc097a34,,OPENSTACK_KEYSTONE_DEFAULT_ROLE = 'member',OPENSTACK_KEYSTONE_DEFAULT_ROLE = '_member_',1,1
openstack%2Fbarbican~stable%2Fwallaby~I1724152839f0f5850f8d32d40b36d1670c0ad996,openstack/barbican,stable/wallaby,I1724152839f0f5850f8d32d40b36d1670c0ad996,Fix container consumers rbac policy,MERGED,2022-02-09 14:47:09.000000000,2022-02-10 20:24:47.000000000,2022-02-10 20:23:03.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 14:47:09.000000000', 'files': ['barbican/api/controllers/acls.py', 'barbican/api/controllers/orders.py', 'barbican/api/controllers/transportkeys.py', 'barbican/api/controllers/secretmeta.py', 'barbican/api/controllers/secretstores.py', 'releasenotes/notes/fix-story-2009664-042ef282c0dd6b6a.yaml', 'barbican/api/controllers/consumers.py', 'barbican/api/controllers/containers.py', 'barbican/api/controllers/quotas.py', 'barbican/api/controllers/secrets.py', 'barbican/common/policies/consumers.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/api/controllers/__init__.py', 'functionaltests/api/v1/functional/test_acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/92375781ebcdba7f6b21308527de528320ef623e', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43874\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n(cherry picked from commit 960159332864740cfbdaeb339ddbaae48238a6d2)\n(cherry picked from commit 6a5ab85f4103e95251a936155ea83da844032149)\n'}]",0,828550,92375781ebcdba7f6b21308527de528320ef623e,7,2,1,7973,,,0,"Fix container consumers rbac policy

This patch modifies the Consumer controller to enable the use of
ownership information in policy checks. e.g. policies that use a target
container:

   project_id:%(target.container.project_id)

Story: 2009664
Task: 43874

Depends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999
Change-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996
(cherry picked from commit 960159332864740cfbdaeb339ddbaae48238a6d2)
(cherry picked from commit 6a5ab85f4103e95251a936155ea83da844032149)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/50/828550/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/api/controllers/acls.py', 'barbican/api/controllers/orders.py', 'barbican/api/controllers/transportkeys.py', 'barbican/api/controllers/secretmeta.py', 'barbican/api/controllers/secretstores.py', 'releasenotes/notes/fix-story-2009664-042ef282c0dd6b6a.yaml', 'barbican/api/controllers/consumers.py', 'barbican/api/controllers/containers.py', 'barbican/api/controllers/quotas.py', 'barbican/api/controllers/secrets.py', 'barbican/common/policies/consumers.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/api/controllers/__init__.py', 'functionaltests/api/v1/functional/test_acls.py']",14,92375781ebcdba7f6b21308527de528320ef623e,secure-rbac-stable/xena-stable/wallaby," 'with_creator_a': {'user': creator_a, 'expected_return': 200}, 'with_observer_a': {'user': observer_a, 'expected_return': 200}, 'with_auditor_a': {'user': auditor_a, 'expected_return': 200}, # the consumer being deleted is owned by project a, so attempts # to remove it with users from project b below should fail 'with_creator_a': {'user': creator_a, 'expected_return': 200}, 'with_observer_a': {'user': observer_a, 'expected_return': 200}, 'with_auditor_a': {'user': auditor_a, 'expected_return': 200}, 'with_observer_b': {'user': observer_b, 'expected_return': 200}, """"""Test DELETE /v1/containers/{container-id}/consumers Test default policy for deleting a consumer set by admin_a from a private container owned by creator_a. Each user in the data set is added to the ACL and then used to delete the consumer set by admin_a. """""" """"""Test POST /v1/containers/{container_id}/consumers Test default policy for adding consumers to a container owned by creator_a and set to private. Each user in the data set is added to the ACL and then used to POST a new consumer. """""""," 'with_creator_a': {'user': creator_a, 'expected_return': 403}, 'with_observer_a': {'user': observer_a, 'expected_return': 403}, 'with_auditor_a': {'user': auditor_a, 'expected_return': 403}, 'with_creator_a': {'user': creator_a, 'expected_return': 403}, 'with_observer_a': {'user': observer_a, 'expected_return': 403}, 'with_auditor_a': {'user': auditor_a, 'expected_return': 403}, 'with_observer_b': {'user': observer_b, 'expected_return': 403}, """"""Acl access will not allow you to delete a consumer"""""" """"""Acl access will not allow you to add a consumer""""""",245,122
openstack%2Fpuppet-neutron~stable%2Fvictoria~I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,openstack/puppet-neutron,stable/victoria,I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,Add report_inteval parameter in ml2 baremetal,MERGED,2022-02-09 16:56:24.000000000,2022-02-10 20:19:48.000000000,2022-02-10 20:18:18.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 16:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/59b17ccc5beada2a7a8f771614d9ce59704355f4', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nConflicts:\n  manifests/agents/ml2/networking_baremetal.pp\n  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)\n'}, {'number': 2, 'created': '2022-02-10 12:56:46.000000000', 'files': ['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/629dbe0f1e89bec38d02050f80d3dda30e20d170', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nConflicts:\n  manifests/agents/ml2/networking_baremetal.pp\n  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)\n(cherry picked from commit 41bcf66eafc092890cdd6d2560d02642c5a55761)\n'}]",2,828554,629dbe0f1e89bec38d02050f80d3dda30e20d170,14,3,2,24245,,,0,"Add report_inteval parameter in ml2 baremetal

Add the parameter $report_interval to the ml2
networking-baremetal manifest. By default the global
report_interval as defined in neutron.conf is used.

In some cases it makes sense to change the report_interval
specifically for ironic-neutron-agent.

Conflicts:
  manifests/agents/ml2/networking_baremetal.pp
  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb

Related-Bug: #1940838
Change-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)
(cherry picked from commit 41bcf66eafc092890cdd6d2560d02642c5a55761)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/54/828554/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml']",3,59b17ccc5beada2a7a8f771614d9ce59704355f4,bug/1940838-stable/victoria,--- features: - | It is now possible to set the report interval for the networking-baremetal ml2 agent by using new parameter ``report_interval`` in the ``neutron::agents::ml2::networking_baremetal`` class. ,,17,0
openstack%2Ftripleo-validations~stable%2Fwallaby~Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7,openstack/tripleo-validations,stable/wallaby,Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7,Remove references to novajoin-server and novajoin-notifier,MERGED,2022-01-31 10:05:34.000000000,2022-02-10 20:10:14.000000000,2022-02-10 20:10:14.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-31 10:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aed93616f5fa69350875af00da3a9d4e2f247383', 'message': 'Remove references to novajoin-server and novajoin-notifier\n\nAs of Wallaby, novajoin-server and novajoin-notifier are no longer\nused.  Instead, enrollment is done through the tripleo-ipa ansible\nrole.\n\nSo, we can remove any checks on these services (which ran in\ncontainers).  The only vetiges of these services is the location\nof the novajoin keytab, which is a file on the undercloud.\n\nChange-Id: Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7\n(cherry picked from commit 52f3fbd75a664e01249f65b0ecbf01fd233d21b1)\n'}, {'number': 2, 'created': '2022-01-31 10:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fe392ac29bbd7c1be8f6df3912755a90f0948043', 'message': 'Remove references to novajoin-server and novajoin-notifier\n\nAs of Wallaby, novajoin-server and novajoin-notifier are no longer\nused.  Instead, enrollment is done through the tripleo-ipa ansible\nrole.\n\nSo, we can remove any checks on these services (which ran in\ncontainers).  The only vetiges of these services is the location\nof the novajoin keytab, which is a file on the undercloud.\n\nChange-Id: Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7\n(cherry picked from commit 52f3fbd75a664e01249f65b0ecbf01fd233d21b1)\n'}, {'number': 3, 'created': '2022-01-31 12:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8b5cb97ae967609677681f38820b540f18217ec6', 'message': 'Remove references to novajoin-server and novajoin-notifier\n\nAs of Wallaby, novajoin-server and novajoin-notifier are no longer\nused.  Instead, enrollment is done through the tripleo-ipa ansible\nrole.\n\nSo, we can remove any checks on these services (which ran in\ncontainers).  The only vetiges of these services is the location\nof the novajoin keytab, which is a file on the undercloud.\n\nChange-Id: Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7\n(cherry picked from commit 52f3fbd75a664e01249f65b0ecbf01fd233d21b1)\n'}, {'number': 4, 'created': '2022-01-31 12:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0b8f5dcf9ff27fcfacf101e21dc8b4fdc07e7ac1', 'message': 'Remove references to novajoin-server and novajoin-notifier\n\nAs of Wallaby, novajoin-server and novajoin-notifier are no longer\nused.  Instead, enrollment is done through the tripleo-ipa ansible\nrole.\n\nSo, we can remove any checks on these services (which ran in\ncontainers).  The only vetiges of these services is the location\nof the novajoin keytab, which is a file on the undercloud.\n\nChange-Id: Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7\n(cherry picked from commit 52f3fbd75a664e01249f65b0ecbf01fd233d21b1)\n'}, {'number': 5, 'created': '2022-02-03 16:23:57.000000000', 'files': ['roles/tls_everywhere/tasks/pre-deployment-non-containerized.yaml', 'roles/tls_everywhere/tasks/pre-deployment-containerized.yaml', 'roles/tls_everywhere/tasks/prep.yaml', 'roles/tls_everywhere/tasks/pre-deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e7f04a698dc9524e6d4c5ac1ddf1978bb7c91408', 'message': 'Remove references to novajoin-server and novajoin-notifier\n\nAs of Wallaby, novajoin-server and novajoin-notifier are no longer\nused.  Instead, enrollment is done through the tripleo-ipa ansible\nrole.\n\nSo, we can remove any checks on these services (which ran in\ncontainers).  The only vetiges of these services is the location\nof the novajoin keytab, which is a file on the undercloud.\n\nChange-Id: Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7\n(cherry picked from commit 52f3fbd75a664e01249f65b0ecbf01fd233d21b1)\n'}]",0,827012,e7f04a698dc9524e6d4c5ac1ddf1978bb7c91408,15,5,5,34120,,,0,"Remove references to novajoin-server and novajoin-notifier

As of Wallaby, novajoin-server and novajoin-notifier are no longer
used.  Instead, enrollment is done through the tripleo-ipa ansible
role.

So, we can remove any checks on these services (which ran in
containers).  The only vetiges of these services is the location
of the novajoin keytab, which is a file on the undercloud.

Change-Id: Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7
(cherry picked from commit 52f3fbd75a664e01249f65b0ecbf01fd233d21b1)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/12/827012/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tls_everywhere/tasks/pre-deployment-non-containerized.yaml', 'roles/tls_everywhere/tasks/pre-deployment-containerized.yaml', 'roles/tls_everywhere/tasks/prep.yaml', 'roles/tls_everywhere/tasks/pre-deployment.yaml']",4,aed93616f5fa69350875af00da3a9d4e2f247383,fix-tls-e-validations-stable/wallaby,,"- name: Ensure we get needed facts setup: gather_subset: - '!all' - '!any' - '!min' - env - name: Get the Container CLI from the undercloud.conf file (stein+) become: true validations_read_ini: path: ""{{ ansible_env.HOME }}/undercloud.conf"" section: DEFAULT key: container_cli register: container_cli - name: Set container facts (Stein+) set_fact: podman_install: ""{{ container_cli.value|default('', true) == 'podman' }}"" docker_install: ""{{ container_cli.value|default('', true) == 'docker' }}"" when: not container_cli|default('')|length == 0 - name: Determine undercloud type (Rocky and earlier) when: - not podman_install|bool - not docker_install|bool block: - name: Determine if Docker is enabled and has containers running command: docker ps -q register: docker_ps become: true ignore_errors: true - name: Set container facts set_fact: docker_install: true when: not docker_ps.stdout|length == 0 - name: Set container facts set_fact: docker_install: false when: docker_ps.stdout|length == 0 - name: Set container facts set_fact: podman_install: false - name: Set podman command prefix set_fact: command_prefix: ""podman"" when: podman_install|bool - name: Set docker command prefix set_fact: command_prefix: ""docker"" when: docker_install|bool - name: Set containerized_undercloud boolean set_fact: containerized_undercloud: ""{{ podman_install|bool or docker_install|bool }}"" when: containerized_undercloud|bool - include: pre-deployment-non-containerized.yaml when: not containerized_undercloud|bool",19,451
openstack%2Ftripleo-validations~stable%2Fwallaby~I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692,openstack/tripleo-validations,stable/wallaby,I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692,Remove check for certmonger user service,MERGED,2022-01-31 10:02:36.000000000,2022-02-10 20:10:12.000000000,2022-02-10 20:10:12.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-31 10:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/54f9ff8aca969099cc6c2d0f2007aece8d7bf128', 'message': 'Remove check for certmonger user service\n\nSince the transition from puppet-certmonger to an ansible role\nto trigger certmonger requests, the certmonger user service is no\nlonger used or configured.  This occurred in the Wallaby release.\n\nChange-Id: I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692\n'}, {'number': 2, 'created': '2022-01-31 12:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9579a4d6edd66d3e3152136d89c0289eb82ea14c', 'message': 'Remove check for certmonger user service\n\nSince the transition from puppet-certmonger to an ansible role\nto trigger certmonger requests, the certmonger user service is no\nlonger used or configured.  This occurred in the Wallaby release.\n\nChange-Id: I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692\n'}, {'number': 3, 'created': '2022-01-31 12:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fff8abcfbf01b2d2dfacbcd5538d52f48902bcaa', 'message': 'Remove check for certmonger user service\n\nSince the transition from puppet-certmonger to an ansible role\nto trigger certmonger requests, the certmonger user service is no\nlonger used or configured.  This occurred in the Wallaby release.\n\nChange-Id: I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692\n'}, {'number': 4, 'created': '2022-02-03 16:23:57.000000000', 'files': ['roles/tls_everywhere/tasks/overcloud-post-deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b2ffcbb79ba32bee8d2df81f475811325d0d5ca5', 'message': 'Remove check for certmonger user service\n\nSince the transition from puppet-certmonger to an ansible role\nto trigger certmonger requests, the certmonger user service is no\nlonger used or configured.  This occurred in the Wallaby release.\n\nChange-Id: I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692\n(cherry picked from commit 388f7e32ee4a6361b1b7d30144379c969eaf7cb1)\n'}]",4,827030,b2ffcbb79ba32bee8d2df81f475811325d0d5ca5,19,5,4,34120,,,0,"Remove check for certmonger user service

Since the transition from puppet-certmonger to an ansible role
to trigger certmonger requests, the certmonger user service is no
longer used or configured.  This occurred in the Wallaby release.

Change-Id: I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692
(cherry picked from commit 388f7e32ee4a6361b1b7d30144379c969eaf7cb1)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/30/827030/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tls_everywhere/tasks/overcloud-post-deployment.yaml'],1,54f9ff8aca969099cc6c2d0f2007aece8d7bf128,fix-tls-e-validations-stable/wallaby,,"### check for certmonger user service ### - name: Check if the certmonger user service has been enabled become: true hiera: name: ""certmonger_user_enabled"" check_mode: false - name: Set facts for certmonger user service not enabled set_fact: certmonger_user_service_status: ""{{ helper_status_error }}"" certmonger_user_service_reason: ""The certmonger user service is not enabled for this role"" certmonger_user_service_recommendations: - ""Please add the 'OS::TripleO::Services::CertmongerUser' service to all of your TripleO roles."" when: certmonger_user_enabled != ""true"" - name: Set facts for certmonger user service enabled set_fact: certmonger_user_service_status: ""{{ helper_status_ok }}"" certmonger_user_service_reason: ""This role contains the certmonger user service"" certmonger_user_service_recommendations: null when: certmonger_user_enabled == ""true"" - name: Report on Certmonger user service check reportentry: report_status: ""{{ certmonger_user_service_status }}"" report_reason: ""{{ certmonger_user_service_reason }}"" report_recommendations: ""{{ certmonger_user_service_recommendations }}"" ",0,28
openstack%2Fnova~master~I17a3e20b8be98f9fb1a04b91fcf1237d67165871,openstack/nova,master,I17a3e20b8be98f9fb1a04b91fcf1237d67165871,Join quota exception family trees,MERGED,2022-02-07 19:32:37.000000000,2022-02-10 19:45:43.000000000,2022-02-10 19:43:54.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 19:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff8592ffcc68d23ab86d1fca77eb8c3d4b717e4f', 'message': 'Join quota exception family trees\n\nFor some reason, we have two lineages of quota-related exceptions in\nNova. We have QuotaError (which sounds like an actual error), from\nwhich all of our case-specific ""over quota"" exceptions inhert, such\nas KeypairLimitExceeded, etc. In contrast, we have OverQuota which\nlives outside that hierarchy and is unrelated. In a number of places,\nwe raise one and translate to the other, or raise the generic\nQuotaError to signal an overquota situation, instead of OverQuota.\nThis leads to places where we have to catch both, signaling the same\nover quota situation, but looking like there could be two different\ncauses (i.e. an error and being over quota).\n\nThis joins the two cases, by putting OverQuota at the top of the\nhierarchy of specific exceptions and removing QuotaError. The latter\nwas only used in a few situations, so this isn\'t actually much change.\nCleaning this up will help with the unified limits work, reducing the\nnumber of potential exceptions that mean the same thing.\n\nRelated to blueprint bp/unified-limits-nova\n\nChange-Id: I17a3e20b8be98f9fb1a04b91fcf1237d67165871\n'}, {'number': 2, 'created': '2022-02-07 20:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/537dc334b11785bc35ebc8afee038abab29e5c69', 'message': 'Join quota exception family trees\n\nFor some reason, we have two lineages of quota-related exceptions in\nNova. We have QuotaError (which sounds like an actual error), from\nwhich all of our case-specific ""over quota"" exceptions inhert, such\nas KeypairLimitExceeded, etc. In contrast, we have OverQuota which\nlives outside that hierarchy and is unrelated. In a number of places,\nwe raise one and translate to the other, or raise the generic\nQuotaError to signal an overquota situation, instead of OverQuota.\nThis leads to places where we have to catch both, signaling the same\nover quota situation, but looking like there could be two different\ncauses (i.e. an error and being over quota).\n\nThis joins the two cases, by putting OverQuota at the top of the\nhierarchy of specific exceptions and removing QuotaError. The latter\nwas only used in a few situations, so this isn\'t actually much change.\nCleaning this up will help with the unified limits work, reducing the\nnumber of potential exceptions that mean the same thing.\n\nRelated to blueprint bp/unified-limits-nova\n\nChange-Id: I17a3e20b8be98f9fb1a04b91fcf1237d67165871\n'}, {'number': 3, 'created': '2022-02-08 18:56:53.000000000', 'files': ['nova/exception.py', 'nova/api/openstack/compute/server_metadata.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/tests/unit/test_quota.py', 'nova/tests/unit/api/openstack/compute/test_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/72058b7a405bade6ca9584cb74591e35a73fb458', 'message': 'Join quota exception family trees\n\nFor some reason, we have two lineages of quota-related exceptions in\nNova. We have QuotaError (which sounds like an actual error), from\nwhich all of our case-specific ""over quota"" exceptions inhert, such\nas KeypairLimitExceeded, etc. In contrast, we have OverQuota which\nlives outside that hierarchy and is unrelated. In a number of places,\nwe raise one and translate to the other, or raise the generic\nQuotaError to signal an overquota situation, instead of OverQuota.\nThis leads to places where we have to catch both, signaling the same\nover quota situation, but looking like there could be two different\ncauses (i.e. an error and being over quota).\n\nThis joins the two cases, by putting OverQuota at the top of the\nhierarchy of specific exceptions and removing QuotaError. The latter\nwas only used in a few situations, so this isn\'t actually much change.\nCleaning this up will help with the unified limits work, reducing the\nnumber of potential exceptions that mean the same thing.\n\nRelated to blueprint bp/unified-limits-nova\n\nChange-Id: I17a3e20b8be98f9fb1a04b91fcf1237d67165871\n'}]",3,828185,72058b7a405bade6ca9584cb74591e35a73fb458,23,3,3,4393,,,0,"Join quota exception family trees

For some reason, we have two lineages of quota-related exceptions in
Nova. We have QuotaError (which sounds like an actual error), from
which all of our case-specific ""over quota"" exceptions inhert, such
as KeypairLimitExceeded, etc. In contrast, we have OverQuota which
lives outside that hierarchy and is unrelated. In a number of places,
we raise one and translate to the other, or raise the generic
QuotaError to signal an overquota situation, instead of OverQuota.
This leads to places where we have to catch both, signaling the same
over quota situation, but looking like there could be two different
causes (i.e. an error and being over quota).

This joins the two cases, by putting OverQuota at the top of the
hierarchy of specific exceptions and removing QuotaError. The latter
was only used in a few situations, so this isn't actually much change.
Cleaning this up will help with the unified limits work, reducing the
number of potential exceptions that mean the same thing.

Related to blueprint bp/unified-limits-nova

Change-Id: I17a3e20b8be98f9fb1a04b91fcf1237d67165871
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/828185/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/api/openstack/compute/server_metadata.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/tests/unit/test_quota.py', 'nova/tests/unit/api/openstack/compute/test_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",9,ff8592ffcc68d23ab86d1fca77eb8c3d4b717e4f,bp/unified-limits-nova-patch25, except exception.OverQuota as error: except exception.OverQuota as error: except exception.OverQuota as error:," except (exception.QuotaError, exception.PortLimitExceeded) as error: except exception.QuotaError as error: except exception.QuotaError as error:",31,40
openstack%2Ftripleo-validations~stable%2Fwallaby~I5cfc8d47109b86b7baedae77f01d4f6d8745591d,openstack/tripleo-validations,stable/wallaby,I5cfc8d47109b86b7baedae77f01d4f6d8745591d,[wallaby-only]Change ansible_hostname to use ansible_facts,MERGED,2022-01-31 09:53:40.000000000,2022-02-10 19:43:49.000000000,2022-02-10 19:43:49.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-31 09:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9a11d10fed79ed7aa0f06b7494bbf189b42a5cdf', 'message': ""Change ansible_hostname to use ansible_facts\n\nThe tasks fail with 'ansible_hostname' is undefined.\n\nChange-Id: I5cfc8d47109b86b7baedae77f01d4f6d8745591d\n""}, {'number': 2, 'created': '2022-01-31 11:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5d479a769cc3ab3cf94404eebd43b47f817ade2f', 'message': ""Change ansible_hostname to use ansible_facts\n\nThe tasks fail with 'ansible_hostname' is undefined.\n\nChange-Id: I5cfc8d47109b86b7baedae77f01d4f6d8745591d\n""}, {'number': 3, 'created': '2022-01-31 11:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c8d7fbac6d064ac2929d2c0d8216006ae6c75b52', 'message': ""Change ansible_hostname to use ansible_facts[wallaby-only]\n\nThe tasks fail with 'ansible_hostname' is undefined.\n\nChange-Id: I5cfc8d47109b86b7baedae77f01d4f6d8745591d\n""}, {'number': 4, 'created': '2022-01-31 12:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4fd235ee19a3fe6dab62a6dfa295385f5843992f', 'message': ""Change ansible_hostname to use ansible_facts[wallaby-only]\n\nThe tasks fail with 'ansible_hostname' is undefined.\n\nChange-Id: I5cfc8d47109b86b7baedae77f01d4f6d8745591d\n""}, {'number': 5, 'created': '2022-01-31 12:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0ac558053d869fe266aa531601c79714c4474f9c', 'message': ""Change ansible_hostname to use ansible_facts[wallaby-only]\n\nThe tasks fail with 'ansible_hostname' is undefined.\n\nChange-Id: I5cfc8d47109b86b7baedae77f01d4f6d8745591d\n""}, {'number': 6, 'created': '2022-02-03 15:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cea8a9a60ff2580d575978f9153e275cb3414ecd', 'message': ""Change ansible_hostname to use ansible_facts[wallaby-only]\n\nThe tasks fail with 'ansible_hostname' is undefined.\n\nThis patch is combining 2 patches upstream[1][2];\nthe first one introduced a bug[1] for the TLS validations,\nand the second one[2] fix that.\n\n[1] https://review.opendev.org/c/openstack/tripleo-validations/+/803147/\n[2] https://review.opendev.org/c/openstack/tripleo-validations/+/823746/\n\nChange-Id: I5cfc8d47109b86b7baedae77f01d4f6d8745591d\n""}, {'number': 7, 'created': '2022-02-03 15:25:52.000000000', 'files': ['roles/tls_everywhere/tasks/common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f6ef5e2b3a25d7458450b5cbae2cbd0ea3824205', 'message': ""[wallaby-only]Change ansible_hostname to use ansible_facts\n\nThe tasks fail with 'ansible_hostname' is undefined.\n\nThis patch is combining 2 patches upstream[1][2];\nthe first one introduced a bug[1] for the TLS validations,\nand the second one[2] fix that.\n\n[1] https://review.opendev.org/c/openstack/tripleo-validations/+/803147/\n[2] https://review.opendev.org/c/openstack/tripleo-validations/+/823746/\n\nChange-Id: I5cfc8d47109b86b7baedae77f01d4f6d8745591d\n""}]",0,827007,f6ef5e2b3a25d7458450b5cbae2cbd0ea3824205,19,5,7,34120,,,0,"[wallaby-only]Change ansible_hostname to use ansible_facts

The tasks fail with 'ansible_hostname' is undefined.

This patch is combining 2 patches upstream[1][2];
the first one introduced a bug[1] for the TLS validations,
and the second one[2] fix that.

[1] https://review.opendev.org/c/openstack/tripleo-validations/+/803147/
[2] https://review.opendev.org/c/openstack/tripleo-validations/+/823746/

Change-Id: I5cfc8d47109b86b7baedae77f01d4f6d8745591d
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/07/827007/6 && git format-patch -1 --stdout FETCH_HEAD,['roles/tls_everywhere/tasks/common.yaml'],1,9a11d10fed79ed7aa0f06b7494bbf189b42a5cdf,,"- name: Ensure we get needed facts setup: gather_subset: - '!all' - '!any' - '!min' - network - name: Check all relevant ports for IdM/FreeIPA are accessible from {{ ansible_facts['hostname'] }} firewall_reason: ""The host {{ ansible_facts['hostname'] }} can access FreeIPA through all relevant ports"" firewall_reason: ""The host {{ ansible_facts['hostname'] }} could NOT access IdM/FreeIPA on some ports"" firewall_reason: ""skipped {{ ansible_facts['hostname'] }} firewall checks because DNS wasn't set correctly."""," - name: Check all relevant ports for IdM/FreeIPA are accessible from {{ ansible_hostname }} firewall_reason: ""The host {{ ansible_hostname }} can access FreeIPA through all relevant ports"" firewall_reason: ""The host {{ ansible_hostname }} could NOT access IdM/FreeIPA on some ports"" firewall_reason: ""skipped {{ ansible_hostname }} firewall checks because DNS wasn't set correctly.""",12,4
openstack%2Fswift~master~Ic1d0a760bf94c1d9c455f3bb564095d4e08bf031,openstack/swift,master,Ic1d0a760bf94c1d9c455f3bb564095d4e08bf031,Removed all translations,ABANDONED,2017-10-18 14:20:32.000000000,2022-02-10 19:35:32.000000000,,"[{'_account_id': 1179}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-18 14:20:32.000000000', 'files': ['swift/common/middleware/xprofile.py', 'swift/obj/server.py', 'swift/account/auditor.py', 'swift/obj/reconstructor.py', 'swift/common/middleware/crypto/crypto_utils.py', 'test/unit/test_locale/test_locale.py', 'swift/account/server.py', 'swift/common/middleware/crypto/decrypter.py', 'test/unit/common/middleware/test_xprofile.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/obj.py', 'swift/common/middleware/cname_lookup.py', 'swift/obj/expirer.py', 'swift/common/db.py', 'swift/container/server.py', 'swift/container/updater.py', 'swift/common/middleware/recon.py', 'swift/common/middleware/x_profile/profile_model.py', 'swift/account/reaper.py', 'swift/common/manager.py', 'swift/proxy/controllers/account.py', 'swift/common/internal_client.py', 'swift/obj/diskfile.py', 'swift/container/auditor.py', 'swift/container/sync.py', 'swift/obj/auditor.py', 'swift/proxy/server.py', 'swift/obj/replicator.py', 'swift/obj/updater.py', 'swift/common/utils.py', 'swift/common/middleware/ratelimit.py', 'swift/common/middleware/x_profile/exceptions.py', 'swift/common/db_replicator.py', 'swift/common/container_sync_realms.py', 'swift/common/middleware/catch_errors.py', 'swift/common/middleware/x_profile/html_viewer.py', 'swift/common/request_helpers.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/08c38b0e2dbbb9e4e74c8e8b3eb7413f538804d6', 'message': 'Removed all translations\n\nChange-Id: Ic1d0a760bf94c1d9c455f3bb564095d4e08bf031\n'}]",0,513049,08c38b0e2dbbb9e4e74c8e8b3eb7413f538804d6,8,3,1,13329,,,0,"Removed all translations

Change-Id: Ic1d0a760bf94c1d9c455f3bb564095d4e08bf031
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/513049/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/xprofile.py', 'swift/obj/server.py', 'swift/account/auditor.py', 'swift/obj/reconstructor.py', 'swift/common/middleware/crypto/crypto_utils.py', 'test/unit/test_locale/test_locale.py', 'swift/account/server.py', 'swift/common/middleware/crypto/decrypter.py', 'test/unit/common/middleware/test_xprofile.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/obj.py', 'swift/common/middleware/cname_lookup.py', 'swift/obj/expirer.py', 'swift/common/db.py', 'swift/container/server.py', 'swift/container/updater.py', 'swift/common/middleware/recon.py', 'swift/common/middleware/x_profile/profile_model.py', 'swift/account/reaper.py', 'swift/common/manager.py', 'swift/proxy/controllers/account.py', 'swift/common/internal_client.py', 'swift/obj/diskfile.py', 'swift/container/auditor.py', 'swift/container/sync.py', 'swift/obj/auditor.py', 'swift/proxy/server.py', 'swift/obj/replicator.py', 'swift/obj/updater.py', 'swift/common/utils.py', 'swift/common/middleware/ratelimit.py', 'swift/common/middleware/x_profile/exceptions.py', 'swift/common/db_replicator.py', 'swift/common/container_sync_realms.py', 'swift/common/middleware/catch_errors.py', 'swift/common/middleware/x_profile/html_viewer.py', 'swift/common/request_helpers.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py']",39,08c38b0e2dbbb9e4e74c8e8b3eb7413f538804d6,bug/1648082," node[0], 'Object', 'Trying to read during GET (retrying)') node[0], 'Object', 'Trying to read during GET (retrying)') self.app.exception_occurred(node[0], 'Object', 'Trying to read during GET') 'Client did not read from proxy within %ss' % self.app.logger.warning('Client disconnected on read') self.app.logger.exception('Trying to send to client') 'Trying to %(method)s %(path)s' % self.app.error_limit(node, 'ERROR Insufficient Storage') node, 'ERROR %(status)d %(body)s ' 'From %(type)s Server' % 'ERROR Insufficient Storage') node, 'ERROR %(status)d ' 'Trying to %(method)s %(path)s' ' From %(type)s Server' % { 'status': resp.status, 'method': method, 'path': path, 'type': self.server_type}) 'Trying to %(method)s %(path)s' % self.app.logger.error('%(type)s returning 503 for %(statuses)s', self.app.logger.info('autocreate account %r', path) self.app.logger.warning('Could not autocreate account %r',"," node[0], _('Object'), _('Trying to read during GET (retrying)')) node[0], _('Object'), _('Trying to read during GET (retrying)')) self.app.exception_occurred(node[0], _('Object'), _('Trying to read during GET')) _('Client did not read from proxy within %ss') % self.app.logger.warning(_('Client disconnected on read')) self.app.logger.exception(_('Trying to send to client')) _('Trying to %(method)s %(path)s') % self.app.error_limit(node, _('ERROR Insufficient Storage')) node, _('ERROR %(status)d %(body)s ' 'From %(type)s Server') % _('ERROR Insufficient Storage')) node, _('ERROR %(status)d ' 'Trying to %(method)s %(path)s' ' From %(type)s Server') % { 'status': resp.status, 'method': method, 'path': path, 'type': self.server_type}) _('Trying to %(method)s %(path)s') % self.app.logger.error(_('%(type)s returning 503 for %(statuses)s'), self.app.logger.info(_('autocreate account %r'), path) self.app.logger.warning(_('Could not autocreate account %r'),",490,491
openstack%2Fswift~master~I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb,openstack/swift,master,I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb,[Don't merge] Use __init__() of Daemon class in sub classes,ABANDONED,2016-09-05 12:30:43.000000000,2022-02-10 19:34:22.000000000,,"[{'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 6968}, {'_account_id': 13052}, {'_account_id': 14766}]","[{'number': 1, 'created': '2016-09-05 12:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2b333401907d8ca10814e822e244a28eff22cb39', 'message': 'Remove __init__() from Daemon class\n\n__init__() of Daemon class is not called in any sub classes. And\nDaemon is abstract class. Then, __init__() of Daemon is meaningless.\nThis patch removes __init__() from Daemon class.\n\nChange-Id: I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb\n'}, {'number': 2, 'created': '2016-09-06 01:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/12b64d9dff2a01b7ae7715eefeb68b64ee4eb45f', 'message': 'Remove __init__() from Daemon class\n\n__init__() of Daemon class is not called in any sub classes. And\nDaemon is only used as super class.  Then, __init__() of Daemon is\nmeaningless. This patch removes __init__() from Daemon class.\n\nChange-Id: I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb\n'}, {'number': 3, 'created': '2016-09-06 01:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1d5276f76b0b00673e7d76a30112e210a495870d', 'message': 'Remove __init__() from Daemon class\n\n__init__() of Daemon class is not called in any sub classes. And\nDaemon is only used as super class. Then, __init__() of Daemon is\nmeaningless. This patch removes __init__() from Daemon class.\n\nChange-Id: I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb\n'}, {'number': 4, 'created': '2016-09-30 10:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0e7c76a0e18184777f351a9d9e0b0ccc16569520', 'message': 'Use __init__() of Daemon class in sub classes\n\nTo refactor __init__() of Daemon sub classes, this patch fixes the sub classes\nto use __init__() of Daemon class.\n\nChange-Id: I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb\n'}, {'number': 5, 'created': '2016-10-03 02:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dc5ecda49544374666a328320d05f13b5ad02fc4', 'message': 'Use __init__() of Daemon class in sub classes\n\nTo refactor __init__() of Daemon sub classes, this patch fixes the sub classes\nto use __init__() of Daemon class.\n\nChange-Id: I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb\n'}, {'number': 6, 'created': '2016-10-04 04:38:37.000000000', 'files': ['swift/container/auditor.py', 'swift/account/auditor.py', 'swift/container/sync.py', 'swift/obj/reconstructor.py', 'swift/obj/auditor.py', 'swift/obj/expirer.py', 'swift/obj/replicator.py', 'swift/obj/updater.py', 'swift/container/updater.py', 'swift/common/daemon.py', 'swift/common/db_replicator.py', 'swift/account/reaper.py', 'swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d44ddc9faac9928bca59d867d23a0f26b9acd822', 'message': ""[Don't merge] Use __init__() of Daemon class in sub classes\n\nTo refactor __init__() of Daemon sub classes, this patch fixes the sub classes\nto use __init__() of Daemon class.\n\nChange-Id: I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb\n""}]",3,365614,d44ddc9faac9928bca59d867d23a0f26b9acd822,25,5,6,14766,,,0,"[Don't merge] Use __init__() of Daemon class in sub classes

To refactor __init__() of Daemon sub classes, this patch fixes the sub classes
to use __init__() of Daemon class.

Change-Id: I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/365614/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/daemon.py', 'test/unit/common/test_daemon.py']",2,2b333401907d8ca10814e822e244a28eff22cb39,remove_meaningless_constructor, def test_stubs(self): d = daemon.Daemon()," def test_create(self): d = daemon.Daemon({}) self.assertEqual(d.conf, {}) self.assertTrue(isinstance(d.logger, utils.LogAdapter)) def test_stubs(self): d = daemon.Daemon({})",1,10
openstack%2Ftripleo-ansible~stable%2Fvictoria~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,stable/victoria,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-07 11:58:21.000000000,2022-02-10 19:29:10.000000000,2022-02-10 19:29:10.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-07 11:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7905dc4e1c13c29d732b8900c6c167d16c3f1974', 'message': 'historical variable evaluated as bool\n\nThe tripleo_backup_and_restore_historical variable is checked by some\ntasks using when, but as it lacks the | bool extension, it is being\nevaluated as string, meaning that ""false"" is considered a valid and not\nempty string and as such evaluated as true. This patch fixes this\nbehaviour by evaluating the variable as as boolean value\n\nChange-Id: I73b0d054644eb43016d61299b7c372ca86b18472\n(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)\n'}, {'number': 2, 'created': '2022-02-08 11:50:31.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c89699a889d58e8de4464490cb90d81b66ed3a37', 'message': 'historical variable evaluated as bool\n\nThe tripleo_backup_and_restore_historical variable is checked by some\ntasks using when, but as it lacks the | bool extension, it is being\nevaluated as string, meaning that ""false"" is considered a valid and not\nempty string and as such evaluated as true. This patch fixes this\nbehaviour by evaluating the variable as as boolean value\n\nChange-Id: I73b0d054644eb43016d61299b7c372ca86b18472\n(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)\n'}]",1,828131,c89699a889d58e8de4464490cb90d81b66ed3a37,16,5,2,32968,,,0,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/828131/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'],1,7905dc4e1c13c29d732b8900c6c167d16c3f1974,historical_bool-stable/wallaby-stable/victoria, when: tripleo_backup_and_restore_historical | bool - tripleo_backup_and_restore_historical | bool, when: tripleo_backup_and_restore_historical - tripleo_backup_and_restore_historical,2,2
openstack%2Fswift~master~Ie97b1d859d385680c84294be589402c44715545d,openstack/swift,master,Ie97b1d859d385680c84294be589402c44715545d,Get rid of pipeline_property follow up,ABANDONED,2022-01-13 01:45:28.000000000,2022-02-10 19:23:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-13 01:45:28.000000000', 'files': ['test/unit/obj/test_expirer.py', 'test/unit/container/test_reconciler.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0313e9cfc891e1ad73d355e0e6c3745af4a0d125', 'message': 'Get rid of pipeline_property follow up\n\nFix up reconciler and expirer tests. Feel free to squash in.\n\nChange-Id: Ie97b1d859d385680c84294be589402c44715545d\n'}]",1,824497,0313e9cfc891e1ad73d355e0e6c3745af4a0d125,7,1,1,7233,,,0,"Get rid of pipeline_property follow up

Fix up reconciler and expirer tests. Feel free to squash in.

Change-Id: Ie97b1d859d385680c84294be589402c44715545d
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/824497/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'test/unit/container/test_reconciler.py', 'swift/common/internal_client.py']",3,0313e9cfc891e1ad73d355e0e6c3745af4a0d125,bug/1883324," :param app: Optionally provide a WSGI app for the internal client to use. global_conf=None, app=None): self.app = app or loadapp(conf_path, global_conf=global_conf, allow_modify_pipeline=allow_modify_pipeline,)"," global_conf=None): self.app = loadapp(conf_path, global_conf=global_conf, allow_modify_pipeline=allow_modify_pipeline,)",78,62
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ibfe03a445d7e3366ffaebf940386596506a84e6d,openstack/openstack-ansible-rabbitmq_server,master,Ibfe03a445d7e3366ffaebf940386596506a84e6d,Update used RabbitMQ and Erlang,MERGED,2022-01-26 11:45:02.000000000,2022-02-10 19:10:34.000000000,2022-02-10 19:07:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-26 11:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/db4c50c91180fb91a5af2229a8b30d9e6c3980e3', 'message': 'Update used RabbitMQ and Erlang\n\nChange-Id: Ibfe03a445d7e3366ffaebf940386596506a84e6d\n'}, {'number': 2, 'created': '2022-01-28 18:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/38565cfb2006ce41676222661b82594f909f3c2b', 'message': 'Update used RabbitMQ and Erlang\n\nChange-Id: Ibfe03a445d7e3366ffaebf940386596506a84e6d\n'}, {'number': 3, 'created': '2022-01-31 21:03:46.000000000', 'files': ['vars/redhat.yml', 'vars/debian-11.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/9355e52547651bab7ee312dd73a3f2bf905e2a71', 'message': 'Update used RabbitMQ and Erlang\n\nChange-Id: Ibfe03a445d7e3366ffaebf940386596506a84e6d\n'}]",3,826446,9355e52547651bab7ee312dd73a3f2bf905e2a71,22,3,3,28619,,,0,"Update used RabbitMQ and Erlang

Change-Id: Ibfe03a445d7e3366ffaebf940386596506a84e6d
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/46/826446/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian-11.yml', 'vars/debian.yml']",3,db4c50c91180fb91a5af2229a8b30d9e6c3980e3,,"_rabbitmq_package_version: ""3.9.13-1""_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:24.2.1-1', '1:22.*') }}""","_rabbitmq_package_version: ""3.9.8-1""_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:24.1.3-1', '1:22.*') }}""",5,5
openstack%2Ftripleo-quickstart~master~I271c5472d06503211c3b13f34a399684aa9a116f,openstack/tripleo-quickstart,master,I271c5472d06503211c3b13f34a399684aa9a116f,Enable centos-opstools repo when building containers,MERGED,2022-02-09 12:42:20.000000000,2022-02-10 19:10:12.000000000,2022-02-10 19:07:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-09 12:42:20.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ed9821857d76878f0f2228a6af514c6d67796416', 'message': 'Enable centos-opstools repo when building containers\n\nThis patch enables centos-opstools repos from delorean-deps, for all\nCentOS-8 jobs, when the job is building containers. Otherwise it will\nset to the value defined by ""enable_opstools_repo"", which defaults to\nfalse.\n\nChange-Id: I271c5472d06503211c3b13f34a399684aa9a116f\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}]",7,828522,ed9821857d76878f0f2228a6af514c6d67796416,17,5,1,30002,,,0,"Enable centos-opstools repo when building containers

This patch enables centos-opstools repos from delorean-deps, for all
CentOS-8 jobs, when the job is building containers. Otherwise it will
set to the value defined by ""enable_opstools_repo"", which defaults to
false.

Change-Id: I271c5472d06503211c3b13f34a399684aa9a116f
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/22/828522/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",10,ed9821857d76878f0f2228a6af514c6d67796416,fix_opstools_c8,"# NOTE(dviroel): centos-opstools repo is needed for building # collectd containers, otherwise keep the current value. enable_dlrn_deps_opstools: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} {{ true|bool }} {%- else -%} {{ enable_opstools_repo|default(false)|bool }} {%- endif -%} {% if not enable_dlrn_deps_opstools|default(false)|bool %}sudo dnf config-manager --save --setopt centos-opstools.enabled=0;", - type: generic reponame: quickstart-centos-opstools filename: quickstart-centos-opstools.repo baseurl: https://trunk.rdoproject.org/centos8-master/deps/collectd/ #TODO(marios): change when http://mirror.centos.org/centos/8-stream/opstools/x86_64/collectd-5/Packages/ {% if not enable_opstools_repo|default(false)|bool %}sudo dnf config-manager --save --setopt quickstart-centos-opstools.enabled=0;,134,67
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ib6ab8adc12b3604cc7127e3292a39d57910b08ae,openstack/python-tripleoclient,stable/wallaby,Ib6ab8adc12b3604cc7127e3292a39d57910b08ae,Log deprecation of enable_heat option.,MERGED,2022-01-27 15:04:42.000000000,2022-02-10 19:09:24.000000000,2022-02-10 19:04:00.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-01-27 15:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d5166061fa0048a88c2e36245a03ca7c684edae', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 2, 'created': '2022-02-03 18:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/117428515b1c64b740806a5c27b6bad83699b242', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 3, 'created': '2022-02-03 18:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c12863525c4d663e51a0394144acfb006979a9f', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 4, 'created': '2022-02-04 00:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/008e3055612b55e57dd4c64402cd25bbcb0ed1e7', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 5, 'created': '2022-02-04 15:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b1d2b55822b3e70cdff04328b46c11c92b3d8ce1', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\n(cherry picked from commit 1c3d290307993109e4c1169a4919a9cad66f72d2)\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 6, 'created': '2022-02-04 15:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3fef6a7387e954366bbffd3d3f6527775346fcdc', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\n(cherry picked from commit 1c3d290307993109e4c1169a4919a9cad66f72d2)\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}, {'number': 7, 'created': '2022-02-07 06:30:54.000000000', 'files': ['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/10a6a7df1cf66866e0c6cf49c226798ca1e16e78', 'message': ""Log deprecation of enable_heat option.\n\nThe enable_heat option has been deprecated in [0], so\nlet's suggest its removal if the parameter is still present\nin the undercloud.conf.\n\n[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827955\n(cherry picked from commit 1c3d290307993109e4c1169a4919a9cad66f72d2)\nChange-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae\n""}]",5,826695,10a6a7df1cf66866e0c6cf49c226798ca1e16e78,26,6,7,26343,,,0,"Log deprecation of enable_heat option.

The enable_heat option has been deprecated in [0], so
let's suggest its removal if the parameter is still present
in the undercloud.conf.

[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827955
(cherry picked from commit 1c3d290307993109e4c1169a4919a9cad66f72d2)
Change-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/826695/7 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,4d5166061fa0048a88c2e36245a03ca7c684edae,, if CONF.get('enable_heat'): Log.warning('enable_heat has been deprecated. Ephemeral heat ' 'is now deployed by default. Please remove the ' 'option from undercloud.conf.')," if not CONF.get('enable_heat'): deploy_args += ['-e', os.path.join( tht_templates, ""environments/disable-heat.yaml"")]",4,3
openstack%2Ftripleo-ci~master~I77ca4b99581722ccf932c515f66437211fcd594b,openstack/tripleo-ci,master,I77ca4b99581722ccf932c515f66437211fcd594b,Moves master undercloud-upgrade and minor update deprecated add c9,MERGED,2022-02-07 11:02:41.000000000,2022-02-10 19:03:57.000000000,2022-02-10 19:03:57.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-02-07 11:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c450e1c28ccf2dfb4932b70022dd1ed051fa020', 'message': 'Moves master undercloud-upgrade and minor update deprecated add c9\n\nThis moves tripleo-ci-centos-8-undercloud-upgrade and\ntripleo-ci-centos-8-scenario000-multinode-oooq-container-updates to\ndeprecated and removes them from the zuul layout. It adds the\nc9 job to the master layout instead (no undercloud upgrade yet).\n\ntripleo-ci-centos-9-scenario000-multinode-oooq-container-updates\ndefinition and check/gate layout is moved to the\nupgrades-jobs-templates.yaml in line with other upgrade related jobs.\n\nSee [1] for related reviews (removal of c8 from master).\n\nChange-Id: I77ca4b99581722ccf932c515f66437211fcd594b\n'}, {'number': 2, 'created': '2022-02-08 09:21:16.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml', 'zuul.d/deprecated-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/82edbebd78dabd1820e80b20899d763a9f7ecab4', 'message': 'Moves master undercloud-upgrade and minor update deprecated add c9\n\nThis moves tripleo-ci-centos-8-undercloud-upgrade and\ntripleo-ci-centos-8-scenario000-multinode-oooq-container-updates to\ndeprecated and removes them from the zuul layout. It adds the\nc9 job to the master layout instead (no undercloud upgrade yet).\n\ntripleo-ci-centos-9-scenario000-multinode-oooq-container-updates\ndefinition and check/gate layout is moved to the\nupgrades-jobs-templates.yaml in line with other upgrade related jobs.\n\nSee [1] for related reviews (removal of c8 from master).\n\n[1] https://review.opendev.org/q/topic:c8_teardown_master\n\nChange-Id: I77ca4b99581722ccf932c515f66437211fcd594b\n'}]",4,828110,82edbebd78dabd1820e80b20899d763a9f7ecab4,16,10,2,8449,,,0,"Moves master undercloud-upgrade and minor update deprecated add c9

This moves tripleo-ci-centos-8-undercloud-upgrade and
tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates to
deprecated and removes them from the zuul layout. It adds the
c9 job to the master layout instead (no undercloud upgrade yet).

tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates
definition and check/gate layout is moved to the
upgrades-jobs-templates.yaml in line with other upgrade related jobs.

See [1] for related reviews (removal of c8 from master).

[1] https://review.opendev.org/q/topic:c8_teardown_master

Change-Id: I77ca4b99581722ccf932c515f66437211fcd594b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/10/828110/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/upgrades-jobs-templates.yaml', 'zuul.d/deprecated-jobs.yaml', 'zuul.d/multinode-jobs.yaml']",3,0c450e1c28ccf2dfb4932b70022dd1ed051fa020,c8_teardown_master,, - tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates: *cs9_multinode_all - tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates: *cs9_multinode_all - tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates: *cs9_multinode_all- job: name: tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates parent: tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates branches: ^(?!stable/(train|ussuri|victoria|wallaby)).*$ nodeset: two-centos-9-nodes irrelevant-files: *multinode_ignored ,53,76
openstack%2Fopenstack-ansible-rabbitmq_server~master~I32256271759d26522c17fe14c75b41da4c86c31a,openstack/openstack-ansible-rabbitmq_server,master,I32256271759d26522c17fe14c75b41da4c86c31a,Allow different install methods for rabbit/erlang,MERGED,2022-01-26 11:40:00.000000000,2022-02-10 19:03:28.000000000,2022-02-10 19:01:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-26 11:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/9ad9fe12123667332b1670544e5261943e8c4573', 'message': ""Allow different install methods for rabbit/erlang\n\nCurrently Debian Bullseye doesn't have erlang provided by external repos\nSo in order to update rabbitmq version used we need to implement\nrabbitmq_erlang_install_method, so that we could use external rabbitmq\nwith distro provided erlang.\n\nHpefully that is temporary solution and erlang packages for bullseye\nwill be built one day.\n\nChange-Id: I32256271759d26522c17fe14c75b41da4c86c31a\n""}, {'number': 2, 'created': '2022-01-28 18:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/39b5ceb0a688b244ac44af679065c81d0ee8a40a', 'message': ""Allow different install methods for rabbit/erlang\n\nCurrently Debian Bullseye doesn't have erlang provided by external repos\nSo in order to update rabbitmq version used we need to implement\nrabbitmq_erlang_install_method, so that we could use external rabbitmq\nwith distro provided erlang.\n\nHpefully that is temporary solution and erlang packages for bullseye\nwill be built one day.\n\nChange-Id: I32256271759d26522c17fe14c75b41da4c86c31a\n""}, {'number': 3, 'created': '2022-01-31 21:03:40.000000000', 'files': ['vars/debian-11.yml', 'tasks/install_apt.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/1b570e3511280c7e17f529520c689e93930e4092', 'message': ""Allow different install methods for rabbit/erlang\n\nCurrently Debian Bullseye doesn't have erlang provided by external repos\nSo in order to update rabbitmq version used we need to implement\nrabbitmq_erlang_install_method, so that we could use external rabbitmq\nwith distro provided erlang.\n\nHpefully that is temporary solution and erlang packages for bullseye\nwill be built one day.\n\nChange-Id: I32256271759d26522c17fe14c75b41da4c86c31a\n""}]",3,826445,1b570e3511280c7e17f529520c689e93930e4092,24,3,3,28619,,,0,"Allow different install methods for rabbit/erlang

Currently Debian Bullseye doesn't have erlang provided by external repos
So in order to update rabbitmq version used we need to implement
rabbitmq_erlang_install_method, so that we could use external rabbitmq
with distro provided erlang.

Hpefully that is temporary solution and erlang packages for bullseye
will be built one day.

Change-Id: I32256271759d26522c17fe14c75b41da4c86c31a
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/45/826445/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian-11.yml', 'tasks/install_apt.yml', 'defaults/main.yml']",3,9ad9fe12123667332b1670544e5261943e8c4573,,"rabbitmq_erlang_install_method: ""{{ _rabbitmq_erlang_install_method | default(rabbitmq_install_method) }}""",,16,4
openstack%2Fwhitebox-tempest-plugin~master~I4772a2120c97c4ab0246e8d05ebc6918b366d868,openstack/whitebox-tempest-plugin,master,I4772a2120c97c4ab0246e8d05ebc6918b366d868,Unskip test_volume_backed_live_migration,MERGED,2021-12-10 20:34:20.000000000,2022-02-10 18:45:40.000000000,2022-02-10 18:45:40.000000000,"[{'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-12-10 20:34:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/66e4cfdef75cddceea5d296d8dbc8abc73d330a7', 'message': 'Unskip test_volume_backed_live_migration\n\nSet the volume_backed_live_migration compute-feature-enable flag to\nenable the test_volume_backed_live_migration.\n\nChange-Id: I4772a2120c97c4ab0246e8d05ebc6918b366d868\n'}]",1,821471,66e4cfdef75cddceea5d296d8dbc8abc73d330a7,8,2,1,8864,,,0,"Unskip test_volume_backed_live_migration

Set the volume_backed_live_migration compute-feature-enable flag to
enable the test_volume_backed_live_migration.

Change-Id: I4772a2120c97c4ab0246e8d05ebc6918b366d868
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/71/821471/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,66e4cfdef75cddceea5d296d8dbc8abc73d330a7,, test-config: $TEMPEST_CONFIG: compute-feature-enabled: volume_backed_live_migration: true,,4,0
openstack%2Fwhitebox-tempest-plugin~master~I76e0734c1ad8b8a69c704b190ad1e646ce322c1e,openstack/whitebox-tempest-plugin,master,I76e0734c1ad8b8a69c704b190ad1e646ce322c1e,Unskip basic dedicated CPU policy test.,MERGED,2021-12-10 17:28:26.000000000,2022-02-10 18:42:46.000000000,2022-02-10 18:42:46.000000000,"[{'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-12-10 17:28:26.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/07b819704a469cdc7f4e7ad1d07d21867f348ffd', 'message': 'Unskip basic dedicated CPU policy test.\n\nPreviously, the test required a single compute host to force both\ninstances onto the same host. This caused it to be skipped in our CI.\nStart using the same_host scheduler hint to fix that.\n\nChange-Id: I76e0734c1ad8b8a69c704b190ad1e646ce322c1e\n'}]",2,821431,07b819704a469cdc7f4e7ad1d07d21867f348ffd,10,2,1,8864,,,0,"Unskip basic dedicated CPU policy test.

Previously, the test required a single compute host to force both
instances onto the same host. This caused it to be skipped in our CI.
Start using the same_host scheduler hint to fix that.

Change-Id: I76e0734c1ad8b8a69c704b190ad1e646ce322c1e
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/31/821431/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'],1,07b819704a469cdc7f4e7ad1d07d21867f348ffd,," server_b = self.create_test_server( flavor=flavor['id'], scheduler_hints={'same_host': server_a['id']}, wait_until='ACTIVE')"," @testtools.skipUnless(CONF.whitebox.max_compute_nodes < 2, 'Single compute node required.') server_b = self.create_test_server(flavor=flavor['id'], wait_until='ACTIVE')",3,4
openstack%2Frequirements~master~I50db78d54b56ff1b8e254195bd5d078656d148cc,openstack/requirements,master,I50db78d54b56ff1b8e254195bd5d078656d148cc,Readd neutron-fwaas and neutron-fwaas-dashboard to requirements,MERGED,2022-02-09 05:43:15.000000000,2022-02-10 18:20:38.000000000,2022-02-10 18:18:49.000000000,"[{'_account_id': 8313}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 30200}]","[{'number': 1, 'created': '2022-02-09 05:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3ddea02c30aa37ec27107091b77f1c5a1e6c88b5', 'message': 'Read neutron-fwaas and neutron-fwaas-dashboard to requirements\n\nNeutron-fwaas is going to be revived in master branch with [1].\n\n[1] https://review.opendev.org/c/openstack/governance/+/828078\n\nNeeded-By: https://review.opendev.org/c/openstack/neutron-fwaas/+/828149\nChange-Id: I50db78d54b56ff1b8e254195bd5d078656d148cc\n'}, {'number': 2, 'created': '2022-02-09 05:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a1228fe1a815f1c0ea62e39d319cb9a5eaab7349', 'message': 'Readd neutron-fwaas and neutron-fwaas-dashboard to requirements\n\nNeutron-fwaas is going to be revived in master branch with [1].\n\n[1] https://review.opendev.org/c/openstack/governance/+/828078\n\nNeeded-By: https://review.opendev.org/c/openstack/neutron-fwaas/+/828149\nChange-Id: I50db78d54b56ff1b8e254195bd5d078656d148cc\n'}, {'number': 3, 'created': '2022-02-09 10:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/533116224b2ff14266d440e0aab4072783739eae', 'message': 'Readd neutron-fwaas and neutron-fwaas-dashboard to requirements\n\nNeutron-fwaas is going to be revived in master branch with [1].\nsphinxmark required by neutron-fwaas.\n\n[1] https://review.opendev.org/c/openstack/governance/+/828078\n\nNeeded-By: https://review.opendev.org/c/openstack/neutron-fwaas/+/828149\nChange-Id: I50db78d54b56ff1b8e254195bd5d078656d148cc\n'}, {'number': 4, 'created': '2022-02-10 09:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b025e59b23144f0d8bdec325848ef1c7a3379a42', 'message': 'Readd neutron-fwaas and neutron-fwaas-dashboard to requirements\n\nNeutron-fwaas is going to be revived in master branch with [1].\n\n[1] https://review.opendev.org/c/openstack/governance/+/828078\n\nNeeded-By: https://review.opendev.org/c/openstack/neutron-fwaas/+/828149\nChange-Id: I50db78d54b56ff1b8e254195bd5d078656d148cc\n'}, {'number': 5, 'created': '2022-02-10 13:07:49.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/202960d44dc0537f5dea79b6c24792fd3cdae332', 'message': 'Readd neutron-fwaas and neutron-fwaas-dashboard to requirements\n\nNeutron-fwaas is going to be revived in master branch with [1].\n\n[1] https://review.opendev.org/c/openstack/governance/+/828078\n\n\nChange-Id: I50db78d54b56ff1b8e254195bd5d078656d148cc\n'}]",2,828458,202960d44dc0537f5dea79b6c24792fd3cdae332,17,4,5,30380,,,0,"Readd neutron-fwaas and neutron-fwaas-dashboard to requirements

Neutron-fwaas is going to be revived in master branch with [1].

[1] https://review.opendev.org/c/openstack/governance/+/828078


Change-Id: I50db78d54b56ff1b8e254195bd5d078656d148cc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/828458/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,3ddea02c30aa37ec27107091b77f1c5a1e6c88b5,revive-neutron-fwaas,openstack/neutron-fwaas openstack/neutron-fwaas-dashboard,,2,0
openstack%2Fkolla-ansible~master~I9c736a586a757b49170977c7f9cf2c4890557a33,openstack/kolla-ansible,master,I9c736a586a757b49170977c7f9cf2c4890557a33,CI: Bump Ceph to Pacific,MERGED,2022-02-01 13:12:36.000000000,2022-02-10 18:19:55.000000000,2022-02-10 18:17:42.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-01 13:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7745336c5d4b2e5b2a40b11ba8df13c61df1418e', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 2, 'created': '2022-02-08 07:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5bf9229e5dff12776ff8c33edcb4156cc97e76a', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 3, 'created': '2022-02-10 07:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b72366c644443cdc3346363c9da2ac664bd2686b', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 4, 'created': '2022-02-10 07:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/722948bc0e497dec4bde88aece4e0d1ceb14aea8', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 5, 'created': '2022-02-10 07:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e2e20e260bcf4ed9860aa0fc0018326cf63c7653', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 6, 'created': '2022-02-10 07:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1111b885cdfbc1d5190ed5c2e4ba91f90063b033', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 7, 'created': '2022-02-10 08:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/66e68565ef63e6c957b9173bf66e55494954e8cf', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 8, 'created': '2022-02-10 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2122a0a74a215f3fffb3b437803cad348b9058fb', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 9, 'created': '2022-02-10 08:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47548b48e1c1d85b4759b3e963fe655a511951e0', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 10, 'created': '2022-02-10 09:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41884a0c5eef6e82d65ca4e1dc39a422e6472d37', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 11, 'created': '2022-02-10 10:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d15c6aa97f597541032946456665bc8388fd059', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 12, 'created': '2022-02-10 11:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd6ff098caafa7c8219ba1b210f4f76b77093056', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}, {'number': 13, 'created': '2022-02-10 12:15:54.000000000', 'files': ['roles/cephadm/tasks/main.yml', 'tests/get_logs.sh', 'roles/cephadm/templates/cephadm.yml.j2', 'roles/cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/496a3df95f040243439b9514d6158e59dc297c88', 'message': 'CI: Bump Ceph to Pacific\n\nChange-Id: I9c736a586a757b49170977c7f9cf2c4890557a33\n'}]",6,827284,496a3df95f040243439b9514d6158e59dc297c88,42,4,13,22629,,,0,"CI: Bump Ceph to Pacific

Change-Id: I9c736a586a757b49170977c7f9cf2c4890557a33
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/827284/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/defaults/main.yml'],1,7745336c5d4b2e5b2a40b11ba8df13c61df1418e,,"cephadm_ceph_release: ""pacific"" cephadm_ceph_apt_repo: ""deb http://download.ceph.com/debian-{{ cephadm_ceph_release }}/ {{ ansible_distribution_release }} main"" url: ""http://download.ceph.com/rpm-{{ cephadm_ceph_release }}/el8/{{ ansible_architecture }}/"" url: ""http://download.ceph.com/rpm-{{ cephadm_ceph_release }}/el8/noarch/""","cephadm_ceph_apt_repo: ""deb http://download.ceph.com/debian-octopus/ {{ ansible_distribution_release }} main"" url: ""http://download.ceph.com/rpm-octopus/el8/{{ ansible_architecture }}/"" url: ""http://download.ceph.com/rpm-octopus/el8/noarch/""",4,3
openstack%2Fproject-config~master~I239c5aab0441dfb6ba8f21b4aa17b060f5faca58,openstack/project-config,master,I239c5aab0441dfb6ba8f21b4aa17b060f5faca58,Give perm to release team to delete branches,MERGED,2022-02-08 15:58:43.000000000,2022-02-10 17:59:23.000000000,2022-02-10 17:52:14.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 15:58:43.000000000', 'files': ['gerrit/acls/openstack/ansible-collections-openstack.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1521809facb261a37153c2fdc3d6b33490680f98', 'message': 'Give perm to release team to delete branches\n\nIn ansible-collections-openstack project allow to release team to\ndelete branches if need.\nThis is a SIG project, not under a Openstack Release Team.\n\nChange-Id: I239c5aab0441dfb6ba8f21b4aa17b060f5faca58\n'}]",1,828371,1521809facb261a37153c2fdc3d6b33490680f98,10,6,1,10969,,,0,"Give perm to release team to delete branches

In ansible-collections-openstack project allow to release team to
delete branches if need.
This is a SIG project, not under a Openstack Release Team.

Change-Id: I239c5aab0441dfb6ba8f21b4aa17b060f5faca58
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/828371/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/ansible-collections-openstack.config'],1,1521809facb261a37153c2fdc3d6b33490680f98,,delete = group ansible-collections-openstack-release,,1,0
openstack%2Fbifrost~master~Ie03b3527ed0888dd204553eaf0da4f39465d7245,openstack/bifrost,master,Ie03b3527ed0888dd204553eaf0da4f39465d7245,Do not clone repositories that are not used,MERGED,2022-01-25 14:06:11.000000000,2022-02-10 17:21:01.000000000,2022-02-10 17:18:02.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-25 14:06:11.000000000', 'files': ['releasenotes/notes/unused-repos-af1949f7bbeca5e6.yaml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ba2d0a40ca4bf28b5c1a2d6a9c7de93a67333333', 'message': 'Do not clone repositories that are not used\n\nChange-Id: Ie03b3527ed0888dd204553eaf0da4f39465d7245\n'}]",4,826292,ba2d0a40ca4bf28b5c1a2d6a9c7de93a67333333,17,3,1,10239,,,0,"Do not clone repositories that are not used

Change-Id: Ie03b3527ed0888dd204553eaf0da4f39465d7245
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/92/826292/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/unused-repos-af1949f7bbeca5e6.yaml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml']",3,ba2d0a40ca4bf28b5c1a2d6a9c7de93a67333333,no-staging,"enable_inspector: truestaging_drivers_include: false enabled: ""{{ enable_inspector }}"" enabled: ""{{ enable_inspector }}"" enabled: ""{{ staging_drivers_include }}"" enabled: ""{{ enable_keystone }}"" source_install: ""{{ prometheus_exporter_source_install }}"" enabled: ""{{ enable_prometheus_exporter }}"""," # NOTE(dtantsur): skip cloning if keystone is disabled source_install: ""{{ enable_keystone }}"" source_install: ""{{ enable_prometheus_exporter }}""",19,3
openstack%2Fblazar~master~I6414be91a1b629df680641050cfd415252b0a3c5,openstack/blazar,master,I6414be91a1b629df680641050cfd415252b0a3c5,Switch to using internal endpoints,MERGED,2022-02-08 15:38:37.000000000,2022-02-10 17:16:37.000000000,2022-02-10 17:11:50.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-02-08 15:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/9fe8eaa266f7a7deeebb594588ae73de67ec11ba', 'message': 'Switch to using internal endpoints\n\nChange-Id: I6414be91a1b629df680641050cfd415252b0a3c5\nCloses-Bug: #1960335\n'}, {'number': 2, 'created': '2022-02-10 12:45:54.000000000', 'files': ['blazar/utils/openstack/neutron.py', 'blazar/utils/openstack/placement.py', 'blazar/tests/utils/openstack/test_placement.py', 'blazar/utils/openstack/nova.py', 'devstack/plugin.sh', 'releasenotes/notes/internal-endpoint-interface-748511b8b25455c6.yaml', 'blazar/utils/openstack/keystone.py', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/77e0d4a0070cd789f5f5c2321e023eff7e6d2fb2', 'message': 'Switch to using internal endpoints\n\nThis commit makes endpoint types configurable and uses the internal\nendpoint as default for Blazar, except admin for reaching keystone to\nkeep legacy behaviour for now.\n\nUpdate devstack configuration to use public endpoints, since internal\nendpoints are not created by devstack anymore (except for keystone).\n\nChange-Id: I6414be91a1b629df680641050cfd415252b0a3c5\nCloses-Bug: #1960335\n'}]",2,828366,77e0d4a0070cd789f5f5c2321e023eff7e6d2fb2,12,3,2,15197,,,0,"Switch to using internal endpoints

This commit makes endpoint types configurable and uses the internal
endpoint as default for Blazar, except admin for reaching keystone to
keep legacy behaviour for now.

Update devstack configuration to use public endpoints, since internal
endpoints are not created by devstack anymore (except for keystone).

Change-Id: I6414be91a1b629df680641050cfd415252b0a3c5
Closes-Bug: #1960335
",git fetch https://review.opendev.org/openstack/blazar refs/changes/66/828366/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/neutron.py', 'blazar/utils/openstack/placement.py', 'blazar/tests/utils/openstack/test_placement.py', 'blazar/utils/openstack/nova.py', 'blazar/utils/openstack/keystone.py', 'releasenotes/notes/internal-endpoint-interface-748511b8b25455c6.yaml', 'blazar/tests/utils/openstack/test_nova.py']",7,9fe8eaa266f7a7deeebb594588ae73de67ec11ba,internal-interface," self.endpoint_type = 'internalURL' endpoint_override=endpoint, endpoint_type=self.endpoint_type) endpoint_type=self.endpoint_type,", endpoint_override=endpoint),18,3
openstack%2Fneutron~stable%2Fvictoria~Ida7c3ac974058769eb7ff901715e9b17a998bf79,openstack/neutron,stable/victoria,Ida7c3ac974058769eb7ff901715e9b17a998bf79,Update irrelevant-files to skip run of untouched jobs,MERGED,2022-02-04 05:25:09.000000000,2022-02-10 17:16:18.000000000,2022-02-10 17:00:27.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 05:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e16de98b6f9ff9279e70d3d6a1225b2f85be8246', 'message': ""Update irrelevant-files to skip run of untouched jobs\n\nCurrently when a job config is updated, all other\njobs are triggered unnecessary.\n\nThis patch updates irrelevant files to ignore changes\nin all job config files except zuul.d/project.yaml(as\nthis contains the list of jobs to run not their definitions).\nWith this only the jobs whose definitions are updated(along with\nit's child jobs) will be triggered because by default\nmatch-on-config-updates is set to true for a job[1] and\nthat ignores files or irrelevant-files for a job inclusion.\n\n[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates\n\nChange-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79\n(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)\n(cherry picked from commit 67f36f0c5c2165df71e980ac7121d9db14487227)\nConflicts: zuul.d/base.yaml\n \tzuul.d/grenade.yaml\n \tzuul.d/rally.yaml\n \tzuul.d/tempest-multinode.yaml\n \tzuul.d/tempest-singlenode.yaml\n \tzuul.d/tripleo.yaml\n""}, {'number': 2, 'created': '2022-02-04 07:32:43.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e755baa27969527e795ea587ec5d10677afd9cb5', 'message': ""Update irrelevant-files to skip run of untouched jobs\n\nCurrently when a job config is updated, all other\njobs are triggered unnecessary.\n\nThis patch updates irrelevant files to ignore changes\nin all job config files except zuul.d/project.yaml(as\nthis contains the list of jobs to run not their definitions).\nWith this only the jobs whose definitions are updated(along with\nit's child jobs) will be triggered because by default\nmatch-on-config-updates is set to true for a job[1] and\nthat ignores files or irrelevant-files for a job inclusion.\n\n[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates\n\nChange-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79\n(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)\n(cherry picked from commit 67f36f0c5c2165df71e980ac7121d9db14487227)\nConflicts: zuul.d/base.yaml\n \tzuul.d/grenade.yaml\n \tzuul.d/rally.yaml\n \tzuul.d/tempest-multinode.yaml\n \tzuul.d/tempest-singlenode.yaml\n \tzuul.d/tripleo.yaml\n""}]",1,827798,e755baa27969527e795ea587ec5d10677afd9cb5,14,4,2,13861,,,0,"Update irrelevant-files to skip run of untouched jobs

Currently when a job config is updated, all other
jobs are triggered unnecessary.

This patch updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Change-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79
(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)
(cherry picked from commit 67f36f0c5c2165df71e980ac7121d9db14487227)
Conflicts: zuul.d/base.yaml
 	zuul.d/grenade.yaml
 	zuul.d/rally.yaml
 	zuul.d/tempest-multinode.yaml
 	zuul.d/tempest-singlenode.yaml
 	zuul.d/tripleo.yaml
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/827798/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml']",6,e16de98b6f9ff9279e70d3d6a1225b2f85be8246,neutron-ci-improvements, - ^zuul.d/(?!(project)).*\.yaml,,6,0
openstack%2Fcinder~stable%2Fvictoria~Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,openstack/cinder,stable/victoria,Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,Fix: Race between attachment and volume deletion,MERGED,2022-01-18 11:54:40.000000000,2022-02-10 17:16:09.000000000,2022-02-10 17:00:18.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-01-18 11:54:40.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'releasenotes/notes/detach-race-delete-012820ad9c8dbe16.yaml', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/399da0782da1c37cdda4b5e9f737b820a66c016f', 'message': 'Fix: Race between attachment and volume deletion\n\nThere are cases where requests to delete an attachment made by Nova can\nrace other third-party requests to delete the overall volume.\n\nThis has been observed when running cinder-csi, where it first requests\nthat Nova detaches a volume before itself requesting that the overall\nvolume is deleted once it becomes `available`.\n\nThis is a cinder race condition, and like most race conditions is not\nsimple to explain.\n\nSome context on the issue:\n\n- Cinder API uses the volume ""status"" field as a locking mechanism to\n  prevent concurrent request processing on the same volume.\n\n- Most cinder operations are asynchronous, so the API returns before the\n  operation has been completed by the cinder-volume service, but the\n  attachment operations such as creating/updating/deleting an attachment\n  are synchronous, so the API only returns to the caller after the\n  cinder-volume service has completed the operation.\n\n- Our current code **incorrectly** modifies the status of the volume\n  both on the cinder-volume and the cinder-api services on the\n  attachment delete operation.\n\nThe actual set of events that leads to the issue reported in this bug\nare:\n\n[Cinder-CSI]\n- Requests Nova to detach volume (Request R1)\n\n[Nova]\n- R1: Asks cinder-api to delete the attachment and **waits**\n\n[Cinder-API]\n- R1: Checks the status of the volume\n- R1: Sends terminate connection request (R1) to cinder-volume and\n  **waits**\n\n[Cinder-Volume]\n- R1: Ask the driver to terminate the connection\n- R1: The driver asks the backend to unmap and unexport the volume\n- R1: The last attachment is removed from the DB and the status of the\n      volume is changed in the DB to ""available""\n\n[Cinder-CSI]\n- Checks that there are no attachments in the volume and asks Cinder to\n  delete it (Request R2)\n\n[Cinder-API]\n\n- R2: Check that the volume\'s status is valid. It doesn\'t have\n  attachments and is available, so it can be deleted.\n- R2: Tell cinder-volume to delete the volume and return immediately.\n\n[Cinder-Volume]\n- R2: Volume is deleted and DB entry is deleted\n- R1: Finish the termination of the connection\n\n[Cinder-API]\n- R1: Now that cinder-volume has finished the termination the code\n  continues\n- R1: Try to modify the volume in the DB\n- R1: DB layer raises VolumeNotFound since the volume has been deleted\n  from the DB\n- R1: VolumeNotFound is converted to HTTP 404 status code which is\n  returned to Nova\n\n[Nova]\n- R1: Cinder responds with 404 on the attachment delete request\n- R1: Nova leaves the volume as attached, since the attachment delete\n  failed\n\nAt this point the Cinder and Nova DBs are out of sync, because Nova\nthinks that the attachment is connected and Cinder has detached the\nvolume and even deleted it.\n\nHardening is also being done on the Nova side [2] to accept that the\nvolume attachment may be gone.\n\nThis patch fixes the issue mentioned above, but there is a request on\nCinder-CSI [1] to use Nova as the source of truth regarding its\nattachments that, when implemented, would also fix the issue.\n\n[1]: https://github.com/kubernetes/cloud-provider-openstack/issues/1645\n[2]: https://review.opendev.org/q/topic:%2522bug/1937084%2522+project:openstack/nova\n\nCloses-Bug: #1937084\nChange-Id: Iaf149dadad5791e81a3c0efd089d0ee66a1a5614\n(cherry picked from commit 2ec2222841f6116707fe25bdcdae6ad6c2b9beb7)\nConflicts:\n\tcinder/tests/unit/attachments/test_attachments_manager.py\n\tcinder/volume/manager.py\n(cherry picked from commit ed0be0c8fa1d26c3f366dd3d58ad4a8318695dcb)\n(cherry picked from commit 7210c914c4ee08a06e6ec00e9a861b977d794ec8)\nConflicts:\n\tcinder/db/sqlalchemy/api.py\n'}]",3,825106,399da0782da1c37cdda4b5e9f737b820a66c016f,18,4,1,9535,,,0,"Fix: Race between attachment and volume deletion

There are cases where requests to delete an attachment made by Nova can
race other third-party requests to delete the overall volume.

This has been observed when running cinder-csi, where it first requests
that Nova detaches a volume before itself requesting that the overall
volume is deleted once it becomes `available`.

This is a cinder race condition, and like most race conditions is not
simple to explain.

Some context on the issue:

- Cinder API uses the volume ""status"" field as a locking mechanism to
  prevent concurrent request processing on the same volume.

- Most cinder operations are asynchronous, so the API returns before the
  operation has been completed by the cinder-volume service, but the
  attachment operations such as creating/updating/deleting an attachment
  are synchronous, so the API only returns to the caller after the
  cinder-volume service has completed the operation.

- Our current code **incorrectly** modifies the status of the volume
  both on the cinder-volume and the cinder-api services on the
  attachment delete operation.

The actual set of events that leads to the issue reported in this bug
are:

[Cinder-CSI]
- Requests Nova to detach volume (Request R1)

[Nova]
- R1: Asks cinder-api to delete the attachment and **waits**

[Cinder-API]
- R1: Checks the status of the volume
- R1: Sends terminate connection request (R1) to cinder-volume and
  **waits**

[Cinder-Volume]
- R1: Ask the driver to terminate the connection
- R1: The driver asks the backend to unmap and unexport the volume
- R1: The last attachment is removed from the DB and the status of the
      volume is changed in the DB to ""available""

[Cinder-CSI]
- Checks that there are no attachments in the volume and asks Cinder to
  delete it (Request R2)

[Cinder-API]

- R2: Check that the volume's status is valid. It doesn't have
  attachments and is available, so it can be deleted.
- R2: Tell cinder-volume to delete the volume and return immediately.

[Cinder-Volume]
- R2: Volume is deleted and DB entry is deleted
- R1: Finish the termination of the connection

[Cinder-API]
- R1: Now that cinder-volume has finished the termination the code
  continues
- R1: Try to modify the volume in the DB
- R1: DB layer raises VolumeNotFound since the volume has been deleted
  from the DB
- R1: VolumeNotFound is converted to HTTP 404 status code which is
  returned to Nova

[Nova]
- R1: Cinder responds with 404 on the attachment delete request
- R1: Nova leaves the volume as attached, since the attachment delete
  failed

At this point the Cinder and Nova DBs are out of sync, because Nova
thinks that the attachment is connected and Cinder has detached the
volume and even deleted it.

Hardening is also being done on the Nova side [2] to accept that the
volume attachment may be gone.

This patch fixes the issue mentioned above, but there is a request on
Cinder-CSI [1] to use Nova as the source of truth regarding its
attachments that, when implemented, would also fix the issue.

[1]: https://github.com/kubernetes/cloud-provider-openstack/issues/1645
[2]: https://review.opendev.org/q/topic:%2522bug/1937084%2522+project:openstack/nova

Closes-Bug: #1937084
Change-Id: Iaf149dadad5791e81a3c0efd089d0ee66a1a5614
(cherry picked from commit 2ec2222841f6116707fe25bdcdae6ad6c2b9beb7)
Conflicts:
	cinder/tests/unit/attachments/test_attachments_manager.py
	cinder/volume/manager.py
(cherry picked from commit ed0be0c8fa1d26c3f366dd3d58ad4a8318695dcb)
(cherry picked from commit 7210c914c4ee08a06e6ec00e9a861b977d794ec8)
Conflicts:
	cinder/db/sqlalchemy/api.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/825106/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'releasenotes/notes/detach-race-delete-012820ad9c8dbe16.yaml', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py']",8,399da0782da1c37cdda4b5e9f737b820a66c016f,victoria-detach-vol-status," volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.start"") else: # Generate the detach.start notification on the volume service to # include the host doing the operation. self.volume_rpcapi.attachment_delete(ctxt, attachment.id, volume) # Trigger attachments lazy load (missing since volume was loaded in the # attachment without joined tables). With them loaded the finish_detach # call removes the detached one from the list, and the notification and # return have the right attachment list. volume.volume_attachment volume.finish_detach(attachment.id) # Do end notification on the API so it comes after finish_detach. # Doing it on the volume service leads to race condition from bug # #1937084, and doing the notification there with the finish here leads # to bug #1916980. volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.end"") return volume.volume_attachment"," volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.start"") volume.finish_detach(attachment.id) do_notify = True else: self.volume_rpcapi.attachment_delete(ctxt, attachment.id, volume) do_notify = False status_updates = {'status': 'available', 'attach_status': 'detached'} remaining_attachments = AO_LIST.get_all_by_volume_id(ctxt, volume.id) LOG.debug(""Remaining volume attachments: %s"", remaining_attachments, resource=volume) # NOTE(jdg) Try and figure out the > state we have left and set that # attached > attaching > > detaching > reserved pending_status_list = [] for attachment in remaining_attachments: pending_status_list.append(attachment.attach_status) LOG.debug(""Adding status of: %s to pending status list "" ""for volume."", attachment.attach_status, resource=volume) LOG.debug(""Pending status list for volume during "" ""attachment-delete: %s"", pending_status_list, resource=volume) if 'attached' in pending_status_list: status_updates['status'] = 'in-use' status_updates['attach_status'] = 'attached' elif 'attaching' in pending_status_list: status_updates['status'] = 'attaching' status_updates['attach_status'] = 'attaching' elif 'detaching' in pending_status_list: status_updates['status'] = 'detaching' status_updates['attach_status'] = 'detaching' elif 'reserved' in pending_status_list: status_updates['status'] = 'reserved' status_updates['attach_status'] = 'reserved' volume.status = status_updates['status'] volume.attach_status = status_updates['attach_status'] volume.save() if do_notify: volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.end"") return remaining_attachments",127,114
openstack%2Fneutron~stable%2Fvictoria~Ie33514da28991fa5952a1d8c289402ecb9ffee49,openstack/neutron,stable/victoria,Ie33514da28991fa5952a1d8c289402ecb9ffee49,Limit execution of the neutron CI jobs on some irrelevant file,MERGED,2022-02-04 07:16:41.000000000,2022-02-10 17:12:01.000000000,2022-02-10 17:00:22.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 07:16:41.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/afb0c633f8332f389c9b0936f61129cc26a6ce62', 'message': 'Limit execution of the neutron CI jobs on some irrelevant file\n\nThis patch tries to make execution of the CI jobs in the Neutron\nqueue to be more smart. There is no need to e.g. run\nlinuxbridge scenario jobs job when only changed files in patch\nare in e.g. the openvswitch agent module, or vice versa.\n\nChange-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49\n(cherry picked from commit adb3e943b11415b085ebbbb7f23653aeb87d6ec5)\nConflicts: zuul.d/project.yaml\n \tzuul.d/tempest-singlenode.yaml\n'}]",4,827807,afb0c633f8332f389c9b0936f61129cc26a6ce62,14,3,1,13861,,,0,"Limit execution of the neutron CI jobs on some irrelevant file

This patch tries to make execution of the CI jobs in the Neutron
queue to be more smart. There is no need to e.g. run
linuxbridge scenario jobs job when only changed files in patch
are in e.g. the openvswitch agent module, or vice versa.

Change-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49
(cherry picked from commit adb3e943b11415b085ebbbb7f23653aeb87d6ec5)
Conflicts: zuul.d/project.yaml
 	zuul.d/tempest-singlenode.yaml
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/827807/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",7,afb0c633f8332f389c9b0936f61129cc26a6ce62,improve-neutron-ci, - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-tempest-linuxbridge - neutron-tempest-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release, - neutron-functional-with-uwsgi: # We don't run the job on things like neutron docs-only changes irrelevant-files: &irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - ^vagrant/.*$ - ^migration/.*$ - ^devstack/.*\.sample$ - neutron-fullstack-with-uwsgi: irrelevant-files: *irrelevant-files - neutron-rally-task: irrelevant-files: *irrelevant-files - neutron-grenade-multinode: irrelevant-files: *irrelevant-files - neutron-grenade-dvr-multinode: irrelevant-files: *irrelevant-files irrelevant-files: *irrelevant-files - neutron-tempest-linuxbridge: irrelevant-files: *irrelevant-files - neutron-tempest-with-uwsgi: irrelevant-files: *irrelevant-files - neutron-tempest-multinode-full-py3: irrelevant-files: *irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *irrelevant-files - neutron-tempest-iptables_hybrid: irrelevant-files: *irrelevant-files irrelevant-files: *irrelevant-files - neutron-tempest-slow-py3: irrelevant-files: *irrelevant-files - neutron-tempest-ipv6-only: irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release: irrelevant-files: *irrelevant-files irrelevant-files: *irrelevant-files # irrelevant-files: *irrelevant-files irrelevant-files: *irrelevant-files irrelevant-files: *irrelevant-files,270,97
openstack%2Fcinder~stable%2Fvictoria~I6576832b2c2722ab749cfe70bbc2058ead816c36,openstack/cinder,stable/victoria,I6576832b2c2722ab749cfe70bbc2058ead816c36,Expose volume_attachments in Volume OVO,MERGED,2022-01-18 11:54:40.000000000,2022-02-10 17:12:00.000000000,2022-02-10 17:00:14.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-18 11:54:40.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/objects/volume.py', 'cinder/tests/unit/fake_volume.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/volume/test_volume_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc6585577ee06825dc72a82f815069cba6372fa6', 'message': 'Expose volume_attachments in Volume OVO\n\nIn change-id Iabf9c3fab56ffef50695ce45745f193273822b39 we left the\n`volume_attachment` out of the expected attributes of the Volume OVO\n(even when te DB layer is providing that information) because it was\nbreaking some unit tests.\n\nThis means that in some cases we are unnecessarily loading the\nattachments again (manually or via lazy loading) once we have the volume\nOVO because that field is not set.\n\nIn this patch we populate the `volume_attachment` when we load the\nVolume OVO from the DB.\n\nChange-Id: I6576832b2c2722ab749cfe70bbc2058ead816c36\n(cherry picked from commit e07bf3787a7c1a8a55b8f69290cf6166719f6a5e)\nConflicts:\n\tcinder/objects/volume.py\n\tcinder/tests/unit/objects/test_volume.py\n(cherry picked from commit e85c22cef7bd502db44f837e626b7262f4dc8241)\n(cherry picked from commit a5b67fd959fb837120745e1a2757f18060dd6ecc)\nConflicts:\n\tcinder/tests/unit/volume/flows/test_create_volume_flow.py\n'}]",5,825105,bc6585577ee06825dc72a82f815069cba6372fa6,29,3,1,9535,,,0,"Expose volume_attachments in Volume OVO

In change-id Iabf9c3fab56ffef50695ce45745f193273822b39 we left the
`volume_attachment` out of the expected attributes of the Volume OVO
(even when te DB layer is providing that information) because it was
breaking some unit tests.

This means that in some cases we are unnecessarily loading the
attachments again (manually or via lazy loading) once we have the volume
OVO because that field is not set.

In this patch we populate the `volume_attachment` when we load the
Volume OVO from the DB.

Change-Id: I6576832b2c2722ab749cfe70bbc2058ead816c36
(cherry picked from commit e07bf3787a7c1a8a55b8f69290cf6166719f6a5e)
Conflicts:
	cinder/objects/volume.py
	cinder/tests/unit/objects/test_volume.py
(cherry picked from commit e85c22cef7bd502db44f837e626b7262f4dc8241)
(cherry picked from commit a5b67fd959fb837120745e1a2757f18060dd6ecc)
Conflicts:
	cinder/tests/unit/volume/flows/test_create_volume_flow.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/825105/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/objects/volume.py', 'cinder/tests/unit/fake_volume.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/volume/test_volume_migration.py']",6,bc6585577ee06825dc72a82f815069cba6372fa6,victoria-detach-vol-status," volume = tests_utils.attach_volume( self.context, volume, fake_uuid, attached_host, '/dev/vda') self.assertIsNotNone(volume.volume_attachment[0].id) self.assertEqual(fake_uuid, volume.volume_attachment[0].instance_uuid) self.assertEqual('in-use', volume.status) old_volume = tests_utils.attach_volume(self.context, old_volume, instance_uuid, attached_host, '/dev/vda') self.assertEqual('in-use', old_volume.status) attachment = old_volume.volume_attachment[0]"," volume_attach = tests_utils.attach_volume( self.context, volume['id'], fake_uuid, attached_host, '/dev/vda') self.assertIsNotNone(volume_attach['volume_attachment'][0]['id']) self.assertEqual( fake_uuid, volume_attach['volume_attachment'][0]['instance_uuid']) self.assertEqual('in-use', volume_attach['status']) vol = tests_utils.attach_volume(self.context, old_volume.id, instance_uuid, attached_host, '/dev/vda') self.assertEqual('in-use', vol['status']) attachment = vol['volume_attachment'][0]",40,19
openstack%2Fneutron~master~I3f1fbd62516a283abfc7371b2c828c1dc8c3fa83,openstack/neutron,master,I3f1fbd62516a283abfc7371b2c828c1dc8c3fa83,Re add ovs and ovn tempest slow jobs,MERGED,2022-02-03 05:50:32.000000000,2022-02-10 17:11:58.000000000,2022-02-10 17:00:10.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-02-03 05:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb31decce31ff136121ec8bdea30afc320453d67', 'message': 'Re add ovs and ovn tempest slow jobs\n\novs and ovn tempest slow jobs were removed in [1] with\nreasoning that slow tests are running in other jobs.\n\nBut those tests are not running in other jobs so\nre adding these jobs back but in periodic pipeline\nto have the missing coverage.\n\nChange-Id: I3f1fbd62516a283abfc7371b2c828c1dc8c3fa83\n'}, {'number': 2, 'created': '2022-02-03 08:19:17.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9d976de7ef3df5b6595c68c60163043dd367172', 'message': 'Re add ovs and ovn tempest slow jobs\n\novs and ovn tempest slow jobs were removed in [1] with\nreasoning that slow tests are running in other jobs.\n\nBut those tests are not running in other jobs so\nre adding these jobs back but in periodic pipeline\nto have the missing coverage.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/815465\n\nChange-Id: I3f1fbd62516a283abfc7371b2c828c1dc8c3fa83\n'}]",7,827590,f9d976de7ef3df5b6595c68c60163043dd367172,37,6,2,13861,,,0,"Re add ovs and ovn tempest slow jobs

ovs and ovn tempest slow jobs were removed in [1] with
reasoning that slow tests are running in other jobs.

But those tests are not running in other jobs so
re adding these jobs back but in periodic pipeline
to have the missing coverage.

[1] https://review.opendev.org/c/openstack/neutron/+/815465

Change-Id: I3f1fbd62516a283abfc7371b2c828c1dc8c3fa83
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/827590/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml']",2,cb31decce31ff136121ec8bdea30afc320453d67,improve-neutron-ci, - neutron-ovs-tempest-slow - neutron-ovn-tempest-slow,,83,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,openstack/tripleo-heat-templates,stable/train,I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,Manage octavia flavor in tripleo-ansible,MERGED,2022-01-24 16:12:03.000000000,2022-02-10 17:00:41.000000000,2022-02-10 17:00:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-24 16:12:03.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc2ce9d6e175748dda9bad845b3445905f8d6a58', 'message': 'Manage octavia flavor in tripleo-ansible\n\nMove the creation of the nova flavor for Octavia in tripleo-ansible, it\nallows us to specifiy the type of the API endpoint we want to use\n(internal endpoint).\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826091\n\nChange-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4\n(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)\n(cherry picked from commit 7cfe7813b63a8882e41413ab70d510f62f1df190)\n(cherry picked from commit b7b1b46388d10c6d44413ff2bad44a8fdcc92052)\n(cherry picked from commit e8ea8b3bf621c7ea361f066378fb5d82c957094a)\n'}]",1,826118,cc2ce9d6e175748dda9bad845b3445905f8d6a58,12,3,1,29244,,,0,"Manage octavia flavor in tripleo-ansible

Move the creation of the nova flavor for Octavia in tripleo-ansible, it
allows us to specifiy the type of the API endpoint we want to use
(internal endpoint).

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826091

Change-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4
(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)
(cherry picked from commit 7cfe7813b63a8882e41413ab70d510f62f1df190)
(cherry picked from commit b7b1b46388d10c6d44413ff2bad44a8fdcc92052)
(cherry picked from commit e8ea8b3bf621c7ea361f066378fb5d82c957094a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/826118/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml']",3,cc2ce9d6e175748dda9bad845b3445905f8d6a58,, octavia::policy::policies: {get_param: OctaviaApiPolicies}, OctaviaFlavorProperties: default: ram : '1024' disk : '3' vcpus: '1' description: Dictionary describing the nova flavor for amphora. type: json OctaviaManageNovaFlavor: default: true description: Configure the nova flavor for the amphora. type: boolean octavia::worker::manage_nova_flavor: {get_param: OctaviaManageNovaFlavor} octavia::worker::nova_flavor_config: {get_param: OctaviaFlavorProperties} container_puppet_tasks: step_5: config_volume: octavia puppet_tags: nova_flavor step_config: | include ::octavia::worker config_image: {get_param: ContainerOctaviaConfigImage} volumes: - /var/lib/config-data/puppet-generated/nova/etc/nova:/etc/nova:ro,21,22
openstack%2Fblazar~master~I7f60008d995266bda6d6880a952649f9b6477e3c,openstack/blazar,master,I7f60008d995266bda6d6880a952649f9b6477e3c,Update Nova scheduler filter configuration,MERGED,2022-02-07 14:35:32.000000000,2022-02-10 16:59:46.000000000,2022-02-10 16:57:37.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-02-07 14:35:32.000000000', 'files': ['doc/source/install/install-without-devstack.rst', 'doc/source/cli/instance-reservation.rst', 'doc/source/configuration/nova-conf.rst', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/blazar/commit/4064f0eabd5d6f8b79ea7fd37aab7d0d61be71fb', 'message': 'Update Nova scheduler filter configuration\n\nSynchronise with default enabled_filters: RetryFilter and RamFilter were\nremoved from Nova. Also remove filters which were only required by\nearlier implementations of instance reservation.\n\nChange-Id: I7f60008d995266bda6d6880a952649f9b6477e3c\n'}]",0,828157,4064f0eabd5d6f8b79ea7fd37aab7d0d61be71fb,7,2,1,15197,,,0,"Update Nova scheduler filter configuration

Synchronise with default enabled_filters: RetryFilter and RamFilter were
removed from Nova. Also remove filters which were only required by
earlier implementations of instance reservation.

Change-Id: I7f60008d995266bda6d6880a952649f9b6477e3c
",git fetch https://review.opendev.org/openstack/blazar refs/changes/57/828157/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-without-devstack.rst', 'doc/source/cli/instance-reservation.rst', 'doc/source/configuration/nova-conf.rst', 'devstack/plugin.sh']",4,4064f0eabd5d6f8b79ea7fd37aab7d0d61be71fb,nova-filters," iniadd $NOVA_CONF filter_scheduler enabled_filters ""AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter,BlazarFilter"" ACTUAL_FILTERS=""$ACTUAL_FILTERS,BlazarFilter"" iniset $NOVA_CONF filter_scheduler enabled_filters $ACTUAL_FILTERS"," iniadd $NOVA_CONF filter_scheduler enabled_filters ""RetryFilter, AvailabilityZoneFilter, RamFilter, ComputeFilter, ComputeCapabilitiesFilter, ImagePropertiesFilter, AggregateInstanceExtraSpecsFilter, AggregateMultiTenancyIsolation, ServerGroupAntiAffinityFilter, ServerGroupAffinityFilter, BlazarFilter"" if [[ $ACTUAL_FILTERS != *AggregateInstanceExtraSpecsFilter* ]]; then ACTUAL_FILTERS=""$ACTUAL_FILTERS,AggregateInstanceExtraSpecsFilter"" fi if [[ $ACTUAL_FILTERS != *AggregateMultiTenancyIsolation* ]]; then ACTUAL_FILTERS=""$ACTUAL_FILTERS,AggregateMultiTenancyIsolation"" fi if [[ $ACTUAL_FILTERS != *ServerGroupAntiAffinityFilter* ]]; then ACTUAL_FILTERS=""$ACTUAL_FILTERS,ServerGroupAntiAffinityFilter"" fi ACTUAL_FILTERS=""$ACTUAL_FILTERS,BlazarFilter"" iniset $NOVA_CONF filter_scheduler enabled_filters $ACTUAL_FILTERS",5,18
openstack%2Fkolla-ansible~master~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,master,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 12:14:12.000000000,2022-02-10 16:58:57.000000000,2022-02-10 16:53:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-10 12:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2ad39c5050fb0aefa7f27d8f45dd736d30e30900', 'message': 'neutron: fix placement endpoint type configuration\n\nChange-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea\n'}, {'number': 2, 'created': '2022-02-10 12:14:44.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/50edb94ded22f5c520b6d79d9829f987e2acdd75', 'message': 'neutron: fix placement endpoint type configuration\n\nChange-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea\nCloses-Bug: #1960503\n'}]",3,828703,50edb94ded22f5c520b6d79d9829f987e2acdd75,12,3,2,15197,,,0,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/828703/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'releasenotes/notes/neutron-placement-endpoint-type-90073ba5ecc9e663.yaml']",2,2ad39c5050fb0aefa7f27d8f45dd736d30e30900,neutron-endpoint-type,--- fixes: - | Fixes the configuration option setting the type of endpoint used by Neutron to send requests to Placement. `LP#1960503 <https://bugs.launchpad.net/kolla-ansible/+bug/1960503>`__ ,,7,1
openstack%2Fansible-collections-openstack~master~I2e47ade56c3df5945e991d11d70f429760c0d852,openstack/ansible-collections-openstack,master,I2e47ade56c3df5945e991d11d70f429760c0d852,Remove project properties tests and support,MERGED,2022-02-10 10:06:25.000000000,2022-02-10 16:44:03.000000000,2022-02-10 16:44:03.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 10:06:25.000000000', 'files': ['ci/roles/project_properties/defaults/main.yml', 'ci/run-collection.yml', 'ci/roles/project_properties/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7aa626377bef595e3f1c78724d4ce733b6342036', 'message': 'Remove project properties tests and support\n\nKeystone project doesn\'t have project ""properties"" documented and\ndiscourage users to use them. Remove support for this feature and\ntests for it. It was removed from new SDK as well.\n\nChange-Id: I2e47ade56c3df5945e991d11d70f429760c0d852\n'}]",0,828682,7aa626377bef595e3f1c78724d4ce733b6342036,6,2,1,10969,,,0,"Remove project properties tests and support

Keystone project doesn't have project ""properties"" documented and
discourage users to use them. Remove support for this feature and
tests for it. It was removed from new SDK as well.

Change-Id: I2e47ade56c3df5945e991d11d70f429760c0d852
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/82/828682/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/project_properties/defaults/main.yml', 'ci/run-collection.yml', 'ci/roles/project_properties/tasks/main.yml']",3,7aa626377bef595e3f1c78724d4ce733b6342036,,,"--- - name: 'Create project with properties - CHECK_MODE' check_mode: yes openstack.cloud.project: cloud: ""{{ cloud }}"" state: present name: ansible_project description: dummy description domain_id: default enabled: True properties: dummy_key: '{{ dummy_value }}' register: create_project_cm - assert: that: - create_project_cm is successful - create_project_cm is changed - name: 'Create project with properties' openstack.cloud.project: cloud: ""{{ cloud }}"" state: present name: ansible_project description: dummy description domain_id: default enabled: True properties: dummy_key: '{{ dummy_value }}' register: create_project - assert: that: - create_project is successful - create_project is changed - '""project"" in create_project' - '""dummy_key"" in create_project[""project""]' - create_project[""project""].dummy_key == dummy_value - name: 'Create project with properties (retry - no change) - CHECK_MODE' check_mode: yes openstack.cloud.project: cloud: ""{{ cloud }}"" state: present name: ansible_project description: dummy description domain_id: default enabled: True properties: dummy_key: '{{ dummy_value }}' register: create_project_retry_cm - assert: that: - create_project_retry_cm is successful - create_project_retry_cm is not changed - name: 'Create project with properties (retry - no change)' openstack.cloud.project: cloud: ""{{ cloud }}"" state: present name: ansible_project description: dummy description domain_id: default enabled: True properties: dummy_key: '{{ dummy_value }}' register: create_project_retry - assert: that: - create_project_retry is successful - create_project_retry is not changed - '""project"" in create_project_retry' - '""dummy_key"" in create_project_retry[""project""]' - create_project_retry[""project""].dummy_key == dummy_value - name: 'Update project with properties - CHECK_MODE' check_mode: yes openstack.cloud.project: cloud: ""{{ cloud }}"" state: present name: ansible_project description: new description properties: dummy_key: '{{ dummy_value_updated }}' register: updated_project_cm - assert: that: - updated_project_cm is successful - updated_project_cm is changed - name: 'Update project with properties' openstack.cloud.project: cloud: ""{{ cloud }}"" state: present name: ansible_project description: new description properties: dummy_key: '{{ dummy_value_updated }}' register: updated_project - assert: that: - updated_project is successful - updated_project is changed - '""project"" in updated_project' - '""dummy_key"" in updated_project[""project""]' - updated_project[""project""].dummy_key == dummy_value_updated - name: 'Update project with properties (retry - no change) - CHECK_MODE' check_mode: yes openstack.cloud.project: cloud: ""{{ cloud }}"" state: present name: ansible_project description: new description properties: dummy_key: '{{ dummy_value_updated }}' register: updated_project_retry_cm - assert: that: - updated_project_retry_cm is successful - updated_project_retry_cm is not changed - name: 'Update project with properties (retry - no change)' openstack.cloud.project: cloud: ""{{ cloud }}"" state: present name: ansible_project description: new description properties: dummy_key: '{{ dummy_value_updated }}' register: updated_project_retry - assert: that: - updated_project_retry is successful - updated_project_retry is not changed - '""project"" in updated_project_retry' - '""dummy_key"" in updated_project_retry[""project""]' - updated_project_retry[""project""].dummy_key == dummy_value_updated - name: Delete project with properties openstack.cloud.project: cloud: ""{{ cloud }}"" state: absent name: ansible_project ",0,147
openstack%2Fblazar-dashboard~master~I189ac002fcd7b1950ed15626e04cdf8e941aa690,openstack/blazar-dashboard,master,I189ac002fcd7b1950ed15626e04cdf8e941aa690,Updating python testing classifier as per Yoga testing runtime,MERGED,2022-01-31 05:12:26.000000000,2022-02-10 16:28:26.000000000,2022-02-10 16:26:09.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-01-31 05:12:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/f03cd5b3dca2a5b8a32d0c0ffd3e4b0cba59622a', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I189ac002fcd7b1950ed15626e04cdf8e941aa690\n'}]",0,826982,f03cd5b3dca2a5b8a32d0c0ffd3e4b0cba59622a,9,4,1,29313,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I189ac002fcd7b1950ed15626e04cdf8e941aa690
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/82/826982/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f03cd5b3dca2a5b8a32d0c0ffd3e4b0cba59622a,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fdevstack~stable%2Fxena~Ide186fb53b3f9826ff602cb7fb797f245a15033a,openstack/devstack,stable/xena,Ide186fb53b3f9826ff602cb7fb797f245a15033a,Add option to set chap algorithms for iscsid for FIPS,ABANDONED,2022-02-10 14:44:36.000000000,2022-02-10 16:24:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-10 14:44:36.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/48d264b0f5143095dcda82da9c49f6dfb8984689', 'message': 'Add option to set chap algorithms for iscsid for FIPS\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We will set the chap algorithm to ""SHA3-256,SHA256"",\nwhich should work under all configurations.\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n(cherry picked from commit c3b7051387d4332f956148c5676383499fa31859)\n'}]",0,828661,48d264b0f5143095dcda82da9c49f6dfb8984689,3,1,1,34120,,,0,"Add option to set chap algorithms for iscsid for FIPS

The default CHAP algorithm for iscsid is md5, which is disallowed
under fips.  We will set the chap algorithm to ""SHA3-256,SHA256"",
which should work under all configurations.

Change-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a
(cherry picked from commit c3b7051387d4332f956148c5676383499fa31859)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/61/828661/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,48d264b0f5143095dcda82da9c49f6dfb8984689,add_fips_job-stable/xena," # set chap algorithms. The default chap_algorithm is md5 which will # not work under FIPS iniset -sudo /etc/iscsi/iscsid.conf DEFAULT ""node.session.auth.chap_algs"" ""SHA3-256,SHA256"" ",,4,0
openstack%2Fgovernance~master~I6642ab3e6b40f0565521455907beb08d3752eb70,openstack/governance,master,I6642ab3e6b40f0565521455907beb08d3752eb70,Remove security-specs from security sig,MERGED,2022-02-05 21:36:13.000000000,2022-02-10 16:09:29.000000000,2022-02-10 16:07:17.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-05 21:36:13.000000000', 'files': ['reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/63a41a4995f92bc9eff90efa77fe312e197ac074', 'message': 'Remove security-specs from security sig\n\nThe security-specs repo is slated for retirement[0] as per the\nsecurity-sig. This change removes the security-specs repository\nfrom the list that is currently maintained by the security-sig.\n\nChange-Id: I6642ab3e6b40f0565521455907beb08d3752eb70\n'}]",1,828018,63a41a4995f92bc9eff90efa77fe312e197ac074,13,4,1,21420,,,0,"Remove security-specs from security sig

The security-specs repo is slated for retirement[0] as per the
security-sig. This change removes the security-specs repository
from the list that is currently maintained by the security-sig.

Change-Id: I6642ab3e6b40f0565521455907beb08d3752eb70
",git fetch https://review.opendev.org/openstack/governance refs/changes/18/828018/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/sigs-repos.yaml'],1,63a41a4995f92bc9eff90efa77fe312e197ac074,project-update,, - repo: openstack/security-specs,0,1
openstack%2Fblazar~master~Id286e5a0f9f278cbf5330887bfea1719cd25ae1a,openstack/blazar,master,Id286e5a0f9f278cbf5330887bfea1719cd25ae1a,Prevent failed lease update from setting lease status to ERROR,ABANDONED,2019-02-05 18:29:29.000000000,2022-02-10 16:08:44.000000000,,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-02-05 18:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c85e2d217671a786876100a2c04c9fcaedc5a084', 'message': 'Prevent failed lease update from setting lease status to ERROR\n\nIf a lease update fails because of not enough hosts being available\n(either when prolonging or deferring a lease, increasing the number of\nreserved hosts, or changing the requirements), it would leave the lease\nin ERROR status, although the reservation would still be active.\n\nThis patch allows the lease status code to restore the original lease\nstatus after the failed update.\n\nChange-Id: Id286e5a0f9f278cbf5330887bfea1719cd25ae1a\nCloses-Bug: #1786031\n'}, {'number': 2, 'created': '2019-02-11 15:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/101076c4e144c09c2d1f575ee3c3df93f3f74c17', 'message': 'Prevent failed lease update from setting lease status to ERROR\n\nIf a lease update fails because of not enough hosts being available\n(either when prolonging or deferring a lease, increasing the number of\nreserved hosts, or changing the requirements), it would leave the lease\nin ERROR status, although the reservation would still be active.\n\nThis patch allows the lease status code to restore the original lease\nstatus after the failed update.\n\nChange-Id: Id286e5a0f9f278cbf5330887bfea1719cd25ae1a\nCloses-Bug: #1786031\n'}, {'number': 3, 'created': '2019-02-21 17:29:03.000000000', 'files': ['blazar/exceptions.py', 'blazar/manager/exceptions.py', 'blazar/status.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/16b5a74344ac3bcb62a2847a7731e516ffdfc10a', 'message': 'Prevent failed lease update from setting lease status to ERROR\n\nIf a lease update fails because of not enough hosts being available\n(either when prolonging or deferring a lease, increasing the number of\nreserved hosts, or changing the requirements), it would leave the lease\nin ERROR status, although the reservation would still be active.\n\nThis patch allows the lease status code to restore the original lease\nstatus after the failed update.\n\nChange-Id: Id286e5a0f9f278cbf5330887bfea1719cd25ae1a\nCloses-Bug: #1786031\n'}]",1,635005,16b5a74344ac3bcb62a2847a7731e516ffdfc10a,10,4,3,15197,,,0,"Prevent failed lease update from setting lease status to ERROR

If a lease update fails because of not enough hosts being available
(either when prolonging or deferring a lease, increasing the number of
reserved hosts, or changing the requirements), it would leave the lease
in ERROR status, although the reservation would still be active.

This patch allows the lease status code to restore the original lease
status after the failed update.

Change-Id: Id286e5a0f9f278cbf5330887bfea1719cd25ae1a
Closes-Bug: #1786031
",git fetch https://review.opendev.org/openstack/blazar refs/changes/05/635005/3 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/exceptions.py', 'blazar/status.py']",2,c85e2d217671a786876100a2c04c9fcaedc5a084,bug/1786031," original_status = l['status'] if cls.is_valid_transition(original_status, lease_id, original_status, transition) func.__name__, original_status, restore_lease_status = getattr( e, 'restore_lease_status', False) if restore_lease_status: LOG.debug('Non-fatal exception occured during status ' 'transition, reverting status of lease %s ' 'to %s.', lease_id, original_status) db_api.lease_update(lease_id, {'status': original_status}) else: LOG.error('Lease %s went into ERROR status. %s', lease_id, str(e)) db_api.lease_update(lease_id, {'status': cls.ERROR}) else: # Update a lease status if it exists if db_api.lease_get(lease_id): next_status = cls.derive_stable_status(lease_id) if (next_status in result_in and cls.is_valid_transition(transition, db_api.lease_update(lease_id, {'status': next_status}) LOG.debug('Status of lease %s changed from %s to ' '%s.', lease_id, transition, next_status) else: LOG.error('Lease %s went into ERROR status.', lease_id) db_api.lease_update(lease_id, {'status': cls.ERROR}) raise exceptions.InvalidStatus"," if cls.is_valid_transition(l['status'], lease_id, l['status'], transition) func.__name__, l['status'], LOG.error('Lease %s went into ERROR status. %s', lease_id, str(e)) db_api.lease_update(lease_id, {'status': cls.ERROR}) # Update a lease status if it exists if db_api.lease_get(lease_id): next_status = cls.derive_stable_status(lease_id) if (next_status in result_in and cls.is_valid_transition(transition, db_api.lease_update(lease_id, {'status': next_status}) LOG.debug('Status of lease %s changed from %s to %s.', lease_id, transition, next_status) else: LOG.error('Lease %s went into ERROR status.', lease_id) db_api.lease_update(lease_id, {'status': cls.ERROR}) raise exceptions.InvalidStatus",33,22
openstack%2Fgovernance~master~I82739557c741fe76e19bb756898df9cc7bb27436,openstack/governance,master,I82739557c741fe76e19bb756898df9cc7bb27436,Add timelines to few of the Chair duties.,MERGED,2022-02-07 02:12:26.000000000,2022-02-10 15:58:11.000000000,2022-02-10 15:56:12.000000000,"[{'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-07 02:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/2e47e0f54745159a9a09ca5872ec7660e9a51c8d', 'message': 'Add timelines to few of the Chair duties.\n\nChange-Id: I82739557c741fe76e19bb756898df9cc7bb27436\n'}, {'number': 2, 'created': '2022-02-08 18:50:26.000000000', 'files': ['CHAIR.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/fcbfe33db6aa396adce46578784ae78dbb96c663', 'message': 'Add timelines to few of the Chair duties.\n\nChange-Id: I82739557c741fe76e19bb756898df9cc7bb27436\n'}]",8,828062,fcbfe33db6aa396adce46578784ae78dbb96c663,13,4,2,8556,,,0,"Add timelines to few of the Chair duties.

Change-Id: I82739557c741fe76e19bb756898df9cc7bb27436
",git fetch https://review.opendev.org/openstack/governance refs/changes/62/828062/2 && git format-patch -1 --stdout FETCH_HEAD,['CHAIR.rst'],1,2e47e0f54745159a9a09ca5872ec7660e9a51c8d,documentation-change,"* Checks on the active goals and if there is no active goal then ensure that 2 TC members are signed up to manage the goal selection process. * Ensure PTI and testing runtime update is done. * After milestone-1, ensure the next release naming is started. * During R-9 week, checks on ""PTL and TC elections"". * Ensure PTL and TC election schedule is prepared as per schedule mentioned in https://governance.openstack.org/tc/reference/charter.html * Encourage the TC members that are not standing for [re]election to help as the election officials.","* See ""Around TC elections"" * Ensure that 2 TC members are signed up to manage the goal selection process for the next cycle. * Ensure the next release naming is started * Ensure PTI update is done * Ensure PTL and TC election schedule is prepared before R-5 of current release cycle and as per https://governance.openstack.org/tc/reference/charter.html * Encourage the TC members that are not standing for [re]election to help as the election officials.",9,8
openstack%2Fopenstack-ansible~master~If48096a7309c7140cd9c182d5d3175e8d827cbd6,openstack/openstack-ansible,master,If48096a7309c7140cd9c182d5d3175e8d827cbd6,Rename RBD cinder backend,MERGED,2022-02-09 07:11:36.000000000,2022-02-10 15:53:40.000000000,2022-02-10 15:48:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-09 07:11:36.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628', 'message': ""Rename RBD cinder backend\n\nRBD seems to be reserved name in cinder. Once it's used as\nvolume type, cinder fails with [1]\n\nWe rename backend name in doc and AIO to workaround the issue\n\n[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/\n\nCloses-Bug: #1877421\nChange-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6\n""}]",1,828463,e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628,9,3,1,28619,,,0,"Rename RBD cinder backend

RBD seems to be reserved name in cinder. Once it's used as
volume type, cinder fails with [1]

We rename backend name in doc and AIO to workaround the issue

[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/

Closes-Bug: #1877421
Change-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/828463/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'tests/roles/bootstrap-host/tasks/prepare_ceph.yml']",3,e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628,bug/1877421," ""rbd_volumes"":"," ""RBD"":",3,3
openstack%2Fopenstack-ansible~master~If5363321cea9031ff5cf9bd474d8d9711fc54e66,openstack/openstack-ansible,master,If5363321cea9031ff5cf9bd474d8d9711fc54e66,Remove workaround for OpenSUSE when setting AIO hostname,MERGED,2022-02-02 09:46:36.000000000,2022-02-10 15:51:21.000000000,2022-02-10 15:48:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:46:36.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_hostname.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c87fa934446b5ebb3430d8d60842a852f1000d14', 'message': 'Remove workaround for OpenSUSE when setting AIO hostname\n\nWe no longer support OpenSUSE deployments so this code is redundant.\n\nChange-Id: If5363321cea9031ff5cf9bd474d8d9711fc54e66\n'}]",0,827465,c87fa934446b5ebb3430d8d60842a852f1000d14,8,3,1,25023,,,0,"Remove workaround for OpenSUSE when setting AIO hostname

We no longer support OpenSUSE deployments so this code is redundant.

Change-Id: If5363321cea9031ff5cf9bd474d8d9711fc54e66
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/827465/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_hostname.yml'],1,c87fa934446b5ebb3430d8d60842a852f1000d14,, hostname: name: aio1," block: - name: Set hostname using the Ansible module hostname: name: aio1 # NOTE(hwoarang) The hostname module does not work on Leap 15 because of # https://bugzilla.novell.com/show_bug.cgi?id=997614 # As such we need to fallback to using the command directly. # NOTE(evrardjp): Remove this when Ansible 2.8 is out, as Ansible now # vendors in the distro python package, which _should_ technically help. # (To be tested) rescue: - name: Set hostname using hostnamectl command: hostnamectl set-hostname aio1 tags: - skip_ansible_lint",2,15
openstack%2Fkolla-ansible~master~I686c9beb07dcb15900bef468cfc370f4006a8e03,openstack/kolla-ansible,master,I686c9beb07dcb15900bef468cfc370f4006a8e03,CI: cephadm - copy config/keys to all nodes,ABANDONED,2022-02-01 14:23:16.000000000,2022-02-10 15:44:16.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-01 14:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93cdfadad65c19b0e3f941d75dfd5de848f972b5', 'message': 'WIP: CI: Fix cephadm\n\nChange-Id: I686c9beb07dcb15900bef468cfc370f4006a8e03\n'}, {'number': 2, 'created': '2022-02-01 14:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe6f5972e2477e435a67c56b1c396339ae7acc73', 'message': 'WIP: CI: Fix cephadm\n\nChange-Id: I686c9beb07dcb15900bef468cfc370f4006a8e03\n'}, {'number': 3, 'created': '2022-02-01 16:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f216f861b913a5ed5dda8d0604c2e36b689485f9', 'message': 'WIP: CI: Fix cephadm\n\nChange-Id: I686c9beb07dcb15900bef468cfc370f4006a8e03\n'}, {'number': 4, 'created': '2022-02-03 18:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/18af46b0db68cd9c5f4a046dc307e3195c1e0d7a', 'message': ""CI: cephadm - copy config/keys to all nodes\n\nCephadm has a node tag _admin - which causes it\nto copy ceph.conf and admin keyrings to those nodes.\n\nSince we don't set that - sometimes the key gets removed\nor lost.\n\nChange-Id: I686c9beb07dcb15900bef468cfc370f4006a8e03\n""}, {'number': 5, 'created': '2022-02-08 07:45:19.000000000', 'files': ['roles/cephadm/templates/cephadm.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c8bb25e3075d94bb3575b8939d75efea3408ab1', 'message': ""CI: cephadm - copy config/keys to all nodes\n\nCephadm has a node tag _admin - which causes it\nto copy ceph.conf and admin keyrings to those nodes.\n\nSince we don't set that in the config template, _admin\ntag gets removed and ceph.conf + keyring might get\nremoved if ceph-mgr service gets restarted on the \ninitial node.\n\nChange-Id: I686c9beb07dcb15900bef468cfc370f4006a8e03\n""}]",5,827298,7c8bb25e3075d94bb3575b8939d75efea3408ab1,21,3,5,22629,,,0,"CI: cephadm - copy config/keys to all nodes

Cephadm has a node tag _admin - which causes it
to copy ceph.conf and admin keyrings to those nodes.

Since we don't set that in the config template, _admin
tag gets removed and ceph.conf + keyring might get
removed if ceph-mgr service gets restarted on the 
initial node.

Change-Id: I686c9beb07dcb15900bef468cfc370f4006a8e03
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/827298/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/cephadm/tasks/main.yml', 'roles/cephadm/templates/cephadm.yml.j2']",2,93cdfadad65c19b0e3f941d75dfd5de848f972b5,,- _admin,,7,0
openstack%2Fopenstack-ansible~master~I0b493e8069470a2299e3de925846b2fc6ba2004b,openstack/openstack-ansible,master,I0b493e8069470a2299e3de925846b2fc6ba2004b,Simplify mount options for new kernels.,MERGED,2022-02-02 09:46:36.000000000,2022-02-10 15:41:27.000000000,2022-02-10 15:38:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:46:36.000000000', 'files': ['tests/roles/bootstrap-host/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/926458126a61dd78d49516e4b092cb7a3ff40be6', 'message': 'Simplify mount options for new kernels.\n\nWe no longer need to support 4.x kernels\n\nChange-Id: I0b493e8069470a2299e3de925846b2fc6ba2004b\n'}]",1,827464,926458126a61dd78d49516e4b092cb7a3ff40be6,10,3,1,25023,,,0,"Simplify mount options for new kernels.

We no longer need to support 4.x kernels

Change-Id: I0b493e8069470a2299e3de925846b2fc6ba2004b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/827464/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/defaults/main.yml'],1,926458126a61dd78d49516e4b092cb7a3ff40be6,," btrfs: ""noatime,nodiratime,compress=lzo,commit=120,space_cache=v2 }}"""," btrfs: ""noatime,nodiratime,compress=lzo,commit=120,{{ (ansible_facts['kernel'] is version('4.5', '>=')) | ternary('space_cache=v2', 'space_cache') }}""",1,1
openstack%2Fopenstack-ansible~stable%2Fwallaby~Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,openstack/openstack-ansible,stable/wallaby,Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,Remove enablement of neutron tempest plugin in scenario templates,MERGED,2022-02-09 15:10:09.000000000,2022-02-10 15:41:26.000000000,2022-02-10 15:38:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-09 15:10:09.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f7c4df864083520b346266c6b583c42ef29ede75', 'message': 'Remove enablement of neutron tempest plugin in scenario templates\n\nThe plugin should be enabled by the tempest role due to the\npresence of the neutron inventory group.\n\nChange-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7\n'}]",0,828551,f7c4df864083520b346266c6b583c42ef29ede75,8,3,1,25023,,,0,"Remove enablement of neutron tempest plugin in scenario templates

The plugin should be enabled by the tempest role due to the
presence of the neutron inventory group.

Change-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/828551/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2']",2,f7c4df864083520b346266c6b583c42ef29ede75,,,tempest_plugins: - name: neutron-tempest-plugin repo: https://opendev.org/openstack/neutron-tempest-plugin branch: master,0,8
openstack%2Fopenstack-ansible-repo_server~master~I26bb0e21d797c2bfbe67e03003da01c355c27561,openstack/openstack-ansible-repo_server,master,I26bb0e21d797c2bfbe67e03003da01c355c27561,Ensure insist=true is always set for lsyncd,MERGED,2022-02-10 09:47:55.000000000,2022-02-10 15:33:13.000000000,2022-02-10 15:31:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-10 09:47:55.000000000', 'files': ['templates/lsyncd.lua.j2', 'templates/lsyncd.defaults.j2', 'tasks/repo_sync_manager.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/ee0a6d5b3713299aa183c98590f4a252135d8568', 'message': 'Ensure insist=true is always set for lsyncd\n\nIf insist is not set to true then lsyncd will exit if it cannot\nperform an initial rsync to the target hosts.\n\nDue to the order in which the repo servers are configured, lsyncd\nmay be installed and started on the first host in the repo_servers\ngroup before the ssh keys and other necessary configuration have\nbeen placed on the remaining hosts. This leads to a failure to\nstart lsyncd.\n\nThis patch moves the setting of insist into the lua config file\nfor all operating systems, and removes the need to template a\ndefaults file on debian derivatives.\n\nChange-Id: I26bb0e21d797c2bfbe67e03003da01c355c27561\n'}]",0,828678,ee0a6d5b3713299aa183c98590f4a252135d8568,9,3,1,25023,,,0,"Ensure insist=true is always set for lsyncd

If insist is not set to true then lsyncd will exit if it cannot
perform an initial rsync to the target hosts.

Due to the order in which the repo servers are configured, lsyncd
may be installed and started on the first host in the repo_servers
group before the ssh keys and other necessary configuration have
been placed on the remaining hosts. This leads to a failure to
start lsyncd.

This patch moves the setting of insist into the lua config file
for all operating systems, and removes the need to template a
defaults file on debian derivatives.

Change-Id: I26bb0e21d797c2bfbe67e03003da01c355c27561
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/78/828678/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/lsyncd.lua.j2', 'templates/lsyncd.defaults.j2', 'tasks/repo_sync_manager.yml']",3,ee0a6d5b3713299aa183c98590f4a252135d8568,," - { src: ""lsyncd.lua.j2"", dest: ""{{ repo_lsyncd_config_file }}"", condition: true } - { src: ""lsyncd.defaults.j2"", dest: ""{{ repo_lsyncd_defaults_file }}"", condition: ""{{ ansible_facts['pkg_mgr'] == 'dnf' }}"" } - item.condition | bool"," - { src: ""lsyncd.lua.j2"", dest: ""{{ repo_lsyncd_config_file }}"" } - { src: ""lsyncd.defaults.j2"", dest: ""{{ repo_lsyncd_defaults_file }}"" }",5,7
openstack%2Fneutron~master~I0c623a101357226ec0b4e3e42b829303846b6f6b,openstack/neutron,master,I0c623a101357226ec0b4e3e42b829303846b6f6b,"[OVN] Migrate ""reside-on-redirect-chassis"" for distributed FIP",MERGED,2022-01-28 16:09:56.000000000,2022-02-10 15:24:28.000000000,2022-02-10 15:22:07.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-01-28 16:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73228abe807a546ac746fae2380156ea59973aaa', 'message': '[OVN] Migrate ""reside-on-redirect-chassis"" for distributed FIP\n\nThis patch complement the changes made at\n828765412789a15a5f375060cfab7628c65e9d5d by creating a maintenance task\nresposible for migrating the ""reside-on-redirect-chassis"" option value\nfor existing router ports when the deployment is updated.\n\nChange-Id: I0c623a101357226ec0b4e3e42b829303846b6f6b\nRelated-Bug: #1920976\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2022-01-31 11:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88d50ca3994624e0dba1e1a8ea9937bf467dde27', 'message': '[OVN] Migrate ""reside-on-redirect-chassis"" for distributed FIP\n\nThis patch complement the changes made at\n828765412789a15a5f375060cfab7628c65e9d5d by creating a maintenance task\nresposible for migrating the ""reside-on-redirect-chassis"" option value\nfor existing router ports when the deployment is updated.\n\nChange-Id: I0c623a101357226ec0b4e3e42b829303846b6f6b\nRelated-Bug: #1920976\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2022-02-07 14:53:47.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5bef86847790f60bf2cb87903db8b9ef88051623', 'message': '[OVN] Migrate ""reside-on-redirect-chassis"" for distributed FIP\n\nThis patch complement the changes made at\n828765412789a15a5f375060cfab7628c65e9d5d by creating a maintenance task\nresposible for migrating the ""reside-on-redirect-chassis"" option value\nfor existing router ports when the deployment is updated.\n\nChange-Id: I0c623a101357226ec0b4e3e42b829303846b6f6b\nRelated-Bug: #1920976\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",15,826912,5bef86847790f60bf2cb87903db8b9ef88051623,33,8,3,6773,,,0,"[OVN] Migrate ""reside-on-redirect-chassis"" for distributed FIP

This patch complement the changes made at
828765412789a15a5f375060cfab7628c65e9d5d by creating a maintenance task
resposible for migrating the ""reside-on-redirect-chassis"" option value
for existing router ports when the deployment is updated.

Change-Id: I0c623a101357226ec0b4e3e42b829303846b6f6b
Related-Bug: #1920976
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/826912/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",4,73228abe807a546ac746fae2380156ea59973aaa,unset-reside-cr-dvr,"from neutron_lib.api.definitions import provider_net as pnet # TODO(lucasagomes): Remove this in the Z cycle # A static spacing value is used here, but this method will only run # once per lock due to the use of periodics.NeverAgain(). @periodics.periodic(spacing=600, run_immediately=True) def check_vlan_distributed_ports(self): """"""Check VLAN distributed ports Check for the option ""reside-on-redirect-chassis"" value for distributed VLAN ports. """""" if not self.has_lock: return context = n_context.get_admin_context() cmds = [] # Get router ports belonging to VLAN networks vlan_nets = self._ovn_client._plugin.get_networks( context, {pnet.NETWORK_TYPE: [n_const.TYPE_VLAN]}) vlan_net_ids = [vn['id'] for vn in vlan_nets] router_ports = self._ovn_client._plugin.get_ports( context, {'network_id': vlan_net_ids, 'device_owner': n_const.ROUTER_PORT_OWNERS}) expected_value = ('false' if ovn_conf.is_ovn_distributed_floating_ip() else 'true') for rp in router_ports: lrp_name = utils.ovn_lrouter_port_name(rp['id']) lrp = self._nb_idl.get_lrouter_port(lrp_name) if lrp.options.get( ovn_const.LRP_OPTIONS_RESIDE_REDIR_CH) != expected_value: options = self._ovn_client._gen_router_port_options(rp) cmds.append(self._nb_idl.lrp_set_options(lrp_name, **options)) if cmds: with self._nb_idl.transaction(check_error=True) as txn: for cmd in cmds: txn.add(cmd) raise periodics.NeverAgain() ", # TODO(lucasagomes): Remove this in the Z cycle,48,4
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,openstack/openstack-ansible,stable/victoria,Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,Remove enablement of neutron tempest plugin in scenario templates,MERGED,2022-02-08 17:50:27.000000000,2022-02-10 15:13:03.000000000,2022-02-10 15:10:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-08 17:50:27.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb52d1a0400768013386def538faa6831cf0c094', 'message': 'Remove enablement of neutron tempest plugin in scenario templates\n\nThe plugin should be enabled by the tempest role due to the\npresence of the neutron inventory group.\n\nChange-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7\n'}]",4,828386,eb52d1a0400768013386def538faa6831cf0c094,14,3,1,25023,,,0,"Remove enablement of neutron tempest plugin in scenario templates

The plugin should be enabled by the tempest role due to the
presence of the neutron inventory group.

Change-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/828386/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/templates/user_variables_neutron_ovn.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2']",2,eb52d1a0400768013386def538faa6831cf0c094,,,tempest_plugins: - name: neutron-tempest-plugin repo: https://opendev.org/openstack/neutron-tempest-plugin branch: master,0,8
openstack%2Fopenstack-ansible-os_keystone~master~I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2,openstack/openstack-ansible-os_keystone,master,I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2,Drop ProxyPass out of VHost,MERGED,2022-02-09 11:44:35.000000000,2022-02-10 15:06:10.000000000,2022-02-10 15:03:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-02-09 11:44:35.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/790d0c3482ba8d98c97ee941c595bd2ffd80d810', 'message': 'Drop ProxyPass out of VHost\n\nAs ProxyPass defined out of VHost, it has global effect, resulting\nin Horizon Identity section to be jsut proxied to keystone API\ninstead of rederred by Django as instructed by Horizon VHost.\n\nChange-Id: I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2\nCloses-Bug: #1960342\n'}]",0,828519,790d0c3482ba8d98c97ee941c595bd2ffd80d810,10,5,1,28619,,,0,"Drop ProxyPass out of VHost

As ProxyPass defined out of VHost, it has global effect, resulting
in Horizon Identity section to be jsut proxied to keystone API
instead of rederred by Django as instructed by Horizon VHost.

Change-Id: I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2
Closes-Bug: #1960342
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/19/828519/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,790d0c3482ba8d98c97ee941c595bd2ffd80d810,bug/1960342,, ProxyPass /identity uwsgi://127.0.0.1:{{ keystone_uwsgi_ports['keystone-wsgi-public']['socket'] }},0,2
openstack%2Fnova~master~Ie6fd18937d534f64e441929a6b995f197499fdef,openstack/nova,master,Ie6fd18937d534f64e441929a6b995f197499fdef,WIP: Ignore exception.CPUUnpinningInvalid when deleting,ABANDONED,2021-12-03 18:33:31.000000000,2022-02-10 14:48:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-03 18:33:31.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fef65d386a0fc8ecfc18623f7f8fdfcee86afbd', 'message': ""WIP: Ignore exception.CPUUnpinningInvalid when deleting\n\nThis can happen when deleting an instance that's been resized from a\npinned CPU policy to an unpinned CPU policy on a host with no PCPU\nresources configured.\n\nChange-Id: Ie6fd18937d534f64e441929a6b995f197499fdef\n""}]",0,820401,3fef65d386a0fc8ecfc18623f7f8fdfcee86afbd,7,1,1,8864,,,0,"WIP: Ignore exception.CPUUnpinningInvalid when deleting

This can happen when deleting an instance that's been resized from a
pinned CPU policy to an unpinned CPU policy on a host with no PCPU
resources configured.

Change-Id: Ie6fd18937d534f64e441929a6b995f197499fdef
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/820401/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,3fef65d386a0fc8ecfc18623f7f8fdfcee86afbd,ignore-cpupinning-invalid," try: self._update_resource_tracker(context, instance) except exception.CPUUnpinningInvalid as e: LOG.info('Ignoring CPU pinning exception while ' 'deleting instance: %s', e)"," self._update_resource_tracker(context, instance)",5,1
openstack%2Fopenstack-ansible-os_keystone~master~Ie7b0cd65b213b254d8745c47bab991df1bc5acb1,openstack/openstack-ansible-os_keystone,master,Ie7b0cd65b213b254d8745c47bab991df1bc5acb1,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:15:12.000000000,2022-02-10 14:46:21.000000000,2022-02-10 14:44:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:15:12.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/c8ad9d2cead6eb724ec6f59c64ed3498908d3bdd', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Ie7b0cd65b213b254d8745c47bab991df1bc5acb1\n'}]",1,827443,c8ad9d2cead6eb724ec6f59c64ed3498908d3bdd,9,3,1,25023,,,0,"Remove legacy policy.json cleanup handler

Change-Id: Ie7b0cd65b213b254d8745c47bab991df1bc5acb1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/43/827443/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,c8ad9d2cead6eb724ec6f59c64ed3498908d3bdd,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file file: path: ""/etc/keystone/policy.json"" state: absent listen: - ""venv changed"" - ""Restart web server"" - ""Restart uWSGI"" ",0,10
openstack%2Fpython-octaviaclient~stable%2Ftrain~I5523820e8607ed8e2fb75965427df33055673943,openstack/python-octaviaclient,stable/train,I5523820e8607ed8e2fb75965427df33055673943,"Fix ""Support pagination for 'list' API calls"" backport",MERGED,2022-02-04 08:51:07.000000000,2022-02-10 14:31:55.000000000,2022-02-10 14:25:47.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 08:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/723ba72aba2374171412a14f6d810b355727b12b', 'message': 'Fix ""Support pagination for \'list\' API calls"" backport\n\nThe change Ica7c8c953c11af4400b224ad942023f69a72ae02 was incorrectly\nbackported to stable/train, a merge conflict with the use of urllib from\nsix introduced a bug that triggers an exception when a list of octavia\nresources exceeds the limit of the pagination:\n\nmodule \'six.moves.urllib\' has no attribute \'urlparse\'\n\nThis commit fixes the invalid calls.\n\nNote: this is a stable/train-only commit\n\nChange-Id: I5523820e8607ed8e2fb75965427df33055673943\n'}, {'number': 2, 'created': '2022-02-04 09:34:57.000000000', 'files': ['octaviaclient/api/v2/octavia.py', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/b6642c9a0489b4980a1098487325c31fa3163dad', 'message': 'Fix ""Support pagination for \'list\' API calls"" backport\n\nThe change Ica7c8c953c11af4400b224ad942023f69a72ae02 was incorrectly\nbackported to stable/train, a merge conflict with the use of urllib from\nsix introduced a bug that triggers an exception when a list of octavia\nresources exceeds the limit of the pagination:\n\nmodule \'six.moves.urllib\' has no attribute \'urlparse\'\n\nThis commit fixes the invalid calls.\n\nIt also disables the lower-constraints job that is now failing on\ntrain.\n\nNote: this is a stable/train-only commit\n\nChange-Id: I5523820e8607ed8e2fb75965427df33055673943\n'}]",2,827817,b6642c9a0489b4980a1098487325c31fa3163dad,14,3,2,29244,,,0,"Fix ""Support pagination for 'list' API calls"" backport

The change Ica7c8c953c11af4400b224ad942023f69a72ae02 was incorrectly
backported to stable/train, a merge conflict with the use of urllib from
six introduced a bug that triggers an exception when a list of octavia
resources exceeds the limit of the pagination:

module 'six.moves.urllib' has no attribute 'urlparse'

This commit fixes the invalid calls.

It also disables the lower-constraints job that is now failing on
train.

Note: this is a stable/train-only commit

Change-Id: I5523820e8607ed8e2fb75965427df33055673943
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/17/827817/1 && git format-patch -1 --stdout FETCH_HEAD,['octaviaclient/api/v2/octavia.py'],1,723ba72aba2374171412a14f6d810b355727b12b,, query_str = urllib.parse.urlparse(link['href']).query params = urllib.parse.parse_qs(query_str), query_str = urllib.urlparse.urlparse(link['href']).query params = urllib.urlparse.parse_qs(query_str),2,2
openstack%2Fironic~master~Ie400a73eb2036678ed9446e0b499301cc2b690dd,openstack/ironic,master,Ie400a73eb2036678ed9446e0b499301cc2b690dd,Fix the benchmark job,MERGED,2022-02-09 09:12:14.000000000,2022-02-10 14:10:57.000000000,2022-02-10 14:08:10.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-02-09 09:12:14.000000000', 'files': ['tools/benchmark/generate-statistics.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f509c5bdea19d12b97c53f027795946204b6f25', 'message': 'Fix the benchmark job\n\nThis is a price to pay for using private API and not having unit tests :)\n\nChange-Id: Ie400a73eb2036678ed9446e0b499301cc2b690dd\n'}]",1,828498,1f509c5bdea19d12b97c53f027795946204b6f25,16,4,1,10239,,,0,"Fix the benchmark job

This is a price to pay for using private API and not having unit tests :)

Change-Id: Ie400a73eb2036678ed9446e0b499301cc2b690dd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/828498/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/benchmark/generate-statistics.py'],1,1f509c5bdea19d12b97c53f027795946204b6f25,benchmark," resource_url='nodes', resource_url='nodes',",,2,0
openstack%2Fpuppet-nova~master~Ic87422ae98943054ee58343157301d8fc780211f,openstack/puppet-nova,master,Ic87422ae98943054ee58343157301d8fc780211f,Use system scope credentials in providers,ABANDONED,2021-10-28 14:10:52.000000000,2022-02-10 14:08:28.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 14:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9da9f3788fd892ea17b83600a406fe6d1d40a1b7', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 2, 'created': '2021-10-28 14:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0be3dfe55787cac74fdd119dd8b1b3e7e5a636e7', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 3, 'created': '2021-10-28 15:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cf719a09eb8d27ef5df84acfcf78b1a90139e258', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 4, 'created': '2021-10-28 15:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/65d8a758dee450bff4c3cfc0b8a3567bbbbe8895', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 5, 'created': '2021-10-28 16:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ac91eaa6c7d9843f075b54d59b2ad76fc0fc8356', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 6, 'created': '2021-10-28 23:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/03f2442e5924960571aaa6aa86e95a780fe37703', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 7, 'created': '2021-10-29 00:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c47533077da141dcf0fa8e8de5615abd792fe02a', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 8, 'created': '2021-10-29 04:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/37d396cd9fa7b35fae227a830be7958d31de800f', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 9, 'created': '2021-10-29 12:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/58e05f671910e78e229543fbb3f0a6f209e9ceac', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 10, 'created': '2021-11-18 14:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/62e7de84693a7df1f140b9923dbbb91f7ea16049', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 11, 'created': '2021-11-18 14:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/795c9bd6caaf73d610a6f264231a9c8072d4d7fe', 'message': 'WIP: Use system scope credentials in providers\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 12, 'created': '2021-11-18 15:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ad7bed3e1542e9d99bc2ddf479a13b33e74f4f1c', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 13, 'created': '2021-11-21 12:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9233aacc604f2f9432bb72a91453a15e34add8c1', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 14, 'created': '2021-11-21 13:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1f565688a73265407221991bdd501962d2c40f02', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 15, 'created': '2021-11-22 01:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/536322d870c2710921130b0a607e3f3a866f00c1', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 16, 'created': '2021-11-22 05:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/678348b944bcd8598424585ae207bbbc8dd49bff', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 17, 'created': '2021-11-22 12:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0ff9718e90cf92daaeaf8c4a11eac10a457b13c1', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 18, 'created': '2021-11-22 13:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1b17899d29d70a726895fa135847f19bb363789c', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 19, 'created': '2021-11-22 14:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d8eb7e078dda383af5704b1ed642cd0b79e0304b', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 20, 'created': '2021-11-22 15:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fbddc07c627f931412e4f3a9c536578bac5ff076', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 21, 'created': '2021-11-25 02:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/abda846ce8b6514f97635735638881ee1e8021f7', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 22, 'created': '2021-11-25 02:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/644f47005f7b9e24de390e42e945a0847da615df', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 23, 'created': '2021-11-25 03:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a3da1f11883c38ff28e8a26aa01b73b82cd943a4', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rule as part of\nSRBAC support in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 24, 'created': '2021-11-25 03:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5e62f69b5e0026c1615b11d18e5fa6d3d221dccb', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rules for SRBAC\nsupport in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 25, 'created': '2021-11-25 06:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/048d4f70b34e78ee46ac1f2cbce0ee5312fa419e', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rules for SRBAC\nsupport in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 26, 'created': '2021-12-16 13:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f94f9e43bbe2a86fe7b76e227dc5d69bad2f091f', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rules for SRBAC\nsupport in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 27, 'created': '2021-12-16 14:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8dc5cb38cc71d423fc80ce790e98d9ecbb215594', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rules for SRBAC\nsupport in nova.\n\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 28, 'created': '2022-01-19 14:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/724e6598a00ec9779ba453793985d9ef54a4cc66', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rules for SRBAC\nsupport in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of admin users. This is\nbecause it is no longer guaranteed that each service user are permitted\nto create these resources.\n\nThe logic to look up credential from [keystone_authtoken] is left to\nkeep backword compatibility but is deprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 29, 'created': '2022-01-19 14:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a1f543b56c055d07d41ef0877128fffcc891e03a', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rules for SRBAC\nsupport in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of the admin user. This\nis because it is no longer guaranteed that each service user are\npermitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backword compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 30, 'created': '2022-01-19 14:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9cd295f441f9289a80cac96fa4814b29638a74a3', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors and aggregates, following the new policy rules for SRBAC\nsupport in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of the admin user. This\nis because it is no longer guaranteed that the nova service user is\npermitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backword compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 31, 'created': '2022-01-19 14:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/895bdf791d28ef85d2cf3d5a1f7a393989a4d17e', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors, aggregates, and services, following the new policy rules for\nSRBAC support in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of the admin user. This\nis because it is no longer guaranteed that the nova service user is\npermitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backward compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 32, 'created': '2022-01-19 14:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d4409e1623cf0ab8bf088400d56c411a06801c31', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors, aggregates, and services, following the new policy rules for\nSRBAC support in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of the admin user. This\nis because it is no longer guaranteed that the nova service user is\npermitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backward compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 33, 'created': '2022-01-19 14:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2725ac33c004a83e696e02cdb616a16e489f3876', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors, aggregates, and services, following the new policy rules for\nSRBAC support in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of the admin user. This\nis because it is no longer guaranteed that the nova service user is\npermitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backward compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 34, 'created': '2022-01-19 15:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6da8a7f8e8669d68c11505d2a2e41d450e7b6901', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors, aggregates, and services, following the new policy rules for\nSRBAC support in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of the admin user. This\nis because it is no longer guaranteed that the nova service user is\npermitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backward compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 35, 'created': '2022-01-19 17:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e7179571229d070c52e0c9290d7cca5c47e0a7cc', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors, aggregates, and services, following the new policy rules for\nSRBAC support in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of the admin user. This\nis because it is no longer guaranteed that the nova service user is\npermitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backward compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 36, 'created': '2022-01-19 23:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/17d0b9bc15af23a77bc737bf796feaba0b1b0121', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors, aggregates, and services, following the new policy rules for\nSRBAC support in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of the admin user. This\nis because it is no longer guaranteed that the nova service user is\npermitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backward compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 37, 'created': '2022-01-20 02:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9e00bc026a8f3cb3804fb33dfdc508143e0ac4fa', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors, aggregates, and services, following the new policy rules for\nSRBAC support in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile in /etc/keystone which stores credential of the admin user. This\nis because it is no longer guaranteed that the nova service user is\npermitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backward compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/806474\nDepends-on: https://review.opendev.org/815311\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}, {'number': 38, 'created': '2022-01-31 12:01:50.000000000', 'files': ['spec/classes/nova_keystone_auth_spec.rb', 'spec/unit/provider/nova_aggregate/openstack_spec.rb', 'lib/puppet/provider/nova_service/openstack.rb', 'lib/puppet/provider/nova_flavor/openstack.rb', 'releasenotes/notes/provider-system-scope-8db77c4aaf98cadf.yaml', 'lib/puppet/provider/nova.rb', 'spec/unit/provider/nova_flavor/openstack_spec.rb', 'spec/unit/provider/nova_service/openstack_spec.rb', 'manifests/keystone/authtoken.pp', 'lib/puppet/provider/nova_aggregate/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cdff3bfe3fcdc02e5320eba37ade38ed270f600d', 'message': 'Use system scope credentials in providers\n\nThis change enforces usage of system scope credentials to manage\nflavors, aggregates, and services, following the new policy rules for\nSRBAC support in nova.\n\nWith this change each provider first tries to look up the clouds.yaml\nfile for the puppet user. This is because it is no longer guaranteed\nthat the nova service user is permitted to create these resources.\n\nThe logic to look up credential for the nova service user from\n[keystone_authtoken] is left to keep backward compatibility but is\ndeprecated and will be removed.\n\nDepends-on: https://review.opendev.org/827063\nChange-Id: Ic87422ae98943054ee58343157301d8fc780211f\n'}]",11,815850,cdff3bfe3fcdc02e5320eba37ade38ed270f600d,77,2,38,9816,,,0,"Use system scope credentials in providers

This change enforces usage of system scope credentials to manage
flavors, aggregates, and services, following the new policy rules for
SRBAC support in nova.

With this change each provider first tries to look up the clouds.yaml
file for the puppet user. This is because it is no longer guaranteed
that the nova service user is permitted to create these resources.

The logic to look up credential for the nova service user from
[keystone_authtoken] is left to keep backward compatibility but is
deprecated and will be removed.

Depends-on: https://review.opendev.org/827063
Change-Id: Ic87422ae98943054ee58343157301d8fc780211f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/50/815850/38 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_keystone_auth_spec.rb', 'lib/puppet/provider/nova_flavor/openstack.rb', 'lib/puppet/provider/nova.rb', 'spec/unit/provider/nova_spec.rb', 'lib/puppet/provider/nova_aggregate/openstack.rb', 'manifests/keystone/auth.pp']",6,9da9f3788fd892ea17b83600a406fe6d1d40a1b7,system-scope-creds,"# [*interface*] # (Optional) Which interface endpoint should be used. # Defaults to 'public' # $interface = 'public', $auth_url_real = $interface ? { 'admin' => $admin_url, 'internal' => $internal_url, default => $public_url } openstacklib::clouds { '/etc/nova/clouds.yaml': username => $username, password => $password, auth_url => $auth_url_real, project_name => $project_name, system_scope => 'all', region_name => $region, interface => $interface, } Anchor['nova::config::begin'] -> Openstacklib::Clouds['/etc/nova/clouds.yaml'] -> Anchor['nova::config::end'] ",,109,152
openstack%2Fkayobe~master~Ia8c927c330b9428a3824a6925f6274cbc54314a0,openstack/kayobe,master,Ia8c927c330b9428a3824a6925f6274cbc54314a0,Support elements repositories for overcloud host images,MERGED,2021-12-10 14:46:13.000000000,2022-02-10 13:45:05.000000000,2022-02-10 13:42:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-10 14:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/966c2cbdfc0481c090a3f933f7a9acc3f8cf8241', 'message': 'Support elements repositories for overcloud host images\n\nChange-Id: Ia8c927c330b9428a3824a6925f6274cbc54314a0\n'}, {'number': 2, 'created': '2021-12-10 14:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e33ecef1782426f291baade8541fd9e2c9e07fd1', 'message': 'Support elements repositories for overcloud host images\n\nChange-Id: Ia8c927c330b9428a3824a6925f6274cbc54314a0\nStory: 2002098\nTask: 44165\n'}, {'number': 3, 'created': '2021-12-10 14:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/50df0b56e1dac28a497b1324b643db51a081f5ab', 'message': 'Support elements repositories for overcloud host images\n\nChange-Id: Ia8c927c330b9428a3824a6925f6274cbc54314a0\nStory: 2002098\nTask: 44165\n'}, {'number': 4, 'created': '2021-12-10 15:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4329f1035597f868eeae665e8314d9afde6c159a', 'message': 'Support elements repositories for overcloud host images\n\nChange-Id: Ia8c927c330b9428a3824a6925f6274cbc54314a0\nStory: 2002098\nTask: 44165\n'}, {'number': 5, 'created': '2022-01-07 15:38:28.000000000', 'files': ['doc/source/configuration/reference/overcloud-dib.rst', 'etc/kayobe/overcloud-dib.yml', 'ansible/overcloud-host-image-build.yml', 'ansible/group_vars/all/overcloud-dib'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c4a116e912b148b3f5baef5de1979808a16223d2', 'message': 'Support elements repositories for overcloud host images\n\nChange-Id: Ia8c927c330b9428a3824a6925f6274cbc54314a0\nStory: 2002098\nTask: 44165\n'}]",4,821413,c4a116e912b148b3f5baef5de1979808a16223d2,21,3,5,15197,,,0,"Support elements repositories for overcloud host images

Change-Id: Ia8c927c330b9428a3824a6925f6274cbc54314a0
Story: 2002098
Task: 44165
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/13/821413/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/reference/overcloud-dib.rst', 'etc/kayobe/overcloud-dib.yml', 'ansible/overcloud-host-image-build.yml', 'ansible/group_vars/all/overcloud-dib']",4,966c2cbdfc0481c090a3f933f7a9acc3f8cf8241,story/2002098,# List of default git repositories containing Diskimage Builder (DIB) elements. # See stackhpc.os-images role for usage. Default is empty. overcloud_dib_git_elements_default: [] # List of additional git repositories containing Diskimage Builder (DIB) # elements. See stackhpc.os-images role for usage. Default is empty. overcloud_dib_git_elements_extra: [] # List of git repositories containing Diskimage Builder (DIB) elements. See # stackhpc.os-images role for usage. Default is a combination of # overcloud_dib_git_elements_default and overcloud_dib_git_elements_extra. overcloud_dib_git_elements: >- {{ overcloud_dib_git_elements_default + overcloud_dib_git_elements_extra }} ,,38,0
openstack%2Fkolla~stable%2Ftrain~Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9,openstack/kolla,stable/train,Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9,Mitigate two Log4j vulnerabilities in Apache Storm,MERGED,2022-01-27 09:42:27.000000000,2022-02-10 13:19:18.000000000,2022-02-10 13:16:52.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-27 09:42:27.000000000', 'files': ['releasenotes/notes/storm-log4j-vulnerability-mitigation-6746a8a0bb329485.yaml', 'docker/storm/storm-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fe9b3ccb645ebeffd7d84ef4fcc93b90a6661a4a', 'message': 'Mitigate two Log4j vulnerabilities in Apache Storm\n\nThe Log4j version was bumped on GitHub [1] but it is still pending\ninclusion in a release of Apache Storm.\n\nApply the alternative mitigation recommended by Log4j [2] of removing\nthe JndiLookup class from the classpath.\n\n[1] https://github.com/apache/storm/pull/3427\n[2] https://logging.apache.org/log4j/2.x/security.html\n\nChange-Id: Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9\n(cherry picked from commit 448e4f56aa6218a66b0074329d322c0b6089b2e6)\n'}]",8,826613,fe9b3ccb645ebeffd7d84ef4fcc93b90a6661a4a,25,5,1,15197,,,0,"Mitigate two Log4j vulnerabilities in Apache Storm

The Log4j version was bumped on GitHub [1] but it is still pending
inclusion in a release of Apache Storm.

Apply the alternative mitigation recommended by Log4j [2] of removing
the JndiLookup class from the classpath.

[1] https://github.com/apache/storm/pull/3427
[2] https://logging.apache.org/log4j/2.x/security.html

Change-Id: Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9
(cherry picked from commit 448e4f56aa6218a66b0074329d322c0b6089b2e6)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/13/826613/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/storm-log4j-vulnerability-mitigation-6746a8a0bb329485.yaml', 'docker/storm/storm-base/Dockerfile.j2']",2,fe9b3ccb645ebeffd7d84ef4fcc93b90a6661a4a,apache-storm-stable/train," 'zip', 'zip',# Mitigation for CVE-2021-44228 and CVE-2021-45046: remove the JndiLookup class # from the classpath RUN zip -q -d /opt/storm/lib/log4j-core-*.jar org/apache/logging/log4j/core/lookup/JndiLookup.class",,10,0
openstack%2Ftenks~master~I0c1e0cc50119cc2f9ba3e0b0a3548baeca9dca2e,openstack/tenks,master,I0c1e0cc50119cc2f9ba3e0b0a3548baeca9dca2e,Explicitly set boot_mode to legacy BIOS,MERGED,2022-02-01 15:06:59.000000000,2022-02-10 12:30:20.000000000,2022-02-10 12:28:32.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2022-02-01 15:06:59.000000000', 'files': ['ansible/roles/ironic-enrolment/tasks/node.yml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/7c6e87e5986d56058637fc1430544bedb982718a', 'message': 'Explicitly set boot_mode to legacy BIOS\n\nSince we currently only support legacy BIOS boot mode, set it explicitly\nin node capabilities. This is especially important since Ironic changed\nthe default boot mode to UEFI in Yoga. If the capabilities field is\nprovided, the boot_mode should be set explicitly.\n\nThis change should be followed by one that adds support for UEFI boot\nmode.\n\nChange-Id: I0c1e0cc50119cc2f9ba3e0b0a3548baeca9dca2e\n'}]",1,827304,7c6e87e5986d56058637fc1430544bedb982718a,11,4,1,14826,,,0,"Explicitly set boot_mode to legacy BIOS

Since we currently only support legacy BIOS boot mode, set it explicitly
in node capabilities. This is especially important since Ironic changed
the default boot mode to UEFI in Yoga. If the capabilities field is
provided, the boot_mode should be set explicitly.

This change should be followed by one that adds support for UEFI boot
mode.

Change-Id: I0c1e0cc50119cc2f9ba3e0b0a3548baeca9dca2e
",git fetch https://review.opendev.org/openstack/tenks refs/changes/04/827304/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic-enrolment/tasks/node.yml'],1,7c6e87e5986d56058637fc1430544bedb982718a,," # Since we currently only support legacy BIOS boot mode, set it # explicitly here. This is especially important since Ironic changed # the default boot mode to UEFI in Yoga. If the capabilities field is # provided, the boot_mode should be set explicitly. capabilities: ""boot_mode:bios""",,5,0
openstack%2Fpuppet-neutron~stable%2Fwallaby~I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,openstack/puppet-neutron,stable/wallaby,I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,Add report_inteval parameter in ml2 baremetal,MERGED,2022-02-09 14:23:20.000000000,2022-02-10 12:21:32.000000000,2022-02-10 12:19:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-09 14:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fc8919ba6cdeaa93e7883e228d89dc3fec797e1f', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)\n'}, {'number': 2, 'created': '2022-02-09 14:38:35.000000000', 'files': ['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/41bcf66eafc092890cdd6d2560d02642c5a55761', 'message': 'Add report_inteval parameter in ml2 baremetal\n\nAdd the parameter $report_interval to the ml2\nnetworking-baremetal manifest. By default the global\nreport_interval as defined in neutron.conf is used.\n\nIn some cases it makes sense to change the report_interval\nspecifically for ironic-neutron-agent.\n\nConflicts:\n  manifests/agents/ml2/networking_baremetal.pp\n  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb\n\nRelated-Bug: #1940838\nChange-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209\n(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)\n'}]",5,828409,41bcf66eafc092890cdd6d2560d02642c5a55761,20,5,2,24245,,,0,"Add report_inteval parameter in ml2 baremetal

Add the parameter $report_interval to the ml2
networking-baremetal manifest. By default the global
report_interval as defined in neutron.conf is used.

In some cases it makes sense to change the report_interval
specifically for ironic-neutron-agent.

Conflicts:
  manifests/agents/ml2/networking_baremetal.pp
  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb

Related-Bug: #1940838
Change-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/09/828409/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'releasenotes/notes/networking-baremetal-report-interval-634d1bf90139cbeb.yaml']",3,fc8919ba6cdeaa93e7883e228d89dc3fec797e1f,bug/1940838-stable/wallaby,--- features: - | It is now possible to set the report interval for the networking-baremetal ml2 agent by using new parameter ``report_interval`` in the ``neutron::agents::ml2::networking_baremetal`` class. ,,62,0
openstack%2Fironic~master~I3c06e12f82908fba2b2587d0e3bec4b8bbdeba4b,openstack/ironic,master,I3c06e12f82908fba2b2587d0e3bec4b8bbdeba4b,Add idrac-redfish clean steps to not require ramdisk,MERGED,2022-01-21 10:39:38.000000000,2022-02-10 12:08:04.000000000,2022-02-10 12:03:54.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-21 10:39:38.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/management.py', 'releasenotes/notes/idrac-redfish-clean-steps-not-require-ramdisk-699e169af39b0dd6.yaml', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/drac/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/69e6152ac3824aed6531ca0e820d6c1ba178f1f0', 'message': 'Add idrac-redfish clean steps to not require ramdisk\n\nIncludes idrac-redfish RAID and management steps.\n\nUpdate helper utility to not prepare agent on reboots\nif cleaning without it.\n\nChange-Id: I3c06e12f82908fba2b2587d0e3bec4b8bbdeba4b\n'}]",4,825753,69e6152ac3824aed6531ca0e820d6c1ba178f1f0,15,4,1,27909,,,0,"Add idrac-redfish clean steps to not require ramdisk

Includes idrac-redfish RAID and management steps.

Update helper utility to not prepare agent on reboots
if cleaning without it.

Change-Id: I3c06e12f82908fba2b2587d0e3bec4b8bbdeba4b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/825753/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'releasenotes/notes/idrac-redfish-clean-steps-not-require-ramdisk-699e169af39b0dd6.yaml', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/drac/raid.py']",5,69e6152ac3824aed6531ca0e820d6c1ba178f1f0,no-ramdisk-clean,"from ironic.common import states # If running without IPA, check that system is ON, if not, turn it on disable_ramdisk = task.node.driver_internal_info.get( 'cleaning_disable_ramdisk') power_state = task.driver.power.get_power_state(task) if disable_ramdisk and power_state == states.POWER_OFF: task.driver.power.set_power_state(task, states.POWER_ON) }, requires_ramdisk=False) @base.clean_step(priority=0, requires_ramdisk=False)", }) @base.clean_step(priority=0),32,9
openstack%2Fswift~master~I88b8cfd30292325e0870029058da6fb38026ae1a,openstack/swift,master,I88b8cfd30292325e0870029058da6fb38026ae1a,Trim sensitive information in the logs (CVE-2017-8761),MERGED,2021-12-22 05:27:40.000000000,2022-02-10 11:32:04.000000000,2022-02-10 11:30:01.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 05:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/51ce5063ce8a5cd1be12688476e0404de8def9a4', 'message': ""Trim tempurl signature with obscuremap in the logs (CVE-2017-8761)\n\nThe tempurl sig isn't the only thing that needs to be trimmed. In the\nproxy_logging middleware we also trim the 'X-Auth-Token' value. And I\nhave no doubt there will be more things we'd need to trim in the future.\n\nThis patch adds some new request helper methods to store an obscure_map\ndictionary in the request environment. Any middleware that wants\nsomething obscured, they can either use:\n\n  obscure_map_append_param(env, param_key)\n  obscure_map_append_header(env, header_key)\n\nTo add it to the environments obscure map. The tempurl calls the former\nto add the signature param.\n\nWhen we get to the proxy_logging middleware, it simply uses the obscure\nmap to obscure params and header if present in the request before\nlogging the request.\n\nThis means if any 3rd party middleware or future obscurity we simply\nneed to use the helper methods and it'll be obscured.\n\nThere are two cases when the whole signature might be still revealed in\nthe logs:\n\n- if eventlet_debug is enabled in the proxy\n- if a tempurl sig/expires combination is invalid\n\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 2, 'created': '2022-01-10 19:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/315cc467e051bdb549b3a5d5703f7017fef03520', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 3, 'created': '2022-01-11 22:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b5fc3db3b947b34700dd9aaabb29c5a4a34b76af', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 4, 'created': '2022-01-28 01:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e7206a6871cbb1b6b4b1ccdf7046155ae242ca24', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 5, 'created': '2022-02-03 06:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0f140de5eaec029bf2e4d3432ae06a41f55ffc75', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 6, 'created': '2022-02-03 15:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77ea2ff089a4d6c38d5b7a0c43ac4794f8bb4e5b', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * X-Storage-Token header\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 7, 'created': '2022-02-03 18:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df5c5ef46934431c4704a3ce92fd427ab094bc24', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * X-Storage-Token header\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 8, 'created': '2022-02-03 18:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/02e5667318afa49e9c058b465034724f51388fac', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 9, 'created': '2022-02-03 18:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4ec366a6f6e35064a294b2f142e92fcbd10320ba', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 10, 'created': '2022-02-04 20:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/70f90b51e4407d1933c36a9119440f733c119d56', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 11, 'created': '2022-02-08 20:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f2cec1caab222237ad02f0c7df675664a704648a', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}, {'number': 12, 'created': '2022-02-09 10:53:56.000000000', 'files': ['doc/source/development_middleware.rst', 'swift/common/middleware/proxy_logging.py', 'swift/common/middleware/tempurl.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/registry.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/test_tempurl.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/test_registry.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f2c279bae94689e2062beb6d0030d168a0b4cbdf', 'message': ""Trim sensitive information in the logs (CVE-2017-8761)\n\nSeveral headers and query params were previously revealed in logs but\nare now redacted:\n\n  * X-Auth-Token header (previously redacted in the {auth_token} field,\n    but not the {headers} field)\n  * temp_url_sig query param (used by tempurl middleware)\n  * Authorization header and X-Amz-Signature and Signature query\n    parameters (used by s3api middleware)\n\nThis patch adds some new middleware helper methods to track headers and\nquery parameters that should be redacted by proxy-logging. While\ninstantiating the middleware, authors can call either:\n\n   register_sensitive_header('case-insensitive-header-name')\n   register_sensitive_param('case-sensitive-query-param-name')\n\nto add items that should be redacted. The redaction uses proxy-logging's\nexisting reveal_sensitive_prefix config option to determine how much to\nreveal.\n\nNote that query params will still be logged in their entirety if\neventlet_debug is enabled.\n\nUpgradeImpact\n=============\nThe reveal_sensitive_prefix config option now applies to more items;\noperators should review their currently-configured value to ensure it\nis appropriate for these new contexts. In particular, operators should\nconsider reducing the value if it is more than 20 or so, even if that\npreviously offered sufficient protection for auth tokens.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1685798\nChange-Id: I88b8cfd30292325e0870029058da6fb38026ae1a\n""}]",79,822585,f2c279bae94689e2062beb6d0030d168a0b4cbdf,80,3,12,7233,,,0,"Trim sensitive information in the logs (CVE-2017-8761)

Several headers and query params were previously revealed in logs but
are now redacted:

  * X-Auth-Token header (previously redacted in the {auth_token} field,
    but not the {headers} field)
  * temp_url_sig query param (used by tempurl middleware)
  * Authorization header and X-Amz-Signature and Signature query
    parameters (used by s3api middleware)

This patch adds some new middleware helper methods to track headers and
query parameters that should be redacted by proxy-logging. While
instantiating the middleware, authors can call either:

   register_sensitive_header('case-insensitive-header-name')
   register_sensitive_param('case-sensitive-query-param-name')

to add items that should be redacted. The redaction uses proxy-logging's
existing reveal_sensitive_prefix config option to determine how much to
reveal.

Note that query params will still be logged in their entirety if
eventlet_debug is enabled.

UpgradeImpact
=============
The reveal_sensitive_prefix config option now applies to more items;
operators should review their currently-configured value to ensure it
is appropriate for these new contexts. In particular, operators should
consider reducing the value if it is more than 20 or so, even if that
previously offered sufficient protection for auth tokens.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Closes-Bug: #1685798
Change-Id: I88b8cfd30292325e0870029058da6fb38026ae1a
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/822585/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'swift/common/middleware/tempurl.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/test_proxy_logging.py', 'test/unit/common/middleware/test_tempurl.py', 'swift/common/wsgi.py', 'swift/common/request_helpers.py']",7,51ce5063ce8a5cd1be12688476e0404de8def9a4,sigs-in-logs_1_1_1," def get_obscure_map(env): obscure_map = env.setdefault(""obscure_map"", {}) if not obscure_map: obscure_map.update({'params': [], 'headers': []}) return obscure_map def obscure_map_append(env, param_or_header, key): if param_or_header not in ('params', 'headers'): raise ValueError() obscure_map = get_obscure_map(env) obscure_map[param_or_header].append(key) def obscure_map_append_param(env, param): obscure_map_append(env, 'params', param) def obscure_map_append_header(env, header): obscure_map_append(env, 'headers', header)",,184,5
openstack%2Fbifrost~master~I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221,openstack/bifrost,master,I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221,Enable epel repository only when needed,MERGED,2022-01-26 10:54:27.000000000,2022-02-10 11:10:45.000000000,2022-02-10 11:08:55.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-26 10:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0ed2510fa52dce69304c9169b450348542f38bac', 'message': 'Enable extra repositories for CentOS Stream 9\n\nThe epel repository for CentOS Stream 9 is ready to be used but\nits configuration packages are not included in any other repo as it\nwas in the past, so we need to install it manually as described\nin the official guide [1].\n\nAlso move the CRB repository configuration to a better place.\n\n[1] https://docs.fedoraproject.org/en-US/epel/#_el9\n\nChange-Id: I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221\n'}, {'number': 2, 'created': '2022-01-27 11:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/059642584562e37b01a4a8cd4c54cf5b84bd37a9', 'message': 'Enable epel repository only when needed\n\nThe epel repository is used only when we need to build a debian-based\nIPA image, so we enable it only in that case for CentOS Stream 8/9.\n\nThe configuration procedure is explained in the official guide [1].\n\nAlso move enabling the CRB repository configuration to a better place.\n\n[1] https://docs.fedoraproject.org/en-US/epel/#_el9\n\nChange-Id: I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221\n'}, {'number': 3, 'created': '2022-01-27 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3f53da669e91314788a5ac1d964118da10066af6', 'message': 'Enable epel repository only when needed\n\nThe epel repository is used only when we need to build a debian-based\nIPA image, so we enable it only in that case for CentOS Stream 8/9.\n\nThe configuration procedure is explained in the official guide [1].\n\nAlso move enabling the CRB repository configuration to a better place.\n\n[1] https://docs.fedoraproject.org/en-US/epel/#_el9\n\nChange-Id: I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221\n'}, {'number': 4, 'created': '2022-01-28 13:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d7266a6c66f10993c1c775d587336f37ad1328c4', 'message': 'Enable epel repository only when needed\n\nThe epel repository is used only when we need to build a debian-based\nIPA image, so we enable it only in that case for CentOS Stream 8/9.\n\nThe configuration procedure is explained in the official guide [1].\n\nAlso move enabling the CRB repository configuration to a better place.\n\n[1] https://docs.fedoraproject.org/en-US/epel/#_el9\n\nChange-Id: I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221\n'}, {'number': 5, 'created': '2022-01-31 14:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a57beae645de147706a5dfa254c761810aeb3e88', 'message': 'Enable epel repository only when needed\n\nThe epel repository is used only when we need to build a debian-based\nIPA image, so we enable it only in that case for CentOS Stream 8/9.\n\nThe configuration procedure is explained in the official guide [1].\n\n[1] https://docs.fedoraproject.org/en-US/epel/#_el9\n\nChange-Id: I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221\n'}, {'number': 6, 'created': '2022-02-01 10:04:22.000000000', 'files': ['bindep.txt', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/conditional-epel-b52ad3ad29f195f5.yaml', 'scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f2825ad1d9809bfc30e8b1b078c74a48c633f5e2', 'message': 'Enable epel repository only when needed\n\nThe epel repository is used only when we need to build a debian-based\nIPA image, so we enable it only in that case for CentOS Stream 8/9.\n\nThe configuration procedure is explained in the official guide [1].\n\n[1] https://docs.fedoraproject.org/en-US/epel/#_el9\n\nChange-Id: I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221\n'}]",8,826442,f2825ad1d9809bfc30e8b1b078c74a48c633f5e2,38,4,6,23851,,,0,"Enable epel repository only when needed

The epel repository is used only when we need to build a debian-based
IPA image, so we enable it only in that case for CentOS Stream 8/9.

The configuration procedure is explained in the official guide [1].

[1] https://docs.fedoraproject.org/en-US/epel/#_el9

Change-Id: I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/42/826442/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml']",2,0ed2510fa52dce69304c9169b450348542f38bac,enable-epel-cs9,"- block: ""Enable extra repositories for CentOS Stream 9"" - name: ""Enable CRB repository for CentOS Stream 9"" command: dnf config-manager --set-enabled crb - name: ""Enable EPEL repository for CentOS Stream 9"" command: dnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm when: - ansible_distribution == ""CentOS"" - ansible_distribution_version|int >= 9 ",,9,6
openstack%2Fkolla-ansible~stable%2Ftrain~I67df11e63d877fd509f9a19bf3f7b62f1776dfa3,openstack/kolla-ansible,stable/train,I67df11e63d877fd509f9a19bf3f7b62f1776dfa3,CI: test elasticsearch & kibana 6.x migration (Train),ABANDONED,2020-10-27 09:11:59.000000000,2022-02-10 11:06:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-27 09:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41aa762176d48ef41e34ec202b9399193b9ef18a', 'message': 'CI: test elasticsearch & kibana 6.x migration (Train)\n\nRelated-Bug: #1901614\n\nChange-Id: I67df11e63d877fd509f9a19bf3f7b62f1776dfa3\n'}, {'number': 2, 'created': '2020-10-27 09:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/605d44e6c46008e4051cda162974ecea924d7b85', 'message': 'CI: test elasticsearch & kibana 6.x migration (Train)\n\nRelated-Bug: #1901614\n\nChange-Id: I67df11e63d877fd509f9a19bf3f7b62f1776dfa3\n'}, {'number': 3, 'created': '2020-10-27 10:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d088b049862dee5b6c792aa4c1d8f205b4a4e38', 'message': 'CI: test elasticsearch & kibana 6.x migration (Train)\n\nRelated-Bug: #1901614\n\nChange-Id: I67df11e63d877fd509f9a19bf3f7b62f1776dfa3\n'}, {'number': 4, 'created': '2021-01-23 13:18:35.000000000', 'files': ['tests/test-prometheus-efk.sh', 'zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2d09a9fbd94ae11b0d8919b6fc39954cdcf987b', 'message': 'CI: test elasticsearch & kibana 6.x migration (Train)\n\nRelated-Bug: #1901614\n\nChange-Id: I67df11e63d877fd509f9a19bf3f7b62f1776dfa3\n'}]",0,759833,c2d09a9fbd94ae11b0d8919b6fc39954cdcf987b,11,2,4,14826,,,0,"CI: test elasticsearch & kibana 6.x migration (Train)

Related-Bug: #1901614

Change-Id: I67df11e63d877fd509f9a19bf3f7b62f1776dfa3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/759833/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-prometheus-efk.sh', 'zuul.d/project.yaml']",2,41aa762176d48ef41e34ec202b9399193b9ef18a,bug/1901614, #- kolla-ansible-centos-source #- kolla-ansible-centos8-source #- kolla-ansible-centos-mixed-7-8-source #- kolla-ansible-debian-source #- kolla-ansible-ubuntu-source #- kolla-ansible-ubuntu-source-multinode-ipv6 #- kolla-ansible-ubuntu-source-ceph #- kolla-ansible-centos-source-ceph #- kolla-ansible-bifrost-centos-source #- kolla-ansible-centos8-source-bifrost #- kolla-ansible-centos-source-zun #- kolla-ansible-centos8-source-zun #- kolla-ansible-ubuntu-source-zun #- kolla-ansible-centos-source-swift #- kolla-ansible-centos8-source-swift #- kolla-ansible-ubuntu-source-swift #- kolla-ansible-centos-source-scenario-nfv: #- files: #- - ^ansible/roles/(barbican|heat|mistral|redis|tacker)/ #- - ^tests/test-scenario-nfv.sh #- - ^tests/test-dashboard.sh #- kolla-ansible-centos8-source-scenario-nfv: #- files: #- - ^ansible/roles/(barbican|heat|mistral|redis|tacker)/ #- - ^tests/test-scenario-nfv.sh #- - ^tests/test-dashboard.sh #- kolla-ansible-ubuntu-source-masakari: #- files: #- - ^ansible/roles/masakari/ #- - ^tests/test-masakari.sh #- - ^tests/test-dashboard.sh #- kolla-ansible-centos-source-masakari: #- files: #- - ^ansible/roles/masakari/ #- - ^tests/test-masakari.sh #- - ^tests/test-dashboard.sh #- kolla-ansible-centos8-source-masakari: #- files: #- - ^ansible/roles/masakari/ #- - ^tests/test-masakari.sh #- - ^tests/test-dashboard.sh #- kolla-ansible-centos-source-ironic #- kolla-ansible-centos8-source-ironic #- kolla-ansible-centos-binary-ironic #- kolla-ansible-centos8-binary-ironic #- kolla-ansible-ubuntu-source-ironic #- kolla-ansible-centos-source-upgrade #- kolla-ansible-ubuntu-source-upgrade #- kolla-ansible-centos-source-upgrade-ceph #- kolla-ansible-ubuntu-source-upgrade-ceph #- kolla-ansible-centos-binary #- kolla-ansible-centos8-binary #- kolla-ansible-ubuntu-binary #- kolla-ansible-centos-source-cells #- kolla-ansible-centos8-source-cells #- kolla-ansible-centos-source-mariadb: #- files: #- - ^ansible/roles/mariadb/ #- - ^tests/test-mariadb.sh #- kolla-ansible-centos8-source-mariadb: #- files: #- - ^ansible/roles/mariadb/ #- - ^tests/test-mariadb.sh #- kolla-ansible-ubuntu-source-mariadb: #- files: #- - ^ansible/roles/mariadb/ #- - ^tests/test-mariadb.sh #- kolla-ansible-centos8-source-prometheus-efk #- kolla-ansible-ubuntu-source-prometheus-efk, - kolla-ansible-centos-source - kolla-ansible-centos8-source - kolla-ansible-centos-mixed-7-8-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-ubuntu-source-ceph - kolla-ansible-centos-source-ceph - kolla-ansible-bifrost-centos-source - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos-source-zun - kolla-ansible-centos8-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos-source-swift - kolla-ansible-centos8-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos-source-scenario-nfv: files: - ^ansible/roles/(barbican|heat|mistral|redis|tacker)/ - ^tests/test-scenario-nfv.sh - ^tests/test-dashboard.sh - kolla-ansible-centos8-source-scenario-nfv: files: - ^ansible/roles/(barbican|heat|mistral|redis|tacker)/ - ^tests/test-scenario-nfv.sh - ^tests/test-dashboard.sh - kolla-ansible-ubuntu-source-masakari: files: - ^ansible/roles/masakari/ - ^tests/test-masakari.sh - ^tests/test-dashboard.sh - kolla-ansible-centos-source-masakari: files: - ^ansible/roles/masakari/ - ^tests/test-masakari.sh - ^tests/test-dashboard.sh - kolla-ansible-centos8-source-masakari: files: - ^ansible/roles/masakari/ - ^tests/test-masakari.sh - ^tests/test-dashboard.sh - kolla-ansible-centos-source-ironic - kolla-ansible-centos8-source-ironic - kolla-ansible-centos-binary-ironic - kolla-ansible-centos8-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos-source-upgrade-ceph - kolla-ansible-ubuntu-source-upgrade-ceph - kolla-ansible-centos-binary - kolla-ansible-centos8-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos-source-cells - kolla-ansible-centos8-source-cells - kolla-ansible-centos-source-mariadb: files: - ^ansible/roles/mariadb/ - ^tests/test-mariadb.sh - kolla-ansible-centos8-source-mariadb: files: - ^ansible/roles/mariadb/ - ^tests/test-mariadb.sh - kolla-ansible-ubuntu-source-mariadb: files: - ^ansible/roles/mariadb/ - ^tests/test-mariadb.sh - kolla-ansible-centos8-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk,86,69
openstack%2Fpuppet-openstack_extras~stable%2Fwallaby~I37e92e13543c9b944b9534cec3d1f36677a49ff2,openstack/puppet-openstack_extras,stable/wallaby,I37e92e13543c9b944b9534cec3d1f36677a49ff2,Prepare a new Wallaby release,MERGED,2022-02-10 10:41:20.000000000,2022-02-10 11:05:12.000000000,2022-02-10 11:05:12.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 10:41:20.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/3c2ac686c894d1bcf82a3cced2610b4799079f4f', 'message': ""Prepare a new Wallaby release\n\nWe recently merged several fixes for CentOS9 support. Let's create\na new release so that these fixes are included in a released version\n\nChange-Id: I37e92e13543c9b944b9534cec3d1f36677a49ff2\n""}]",0,828688,3c2ac686c894d1bcf82a3cced2610b4799079f4f,7,2,1,9816,,,0,"Prepare a new Wallaby release

We recently merged several fixes for CentOS9 support. Let's create
a new release so that these fixes are included in a released version

Change-Id: I37e92e13543c9b944b9534cec3d1f36677a49ff2
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/88/828688/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,3c2ac686c894d1bcf82a3cced2610b4799079f4f,wallaby-c9," ""version"": ""18.5.0"""," ""version"": ""18.4.0""",1,1
openstack%2Freleases~master~I40185b08a9e415f416c45608cf90c8f515755222,openstack/releases,master,I40185b08a9e415f416c45608cf90c8f515755222,Remove unicode from code,MERGED,2022-01-27 02:52:27.000000000,2022-02-10 10:50:02.000000000,2022-02-10 10:50:02.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 02:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5850440788874f7fafd1759d26b3c06668d88a26', 'message': 'Remove unicode from code\n\nChange-Id: I40185b08a9e415f416c45608cf90c8f515755222\n'}, {'number': 2, 'created': '2022-02-07 10:20:42.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/f884ef23144e10b290410d35304e7f6ff5217496', 'message': ""Remove unicode from code\n\nAll strings are considered as unicode string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: I40185b08a9e415f416c45608cf90c8f515755222\n""}]",0,826575,f884ef23144e10b290410d35304e7f6ff5217496,10,3,2,33881,,,0,"Remove unicode from code

All strings are considered as unicode string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I40185b08a9e415f416c45608cf90c8f515755222
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/826575/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,5850440788874f7fafd1759d26b3c06668d88a26,,"project = 'releases' copyright = '2015, OpenStack Foundation'","project = u'releases' copyright = u'2015, OpenStack Foundation'",2,2
openstack%2Freleases~master~Ia315dc61b4f18d9dedab700591a426d063fab969,openstack/releases,master,Ia315dc61b4f18d9dedab700591a426d063fab969,Release manila 11.1.1 from stable/victoria,MERGED,2022-01-21 13:28:00.000000000,2022-02-10 10:49:58.000000000,2022-02-10 10:49:58.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-01-21 13:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7e21e3d0651fb44ed1301ca5ac18700bb49f0dd1', 'message': ""Release manila for stable/victoria\n\nThis release picks up new commits to manila since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 11.1.0..860b45e21\n860b45e21 Don't run periodic_share_replica_update() on active replicas\ndeaa1bf16 Drop non-ASCII character from manila config\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia315dc61b4f18d9dedab700591a426d063fab969\n""}, {'number': 2, 'created': '2022-02-08 00:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a031e7e72666703ddcd96550390df3b04213c894', 'message': ""Release manila 11.1.1 from stable/victoria\n\nThis release picks up new commits to manila since\nthe last release from stable/victoria.\n\n% git log --oneline --no-merges 11.1.0..bac63e3\n979c0abe2 Handle successful deletion of snapshot if quota commit fails\ndaeae4ccb early return for _share_replica_update() if there is no active replica\n860b45e21 Don't run periodic_share_replica_update() on active replicas\ndeaa1bf16 Drop non-ASCII character from manila config\n935786939 [doc] Fix config and install guide for the generic driver\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia315dc61b4f18d9dedab700591a426d063fab969\n""}, {'number': 3, 'created': '2022-02-08 18:20:23.000000000', 'files': ['deliverables/victoria/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e718e4c1646502b3f3a75357afb58db90feb3ac2', 'message': ""Release manila 11.1.1 from stable/victoria\n\nThis release picks up new commits to manila since\nthe last release from stable/victoria.\n\n% git log --oneline --no-merges 11.1.0..aa2a64c\n2b2e16bf8 Modify docker instalation for fedora systems\n979c0abe2 Handle successful deletion of snapshot if quota commit fails\ndaeae4ccb early return for _share_replica_update() if there is no active replica\n860b45e21 Don't run periodic_share_replica_update() on active replicas\ndeaa1bf16 Drop non-ASCII character from manila config\n935786939 [doc] Fix config and install guide for the generic driver\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ia315dc61b4f18d9dedab700591a426d063fab969\n""}]",4,825797,e718e4c1646502b3f3a75357afb58db90feb3ac2,16,6,3,17685,,,0,"Release manila 11.1.1 from stable/victoria

This release picks up new commits to manila since
the last release from stable/victoria.

% git log --oneline --no-merges 11.1.0..aa2a64c
2b2e16bf8 Modify docker instalation for fedora systems
979c0abe2 Handle successful deletion of snapshot if quota commit fails
daeae4ccb early return for _share_replica_update() if there is no active replica
860b45e21 Don't run periodic_share_replica_update() on active replicas
deaa1bf16 Drop non-ASCII character from manila config
935786939 [doc] Fix config and install guide for the generic driver

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ia315dc61b4f18d9dedab700591a426d063fab969
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/825797/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/manila.yaml'],1,7e21e3d0651fb44ed1301ca5ac18700bb49f0dd1,victoria-stable, - version: 11.1.1 projects: - repo: openstack/manila hash: 860b45e21f0dcd43f85fc159d386686f39605c82,,4,0
openstack%2Freleases~master~Id8762695c32cfc9f41efbc7686c4304b5c761e4e,openstack/releases,master,Id8762695c32cfc9f41efbc7686c4304b5c761e4e,[xena] Release Ceilometer 17.0.1,MERGED,2022-02-09 09:07:18.000000000,2022-02-10 10:45:19.000000000,2022-02-10 10:45:19.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 09:07:18.000000000', 'files': ['deliverables/xena/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fbb3a0e2cdbb9e9aa999ad7c897f91133cda0813', 'message': '[xena] Release Ceilometer 17.0.1\n\nThis contains bugfixes that makes Ceilometer work\nwith the new Nova XML version.\n\nChange-Id: Id8762695c32cfc9f41efbc7686c4304b5c761e4e\n'}]",2,828494,fbb3a0e2cdbb9e9aa999ad7c897f91133cda0813,9,4,1,16137,,,0,"[xena] Release Ceilometer 17.0.1

This contains bugfixes that makes Ceilometer work
with the new Nova XML version.

Change-Id: Id8762695c32cfc9f41efbc7686c4304b5c761e4e
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/828494/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ceilometer.yaml'],1,fbb3a0e2cdbb9e9aa999ad7c897f91133cda0813,, - version: 17.0.1 projects: - repo: openstack/ceilometer hash: c724307a080469e25950e25093b3e70b92794415,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ia8515bf204cfe6a0fbee7b819be07ee5827dd36d,openstack/tripleo-heat-templates,stable/victoria,Ia8515bf204cfe6a0fbee7b819be07ee5827dd36d,NO MERGE Test openstack/tripleo-ci/+/826317,ABANDONED,2022-02-08 09:41:52.000000000,2022-02-10 10:42:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-08 09:41:52.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario003-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a7987cfb7a1b24080e62be5e0677e6673e329d6', 'message': 'NO MERGE Test openstack/tripleo-ci/+/826317\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317\nChange-Id: Ia8515bf204cfe6a0fbee7b819be07ee5827dd36d\n'}]",0,828259,2a7987cfb7a1b24080e62be5e0677e6673e329d6,4,1,1,8449,,,0,"NO MERGE Test openstack/tripleo-ci/+/826317

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: Ia8515bf204cfe6a0fbee7b819be07ee5827dd36d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/828259/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario003-standalone.yaml']",2,2a7987cfb7a1b24080e62be5e0677e6673e329d6,c8_teardown_master,# WOO NO MERGE \o/,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I754ea9152228df72a9cb37f4cf9e910c9bd19309,openstack/tripleo-heat-templates,stable/wallaby,I754ea9152228df72a9cb37f4cf9e910c9bd19309,NO MERGE Test openstack/tripleo-ci/+/826317,ABANDONED,2022-02-08 09:38:32.000000000,2022-02-10 10:42:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-08 09:38:32.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario003-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8da38ad36e21b16ee8f7ff3a087b6808eb27c8f6', 'message': 'NO MERGE Test openstack/tripleo-ci/+/826317\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317\nChange-Id: I754ea9152228df72a9cb37f4cf9e910c9bd19309\n'}]",0,828258,8da38ad36e21b16ee8f7ff3a087b6808eb27c8f6,5,2,1,8449,,,0,"NO MERGE Test openstack/tripleo-ci/+/826317

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: I754ea9152228df72a9cb37f4cf9e910c9bd19309
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/828258/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario003-standalone.yaml']",2,8da38ad36e21b16ee8f7ff3a087b6808eb27c8f6,c8_teardown_master,# WOO NO MERGE \o/,,2,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I144ac3a34630a2db36c65359f3f9ae7d4c93a40b,openstack/tripleo-heat-templates,stable/train,I144ac3a34630a2db36c65359f3f9ae7d4c93a40b,NO MERGE Test openstack/tripleo-ci/+/826317,ABANDONED,2022-02-08 09:43:18.000000000,2022-02-10 10:42:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-08 09:43:18.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario003-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43b73420e29571b44350bf3349c03b5e5d7edf4c', 'message': 'NO MERGE Test openstack/tripleo-ci/+/826317\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317\nChange-Id: I144ac3a34630a2db36c65359f3f9ae7d4c93a40b\n'}]",0,828262,43b73420e29571b44350bf3349c03b5e5d7edf4c,5,2,1,8449,,,0,"NO MERGE Test openstack/tripleo-ci/+/826317

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: I144ac3a34630a2db36c65359f3f9ae7d4c93a40b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/828262/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario003-standalone.yaml']",2,43b73420e29571b44350bf3349c03b5e5d7edf4c,c8_teardown_master,# WOO NO MERGE \o/,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib7b4993cc6fe0000b7a2da80ae5dacbf418b86f7,openstack/tripleo-heat-templates,stable/ussuri,Ib7b4993cc6fe0000b7a2da80ae5dacbf418b86f7,NO MERGE Test openstack/tripleo-ci/+/826317,ABANDONED,2022-02-08 09:42:43.000000000,2022-02-10 10:42:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-08 09:42:43.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario003-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/448f8951782a271279d9178cd93168ea528aefe4', 'message': 'NO MERGE Test openstack/tripleo-ci/+/826317\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317\nChange-Id: Ib7b4993cc6fe0000b7a2da80ae5dacbf418b86f7\n'}]",0,828260,448f8951782a271279d9178cd93168ea528aefe4,4,1,1,8449,,,0,"NO MERGE Test openstack/tripleo-ci/+/826317

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: Ib7b4993cc6fe0000b7a2da80ae5dacbf418b86f7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/828260/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario003-standalone.yaml']",2,448f8951782a271279d9178cd93168ea528aefe4,c8_teardown_master,# WOO NO MERGE \o/,,2,0
openstack%2Ftempest~master~Iddfa4ef874328fdee5418de5a8b1112007541883,openstack/tempest,master,Iddfa4ef874328fdee5418de5a8b1112007541883,Fix floating ip timeout issues with uwsgi enabled,MERGED,2022-02-08 17:18:02.000000000,2022-02-10 10:39:55.000000000,2022-02-10 10:37:46.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2022-02-08 17:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f2f0c811e30b5f2e9e17d181da1596fa4c06cdd5', 'message': 'Revert ""Fix test_rebuild_server test by waiting for floating ip""\n\nThis reverts commit d4c9cc89f199899b20cfaea975ecd15ee66d3523.\n\nReason for revert: this patch probably broke neutron-tempest-with-uwsgi job\n\nChange-Id: Iddfa4ef874328fdee5418de5a8b1112007541883\n'}, {'number': 2, 'created': '2022-02-09 16:23:10.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py', 'tempest/common/compute.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/78b960f91f71dc6f98776b6de7e833da74ffc520', 'message': 'Fix floating ip timeout issues with uwsgi enabled\n\nThis reverts commit d4c9cc89f199899b20cfaea975ecd15ee66d3523 which\nintroduced a waiter to fix a bug in Tempest. Unfortunately that broke\nneutron-tempest-with-uwsgi job where some of the tests started to fail\ndue to timeouts - waiting for the floating ip to get attached to a server\nprolonged the tests which caused the timeout (it seems the ip attachment\nprocess takes longer on an environment with uwsgi).\nThe failing tests also didn\'t require an attached floating ip or they\ndid however long enough after the server creation thus it is redundant\nto wait for the ip attachment at the beginning (when the resource is\ncreated) when it can happen ""in parallel"".\n\nThis patch moves the waiter from the common file to the test class\nwhere the waiter is needed to fix a bug [1].\n\n[1] https://bugs.launchpad.net/tempest/+bug/1945495\n\nCloses-Bug: #1960022\nChange-Id: Iddfa4ef874328fdee5418de5a8b1112007541883\n'}]",8,828245,78b960f91f71dc6f98776b6de7e833da74ffc520,23,7,2,22873,,,0,"Fix floating ip timeout issues with uwsgi enabled

This reverts commit d4c9cc89f199899b20cfaea975ecd15ee66d3523 which
introduced a waiter to fix a bug in Tempest. Unfortunately that broke
neutron-tempest-with-uwsgi job where some of the tests started to fail
due to timeouts - waiting for the floating ip to get attached to a server
prolonged the tests which caused the timeout (it seems the ip attachment
process takes longer on an environment with uwsgi).
The failing tests also didn't require an attached floating ip or they
did however long enough after the server creation thus it is redundant
to wait for the ip attachment at the beginning (when the resource is
created) when it can happen ""in parallel"".

This patch moves the waiter from the common file to the test class
where the waiter is needed to fix a bug [1].

[1] https://bugs.launchpad.net/tempest/+bug/1945495

Closes-Bug: #1960022
Change-Id: Iddfa4ef874328fdee5418de5a8b1112007541883
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/828245/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/compute.py'],1,f2f0c811e30b5f2e9e17d181da1596fa4c06cdd5,bug/1945495,," waiters.wait_for_server_floating_ip( clients.servers_client, servers[0], validation_resources['floating_ip'])",0,3
openstack%2Fkolla-ansible~master~I162e417387393e806886b1c9ea8053b89778b4d1,openstack/kolla-ansible,master,I162e417387393e806886b1c9ea8053b89778b4d1,Fix Apparmor libvirt profile removal,MERGED,2022-01-13 11:41:48.000000000,2022-02-10 10:37:53.000000000,2022-02-10 10:36:06.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-13 11:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ee1ea479d71d346b8ebdc7f5633238c8a0acb04', 'message': 'Fix Apparmor libvirt profile removal\n\nThe apparmor_parser actually doesn\'t remove the file and the next run\nof the baremetal role will fail with the error ""Unable to remove\n""libvirtd"". Even more after reboot, the profile is still active. We\nneed to move the profile ourselves, so this change fixes the\nidempotents of the baremetal role.\n\nChange-Id: I162e417387393e806886b1c9ea8053b89778b4d1\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2022-01-17 15:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c20912b5685d4f1b927ebb6703e857f134ec630', 'message': 'Fix Apparmor libvirt profile removal\n\nThe apparmor_parser actually doesn\'t remove the file or doesn\'t create\nthe symlink in \'/etc/apparmor.d/disable\' itself so the next run of the\nbaremetal role will fail with the error ""Unable to remove ""libvirtd"".\nEven more after reboot, the profile is still active. We need to\ndisable the profile completly ourselves. This change fixes the\nidempotents of the baremetal role.\n\nChange-Id: I162e417387393e806886b1c9ea8053b89778b4d1\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2022-02-08 10:53:29.000000000', 'files': ['releasenotes/notes/fix-apparmor-libvirt-profile-removal-01db6ca6dd66879f.yaml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75f55d13ad9060b7821a6e7702a347debd785ee9', 'message': 'Fix Apparmor libvirt profile removal\n\nThe apparmor_parser actually doesn\'t remove the file or doesn\'t create\nthe symlink in \'/etc/apparmor.d/disable\' itself so the next run of the\nbaremetal role will fail with the error ""Unable to remove ""libvirtd"".\nEven more after reboot, the profile is still active. We need to\ndisable the profile completly ourselves. This change fixes the\nidempotents of the baremetal role.\n\nCloses-Bug: #1960302\nChange-Id: I162e417387393e806886b1c9ea8053b89778b4d1\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",3,824550,75f55d13ad9060b7821a6e7702a347debd785ee9,20,4,3,14200,,,0,"Fix Apparmor libvirt profile removal

The apparmor_parser actually doesn't remove the file or doesn't create
the symlink in '/etc/apparmor.d/disable' itself so the next run of the
baremetal role will fail with the error ""Unable to remove ""libvirtd"".
Even more after reboot, the profile is still active. We need to
disable the profile completly ourselves. This change fixes the
idempotents of the baremetal role.

Closes-Bug: #1960302
Change-Id: I162e417387393e806886b1c9ea8053b89778b4d1
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/824550/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/post-install.yml'],1,9ee1ea479d71d346b8ebdc7f5633238c8a0acb04,fix-apparmor-libvirt-profile-removal, shell: | apparmor_parser -R /etc/apparmor.d/usr.sbin.libvirtd && \ mv -fv /etc/apparmor.d/usr.sbin.libvirtd /etc/apparmor.d/disable/ args: executable: /bin/bash, command: apparmor_parser -R /etc/apparmor.d/usr.sbin.libvirtd,5,1
openstack%2Fcharms.ceph~master~I43d0a0bc11664c37532c0117711affc93c9d1ad1,openstack/charms.ceph,master,I43d0a0bc11664c37532c0117711affc93c9d1ad1,Add argument 'osd_id' to 'osdize',MERGED,2021-11-19 18:40:57.000000000,2022-02-10 10:32:36.000000000,2022-02-10 10:32:36.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-19 18:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/49d1fb428ddcc63c3035d77ac3737a80fc3c9a04', 'message': ""Add argument 'osd_id' to 'osdize'\n\nIn order to fully support OSD replacement, we need a way to recycle\npreviously used OSD ids. This is achieved by passing the parameter\n'--osd-id' to 'ceph-volume lvm create'. As such, this patchset adds\nthe needed support to specify that parameter.\n\nChange-Id: I43d0a0bc11664c37532c0117711affc93c9d1ad1\n""}, {'number': 2, 'created': '2021-12-06 19:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/8071a01fb865090e2c5ff15f9cec8ac99d1727a2', 'message': ""Add argument 'osd_id' to 'osdize'\n\nIn order to fully support OSD replacement, we need a way to recycle\npreviously used OSD ids. This is achieved by passing the parameter\n'--osd-id' to 'ceph-volume lvm create'. As such, this patchset adds\nthe needed support to specify that parameter.\n\nChange-Id: I43d0a0bc11664c37532c0117711affc93c9d1ad1\n""}, {'number': 3, 'created': '2022-01-18 21:31:49.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/136f6d858663b06fe45e3c8442a13a51f4244816', 'message': ""Add argument 'osd_id' to 'osdize'\n\nIn order to fully support OSD replacement, we need a way to recycle\npreviously used OSD ids. This is achieved by passing the parameter\n'--osd-id' to 'ceph-volume lvm create'. As such, this patchset adds\nthe needed support to specify that parameter.\n\nChange-Id: I43d0a0bc11664c37532c0117711affc93c9d1ad1\n""}]",1,818623,136f6d858663b06fe45e3c8442a13a51f4244816,11,2,3,33717,,,0,"Add argument 'osd_id' to 'osdize'

In order to fully support OSD replacement, we need a way to recycle
previously used OSD ids. This is achieved by passing the parameter
'--osd-id' to 'ceph-volume lvm create'. As such, this patchset adds
the needed support to specify that parameter.

Change-Id: I43d0a0bc11664c37532c0117711affc93c9d1ad1
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/23/818623/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/utils.py', 'unit_tests/test_utils.py']",2,49d1fb428ddcc63c3035d77ac3737a80fc3c9a04,osd_id_recycle," _ceph_volume.assert_called_with('/dev/sdb', None, False, False, 'ceph', None) _check_call.assert_called_with(['ceph-volume', 'prepare']) db.get.assert_called_with('osd-devices', []) db.set.assert_called_with('osd-devices', ['/dev/sdb']) db.flush.assert_called_once() @patch.object(utils, 'kv') @patch.object(utils.subprocess, 'check_call') @patch.object(utils, '_ceph_volume') @patch.object(utils, 'is_mapped_luks_device') @patch.object(utils, 'is_active_bluestore_device') @patch.object(utils.os.path, 'exists') @patch.object(utils, 'is_device_mounted') @patch.object(utils, 'cmp_pkgrevno') @patch.object(utils, 'is_block_device') def test_osdize_dev_ceph_volume_with_osdid(self, _is_blk, _cmp, _mounted, _exists, _is_mapped_luks_device, _is_active_bluestore_device, _ceph_volume, _check_call, _kv): """"""Test that _ceph_volume is called with an OSD id."""""" db = MagicMock() _kv.return_value = db db.get.return_value = [] _is_blk.return_value = True _mounted.return_value = False _exists.return_value = True _cmp.return_value = 1 _ceph_volume.return_value = ['ceph-volume', 'prepare'] _is_mapped_luks_device.return_value = False _is_active_bluestore_device.return_value = False utils.osdize('/dev/sdb', osd_format='xfs', osd_journal=None, bluestore=False, osd_id=123) _ceph_volume.assert_called_with('/dev/sdb', None, False, False, 'ceph', 123)"," _ceph_volume.assert_called_with('/dev/sdb', None, False, False, 'ceph')",46,6
openstack%2Freleases~master~I6ac44990dc80582afa897fc3cb9f5784897456b5,openstack/releases,master,I6ac44990dc80582afa897fc3cb9f5784897456b5,[wallaby] Release Ceilometer 16.0.1,MERGED,2022-02-09 12:11:37.000000000,2022-02-10 10:14:54.000000000,2022-02-10 10:14:54.000000000,"[{'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-09 12:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/aaace3e638a07664c9eb629ec22de628f13f6992', 'message': '[wallaby] Release Ceilometer 16.0.1\n\nThis contains bugfixes that makes Ceilometer work\nwith the new Nova XML version.\n\nChange-Id: I6ac44990dc80582afa897fc3cb9f5784897456b5\n'}, {'number': 2, 'created': '2022-02-09 20:00:32.000000000', 'files': ['deliverables/wallaby/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/107a09195dab4d1615ba59a0a899b542de52599e', 'message': '[wallaby] Release Ceilometer 16.0.1\n\nThis contains bugfixes that makes Ceilometer work\nwith the new Nova XML version.\n\nChange-Id: I6ac44990dc80582afa897fc3cb9f5784897456b5\n'}]",4,828520,107a09195dab4d1615ba59a0a899b542de52599e,13,4,2,16137,,,0,"[wallaby] Release Ceilometer 16.0.1

This contains bugfixes that makes Ceilometer work
with the new Nova XML version.

Change-Id: I6ac44990dc80582afa897fc3cb9f5784897456b5
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/828520/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ceilometer.yaml'],1,aaace3e638a07664c9eb629ec22de628f13f6992,, - version: 16.0.1 projects: - repo: openstack/ceilometer hash: c56edab96536b641ffcf81f51e3b90647afb76a6,,4,0
openstack%2Fpuppet-ironic~master~Id1aa5f3df8dd565c81ff4fda0f9bbd07faa9c7b5,openstack/puppet-ironic,master,Id1aa5f3df8dd565c81ff4fda0f9bbd07faa9c7b5,Remove deprecated amqp_allow_insecure_clients,MERGED,2022-02-08 13:09:05.000000000,2022-02-10 10:10:04.000000000,2022-02-10 10:08:29.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 13:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/18949bfa05230196bd1b54b4bf7856e6f3274ddc', 'message': 'Remove deprecated amqp_allow_insecure_clients\n\n... because it was deprecated during Wallaby cycle.\n\nChange-Id: Id1aa5f3df8dd565c81ff4fda0f9bbd07faa9c7b5\n'}, {'number': 2, 'created': '2022-02-08 13:13:51.000000000', 'files': ['releasenotes/notes/remove-amqp_allow_insecure_clients-55d51348e78f1533.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/41b1408e48accdd1356059fff88f424a118de56a', 'message': 'Remove deprecated amqp_allow_insecure_clients\n\n... because it was deprecated during Wallaby cycle.\n\nChange-Id: Id1aa5f3df8dd565c81ff4fda0f9bbd07faa9c7b5\n'}]",2,828306,41b1408e48accdd1356059fff88f424a118de56a,19,3,2,9816,,,0,"Remove deprecated amqp_allow_insecure_clients

... because it was deprecated during Wallaby cycle.

Change-Id: Id1aa5f3df8dd565c81ff4fda0f9bbd07faa9c7b5
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/06/828306/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-amqp_allow_insecure_clients-55d51348e78f1533.yaml', 'manifests/init.pp']",2,18949bfa05230196bd1b54b4bf7856e6f3274ddc,amqp_allow_insecure_clients,,"# DEPRECATED PARAMETERS # # [*amqp_allow_insecure_clients*] # (Optional) Accept clients using either SSL or plain TCP # Defaults to undef. # # DEPRECATED PARAMETERS $amqp_allow_insecure_clients = undef, if $amqp_allow_insecure_clients != undef { warning('The amqp_allow_insecure_clients parameter is deprecated and \ will be removed in a future relese.') } ",4,13
openstack%2Fopenstack-manuals~master~I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e,openstack/openstack-manuals,master,I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e,docs: Update --set-enable flag,MERGED,2021-12-29 12:56:30.000000000,2022-02-10 09:47:19.000000000,2022-02-10 09:31:29.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-29 12:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f16a5bc363c0db1d2268184d638e60ccb50576e2', 'message': 'docs: Update --set-enable flag\n\nIn CentOS 8.3.2011 and later version, flag of --set-enable had been\nmodified. ""PowerTools"" had been replaced with ""powertools"". This\nchange was mentioned in the release notes:\nhttps://wiki.centos.org/Manuals/ReleaseNotes/CentOS8.2011#Yum_repo_file_and_repoid_changes\n\nAdd the new flag of --set-enable command.\n\nUsers can know the right way in 8.3.2011 and later version CentOS.\n\nChange-Id: I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e\n'}, {'number': 2, 'created': '2022-02-10 05:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b033a5df813c40746c7a1f1812f866a218936f55', 'message': 'docs: Update --set-enable flag\n\nIn CentOS 8.3.2011 and later version, flag of --set-enable had been\nmodified. ""PowerTools"" had been replaced with ""powertools"". This\nchange was mentioned in the release notes:\nhttps://wiki.centos.org/Manuals/ReleaseNotes/CentOS8.2011#Yum_repo_file_and_repoid_changes\n\nAdd the new flag of --set-enable command.\n\nUsers can know the right way in 8.3.2011 and later version CentOS.\n\nChange-Id: I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e\n'}, {'number': 3, 'created': '2022-02-10 05:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3d2ac18d5a465ba70e4bf867a3599636207f4673', 'message': 'docs: Update --set-enable flag\n\nIn CentOS 8.3.2011 and later version, flag of --set-enable had been\nmodified. ""PowerTools"" had been replaced with ""powertools"". This\nchange was mentioned in the release notes:\nhttps://wiki.centos.org/Manuals/ReleaseNotes/CentOS8.2011#Yum_repo_file_and_repoid_changes\n\nUpdate the ""yum config-manager --set-enable"" command to use\n""powertolls"".\n\nUsers can know the right way in 8.3.2011 and later version CentOS.\n\nChange-Id: I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e\n'}, {'number': 4, 'created': '2022-02-10 05:54:55.000000000', 'files': ['doc/install-guide/source/environment-packages-rdo.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/75a744a93bdc59653341f8bd81ec4f0b8df24c8d', 'message': 'docs: Update --set-enable flag\n\nIn CentOS 8.3.2011 and later version, flag of --set-enable had been\nmodified. ""PowerTools"" had been replaced with ""powertools"". This\nchange was mentioned in the release notes:\nhttps://wiki.centos.org/Manuals/ReleaseNotes/CentOS8.2011#Yum_repo_file_and_repoid_changes\n\nUpdate the ""yum config-manager --set-enable"" command to use\n""powertolls"".\n\nUsers can know the right way in 8.3.2011 and later version CentOS.\n\nChange-Id: I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e\n'}]",8,823160,75a744a93bdc59653341f8bd81ec4f0b8df24c8d,18,4,4,33786,,,0,"docs: Update --set-enable flag

In CentOS 8.3.2011 and later version, flag of --set-enable had been
modified. ""PowerTools"" had been replaced with ""powertools"". This
change was mentioned in the release notes:
https://wiki.centos.org/Manuals/ReleaseNotes/CentOS8.2011#Yum_repo_file_and_repoid_changes

Update the ""yum config-manager --set-enable"" command to use
""powertolls"".

Users can know the right way in 8.3.2011 and later version CentOS.

Change-Id: I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/60/823160/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/environment-packages-rdo.rst'],1,f16a5bc363c0db1d2268184d638e60ccb50576e2,, or # yum config-manager --set-enabled powertools or # yum config-manager --set-enabled powertools,,4,0
openstack%2Fcharm-ops-interface-tls-certificates~master~I7394fbbba92cdbb716c1071519c39ffd83af3166,openstack/charm-ops-interface-tls-certificates,master,I7394fbbba92cdbb716c1071519c39ffd83af3166,Remove unused charmhelpers dependency,MERGED,2022-02-09 18:56:42.000000000,2022-02-10 09:27:16.000000000,2022-02-10 09:27:16.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 18:56:42.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-tls-certificates/commit/f720af03a1acb640ab1fed86fd30ff9aafda1ea4', 'message': 'Remove unused charmhelpers dependency\n\nChange-Id: I7394fbbba92cdbb716c1071519c39ffd83af3166\n'}]",1,828603,f720af03a1acb640ab1fed86fd30ff9aafda1ea4,6,2,1,28510,,,0,"Remove unused charmhelpers dependency

Change-Id: I7394fbbba92cdbb716c1071519c39ffd83af3166
",git fetch https://review.opendev.org/openstack/charm-ops-interface-tls-certificates refs/changes/03/828603/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,f720af03a1acb640ab1fed86fd30ff9aafda1ea4,,," 'charmhelpers',",0,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I0c1e49a8bf66937355c36fffebc96d281eb890f2,openstack/networking-ovn,stable/train,I0c1e49a8bf66937355c36fffebc96d281eb890f2,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 10:24:35.000000000,2022-02-10 09:23:22.000000000,2022-02-10 09:21:41.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 10:24:35.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e579d36ec86927da05e2ae6d1e18e1aee4c34fe9', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nFrom Neutron-master:\n    https://review.opendev.org/c/openstack/neutron/+/827158\n\n(manually cherry picked from commit\n9fcf42d3d524f03c8f49794bdd3730f654c146a1)\n\nChange-Id: I0c1e49a8bf66937355c36fffebc96d281eb890f2\n""}]",1,827832,e579d36ec86927da05e2ae6d1e18e1aee4c34fe9,8,3,1,34118,,,0,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

From Neutron-master:
    https://review.opendev.org/c/openstack/neutron/+/827158

(manually cherry picked from commit
9fcf42d3d524f03c8f49794bdd3730f654c146a1)

Change-Id: I0c1e49a8bf66937355c36fffebc96d281eb890f2
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/32/827832/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,e579d36ec86927da05e2ae6d1e18e1aee4c34fe9,, register: router_dhcp_error ignore_errors: True - name: Cleanup neutron router and dhcp interfaces finished debug: msg: WARNING error while cleaning ovs interfaces with msg {{ router_dhcp_error.msg }} when: - router_dhcp_error.changed - router_dhcp_error.rc != 0 - name: Check if neutron trunk subports need cleanup shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | grep 'spi-\|spt-' register: do_cleanup ignore_errors: True when: do_cleanup.rc == 0 register: trunk_error ignore_errors: True - name: Cleanup trunk ports finished debug: msg: WARNING error while cleaning ovs interface with msg {{ trunk_error.msg }} when: - trunk_error.changed - trunk_error.rc != 0,,25,0
openstack%2Fcharm-ceph-dashboard~master~I8b998968aecf8f6d2485d4f5153211ceeac81b27,openstack/charm-ceph-dashboard,master,I8b998968aecf8f6d2485d4f5153211ceeac81b27,Migrate to charmhub,MERGED,2022-02-07 14:52:36.000000000,2022-02-10 08:55:51.000000000,2022-02-10 08:55:51.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 14:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/46c4328bd116e69a7ee2cb4ba24b363ca76f0830', 'message': 'Migrate to charmhub\n\nChange-Id: I8b998968aecf8f6d2485d4f5153211ceeac81b27\n'}, {'number': 2, 'created': '2022-02-07 15:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/1fac6b9201684f832855ba5bc2cfb9d9bc787691', 'message': 'Migrate to charmhub\n\nChange-Id: I8b998968aecf8f6d2485d4f5153211ceeac81b27\n'}, {'number': 3, 'created': '2022-02-08 14:05:03.000000000', 'files': ['tests/bundles/bionic-octopus.yaml', 'tests/bundles/overlays/bionic-octopus.yaml.j2', 'tests/README.md', 'tests/tests.yaml', 'osci.yaml', 'build-requirements.txt', 'tests/bundles/focal.yaml', 'rename.sh', 'charmcraft.yaml', 'tests/bundles/hirsute.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/011733c97f338ae97b1bfba56ea464fdc73f7092', 'message': 'Migrate to charmhub\n\nChange-Id: I8b998968aecf8f6d2485d4f5153211ceeac81b27\n'}]",3,828159,011733c97f338ae97b1bfba56ea464fdc73f7092,19,3,3,31289,,,0,"Migrate to charmhub

Change-Id: I8b998968aecf8f6d2485d4f5153211ceeac81b27
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/59/828159/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/bionic-octopus.yaml', 'tests/README.md', 'tests/bundles/overlays/bionic-octopus.yaml.j2', 'tests/tests.yaml', 'osci.yaml', 'build-requirements.txt', 'tests/bundles/focal.yaml', 'rename.sh', 'charmcraft.yaml', 'tests/bundles/hirsute.yaml', 'tox.ini']",11,46c4328bd116e69a7ee2cb4ba24b363ca76f0830,charmhub-migration-master,# * It is necessary to declare setuptools as a dependency otherwise tox will # fail very early at not being able to load it. The version pinning is in # line with `pip.sh`. setuptools < 50.0.0allowlist_externals = rename.sh charmcraft clean charmcraft -v build {toxinidir}/rename.sh,whitelist_externals = charmcraft build,84,208
openstack%2Fheat~master~Icaa8acc04019b67628e84b1fa252e3731d526f08,openstack/heat,master,Icaa8acc04019b67628e84b1fa252e3731d526f08,Add Python 3 only classifier,MERGED,2022-02-08 14:05:33.000000000,2022-02-10 08:12:50.000000000,2022-02-10 08:11:05.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-02-08 14:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0ec4fd53d4e1a1a2df9df29ffb7190a4477cc112', 'message': 'Add Python 3 only classifier\n\nPython 2 support was removed during Ussuri cycle. This change adds\nthe classifier to clearly states that only Python 3 is supported.\n\nChange-Id: Icaa8acc04019b67628e84b1fa252e3731d526f08\n'}, {'number': 2, 'created': '2022-02-08 14:06:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat/commit/0fa19e7a93aba6750d5ee14d0e2fb9803bdcd61a', 'message': 'Add Python 3 only classifier\n\nPython 2 support was removed during Ussuri cycle. This change adds\nthe classifier to clearly state that only Python 3 is supported.\n\nChange-Id: Icaa8acc04019b67628e84b1fa252e3731d526f08\n'}]",2,828336,0fa19e7a93aba6750d5ee14d0e2fb9803bdcd61a,14,3,2,9816,,,0,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: Icaa8acc04019b67628e84b1fa252e3731d526f08
",git fetch https://review.opendev.org/openstack/heat refs/changes/36/828336/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0ec4fd53d4e1a1a2df9df29ffb7190a4477cc112,py3-only, Programming Language :: Python :: 3 :: Only,,1,0
openstack%2Fcharm-ceph-mon~master~Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf,openstack/charm-ceph-mon,master,Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf,Add ceph version to ceph-client relation and update unittests,ABANDONED,2021-08-23 08:26:23.000000000,2022-02-10 08:05:24.000000000,,"[{'_account_id': 10086}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30669}]","[{'number': 1, 'created': '2021-08-23 08:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4d36c04ff1d92b22fcf325a089c22633a55b246f', 'message': 'Add ceph-version to ceph-client relation and update unittests\n\nChange-Id: Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf\n'}, {'number': 2, 'created': '2021-08-23 08:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e67b42a6994555b8c4de86a491114511c1feead2', 'message': 'Add ceph-version to ceph-client relation and update unittests\n\nChange-Id: Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf\n'}, {'number': 3, 'created': '2021-08-24 09:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/335d8fd1d338d1a9e923ba235dbd9d20f770acb8', 'message': 'Add ceph version to ceph-client relation and update unittests\n\nChange-Id: Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf\n'}, {'number': 4, 'created': '2021-08-25 23:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a3f9503273be71a883b02606f3a97a4e20374eac', 'message': 'Add ceph version to ceph-client relation and update unittests\n\nChange-Id: Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf\n'}, {'number': 5, 'created': '2021-08-25 23:53:14.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/de7600bdecb968574fad9ed4b200bb6895ca6ba6', 'message': 'Add ceph version to ceph-client relation and update unittests\n\nChange-Id: Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf\n'}]",9,805600,de7600bdecb968574fad9ed4b200bb6895ca6ba6,22,5,5,31107,,,0,"Add ceph version to ceph-client relation and update unittests

Change-Id: Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/00/805600/5 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,4d36c04ff1d92b22fcf325a089c22633a55b246f,add-ceph-version-for-client," @patch.object(ceph_hooks.ceph, 'resolve_ceph_version') @patch.object(ceph_hooks.hookenv, 'config') _mock_hookenv_config, _resolve_ceph_version, _mock_hookenv_config.return_value = None _resolve_ceph_version.return_value = 'octopus' 'ceph-public-address': _get_public_addr(), 'ceph-version': _resolve_ceph_version(), 'key': _get_named_key(), 'ceph-version': _resolve_ceph_version(), 'key': _get_named_key(), @patch.object(ceph_hooks.hookenv, 'config') @patch.object(ceph_hooks.ceph, 'resolve_ceph_version') _resolve_ceph_version, _mock_hookenv_config, _mock_hookenv_config.return_value = None _resolve_ceph_version.return_value = 'octopus' 'ceph-public-address': _get_public_addr(), 'ceph-version': _resolve_ceph_version(), 'key': _get_named_key() 'ceph-version': _resolve_ceph_version(), 'key': _get_named_key() @patch.object(ceph_hooks.ceph, 'resolve_ceph_version') @patch.object(ceph_hooks.hookenv, 'config') def test_client_relation_non_rel_hook(self, _mock_hookenv_config, _resolve_ceph_version, relation_set, _mock_hookenv_config.return_value = None _resolve_ceph_version.return_value = 'octopus' 'ceph-version': 'octopus', 'key': get_named_key(), 'ceph-version': 'octopus', 'key': get_named_key(), 'ceph-public-address': get_public_addr(), 'ceph-version': 'octopus', 'key': get_named_key(), })"," 'key': _get_named_key(), 'ceph-public-address': _get_public_addr() 'key': _get_named_key(), 'key': _get_named_key(), 'ceph-public-address': _get_public_addr() 'key': _get_named_key(), def test_client_relation_non_rel_hook(self, relation_set, 'key': get_named_key(), 'key': get_named_key(), 'key': get_named_key(), 'ceph-public-address': get_public_addr()})",54,12
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I108af0be37ab77510777168bb689b9d4718bc26a,openstack/tripleo-heat-templates,stable/wallaby,I108af0be37ab77510777168bb689b9d4718bc26a,Implement project personas in custom designate policy file,MERGED,2021-11-19 20:37:10.000000000,2022-02-10 06:50:41.000000000,2022-02-10 06:50:41.000000000,"[{'_account_id': 5046}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-19 20:37:10.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06e078464b24ffa3224538876ba48e8b6dfd56e7', 'message': 'Implement project personas in custom designate policy file\n\nThis commit updates the default policies in enable-secure-rbac.yaml to\nimplement consistent project personas (project-admin, project-member,\nand project-reader) with other OpenStack services. The project-admin is\nstill considered a system administrator.\n\nThis behavior will change in future releases when more OpenStack\nservices adopt system-scope. At that time, we can go back to using the\ndefault designate policies.\n\nChange-Id: I108af0be37ab77510777168bb689b9d4718bc26a\n(cherry picked from commit bdbd440cb602e0cadd022b347abe23947fb7fa97)\n'}]",4,818638,06e078464b24ffa3224538876ba48e8b6dfd56e7,14,7,1,5046,,,0,"Implement project personas in custom designate policy file

This commit updates the default policies in enable-secure-rbac.yaml to
implement consistent project personas (project-admin, project-member,
and project-reader) with other OpenStack services. The project-admin is
still considered a system administrator.

This behavior will change in future releases when more OpenStack
services adopt system-scope. At that time, we can go back to using the
default designate policies.

Change-Id: I108af0be37ab77510777168bb689b9d4718bc26a
(cherry picked from commit bdbd440cb602e0cadd022b347abe23947fb7fa97)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/818638/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,06e078464b24ffa3224538876ba48e8b6dfd56e7,secure-rbac," value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""role:admin"" value: ""role:reader"" value: ""role:reader"" value: ""role:reader"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:reader"" value: ""role:reader"" value: ""role:reader"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""role:admin or (role:reader and project_id:%(project_id)s)"" value: ""role:admin"" value: ""role:admin"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:member and project_id:%(project_id)s) and ('PRIMARY':%(zone_type)s) or (role:admin and ('PRIMARY':%(zone_type)s)) or (role:admin and ('SECONDARY':%(zone_type)s))"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" designate-find_recordset: key: ""find_recordset"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" designate-find_recordsets: key: ""find_recordsets"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:member and project_id:%(project_id)s) and ('PRIMARY':%(zone_type)s) or (role:admin and ('PRIMARY':%(zone_type)s)) or (role:admin and ('SECONDARY':%(zone_type)s))"" value: ""(role:member and project_id:%(project_id)s) and ('PRIMARY':%(zone_type)s) or (role:admin and ('PRIMARY':%(zone_type)s)) or (role:admin and ('SECONDARY':%(zone_type)s))"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" designate-get_zone_ns_records: key: ""get_zone_ns_records"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""role:admin"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:reader and project_id:%(project_id)s) or or (True:%(all_tenants)s and role:reader)"" value: ""role:admin"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" designate-delete_zone_export: key: ""delete_zone_export"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""(role:admin or (role:member and project_id:%(project_id)s)) or project_id:%(target_project_id)s or None:%(target_project_id)s"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""(role:admin or (role:member and project_id:%(project_id)s)) or project_id:%(target_project_id)s or None:%(target_project_id)s"" value: ""(role:reader and project_id:%(project_id)s) or (True:%(all_tenants)s and role:reader)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""role:admin or (role:member and project_id:%(project_id)s)"""," designate-admin: key: ""admin"" value: ""role:admin or is_admin:True"" designate-primary_zone: key: ""primary_zone"" value: ""target.zone_type:SECONDARY"" designate-owner: key: ""owner"" value: ""tenant:%(tenant_id)s"" designate-admin_or_owner: key: ""admin_or_owner"" value: ""rule:admin or rule:owner"" value: ""rule:admin_or_owner"" designate-target: key: ""target"" value: ""tenant:%(target_tenant_id)s"" designate-owner_or_target: key: ""owner_or_target"" value: ""rule:target or rule:owner"" designate-admin_or_owner_or_target: key: ""admin_or_owner_or_target"" value: ""rule:owner_or_target or rule:admin"" designate-admin_or_target: key: ""admin_or_target"" value: ""rule:admin or rule:target"" designate-zone_primary_or_admin: key: ""zone_primary_or_admin"" value: ""('PRIMARY':%(zone_type)s and rule:admin_or_owner) OR ('SECONDARY':%(zone_type)s AND is_admin:True)"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:admin"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) and ('SECONDARY':%(zone_type)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) and ('SECONDARY':%(zone_type)s)"" value: ""(role:admin and system_scope:all) and ('SECONDARY':%(zone_type)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""role:admin and system_scope:all"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""role:admin and system_scope:all"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""rule:admin_or_owner OR tenant:%(target_tenant_id)s OR None:%(target_tenant_id)s"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""role:reader and system_scope:all"" value: ""role:reader and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""role:admin and system_scope:all"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""rule:admin_or_owner OR tenant:%(target_tenant_id)s OR None:%(target_tenant_id)s"" value: ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" value: ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)""",97,112
openstack%2Fansible-collections-openstack~master~I6d9519988e98b10d0f7bd19b1387fb1f3b657046,openstack/ansible-collections-openstack,master,I6d9519988e98b10d0f7bd19b1387fb1f3b657046,Add openstack.cloud.baremetal_port module,MERGED,2022-02-04 08:42:39.000000000,2022-02-10 06:43:52.000000000,2022-02-10 06:43:52.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-04 08:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/725aeb64a2b3d1955422177d97b525fb2481c13f', 'message': ""Add openstack.cloud.baremetal_port module\n\nCreate, Update, Remove ironic ports from OpenStack.\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046\n""}, {'number': 2, 'created': '2022-02-04 08:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a7abac6ee3c2cb76f93c55ee31f9f0ecc6899a68', 'message': ""Add openstack.cloud.baremetal_port module\n\nCreate, Update, Remove ironic ports from OpenStack.\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046\n""}, {'number': 3, 'created': '2022-02-04 09:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/74d7ae74cdd12f42b5a48f034daf9864781b7267', 'message': ""Add openstack.cloud.baremetal_port module\n\nCreate, Update, Remove ironic ports from OpenStack.\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046\n""}, {'number': 4, 'created': '2022-02-04 09:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c1015b2f3f260a400f828824460dbc4cebce9e25', 'message': ""Add openstack.cloud.baremetal_port module\n\nCreate, Update, Remove ironic ports from OpenStack.\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046\n""}, {'number': 5, 'created': '2022-02-09 13:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0afc4edff180344b678004304b9a7680a5584a95', 'message': ""Add openstack.cloud.baremetal_port module\n\nCreate, Update, Remove ironic ports from OpenStack.\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046\n""}, {'number': 6, 'created': '2022-02-09 13:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7582ce6304b9569c03c23e59773a44ce795d4d8a', 'message': ""Add openstack.cloud.baremetal_port module\n\nCreate, Update, Remove ironic ports from OpenStack.\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046\n""}, {'number': 7, 'created': '2022-02-09 13:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/86952f347fbbd3bddb0c5a7acab22a3a6a5a01e0', 'message': ""Add openstack.cloud.baremetal_port module\n\nCreate, Update, Remove ironic ports from OpenStack.\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046\n""}, {'number': 8, 'created': '2022-02-09 22:41:34.000000000', 'files': ['plugins/modules/baremetal_port.py', 'meta/runtime.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0a7889b9a2fa3ed16daa1a495dc556991dde60e3', 'message': ""Add openstack.cloud.baremetal_port module\n\nCreate, Update, Remove ironic ports from OpenStack.\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046\n""}]",24,827816,0a7889b9a2fa3ed16daa1a495dc556991dde60e3,29,4,8,24245,,,0,"Add openstack.cloud.baremetal_port module

Create, Update, Remove ironic ports from OpenStack.

NOTE: Does not support 'is_smart_nic', afict this is
      not implemented in openstacksdk.

Change-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/16/827816/8 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/baremetal_port.py', 'meta/runtime.yml']",2,725aeb64a2b3d1955422177d97b525fb2481c13f,baremetal_port, - baremetal_port,,358,0
openstack%2Fswift~stable%2Fxena~Idb3efa94288fd2b7480057cb16f2f0b9c2911e25,openstack/swift,stable/xena,Idb3efa94288fd2b7480057cb16f2f0b9c2911e25,Fix arm64 jobs on stable/xena,MERGED,2022-02-09 16:38:20.000000000,2022-02-10 06:28:01.000000000,2022-02-10 06:23:01.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 16:38:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/71b491b057f23ac9dc1bb280780a4a1c5cf64cb9', 'message': 'Fix arm64 jobs on stable/xena\n\nThis is a combination of 2 commits:\n\n=====================\n\nMake arm jobs voting (but not the pipeline)\n\nMake the non-voting pipeline indicate failure when any of the jobs\nfail.\n\nPreviously zuul would report ""Build succeeded (ARM64 pipeline).""\neven when individual job(s) had failed. Now zuul will report\n""Build failed (ARM64 pipeline)."" but the pipeline still does\nvote on the patchset.\n\nRelated-Change: I84f59256df3aa41338df9829a565ae830ee8e847\n(cherry picked from commit 346f518d6cd10b62c411fa2b5fb480b81905568a)\n\n====================\n\nMove CI from CentOS 8 to CentOS 8 Stream\n\nSee also: http://lists.opendev.org/pipermail/service-announce/2021-December/000029.html\n\nRelated-Change: Id34eea3f20621c2b25cc7753b1323d4ffb88f11b\n(cherry picked from commit 546c9629ebf1831f7dca55ccd3f7b0e424a788b8)\n\n====================\n\nChange-Id: Idb3efa94288fd2b7480057cb16f2f0b9c2911e25\n'}]",1,828588,71b491b057f23ac9dc1bb280780a4a1c5cf64cb9,11,2,1,15343,,,0,"Fix arm64 jobs on stable/xena

This is a combination of 2 commits:

=====================

Make arm jobs voting (but not the pipeline)

Make the non-voting pipeline indicate failure when any of the jobs
fail.

Previously zuul would report ""Build succeeded (ARM64 pipeline).""
even when individual job(s) had failed. Now zuul will report
""Build failed (ARM64 pipeline)."" but the pipeline still does
vote on the patchset.

Related-Change: I84f59256df3aa41338df9829a565ae830ee8e847
(cherry picked from commit 346f518d6cd10b62c411fa2b5fb480b81905568a)

====================

Move CI from CentOS 8 to CentOS 8 Stream

See also: http://lists.opendev.org/pipermail/service-announce/2021-December/000029.html

Related-Change: Id34eea3f20621c2b25cc7753b1323d4ffb88f11b
(cherry picked from commit 546c9629ebf1831f7dca55ccd3f7b0e424a788b8)

====================

Change-Id: Idb3efa94288fd2b7480057cb16f2f0b9c2911e25
",git fetch https://review.opendev.org/openstack/swift refs/changes/88/828588/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,71b491b057f23ac9dc1bb280780a4a1c5cf64cb9,, name: swift-tox-py36-centos-8-stream nodeset: centos-8-stream name: swift-tox-func-py36-centos-8-stream nodeset: centos-8-stream name: swift-tox-func-encryption-py36-centos-8-stream parent: swift-tox-func-py36-centos-8-stream name: swift-tox-func-ec-py36-centos-8-stream parent: swift-tox-func-py36-centos-8-stream name: swift-probetests-centos-8-stream nodeset: centos-8-stream name: swift-probetests-centos-8-stream-arm64 parent: swift-probetests-centos-8-stream nodeset: nodes: - name: swift-centos-8-stream-arm64 label: centos-8-stream-arm64 - swift-tox-py38-arm64 - swift-tox-py39-arm64 - swift-probetests-centos-8-stream-arm64 - swift-tox-func-encryption-py38-arm64 - swift-tox-func-py38-arm64 - swift-probetests-centos-8-stream: - swift-probetests-centos-8-stream: - swift-tox-py36-centos-8-stream - swift-tox-func-py36-centos-8-stream - swift-tox-func-encryption-py36-centos-8-stream - swift-tox-func-ec-py36-centos-8-stream, name: swift-tox-py36-centos-8 nodeset: centos-8 name: swift-tox-func-py36-centos-8 nodeset: centos-8 name: swift-tox-func-encryption-py36-centos-8 parent: swift-tox-func-py36-centos-8 name: swift-tox-func-ec-py36-centos-8 parent: swift-tox-func-py36-centos-8 name: swift-probetests-centos-8 nodeset: centos-8 name: swift-probetests-centos-8-arm64 parent: swift-probetests-centos-8 nodeset: centos-8-arm64 - swift-tox-py38-arm64: voting: false - swift-tox-py39-arm64: voting: false - swift-probetests-centos-8-arm64: voting: false - swift-tox-func-encryption-py38-arm64: voting: false - swift-tox-func-py38-arm64: voting: false - swift-probetests-centos-8: - swift-probetests-centos-8: - swift-tox-py36-centos-8 - swift-tox-func-py36-centos-8 - swift-tox-func-encryption-py36-centos-8 - swift-tox-func-ec-py36-centos-8,27,29
openstack%2Fironic~master~I5fa4b9f876be9e4f0276f123d5355cb2299517ec,openstack/ironic,master,I5fa4b9f876be9e4f0276f123d5355cb2299517ec,[trivial] Fix typo in policy error message,MERGED,2022-02-09 17:22:37.000000000,2022-02-10 06:15:59.000000000,2022-02-09 22:28:29.000000000,"[{'_account_id': 6618}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 17:22:37.000000000', 'files': ['ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/34a582a0130c7a0eb1498638776351ee12e3eb1c', 'message': '[trivial] Fix typo in policy error message\n\nChange-Id: I5fa4b9f876be9e4f0276f123d5355cb2299517ec\n'}]",1,828593,34a582a0130c7a0eb1498638776351ee12e3eb1c,12,3,1,11292,,,0,"[trivial] Fix typo in policy error message

Change-Id: I5fa4b9f876be9e4f0276f123d5355cb2299517ec
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/828593/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,34a582a0130c7a0eb1498638776351ee12e3eb1c,policy_typo," LOG.error('Rejecting authorization: %(error)s',"," LOG.error('Rejecting authorzation: %(error)s',",1,1
openstack%2Fdiskimage-builder~master~I7d1b9f14ab83c3a8b488041b15e863e2c6d4c20c,openstack/diskimage-builder,master,I7d1b9f14ab83c3a8b488041b15e863e2c6d4c20c,[wip] fix f35 bootloader setup,ABANDONED,2021-11-22 04:24:29.000000000,2022-02-10 06:14:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-22 04:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bc47bd580643e6e73c2b68730f4e5c4ab44cf68d', 'message': '[wip] fix f35 bootloader setup\n\nChange-Id: I7d1b9f14ab83c3a8b488041b15e863e2c6d4c20c\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/818705\n'}, {'number': 2, 'created': '2021-11-22 04:41:53.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/57eb46084101853e5dbbfc9581a0136fea4ed1bf', 'message': '[wip] fix f35 bootloader setup\n\nChange-Id: I7d1b9f14ab83c3a8b488041b15e863e2c6d4c20c\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/818705\n'}]",1,818708,57eb46084101853e5dbbfc9581a0136fea4ed1bf,8,1,2,7118,,,0,"[wip] fix f35 bootloader setup

Change-Id: I7d1b9f14ab83c3a8b488041b15e863e2c6d4c20c
Depends-On: https://review.opendev.org/c/zuul/nodepool/+/818705
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/08/818708/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,bc47bd580643e6e73c2b68730f4e5c4ab44cf68d,f35-root-partition, # templates: # - openstack-cover-jobs # - check-requirements # - openstack-lower-constraints-jobs # - release-notes-jobs # # NOTE(ianw): 2020-05-29 jobs are unstable; see # # https://bugs.launchpad.net/tripleo/+bug/1879766 # - tripleo-buildimage-jobs-centos-8 # - openstack-python3-wallaby-jobs # - openstack-tox-pylint # - dib-functests # - opendev-buildset-registry # - nodepool-build-image-siblings # - dib-nodepool-functional-openstack-centos-7-src # - dib-nodepool-functional-openstack-centos-8-src # - dib-nodepool-functional-openstack-centos-8-stream-src # - dib-nodepool-functional-openstack-centos-9-stream-src # - dib-nodepool-functional-openstack-ubuntu-xenial-src # - dib-nodepool-functional-openstack-ubuntu-bionic-src # - dib-nodepool-functional-openstack-ubuntu-focal-src # # NOTE(ianw): 2020-04-22 these have been out of the gate for a # # while; promote to voting after some stability. # - dib-nodepool-functional-openstack-opensuse-15-src: # voting: false # - dib-nodepool-functional-openstack-opensuse-tumbleweed-src: # voting: false # - dib-nodepool-functional-openstack-gentoo-src: # voting: false # - dib-nodepool-functional-openstack-debian-bullseye-src: # voting: false # - ironic-python-agent-check-image-dib-centos8 # # IPA job that builds AND validates an image via deployment # - ipa-tempest-bios-ipmi-direct-src: # voting: false # check-arm64: # jobs: # - dib-functests-arm64, templates: - openstack-cover-jobs - check-requirements - openstack-lower-constraints-jobs - release-notes-jobs # NOTE(ianw): 2020-05-29 jobs are unstable; see # https://bugs.launchpad.net/tripleo/+bug/1879766 - tripleo-buildimage-jobs-centos-8 - openstack-python3-wallaby-jobs - openstack-tox-pylint - dib-functests - opendev-buildset-registry - nodepool-build-image-siblings - dib-nodepool-functional-openstack-centos-7-src - dib-nodepool-functional-openstack-centos-8-src - dib-nodepool-functional-openstack-centos-8-stream-src - dib-nodepool-functional-openstack-centos-9-stream-src - dib-nodepool-functional-openstack-ubuntu-xenial-src - dib-nodepool-functional-openstack-ubuntu-bionic-src - dib-nodepool-functional-openstack-ubuntu-focal-src # NOTE(ianw): 2020-04-22 these have been out of the gate for a # while; promote to voting after some stability. - dib-nodepool-functional-openstack-opensuse-15-src: voting: false - dib-nodepool-functional-openstack-opensuse-tumbleweed-src: voting: false - dib-nodepool-functional-openstack-gentoo-src: voting: false - dib-nodepool-functional-openstack-debian-bullseye-src: voting: false - ironic-python-agent-check-image-dib-centos8 # IPA job that builds AND validates an image via deployment - ipa-tempest-bios-ipmi-direct-src: voting: false check-arm64: jobs: - dib-functests-arm64,37,37
openstack%2Fproject-config~master~Idfc714e5ea1e3e40158e1960d47b9a09aa056c25,openstack/project-config,master,Idfc714e5ea1e3e40158e1960d47b9a09aa056c25,Remove Debian stretch image builds,ABANDONED,2021-07-28 04:49:08.000000000,2022-02-10 05:42:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-28 04:49:08.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nb03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/62fb905b4a0d576e87ec19e7d3f83f7ba9aa23a9', 'message': 'Remove Debian stretch image builds\n\nFollow-on to Ic20cfc059d28c10befdf895e49a4c44a6061e1b8\n\nChange-Id: Idfc714e5ea1e3e40158e1960d47b9a09aa056c25\n'}]",0,802655,62fb905b4a0d576e87ec19e7d3f83f7ba9aa23a9,7,1,1,7118,,,0,"Remove Debian stretch image builds

Follow-on to Ic20cfc059d28c10befdf895e49a4c44a6061e1b8

Change-Id: Idfc714e5ea1e3e40158e1960d47b9a09aa056c25
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/802655/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nb03.opendev.org.yaml']",2,62fb905b4a0d576e87ec19e7d3f83f7ba9aa23a9,debian-stretch-rm,," - name: debian-stretch-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: debian-stretch-arm64 parent: base-debuntu elements: - debian-minimal release: stretch env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/debian' ",0,29
openstack%2Fproject-config~master~Ic20cfc059d28c10befdf895e49a4c44a6061e1b8,openstack/project-config,master,Ic20cfc059d28c10befdf895e49a4c44a6061e1b8,Remove debian-stretch disk images,ABANDONED,2021-07-28 04:49:08.000000000,2022-02-10 05:41:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-28 04:49:08.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'grafana/create-nodepool-dib.sh', 'grafana/nodepool-dib.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/45678bce89727626c28636f182aeaa21c9046c71', 'message': 'Remove debian-stretch disk images\n\nNo longer used, see\n\n http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023760.html\n\nDepends-On: https://review.opendev.org/c/opendev/base-jobs/+/802639\nChange-Id: Ic20cfc059d28c10befdf895e49a4c44a6061e1b8\n'}]",0,802654,45678bce89727626c28636f182aeaa21c9046c71,7,1,1,7118,,,0,"Remove debian-stretch disk images

No longer used, see

 http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023760.html

Depends-On: https://review.opendev.org/c/opendev/base-jobs/+/802639
Change-Id: Ic20cfc059d28c10befdf895e49a4c44a6061e1b8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/802654/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'grafana/create-nodepool-dib.sh', 'grafana/nodepool-dib.yaml']",7,45678bce89727626c28636f182aeaa21c9046c71,debian-stretch-rm,,"# AUTOGENERATED : Debian Stretch - title: Debian Stretch showTitle: true height: 200px panels: - title: Build status colorBackground: true type: singlestat valueName: current valueMaps: - value: 0 text: ""OK"" - value: 1 text: ""FAILED"" thresholds: 0.1,0.9 span: 2 targets: - target: ""stats.gauges.nodepool.dib_image_build.debian-stretch.status.rc"" valueFontSize: ""50%"" - title: Last build type: singlestat span: 2 format: dateTimeFromNow targets: - target: ""stats.gauges.nodepool.dib_image_build.debian-stretch.status.last_build"" valueFontSize: ""50%"" - title: Image size type: graph span: 3 yaxes: - format: decbytes min: 0 - format: decbytes min: 0 targets: - target: aliasByNode(stats.gauges.nodepool.dib_image_build.debian-stretch.*.size, 5) refId: A - title: Build duration type: graph span: 3 yaxes: - format: ms min: 0 - format: ms min: 0 targets: - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.debian-stretch.status.duration.mean, 'None'), ""Time"") refId: A# AUTOGENERATED : Debian Stretch arm64 - title: Debian Stretch arm64 showTitle: true height: 200px panels: - title: Build status colorBackground: true type: singlestat valueName: current valueMaps: - value: 0 text: ""OK"" - value: 1 text: ""FAILED"" thresholds: 0.1,0.9 span: 2 targets: - target: ""stats.gauges.nodepool.dib_image_build.debian-stretch-arm64.status.rc"" valueFontSize: ""50%"" - title: Last build type: singlestat span: 2 format: dateTimeFromNow targets: - target: ""stats.gauges.nodepool.dib_image_build.debian-stretch-arm64.status.last_build"" valueFontSize: ""50%"" - title: Image size type: graph span: 3 yaxes: - format: decbytes min: 0 - format: decbytes min: 0 targets: - target: aliasByNode(stats.gauges.nodepool.dib_image_build.debian-stretch-arm64.*.size, 5) refId: A - title: Build duration type: graph span: 3 yaxes: - format: ms min: 0 - format: ms min: 0 targets: - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.debian-stretch-arm64.status.duration.mean, 'None'), ""Time"") refId: A",0,179
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/ussuri,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:17:31.000000000,2022-02-10 04:45:53.000000000,2022-02-10 04:43:19.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-05 04:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bb6b64c3f9a64a180baeba1edc292a51b7134d0', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nConflicts:\n  deployment/ironic/ironic-conductor-container-puppet.yaml\n\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)\n""}, {'number': 2, 'created': '2022-02-05 04:21:53.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f95211e0119d00d179490310e1b562631b72237a', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nConflicts:\n  deployment/ironic/ironic-conductor-container-puppet.yaml\n\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)\n""}]",1,827909,f95211e0119d00d179490310e1b562631b72237a,14,3,2,24245,,,0,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/827909/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml']",2,7bb6b64c3f9a64a180baeba1edc292a51b7134d0,bug/1959726-stable/wallaby-stable/victoria-stable/ussuri,"--- upgrade: - | The default UEFI iPXE bootfile is now `snponly.efi`. The boolean parameter `IronicIPXEUefiSnpOnly` was added to allow custom configuration. When set to `true` snponly is used, when `false` the previous default ipxe.efi is used. See bug: `1959726 <https://bugs.launchpad.net/tripleo/+bug/1959726>`_. ",,24,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1419c1bb901b3fb7ca038c941c230691aff2ebbd,openstack/tripleo-heat-templates,stable/wallaby,I1419c1bb901b3fb7ca038c941c230691aff2ebbd,Disable heat by default in favor of ephemeral-heat.,MERGED,2022-02-07 06:30:06.000000000,2022-02-10 04:43:25.000000000,2022-02-10 04:43:25.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-02-07 06:30:06.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/126ef5ae87da7fa26dcd268a577685b43eb7705d', 'message': ""Disable heat by default in favor of ephemeral-heat.\n\nNow that the default way to deploy heat is using the ephemeral-heat\nservice, we are not required to pass a specific environment file to\nensure the service gets disabled for the Undercloud.\n\nThis patch moves the content from disable-heat.yaml environment file\ninto the services default's for the undercloud with the intention of\nstopping passing it by default when enable_heat is not passed.\n\nChange-Id: I1419c1bb901b3fb7ca038c941c230691aff2ebbd\n(cherry picked from commit ec33ab40488efacaf98e31852b280947ee73bff8)\n""}]",4,827955,126ef5ae87da7fa26dcd268a577685b43eb7705d,15,9,1,26343,,,0,"Disable heat by default in favor of ephemeral-heat.

Now that the default way to deploy heat is using the ephemeral-heat
service, we are not required to pass a specific environment file to
ensure the service gets disabled for the Undercloud.

This patch moves the content from disable-heat.yaml environment file
into the services default's for the undercloud with the intention of
stopping passing it by default when enable_heat is not passed.

Change-Id: I1419c1bb901b3fb7ca038c941c230691aff2ebbd
(cherry picked from commit ec33ab40488efacaf98e31852b280947ee73bff8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/827955/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,126ef5ae87da7fa26dcd268a577685b43eb7705d,, # Disable traditional heat services now that ephemeral heat # is deployed by default OS::TripleO::Services::HeatApi: OS::Heat::None OS::TripleO::Services::HeatApiCloudwatch: OS::Heat::None OS::TripleO::Services::HeatEngine: OS::Heat::None,,5,0
openstack%2Fpuppet-cinder~master~I7fa79a9a610c796b329f80b6f7e471bdbfe72c3e,openstack/puppet-cinder,master,I7fa79a9a610c796b329f80b6f7e471bdbfe72c3e,Remove deprecated amqp_allow_insecure_clients,MERGED,2022-02-08 12:58:41.000000000,2022-02-10 03:33:36.000000000,2022-02-10 03:30:44.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 12:58:41.000000000', 'files': ['releasenotes/notes/remove-amqp_allow_insecure_clients-ae101375aaa7161f.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/dc226366a6f921204461cee48a5a93533178268d', 'message': 'Remove deprecated amqp_allow_insecure_clients\n\n... because it was deprecated during Wallaby cycle.\n\nChange-Id: I7fa79a9a610c796b329f80b6f7e471bdbfe72c3e\n'}]",3,828301,dc226366a6f921204461cee48a5a93533178268d,14,3,1,9816,,,0,"Remove deprecated amqp_allow_insecure_clients

... because it was deprecated during Wallaby cycle.

Change-Id: I7fa79a9a610c796b329f80b6f7e471bdbfe72c3e
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/01/828301/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-amqp_allow_insecure_clients-ae101375aaa7161f.yaml', 'manifests/init.pp']",2,dc226366a6f921204461cee48a5a93533178268d,amqp_allow_insecure_clients,,"# [*amqp_allow_insecure_clients*] # (Optional) Accept clients using either SSL or plain TCP # Defaults to undef. # $amqp_allow_insecure_clients = undef, if $amqp_allow_insecure_clients != undef { warning('The amqp_allow_insecure_clients parameter is deprecated and \ will be removed in a future release.') } ",4,10
openstack%2Fswift~master~I4e1db60c7bd1e1888d641e9a4c9f40b0bd20f03d,openstack/swift,master,I4e1db60c7bd1e1888d641e9a4c9f40b0bd20f03d,CI: fix lower-constraints job,MERGED,2022-02-09 19:03:51.000000000,2022-02-10 03:13:04.000000000,2022-02-10 02:27:47.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 19:03:51.000000000', 'files': ['py2-constraints.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/086aa5c4f3aa74648d090af297c411b54ea7bf3a', 'message': ""CI: fix lower-constraints job\n\nNewer pathlib2 doesn't work with our ancient six.\n\nChange-Id: I4e1db60c7bd1e1888d641e9a4c9f40b0bd20f03d\n""}]",3,828604,086aa5c4f3aa74648d090af297c411b54ea7bf3a,11,2,1,15343,,,0,"CI: fix lower-constraints job

Newer pathlib2 doesn't work with our ancient six.

Change-Id: I4e1db60c7bd1e1888d641e9a4c9f40b0bd20f03d
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/828604/1 && git format-patch -1 --stdout FETCH_HEAD,['py2-constraints.txt'],1,086aa5c4f3aa74648d090af297c411b54ea7bf3a,,pathlib2==2.3.6,,1,0
openstack%2Fneutron~master~I23ec8e6234af6c87214862113b6bdb4c5dba6d23,openstack/neutron,master,I23ec8e6234af6c87214862113b6bdb4c5dba6d23,DNM: testing delete-admin-networks tempest patch,ABANDONED,2020-04-27 15:45:59.000000000,2022-02-10 01:26:11.000000000,,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-27 15:45:59.000000000', 'files': ['neutron/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb71c546fb59e57519e5b3051b401b4e6e040c8d', 'message': 'DNM: testing delete-admin-networks tempest patch\n\nDepends-on: https://review.opendev.org/723587\nChange-Id: I23ec8e6234af6c87214862113b6bdb4c5dba6d23\n'}]",0,723589,eb71c546fb59e57519e5b3051b401b4e6e040c8d,40,6,1,1131,,,0,"DNM: testing delete-admin-networks tempest patch

Depends-on: https://review.opendev.org/723587
Change-Id: I23ec8e6234af6c87214862113b6bdb4c5dba6d23
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/723589/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/manager.py'],1,eb71c546fb59e57519e5b3051b401b4e6e040c8d,dnm-testing-delete-admin-networks,# haleyb was here,,1,0
openstack%2Ftripleo-ansible~master~Ifcbde65af99039a261bc34a813bddfb29f63c1e1,openstack/tripleo-ansible,master,Ifcbde65af99039a261bc34a813bddfb29f63c1e1,tuned - check packages before install,MERGED,2022-02-02 22:27:23.000000000,2022-02-10 01:16:49.000000000,2022-02-10 01:14:12.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-02 22:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4444f6d83db9dba7c221adf282fa76f45abed2e', 'message': 'tuned - check packages before install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to check that the packages required are\ninstalled using `rpm --query --whatprovides <PGK_LIST>`. Pacage\ninstallation task is skipped if package already installed.\n\nRelated: RHBZ#2048134\nRelated-Bug: #1959731\nChange-Id: Ifcbde65af99039a261bc34a813bddfb29f63c1e1\n'}, {'number': 2, 'created': '2022-02-03 14:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c61b8154f135a6cde0b9e54158bd5bf9d275e28e', 'message': 'tuned - check packages before install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to check that the packages required are\ninstalled using `rpm --query --whatprovides <PGK_LIST>`. Pacage\ninstallation task is skipped if package already installed.\n\nRelated: RHBZ#2048134\nRelated-Bug: #1959731\nChange-Id: Ifcbde65af99039a261bc34a813bddfb29f63c1e1\n'}, {'number': 3, 'created': '2022-02-03 16:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe195ef7c88c36fafc196cdb7275d4fd237379d7', 'message': 'tuned - check packages before install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to check that the packages required are\ninstalled using `rpm --query --whatprovides <PGK_LIST>`. Pacage\ninstallation task is skipped if package already installed.\n\nRelated: RHBZ#2048134\nRelated-Bug: #1959731\nChange-Id: Ifcbde65af99039a261bc34a813bddfb29f63c1e1\n'}, {'number': 4, 'created': '2022-02-04 23:40:38.000000000', 'files': ['releasenotes/notes/check-installed-packages-before-invoking-package-module-ede8b9c3e4944a0b.yaml', 'tripleo_ansible/roles/tuned/tasks/tuned_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5c09c0ee0292be370455b79e4bd4991b513b8017', 'message': 'tuned - check packages before install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to check that the packages required are\ninstalled using `rpm --query --whatprovides <PGK_LIST>`. Pacage\ninstallation task is skipped if package already installed.\n\nRelated: RHBZ#2048134\nRelated-Bug: #1959731\nChange-Id: Ifcbde65af99039a261bc34a813bddfb29f63c1e1\n'}]",6,827567,5c09c0ee0292be370455b79e4bd4991b513b8017,26,6,4,24245,,,0,"tuned - check packages before install

When repository files are present, but the ctlplane is not on a
routed network. (I.e the node cannot connect to repositories.)
The ansible built in `package` will fail despite the fact that
the packages is already installed.

This change adds a task to check that the packages required are
installed using `rpm --query --whatprovides <PGK_LIST>`. Pacage
installation task is skipped if package already installed.

Related: RHBZ#2048134
Related-Bug: #1959731
Change-Id: Ifcbde65af99039a261bc34a813bddfb29f63c1e1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/67/827567/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/check-installed-packages-before-invoking-package-module-ede8b9c3e4944a0b.yaml', 'tripleo_ansible/roles/tuned/tasks/tuned_install.yml']",2,a4444f6d83db9dba7c221adf282fa76f45abed2e,bug/1959731,"- name: Check tuned package is installed command: ""rpm -q --whatprovides {{ tuned_system_packages }}"" register: rpm_query_result failed_when: - rpm_query_result.rc > 0 - not '""no package provides"" in rpm_query_result.stdout' when: - rpm_query_result.rc != 0",,14,6
openstack%2Ftripleo-ansible~master~Ie448e8f795325cc3ae357fae32f3a47406101f25,openstack/tripleo-ansible,master,Ie448e8f795325cc3ae357fae32f3a47406101f25,tripleo-bootstrap - check packeges fact befor install,MERGED,2022-02-02 02:06:58.000000000,2022-02-10 01:15:42.000000000,2022-02-10 01:14:08.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-02 02:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f683390519d4c43178563f0e8b87b0526feb9ab', 'message': 'tripleo-bootstrap - check packeges fact befor install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to gather package facts using built in\n`package_facts`. Packages in tripleo_bootstrap_*_package(s) vars\nare diffed against the package_facts, and the task to ensure the\npackage is installed with package: {state: present} is conditioned\non wheater or not the package is already installed.\n\nRelated: RHBZ#2048134\nCloses-Bug: #1959731\nChange-Id: Ie448e8f795325cc3ae357fae32f3a47406101f25\n'}, {'number': 2, 'created': '2022-02-02 20:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/023551d125174ddc516b65f5d9dc0e714d8daef5', 'message': ""tripleo-bootstrap - check packeges fact befor install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to gather installed packages by running\n`rpm --query --all`. `rpm --query --whatprovides openvswitch` is\nalso used to find out if a wrapper rpm for OVS with custom\nversioning scheme is installed. If a wrapper is installed\n'openvswitch' is appended to the list of installed packages.\n\nPackages in tripleo_bootstrap_*_package(s) vars\nare diffed against the installed packages, and the task to ensure\npackages are installed with package: {state: present} is conditioned\non wheater or not the package is already installed.\n\nRelated: RHBZ#2048134\nCloses-Bug: #1959731\nChange-Id: Ie448e8f795325cc3ae357fae32f3a47406101f25\n""}, {'number': 3, 'created': '2022-02-02 22:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68c6db9c292bb0194ebb6a4956db85d98bd41210', 'message': ""tripleo-bootstrap - check packeges fact befor install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to check that the packages required are\nisntalled using `rpm --query --whatprovides <PGK_LIST>`.\n`--whatprovides` is used to find out if a wrapper rpm for OVS with\ncustom versioning scheme is installed. If a wrapper is installed\n'openvswitch' is appended to the list of installed packages.\n\nRelated: RHBZ#2048134\nCloses-Bug: #1959731\nChange-Id: Ie448e8f795325cc3ae357fae32f3a47406101f25\n""}, {'number': 4, 'created': '2022-02-03 14:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/30b845d1aa1e29be23530b398cea3142ca6114f5', 'message': ""tripleo-bootstrap - check packeges fact befor install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to check that the packages required are\nisntalled using `rpm --query --whatprovides <PGK_LIST>`.\n`--whatprovides` is used to find out if a wrapper rpm for OVS with\ncustom versioning scheme is installed. If a wrapper is installed\n'openvswitch' is appended to the list of installed packages.\n\nRelated: RHBZ#2048134\nCloses-Bug: #1959731\nChange-Id: Ie448e8f795325cc3ae357fae32f3a47406101f25\n""}, {'number': 5, 'created': '2022-02-03 16:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0f294e9b4aa6f2489694fd1a2a1091ec8a136e6', 'message': ""tripleo-bootstrap - check packeges fact befor install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to check that the packages required are\nisntalled using `rpm --query --whatprovides <PGK_LIST>`.\n`--whatprovides` is used to find out if a wrapper rpm for OVS with\ncustom versioning scheme is installed. If a wrapper is installed\n'openvswitch' is appended to the list of installed packages.\n\nRelated: RHBZ#2048134\nCloses-Bug: #1959731\nChange-Id: Ie448e8f795325cc3ae357fae32f3a47406101f25\n""}, {'number': 6, 'created': '2022-02-04 23:40:38.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'releasenotes/notes/check-installed-packages-before-invoking-package-module-ede8b9c3e4944a0b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37fac649388e0bf39326bdaaefa5a104b6ef264c', 'message': ""tripleo-bootstrap - check packeges fact befor install\n\nWhen repository files are present, but the ctlplane is not on a\nrouted network. (I.e the node cannot connect to repositories.)\nThe ansible built in `package` will fail despite the fact that\nthe packages is already installed.\n\nThis change adds a task to check that the packages required are\nisntalled using `rpm --query --whatprovides <PGK_LIST>`.\n`--whatprovides` is used to find out if a wrapper rpm for OVS with\ncustom versioning scheme is installed. If a wrapper is installed\n'openvswitch' is appended to the list of installed packages.\n\nRelated: RHBZ#2048134\nCloses-Bug: #1959731\nChange-Id: Ie448e8f795325cc3ae357fae32f3a47406101f25\n""}]",40,827383,37fac649388e0bf39326bdaaefa5a104b6ef264c,69,7,6,24245,,,0,"tripleo-bootstrap - check packeges fact befor install

When repository files are present, but the ctlplane is not on a
routed network. (I.e the node cannot connect to repositories.)
The ansible built in `package` will fail despite the fact that
the packages is already installed.

This change adds a task to check that the packages required are
isntalled using `rpm --query --whatprovides <PGK_LIST>`.
`--whatprovides` is used to find out if a wrapper rpm for OVS with
custom versioning scheme is installed. If a wrapper is installed
'openvswitch' is appended to the list of installed packages.

Related: RHBZ#2048134
Closes-Bug: #1959731
Change-Id: Ie448e8f795325cc3ae357fae32f3a47406101f25
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/827383/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/check-packages-fact-before-invoking-package-module-ede8b9c3e4944a0b.yaml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml']",2,0f683390519d4c43178563f0e8b87b0526feb9ab,bug/1959731,- name: Gather the package facts package_facts: manager: auto - (tripleo_bootstrap_release_version_package | difference(ansible_facts.packages.keys()) | length) > 0 when: - (tripleo_bootstrap_packages_bootstrap | difference(ansible_facts.packages.keys()) | length) > 0 when: - (tripleo_bootstrap_legacy_network_packages | difference(ansible_facts.packages.keys()) | length) > 0,,22,0
openstack%2Fcharm-rabbitmq-server~master~Ia92c8d8544534ffcab9a7fd31ba6f35a3bf076ca,openstack/charm-rabbitmq-server,master,Ia92c8d8544534ffcab9a7fd31ba6f35a3bf076ca,Charmhelper sync pulling coordinator,MERGED,2022-01-07 13:47:41.000000000,2022-02-10 01:15:17.000000000,2022-02-10 01:15:17.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 13:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/c1ddb26674e28cd61cf4a00a148477a8f404afc2', 'message': 'Charmhelper sync pulling coordinator\n\nChange-Id: Ia92c8d8544534ffcab9a7fd31ba6f35a3bf076ca\n'}, {'number': 2, 'created': '2022-02-07 09:42:42.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/contrib/openstack/keystone.py', 'charm-helpers-hooks.yaml', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/coordinator.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/c63cd1b99f32c508219419bdc623fcdbe9c6af35', 'message': 'Charmhelper sync pulling coordinator\n\nChange-Id: Ia92c8d8544534ffcab9a7fd31ba6f35a3bf076ca\n'}]",2,823799,c63cd1b99f32c508219419bdc623fcdbe9c6af35,14,3,2,12549,,,0,"Charmhelper sync pulling coordinator

Change-Id: Ia92c8d8544534ffcab9a7fd31ba6f35a3bf076ca
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/99/823799/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/contrib/openstack/keystone.py', 'charm-helpers-hooks.yaml', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/coordinator.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py']",43,c1ddb26674e28cd61cf4a00a148477a8f404afc2,bug/1902793," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",862,424
openstack%2Fpuppet-tripleo~master~I7812caf5472a711c14f8619dc4b9894fb73e9c70,openstack/puppet-tripleo,master,I7812caf5472a711c14f8619dc4b9894fb73e9c70,Remove unused puppet-keepalived,MERGED,2022-02-05 14:53:34.000000000,2022-02-10 01:14:14.000000000,2022-02-10 01:14:14.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-05 14:53:34.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/aee66b92271810a64ccf5e1442ed65b42dc263cc', 'message': 'Remove unused puppet-keepalived\n\nThe puppet-keepalived module is no longer used, since we removed\nsupport for the keepalived service[1][2].\n\n[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73 (removal)\n[2] 751c6f016466b3b3c51c5bad5ce21e5e5733c592 (follow-up)\nChange-Id: I7812caf5472a711c14f8619dc4b9894fb73e9c70\n'}]",0,827975,aee66b92271810a64ccf5e1442ed65b42dc263cc,7,3,1,9816,,,0,"Remove unused puppet-keepalived

The puppet-keepalived module is no longer used, since we removed
support for the keepalived service[1][2].

[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73 (removal)
[2] 751c6f016466b3b3c51c5bad5ce21e5e5733c592 (follow-up)
Change-Id: I7812caf5472a711c14f8619dc4b9894fb73e9c70
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/827975/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,aee66b92271810a64ccf5e1442ed65b42dc263cc,,,"# see https://github.com/rdo-packages/puppet-keepalived-distgit/blob/rpm-master/puppet-keepalived.spec mod 'keepalived', :git => 'https://github.com/Unyonsys/puppet-module-keepalived', :ref => 'bbca37ade629a9178f09366fd0368187fb645f4e' ",0,5
openstack%2Fswift~stable%2Fxena~I84f59256df3aa41338df9829a565ae830ee8e847,openstack/swift,stable/xena,I84f59256df3aa41338df9829a565ae830ee8e847,Make arm jobs voting (but not the pipeline),ABANDONED,2022-02-09 16:21:02.000000000,2022-02-10 00:49:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-09 16:21:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/59e9d1759f15821791e78300605f45e7ac395057', 'message': 'Make arm jobs voting (but not the pipeline)\n\nMake the non-voting pipeline indicate failure when any of the jobs\nfail.\n\nPreviously zuul would report ""Build succeeded (ARM64 pipeline).""\neven when individual job(s) had failed. Now zuul will report\n""Build failed (ARM64 pipeline)."" but the pipeline still does\nvote on the patchset.\n\nChange-Id: I84f59256df3aa41338df9829a565ae830ee8e847\n'}]",2,828584,59e9d1759f15821791e78300605f45e7ac395057,4,1,1,15343,,,0,"Make arm jobs voting (but not the pipeline)

Make the non-voting pipeline indicate failure when any of the jobs
fail.

Previously zuul would report ""Build succeeded (ARM64 pipeline).""
even when individual job(s) had failed. Now zuul will report
""Build failed (ARM64 pipeline)."" but the pipeline still does
vote on the patchset.

Change-Id: I84f59256df3aa41338df9829a565ae830ee8e847
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/828584/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,59e9d1759f15821791e78300605f45e7ac395057,, - swift-tox-py38-arm64 - swift-tox-py39-arm64 - swift-probetests-centos-8-arm64 - swift-tox-func-encryption-py38-arm64 - swift-tox-func-py38-arm64, - swift-tox-py38-arm64: voting: false - swift-tox-py39-arm64: voting: false - swift-probetests-centos-8-arm64: voting: false - swift-tox-func-encryption-py38-arm64: voting: false - swift-tox-func-py38-arm64: voting: false,5,10
openstack%2Fswift~stable%2Fxena~Id34eea3f20621c2b25cc7753b1323d4ffb88f11b,openstack/swift,stable/xena,Id34eea3f20621c2b25cc7753b1323d4ffb88f11b,Move CI from CentOS 8 to CentOS 8 Stream,ABANDONED,2022-02-09 16:21:02.000000000,2022-02-10 00:49:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-09 16:21:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/7897b3ca5a415bf0bf234a644385030173d21a8f', 'message': 'Move CI from CentOS 8 to CentOS 8 Stream\n\nSee also: http://lists.opendev.org/pipermail/service-announce/2021-December/000029.html\n\nChange-Id: Id34eea3f20621c2b25cc7753b1323d4ffb88f11b\n'}]",0,828585,7897b3ca5a415bf0bf234a644385030173d21a8f,4,1,1,15343,,,0,"Move CI from CentOS 8 to CentOS 8 Stream

See also: http://lists.opendev.org/pipermail/service-announce/2021-December/000029.html

Change-Id: Id34eea3f20621c2b25cc7753b1323d4ffb88f11b
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/828585/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7897b3ca5a415bf0bf234a644385030173d21a8f,, name: swift-tox-py36-centos-8-stream nodeset: centos-8-stream name: swift-tox-func-py36-centos-8-stream nodeset: centos-8-stream name: swift-tox-func-encryption-py36-centos-8-stream parent: swift-tox-func-py36-centos-8-stream name: swift-tox-func-ec-py36-centos-8-stream parent: swift-tox-func-py36-centos-8-stream name: swift-probetests-centos-8-stream nodeset: centos-8-stream name: swift-probetests-centos-8-stream-arm64 parent: swift-probetests-centos-8-stream nodeset: nodes: - name: swift-centos-8-stream-arm64 label: centos-8-stream-arm64 - swift-probetests-centos-8-stream-arm64 - swift-probetests-centos-8-stream: - swift-probetests-centos-8-stream: - swift-tox-py36-centos-8-stream - swift-tox-func-py36-centos-8-stream - swift-tox-func-encryption-py36-centos-8-stream - swift-tox-func-ec-py36-centos-8-stream, name: swift-tox-py36-centos-8 nodeset: centos-8 name: swift-tox-func-py36-centos-8 nodeset: centos-8 name: swift-tox-func-encryption-py36-centos-8 parent: swift-tox-func-py36-centos-8 name: swift-tox-func-ec-py36-centos-8 parent: swift-tox-func-py36-centos-8 name: swift-probetests-centos-8 nodeset: centos-8 name: swift-probetests-centos-8-arm64 parent: swift-probetests-centos-8 nodeset: centos-8-arm64 - swift-probetests-centos-8-arm64 - swift-probetests-centos-8: - swift-probetests-centos-8: - swift-tox-py36-centos-8 - swift-tox-func-py36-centos-8 - swift-tox-func-encryption-py36-centos-8 - swift-tox-func-ec-py36-centos-8,23,20
openstack%2Fskyline-apiserver~master~I150064a8a0175b073c2cb31303a812763cb02f78,openstack/skyline-apiserver,master,I150064a8a0175b073c2cb31303a812763cb02f78,fix: update skyline nginx log file address,MERGED,2022-02-09 08:46:29.000000000,2022-02-10 00:47:06.000000000,2022-02-10 00:47:06.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 08:46:29.000000000', 'files': ['.gitreview', 'libs/skyline-nginx/skyline_nginx/templates/nginx.conf.j2'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/14433d9774e51b576c1ce4f5e472ad90c93f1394', 'message': 'fix: update skyline nginx log file address\n\nUpdate skyline nginx log file address\n\nChange-Id: I150064a8a0175b073c2cb31303a812763cb02f78\n'}]",1,828485,14433d9774e51b576c1ce4f5e472ad90c93f1394,7,2,1,33196,,,0,"fix: update skyline nginx log file address

Update skyline nginx log file address

Change-Id: I150064a8a0175b073c2cb31303a812763cb02f78
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/85/828485/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'libs/skyline-nginx/skyline_nginx/templates/nginx.conf.j2']",2,14433d9774e51b576c1ce4f5e472ad90c93f1394,, access_log /var/log/kolla/skyline/nginx_access.log main; error_log /var/log/kolla/skyline/nginx_error.log;, access_log /var/log/skyline/nginx_access.log main; error_log /var/log/skyline/nginx_error.log;,3,3
openstack%2Fneutron~stable%2Fwallaby~Ib392b46308aaf76386a747870c5600790a268d51,openstack/neutron,stable/wallaby,Ib392b46308aaf76386a747870c5600790a268d51,[OVN] Fix overlapping security group objects not correctly applied,MERGED,2022-01-30 20:27:41.000000000,2022-02-10 00:47:06.000000000,2022-02-10 00:45:09.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-30 20:27:41.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/feacbf58dda81580d0d1a6a9c7486ce33645d8fe', 'message': '[OVN] Fix overlapping security group objects not correctly applied\n\nIf a security group object modified an Access Control List in OVN, it\ncould not be modified by another object. This change prevents the driver\nfrom associating more ACLs than needed if the network log object created\nis to log the dropped traffic. Functional tests consider the existence\nof events now.\n\nCloses-Bug: #1956763\nChange-Id: Ib392b46308aaf76386a747870c5600790a268d51\n(cherry picked from commit 522837a97f20d1d9325f7d0719811e263d3fd1c3)\n'}]",13,826848,feacbf58dda81580d0d1a6a9c7486ce33645d8fe,68,4,1,32586,,,0,"[OVN] Fix overlapping security group objects not correctly applied

If a security group object modified an Access Control List in OVN, it
could not be modified by another object. This change prevents the driver
from associating more ACLs than needed if the network log object created
is to log the dropped traffic. Functional tests consider the existence
of events now.

Closes-Bug: #1956763
Change-Id: Ib392b46308aaf76386a747870c5600790a268d51
(cherry picked from commit 522837a97f20d1d9325f7d0719811e263d3fd1c3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/826848/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py']",2,feacbf58dda81580d0d1a6a9c7486ce33645d8fe,overlapping-secgroup-logging-stable/wallaby," 'enabled': enabled, 'event': log_const.ALL_EVENT} def _check_acl_log_drop(self, is_enabled=True): acls = self.nb_api.get_port_group( ovn_const.OVN_DROP_PORT_GROUP_NAME).acls self.assertTrue(acls) for acl in acls: self.assertEqual(is_enabled, acl.log) return acls def _add_logs_then_remove(self, event1, event2, sg=None, sgrs=None): # Events were previously not correctly applied on ACLs. This test # ensures that each event log only the necessary acls drop_true_events = (log_const.DROP_EVENT, log_const.ALL_EVENT) accept_true_events = (log_const.ALL_EVENT, log_const.ACCEPT_EVENT) # Check there are no acls with their logging active self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) # Add first log object log_data1 = self._log_data(sg_id=sg) log_data1['log']['event'] = event1 log_obj1 = self.log_plugin.create_log(self.ctxt, log_data1) self._check_acl_log_drop(is_enabled=event1 in drop_true_events) self._check_sgrs(sgrs=sgrs, is_enabled=event1 in accept_true_events) # Add second log object log_data2 = self._log_data(sg_id=sg) log_data2['log']['event'] = event2 log_obj2 = self.log_plugin.create_log(self.ctxt, log_data2) self._check_acl_log_drop(is_enabled=(event1 in drop_true_events or event2 in drop_true_events)) self._check_sgrs(sgrs=sgrs, is_enabled=(event1 in accept_true_events or event2 in accept_true_events)) # Delete second log object self.log_plugin.delete_log(self.ctxt, log_obj2['id']) self._check_acl_log_drop(is_enabled=event1 in drop_true_events) self._check_sgrs(sgrs=sgrs, is_enabled=event1 in accept_true_events) # Delete first log object self.log_plugin.delete_log(self.ctxt, log_obj1['id']) self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) def test_events_all_sg(self): self._add_logs_then_remove(log_const.DROP_EVENT, log_const.ALL_EVENT) self._add_logs_then_remove( log_const.ACCEPT_EVENT, log_const.DROP_EVENT) self._add_logs_then_remove( log_const.DROP_EVENT, log_const.ACCEPT_EVENT) def test_events_one_sg(self): self._add_logs_then_remove(log_const.DROP_EVENT, log_const.ALL_EVENT, sg=self.sg1, sgrs=self.sg1rs) self._add_logs_then_remove( log_const.ACCEPT_EVENT, log_const.DROP_EVENT, sg=self.sg2, sgrs=self.sg2rs) self._add_logs_then_remove( log_const.DROP_EVENT, log_const.ACCEPT_EVENT, sg=self.sg3, sgrs=self.sg3rs)", 'enabled': enabled},81,4
openstack%2Fpython-tripleoclient~master~I56cf4f51cea9db3611a321980ec4d728312848b5,openstack/python-tripleoclient,master,I56cf4f51cea9db3611a321980ec4d728312848b5,Undercloud: Remove redundant environment file,MERGED,2022-02-02 15:33:54.000000000,2022-02-10 00:30:23.000000000,2022-02-10 00:28:33.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-02 15:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac7ea695d99f55a4a1feb19f62209c30842e7e96', 'message': ""Undercloud: Remove redundant environment file\n\nThe UndercloudRemoveNovajoin service is now enabled by default in\nundercloud. We don't need to include an environment file to enable\nthe resource.\n\nDepends-on: https://review.opendev.org/827517\nChange-Id: I56cf4f51cea9db3611a321980ec4d728312848b5\n""}, {'number': 2, 'created': '2022-02-03 16:20:43.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/74b15f794b6b4fc62c1bfee243c4dd5538974363', 'message': ""Undercloud: Remove redundant environment file\n\nThe UndercloudRemoveNovajoin service is now enabled by default in\nundercloud. We don't need to include an environment file to enable\nthe resource.\n\nDepends-on: https://review.opendev.org/827517\nChange-Id: I56cf4f51cea9db3611a321980ec4d728312848b5\n""}]",4,827518,74b15f794b6b4fc62c1bfee243c4dd5538974363,23,4,2,9816,,,0,"Undercloud: Remove redundant environment file

The UndercloudRemoveNovajoin service is now enabled by default in
undercloud. We don't need to include an environment file to enable
the resource.

Depends-on: https://review.opendev.org/827517
Change-Id: I56cf4f51cea9db3611a321980ec4d728312848b5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/18/827518/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,ac7ea695d99f55a4a1feb19f62209c30842e7e96,novajoin-cleanup-default,," 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' '/usertht/environments/services/' 'undercloud-remove-novajoin.yaml', '-e', 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/'",0,29
openstack%2Fneutron~master~If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,openstack/neutron,master,If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,[OVN][QoS] Add external_ids reference to port QoS registers,MERGED,2021-12-22 16:02:40.000000000,2022-02-09 23:52:09.000000000,2022-02-05 00:36:50.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32291}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-12-22 16:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0f63dee9b51c1eb09338ae4fa52b40960c77fb5', 'message': '[OVN][QoS] Add external_ids reference to port QoS registers\n\nSame as with floating IP QoS OVN registers, port QoSes should have a\n""external_ids"" reference to the port ID this QoS is attached to.\n\nRelated-Bug: #1947334\nChange-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3\n'}, {'number': 2, 'created': '2021-12-22 17:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57c42dee4706cd04f737b30ddd0101c720abfa3c', 'message': '[OVN][QoS] Add external_ids reference to port QoS registers\n\nSame as with floating IP QoS OVN registers, port QoSes should have a\n""external_ids"" reference to the port ID this QoS is attached to.\n\nRelated-Bug: #1947334\nChange-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3\n'}, {'number': 3, 'created': '2021-12-24 10:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c9edc272d2d48ac382f0c5d02d92fea725e8d33', 'message': '[OVN][QoS] Add external_ids reference to port QoS registers\n\nSame as with floating IP QoS OVN registers, port QoSes should have a\n""external_ids"" reference to the port ID this QoS is attached to.\n\nRelated-Bug: #1947334\nChange-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3\n'}, {'number': 4, 'created': '2022-01-20 17:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9340e8f3b0e27d61a698df18852cd20ce301f3a3', 'message': '[OVN][QoS] Add external_ids reference to port QoS registers\n\nSame as with floating IP QoS OVN registers, port QoSes should have a\n""external_ids"" reference to the port ID this QoS is attached to.\n\nRelated-Bug: #1947334\nChange-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3\n'}, {'number': 5, 'created': '2022-02-02 20:53:34.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce7f2795384e05b7e086bdab41226a69708dfdc5', 'message': '[OVN][QoS] Add external_ids reference to port QoS registers\n\nSame as with floating IP QoS OVN registers, port QoSes should have a\n""external_ids"" reference to the port ID this QoS is attached to.\n\nRelated-Bug: #1947334\nChange-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3\n'}]",2,822729,ce7f2795384e05b7e086bdab41226a69708dfdc5,31,8,5,16688,,,0,"[OVN][QoS] Add external_ids reference to port QoS registers

Same as with floating IP QoS OVN registers, port QoSes should have a
""external_ids"" reference to the port ID this QoS is attached to.

Related-Bug: #1947334
Change-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/822729/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",4,d0f63dee9b51c1eb09338ae4fa52b40960c77fb5,bug/1947334,"import re # TODO(ralonsoh): Remove this in the Z+2 cycle # A static spacing value is used here, but this method will only run # once per lock due to the use of periodics.NeverAgain(). @periodics.periodic(spacing=600, run_immediately=True) def update_port_qos_with_external_ids_reference(self): """"""Update all OVN QoS registers with the port ID This method will only update the OVN QoS registers related to port QoS, not FIP QoS. FIP QoS have the corresponding ""external_ids"" reference. """""" if not self.has_lock: return regex = re.compile( r'(inport|outport) == \""(?P<port_id>[a-z0-9\-]{36})\""') cmds = [] for ls in self._nb_idl.ls_list().execute(check_error=True): for qos in self._nb_idl.qos_list(ls.name).execute( check_error=True): if qos.external_ids: continue match = re.match(regex, qos.match) if not match: continue port_id = match.group('port_id') external_ids = {ovn_const.OVN_PORT_EXT_ID_KEY: port_id} cmds.append(self._nb_idl.db_set( 'QoS', qos.uuid, ('external_ids', external_ids))) if cmds: with self._nb_idl.transaction(check_error=True) as txn: for cmd in cmds: txn.add(cmd) raise periodics.NeverAgain() ",,69,3
openstack%2Fnova~master~I8afe755732c95d023b7c4bd99964507f54d324f1,openstack/nova,master,I8afe755732c95d023b7c4bd99964507f54d324f1,doc: Correct version for virtio-net multiqueue,MERGED,2022-02-09 18:13:36.000000000,2022-02-09 23:08:22.000000000,2022-02-09 21:32:35.000000000,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 18:13:36.000000000', 'files': ['doc/source/admin/networking.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9a0c7da9bd945b1693b4210f57717d650e224d2', 'message': 'doc: Correct version for virtio-net multiqueue\n\nThis was eventually added in Yoga, not Xena.\n\nChange-Id: I8afe755732c95d023b7c4bd99964507f54d324f1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,828601,c9a0c7da9bd945b1693b4210f57717d650e224d2,11,2,1,15334,,,0,"doc: Correct version for virtio-net multiqueue

This was eventually added in Yoga, not Xena.

Change-Id: I8afe755732c95d023b7c4bd99964507f54d324f1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/828601/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/networking.rst'],1,c9a0c7da9bd945b1693b4210f57717d650e224d2,bp/multiqueue-flavor-extra-spec,.. versionchanged:: 25.0.0 (Yoga) flavor extra spec was introduced in the Yoga (25.0.0) release.,.. versionchanged:: 24.0.0 (Xena) flavor extra spec was introduced in the Xena (24.0.0) release.,2,2
openstack%2Fnova~master~I4cad2111065fbc1840d44fc9f4bf6ac585e18db6,openstack/nova,master,I4cad2111065fbc1840d44fc9f4bf6ac585e18db6,docs: Document virtio-net multiqueue,MERGED,2021-05-20 11:44:57.000000000,2022-02-09 23:08:10.000000000,2022-02-09 21:32:28.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 11:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58a403720af3678c88f777a0b4979504771a740b', 'message': 'docs: Document virtio-net multiqueue\n\nMostly copy-paste from the spec, but at least this is in-tree and\nupdatable.\n\nChange-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-05-20 11:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37665de37384f85ce911cf22072b8e5e528c78f0', 'message': 'docs: Document virtio-net multiqueue\n\nMostly copy-paste from the spec, but at least this is in-tree and\nupdatable.\n\nChange-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-05-25 16:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af96d7b11efcc8353d65613c7f59fd890a13e773', 'message': 'docs: Document virtio-net multiqueue\n\nMostly copy-paste from the spec, but at least this is in-tree and\nupdatable.\n\nChange-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-05-26 13:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c27dc75033edd8fd697677328edcbb66960ea51', 'message': 'docs: Document virtio-net multiqueue\n\nMostly copy-paste from the spec, but at least this is in-tree and\nupdatable.\n\nChange-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-07-12 14:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/544fcb730d3542bc51d5f76a4c1a736927c6f64f', 'message': 'docs: Document virtio-net multiqueue\n\nMostly copy-paste from the spec, but at least this is in-tree and\nupdatable.\n\nChange-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2021-08-31 12:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8e2a7c846dd209ee2334a92edd9ba9ea85c6305', 'message': 'docs: Document virtio-net multiqueue\n\nMostly copy-paste from the spec, but at least this is in-tree and\nupdatable.\n\nChange-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2021-09-02 10:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d60934635dd9070b7941f26025a0b341cb757aa', 'message': 'docs: Document virtio-net multiqueue\n\nMostly copy-paste from the spec, but at least this is in-tree and\nupdatable.\n\nChange-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 8, 'created': '2021-09-02 11:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e7d7b7d4d828f4dc7caf4f453ea25b72c1a190c', 'message': 'docs: Document virtio-net multiqueue\n\nMostly copy-paste from the spec, but at least this is in-tree and\nupdatable.\n\nChange-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 9, 'created': '2022-02-09 18:00:05.000000000', 'files': ['doc/source/admin/networking.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/95157314bddd7eacc325f3f47a046f907abd8a87', 'message': 'docs: Document virtio-net multiqueue\n\nMostly copy-paste from the spec, but at least this is in-tree and\nupdatable.\n\nChange-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",24,792362,95157314bddd7eacc325f3f47a046f907abd8a87,57,6,9,15334,,,0,"docs: Document virtio-net multiqueue

Mostly copy-paste from the spec, but at least this is in-tree and
updatable.

Change-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/792362/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/networking.rst'],1,58a403720af3678c88f777a0b4979504771a740b,bp/multiqueue-flavor-extra-spec," virtio-net Multiqueue --------------------- .. versionadded:: 12.0.0 (Liberty) .. versionchanged:: 24.0.0 (Xena) Support for configuring multiqueue via the ``hw:vif_multiqueue_enabled`` flavor extra spec was introduced in the Xena (23.0.0) release. .. important:: The functionality described below is currently only supported by the libvirt/KVM driver. Today's high-end servers have more processors, and guests running on them often have an increasing number of vCPUs. In a single virtio-net queue, the scale of the protocol stack in a guest is restricted, as the network performance does not scale as the number of vCPUs increases. Guests cannot transmit or retrieve packets in parallel, as virtio-net has only one TX and RX queue. The solution to this issue is to enable virtio-net multiqueue, which can allow the guest instances to increase the total network throughput. Before enabling multiqueue, you should assess the advantages and disadvantages of doing so. Multiqueue virtio-net provides the greatest performance benefit when: - Traffic packets are relatively large. - The guest is active on many connections at the same time, with traffic running between guests, guest to host, or guest to an external system. - The number of queues is equal to the number of vCPUs. This is because multi-queue support optimizes RX interrupt affinity and TX queue selection in order to make a specific queue private to a specific vCPU. However, while the virtio-net multiqueue feature provides a performance benefit, it has some limitations and therefore should not be unconditionally enabled: - Guest OS is limited to ~200 MSI vectors. Each NIC queue requires a MSI vector, as well as any virtio device or assigned PCI device. Defining an instance with multiple virtio NICs and vCPUs might lead to a possibility of hitting the guest MSI limit. - virtio-net multiqueue works well for incoming traffic, but can occasionally cause a performance degradation, for outgoing traffic. - Enabling virtio-net multiqueue increases the total network throughput, but in parallel it also increases the CPU consumption. - Enabling virtio-net multiqueue in the host QEMU config, does not enable the functionality in the guest OS. The guest OS administrator needs to manually turn it on for each guest NIC that requires this feature, using ethtool. - MSI vectors would still be consumed (wasted), if multiqueue was enabled in the host, but has not been enabled in the guest OS by the administrator. - In case the number of vNICs in a guest instance is proportional to the number of vCPUs, enabling the multiqueue feature is less important. - Each virtio-net queue consumes 64 KB of kernel memory for the vhost driver. Having considered these points, multiqueue can be enabled or disabled using either the :nova:extra-spec:`hw:vif_multiqueue_enabled` flavor extra spec or equivalent ``hw_vif_multiqueue_enabled`` image metadata property. For example, to enable virtio-net multiqueue for a chosen flavor: .. code-block:: bash $ openstack flavor set --property hw:vif_multiqueue_enabled=true $FLAVOR Alternatively, to explicitly disable multiqueue for a chosen image: .. code-block:: bash $ openstack image set --property hw_vif_multiqueue_enabled=false $IMAGE .. note:: If both the flavor extra spec and image metadata property are provided, their values must match or an error will be raised. For more information on this feature, refer to the `original spec`__. .. __: https://specs.openstack.org/openstack/nova-specs/specs/liberty/implemented/libvirt-virtiomq.html",,81,0
openstack%2Fproject-config~master~Ifbc42fb7e5fc520cb539bad6b8fa5898b6d37c34,openstack/project-config,master,Ifbc42fb7e5fc520cb539bad6b8fa5898b6d37c34,Add zuul-web stats to zuul-status page,MERGED,2022-02-09 21:02:10.000000000,2022-02-09 22:45:02.000000000,2022-02-09 22:38:29.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 21:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/309b636f9bd1211e6459e29d61b9945b0fbb5147', 'message': 'Add zuul-web stats to zuul-status page\n\nThis adds some newly created stats (which are already being recorded\nin grafana).\n\nChange-Id: Ifbc42fb7e5fc520cb539bad6b8fa5898b6d37c34\n'}, {'number': 2, 'created': '2022-02-09 21:03:02.000000000', 'files': ['grafana/zuul-status.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c36bb59458b2bbf7fbc5eef6f465251a16183def', 'message': 'Add zuul-web stats to zuul-status page\n\nThis adds some newly created stats (which are already being recorded\nin grafana).\n\nChange-Id: Ifbc42fb7e5fc520cb539bad6b8fa5898b6d37c34\n'}]",0,828609,c36bb59458b2bbf7fbc5eef6f465251a16183def,9,3,2,1,,,0,"Add zuul-web stats to zuul-status page

This adds some newly created stats (which are already being recorded
in grafana).

Change-Id: Ifbc42fb7e5fc520cb539bad6b8fa5898b6d37c34
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/828609/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/zuul-status.yaml'],1,309b636f9bd1211e6459e29d61b9945b0fbb5147,," - title: Web showTitle: true height: 250px panels: - title: Streams span: 6 targets: - target: aliasSub(stats.gauges.zuul.web.server.*_opendev_org.streamers, "".*\.(.*)_opendev_org.*"", ""\1"") type: graph - title: Threadpool Queue span: 6 targets: - target: aliasSub(stats.gauges.zuul.web.server.*_opendev_org.threadpool.queue, "".*\.(.*)_opendev_org.*"", ""\1"") type: graph - title: Threadpool Idle span: 6 targets: - target: aliasSub(stats.gauges.zuul.web.server.*_opendev_org.threadpool.queue, "".*\.(.*)_opendev_org.*"", ""\1"") type: graph",,19,0
openstack%2Ftripleo-heat-templates~master~Ia69436808b0d739c41c4980bacaf4f510f3762f9,openstack/tripleo-heat-templates,master,Ia69436808b0d739c41c4980bacaf4f510f3762f9,Placement: Enable proxy headers parsing,MERGED,2022-01-23 13:41:49.000000000,2022-02-09 22:35:36.000000000,2022-02-09 22:35:36.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-23 13:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c198ec5373e7c48a2688f2849b08b8296f70dc98', 'message': 'Placement: Enable proxy headers parsing\n\n... so that the actual client ip, instead of haproxy ip, is logged in\nplacement logs.\n\nChange-Id: Ia69436808b0d739c41c4980bacaf4f510f3762f9\n'}, {'number': 2, 'created': '2022-01-26 12:54:48.000000000', 'files': ['deployment/placement/placement-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f7db6a9abda3b4a57fc1a5f7254f4b17b0c12b0', 'message': 'Placement: Enable proxy headers parsing\n\n... so that the actual client ip, instead of haproxy ip, is logged in\nplacement logs.\n\nDepends-on: https://review.opendev.org/800690\nChange-Id: Ia69436808b0d739c41c4980bacaf4f510f3762f9\n'}]",3,825962,3f7db6a9abda3b4a57fc1a5f7254f4b17b0c12b0,25,5,2,9816,,,0,"Placement: Enable proxy headers parsing

... so that the actual client ip, instead of haproxy ip, is logged in
placement logs.

Depends-on: https://review.opendev.org/800690
Change-Id: Ia69436808b0d739c41c4980bacaf4f510f3762f9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/825962/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/placement/placement-api-container-puppet.yaml'],1,c198ec5373e7c48a2688f2849b08b8296f70dc98,placement-header-parsing, placement::api::enable_proxy_headers_parsing: true,,1,0
openstack%2Fneutron~master~I0391dd24224f8656a09ddb002e7dae8783ba37a4,openstack/neutron,master,I0391dd24224f8656a09ddb002e7dae8783ba37a4,"Make sure ""dead vlan"" ports cannot transmit packets",MERGED,2022-02-01 16:09:01.000000000,2022-02-09 22:26:41.000000000,2022-02-08 00:14:14.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 16:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7711b52ff3bb80381a5f3394a3bdacbe0e41ac51', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added a dead vlan\nflow that pushes the dead vlan tag onto frames belonging to dead ports\nbefore these ports are reassigned to their proper vlans. However add_flow\nand delete_flows race and delete_flows may run before add_flow, in this\ncase deleting 0 flows but not giving us a chance to detect this: neither\ndoes it throw an error nor does it return the number of deleted flows.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""native-tagged"" (along with assigning dead VLAN tag).\nThus OVS normal pipeline will drop all untagged\npackets from such ports [1] until ovs agent sets proper VLAN tag and\nclears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agent no longer modify flow table.\n\nhttps://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nRelated-Bug: #1930414\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 2, 'created': '2022-02-01 18:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2cf581e3f9a236c02ebdf454e51eea21da982eb', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added a dead vlan\nflow that pushes the dead vlan tag onto frames belonging to dead ports\nbefore these ports are reassigned to their proper vlans. However add_flow\nand delete_flows race and delete_flows may run before add_flow, in this\ncase deleting 0 flows but not giving us a chance to detect this: neither\ndoes it throw an error nor does it return the number of deleted flows.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""native-tagged"" (along with assigning dead VLAN tag).\nThus OVS normal pipeline will drop all untagged\npackets from such ports [1] until ovs agent sets proper VLAN tag and\nclears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agent no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\nhttps://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nRelated-Bug: #1930414\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 3, 'created': '2022-02-02 09:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/241c9d33aa2d85cd98e9085d218317031b4882ff', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added a dead vlan\nflow that pushes the dead vlan tag onto frames belonging to dead ports\nbefore these ports are reassigned to their proper vlans. However add_flow\nand delete_flows race and delete_flows may run before add_flow, in this\ncase deleting 0 flows but not giving us a chance to detect this: neither\ndoes it throw an error nor does it return the number of deleted flows.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""native-tagged"" (along with assigning dead VLAN tag).\nThus OVS normal pipeline will drop all untagged\npackets from such ports [1] until ovs agent sets proper VLAN tag and\nclears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agent no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nRelated-Bug: #1930414\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 4, 'created': '2022-02-02 11:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/090fe400d0295df568aa7af32d27d90241a8d282', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added a dead vlan\nflow that pushes the dead vlan tag onto frames belonging to dead ports\nbefore these ports are reassigned to their proper vlans. However add_flow\nand delete_flows race and delete_flows may run before add_flow, in this\ncase deleting 0 flows but not giving us a chance to detect this: neither\ndoes it throw an error nor does it return the number of deleted flows.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""native-tagged"" (along with assigning dead VLAN tag).\nThus OVS normal pipeline will drop all untagged\npackets from such ports [1] until ovs agent sets proper VLAN tag and\nclears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agent no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nRelated-Bug: #1930414\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 5, 'created': '2022-02-02 13:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cb6b52156aad890e10533ad6f5e7f44d6741e98', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added a dead vlan\nflow that pushes the dead vlan tag onto frames belonging to dead ports\nbefore these ports are reassigned to their proper vlans. However add_flow\nand delete_flows race and delete_flows may run before add_flow, in this\ncase deleting 0 flows but not giving us a chance to detect this: neither\ndoes it throw an error nor does it return the number of deleted flows.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""native-tagged"" (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 6, 'created': '2022-02-02 14:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ff68e03e65f1fd140dcf6877a0e295d0d41a765', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 7, 'created': '2022-02-02 15:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec545fc24277c736843fdcb48c7c871b2020f52b', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 8, 'created': '2022-02-02 21:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a4d4aa15fd5b5ce6d70d451d4421817abe38911', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 9, 'created': '2022-02-02 21:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e38bc430b5ced069967640dbd0e281d6b99f5a92', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 10, 'created': '2022-02-03 06:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/edaaaa8f66c5c6288c4edd9931f6de84096b9923', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default.\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 11, 'created': '2022-02-03 15:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d7185abdf937b1641fc4b6b70391d7f618187b0', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default\n(""access"").\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}, {'number': 12, 'created': '2022-02-04 13:44:32.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ddca284542aed89df4a22607a2da03f193f083c', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default\n(""access"").\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n'}]",44,827315,0ddca284542aed89df4a22607a2da03f193f083c,94,8,12,5948,,,0,"Make sure ""dead vlan"" ports cannot transmit packets

https://review.opendev.org/c/openstack/neutron/+/820897 added
a dead vlan flow that pushes the dead vlan tag onto frames
belonging to dead ports before these ports are reassigned to
their proper vlans. However add_flow and delete_flows race and
delete_flows may run before add_flow, in this case deleting 0 flows
but not giving us a chance to detect this: neither does it throw
an error nor does it return the number of deleted flows.
This leads to port staying inaccessible forever and hence
breaks corresponding DHCP or router.

Current patch suggests another approach to make sure no packets are
leaked from newly plugged ports: setting their ""vlan_mode"" attribute
to ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).
With this OVS normal pipeline will allow only packets tagged with 4095
from such ports [1], which normally not happens, but even if it does -
default rule in br-int will drop them anyway.
Thus untagged packets from such ports will also be dropped until
ovs agent sets proper VLAN tag and clears vlan_mode to default
(""access"").

This approach avoids the race between dhcp/l3 and ovs agents because
dhcp/l3 agents no longer modify flow table.

This partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004

[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline

Closes-Bug: #1930414
Closes-Bug: #1959564
Change-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/827315/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/common/conn_testers.py']",4,7711b52ff3bb80381a5f3394a3bdacbe0e41ac51,bug/1930414,," bridge.delete_flows( cookie=ovs_lib.COOKIE_ANY, table=ovs_consts.LOCAL_SWITCHING, priority=ovs_consts.OPENFLOW_MAX_PRIORITY - 1, in_port=bridge.get_port_ofport(port_name), strict=True, )",15,55
openstack%2Foctavia~stable%2Fwallaby~Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6,openstack/octavia,stable/wallaby,Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6,Fix nft command line with negative priority values,MERGED,2021-12-06 15:26:56.000000000,2022-02-09 21:52:27.000000000,2022-02-09 21:48:18.000000000,"[{'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-12-06 15:26:56.000000000', 'files': ['elements/amphora-agent/static/usr/local/bin/lvs-masquerade.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1efeb8d5a4a2e1c2f7e06b831b2c1d3555c0ab8a', 'message': 'Fix nft command line with negative priority values\n\nWhen using nft with negative priority values it is recommended to use --\nto prevent the parser to interpret the value as an argument.\n\nStory 2009710\nTask 44065\n\nChange-Id: Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6\n(cherry picked from commit 4791cfe93cdde2cb375033164c3bf51e8c65f4c4)\n(cherry picked from commit b47d5dfcf8bfd0502c08a200056e21efe22d8d75)\n'}]",0,820537,1efeb8d5a4a2e1c2f7e06b831b2c1d3555c0ab8a,9,4,1,29244,,,0,"Fix nft command line with negative priority values

When using nft with negative priority values it is recommended to use --
to prevent the parser to interpret the value as an argument.

Story 2009710
Task 44065

Change-Id: Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6
(cherry picked from commit 4791cfe93cdde2cb375033164c3bf51e8c65f4c4)
(cherry picked from commit b47d5dfcf8bfd0502c08a200056e21efe22d8d75)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/820537/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/static/usr/local/bin/lvs-masquerade.sh'],1,1efeb8d5a4a2e1c2f7e06b831b2c1d3555c0ab8a,, nft -- add chain ip octavia-ipv4 prerouting { type filter hook prerouting priority -300 \; } nft -- add chain ip octavia-ipv4 output { type filter hook output priority -300 \; } nft -- add chain ip6 octavia-ipv6 prerouting { type filter hook prerouting priority -300 \; } nft -- add chain ip6 octavia-ipv6 output { type filter hook output priority -300 \; }, nft add chain ip octavia-ipv4 prerouting { type filter hook prerouting priority -300 \; } nft add chain ip octavia-ipv4 output { type filter hook output priority -300 \; } nft add chain ip6 octavia-ipv6 prerouting { type filter hook prerouting priority -300 \; } nft add chain ip6 octavia-ipv6 output { type filter hook output priority -300 \; },4,4
openstack%2Fpuppet-ceilometer~stable%2Fwallaby~Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,openstack/puppet-ceilometer,stable/wallaby,Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,Bugfix - Deprecated notification_workers is ignored,MERGED,2022-02-08 23:46:35.000000000,2022-02-09 21:41:58.000000000,2022-02-09 21:41:58.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 23:46:35.000000000', 'files': ['manifests/agent/notification.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/5023b085c863bd944391ad6d763d590eccf778a9', 'message': 'Bugfix - Deprecated notification_workers is ignored\n\nChange-Id: Id8e9277d4699be3aa6b92dd49b3c24f54316eab1\n(cherry picked from commit 0c04ba25d2eb37b89527f054879ab2818676f7ae)\n(cherry picked from commit 89cfedff0ba7ed8f57a115031ed2f7e23e8da953)\n'}]",0,828397,5023b085c863bd944391ad6d763d590eccf778a9,7,3,1,9816,,,0,"Bugfix - Deprecated notification_workers is ignored

Change-Id: Id8e9277d4699be3aa6b92dd49b3c24f54316eab1
(cherry picked from commit 0c04ba25d2eb37b89527f054879ab2818676f7ae)
(cherry picked from commit 89cfedff0ba7ed8f57a115031ed2f7e23e8da953)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/97/828397/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agent/notification.pp'],1,5023b085c863bd944391ad6d763d590eccf778a9,, 'notification/workers' : value => $workers_real;, 'notification/workers' : value => $workers;,1,1
openstack%2Fpuppet-ceilometer~stable%2Fxena~Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,openstack/puppet-ceilometer,stable/xena,Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,Bugfix - Deprecated notification_workers is ignored,MERGED,2022-02-08 23:45:18.000000000,2022-02-09 21:37:55.000000000,2022-02-09 21:37:55.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 23:45:18.000000000', 'files': ['manifests/agent/notification.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/89cfedff0ba7ed8f57a115031ed2f7e23e8da953', 'message': 'Bugfix - Deprecated notification_workers is ignored\n\nChange-Id: Id8e9277d4699be3aa6b92dd49b3c24f54316eab1\n(cherry picked from commit 0c04ba25d2eb37b89527f054879ab2818676f7ae)\n'}]",1,828396,89cfedff0ba7ed8f57a115031ed2f7e23e8da953,7,3,1,9816,,,0,"Bugfix - Deprecated notification_workers is ignored

Change-Id: Id8e9277d4699be3aa6b92dd49b3c24f54316eab1
(cherry picked from commit 0c04ba25d2eb37b89527f054879ab2818676f7ae)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/96/828396/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agent/notification.pp'],1,89cfedff0ba7ed8f57a115031ed2f7e23e8da953,, 'notification/workers' : value => $workers_real;, 'notification/workers' : value => $workers;,1,1
openstack%2Fplacement~master~Ifa2c55a77b34d7579e38e6618c361b9494553858,openstack/placement,master,Ifa2c55a77b34d7579e38e6618c361b9494553858,Refactor trait normalization,MERGED,2022-01-21 18:21:38.000000000,2022-02-09 21:34:46.000000000,2022-02-09 21:32:24.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 18:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7d40b25ff4e4d800ad8439b42d3b82f7426183dd', 'message': 'Refactor trait normalization\n\nThis prepares for the changes necessary to support multiple `required`\nquery params and then `in:` syntax.\n\nStory: 2005345\nStory: 2005346\nChange-Id: Ifa2c55a77b34d7579e38e6618c361b9494553858\n'}, {'number': 2, 'created': '2022-01-31 14:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/0bbd60a641527fe9f547535f6a55b08d634158f1', 'message': 'Refactor trait normalization\n\nThis prepares for the changes necessary to support multiple `required`\nquery params and then `in:` syntax.\n\nStory: 2005345\nStory: 2005346\nChange-Id: Ifa2c55a77b34d7579e38e6618c361b9494553858\n'}, {'number': 3, 'created': '2022-01-31 14:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/671983cdff55e21a673e18ba9829f5596b62d184', 'message': 'Refactor trait normalization\n\nThis prepares for the changes necessary to support multiple `required`\nquery params and then `in:` syntax.\n\nStory: 2005345\nStory: 2005346\nChange-Id: Ifa2c55a77b34d7579e38e6618c361b9494553858\n'}, {'number': 4, 'created': '2022-01-31 17:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/005b59b7085586a968b375aa76f4bed5010e3ebf', 'message': 'Refactor trait normalization\n\nThis prepares for the changes necessary to support multiple `required`\nquery params and then `in:` syntax.\n\nStory: 2005345\nStory: 2005346\nChange-Id: Ifa2c55a77b34d7579e38e6618c361b9494553858\n'}, {'number': 5, 'created': '2022-02-03 11:02:40.000000000', 'files': ['placement/lib.py', 'placement/tests/unit/test_util.py', 'placement/util.py', 'placement/handlers/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/7e3602b35f1919a9693b2e55669816671d0d1c5f', 'message': 'Refactor trait normalization\n\nThis prepares for the changes necessary to support multiple `required`\nquery params and then `in:` syntax.\n\nStory: 2005345\nStory: 2005346\nChange-Id: Ifa2c55a77b34d7579e38e6618c361b9494553858\n'}]",16,825847,7e3602b35f1919a9693b2e55669816671d0d1c5f,19,3,5,9708,,,0,"Refactor trait normalization

This prepares for the changes necessary to support multiple `required`
query params and then `in:` syntax.

Story: 2005345
Story: 2005346
Change-Id: Ifa2c55a77b34d7579e38e6618c361b9494553858
",git fetch https://review.opendev.org/openstack/placement refs/changes/47/825847/3 && git format-patch -1 --stdout FETCH_HEAD,"['placement/lib.py', 'placement/tests/unit/test_util.py', 'placement/util.py', 'placement/handlers/resource_provider.py']",4,7d40b25ff4e4d800ad8439b42d3b82f7426183dd,any-traits-support," if 'required' in req.GET: filters['required'] = util.normalize_traits_qs_params(req) qpkeys = ('uuid', 'name', 'in_tree', 'resources')"," allow_forbidden = want_version.matches((1, 22)) qpkeys = ('uuid', 'name', 'in_tree', 'resources', 'required') elif attr == 'required': value = util.normalize_traits_qs_param( value, allow_forbidden=allow_forbidden)",94,11
openstack%2Fcharm-ironic-conductor~master~Ie4b6a2f7b15725708c561245fb211bc97dd80e4e,openstack/charm-ironic-conductor,master,Ie4b6a2f7b15725708c561245fb211bc97dd80e4e,Use non-promulgated charms from Charmhub,MERGED,2022-02-08 19:11:12.000000000,2022-02-09 21:31:30.000000000,2022-02-09 21:31:30.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 19:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/0a5f23fcdfa45f8dd65065e18ce83d7531ef9fdd', 'message': 'Use non-promulgated charms from Charmhub\n\nironic-api charm was promulgated after the Charmhub took a snapshot of\nthe charmstore, so ironic-api only exists as\nopenstack-charmers-ironic-api.\n\nChange-Id: Ie4b6a2f7b15725708c561245fb211bc97dd80e4e\n'}, {'number': 2, 'created': '2022-02-09 14:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/787f1214d1f1e13331a57bb0efa054c31a5bc7d7', 'message': 'Use non-promulgated charms from Charmhub\n\nironic-api charm was promulgated after the Charmhub took a snapshot of\nthe charmstore, so ironic-api only exists as\nopenstack-charmers-ironic-api.\n\nAlso fix the building adding libffi-dev to build-dependencies.\n\nChange-Id: Ie4b6a2f7b15725708c561245fb211bc97dd80e4e\n'}, {'number': 3, 'created': '2022-02-09 15:27:19.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/cea031086933328acee47e548d927d9aa85041c7', 'message': 'Use non-promulgated charms from Charmhub\n\nironic related charms were promulgated after the Charmhub took a snapshot of\nthe charmstore, so they only exist in the charmhub with the prefix\nopenstack-charmers-next-* (devel version) or openstack-charmers-*\n(stable version)\n\nAlso fix the building adding libffi-dev to build-dependencies.\n\nChange-Id: Ie4b6a2f7b15725708c561245fb211bc97dd80e4e\n'}]",5,828411,cea031086933328acee47e548d927d9aa85041c7,18,3,3,2424,,,0,"Use non-promulgated charms from Charmhub

ironic related charms were promulgated after the Charmhub took a snapshot of
the charmstore, so they only exist in the charmhub with the prefix
openstack-charmers-next-* (devel version) or openstack-charmers-*
(stable version)

Also fix the building adding libffi-dev to build-dependencies.

Change-Id: Ie4b6a2f7b15725708c561245fb211bc97dd80e4e
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/11/828411/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml']",4,0a5f23fcdfa45f8dd65065e18ce83d7531ef9fdd,charmhub-migration, charm: ch:openstack-charmers-ironic-api, charm: ch:ironic-api,4,4
openstack%2Frequirements~master~I02e60e2fd0a3e35e4de2ef8b906434d155a3ced5,openstack/requirements,master,I02e60e2fd0a3e35e4de2ef8b906434d155a3ced5,update constraint for etcd3gw to new release 1.0.1,MERGED,2022-02-09 09:18:36.000000000,2022-02-09 21:28:36.000000000,2022-02-09 21:25:15.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-09 09:18:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/187496769789eb2e3a2a99f0f4ef38e96241fd4a', 'message': 'update constraint for etcd3gw to new release 1.0.1\n\nmeta: version: 1.0.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I02e60e2fd0a3e35e4de2ef8b906434d155a3ced5\n'}]",0,828502,187496769789eb2e3a2a99f0f4ef38e96241fd4a,9,3,1,11131,,,0,"update constraint for etcd3gw to new release 1.0.1

meta: version: 1.0.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I02e60e2fd0a3e35e4de2ef8b906434d155a3ced5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/828502/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,187496769789eb2e3a2a99f0f4ef38e96241fd4a,new-release,etcd3gw===1.0.1,etcd3gw===1.0.0,1,1
openstack%2Fkeystone~master~If71cb5f1323762c7e2110942e9558f9c69e3bcb2,openstack/keystone,master,If71cb5f1323762c7e2110942e9558f9c69e3bcb2,sql: Add initial Yoga migration branches,MERGED,2022-01-21 17:46:19.000000000,2022-02-09 21:27:46.000000000,2022-02-09 21:25:08.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 17:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/36a34b653008923ddf0c3d8bb2cc3760a0b8b94c', 'message': ""sql: Add initial Yoga migration branches\n\nThis adds initial no-op migrations for the Yoga release and is modeled\non neutron changes I3823900bc5aaf7757c37edb804027cf4d9c757ab (which\ncreated the '$RELEASE/expand' and '${RELEASE}/contract' directory\nstructure) and Ie4b727e55a0b1ecb12e915a0037094a928d8f975 (which created\nthe 'EXPAND_HEAD' and 'CONTRACT_HEAD' files.\n\nChange-Id: If71cb5f1323762c7e2110942e9558f9c69e3bcb2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-24 18:42:13.000000000', 'files': ['keystone/common/sql/migrations/versions/yoga/expand/29e87d24a316_initial.py', 'keystone/common/sql/migrations/versions/EXPAND_HEAD', 'keystone/common/sql/migrations/versions/CONTRACT_HEAD', 'keystone/common/sql/migrations/versions/yoga/contract/e25ffa003242_initial.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3b24c79331613d753e7157c58a531b707eea9161', 'message': ""sql: Add initial Yoga migration branches\n\nThis adds initial no-op migrations for the Yoga release and is modeled\non neutron changes I3823900bc5aaf7757c37edb804027cf4d9c757ab (which\ncreated the '$RELEASE/expand' and '${RELEASE}/contract' directory\nstructure) and Ie4b727e55a0b1ecb12e915a0037094a928d8f975 (which created\nthe 'EXPAND_HEAD' and 'CONTRACT_HEAD' files.\n\nChange-Id: If71cb5f1323762c7e2110942e9558f9c69e3bcb2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,825842,3b24c79331613d753e7157c58a531b707eea9161,12,3,2,15334,,,0,"sql: Add initial Yoga migration branches

This adds initial no-op migrations for the Yoga release and is modeled
on neutron changes I3823900bc5aaf7757c37edb804027cf4d9c757ab (which
created the '$RELEASE/expand' and '${RELEASE}/contract' directory
structure) and Ie4b727e55a0b1ecb12e915a0037094a928d8f975 (which created
the 'EXPAND_HEAD' and 'CONTRACT_HEAD' files.

Change-Id: If71cb5f1323762c7e2110942e9558f9c69e3bcb2
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/42/825842/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/migrations/versions/yoga/expand/29e87d24a316_initial.py', 'keystone/common/sql/migrations/versions/EXPAND_HEAD', 'keystone/common/sql/migrations/versions/CONTRACT_HEAD', 'keystone/common/sql/migrations/versions/yoga/contract/e25ffa003242_initial.py']",4,36a34b653008923ddf0c3d8bb2cc3760a0b8b94c,bp/remove-sqlalchemy-migrate,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Initial no-op Yoga contract migration. Revision ID: e25ffa003242 Revises: 27e647c0fad4 Create Date: 2022-01-21 00:00:00.000000 """""" # revision identifiers, used by Alembic. revision = 'e25ffa003242' down_revision = '27e647c0fad4' branch_labels = ('contract',) def upgrade(): pass ",,56,0
openstack%2Frequirements~master~Ieedf3a201d756a4f0efab4a8dabf5e542377eafb,openstack/requirements,master,Ieedf3a201d756a4f0efab4a8dabf5e542377eafb,update constraint for tooz to new release 2.10.1,MERGED,2022-02-09 09:17:34.000000000,2022-02-09 21:27:04.000000000,2022-02-09 21:25:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-09 09:17:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/821dd9921711e4bccf6f9933931c6c34db2408da', 'message': 'update constraint for tooz to new release 2.10.1\n\nmeta: version: 2.10.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ieedf3a201d756a4f0efab4a8dabf5e542377eafb\n'}]",0,828501,821dd9921711e4bccf6f9933931c6c34db2408da,9,3,1,11131,,,0,"update constraint for tooz to new release 2.10.1

meta: version: 2.10.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ieedf3a201d756a4f0efab4a8dabf5e542377eafb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/828501/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,821dd9921711e4bccf6f9933931c6c34db2408da,new-release,tooz===2.10.1,tooz===2.10.0,1,1
openstack%2Fkeystone~master~Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b,openstack/keystone,master,Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b,sql: Add additional changes to initial alembic migration,MERGED,2022-01-14 19:14:29.000000000,2022-02-09 21:18:12.000000000,2022-02-09 21:15:00.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a392045abe999b5032e12239a7675ed3d18a5004', 'message': ""sql: Add additional changes to initial alembic migration\n\nBy which we mean 079, which changed the size of the 'local_id' column in\nthe 'id_mapping' table.\n\nThis is kept separate to make diffing the original migration somewhat\nsimpler. It's okay to do this because no one is using these yet.\n\nChange-Id: Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c3059706ea704578a1bbfd17f819b21a9da91c11', 'message': ""sql: Add additional changes to initial alembic migration\n\nBy which we mean 079, which changed the size of the 'local_id' column in\nthe 'id_mapping' table.\n\nThis is kept separate to make diffing the original migration somewhat\nsimpler. It's okay to do this because no one is using these yet.\n\nChange-Id: Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2022-01-19 19:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5321119bc405c680d1c82a8d2acc99ce585498fa', 'message': ""sql: Add additional changes to initial alembic migration\n\nBy which we mean 079, which changed the size of the 'local_id' column in\nthe 'id_mapping' table.\n\nThis is kept separate to make diffing the original migration somewhat\nsimpler. It's okay to do this because no one is using these yet.\n\nChange-Id: Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2022-01-21 17:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee669a11886f2caa230e0c97c26c959a45315374', 'message': ""sql: Add additional changes to initial alembic migration\n\nBy which we mean 079, which changed the size of the 'local_id' column in\nthe 'id_mapping' table.\n\nThis is kept separate to make diffing the original migration somewhat\nsimpler. It's okay to do this because no one is using these yet.\n\nChange-Id: Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2022-01-24 18:42:13.000000000', 'files': ['keystone/common/sql/migrations/versions/27e647c0fad4_initial_version.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b547f6727d8dc1a4d5d64932c2a8e447c05d7b94', 'message': ""sql: Add additional changes to initial alembic migration\n\nBy which we mean 079, which changed the size of the 'local_id' column in\nthe 'id_mapping' table.\n\nThis is kept separate to make diffing the original migration somewhat\nsimpler. It's okay to do this because no one is using these yet.\n\nChange-Id: Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,824791,b547f6727d8dc1a4d5d64932c2a8e447c05d7b94,26,3,5,15334,,,0,"sql: Add additional changes to initial alembic migration

By which we mean 079, which changed the size of the 'local_id' column in
the 'id_mapping' table.

This is kept separate to make diffing the original migration somewhat
simpler. It's okay to do this because no one is using these yet.

Change-Id: Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/91/824791/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/sql/migrations/versions/27e647c0fad4_initial_version_expand.py'],1,a392045abe999b5032e12239a7675ed3d18a5004,bp/remove-sqlalchemy-migrate," sql.Column('local_id', sql.String(255), nullable=False),"," sql.Column('local_id', sql.String(64), nullable=False),",1,1
openstack%2Ftacker~master~I11b1894ea7e6c1f0edc228381f98b69dd331f006,openstack/tacker,master,I11b1894ea7e6c1f0edc228381f98b69dd331f006,Tiny refactoring for controller,MERGED,2022-02-04 05:03:05.000000000,2022-02-09 21:16:37.000000000,2022-02-09 21:14:22.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-02-04 05:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/27b35a835d5326b45841d3dde72f55a1641ee70f', 'message': 'Tiny refactoring for controller\n\nIn the current controller, `operation_state` and `notification_status`\nfor the notification is implicitly set in some places. This is confusing\nas a developer cannot quickly understand the next state and notification\nstatus.\n\nThis patch change them to explicitly specify the operation_state and\nnotification_state\n\nChange-Id: I11b1894ea7e6c1f0edc228381f98b69dd331f006\n'}, {'number': 2, 'created': '2022-02-08 07:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4b073b268af01bfd3acab6277fe69a98cb4d8d32', 'message': 'Tiny refactoring for controller\n\nIn the current controller, `operation_state` and `notification_status`\nfor the notification are implicitly set in some places. This is\nconfusing as a developer cannot quickly understand the next state and\nnotification status.\n\nThis patch changes them to explicitly specify the operation_state and\nnotification_state\n\nChange-Id: I11b1894ea7e6c1f0edc228381f98b69dd331f006\n'}, {'number': 3, 'created': '2022-02-09 05:29:31.000000000', 'files': ['tacker/api/vnflcm/v1/controller.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/30c13cdb0ecdc8b7121e0664367d0e9c758efe97', 'message': 'Tiny refactoring for controller\n\nIn the current controller, `operation_state` and `notification_status`\nfor the notification are implicitly set in some places. This is\nconfusing as a developer cannot quickly understand the next state and\nnotification status.\n\nThis patch changes them to explicitly specify the operation_state and\nnotification_status.\n\nChange-Id: I11b1894ea7e6c1f0edc228381f98b69dd331f006\n'}]",7,827795,30c13cdb0ecdc8b7121e0664367d0e9c758efe97,15,5,3,33455,,,0,"Tiny refactoring for controller

In the current controller, `operation_state` and `notification_status`
for the notification are implicitly set in some places. This is
confusing as a developer cannot quickly understand the next state and
notification status.

This patch changes them to explicitly specify the operation_state and
notification_status.

Change-Id: I11b1894ea7e6c1f0edc228381f98b69dd331f006
",git fetch https://review.opendev.org/openstack/tacker refs/changes/95/827795/2 && git format-patch -1 --stdout FETCH_HEAD,['tacker/api/vnflcm/v1/controller.py'],1,27b35a835d5326b45841d3dde72f55a1641ee70f,refactoring," operation_state, notification_status, vnf_lcm_op_occs=None, vnf_lcm_op_occs_id = self._notification_process( context, vnf_instance, fields.LcmOccsOperationType.INSTANTIATE, instantiate_vnf_request, request_body, operation_state=fields.LcmOccsOperationState.STARTING, notification_status=fields.LcmOccsNotificationStatus.START) vnf_lcm_op_occs_id = self._notification_process( context, vnf_instance, fields.LcmOccsOperationType.TERMINATE, terminate_vnf_req, request_body, operation_state=fields.LcmOccsOperationState.STARTING, notification_status=fields.LcmOccsNotificationStatus.START) vnf_lcm_op_occs_id = self._notification_process( context, vnf_instance, fields.LcmOccsOperationType.HEAL, heal_vnf_request, request_body, operation_state=fields.LcmOccsOperationState.STARTING, notification_status=fields.LcmOccsNotificationStatus.START) context, vnf_instance, change_ext_conn_req, request_body, operation_state=fields.LcmOccsOperationState.STARTING, notification_status=fields.LcmOccsNotificationStatus.START)"," vnf_lcm_op_occs=None, operation_state=fields.LcmOccsOperationState.STARTING, notification_status=fields.LcmOccsNotificationStatus.START, vnf_lcm_op_occs_id = \ self._notification_process(context, vnf_instance, fields.LcmOccsOperationType.INSTANTIATE, instantiate_vnf_request, request_body) vnf_lcm_op_occs_id = \ self._notification_process(context, vnf_instance, fields.LcmOccsOperationType.TERMINATE, terminate_vnf_req, request_body) vnf_lcm_op_occs_id = \ self._notification_process(context, vnf_instance, fields.LcmOccsOperationType.HEAL, heal_vnf_request, request_body) context, vnf_instance, change_ext_conn_req, request_body)",22,19
openstack%2Fkeystone~master~Ie58eb1712399500cc0ef37144f4d6338a5bccc88,openstack/keystone,master,Ie58eb1712399500cc0ef37144f4d6338a5bccc88,sql: Populate initial alembic migration,MERGED,2022-01-14 19:14:29.000000000,2022-02-09 21:16:11.000000000,2022-02-09 21:13:14.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8126bfe51936ad293deadfb8f89f8405898680f1', 'message': 'sql: Populate initial alembic migration\n\nChange-Id: Ie58eb1712399500cc0ef37144f4d6338a5bccc88\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fbf19b48ff7af7a8082e51f3ab1b69acd887a16b', 'message': 'sql: Populate initial alembic migration\n\nChange-Id: Ie58eb1712399500cc0ef37144f4d6338a5bccc88\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-01-19 19:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a2380298c6435c5f090c5a341caf76d26890ae76', 'message': 'sql: Populate initial alembic migration\n\nChange-Id: Ie58eb1712399500cc0ef37144f4d6338a5bccc88\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-01-21 17:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/207b78254c97022e3a6479acc591833195cc53f7', 'message': 'sql: Populate initial alembic migration\n\nChange-Id: Ie58eb1712399500cc0ef37144f4d6338a5bccc88\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2022-01-24 18:42:13.000000000', 'files': ['keystone/common/sql/migrations/versions/27e647c0fad4_initial_version.py', 'keystone/common/sql/migrations/env.py', 'keystone/common/sql/migrations/versions/27e647c0fad4_initial_version_expand.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/afce7ca8eb70a8be7dfa58b206d7054f1f5df2a4', 'message': 'sql: Populate initial alembic migration\n\nChange-Id: Ie58eb1712399500cc0ef37144f4d6338a5bccc88\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,824790,afce7ca8eb70a8be7dfa58b206d7054f1f5df2a4,19,3,5,15334,,,0,"sql: Populate initial alembic migration

Change-Id: Ie58eb1712399500cc0ef37144f4d6338a5bccc88
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/90/824790/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/migrations/versions/e46e92d5a33d_initial_version_data_migration.py', 'keystone/common/sql/migrations/versions/27e647c0fad4_initial_version_expand.py']",2,8126bfe51936ad293deadfb8f89f8405898680f1,bp/remove-sqlalchemy-migrate,"import datetime import textwrap from alembic import op from oslo_log import log import sqlalchemy as sql from keystone.assignment.backends import sql as assignment_sql from keystone.common import sql as ks_sql import keystone.conf from keystone.identity.mapping_backends import mapping as mapping_backend branch_labels = ('expand',)CONF = keystone.conf.CONF LOG = log.getLogger(__name__) # FIXME(stephenfin): Remove this as soon as we're done reworking the # migrations. Until then, this is necessary to allow us to use the native # alembic tooling (which won't register opts). Alternatively, maybe # the server default *shouldn't* rely on a (changeable) config option value? try: service_provider_relay_state_prefix_default = CONF.saml.relay_state_prefix except Exception: service_provider_relay_state_prefix_default = 'ss:mem:' bind = op.get_bind() if bind.engine.name == 'mysql': # Set default DB charset to UTF8. op.execute( 'ALTER DATABASE %s DEFAULT CHARACTER SET utf8' % bind.engine.url.database ) op.create_table( 'application_credential', sql.Column( 'internal_id', sql.Integer, primary_key=True, nullable=False ), sql.Column('id', sql.String(length=64), nullable=False), sql.Column('name', sql.String(length=255), nullable=False), sql.Column('secret_hash', sql.String(length=255), nullable=False), sql.Column('description', sql.Text), sql.Column('user_id', sql.String(length=64), nullable=False), sql.Column('project_id', sql.String(64), nullable=True), sql.Column('expires_at', ks_sql.DateTimeInt()), sql.Column('system', sql.String(64), nullable=True), sql.Column('unrestricted', sql.Boolean), sql.UniqueConstraint( 'user_id', 'name', name='duplicate_app_cred_constraint' ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'assignment', sql.Column( 'type', sql.Enum( assignment_sql.AssignmentType.USER_PROJECT, assignment_sql.AssignmentType.GROUP_PROJECT, assignment_sql.AssignmentType.USER_DOMAIN, assignment_sql.AssignmentType.GROUP_DOMAIN, name='type', ), nullable=False, ), sql.Column('actor_id', sql.String(64), nullable=False), sql.Column('target_id', sql.String(64), nullable=False), sql.Column('role_id', sql.String(64), nullable=False), sql.Column('inherited', sql.Boolean, default=False, nullable=False), sql.PrimaryKeyConstraint( 'type', 'actor_id', 'target_id', 'role_id', 'inherited', ), sql.Index('ix_actor_id', 'actor_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'access_rule', sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column('service', sql.String(64)), sql.Column('path', sql.String(128)), sql.Column('method', sql.String(16)), sql.Column('external_id', sql.String(64)), sql.Column('user_id', sql.String(64)), sql.UniqueConstraint( 'external_id', name='access_rule_external_id_key', ), sql.UniqueConstraint( 'user_id', 'service', 'path', 'method', name='duplicate_access_rule_for_user_constraint', ), sql.Index('user_id', 'user_id'), sql.Index('external_id', 'external_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'config_register', sql.Column('type', sql.String(64), primary_key=True), sql.Column('domain_id', sql.String(64), nullable=False), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'consumer', sql.Column('id', sql.String(64), primary_key=True, nullable=False), sql.Column('description', sql.String(64), nullable=True), sql.Column('secret', sql.String(64), nullable=False), sql.Column('extra', sql.Text(), nullable=False), ) op.create_table( 'credential', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('user_id', sql.String(length=64), nullable=False), sql.Column('project_id', sql.String(length=64)), sql.Column('type', sql.String(length=255), nullable=False), sql.Column('extra', ks_sql.JsonBlob.impl), sql.Column('key_hash', sql.String(64), nullable=False), sql.Column( 'encrypted_blob', ks_sql.Text, nullable=False, ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'group', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('domain_id', sql.String(length=64), nullable=False), sql.Column('name', sql.String(length=64), nullable=False), sql.Column('description', sql.Text), sql.Column('extra', ks_sql.JsonBlob.impl), sql.UniqueConstraint( 'domain_id', 'name', name='ixu_group_name_domain_id', ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'id_mapping', sql.Column('public_id', sql.String(64), primary_key=True), sql.Column('domain_id', sql.String(64), nullable=False), sql.Column('local_id', sql.String(64), nullable=False), sql.Column( 'entity_type', sql.Enum( mapping_backend.EntityType.USER, mapping_backend.EntityType.GROUP, name='entity_type', ), nullable=False, ), sql.UniqueConstraint( 'domain_id', 'local_id', 'entity_type', name='domain_id', ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'identity_provider', sql.Column('id', sql.String(64), primary_key=True), sql.Column('enabled', sql.Boolean, nullable=False), sql.Column('description', sql.Text(), nullable=True), sql.Column('domain_id', sql.String(64), nullable=False), sql.Column('authorization_ttl', sql.Integer, nullable=True), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'idp_remote_ids', sql.Column( 'idp_id', sql.String(64), sql.ForeignKey('identity_provider.id', ondelete='CASCADE'), ), sql.Column('remote_id', sql.String(255), primary_key=True), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'mapping', sql.Column('id', sql.String(64), primary_key=True), sql.Column('rules', sql.Text(), nullable=False), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'policy', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('type', sql.String(length=255), nullable=False), sql.Column('blob', ks_sql.JsonBlob, nullable=False), sql.Column('extra', ks_sql.JsonBlob.impl), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'policy_association', sql.Column('id', sql.String(64), primary_key=True), sql.Column('policy_id', sql.String(64), nullable=False), sql.Column('endpoint_id', sql.String(64), nullable=True), sql.Column('service_id', sql.String(64), nullable=True), sql.Column('region_id', sql.String(64), nullable=True), sql.UniqueConstraint('endpoint_id', 'service_id', 'region_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'project', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('name', sql.String(length=64), nullable=False), sql.Column('extra', ks_sql.JsonBlob.impl), sql.Column('description', sql.Text), sql.Column('enabled', sql.Boolean), sql.Column( 'domain_id', sql.String(length=64), sql.ForeignKey( 'project.id', name='project_domain_id_fkey', ), nullable=False, ), sql.Column( 'parent_id', sql.String(64), sql.ForeignKey( 'project.id', name='project_parent_id_fkey', ), nullable=True, ), sql.Column( 'is_domain', sql.Boolean, nullable=False, server_default='0', default=False, ), sql.UniqueConstraint( 'domain_id', 'name', name='ixu_project_name_domain_id', ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'project_endpoint', sql.Column( 'endpoint_id', sql.String(64), primary_key=True, nullable=False ), sql.Column( 'project_id', sql.String(64), primary_key=True, nullable=False ), ) op.create_table( 'project_option', sql.Column( 'project_id', sql.String(64), sql.ForeignKey('project.id', ondelete='CASCADE'), nullable=False, primary_key=True, ), sql.Column( 'option_id', sql.String(4), nullable=False, primary_key=True ), sql.Column('option_value', ks_sql.JsonBlob, nullable=True), mysql_engine='InnoDB', mysql_charset='utf8', ) # NOTE(lamt) To allow tag name to be case sensitive for MySQL, the 'name' # column needs to use collation, which is incompatible with Postgresql. # Using unicode to mirror nova's server tag: # https://github.com/openstack/nova/blob/master/nova/db/sqlalchemy/models.py op.create_table( 'project_tag', sql.Column( 'project_id', sql.String(64), sql.ForeignKey('project.id', ondelete='CASCADE'), nullable=False, primary_key=True, ), sql.Column('name', sql.Unicode(255), nullable=False, primary_key=True), sql.UniqueConstraint('project_id', 'name'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'region', sql.Column('id', sql.String(255), primary_key=True), sql.Column('description', sql.String(255), nullable=False), sql.Column('parent_region_id', sql.String(255), nullable=True), sql.Column('extra', sql.Text()), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'registered_limit', sql.Column('id', sql.String(length=64), nullable=False), sql.Column('service_id', sql.String(255)), sql.Column('region_id', sql.String(64), nullable=True), sql.Column('resource_name', sql.String(255)), sql.Column('default_limit', sql.Integer, nullable=False), sql.Column('description', sql.Text), sql.Column('internal_id', sql.Integer, primary_key=True), # NOTE(stephenfin): Name chosen to preserve backwards compatibility # with names used for primary key unique constraints sql.UniqueConstraint('id', name='registered_limit_id_key'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'request_token', sql.Column('id', sql.String(64), primary_key=True, nullable=False), sql.Column('request_secret', sql.String(64), nullable=False), sql.Column('verifier', sql.String(64), nullable=True), sql.Column('authorizing_user_id', sql.String(64), nullable=True), sql.Column('requested_project_id', sql.String(64), nullable=False), sql.Column('role_ids', sql.Text(), nullable=True), sql.Column( 'consumer_id', sql.String(64), sql.ForeignKey('consumer.id'), nullable=False, index=True, ), sql.Column('expires_at', sql.String(64), nullable=True), ) op.create_table( 'revocation_event', sql.Column('id', sql.Integer, primary_key=True), sql.Column('domain_id', sql.String(64)), sql.Column('project_id', sql.String(64)), sql.Column('user_id', sql.String(64)), sql.Column('role_id', sql.String(64)), sql.Column('trust_id', sql.String(64)), sql.Column('consumer_id', sql.String(64)), sql.Column('access_token_id', sql.String(64)), sql.Column('issued_before', sql.DateTime(), nullable=False), sql.Column('expires_at', sql.DateTime()), sql.Column('revoked_at', sql.DateTime(), nullable=False), sql.Column('audit_id', sql.String(32), nullable=True), sql.Column('audit_chain_id', sql.String(32), nullable=True), # NOTE(stephenfin): The '_new' suffix here is due to migration 095, # which changed the 'id' column from String(64) to Integer. It did this # by creating a 'revocation_event_new' table and populating it with # data from the 'revocation_event' table before deleting the # 'revocation_event' table and renaming the 'revocation_event_new' # table to 'revocation_event'. Because the 'revoked_at' column had # 'index=True', sqlalchemy automatically generated the index name as # 'ix_{table}_{column}'. However, when intitially created, '{table}' # was 'revocation_event_new' so the index got that name. We may wish to # rename this eventually. sql.Index('ix_revocation_event_new_revoked_at', 'revoked_at'), sql.Index('ix_revocation_event_issued_before', 'issued_before'), sql.Index( 'ix_revocation_event_project_id_issued_before', 'project_id', 'issued_before', ), sql.Index( 'ix_revocation_event_user_id_issued_before', 'user_id', 'issued_before', ), sql.Index( 'ix_revocation_event_audit_id_issued_before', 'audit_id', 'issued_before', ), ) op.create_table( 'role', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('name', sql.String(length=255), nullable=False), sql.Column('extra', ks_sql.JsonBlob.impl), sql.Column( 'domain_id', sql.String(64), nullable=False, server_default='<<null>>', ), sql.Column('description', sql.String(255), nullable=True), sql.UniqueConstraint( 'name', 'domain_id', name='ixu_role_name_domain_id', ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'role_option', sql.Column( 'role_id', sql.String(64), sql.ForeignKey('role.id', ondelete='CASCADE'), nullable=False, primary_key=True, ), sql.Column( 'option_id', sql.String(4), nullable=False, primary_key=True ), sql.Column('option_value', ks_sql.JsonBlob, nullable=True), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'sensitive_config', sql.Column('domain_id', sql.String(64), primary_key=True), sql.Column('group', sql.String(255), primary_key=True), sql.Column('option', sql.String(255), primary_key=True), sql.Column('value', ks_sql.JsonBlob.impl, nullable=False), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'service', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('type', sql.String(length=255)), sql.Column( 'enabled', sql.Boolean, nullable=False, default=True, server_default='1', ), sql.Column('extra', ks_sql.JsonBlob.impl), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'service_provider', sql.Column('auth_url', sql.String(256), nullable=False), sql.Column('id', sql.String(64), primary_key=True), sql.Column('enabled', sql.Boolean, nullable=False), sql.Column('description', sql.Text(), nullable=True), sql.Column('sp_url', sql.String(256), nullable=False), sql.Column( 'relay_state_prefix', sql.String(256), nullable=False, server_default=service_provider_relay_state_prefix_default, ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'system_assignment', sql.Column('type', sql.String(64), nullable=False), sql.Column('actor_id', sql.String(64), nullable=False), sql.Column('target_id', sql.String(64), nullable=False), sql.Column('role_id', sql.String(64), nullable=False), sql.Column('inherited', sql.Boolean, default=False, nullable=False), sql.PrimaryKeyConstraint( 'type', 'actor_id', 'target_id', 'role_id', 'inherited' ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'token', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('expires', sql.DateTime, default=None), sql.Column('extra', ks_sql.JsonBlob.impl), sql.Column('valid', sql.Boolean, default=True, nullable=False), sql.Column('trust_id', sql.String(length=64)), sql.Column('user_id', sql.String(length=64)), sql.Index('ix_token_expires', 'expires'), sql.Index('ix_token_expires_valid', 'expires', 'valid'), sql.Index('ix_token_user_id', 'user_id'), sql.Index('ix_token_trust_id', 'trust_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'trust', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('trustor_user_id', sql.String(length=64), nullable=False), sql.Column('trustee_user_id', sql.String(length=64), nullable=False), sql.Column('project_id', sql.String(length=64)), sql.Column('impersonation', sql.Boolean, nullable=False), sql.Column('deleted_at', sql.DateTime), sql.Column('expires_at', sql.DateTime), sql.Column('remaining_uses', sql.Integer, nullable=True), sql.Column('extra', ks_sql.JsonBlob.impl), sql.Column('expires_at_int', ks_sql.DateTimeInt()), sql.UniqueConstraint( 'trustor_user_id', 'trustee_user_id', 'project_id', 'impersonation', 'expires_at', 'expires_at_int', name='duplicate_trust_constraint_expanded', ), sql.Column( 'redelegated_trust_id', sql.String(64), nullable=True, ), sql.Column( 'redelegation_count', sql.Integer, nullable=True, ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'trust_role', sql.Column( 'trust_id', sql.String(length=64), primary_key=True, nullable=False ), sql.Column( 'role_id', sql.String(length=64), primary_key=True, nullable=False ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'user', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('extra', ks_sql.JsonBlob.impl), sql.Column('enabled', sql.Boolean), sql.Column('default_project_id', sql.String(length=64)), sql.Column('created_at', sql.DateTime(), nullable=True), sql.Column('last_active_at', sql.Date(), nullable=True), sql.Column('domain_id', sql.String(64), nullable=False), sql.UniqueConstraint('id', 'domain_id', name='ixu_user_id_domain_id'), sql.Index('ix_default_project_id', 'default_project_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'user_group_membership', sql.Column( 'user_id', sql.String(length=64), sql.ForeignKey( 'user.id', name='fk_user_group_membership_user_id', ), primary_key=True, ), sql.Column( 'group_id', sql.String(length=64), sql.ForeignKey( 'group.id', name='fk_user_group_membership_group_id', ), primary_key=True, ), # NOTE(stevemar): The index was named 'group_id' in # 050_fk_consistent_indexes.py and needs to be preserved sql.Index('group_id', 'group_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'user_option', sql.Column( 'user_id', sql.String(64), sql.ForeignKey('user.id', ondelete='CASCADE'), nullable=False, primary_key=True, ), sql.Column( 'option_id', sql.String(4), nullable=False, primary_key=True ), sql.Column('option_value', ks_sql.JsonBlob, nullable=True), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'whitelisted_config', sql.Column('domain_id', sql.String(64), primary_key=True), sql.Column('group', sql.String(255), primary_key=True), sql.Column('option', sql.String(255), primary_key=True), sql.Column('value', ks_sql.JsonBlob.impl, nullable=False), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'access_token', sql.Column('id', sql.String(64), primary_key=True, nullable=False), sql.Column('access_secret', sql.String(64), nullable=False), sql.Column( 'authorizing_user_id', sql.String(64), nullable=False, index=True ), sql.Column('project_id', sql.String(64), nullable=False), sql.Column('role_ids', sql.Text(), nullable=False), sql.Column( 'consumer_id', sql.String(64), sql.ForeignKey('consumer.id'), nullable=False, index=True, ), sql.Column('expires_at', sql.String(64), nullable=True), ) op.create_table( 'application_credential_role', sql.Column( 'application_credential_id', sql.Integer, sql.ForeignKey( 'application_credential.internal_id', ondelete='CASCADE' ), primary_key=True, nullable=False, ), sql.Column( 'role_id', sql.String(length=64), primary_key=True, nullable=False ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'application_credential_access_rule', sql.Column( 'application_credential_id', sql.Integer, sql.ForeignKey( 'application_credential.internal_id', ondelete='CASCADE' ), primary_key=True, nullable=False, ), sql.Column( 'access_rule_id', sql.Integer, sql.ForeignKey('access_rule.id', ondelete='CASCADE'), primary_key=True, nullable=False, ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'endpoint', sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('legacy_endpoint_id', sql.String(length=64)), sql.Column('interface', sql.String(length=8), nullable=False), sql.Column( 'service_id', sql.String(length=64), sql.ForeignKey( 'service.id', name='endpoint_service_id_fkey', ), nullable=False, ), sql.Column('url', sql.Text, nullable=False), sql.Column('extra', ks_sql.JsonBlob.impl), sql.Column( 'enabled', sql.Boolean, nullable=False, default=True, server_default='1', ), sql.Column( 'region_id', sql.String(length=255), sql.ForeignKey( 'region.id', name='fk_endpoint_region_id', ), nullable=True, ), # NOTE(stevemar): The index was named 'service_id' in # 050_fk_consistent_indexes.py and needs to be preserved sql.Index('service_id', 'service_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'endpoint_group', sql.Column('id', sql.String(64), primary_key=True), sql.Column('name', sql.String(255), nullable=False), sql.Column('description', sql.Text, nullable=True), sql.Column('filters', sql.Text(), nullable=False), ) op.create_table( 'expiring_user_group_membership', sql.Column( 'user_id', sql.String(64), sql.ForeignKey('user.id'), primary_key=True, ), sql.Column( 'group_id', sql.String(64), sql.ForeignKey('group.id'), primary_key=True, ), sql.Column( 'idp_id', sql.String(64), sql.ForeignKey('identity_provider.id', ondelete='CASCADE'), primary_key=True, ), sql.Column('last_verified', sql.DateTime(), nullable=False), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'federation_protocol', sql.Column('id', sql.String(64), primary_key=True), sql.Column( 'idp_id', sql.String(64), sql.ForeignKey('identity_provider.id', ondelete='CASCADE'), primary_key=True, ), sql.Column('mapping_id', sql.String(64), nullable=False), sql.Column('remote_id_attribute', sql.String(64)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'implied_role', sql.Column( 'prior_role_id', sql.String(length=64), sql.ForeignKey( 'role.id', name='implied_role_prior_role_id_fkey', ondelete='CASCADE', ), primary_key=True, ), sql.Column( 'implied_role_id', sql.String(length=64), sql.ForeignKey( 'role.id', name='implied_role_implied_role_id_fkey', ondelete='CASCADE', ), primary_key=True, ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'limit', sql.Column('id', sql.String(length=64), nullable=False), sql.Column('project_id', sql.String(64), nullable=True), sql.Column('resource_limit', sql.Integer, nullable=False), sql.Column('description', sql.Text), sql.Column('internal_id', sql.Integer, primary_key=True), # FIXME(stephenfin): This should have a foreign key constraint on # registered_limit.id, but sqlalchemy-migrate clearly didn't handle # creating a column with embedded FK info as was attempted in 048 sql.Column( 'registered_limit_id', sql.String(64), ), sql.Column('domain_id', sql.String(64), nullable=True), # NOTE(stephenfin): Name chosen to preserve backwards compatibility # with names used for primary key unique constraints sql.UniqueConstraint('id', name='limit_id_key'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'local_user', sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column( 'user_id', sql.String(64), nullable=False, unique=True, ), sql.Column('domain_id', sql.String(64), nullable=False), sql.Column('name', sql.String(255), nullable=False), sql.Column('failed_auth_count', sql.Integer, nullable=True), sql.Column('failed_auth_at', sql.DateTime(), nullable=True), sql.ForeignKeyConstraint( ['user_id', 'domain_id'], ['user.id', 'user.domain_id'], name='local_user_user_id_fkey', onupdate='CASCADE', ondelete='CASCADE', ), sql.UniqueConstraint('domain_id', 'name'), ) op.create_table( 'nonlocal_user', sql.Column('domain_id', sql.String(64), primary_key=True), sql.Column('name', sql.String(255), primary_key=True), sql.Column( 'user_id', sql.String(64), nullable=False, ), sql.ForeignKeyConstraint( ['user_id', 'domain_id'], ['user.id', 'user.domain_id'], name='nonlocal_user_user_id_fkey', onupdate='CASCADE', ondelete='CASCADE', ), sql.UniqueConstraint('user_id', name='ixu_nonlocal_user_user_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'password', sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column( 'local_user_id', sql.Integer, sql.ForeignKey('local_user.id', ondelete='CASCADE'), nullable=False, ), sql.Column('expires_at', sql.DateTime(), nullable=True), sql.Column( 'self_service', sql.Boolean, nullable=False, server_default='0', default=False, ), # NOTE(notmorgan): To support the full range of scrypt and pbkfd # password hash lengths, this should be closer to varchar(1500) instead # of varchar(255). sql.Column('password_hash', sql.String(255), nullable=True), sql.Column( 'created_at_int', ks_sql.DateTimeInt(), nullable=False, default=0, server_default='0', ), sql.Column('expires_at_int', ks_sql.DateTimeInt(), nullable=True), sql.Column( 'created_at', sql.DateTime(), nullable=False, default=datetime.datetime.utcnow, ), ) op.create_table( 'project_endpoint_group', sql.Column( 'endpoint_group_id', sql.String(64), sql.ForeignKey('endpoint_group.id'), nullable=False, ), sql.Column('project_id', sql.String(64), nullable=False), sql.PrimaryKeyConstraint('endpoint_group_id', 'project_id'), ) op.create_table( 'federated_user', sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column( 'user_id', sql.String(64), sql.ForeignKey('user.id', ondelete='CASCADE'), nullable=False, ), sql.Column( 'idp_id', sql.String(64), sql.ForeignKey('identity_provider.id', ondelete='CASCADE'), nullable=False, ), sql.Column('protocol_id', sql.String(64), nullable=False), sql.Column('unique_id', sql.String(255), nullable=False), sql.Column('display_name', sql.String(255), nullable=True), sql.ForeignKeyConstraint( ['protocol_id', 'idp_id'], ['federation_protocol.id', 'federation_protocol.idp_id'], name='federated_user_protocol_id_fkey', ondelete='CASCADE', ), sql.UniqueConstraint('idp_id', 'protocol_id', 'unique_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) if bind.engine.name == 'sqlite': # NOTE(stevemar): We need to keep this FK constraint due to 073, but # only for sqlite, once we collapse 073 we can remove this constraint with op.batch_alter_table('assignment') as batch_op: batch_op.create_foreign_key( 'fk_assignment_role_id', 'role', ['role_id'], ['id'], ) # TODO(stephenfin): Remove these procedures in a future contract migration if bind.engine.name == 'postgresql': error_message = ( 'Credential migration in progress. Cannot perform ' 'writes to credential table.' ) credential_update_trigger = textwrap.dedent(f"""""" CREATE OR REPLACE FUNCTION keystone_read_only_update() RETURNS trigger AS $BODY$ BEGIN IF NEW.encrypted_blob IS NULL THEN RAISE EXCEPTION '{error_message}'; END IF; IF NEW.encrypted_blob IS NOT NULL AND OLD.blob IS NULL THEN RAISE EXCEPTION '{error_message}'; END IF; RETURN NEW; END $BODY$ LANGUAGE plpgsql; """""") op.execute(credential_update_trigger) error_message = ( 'Identity provider migration in progress. Cannot ' 'insert new rows into the identity_provider table at ' 'this time.' ) identity_provider_insert_trigger = textwrap.dedent(f"""""" CREATE OR REPLACE FUNCTION keystone_read_only_insert() RETURNS trigger AS $BODY$ BEGIN RAISE EXCEPTION '{error_message}'; END $BODY$ LANGUAGE plpgsql; """""") op.execute(identity_provider_insert_trigger) federated_user_insert_trigger = textwrap.dedent("""""" CREATE OR REPLACE FUNCTION update_federated_user_domain_id() RETURNS trigger AS $BODY$ BEGIN UPDATE ""user"" SET domain_id = ( SELECT domain_id FROM identity_provider WHERE id = NEW.idp_id) WHERE id = NEW.user_id and domain_id IS NULL; RETURN NULL; END $BODY$ LANGUAGE plpgsql; """""") op.execute(federated_user_insert_trigger) local_user_insert_trigger = textwrap.dedent("""""" CREATE OR REPLACE FUNCTION update_user_domain_id() RETURNS trigger AS $BODY$ BEGIN UPDATE ""user"" SET domain_id = NEW.domain_id WHERE id = NEW.user_id; RETURN NULL; END $BODY$ LANGUAGE plpgsql; """""") op.execute(local_user_insert_trigger) # FIXME(stephenfin): Remove these indexes. They're left over from attempts # to remove foreign key constraints in past migrations. Apparently # sqlalchemy-migrate didn't do the job fully and left behind indexes if bind.engine.name == 'mysql': op.create_index('region_id', 'registered_limit', ['region_id']) # FIXME(stephenfin): This should be dropped when we add the FK # constraint to this column op.create_index( 'registered_limit_id', 'limit', ['registered_limit_id'], ) # FIXME(stephenfin): These are leftover from when we removed a FK # constraint and should probable be dropped op.create_index('domain_id', 'identity_provider', ['domain_id']) op.create_index('domain_id', 'user', ['domain_id'])",branch_labels = None pass,1109,2
openstack%2Fkeystone~master~Ib25c75a99794a04b6549e6b5184a2029955befc1,openstack/keystone,master,Ib25c75a99794a04b6549e6b5184a2029955befc1,sql: Vendor 'oslo_db.sqlalchemy.migration',MERGED,2022-01-19 18:50:03.000000000,2022-02-09 21:14:10.000000000,2022-02-09 21:11:28.000000000,"[{'_account_id': 15334}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 18:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd44196171d53b22bd3391818e9b63fbbe978618', 'message': ""WIP: db: Vendor 'oslo_db.sqlalchemy.migration'\n\nThis is deprecated and will be removed in a future release of oslo.db.\nEven without that stick to prod us, we're going to need to use some of\nthe sqlalchemy-migrate APIs and it's simpler to talk to this for\neverything rather than using oslo.db for some stuff and\nsqlalchemy-migrate for the remainder.\n\nChange-Id: Ib25c75a99794a04b6549e6b5184a2029955befc1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-19 19:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ecf99b398db5abc453cd0dc942bb28fd43916a5a', 'message': ""WIP: db: Vendor 'oslo_db.sqlalchemy.migration'\n\nThis is deprecated and will be removed in a future release of oslo.db.\nEven without that stick to prod us, we're going to need to use some of\nthe sqlalchemy-migrate APIs and it's simpler to talk to this for\neverything rather than using oslo.db for some stuff and\nsqlalchemy-migrate for the remainder.\n\nChange-Id: Ib25c75a99794a04b6549e6b5184a2029955befc1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2022-01-20 09:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/61879be436c521ce3878d337b99bdc5461856fef', 'message': ""db: Vendor 'oslo_db.sqlalchemy.migration'\n\nThis is deprecated and will be removed in a future release of oslo.db.\nEven without that stick to prod us, we're going to need to use some of\nthe sqlalchemy-migrate APIs and it's simpler to talk to this for\neverything rather than using oslo.db for some stuff and\nsqlalchemy-migrate for the remainder.\n\nChange-Id: Ib25c75a99794a04b6549e6b5184a2029955befc1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2022-01-21 17:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/42fe25f97593f522347d5bbf8f97ea600000c662', 'message': ""sql: Vendor 'oslo_db.sqlalchemy.migration'\n\nThis is deprecated and will be removed in a future release of oslo.db.\nEven without that stick to prod us, we're going to need to use some of\nthe sqlalchemy-migrate APIs and it's simpler to talk to this for\neverything rather than using oslo.db for some stuff and\nsqlalchemy-migrate for the remainder.\n\nChange-Id: Ib25c75a99794a04b6549e6b5184a2029955befc1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2022-01-24 18:42:13.000000000', 'files': ['keystone/cmd/cli.py', 'keystone/tests/unit/common/sql/test_upgrades.py', 'keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_cli.py', 'keystone/common/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0b906c65294ac9f0723ab9f598f7f9f4c660d667', 'message': ""sql: Vendor 'oslo_db.sqlalchemy.migration'\n\nThis is deprecated and will be removed in a future release of oslo.db.\nEven without that stick to prod us, we're going to need to use some of\nthe sqlalchemy-migrate APIs and it's simpler to talk to this for\neverything rather than using oslo.db for some stuff and\nsqlalchemy-migrate for the remainder.\n\nChange-Id: Ib25c75a99794a04b6549e6b5184a2029955befc1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",6,825378,0b906c65294ac9f0723ab9f598f7f9f4c660d667,24,4,5,15334,,,0,"sql: Vendor 'oslo_db.sqlalchemy.migration'

This is deprecated and will be removed in a future release of oslo.db.
Even without that stick to prod us, we're going to need to use some of
the sqlalchemy-migrate APIs and it's simpler to talk to this for
everything rather than using oslo.db for some stuff and
sqlalchemy-migrate for the remainder.

Change-Id: Ib25c75a99794a04b6549e6b5184a2029955befc1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/78/825378/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/cmd/cli.py', 'keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_cli.py']",3,dd44196171d53b22bd3391818e9b63fbbe978618,bp/remove-sqlalchemy-migrate,"from migrate import exceptions as migrate_exceptions e = migrate_exceptions.DatabaseNotControlledError(""Invalid version"")","from oslo_db.sqlalchemy import migration e = migration.exception.DBMigrationError(""Invalid version"")",120,23
openstack%2Fopenstacksdk~master~Idc4a563c0f074658452590118e558f389f541358,openstack/openstacksdk,master,Idc4a563c0f074658452590118e558f389f541358,Restore get_compute_limits backward compatibility,MERGED,2022-01-28 16:57:47.000000000,2022-02-09 21:14:09.000000000,2022-02-09 21:11:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-01-28 16:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4084c57d68910c83f5c15de2aab7a986cd6428aa', 'message': 'Restore get_compute_limits backward compatibility\n\nget_compute_limits used to return absolute limits. Nodepool is currently\nrelying on this interface.\n\n- restore function to return absolute limits\n- add ""aka"" access to attributes with old ""normalized"" names\n\nChange-Id: Idc4a563c0f074658452590118e558f389f541358\n'}, {'number': 2, 'created': '2022-01-28 20:05:22.000000000', 'files': ['openstack/tests/functional/cloud/test_limits.py', 'openstack/cloud/_compute.py', 'openstack/compute/v2/limits.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/26a5d10dffeebdd534976001c0b8cb102e52ec49', 'message': 'Restore get_compute_limits backward compatibility\n\nget_compute_limits used to return absolute limits. Nodepool is currently\nrelying on this interface.\n\n- restore function to return absolute limits\n- add ""aka"" access to attributes with old ""normalized"" names\n\nChange-Id: Idc4a563c0f074658452590118e558f389f541358\n'}]",0,826920,26a5d10dffeebdd534976001c0b8cb102e52ec49,10,3,2,27900,,,0,"Restore get_compute_limits backward compatibility

get_compute_limits used to return absolute limits. Nodepool is currently
relying on this interface.

- restore function to return absolute limits
- add ""aka"" access to attributes with old ""normalized"" names

Change-Id: Idc4a563c0f074658452590118e558f389f541358
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/20/826920/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/cloud/test_limits.py', 'openstack/cloud/_compute.py', 'openstack/compute/v2/limits.py']",3,4084c57d68910c83f5c15de2aab7a986cd6428aa,nodepool-test," image_meta = resource.Body(""maxImageMeta"", aka=""max_image_meta"") security_group_rules = resource.Body( ""maxSecurityGroupRules"", aka=""max_security_group_rules"") security_groups = resource.Body( ""maxSecurityGroups"", aka=""max_security_groups"") security_groups_used = resource.Body( ""totalSecurityGroupsUsed"", aka=""total_security_groups_used"") server_meta = resource.Body(""maxServerMeta"", aka=""max_server_meta"") total_cores = resource.Body(""maxTotalCores"", aka=""max_total_cores"") total_cores_used = resource.Body(""totalCoresUsed"", aka=""total_cores_used"") floating_ips = resource.Body( ""maxTotalFloatingIps"", aka=""max_total_floating_ips"") floating_ips_used = resource.Body( ""totalFloatingIpsUsed"", aka=""total_floating_ips_used"") instances = resource.Body(""maxTotalInstances"", aka=""max_total_instances"") instances_used = resource.Body( ""totalInstancesUsed"", aka=""total_instances_used"") keypairs = resource.Body(""maxTotalKeypairs"", aka=""max_total_keypairs"") total_ram = resource.Body(""maxTotalRAMSize"", aka=""max_total_ram_size"") total_ram_used = resource.Body(""totalRAMUsed"", aka=""total_ram_used"") server_groups = resource.Body(""maxServerGroups"", aka=""max_server_groups"") server_groups_used = resource.Body( ""totalServerGroupsUsed"", aka=""total_server_groups_used"") server_group_members = resource.Body( ""maxServerGroupMembers"", aka=""max_server_group_members"")"," image_meta = resource.Body(""maxImageMeta"") security_group_rules = resource.Body(""maxSecurityGroupRules"") security_groups = resource.Body(""maxSecurityGroups"") security_groups_used = resource.Body(""totalSecurityGroupsUsed"") server_meta = resource.Body(""maxServerMeta"") total_cores = resource.Body(""maxTotalCores"") total_cores_used = resource.Body(""totalCoresUsed"") floating_ips = resource.Body(""maxTotalFloatingIps"") floating_ips_used = resource.Body(""totalFloatingIpsUsed"") instances = resource.Body(""maxTotalInstances"") instances_used = resource.Body(""totalInstancesUsed"") keypairs = resource.Body(""maxTotalKeypairs"") total_ram = resource.Body(""maxTotalRAMSize"") total_ram_used = resource.Body(""totalRAMUsed"") server_groups = resource.Body(""maxServerGroups"") server_groups_used = resource.Body(""totalServerGroupsUsed"") server_group_members = resource.Body(""maxServerGroupMembers"")",33,24
openstack%2Fnova~master~Iffb9ff2e300213ec01cccaf3b967e73331c9c9ff,openstack/nova,master,Iffb9ff2e300213ec01cccaf3b967e73331c9c9ff,tox: Install extras,MERGED,2021-12-22 17:20:11.000000000,2022-02-09 21:14:08.000000000,2022-02-09 21:09:26.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 19234}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-22 17:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38b54cbe01d48761735fa7508233abd89a8e3bc4', 'message': ""tox: Install extras\n\nInstall these via tox.ini when required. Note that we don't add them to\n'test-requirements.txt' since packagers consume those and would be\nforced to package these dependencies or modify this file.\n\nA small bug in the tox file is corrected: you can't share an environment\ndirectory if the dependencies in that directory are different. As such,\npep8 must go in its own directory again, not the 'shared' directory.\n\nChange-Id: Iffb9ff2e300213ec01cccaf3b967e73331c9c9ff\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-12-23 11:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4614a66756092941b89bba1f89a3b786579b6cd9', 'message': ""tox: Install extras\n\nInstall these via tox.ini when required. Note that we don't add them to\n'test-requirements.txt' since packagers consume those and would be\nforced to package these dependencies or modify this file.\n\nA small bug in the tox file is corrected: you can't share an environment\ndirectory if the dependencies in that directory are different. As such,\npep8 must go in its own directory again, not the 'shared' directory.\n\nChange-Id: Iffb9ff2e300213ec01cccaf3b967e73331c9c9ff\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2022-01-28 12:29:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b2aa93158940890a28e9e8c1a94ad93abbecb93', 'message': ""tox: Install extras\n\nInstall these via tox.ini when required. Note that we don't add them to\n'test-requirements.txt' since packagers consume those and would be\nforced to package these dependencies or modify this file.\n\nA small bug in the tox file is corrected: you can't share an environment\ndirectory if the dependencies in that directory are different. As such,\npep8 must go in its own directory again, not the 'shared' directory.\n\nChange-Id: Iffb9ff2e300213ec01cccaf3b967e73331c9c9ff\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,822750,4b2aa93158940890a28e9e8c1a94ad93abbecb93,55,7,3,15334,,,0,"tox: Install extras

Install these via tox.ini when required. Note that we don't add them to
'test-requirements.txt' since packagers consume those and would be
forced to package these dependencies or modify this file.

A small bug in the tox file is corrected: you can't share an environment
directory if the dependencies in that directory are different. As such,
pep8 must go in its own directory again, not the 'shared' directory.

Change-Id: Iffb9ff2e300213ec01cccaf3b967e73331c9c9ff
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/822750/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,38b54cbe01d48761735fa7508233abd89a8e3bc4,optional-dependencies,extras = powervm zvm hyperv vmwareextras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =extras =,envdir = {toxworkdir}/shared,30,1
openstack%2Fnova~master~Ic3b257c799fe1669933c13f9571208740cd1cd1a,openstack/nova,master,Ic3b257c799fe1669933c13f9571208740cd1cd1a,requirements: Bump minimum testtools to 2.5.0,MERGED,2021-12-23 11:08:25.000000000,2022-02-09 21:12:01.000000000,2022-02-09 21:09:12.000000000,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-23 11:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a792efde8ed9b50e37aa1b147e152e7e001142d', 'message': ""requirements: Bump minimum testtools to 2.5.0\n\nThis release removed the use of unittest2 in favour of the stdlib\nunittest module. unittest2 hasn't been maintained in years and has some\nquirky behavior differences to stdlib unittest. By bumping to 2.5.0, we\navoid anyone having to use this.\n\nChange-Id: Ic3b257c799fe1669933c13f9571208740cd1cd1a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-28 12:29:24.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff1dbb5eb4525a5e63fb04daae1297e770688862', 'message': ""requirements: Bump minimum testtools to 2.5.0\n\nThis release removed the use of unittest2 in favour of the stdlib\nunittest module. unittest2 hasn't been maintained in years and has some\nquirky behavior differences to stdlib unittest. By bumping to 2.5.0, we\navoid anyone having to use this.\n\nChange-Id: Ic3b257c799fe1669933c13f9571208740cd1cd1a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",13,822820,ff1dbb5eb4525a5e63fb04daae1297e770688862,105,7,2,15334,,,0,"requirements: Bump minimum testtools to 2.5.0

This release removed the use of unittest2 in favour of the stdlib
unittest module. unittest2 hasn't been maintained in years and has some
quirky behavior differences to stdlib unittest. By bumping to 2.5.0, we
avoid anyone having to use this.

Change-Id: Ic3b257c799fe1669933c13f9571208740cd1cd1a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/822820/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,0a792efde8ed9b50e37aa1b147e152e7e001142d,optional-dependencies,testtools==2.5.0,testtools==2.2.0,2,2
openstack%2Fkeystone~master~Iad00d202c41e6c06fe81eb60e0bfe7296ae91888,openstack/keystone,master,Iad00d202c41e6c06fe81eb60e0bfe7296ae91888,sql: Move test-only code to tests,MERGED,2022-01-21 17:46:19.000000000,2022-02-09 21:11:31.000000000,2022-02-09 21:11:31.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 17:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1974a3bf10281b3b0c93012b7c10251291f44441', 'message': 'sql: Move test-only code to tests\n\nAlso remove more dead code.\n\nChange-Id: Iad00d202c41e6c06fe81eb60e0bfe7296ae91888\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-24 18:42:13.000000000', 'files': ['keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1885f81576f6cf9231d34454ba462b571fb117a9', 'message': 'sql: Move test-only code to tests\n\nAlso remove more dead code.\n\nChange-Id: Iad00d202c41e6c06fe81eb60e0bfe7296ae91888\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,825841,1885f81576f6cf9231d34454ba462b571fb117a9,14,3,2,15334,,,0,"sql: Move test-only code to tests

Also remove more dead code.

Change-Id: Iad00d202c41e6c06fe81eb60e0bfe7296ae91888
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/41/825841/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_sql_upgrade.py']",2,1974a3bf10281b3b0c93012b7c10251291f44441,bp/remove-sqlalchemy-migrate,"from migrate.versioning import api as migrate_apiclass Repository: def __init__(self, engine, repo_name): self.repo_name = repo_name self.repo_path = upgrades._get_migrate_repo_path(self.repo_name) self.min_version = upgrades.INITIAL_VERSION self.schema_ = migrate_api.ControlledSchema.create( engine, self.repo_path, self.min_version, ) self.max_version = self.schema_.repository.version().version def upgrade(self, version=None, current_schema=None): version = version or self.max_version err = '' upgrade = True version = migrate_api._migrate_version( self.schema_, version, upgrade, err, ) upgrades.validate_upgrade_order( self.repo_name, target_repo_version=version, ) if not current_schema: current_schema = self.schema_ changeset = current_schema.changeset(version) for ver, change in changeset: self.schema_.runchange(ver, change, changeset.step) if self.schema_.version != version: raise Exception( 'Actual version (%s) of %s does not equal expected ' 'version (%s)' % ( self.schema_.version, self.repo_name, version, ), ) @property def version(self): with sql.session_for_read() as session: return upgrades._migrate_db_version( session.get_bind(), self.repo_path, self.min_version, ) ",,50,39
openstack%2Fnova~master~I3787f9afd78cd0a7c7feb4dfe1bcb21437b5a128,openstack/nova,master,I3787f9afd78cd0a7c7feb4dfe1bcb21437b5a128,Move optional build dependencies to 'extras',MERGED,2021-12-22 17:20:11.000000000,2022-02-09 21:09:19.000000000,2022-02-09 21:09:19.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 17:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1eca1e7b1ea42659b044bab6cf531e1d3412613', 'message': ""Move optional build dependencies to 'extras'\n\n...and start skipping the relevant tests in 'nova.tests.unit.virt' if\nthese dependencies are not present. Thanks to hacking rules N311 and\nN312, which prevent virt drivers using code from other virt drivers,\nsimply skipping the unit tests for a virt driver module is enough to\nensure we never load those modules.\n\nThis means users that want to use the powervm driver can install the\nrequired dependencies using e.g. 'pip install .[powervm]', and packagers\ncan choose to skip packaging a dependency safe in the knowledge that the\nrelevant tests will be skipped.\n\nChange-Id: I3787f9afd78cd0a7c7feb4dfe1bcb21437b5a128\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-12-23 11:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2b0de934e8a54efaf916d23a2f947743973c727', 'message': ""Move optional build dependencies to 'extras'\n\n...and start skipping the relevant tests in 'nova.tests.unit.virt' if\nthese dependencies are not present. Thanks to hacking rules N311 and\nN312, which prevent virt drivers using code from other virt drivers,\nsimply skipping the unit tests for a virt driver module is enough to\nensure we never load those modules.\n\nThis means users that want to use the powervm driver can install the\nrequired dependencies using e.g. 'pip install .[powervm]', and packagers\ncan choose to skip packaging a dependency safe in the knowledge that the\nrelevant tests will be skipped.\n\nChange-Id: I3787f9afd78cd0a7c7feb4dfe1bcb21437b5a128\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2022-01-28 12:29:24.000000000', 'files': ['nova/tests/unit/virt/zvm/__init__.py', 'requirements.txt', 'test-requirements.txt', 'nova/tests/unit/virt/vmwareapi/__init__.py', 'nova/tests/unit/virt/hyperv/__init__.py', 'nova/tests/unit/virt/powervm/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/86d87be8db588cc3125d53cd92e271fb45b1a3aa', 'message': ""Move optional build dependencies to 'extras'\n\n...and start skipping the relevant tests in 'nova.tests.unit.virt' if\nthese dependencies are not present. Thanks to hacking rules N311 and\nN312, which prevent virt drivers using code from other virt drivers,\nsimply skipping the unit tests for a virt driver module is enough to\nensure we never load those modules.\n\nThis means users that want to use the powervm driver can install the\nrequired dependencies using e.g. 'pip install .[powervm]', and packagers\ncan choose to skip packaging a dependency safe in the knowledge that the\nrelevant tests will be skipped.\n\nChange-Id: I3787f9afd78cd0a7c7feb4dfe1bcb21437b5a128\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",8,822749,86d87be8db588cc3125d53cd92e271fb45b1a3aa,62,5,3,15334,,,0,"Move optional build dependencies to 'extras'

...and start skipping the relevant tests in 'nova.tests.unit.virt' if
these dependencies are not present. Thanks to hacking rules N311 and
N312, which prevent virt drivers using code from other virt drivers,
simply skipping the unit tests for a virt driver module is enough to
ensure we never load those modules.

This means users that want to use the powervm driver can install the
required dependencies using e.g. 'pip install .[powervm]', and packagers
can choose to skip packaging a dependency safe in the knowledge that the
relevant tests will be skipped.

Change-Id: I3787f9afd78cd0a7c7feb4dfe1bcb21437b5a128
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/822749/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/zvm/__init__.py', 'requirements.txt', 'test-requirements.txt', 'nova/tests/unit/virt/vmwareapi/__init__.py', 'nova/tests/unit/virt/hyperv/__init__.py', 'nova/tests/unit/virt/powervm/__init__.py', 'setup.cfg']",7,e1eca1e7b1ea42659b044bab6cf531e1d3412613,optional-dependencies,powervm = pypowervm>=1.1.15 # Apache-2.0 zvm = zVMCloudConnector>=1.3.0;sys_platform!='win32' # Apache 2.0 License hyperv = os-win>=5.4.0 # Apache-2.0 vmware = oslo.vmware>=3.6.0 # Apache-2.0,,78,9
openstack%2Fnova~master~Ica09376951d49bc60ce6e33147477e4fa38b9482,openstack/nova,master,Ica09376951d49bc60ce6e33147477e4fa38b9482,[yoga] Add support for VNIC_REMOTE_MANAGED,MERGED,2022-01-16 20:56:26.000000000,2022-02-09 21:05:35.000000000,2022-02-09 21:00:40.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-16 20:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/254e5a84d2e43699c6bff46a0d900b81038de1b2', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nDepends-On: Ic44d5e206326827d00a751da3cea67afe3929a08\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 2, 'created': '2022-01-27 13:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10aba69584ea6b132ed133d2065e1b5b35282905', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nDepends-On: Ic44d5e206326827d00a751da3cea67afe3929a08\nDepends-On: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 3, 'created': '2022-01-27 21:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54b436f9519181f44c8f2b3a9d3d4570ec61bd2d', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nDepends-On: Ic44d5e206326827d00a751da3cea67afe3929a08\nDepends-On: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 4, 'created': '2022-01-28 11:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f726d0f736a2b14db0b23b552ea8294b6f5e85a', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nDepends-On: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 5, 'created': '2022-01-28 18:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9fa798b8aa5cf910df470a9ed88f711828750f5', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nDepends-On: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 6, 'created': '2022-01-31 15:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c57f0b839f2251735556111c3f1018e2a3a844d0', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 7, 'created': '2022-02-01 14:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f879371a12b14e42fc0ac0adf7f50b4deb90056', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 8, 'created': '2022-02-01 19:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ef4e170b2a0cc0ff4c3025b37b9e09154ed3039', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 9, 'created': '2022-02-01 19:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c6d5fc6bdc5690708d48af2d469ad1c5e1cad1a', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 10, 'created': '2022-02-02 12:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a2c63d1d3dc046548ab7d9ab0b912505a204cda', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 11, 'created': '2022-02-03 20:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e2437ed70908323fe84b524368630ed615aa8a5', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 12, 'created': '2022-02-04 11:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/903dfbe103177fddf53ab1ce85694abffb9d2c3f', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 13, 'created': '2022-02-04 16:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bec7f191d857b89c50ab7b85e7c3e4730c81c2d1', 'message': '[yoga] Add support for VNIC_TYPE_SMARTNIC\n\nAllow instances to be created with VNIC_TYPE_SMARTNIC ports. Those ports\nare assumed to require remote-managed PCI devices which means that\noperators need to tag those as ""remote_managed"" in the PCI whitelist if\nthis is the case (there is no meta information or standard means of\nquerying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_SMARTNIC ports during allocation of resources\n  for instance creation (remote_managed == true in InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order\n  to avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_SMARTNIC.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 14, 'created': '2022-02-08 16:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b69776636bfb4f11801a4560104ebaf108ad2011', 'message': '[yoga] Add support for VNIC_REMOTE_MANAGED\n\nAllow instances to be created with VNIC_TYPE_REMOTE_MANAGED ports.\nThose ports are assumed to require remote-managed PCI devices which\nmeans that operators need to tag those as ""remote_managed"" in the PCI\nwhitelist if this is the case (there is no meta information or standard\nmeans of querying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_REMOTE_MANAGED ports during allocation of\n  resources for instance creation (remote_managed == true in\n  InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_REMOTE_MANAGED ports\n  in order to avoid the invocation of the local representor plugging\n  logic since a networking backend is responsible for that in this\n  case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_REMOTE_MANAGED.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_REMOTE_MANAGED ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_REMOTE_MANAGED. Network requests are examined for the presence\n  of port ids to determine the VNIC type via Neutron API. If\n  remote-managed ports are requested, a compute service version check\n  is performed across all cells.\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 15, 'created': '2022-02-08 22:23:45.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/network/test_os_vif_util.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_compute.py', 'nova/network/os_vif_util.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/network/neutron.py', 'nova/compute/api.py', 'nova/conf/workarounds.py', 'releasenotes/notes/vnic-type-remote-managed-b90cacf1c91df22b.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/0620678344d0f032a33e952d4d0fa653741f09e7', 'message': '[yoga] Add support for VNIC_REMOTE_MANAGED\n\nAllow instances to be created with VNIC_TYPE_REMOTE_MANAGED ports.\nThose ports are assumed to require remote-managed PCI devices which\nmeans that operators need to tag those as ""remote_managed"" in the PCI\nwhitelist if this is the case (there is no meta information or standard\nmeans of querying this information).\n\nThe following changes are introduced:\n\n* Handling for VNIC_TYPE_REMOTE_MANAGED ports during allocation of\n  resources for instance creation (remote_managed == true in\n  InstancePciRequests);\n\n* Usage of the noop os-vif plugin for VNIC_TYPE_REMOTE_MANAGED ports\n  in order to avoid the invocation of the local representor plugging\n  logic since a networking backend is responsible for that in this\n  case;\n\n* Expectation of bind time events for ports of VNIC_TYPE_REMOTE_MANAGED.\n  Events for those arrive early from Neutron after a port update (before\n  Nova begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_REMOTE_MANAGED ports;\n\n* Making sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_REMOTE_MANAGED. Network requests are examined for the presence\n  of port ids to determine the VNIC type via Neutron API. If\n  remote-managed ports are requested, a compute service version check\n  is performed across all cells.\n\nChange-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482\nImplements: blueprint integration-with-off-path-network-backends\n'}]",87,824835,0620678344d0f032a33e952d4d0fa653741f09e7,141,3,15,24824,,,0,"[yoga] Add support for VNIC_REMOTE_MANAGED

Allow instances to be created with VNIC_TYPE_REMOTE_MANAGED ports.
Those ports are assumed to require remote-managed PCI devices which
means that operators need to tag those as ""remote_managed"" in the PCI
whitelist if this is the case (there is no meta information or standard
means of querying this information).

The following changes are introduced:

* Handling for VNIC_TYPE_REMOTE_MANAGED ports during allocation of
  resources for instance creation (remote_managed == true in
  InstancePciRequests);

* Usage of the noop os-vif plugin for VNIC_TYPE_REMOTE_MANAGED ports
  in order to avoid the invocation of the local representor plugging
  logic since a networking backend is responsible for that in this
  case;

* Expectation of bind time events for ports of VNIC_TYPE_REMOTE_MANAGED.
  Events for those arrive early from Neutron after a port update (before
  Nova begins to wait in the virt driver code, therefore, Nova is set
  to avoid waiting for plug events for VNIC_TYPE_REMOTE_MANAGED ports;

* Making sure the service version is high enough on all compute services
  before creating instances with ports that have VNIC type
  VNIC_TYPE_REMOTE_MANAGED. Network requests are examined for the presence
  of port ids to determine the VNIC type via Neutron API. If
  remote-managed ports are requested, a compute service version check
  is performed across all cells.

Change-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482
Implements: blueprint integration-with-off-path-network-backends
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/824835/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/network/test_os_vif_util.py', 'nova/tests/unit/compute/test_compute.py', 'nova/network/os_vif_util.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/network/neutron.py', 'nova/network/model.py', 'nova/compute/manager.py', 'nova/compute/api.py']",13,254e5a84d2e43699c6bff46a0d900b81038de1b2,2021-09-10-off-path-net-backends-dep,"SUPPORT_VNIC_TYPE_SMARTNIC = 61 def _check_support_vnic_smartnic(self, context, requested_networks): if requested_networks: for request_net in requested_networks: if request_net.port_id and self.network_api.is_smartnic_port( context, request_net.port_id): min_version = (objects.service. get_minimum_version_all_cells( context, ['nova-compute'])) if min_version < SUPPORT_VNIC_TYPE_SMARTNIC: msg = (""SmartNIC ports are not supported"" "" until an upgrade is fully finished."") raise exception.ForbiddenWithSmartNICPorts(msg) self._check_support_vnic_smartnic(context, requested_networks)",,314,24
openstack%2Fpython-openstackclient~master~I4e1a0aed09ea5d6a8c26ec3e888c9c7b6cefc25a,openstack/python-openstackclient,master,I4e1a0aed09ea5d6a8c26ec3e888c9c7b6cefc25a,image: Sanity check the 'SetImage' command,MERGED,2021-11-17 11:42:15.000000000,2022-02-09 21:05:22.000000000,2022-02-09 21:00:49.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-17 11:42:15.000000000', 'files': ['openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/61fac5b79e2e4a4120046b2f830e4745bb383fb3', 'message': ""image: Sanity check the 'SetImage' command\n\nThis was a very difficult command to grok, due to the layering on of\nadditional features over the years. Make this a little easier to follow\nby grouping related logic and making use of argparse features.\n\nChange-Id: I4e1a0aed09ea5d6a8c26ec3e888c9c7b6cefc25a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,818226,61fac5b79e2e4a4120046b2f830e4745bb383fb3,7,2,1,15334,,,0,"image: Sanity check the 'SetImage' command

This was a very difficult command to grok, due to the layering on of
additional features over the years. Make this a little easier to follow
by grouping related logic and making use of argparse features.

Change-Id: I4e1a0aed09ea5d6a8c26ec3e888c9c7b6cefc25a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/26/818226/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py']",2,61fac5b79e2e4a4120046b2f830e4745bb383fb3,trivial," action=""store_const"", const=""accepted"", dest=""membership"", default=None, action=""store_const"", const=""rejected"", dest=""membership"", default=None, action=""store_const"", const=""pending"", dest=""membership"", default=None, image = image_client.find_image( parsed_args.image, ignore_missing=False, ) project_id = None if parsed_args.project: project_id = common.find_project( identity_client, parsed_args.project, parsed_args.project_domain, ).id # handle activation status changes activation_status = None if parsed_args.deactivate or parsed_args.activate: if parsed_args.deactivate: image_client.deactivate_image(image.id) activation_status = ""deactivated"" if parsed_args.activate: image_client.reactivate_image(image.id) activation_status = ""activated"" # handle membership changes if parsed_args.membership: # If a specific project is not passed, assume we want to update # our own membership if not project_id: project_id = self.app.client_manager.auth_ref.project_id image_client.update_member( image=image.id, member=project_id, status=parsed_args.membership, ) # handle everything else if parsed_args.project: # We already did the project lookup above"," action=""store_true"", action=""store_true"", action=""store_true"", project_id = None if parsed_args.project: project_id = common.find_project( identity_client, parsed_args.project, parsed_args.project_domain, ).id image = image_client.find_image(parsed_args.image, ignore_missing=False) # image = utils.find_resource( # image_client.images, parsed_args.image) activation_status = None if parsed_args.deactivate: image_client.deactivate_image(image.id) activation_status = ""deactivated"" if parsed_args.activate: image_client.reactivate_image(image.id) activation_status = ""activated"" membership_group_args = ('accept', 'reject', 'pending') membership_status = [status for status in membership_group_args if getattr(parsed_args, status)] if membership_status: # If a specific project is not passed, assume we want to update # our own membership if not project_id: project_id = self.app.client_manager.auth_ref.project_id # The mutually exclusive group of the arg parser ensure we have at # most one item in the membership_status list. if membership_status[0] != 'pending': membership_status[0] += 'ed' # Glance expects the past form image_client.update_member( image=image.id, member=project_id, status=membership_status[0]) ",53,49
openstack%2Fpython-openstackclient~stable%2Fwallaby~Ie0251a0dccdf3385089e5bbaedf646a5e928cc48,openstack/python-openstackclient,stable/wallaby,Ie0251a0dccdf3385089e5bbaedf646a5e928cc48,compute: Fix filtering servers by tags,MERGED,2021-10-13 11:51:43.000000000,2022-02-09 21:03:33.000000000,2022-02-09 21:00:52.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-10-13 11:51:43.000000000', 'files': ['releasenotes/notes/bug-1946816-7665858605453578.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3f4142d5ddfca8c594d35bb0e5fd65009286d11b', 'message': ""compute: Fix filtering servers by tags\n\nThe nova API expects the 'tags' and 'not-tags' filters of the 'GET\n/servers' (list servers) API to be a CSV string [1]:\n\n  tags (Optional)\n    A list of tags to filter the server list by. Servers that match all\n    tags in this list will be returned. Boolean expression in this case\n    is 't1 AND t2'. Tags in query must be separated by comma.\n\n    New in version 2.26\n\n  not-tags (Optional)\n    A list of tags to filter the server list by. Servers that don’t\n    match all tags in this list will be returned. Boolean expression in\n    this case is 'NOT (t1 AND t2)'. Tags in query must be separated by\n    comma.\n\n    New in version 2.26\n\nWe were instead providing a Python list, which was simply being URL\nencoded. Correct this.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detail#list-servers\n\nChange-Id: Ie0251a0dccdf3385089e5bbaedf646a5e928cc48\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1946816\n(cherry picked from commit 53debe7fe1978f661768a27430f646a288948ecc)\n(cherry picked from commit cbc64f9469600624e74631f42ca214487e800155)\n""}]",0,813804,3f4142d5ddfca8c594d35bb0e5fd65009286d11b,7,2,1,15334,,,0,"compute: Fix filtering servers by tags

The nova API expects the 'tags' and 'not-tags' filters of the 'GET
/servers' (list servers) API to be a CSV string [1]:

  tags (Optional)
    A list of tags to filter the server list by. Servers that match all
    tags in this list will be returned. Boolean expression in this case
    is 't1 AND t2'. Tags in query must be separated by comma.

    New in version 2.26

  not-tags (Optional)
    A list of tags to filter the server list by. Servers that don’t
    match all tags in this list will be returned. Boolean expression in
    this case is 'NOT (t1 AND t2)'. Tags in query must be separated by
    comma.

    New in version 2.26

We were instead providing a Python list, which was simply being URL
encoded. Correct this.

[1] https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detail#list-servers

Change-Id: Ie0251a0dccdf3385089e5bbaedf646a5e928cc48
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1946816
(cherry picked from commit 53debe7fe1978f661768a27430f646a288948ecc)
(cherry picked from commit cbc64f9469600624e74631f42ca214487e800155)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/04/813804/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1946816-7665858605453578.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,3f4142d5ddfca8c594d35bb0e5fd65009286d11b,bug/1946816," search_opts['tags'] = ','.join(parsed_args.tags) search_opts['not-tags'] = ','.join(parsed_args.not_tags)", search_opts['tags'] = parsed_args.tags search_opts['not-tags'] = parsed_args.not_tags,10,4
openstack%2Fpython-openstackclient~master~I92ee74a1df72a6dd23f9d2dc04342aab0cbd3210,openstack/python-openstackclient,master,I92ee74a1df72a6dd23f9d2dc04342aab0cbd3210,tests: Update fake image client in tests,MERGED,2021-11-17 11:42:15.000000000,2022-02-09 21:03:32.000000000,2022-02-09 21:00:46.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-17 11:42:15.000000000', 'files': ['openstackclient/tests/unit/image/v2/fakes.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/image/v1/fakes.py', 'openstackclient/tests/unit/image/v1/test_image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1feb676469f7ccd6a022027bf2e1ecee9cf6d548', 'message': 'tests: Update fake image client in tests\n\nThese clients are intended to fake out the old glanceclient client which\nwe no longer use. They were only ""working"" because we weren\'t actually\nusing any of the glancelclient-based stuff and were instead overriding\neverything within the tests. Move these overrides back to the main\nfake client and remove the crud.\n\nChange-Id: I92ee74a1df72a6dd23f9d2dc04342aab0cbd3210\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,818225,1feb676469f7ccd6a022027bf2e1ecee9cf6d548,7,2,1,15334,,,0,"tests: Update fake image client in tests

These clients are intended to fake out the old glanceclient client which
we no longer use. They were only ""working"" because we weren't actually
using any of the glancelclient-based stuff and were instead overriding
everything within the tests. Move these overrides back to the main
fake client and remove the crud.

Change-Id: I92ee74a1df72a6dd23f9d2dc04342aab0cbd3210
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/25/818225/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/image/v2/fakes.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/image/v1/fakes.py', 'openstackclient/tests/unit/image/v1/test_image.py']",4,1feb676469f7ccd6a022027bf2e1ecee9cf6d548,trivial, pass," def setUp(self): super(TestImage, self).setUp() self.app.client_manager.image = mock.Mock() self.client = self.app.client_manager.image",28,36
openstack%2Fnova~master~I83a128a260acdd8bf78fede566af6881b8b82a9c,openstack/nova,master,I83a128a260acdd8bf78fede566af6881b8b82a9c,[yoga] Include pf mac and vf num in port updates,MERGED,2022-01-16 20:56:26.000000000,2022-02-09 21:03:31.000000000,2022-02-09 20:59:46.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-01-16 20:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd141c79024a55c5fe536c9596616bb490057002', 'message': '[yoga] Include pf mac and vf num in port updates\n\nAdds methods to retrieve PF mac and VF logical number at runtime for\na given VF PCI address and include them in port updates to Neutron.\n\nImplements: blueprint integration-with-off-path-network-backends\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\nChange-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c\n'}, {'number': 2, 'created': '2022-01-27 11:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e31fb0e73c734c0aadcc3db21121117f7c28fb', 'message': '[yoga] Include pf mac and vf num in port updates\n\nAdds methods to retrieve PF mac and VF logical number at runtime for\na given VF PCI address and include them in port updates to Neutron.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c\n'}, {'number': 3, 'created': '2022-01-27 13:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0696bd112bdb02678c77f9c4216e9bc3bdbe9262', 'message': '[yoga] Include pf mac and vf num in port updates\n\nAdds methods to retrieve PF mac and VF logical number at runtime for\na given VF PCI address and include them in port updates to Neutron.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c\n'}, {'number': 4, 'created': '2022-01-27 21:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a695662932d5bcce0a0b32813071c20f6c0ffd5c', 'message': '[yoga] Include pf mac and vf num in port updates\n\nAdds methods to retrieve PF mac and VF logical number at runtime for\na given VF PCI address and include them in port updates to Neutron.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c\n'}, {'number': 5, 'created': '2022-01-28 18:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89966c1219dda4963d9b1bbc47d3acc6b742d85b', 'message': '[yoga] Include pf mac and vf num in port updates\n\nAdds methods to retrieve PF mac and VF logical number at runtime for\na given VF PCI address and include them in port updates to Neutron.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c\n'}, {'number': 6, 'created': '2022-01-31 15:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f766125471dca45dc4501ae90ed4140da8c9c87a', 'message': '[yoga] Include pf mac and vf num in port updates\n\nAdds methods to retrieve PF mac and VF logical number at runtime for\na given VF PCI address and include them in port updates to Neutron.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c\n'}, {'number': 7, 'created': '2022-02-01 14:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00b9afd7772d2331eb0b92873b4ae18eebdb36d8', 'message': '[yoga] Include pf mac and vf num in port updates\n\nAdds methods to retrieve PF mac and VF logical number at runtime for\na given VF PCI address and include them in port updates to Neutron.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c\n'}, {'number': 8, 'created': '2022-02-08 11:33:26.000000000', 'files': ['nova/pci/utils.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/tests/unit/network/test_neutron.py', 'nova/virt/fake.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/pci/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f71696ecc2cd1abfc30f2f03f3c4857e51b9fbf', 'message': '[yoga] Include pf mac and vf num in port updates\n\nRetrieve PF mac and VF logical number at runtime for\na given VF PCI address and include them in port updates to Neutron.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c\n'}]",76,824833,1f71696ecc2cd1abfc30f2f03f3c4857e51b9fbf,99,4,8,24824,,,0,"[yoga] Include pf mac and vf num in port updates

Retrieve PF mac and VF logical number at runtime for
a given VF PCI address and include them in port updates to Neutron.

Implements: blueprint integration-with-off-path-network-backends
Change-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/824833/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/pci/utils.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/pci/test_utils.py', 'nova/tests/functional/test_servers_resource_request.py']",9,dd141c79024a55c5fe536c9596616bb490057002,2021-09-10-off-path-net-backends-dep,"import fixtures self.useFixture(fixtures.MockPatch( 'nova.pci.utils.get_pf_mac_by_vf_pci_address', return_value='fake_pf_mac')) self.useFixture(fixtures.MockPatch( 'nova.pci.utils.get_vf_num_by_pci_address', return_value='fake_vf_num')) ",,337,20
openstack%2Fnova~master~I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2,openstack/nova,master,I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2,Filter computes without remote-managed ports early,MERGED,2021-10-01 08:59:24.000000000,2022-02-09 21:00:32.000000000,2022-02-09 21:00:32.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 08:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e386ce11793631619a12d66abffc01fc73498a0a', 'message': '[yoga] Support remote-managed SmartNIC DPU ports\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\nRemotely managed VFs need to be classified\nas such based on a port type used at port creation. VF logical number\nand PF mac also need to be passed to Neutron in port updates to allow\nremote_managed ports to be set up correctly on a SmartNIC DPU.\n\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 2, 'created': '2021-10-05 21:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0b658dc1c0ba4f1504c4c3b7f9460165a19fb66', 'message': '[yoga] Support remote-managed SmartNIC DPU ports\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\nRemotely managed VFs need to be classified\nas such based on a port type used at port creation. VF logical number\nand PF mac also need to be passed to Neutron in port updates to allow\nremote_managed ports to be set up correctly on a SmartNIC DPU.\n\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n\n* Use the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order to\n  avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 3, 'created': '2021-10-11 17:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9cf33faa33a4a47eede7765e5e1b00139c99fb1', 'message': '[yoga] Support remote-managed SmartNIC DPU ports\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\nRemotely managed VFs need to be classified\nas such based on a port type used at port creation. VF logical number\nand PF mac also need to be passed to Neutron in port updates to allow\nremote_managed ports to be set up correctly on a SmartNIC DPU.\n\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n\n* Use the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order to\n  avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 4, 'created': '2021-11-19 07:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d391e08e7a6efc2f25012ce3c144b65cb10a824', 'message': '[yoga] Support remote-managed SmartNIC DPU ports\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\nRemotely managed VFs need to be classified\nas such based on a port type used at port creation. VF logical number\nand PF mac also need to be passed to Neutron in port updates to allow\nremote_managed ports to be set up correctly on a SmartNIC DPU.\n\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n\n* Use the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order to\n  avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case.\n\n* Expect bind time events for ports of VNIC_TYPE_SMARTNIC. Events for\n  those arrive early from Neutron after a port update (before Nova\n  begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports.\n\n* Make sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 5, 'created': '2021-11-19 16:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fb6bb63c06b909a4f479dfc21c7900f71682cff', 'message': '[yoga] Support remote-managed SmartNIC DPU ports\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\nRemotely managed VFs need to be classified\nas such based on a port type used at port creation. VF logical number\nand PF mac also need to be passed to Neutron in port updates to allow\nremote_managed ports to be set up correctly on a SmartNIC DPU.\n\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n\n* Use the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order to\n  avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case.\n\n* Expect bind time events for ports of VNIC_TYPE_SMARTNIC. Events for\n  those arrive early from Neutron after a port update (before Nova\n  begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports.\n\n* Make sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 6, 'created': '2021-11-19 20:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/988e8e3d63f57a3f72f6ebbbe3c1b30b4cf0c13b', 'message': '[yoga] Support remote-managed SmartNIC DPU ports\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\nRemotely managed VFs need to be classified\nas such based on a port type used at port creation. VF logical number\nand PF mac also need to be passed to Neutron in port updates to allow\nremote_managed ports to be set up correctly on a SmartNIC DPU.\n\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n\n* Use the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order to\n  avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case.\n\n* Expect bind time events for ports of VNIC_TYPE_SMARTNIC. Events for\n  those arrive early from Neutron after a port update (before Nova\n  begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports.\n\n* Make sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 7, 'created': '2021-11-22 22:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a6789ce3d4796cbdb20464fa17dfe0234a0b7a0', 'message': '[yoga] Support remote-managed SmartNIC DPU ports\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\nRemotely managed VFs need to be classified\nas such based on a port type used at port creation. VF logical number\nand PF mac also need to be passed to Neutron in port updates to allow\nremote_managed ports to be set up correctly on a SmartNIC DPU.\n\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n\n* Use the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order to\n  avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case.\n\n* Expect bind time events for ports of VNIC_TYPE_SMARTNIC. Events for\n  those arrive early from Neutron after a port update (before Nova\n  begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports.\n\n* Make sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 8, 'created': '2021-11-24 20:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b528ab727a3da925b3806cea92a6877d4176c4f', 'message': '[yoga] Support remote-managed SmartNIC DPU ports\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\nRemotely managed VFs need to be classified\nas such based on a port type used at port creation. VF logical number\nand PF mac also need to be passed to Neutron in port updates to allow\nremote_managed ports to be set up correctly on a SmartNIC DPU.\n\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n\n* Use the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order to\n  avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case.\n\n* Expect bind time events for ports of VNIC_TYPE_SMARTNIC. Events for\n  those arrive early from Neutron after a port update (before Nova\n  begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports.\n\n* Make sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells.\n\n* Add a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\n  in them: hosts that do not have either the relevant compute driver\n  capability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n  ""remote_managed"" devices are filtered out early. Presence of devices\n  actually available for allocation is checked at a later point by\n  the PciPassthroughFilter.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 9, 'created': '2021-11-25 12:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e3b85c79f8eab2130035eb205477593d464b5b1', 'message': '[yoga] Support remote-managed SmartNIC DPU ports\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\nRemotely managed VFs need to be classified\nas such based on a port type used at port creation. VF logical number\nand PF mac also need to be passed to Neutron in port updates to allow\nremote_managed ports to be set up correctly on a SmartNIC DPU.\n\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration;\n\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron;\n\n* Use the noop os-vif plugin for VNIC_TYPE_SMARTNIC ports in order to\n  avoid the invocation of the local representor plugging logic since\n  a networking backend is responsible for that in this case;\n\n* Expect bind time events for ports of VNIC_TYPE_SMARTNIC. Events for\n  those arrive early from Neutron after a port update (before Nova\n  begins to wait in the virt driver code, therefore, Nova is set\n  to avoid waiting for plug events for VNIC_TYPE_SMARTNIC ports;\n\n* Make sure the service version is high enough on all compute services\n  before creating instances with ports that have VNIC type\n  VNIC_TYPE_SMARTNIC. Network requests are examined for the presence of\n  port ids to determine the VNIC type via Neutron API. If SmartNIC\n  ports are requested, a compute service version check is performed\n  across all cells;\n\n* Add a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\n  in them: hosts that do not have either the relevant compute driver\n  capability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n  ""remote_managed"" devices are filtered out early. Presence of devices\n  actually available for allocation is checked at a later point by\n  the PciPassthroughFilter;\n\n* Filter devices marked as remote_managed=""true"" in the whitelist\n  configuration when matching devices against InstancePCIRequest specs\n  so that they are not used in legacy SR-IOV and hardware offload\n  requests;\n\n* Filter out PFs marked as remote_managed=""true"" in the whitelist\n  configuration. This is not supported explicitly since allocating such\n  PFs would remove the associated VFs from the pool and an instance with\n  such PF and its VFs will not have access to the control plane required\n  for representor interface plugging at the SmartNIC DPU side. This\n  configuration is not valid which is enforced in the PCIDeviceStats\n  code.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nDepends-On: I6445433142286728a8c7efadcf80d07082d60bc3\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 10, 'created': '2022-01-16 20:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91e186598a973bedb253c66b6bb93f9dcd1e4fb4', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nDepends-On: Ica09376951d49bc60ce6e33147477e4fa38b9482\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 11, 'created': '2022-01-27 13:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b80f3070482736fcebeb11d402bfc350ab6eb36e', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nDepends-On: If33ff039a5a3dca71cef8494cdb7b6573c7cfc9c\nDepends-On: Ic314d3e1871651abbdff69b0e4a022672d43e570\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 12, 'created': '2022-01-27 21:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e96208da428f636adbbb60885be8f296e5f991b', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nDepends-On: If33ff039a5a3dca71cef8494cdb7b6573c7cfc9c\nDepends-On: Ic314d3e1871651abbdff69b0e4a022672d43e570\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 13, 'created': '2022-01-28 11:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f515f0aedcbf4ded9ddaa05b95d0254b46423aaf', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nDepends-On: If33ff039a5a3dca71cef8494cdb7b6573c7cfc9c\nDepends-On: Ic314d3e1871651abbdff69b0e4a022672d43e570\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 14, 'created': '2022-01-28 18:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cfc4a3be99eaaee0e8a6a739832e29a5abcb4fc', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nDepends-On: If33ff039a5a3dca71cef8494cdb7b6573c7cfc9c\nDepends-On: Ic314d3e1871651abbdff69b0e4a022672d43e570\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 15, 'created': '2022-01-31 15:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fad56ba527e1960a1af724bfa14eb7c4040682d', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nDepends-On: If33ff039a5a3dca71cef8494cdb7b6573c7cfc9c\nDepends-On: Ic314d3e1871651abbdff69b0e4a022672d43e570\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 16, 'created': '2022-02-01 14:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/067d03255c55c6bb3c6a63c4a3439a4c3e02394d', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nDepends-On: If33ff039a5a3dca71cef8494cdb7b6573c7cfc9c\nDepends-On: Ic314d3e1871651abbdff69b0e4a022672d43e570\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 17, 'created': '2022-02-01 19:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d69896f4404cac740360c436c6670d1328f906e8', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nDepends-On: If5a4c81084ff9f9f8fecf9fa4cd62fc98e3efcd9\nDepends-On: If33ff039a5a3dca71cef8494cdb7b6573c7cfc9c\nDepends-On: Ic314d3e1871651abbdff69b0e4a022672d43e570\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 18, 'created': '2022-02-01 19:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66237a564d586a014c810d660b98a96c0548bc68', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 19, 'created': '2022-02-02 12:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6ee7ce26dd4212dfc4f6f902e9f16a8578bdad3', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 20, 'created': '2022-02-03 20:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f86d92e4f13213ffff8fe5c540a74ae926359943', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 21, 'created': '2022-02-04 11:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc99c9cf46c747707e26119160aaa6f197a502eb', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 22, 'created': '2022-02-04 16:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/baeb9a9305e3e83d0480bae75dae472bf7f25fca', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_SMARTNIC ports\nin them: hosts that do not have either the relevant compute driver\ncapability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools with\n""remote_managed"" devices are filtered out early. Presence of devices\nactually available for allocation is checked at a later point by\nthe PciPassthroughFilter.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 23, 'created': '2022-02-08 16:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83c246386365b6d878b34803fad2d3f32d6e0df9', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_REMOTE_MANAGED\nports in them: hosts that do not have either the relevant compute\ndriver capability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools\nwith ""remote_managed"" devices are filtered out early. Presence of\ndevices actually available for allocation is checked at a later\npoint by the PciPassthroughFilter.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 24, 'created': '2022-02-08 22:23:45.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/network/model.py', 'nova/scheduler/request_filter.py', 'nova/pci/stats.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c487c730d010013f8579622337af63d93b733f3b', 'message': 'Filter computes without remote-managed ports early\n\nAdd a pre-filter for requests that contain VNIC_TYPE_REMOTE_MANAGED\nports in them: hosts that do not have either the relevant compute\ndriver capability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools\nwith ""remote_managed"" devices are filtered out early. Presence of\ndevices actually available for allocation is checked at a later\npoint by the PciPassthroughFilter.\n\nChange-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nImplements: blueprint integration-with-off-path-network-backends\n'}]",84,812111,c487c730d010013f8579622337af63d93b733f3b,202,4,24,24824,,,0,"Filter computes without remote-managed ports early

Add a pre-filter for requests that contain VNIC_TYPE_REMOTE_MANAGED
ports in them: hosts that do not have either the relevant compute
driver capability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools
with ""remote_managed"" devices are filtered out early. Presence of
devices actually available for allocation is checked at a later
point by the PciPassthroughFilter.

Change-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2
Implements: blueprint integration-with-off-path-network-backends
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/812111/22 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/utils.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/functional/test_servers_resource_request.py', 'nova/tests/unit/pci/test_stats.py', 'nova/exception.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/conf/pci.py', 'nova/network/model.py', 'nova/pci/request.py', 'nova/tests/unit/pci/test_utils.py', 'nova/pci/stats.py']",14,e386ce11793631619a12d66abffc01fc73498a0a,2021-09-10-off-path-net-backends-dep," @staticmethod def _maybe_add_remote_managed_tag( dev: 'objects.PciDevice', pool: Pool): """"""Add a remote_managed tag depending on a device type if needed. Network devices may be managed remotely, e.g. by a SmartNIC DPU. If a tag has not been explicitly provided, populate it by assuming that a device is not remote managed by default. """""" if dev.dev_type not in (fields.PciDeviceType.SRIOV_VF, fields.PciDeviceType.SRIOV_PF, fields.PciDeviceType.VDPA): return if pool.get('remote_managed') is None: # NOTE: tags are compared as strings. pool['remote_managed'] = 'false' self._maybe_add_remote_managed_tag(dev, pool) ",,531,41
openstack%2Fnova~master~I7ea96fd85d2607e0af0f6918b0b45c58e8bec058,openstack/nova,master,I7ea96fd85d2607e0af0f6918b0b45c58e8bec058,Add supports_remote_managed_ports capability,MERGED,2022-02-04 11:11:23.000000000,2022-02-09 21:00:10.000000000,2022-02-09 21:00:10.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 11:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3840b488a17a2536bedc6a6eba7b5b572f6739ff', 'message': 'Add supports_remote_managed_ports capability\n\nIn order to support remote-managed ports the following is needed:\n\n* Nova compute driver needs to support this feature;\n* For the Libvirt compute driver, a given host needs to have the right\n  version of Libvirt - the one which supports PCI VPD (7.9.0\n  https://libvirt.org/news.html#v7-9-0-2021-11-01).\n\nTherefore, this change introduces:\n\n* A new capability is introduced to track driver support for\n  remote-managed ports;\n* A new parameter passed to the Whitelist and PciDeviceSpec in order to\n  detect the use of `remote_managed: ""true""` in the\n  passthrough_whitelist option early upon startup.\n\nAlso note:\n\n* PciDeviceStats is used both at in the compute and scheduler services;\n* PciDeviceStats uses Whitelist so it is assumed that handling of\n  remote-managed ports is supported there since Nova Compute will do\n  an early check independently.\n\nChange-Id: I7ea96fd85d2607e0af0f6918b0b45c58e8bec058\n'}, {'number': 2, 'created': '2022-02-04 16:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a4a17524b7087ac5807a1ae6427cfc15f3abb6c', 'message': 'Add supports_remote_managed_ports capability\n\nIn order to support remote-managed ports the following is needed:\n\n* Nova compute driver needs to support this feature;\n* For the Libvirt compute driver, a given host needs to have the right\n  version of Libvirt - the one which supports PCI VPD (7.9.0\n  https://libvirt.org/news.html#v7-9-0-2021-11-01).\n\nTherefore, this change introduces:\n\n* A new capability is introduced to track driver support for\n  remote-managed ports;\n* A new parameter passed to the Whitelist and PciDeviceSpec in order to\n  detect the use of `remote_managed: ""true""` in the\n  passthrough_whitelist option early upon startup.\n\nAlso note:\n\n* PciDeviceStats is used both at in the compute and scheduler services;\n* PciDeviceStats uses Whitelist so it is assumed that handling of\n  remote-managed ports is supported there since Nova Compute will do\n  an early check independently.\n\nChange-Id: I7ea96fd85d2607e0af0f6918b0b45c58e8bec058\n'}, {'number': 3, 'created': '2022-02-08 16:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f80010b38fc69fb228209a4214e0cd046397c13', 'message': 'Add supports_remote_managed_ports capability\n\nIn order to support remote-managed ports the following is needed:\n\n* Nova compute driver needs to support this feature;\n* For the Libvirt compute driver, a given host needs to have the right\n  version of Libvirt - the one which supports PCI VPD (7.9.0\n  https://libvirt.org/news.html#v7-9-0-2021-11-01).\n\nTherefore, this change introduces a new capability to track driver\nsupport for remote-managed ports.\n\nChange-Id: I7ea96fd85d2607e0af0f6918b0b45c58e8bec058\n'}, {'number': 4, 'created': '2022-02-08 22:23:45.000000000', 'files': ['nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/virt/driver.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/zvm/driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d1e9ecb443dd6bd5dc6456a3f9e33c1551436364', 'message': 'Add supports_remote_managed_ports capability\n\nIn order to support remote-managed ports the following is needed:\n\n* Nova compute driver needs to support this feature;\n* For the Libvirt compute driver, a given host needs to have the right\n  version of Libvirt - the one which supports PCI VPD (7.9.0\n  https://libvirt.org/news.html#v7-9-0-2021-11-01).\n\nTherefore, this change introduces a new capability to track driver\nsupport for remote-managed ports.\n\nChange-Id: I7ea96fd85d2607e0af0f6918b0b45c58e8bec058\n'}]",26,827839,d1e9ecb443dd6bd5dc6456a3f9e33c1551436364,46,3,4,24824,,,0,"Add supports_remote_managed_ports capability

In order to support remote-managed ports the following is needed:

* Nova compute driver needs to support this feature;
* For the Libvirt compute driver, a given host needs to have the right
  version of Libvirt - the one which supports PCI VPD (7.9.0
  https://libvirt.org/news.html#v7-9-0-2021-11-01).

Therefore, this change introduces a new capability to track driver
support for remote-managed ports.

Change-Id: I7ea96fd85d2607e0af0f6918b0b45c58e8bec058
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/827839/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/devspec.py', 'nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/virt/driver.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/pci/whitelist.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/pci/test_devspec.py', 'nova/compute/manager.py', 'nova/pci/stats.py']",15,3840b488a17a2536bedc6a6eba7b5b572f6739ff,2021-09-10-off-path-net-backends-dep," # Note(dmitriis): Assume remote-managed ports are supported here # because PciDeviceStats is used both in the compute and scheduler # services while the compute service does an early check on whether # a host can support this feature locally or not. CONF.pci.passthrough_whitelist, allow_remote_managed_ports=True) # A tag is added here rather than at the client side to avoid an # issue with having objects without this tag specified during an # upgrade to the first version that supports handling this tag.", CONF.pci.passthrough_whitelist),134,28
openstack%2Fnova~master~Ic1179f3e5e2c1aeb069972f21edffe5b003eb525,openstack/nova,master,Ic1179f3e5e2c1aeb069972f21edffe5b003eb525,Bump os-traits to 2.7.0,MERGED,2022-01-27 13:54:16.000000000,2022-02-09 21:00:03.000000000,2022-02-09 21:00:03.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-27 13:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20159648dcfd6ebb9b00972e264b12c051eaae53', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 2, 'created': '2022-01-27 21:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/379067dc9f45fca51e8c840fd4cc5fc40e1e5055', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 3, 'created': '2022-01-28 11:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81809f8c12f4671e122f425c828ea589d5e3bf19', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 4, 'created': '2022-01-28 18:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1faa2b27c5ba2fb3e0387095b5769f4bfde27a3a', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 5, 'created': '2022-01-31 15:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a80099a99f8eace13c0376f7784ac6192a4675a', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 6, 'created': '2022-02-01 14:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/723ae9950ba2c67a8b579d4b1b6f5d747493aa5e', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 7, 'created': '2022-02-01 19:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc4021e1e29a2033bf728ad1ce0321b185699508', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 8, 'created': '2022-02-02 12:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e23a0899f01d1f7096e191b3993f754d269433b', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 9, 'created': '2022-02-03 20:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ac23e1f73b83450c562d577146adbea6b4aebca', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 10, 'created': '2022-02-08 11:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4c7c2a46773855db9c2429a934b29e2c28eedd2', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 11, 'created': '2022-02-08 16:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8aaf9d5ce82c7a30e825b8260cc7a317ee3611ad', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}, {'number': 12, 'created': '2022-02-08 22:23:45.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/6294c144e7953019030e50deeb8beab2f13844df', 'message': 'Bump os-traits to 2.7.0\n\nThe new version contains changes needed by the multi-architecture\nsupport and off-path SmartNIC DPU support code.\n\nNeeded-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2\nNeeded-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c\nChange-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525\n'}]",16,826675,6294c144e7953019030e50deeb8beab2f13844df,117,4,12,24824,,,0,"Bump os-traits to 2.7.0

The new version contains changes needed by the multi-architecture
support and off-path SmartNIC DPU support code.

Needed-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2
Needed-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c
Change-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/826675/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,20159648dcfd6ebb9b00972e264b12c051eaae53,2021-09-10-off-path-net-backends-dep,os-traits==2.7.0,os-traits==2.5.0,2,2
openstack%2Fnova~master~Ic44d5e206326827d00a751da3cea67afe3929a08,openstack/nova,master,Ic44d5e206326827d00a751da3cea67afe3929a08,Introduce remote_managed tag for PCI devs,MERGED,2022-01-16 20:56:26.000000000,2022-02-09 20:59:55.000000000,2022-02-09 20:59:55.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-16 20:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19c42eea5fe4be53cc32627faffc4311bc9a51d7', 'message': '[yoga] Introduce remote_managed tag for PCI devices\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional filtering needs to be done:\n\n* Filtering of devices marked as remote_managed=""true"" in the whitelist\n  configuration so that they are not used in legacy SR-IOV and hardware\n  offload requests;\n\n* Filtering of PFs marked as remote_managed=""true"" in the whitelist\n  configuration. This is not supported explicitly since allocating such\n  PFs would remove the associated VFs from the pool and an instance with\n  such PF and its VFs will not have access to the control plane required\n  for representor interface plugging at the SmartNIC DPU side. This\n  configuration is not valid which is enforced in the PCIDeviceStats\n  code.\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nDepends-On: I83a128a260acdd8bf78fede566af6881b8b82a9c\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 2, 'created': '2022-01-27 13:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/345c3765ff1370eecae27df26b47e05e803d950f', 'message': '[yoga] Introduce remote_managed tag for PCI devices\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional filtering needs to be done:\n\n* Filtering of devices marked as remote_managed=""true"" in the whitelist\n  configuration so that they are not used in legacy SR-IOV and hardware\n  offload requests;\n\n* Filtering of PFs marked as remote_managed=""true"" in the whitelist\n  configuration. This is not supported explicitly since allocating such\n  PFs would remove the associated VFs from the pool and an instance with\n  such PF and its VFs will not have access to the control plane required\n  for representor interface plugging at the SmartNIC DPU side. This\n  configuration is not valid which is enforced in the PCIDeviceStats\n  code.\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 3, 'created': '2022-01-27 21:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0d3299a5a47b211eee8eb281b71e2420bf3c1bf', 'message': '[yoga] Introduce remote_managed tag for PCI devices\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional filtering needs to be done:\n\n* Filtering of devices marked as remote_managed=""true"" in the whitelist\n  configuration so that they are not used in legacy SR-IOV and hardware\n  offload requests;\n\n* Early filtering of PFs marked as remote_managed=""true"" in the\n  whitelist configuration. This is not supported explicitly since\n  allocating such PFs would remove the associated VFs from the pool and\n  an instance with such PF and its VFs will not have access to the\n  control plane required for representor interface plugging at the\n  SmartNIC DPU side. This configuration is not valid which is enforced\n  in the PCIDeviceStats code.\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 4, 'created': '2022-01-28 18:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b36c4ea909500d85c5793fd5dc34e8df4df736a4', 'message': '[yoga] Introduce remote_managed tag for PCI devices\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional filtering needs to be done:\n\n* Filtering of devices marked as remote_managed=""true"" in the whitelist\n  configuration so that they are not used in legacy SR-IOV and hardware\n  offload requests;\n\n* Early filtering of PFs marked as remote_managed=""true"" in the\n  whitelist configuration. This is not supported explicitly since\n  allocating such PFs would remove the associated VFs from the pool and\n  an instance with such PF and its VFs will not have access to the\n  control plane required for representor interface plugging at the\n  SmartNIC DPU side. This configuration is not valid which is enforced\n  in the PCIDeviceStats code.\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 5, 'created': '2022-01-31 15:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a0c4de3a8f4b3e049cbb4390e2bf446eca74bdd', 'message': '[yoga] Introduce remote_managed tag for PCI devs\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional filtering needs to be done:\n\n* Filtering of devices marked as remote_managed=""true"" in the whitelist\n  configuration so that they are not used in legacy SR-IOV and hardware\n  offload requests;\n\n* Early filtering of PFs marked as remote_managed=""true"" in the\n  whitelist configuration. This is not supported explicitly since\n  allocating such PFs would remove the associated VFs from the pool and\n  an instance with such PF and its VFs will not have access to the\n  control plane required for representor interface plugging at the\n  SmartNIC DPU side. This configuration is not valid which is enforced\n  in the PCIDeviceStats code.\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 6, 'created': '2022-02-01 14:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/241ff77dfdeef24565ab7fdbec28e2964090eda6', 'message': '[yoga] Introduce remote_managed tag for PCI devs\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional filtering needs to be done:\n\n* Filtering of devices marked as remote_managed=""true"" in the whitelist\n  configuration so that they are not used in legacy SR-IOV and hardware\n  offload requests;\n\n* Early filtering of PFs marked as remote_managed=""true"" in the\n  whitelist configuration. This is not supported explicitly since\n  allocating such PFs would remove the associated VFs from the pool and\n  an instance with such PF and its VFs will not have access to the\n  control plane required for representor interface plugging at the\n  SmartNIC DPU side. This configuration is not valid which is enforced\n  in the PCIDeviceStats code.\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 7, 'created': '2022-02-01 19:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3eb33091594fe36057b732098eef449f5f897b9', 'message': 'Introduce remote_managed tag for PCI devs\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional filtering needs to be done:\n\n* Filtering of devices marked as remote_managed=""true"" in the whitelist\n  configuration so that they are not used in legacy SR-IOV and hardware\n  offload requests;\n\n* Early filtering of PFs marked as remote_managed=""true"" in the\n  whitelist configuration. This is not supported explicitly since\n  allocating such PFs would remove the associated VFs from the pool and\n  an instance with such PF and its VFs will not have access to the\n  control plane required for representor interface plugging at the\n  SmartNIC DPU side. This configuration is not valid which is enforced\n  in the PCIDeviceStats code.\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 8, 'created': '2022-02-02 12:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc17626c75f8f8b7e6843f656fff716fac0e42bc', 'message': 'Introduce remote_managed tag for PCI devs\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional processing needs to be\ndone:\n\n* Filtering of devices marked as `remote_managed: ""true""` in the\n  whitelist configuration so that they are not used in legacy SR-IOV\n  and hardware offload requests;\n\n* Early error reporting if PFs marked as remote_managed=""true"" are\n  present in the whitelist configuration. This is not supported\n  explicitly since allocating such PFs would remove the associated\n  VFs from the pool and an instance with such PF and its VFs will\n  not have access to the control plane required for representor\n  interface plugging at the SmartNIC DPU side. This configuration\n  is not valid which is enforced in the PCIDeviceStats code.\n\n* Checking of the presence of a card serial number in the PCI VPD\n  capability of a device if it was marked as `remote_managed: ""true""`\n  in the whitelist. The card serial number presence is mandatory\n  because it is used for identification of a host in the networking\n  backend that will handle the configuration of a given PCI device at\n  the remote host side (i.e. representor plugging, flow programming).\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 9, 'created': '2022-02-03 20:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e0d5f9752c62f7c8bb2f5693f407a23e16dac6c', 'message': 'Introduce remote_managed tag for PCI devs\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional processing needs to be\ndone:\n\n* Filtering of devices marked as `remote_managed: ""true""` in the\n  whitelist configuration so that they are not used in legacy SR-IOV\n  and hardware offload requests;\n\n* Early error reporting if PFs marked as remote_managed=""true"" are\n  present in the whitelist configuration. This is not supported\n  explicitly since allocating such PFs would remove the associated\n  VFs from the pool and an instance with such PF and its VFs will\n  not have access to the control plane required for representor\n  interface plugging at the SmartNIC DPU side. This configuration\n  is not valid which is enforced in the PCIDeviceStats code.\n\n* Checking of the presence of a card serial number in the PCI VPD\n  capability of a device if it was marked as `remote_managed: ""true""`\n  in the whitelist. The card serial number presence is mandatory\n  because it is used for identification of a host in the networking\n  backend that will handle the configuration of a given PCI device at\n  the remote host side (i.e. representor plugging, flow programming).\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 10, 'created': '2022-02-08 11:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33257a90a8e0dae1ddbf12b950fd49bc1db8f8cb', 'message': 'Introduce remote_managed tag for PCI devs\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional processing needs to be\ndone:\n\n* Filtering of devices marked as `remote_managed: ""true""` in the\n  whitelist configuration so that they are not used in legacy SR-IOV\n  and hardware offload requests;\n\n* Early error reporting if PFs marked as remote_managed=""true"" are\n  present in the whitelist configuration. This is not supported\n  explicitly since allocating such PFs would remove the associated\n  VFs from the pool and an instance with such PF and its VFs will\n  not have access to the control plane required for representor\n  interface plugging at the SmartNIC DPU side. This configuration\n  is not valid which is enforced in the PCIDeviceStats code.\n\n* Checking of the presence of a card serial number in the PCI VPD\n  capability of a device if it was marked as `remote_managed: ""true""`\n  in the whitelist. The card serial number presence is mandatory\n  because it is used for identification of a host in the networking\n  backend that will handle the configuration of a given PCI device at\n  the remote host side (i.e. representor plugging, flow programming).\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 11, 'created': '2022-02-08 14:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abf047a2dca32ce4ec32b22e3bd9bd981b2d623d', 'message': 'Introduce remote_managed tag for PCI devs\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional processing needs to be\ndone:\n\n* Filtering of devices marked as `remote_managed: ""true""` in the\n  whitelist configuration so that they are not used in legacy SR-IOV\n  and hardware offload requests;\n\n* Early error reporting if PFs marked as remote_managed=""true"" are\n  present in the whitelist configuration. This is not supported\n  explicitly since allocating such PFs would remove the associated\n  VFs from the pool and an instance with such PF and its VFs will\n  not have access to the control plane required for representor\n  interface plugging at the SmartNIC DPU side. This configuration\n  is not valid which is enforced in the PCIDeviceStats code.\n\n* Checking of the presence of a card serial number in the PCI VPD\n  capability of a device if it was marked as `remote_managed: ""true""`\n  in the whitelist. The card serial number presence is mandatory\n  because it is used for identification of a host in the networking\n  backend that will handle the configuration of a given PCI device at\n  the remote host side (i.e. representor plugging, flow programming).\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}, {'number': 12, 'created': '2022-02-08 22:23:45.000000000', 'files': ['nova/tests/unit/pci/test_stats.py', 'nova/pci/devspec.py', 'nova/pci/utils.py', 'nova/exception.py', 'nova/conf/pci.py', 'nova/pci/request.py', 'nova/tests/unit/pci/test_devspec.py', 'nova/tests/unit/pci/test_utils.py', 'nova/pci/stats.py', 'nova/pci/whitelist.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0d5f8ffc2b279888af03e7983dcee9d1d267f980', 'message': 'Introduce remote_managed tag for PCI devs\n\nPCI devices may be managed remotely from the perspective of a hypervisor\nhost (e.g. by a SmartNIC DPU) which means that the VF control plane is\nnot available to the hypervisor. Depending on the presence of a\nremote_managed device attribute in the InstancePCIRequest spec and\navailable device types in a pool, additional processing needs to be\ndone:\n\n* Filtering of devices marked as `remote_managed: ""true""` in the\n  whitelist configuration so that they are not used in legacy SR-IOV\n  and hardware offload requests;\n\n* Early error reporting if PFs marked as remote_managed=""true"" are\n  present in the whitelist configuration. This is not supported\n  explicitly since allocating such PFs would remove the associated\n  VFs from the pool and an instance with such PF and its VFs will\n  not have access to the control plane required for representor\n  interface plugging at the SmartNIC DPU side. This configuration\n  is not valid which is enforced in the PCIDeviceStats code.\n\n* Checking of the presence of a card serial number in the PCI VPD\n  capability of a device if it was marked as `remote_managed: ""true""`\n  in the whitelist. The card serial number presence is mandatory\n  because it is used for identification of a host in the networking\n  backend that will handle the configuration of a given PCI device at\n  the remote host side (i.e. representor plugging, flow programming).\n\nFor compatibility, all devices not explicitly marked as remote_managed\nin the whitelist are assumed to have remote_managed attribute set to\nFalse.\n\nImplements: blueprint integration-with-off-path-network-backends\nChange-Id: Ic44d5e206326827d00a751da3cea67afe3929a08\n'}]",80,824834,0d5f8ffc2b279888af03e7983dcee9d1d267f980,135,3,12,24824,,,0,"Introduce remote_managed tag for PCI devs

PCI devices may be managed remotely from the perspective of a hypervisor
host (e.g. by a SmartNIC DPU) which means that the VF control plane is
not available to the hypervisor. Depending on the presence of a
remote_managed device attribute in the InstancePCIRequest spec and
available device types in a pool, additional processing needs to be
done:

* Filtering of devices marked as `remote_managed: ""true""` in the
  whitelist configuration so that they are not used in legacy SR-IOV
  and hardware offload requests;

* Early error reporting if PFs marked as remote_managed=""true"" are
  present in the whitelist configuration. This is not supported
  explicitly since allocating such PFs would remove the associated
  VFs from the pool and an instance with such PF and its VFs will
  not have access to the control plane required for representor
  interface plugging at the SmartNIC DPU side. This configuration
  is not valid which is enforced in the PCIDeviceStats code.

* Checking of the presence of a card serial number in the PCI VPD
  capability of a device if it was marked as `remote_managed: ""true""`
  in the whitelist. The card serial number presence is mandatory
  because it is used for identification of a host in the networking
  backend that will handle the configuration of a given PCI device at
  the remote host side (i.e. representor plugging, flow programming).

For compatibility, all devices not explicitly marked as remote_managed
in the whitelist are assumed to have remote_managed attribute set to
False.

Implements: blueprint integration-with-off-path-network-backends
Change-Id: Ic44d5e206326827d00a751da3cea67afe3929a08
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/824834/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/pci/test_stats.py', 'nova/conf/pci.py', 'nova/pci/request.py', 'nova/pci/stats.py']",4,19c42eea5fe4be53cc32627faffc4311bc9a51d7,2021-09-10-off-path-net-backends-dep,"from oslo_utils import strutils @staticmethod def _maybe_add_remote_managed_tag( dev: 'objects.PciDevice', pool: Pool): """"""Add a remote_managed tag depending on a device type if needed. Network devices may be managed remotely, e.g. by a SmartNIC DPU. If a tag has not been explicitly provided, populate it by assuming that a device is not remote managed by default. """""" if dev.dev_type not in (fields.PciDeviceType.SRIOV_VF, fields.PciDeviceType.SRIOV_PF, fields.PciDeviceType.VDPA): return if pool.get('remote_managed') is None: # NOTE: tags are compared as strings case-insensitively, see # pci_device_prop_match in nova/pci/utils.py. pool['remote_managed'] = 'false' self._maybe_add_remote_managed_tag(dev, pool) def _filter_pools_for_unrequested_remote_managed_devices( self, pools: ty.List[Pool], request: 'objects.InstancePCIRequest', ) -> ty.List[Pool]: """"""Filter out pools with remote_managed devices, unless requested. Remote-managed devices are not usable for legacy SR-IOV or hardware offload scenarios and must be excluded from allocation. :param pools: A list of PCI device pool dicts :param request: An InstancePCIRequest object describing the type, quantity and required NUMA affinity of device(s) we want. :returns: A list of pools that can be used to support the request if this is possible. """""" if all(not strutils.bool_from_string(spec.get('remote_managed')) for spec in request.spec): pools = [pool for pool in pools if not strutils.bool_from_string( pool.get('remote_managed'))] return pools def _filter_pools_for_remote_managed_pf_devices( self, pools: ty.List[Pool], request: 'objects.InstancePCIRequest', ) -> ty.List[Pool]: """"""Filter out pools with remote_managed PF remote_managed PF devices. PFs with remote_managed tags are explicitly not supported. If they are tagged as such by mistake in the whitelist, they should be excluded at this stage. They will be excluded for regular SR-IOV use as well. This is not supported explicitly since allocating such PFs would remove the associated VFs from the pool and an instance with such PF and its VFs will not have access to the control plane required for representor interface plugging at the SmartNIC DPU side. This configuration is not valid which is enforced here. :param pools: A list of PCI device pool dicts :param request: An InstancePCIRequest object describing a device. :returns: A list of pools that can be used to support the request if this is possible. """""" pools = [ pool for pool in pools if not (pool.get('dev_type') == fields.PciDeviceType.SRIOV_PF and strutils.bool_from_string(pool.get('remote_managed'))) ] return pools # Filter out remote_managed PFs since those aren't supported by design. before_count = after_count pools = self._filter_pools_for_remote_managed_pf_devices( pools, request) after_count = sum([pool['count'] for pool in pools]) if after_count < before_count: LOG.debug( 'Dropped %d device(s) as they are remote-managed PFs which ' ' is not supported by design', before_count - after_count ) # If we're not requesting remote_managed devices then we should not # use these either. Exclude them. before_count = after_count pools = self._filter_pools_for_unrequested_remote_managed_devices( pools, request) after_count = sum([pool['count'] for pool in pools]) if after_count < before_count: LOG.debug( 'Dropped %d device(s) as they are remote-managed devices which' 'we have not requested', before_count - after_count ) ",,323,13
openstack%2Fpython-openstackclient~master~I39cd5302622f4542db9eebcccfad0cb90d077441,openstack/python-openstackclient,master,I39cd5302622f4542db9eebcccfad0cb90d077441,image: Remove FakeImage test helper,MERGED,2021-11-17 11:42:15.000000000,2022-02-09 20:48:48.000000000,2022-02-09 20:42:43.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-17 11:42:15.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/image/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/image/v1/fakes.py', 'openstackclient/tests/unit/common/test_project_purge.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/tests/unit/volume/v1/test_volume.py', 'openstackclient/tests/unit/volume/v2/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2135a9ea05c79a11185ca87f6bb5ade3b71501bb', 'message': ""image: Remove FakeImage test helper\n\nWe're no longer creating fake versions of glanceclient's 'Resource'\nobject but rather openstacksdk objects. As such, there's no point\nnesting things under a fake resource class.\n\nChange-Id: I39cd5302622f4542db9eebcccfad0cb90d077441\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,818224,2135a9ea05c79a11185ca87f6bb5ade3b71501bb,7,2,1,15334,,,0,"image: Remove FakeImage test helper

We're no longer creating fake versions of glanceclient's 'Resource'
object but rather openstacksdk objects. As such, there's no point
nesting things under a fake resource class.

Change-Id: I39cd5302622f4542db9eebcccfad0cb90d077441
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/24/818224/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/image/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/image/v1/fakes.py', 'openstackclient/tests/unit/common/test_project_purge.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/tests/unit/volume/v1/test_volume.py', 'openstackclient/tests/unit/volume/v2/test_volume.py']",11,2135a9ea05c79a11185ca87f6bb5ade3b71501bb,trivial, image = image_fakes.create_one_image() image = image_fakes.create_one_image(), image = image_fakes.FakeImage.create_one_image() image = image_fakes.FakeImage.create_one_image(),171,206
openstack%2Fnova~master~I8140c8fe592dd54fc09a9510723892806db49a56,openstack/nova,master,I8140c8fe592dd54fc09a9510723892806db49a56,Update announce self workaround opt description,MERGED,2022-01-28 08:41:31.000000000,2022-02-09 20:46:34.000000000,2022-02-09 20:42:47.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-28 08:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a75053344a91f0dd9b5da380f929319ca0e8d8e', 'message': 'Update announce self workaround opt description\n\nThis updates the announce self workaround config opt\ndescription to include info about instance being set\nas tainted by libvirt.\n\nChange-Id: I8140c8fe592dd54fc09a9510723892806db49a56\n'}, {'number': 2, 'created': '2022-02-07 11:25:35.000000000', 'files': ['nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2aa1ed5810b67b9a8f18b2ec5e21004f93831168', 'message': 'Update announce self workaround opt description\n\nThis updates the announce self workaround config opt\ndescription to include info about instance being set\nas tainted by libvirt.\n\nChange-Id: I8140c8fe592dd54fc09a9510723892806db49a56\n'}]",4,826829,2aa1ed5810b67b9a8f18b2ec5e21004f93831168,42,4,2,16137,,,0,"Update announce self workaround opt description

This updates the announce self workaround config opt
description to include info about instance being set
as tainted by libvirt.

Change-Id: I8140c8fe592dd54fc09a9510723892806db49a56
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/826829/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/workarounds.py'],1,6a75053344a91f0dd9b5da380f929319ca0e8d8e,bug/1815989,Please note that this causes the domain to be considered tainted by libvirt. ,,2,0
openstack%2Fpython-openstackclient~master~Ib61e817bd4ced9b5533e7c7f9d8f0b45fe81c211,openstack/python-openstackclient,master,Ib61e817bd4ced9b5533e7c7f9d8f0b45fe81c211,compute: Don't warn if disk overcommit params unset,MERGED,2021-11-03 10:31:42.000000000,2022-02-09 20:46:31.000000000,2022-02-09 20:42:33.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-03 10:31:42.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8cb0a28607e7f8b9eb4bb71a95b39230d43a969c', 'message': ""compute: Don't warn if disk overcommit params unset\n\nDue to a small logic error, we were emitting a warning about a\ndeprecated option when the user tried to live migrate an instance using\nmicroversion 2.25 even though the user hadn't actually set that option.\nCorrect this.\n\nChange-Id: Ib61e817bd4ced9b5533e7c7f9d8f0b45fe81c211\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nStory: 2009657\nTask: 43836\n""}]",0,816448,8cb0a28607e7f8b9eb4bb71a95b39230d43a969c,8,3,1,15334,,,0,"compute: Don't warn if disk overcommit params unset

Due to a small logic error, we were emitting a warning about a
deprecated option when the user tried to live migrate an instance using
microversion 2.25 even though the user hadn't actually set that option.
Correct this.

Change-Id: Ib61e817bd4ced9b5533e7c7f9d8f0b45fe81c211
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Story: 2009657
Task: 43836
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/48/816448/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,8cb0a28607e7f8b9eb4bb71a95b39230d43a969c,trivial," default=None, # We can't use an argparse default value because then we can't # distinguish between explicit 'False' and unset for the below # case (microversion >= 2.25) if kwargs['disk_over_commit'] is None: kwargs['disk_over_commit'] = False"," default=False, default=False,",16,12
openstack%2Fpython-openstackclient~master~I038ff2bcf7bb852d619004bb00306d2d388135a7,openstack/python-openstackclient,master,I038ff2bcf7bb852d619004bb00306d2d388135a7,docs: Document additional 'server migration' commands,MERGED,2022-02-08 15:28:10.000000000,2022-02-09 20:42:40.000000000,2022-02-09 20:42:40.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32667}]","[{'number': 1, 'created': '2022-02-08 15:28:10.000000000', 'files': ['doc/source/cli/command-objects/server-migration.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9c5220c97b1bffbc8ba2c76ea30fe52712815215', 'message': ""docs: Document additional 'server migration' commands\n\nOnly 'server migration list' was being documented.\n\nChange-Id: I038ff2bcf7bb852d619004bb00306d2d388135a7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,828363,9c5220c97b1bffbc8ba2c76ea30fe52712815215,7,3,1,15334,,,0,"docs: Document additional 'server migration' commands

Only 'server migration list' was being documented.

Change-Id: I038ff2bcf7bb852d619004bb00306d2d388135a7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/63/828363/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/command-objects/server-migration.rst'],1,9c5220c97b1bffbc8ba2c76ea30fe52712815215,trivial, :command: server migration *, :command: server migration list,1,1
openstack%2Fopenstack-helm-infra~master~Iab5cf2b318ce538e72b4592dedd8f0e489741797,openstack/openstack-helm-infra,master,Iab5cf2b318ce538e72b4592dedd8f0e489741797,Rename prometheus metric,MERGED,2022-02-08 16:11:11.000000000,2022-02-09 20:41:13.000000000,2022-02-09 20:37:51.000000000,"[{'_account_id': 8898}, {'_account_id': 19391}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 29974}, {'_account_id': 32433}]","[{'number': 1, 'created': '2022-02-08 16:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eade510d6d3fec575c026cdec98bf7d799d4ef23', 'message': 'Rename prometheus metric\n\nThe metric ceph_pool_bytes_used has changed to ceph_pool_stored.\n\nhttps: //tracker.ceph.com/issues/39932\nChange-Id: Iab5cf2b318ce538e72b4592dedd8f0e489741797\n'}, {'number': 2, 'created': '2022-02-08 17:24:47.000000000', 'files': ['releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml', 'grafana/values_overrides/ceph.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0282d430cf0140df6cf6ea3b9ae2b66f9bf57bf', 'message': 'Rename prometheus metric\n\nThe metric ceph_pool_bytes_used has changed to ceph_pool_stored.\n\nhttps: //tracker.ceph.com/issues/39932\nChange-Id: Iab5cf2b318ce538e72b4592dedd8f0e489741797\n'}]",0,828375,c0282d430cf0140df6cf6ea3b9ae2b66f9bf57bf,14,7,2,32190,,,0,"Rename prometheus metric

The metric ceph_pool_bytes_used has changed to ceph_pool_stored.

https: //tracker.ceph.com/issues/39932
Change-Id: Iab5cf2b318ce538e72b4592dedd8f0e489741797
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/828375/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values_overrides/ceph.yaml'],1,eade510d6d3fec575c026cdec98bf7d799d4ef23,ceph_pool_stored," ""expr"": ""ceph_pool_stored{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""}"", ""expr"": ""ceph_pool_max_avail{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""} - ceph_pool_stored{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""}"", ""expr"": ""(ceph_pool_stored{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""} / ceph_pool_max_avail{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""})"","," ""expr"": ""ceph_pool_bytes_used{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""}"", ""expr"": ""ceph_pool_max_avail{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""} - ceph_pool_bytes_used{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""}"", ""expr"": ""(ceph_pool_bytes_used{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""} / ceph_pool_max_avail{pool_id=~\""$pool\"",application=\""ceph\"",release_group=\""$ceph_cluster\""})"",",3,3
openstack%2Foctavia~stable%2Fvictoria~Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6,openstack/octavia,stable/victoria,Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6,Fix nft command line with negative priority values,MERGED,2021-12-06 15:41:01.000000000,2022-02-09 20:37:41.000000000,2022-02-09 20:30:18.000000000,"[{'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-06 15:41:01.000000000', 'files': ['elements/amphora-agent/static/usr/local/bin/udp-masquerade.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2653851e75544f8453cc7a0bd371956bcb86e99d', 'message': 'Fix nft command line with negative priority values\n\nWhen using nft with negative priority values it is recommended to use --\nto prevent the parser to interpret the value as an argument.\n\nStory 2009710\nTask 44065\n\nConflicts:\n\telements/amphora-agent/static/usr/local/bin/udp-masquerade.sh\n\nChange-Id: Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6\n(cherry picked from commit 4791cfe93cdde2cb375033164c3bf51e8c65f4c4)\n(cherry picked from commit b47d5dfcf8bfd0502c08a200056e21efe22d8d75)\n(cherry picked from commit 1efeb8d5a4a2e1c2f7e06b831b2c1d3555c0ab8a)\n'}]",0,820542,2653851e75544f8453cc7a0bd371956bcb86e99d,8,3,1,29244,,,0,"Fix nft command line with negative priority values

When using nft with negative priority values it is recommended to use --
to prevent the parser to interpret the value as an argument.

Story 2009710
Task 44065

Conflicts:
	elements/amphora-agent/static/usr/local/bin/udp-masquerade.sh

Change-Id: Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6
(cherry picked from commit 4791cfe93cdde2cb375033164c3bf51e8c65f4c4)
(cherry picked from commit b47d5dfcf8bfd0502c08a200056e21efe22d8d75)
(cherry picked from commit 1efeb8d5a4a2e1c2f7e06b831b2c1d3555c0ab8a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/820542/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/static/usr/local/bin/udp-masquerade.sh'],1,2653851e75544f8453cc7a0bd371956bcb86e99d,, nft -- add chain ip octavia-ipv4 prerouting { type filter hook prerouting priority -300 \; } nft -- add chain ip octavia-ipv4 output { type filter hook output priority -300 \; } nft -- add chain ip6 octavia-ipv6 prerouting { type filter hook prerouting priority -300 \; } nft -- add chain ip6 octavia-ipv6 output { type filter hook output priority -300 \; }, nft add chain ip octavia-ipv4 prerouting { type filter hook prerouting priority -300 \; } nft add chain ip octavia-ipv4 output { type filter hook output priority -300 \; } nft add chain ip6 octavia-ipv6 prerouting { type filter hook prerouting priority -300 \; } nft add chain ip6 octavia-ipv6 output { type filter hook output priority -300 \; },4,4
openstack%2Foctavia~stable%2Fxena~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,stable/xena,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2022-02-08 10:33:55.000000000,2022-02-09 20:34:20.000000000,2022-02-09 20:30:11.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 10:33:55.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-member-operating-status-on-reload-fe3688603bae8726.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/24ebc652e84a832ff9baad4b4e27ee6a89e816c3', 'message': ""Preserve haproxy server states during reloads\n\nhaproxy doesn't keep the state of the servers (UP or DOWN) during\nreloads, so a member with an ERROR operating_status may be updated\nto ONLINE after updating a load balancer.\n\nThis commit adds the load-server-state-from-file option in haproxy\nconfiguration files. It also adds an extra step in the haproxy systemd\nservice file to dump the current server-state in a file when reloading\nthe service.\n\nStory: 2009142\nTask: 43084\n\nChange-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6\n(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)\n""}]",2,828270,24ebc652e84a832ff9baad4b4e27ee6a89e816c3,11,3,1,29244,,,0,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/70/828270/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-member-operating-status-on-reload-fe3688603bae8726.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",10,24ebc652e84a832ff9baad4b4e27ee6a89e816c3,," "" load-server-state-from-file global\n"" "" mode 0666 level user\n"" "" server-state-file /var/lib/octavia/sample_loadbalancer_id_1"" ""/servers-state\n"" +"," "" mode 0666 level user\n"" +",58,1
openstack%2Foctavia~stable%2Fvictoria~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,stable/victoria,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2022-02-08 10:41:09.000000000,2022-02-09 20:34:19.000000000,2022-02-09 20:29:51.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 10:41:09.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-member-operating-status-on-reload-fe3688603bae8726.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/20a874e7742346e62e426ddb04e505a59cb3ae5a', 'message': ""Preserve haproxy server states during reloads\n\nhaproxy doesn't keep the state of the servers (UP or DOWN) during\nreloads, so a member with an ERROR operating_status may be updated\nto ONLINE after updating a load balancer.\n\nThis commit adds the load-server-state-from-file option in haproxy\nconfiguration files. It also adds an extra step in the haproxy systemd\nservice file to dump the current server-state in a file when reloading\nthe service.\n\nStory: 2009142\nTask: 43084\n\nConflicts:\n\toctavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py\n\nChange-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6\n(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)\n(cherry picked from commit 24ebc652e84a832ff9baad4b4e27ee6a89e816c3)\n(cherry picked from commit 55bce250ca7e2a25b2767d60373a108ee1b804a1)\n""}]",1,828272,20a874e7742346e62e426ddb04e505a59cb3ae5a,8,3,1,29244,,,0,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Conflicts:
	octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)
(cherry picked from commit 24ebc652e84a832ff9baad4b4e27ee6a89e816c3)
(cherry picked from commit 55bce250ca7e2a25b2767d60373a108ee1b804a1)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/72/828272/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-member-operating-status-on-reload-fe3688603bae8726.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",10,20a874e7742346e62e426ddb04e505a59cb3ae5a,," "" load-server-state-from-file global\n"" "" mode 0666 level user\n"" "" server-state-file /var/lib/octavia/sample_loadbalancer_id_1"" ""/servers-state\n"" +"," "" mode 0666 level user\n"" +",56,1
openstack%2Foctavia~stable%2Fussuri~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,stable/ussuri,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2022-02-08 10:45:56.000000000,2022-02-09 20:33:33.000000000,2022-02-09 20:29:58.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 10:45:56.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-member-operating-status-on-reload-fe3688603bae8726.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1d8ac7e2c13a1ba5370eb8708f5eb83f72d15a5c', 'message': ""Preserve haproxy server states during reloads\n\nhaproxy doesn't keep the state of the servers (UP or DOWN) during\nreloads, so a member with an ERROR operating_status may be updated\nto ONLINE after updating a load balancer.\n\nThis commit adds the load-server-state-from-file option in haproxy\nconfiguration files. It also adds an extra step in the haproxy systemd\nservice file to dump the current server-state in a file when reloading\nthe service.\n\nStory: 2009142\nTask: 43084\n\nConflicts:\n\toctavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py\n\nChange-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6\n(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)\n(cherry picked from commit 24ebc652e84a832ff9baad4b4e27ee6a89e816c3)\n(cherry picked from commit 55bce250ca7e2a25b2767d60373a108ee1b804a1)\n(cherry picked from commit 20a874e7742346e62e426ddb04e505a59cb3ae5a)\n""}]",1,828273,1d8ac7e2c13a1ba5370eb8708f5eb83f72d15a5c,8,3,1,29244,,,0,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Conflicts:
	octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)
(cherry picked from commit 24ebc652e84a832ff9baad4b4e27ee6a89e816c3)
(cherry picked from commit 55bce250ca7e2a25b2767d60373a108ee1b804a1)
(cherry picked from commit 20a874e7742346e62e426ddb04e505a59cb3ae5a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/73/828273/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-member-operating-status-on-reload-fe3688603bae8726.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",10,1d8ac7e2c13a1ba5370eb8708f5eb83f72d15a5c,," "" load-server-state-from-file global\n"" "" mode 0666 level user\n"" "" server-state-file /var/lib/octavia/sample_loadbalancer_id_1"" ""/servers-state\n"" +"," "" mode 0666 level user\n"" +",50,1
openstack%2Foctavia~stable%2Fwallaby~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,stable/wallaby,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2022-02-08 10:35:14.000000000,2022-02-09 20:33:30.000000000,2022-02-09 20:30:04.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 10:35:14.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-member-operating-status-on-reload-fe3688603bae8726.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/55bce250ca7e2a25b2767d60373a108ee1b804a1', 'message': ""Preserve haproxy server states during reloads\n\nhaproxy doesn't keep the state of the servers (UP or DOWN) during\nreloads, so a member with an ERROR operating_status may be updated\nto ONLINE after updating a load balancer.\n\nThis commit adds the load-server-state-from-file option in haproxy\nconfiguration files. It also adds an extra step in the haproxy systemd\nservice file to dump the current server-state in a file when reloading\nthe service.\n\nStory: 2009142\nTask: 43084\n\nChange-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6\n(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)\n(cherry picked from commit 24ebc652e84a832ff9baad4b4e27ee6a89e816c3)\n""}]",2,828271,55bce250ca7e2a25b2767d60373a108ee1b804a1,11,3,1,29244,,,0,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)
(cherry picked from commit 24ebc652e84a832ff9baad4b4e27ee6a89e816c3)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/828271/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-member-operating-status-on-reload-fe3688603bae8726.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",10,55bce250ca7e2a25b2767d60373a108ee1b804a1,," "" load-server-state-from-file global\n"" "" mode 0666 level user\n"" "" server-state-file /var/lib/octavia/sample_loadbalancer_id_1"" ""/servers-state\n"" +"," "" mode 0666 level user\n"" +",58,1
openstack%2Fneutron~master~I9b92702af8a235443a2fa1aea3997f3d40a03fc3,openstack/neutron,master,I9b92702af8a235443a2fa1aea3997f3d40a03fc3,[Server Side] L3 router support ndp proxy,MERGED,2020-07-27 01:34:58.000000000,2022-02-09 20:29:49.000000000,2022-02-03 12:04:39.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28329}]","[{'number': 1, 'created': '2020-07-27 01:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84200e827082da71f29f766b27538c09ba8745c9', 'message': '[WIP][PoC][Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: bug/1877301\n'}, {'number': 2, 'created': '2020-07-27 03:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cbf091e6b2a2870e1c7ec96687902b153e42acd', 'message': '[WIP][PoC][Server Side] L3 router support ndp proxy\n\nTo make it easy to test, I write all codes in neutron.\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: bug/1877301\n'}, {'number': 3, 'created': '2020-08-05 00:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d097ef62871781f0eabe04d3a513de43a5d4fda4', 'message': '[WIP][PoC][Server Side] L3 router support ndp proxy\n\nTo make it easy to test, I write all codes in neutron.\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 4, 'created': '2020-08-22 10:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/286085f04e3a84a3dbb2abdad9deab4bdb786644', 'message': ""[WIP][PoC][Server Side] L3 router support ndp proxy\n\nThis patch is aim to do PoC for l3 ndp proxy spec [1]. In order to\nbe more convenient for testing, I define the API extension in\nneutron code temproarily.\n\nAdditionally, in order to more convenientlly extent ``router\ngateway``'s attributes, I modified ``extend_resources`` function,\nit treat ``dict`` type attribute as extendable attribute, and try\nto extend it instead of overwrite directly.\n\n[1] https://review.opendev.org/#/c/728628/\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n""}, {'number': 5, 'created': '2020-08-22 10:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e8211b346c138b07841d78acf07065d73c9530f', 'message': '[WIP][PoC][Server Side] L3 router support ndp proxy\n\nTo make it easy to test, I write all codes in neutron.\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 6, 'created': '2020-08-22 10:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28127de9cca8d611eb36e1f6f82b39160ae0c0b4', 'message': ""[WIP][PoC][Server Side] L3 router support ndp proxy\n\nThis patch is aim to do PoC for l3 ndp proxy spec [1]. In order to\nbe more convenient for testing, I define the API extension in\nneutron code temproarily.\n\nAdditionally, in order to more convenientlly extent ``router\ngateway``'s attributes, I modified ``extend_resources`` function,\nit treat ``dict`` type attribute as extendable attribute, and try\nto extend it instead of overwrite directly.\n\n[1] https://review.opendev.org/#/c/728628/\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n""}, {'number': 7, 'created': '2020-08-29 02:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f290a11a7216e20c00574d6d54ecba38e57b090', 'message': ""[WIP][PoC][Server Side] L3 router support ndp proxy\n\nThis patch is aim to do PoC for l3 ndp proxy spec [1]. In order to\nbe more convenient for testing, I define the API extension in\nneutron code temproarily.\n\nAdditionally, in order to more convenientlly extent ``router\ngateway``'s attributes, I modified ``extend_resources`` function,\nit treat ``dict`` type attribute as extendable attribute, and try\nto extend it instead of overwrite directly.\n\n[1] https://review.opendev.org/#/c/728628/\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n""}, {'number': 8, 'created': '2020-08-29 02:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f139de6623681f8c960b9f8e512e4ac10127dfa', 'message': ""[WIP][PoC][Server Side] L3 router support ndp proxy\n\nThis patch is aim to do PoC for l3 ndp proxy spec [1]. In order to\nbe more convenient for testing, I define the API extension in\nneutron code temproarily.\n\nAdditionally, in order to more convenientlly extent ``router\ngateway``'s attributes, I modified ``extend_resources`` function,\nit treat ``dict`` type attribute as extendable attribute, and try\nto extend it instead of overwrite directly.\n\n[1] https://review.opendev.org/#/c/728628/\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n""}, {'number': 9, 'created': '2020-08-29 02:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3e352117ca9bacb2d013166b3643e11794218e7', 'message': ""[WIP][PoC][Server Side] L3 router support ndp proxy\n\nThis patch is aim to do PoC for l3 ndp proxy spec [1]. In order to\nbe more convenient for testing, I define the API extension in\nneutron code temproarily.\n\nAdditionally, in order to more convenientlly extent ``router\ngateway``'s attributes, I modified ``extend_resources`` function,\nit treat ``dict`` type attribute as extendable attribute, and try\nto extend it instead of overwrite directly.\n\n[1] https://review.opendev.org/#/c/728628/\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n""}, {'number': 10, 'created': '2020-11-08 07:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53c0496aa137b2d8b173fdeee4fc479273abd2e8', 'message': ""[WIP][PoC][Server Side] L3 router support ndp proxy\n\nThis patch is aim to do PoC for l3 ndp proxy spec [1]. In order to\nbe more convenient for testing, I define the API extension in\nneutron code temproarily.\n\nAdditionally, in order to more convenientlly extent ``router\ngateway``'s attributes, I modified ``extend_resources`` function,\nit treat ``dict`` type attribute as extendable attribute, and try\nto extend it instead of overwrite directly.\n\n[1] https://review.opendev.org/#/c/728628/\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n""}, {'number': 11, 'created': '2020-11-14 08:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/054fe318f06ac870d322925f4cf15afffcc92fbf', 'message': ""[WIP][PoC][Server Side] L3 router support ndp proxy\n\nThis patch is aim to do PoC for l3 ndp proxy spec [1]. In order to\nbe more convenient for testing, I define the API extension in\nneutron code temproarily.\n\nAdditionally, in order to more convenientlly extent ``router\ngateway``'s attributes, I modified ``extend_resources`` function,\nit treat ``dict`` type attribute as extendable attribute, and try\nto extend it instead of overwrite directly.\n\n[1] https://review.opendev.org/#/c/728628/\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n""}, {'number': 12, 'created': '2020-11-15 08:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ff0a520c2a7e847b2468850e5ff38379fed4163', 'message': ""[WIP][PoC][Server Side] L3 router support ndp proxy\n\nThis patch is aim to do PoC for l3 ndp proxy spec [1]. In order to\nbe more convenient for testing, I define the API extension in\nneutron code temproarily.\n\nAdditionally, in order to more convenientlly extent ``router\ngateway``'s attributes, I modified ``extend_resources`` function,\nit treat ``dict`` type attribute as extendable attribute, and try\nto extend it instead of overwrite directly.\n\n[1] https://review.opendev.org/#/c/728628/\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n""}, {'number': 13, 'created': '2021-08-07 01:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83ca019e52fb4ca8e915e012f68484109a46d28c', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 14, 'created': '2021-08-09 11:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/489985f04c7698366aadced98cc81eac766e9707', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 15, 'created': '2021-08-15 08:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f23aed7b4aaf6860570c66bb527bcd5b7ff0fd3', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 16, 'created': '2021-08-30 10:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efbb4aa68aa65b5ab560522d25606dd8e48505d3', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 17, 'created': '2021-09-05 02:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d030c08bfc0941ab510452bac811690effdbfa80', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 18, 'created': '2021-09-11 05:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fe92814906fba35bd820d968179a52094554a4f', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 19, 'created': '2021-09-11 06:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d8ac66ecbc4a5da61e3a9731abc1322fdccd804', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 20, 'created': '2021-09-19 01:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de07fb0e006f8091fe8a0a44b239ae7c55066a9d', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 21, 'created': '2021-09-19 07:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ef9ef083403e789be3681f6d783674bbc85e253', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 22, 'created': '2021-10-01 04:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/381c9110d447941f429b18f8731c95257be0f599', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 23, 'created': '2021-10-03 10:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a43c293b6933b80694042a6ef99b36548262ea64', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 24, 'created': '2021-10-16 12:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dbeaefadfcfca7858d7f0549d01102b3c4ed476', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 25, 'created': '2021-10-17 03:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfbdf0eaee215e2eb5567794d0b4257dd4fb9ee4', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 26, 'created': '2021-10-17 04:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/712327923c0c987078dd30f6e1ea140bba84e812', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 27, 'created': '2021-10-24 09:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02cf03c583fe3b83927ea99e07d815cf6ee7f75e', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 28, 'created': '2021-11-20 07:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6982caa274dad3806eed5cb90a9beb29682dfb6', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 29, 'created': '2021-11-23 08:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0275b0aa5ba10836ca9cd260cfcfe5ed06b9025', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 30, 'created': '2021-11-27 09:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/527ab2bdf7994d16d84ee2f2f41b03db85e8e302', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 31, 'created': '2021-12-05 03:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90de2a40fb0bde48ea7c0f95b27f113b3db0313d', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 32, 'created': '2021-12-05 05:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34f3fa50fa8da5bbd96002c03c0ceaeeb947c5d4', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 33, 'created': '2021-12-18 12:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7433491160f315baf8fbdb80f448e648f820a9fe', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 34, 'created': '2021-12-19 11:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d487b1a480a7ac5983bf4fcd9f977cca4372bc4', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 35, 'created': '2021-12-27 08:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26130295ec4d4b96f79900d6e320f02b57001795', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nCloses-Bug: #1877301\n'}, {'number': 36, 'created': '2022-01-18 07:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f05a0d456e8c3e496ee980f4387ca0b6eb4d1d6f', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nPartial-Bug: #1877301\n'}, {'number': 37, 'created': '2022-01-18 08:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4237e4b16a10759d953c0f94f7677d6d8aa255d', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nPartial-Bug: #1877301\n'}, {'number': 38, 'created': '2022-01-18 10:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ebe45e2e2e551aa33b59beb0df81b295ccd0221', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nPartial-Bug: #1877301\n'}, {'number': 39, 'created': '2022-01-25 09:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e00eea06210394e4e578f6fd9c077d7cd81dba6d', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nPartial-Bug: #1877301\n'}, {'number': 40, 'created': '2022-02-03 02:11:55.000000000', 'files': ['neutron/extensions/l3_ndp_proxy.py', 'neutron/tests/unit/objects/test_ndp_proxy.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/conf/db/l3_ndpproxy_db.py', 'neutron/services/ndp_proxy/__init__.py', 'neutron/extensions/l3_ext_ndp_proxy.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/tests/unit/extensions/test_l3_ndp_proxy.py', 'neutron/db/models/ndp_proxy.py', 'neutron/objects/ndp_proxy.py', 'neutron/db/migration/alembic_migrations/versions/yoga/expand/34cf8b009713_add_router_ndp_proxy_table.py', 'neutron/tests/unit/objects/test_base.py', 'setup.cfg', 'neutron/services/ndp_proxy/exceptions.py', 'neutron/services/ndp_proxy/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0a25cb15c4f04baeed7319b7cdaea328d043388', 'message': '[Server Side] L3 router support ndp proxy\n\nChange-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3\nPartial-Bug: #1877301\n'}]",143,743142,a0a25cb15c4f04baeed7319b7cdaea328d043388,239,9,40,28329,,,0,"[Server Side] L3 router support ndp proxy

Change-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3
Partial-Bug: #1877301
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/743142/40 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/router_extend_ndp_proxy.py', 'neutron/extensions/l3_ndp_proxy.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/migration/alembic_migrations/versions/victoria/expand/056f69a5f733_add_ndp_proxy_table.py', 'neutron/db/migration/alembic_migrations/versions/victoria/expand/34cf8b009713_add_routerndpproxyenable_table.py', 'neutron/db/l3_db.py', 'neutron/services/ndp_proxy/__init__.py', 'neutron/api/extensions.py', 'neutron/db/models/ndp_proxy.py', 'neutron/objects/ndp_proxy.py', 'neutron/api/rpc/callbacks/resources.py', 'neutron/db/l3_enable_ndp_proxy.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/services/ndp_proxy/plugin.py']",14,84200e827082da71f29f766b27538c09ba8745c9,bug/1877301,"# Copyright 2020 Troila # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import netaddr from neutron_lib.api.definitions import l3 as l3_apidef from neutron_lib.callbacks import events from neutron_lib.callbacks import registry from neutron_lib.callbacks import resources from neutron_lib import constants as lib_consts from neutron_lib.db import api as db_api from neutron_lib.db import resource_extend from neutron_lib import exceptions as lib_exc from neutron_lib.exceptions import l3 as lib_l3_exc from neutron_lib.plugins import constants from neutron_lib.plugins import directory from oslo_log import log as logging from neutron._i18n import _ from neutron.api.rpc.callbacks import events as rpc_events from neutron.api.rpc.handlers import resources_rpc from neutron.db import db_base_plugin_common from neutron.extensions import l3_ndp_proxy from neutron.objects import base as base_obj from neutron.objects import ndp_proxy as np from neutron.objects import router LOG = logging.getLogger(__name__) @resource_extend.has_resource_extenders @registry.has_registry_receivers class NDPProxyPlugin(l3_ndp_proxy.NDPProxyBase): """"""Implementation of the NDP proxy for ipv6 The class implements a NDP proxy plugin. """""" required_service_plugins = ['router'] supported_extension_aliases = [l3_ndp_proxy.L3_NDP_PROXY_ALIAS] __native_pagination_support = True __native_sorting_support = True __filter_validation_support = True def __init__(self): super(NDPProxyPlugin, self).__init__() self.push_api = resources_rpc.ResourcesPushRpcApi() self.l3_plugin = directory.get_plugin(constants.L3) self.core_plugin = directory.get_plugin() @staticmethod @resource_extend.extends([l3_apidef.ROUTERS]) def _extend_router_dict(result_dict, db): if result_dict.get(l3_apidef.EXTERNAL_GW_INFO, None): if db.enable_ndp_proxy is None: enable_ndp_proxy = False else: enable_ndp_proxy = db.enable_ndp_proxy.enable_ndp_proxy result_dict[l3_apidef.EXTERNAL_GW_INFO].update( {'enable_ndp_proxy': enable_ndp_proxy}) result_dict[l3_ndp_proxy.COLLECTION_NAME] = [] if db.ndp_proxies: ndp_proxies = [] for ndp_proxy in db.ndp_proxies: np_dict = np.NDPProxy.modify_fields_from_db(ndp_proxy) ndp_proxies.append(np_dict) result_dict[l3_ndp_proxy.COLLECTION_NAME] = ndp_proxies result_dict[l3_ndp_proxy.COLLECTION_NAME] = None @registry.receives(resources.ROUTER_INTERFACE, [events.BEFORE_DELETE]) def _check_router_remove_subnet_request(self, resource, event, trigger, payload): router = self.l3_plugin.get_router( payload.context, payload.resource_id) if not router['ndp_proxies']: return for proxy in router['ndp_proxies']: port_dict = self.core_plugin.get_port( payload.context, proxy['port_id']) v6_fixed_ips = [ fixed_ip for fixed_ip in port_dict['fixed_ips'] if (netaddr.IPNetwork(fixed_ip['ip_address'] ).version == lib_consts.IP_VERSION_6)] if not v6_fixed_ips: continue if self._get_internal_ip_subnet( proxy['ip_address'], v6_fixed_ips) == payload.metadata['subnet_id']: raise l3_ndp_proxy.RouterInterfaceInUseByNDPProxy( router_id=payload.resource_id, subnet_id=payload.metadata['subnet_id']) def _get_internal_ip_subnet(self, request_ip, fixed_ips): request_ip = netaddr.IPNetwork(request_ip) for fixed_ip in fixed_ips: if netaddr.IPNetwork(fixed_ip['ip_address']) == request_ip: return fixed_ip['subnet_id'] def _check_port_and_ip_address(self, context, port_dict, ip_address=None): network_dict = self.core_plugin.get_network( context, port_dict['network_id']) address_scope = network_dict.get('ipv6_address_scope', None) if not address_scope: message = _(""Requested port %(port_id)s's network %(network_id)s "" ""haven't 'ipv6_address_scope', we don't ensure the "" ""'ip_address' is unique for ndp proxy."") % { ""port_id"": port_dict['id'], ""network_id"": port_dict['network_id']} raise lib_exc.BadRequest(resource=l3_ndp_proxy.RESOURCE_NAME, msg=message) # Check if the port has ipv6 fixed ips v6_fixed_ips = [ fixed_ip for fixed_ip in port_dict['fixed_ips'] if (netaddr.IPNetwork(fixed_ip['ip_address'] ).version == lib_consts.IP_VERSION_6)] if not v6_fixed_ips: # The ndp proxy works with ipv6 addresses, if there is no ipv6 # address, we need to raise. message = _(""Requested port %s must allocate an IPv6 address at "" ""least."") % port_dict['id'] raise lib_exc.BadRequest(resource=l3_ndp_proxy.RESOURCE_NAME, msg=message) if not ip_address: ip_address = v6_fixed_ips[0]['ip_address'] # Check if the ip_address belong to the port subnet_id = self._get_internal_ip_subnet(ip_address, v6_fixed_ips) if not subnet_id: message = _( ""Requested IP address %(ip_address)s is not suitable for "" ""neutron port %(port_id)s as its ipv6 fixed_ips are "" ""%(fixed_ips)s"") % {'ip_address': ip_address, 'port_id': port_dict['id'], 'fixed_ips': v6_fixed_ips} raise lib_exc.BadRequest(resource=l3_ndp_proxy.RESOURCE_NAME, msg=message) return address_scope, ip_address def _check_router_external_gateway(self, context, router_dict): # Check the router whether is eligible extrnal_gw_info = router_dict.get(l3_apidef.EXTERNAL_GW_INFO, None) if not extrnal_gw_info: message = _(""The router %s don't set external gateway, It isn't "" ""eligible for ndp proxy."") % router_dict['id'] raise lib_exc.BadRequest(resource=l3_ndp_proxy.RESOURCE_NAME, msg=message) if not extrnal_gw_info.get(""enable_ndp_proxy"", None): raise l3_ndp_proxy.RouterGatewayDisableNDPProxy( router_id=router_dict['id']) gw_network_dict = self.core_plugin.get_network( context, extrnal_gw_info['network_id']) address_scope = gw_network_dict.get('ipv6_address_scope', None) if not address_scope: message = _(""Requested router %(router_id)s hasn't ipv6 address "" ""scope, it is not eligible for ndp proxy."") % { ""router_id"": router_dict['id']} raise lib_exc.BadRequest(resource=l3_ndp_proxy.RESOURCE_NAME, msg=message) return address_scope @db_base_plugin_common.convert_result_to_dict def create_router_ndp_proxy(self, context, router_id, ndp_proxy): ndp_proxy = ndp_proxy.get(l3_ndp_proxy.RESOURCE_NAME) ndp_proxy['router_id'] = router_id port_id = ndp_proxy['port_id'] ip_address = ndp_proxy.get('ip_address', None) port_dict = self.core_plugin.get_port(context, port_id) (internal_network_address_scope, ip_address) = self._check_port_and_ip_address( context, port_dict, ip_address) router_dict = self.l3_plugin.get_router(context, router_id) external_network_address_scope = self._check_router_external_gateway( context, router_dict) if external_network_address_scope != internal_network_address_scope: raise l3_ndp_proxy.AddressScopeConflict( internal_network_id=port_dict['network_id'], router_id=router_id, external_network_id=router_dict[ l3_apidef.EXTERNAL_GW_INFO]['network_id']) ndp_proxy['ip_address'] = ip_address np.NDPProxy.check_dup_for_ip_address(context, ip_address) with db_api.CONTEXT_WRITER.using(context): np_obj = np.NDPProxy(context, **ndp_proxy) np_obj.create() self.push_api.push(context, [np_obj], rpc_events.CREATED) return np_obj def _get_router_obj(self, context, router_id): router_obj = router.Router.get_object(context, id=router_id) if not router_obj: raise lib_l3_exc.RouterNotFound(router_id=router_id) @db_base_plugin_common.convert_result_to_dict def update_router_ndp_proxy(self, context, id, router_id, ndp_proxy): """"""Just process description updation."""""" pass @db_base_plugin_common.convert_result_to_dict def get_router_ndp_proxy(self, context, id, router_id, fields=None): self.l3_plugin.get_router(context, router_id) obj = np.NDPProxy.get_object(context, id=id) if not obj or (obj.router_id != router_id): raise l3_ndp_proxy.NDPProxyNotFound(id=id) return obj @db_base_plugin_common.convert_result_to_dict def get_router_ndp_proxies(self, context, router_id=None, filters=None, fields=None, sorts=None, limit=None, marker=None, page_reverse=False): self._get_router_obj(context, router_id) pager = base_obj.Pager(sorts, limit, page_reverse, marker) return np.NDPProxy.get_objects( context, _pager=pager, router_id=router_id, **filters) def delete_router_ndp_proxy(self, context, id, router_id): np_obj = np.NDPProxy.get_object(context, id=id) self.l3_plugin.get_router(context, router_id) if not np_obj or (np_obj.router_id != router_id): raise l3_ndp_proxy.NDPProxyNotFound(id=id) with db_api.CONTEXT_WRITER.using(context): np_obj.delete() self.push_api.push(context, [np_obj], rpc_events.DELETED) ",,923,4
openstack%2Fkayobe~master~I366fbe98d27fa70b1aeb398c129f626fe042b5df,openstack/kayobe,master,I366fbe98d27fa70b1aeb398c129f626fe042b5df,Support building multiple disk images,MERGED,2021-10-05 15:14:23.000000000,2022-02-09 20:26:17.000000000,2022-02-09 20:21:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-10-05 15:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e6c742d81b42f2644883c94b753e23abf676a28e', 'message': 'Support building multiple disk images\n\nChange-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df\nStory: 2002098\nTask: 19776\n'}, {'number': 2, 'created': '2021-10-06 11:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f2d6113e8fb6adf32c22bab9678f56496210dfb1', 'message': 'Support building multiple disk images\n\nChange-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df\nStory: 2002098\nTask: 19776\n'}, {'number': 3, 'created': '2021-12-01 06:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3bbb959ddbbf029080500e271a26abdba58702c5', 'message': 'Support building multiple disk images\n\nChange-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df\nStory: 2002098\nTask: 19776\n'}, {'number': 4, 'created': '2021-12-01 09:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/57e99cab3cc8bb9863d0e756c59317255b30b96c', 'message': 'Support building multiple disk images\n\nChange-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df\nStory: 2002098\nTask: 19776\n'}, {'number': 5, 'created': '2021-12-01 16:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c06464d23010045d7f71971d52ab5f0d26c284b7', 'message': 'Support building multiple disk images\n\nChange-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df\nStory: 2002098\nTask: 19776\n'}, {'number': 6, 'created': '2021-12-10 14:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/96ed8614a0fafefea078c1d215d284ab62642da1', 'message': 'Support building multiple disk images\n\nChange-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df\nStory: 2002098\nTask: 19776\n'}, {'number': 7, 'created': '2021-12-10 15:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1a397ff414bd323821e51ed2b4d19d059e5692d9', 'message': 'Support building multiple disk images\n\nChange-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df\nStory: 2002098\nTask: 19776\n'}, {'number': 8, 'created': '2022-01-07 11:26:40.000000000', 'files': ['doc/source/configuration/reference/overcloud-dib.rst', 'etc/kayobe/overcloud-dib.yml', 'ansible/overcloud-host-image-build.yml', 'doc/source/deployment.rst', 'doc/source/configuration/reference/os-distribution.rst', 'releasenotes/notes/dib-host-image-4fe8b1bf078f2d27.yaml', 'ansible/group_vars/all/overcloud-dib', 'doc/source/configuration/reference/bifrost.rst', 'doc/source/configuration/reference/index.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/81758d14c3c1154beae351077c22706d93ba9bb8', 'message': 'Support building multiple disk images\n\nChange-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df\nStory: 2002098\nTask: 19776\n'}]",26,812516,81758d14c3c1154beae351077c22706d93ba9bb8,29,3,8,15197,,,0,"Support building multiple disk images

Change-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df
Story: 2002098
Task: 19776
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/16/812516/3 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'ansible/overcloud-host-image-build.yml', 'doc/source/deployment.rst', 'kayobe/cli/commands.py', 'doc/source/configuration/reference/dib.rst', 'releasenotes/notes/dib-host-image-4fe8b1bf078f2d27.yaml', 'ansible/group_vars/all/dib', 'doc/source/configuration/reference/bifrost.rst', 'doc/source/configuration/reference/index.rst', 'etc/kayobe/dib.yml']",10,e6c742d81b42f2644883c94b753e23abf676a28e,story/2002098,"# List of overcloud host disk images to build. Each element is a dict defining # an image in a format accepted by the stackhpc.os-images role. Default is to # build an image named ""deployment_image"" configured with the dib_* variables # defined below: {""name"": ""deployment_image"", ""elements"": ""{{ dib_elements }}"", # ""env"": ""{{ dib_env_vars }}"", ""packages"": ""{{ dib_packages }}""}. #dib_host_images: ",,322,27
openstack%2Fkolla~master~I353ef9b6b8da0e726c17ad2e06995d3690731e1d,openstack/kolla,master,I353ef9b6b8da0e726c17ad2e06995d3690731e1d,Futureproof the uninstallation of offending es gems,MERGED,2022-01-27 10:59:16.000000000,2022-02-09 19:36:51.000000000,2022-02-09 11:08:04.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-27 10:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/07d6075656078ab07836a055d055cd0b19becfa3', 'message': 'Futureproof the uninstallation of offending es gems\n\nUninstall based on version range.\n\nChange-Id: I353ef9b6b8da0e726c17ad2e06995d3690731e1d\n'}, {'number': 2, 'created': '2022-01-27 11:21:40.000000000', 'files': ['docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/711ec0829a95a12ae9e290aeb3837b457e1dd215', 'message': 'Futureproof the uninstallation of offending es gems\n\nUninstall based on version range.\n\nChange-Id: I353ef9b6b8da0e726c17ad2e06995d3690731e1d\n'}]",8,826631,711ec0829a95a12ae9e290aeb3837b457e1dd215,18,5,2,30491,,,0,"Futureproof the uninstallation of offending es gems

Uninstall based on version range.

Change-Id: I353ef9b6b8da0e726c17ad2e06995d3690731e1d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/826631/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,07d6075656078ab07836a055d055cd0b19becfa3,fix-fluentd-es, && td-agent-gem uninstall elasticsearch:>7.13.0 \ && td-agent-gem uninstall elasticsearch-api:>7.13.0 \ && td-agent-gem uninstall elasticsearch-transport:>7.13.0, && td-agent-gem uninstall elasticsearch:7.15.0 \ && td-agent-gem uninstall elasticsearch-api:7.15.0 \ && td-agent-gem uninstall elasticsearch-transport:7.15.0,3,3
openstack%2Ftripleo-validations~stable%2Fwallaby~I9c83d226ff840d6f317a3b0906ead7888fa9342e,openstack/tripleo-validations,stable/wallaby,I9c83d226ff840d6f317a3b0906ead7888fa9342e,Add FIPS validation,MERGED,2022-02-01 14:38:38.000000000,2022-02-09 19:19:43.000000000,2022-02-09 19:10:40.000000000,"[{'_account_id': 9914}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-02-01 14:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0886f0141fef86b578e569b2a70a48a8091d0ee8', 'message': 'Add FIPS validation\n\nCheck if the system has FIPS enabled.\n\nChange-Id: I9c83d226ff840d6f317a3b0906ead7888fa9342e\n(cherry picked from commit 7441ea38f503c685ed0ac68e9e53d68f7b8eaa31)\n'}, {'number': 2, 'created': '2022-02-02 09:07:35.000000000', 'files': ['zuul.d/molecule.yaml', 'roles/fips_enabled/molecule/default/molecule.yml', 'roles/fips_enabled/vars/main.yml', 'doc/source/roles/role-fips_enabled.rst', 'playbooks/fips-enabled.yaml', 'roles/fips_enabled/tasks/main.yml', 'roles/fips_enabled/molecule/default/converge.yml', 'roles/fips_enabled/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bed0a37ac1dc0daaaa6582bd573ceb691bfc7eff', 'message': 'Add FIPS validation\n\nCheck if the system has FIPS enabled.\n\nChange-Id: I9c83d226ff840d6f317a3b0906ead7888fa9342e\n(cherry picked from commit 7441ea38f503c685ed0ac68e9e53d68f7b8eaa31)\n'}]",2,827243,bed0a37ac1dc0daaaa6582bd573ceb691bfc7eff,12,6,2,34120,,,0,"Add FIPS validation

Check if the system has FIPS enabled.

Change-Id: I9c83d226ff840d6f317a3b0906ead7888fa9342e
(cherry picked from commit 7441ea38f503c685ed0ac68e9e53d68f7b8eaa31)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/43/827243/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'roles/fips_enabled/molecule/default/molecule.yml', 'roles/fips_enabled/vars/main.yml', 'doc/source/roles/role-fips_enabled.rst', 'playbooks/fips-enabled.yaml', 'roles/fips_enabled/tasks/main.yml', 'roles/fips_enabled/molecule/default/converge.yml', 'roles/fips_enabled/molecule/default/prepare.yml']",8,0886f0141fef86b578e569b2a70a48a8091d0ee8,change-818761-stable/wallaby,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all gather_facts: false ",,221,0
openstack%2Foctavia-dashboard~stable%2Fwallaby~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/wallaby,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:07:36.000000000,2022-02-09 19:01:30.000000000,2022-02-09 18:35:42.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-03 17:07:36.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/fc24b8495f9abcd59d6548e36993740c08346dd7', 'message': 'Fix invalid value range for member weight\n\nOctavia supports setting the weight of members from 0 to 256, but\nin Horizon the value 0 was not accepted. This fix allows entering\nthe value 0 as well, which is important for putting a member into\nDRAINING state.\n\nChange-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc\nStory: 2009804\nTask: 44362\n(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)\n(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)\n'}]",0,827723,fc24b8495f9abcd59d6548e36993740c08346dd7,9,4,1,34429,,,0,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/23/827723/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",7,fc24b8495f9abcd59d6548e36993740c08346dd7,," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""0"" max=""256"""," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""1"" max=""256""",15,7
openstack%2Foctavia-dashboard~stable%2Fxena~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/xena,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:04:35.000000000,2022-02-09 19:01:13.000000000,2022-02-09 18:39:15.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-03 17:04:35.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/7298c1a46f8b1bf7e5dec874482704fc83caf1ae', 'message': 'Fix invalid value range for member weight\n\nOctavia supports setting the weight of members from 0 to 256, but\nin Horizon the value 0 was not accepted. This fix allows entering\nthe value 0 as well, which is important for putting a member into\nDRAINING state.\n\nChange-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc\nStory: 2009804\nTask: 44362\n(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)\n'}]",0,827721,7298c1a46f8b1bf7e5dec874482704fc83caf1ae,9,4,1,34429,,,0,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/21/827721/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",7,7298c1a46f8b1bf7e5dec874482704fc83caf1ae,," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""0"" max=""256"""," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""1"" max=""256""",15,7
openstack%2Foctavia-dashboard~stable%2Fvictoria~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/victoria,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:08:58.000000000,2022-02-09 19:00:00.000000000,2022-02-09 18:31:56.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-03 17:08:58.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/96cdde26e7e25305839f09516fd67fa707e5be54', 'message': 'Fix invalid value range for member weight\n\nOctavia supports setting the weight of members from 0 to 256, but\nin Horizon the value 0 was not accepted. This fix allows entering\nthe value 0 as well, which is important for putting a member into\nDRAINING state.\n\nChange-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc\nStory: 2009804\nTask: 44362\n(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)\n(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)\n(cherry picked from commit fc24b8495f9abcd59d6548e36993740c08346dd7)\n'}]",0,827724,96cdde26e7e25305839f09516fd67fa707e5be54,9,4,1,34429,,,0,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)
(cherry picked from commit fc24b8495f9abcd59d6548e36993740c08346dd7)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/24/827724/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",7,96cdde26e7e25305839f09516fd67fa707e5be54,," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""0"" max=""256"""," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""1"" max=""256""",15,7
openstack%2Foctavia-dashboard~stable%2Fussuri~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/ussuri,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:09:52.000000000,2022-02-09 18:59:20.000000000,2022-02-09 18:31:32.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-03 17:09:52.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/d11d0fe4e6368d4acda303578d8e7ebaaab89ceb', 'message': 'Fix invalid value range for member weight\n\nOctavia supports setting the weight of members from 0 to 256, but\nin Horizon the value 0 was not accepted. This fix allows entering\nthe value 0 as well, which is important for putting a member into\nDRAINING state.\n\nChange-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc\nStory: 2009804\nTask: 44362\n(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)\n(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)\n(cherry picked from commit fc24b8495f9abcd59d6548e36993740c08346dd7)\n(cherry picked from commit 96cdde26e7e25305839f09516fd67fa707e5be54)\n'}]",0,827725,d11d0fe4e6368d4acda303578d8e7ebaaab89ceb,9,4,1,34429,,,0,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)
(cherry picked from commit fc24b8495f9abcd59d6548e36993740c08346dd7)
(cherry picked from commit 96cdde26e7e25305839f09516fd67fa707e5be54)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/25/827725/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",7,d11d0fe4e6368d4acda303578d8e7ebaaab89ceb,," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""0"" max=""256"""," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""1"" max=""256""",15,7
openstack%2Foctavia-dashboard~stable%2Ftrain~I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,openstack/octavia-dashboard,stable/train,I25ce292f962cf6a0d6f017fe7bc47aaed0790efc,Fix invalid value range for member weight,MERGED,2022-02-03 17:10:20.000000000,2022-02-09 18:58:43.000000000,2022-02-09 18:29:30.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-03 17:10:20.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/7b08299d0f9079bed792e71d45932ec2fe8bfd2c', 'message': 'Fix invalid value range for member weight\n\nOctavia supports setting the weight of members from 0 to 256, but\nin Horizon the value 0 was not accepted. This fix allows entering\nthe value 0 as well, which is important for putting a member into\nDRAINING state.\n\nChange-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc\nStory: 2009804\nTask: 44362\n(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)\n(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)\n(cherry picked from commit fc24b8495f9abcd59d6548e36993740c08346dd7)\n(cherry picked from commit 96cdde26e7e25305839f09516fd67fa707e5be54)\n(cherry picked from commit d11d0fe4e6368d4acda303578d8e7ebaaab89ceb)\n'}]",0,827726,7b08299d0f9079bed792e71d45932ec2fe8bfd2c,9,4,1,34429,,,0,"Fix invalid value range for member weight

Octavia supports setting the weight of members from 0 to 256, but
in Horizon the value 0 was not accepted. This fix allows entering
the value 0 as well, which is important for putting a member into
DRAINING state.

Change-Id: I25ce292f962cf6a0d6f017fe7bc47aaed0790efc
Story: 2009804
Task: 44362
(cherry picked from commit b1a86bb6ff3fa784b733641594eea86c2bb008d9)
(cherry picked from commit 7298c1a46f8b1bf7e5dec874482704fc83caf1ae)
(cherry picked from commit fc24b8495f9abcd59d6548e36993740c08346dd7)
(cherry picked from commit 96cdde26e7e25305839f09516fd67fa707e5be54)
(cherry picked from commit d11d0fe4e6368d4acda303578d8e7ebaaab89ceb)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/26/827726/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.html', 'releasenotes/notes/fix-member-weight-value-range-9310678f967c771a.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/edit-member/modal.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/members/members.html']",7,7b08299d0f9079bed792e71d45932ec2fe8bfd2c,," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""0"" max=""256"""," ng-model=""row.weight"" ng-pattern=""/^\d+$/"" min=""1"" max=""256""",15,7
openstack%2Fbifrost~master~I89c331517dd97373eb99f613bb00e3cfc07f3d5c,openstack/bifrost,master,I89c331517dd97373eb99f613bb00e3cfc07f3d5c,Remove deprecated os_ironic_facts,MERGED,2022-01-25 15:16:19.000000000,2022-02-09 18:58:23.000000000,2022-02-09 18:16:30.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-25 15:16:19.000000000', 'files': ['releasenotes/notes/facts-1a84f77291c7d39d.yaml', 'playbooks/library/os_ironic_node_info.py', 'playbooks/library/os_ironic_facts.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1f0662bcf0df965621054410c0e738f4e9d73c57', 'message': 'Remove deprecated os_ironic_facts\n\nChange-Id: I89c331517dd97373eb99f613bb00e3cfc07f3d5c\n'}]",1,826308,1f0662bcf0df965621054410c0e738f4e9d73c57,12,3,1,10239,,,0,"Remove deprecated os_ironic_facts

Change-Id: I89c331517dd97373eb99f613bb00e3cfc07f3d5c
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/08/826308/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/facts-1a84f77291c7d39d.yaml', 'playbooks/library/os_ironic_node_info.py', 'playbooks/library/os_ironic_facts.py']",3,1f0662bcf0df965621054410c0e738f4e9d73c57,facts,,os_ironic_node_info.py,5,14
openstack%2Fopenstacksdk~master~Ie86c1c554b31aa33dc53a72397376cbb72f14c03,openstack/openstacksdk,master,Ie86c1c554b31aa33dc53a72397376cbb72f14c03,Identity: Add support for system role assignment,ABANDONED,2022-02-09 18:53:18.000000000,2022-02-09 18:54:52.000000000,,[],"[{'number': 1, 'created': '2022-02-09 18:53:18.000000000', 'files': ['openstack/tests/unit/cloud/test_role_assignment.py', 'doc/source/user/proxies/identity_v3.rst', 'openstack/identity/v3/_proxy.py', 'openstack/identity/v3/system.py', 'openstack/tests/functional/cloud/test_identity.py', 'openstack/tests/unit/identity/v3/test_role_system_group_assignment.py', 'openstack/tests/unit/identity/v3/test_proxy.py', 'openstack/cloud/_identity.py', 'openstack/identity/v3/role_system_user_assignment.py', 'openstack/identity/v3/role_system_group_assignment.py', 'openstack/tests/unit/identity/v3/test_role_system_user_assignment.py', 'releasenotes/notes/add-system-role-assignment-693dd3e1da33a54d.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b24e9553248653983d1d8a6833a464d6a30de990', 'message': 'Identity: Add support for system role assignment\n\nAllow granting and revoking system role assignment to a user or group.\nEnable filtering for system role when listing role assignments.\n\nhttps: //docs.openstack.org/api-ref/identity/v3/#system-role-assignments\nChange-Id: Ie86c1c554b31aa33dc53a72397376cbb72f14c03\n'}]",0,828602,b24e9553248653983d1d8a6833a464d6a30de990,2,0,1,30810,,,0,"Identity: Add support for system role assignment

Allow granting and revoking system role assignment to a user or group.
Enable filtering for system role when listing role assignments.

https: //docs.openstack.org/api-ref/identity/v3/#system-role-assignments
Change-Id: Ie86c1c554b31aa33dc53a72397376cbb72f14c03
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/02/828602/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_role_assignment.py', 'doc/source/user/proxies/identity_v3.rst', 'openstack/identity/v3/_proxy.py', 'openstack/identity/v3/system.py', 'openstack/tests/functional/cloud/test_identity.py', 'openstack/tests/unit/identity/v3/test_role_system_group_assignment.py', 'openstack/tests/unit/identity/v3/test_proxy.py', 'openstack/cloud/_identity.py', 'openstack/identity/v3/role_system_user_assignment.py', 'openstack/identity/v3/role_system_group_assignment.py', 'openstack/tests/unit/identity/v3/test_role_system_user_assignment.py', 'releasenotes/notes/add-system-role-assignment-693dd3e1da33a54d.yaml']",12,b24e9553248653983d1d8a6833a464d6a30de990,,--- features: - | Add support for system role assignment. A system role assignment ultimately controls access to system-level API calls. Good examples of system-level APIs include management of the service catalog and compute hypervisors. `System role assignment API reference <https://docs.openstack.org/api-ref/identity/v3/#system-role-assignments>`_. ,,548,24
openstack%2Fpython-tripleoclient~master~I24bea131cc949888518994a3aa08c200d579cb7d,openstack/python-tripleoclient,master,I24bea131cc949888518994a3aa08c200d579cb7d,Support Deployed Ceph container push_destination,MERGED,2022-01-20 01:38:11.000000000,2022-02-09 18:54:30.000000000,2022-02-09 18:10:10.000000000,"[{'_account_id': 5803}, {'_account_id': 8449}, {'_account_id': 9600}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-01-20 01:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1eb6dc3a0785e9916f7592f8092f752a01a5cc1f', 'message': ""Support Deployed Ceph container push_destination\n\nWhen 'openstack overcloud deploy ceph' is passed\n--container-image-prepare with a file with a\npush_destination then, then the resulting image\nparameters should be modified to refer to the\nimages in push_destination instead of namespace.\n\nChange-Id: I24bea131cc949888518994a3aa08c200d579cb7d\n""}, {'number': 2, 'created': '2022-02-03 17:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d9262ca5b41ae2baa6f2d2040ca54be62000a8c2', 'message': ""Support Deployed Ceph container push_destination\n\nWhen 'openstack overcloud deploy ceph' is passed\n--container-image-prepare with a file with a\npush_destination then, then the resulting image\nparameters should be modified to refer to the\nimages in push_destination instead of namespace.\n\nCloses-Bug: 1958524\nDepends-On: Ibaeb1249ae02651cbefba75d0912da205880a495\nChange-Id: I24bea131cc949888518994a3aa08c200d579cb7d\n""}, {'number': 3, 'created': '2022-02-04 13:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/97bf9fec0d1853ba82c0b71f2347b46fa3b5a34d', 'message': ""Support Deployed Ceph container push_destination\n\nWhen 'openstack overcloud deploy ceph' is passed\n--container-image-prepare with a file with a\npush_destination then, then the resulting image\nparameters should be modified to refer to the\nimages in push_destination instead of namespace.\n\nIn order to support push_destination the overcloud\n/etc/containers/registries.conf and /etc/hosts must\nbe updated so that the undercloud hostname can be\nresolved and so that podman will pull containers\nfrom it as a registry. Calls to tripleo-ansible\nroles tripleo_hosts_entries and tripleo_podman\nare thus required.\n\nCloses-Bug: 1958524\nDepends-On: Ibaeb1249ae02651cbefba75d0912da205880a495\nChange-Id: I24bea131cc949888518994a3aa08c200d579cb7d\n""}, {'number': 4, 'created': '2022-02-04 21:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9bd4b6a1d08c6b18d727fbf286aeb0bd1ace9401', 'message': ""Support Deployed Ceph container push_destination\n\nWhen 'openstack overcloud deploy ceph' is passed\n--container-image-prepare with a file with a\npush_destination then, then the resulting image\nparameters should be modified to refer to the\nimages in push_destination instead of namespace.\n\nIn order to support push_destination the overcloud\n/etc/containers/registries.conf and /etc/hosts must\nbe updated so that the undercloud hostname can be\nresolved and so that podman will pull containers\nfrom it as a registry. Calls to tripleo-ansible\nroles tripleo_hosts_entries and tripleo_podman\nare thus required.\n\nCloses-Bug: 1958524\nDepends-On: Ibaeb1249ae02651cbefba75d0912da205880a495\nChange-Id: I24bea131cc949888518994a3aa08c200d579cb7d\n""}, {'number': 5, 'created': '2022-02-08 14:27:41.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3aae1ea80891539b2734f436929c2ae8056cfc61', 'message': ""Support Deployed Ceph container push_destination\n\nWhen 'openstack overcloud deploy ceph' is passed\n--container-image-prepare with a file with a\npush_destination then, then the resulting image\nparameters should be modified to refer to the\nimages in push_destination instead of namespace.\n\nIn order to support push_destination the overcloud\n/etc/containers/registries.conf and /etc/hosts must\nbe updated so that the undercloud hostname can be\nresolved and so that podman will pull containers\nfrom it as a registry. Calls to tripleo-ansible\nroles tripleo_hosts_entries and tripleo_podman\nare thus required.\n\nCloses-Bug: 1958524\nDepends-On: Ibaeb1249ae02651cbefba75d0912da205880a495\nChange-Id: I24bea131cc949888518994a3aa08c200d579cb7d\n""}]",32,825416,3aae1ea80891539b2734f436929c2ae8056cfc61,32,7,5,18002,,,0,"Support Deployed Ceph container push_destination

When 'openstack overcloud deploy ceph' is passed
--container-image-prepare with a file with a
push_destination then, then the resulting image
parameters should be modified to refer to the
images in push_destination instead of namespace.

In order to support push_destination the overcloud
/etc/containers/registries.conf and /etc/hosts must
be updated so that the undercloud hostname can be
resolved and so that podman will pull containers
from it as a registry. Calls to tripleo-ansible
roles tripleo_hosts_entries and tripleo_podman
are thus required.

Closes-Bug: 1958524
Depends-On: Ibaeb1249ae02651cbefba75d0912da205880a495
Change-Id: I24bea131cc949888518994a3aa08c200d579cb7d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/825416/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py']",3,1eb6dc3a0785e9916f7592f8092f752a01a5cc1f,bug/1958524," push_sub_keys = ['ceph_namespace'] container_image_prepare, push_sub_keys) ", container_image_prepare),43,3
openstack%2Fkayobe~master~I58f7259a956b721052d9adfc935b669ff201b299,openstack/kayobe,master,I58f7259a956b721052d9adfc935b669ff201b299,dnf: support exclude and includepkgs arguments,MERGED,2022-01-05 16:28:55.000000000,2022-02-09 18:54:14.000000000,2022-02-09 16:46:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-05 16:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8ea3e2710f2c624909c86827460700bfcb28438d', 'message': 'dnf: add includepkgs argument to custom dnf repository\n\nChange-Id: I58f7259a956b721052d9adfc935b669ff201b299\n'}, {'number': 2, 'created': '2022-01-05 17:07:27.000000000', 'files': ['ansible/roles/dnf/tasks/custom-repo.yml', 'releasenotes/notes/yum-repository-exclude-includepkgs-6e7b6b988f1f9a9d.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3c8ce468a8b1aae52e22f1b8558402613889e404', 'message': 'dnf: support exclude and includepkgs arguments\n\nChange-Id: I58f7259a956b721052d9adfc935b669ff201b299\n'}]",0,823560,3c8ce468a8b1aae52e22f1b8558402613889e404,9,3,2,15197,,,0,"dnf: support exclude and includepkgs arguments

Change-Id: I58f7259a956b721052d9adfc935b669ff201b299
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/60/823560/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/yum-repository-includepkgs-473f834521ec6a2d.yaml', 'ansible/roles/dnf/tasks/custom-repo.yml']",2,8ea3e2710f2c624909c86827460700bfcb28438d,dnf-exclude-includepkgs," includepkgs: ""{{ item.value.includepkgs | default(omit)}}""",,6,0
openstack%2Fcinder~stable%2Fvictoria~Ia59cbc5a4eb279e56f07ff9f44aa40b582aea829,openstack/cinder,stable/victoria,Ia59cbc5a4eb279e56f07ff9f44aa40b582aea829,Fix volume OVO create method,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 18:50:01.000000000,2022-02-09 16:51:34.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-18 11:54:40.000000000', 'files': ['cinder/objects/volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3339bfb83963e0d60733696ed62462e8590b961d', 'message': ""Fix volume OVO create method\n\nWhen we create a volume in the DB using the OVO interface we were\nmissing some fields in the volume present in memory after it has been\ncreated.\n\nThis was caused by the create method not passing the expected attributes\nto the _from_db_object.\n\nBecause of this missing information we have places in the code where we\nforcefully a reload of the whole Volume OVO when it shouldn't be\nnecessary.\n\nThis patch fixes the create method of the Volume OVO and removes an\ninstance of the forceful reload of the volume, reducing our DB calls.\n\nChange-Id: Ia59cbc5a4eb279e56f07ff9f44aa40b582aea829\n(cherry picked from commit bea4586635cbfa369c7552ac73d3e98aa4a61fb1)\n""}]",3,825104,3339bfb83963e0d60733696ed62462e8590b961d,20,5,1,9535,,,0,"Fix volume OVO create method

When we create a volume in the DB using the OVO interface we were
missing some fields in the volume present in memory after it has been
created.

This was caused by the create method not passing the expected attributes
to the _from_db_object.

Because of this missing information we have places in the code where we
forcefully a reload of the whole Volume OVO when it shouldn't be
necessary.

This patch fixes the create method of the Volume OVO and removes an
instance of the forceful reload of the volume, reducing our DB calls.

Change-Id: Ia59cbc5a4eb279e56f07ff9f44aa40b582aea829
(cherry picked from commit bea4586635cbfa369c7552ac73d3e98aa4a61fb1)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/825104/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/volume.py', 'cinder/volume/api.py']",2,3339bfb83963e0d60733696ed62462e8590b961d,victoria-detach-vol-status,," # Refresh the object here, otherwise things ain't right vref = objects.Volume.get_by_id( context, vref['id'])",2,4
openstack%2Foslo.messaging~stable%2Fxena~Id8557050157aecd3abd75c9114d3fcaecdfc5dc9,openstack/oslo.messaging,stable/xena,Id8557050157aecd3abd75c9114d3fcaecdfc5dc9,Reproduce bug 1917645,MERGED,2022-01-13 08:53:00.000000000,2022-02-09 18:42:17.000000000,2022-02-09 17:33:04.000000000,"[{'_account_id': 1004}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}, {'_account_id': 31733}]","[{'number': 1, 'created': '2022-01-13 08:53:00.000000000', 'files': ['oslo_messaging/tests/notify/test_notifier.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7390034e479c044d9067d97cd801f9f58c813e41', 'message': 'Reproduce bug 1917645\n\nThe [oslo_messaging_notification]retry parameter is not applied during\nconnecting to the message bus. But the documentation implies it should[1][2].\nThe two possible drivers, rabbit and kafka, behaves differently.\n\n1) The rabbit driver will retry the connection forever, blocking the caller\n   process.\n\n2) The kafka driver also ignores the retry configuration but the\n   notifier call returns immediately even if the notification is not\n   (cannot) be delivered.\n\nThis patch adds test cases to show the wrong behavior.\n\n[1] https://docs.openstack.org/oslo.messaging/latest/configuration/opts.html#oslo_messaging_notifications.retry\n[2] https://github.com/openstack/oslo.messaging/blob/feb72de7b81e3919dedc697f9fb5484a92f85ad8/oslo_messaging/notify/messaging.py#L31-L36\n\nRelated-Bug: #1917645\n\nChange-Id: Id8557050157aecd3abd75c9114d3fcaecdfc5dc9\n(cherry picked from commit 1db6de63a86812742cbc37a0f5fe1fd7a095dd7f)\n'}]",1,824512,7390034e479c044d9067d97cd801f9f58c813e41,10,6,1,9708,,,0,"Reproduce bug 1917645

The [oslo_messaging_notification]retry parameter is not applied during
connecting to the message bus. But the documentation implies it should[1][2].
The two possible drivers, rabbit and kafka, behaves differently.

1) The rabbit driver will retry the connection forever, blocking the caller
   process.

2) The kafka driver also ignores the retry configuration but the
   notifier call returns immediately even if the notification is not
   (cannot) be delivered.

This patch adds test cases to show the wrong behavior.

[1] https://docs.openstack.org/oslo.messaging/latest/configuration/opts.html#oslo_messaging_notifications.retry
[2] https://github.com/openstack/oslo.messaging/blob/feb72de7b81e3919dedc697f9fb5484a92f85ad8/oslo_messaging/notify/messaging.py#L31-L36

Related-Bug: #1917645

Change-Id: Id8557050157aecd3abd75c9114d3fcaecdfc5dc9
(cherry picked from commit 1db6de63a86812742cbc37a0f5fe1fd7a095dd7f)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/12/824512/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/notify/test_notifier.py'],1,7390034e479c044d9067d97cd801f9f58c813e41,bug/1917645,"from kombu import connectionclass TestMessagingNotifierRetry(test_utils.BaseTestCase): class TestingException(BaseException): pass def test_notifier_retry_connection_fails_rabbit(self): """"""This test sets a small retry number for notification sending and configures a non reachable message bus. The expectation that after the configured number of retries the driver gives up the message sending. """""" self.config( driver=[""messagingv2""], topics=[""test-retry""], retry=2, group=""oslo_messaging_notifications"") transport = oslo_messaging.get_notification_transport( self.conf, url='rabbit://') notifier = oslo_messaging.Notifier(transport) orig_establish_connection = connection.Connection._establish_connection calls = [] def wrapped_establish_connection(*args, **kwargs): if len(calls) > 2: raise self.TestingException( ""Connection should only be retried twice due to "" ""configuration"") else: calls.append((args, kwargs)) orig_establish_connection(*args, **kwargs) with mock.patch( 'kombu.connection.Connection._establish_connection', new=wrapped_establish_connection ): # FIXME(gibi) This is bug 1917645 as the driver does not stop # retrying the connection after two retries only our test fixture # stops the retry by raising TestingException self.assertRaises( self.TestingException, notifier.info, {}, ""test"", {}) def test_notifier_retry_connection_fails_kafka(self): """"""This test sets a small retry number for notification sending and configures a non reachable message bus. The expectation that after the configured number of retries the driver gives up the message sending. """""" self.config( driver=[""messagingv2""], topics=[""test-retry""], retry=2, group='oslo_messaging_notifications') transport = oslo_messaging.get_notification_transport( self.conf, url='kafka://') notifier = oslo_messaging.Notifier(transport) # Kafka's message producer interface is async, and there is no way # from the oslo interface to force sending a pending message. So this # call simply returns without i) failing to deliver the message to # the non existent kafka bus ii) retrying the message delivery twice # as the configuration requested it. notifier.info({}, ""test"", {}) ",,68,0
openstack%2Ftripleo-ansible~master~I3359568eb4c947a4911c258e9f960cd03e67b637,openstack/tripleo-ansible,master,I3359568eb4c947a4911c258e9f960cd03e67b637,Fix tripleo_service_vip exception,MERGED,2022-02-08 19:39:37.000000000,2022-02-09 18:35:49.000000000,2022-02-09 17:27:49.000000000,"[{'_account_id': 6796}, {'_account_id': 8833}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-02-08 19:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15481f1b5e35eaee8f891ce70271257443fed5f8', 'message': ""Fix tripleo_service_vip exception\n\nThe 'tripleo_service_vip' ansible module should fail and raise an\nexception only during the provisioning phase. The playbook dir or\nany other output shouldn't be required during the unprovisioning\nprocess.\n\nChange-Id: I3359568eb4c947a4911c258e9f960cd03e67b637\n""}, {'number': 2, 'created': '2022-02-08 20:25:32.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75e3e7d5684fdcf3d272f249ee0dec449203e5b2', 'message': ""Fix tripleo_service_vip exception\n\nThe 'tripleo_service_vip' ansible module should fail and raise an\nexception only during the provisioning phase. The playbook dir or\nany other output shouldn't be required during the unprovisioning\nprocess.\n\nCloses-Bug: #1960352\nChange-Id: I3359568eb4c947a4911c258e9f960cd03e67b637\n""}]",5,828417,75e3e7d5684fdcf3d272f249ee0dec449203e5b2,16,8,2,25402,,,0,"Fix tripleo_service_vip exception

The 'tripleo_service_vip' ansible module should fail and raise an
exception only during the provisioning phase. The playbook dir or
any other output shouldn't be required during the unprovisioning
process.

Closes-Bug: #1960352
Change-Id: I3359568eb4c947a4911c258e9f960cd03e67b637
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/828417/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py'],1,15481f1b5e35eaee8f891ce70271257443fed5f8,tripleo_vip_delete, if out is None and playbook_dir is None and state != 'absent':, if out is None and playbook_dir is None:,1,1
openstack%2Fbifrost~master~Ia04126c39ab52816f0b89b89ae7a275d57011df1,openstack/bifrost,master,Ia04126c39ab52816f0b89b89ae7a275d57011df1,CI: properly publish artifacts for the upgrade job,MERGED,2022-02-03 15:11:02.000000000,2022-02-09 18:29:51.000000000,2022-02-09 16:57:29.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-03 15:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cdfd54e9c7eeaa4fd0befc13b4efb122fcbf1f18', 'message': 'CI: properly publish artifacts for the upgrade job\n\nChange-Id: Ia04126c39ab52816f0b89b89ae7a275d57011df1\n'}, {'number': 2, 'created': '2022-02-03 16:23:04.000000000', 'files': ['playbooks/ci/post.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2d5026da096d6d1341088a28dfa2af3602a8c052', 'message': 'CI: properly publish artifacts for the upgrade job\n\nChange-Id: Ia04126c39ab52816f0b89b89ae7a275d57011df1\n'}]",0,827688,2d5026da096d6d1341088a28dfa2af3602a8c052,9,3,2,10239,,,0,"CI: properly publish artifacts for the upgrade job

Change-Id: Ia04126c39ab52816f0b89b89ae7a275d57011df1
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/88/827688/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ci/post.yaml'],1,cdfd54e9c7eeaa4fd0befc13b4efb122fcbf1f18,zuul-artifact," when: '""upgrade"" not in zuul.job' - name: Store bifrost upgrade log as a Zuul artifact zuul_return: data: zuul: artifacts: - name: Bifrost log (before upgrade) url: 'logs/bifrost-old.log' - name: Bifrost log (after upgrade) url: 'logs/bifrost-new.log' when: '""upgrade"" in zuul.job'",,12,0
openstack%2Fkayobe~master~I96eb4685f997e85ad2ee5318640d58d0287a016d,openstack/kayobe,master,I96eb4685f997e85ad2ee5318640d58d0287a016d,Disable EPEL by default,MERGED,2021-12-22 18:08:56.000000000,2022-02-09 18:11:03.000000000,2022-02-09 16:45:55.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-22 18:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a44ea84ae8986a7d46e406a935ac03675a285fcf', 'message': 'WIP: disable EPEL by default\n\nChange-Id: I96eb4685f997e85ad2ee5318640d58d0287a016d\n'}, {'number': 2, 'created': '2021-12-23 10:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6f1f766003dd7c402b8a3001010ae686464944f1', 'message': ""Disable EPEL by default\n\nEPEL is no longer required for a default installation. Let's disable it.\n\nAlso clean up the install_epel variable from Kolla Ansible globals.yml\ntemplate, since it never existed.\n\nStory: 2009757\nTask: 44227\n\nChange-Id: I96eb4685f997e85ad2ee5318640d58d0287a016d\n""}, {'number': 3, 'created': '2021-12-23 13:23:53.000000000', 'files': ['ansible/roles/kolla-ansible/templates/kolla/globals.yml', 'ansible/roles/dnf/defaults/main.yml', 'playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2', 'roles/kayobe-ci-prep/tasks/main.yml', 'ansible/group_vars/all/dnf', 'ansible/roles/kolla/defaults/main.yml', 'doc/source/configuration/reference/hosts.rst', 'releasenotes/notes/disable-epel-cef798b3708840d0.yaml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'etc/kayobe/dnf.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e0dec91689aaa867d407f02264dced5677d84f84', 'message': ""Disable EPEL by default\n\nEPEL is no longer required for a default installation. Let's disable it.\n\nAlso clean up the install_epel variable from Kolla Ansible globals.yml\ntemplate, since it never existed.\n\nStory: 2009757\nTask: 44227\n\nChange-Id: I96eb4685f997e85ad2ee5318640d58d0287a016d\n""}]",0,822758,e0dec91689aaa867d407f02264dced5677d84f84,12,3,3,14826,,,0,"Disable EPEL by default

EPEL is no longer required for a default installation. Let's disable it.

Also clean up the install_epel variable from Kolla Ansible globals.yml
template, since it never existed.

Story: 2009757
Task: 44227

Change-Id: I96eb4685f997e85ad2ee5318640d58d0287a016d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/58/822758/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/kayobe-ci-prep/tasks/main.yml', 'ansible/group_vars/all/dnf']",2,a44ea84ae8986a7d46e406a935ac03675a285fcf,,dnf_install_epel: false,dnf_install_epel: true,2,2
openstack%2Fcinder~stable%2Fvictoria~I442a42b0c098775935a799876ad8efbe141829ad,openstack/cinder,stable/victoria,I442a42b0c098775935a799876ad8efbe141829ad,Delete attachment on remove_export failure,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 18:07:19.000000000,2022-02-09 16:38:04.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-18 11:54:40.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/remove_export_failure_leaves_attachment-24e0c648269b0177.yaml', 'cinder/tests/unit/attachments/test_attachments_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/362b7e14f17d9b0aa751df3016b27c536e1c0bc8', 'message': 'Delete attachment on remove_export failure\n\nWhen deleting an attachment, if the driver\'s remove_export or the\ndetach_volume method call fails in the cinder driver, then the\nattachment status is changed to error_detaching but the REST API call\ndoesn\'t fail.\n\nThe end result is:\n- Volume status is ""available""\n- Volume attach_status is ""detached""\n- There is a volume_attachment record for the volume\n- The volume may still be exported in the backend\n\nThe volume still being exported in the storage array is not a problem,\nsince the next attach-detach cycle will give it another opportunity for\nit to succeed, and we also do the export on volume deletion.\n\nSo in the end leaving the attachment in error_detaching status doesn\'t\nhave any use and creates confusion.\n\nThis patch removes the attachment record when on an attachment delete\nrequest if the error happens on remove_export or detach_volume calls.\n\nThis doesn\'t change how the REST API attachment delete operation\nbehaves, the change is that there will not be a leftover attachment\nrecord with the volume in available and detached status.\n\nCloses-Bug: #1935057\nChange-Id: I442a42b0c098775935a799876ad8efbe141829ad\n(cherry picked from commit 3aa00b087884a278e747e839db0707cf39561382)\nConflicts:\n\tcinder/volume/manager.py\n(cherry picked from commit 1328c68a8cc6db0e4bd6b145daa788570908ed36)\n(cherry picked from commit be7b001290ab56632aaf5d108aeccb367adea55c)\n'}]",2,825101,362b7e14f17d9b0aa751df3016b27c536e1c0bc8,17,3,1,9535,,,0,"Delete attachment on remove_export failure

When deleting an attachment, if the driver's remove_export or the
detach_volume method call fails in the cinder driver, then the
attachment status is changed to error_detaching but the REST API call
doesn't fail.

The end result is:
- Volume status is ""available""
- Volume attach_status is ""detached""
- There is a volume_attachment record for the volume
- The volume may still be exported in the backend

The volume still being exported in the storage array is not a problem,
since the next attach-detach cycle will give it another opportunity for
it to succeed, and we also do the export on volume deletion.

So in the end leaving the attachment in error_detaching status doesn't
have any use and creates confusion.

This patch removes the attachment record when on an attachment delete
request if the error happens on remove_export or detach_volume calls.

This doesn't change how the REST API attachment delete operation
behaves, the change is that there will not be a leftover attachment
record with the volume in available and detached status.

Closes-Bug: #1935057
Change-Id: I442a42b0c098775935a799876ad8efbe141829ad
(cherry picked from commit 3aa00b087884a278e747e839db0707cf39561382)
Conflicts:
	cinder/volume/manager.py
(cherry picked from commit 1328c68a8cc6db0e4bd6b145daa788570908ed36)
(cherry picked from commit be7b001290ab56632aaf5d108aeccb367adea55c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/825101/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/remove_export_failure_leaves_attachment-24e0c648269b0177.yaml', 'cinder/tests/unit/attachments/test_attachments_manager.py']",3,362b7e14f17d9b0aa751df3016b27c536e1c0bc8,victoria-detach-vol-status," def test_attachment_delete_remove_export_fail(self): """"""attachment_delete removes attachment on remove_export failure."""""" self.mock_object(self.manager.driver, 'remove_export', side_effect=Exception) # Report that the connection is not shared self.mock_object(self.manager, '_connection_terminate', return_value=False) vref = tests_utils.create_volume(self.context, status='in-use', attach_status='attached') values = {'volume_id': vref.id, 'volume_host': vref.host, 'attach_status': 'reserved', 'instance_uuid': fake.UUID1} attach = db.volume_attach(self.context, values) # Confirm the volume OVO has the attachment before the deletion vref.refresh() self.assertEqual(1, len(vref.volume_attachment)) self.manager.attachment_delete(self.context, attach.id, vref) # Attachment has been removed from the DB self.assertRaises(exception.VolumeAttachmentNotFound, db.volume_attachment_get, self.context, attach.id) # Attachment has been removed from the volume OVO attachment list self.assertEqual(0, len(vref.volume_attachment)) ",,35,10
openstack%2Fopenstack-ansible~master~I40c9c41f2e5cb432199492eb4cf5a75bb1b6b0b0,openstack/openstack-ansible,master,I40c9c41f2e5cb432199492eb4cf5a75bb1b6b0b0,Remove symlinking of selinux libraries into the ansible-runtime venv,MERGED,2022-02-02 21:05:24.000000000,2022-02-09 17:38:42.000000000,2022-02-09 16:40:49.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 21:05:24.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a5b99ca742a95a7ce5af63fb54ec9269201f12b2', 'message': 'Remove symlinking of selinux libraries into the ansible-runtime venv\n\nCore ansible modules that need selinux have been migrated to use\nctypes functions [1].\n\n[1] https://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/compat/selinux.py\n\nChange-Id: I40c9c41f2e5cb432199492eb4cf5a75bb1b6b0b0\n'}]",3,827556,a5b99ca742a95a7ce5af63fb54ec9269201f12b2,16,3,1,25023,,,0,"Remove symlinking of selinux libraries into the ansible-runtime venv

Core ansible modules that need selinux have been migrated to use
ctypes functions [1].

[1] https://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/compat/selinux.py

Change-Id: I40c9c41f2e5cb432199492eb4cf5a75bb1b6b0b0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/827556/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,a5b99ca742a95a7ce5af63fb54ec9269201f12b2,,," # Add SELinux support to the venv if [ -d ""/usr/lib64/python3.8/site-packages/selinux/"" ]; then rsync -avX /usr/lib64/python3.8/site-packages/selinux/ /opt/ansible-runtime/lib64/python3.8/site-packages/selinux/ rsync -avX /usr/lib64/python3.8/site-packages/_selinux.cpython-36m-x86_64-linux-gnu.so /opt/ansible-runtime/lib64/python3.8/site-packages/ fi",0,6
openstack%2Fnova~master~Icd80bda98e6b9a127b865a911ba2df888c7341f2,openstack/nova,master,Icd80bda98e6b9a127b865a911ba2df888c7341f2,"WIP: objects: Prepare for Instance, InstanceList v3",ABANDONED,2021-10-01 14:34:34.000000000,2022-02-09 17:17:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-01 14:34:34.000000000', 'files': ['nova/objects/instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/656a81237783efcec8275cdc610165301528b4f2', 'message': ""WIP: objects: Prepare for Instance, InstanceList v3\n\nThis is a repeat of change I0edd4945aa226b7d0fc30d46a5c51ca61b9b545f,\nonly now we're bumping from 2.x to 3.0. Once again, we pull out the\ncommon bits of Instance into _BaseInstance separately to prove that\ntests continue to pass before and after this split.\n\nWIP while I figure out the issues in the next patch in the series.\n\nChange-Id: Icd80bda98e6b9a127b865a911ba2df888c7341f2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,812152,656a81237783efcec8275cdc610165301528b4f2,6,1,1,15334,,,0,"WIP: objects: Prepare for Instance, InstanceList v3

This is a repeat of change I0edd4945aa226b7d0fc30d46a5c51ca61b9b545f,
only now we're bumping from 2.x to 3.0. Once again, we pull out the
common bits of Instance into _BaseInstance separately to prove that
tests continue to pass before and after this split.

WIP while I figure out the issues in the next patch in the series.

Change-Id: Icd80bda98e6b9a127b865a911ba2df888c7341f2
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/812152/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance.py'],1,656a81237783efcec8275cdc610165301528b4f2,bp/remove-sqlalchemy-migrate,"class _BaseInstance( base.NovaPersistentObject, base.NovaObject, base.NovaObjectDictCompat, ): } def __init__(self, *args, **kwargs): super().__init__(*args, **kwargs) nobj = super().obj_clone() super().obj_reset_changes(fields, recursive=recursive) changes = super().obj_what_changed() self = super()._obj_from_primitive(context, objver, primitive) @classmethod def obj_name(cls): return 'Instance' # TODO(stephenfin): Drop this when we drop support for v2 # TODO(stephenfin): Drop this when we drop support for v2 # TODO(stephenfin): Drop this when we drop support for v2 # TODO(stephenfin): Drop this when we drop support for v2 # TODO(stephenfin): Drop this when we drop support for v2@base.NovaObjectRegistry.register class InstanceV2(_BaseInstance): # Version 2.0: Initial version # Version 2.1: Added services # Version 2.2: Added keypairs # Version 2.3: Added device_metadata # Version 2.4: Added trusted_certs # Version 2.5: Added hard_delete kwarg in destroy # Version 2.6: Added hidden # Version 2.7: Added resources VERSION = '2.7' fields = { # TODO(stephenfin): Remove this in version 3.0 of the object as it has # been replaced by 'flavor' 'instance_type_id': fields.IntegerField(nullable=True), # TODO(stephenfin): Remove this in version 3.0 of the object as it's # related to cells v1 'cell_name': fields.StringField(nullable=True), # TODO(stephenfin): Remove this in version 3.0 of the object as it's # related to nova-network 'security_groups': fields.ObjectField('SecurityGroupList'), } def obj_make_compatible(self, primitive, target_version): super().obj_make_compatible(primitive, target_version) target_version = versionutils.convert_version_to_tuple(target_version) if target_version < (2, 7) and 'resources' in primitive: del primitive['resources'] if target_version < (2, 6) and 'hidden' in primitive: del primitive['hidden'] if target_version < (2, 4) and 'trusted_certs' in primitive: del primitive['trusted_certs'] if target_version < (2, 3) and 'device_metadata' in primitive: del primitive['device_metadata'] if target_version < (2, 2) and 'keypairs' in primitive: del primitive['keypairs'] if target_version < (2, 1) and 'services' in primitive: del primitive['services'] # NOTE(stephenfin): Keep unit tests happy Instance = InstanceV2 class _BaseInstanceList(base.ObjectListBase, base.NovaObject): # TODO(stephenfin): Consider simplifying the underlying DB API once we # drop InstanceV2 which uses the mapping format @base.NovaObjectRegistry.register class InstanceListV2(_BaseInstanceList): # Version 2.0: Initial Version # Version 2.1: Add get_uuids_by_host() # Version 2.2: Pagination for get_active_by_window_joined() # Version 2.3: Add get_count_by_vm_state() # Version 2.4: Add get_counts() # Version 2.5: Add get_uuids_by_host_and_node() # Version 2.6: Add get_uuids_by_hosts() VERSION = '2.6' @base.remotable_classmethod def get_by_host_and_not_type( cls, context, host, type_id=None, expected_attrs=None, ): db_inst_list = db.instance_get_all_by_host_and_not_type( context, host, type_id=type_id, ) return _make_instance_list( context, cls(), db_inst_list, expected_attrs, ) @base.remotable_classmethod def get_hung_in_rebooting( cls, context, reboot_window, expected_attrs=None, ): db_inst_list = db.instance_get_all_hung_in_rebooting( context, reboot_window, ) return _make_instance_list( context, cls(), db_inst_list, expected_attrs, ) # TODO(stephenfin): Remove this as it's related to nova-network @base.remotable_classmethod def get_by_security_group_id(cls, context, security_group_id): db_secgroup = db.security_group_get( context, security_group_id, columns_to_join=[ 'instances.info_cache', 'instances.system_metadata', ], ) return _make_instance_list( context, cls(), db_secgroup['instances'], ['info_cache', 'system_metadata'], ) # TODO(stephenfin): Remove this as it's related to nova-network @classmethod def get_by_security_group(cls, context, security_group): return cls.get_by_security_group_id(context, security_group.id) # TODO(stephenfin): Remove this as it's related to nova-network @base.remotable_classmethod def get_by_grantee_security_group_ids(cls, context, security_group_ids): raise NotImplementedError() @base.remotable_classmethod def get_uuids_by_hosts(cls, context, hosts): """"""Returns a dict, keyed by hypervisor hostname, of a list of instance UUIDs associated with that compute node. """""" return db.instance_get_all_uuids_by_hosts(context, hosts) @staticmethod @db.pick_context_manager_reader def _get_count_by_vm_state_in_db(context, project_id, user_id, vm_state): return context.session.query(models.Instance.id).\ filter_by(deleted=0).\ filter_by(project_id=project_id).\ filter_by(user_id=user_id).\ filter_by(vm_state=vm_state).\ count() @base.remotable_classmethod def get_count_by_vm_state(cls, context, project_id, user_id, vm_state): return cls._get_count_by_vm_state_in_db( context, project_id, user_id, vm_state, ) InstanceList = InstanceListV2","@base.NovaObjectRegistry.register class Instance(base.NovaPersistentObject, base.NovaObject, base.NovaObjectDictCompat): # Version 2.0: Initial version # Version 2.1: Added services # Version 2.2: Added keypairs # Version 2.3: Added device_metadata # Version 2.4: Added trusted_certs # Version 2.5: Added hard_delete kwarg in destroy # Version 2.6: Added hidden # Version 2.7: Added resources VERSION = '2.7' # TODO(stephenfin): Remove this in version 3.0 of the object as it has # been replaced by 'flavor' 'instance_type_id': fields.IntegerField(nullable=True), # TODO(stephenfin): Remove this in version 3.0 of the object as it's # related to cells v1 'cell_name': fields.StringField(nullable=True), # TODO(stephenfin): Remove this in version 3.0 of the object as it's # related to nova-network 'security_groups': fields.ObjectField('SecurityGroupList'), } def obj_make_compatible(self, primitive, target_version): super(Instance, self).obj_make_compatible(primitive, target_version) target_version = versionutils.convert_version_to_tuple(target_version) if target_version < (2, 7) and 'resources' in primitive: del primitive['resources'] if target_version < (2, 6) and 'hidden' in primitive: del primitive['hidden'] if target_version < (2, 4) and 'trusted_certs' in primitive: del primitive['trusted_certs'] if target_version < (2, 3) and 'device_metadata' in primitive: del primitive['device_metadata'] if target_version < (2, 2) and 'keypairs' in primitive: del primitive['keypairs'] if target_version < (2, 1) and 'services' in primitive: del primitive['services'] def __init__(self, *args, **kwargs): super(Instance, self).__init__(*args, **kwargs) nobj = super(Instance, self).obj_clone() super(Instance, self).obj_reset_changes(fields, recursive=recursive) changes = super(Instance, self).obj_what_changed() self = super(Instance, cls)._obj_from_primitive(context, objver, primitive) # TODO(stephenfin): Remove this as it's related to nova-network # TODO(stephenfin): Remove this as it's related to nova-network # TODO(stephenfin): Remove this as it's related to nova-network # TODO(stephenfin): Remove this as it's related to nova-network@base.NovaObjectRegistry.register class InstanceList(base.ObjectListBase, base.NovaObject): # Version 2.0: Initial Version # Version 2.1: Add get_uuids_by_host() # Version 2.2: Pagination for get_active_by_window_joined() # Version 2.3: Add get_count_by_vm_state() # Version 2.4: Add get_counts() # Version 2.5: Add get_uuids_by_host_and_node() # Version 2.6: Add get_uuids_by_hosts() VERSION = '2.6' def get_by_host_and_not_type(cls, context, host, type_id=None, expected_attrs=None): db_inst_list = db.instance_get_all_by_host_and_not_type( context, host, type_id=type_id) return _make_instance_list(context, cls(), db_inst_list, expected_attrs) @base.remotable_classmethod @base.remotable_classmethod def get_hung_in_rebooting(cls, context, reboot_window, expected_attrs=None): db_inst_list = db.instance_get_all_hung_in_rebooting(context, reboot_window) return _make_instance_list(context, cls(), db_inst_list, expected_attrs) # TODO(stephenfin): Remove this as it's related to nova-network @base.remotable_classmethod def get_by_security_group_id(cls, context, security_group_id): db_secgroup = db.security_group_get( context, security_group_id, columns_to_join=['instances.info_cache', 'instances.system_metadata']) return _make_instance_list(context, cls(), db_secgroup['instances'], ['info_cache', 'system_metadata']) # TODO(stephenfin): Remove this as it's related to nova-network @classmethod def get_by_security_group(cls, context, security_group): return cls.get_by_security_group_id(context, security_group.id) # TODO(stephenfin): Remove this as it's related to nova-network @base.remotable_classmethod def get_by_grantee_security_group_ids(cls, context, security_group_ids): raise NotImplementedError() @base.remotable_classmethod def get_uuids_by_hosts(cls, context, hosts): """"""Returns a dict, keyed by hypervisor hostname, of a list of instance UUIDs associated with that compute node. """""" return db.instance_get_all_uuids_by_hosts(context, hosts) @staticmethod @db.pick_context_manager_reader def _get_count_by_vm_state_in_db(context, project_id, user_id, vm_state): return context.session.query(models.Instance.id).\ filter_by(deleted=0).\ filter_by(project_id=project_id).\ filter_by(user_id=user_id).\ filter_by(vm_state=vm_state).\ count() @base.remotable_classmethod def get_count_by_vm_state(cls, context, project_id, user_id, vm_state): return cls._get_count_by_vm_state_in_db(context, project_id, user_id, vm_state) ",152,122
openstack%2Fnova~master~I4c2c0a3fc3ef74d58a741a739c7c1c8f837ba424,openstack/nova,master,I4c2c0a3fc3ef74d58a741a739c7c1c8f837ba424,"WIP: objects: Add Instance, InstanceList v3",ABANDONED,2021-10-01 14:34:34.000000000,2022-02-09 17:17:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-01 14:34:34.000000000', 'files': ['nova/objects/instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/507b6bb496a36aa58cc0e41148e24e2ffb836bd3', 'message': ""WIP: objects: Add Instance, InstanceList v3\n\nThis adds Instance and InstanceList v3.0 and moves v2 compat-related\ntests into a separate test subclass.\n\nNote that since services like API and conductor will be sending v3.x\nobjects to older computes, this also adds a backport-to-2.x case to each\nobject for compatibility with Xena computes.\n\nWIP: Because I need to figure out if I can actually drop\n'instance_type_id' or if I should simply rename it (if that's even an\noption). We store the ID of the flavor in the 'flavor' JSON field in the\n'instance_extra' table but that's not indexable. Also, need to fix\ntests.\n\nChange-Id: I4c2c0a3fc3ef74d58a741a739c7c1c8f837ba424\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,812153,507b6bb496a36aa58cc0e41148e24e2ffb836bd3,6,1,1,15334,,,0,"WIP: objects: Add Instance, InstanceList v3

This adds Instance and InstanceList v3.0 and moves v2 compat-related
tests into a separate test subclass.

Note that since services like API and conductor will be sending v3.x
objects to older computes, this also adds a backport-to-2.x case to each
object for compatibility with Xena computes.

WIP: Because I need to figure out if I can actually drop
'instance_type_id' or if I should simply rename it (if that's even an
option). We store the ID of the flavor in the 'flavor' JSON field in the
'instance_extra' table but that's not indexable. Also, need to fix
tests.

Change-Id: I4c2c0a3fc3ef74d58a741a739c7c1c8f837ba424
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/812153/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance.py'],1,507b6bb496a36aa58cc0e41148e24e2ffb836bd3,bp/remove-sqlalchemy-migrate,"@base.NovaObjectRegistry.register class InstanceV3(_BaseInstance): # Version 3.0: Initial version VERSION = '3.0' def obj_make_compatible(self, primitive, target_version): if target_version.startswith('2.'): # NOTE(stephenfin): Special case to backport to 2.x. Serialize # ourselves, change the version, deserialize that, and get that # to continue the backport of this primitive to whatever 1.x # version was actually requested. We can get away with this # because InstanceV2 is structurally a subset of V1. # TODO(stephenfin): Remove this when we drop v2.x compatibility primitive = self.obj_to_primitive() primitive['nova_object.version'] = InstanceV2.VERSION obj = InstanceV2.obj_from_primitive(primitive) return obj.obj_make_compatible(primitive, target_version) super().obj_make_compatible(primitive, target_version) Instance = InstanceV3@base.NovaObjectRegistry.register class InstanceListV3(_BaseInstanceList): # Version 3.0: Initial version VERSION = '3.0' def obj_make_compatible(self, primitive, target_version): if target_version.startswith('2.'): # NOTE(stephenfin): Special case to backport to 2.x. Serialize # ourselves, change the version, deserialize that, and get that # to continue the backport of this primitive to whatever 1.x # version was actually requested. We can get away with this # because InstanceListV2 is structurally a subset of V1. # TODO(stephenfin): Remove this when we drop v2.x compatibility primitive = self.obj_to_primitive() primitive['nova_object.version'] = InstanceV2.VERSION obj = InstanceListV2.obj_from_primitive(primitive) return obj.obj_make_compatible(primitive, target_version) super().obj_make_compatible(primitive, target_version) InstanceList = InstanceListV3",Instance = InstanceV2InstanceList = InstanceListV2,42,2
openstack%2Fcinder~stable%2Fvictoria~I993444ba3b6e976d40ae7c5858b32999eb337c66,openstack/cinder,stable/victoria,I993444ba3b6e976d40ae7c5858b32999eb337c66,Remove unnecessary save call,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 16:51:31.000000000,2022-02-09 16:51:31.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-01-18 11:54:40.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6be7ee3b6c7afe34562b986e60c9bef781b023c4', 'message': 'Remove unnecessary save call\n\nIn Change-ID Ic8a8ba2271d6ed672b694d3991dabd46bd9a69f4 we added:\n\n  vref.multiattach = self._is_multiattach(volume_type)\n  vref.save()\n\nThen we remove the assignment but forgot to remove the save.\nThis patch removes that unnecessary save call.\n\nChange-Id: I993444ba3b6e976d40ae7c5858b32999eb337c66\n(cherry picked from commit 9607e2e6e444e5eb087dd3742d25b3419a1c2ee0)\n'}]",8,825103,6be7ee3b6c7afe34562b986e60c9bef781b023c4,23,9,1,9535,,,0,"Remove unnecessary save call

In Change-ID Ic8a8ba2271d6ed672b694d3991dabd46bd9a69f4 we added:

  vref.multiattach = self._is_multiattach(volume_type)
  vref.save()

Then we remove the assignment but forgot to remove the save.
This patch removes that unnecessary save call.

Change-Id: I993444ba3b6e976d40ae7c5858b32999eb337c66
(cherry picked from commit 9607e2e6e444e5eb087dd3742d25b3419a1c2ee0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/825103/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,6be7ee3b6c7afe34562b986e60c9bef781b023c4,victoria-detach-vol-status,, vref.save(),0,1
openstack%2Fcinder~stable%2Fvictoria~Id3c7783a80614e8a980d942343ecb9f47a5a805a,openstack/cinder,stable/victoria,Id3c7783a80614e8a980d942343ecb9f47a5a805a,Fix old attach method,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 16:51:27.000000000,2022-02-09 16:51:27.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-01-18 11:54:40.000000000', 'files': ['cinder/objects/volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2aa799bbfb7de7599bb0c467a26438963dbeaa88', 'message': ""Fix old attach method\n\nThe old attachment API has a mix of OVO and DB method calls that can\nresult in admin metadata being removed.\n\nWhen we automatically update the admin metadata using DB methods these\nchanges are not reflected in the volume OVO, so when we pass the OVO via\nRPC the receptor will assume that admin metadata present in the OVO is\nup to date, and will delete key-value pairs that exist in the DB and are\nnot in memory.\n\nThat is happening on the old `attach` method with the `readonly` key\nthat gets removed by the volume service after it was added (calling the\nDB) on the API service.\n\nPatch doesn't include a release note to avoid making unnecessary noise\nin our release notes, because it is unlikely to affect existing users\nsince Nova will be using the new attachment API.\n\nChange-Id: Id3c7783a80614e8a980d942343ecb9f47a5a805a\n(cherry picked from commit 779b0249fa23647afb9d68c407b01a6639c2b89d)\n""}]",3,825102,2aa799bbfb7de7599bb0c467a26438963dbeaa88,19,5,1,9535,,,0,"Fix old attach method

The old attachment API has a mix of OVO and DB method calls that can
result in admin metadata being removed.

When we automatically update the admin metadata using DB methods these
changes are not reflected in the volume OVO, so when we pass the OVO via
RPC the receptor will assume that admin metadata present in the OVO is
up to date, and will delete key-value pairs that exist in the DB and are
not in memory.

That is happening on the old `attach` method with the `readonly` key
that gets removed by the volume service after it was added (calling the
DB) on the API service.

Patch doesn't include a release note to avoid making unnecessary noise
in our release notes, because it is unlikely to affect existing users
since Nova will be using the new attachment API.

Change-Id: Id3c7783a80614e8a980d942343ecb9f47a5a805a
(cherry picked from commit 779b0249fa23647afb9d68c407b01a6639c2b89d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/825102/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/volume.py', 'cinder/volume/api.py']",2,2aa799bbfb7de7599bb0c467a26438963dbeaa88,victoria-detach-vol-status," # Policy could allow non admin users to update admin metadata, but # underlying DB methods require admin privileges, so we elevate the # context. with volume.obj_as_admin(): volume.admin_metadata_update(metadata, delete, add, update) return volume.admin_metadata"," db_meta = self.db.volume_admin_metadata_update(context, volume.id, metadata, delete, add, update) return db_meta",13,4
openstack%2Fcinder~stable%2Fvictoria~I3930bff90df835d9d8bbf7e6e91458db7e5654be,openstack/cinder,stable/victoria,I3930bff90df835d9d8bbf7e6e91458db7e5654be,Volume transfers: Remove duplicate policy check,MERGED,2022-02-01 14:37:38.000000000,2022-02-09 16:43:50.000000000,2022-02-09 16:37:40.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-02-01 14:37:38.000000000', 'files': ['releasenotes/notes/fix-transfer-accept-policy-7594806372b14284.yaml', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4115ca21f2c4b33e7aa33a80b41c5546ea92d563', 'message': ""Volume transfers: Remove duplicate policy check\n\nThere is an initial policy check in the transfers accept API[1]\nwhich validates correctly if the user is authorized to perform\nthe operation or not. However, we've a duplicate check in the volume\nAPI layer which passes a target object (volume) while authorizing\nwhich is wrong for this API. While authorizing, we enforce check on\nthe project id of the target object i.e. volume in this case which,\nbefore the transfer operation is completed, contains the project id\nof source project hence making the validation wrong.\nIn the case of transfers API, any project is able to accept the transfer\ngiven they've the auth key required to secure the transfer accept\nSo this patch removes the duplicate policy check.\n\n[1] https://opendev.org/openstack/cinder/src/branch/master/cinder/transfer/api.py#L225\n\nCloses-Bug: #1950474\nChange-Id: I3930bff90df835d9d8bbf7e6e91458db7e5654be\n(cherry picked from commit 7ba9935a6e1e8a572391563927acb086fdbe5e5c)\n(cherry picked from commit 46415541a790869d9f5a5a5cc821852730b98149)\n(cherry picked from commit b86da5d4073d9c50aed90c4d6ae6884138be6b06)\n""}]",8,827242,4115ca21f2c4b33e7aa33a80b41c5546ea92d563,44,4,1,27615,,,0,"Volume transfers: Remove duplicate policy check

There is an initial policy check in the transfers accept API[1]
which validates correctly if the user is authorized to perform
the operation or not. However, we've a duplicate check in the volume
API layer which passes a target object (volume) while authorizing
which is wrong for this API. While authorizing, we enforce check on
the project id of the target object i.e. volume in this case which,
before the transfer operation is completed, contains the project id
of source project hence making the validation wrong.
In the case of transfers API, any project is able to accept the transfer
given they've the auth key required to secure the transfer accept
So this patch removes the duplicate policy check.

[1] https://opendev.org/openstack/cinder/src/branch/master/cinder/transfer/api.py#L225

Closes-Bug: #1950474
Change-Id: I3930bff90df835d9d8bbf7e6e91458db7e5654be
(cherry picked from commit 7ba9935a6e1e8a572391563927acb086fdbe5e5c)
(cherry picked from commit 46415541a790869d9f5a5a5cc821852730b98149)
(cherry picked from commit b86da5d4073d9c50aed90c4d6ae6884138be6b06)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/827242/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-transfer-accept-policy-7594806372b14284.yaml', 'cinder/volume/api.py']",2,4115ca21f2c4b33e7aa33a80b41c5546ea92d563,bug/1950474-stable/victoria,,"from cinder.policies import volume_transfer as vol_transfer_policy context.authorize(vol_transfer_policy.ACCEPT_POLICY, target_obj=volume)",8,3
openstack%2Fceilometer~stable%2Fwallaby~I9dcf775cc3306a6f5145d3159127518440b29c51,openstack/ceilometer,stable/wallaby,I9dcf775cc3306a6f5145d3159127518440b29c51,remove monotonic from requires,MERGED,2021-12-15 17:17:59.000000000,2022-02-09 16:40:55.000000000,2022-02-09 16:35:16.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-15 17:17:59.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ae150200874c55522f5da508e2219e5f971c68f9', 'message': 'remove monotonic from requires\n\nSince python 2 support was removed there\nare no direct usage of monotonic package\n\nChange-Id: I9dcf775cc3306a6f5145d3159127518440b29c51\n'}]",5,821866,ae150200874c55522f5da508e2219e5f971c68f9,17,3,1,16282,,,0,"remove monotonic from requires

Since python 2 support was removed there
are no direct usage of monotonic package

Change-Id: I9dcf775cc3306a6f5145d3159127518440b29c51
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/66/821866/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,ae150200874c55522f5da508e2219e5f971c68f9,,,monotonic==0.6,0,2
openstack%2Fbifrost~master~I0479a79a6c81be83496b27a1d396ef5debb88090,openstack/bifrost,master,I0479a79a6c81be83496b27a1d396ef5debb88090,"Add dhcp, vmedia and dibipa CentOS Stream 9 jobs",MERGED,2022-01-31 16:48:33.000000000,2022-02-09 16:39:20.000000000,2022-02-09 16:28:28.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 16:48:33.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/909c04059a099b0e0bb1656f410f1dd9a4aba830', 'message': 'Add dhcp, vmedia and dibipa CentOS Stream 9 jobs\n\nThis should complete the CentOS Stream 9 support for bifrost\n\nChange-Id: I0479a79a6c81be83496b27a1d396ef5debb88090\n'}]",1,827154,909c04059a099b0e0bb1656f410f1dd9a4aba830,10,3,1,23851,,,0,"Add dhcp, vmedia and dibipa CentOS Stream 9 jobs

This should complete the CentOS Stream 9 support for bifrost

Change-Id: I0479a79a6c81be83496b27a1d396ef5debb88090
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/54/827154/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']",2,909c04059a099b0e0bb1656f410f1dd9a4aba830,dhcp-centos9, name: bifrost-integration-dhcp-centos-9 parent: bifrost-integration-dhcp nodeset: centos-9-stream - job: name: bifrost-integration-dibipa-debian-centos-9 parent: bifrost-integration-dibipa-debian nodeset: centos-9-stream - job: name: bifrost-integration-redfish-vmedia-uefi-centos-9 parent: bifrost-integration-tinyipa-centos-9 vars: test_driver: redfish use_vmedia: true - job:,,23,0
openstack%2Fcinder~stable%2Fvictoria~Ie48cf55deacd08e7716201dac00ede8d57e6632f,openstack/cinder,stable/victoria,Ie48cf55deacd08e7716201dac00ede8d57e6632f,Fix detach notification,MERGED,2022-01-18 11:54:40.000000000,2022-02-09 16:37:44.000000000,2022-02-09 16:37:44.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-01-18 11:54:40.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/detach-notification-31ae15dafdef36c1.yaml', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9d3cc966cc4856b9fcc8625ce3ce86061df1d87', 'message': 'Fix detach notification\n\nOur current `attachment_delete` methods in the volume API and the\nmanager are using DB methods directly, which makes the OVOs present in\nthose methods get out of sync with the latest data, which leads to\nnotifications having the wrong data when we send them on volume detach.\n\nThis patch replaces DB method calls with OVO calls and moves the\nnotification call to the end of the method, where we have the final\nstatus on the volume.\n\nIt also adds the missing detach.start notification when deleting an\nattachment in the reserved state.\n\nCloses-Bug: #1916980\nCloses-Bug: #1935011\nChange-Id: Ie48cf55deacd08e7716201dac00ede8d57e6632f\n(cherry picked from commit 68d49445778ef486e3ff656929405ab270a5a65d)\nConflicts:\n\tcinder/volume/api.py\nChanges:\n        cinder/volume/manager.py\n(cherry picked from commit c0197c6f1ad13e3a63615ceb667a53d3bbca2d77)\n(cherry picked from commit ed06fc7452699d76c22b288e1cc8e8bc2afa1849)\n'}]",3,825100,c9d3cc966cc4856b9fcc8625ce3ce86061df1d87,18,4,1,9535,,,0,"Fix detach notification

Our current `attachment_delete` methods in the volume API and the
manager are using DB methods directly, which makes the OVOs present in
those methods get out of sync with the latest data, which leads to
notifications having the wrong data when we send them on volume detach.

This patch replaces DB method calls with OVO calls and moves the
notification call to the end of the method, where we have the final
status on the volume.

It also adds the missing detach.start notification when deleting an
attachment in the reserved state.

Closes-Bug: #1916980
Closes-Bug: #1935011
Change-Id: Ie48cf55deacd08e7716201dac00ede8d57e6632f
(cherry picked from commit 68d49445778ef486e3ff656929405ab270a5a65d)
Conflicts:
	cinder/volume/api.py
Changes:
        cinder/volume/manager.py
(cherry picked from commit c0197c6f1ad13e3a63615ceb667a53d3bbca2d77)
(cherry picked from commit ed06fc7452699d76c22b288e1cc8e8bc2afa1849)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/825100/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/detach-notification-31ae15dafdef36c1.yaml', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/volume/api.py']",4,c9d3cc966cc4856b9fcc8625ce3ce86061df1d87,victoria-detach-vol-status," if attachment.attach_status == fields.VolumeAttachStatus.RESERVED: volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.start"") volume.finish_detach(attachment.id) do_notify = True do_notify = False if do_notify: volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.end"")"," if attachment.attach_status == fields.VolumeAttachStatus.RESERVED: self.db.volume_detached(ctxt.elevated(), attachment.volume_id, attachment.get('id')) self.db.volume_admin_metadata_delete(ctxt.elevated(), attachment.volume_id, 'attached_mode') volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.end"")",28,14
openstack%2Felection~master~Iff10f99fd21f3ccdbffeabc486d347dfd86f3c04,openstack/election,master,Iff10f99fd21f3ccdbffeabc486d347dfd86f3c04,Add Lucian Petrut candidacy for Winstackers,MERGED,2022-02-09 07:41:19.000000000,2022-02-09 16:26:42.000000000,2022-02-09 16:21:17.000000000,"[{'_account_id': 7198}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 07:41:19.000000000', 'files': ['candidates/z/Winstackers/lpetrut@cloudbasesolutions.com'], 'web_link': 'https://opendev.org/openstack/election/commit/6ab3338cfa28c48c82a2b251782f6f499ff210ed', 'message': 'Add Lucian Petrut candidacy for Winstackers\n\nChange-Id: Iff10f99fd21f3ccdbffeabc486d347dfd86f3c04\n'}]",2,828466,6ab3338cfa28c48c82a2b251782f6f499ff210ed,8,3,1,8543,,,0,"Add Lucian Petrut candidacy for Winstackers

Change-Id: Iff10f99fd21f3ccdbffeabc486d347dfd86f3c04
",git fetch https://review.opendev.org/openstack/election refs/changes/66/828466/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Winstackers/lpetrut@cloudbasesolutions.com'],1,6ab3338cfa28c48c82a2b251782f6f499ff210ed,,"Hi, I'd like to announce my candidacy, continuing as Winstackers PTL for the upcoming Z cycle. I've been working on OpenStack for quite some time now, focusing on Windows integration. I'm really happy with what we managed to achieve so far, making OpenStack a viable option for Windows deployments and vice versa, making Hyper-V a good KVM alternative, especially for Windows workloads. As with other OpenStack teams, stability has been the main focus over the past few releases and I think we managed to take big steps in this direction, especially when it comes to Microsoft Failover Cluster and S2D support. We also kept in touch with the OpenStack community, conforming to project wide goals (e.g. handling Python 3 deprecation in the early stages), fixing bugs and picking up features in a timely manner. Thank you for your consideration, Lucian Petrut ",,21,0
openstack%2Felection~master~I23c3cb1564ee14645426481ea21ea0d941fce753,openstack/election,master,I23c3cb1564ee14645426481ea21ea0d941fce753,Michal Nasiadka candidacy for Kolla PTL (Z),MERGED,2022-02-09 12:58:14.000000000,2022-02-09 16:23:27.000000000,2022-02-09 16:20:13.000000000,"[{'_account_id': 7198}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 12:58:14.000000000', 'files': ['candidates/z/Kolla/mnasiadka@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/23e776aa87ddb8f54ca5a7d18d87c844173607e9', 'message': 'Michal Nasiadka candidacy for Kolla PTL (Z)\n\nChange-Id: I23c3cb1564ee14645426481ea21ea0d941fce753\n'}]",2,828523,23e776aa87ddb8f54ca5a7d18d87c844173607e9,8,3,1,22629,,,0,"Michal Nasiadka candidacy for Kolla PTL (Z)

Change-Id: I23c3cb1564ee14645426481ea21ea0d941fce753
",git fetch https://review.opendev.org/openstack/election refs/changes/23/828523/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Kolla/mnasiadka@gmail.com'],1,23e776aa87ddb8f54ca5a7d18d87c844173607e9,,"I’d like to nominate myself to serve as the Kolla PTL for Z cycle. I have been PTL for the last cycle (Yoga), and would like the opportunity to continue to lead the team. I think that the project is moving in right direction - and we should continue focus on following items: * improve the documentation * expand the core team * improve overall user experience ",,8,0
openstack%2Fpython-tripleoclient~master~I591ea9632a14cd75b570d9c5708fc02b39dbc162,openstack/python-tripleoclient,master,I591ea9632a14cd75b570d9c5708fc02b39dbc162,Also remove Nova services from undercloud,ABANDONED,2022-02-01 10:47:23.000000000,2022-02-09 16:11:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 10:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/164de12851c6c18bb53842c51b01c8449af92fd3', 'message': 'Also remove Nova services from undercloud\n\nWire-in the service to remove Nova from undercloud since\nit is no longer used as of Wallaby.\n\nDepends-On: https://review.opendev.org/827260\nChange-Id: I591ea9632a14cd75b570d9c5708fc02b39dbc162\nRelated-bug: #1959662\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-02-02 10:14:22.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7075ffce770e1aa078f6bb10219e48d452e9e70', 'message': 'Also remove Nova services from undercloud\n\nWire-in the service to remove Nova from undercloud since\nit is no longer used as of Wallaby.\n\nDepends-On: https://review.opendev.org/827260\nChange-Id: I591ea9632a14cd75b570d9c5708fc02b39dbc162\nRelated-bug: #1959662\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",62,827261,e7075ffce770e1aa078f6bb10219e48d452e9e70,14,1,2,6926,,,0,"Also remove Nova services from undercloud

Wire-in the service to remove Nova from undercloud since
it is no longer used as of Wallaby.

Depends-On: https://review.opendev.org/827260
Change-Id: I591ea9632a14cd75b570d9c5708fc02b39dbc162
Related-bug: #1959662
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/61/827261/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,164de12851c6c18bb53842c51b01c8449af92fd3,1959662," 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' '/usertht/environments/services/' 'undercloud-remove-nova.yaml', '-e', 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-nova.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/'",,26,1
openstack%2Fansible-collections-openstack~master~I1d57ab976ac3b4c5552b9b21db7e90e25fd71764,openstack/ansible-collections-openstack,master,I1d57ab976ac3b4c5552b9b21db7e90e25fd71764,Add openstack.cloud.baremetal_port_info module,MERGED,2022-02-05 02:02:04.000000000,2022-02-09 16:09:50.000000000,2022-02-09 16:09:50.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 02:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e9e43d8acd197dfa621d8b8fc233b1bad42b806a', 'message': ""Add openstack.cloud.baremetal_port_info module\n\nRetrieve information about Bare Metal ports from OpenStack\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I1d57ab976ac3b4c5552b9b21db7e90e25fd71764\n""}, {'number': 2, 'created': '2022-02-09 13:23:20.000000000', 'files': ['meta/runtime.yml', 'plugins/modules/baremetal_port_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a1b920742f89e07aeae436d6a4eb947a4cfe759e', 'message': ""Add openstack.cloud.baremetal_port_info module\n\nRetrieve information about Bare Metal ports from OpenStack\n\nNOTE: Does not support 'is_smart_nic', afict this is\n      not implemented in openstacksdk.\n\nChange-Id: I1d57ab976ac3b4c5552b9b21db7e90e25fd71764\n""}]",2,827937,a1b920742f89e07aeae436d6a4eb947a4cfe759e,12,3,2,24245,,,0,"Add openstack.cloud.baremetal_port_info module

Retrieve information about Bare Metal ports from OpenStack

NOTE: Does not support 'is_smart_nic', afict this is
      not implemented in openstacksdk.

Change-Id: I1d57ab976ac3b4c5552b9b21db7e90e25fd71764
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/37/827937/2 && git format-patch -1 --stdout FETCH_HEAD,"['meta/runtime.yml', 'plugins/modules/baremetal_port_info.py']",2,e9e43d8acd197dfa621d8b8fc233b1bad42b806a,baremetal_port_info,"#!/usr/bin/python # coding: utf-8 -*- # Copyright (c) 2021 by Red Hat, Inc. # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) DOCUMENTATION = ''' module: baremetal_port_info short_description: Retrieve information about Bare Metal ports from OpenStack author: OpenStack Ansible SIG description: - Retrieve information about Bare Metal ports from OpenStack. options: uuid: description: - Name or globally unique identifier (UUID) to identify the port. type: str address: description: - Physical hardware address of this network Port, typically the hardware MAC address. type: str node: description: - Name or globally unique identifier (UUID) to identify a Baremetal Node. type: str ironic_url: description: - If noauth mode is utilized, this is required to be set to the endpoint URL for the Ironic API. Use with ""auth"" and ""auth_type"" settings set to None. type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = ''' # Gather information about all baremetal ports - openstack.cloud.baremetal_port_info: cloud: devstack register: result # Gather information about a baremetal port by address - openstack.cloud.baremetal_port_info: cloud: devstack address: fa:16:3e:aa:aa:aa register: result # Gather information about a baremetal port by address - openstack.cloud.baremetal_port_info: cloud: devstack uuid: a2b6bd99-77b9-43f0-9ddc-826568e68dec register: result # Gather information about a baremetal ports associated with a baremetal node - openstack.cloud.baremetal_port_info: cloud: devstack node: bm-0 register: result ''' RETURN = ''' baremetal_ports: description: Bare Metal port list. A subset of the dictionary keys listed below may be returned, depending on your cloud provider. returned: always, but can be null type: list elements: dict contains: address: description: Physical hardware address of this network Port, typically the hardware MAC address. returned: success type: str created_at: description: Bare Metal port created at timestamp. returned: success type: str extra: description: A set of one or more arbitrary metadata key and value pairs. returned: success type: dict id: description: The UUID for the Baremetal Port resource. returned: success type: str internal_info: description: Internal metadata set and stored by the Port. This field is read-only. returned: success type: dict is_pxe_enabled: description: Whether PXE is enabled or disabled on the Port. returned: success type: bool local_link_connection: description: The Port binding profile. returned: success type: dict contains: switch_id: description: A MAC address or an OpenFlow based datapath_id of the switch. type: str port_id: description: Identifier of the physical port on the switch to which node's port is connected to. type: str switch_info: description: An optional string field to be used to store any vendor-specific information. type: str location: description: Cloud location of this resource (cloud, project, region, zone) returned: success type: dict name: description: Bare Metal port name. returned: success type: str node_id: description: UUID of the Bare Metal Node this resource belongs to. returned: success type: str physical_network: description: The name of the physical network to which a port is connected. returned: success type: str port_group_id: description: UUID of the Portgroup this resource belongs to. returned: success type: str updated_at: description: Bare Metal port updated at timestamp. returned: success type: str ''' from ansible_collections.openstack.cloud.plugins.module_utils.ironic import ( IronicModule, ironic_argument_spec, ) from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( openstack_module_kwargs, openstack_cloud_from_module ) def main(): argument_spec = ironic_argument_spec( uuid=dict(required=False), address=dict(required=False), node=dict(required=False), ) module_kwargs = openstack_module_kwargs() module_kwargs['supports_check_mode'] = True module = IronicModule(argument_spec, **module_kwargs) ports = list() sdk, cloud = openstack_cloud_from_module(module) try: if module.params['uuid']: port = cloud.baremetal.find_port(module.params['uuid']) if not port: module.fail_json( msg='Baremetal port with uuid {uuid} was not found' .format(uuid=module.params['uuid'])) ports.append(port) elif module.params['address']: ports = list( cloud.baremetal.ports(address=module.params['address'], details=True)) if not ports: module.fail_json( msg='Baremetal port with address {address} was not found' .format(address=module.params['address'])) elif module.params['node']: machine = cloud.get_machine(module.params['node']) if not machine: module.fail_json( msg='Baremetal node {node} was not found' .format(node=module.params['node'])) ports = list( cloud.baremetal.ports(node_uuid=machine.uuid, details=True)) else: ports = list(cloud.baremetal.ports(details=True)) # Convert ports to dictionaries and cleanup properties ports = [port.to_dict() for port in ports] for port in ports: # links are not useful port.pop('links', None) module.exit_json(changed=False, baremetal_ports=ports) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e)) if __name__ == ""__main__"": main() ",,209,0
openstack%2Fovn-octavia-provider~stable%2Fussuri~I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc,openstack/ovn-octavia-provider,stable/ussuri,I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc,Add support for fullypopulated load balancers,ABANDONED,2022-02-03 16:13:48.000000000,2022-02-09 16:09:48.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-02-03 16:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/731a23c20ce9907d36537ff5271dcb929952d400', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\n(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)\n\nUpstream-Wallaby: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827694\nUpstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689\nUpstream-Victoria: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827692\nChange-Id: I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc\n'}, {'number': 2, 'created': '2022-02-03 17:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0031028635ee311a4922a41619f5e918390d724d', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\n(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)\n\nUpstream-Wallaby: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827694\nUpstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689\nUpstream-Victoria: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827692\nChange-Id: I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc\n'}, {'number': 3, 'created': '2022-02-03 17:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7b22baf01d31fce8faf58f3dbfd00b15c931c890', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\n(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)\n\nUpstream-Wallaby: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827694\nUpstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689\nUpstream-Victoria: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827692\nChange-Id: I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc\n'}, {'number': 4, 'created': '2022-02-04 12:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1d400129923a74a3f2465d9d92edcf8e3cc3154a', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\n(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)\n\nUpstream-Wallaby: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827694\nUpstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689\nUpstream-Victoria: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827692\nChange-Id: I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc\n'}, {'number': 5, 'created': '2022-02-04 12:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/739aa24aa45af40ae8260a67a7180d4ded833ffb', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\n(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)\n\nUpstream-Wallaby: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827694\nUpstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689\nUpstream-Victoria: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827692\nChange-Id: I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc\n'}, {'number': 6, 'created': '2022-02-07 16:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/21bf399dc51372580b65c8ea0bff282c990a6791', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\n(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)\n\nUpstream-Wallaby: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827694\nUpstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689\nUpstream-Victoria: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827692\nChange-Id: I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc\n'}, {'number': 7, 'created': '2022-02-07 16:35:27.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1b456fdfeac42d2aa73fcbb74ac07007bccb302c', 'message': 'Add support for fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call. OVN-octavia-provider was not implementing this option\nand only the loadbalancer was created, living the listener(s),\npool(s), and member(s) created by the Octavia API as PENDING_CREATE.\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1958964\n(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)\n\nUpstream-Wallaby: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827694\nUpstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689\nUpstream-Victoria: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827692\nChange-Id: I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc\n'}]",6,827706,1b456fdfeac42d2aa73fcbb74ac07007bccb302c,20,4,7,34451,,,0,"Add support for fullypopulated load balancers

Octavia API allows to create fully populated load balancers with
a single call. OVN-octavia-provider was not implementing this option
and only the loadbalancer was created, living the listener(s),
pool(s), and member(s) created by the Octavia API as PENDING_CREATE.
This also generated leftovers when trying to delete the loadbalancer
with the --cascade option.

Closes-Bug: #1958964
(cherry picked from commit 6cc77f8a22084d610bdc071c8aab36615f0a6a0b)

Upstream-Wallaby: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827694
Upstream-Xena: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827689
Upstream-Victoria: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/827692
Change-Id: I6e9bdbd4efed55b2a3ca4cb53ab118130a2286dc
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/06/827706/3 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,731a23c20ce9907d36537ff5271dcb929952d400,bug_2042976_stable_ussuri," if not isinstance(loadbalancer.listeners, o_datamodels.UnsetType): for listener in loadbalancer.listeners: self.listener_create(listener) if not isinstance(loadbalancer.pools, o_datamodels.UnsetType): for pool in loadbalancer.pools: self.pool_create(pool) for member in pool.members: if not member.subnet_id: member.subnet_id = loadbalancer.vip_network_id self.member_create(member) ",,87,6
openstack%2Fhorizon~master~I798f345e729ae974917872ba1f2e43205a660c45,openstack/horizon,master,I798f345e729ae974917872ba1f2e43205a660c45,Replace deprecated imp module,MERGED,2021-12-28 00:12:37.000000000,2022-02-09 15:55:37.000000000,2022-02-09 15:51:37.000000000,"[{'_account_id': 841}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-12-28 00:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/909f97e4a1dec9a44700ea51dd9358362be715c3', 'message': 'Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n'}, {'number': 2, 'created': '2021-12-28 00:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dbf19448b2ff38890f9884a2ab7a2b2c6603d8b6', 'message': 'Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n'}, {'number': 3, 'created': '2022-01-18 07:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9a3b457ac18eaae84fbb1845f66cee524b13cb57', 'message': 'Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n'}, {'number': 4, 'created': '2022-01-18 07:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3963f58b8bf597a30c3f95d286f95d4cc249b189', 'message': 'Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n'}, {'number': 5, 'created': '2022-01-18 07:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/78140fff4455d8a7d0195099002f7f9122cb3501', 'message': 'Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n'}, {'number': 6, 'created': '2022-01-18 08:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/239111fc38ea15fc47b23f4797c822fce725c6cb', 'message': 'Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n'}, {'number': 7, 'created': '2022-01-21 06:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/561b25ccc08e9605e6fafd5a1176378237f95285', 'message': 'Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n'}, {'number': 8, 'created': '2022-01-21 07:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ebcf1e36ab7878e9db466b334b3c20e32e3d9807', 'message': 'Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n'}, {'number': 9, 'created': '2022-01-24 08:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e9d6f8c3ca0edd5e49076eb98a7c0cb1b20a20b1', 'message': ""Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nNOTES:\n- This change simplifies the logic, assuming the DJANGO_SETTINGS_MODULE\n  environment should be a module name. (The previous implementation\n  eventually raises an exception of the name is not a module name but\n  anything else like a class name.)\n\n- The imp.find_module method raises ImportError when the module is not\n  found. This means the previous implementation never returns\n  sys.path[0]. The module is found the value is replaced and if it is\n  not found then the method doesn't return any value but raises\n  an exception.\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n""}, {'number': 10, 'created': '2022-01-24 08:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb92d16402e3c6e842d1df7adc74f3f0eeb18b2e', 'message': ""Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nNOTES:\n- This change simplifies the logic, assuming the DJANGO_SETTINGS_MODULE\n  environment should be a module name. (The previous implementation\n  eventually raises an exception of the name is not a module name but\n  anything else like a class name.)\n\n- The imp.find_module method raises ImportError when the module is not\n  found. This means the previous implementation never returns\n  sys.path[0]. If the module is found the value is replaced and if it\n  is not found then the method doesn't return any value but raises\n  an exception.\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n""}, {'number': 11, 'created': '2022-02-08 13:15:19.000000000', 'files': ['openstack_dashboard/management/commands/migrate_settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d0b2b74d4fb62049ddcc2e4000c7771e0749165', 'message': ""Replace deprecated imp module\n\nThe imp module is deprecated since Python 3.4[1] in favor of the new\nimportlib module. This change replaces usage of that deprecated module.\n\n[1] https://docs.python.org/3/library/imp.html\n\nNOTES:\n- This change simplifies the logic, assuming the DJANGO_SETTINGS_MODULE\n  environment should be a module name. (The previous implementation\n  eventually raises an exception if the name is not a module name but\n  anything else like a class name.)\n\n- The imp.find_module method raises ImportError when the module is not\n  found. This means the previous implementation never returns\n  sys.path[0]. If the module is found the value is replaced and if it\n  is not found then the method doesn't return any value but raises\n  an exception.\n\nChange-Id: I798f345e729ae974917872ba1f2e43205a660c45\n""}]",34,823028,5d0b2b74d4fb62049ddcc2e4000c7771e0749165,52,4,11,9816,,,0,"Replace deprecated imp module

The imp module is deprecated since Python 3.4[1] in favor of the new
importlib module. This change replaces usage of that deprecated module.

[1] https://docs.python.org/3/library/imp.html

NOTES:
- This change simplifies the logic, assuming the DJANGO_SETTINGS_MODULE
  environment should be a module name. (The previous implementation
  eventually raises an exception if the name is not a module name but
  anything else like a class name.)

- The imp.find_module method raises ImportError when the module is not
  found. This means the previous implementation never returns
  sys.path[0]. If the module is found the value is replaced and if it
  is not found then the method doesn't return any value but raises
  an exception.

Change-Id: I798f345e729ae974917872ba1f2e43205a660c45
",git fetch https://review.opendev.org/openstack/horizon refs/changes/28/823028/8 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/management/commands/migrate_settings.py'],1,909f97e4a1dec9a44700ea51dd9358362be715c3,,"import importlib spec = importlib.util.find_spec(name, path) path = [spec.origin, ]","import imp file_pointer, path, desc = imp.find_module(name, path) path = [path, ] if file_pointer is not None: file_pointer.close()",3,5
openstack%2Fkayobe~master~I0747cc8fa6fdbfa980b1263da3b3edddb725d2db,openstack/kayobe,master,I0747cc8fa6fdbfa980b1263da3b3edddb725d2db,Update documentation about CentOS support,MERGED,2022-01-11 10:52:31.000000000,2022-02-09 15:47:51.000000000,2022-02-09 15:37:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-11 10:52:31.000000000', 'files': ['doc/source/support-matrix.rst', 'doc/source/upgrading.rst', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0eac03235c88ae705048aafc6979a0293659bb04', 'message': 'Update documentation about CentOS support\n\nChange-Id: I0747cc8fa6fdbfa980b1263da3b3edddb725d2db\n'}]",1,824141,0eac03235c88ae705048aafc6979a0293659bb04,8,3,1,15197,,,0,"Update documentation about CentOS support

Change-Id: I0747cc8fa6fdbfa980b1263da3b3edddb725d2db
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/824141/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support-matrix.rst', 'doc/source/upgrading.rst', 'doc/source/installation.rst']",3,0eac03235c88ae705048aafc6979a0293659bb04,centos-docs,,- CentOS Linux 8,6,7
openstack%2Fkayobe~master~If1671ac19dac4c36dd3a47bf2b8e2ae8dea5abdd,openstack/kayobe,master,If1671ac19dac4c36dd3a47bf2b8e2ae8dea5abdd,Remove deprecated kolla_tls_cert variable,MERGED,2021-12-13 16:31:37.000000000,2022-02-09 15:42:56.000000000,2022-02-09 15:37:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-13 16:31:37.000000000', 'files': ['ansible/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'releasenotes/notes/remove-kolla-tls-cert-b2852583b9a1e214.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/336d6382a62841a8c235c978a364ecd6fcceb469', 'message': 'Remove deprecated kolla_tls_cert variable\n\nChange-Id: If1671ac19dac4c36dd3a47bf2b8e2ae8dea5abdd\n'}]",4,821607,336d6382a62841a8c235c978a364ecd6fcceb469,12,3,1,15197,,,0,"Remove deprecated kolla_tls_cert variable

Change-Id: If1671ac19dac4c36dd3a47bf2b8e2ae8dea5abdd
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/07/821607/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'releasenotes/notes/remove-kolla-tls-cert-b2852583b9a1e214.yaml']",3,336d6382a62841a8c235c978a364ecd6fcceb469,,--- upgrade: - | The variable ``kolla_tls_cert`` which was deprecated in the Train release has been removed. Use ``kolla_external_tls_cert`` instead. ,,6,6
openstack%2Foctavia-tempest-plugin~master~I5c2db87975803b30ea230c3bbf5dab4b96da4614,openstack/octavia-tempest-plugin,master,I5c2db87975803b30ea230c3bbf5dab4b96da4614,Fix octavia-tempest-plugin on old tempest releases,MERGED,2022-02-04 07:59:10.000000000,2022-02-09 15:42:53.000000000,2022-02-09 15:30:24.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28609}, {'_account_id': 29244}, {'_account_id': 29681}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-02-04 07:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/625ba80b32e096c9e9e93040bf68a73e9438edc1', 'message': ""Fix octavia-tempest-plugin on old tempest releases\n\nThis is a follow-up commit for 'Add type to allow ECDSA keys'\n(I34ac429ab5442cef056ee8b63fcb2ba41e8b9b27), this commit allows\nusing octavia-tempest-plugin with older tempest releases\n(ex: in our jobs on stable/train).\nIt catches the exception if [validation].ssh_key_type is not\nsupported and returns its default value 'rsa'.\n\nChange-Id: I5c2db87975803b30ea230c3bbf5dab4b96da4614\n""}, {'number': 2, 'created': '2022-02-04 09:58:43.000000000', 'files': ['octavia_tempest_plugin/tests/act_stdby_scenario/v2/test_active_standby_iptables.py', 'octavia_tempest_plugin/tests/test_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b0da4f3ce5142a41c1b20651f5d457fc9c100054', 'message': ""Fix octavia-tempest-plugin on old tempest releases\n\nThis is a follow-up commit for 'Add type to allow ECDSA keys'\n(I34ac429ab5442cef056ee8b63fcb2ba41e8b9b27), this commit allows\nusing octavia-tempest-plugin with older tempest releases\n(ex: in our jobs on stable/train).\nIt catches the exception if [validation].ssh_key_type is not\nsupported and doesn't pass the ssh_key_type argument to tempest\nfunctions.\n\nChange-Id: I5c2db87975803b30ea230c3bbf5dab4b96da4614\n""}]",5,827811,b0da4f3ce5142a41c1b20651f5d457fc9c100054,16,8,2,29244,,,0,"Fix octavia-tempest-plugin on old tempest releases

This is a follow-up commit for 'Add type to allow ECDSA keys'
(I34ac429ab5442cef056ee8b63fcb2ba41e8b9b27), this commit allows
using octavia-tempest-plugin with older tempest releases
(ex: in our jobs on stable/train).
It catches the exception if [validation].ssh_key_type is not
supported and doesn't pass the ssh_key_type argument to tempest
functions.

Change-Id: I5c2db87975803b30ea230c3bbf5dab4b96da4614
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/11/827811/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/act_stdby_scenario/v2/test_active_standby_iptables.py', 'octavia_tempest_plugin/tests/test_base.py']",2,625ba80b32e096c9e9e93040bf68a73e9438edc1,,"from oslo_config import cfg def ssh_key_type(cls): # In case we're using octavia-tempest-plugin with old tempest releases # (for instance on stable/train) that don't have ssh_key_type, catch # the exception and return the default value 'rsa'. try: return CONF.validation.ssh_key_type except cfg.NoSuchOptError: return 'rsa' @classmethod ssh_key_type=cls.ssh_key_type()) ssh_key_type=cls.ssh_key_type())", ssh_key_type=CONF.validation.ssh_key_type) ssh_key_type=CONF.validation.ssh_key_type),15,4
openstack%2Fkolla-ansible~master~Ic10a23c42eab77661a95a7bb90a49531241ad886,openstack/kolla-ansible,master,Ic10a23c42eab77661a95a7bb90a49531241ad886,[docs] Rewrite operating-kolla upgrade-wise,MERGED,2021-09-16 18:06:48.000000000,2022-02-09 15:42:33.000000000,2022-02-09 15:29:49.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-16 18:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d02276342e261981d2f1c81f1781405b35d636f', 'message': '[docs] Rewrite operating-kolla upgrade-wise\n\nThis file was so wrong that it needed an urgent rewrite.\nAnd here it is.\n\nChange-Id: Ic10a23c42eab77661a95a7bb90a49531241ad886\n'}, {'number': 2, 'created': '2021-12-31 15:22:04.000000000', 'files': ['doc/source/user/operating-kolla.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15ac61244fec6f2410f422fd72951b7f059d151c', 'message': '[docs] Rewrite operating-kolla upgrade-wise\n\nThis file was so wrong that it needed an urgent rewrite.\nAnd here it is.\n\nChange-Id: Ic10a23c42eab77661a95a7bb90a49531241ad886\n'}]",52,809445,15ac61244fec6f2410f422fd72951b7f059d151c,25,5,2,30491,,,0,"[docs] Rewrite operating-kolla upgrade-wise

This file was so wrong that it needed an urgent rewrite.
And here it is.

Change-Id: Ic10a23c42eab77661a95a7bb90a49531241ad886
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/809445/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/operating-kolla.rst'],1,8d02276342e261981d2f1c81f1781405b35d636f,fix-docs-operating-kolla-upgrade,"Kolla and Kolla Ansible use the ``x.y.z`` `semver <https://semver.org/>`_ nomenclature for naming versions, with major version increasing with each news series. The users are advised to run the latest version of tools for the series the target, i.e., pinning on the major version, or even working directly with the relevant branch from Git repository. By default, Kolla Ansible will deploy or upgrade using the series name embedded in the internal config (``openstack_release``) and it is not recommended to tweak this unless using a local registry and a custom versioning policy. This procedure is for upgrading from series to series, not for doing updates inside a series. Inside a series, it is usually sufficient to just update the ``kolla-ansible`` package, rebuild (if needed) and repull the containers, and run ``kolla-ansible deploy`` again. Please follow release notes to check if there are any issues to be aware of. .. note:: Kolla Ansible implements a single command operation for upgrading an existing deployment... note:: On the operator/deployment node, a backup of the ``/etc/kolla`` directory (or the overridden one) may be desirable. .. note:: Please read the `release notes <https://docs.openstack.org/releasenotes/kolla-ansible/index.html>`__ for the series you are targetting, especially the `Upgrade notes` that we publish for your convenience and awareness. First, upgrade the ``kolla-ansible`` package (substitute ``NEW_VERSION`` for the ``kolla-ansible`` package of the next series - you can check it on the `Kolla releases page <https://releases.openstack.org/teams/kolla.html>`__): pip install --upgrade kolla-ansible==NEW_VERSION .. note:: If you are running from Git repository, then just checkout the relevant branch and run ``pip install --upgrade`` with the repository directory.The ``diff`` tool (or similar) is your friend in this task. If using a virtual environment, the sample inventories are in ``/path/to/venv/share/kolla-ansible/ansible/inventory/``, else they are most likely in ``/usr/local/share/kolla-ansible/ansible/inventory/``. Other files which may need manual updating are:For ``globals.yml``, it is best to follow the release notes (mentioned above).Run the command below to pull the new images on target hosts:At a convenient time, the upgrade can now be run.After this command is complete, the containers will have been recreated from the new images and all database schema upgrades and similar actions performed for you.","Kolla uses the ``x.y.z`` `semver <https://semver.org/>`_ nomenclature for naming versions. Kolla's initial Pike release was ``5.0.0`` and the initial Queens release is ``6.0.0``. The Kolla community commits to release z-stream updates every 45 days that resolve defects in the stable version in use and publish those images to the Docker Hub registry. To prevent confusion, the Kolla community recommends using an alpha identifier ``x.y.z.a`` where ``a`` represents any customization done on the part of the operator. For example, if an operator intends to modify one of the Docker files or the repos from the originals and build custom images for the Pike version, the operator should start with version 5.0.0.0 and increase alpha for each release. Alpha tag usage is at discretion of the operator. The alpha identifier could be a number as recommended or a string of the operator's choosing. To customize the version number uncomment ``openstack_release`` in globals.yml and specify the version number desired. If ``openstack_release`` is not specified, Kolla will deploy or upgrade using the version number information contained in the kolla-ansible package.Kolla implements a one command operation for upgrading an existing deployment consisting of a set of containers and configuration data to a new deployment. Varying degrees of success have been reported with upgrading the libvirt container with a running virtual machine in it. The libvirt upgrade still needs a bit more validation, but the Kolla community feels confident this mechanism can be used with the correct Docker storage driver. .. note:: Because of system technical limitations, upgrade of a libvirt container when using software emulation (``virt_type = qemu`` in nova.conf), does not work at all. This is acceptable because KVM is the recommended virtualization driver to use with Nova. .. note:: While there may be some cases where it is possible to upgrade by skipping this step (i.e. by upgrading only the ``openstack_release`` version) - generally, when looking at a more comprehensive upgrade, the kolla-ansible package itself should be upgraded first. This will include reviewing some of the configuration and inventory files. On the operator/master node, a backup of the ``/etc/kolla`` directory may be desirable. If upgrading from ``5.0.0`` to ``6.0.0``, upgrade the kolla-ansible package: pip install --upgrade kolla-ansible==6.0.0 If this is a minor upgrade, and you do not wish to upgrade kolla-ansible itself, you may skip this step.Use the newer ``6.0.0`` one as a starting template, and merge your existing inventory layout into a copy of the one from here:: /usr/share/kolla-ansible/ansible/inventory/ In addition the ``6.0.0`` sample configuration files should be taken from:: # CentOS /usr/share/kolla-ansible/etc_examples/kolla # Ubuntu /usr/local/share/kolla-ansible/etc_examples/kolla At this stage, files that are still at the ``5.0.0`` version - which need manual updating are:For ``globals.yml`` relevant changes should be merged into a copy of the new template, and then replace the file in ``/etc/kolla`` with the updated version.For the kolla docker images, the ``openstack_release`` is updated to ``6.0.0``: .. code-block:: yaml openstack_release: 6.0.0 Once the kolla release, the inventory file, and the relevant configuration files have been updated in this way, the operator may first want to 'pull' down the images to stage the ``6.0.0`` versions. This can be done safely ahead of time, and does not impact the existing services. (optional) Run the command to pull the ``6.0.0`` images for staging:At a convenient time, the upgrade can now be run (it will complete more quickly if the images have been staged ahead of time).After this command is complete the containers will have been recreated from the new images.",50,76
openstack%2Fcharm-deployment-guide~master~I66fd1e2fd6de4dd792e389fa50073fd1b655eda7,openstack/charm-deployment-guide,master,I66fd1e2fd6de4dd792e389fa50073fd1b655eda7,Include additional parameter needed for cinder-lvm migration,ABANDONED,2022-02-08 21:51:29.000000000,2022-02-09 15:23:49.000000000,,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 21:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c252fa95814823b3fe07d1d48a6a7051c5638c1e', 'message': ""Include additional parameter needed for cinder-lvm migration\n\nStarting with the release of Wallaby, the 'tgtadm' package is\nnow the default target helper, which doesn't work for cinder-lvm.\nAs such, we need to explicitly set the new package to 'lioadm'.\n\nCloses-Bug: #1949074\nChange-Id: I66fd1e2fd6de4dd792e389fa50073fd1b655eda7\n""}, {'number': 2, 'created': '2022-02-08 21:53:00.000000000', 'files': ['deploy-guide/source/cinder-lvm-migration.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/abd5034e91a3e135a40d1300e23c007b25759dc1', 'message': ""Include additional parameter needed for cinder-lvm migration\n\nStarting with the release of Wallaby, the 'tgtadm' package is\nnow the default target helper, which doesn't work for cinder-lvm.\nAs such, we need to explicitly set the new package to 'lioadm'.\n\nCloses-Bug: #1949074\nChange-Id: I66fd1e2fd6de4dd792e389fa50073fd1b655eda7\n""}]",2,828430,abd5034e91a3e135a40d1300e23c007b25759dc1,6,2,2,33717,,,0,"Include additional parameter needed for cinder-lvm migration

Starting with the release of Wallaby, the 'tgtadm' package is
now the default target helper, which doesn't work for cinder-lvm.
As such, we need to explicitly set the new package to 'lioadm'.

Closes-Bug: #1949074
Change-Id: I66fd1e2fd6de4dd792e389fa50073fd1b655eda7
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/30/828430/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/cinder-lvm-migration.rst'],1,c252fa95814823b3fe07d1d48a6a7051c5638c1e,bug/1949074,"Note that starting with Wallaby, an additional configuration option must be set in order migrations to complete successfully: .. code-block:: yaml config-flags: target_helper=lioadm ",,7,0
openstack%2Fkolla~stable%2Fussuri~I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,openstack/kolla,stable/ussuri,I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,Drop CentOS Linux 8 image builds,MERGED,2022-02-09 10:21:14.000000000,2022-02-09 15:23:27.000000000,2022-02-09 15:11:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-09 10:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/58fa0319d0f4d0fc7543eef8a0d99c5f57362284', 'message': ""Drop CentOS Linux 8 image builds\n\nIncluded patch:\n\nRemove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n""}, {'number': 2, 'created': '2022-02-09 10:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8850b8d4a727dfbbd501f044debebd9e592fbbde', 'message': 'Drop CentOS Linux 8 image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n'}, {'number': 3, 'created': '2022-02-09 10:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ccc410fee407a83f53cdca60ad0cb2796f6305af', 'message': 'Drop CentOS Linux 8 image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n'}, {'number': 4, 'created': '2022-02-09 10:52:45.000000000', 'files': ['doc/source/support_matrix.rst', '.zuul.d/centos.yaml', 'releasenotes/notes/centos-8-eol-4500333b5e01f448.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7ba238516f9552f2b053d339cac75acaa2014794', 'message': 'Drop CentOS Linux 8 image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n'}]",1,828403,7ba238516f9552f2b053d339cac75acaa2014794,16,3,4,22629,,,0,"Drop CentOS Linux 8 image builds

Change-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed
(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/828403/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support_matrix.rst', 'docker/openstack-base/Dockerfile.j2', '.zuul.d/centos.yaml', 'docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'releasenotes/notes/centos-8-eol-4500333b5e01f448.yaml', 'kolla/common/config.py']",7,58fa0319d0f4d0fc7543eef8a0d99c5f57362284,,"<<<<<<< HEAD (5c03d7 Merge ""openstack-base: drop anyjson"" into stable/ussuri)======= 'centos': {'name': 'quay.io/centos/centos', 'tag': 'stream8'}, 'rhel': {'name': 'registry.access.redhat.com/ubi8', 'tag': 'latest'}, 'debian': {'name': 'debian', 'tag': '10'}, 'ubuntu': {'name': 'ubuntu', 'tag': '20.04'}, >>>>>>> CHANGE (07f519 Drop CentOS Linux 8 image builds) conf.set_default('base_tag', DEFAULT_BASE_TAGS[conf.base]['tag']) conf.base_image = DEFAULT_BASE_TAGS[conf.base]['name']"," conf.set_default('base_tag', DEFAULT_BASE_TAGS.get(conf.base)) conf.base_image = conf.base",174,7
